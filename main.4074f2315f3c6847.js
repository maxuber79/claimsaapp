(self.webpackChunkclaims_app=self.webpackChunkclaims_app||[]).push([[792],{274:(In,$e,j)=>{"use strict";j.d($e,{H:()=>Q});var T=j(1397),O=j(8071);function Q(I,Se){return(0,O.T)(Se)?(0,T.Z)(I,Se,1):(0,T.Z)(I,1)}},345:(In,$e,j)=>{"use strict";j.d($e,{hE:()=>Se,up:()=>Et});var T=j(9361),O=j(1360);let Se=(()=>{class ht{_doc;constructor(Ye){this._doc=Ye}getTitle(){return this._doc.title}setTitle(Ye){this._doc.title=Ye||""}static \u0275fac=function(tn){return new(tn||ht)(O.KVO(T.q))};static \u0275prov=O.jDH({token:ht,factory:ht.\u0275fac,providedIn:"root"})}return ht})(),Et=(()=>{class ht{static \u0275fac=function(tn){return new(tn||ht)};static \u0275prov=O.jDH({token:ht,factory:function(tn){let Mt=null;return Mt=tn?new(tn||ht):O.KVO(St),Mt},providedIn:"root"})}return ht})(),St=(()=>{class ht extends Et{_doc;constructor(Ye){super(),this._doc=Ye}sanitize(Ye,tn){if(null==tn)return null;switch(Ye){case O.WPN.NONE:return tn;case O.WPN.HTML:return(0,O.ZF7)(tn,"HTML")?(0,O.rcV)(tn):(0,O.h9k)(this._doc,String(tn)).toString();case O.WPN.STYLE:return(0,O.ZF7)(tn,"Style")?(0,O.rcV)(tn):tn;case O.WPN.SCRIPT:if((0,O.ZF7)(tn,"Script"))return(0,O.rcV)(tn);throw new O.wOt(5200,!1);case O.WPN.URL:return(0,O.ZF7)(tn,"URL")?(0,O.rcV)(tn):(0,O.$MX)(String(tn));case O.WPN.RESOURCE_URL:if((0,O.ZF7)(tn,"ResourceURL"))return(0,O.rcV)(tn);throw new O.wOt(5201,!1);default:throw new O.wOt(5202,!1)}}bypassSecurityTrustHtml(Ye){return(0,O.Kcf)(Ye)}bypassSecurityTrustStyle(Ye){return(0,O.cWb)(Ye)}bypassSecurityTrustScript(Ye){return(0,O.UyX)(Ye)}bypassSecurityTrustUrl(Ye){return(0,O.osQ)(Ye)}bypassSecurityTrustResourceUrl(Ye){return(0,O.e5t)(Ye)}static \u0275fac=function(tn){return new(tn||ht)(O.KVO(T.q))};static \u0275prov=O.jDH({token:ht,factory:ht.\u0275fac,providedIn:"root"})}return ht})()},467:(In,$e,j)=>{"use strict";function T(Q,I,Se,Xe,Ie,fe,Oe){try{var me=Q[fe](Oe),he=me.value}catch(et){return void Se(et)}me.done?I(he):Promise.resolve(he).then(Xe,Ie)}function O(Q){return function(){var I=this,Se=arguments;return new Promise(function(Xe,Ie){var fe=Q.apply(I,Se);function Oe(he){T(fe,Xe,Ie,Oe,me,"next",he)}function me(he){T(fe,Xe,Ie,Oe,me,"throw",he)}Oe(void 0)})}}j.d($e,{A:()=>O})},520:(In,$e,j)=>{"use strict";j.d($e,{eJ:()=>Va,xI:()=>Jl,hg:()=>to,J1:()=>Di,x9:()=>qr,CI:()=>Vs});var T=j(467),O=j(7852),Q=j(6858),I=j(8041),Se=j(1635),Xe=j(1362);const At=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jt=new Q.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Zt=new I.Vy("@firebase/auth");function Et(b,...h){Zt.logLevel<=I.$b.ERROR&&Zt.error(`Auth (${O.MF}): ${b}`,...h)}function St(b,...h){throw Gt(b,...h)}function Ne(b,...h){return Gt(b,...h)}function rt(b,h,y){const C=Object.assign(Object.assign({},At()),{[h]:y});return new Q.FA("auth","Firebase",C).create(h,{appName:b.name})}function Ze(b){return rt(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gt(b,...h){if("string"!=typeof b){const y=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(y,...C)}return jt.create(b,...h)}function It(b,h,...y){if(!b)throw Gt(h,...y)}function ct(b){const h="INTERNAL ASSERTION FAILED: "+b;throw Et(h),new Error(h)}function Un(b,h){b||ct(h)}function Mn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function ht(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class tn{constructor(h,y){this.shortDelay=h,this.longDelay=y,Un(y>h,"Short delay should be less than long delay!"),this.isMobile=(0,Q.jZ)()||(0,Q.lV)()}get(){return function wn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function qn(){return"http:"===ht()||"https:"===ht()}()||(0,Q.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mt(b,h){Un(b.emulator,"Emulator should always be set here");const{url:y}=b.emulator;return h?`${y}${h.startsWith("/")?h.slice(1):h}`:y}class Ke{static initialize(h,y,C){this.fetchImpl=h,y&&(this.headersImpl=y),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},le=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],de=new tn(3e4,6e4);function ye(b,h){return b.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:b.tenantId}):h}function re(b,h,y,C){return pe.apply(this,arguments)}function pe(){return(pe=(0,T.A)(function*(b,h,y,C,B={}){return qe(b,B,(0,T.A)(function*(){let J={},Le={};C&&("GET"===h?Le=C:J={body:JSON.stringify(C)});const tt=(0,Q.Am)(Object.assign({key:b.config.apiKey},Le)).slice(1),Bt=yield b._getAdditionalHeaders();Bt["Content-Type"]="application/json",b.languageCode&&(Bt["X-Firebase-Locale"]=b.languageCode);const mn=Object.assign({method:h,headers:Bt},J);return(0,Q.c1)()||(mn.referrerPolicy="no-referrer"),b.emulatorConfig&&(0,Q.zJ)(b.emulatorConfig.host)&&(mn.credentials="include"),Ke.fetch()(yield nr(b,b.config.apiHost,y,tt),mn)}))})).apply(this,arguments)}function qe(b,h,y){return yt.apply(this,arguments)}function yt(){return(yt=(0,T.A)(function*(b,h,y){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},Y),h);try{const B=new Hn(b),J=yield Promise.race([y(),B.promise]);B.clearNetworkTimeout();const Le=yield J.json();if("needConfirmation"in Le)throw Qt(b,"account-exists-with-different-credential",Le);if(J.ok&&!("errorMessage"in Le))return Le;{const tt=J.ok?Le.errorMessage:Le.error.message,[Bt,mn]=tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Bt)throw Qt(b,"credential-already-in-use",Le);if("EMAIL_EXISTS"===Bt)throw Qt(b,"email-already-in-use",Le);if("USER_DISABLED"===Bt)throw Qt(b,"user-disabled",Le);const $n=C[Bt]||Bt.toLowerCase().replace(/[_\s]+/g,"-");if(mn)throw rt(b,$n,mn);St(b,$n)}}catch(B){if(B instanceof Q.g)throw B;St(b,"network-request-failed",{message:String(B)})}})).apply(this,arguments)}function on(b,h,y,C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,T.A)(function*(b,h,y,C,B={}){const J=yield re(b,h,y,C,B);return"mfaPendingCredential"in J&&St(b,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function nr(b,h,y,C){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,T.A)(function*(b,h,y,C){const B=`${h}${y}?${C}`,J=b,Le=J.config.emulator?Mt(b.config,B):`${b.config.apiScheme}://${B}`;return le.includes(y)&&(yield J._persistenceManagerAvailable,"COOKIE"===J._getPersistenceType())?J._getPersistence()._getFinalTarget(Le).toString():Le})).apply(this,arguments)}function Xn(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((y,C)=>{this.timer=setTimeout(()=>C(Ne(this.auth,"network-request-failed")),de.get())})}}function Qt(b,h,y){const C={appName:b.name};y.email&&(C.email=y.email),y.phoneNumber&&(C.phoneNumber=y.phoneNumber);const B=Ne(b,h,C);return B.customData._tokenResponse=y,B}function tr(b){return void 0!==b&&void 0!==b.enterprise}class Dn{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const y of this.recaptchaEnforcementState)if(y.provider&&y.provider===h)return Xn(y.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function fn(){return(fn=(0,T.A)(function*(b,h){return re(b,"GET","/v2/recaptchaConfig",ye(b,h))})).apply(this,arguments)}function sn(){return(sn=(0,T.A)(function*(b,h){return re(b,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function lt(b,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,T.A)(function*(b,h){return re(b,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Qn(b){if(b)try{const h=new Date(Number(b));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function li(){return(li=(0,T.A)(function*(b,h=!1){const y=(0,Q.Ku)(b),C=yield y.getIdToken(h),B=Dr(C);It(B&&B.exp&&B.auth_time&&B.iat,y.auth,"internal-error");const J="object"==typeof B.firebase?B.firebase:void 0,Le=J?.sign_in_provider;return{claims:B,token:C,authTime:Qn(gi(B.auth_time)),issuedAtTime:Qn(gi(B.iat)),expirationTime:Qn(gi(B.exp)),signInProvider:Le||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function gi(b){return 1e3*Number(b)}function Dr(b){const[h,y,C]=b.split(".");if(void 0===h||void 0===y||void 0===C)return Et("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,Q.u)(y);return B?JSON.parse(B):(Et("Failed to decode base64 JWT payload"),null)}catch(B){return Et("Caught error parsing JWT payload as JSON",B?.toString()),null}}function Ei(b){const h=Dr(b);return It(h,"internal-error"),It(typeof h.exp<"u","internal-error"),It(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function Cr(b,h){return di.apply(this,arguments)}function di(){return(di=(0,T.A)(function*(b,h,y=!1){if(y)return h;try{return yield h}catch(C){throw C instanceof Q.g&&function lr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}class sr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var y;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const B=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(h=!1){var y=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,T.A)(function*(){yield y.iteration()}),C)}iteration(){var h=this;return(0,T.A)(function*(){try{yield h.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&h.schedule(!0))}h.schedule()})()}}class mi{constructor(h,y){this.createdAt=h,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qn(this.lastLoginAt),this.creationTime=Qn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hr(b){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,T.A)(function*(b){var h;const y=b.auth,C=yield b.getIdToken(),B=yield Cr(b,lt(y,{idToken:C}));It(B?.users.length,y,"internal-error");const J=B.users[0];b._notifyReloadListener(J);const Le=null!==(h=J.providerUserInfo)&&void 0!==h&&h.length?Zi(J.providerUserInfo):[],tt=function Gn(b,h){return[...b.filter(C=>!h.some(B=>B.providerId===C.providerId)),...h]}(b.providerData,Le),$n=!!b.isAnonymous&&!(b.email&&J.passwordHash||tt?.length),Wn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:tt,metadata:new mi(J.createdAt,J.lastLoginAt),isAnonymous:$n};Object.assign(b,Wn)})).apply(this,arguments)}function xr(){return(xr=(0,T.A)(function*(b){const h=(0,Q.Ku)(b);yield hr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Zi(b){return b.map(h=>{var{providerId:y}=h,C=(0,Se.Tt)(h,["providerId"]);return{providerId:y,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ar(){return(Ar=(0,T.A)(function*(b,h){const y=yield qe(b,{},(0,T.A)(function*(){const C=(0,Q.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:B,apiKey:J}=b.config,Le=yield nr(b,B,"/v1/token",`key=${J}`),tt=yield b._getAdditionalHeaders();return tt["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(Le,{method:"POST",headers:tt,body:C})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}function ai(){return(ai=(0,T.A)(function*(b,h){return re(b,"POST","/v2/accounts:revokeToken",ye(b,h))})).apply(this,arguments)}class Vi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){It(h.idToken,"internal-error"),It(typeof h.idToken<"u","internal-error"),It(typeof h.refreshToken<"u","internal-error");const y="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):Ei(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,y)}updateFromIdToken(h){It(0!==h.length,"internal-error");const y=Ei(h);this.updateTokensAndExpiration(h,null,y)}getToken(h){var y=this;return(0,T.A)(function*(C,B=!1){return B||!y.accessToken||y.isExpired?(It(y.refreshToken,C,"user-token-expired"),y.refreshToken?(yield y.refresh(C,y.refreshToken),y.accessToken):null):y.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,y){var C=this;return(0,T.A)(function*(){const{accessToken:B,refreshToken:J,expiresIn:Le}=yield function Ve(b,h){return Ar.apply(this,arguments)}(h,y);C.updateTokensAndExpiration(B,J,Number(Le))})()}updateTokensAndExpiration(h,y,C){this.refreshToken=y||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,y){const{refreshToken:C,accessToken:B,expirationTime:J}=y,Le=new Vi;return C&&(It("string"==typeof C,"internal-error",{appName:h}),Le.refreshToken=C),B&&(It("string"==typeof B,"internal-error",{appName:h}),Le.accessToken=B),J&&(It("number"==typeof J,"internal-error",{appName:h}),Le.expirationTime=J),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Vi,this.toJSON())}_performRefresh(){return ct("not implemented")}}function _n(b,h){It("string"==typeof b||typeof b>"u","internal-error",{appName:h})}class gr{constructor(h){var{uid:y,auth:C,stsTokenManager:B}=h,J=(0,Se.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=C,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new mi(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(h){var y=this;return(0,T.A)(function*(){const C=yield Cr(y,y.stsTokenManager.getToken(y.auth,h));return It(C,y.auth,"internal-error"),y.accessToken!==C&&(y.accessToken=C,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),C})()}getIdTokenResult(h){return function si(b){return li.apply(this,arguments)}(this,h)}reload(){return function bi(b){return xr.apply(this,arguments)}(this)}_assign(h){this!==h&&(It(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(y=>Object.assign({},y)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const y=new gr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(h){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var y=this;return(0,T.A)(function*(C,B=!1){let J=!1;C.idToken&&C.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(C),J=!0),B&&(yield hr(y)),yield y.auth._persistUserIfCurrent(y),J&&y.auth._notifyListenersIfCurrent(y)}).apply(this,arguments)}delete(){var h=this;return(0,T.A)(function*(){if((0,O.xZ)(h.auth.app))return Promise.reject(Ze(h.auth));const y=yield h.getIdToken();return yield Cr(h,function fr(b,h){return sn.apply(this,arguments)}(h.auth,{idToken:y})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,y){var C,B,J,Le,tt,Bt,mn,$n;const Wn=null!==(C=y.displayName)&&void 0!==C?C:void 0,Rr=null!==(B=y.email)&&void 0!==B?B:void 0,Ro=null!==(J=y.phoneNumber)&&void 0!==J?J:void 0,no=null!==(Le=y.photoURL)&&void 0!==Le?Le:void 0,Kc=null!==(tt=y.tenantId)&&void 0!==tt?tt:void 0,ed=null!==(Bt=y._redirectEventId)&&void 0!==Bt?Bt:void 0,vs=null!==(mn=y.createdAt)&&void 0!==mn?mn:void 0,Dg=null!==($n=y.lastLoginAt)&&void 0!==$n?$n:void 0,{uid:nl,emailVerified:Ag,isAnonymous:_u,providerData:Us,stsTokenManager:yh}=y;It(nl&&yh,h,"internal-error");const Uf=Vi.fromJSON(this.name,yh);It("string"==typeof nl,h,"internal-error"),_n(Wn,h.name),_n(Rr,h.name),It("boolean"==typeof Ag,h,"internal-error"),It("boolean"==typeof _u,h,"internal-error"),_n(Ro,h.name),_n(no,h.name),_n(Kc,h.name),_n(ed,h.name),_n(vs,h.name),_n(Dg,h.name);const Es=new gr({uid:nl,auth:h,email:Rr,emailVerified:Ag,displayName:Wn,isAnonymous:_u,photoURL:no,phoneNumber:Ro,tenantId:Kc,stsTokenManager:Uf,createdAt:vs,lastLoginAt:Dg});return Us&&Array.isArray(Us)&&(Es.providerData=Us.map(qc=>Object.assign({},qc))),ed&&(Es._redirectEventId=ed),Es}static _fromIdTokenResponse(h,y){return(0,T.A)(function*(C,B,J=!1){const Le=new Vi;Le.updateFromServerResponse(B);const tt=new gr({uid:B.localId,auth:C,stsTokenManager:Le,isAnonymous:J});return yield hr(tt),tt}).apply(this,arguments)}static _fromGetAccountInfoResponse(h,y,C){return(0,T.A)(function*(){const B=y.users[0];It(void 0!==B.localId,"internal-error");const J=void 0!==B.providerUserInfo?Zi(B.providerUserInfo):[],Le=!(B.email&&B.passwordHash||J?.length),tt=new Vi;tt.updateFromIdToken(C);const Bt=new gr({uid:B.localId,auth:h,stsTokenManager:tt,isAnonymous:Le}),mn={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:J,metadata:new mi(B.createdAt,B.lastLoginAt),isAnonymous:!(B.email&&B.passwordHash||J?.length)};return Object.assign(Bt,mn),Bt})()}}const Tr=new Map;function Ui(b){Un(b instanceof Function,"Expected a class definition");let h=Tr.get(b);return h?(Un(h instanceof b,"Instance stored in cache mismatched with class"),h):(h=new b,Tr.set(b,h),h)}const xi=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,T.A)(function*(){return!0})()}_set(y,C){var B=this;return(0,T.A)(function*(){B.storage[y]=C})()}_get(y){var C=this;return(0,T.A)(function*(){const B=C.storage[y];return void 0===B?null:B})()}_remove(y){var C=this;return(0,T.A)(function*(){delete C.storage[y]})()}_addListener(y,C){}_removeListener(y,C){}}return b.type="NONE",b})();function De(b,h,y){return`firebase:${b}:${h}:${y}`}class _e{constructor(h,y,C){this.persistence=h,this.auth=y,this.userKey=C;const{config:B,name:J}=this.auth;this.fullUserKey=De(this.userKey,B.apiKey,J),this.fullPersistenceKey=De("persistence",B.apiKey,J),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,T.A)(function*(){const y=yield h.persistence._get(h.fullUserKey);if(!y)return null;if("string"==typeof y){const C=yield lt(h.auth,{idToken:y}).catch(()=>{});return C?gr._fromGetAccountInfoResponse(h.auth,C,y):null}return gr._fromJSON(h.auth,y)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var y=this;return(0,T.A)(function*(){if(y.persistence===h)return;const C=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=h,C?y.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,y){return(0,T.A)(function*(C,B,J="authUser"){if(!B.length)return new _e(Ui(xi),C,J);const Le=(yield Promise.all(B.map(function(){var Wn=(0,T.A)(function*(Rr){if(yield Rr._isAvailable())return Rr});return function(Rr){return Wn.apply(this,arguments)}}()))).filter(Wn=>Wn);let tt=Le[0]||Ui(xi);const Bt=De(J,C.config.apiKey,C.name);let mn=null;for(const Wn of B)try{const Rr=yield Wn._get(Bt);if(Rr){let Ro;if("string"==typeof Rr){const no=yield lt(C,{idToken:Rr}).catch(()=>{});if(!no)break;Ro=yield gr._fromGetAccountInfoResponse(C,no,Rr)}else Ro=gr._fromJSON(C,Rr);Wn!==tt&&(mn=Ro),tt=Wn;break}}catch{}const $n=Le.filter(Wn=>Wn._shouldAllowMigration);return tt._shouldAllowMigration&&$n.length?(tt=$n[0],mn&&(yield tt._set(Bt,mn.toJSON())),yield Promise.all(B.map(function(){var Wn=(0,T.A)(function*(Rr){if(Rr!==tt)try{yield Rr._remove(Bt)}catch{}});return function(Rr){return Wn.apply(this,arguments)}}())),new _e(tt,C,J)):new _e(tt,C,J)}).apply(this,arguments)}}function Be(b){const h=b.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Rn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Ot(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ne(h))return"Blackberry";if(ae(h))return"Webos";if(Je(h))return"Safari";if((h.includes("chrome/")||Xt(h))&&!h.includes("edge/"))return"Chrome";if(mr(h))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Ot(b=(0,Q.ZQ)()){return/firefox\//i.test(b)}function Je(b=(0,Q.ZQ)()){const h=b.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Xt(b=(0,Q.ZQ)()){return/crios\//i.test(b)}function Rn(b=(0,Q.ZQ)()){return/iemobile/i.test(b)}function mr(b=(0,Q.ZQ)()){return/android/i.test(b)}function ne(b=(0,Q.ZQ)()){return/blackberry/i.test(b)}function ae(b=(0,Q.ZQ)()){return/webos/i.test(b)}function Ce(b=(0,Q.ZQ)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function ve(b=(0,Q.ZQ)()){return Ce(b)||mr(b)||ae(b)||ne(b)||/windows phone/i.test(b)||Rn(b)}function Fe(b,h=[]){let y;switch(b){case"Browser":y=Be((0,Q.ZQ)());break;case"Worker":y=`${Be((0,Q.ZQ)())}-${b}`;break;default:y=b}const C=h.length?h.join(","):"FirebaseCore-web";return`${y}/JsCore/${O.MF}/${C}`}class Rt{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,y){const C=J=>new Promise((Le,tt)=>{try{Le(h(J))}catch(Bt){tt(Bt)}});C.onAbort=y,this.queue.push(C);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(h){var y=this;return(0,T.A)(function*(){if(y.auth.currentUser===h)return;const C=[];try{for(const B of y.queue)yield B(h),B.onAbort&&C.push(B.onAbort)}catch(B){C.reverse();for(const J of C)try{J()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:B?.message})}})()}}function pt(){return(pt=(0,T.A)(function*(b,h={}){return re(b,"GET","/v2/passwordPolicy",ye(b,h))})).apply(this,arguments)}class nn{constructor(h){var y,C,B,J;const Le=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=Le.minPasswordLength)&&void 0!==y?y:6,Le.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Le.maxPasswordLength),void 0!==Le.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Le.containsLowercaseCharacter),void 0!==Le.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Le.containsUppercaseCharacter),void 0!==Le.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Le.containsNumericCharacter),void 0!==Le.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Le.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(B=null===(C=h.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==B?B:"",this.forceUpgradeOnSignin=null!==(J=h.forceUpgradeOnSignin)&&void 0!==J&&J,this.schemaVersion=h.schemaVersion}validatePassword(h){var y,C,B,J,Le,tt;const Bt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Bt),this.validatePasswordCharacterOptions(h,Bt),Bt.isValid&&(Bt.isValid=null===(y=Bt.meetsMinPasswordLength)||void 0===y||y),Bt.isValid&&(Bt.isValid=null===(C=Bt.meetsMaxPasswordLength)||void 0===C||C),Bt.isValid&&(Bt.isValid=null===(B=Bt.containsLowercaseLetter)||void 0===B||B),Bt.isValid&&(Bt.isValid=null===(J=Bt.containsUppercaseLetter)||void 0===J||J),Bt.isValid&&(Bt.isValid=null===(Le=Bt.containsNumericCharacter)||void 0===Le||Le),Bt.isValid&&(Bt.isValid=null===(tt=Bt.containsNonAlphanumericCharacter)||void 0===tt||tt),Bt}validatePasswordLengthOptions(h,y){const C=this.customStrengthOptions.minPasswordLength,B=this.customStrengthOptions.maxPasswordLength;C&&(y.meetsMinPasswordLength=h.length>=C),B&&(y.meetsMaxPasswordLength=h.length<=B)}validatePasswordCharacterOptions(h,y){let C;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let B=0;B<h.length;B++)C=h.charAt(B),this.updatePasswordCharacterOptionsStatuses(y,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(h,y,C,B,J){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=B)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=J))}}class Bn{constructor(h,y,C,B){this.app=h,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=C,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kn(this),this.idTokenSubscription=new Kn(this),this.beforeStateQueue=new Rt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=B.sdkClientVersion,this._persistenceManagerAvailable=new Promise(J=>this._resolvePersistenceManagerAvailable=J)}_initializeWithPersistence(h,y){var C=this;return y&&(this._popupRedirectResolver=Ui(y)),this._initializationPromise=this.queue((0,T.A)(function*(){var B,J,Le;if(!C._deleted&&(C.persistenceManager=yield _e.create(C,h),null===(B=C._resolvePersistenceManagerAvailable)||void 0===B||B.call(C),!C._deleted)){if(null!==(J=C._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(y),C.lastNotifiedUid=(null===(Le=C.currentUser)||void 0===Le?void 0:Le.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,T.A)(function*(){if(h._deleted)return;const y=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||y){if(h.currentUser&&y&&h.currentUser.uid===y.uid)return h._currentUser._assign(y),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(y,!0)}})()}initializeCurrentUserFromIdToken(h){var y=this;return(0,T.A)(function*(){try{const C=yield lt(y,{idToken:h}),B=yield gr._fromGetAccountInfoResponse(y,C,h);yield y.directlySetCurrentUser(B)}catch(C){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",C),yield y.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var y=this;return(0,T.A)(function*(){var C;if((0,O.xZ)(y.app)){const tt=y.app.settings.authIdToken;return tt?new Promise(Bt=>{setTimeout(()=>y.initializeCurrentUserFromIdToken(tt).then(Bt,Bt))}):y.directlySetCurrentUser(null)}const B=yield y.assertedPersistence.getCurrentUser();let J=B,Le=!1;if(h&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const tt=null===(C=y.redirectUser)||void 0===C?void 0:C._redirectEventId,Bt=J?._redirectEventId,mn=yield y.tryRedirectSignIn(h);(!tt||tt===Bt)&&mn?.user&&(J=mn.user,Le=!0)}if(!J)return y.directlySetCurrentUser(null);if(!J._redirectEventId){if(Le)try{yield y.beforeStateQueue.runMiddleware(J)}catch(tt){J=B,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(tt))}return J?y.reloadAndSetCurrentUserOrClear(J):y.directlySetCurrentUser(null)}return It(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===J._redirectEventId?y.directlySetCurrentUser(J):y.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(h){var y=this;return(0,T.A)(function*(){let C=null;try{C=yield y._popupRedirectResolver._completeRedirectFn(y,h,!0)}catch{yield y._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var y=this;return(0,T.A)(function*(){try{yield hr(h)}catch(C){if("auth/network-request-failed"!==C?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ye(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var h=this;return(0,T.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var y=this;return(0,T.A)(function*(){if((0,O.xZ)(y.app))return Promise.reject(Ze(y));const C=h?(0,Q.Ku)(h):null;return C&&It(C.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(C&&C._clone(y))})()}_updateCurrentUser(h){var y=this;return(0,T.A)(function*(C,B=!1){if(!y._deleted)return C&&It(y.tenantId===C.tenantId,y,"tenant-id-mismatch"),B||(yield y.beforeStateQueue.runMiddleware(C)),y.queue((0,T.A)(function*(){yield y.directlySetCurrentUser(C),y.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,T.A)(function*(){return(0,O.xZ)(h.app)?Promise.reject(Ze(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var y=this;return(0,O.xZ)(this.app)?Promise.reject(Ze(this)):this.queue((0,T.A)(function*(){yield y.assertedPersistence.setPersistence(Ui(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var y=this;return(0,T.A)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const C=y._getPasswordPolicyInternal();return C.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,T.A)(function*(){const y=yield function vt(b){return pt.apply(this,arguments)}(h),C=new nn(y);null===h.tenantId?h._projectPasswordPolicy=C:h._tenantPasswordPolicies[h.tenantId]=C})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(h){this._errorFactory=new Q.FA("auth","Firebase",h())}onAuthStateChanged(h,y,C){return this.registerStateListener(this.authStateSubscription,h,y,C)}beforeAuthStateChanged(h,y){return this.beforeStateQueue.pushCallback(h,y)}onIdTokenChanged(h,y,C){return this.registerStateListener(this.idTokenSubscription,h,y,C)}authStateReady(){return new Promise((h,y)=>{if(this.currentUser)h();else{const C=this.onAuthStateChanged(()=>{C(),h()},y)}})}revokeAccessToken(h){var y=this;return(0,T.A)(function*(){if(y.currentUser){const C=yield y.currentUser.getIdToken(),B={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:C};null!=y.tenantId&&(B.tenantId=y.tenantId),yield function Yi(b,h){return ai.apply(this,arguments)}(y,B)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,y){var C=this;return(0,T.A)(function*(){const B=yield C.getOrInitRedirectPersistenceManager(y);return null===h?B.removeCurrentUser():B.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var y=this;return(0,T.A)(function*(){if(!y.redirectPersistenceManager){const C=h&&Ui(h)||y._popupRedirectResolver;It(C,y,"argument-error"),y.redirectPersistenceManager=yield _e.create(y,[Ui(C._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(h){var y=this;return(0,T.A)(function*(){var C,B;return y._isInitialized&&(yield y.queue((0,T.A)(function*(){}))),(null===(C=y._currentUser)||void 0===C?void 0:C._redirectEventId)===h?y._currentUser:(null===(B=y.redirectUser)||void 0===B?void 0:B._redirectEventId)===h?y.redirectUser:null})()}_persistUserIfCurrent(h){var y=this;return(0,T.A)(function*(){if(h===y.currentUser)return y.queue((0,T.A)(function*(){return y.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(y=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,y,C,B){if(this._deleted)return()=>{};const J="function"==typeof y?y:y.next.bind(y);let Le=!1;const tt=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(tt,this,"internal-error"),tt.then(()=>{Le||J(this.currentUser)}),"function"==typeof y){const Bt=h.addObserver(y,C,B);return()=>{Le=!0,Bt()}}{const Bt=h.addObserver(y);return()=>{Le=!0,Bt()}}}directlySetCurrentUser(h){var y=this;return(0,T.A)(function*(){y.currentUser&&y.currentUser!==h&&y._currentUser._stopProactiveRefresh(),h&&y.isProactiveRefreshEnabled&&h._startProactiveRefresh(),y.currentUser=h,h?yield y.assertedPersistence.setCurrentUser(h):yield y.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Fe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,T.A)(function*(){var y;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const B=yield null===(y=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();B&&(C["X-Firebase-Client"]=B);const J=yield h._getAppCheckToken();return J&&(C["X-Firebase-AppCheck"]=J),C})()}_getAppCheckToken(){var h=this;return(0,T.A)(function*(){var y;if((0,O.xZ)(h.app)&&h.app.settings.appCheckToken)return h.app.settings.appCheckToken;const C=yield null===(y=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return C?.error&&function mt(b,...h){Zt.logLevel<=I.$b.WARN&&Zt.warn(`Auth (${O.MF}): ${b}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function un(b){return(0,Q.Ku)(b)}class Kn{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Q.tD)(y=>this.observer=y)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ar={loadJS:()=>(0,T.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ri(b){return ar.loadJS(b)}function Ut(b){return`__${b}${Math.floor(1e6*Math.random())}`}class rr{constructor(){this.enterprise=new zr}ready(h){h()}execute(h,y){return Promise.resolve("token")}render(h,y){return""}}class zr{ready(h){h()}execute(h,y){return Promise.resolve("token")}render(h,y){return""}}const Wi="NO_RECAPTCHA";class Bo{constructor(h){this.type="recaptcha-enterprise",this.auth=un(h)}verify(){var h=this;return(0,T.A)(function*(y="verify",C=!1){function J(){return J=(0,T.A)(function*(tt){if(!C){if(null==tt.tenantId&&null!=tt._agentRecaptchaConfig)return tt._agentRecaptchaConfig.siteKey;if(null!=tt.tenantId&&void 0!==tt._tenantRecaptchaConfigs[tt.tenantId])return tt._tenantRecaptchaConfigs[tt.tenantId].siteKey}return new Promise(function(){var Bt=(0,T.A)(function*(mn,$n){(function Si(b,h){return fn.apply(this,arguments)})(tt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wn=>{if(void 0!==Wn.recaptchaKey){const Rr=new Dn(Wn);return null==tt.tenantId?tt._agentRecaptchaConfig=Rr:tt._tenantRecaptchaConfigs[tt.tenantId]=Rr,mn(Rr.siteKey)}$n(new Error("recaptcha Enterprise site key undefined"))}).catch(Wn=>{$n(Wn)})});return function(mn,$n){return Bt.apply(this,arguments)}}())}),J.apply(this,arguments)}function Le(tt,Bt,mn){const $n=window.grecaptcha;tr($n)?$n.enterprise.ready(()=>{$n.enterprise.execute(tt,{action:y}).then(Wn=>{Bt(Wn)}).catch(()=>{Bt(Wi)})}):mn(Error("No reCAPTCHA enterprise script loaded."))}return h.auth.settings.appVerificationDisabledForTesting?(new rr).execute("siteKey",{action:"verify"}):new Promise((tt,Bt)=>{(function B(tt){return J.apply(this,arguments)})(h.auth).then(mn=>{if(!C&&tr(window.grecaptcha))Le(mn,tt,Bt);else{if(typeof window>"u")return void Bt(new Error("RecaptchaVerifier is only supported in browser"));let $n=function Ue(){return ar.recaptchaEnterpriseScript}();0!==$n.length&&($n+=mn),Ri($n).then(()=>{Le(mn,tt,Bt)}).catch(Wn=>{Bt(Wn)})}}).catch(mn=>{Bt(mn)})})}).apply(this,arguments)}}function io(b,h,y){return $.apply(this,arguments)}function $(){return($=(0,T.A)(function*(b,h,y,C=!1,B=!1){const J=new Bo(b);let Le;if(B)Le=Wi;else try{Le=yield J.verify(y)}catch{Le=yield J.verify(y,!0)}const tt=Object.assign({},h);return"mfaSmsEnrollment"===y||"mfaSmsSignIn"===y?("phoneEnrollmentInfo"in tt?Object.assign(tt,{phoneEnrollmentInfo:{phoneNumber:tt.phoneEnrollmentInfo.phoneNumber,recaptchaToken:tt.phoneEnrollmentInfo.recaptchaToken,captchaResponse:Le,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in tt&&Object.assign(tt,{phoneSignInInfo:{recaptchaToken:tt.phoneSignInInfo.recaptchaToken,captchaResponse:Le,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),tt):(Object.assign(tt,C?{captchaResp:Le}:{captchaResponse:Le}),Object.assign(tt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(tt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),tt)})).apply(this,arguments)}function ge(b,h,y,C,B){return q.apply(this,arguments)}function q(){return q=(0,T.A)(function*(b,h,y,C,B){var J,Le;if("EMAIL_PASSWORD_PROVIDER"===B){if(null!==(J=b._getRecaptchaConfig())&&void 0!==J&&J.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const tt=yield io(b,h,y,"getOobCode"===y);return C(b,tt)}return C(b,h).catch(function(){var tt=(0,T.A)(function*(Bt){if("auth/missing-recaptcha-token"===Bt.code){console.log(`${y} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const mn=yield io(b,h,y,"getOobCode"===y);return C(b,mn)}return Promise.reject(Bt)});return function(Bt){return tt.apply(this,arguments)}}())}if("PHONE_PROVIDER"===B){if(null!==(Le=b._getRecaptchaConfig())&&void 0!==Le&&Le.isProviderEnabled("PHONE_PROVIDER")){const tt=yield io(b,h,y);return C(b,tt).catch(function(){var Bt=(0,T.A)(function*(mn){var $n;if("AUDIT"===(null===($n=b._getRecaptchaConfig())||void 0===$n?void 0:$n.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===mn.code||"auth/invalid-app-credential"===mn.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${y} flow.`);const Wn=yield io(b,h,y,!1,!0);return C(b,Wn)}return Promise.reject(mn)});return function(mn){return Bt.apply(this,arguments)}}())}{const tt=yield io(b,h,y,!1,!0);return C(b,tt)}}return Promise.reject(B+" provider is not supported.")}),q.apply(this,arguments)}function ci(b){const h=b.indexOf(":");return h<0?"":b.substr(0,h+1)}function Zr(b){if(!b)return null;const h=Number(b);return isNaN(h)?null:h}class Ln{constructor(h,y){this.providerId=h,this.signInMethod=y}toJSON(){return ct("not implemented")}_getIdTokenResponse(h){return ct("not implemented")}_linkToIdToken(h,y){return ct("not implemented")}_getReauthenticationResolver(h){return ct("not implemented")}}function Wo(b,h){return ce.apply(this,arguments)}function ce(){return(ce=(0,T.A)(function*(b,h){return re(b,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function ft(b,h){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,T.A)(function*(b,h){return on(b,"POST","/v1/accounts:signInWithPassword",ye(b,h))})).apply(this,arguments)}function jn(){return(jn=(0,T.A)(function*(b,h){return re(b,"POST","/v1/accounts:sendOobCode",ye(b,h))})).apply(this,arguments)}function xs(b,h){return ni.apply(this,arguments)}function ni(){return(ni=(0,T.A)(function*(b,h){return function vn(b,h){return jn.apply(this,arguments)}(b,h)})).apply(this,arguments)}function Zo(){return(Zo=(0,T.A)(function*(b,h){return on(b,"POST","/v1/accounts:signInWithEmailLink",ye(b,h))})).apply(this,arguments)}function bs(){return(bs=(0,T.A)(function*(b,h){return on(b,"POST","/v1/accounts:signInWithEmailLink",ye(b,h))})).apply(this,arguments)}class cs extends Ln{constructor(h,y,C,B=null){super("password",C),this._email=h,this._password=y,this._tenantId=B}static _fromEmailAndPassword(h,y){return new cs(h,y,"password")}static _fromEmailAndCode(h,y,C=null){return new cs(h,y,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const y="string"==typeof h?JSON.parse(h):h;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(h){var y=this;return(0,T.A)(function*(){switch(y.signInMethod){case"password":return ge(h,{returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ft,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Mo(b,h){return Zo.apply(this,arguments)}(h,{email:y._email,oobCode:y._password});default:St(h,"internal-error")}})()}_linkToIdToken(h,y){var C=this;return(0,T.A)(function*(){switch(C.signInMethod){case"password":return ge(h,{idToken:y,returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wo,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function No(b,h){return bs.apply(this,arguments)}(h,{idToken:y,email:C._email,oobCode:C._password});default:St(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Or(b,h){return Go.apply(this,arguments)}function Go(){return(Go=(0,T.A)(function*(b,h){return on(b,"POST","/v1/accounts:signInWithIdp",ye(b,h))})).apply(this,arguments)}class Oo{constructor(h){var y,C,B,J,Le,tt;const Bt=(0,Q.I9)((0,Q.hp)(h)),mn=null!==(y=Bt.apiKey)&&void 0!==y?y:null,$n=null!==(C=Bt.oobCode)&&void 0!==C?C:null,Wn=function ji(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=Bt.mode)&&void 0!==B?B:null);It(mn&&$n&&Wn,"argument-error"),this.apiKey=mn,this.operation=Wn,this.code=$n,this.continueUrl=null!==(J=Bt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Le=Bt.lang)&&void 0!==Le?Le:null,this.tenantId=null!==(tt=Bt.tenantId)&&void 0!==tt?tt:null}static parseLink(h){const y=function Hs(b){const h=(0,Q.I9)((0,Q.hp)(b)).link,y=h?(0,Q.I9)((0,Q.hp)(h)).deep_link_id:null,C=(0,Q.I9)((0,Q.hp)(b)).deep_link_id;return(C?(0,Q.I9)((0,Q.hp)(C)).link:null)||C||y||h||b}(h);try{return new Oo(y)}catch{return null}}}let vr=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(y,C){return cs._fromEmailAndPassword(y,C)}static credentialWithLink(y,C){const B=Oo.parseLink(C);return It(B,"argument-error"),cs._fromEmailAndCode(y,B.code,B.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class eo{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ra extends eo{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function Nt(b,h){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,T.A)(function*(b,h){return on(b,"POST","/v1/accounts:signUp",ye(b,h))})).apply(this,arguments)}class bn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,y,C){return(0,T.A)(function*(B,J,Le,tt=!1){const Bt=yield gr._fromIdTokenResponse(B,Le,tt),mn=pn(Le);return new bn({user:Bt,providerId:mn,_tokenResponse:Le,operationType:J})}).apply(this,arguments)}static _forOperation(h,y,C){return(0,T.A)(function*(){yield h._updateTokensIfNecessary(C,!0);const B=pn(C);return new bn({user:h,providerId:B,_tokenResponse:C,operationType:y})})()}}function pn(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}class Ur extends Q.g{constructor(h,y,C,B){var J;super(y.code,y.message),this.operationType=C,this.user=B,Object.setPrototypeOf(this,Ur.prototype),this.customData={appName:h.name,tenantId:null!==(J=h.tenantId)&&void 0!==J?J:void 0,_serverResponse:y.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,y,C,B){return new Ur(h,y,C,B)}}function Ii(b,h,y,C){return("reauthenticate"===h?y._getReauthenticationResolver(b):y._getIdTokenResponse(b)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?Ur._fromErrorAndOperation(b,J,h,C):J})}function Oi(){return(Oi=(0,T.A)(function*(b,h,y=!1){const C=yield Cr(b,h._linkToIdToken(b.auth,yield b.getIdToken()),y);return bn._forOperation(b,"link",C)})).apply(this,arguments)}function bo(){return(bo=(0,T.A)(function*(b,h,y=!1){const{auth:C}=b;if((0,O.xZ)(C.app))return Promise.reject(Ze(C));const B="reauthenticate";try{const J=yield Cr(b,Ii(C,B,h,b),y);It(J.idToken,C,"internal-error");const Le=Dr(J.idToken);It(Le,C,"internal-error");const{sub:tt}=Le;return It(b.uid===tt,C,"user-mismatch"),bn._forOperation(b,B,J)}catch(J){throw"auth/user-not-found"===J?.code&&St(C,"user-mismatch"),J}})).apply(this,arguments)}function ii(b,h){return yo.apply(this,arguments)}function yo(){return(yo=(0,T.A)(function*(b,h,y=!1){if((0,O.xZ)(b.app))return Promise.reject(Ze(b));const C="signIn",B=yield Ii(b,C,h),J=yield bn._fromIdTokenResponse(b,C,B);return y||(yield b._updateCurrentUser(J.user)),J})).apply(this,arguments)}function gs(){return(gs=(0,T.A)(function*(b,h){return ii(un(b),h)})).apply(this,arguments)}function Gs(b){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,T.A)(function*(b){const h=un(b);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Di(b,h,y){return ha.apply(this,arguments)}function ha(){return(ha=(0,T.A)(function*(b,h,y){const C=un(b),B={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};y&&function Ls(b,h,y){var C;It((null===(C=y.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),It(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),It(typeof y.linkDomain>"u"||y.linkDomain.length>0,b,"invalid-hosting-link-domain"),h.continueUrl=y.url,h.dynamicLinkDomain=y.dynamicLinkDomain,h.linkDomain=y.linkDomain,h.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(It(y.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),h.iOSBundleId=y.iOS.bundleId),y.android&&(It(y.android.packageName.length>0,b,"missing-android-pkg-name"),h.androidInstallApp=y.android.installApp,h.androidMinimumVersionCode=y.android.minimumVersion,h.androidPackageName=y.android.packageName)}(C,B,y),yield ge(C,B,"getOobCode",xs,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function Va(b,h,y){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,T.A)(function*(b,h,y){if((0,O.xZ)(b.app))return Promise.reject(Ze(b));const C=un(b),Le=yield ge(C,{returnSecureToken:!0,email:h,password:y,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nt,"EMAIL_PASSWORD_PROVIDER").catch(Bt=>{throw"auth/password-does-not-meet-requirements"===Bt.code&&Gs(b),Bt}),tt=yield bn._fromIdTokenResponse(C,"signIn",Le);return yield C._updateCurrentUser(tt.user),tt})).apply(this,arguments)}function qr(b,h,y){return(0,O.xZ)(b.app)?Promise.reject(Ze(b)):function qo(b,h){return gs.apply(this,arguments)}((0,Q.Ku)(b),vr.credential(h,y)).catch(function(){var C=(0,T.A)(function*(B){throw"auth/password-does-not-meet-requirements"===B.code&&Gs(b),B});return function(B){return C.apply(this,arguments)}}())}function to(b,h,y,C){return(0,Q.Ku)(b).onAuthStateChanged(h,y,C)}function Vs(b){return(0,Q.Ku)(b).signOut()}const dn="__sak";class Yn{constructor(h,y){this.storageRetriever=h,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(dn,"1"),this.storage.removeItem(dn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,y){return this.storage.setItem(h,JSON.stringify(y)),Promise.resolve()}_get(h){const y=this.storage.getItem(h);return Promise.resolve(y?JSON.parse(y):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fi=(()=>{class b extends Yn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,C)=>this.onStorageEvent(y,C),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ve(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const C of Object.keys(this.listeners)){const B=this.storage.getItem(C),J=this.localCache[C];B!==J&&y(C,J,B)}}onStorageEvent(y,C=!1){if(!y.key)return void this.forAllChangedKeys((tt,Bt,mn)=>{this.notifyListeners(tt,mn)});const B=y.key;C?this.detachListener():this.stopPolling();const J=()=>{const tt=this.storage.getItem(B);!C&&this.localCache[B]===tt||this.notifyListeners(B,tt)},Le=this.storage.getItem(B);!function oe(){return(0,Q.lT)()&&10===document.documentMode}()||Le===y.newValue||y.newValue===y.oldValue?J():setTimeout(J,10)}notifyListeners(y,C){this.localCache[y]=C;const B=this.listeners[y];if(B)for(const J of Array.from(B))J(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,C,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:C,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,C){var B=()=>super._set,J=this;return(0,T.A)(function*(){yield B().call(J,y,C),J.localCache[y]=JSON.stringify(C)})()}_get(y){var C=()=>super._get,B=this;return(0,T.A)(function*(){const J=yield C().call(B,y);return B.localCache[y]=JSON.stringify(J),J})()}_remove(y){var C=()=>super._remove,B=this;return(0,T.A)(function*(){yield C().call(B,y),delete B.localCache[y]})()}}return b.type="LOCAL",b})(),Gr=(()=>{class b extends Yn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,C){}_removeListener(y,C){}}return b.type="SESSION",b})();let ia=(()=>{class b{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const C=this.receivers.find(J=>J.isListeningto(y));if(C)return C;const B=new b(y);return this.receivers.push(B),B}isListeningto(y){return this.eventTarget===y}handleEvent(y){var C=this;return(0,T.A)(function*(){const B=y,{eventId:J,eventType:Le,data:tt}=B.data,Bt=C.handlersMap[Le];if(!Bt?.size)return;B.ports[0].postMessage({status:"ack",eventId:J,eventType:Le});const mn=Array.from(Bt).map(function(){var Wn=(0,T.A)(function*(Rr){return Rr(B.origin,tt)});return function(Rr){return Wn.apply(this,arguments)}}()),$n=yield function hs(b){return Promise.all(b.map(function(){var h=(0,T.A)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(C){return{fulfilled:!1,reason:C}}});return function(y){return h.apply(this,arguments)}}()))}(mn);B.ports[0].postMessage({status:"done",eventId:J,eventType:Le,response:$n})})()}_subscribe(y,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(C)}_unsubscribe(y,C){this.handlersMap[y]&&C&&this.handlersMap[y].delete(C),(!C||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function ma(b="",h=10){let y="";for(let C=0;C<h;C++)y+=Math.floor(10*Math.random());return b+y}class kl{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,y){var C=this;return(0,T.A)(function*(B,J,Le=50){const tt=typeof MessageChannel<"u"?new MessageChannel:null;if(!tt)throw new Error("connection_unavailable");let Bt,mn;return new Promise(($n,Wn)=>{const Rr=ma("",20);tt.port1.start();const Ro=setTimeout(()=>{Wn(new Error("unsupported_event"))},Le);mn={messageChannel:tt,onMessage(no){const Kc=no;if(Kc.data.eventId===Rr)switch(Kc.data.status){case"ack":clearTimeout(Ro),Bt=setTimeout(()=>{Wn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Bt),$n(Kc.data.response);break;default:clearTimeout(Ro),clearTimeout(Bt),Wn(new Error("invalid_response"))}}},C.handlers.add(mn),tt.port1.addEventListener("message",mn.onMessage),C.target.postMessage({eventType:B,eventId:Rr,data:J},[tt.port2])}).finally(()=>{mn&&C.removeMessageHandler(mn)})}).apply(this,arguments)}}function Ti(){return window}function pi(){return typeof Ti().WorkerGlobalScope<"u"&&"function"==typeof Ti().importScripts}function kn(){return(kn=(0,T.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const jr="firebaseLocalStorageDb",Ss="firebaseLocalStorage",So="fbase_key";class Ho{constructor(h){this.request=h}toPromise(){return new Promise((h,y)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Ni(b,h){return b.transaction([Ss],h?"readwrite":"readonly").objectStore(Ss)}function Gu(){const b=indexedDB.open(jr,1);return new Promise((h,y)=>{b.addEventListener("error",()=>{y(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(Ss,{keyPath:So})}catch(B){y(B)}}),b.addEventListener("success",(0,T.A)(function*(){const C=b.result;C.objectStoreNames.contains(Ss)?h(C):(C.close(),yield function fs(){const b=indexedDB.deleteDatabase(jr);return new Ho(b).toPromise()}(),h(yield Gu()))}))})}function Qr(b,h,y){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,T.A)(function*(b,h,y){const C=Ni(b,!0).put({[So]:h,value:y});return new Ho(C).toPromise()})).apply(this,arguments)}function ja(){return(ja=(0,T.A)(function*(b,h){const y=Ni(b,!1).get(h),C=yield new Ho(y).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Pa(b,h){const y=Ni(b,!0).delete(h);return new Ho(y).toPromise()}const wc=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,T.A)(function*(){return y.db||(y.db=yield Gu()),y.db})()}_withRetries(y){var C=this;return(0,T.A)(function*(){let B=0;for(;;)try{const J=yield C._openDb();return yield y(J)}catch(J){if(B++>3)throw J;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,T.A)(function*(){return pi()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,T.A)(function*(){y.receiver=ia._getInstance(function dr(){return pi()?self:null}()),y.receiver._subscribe("keyChanged",function(){var C=(0,T.A)(function*(B,J){return{keyProcessed:(yield y._poll()).includes(J.key)}});return function(B,J){return C.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var C=(0,T.A)(function*(B,J){return["keyChanged"]});return function(B,J){return C.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,T.A)(function*(){var C,B;if(y.activeServiceWorker=yield function Ba(){return kn.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new kl(y.activeServiceWorker);const J=yield y.sender._send("ping",{},800);J&&null!==(C=J[0])&&void 0!==C&&C.fulfilled&&null!==(B=J[0])&&void 0!==B&&B.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var C=this;return(0,T.A)(function*(){if(C.sender&&C.activeServiceWorker&&function gn(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:y},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,T.A)(function*(){try{if(!indexedDB)return!1;const y=yield Gu();return yield Qr(y,dn,"1"),yield Pa(y,dn),!0}catch{}return!1})()}_withPendingWrite(y){var C=this;return(0,T.A)(function*(){C.pendingWrites++;try{yield y()}finally{C.pendingWrites--}})()}_set(y,C){var B=this;return(0,T.A)(function*(){return B._withPendingWrite((0,T.A)(function*(){return yield B._withRetries(J=>Qr(J,y,C)),B.localCache[y]=C,B.notifyServiceWorker(y)}))})()}_get(y){var C=this;return(0,T.A)(function*(){const B=yield C._withRetries(J=>function lo(b,h){return ja.apply(this,arguments)}(J,y));return C.localCache[y]=B,B})()}_remove(y){var C=this;return(0,T.A)(function*(){return C._withPendingWrite((0,T.A)(function*(){return yield C._withRetries(B=>Pa(B,y)),delete C.localCache[y],C.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,T.A)(function*(){const C=yield y._withRetries(Le=>{const tt=Ni(Le,!1).getAll();return new Ho(tt).toPromise()});if(!C)return[];if(0!==y.pendingWrites)return[];const B=[],J=new Set;if(0!==C.length)for(const{fbase_key:Le,value:tt}of C)J.add(Le),JSON.stringify(y.localCache[Le])!==JSON.stringify(tt)&&(y.notifyListeners(Le,tt),B.push(Le));for(const Le of Object.keys(y.localCache))y.localCache[Le]&&!J.has(Le)&&(y.notifyListeners(Le,null),B.push(Le));return B})()}notifyListeners(y,C){this.localCache[y]=C;const B=this.listeners[y];if(B)for(const J of Array.from(B))J(C)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,T.A)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();Ut("rcb"),new tn(3e4,6e4);class Xs extends Ln{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Or(h,this._buildIdpRequest())}_linkToIdToken(h,y){return Or(h,this._buildIdpRequest(y))}_getReauthenticationResolver(h){return Or(h,this._buildIdpRequest())}_buildIdpRequest(h){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(y.idToken=h),y}}function Vl(b){return ii(b.auth,new Xs(b),b.bypassAuthState)}function Ul(b){const{auth:h,user:y}=b;return It(y,h,"internal-error"),function Mi(b,h){return bo.apply(this,arguments)}(y,new Xs(b),b.bypassAuthState)}function Df(b){return Af.apply(this,arguments)}function Af(){return(Af=(0,T.A)(function*(b){const{auth:h,user:y}=b;return It(y,h,"internal-error"),function ri(b,h){return Oi.apply(this,arguments)}(y,new Xs(b),b.bypassAuthState)})).apply(this,arguments)}class Bl{constructor(h,y,C,B,J=!1){this.auth=h,this.resolver=C,this.user=B,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var h=this;return new Promise(function(){var y=(0,T.A)(function*(C,B){h.pendingPromise={resolve:C,reject:B};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(J){h.reject(J)}});return function(C,B){return y.apply(this,arguments)}}())}onAuthEvent(h){var y=this;return(0,T.A)(function*(){const{urlResponse:C,sessionId:B,postBody:J,tenantId:Le,error:tt,type:Bt}=h;if(tt)return void y.reject(tt);const mn={auth:y.auth,requestUri:C,sessionId:B,tenantId:Le||void 0,postBody:J||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Bt)(mn))}catch($n){y.reject($n)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Vl;case"linkViaPopup":case"linkViaRedirect":return Df;case"reauthViaPopup":case"reauthViaRedirect":return Ul;default:St(this.auth,"internal-error")}}resolve(h){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new tn(2e3,1e4);const lu=new Map;class Tg extends Bl{constructor(h,y,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,y=this;return(0,T.A)(function*(){let C=lu.get(y.auth._key());if(!C){try{const J=(yield function bc(b,h){return Ha.apply(this,arguments)}(y.resolver,y.auth))?yield h().call(y):null;C=()=>Promise.resolve(J)}catch(B){C=()=>Promise.reject(B)}lu.set(y.auth._key(),C)}return y.bypassAuthState||lu.set(y.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var y=()=>super.onAuthEvent,C=this;return(0,T.A)(function*(){if("signInViaRedirect"===h.type)return y().call(C,h);if("unknown"!==h.type){if(h.eventId){const B=yield C.auth._redirectUserForId(h.eventId);if(B)return C.user=B,y().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,T.A)(function*(){})()}cleanUp(){}}function Ha(){return(Ha=(0,T.A)(function*(b,h){const y=function Hl(b){return De("pendingRedirect",b.config.apiKey,b.name)}(h),C=function $l(b){return Ui(b._redirectPersistence)}(b);if(!(yield C._isAvailable()))return!1;const B="true"===(yield C._get(y));return yield C._remove(y),B})).apply(this,arguments)}function tc(b,h){lu.set(b._key(),h)}function ah(b,h){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,T.A)(function*(b,h,y=!1){if((0,O.xZ)(b.app))return Promise.reject(Ze(b));const C=un(b),B=function aa(b,h){return h?Ui(h):(It(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}(C,h),Le=yield new Tg(C,B,y).execute();return Le&&!y&&(delete Le.user._redirectEventId,yield C._persistUserIfCurrent(Le.user),yield C._setRedirectUser(null,h)),Le})).apply(this,arguments)}class Wa{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let y=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(y=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Kl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oc(b);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=h,y=!0)),y}sendToConsumer(h,y){var C;if(h.error&&!oc(h)){const B=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";y.onError(Ne(this.auth,B))}else y.onAuthEvent(h)}isEventForConsumer(h,y){const C=null===y.eventId||!!h.eventId&&h.eventId===y.eventId;return y.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dc(h))}saveEventToCache(h){this.cachedEventUids.add(Dc(h)),this.lastProcessedEventTime=Date.now()}}function Dc(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(h=>h).join("-")}function oc({type:b,error:h}){return"unknown"===b&&"auth/no-auth-event"===h?.code}function Yu(){return(Yu=(0,T.A)(function*(b,h={}){return re(b,"GET","/v1/projects",h)})).apply(this,arguments)}const Pf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mf=/^https?/;function Ys(){return Ys=(0,T.A)(function*(b){if(b.config.emulator)return;const{authorizedDomains:h}=yield function Zu(b){return Yu.apply(this,arguments)}(b);for(const y of h)try{if(va(y))return}catch{}St(b,"unauthorized-domain")}),Ys.apply(this,arguments)}function va(b){const h=Mn(),{protocol:y,hostname:C}=new URL(h);if(b.startsWith("chrome-extension://")){const Le=new URL(b);return""===Le.hostname&&""===C?"chrome-extension:"===y&&b.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===y&&Le.hostname===C}if(!Mf.test(y))return!1;if(Pf.test(b))return C===b;const B=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(C)}const ql=new tn(3e4,6e4);function Hc(){const b=Ti().___jsl;if(b?.H)for(const h of Object.keys(b.H))if(b.H[h].r=b.H[h].r||[],b.H[h].L=b.H[h].L||[],b.H[h].r=[...b.H[h].L],b.CP)for(let y=0;y<b.CP.length;y++)b.CP[y]=null}let el=null;const Wy=new tn(5e3,15e3),uh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ql=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ac(b){const h=b.config;It(h.authDomain,b,"auth-domain-config-required");const y=h.emulator?Mt(h,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:h.apiKey,appName:b.name,v:O.MF},B=Ql.get(b.config.apiHost);B&&(C.eid=B);const J=b._getFrameworks();return J.length&&(C.fw=J.join(",")),`${y}?${(0,Q.Am)(C).slice(1)}`}function Cc(){return Cc=(0,T.A)(function*(b){const h=yield function kf(b){return el=el||function Nf(b){return new Promise((h,y)=>{var C,B,J;function Le(){Hc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Hc(),y(Ne(b,"network-request-failed"))},timeout:ql.get()})}if(null!==(B=null===(C=Ti().gapi)||void 0===C?void 0:C.iframes)&&void 0!==B&&B.Iframe)h(gapi.iframes.getContext());else{if(null===(J=Ti().gapi)||void 0===J||!J.load){const tt=Ut("iframefcb");return Ti()[tt]=()=>{gapi.load?Le():y(Ne(b,"network-request-failed"))},Ri(`${function Qe(){return ar.gapiScript}()}?onload=${tt}`).catch(Bt=>y(Bt))}Le()}}).catch(h=>{throw el=null,h})}(b),el}(b),y=Ti().gapi;return It(y,b,"internal-error"),h.open({where:document.body,url:Ac(b),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uh,dontclear:!0},C=>new Promise(function(){var B=(0,T.A)(function*(J,Le){yield C.restyle({setHideOnLeave:!1});const tt=Ne(b,"network-request-failed"),Bt=Ti().setTimeout(()=>{Le(tt)},Wy.get());function mn(){Ti().clearTimeout(Bt),J(C)}C.ping(mn).then(mn,()=>{Le(tt)})});return function(J,Le){return B.apply(this,arguments)}}()))}),Cc.apply(this,arguments)}const tl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Of{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ff=encodeURIComponent("fac");function mu(b,h,y,C,B,J){return es.apply(this,arguments)}function es(){return(es=(0,T.A)(function*(b,h,y,C,B,J){It(b.config.authDomain,b,"auth-domain-config-required"),It(b.config.apiKey,b,"invalid-api-key");const Le={apiKey:b.config.apiKey,appName:b.name,authType:y,redirectUrl:C,v:O.MF,eventId:B};if(h instanceof eo){h.setDefaultLanguage(b.languageCode),Le.providerId=h.providerId||"",(0,Q.Im)(h.getCustomParameters())||(Le.customParameters=JSON.stringify(h.getCustomParameters()));for(const[$n,Wn]of Object.entries(J||{}))Le[$n]=Wn}if(h instanceof ra){const $n=h.getScopes().filter(Wn=>""!==Wn);$n.length>0&&(Le.scopes=$n.join(","))}b.tenantId&&(Le.tid=b.tenantId);const tt=Le;for(const $n of Object.keys(tt))void 0===tt[$n]&&delete tt[$n];const Bt=yield b._getAppCheckToken(),mn=Bt?`#${Ff}=${encodeURIComponent(Bt)}`:"";return`${function hh({config:b}){return b.emulator?Mt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,Q.Am)(tt).slice(1)}${mn}`})).apply(this,arguments)}const sc="webStorageSupport",Lf=class yu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gr,this._completeRedirectFn=ah,this._overrideRedirectResult=tc}_openPopup(h,y,C,B){var J=this;return(0,T.A)(function*(){var Le;Un(null===(Le=J.eventManagers[h._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const tt=yield mu(h,y,C,Mn(),B);return function zc(b,h,y,C=500,B=600){const J=Math.max((window.screen.availHeight-B)/2,0).toString(),Le=Math.max((window.screen.availWidth-C)/2,0).toString();let tt="";const Bt=Object.assign(Object.assign({},tl),{width:C.toString(),height:B.toString(),top:J,left:Le}),mn=(0,Q.ZQ)().toLowerCase();y&&(tt=Xt(mn)?"_blank":y),Ot(mn)&&(h=h||"http://localhost",Bt.scrollbars="yes");const $n=Object.entries(Bt).reduce((Rr,[Ro,no])=>`${Rr}${Ro}=${no},`,"");if(function bt(b=(0,Q.ZQ)()){var h;return Ce(b)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(mn)&&"_self"!==tt)return function pu(b,h){const y=document.createElement("a");y.href=b,y.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(C)}(h||"",tt),new Of(null);const Wn=window.open(h||"",tt,$n);It(Wn,b,"popup-blocked");try{Wn.focus()}catch{}return new Of(Wn)}(h,tt,ma())})()}_openRedirect(h,y,C,B){var J=this;return(0,T.A)(function*(){return yield J._originValidation(h),function Wu(b){Ti().location.href=b}(yield mu(h,y,C,Mn(),B)),new Promise(()=>{})})()}_initialize(h){const y=h._key();if(this.eventManagers[y]){const{manager:B,promise:J}=this.eventManagers[y];return B?Promise.resolve(B):(Un(J,"If manager is not set, promise should be"),J)}const C=this.initAndGetManager(h);return this.eventManagers[y]={promise:C},C.catch(()=>{delete this.eventManagers[y]}),C}initAndGetManager(h){var y=this;return(0,T.A)(function*(){const C=yield function lh(b){return Cc.apply(this,arguments)}(h),B=new Wa(h);return C.register("authEvent",J=>(It(J?.authEvent,h,"invalid-auth-event"),{status:B.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[h._key()]={manager:B},y.iframes[h._key()]=C,B})()}_isIframeWebStorageSupported(h,y){this.iframes[h._key()].send(sc,{type:sc},B=>{var J;const Le=null===(J=B?.[0])||void 0===J?void 0:J[sc];void 0!==Le&&y(!!Le),St(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const y=h._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Ju(b){return Ys.apply(this,arguments)}(h)),this.originValidationPromises[y]}get _shouldInitProactively(){return ve()||Je()||Ce()}};var cc="@firebase/auth";class ph{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var y=this;return(0,T.A)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const y=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,y),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const y=this.internalListeners.get(h);y&&(this.internalListeners.delete(h),y(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bg=(0,Q.XA)("authIdTokenMaxAge")||300;let Yl=null;const gh=b=>function(){var h=(0,T.A)(function*(y){const C=y&&(yield y.getIdTokenResult()),B=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(B&&B>bg)return;const J=C?.token;Yl!==J&&(Yl=J,yield fetch(b,{method:J?"POST":"DELETE",headers:J?{Authorization:`Bearer ${J}`}:{}}))});return function(y){return h.apply(this,arguments)}}();function Jl(b=(0,O.Sx)()){const h=(0,O.j6)(b,"auth");if(h.isInitialized())return h.getImmediate();const y=function Dt(b,h){const y=(0,O.j6)(b,"auth");if(y.isInitialized()){const B=y.getImmediate(),J=y.getOptions();if((0,Q.bD)(J,h??{}))return B;St(B,"already-initialized")}return y.initialize({options:h})}(b,{popupRedirectResolver:Lf,persistence:[wc,Fi,Gr]}),C=(0,Q.XA)("authTokenSyncURL");if(C&&"boolean"==typeof isSecureContext&&isSecureContext){const J=new URL(C,location.origin);if(location.origin===J.origin){const Le=gh(J.toString());(function Ja(b,h,y){(0,Q.Ku)(b).beforeAuthStateChanged(h,y)})(y,Le,()=>Le(y.currentUser)),function Ai(b,h,y,C){(0,Q.Ku)(b).onIdTokenChanged(h,y,C)}(y,tt=>Le(tt))}}const B=(0,Q.Tj)("auth");return B&&function On(b,h,y){const C=un(b);It(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const B=!!y?.disableWarnings,J=ci(h),{host:Le,port:tt}=function Xr(b){const h=ci(b),y=/(\/\/)?([^?#/]+)/.exec(b.substr(h.length));if(!y)return{host:"",port:null};const C=y[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(C);if(B){const J=B[1];return{host:J,port:Zr(C.substr(J.length+1))}}{const[J,Le]=C.split(":");return{host:J,port:Zr(Le)}}}(h),Bt=null===tt?"":`:${tt}`,mn={url:`${J}//${Le}${Bt}/`},$n=Object.freeze({host:Le,port:tt,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:B})});if(!C._canInitEmulator)return It(C.config.emulator&&C.emulatorConfig,C,"emulator-config-failed"),void It((0,Q.bD)(mn,C.config.emulator)&&(0,Q.bD)($n,C.emulatorConfig),C,"emulator-config-failed");C.config.emulator=mn,C.emulatorConfig=$n,C.settings.appVerificationDisabledForTesting=!0,(0,Q.zJ)(Le)?((0,Q.gE)(`${J}//${Le}${Bt}`),(0,Q.P1)("Auth",!0)):B||function yr(){function b(){const h=document.createElement("p"),y=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(y,`http://${B}`),y}(function wi(b){ar=b})({loadJS:b=>new Promise((h,y)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=h,C.onerror=B=>{const J=Ne("internal-error");J.customData=B,y(J)},C.type="text/javascript",C.charset="UTF-8",function mh(){var b,h;return null!==(h=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==h?h:document}().appendChild(C)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Gc(b){(0,O.om)(new Xe.uA("auth",(h,{options:y})=>{const C=h.getProvider("app").getImmediate(),B=h.getProvider("heartbeat"),J=h.getProvider("app-check-internal"),{apiKey:Le,authDomain:tt}=C.options;It(Le&&!Le.includes(":"),"invalid-api-key",{appName:C.name});const Bt={apiKey:Le,authDomain:tt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fe(b)},mn=new Bn(C,B,J,Bt);return function cn(b,h){const y=h?.persistence||[],C=(Array.isArray(y)?y:[y]).map(Ui);h?.errorMap&&b._updateErrorMap(h.errorMap),b._initializeWithPersistence(C,h?.popupRedirectResolver)}(mn,y),mn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,y,C)=>{h.getProvider("auth-internal").initialize()})),(0,O.om)(new Xe.uA("auth-internal",h=>{const y=un(h.getProvider("auth").getImmediate());return new ph(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.KO)(cc,"1.10.6",function uc(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,O.KO)(cc,"1.10.6","esm2017")}("Browser")},591:(In,$e,j)=>{"use strict";function T(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d($e,{L:()=>T})},941:(In,$e,j)=>{"use strict";j.d($e,{Q:()=>I});var T=j(5225),O=j(9974),Q=j(4360);function I(Se,Xe=0){return(0,O.N)((Ie,fe)=>{Ie.subscribe((0,Q._)(fe,Oe=>(0,T.N)(fe,Se,()=>fe.next(Oe),Xe),()=>(0,T.N)(fe,Se,()=>fe.complete(),Xe),Oe=>(0,T.N)(fe,Se,()=>fe.error(Oe),Xe)))})}},969:(In,$e,j)=>{"use strict";j.d($e,{FX:()=>Zt,If:()=>T,K2:()=>Xe,PZ:()=>Vt,hZ:()=>Q,i0:()=>I,iF:()=>Ie,kY:()=>me,kp:()=>O,sf:()=>jt,wk:()=>fe});var T=function(mt){return mt[mt.State=0]="State",mt[mt.Transition=1]="Transition",mt[mt.Sequence=2]="Sequence",mt[mt.Group=3]="Group",mt[mt.Animate=4]="Animate",mt[mt.Keyframes=5]="Keyframes",mt[mt.Style=6]="Style",mt[mt.Trigger=7]="Trigger",mt[mt.Reference=8]="Reference",mt[mt.AnimateChild=9]="AnimateChild",mt[mt.AnimateRef=10]="AnimateRef",mt[mt.Query=11]="Query",mt[mt.Stagger=12]="Stagger",mt}(T||{});const O="*";function Q(mt,Et){return{type:T.Trigger,name:mt,definitions:Et,options:{}}}function I(mt,Et=null){return{type:T.Animate,styles:Et,timings:mt}}function Xe(mt,Et=null){return{type:T.Sequence,steps:mt,options:Et}}function Ie(mt){return{type:T.Style,styles:mt,offset:null}}function fe(mt,Et,St){return{type:T.State,name:mt,styles:Et,options:St}}function me(mt,Et,St=null){return{type:T.Transition,expr:mt,animation:Et,options:St}}class jt{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(Et=0,St=0){this.totalTime=Et+St}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Et=>Et()),this._onDoneFns=[])}onStart(Et){this._originalOnStartFns.push(Et),this._onStartFns.push(Et)}onDone(Et){this._originalOnDoneFns.push(Et),this._onDoneFns.push(Et)}onDestroy(Et){this._onDestroyFns.push(Et)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Et=>Et()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Et=>Et()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Et){this._position=this.totalTime?Et*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Et){const St="start"==Et?this._onStartFns:this._onDoneFns;St.forEach(Ne=>Ne()),St.length=0}}class Vt{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(Et){this.players=Et;let St=0,Ne=0,rt=0;const Ze=this.players.length;0==Ze?queueMicrotask(()=>this._onFinish()):this.players.forEach(wt=>{wt.onDone(()=>{++St==Ze&&this._onFinish()}),wt.onDestroy(()=>{++Ne==Ze&&this._onDestroy()}),wt.onStart(()=>{++rt==Ze&&this._onStart()})}),this.totalTime=this.players.reduce((wt,Gt)=>Math.max(wt,Gt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Et=>Et()),this._onDoneFns=[])}init(){this.players.forEach(Et=>Et.init())}onStart(Et){this._onStartFns.push(Et)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Et=>Et()),this._onStartFns=[])}onDone(Et){this._onDoneFns.push(Et)}onDestroy(Et){this._onDestroyFns.push(Et)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Et=>Et.play())}pause(){this.players.forEach(Et=>Et.pause())}restart(){this.players.forEach(Et=>Et.restart())}finish(){this._onFinish(),this.players.forEach(Et=>Et.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Et=>Et.destroy()),this._onDestroyFns.forEach(Et=>Et()),this._onDestroyFns=[])}reset(){this.players.forEach(Et=>Et.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Et){const St=Et*this.totalTime;this.players.forEach(Ne=>{const rt=Ne.totalTime?Math.min(1,St/Ne.totalTime):1;Ne.setPosition(rt)})}getPosition(){const Et=this.players.reduce((St,Ne)=>null===St||Ne.totalTime>St.totalTime?Ne:St,null);return null!=Et?Et.getPosition():0}beforeDestroy(){this.players.forEach(Et=>{Et.beforeDestroy&&Et.beforeDestroy()})}triggerCallback(Et){const St="start"==Et?this._onStartFns:this._onDoneFns;St.forEach(Ne=>Ne()),St.length=0}}const Zt="!"},980:(In,$e,j)=>{"use strict";j.d($e,{j:()=>O});var T=j(9974);function O(Q){return(0,T.N)((I,Se)=>{try{I.subscribe(Se)}finally{Se.add(Q)}})}},983:(In,$e,j)=>{"use strict";j.d($e,{w:()=>O});const O=new(j(1985).c)(Se=>Se.complete())},1026:(In,$e,j)=>{"use strict";j.d($e,{$:()=>T});const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(In,$e,j)=>{"use strict";j.d($e,{F:()=>O,m:()=>Q});var T=j(3669);function O(...I){return Q(I)}function Q(I){return 0===I.length?T.D:1===I.length?I[0]:function(Xe){return I.reduce((Ie,fe)=>fe(Ie),Xe)}}},1360:(In,$e,j)=>{"use strict";j.d($e,{bc$:()=>Qg,iLQ:()=>Sy,sZ2:()=>Eu,o8S:()=>_c,BIS:()=>g_,gRc:()=>HA,Ql9:()=>vN,OM3:()=>Ey,Ocv:()=>AN,abz:()=>Us,Z63:()=>eo,aKT:()=>al,uvJ:()=>ii,zcH:()=>dc,bkB:()=>lc,$GK:()=>Ln,nKC:()=>Ee,zZn:()=>vs,_q3:()=>cT,MKu:()=>uT,xe9:()=>rT,Co$:()=>D0,Vns:()=>ff,SKi:()=>_o,Xx1:()=>Or,Agw:()=>qg,PLl:()=>Kg,u5s:()=>rl,sFG:()=>bC,_9s:()=>Uw,czy:()=>Pu,WPN:()=>Md,kdw:()=>mo,C4Q:()=>nf,NYb:()=>OR,giA:()=>J0,xvI:()=>yN,RxE:()=>NA,c1b:()=>Zv,gXe:()=>Nc,mal:()=>cm,Af3:()=>Fo,L39:()=>vk,EWP:()=>$y,Ol2:()=>rI,w6W:()=>gS,Rfq:()=>Vi,WQX:()=>En,hFB:()=>t_,naY:()=>LN,QuC:()=>Te,EmA:()=>Re,phd:()=>VR,HJs:()=>Bk,N4e:()=>Fs,vPA:()=>Xc,O8t:()=>cu,H3F:()=>hI,H8p:()=>Oi,KH2:()=>_g,Ua0:()=>Qc,wOt:()=>lt,WHO:()=>Z0,e01:()=>Y0,Lf2:()=>ld,lNU:()=>kr,h9k:()=>Cp,$MX:()=>Ad,ZF7:()=>bd,Kcf:()=>q_,e5t:()=>bp,UyX:()=>ew,cWb:()=>Tp,osQ:()=>yl,H5H:()=>FI,Zy3:()=>Qn,mq5:()=>Kb,JZv:()=>Cn,TL3:()=>ZN,LfX:()=>kt,plB:()=>hf,jNT:()=>yI,zjR:()=>tb,ngT:()=>Ia,TL$:()=>kE,Tbb:()=>Ve,rcV:()=>tu,Vt3:()=>oI,OA$:()=>Ec,Jv_:()=>JD,R7$:()=>v,BMQ:()=>II,HbH:()=>Pb,ZvI:()=>Lb,STu:()=>Vb,AVh:()=>RI,wni:()=>CD,VBU:()=>C0,FsC:()=>S0,jDH:()=>Fe,G2t:()=>vt,$C:()=>iI,EJ8:()=>R0,rXU:()=>ng,nrm:()=>xI,bVm:()=>dE,qex:()=>lE,k0s:()=>uE,j41:()=>cE,RV6:()=>Wb,xGo:()=>Yl,KVO:()=>ni,kS0:()=>b,QTQ:()=>KT,bIt:()=>UI,lsd:()=>RD,joV:()=>ah,qSk:()=>Rf,XpG:()=>yD,nI1:()=>hA,i5U:()=>fA,Y8G:()=>AI,lJ4:()=>tA,eq3:()=>nA,l_i:()=>rA,sMw:()=>iA,ziG:()=>oA,s1E:()=>sA,mGM:()=>SD,sdS:()=>PD,Njj:()=>sa,eBV:()=>Tc,npT:()=>sw,B4B:()=>J_,n$t:()=>$m,xc7:()=>SI,zvX:()=>OI,DNE:()=>uI,C5r:()=>pA,EFF:()=>BD,JRh:()=>$I,SpI:()=>mE,Lme:()=>HI,DH7:()=>QD,mxI:()=>WI,R50:()=>zI});var T=j(467);function O(e,t){return Object.is(e,t)}let Q=null,I=!1,Se=1;const Xe=Symbol("SIGNAL");function Ie(e){const t=Q;return Q=e,t}const he={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function et(e){if(I)throw new Error("");if(null===Q)return;Q.consumerOnSignalRead(e);const t=Q.nextProducerIndex++;Gt(Q),t<Q.producerNode.length&&Q.producerNode[t]!==e&&wt(Q)&&Ze(Q.producerNode[t],Q.producerIndexOfThis[t]),Q.producerNode[t]!==e&&(Q.producerNode[t]=e,Q.producerIndexOfThis[t]=wt(Q)?rt(e,Q,t):0),Q.producerLastReadVersion[t]=e.version}function ot(e){if((!wt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Se)){if(!e.producerMustRecompute(e)&&!St(e))return void Zt(e);e.producerRecomputeValue(e),Zt(e)}}function At(e){if(void 0===e.liveConsumerNode)return;const t=I;I=!0;try{for(const r of e.liveConsumerNode)r.dirty||Vt(r)}finally{I=t}}function jt(){return!1!==Q?.consumerAllowSignalWrites}function Vt(e){e.dirty=!0,At(e),e.consumerMarkedDirty?.(e)}function Zt(e){e.dirty=!1,e.lastCleanEpoch=Se}function mt(e){return e&&(e.nextProducerIndex=0),Ie(e)}function Et(e,t){if(Ie(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(wt(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Ze(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function St(e){Gt(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(ot(r),o!==r.version))return!0}return!1}function Ne(e){if(Gt(e),wt(e))for(let t=0;t<e.producerNode.length;t++)Ze(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function rt(e,t,r){if(It(e),0===e.liveConsumerNode.length&&ct(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=rt(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Ze(e,t){if(It(e),1===e.liveConsumerNode.length&&ct(e))for(let o=0;o<e.producerNode.length;o++)Ze(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Gt(a),a.producerIndexOfThis[o]=t}}function wt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Gt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function It(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ct(e){return void 0!==e.producerNode}const Mn=Symbol("UNSET"),qn=Symbol("COMPUTING"),ht=Symbol("ERRORED"),wn={...he,value:Mn,dirty:!0,error:null,equal:O,kind:"computed",producerMustRecompute:e=>e.value===Mn||e.value===qn,producerRecomputeValue(e){if(e.value===qn)throw new Error("Detected cycle in computations.");const t=e.value;e.value=qn;const r=mt(e);let o,a=!1;try{o=e.computation(),Ie(null),a=t!==Mn&&t!==ht&&o!==ht&&e.equal(t,o)}catch(l){o=ht,e.error=l}finally{Et(e,r)}a?e.value=t:(e.value=o,e.version++)}};let tn=function Ye(){throw new Error};function Mt(e){tn(e)}let Y=null;function ye(e,t){jt()||Mt(e),e.equal(e.value,t)||(e.value=t,function yt(e){e.version++,function He(){Se++}(),At(e),Y?.()}(e))}const qe={...he,equal:O,value:void 0,kind:"signal"};let Qt;function Vn(){return Qt}function tr(e){const t=Qt;return Qt=e,t}const Dn=Symbol("NotFound");Error;var Si=j(4412),fn=j(1413),fr=j(8359),sn=j(6354);const kr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class lt extends Error{code;constructor(t,r){super(Qn(t,r)),this.code=t}}function Qn(e,t){return`${function Ir(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const qt=Symbol("InputSignalNode#UNSET"),si={...qe,transformFn:void 0,applyValueToInputSignal(e,t){ye(e,t)}};function gi(e,t){const r=Object.create(si);function o(){if(et(r),r.value===qt)throw new lt(-950,null);return r.value}return r.value=e,r.transformFn=t?.transform,o[Xe]=r,o}function Dr(e){return{toString:e}.toString()}const Cr="__parameters__";function mi(e,t,r){return Dr(()=>{const o=function sr(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...l){if(this instanceof a)return o.apply(this,l),this;const g=new a(...l);return w.annotation=g,w;function w(D,L,z){const Z=D.hasOwnProperty(Cr)?D[Cr]:Object.defineProperty(D,Cr,{value:[]})[Cr];for(;Z.length<=z;)Z.push(null);return(Z[z]=Z[z]||[]).push(g),D}}return a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Cn=globalThis;function Gn(e){for(let t in e)if(e[t]===Gn)return t;throw Error("Could not find renamed property on target object.")}function Zi(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Ve(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Ve).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const r=e.toString();if(null==r)return""+r;const o=r.indexOf("\n");return o>=0?r.slice(0,o):r}function Ar(e,t){return e?t?`${e} ${t}`:e:t||""}const ai=Gn({__forward_ref__:Gn});function Vi(e){return e.__forward_ref__=Vi,e.toString=function(){return Ve(this())},e}function _n(e){return gr(e)?e():e}function gr(e){return"function"==typeof e&&e.hasOwnProperty(ai)&&e.__forward_ref__===Vi}function Fe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vt(e){return{providers:e.providers||[],imports:e.imports||[]}}function pt(e){return nn(e,Kn)||nn(e,wi)}function kt(e){return null!==pt(e)}function nn(e,t){return e.hasOwnProperty(t)?e[t]:null}function un(e){return e&&(e.hasOwnProperty(ar)||e.hasOwnProperty(Ri))?e[ar]:null}const Kn=Gn({\u0275prov:Gn}),ar=Gn({\u0275inj:Gn}),wi=Gn({ngInjectableDef:Gn}),Ri=Gn({ngInjectorDef:Gn});class Ee{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,r){this._desc=t,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Fe({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ao(e){return e&&!!e.\u0275providers}const Wi=Gn({\u0275cmp:Gn}),Bo=Gn({\u0275dir:Gn}),io=Gn({\u0275pipe:Gn}),$=Gn({\u0275mod:Gn}),ge=Gn({\u0275fac:Gn}),q=Gn({__NG_ELEMENT_ID__:Gn}),te=Gn({__NG_ENV_ID__:Gn});function Pe(e){return"string"==typeof e?e:null==e?"":String(e)}function ci(e,t){throw new lt(-200,e)}function yr(e,t){throw new lt(-201,!1)}var Ln=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ln||{});let _r;function Gi(){return _r}function yi(e){const t=_r;return _r=e,t}function wo(e,t,r){const o=pt(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Ln.Optional?null:void 0!==t?t:void yr()}const nt={},Me="__NG_DI_FLAG__";class ft{injector;constructor(t){this.injector=t}retrieve(t,r){return this.injector.get(t,r.optional?Dn:nt,r)}}const Jt="ngTempTokenPath",jn=/\n/gm,go="__source";function xs(e,t=Ln.Default){if(void 0===Vn())throw new lt(-203,!1);if(null===Vn())return wo(e,void 0,t);{const r=Vn();let o;return o=r instanceof ft?r.injector:r,o.get(e,t&Ln.Optional?null:void 0,t)}}function ni(e,t=Ln.Default){return(Gi()||xs)(_n(e),t)}function En(e,t=Ln.Default){return ni(e,as(t))}function as(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Io(e){const t=[];for(let r=0;r<e.length;r++){const o=_n(e[r]);if(Array.isArray(o)){if(0===o.length)throw new lt(900,!1);let a,l=Ln.Default;for(let g=0;g<o.length;g++){const w=o[g],D=Zo(w);"number"==typeof D?-1===D?a=w.token:l|=D:a=w}t.push(ni(a,l))}else t.push(ni(o))}return t}function Mo(e,t){return e[Me]=t,e.prototype[Me]=t,e}function Zo(e){return e[Me]}const Or=Mo(mi("Optional"),8),mo=Mo(mi("SkipSelf"),4);function Ds(e,t){return e.hasOwnProperty(ge)?e[ge]:null}function Yr(e,t){e.forEach(r=>Array.isArray(r)?Yr(r,t):t(r))}function Jr(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function As(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function To(e,t,r){let o=Hs(e,t);return o>=0?e[1|o]=r:(o=~o,function ps(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function ji(e,t){const r=Hs(e,t);if(r>=0)return e[1|r]}function Hs(e,t){return function Oo(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const l=o+(a-o>>1),g=e[l<<r];if(t===g)return l<<r;g>t?a=l:o=l+1}return~(a<<r)}(e,t,1)}const Fr={},vr=[],eo=new Ee(""),ra=new Ee("",-1),Os=new Ee("");class ba{get(t,r=nt){if(r===nt){const o=new Error(`NullInjectorError: No provider for ${Ve(t)}!`);throw o.name="NullInjectorError",o}return r}}function jo(e,t){const r=e[$]||null;if(!r&&!0===t)throw new Error(`Type ${Ve(e)} does not have '\u0275mod' property.`);return r}function Er(e){return e[Wi]||null}function K(e){return e[Bo]||null}function G(e){return e[io]||null}function Te(e){const t=Er(e)||K(e)||G(e);return null!==t&&t.standalone}function Re(e){return{\u0275providers:e}}function Nt(...e){return{\u0275providers:Kt(0,e),\u0275fromNgModule:!0}}function Kt(e,...t){const r=[],o=new Set;let a;const l=g=>{r.push(g)};return Yr(t,g=>{const w=g;pn(w,l,[],o)&&(a||=[],a.push(w))}),void 0!==a&&bn(a,l),r}function bn(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];Zn(a,l=>{t(l,o)})}}function pn(e,t,r,o){if(!(e=_n(e)))return!1;let a=null,l=un(e);const g=!l&&Er(e);if(l||g){if(g&&!g.standalone)return!1;a=e}else{const D=e.ngModule;if(l=un(D),!l)return!1;a=D}const w=o.has(a);if(g){if(w)return!1;if(o.add(a),g.dependencies){const D="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const L of D)pn(L,t,r,o)}}else{if(!l)return!1;{if(null!=l.imports&&!w){let L;o.add(a);try{Yr(l.imports,z=>{pn(z,t,r,o)&&(L||=[],L.push(z))})}finally{}void 0!==L&&bn(L,t)}if(!w){const L=Ds(a)||(()=>new a);t({provide:a,useFactory:L,deps:vr},a),t({provide:Os,useValue:a,multi:!0},a),t({provide:eo,useValue:()=>ni(a),multi:!0},a)}const D=l.providers;if(null!=D&&!w){const L=e;Zn(D,z=>{t(z,L)})}}}return a!==e&&void 0!==e.providers}function Zn(e,t){for(let r of e)ao(r)&&(r=r.\u0275providers),Array.isArray(r)?Zn(r,t):t(r)}const Ur=Gn({provide:String,useValue:Gn});function Ii(e){return null!==e&&"object"==typeof e&&Ur in e}function Pi(e){return"function"==typeof e}const Oi=new Ee(""),uo={},vi={};let Mi;function bo(){return void 0===Mi&&(Mi=new ba),Mi}class ii{}class yo extends ii{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,oo(t,g=>this.processProvider(g)),this.records.set(ra,ms(void 0,this)),a.has("environment")&&this.records.set(ii,ms(void 0,this));const l=this.records.get(Oi);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Os,vr,Ln.Self))}retrieve(t,r){return this.get(t,r.optional?Dn:nt,r)}destroy(){zs(this),this._destroyed=!0;const t=Ie(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(t)}}onDestroy(t){return zs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){zs(this);const r=tr(this),o=yi(void 0);try{return t()}finally{tr(r),yi(o)}}get(t,r=nt,o=Ln.Default){if(zs(this),t.hasOwnProperty(te))return t[te](this);o=as(o);const l=tr(this),g=yi(void 0);try{if(!(o&Ln.SkipSelf)){let D=this.records.get(t);if(void 0===D){const L=function Ws(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ee}(t)&&pt(t);D=L&&this.injectableDefInScope(L)?ms(qo(t),uo):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D,o)}return(o&Ln.Self?bo():this.parent).get(t,r=o&Ln.Optional&&r===nt?null:r)}catch(w){if("NullInjectorError"===w.name){if((w[Jt]=w[Jt]||[]).unshift(Ve(t)),l)throw w;return function No(e,t,r,o){const a=e[Jt];throw t[go]&&a.unshift(t[go]),e.message=function bs(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Ve(t);if(Array.isArray(t))a=t.map(Ve).join(" -> ");else if("object"==typeof t){let l=[];for(let g in t)if(t.hasOwnProperty(g)){let w=t[g];l.push(g+":"+("string"==typeof w?JSON.stringify(w):Ve(w)))}a=`{${l.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(jn,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[Jt]=null,e}(w,t,"R3InjectorError",this.source)}throw w}finally{yi(g),tr(l)}}resolveInjectorInitializers(){const t=Ie(null),r=tr(this),o=yi(void 0);try{const l=this.get(eo,vr,Ln.Self);for(const g of l)g()}finally{tr(r),yi(o),Ie(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(Ve(o));return`R3Injector[${t.join(", ")}]`}processProvider(t){let r=Pi(t=_n(t))?t:_n(t&&t.provide);const o=function la(e){return Ii(e)?ms(void 0,e.useValue):ms(Da(e),uo)}(t);if(!Pi(t)&&!0===t.multi){let a=this.records.get(r);a||(a=ms(void 0,uo,!0),a.factory=()=>Io(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r,o){const a=Ie(null);try{return r.value===vi?ci(Ve(t)):r.value===uo&&(r.value=vi,r.value=r.factory(void 0,o)),"object"==typeof r.value&&r.value&&function da(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Ie(a)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=_n(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function qo(e){const t=pt(e),r=null!==t?t.factory:Ds(e);if(null!==r)return r;if(e instanceof Ee)throw new lt(204,!1);if(e instanceof Function)return function gs(e){if(e.length>0)throw new lt(204,!1);const r=function Bn(e){return e&&(e[Kn]||e[wi])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new lt(204,!1)}function Da(e,t,r){let o;if(Pi(e)){const a=_n(e);return Ds(a)||qo(a)}if(Ii(e))o=()=>_n(e.useValue);else if(function $i(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Io(e.deps||[]));else if(function _i(e){return!(!e||!e.useExisting)}(e))o=(a,l)=>ni(_n(e.useExisting),void 0!==l&&l&Ln.Optional?Ln.Optional:void 0);else{const a=_n(e&&(e.useClass||e.provide));if(!function Fa(e){return!!e.deps}(e))return Ds(a)||qo(a);o=()=>new a(...Io(e.deps))}return o}function zs(e){if(e.destroyed)throw new lt(205,!1)}function ms(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function oo(e,t){for(const r of e)Array.isArray(r)?oo(r,t):r&&ao(r)?oo(r.\u0275providers,t):t(r)}function Fs(e,t){let r;e instanceof yo?(zs(e),r=e):r=new ft(e);const a=tr(r),l=yi(void 0);try{return t()}finally{tr(a),yi(l)}}function hi(){return void 0!==Gi()||null!=Vn()}function Fo(e){if(!hi())throw new lt(-203,!1)}const qr=0,en=1,ir=2,fi=3,$o=4,Ki=5,Xo=6,Yo=7,oi=8,P=9,k=10,H=11,Ae=12,xt=13,Sn=14,cr=15,Hi=16,qi=17,Do=18,Qs=19,Sa=20,Nn=26,pa=1,Ua=9,zi=10;function Qi(e){return Array.isArray(e)&&"object"==typeof e[pa]}function Ai(e){return Array.isArray(e)&&!0===e[pa]}function Ja(e){return!!(4&e.flags)}function to(e){return e.componentOffset>-1}function vc(e){return!(1&~e.flags)}function Jo(e){return!!e.template}function Vs(e){return!!(512&e[ir])}function S(e){return!(256&~e[ir])}class Cs{previousValue;currentValue;firstChange;constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Lo(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}const Ec=(()=>{const e=()=>ga;return e.ngInherit=!0,e})();function ga(e){return e.type.prototype.ngOnChanges&&(e.setInput=hs),Gr}function Gr(){const e=ma(this),t=e?.current;if(t){const r=e.previous;if(r===Fr)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function hs(e,t,r,o,a){const l=this.declaredInputs[o],g=ma(e)||function kl(e,t){return e[ia]=t}(e,{previous:Fr,current:null}),w=g.current||(g.current={}),D=g.previous,L=D[l];w[l]=new Cs(L&&L.currentValue,r,D===Fr),Lo(e,t,a,r)}const ia="__ngSimpleChanges__";function ma(e){return e[ia]||null}const pi=function(e,t=null,r){},Ba="svg";function gn(e){for(;Array.isArray(e);)e=e[qr];return e}function jr(e,t){return gn(t[e])}function ei(e,t){return gn(t[e.index])}function So(e,t){return e.data[t]}function Ho(e,t){return e[t]}function fs(e,t){const r=t[e];return Qi(r)?r:r[qr]}function Qr(e){return!(128&~e[ir])}function lo(e,t){return null==t?null:e[t]}function ja(e){e[qi]=0}function Pa(e){1024&e[ir]||(e[ir]|=1024,Qr(e)&&wc(e))}function uu(e){return!!(9216&e[ir]||e[24]?.dirty)}function ih(e){e[k].changeDetectionScheduler?.notify(8),64&e[ir]&&(e[ir]|=1024),uu(e)&&wc(e)}function wc(e){e[k].changeDetectionScheduler?.notify(0);let t=oa(e);for(;null!==t&&!(8192&t[ir])&&(t[ir]|=8192,Qr(t));)t=oa(t)}function ec(e,t){if(S(e))throw new lt(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function oa(e){const t=e[fi];return Ai(t)?t[fi]:t}function Ic(e){return e[Yo]??=[]}function xl(e){return e.cleanup??=[]}const br={lFrame:Xu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Fl=!1;function Tf(){return br.bindingsEnabled}function Pt(){return br.lFrame.lView}function wr(){return br.lFrame.tView}function Tc(e){return br.lFrame.contextLView=e,e[oi]}function sa(e){return br.lFrame.contextLView=null,e}function $r(){let e=bf();for(;null!==e&&64===e.type;)e=e.parent;return e}function bf(){return br.lFrame.currentTNode}function Xs(e,t){const r=br.lFrame;r.currentTNode=e,r.isParent=t}function Vl(){return br.lFrame.isParent}function Ul(){br.lFrame.isParent=!1}function wg(){return Fl}function Uc(e){const t=Fl;return Fl=e,t}function Rs(){const e=br.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Zs(){return br.lFrame.bindingIndex++}function _a(e){const t=br.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Tg(e,t){const r=br.lFrame;r.bindingIndex=r.bindingRootIndex=e,Ha(t)}function Ha(e){br.lFrame.currentDirectiveIndex=e}function du(e){const t=br.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Qu(){return br.lFrame.currentQueryIndex}function jl(e){br.lFrame.currentQueryIndex=e}function tc(e){const t=e[en];return 2===t.type?t.declTNode:1===t.type?e[Ki]:null}function $l(e,t,r){if(r&Ln.SkipSelf){let a=t,l=e;for(;!(a=a.parent,null!==a||r&Ln.Host||(a=tc(l),null===a||(l=l[Sn],10&a.type))););if(null===a)return!1;t=a,e=l}const o=br.lFrame=Sf();return o.currentTNode=t,o.lView=e,!0}function Hl(e){const t=Sf(),r=e[en];br.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Sf(){const e=br.lFrame,t=null===e?null:e.child;return null===t?Xu(e):t}function Xu(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function za(){const e=br.lFrame;return br.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Bc=za;function nc(){const e=za();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ps(){return br.lFrame.selectedIndex}function rc(e){br.lFrame.selectedIndex=e}function ki(){const e=br.lFrame;return So(e.tView,e.selectedIndex)}function Rf(){br.lFrame.currentNamespace=Ba}function ah(){!function Wl(){br.lFrame.currentNamespace=null}()}let $c=!0;function ic(){return $c}function Wa(e){$c=e}function oc(e,t){for(let r=t.directiveStart,o=t.directiveEnd;r<o;r++){const l=e.data[r].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:L,ngOnDestroy:z}=l;g&&(e.contentHooks??=[]).push(-r,g),w&&((e.contentHooks??=[]).push(r,w),(e.contentCheckHooks??=[]).push(r,w)),D&&(e.viewHooks??=[]).push(-r,D),L&&((e.viewHooks??=[]).push(r,L),(e.viewCheckHooks??=[]).push(r,L)),null!=z&&(e.destroyHooks??=[]).push(r,z)}}function Kl(e,t,r){Pf(e,t,3,r)}function Zu(e,t,r,o){(3&e[ir])===r&&Pf(e,t,r,o)}function Yu(e,t){let r=e[ir];(3&r)===t&&(r&=16383,r+=1,e[ir]=r)}function Pf(e,t,r,o){const l=o??-1,g=t.length-1;let w=0;for(let D=void 0!==o?65535&e[qi]:0;D<g;D++)if("number"==typeof t[D+1]){if(w=t[D],null!=o&&w>=o)break}else t[D]<0&&(e[qi]+=65536),(w<l||-1==l)&&(Ju(e,r,t,D),e[qi]=(4294901760&e[qi])+D+2),D++}function Mf(e,t){pi(4,e,t);const r=Ie(null);try{t.call(e)}finally{Ie(r),pi(5,e,t)}}function Ju(e,t,r,o){const a=r[o]<0,l=r[o+1],w=e[a?-r[o]:r[o]];a?e[ir]>>14<e[qi]>>16&&(3&e[ir])===t&&(e[ir]+=16384,Mf(w,l)):Mf(w,l)}const Ys=-1;class va{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,r,o){this.factory=t,this.canSeeViewProviders=r,this.injectImpl=o}}function uh(e){return 3===e||4===e||6===e}function Ql(e){return 64===e.charCodeAt(0)}function Ac(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||lh(e,r,a,0,-1===r||2===r?t[++o]:null)}}return e}function lh(e,t,r,o,a){let l=0,g=e.length;if(-1===t)g=-1;else for(;l<e.length;){const w=e[l++];if("number"==typeof w){if(w===t){g=-1;break}if(w>t){g=l-1;break}}}for(;l<e.length;){const w=e[l];if("number"==typeof w)break;if(w===r)return void(null!==a&&(e[l+1]=a));l++,null!==a&&l++}-1!==g&&(e.splice(g,0,t),l=g+1),e.splice(l++,0,r),null!==a&&e.splice(l++,0,a)}function Cc(e){return e!==Ys}function tl(e){return 32767&e}function hu(e,t){let r=function dh(e){return e>>16}(e),o=t;for(;r>0;)o=o[Sn],r--;return o}let fu=!0;function Xl(e){const t=fu;return fu=e,t}const zc=255,pu=5;let gu=0;const Na={};function mu(e,t){const r=hh(e,t);if(-1!==r)return r;const o=t[en];o.firstCreatePass&&(e.injectorIndex=t.length,es(o.data,e),es(t,null),es(o.blueprint,null));const a=sc(e,t),l=e.injectorIndex;if(Cc(a)){const g=tl(a),w=hu(a,t),D=w[en].data;for(let L=0;L<8;L++)t[l+L]=w[g+L]|D[g+L]}return t[l+8]=a,l}function es(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function sc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=mh(a),null===o)return Ys;if(r++,a=a[Sn],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Ys}function yu(e,t,r){!function Ff(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(q)&&(o=r[q]),null==o&&(o=r[q]=gu++);const a=o&zc;t.data[e+(a>>pu)]|=1<<a}(e,t,r)}function Ga(e,t,r){if(r&Ln.Optional||void 0!==e)return e;yr()}function Sc(e,t,r,o){if(r&Ln.Optional&&void 0===o&&(o=null),!(r&(Ln.Self|Ln.Host))){const a=e[P],l=yi(void 0);try{return a?a.get(t,o,r&Ln.Optional):wo(t,o,r&Ln.Optional)}finally{yi(l)}}return Ga(o,0,r)}function Vf(e,t,r,o=Ln.Default,a){if(null!==e){if(2048&t[ir]&&!(o&Ln.Self)){const g=function Jl(e,t,r,o,a){let l=e,g=t;for(;null!==l&&null!==g&&2048&g[ir]&&!Vs(g);){const w=Wc(l,g,r,o|Ln.Self,Na);if(w!==Na)return w;let D=l.parent;if(!D){const L=g[Sa];if(L){const z=L.get(r,Na,o);if(z!==Na)return z}D=mh(g),g=g[Sn]}l=D}return a}(e,t,r,o,Na);if(g!==Na)return g}const l=Wc(e,t,r,o,Na);if(l!==Na)return l}return Sc(t,r,o,a)}function Wc(e,t,r,o,a){const l=function cc(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(q)?e[q]:void 0;return"number"==typeof t?t>=0?t&zc:bg:t}(r);if("function"==typeof l){if(!$l(t,e,o))return o&Ln.Host?Ga(a,0,o):Sc(t,r,o,a);try{let g;if(g=l(o),null!=g||o&Ln.Optional)return g;yr()}finally{Bc()}}else if("number"==typeof l){let g=null,w=hh(e,t),D=Ys,L=o&Ln.Host?t[cr][Ki]:null;for((-1===w||o&Ln.SkipSelf)&&(D=-1===w?sc(e,t):t[w+8],D!==Ys&&ph(o,!1)?(g=t[en],w=tl(D),t=hu(D,t)):w=-1);-1!==w;){const z=t[en];if(Zl(l,w,z.data)){const Z=fh(w,t,r,g,o,L);if(Z!==Na)return Z}D=t[w+8],D!==Ys&&ph(o,t[en].data[w+8]===L)&&Zl(l,w,t)?(g=z,w=tl(D),t=hu(D,t)):w=-1}}return a}function fh(e,t,r,o,a,l){const g=t[en],w=g.data[e+8],z=Ka(w,g,r,null==o?to(w)&&fu:o!=g&&!!(3&w.type),a&Ln.Host&&l===w);return null!==z?ac(t,g,z,w,a):Na}function Ka(e,t,r,o,a){const l=e.providerIndexes,g=t.data,w=1048575&l,D=e.directiveStart,z=l>>20,be=a?w+z:e.directiveEnd;for(let ue=o?w:w+z;ue<be;ue++){const We=g[ue];if(ue<D&&r===We||ue>=D&&We.type===r)return ue}if(a){const ue=g[D];if(ue&&Jo(ue)&&ue.type===r)return D}return null}function ac(e,t,r,o,a){let l=e[r];const g=t.data;if(l instanceof va){const w=l;w.resolving&&ci(function Dt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Pe(e)}(g[r]));const D=Xl(w.canSeeViewProviders);w.resolving=!0;const z=w.injectImpl?yi(w.injectImpl):null;$l(e,o,Ln.Default);try{l=e[r]=w.factory(void 0,a,g,e,o),t.firstCreatePass&&r>=o.directiveStart&&function Dc(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:l}=t.type.prototype;if(o){const g=ga(t);(r.preOrderHooks??=[]).push(e,g),(r.preOrderCheckHooks??=[]).push(e,g)}a&&(r.preOrderHooks??=[]).push(0-e,a),l&&((r.preOrderHooks??=[]).push(e,l),(r.preOrderCheckHooks??=[]).push(e,l))}(r,g[r],t)}finally{null!==z&&yi(z),Xl(D),w.resolving=!1,Bc()}}return l}function Zl(e,t,r){return!!(r[t+(e>>pu)]&1<<e)}function ph(e,t){return!(e&Ln.Self||e&Ln.Host&&t)}class Uo{_tNode;_lView;constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Vf(this._tNode,this._lView,t,as(o),r)}}function bg(){return new Uo($r(),Pt())}function Yl(e){return Dr(()=>{const t=e.prototype.constructor,r=t[ge]||gh(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const l=a[ge]||gh(a);if(l&&l!==r)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function gh(e){return gr(e)?()=>{const t=gh(_n(e));return t&&t()}:Ds(e)}function mh(e){const t=e[en],r=t.type;return 2===r?t.declTNode:1===r?e[Ki]:null}function b(e){return function Lf(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const l=r[a];if(uh(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(l===t)return r[a+1];a+=2}}}return null}($r(),e)}function Kc(e,t=null,r=null,o){const a=ed(e,t,r,o);return a.resolveInjectorInitializers(),a}function ed(e,t=null,r=null,o,a=new Set){const l=[r||vr,Nt(e)];return o=o||("object"==typeof e?void 0:Ve(e)),new yo(l,t||bo(),o||null,a)}class vs{static THROW_IF_NOT_FOUND=nt;static NULL=new ba;static create(t,r){if(Array.isArray(t))return Kc({name:""},r,t,"");{const o=t.name??"";return Kc({name:o},t.parent,t.providers,o)}}static \u0275prov=Fe({token:vs,providedIn:"any",factory:()=>ni(ra)});static __NG_ELEMENT_ID__=-1}new Ee("").__NG_ELEMENT_ID__=e=>{const t=$r();if(null===t)throw new lt(204,!1);if(2&t.type)return t.value;if(e&Ln.Optional)return null;throw new lt(204,!1)};const _u=!1;let Us=(()=>class e{static __NG_ELEMENT_ID__=Uf;static __NG_ENV_ID__=r=>r})();class yh extends Us{_lView;constructor(t){super(),this._lView=t}onDestroy(t){const r=this._lView;return S(r)?(t(),()=>{}):(ec(r,t),()=>function Vc(e,t){if(null===e[21])return;const r=e[21].indexOf(t);-1!==r&&e[21].splice(r,1)}(r,t))}}function Uf(){return new yh(Pt())}class Es{}const qc=new Ee("",{providedIn:"root",factory:()=>!1}),Bf=new Ee(""),jf=new Ee("");let Qc=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Si.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Fe({token:e,providedIn:"root",factory:()=>new e})}return e})(),rl=(()=>{class e{internalPendingTasks=En(Qc);scheduler=En(Es);add(){const r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r))}}run(r){var o=this;return(0,T.A)(function*(){const a=o.add();try{return yield r()}finally{a()}})()}static \u0275prov=Fe({token:e,providedIn:"root",factory:()=>new e})}return e})();const lc=class $f extends fn.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,hi()&&(this.destroyRef=En(Us,{optional:!0})??void 0,this.pendingTasks=En(Qc,{optional:!0})??void 0)}emit(t){const r=Ie(null);try{super.next(t)}finally{Ie(r)}}subscribe(t,r,o){let a=t,l=r||(()=>null),g=o;if(t&&"object"==typeof t){const D=t;a=D.next?.bind(D),l=D.error?.bind(D),g=D.complete?.bind(D)}this.__isAsync&&(l=this.wrapInTimeout(l),a&&(a=this.wrapInTimeout(a)),g&&(g=this.wrapInTimeout(g)));const w=super.subscribe({next:a,error:l,complete:g});return t instanceof fr.yU&&t.add(w),w}wrapInTimeout(t){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{try{t(r)}finally{void 0!==o&&this.pendingTasks?.remove(o)}})}}};function il(...e){}function Ky(e){let t,r;function o(){e=il;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Cg(e){return queueMicrotask(()=>e()),()=>{e=il}}const Sg="isAngularZone",Hf=Sg+"_ID";let Qy=0;class _o{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new lc(!1);onMicrotaskEmpty=new lc(!1);onStable=new lc(!1);onError=new lc(!1);constructor(t){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:l=_u}=t;if(typeof Zone>"u")throw new lt(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!a&&o,g.shouldCoalesceRunChangeDetection=a,g.callbackScheduled=!1,g.scheduleInRootZone=l,function CE(e){const t=()=>{!function Xy(e){function t(){Ky(()=>{e.callbackScheduled=!1,zf(e),e.isCheckStableRunning=!0,Pg(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),zf(e))}(e)},r=Qy++;e._inner=e._inner.fork({name:"angular",properties:{[Sg]:!0,[Hf]:r,[Hf+r]:!0},onInvokeTask:(o,a,l,g,w,D)=>{if(function Mg(e){return Ng(e,"__ignore_ng_zone__")}(D))return o.invokeTask(l,g,w,D);try{return Zy(e),o.invokeTask(l,g,w,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),ol(e)}},onInvoke:(o,a,l,g,w,D,L)=>{try{return Zy(e),o.invoke(l,g,w,D,L)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Wf(e){return Ng(e,"__scheduler_tick__")}(D)&&t(),ol(e)}},onHasTask:(o,a,l,g)=>{o.hasTask(l,g),a===l&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,zf(e),Pg(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,a,l,g)=>(o.handleError(l,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Sg)}static assertInAngularZone(){if(!_o.isInAngularZone())throw new lt(909,!1)}static assertNotInAngularZone(){if(_o.isInAngularZone())throw new lt(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const l=this._inner,g=l.scheduleEventTask("NgZoneEvent: "+a,t,Rg,il,il);try{return l.runTask(g,r,o)}finally{l.cancelTask(g)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const Rg={};function Pg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function zf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Zy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ol(e){e._nesting--,Pg(e)}class vu{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new lc;onMicrotaskEmpty=new lc;onStable=new lc;onError=new lc;run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function Ng(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class dc{_console=console;handleError(t){this._console.error("ERROR",t)}}const SE=new Ee("",{providedIn:"root",factory:()=>{const e=En(_o),t=En(dc);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function kg(e,t){return gi(e,t)}const t_=(kg.required=function e_(e){return gi(qt,e)},kg);function n_(){return sl($r(),Pt())}function sl(e,t){return new al(ei(e,t))}let al=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=n_})();function hc(e){return e instanceof al?e.nativeElement:e}function Xc(e,t){const r=function le(e,t){const r=Object.create(qe);r.value=e,void 0!==t&&(r.equal=t);const o=()=>(et(r),r.value);return o[Xe]=r,o}(e,t?.equal),o=r[Xe];return r.set=a=>ye(o,a),r.update=a=>function re(e,t){jt()||Mt(e),ye(e,t(e.value))}(o,a),r.asReadonly=td.bind(r),r}function td(){const e=this[Xe];if(void 0===e.readonlyFn){const t=()=>this();t[Xe]=e,e.readonlyFn=t}return e.readonlyFn}function qf(e){return function _h(e){return"function"==typeof e&&void 0!==e[Xe]}(e)&&"function"==typeof e.set}function xg(){return this._results[Symbol.iterator]()}class r_{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new fn.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function co(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Kr(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o];if(r&&(a=r(a),l=r(l)),l!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=xg}function cl(e){return!(128&~e.flags)}var Xf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Xf||{});const Zf=new Map;let Js=0;function ll(e){Zf.delete(e[Qs])}const Lg="__ngContext__";function Ea(e,t){Qi(t)?(e[Lg]=t[Qs],function s_(e){Zf.set(e[Qs],e)}(t)):e[Lg]=t}function Yc(e){return d_(e[Ae])}function jg(e){return d_(e[$o])}function d_(e){for(;null!==e&&!Ai(e);)e=e[$o];return e}let ip;function kE(e){ip=e}function qa(){if(void 0!==ip)return ip;if(typeof document<"u")return document;throw new lt(210,!1)}const Eu=new Ee("",{providedIn:"root",factory:()=>Gg}),Gg="ng",Kg=new Ee(""),qg=new Ee("",{providedIn:"platform",factory:()=>"unknown"}),Qg=new Ee(""),g_=new Ee("",{providedIn:"root",factory:()=>qa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),y_=new Ee("",{providedIn:"root",factory:()=>!1});var sm=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(sm||{});const ld=new Ee(""),__=new Set;function Ia(e){__.has(e)||(__.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let cp=(()=>class e{view;node;constructor(r,o){this.view=r,this.node=o}static __NG_ELEMENT_ID__=am})();function am(){return new cp(Pt(),$r())}var pl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(pl||{});let Sh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Fe({token:e,providedIn:"root",factory:()=>new e})}return e})();const up=[pl.EarlyRead,pl.Write,pl.MixedReadWrite,pl.Read];let lp=(()=>{class e{ngZone=En(_o);scheduler=En(Es);errorHandler=En(dc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){En(ld,{optional:!0})}execute(){const r=this.sequences.size>0;r&&pi(16),this.executing=!0;for(const o of up)for(const a of this.sequences)if(!a.erroredOrDestroyed&&a.hooks[o])try{a.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,a.hooks[o])(a.pipelinedValue),a.snapshot))}catch(l){a.erroredOrDestroyed=!0,this.errorHandler?.handleError(l)}this.executing=!1;for(const o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(const o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&pi(17)}register(r){const{view:o}=r;void 0!==o?((o[25]??=[]).push(r),wc(o),o[ir]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,o){return o?o.run(sm.AFTER_NEXT_RENDER,r):r()}static \u0275prov=Fe({token:e,providedIn:"root",factory:()=>new e})}return e})();class E_{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,r,o,a,l,g=null){this.impl=t,this.hooks=r,this.view=o,this.once=a,this.snapshot=g,this.unregisterOnDestroy=l?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(r=>r!==this))}}function cm(e,t){!t?.injector&&Fo();const r=t?.injector??En(vs);return Ia("NgAfterNextRender"),function w_(e,t,r,o){const a=t.get(Sh);a.impl??=t.get(lp);const l=t.get(ld,null,{optional:!0}),g=r?.phase??pl.MixedReadWrite,w=!0!==r?.manualCleanup?t.get(Us):null,D=t.get(cp,null,{optional:!0}),L=new E_(a.impl,function um(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,g),D?.view,o,w,l?.snapshot(null));return a.impl.register(L),L}(e,r,t,!0)}let Fh=(e,t,r,o)=>{};function ZE(e,t){const r=e.contentQueries;if(null!==r){const o=Ie(null);try{for(let a=0;a<r.length;a+=2){const g=r[a+1];if(-1!==g){const w=e.data[g];jl(r[a]),w.contentQueries(2,t[g],g)}}}finally{Ie(o)}}}function z_(e,t,r){jl(0);const o=Ie(null);try{t(e,r)}finally{Ie(o)}}function $h(e,t,r){if(Ja(t)){const o=Ie(null);try{const l=t.directiveEnd;for(let g=t.directiveStart;g<l;g++){const w=e.data[g];w.contentQueries&&w.contentQueries(1,r[g],g)}}finally{Ie(o)}}}var Nc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Nc||{});let Rm,Pm;function Hh(e){return function YE(){if(void 0===Rm&&(Rm=null,Cn.trustedTypes))try{Rm=Cn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Rm}()?.createHTML(e)||e}function W_(){if(void 0===Pm&&(Pm=null,Cn.trustedTypes))try{Pm=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pm}function JE(e){return W_()?.createHTML(e)||e}function G_(e){return W_()?.createScriptURL(e)||e}class ka{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kr})`}}class ml extends ka{getTypeName(){return"HTML"}}class ET extends ka{getTypeName(){return"Style"}}class Td extends ka{getTypeName(){return"Script"}}class Mm extends ka{getTypeName(){return"URL"}}class Ip extends ka{getTypeName(){return"ResourceURL"}}function tu(e){return e instanceof ka?e.changingThisBreaksApplicationSecurity:e}function bd(e,t){const r=function K_(e){return e instanceof ka&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${kr})`)}return r===t}function q_(e){return new ml(e)}function Tp(e){return new ET(e)}function ew(e){return new Td(e)}function yl(e){return new Mm(e)}function bp(e){return new Ip(e)}class Q_{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Hh(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.firstChild?.remove(),r)}catch{return null}}}class Nm{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Hh(t),r}}const xm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ad(e){return(e=String(e)).match(xm)?e:"unsafe:"+e}function mc(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function _l(...e){const t={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(t[o]=!0);return t}const Om=mc("area,br,col,hr,img,wbr"),Au=mc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fm=mc("rp,rt"),Lm=_l(Om,_l(Au,mc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_l(Fm,mc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_l(Fm,Au)),Cd=mc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sd=_l(Cd,mc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rw=mc("script,style,template");class Ap{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let r=t.firstChild,o=!0,a=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)a.push(r),r=zh(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let l=Um(r);if(l){r=l;break}r=a.pop()}return this.buf.join("")}startElement(t){const r=Y_(t).toLowerCase();if(!Lm.hasOwnProperty(r))return this.sanitizedSomething=!0,!rw.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=t.attributes;for(let a=0;a<o.length;a++){const l=o.item(a),g=l.name,w=g.toLowerCase();if(!Sd.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=l.value;Cd[w]&&(D=Ad(D)),this.buf.push(" ",g,'="',ow(D),'"')}return this.buf.push(">"),!0}endElement(t){const r=Y_(t).toLowerCase();Lm.hasOwnProperty(r)&&!Om.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(ow(t))}}function Um(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Rd(t);return t}function zh(e){const t=e.firstChild;if(t&&function Z_(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Rd(t);return t}function Y_(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Rd(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const iw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pd=/([^\#-~ |!])/g;function ow(e){return e.replace(/&/g,"&amp;").replace(iw,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Pd,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bm;function Cp(e,t){let r=null;try{Bm=Bm||function Dd(e){const t=new Nm(e);return function km(){try{return!!(new window.DOMParser).parseFromString(Hh(""),"text/html")}catch{return!1}}()?new Q_(t):t}(e);let o=t?String(t):"";r=Bm.getInertBodyElement(o);let a=5,l=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=l,l=r.innerHTML,r=Bm.getInertBodyElement(o)}while(o!==l);return Hh((new Ap).sanitizeChildren(jm(r)||r))}finally{if(r){const o=jm(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function jm(e){return"content"in e&&function Sp(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Md=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Md||{});function sw(e){const t=Nd();return t?JE(t.sanitize(Md.HTML,e)||""):bd(e,"HTML")?JE(tu(e)):Cp(qa(),Pe(e))}function J_(e){const t=Nd();return t?t.sanitize(Md.URL,e)||"":bd(e,"URL")?tu(e):Ad(Pe(e))}function aw(e){const t=Nd();if(t)return G_(t.sanitize(Md.RESOURCE_URL,e)||"");if(bd(e,"ResourceURL"))return G_(tu(e));throw new lt(904,!1)}function $m(e,t,r){return function ev(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?aw:J_}(t,r)(e)}function Nd(){const e=Pt();return e&&e[k].sanitizer}const tv=/^>|^->|<!--|-->|--!>|<!-$/g,Mp=/(<|>)/g;function nu(e){return e instanceof Function?e():e}function xT(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const l=t.length;if(a+l===o||e.charCodeAt(a+l)<=32)return a}r=a+1}}const av="ng-template";function yw(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==xT(t[a+1].toLowerCase(),r,0))return!0}else if(zm(e))return!1;if(a=t.indexOf(1,a),a>-1){let l;for(;++a<t.length&&"string"==typeof(l=t[a]);)if(l.toLowerCase()===r)return!0}return!1}function zm(e){return 4===e.type&&e.value!==av}function OT(e,t,r){return t===(4!==e.type||r?e.value:av)}function _w(e,t,r){let o=4;const a=e.attrs,l=null!==a?function FT(e){for(let t=0;t<e.length;t++)if(uh(e[t]))return t;return e.length}(a):0;let g=!1;for(let w=0;w<t.length;w++){const D=t[w];if("number"!=typeof D){if(!g)if(4&o){if(o=2|1&o,""!==D&&!OT(e,D,r)||""===D&&1===t.length){if(yc(o))return!1;g=!0}}else if(8&o){if(null===a||!yw(e,a,D,r)){if(yc(o))return!1;g=!0}}else{const L=t[++w],z=Su(D,a,zm(e),r);if(-1===z){if(yc(o))return!1;g=!0;continue}if(""!==L){let Z;if(Z=z>l?"":a[z+1].toLowerCase(),2&o&&L!==Z){if(yc(o))return!1;g=!0}}}}else{if(!g&&!yc(o)&&!yc(D))return!1;if(g&&yc(D))continue;g=!1,o=D|1&o}}return yc(o)||g}function yc(e){return!(1&e)}function Su(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let l=!1;for(;a<t.length;){const g=t[a];if(g===e)return a;if(3===g||6===g)l=!0;else{if(1===g||2===g){let w=t[++a];for(;"string"==typeof w;)w=t[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=l?1:2}return-1}return function LT(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function cv(e,t,r=!1){for(let o=0;o<t.length;o++)if(_w(e,t[o],r))return!0;return!1}function Ew(e,t){return e?":not("+t.trim()+")":t}function UT(e){let t=e[0],r=1,o=2,a="",l=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const w=e[++r];a+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&o?a+="."+g:4&o&&(a+=" "+g);else""!==a&&!yc(g)&&(t+=Ew(l,a),a=""),o=g,l=l||!yc(o);r++}return""!==a&&(t+=Ew(l,a)),t}const Lr={};function Gm(e,t){return e.createComment(function dw(e){return e.replace(tv,t=>t.replace(Mp,"\u200b$1\u200b"))}(t))}function Km(e,t,r){return e.createElement(t,r)}function Fd(e,t,r,o,a){e.insertBefore(t,r,o,a)}function ww(e,t,r){e.appendChild(t,r)}function Iw(e,t,r,o,a){null!==o?Fd(e,t,r,o,a):ww(e,t,r)}function Tw(e,t,r){const{mergedAttrs:o,classes:a,styles:l}=r;null!==o&&function ch(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const l=r[o++],g=r[o++],w=r[o++];e.setAttribute(t,g,w,l)}else{const l=a,g=r[++o];Ql(l)?e.setProperty(t,l,g):e.setAttribute(t,l,g),o++}}}(e,t,o),null!==a&&function HT(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}(e,t,a),null!==l&&function $T(e,t,r){e.setAttribute(t,"style",r)}(e,t,l)}function Gh(e,t,r,o,a,l,g,w,D,L,z){const Z=Nn+o,be=Z+a,ue=function kp(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:Lr);return r}(Z,be),We="function"==typeof L?L():L;return ue[en]={type:e,blueprint:ue,template:r,queries:null,viewQuery:w,declTNode:t,data:ue.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:D,consts:We,incompleteFirstPass:!1,ssrId:z}}function n(e,t,r,o,a,l,g,w,D,L,z){const Z=t.blueprint.slice();return Z[qr]=a,Z[ir]=1228|o,(null!==L||e&&2048&e[ir])&&(Z[ir]|=2048),ja(Z),Z[fi]=Z[Sn]=e,Z[oi]=r,Z[k]=g||e&&e[k],Z[H]=w||e&&e[H],Z[P]=D||e&&e[P]||null,Z[Ki]=l,Z[Qs]=function RE(){return Js++}(),Z[Xo]=z,Z[Sa]=L,Z[cr]=2==t.type?e[cr]:Z,Z}function s(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function u(e,t,r,o){if(0===r)return-1;const a=t.length;for(let l=0;l<r;l++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function p(e,t){return e[Ae]?e[xt][$o]=t:e[Ae]=t,e[xt]=t,t}function v(e=1){R(wr(),Pt(),Ps()+e,!1)}function R(e,t,r,o){if(!o)if(3&~t[ir]){const l=e.preOrderHooks;null!==l&&Zu(t,l,0,r)}else{const l=e.preOrderCheckHooks;null!==l&&Kl(t,l,r)}rc(r)}var x=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(x||{});function U(e,t,r,o){const a=Ie(null);try{const[l,g,w]=e.inputs[r];let D=null;!!(g&x.SignalBased)&&(D=t[l][Xe]),null!==D&&void 0!==D.transformFn?o=D.transformFn(o):null!==w&&(o=w.call(t,o)),null!==e.setInput?e.setInput(t,D,o,r,l):Lo(t,D,l,o)}finally{Ie(a)}}function X(e,t,r,o,a){const l=Ps(),g=2&o;try{rc(-1),g&&t.length>Nn&&R(e,t,Nn,!1),pi(g?2:0,a),r(o,a)}finally{rc(l),pi(g?3:1,a)}}function se(e,t,r){(function st(e,t,r){const o=r.directiveStart,a=r.directiveEnd;to(r)&&function i(e,t,r){const o=ei(t,e),a=function c(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(r),l=e[k].rendererFactory,g=p(e,n(e,a,null,s(r),o,t,null,l.createRenderer(o,r),null,null,null));e[t.index]=g}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||mu(r,t);const l=r.initialInputs;for(let g=o;g<a;g++){const w=e.data[g],D=ac(t,e,g,r);Ea(D,t),null!==l&&je(0,g-o,D,w,0,l),Jo(w)&&(fs(r.index,t)[oi]=ac(t,e,g,r))}})(e,t,r),!(64&~r.flags)&&function ke(e,t,r){const o=r.directiveStart,a=r.directiveEnd,l=r.index,g=function bc(){return br.lFrame.currentDirectiveIndex}();try{rc(l);for(let w=o;w<a;w++){const D=e.data[w],L=t[w];Ha(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&ze(D,L)}}finally{rc(-1),Ha(g)}}(e,t,r)}function xe(e,t,r=ei){const o=t.localNames;if(null!==o){let a=t.index+1;for(let l=0;l<o.length;l+=2){const g=o[l+1],w=-1===g?r(t,e):e[g];e[a++]=w}}}let ln=()=>null;function xn(e,t,r,o,a,l,g,w){if(w||!wl(t,e,r,o,a)){if(3&t.type){const D=ei(t,r);o=function or(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=g?g(a,t.value||"",o):a,l.setProperty(D,o,a)}}else to(t)&&function Vr(e,t){const r=fs(t,e);16&r[ir]||(r[ir]|=64)}(r,t.index)}function ze(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function at(e,t){const r=e.directiveRegistry;let o=null;if(r)for(let a=0;a<r.length;a++){const l=r[a];cv(t,l.selectors,!1)&&(o??=[],Jo(l)?o.unshift(l):o.push(l))}return o}function ut(e,t,r,o,a,l){const g=ei(e,t);!function Ct(e,t,r,o,a,l,g){if(null==l)e.removeAttribute(t,a,r);else{const w=null==g?Pe(l):g(l,o||"",a);e.setAttribute(t,a,w,r)}}(t[H],g,l,e.value,r,o,a)}function je(e,t,r,o,a,l){const g=l[t];if(null!==g)for(let w=0;w<g.length;w+=2)U(o,r,g[w],g[w+1])}function Vd(e,t,r){return(null===e||Jo(e))&&(r=function dr(e){for(;Array.isArray(e);){if("object"==typeof e[pa])return e;e=e[qr]}return null}(r[t.index])),r[H]}function wl(e,t,r,o,a){const l=e.inputs?.[o],g=e.hostDirectiveInputs?.[o];let w=!1;if(g)for(let D=0;D<g.length;D+=2){const L=g[D];U(t.data[L],r[L],g[D+1],a),w=!0}if(l)for(const D of l)U(t.data[D],r[D],o,a),w=!0;return w}function Kh(e,t){const r=fs(t,e),o=r[en];!function Xm(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[qr];null!==a&&null===r[Xo]&&(r[Xo]=null),pi(18),qh(o,r,r[oi]),pi(19,r[oi])}function qh(e,t,r){Hl(t);try{const o=e.viewQuery;null!==o&&z_(1,o,r);const a=e.template;null!==a&&X(e,t,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[Do]?.finishViewCreation(e),e.staticContentQueries&&ZE(e,t),e.staticViewQueries&&z_(2,e.viewQuery,r);const l=e.components;null!==l&&function bw(e,t){for(let r=0;r<t.length;r++)Kh(e,t[r])}(t,l)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[ir]&=-5,nc()}}function ns(e,t){return!t||null===t.firstChild||cl(e)}function Il(e,t){return undefined(e,t)}var Pu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Pu||{});function Mu(e){return!(32&~e.flags)}function Ud(e,t,r,o,a){if(null!=o){let l,g=!1;Ai(o)?l=o:Qi(o)&&(g=!0,o=o[qr]);const w=gn(o);0===e&&null!==r?null==a?ww(t,r,w):Fd(t,r,w,a||null,!0):1===e&&null!==r?Fd(t,r,w,a||null,!0):2===e?function Ld(e,t,r){e.removeChild(null,t,r)}(t,w,g):3===e&&t.destroyNode(w),null!=l&&function hv(e,t,r,o,a){const l=r[7];l!==gn(r)&&Ud(t,e,o,l,a);for(let w=zi;w<r.length;w++){const D=r[w];Yh(D[en],D,e,t,o,l)}}(t,e,l,r,a)}}function Op(e,t){t[k].changeDetectionScheduler?.notify(9),Yh(e,t,t[H],2,null,null)}function Xh(e,t){const r=e[Ua],o=r.indexOf(t);r.splice(o,1)}function Tl(e,t){if(S(t))return;const r=t[H];r.destroyNode&&Yh(e,t,r,3,null,null),function Ym(e){let t=e[Ae];if(!t)return Fp(e[en],e);for(;t;){let r=null;if(Qi(t))r=t[Ae];else{const o=t[zi];o&&(r=o)}if(!r){for(;t&&!t[$o]&&t!==e;)Qi(t)&&Fp(t[en],t),t=t[fi];null===t&&(t=e),Qi(t)&&Fp(t[en],t),r=t&&t[$o]}t=r}}(t)}function Fp(e,t){if(S(t))return;const r=Ie(null);try{t[ir]&=-129,t[ir]|=256,t[24]&&Ne(t[24]),function Aw(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof va)){const l=r[o+1];if(Array.isArray(l))for(let g=0;g<l.length;g+=2){const w=a[l[g]],D=l[g+1];pi(4,w,D);try{D.call(w)}finally{pi(5,w,D)}}else{pi(4,a,l);try{l.call(a)}finally{pi(5,a,l)}}}}}(e,t),function lv(e,t){const r=e.cleanup,o=t[Yo];if(null!==r)for(let g=0;g<r.length-1;g+=2)if("string"==typeof r[g]){const w=r[g+3];w>=0?o[w]():o[-w].unsubscribe(),g+=2}else r[g].call(o[r[g+1]]);null!==o&&(t[Yo]=null);const a=t[21];if(null!==a){t[21]=null;for(let g=0;g<a.length;g++)(0,a[g])()}const l=t[23];if(null!==l){t[23]=null;for(const g of l)g.destroy()}}(e,t),1===t[en].type&&t[H].destroy();const o=t[Hi];if(null!==o&&Ai(t[fi])){o!==t[fi]&&Xh(o,t);const a=t[Do];null!==a&&a.detachView(e)}ll(t)}finally{Ie(r)}}function Lp(e,t,r){return function Jm(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[qr];if(to(o)){const{encapsulation:a}=e.data[o.directiveStart+o.componentOffset];if(a===Nc.None||a===Nc.Emulated)return null}return ei(o,r)}(e,t.parent,r)}let Zh,dv=function ey(e,t,r){return 40&e.type?ei(e,r):null};function Bd(e,t,r,o){const a=Lp(e,o,t),l=t[H],w=function Vp(e,t,r){return dv(e,t,r)}(o.parent||t[Ki],o,t);if(null!=a)if(Array.isArray(r))for(let D=0;D<r.length;D++)Iw(l,a,r[D],w,!1);else Iw(l,a,r,w,!1);void 0!==Zh&&Zh(l,o,t,r,a)}function rs(e,t){if(null!==t){const r=t.type;if(3&r)return ei(t,e);if(4&r)return jd(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return rs(e,o);{const a=e[t.index];return Ai(a)?jd(-1,a):gn(a)}}if(128&r)return rs(e,t.next);if(32&r)return Il(t,e)()||gn(e[t.index]);{const o=ea(e,t);return null!==o?Array.isArray(o)?o[0]:rs(oa(e[cr]),o):rs(e,t.next)}}return null}function ea(e,t){return null!==t?e[cr][Ki].projection[t.projection]:null}function jd(e,t){const r=zi+e+1;if(r<t.length){const o=t[r],a=o[en].firstChild;if(null!==a)return rs(o,a)}return t[7]}function Bp(e,t,r,o,a,l,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const w=o[r.index],D=r.type;if(g&&0===t&&(w&&Ea(gn(w),o),r.flags|=2),!Mu(r))if(8&D)Bp(e,t,r.child,o,a,l,!1),Ud(t,e,a,w,l);else if(32&D){const L=Il(r,o);let z;for(;z=L();)Ud(t,e,a,z,l);Ud(t,e,a,w,l)}else 16&D?$d(e,t,o,r,a,l):Ud(t,e,a,w,l);r=g?r.projectionNext:r.next}}function Yh(e,t,r,o,a,l){Bp(r,o,e.firstChild,t,a,l,!1)}function $d(e,t,r,o,a,l){const g=r[cr],D=g[Ki].projection[o.projection];if(Array.isArray(D))for(let L=0;L<D.length;L++)Ud(t,e,a,D[L],l);else{let L=D;const z=g[fi];cl(o)&&(L.flags|=128),Bp(e,t,L,z,a,l,!0)}}function Nu(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const l=t[r.index];null!==l&&o.push(gn(l)),Ai(l)&&ty(l,o);const g=r.type;if(8&g)Nu(e,t,r.child,o);else if(32&g){const w=Il(r,t);let D;for(;D=w();)o.push(D)}else if(16&g){const w=ea(t,r);if(Array.isArray(w))o.push(...w);else{const D=oa(t[cr]);Nu(D[en],D,w,o,!0)}}r=a?r.projectionNext:r.next}return o}function ty(e,t){for(let r=zi;r<e.length;r++){const o=e[r],a=o[en].firstChild;null!==a&&Nu(o[en],o,a,t)}e[7]!==e[qr]&&t.push(e[7])}function pv(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let jp=[];const ny={...he,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{wc(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},bl={...he,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=oa(e.lView);for(;t&&!iy(t[en]);)t=oa(t);t&&Pa(t)},consumerOnSignalRead(){this.lView[24]=this}};function iy(e){return 2!==e.type}function ef(e){if(null===e[23])return;let t=!0;for(;t;){let r=!1;for(const o of e[23])o.dirty&&(r=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));t=r&&!!(8192&e[ir])}}function ku(e,t=!0,r=0){const a=e[k].rendererFactory;a.begin?.();try{!function _v(e,t){const r=wg();try{Uc(!0),xu(e,t);let o=0;for(;uu(e);){if(100===o)throw new lt(103,!1);o++,xu(e,1)}}finally{Uc(r)}}(e,r)}catch(g){throw t&&function Qm(e,t){const r=e[P],o=r?r.get(dc,null):null;o&&o.handleError(t)}(e,g),g}finally{a.end?.()}}function oy(e,t,r,o){if(S(t))return;const a=t[ir];Hl(t);let w=!0,D=null,L=null;iy(e)?(L=function gv(e){return e[24]??function mv(e){const t=jp.pop()??Object.create(ny);return t.lView=e,t}(e)}(t),D=mt(L)):null===function fe(){return Q}()?(w=!1,L=function ry(e){const t=e[24]??Object.create(bl);return t.lView=e,t}(t),D=mt(L)):t[24]&&(Ne(t[24]),t[24]=null);try{ja(t),function Cf(e){return br.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&X(e,t,r,2,o);const z=!(3&~a);if(z){const ue=e.preOrderCheckHooks;null!==ue&&Kl(t,ue,null)}else{const ue=e.preOrderHooks;null!==ue&&Zu(t,ue,0,null),Yu(t,0)}if(function tf(e){for(let t=Yc(e);null!==t;t=jg(t)){if(!(2&t[ir]))continue;const r=t[Ua];for(let o=0;o<r.length;o++)Pa(r[o])}}(t),ef(t),Hd(t,0),null!==e.contentQueries&&ZE(e,t),z){const ue=e.contentCheckHooks;null!==ue&&Kl(t,ue)}else{const ue=e.contentHooks;null!==ue&&Zu(t,ue,1),Yu(t,1)}!function Rw(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)rc(~a);else{const l=a,g=r[++o],w=r[++o];Tg(g,l);const D=t[l];pi(24,D),w(2,D),pi(25,D)}}}finally{rc(-1)}}(e,t);const Z=e.components;null!==Z&&Ev(t,Z,0);const be=e.viewQuery;if(null!==be&&z_(2,be,o),z){const ue=e.viewCheckHooks;null!==ue&&Kl(t,ue)}else{const ue=e.viewHooks;null!==ue&&Zu(t,ue,2),Yu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const ue of t[22])ue();t[22]=null}pv(t),t[ir]&=-73}catch(z){throw wc(t),z}finally{null!==L&&(Et(L,D),w&&function Jh(e){e.lView[24]!==e&&(e.lView=null,jp.push(e))}(L)),nc()}}function Hd(e,t){for(let r=Yc(e);null!==r;r=jg(r))for(let o=zi;o<r.length;o++)vv(r[o],t)}function Sw(e,t,r){pi(18);const o=fs(t,e);vv(o,r),pi(19,o[oi])}function vv(e,t){Qr(e)&&xu(e,t)}function xu(e,t){const o=e[en],a=e[ir],l=e[24];let g=!!(0===t&&16&a);if(g||=!!(64&a&&0===t),g||=!!(1024&a),g||=!(!l?.dirty||!St(l)),g||=!1,l&&(l.dirty=!1),e[ir]&=-9217,g)oy(o,e,o.template,e[oi]);else if(8192&a){ef(e),Hd(e,1);const w=o.components;null!==w&&Ev(e,w,1),pv(e)}}function Ev(e,t,r){for(let o=0;o<t.length;o++)Sw(e,t[o],r)}function Ou(e,t){const r=wg()?64:1088;for(e[k].changeDetectionScheduler?.notify(t);e;){e[ir]|=r;const o=oa(e);if(Vs(e)&&!o)return e;e=o}return null}function sy(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function zd(e,t){if(e.length<=zi)return;const r=zi+t,o=e[r];if(o){const a=o[Hi];null!==a&&a!==e&&Xh(a,o),t>0&&(e[r-1][$o]=o[$o]);const l=As(e,zi+t);!function Qh(e,t){Op(e,t),t[qr]=null,t[Ki]=null}(o[en],o);const g=l[Do];null!==g&&g.detachView(l[en]),o[fi]=null,o[$o]=null,o[ir]&=-129}return o}function Hp(e,t){const r=e[Ua],o=t[fi];(Qi(o)||t[cr]!==o[fi][cr])&&(e[ir]|=2),null===r?e[Ua]=[t]:r.push(t)}let Dl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const t=this._lView,r=t[en];return Nu(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[oi]}set context(t){this._lView[oi]=t}get destroyed(){return S(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[fi];if(Ai(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(zd(t,o),As(r,o))}this._attachedToViewContainer=!1}Tl(this._lView[en],this._lView)}onDestroy(t){ec(this._lView,t)}markForCheck(){Ou(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ir]&=-129}reattach(){ih(this._lView),this._lView[ir]|=128}detectChanges(){this._lView[ir]|=1024,ku(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new lt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Vs(this._lView),r=this._lView[Hi];null!==r&&!t&&Xh(r,this._lView),Op(this._lView[en],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new lt(902,!1);this._appRef=t;const r=Vs(this._lView),o=this._lView[Hi];null!==o&&!r&&Hp(o,this._lView),ih(this._lView)}},nf=(()=>class e{static __NG_ELEMENT_ID__=ay})();const zp=nf,Iv=class extends zp{_declarationLView;_declarationTContainer;elementRef;constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=function xa(e,t,r,o){const a=Ie(null);try{const l=t.tView,D=n(e,l,r,4096&e[ir]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);D[Hi]=e[t.index];const z=e[Do];return null!==z&&(D[Do]=z.createEmbeddedView(l)),qh(l,D,r),D}finally{Ie(a)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Dl(a)}};function ay(){return Fu($r(),Pt())}function Fu(e,t){return 4&e.type?new Iv(t,e,sl(e,t)):null}function Fc(e,t,r,o,a){let l=e.data[t];if(null===l)l=function dy(e,t,r,o,a){const l=bf(),g=Vl(),D=e.data[t]=function Fw(e,t,r,o,a,l){let g=t?t.injectorIndex:-1,w=0;return function Ma(){return null!==br.skipHydrationRootTNode}()&&(w|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?l:l&&l.parent,r,t,o,a);return function Sv(e,t,r,o){null===e.firstChild&&(e.firstChild=t),null!==r&&(o?null==r.child&&null!==t.parent&&(r.child=t):null===r.next&&(r.next=t,t.prev=r))}(e,D,l,g),D}(e,t,r,o,a),function Ig(){return br.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=r,l.value=o,l.attrs=a;const g=function aa(){const e=br.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===g?-1:g.injectorIndex}return Xs(l,!0),l}let IC=class{},WT=class{};class TC{resolveComponentFactory(t){throw Error(`No component factory found for ${Ve(t)}.`)}}let Ey=class{static NULL=new TC};class Uw{}let bC=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function DC(){const e=Pt(),r=fs($r().index,e);return(Qi(r)?r:e)[H]}()})(),AC=(()=>{class e{static \u0275prov=Fe({token:e,providedIn:"root",factory:()=>null})}return e})();function hf(e){return!!jo(e)}const jw={};class tg{injector;parentInjector;constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=as(o);const a=this.injector.get(t,jw,o);return a!==jw||r===jw?a:this.parentInjector.get(t,r,o)}}function $w(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,l=0;if(null!==t)for(let g=0;g<t.length;g++){const w=t[g];"number"==typeof w?l=w:1==l?a=Ar(a,w):2==l&&(o=Ar(o,w+": "+t[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}function ng(e,t=Ln.Default){const r=Pt();return null===r?ni(e,t):Vf($r(),r,_n(e),t)}function KT(){throw new Error("invalid")}function Hw(e,t,r,o,a){const l=null===o?null:{"":-1},g=a(e,r);if(null!==g){let w,D=null,L=null;const z=function MC(e){let t=null,r=!1;for(let g=0;g<e.length;g++){const w=e[g];if(0===g&&Jo(w)&&(t=w),null!==w.findHostDirectiveDefs){r=!0;break}}if(!r)return null;let o=null,a=null,l=null;for(const g of e)null!==g.findHostDirectiveDefs&&(o??=[],a??=new Map,l??=new Map,NC(g,o,l,a)),g===t&&(o??=[],o.push(g));return null!==o?(o.push(...null===t?e:e.slice(1)),[o,a,l]):null}(g);null===z?w=g:[w,D,L]=z,function xC(e,t,r,o,a,l,g){const w=o.length;let D=!1;for(let be=0;be<w;be++){const ue=o[be];!D&&Jo(ue)&&(D=!0,kC(e,r,be)),yu(mu(r,t),e,ue.type)}!function BC(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,w);for(let be=0;be<w;be++){const ue=o[be];ue.providersResolver&&ue.providersResolver(ue)}let L=!1,z=!1,Z=u(e,t,w,null);w>0&&(r.directiveToIndex=new Map);for(let be=0;be<w;be++){const ue=o[be];if(r.mergedAttrs=Ac(r.mergedAttrs,ue.hostAttrs),FC(e,r,t,Z,ue),UC(Z,ue,a),null!==g&&g.has(ue)){const[Lt,hn]=g.get(ue);r.directiveToIndex.set(ue.type,[Z,Lt+r.directiveStart,hn+r.directiveStart])}else(null===l||!l.has(ue))&&r.directiveToIndex.set(ue.type,Z);null!==ue.contentQueries&&(r.flags|=4),(null!==ue.hostBindings||null!==ue.hostAttrs||0!==ue.hostVars)&&(r.flags|=64);const We=ue.type.prototype;!L&&(We.ngOnChanges||We.ngOnInit||We.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),L=!0),!z&&(We.ngOnChanges||We.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),z=!0),Z++}!function OC(e,t,r){for(let o=t.directiveStart;o<t.directiveEnd;o++){const a=e.data[o];if(null!==r&&r.has(a)){const l=r.get(a);QT(0,t,l,o),QT(1,t,l,o),ZT(t,o,!0)}else qT(0,t,a,o),qT(1,t,a,o),ZT(t,o,!1)}}(e,r,l)}(e,t,r,w,l,D,L)}null!==l&&null!==o&&function PC(e,t,r){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const l=r[t[a+1]];if(null==l)throw new lt(-301,!1);o.push(t[a],l)}}(r,o,l)}function NC(e,t,r,o){const a=t.length;e.findHostDirectiveDefs(e,t,o),r.set(e,[a,t.length-1])}function kC(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function qT(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const l in a)if(a.hasOwnProperty(l)){let g;g=0===e?t.inputs??={}:t.outputs??={},g[l]??=[],g[l].push(o),XT(t,l)}}function QT(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const l in a)if(a.hasOwnProperty(l)){const g=a[l];let w;w=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},w[g]??=[],w[g].push(o,l),XT(t,g)}}function XT(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function ZT(e,t,r){const{attrs:o,inputs:a,hostDirectiveInputs:l}=e;if(null===o||!r&&null===a||r&&null===l||zm(e))return e.initialInputs??=[],void e.initialInputs.push(null);let g=null,w=0;for(;w<o.length;){const D=o[w];if(0!==D)if(5!==D){if("number"==typeof D)break;if(!r&&a.hasOwnProperty(D)){const L=a[D];for(const z of L)if(z===t){g??=[],g.push(D,o[w+1]);break}}else if(r&&l.hasOwnProperty(D)){const L=l[D];for(let z=0;z<L.length;z+=2)if(L[z]===t){g??=[],g.push(L[z+1],o[w+1]);break}}w+=2}else w+=2;else w+=4}e.initialInputs??=[],e.initialInputs.push(g)}function FC(e,t,r,o,a){e.data[o]=a;const l=a.factory||(a.factory=Ds(a.type)),g=new va(l,Jo(a),ng);e.blueprint[o]=g,r[o]=g,function LC(e,t,r,o,a){const l=a.hostBindings;if(l){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const w=~t.index;(function VC(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(g)!=w&&g.push(w),g.push(r,o,l)}}(e,t,o,u(e,r,a.hostVars,Lr),a)}function UC(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;Jo(t)&&(r[""]=e)}}function YT(e,t,r,o,a,l,g,w){const D=t.consts,z=Fc(t,e,2,o,lo(D,g));return l&&Hw(t,r,z,lo(D,w),a),z.mergedAttrs=Ac(z.mergedAttrs,z.attrs),null!==z.attrs&&$w(z,z.attrs,!1),null!==z.mergedAttrs&&$w(z,z.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,z),z}function JT(e,t){oc(e,t),Ja(t)&&e.queries.elementEnd(t)}class e0 extends Ey{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Er(t);return new Ty(r,this.ngModule)}}class Ty extends WT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function jC(e){return Object.keys(e).map(t=>{const[r,o,a]=e[t],l={propName:r,templateName:t,isSignal:!!(o&x.SignalBased)};return a&&(l.transform=a),l})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function $C(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function BT(e){return e.map(UT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!r}create(t,r,o,a){pi(22);const l=Ie(null);try{const g=this.componentDef,w=o?["ng-version","19.2.14"]:function jT(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let l=e[o];if("string"==typeof l)2===a?""!==l&&t.push(l,e[++o]):8===a&&r.push(l);else{if(!yc(a))break;a=l}o++}return r.length&&t.push(1,...r),t}(this.componentDef.selectors[0]),D=Gh(0,null,null,1,0,null,null,null,null,[w],null),L=function HC(e,t,r){let o=t instanceof ii?t:t?.injector;return o&&null!==e.getStandaloneInjector&&(o=e.getStandaloneInjector(o)||o),o?new tg(r,o):r}(g,a||this.ngModule,t),z=function zC(e){const t=e.get(Uw,null);if(null===t)throw new lt(407,!1);return{rendererFactory:t,sanitizer:e.get(AC,null),changeDetectionScheduler:e.get(Es,null)}}(L),Z=z.rendererFactory.createRenderer(null,g),be=o?function Tt(e,t,r,o){const l=o.get(y_,!1)||r===Nc.ShadowDom,g=e.selectRootElement(t,l);return function $t(e){ln(e)}(g),g}(Z,o,g.encapsulation,L):function WC(e,t){const r=(e.selectors[0][0]||"div").toLowerCase();return Km(t,r,"svg"===r?Ba:"math"===r?"math":null)}(g,Z),ue=n(null,D,null,512|s(g),null,null,z,Z,L,null,null);ue[Nn]=be,Hl(ue);let We=null;try{const Lt=YT(Nn,D,ue,"#host",()=>[this.componentDef],!0,0);be&&(Tw(Z,be,Lt),Ea(be,ue)),se(D,ue,Lt),$h(D,Lt,ue),JT(D,Lt),void 0!==r&&function KC(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const l=r[a];o.push(null!=l&&l.length?Array.from(l):null)}}(Lt,this.ngContentSelectors,r),We=fs(Lt.index,ue),ue[oi]=We[oi],qh(D,ue,null)}catch(Lt){throw null!==We&&ll(We),ll(ue),Lt}finally{pi(23),nc()}return new GC(this.componentType,ue)}finally{Ie(l)}}}class GC extends IC{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,r){super(),this._rootLView=r,this._tNode=So(r[en],Nn),this.location=sl(this._tNode,r),this.instance=fs(this._tNode.index,r)[oi],this.hostView=this.changeDetectorRef=new Dl(r,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const a=this._rootLView;wl(o,a[en],a,t,r),this.previousInputValues.set(t,r),Ou(fs(o.index,a),1)}get injector(){return new Uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Zv=(()=>class e{static __NG_ELEMENT_ID__=qC})();function qC(){return r0($r(),Pt())}const QC=Zv,t0=class extends QC{_lContainer;_hostTNode;_hostLView;constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return sl(this._hostTNode,this._hostLView)}get injector(){return new Uo(this._hostTNode,this._hostLView)}get parentInjector(){const t=sc(this._hostTNode,this._hostLView);if(Cc(t)){const r=hu(t,this._hostLView),o=tl(t);return new Uo(r[en].data[o+8],r)}return new Uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=n0(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-zi}createEmbeddedView(t,r,o){let a,l;"number"==typeof o?a=o:null!=o&&(a=o.index,l=o.injector);const w=t.createEmbeddedViewImpl(r||{},l,null);return this.insertImpl(w,a,ns(this._hostTNode,null)),w}createComponent(t,r,o,a,l){const g=t&&!function Br(e){return"function"==typeof e}(t);let w;if(g)w=r;else{const We=r||{};w=We.index,o=We.injector,a=We.projectableNodes,l=We.environmentInjector||We.ngModuleRef}const D=g?t:new Ty(Er(t)),L=o||this.parentInjector;if(!l&&null==D.ngModule){const Lt=(g?L:this.parentInjector).get(ii,null);Lt&&(l=Lt)}Er(D.componentType??{});const ue=D.create(L,a,null,l);return this.insertImpl(ue.hostView,w,ns(this._hostTNode,null)),ue}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function Mr(e){return Ai(e[fi])}(a)){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const D=a[fi],L=new t0(D,D[Ki],D[fi]);L.detach(L.indexOf(t))}}const l=this._adjustIndex(r),g=this._lContainer;return function ru(e,t,r,o=!0){const a=t[en];if(function wv(e,t,r,o){const a=zi+o,l=r.length;o>0&&(r[a-1][$o]=t),o<l-zi?(t[$o]=r[a],Jr(r,zi+o,t)):(r.push(t),t[$o]=null),t[fi]=r;const g=t[Hi];null!==g&&r!==g&&Hp(g,t);const w=t[Do];null!==w&&w.insertView(e),ih(t),t[ir]|=128}(a,t,e,r),o){const g=jd(r,e),w=t[H],D=w.parentNode(e[7]);null!==D&&function xp(e,t,r,o,a,l){o[qr]=a,o[Ki]=t,Yh(e,o,r,1,a,l)}(a,e[Ki],w,t,D,g)}const l=t[Xo];null!==l&&null!==l.firstChild&&(l.firstChild=null)}(g,a,l,o),t.attachToViewContainerRef(),Jr(zw(g),l,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=n0(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=zd(this._lContainer,r);o&&(As(zw(this._lContainer),r),Tl(o[en],o))}detach(t){const r=this._adjustIndex(t,-1),o=zd(this._lContainer,r);return o&&null!=As(zw(this._lContainer),r)?new Dl(o):null}_adjustIndex(t,r=0){return t??this.length+r}};function n0(e){return e[8]}function zw(e){return e[8]||(e[8]=[])}function r0(e,t){let r;const o=t[e.index];return Ai(o)?r=o:(r=sy(o,t,null,e),t[e.index]=r,p(t,r)),o0(r,t,e,o),new t0(r,e,t)}let o0=function a0(e,t,r,o){if(e[7])return;let a;a=8&r.type?gn(o):function XC(e,t){const r=e[H],o=r.createComment(""),a=ei(t,e),l=r.parentNode(a);return Fd(r,l,o,r.nextSibling(a),!1),o}(t,r),e[7]=a},Ww=()=>!1;class Gw{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Gw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kw{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let l=0;l<o;l++){const g=r.getByIndex(l);a.push(this.queries[g.indexInDeclarationView].clone())}return new Kw(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==Yw(t,r).matches&&this.queries[r].setDirty()}}class c0{flags;read;predicate;constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function iS(e){return e.split(",").map(t=>t.trim())}(t):t}}class qw{queries;constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,l=this.getByIndex(o).embeddedTView(t,a);l&&(l.indexInDeclarationView=o,null!==r?r.push(l):r=[l])}return null!==r?new qw(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Qw{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,r=-1){this.metadata=t,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Qw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const l=o[a];this.matchTNodeWithReadOption(t,r,eS(r,l)),this.matchTNodeWithReadOption(t,r,Ka(r,t,l,!1,!1))}else o===nf?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Ka(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===al||a===Zv||a===nf&&4&r.type)this.addMatch(r.index,-2);else{const l=Ka(r,t,a,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function eS(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function nS(e,t,r,o){return-1===r?function tS(e,t){return 11&e.type?sl(e,t):4&e.type?Fu(e,t):null}(t,e):-2===r?function rS(e,t,r){return r===al?sl(t,e):r===nf?Fu(t,e):r===Zv?r0(t,e):void 0}(e,t,o):ac(e,e[en],r,t)}function u0(e,t,r,o){const a=t[Do].queries[o];if(null===a.matches){const l=e.data,g=r.matches,w=[];for(let D=0;null!==g&&D<g.length;D+=2){const L=g[D];w.push(L<0?null:nS(t,l[L],g[D+1],r.metadata.read))}a.matches=w}return a.matches}function Xw(e,t,r,o){const a=e.queries.getByIndex(r),l=a.matches;if(null!==l){const g=u0(e,t,a,r);for(let w=0;w<l.length;w+=2){const D=l[w];if(D>0)o.push(g[w/2]);else{const L=l[w+1],z=t[-D];for(let Z=zi;Z<z.length;Z++){const be=z[Z];be[Hi]===be[fi]&&Xw(be[en],be,L,o)}if(null!==z[Ua]){const Z=z[Ua];for(let be=0;be<Z.length;be++){const ue=Z[be];Xw(ue[en],ue,L,o)}}}}}return o}function h0(e,t,r,o){const a=wr();if(a.firstCreatePass){const l=$r();(function f0(e,t,r){null===e.queries&&(e.queries=new qw),e.queries.track(new Qw(t,r))})(a,new c0(t,r,o),l.index),function oS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return function l0(e,t,r){const o=new r_(!(4&~r));return function If(e,t,r,o){const a=Ic(t);a.push(r),e.firstCreatePass&&xl(e).push(o,a.length-1)}(e,t,o,o.destroy),(t[Do]??=new Kw).queries.push(new Gw(o))-1}(a,Pt(),r)}function Yw(e,t){return e.queries.getByIndex(t)}function p0(e,t){const r=e[en],o=Yw(r,t);return o.crossesNgTemplate?Xw(r,e,t,[]):u0(r,e,o,t)}let ff=class{},D0=class{};function gS(e,t){return new tI(e,t??null,[])}class tI extends ff{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new e0(this);constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r;const l=jo(t);this._bootstrapComponents=nu(l.bootstrap),this._r3Injector=ed(t,r,[{provide:ff,useValue:this},{provide:Ey,useValue:this.componentFactoryResolver},...o],Ve(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class nI extends D0{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new tI(this.moduleType,t,[])}}class A0 extends ff{injector;componentFactoryResolver=new e0(this);instance=null;constructor(t){super();const r=new yo([...t.providers,{provide:ff,useValue:this},{provide:Ey,useValue:this.componentFactoryResolver}],t.parent||bo(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rI(e,t,r=null){return new A0({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let yS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Kt(0,r.type),a=o.length>0?rI([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Fe({token:e,providedIn:"environment",factory:()=>new e(ni(ii))})}return e})();function C0(e){return Dr(()=>{const t=P0(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?a=>a.get(yS).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Nc.Emulated,styles:e.styles||vr,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&Ia("NgStandalone"),M0(r);const o=e.dependencies;return r.directiveDefs=Yv(o,!1),r.pipeDefs=Yv(o,!0),r.id=function TS(e){let t=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const l of o.join("|"))t=Math.imul(31,t)+l.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function _S(e){return Er(e)||K(e)}function vS(e){return null!==e}function iI(e){return Dr(()=>({type:e.type,bootstrap:e.bootstrap||vr,declarations:e.declarations||vr,imports:e.imports||vr,exports:e.exports||vr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ES(e,t){if(null==e)return Fr;const r={};for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];let l,g,w,D;Array.isArray(a)?(w=a[0],l=a[1],g=a[2]??l,D=a[3]||null):(l=a,g=a,w=x.None,D=null),r[l]=[o,w,D],t[l]=g}return r}function wS(e){if(null==e)return Fr;const t={};for(const r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function S0(e){return Dr(()=>{const t=P0(e);return M0(t),t})}function R0(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function P0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Fr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||vr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ES(e.inputs,t),outputs:wS(e.outputs),debugInfo:null}}function M0(e){e.features?.forEach(t=>t(e))}function Yv(e,t){if(!e)return null;const r=t?G:_S;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(vS)}function oI(e){let t=function N0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(Jo(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new lt(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const g=e;g.inputs=sI(e.inputs),g.declaredInputs=sI(e.declaredInputs),g.outputs=sI(e.outputs);const w=a.hostBindings;w&&SS(e,w);const D=a.viewQuery,L=a.contentQueries;if(D&&AS(e,D),L&&CS(e,L),bS(e,a),Zi(e.outputs,a.outputs),Jo(a)&&a.data.animation){const z=e.data;z.animation=(z.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let g=0;g<l.length;g++){const w=l[g];w&&w.ngInherit&&w(e),w===oI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function DS(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Ac(a.hostAttrs,r=Ac(r,a.hostAttrs))}}(o)}function bS(e,t){for(const r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=t.inputs[r];void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=t.declaredInputs[r])}}function sI(e){return e===Fr?{}:e===vr?[]:e}function AS(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function CS(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,l)=>{t(o,a,l),r(o,a,l)}:t}function SS(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function Jv(e){return!!cI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function cI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function $u(e,t,r){return e[t]=r}function Dy(e,t){return e[t]}function Is(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function pf(e,t,r,o){const a=Is(e,t,r);return Is(e,t+1,o)||a}function Lc(e,t,r,o,a,l){const g=pf(e,t,r,o);return pf(e,t+2,a,l)||g}function Ay(e,t,r,o,a,l,g,w,D,L){const z=r+Nn,Z=t.firstCreatePass?function LS(e,t,r,o,a,l,g,w,D){const L=t.consts,z=Fc(t,e,4,g||null,w||null);Tf()&&Hw(t,r,z,lo(L,D),at),z.mergedAttrs=Ac(z.mergedAttrs,z.attrs),oc(t,z);const Z=z.tView=Gh(2,z,o,a,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,L,null);return null!==t.queries&&(t.queries.template(t,z),Z.queries=t.queries.embeddedTView(z)),z}(z,t,e,o,a,l,g,w,D):t.data[z];Xs(Z,!1);const be=L0(t,e,Z,r);ic()&&Bd(t,e,be,Z),Ea(be,e);const ue=sy(be,e,be,Z);return e[z]=ue,p(e,ue),function s0(e,t,r){return Ww(e,t,r)}(ue,Z,e),vc(Z)&&se(t,e,Z),null!=D&&xe(e,Z,L),Z}function uI(e,t,r,o,a,l,g,w){const D=Pt(),L=wr();return Ay(D,L,e,t,r,o,a,lo(L.consts,l),g,w),uI}let L0=function V0(e,t,r,o){return Wa(!0),t[H].createComment("")};let hI=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Z0=new Ee(""),Y0=new Ee("");let mI,OR=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(r,o,a){this._ngZone=r,this.registry=o,hi()&&(this._destroyRef=En(Us,{optional:!0})??void 0),mI||(function FR(e){mI=e}(a),a.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const r=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),o=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{_o.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{r.unsubscribe(),o.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,a){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==l),r()},o)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:a})}whenStable(r,o,a){if(a&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,a),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,a){return[]}static \u0275fac=function(o){return new(o||e)(ni(_o),ni(J0),ni(Y0))};static \u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})(),J0=(()=>{class e{_applications=new Map;registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return mI?.findTestabilityInTree(this,r,o)??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),eb=(()=>{class e{static \u0275prov=Fe({token:e,providedIn:"root",factory:()=>new LR})}return e})();class LR{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){const o=this.queues.get(t.zone);o.has(t)&&(o.delete(t),this.queuedEffectCount--)}enqueue(t){const r=t.zone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,r]of this.queues)null===t?this.flushQueue(r):t.run(()=>this.flushQueue(r))}flushQueue(t){for(const r of t)t.delete(r),this.queuedEffectCount--,r.run()}}function yI(e){return!!e&&"function"==typeof e.then}function tb(e){return!!e&&"function"==typeof e.subscribe}const nb=new Ee("");function VR(e){return Re([{provide:nb,multi:!0,useValue:e}])}let rb=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o});appInits=En(nb,{optional:!0})??[];injector=En(vs);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const l=Fs(this.injector,a);if(yI(l))r.push(l);else if(tb(l)){const g=new Promise((w,D)=>{l.subscribe({complete:w,error:D})});r.push(g)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(a=>{this.reject(a)}),0===r.length&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Sy=new Ee("");let _c=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=En(SE);afterRenderManager=En(Sh);zonelessEnabled=En(qc);rootEffectScheduler=En(eb);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new fn.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=En(Qc).hasPendingTasks.pipe((0,sn.T)(r=>!r));constructor(){En(ld,{optional:!0})}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:a=>{a&&o()}})}).finally(()=>{r.unsubscribe()})}_injector=En(ii);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,o){return this.bootstrapImpl(r,o)}bootstrapImpl(r,o,a=vs.NULL){pi(10);const l=r instanceof WT;if(!this._injector.get(rb).done)throw new lt(405,"");let w;w=l?r:this._injector.get(Ey).resolveComponentFactory(r),this.componentTypes.push(w.componentType);const D=function UR(e){return e.isBoundToModule}(w)?void 0:this._injector.get(ff),z=w.create(a,[],o||w.selector,D),Z=z.location.nativeElement,be=z.injector.get(Z0,null);return be?.registerApplication(Z),z.onDestroy(()=>{this.detachView(z.hostView),iE(this.components,z),be?.unregisterApplication(Z)}),this._loadComponent(z),pi(11,z),z}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){pi(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(sm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new lt(101,!1);const r=Ie(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ie(r),this.afterTick.next(),pi(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Uw,null,{optional:!0}));let r=0;for(;0!==this.dirtyFlags&&r++<10;)pi(14),this.synchronizeOnce(),pi(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:a}of this.allViews)jR(o,a,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>uu(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;iE(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Sy,[]).forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>iE(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new lt(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function jR(e,t,r,o){(r||uu(e))&&ku(e,t,r&&!o?0:1)}function II(e,t,r,o){const a=Pt();return Is(a,Zs(),t)&&(wr(),ut(ki(),a,e,t,r,o)),II}function ag(e,t,r,o){return Is(e,Zs(),r)?t+Pe(r)+o:Lr}function cg(e,t,r,o,a,l){const w=pf(e,function ya(){return br.lFrame.bindingIndex}(),r,a);return _a(2),w?t+Pe(r)+o+Pe(a)+l:Lr}function oE(e,t){return e<<17|t<<2}function mf(e){return e>>17&32767}function TI(e){return 2|e}function gg(e){return(131068&e)>>2}function bI(e,t){return-131069&e|t<<2}function DI(e){return 1|e}function Tb(e,t,r,o){const a=e[r+1],l=null===t;let g=o?mf(a):gg(a),w=!1;for(;0!==g&&(!1===w||l);){const L=e[g+1];CP(e[g],t)&&(w=!0,e[g+1]=o?DI(L):TI(L)),g=o?mf(L):gg(L)}w&&(e[r+1]=o?TI(a):DI(a))}function CP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Hs(e,t)>=0}const $s={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bb(e){return e.substring($s.key,$s.keyEnd)}function Db(e,t){const r=$s.textEnd;return r===t?-1:(t=$s.keyEnd=function MP(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,$s.key=t,r),mg(e,t,r))}function mg(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function AI(e,t,r){const o=Pt();return Is(o,Zs(),t)&&xn(wr(),ki(),o,e,t,o[H],r,!1),AI}function CI(e,t,r,o,a){wl(t,e,r,a?"class":"style",o)}function SI(e,t,r){return su(e,t,r,!1),SI}function RI(e,t){return su(e,t,null,!0),RI}function Pb(e){au(BP,zu,e,!0)}function zu(e,t){for(let r=function RP(e){return function Cb(e){$s.key=0,$s.keyEnd=0,$s.value=0,$s.valueEnd=0,$s.textEnd=e.length}(e),Db(e,mg(e,0,$s.textEnd))}(t);r>=0;r=Db(t,r))To(e,bb(t),!0)}function su(e,t,r,o){const a=Pt(),l=wr(),g=_a(2);l.firstUpdatePass&&Nb(l,e,g,o),t!==Lr&&Is(a,g,t)&&xb(l,l.data[Ps()],a,a[H],e,a[g+1]=function $P(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ve(tu(e)))),e}(t,r),o,g)}function au(e,t,r,o){const a=wr(),l=_a(2);a.firstUpdatePass&&Nb(a,null,l,o);const g=Pt();if(r!==Lr&&Is(g,l,r)){const w=a.data[Ps()];if(Fb(w,o)&&!Mb(a,l)){let D=o?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(r=Ar(D,r||"")),CI(a,w,g,r,o)}else!function jP(e,t,r,o,a,l,g,w){a===Lr&&(a=vr);let D=0,L=0,z=0<a.length?a[0]:null,Z=0<l.length?l[0]:null;for(;null!==z||null!==Z;){const be=D<a.length?a[D+1]:void 0,ue=L<l.length?l[L+1]:void 0;let Lt,We=null;z===Z?(D+=2,L+=2,be!==ue&&(We=Z,Lt=ue)):null===Z||null!==z&&z<Z?(D+=2,We=z):(L+=2,We=Z,Lt=ue),null!==We&&xb(e,t,r,o,We,Lt,g,w),z=D<a.length?a[D]:null,Z=L<l.length?l[L]:null}}(a,w,g,g[H],g[l+1],g[l+1]=function UP(e,t,r){if(null==r||""===r)return vr;const o=[],a=tu(r);if(Array.isArray(a))for(let l=0;l<a.length;l++)e(o,a[l],!0);else if("object"==typeof a)for(const l in a)a.hasOwnProperty(l)&&e(o,l,a[l]);else"string"==typeof a&&t(o,a);return o}(e,t,r),o,l)}}function Mb(e,t){return t>=e.expandoStartIndex}function Nb(e,t,r,o){const a=e.data;if(null===a[r+1]){const l=a[Ps()],g=Mb(e,r);Fb(l,o)&&null===t&&!g&&(t=!1),t=function OP(e,t,r,o){const a=du(e);let l=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=Py(r=PI(null,e,t,r,o),t.attrs,o),l=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==a)if(r=PI(a,e,t,r,o),null===l){let D=function FP(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==gg(o))return e[mf(o)]}(e,t,o);void 0!==D&&Array.isArray(D)&&(D=PI(null,e,t,D[1],o),D=Py(D,t.attrs,o),function LP(e,t,r,o){e[mf(r?t.classBindings:t.styleBindings)]=o}(e,t,o,D))}else l=function VP(e,t,r){let o;const a=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<a;l++)o=Py(o,e[l].hostAttrs,r);return Py(o,t.attrs,r)}(e,t,o)}return void 0!==l&&(o?t.residualClasses=l:t.residualStyles=l),r}(a,l,t,o),function DP(e,t,r,o,a,l){let g=l?t.classBindings:t.styleBindings,w=mf(g),D=gg(g);e[o]=r;let z,L=!1;if(Array.isArray(r)?(z=r[1],(null===z||Hs(r,z)>0)&&(L=!0)):z=r,a)if(0!==D){const be=mf(e[w+1]);e[o+1]=oE(be,w),0!==be&&(e[be+1]=bI(e[be+1],o)),e[w+1]=function TP(e,t){return 131071&e|t<<17}(e[w+1],o)}else e[o+1]=oE(w,0),0!==w&&(e[w+1]=bI(e[w+1],o)),w=o;else e[o+1]=oE(D,0),0===w?w=o:e[D+1]=bI(e[D+1],o),D=o;L&&(e[o+1]=TI(e[o+1])),Tb(e,z,o,!0),Tb(e,z,o,!1),function AP(e,t,r,o,a){const l=a?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&Hs(l,t)>=0&&(r[o+1]=DI(r[o+1]))}(t,z,e,o,l),g=oE(w,D),l?t.classBindings=g:t.styleBindings=g}(a,l,t,r,g,o)}}function PI(e,t,r,o,a){let l=null;const g=r.directiveEnd;let w=r.directiveStylingLast;for(-1===w?w=r.directiveStart:w++;w<g&&(l=t[w],o=Py(o,l.hostAttrs,a),l!==e);)w++;return null!==e&&(r.directiveStylingLast=w),o}function Py(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let l=0;l<t.length;l++){const g=t[l];"number"==typeof g?a=g:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),To(e,g,!!r||t[++l]))}return void 0===e?null:e}function BP(e,t,r){const o=String(t);""!==o&&!o.includes(" ")&&To(e,o,r)}function xb(e,t,r,o,a,l,g,w){if(!(3&t.type))return;const D=e.data,L=D[w+1],z=function bP(e){return!(1&~e)}(L)?Ob(D,t,r,a,gg(L),g):void 0;sE(z)||(sE(l)||function IP(e){return!(2&~e)}(L)&&(l=Ob(D,null,r,a,w,g)),function fv(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let l=-1===o.indexOf("-")?void 0:Pu.DashCase;null==a?e.removeStyle(r,o,l):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),l|=Pu.Important),e.setStyle(r,o,a,l))}}(o,g,jr(Ps(),r),a,l))}function Ob(e,t,r,o,a,l){const g=null===t;let w;for(;a>0;){const D=e[a],L=Array.isArray(D),z=L?D[1]:D,Z=null===z;let be=r[a+1];be===Lr&&(be=Z?vr:void 0);let ue=Z?ji(be,o):z===o?be:void 0;if(L&&!sE(ue)&&(ue=ji(D,o)),sE(ue)&&(w=ue,g))return w;const We=e[a+1];a=g?mf(We):gg(We)}if(null!==t){let D=l?t.residualClasses:t.residualStyles;null!=D&&(w=ji(D,o))}return w}function sE(e){return void 0!==e}function Fb(e,t){return!!(e.flags&(t?8:16))}function Lb(e,t,r){au(To,zu,ag(Pt(),e,t,r),!0)}function Vb(e,t,r,o,a){au(To,zu,cg(Pt(),e,t,r,o,a),!0)}function cE(e,t,r,o){const a=Pt(),l=wr(),g=Nn+e,w=a[H],D=l.firstCreatePass?YT(g,l,a,t,at,Tf(),r,o):l.data[g],L=$b(l,a,D,w,t,e);a[g]=L;const z=vc(D);return Xs(D,!0),Tw(w,L,D),!Mu(D)&&ic()&&Bd(l,a,L,D),(0===function Hy(){return br.lFrame.elementDepthCount}()||z)&&Ea(L,a),function Eg(){br.lFrame.elementDepthCount++}(),z&&(se(l,a,D),$h(l,D,a)),null!==o&&xe(a,D),cE}function uE(){let e=$r();Vl()?Ul():(e=e.parent,Xs(e,!1));const t=e;(function Ku(e){return br.skipHydrationRootTNode===e})(t)&&function qu(){br.skipHydrationRootTNode=null}(),function oh(){br.lFrame.elementDepthCount--}();const r=wr();return r.firstCreatePass&&JT(r,t),null!=t.classesWithoutHost&&function el(e){return!!(8&e.flags)}(t)&&CI(r,t,Pt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function kf(e){return!!(16&e.flags)}(t)&&CI(r,t,Pt(),t.stylesWithoutHost,!1),uE}function xI(e,t,r,o){return cE(e,t,r,o),uE(),xI}let $b=(e,t,r,o,a,l)=>(Wa(!0),Km(o,a,function Gl(){return br.lFrame.currentNamespace}()));function lE(e,t,r){const o=Pt(),a=wr(),l=e+Nn,g=a.firstCreatePass?function d1(e,t,r,o,a){const l=t.consts,g=lo(l,o),w=Fc(t,e,8,"ng-container",g);null!==g&&$w(w,g,!0);const D=lo(l,a);return Tf()&&Hw(t,r,w,D,at),w.mergedAttrs=Ac(w.mergedAttrs,w.attrs),null!==t.queries&&t.queries.elementStart(t,w),w}(l,a,o,t,r):a.data[l];Xs(g,!0);const w=zb(a,o,g,e);return o[l]=w,ic()&&Bd(a,o,w,g),Ea(w,o),vc(g)&&(se(a,o,g),$h(a,g,o)),null!=r&&xe(o,g),lE}function dE(){let e=$r();const t=wr();return Vl()?Ul():(e=e.parent,Xs(e,!1)),t.firstCreatePass&&(oc(t,e),Ja(e)&&t.queries.elementEnd(e)),dE}let zb=(e,t,r,o)=>(Wa(!0),Gm(t[H],""));function Wb(){return Pt()}function OI(e,t,r){const o=Pt();if(Is(o,Zs(),t)){const l=wr(),g=ki();xn(l,g,o,e,t,Vd(du(l.data),g,o),r,!0)}return OI}const yf=void 0;var g1=["en",[["a","p"],["AM","PM"],yf],[["AM","PM"],yf,yf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yf,"{1} 'at' {0}",yf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function p1(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let yg={};function FI(e){const t=function m1(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=qb(t);if(r)return r;const o=t.split("-")[0];if(r=qb(o),r)return r;if("en"===o)return g1;throw new lt(701,!1)}function Kb(e){return FI(e)[_g.PluralCase]}function qb(e){return e in yg||(yg[e]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[e]),yg[e]}var _g=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(_g||{});const hE="en-US";let Qb=hE;function fD(e,t,r){return function o(a){if(a===Function)return r;Ou(to(e)?fs(e.index,t):t,5);const g=t[oi];let w=pD(t,g,r,a),D=o.__ngNextListenerFn__;for(;D;)w=pD(t,g,D,a)&&w,D=D.__ngNextListenerFn__;return w}}function pD(e,t,r,o){const a=Ie(null);try{return pi(6,t,r),!1!==r(o)}catch(l){return function iM(e,t){const r=e[P],o=r?r.get(dc,null):null;o&&o.handleError(t)}(e,l),!1}finally{pi(7,t,r),Ie(a)}}function gD(e,t,r,o,a,l){const w=t[en],z=t[r][w.data[r].outputs[o]],Z=w.firstCreatePass?xl(w):null,be=Ic(t),ue=z.subscribe(l),We=be.length;be.push(l,ue),Z&&Z.push(a,e.index,We,-(We+1))}function UI(e,t,r,o){const a=Pt(),l=wr(),g=$r();return BI(l,a,a[H],g,e,t,o),UI}function BI(e,t,r,o,a,l,g){const w=vc(o),L=e.firstCreatePass?xl(e):null,z=Ic(t);let Z=!0;if(3&o.type||g){const be=ei(o,t),ue=g?g(be):be,We=z.length,Lt=g?yn=>g(gn(yn[o.index])):o.index;let hn=null;if(!g&&w&&(hn=function oM(e,t,r,o){const a=e.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const g=a[l];if(g===r&&a[l+1]===o){const w=t[Yo],D=a[l+2];return w.length>D?w[D]:null}"string"==typeof g&&(l+=2)}return null}(e,t,a,o.index)),null!==hn)(hn.__ngLastListenerFn__||hn).__ngNextListenerFn__=l,hn.__ngLastListenerFn__=l,Z=!1;else{!function wm(e,t,r,o){Fh(e,t,r,o)}(t,ue,a,l=fD(o,t,l));const yn=r.listen(ue,a,l);z.push(l,yn),L&&L.push(a,Lt,We,We+1)}}else l=fD(o,t,l);if(Z){const be=o.outputs?.[a],ue=o.hostDirectiveOutputs?.[a];if(ue&&ue.length)for(let We=0;We<ue.length;We+=2)gD(o,t,ue[We],ue[We+1],a,l);if(be&&be.length)for(const We of be)gD(o,t,We,a,a,l)}}function yD(e=1){return function jc(e){return(br.lFrame.contextLView=function wf(e,t){for(;e>0;)t=t[Sn],e--;return t}(e,br.lFrame.contextLView))[oi]}(e)}function CD(e,t,r,o){h0(e,t,r,o)}function SD(e){const t=Pt(),r=wr(),o=Qu();jl(o+1);const a=Yw(r,o);if(e.dirty&&function Gu(e){return!(4&~e[ir])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const l=p0(t,o);e.reset(l,hc),e.notifyOnChanges()}return!0}return!1}function RD(){return function Zw(e,t){return e[Do].queries[t].queryList}(Pt(),Qu())}function PD(e){return Ho(function Df(){return br.lFrame.contextLView}(),Nn+e)}function BD(e,t=""){const r=Pt(),o=wr(),a=e+Nn,l=o.firstCreatePass?Fc(o,a,1,t,null):o.data[a],g=jD(o,r,l,t,e);r[a]=g,ic()&&Bd(o,r,g,l),Xs(l,!1)}let jD=(e,t,r,o,a)=>(Wa(!0),function uv(e,t){return e.createText(t)}(t[H],o));function $I(e){return mE("",e,""),$I}function mE(e,t,r){const o=Pt(),a=ag(o,e,t,r);return a!==Lr&&Nl(o,Ps(),a),mE}function HI(e,t,r,o,a){const l=Pt(),g=cg(l,e,t,r,o,a);return g!==Lr&&Nl(l,Ps(),g),HI}function Nl(e,t,r){const o=jr(t,e);!function Wm(e,t,r){e.setValue(t,r)}(e[H],o,r)}function zI(e,t,r){qf(t)&&(t=t());const o=Pt();return Is(o,Zs(),t)&&xn(wr(),ki(),o,e,t,o[H],r,!1),zI}function QD(e,t){const r=qf(e);return r&&e.set(t),r}function WI(e,t){const r=Pt(),o=wr(),a=$r();return BI(o,r,r[H],a,e,t),WI}function GI(e,t,r,o,a){if(e=_n(e),Array.isArray(e))for(let l=0;l<e.length;l++)GI(e[l],t,r,o,a);else{const l=wr(),g=Pt(),w=$r();let D=Pi(e)?e:_n(e.provide);const L=Da(e),z=1048575&w.providerIndexes,Z=w.directiveStart,be=w.providerIndexes>>20;if(Pi(e)||!e.multi){const ue=new va(L,a,ng),We=qI(D,t,a?z:z+be,Z);-1===We?(yu(mu(w,g),l,D),KI(l,e,t.length),t.push(D),w.directiveStart++,w.directiveEnd++,a&&(w.providerIndexes+=1048576),r.push(ue),g.push(ue)):(r[We]=ue,g[We]=ue)}else{const ue=qI(D,t,z+be,Z),We=qI(D,t,z,z+be),hn=We>=0&&r[We];if(a&&!hn||!a&&!(ue>=0&&r[ue])){yu(mu(w,g),l,D);const yn=function MM(e,t,r,o,a){const l=new va(e,r,ng);return l.multi=[],l.index=t,l.componentProviders=0,YD(l,a,o&&!r),l}(a?PM:RM,r.length,a,o,L);!a&&hn&&(r[We].providerFactory=yn),KI(l,e,t.length,0),t.push(D),w.directiveStart++,w.directiveEnd++,a&&(w.providerIndexes+=1048576),r.push(yn),g.push(yn)}else KI(l,e,ue>-1?ue:We,YD(r[a?We:ue],L,!a&&o));!a&&o&&hn&&r[We].componentProviders++}}}function KI(e,t,r,o){const a=Pi(t),l=function ri(e){return!!e.useClass}(t);if(a||l){const D=(l?_n(t.useClass):t).prototype.ngOnDestroy;if(D){const L=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const z=L.indexOf(r);-1===z?L.push(r,[o,D]):L[z+1].push(o,D)}else L.push(r,D)}}}function YD(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function qI(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function RM(e,t,r,o,a){return QI(this.multi,[])}function PM(e,t,r,o,a){const l=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,D=ac(o,o[en],this.providerFactory.index,a);g=D.slice(0,w),QI(l,g);for(let L=w;L<D.length;L++)g.push(D[L])}else g=[],QI(l,g);return g}function QI(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function JD(e,t=[]){return r=>{r.providersResolver=(o,a)=>function SM(e,t,r){const o=wr();if(o.firstCreatePass){const a=Jo(e);GI(r,o.data,o.blueprint,a,!0),GI(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}function tA(e,t,r){const o=Rs()+e,a=Pt();return a[o]===Lr?$u(a,o,r?t.call(r):t()):Dy(a,o)}function nA(e,t,r,o){return function aA(e,t,r,o,a,l){const g=t+r;return Is(e,g,a)?$u(e,g+1,l?o.call(l,a):o(a)):Fy(e,g+1)}(Pt(),Rs(),e,t,r,o)}function rA(e,t,r,o,a){return cA(Pt(),Rs(),e,t,r,o,a)}function iA(e,t,r,o,a,l){return function uA(e,t,r,o,a,l,g,w){const D=t+r;return function eE(e,t,r,o,a){const l=pf(e,t,r,o);return Is(e,t+2,a)||l}(e,D,a,l,g)?$u(e,D+3,w?o.call(w,a,l,g):o(a,l,g)):Fy(e,D+3)}(Pt(),Rs(),e,t,r,o,a,l)}function oA(e,t,r,o,a,l,g){return function lA(e,t,r,o,a,l,g,w,D){const L=t+r;return Lc(e,L,a,l,g,w)?$u(e,L+4,D?o.call(D,a,l,g,w):o(a,l,g,w)):Fy(e,L+4)}(Pt(),Rs(),e,t,r,o,a,l,g)}function sA(e,t,r,o,a,l,g,w){const D=Rs()+e,L=Pt(),z=Lc(L,D,r,o,a,l);return Is(L,D+4,g)||z?$u(L,D+5,w?t.call(w,r,o,a,l,g):t(r,o,a,l,g)):Dy(L,D+5)}function Fy(e,t){const r=e[t];return r===Lr?void 0:r}function cA(e,t,r,o,a,l,g){const w=t+r;return pf(e,w,a,l)?$u(e,w+2,g?o.call(g,a,l):o(a,l)):Fy(e,w+2)}function hA(e,t){const r=wr();let o;const a=e+Nn;r.firstCreatePass?(o=function UM(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}}(t,r.pipeRegistry),r.data[a]=o,o.onDestroy&&(r.destroyHooks??=[]).push(a,o.onDestroy)):o=r.data[a];const l=o.factory||(o.factory=Ds(o.type)),w=yi(ng);try{const D=Xl(!1),L=l();return Xl(D),function Ni(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,Pt(),a,L),L}finally{yi(w)}}function fA(e,t,r,o){const a=e+Nn,l=Pt(),g=Ho(l,a);return function Ly(e,t){return e[en].data[t].pure}(l,a)?cA(l,Rs(),t,g.transform,r,o,g):g.transform(r,o)}function pA(e,t){return Fu(e,t)}class NA{full;major;minor;patch;constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const yN=new NA("19.2.14");class _N{ngModuleFactory;componentFactories;constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let vN=(()=>{class e{compileModuleSync(r){return new nI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),l=nu(jo(r).declarations).reduce((g,w)=>{const D=Er(w);return D&&g.push(new Ty(D)),g},[]);return new _N(o,l)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IN=(()=>{class e{zone=En(_o);changeDetectionScheduler=En(Es);applicationRef=En(_c);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new _o({...tT(),scheduleInRootZone:r}),[{provide:_o,useFactory:e},{provide:eo,multi:!0,useFactory:()=>{const o=En(IN,{optional:!0});return()=>o.initialize()}},{provide:eo,multi:!0,useFactory:()=>{const o=En(bN);return()=>{o.initialize()}}},!0===t?{provide:Bf,useValue:!0}:[],{provide:jf,useValue:r??_u}]}function tT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let bN=(()=>{class e{subscription=new fr.yU;initialized=!1;zone=En(_o);pendingTasks=En(Qc);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_o.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_o.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uy=(()=>{class e{appRef=En(_c);taskService=En(Qc);ngZone=En(_o);zonelessEnabled=En(qc);tracing=En(ld,{optional:!0});disableScheduling=En(Bf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new fr.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(En(jf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vu||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let o=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,o=!0;break;case 12:this.appRef.dirtyFlags|=16,o=!0;break;case 11:o=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;const a=this.useMicrotaskScheduler?Cg:Ky;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const rT=new Ee("",{providedIn:"root",factory:()=>En(rT,Ln.Optional|Ln.SkipSelf)||function DN(){return typeof $localize<"u"&&$localize.locale||hE}()}),AN=new Ee("",{providedIn:"root",factory:()=>"USD"}),EE=new Ee(""),MN=new Ee("");function By(e){return!e.moduleRef}let rh=null;function LN(){return!1}let HA=(()=>class e{static __NG_ELEMENT_ID__=VN})();function VN(e){return function UN(e,t,r){if(to(e)&&!r){const o=fs(e.index,t);return new Dl(o,o)}return 175&e.type?new Dl(t[cr],t):null}($r(),Pt(),!(16&~e))}class KA{constructor(){}supports(t){return Jv(t)}create(t){return new zN(t)}}const HN=(e,t)=>t;class zN{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||HN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,l=null;for(;r||o;){const g=!o||r&&r.currentIndex<QA(o,a,l)?r:o,w=QA(g,a,l),D=g.currentIndex;if(g===o)a--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)a++;else{l||(l=[]);const L=w-a,z=D-a;if(L!=z){for(let be=0;be<L;be++){const ue=be<l.length?l[be]:l[be]=0,We=ue+be;z<=We&&We<L&&(l[be]=ue+1)}l[g.previousIndex]=z-L}}w!==D&&t(g,w,D)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Jv(t))throw new lt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,l,g,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let w=0;w<this.length;w++)l=t[w],g=this._trackByFn(w,l),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,l,g,w)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,g,w),o=!0),r=r._next}else a=0,function OS(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,w=>{g=this._trackByFn(a,w),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,w,g,a)),Object.is(r.item,w)||this._addIdentityChange(r,w)):(r=this._mismatch(r,w,g,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,l,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,l,a)):t=this._addAfter(new WN(r,o),l,a),t}_verifyReinsertion(t,r,o,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?t=this._reinsertAfter(l,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,l=t._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new qA),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class WN{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,r){this.item=t,this.trackById=r}}class GN{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class qA{map=new Map;put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new GN,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QA(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class XA{constructor(){}supports(t){return t instanceof Map||cI(t)}create(){return new KN}}class KN{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||cI(t)))throw new lt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const l=a._prev,g=a._next;return l&&(l._next=g),g&&(g._prev=l),a._next=null,a._prev=null,a}const o=new qN(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class qN{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function ZA(){return new cT([new KA])}let cT=(()=>{class e{factories;static \u0275prov=Fe({token:e,providedIn:"root",factory:ZA});constructor(r){this.factories=r}static create(r,o){if(null!=o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||ZA()),deps:[[e,new mo,new Or]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(null!=o)return o;throw new lt(901,!1)}}return e})();function YA(){return new uT([new XA])}let uT=(()=>{class e{static \u0275prov=Fe({token:e,providedIn:"root",factory:YA});factories;constructor(r){this.factories=r}static create(r,o){if(o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||YA()),deps:[[e,new mo,new Or]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(o)return o;throw new lt(901,!1)}}return e})();function ZN(e){pi(8);try{const{rootComponent:t,appProviders:r,platformProviders:o}=e,a=function FN(e=[]){if(rh)return rh;const t=function BA(e=[],t){return vs.create({name:t,providers:[{provide:Oi,useValue:"platform"},{provide:EE,useValue:new Set([()=>rh=null])},...e]})}(e);return rh=t,function ib(){!function Ke(e){tn=e}(()=>{throw new lt(600,!1)})}(),function jA(e){const t=e.get(Kg,null);Fs(e,()=>{t?.forEach(r=>r())})}(t),t}(o),l=[eT({}),{provide:Es,useExisting:Uy},...r||[]];return function LA(e){const t=By(e)?e.r3Injector:e.moduleRef.injector,r=t.get(_o);return r.run(()=>{By(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(dc,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:l=>{o.handleError(l)}})}),By(e)){const l=()=>t.destroy(),g=e.platformInjector.get(EE);g.add(l),t.onDestroy(()=>{a.unsubscribe(),g.delete(l)})}else{const l=()=>e.moduleRef.destroy(),g=e.platformInjector.get(EE);g.add(l),e.moduleRef.onDestroy(()=>{iE(e.allPlatformModules,e.moduleRef),a.unsubscribe(),g.delete(l)})}return function kN(e,t,r){try{const o=r();return yI(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const l=t.get(rb);return l.runInitializers(),l.donePromise.then(()=>{if(function E1(e){"string"==typeof e&&(Qb=e.toLowerCase().replace(/_/g,"-"))}(t.get(rT,hE)||hE),!t.get(MN,!0))return By(e)?t.get(_c):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(By(e)){const D=t.get(_c);return void 0!==e.rootComponent&&D.bootstrap(e.rootComponent),D}return function NN(e,t){const r=e.injector.get(_c);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new lt(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new A0({providers:l,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:a,rootComponent:t})}catch(t){return Promise.reject(t)}finally{pi(9)}}function vk(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function cu(e){return function Hn(e){const t=Ie(null);try{return e()}finally{Ie(t)}}(e)}function $y(e,t){return function Un(e,t){const r=Object.create(wn);r.computation=e,void 0!==t&&(r.equal=t);const o=()=>{if(ot(r),et(r),r.value===ht)throw r.error;return r.value};return o[Xe]=r,o}(e,t?.equal)}function Bk(e){const t=Er(e);if(!t)return null;const r=new Ty(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1362:(In,$e,j)=>{"use strict";j.d($e,{h1:()=>fe,uA:()=>Q});var T=j(467),O=j(6858);class Q{constructor(me,he,et){this.name=me,this.instanceFactory=he,this.type=et,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(me){return this.instantiationMode=me,this}setMultipleInstances(me){return this.multipleInstances=me,this}setServiceProps(me){return this.serviceProps=me,this}setInstanceCreatedCallback(me){return this.onInstanceCreated=me,this}}const I="[DEFAULT]";class Se{constructor(me,he){this.name=me,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(me){const he=this.normalizeInstanceIdentifier(me);if(!this.instancesDeferred.has(he)){const et=new O.cY;if(this.instancesDeferred.set(he,et),this.isInitialized(he)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:he});He&&et.resolve(He)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(me){var he;const et=this.normalizeInstanceIdentifier(me?.identifier),He=null!==(he=me?.optional)&&void 0!==he&&he;if(!this.isInitialized(et)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:et})}catch(ot){if(He)return null;throw ot}}getComponent(){return this.component}setComponent(me){if(me.name!==this.name)throw Error(`Mismatching Component ${me.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=me,this.shouldAutoInitialize()){if(function Ie(Oe){return"EAGER"===Oe.instantiationMode}(me))try{this.getOrInitializeService({instanceIdentifier:I})}catch{}for(const[he,et]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(he);try{const ot=this.getOrInitializeService({instanceIdentifier:He});et.resolve(ot)}catch{}}}}clearInstance(me=I){this.instancesDeferred.delete(me),this.instancesOptions.delete(me),this.instances.delete(me)}delete(){var me=this;return(0,T.A)(function*(){const he=Array.from(me.instances.values());yield Promise.all([...he.filter(et=>"INTERNAL"in et).map(et=>et.INTERNAL.delete()),...he.filter(et=>"_delete"in et).map(et=>et._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(me=I){return this.instances.has(me)}getOptions(me=I){return this.instancesOptions.get(me)||{}}initialize(me={}){const{options:he={}}=me,et=this.normalizeInstanceIdentifier(me.instanceIdentifier);if(this.isInitialized(et))throw Error(`${this.name}(${et}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:et,options:he});for(const[ot,At]of this.instancesDeferred.entries())et===this.normalizeInstanceIdentifier(ot)&&At.resolve(He);return He}onInit(me,he){var et;const He=this.normalizeInstanceIdentifier(he),ot=null!==(et=this.onInitCallbacks.get(He))&&void 0!==et?et:new Set;ot.add(me),this.onInitCallbacks.set(He,ot);const At=this.instances.get(He);return At&&me(At,He),()=>{ot.delete(me)}}invokeOnInitCallbacks(me,he){const et=this.onInitCallbacks.get(he);if(et)for(const He of et)try{He(me,he)}catch{}}getOrInitializeService({instanceIdentifier:me,options:he={}}){let et=this.instances.get(me);if(!et&&this.component&&(et=this.component.instanceFactory(this.container,{instanceIdentifier:(Oe=me,Oe===I?void 0:Oe),options:he}),this.instances.set(me,et),this.instancesOptions.set(me,he),this.invokeOnInitCallbacks(et,me),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,me,et)}catch{}var Oe;return et||null}normalizeInstanceIdentifier(me=I){return this.component?this.component.multipleInstances?me:I:me}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(me){this.name=me,this.providers=new Map}addComponent(me){const he=this.getProvider(me.name);if(he.isComponentSet())throw new Error(`Component ${me.name} has already been registered with ${this.name}`);he.setComponent(me)}addOrOverwriteComponent(me){this.getProvider(me.name).isComponentSet()&&this.providers.delete(me.name),this.addComponent(me)}getProvider(me){if(this.providers.has(me))return this.providers.get(me);const he=new Se(me,this);return this.providers.set(me,he),he}getProviders(){return Array.from(this.providers.values())}}},1397:(In,$e,j)=>{"use strict";j.d($e,{Z:()=>fe});var T=j(6354),O=j(8750),Q=j(9974),I=j(5225),Se=j(4360),Ie=j(8071);function fe(Oe,me,he=1/0){return(0,Ie.T)(me)?fe((et,He)=>(0,T.T)((ot,At)=>me(et,ot,He,At))((0,O.Tg)(Oe(et,He))),he):("number"==typeof me&&(he=me),(0,Q.N)((et,He)=>function Xe(Oe,me,he,et,He,ot,At,jt){const Vt=[];let Zt=0,mt=0,Et=!1;const St=()=>{Et&&!Vt.length&&!Zt&&me.complete()},Ne=Ze=>Zt<et?rt(Ze):Vt.push(Ze),rt=Ze=>{ot&&me.next(Ze),Zt++;let wt=!1;(0,O.Tg)(he(Ze,mt++)).subscribe((0,Se._)(me,Gt=>{He?.(Gt),ot?Ne(Gt):me.next(Gt)},()=>{wt=!0},void 0,()=>{if(wt)try{for(Zt--;Vt.length&&Zt<et;){const Gt=Vt.shift();At?(0,I.N)(me,At,()=>rt(Gt)):rt(Gt)}St()}catch(Gt){me.error(Gt)}}))};return Oe.subscribe((0,Se._)(me,Ne,()=>{Et=!0,St()})),()=>{jt?.()}}(et,He,Oe,he)))}},1413:(In,$e,j)=>{"use strict";j.d($e,{B:()=>Ie});var T=j(1985),O=j(8359);const I=(0,j(1853).L)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=j(7908),Xe=j(9786);let Ie=(()=>{class Oe extends T.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const et=new fe(this,this);return et.operator=he,et}_throwIfClosed(){if(this.closed)throw new I}next(he){(0,Xe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const et of this.currentObservers)et.next(he)}})}error(he){(0,Xe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:et}=this;for(;et.length;)et.shift().error(he)}})}complete(){(0,Xe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:et,isStopped:He,observers:ot}=this;return et||He?O.Kn:(this.currentObservers=null,ot.push(he),new O.yU(()=>{this.currentObservers=null,(0,Se.o)(ot,he)}))}_checkFinalizedStatuses(he){const{hasError:et,thrownError:He,isStopped:ot}=this;et?he.error(He):ot&&he.complete()}asObservable(){const he=new T.c;return he.source=this,he}}return Oe.create=(me,he)=>new fe(me,he),Oe})();class fe extends Ie{constructor(me,he){super(),this.destination=me,this.source=he}next(me){var he,et;null===(et=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===et||et.call(he,me)}error(me){var he,et;null===(et=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===et||et.call(he,me)}complete(){var me,he;null===(he=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===he||he.call(me)}_subscribe(me){var he,et;return null!==(et=null===(he=this.source)||void 0===he?void 0:he.subscribe(me))&&void 0!==et?et:O.Kn}}},1635:(In,$e,j)=>{"use strict";function I(Y,le){var de={};for(var ye in Y)Object.prototype.hasOwnProperty.call(Y,ye)&&le.indexOf(ye)<0&&(de[ye]=Y[ye]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var re=0;for(ye=Object.getOwnPropertySymbols(Y);re<ye.length;re++)le.indexOf(ye[re])<0&&Object.prototype.propertyIsEnumerable.call(Y,ye[re])&&(de[ye[re]]=Y[ye[re]])}return de}function et(Y,le,de,ye){return new(de||(de=Promise))(function(pe,qe){function yt(nr){try{Yt(ye.next(nr))}catch(Wt){qe(Wt)}}function on(nr){try{Yt(ye.throw(nr))}catch(Wt){qe(Wt)}}function Yt(nr){nr.done?pe(nr.value):function re(pe){return pe instanceof de?pe:new de(function(qe){qe(pe)})}(nr.value).then(yt,on)}Yt((ye=ye.apply(Y,le||[])).next())})}function St(Y){return this instanceof St?(this.v=Y,this):new St(Y)}function Ne(Y,le,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,ye=de.apply(Y,le||[]),pe=[];return re=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),yt("next"),yt("throw"),yt("return",function qe(Hn){return function(Qt){return Promise.resolve(Qt).then(Hn,Wt)}}),re[Symbol.asyncIterator]=function(){return this},re;function yt(Hn,Qt){ye[Hn]&&(re[Hn]=function(Vn){return new Promise(function(tr,Dn){pe.push([Hn,Vn,tr,Dn])>1||on(Hn,Vn)})},Qt&&(re[Hn]=Qt(re[Hn])))}function on(Hn,Qt){try{!function Yt(Hn){Hn.value instanceof St?Promise.resolve(Hn.value.v).then(nr,Wt):Xn(pe[0][2],Hn)}(ye[Hn](Qt))}catch(Vn){Xn(pe[0][3],Vn)}}function nr(Hn){on("next",Hn)}function Wt(Hn){on("throw",Hn)}function Xn(Hn,Qt){Hn(Qt),pe.shift(),pe.length&&on(pe[0][0],pe[0][1])}}function Ze(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,le=Y[Symbol.asyncIterator];return le?le.call(Y):(Y=function jt(Y){var le="function"==typeof Symbol&&Symbol.iterator,de=le&&Y[le],ye=0;if(de)return de.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ye>=Y.length&&(Y=void 0),{value:Y&&Y[ye++],done:!Y}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),de={},ye("next"),ye("throw"),ye("return"),de[Symbol.asyncIterator]=function(){return this},de);function ye(pe){de[pe]=Y[pe]&&function(qe){return new Promise(function(yt,on){!function re(pe,qe,yt,on){Promise.resolve(on).then(function(Yt){pe({value:Yt,done:yt})},qe)}(yt,on,(qe=Y[pe](qe)).done,qe.value)})}}}j.d($e,{AQ:()=>Ne,N3:()=>St,Tt:()=>I,sH:()=>et,xN:()=>Ze}),"function"==typeof SuppressedError&&SuppressedError},1853:(In,$e,j)=>{"use strict";function T(O){const I=O(Se=>{Error.call(Se),Se.stack=(new Error).stack});return I.prototype=Object.create(Error.prototype),I.prototype.constructor=I,I}j.d($e,{L:()=>T})},1985:(In,$e,j)=>{"use strict";j.d($e,{c:()=>fe});var T=j(7707),O=j(8359),Q=j(3494),I=j(1203),Se=j(1026),Xe=j(8071),Ie=j(9786);let fe=(()=>{class et{constructor(ot){ot&&(this._subscribe=ot)}lift(ot){const At=new et;return At.source=this,At.operator=ot,At}subscribe(ot,At,jt){const Vt=function he(et){return et&&et instanceof T.vU||function me(et){return et&&(0,Xe.T)(et.next)&&(0,Xe.T)(et.error)&&(0,Xe.T)(et.complete)}(et)&&(0,O.Uv)(et)}(ot)?ot:new T.Ms(ot,At,jt);return(0,Ie.Y)(()=>{const{operator:Zt,source:mt}=this;Vt.add(Zt?Zt.call(Vt,mt):mt?this._subscribe(Vt):this._trySubscribe(Vt))}),Vt}_trySubscribe(ot){try{return this._subscribe(ot)}catch(At){ot.error(At)}}forEach(ot,At){return new(At=Oe(At))((jt,Vt)=>{const Zt=new T.Ms({next:mt=>{try{ot(mt)}catch(Et){Vt(Et),Zt.unsubscribe()}},error:Vt,complete:jt});this.subscribe(Zt)})}_subscribe(ot){var At;return null===(At=this.source)||void 0===At?void 0:At.subscribe(ot)}[Q.s](){return this}pipe(...ot){return(0,I.m)(ot)(this)}toPromise(ot){return new(ot=Oe(ot))((At,jt)=>{let Vt;this.subscribe(Zt=>Vt=Zt,Zt=>jt(Zt),()=>At(Vt))})}}return et.create=He=>new et(He),et})();function Oe(et){var He;return null!==(He=et??Se.$.Promise)&&void 0!==He?He:Promise}},2107:(In,$e,j)=>{"use strict";j.d($e,{wc:()=>No,c7:()=>Oo,Xm:()=>Yr});var T=j(2967),O=j(1360),Q=j(7440),I=j(4125),Se=j(6335),Xe=j(2214),Ie=j(467),fe=j(7852),Oe=j(6858),me=j(1362);const he="firebasestorage.googleapis.com";class jt extends Oe.g{constructor(G,Te,Re=0){super(Zt(G),`Firebase Storage: ${Te} (${Zt(G)})`),this.status_=Re,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,jt.prototype)}get status(){return this.status_}set status(G){this.status_=G}_codeEquals(G){return Zt(G)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(G){this.customData.serverResponse=G,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Vt=function(K){return K.UNKNOWN="unknown",K.OBJECT_NOT_FOUND="object-not-found",K.BUCKET_NOT_FOUND="bucket-not-found",K.PROJECT_NOT_FOUND="project-not-found",K.QUOTA_EXCEEDED="quota-exceeded",K.UNAUTHENTICATED="unauthenticated",K.UNAUTHORIZED="unauthorized",K.UNAUTHORIZED_APP="unauthorized-app",K.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",K.INVALID_CHECKSUM="invalid-checksum",K.CANCELED="canceled",K.INVALID_EVENT_NAME="invalid-event-name",K.INVALID_URL="invalid-url",K.INVALID_DEFAULT_BUCKET="invalid-default-bucket",K.NO_DEFAULT_BUCKET="no-default-bucket",K.CANNOT_SLICE_BLOB="cannot-slice-blob",K.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",K.NO_DOWNLOAD_URL="no-download-url",K.INVALID_ARGUMENT="invalid-argument",K.INVALID_ARGUMENT_COUNT="invalid-argument-count",K.APP_DELETED="app-deleted",K.INVALID_ROOT_OPERATION="invalid-root-operation",K.INVALID_FORMAT="invalid-format",K.INTERNAL_ERROR="internal-error",K.UNSUPPORTED_ENVIRONMENT="unsupported-environment",K}(Vt||{});function Zt(K){return"storage/"+K}function Ye(K){return new jt(Vt.INVALID_ARGUMENT,K)}function tn(){return new jt(Vt.APP_DELETED,"The Firebase app was deleted.")}class le{constructor(G,Te){this.bucket=G,this.path_=Te}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const G=encodeURIComponent;return"/b/"+G(this.bucket)+"/o/"+G(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(G,Te){let Re;try{Re=le.makeFromUrl(G,Te)}catch{return new le(G,"")}if(""===Re.path)return Re;throw function ct(K){return new jt(Vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+K+"'.")}(G)}static makeFromUrl(G,Te){let Re=null;const it="([A-Za-z0-9.\\-_]+)",bn=new RegExp("^gs://"+it+"(/(.*))?$","i");function pr(Mi){Mi.path_=decodeURIComponent(Mi.path)}const Ur=Te.replace(/[.]/g,"\\."),vi=[{regex:bn,indices:{bucket:1,path:3},postModify:function Nt(Mi){"/"===Mi.path.charAt(Mi.path.length-1)&&(Mi.path_=Mi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ur}/v[A-Za-z0-9_]+/b/${it}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:pr},{regex:new RegExp(`^https?://${Te===he?"(?:storage.googleapis.com|storage.cloud.google.com)":Te}/${it}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:pr}];for(let Mi=0;Mi<vi.length;Mi++){const bo=vi[Mi],ii=bo.regex.exec(G);if(ii){let qo=ii[bo.indices.path];qo||(qo=""),Re=new le(ii[bo.indices.bucket],qo),bo.postModify(Re);break}}if(null==Re)throw function It(K){return new jt(Vt.INVALID_URL,"Invalid URL '"+K+"'.")}(G);return Re}}class de{constructor(G){this.promise_=Promise.reject(G)}getPromise(){return this.promise_}cancel(G=!1){}}function Wt(K,G,Te,Re){if(Re<G)throw Ye(`Invalid value for '${K}'. Expected ${G} or greater.`);if(Re>Te)throw Ye(`Invalid value for '${K}'. Expected ${Te} or less.`)}var Qt=function(K){return K[K.NO_ERROR=0]="NO_ERROR",K[K.NETWORK_ERROR=1]="NETWORK_ERROR",K[K.ABORT=2]="ABORT",K}(Qt||{});class tr{constructor(G,Te,Re,it,Nt,Kt,bn,pn,pr,Zn,Ur,Ii=!0,_i=!1){this.url_=G,this.method_=Te,this.headers_=Re,this.body_=it,this.successCodes_=Nt,this.additionalRetryCodes_=Kt,this.callback_=bn,this.errorCallback_=pn,this.timeout_=pr,this.progressCallback_=Zn,this.connectionFactory_=Ur,this.retry=Ii,this.isUsingEmulator=_i,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($i,Pi)=>{this.resolve_=$i,this.reject_=Pi,this.start_()})}start_(){const Te=(Re,it)=>{const Nt=this.resolve_,Kt=this.reject_,bn=it.connection;if(it.wasSuccessCode)try{const pn=this.callback_(bn,bn.getResponse());!function pe(K){return void 0!==K}(pn)?Nt():Nt(pn)}catch(pn){Kt(pn)}else if(null!==bn){const pn=function mt(){return new jt(Vt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();pn.serverResponse=bn.getErrorText(),Kt(this.errorCallback_?this.errorCallback_(bn,pn):pn)}else Kt(it.canceled?this.appDelete_?tn():function Gt(){return new jt(Vt.CANCELED,"User canceled the upload/download.")}():function wt(){return new jt(Vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?Te(0,new Dn(!1,null,!0)):this.backoffId_=function ye(K,G,Te){let Re=1,it=null,Nt=null,Kt=!1,bn=0;function pn(){return 2===bn}let pr=!1;function Zn(...ri){pr||(pr=!0,G.apply(null,ri))}function Ur(ri){it=setTimeout(()=>{it=null,K(_i,pn())},ri)}function Ii(){Nt&&clearTimeout(Nt)}function _i(ri,...Oi){if(pr)return void Ii();if(ri)return Ii(),void Zn.call(null,ri,...Oi);if(pn()||Kt)return Ii(),void Zn.call(null,ri,...Oi);let vi;Re<64&&(Re*=2),1===bn?(bn=2,vi=0):vi=1e3*(Re+Math.random()),Ur(vi)}let $i=!1;function Pi(ri){$i||($i=!0,Ii(),!pr&&(null!==it?(ri||(bn=2),clearTimeout(it),Ur(0)):ri||(bn=1)))}return Ur(0),Nt=setTimeout(()=>{Kt=!0,Pi(!0)},Te),Pi}((Re,it)=>{if(it)return void Re(!1,new Dn(!1,null,!0));const Nt=this.connectionFactory_();this.pendingConnection_=Nt;const Kt=bn=>{null!==this.progressCallback_&&this.progressCallback_(bn.loaded,bn.lengthComputable?bn.total:-1)};null!==this.progressCallback_&&Nt.addUploadProgressListener(Kt),Nt.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Nt.removeUploadProgressListener(Kt),this.pendingConnection_=null;const bn=Nt.getErrorCode()===Qt.NO_ERROR,pn=Nt.getStatus();if(!bn||function Vn(K,G){const Te=K>=500&&K<600,it=-1!==[408,429].indexOf(K),Nt=-1!==G.indexOf(K);return Te||it||Nt}(pn,this.additionalRetryCodes_)&&this.retry){const Zn=Nt.getErrorCode()===Qt.ABORT;return void Re(!1,new Dn(!1,null,Zn))}const pr=-1!==this.successCodes_.indexOf(pn);Re(!0,new Dn(pr,Nt))})},Te,this.timeout_)}getPromise(){return this.promise_}cancel(G){this.canceled_=!0,this.appDelete_=G||!1,null!==this.backoffId_&&function re(K){K(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Dn{constructor(G,Te,Re){this.wasSuccessCode=G,this.connection=Te,this.canceled=!!Re}}class rr{constructor(G,Te){this._service=G,this._location=Te instanceof le?Te:le.makeFromUrl(Te,G.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(G,Te){return new rr(G,Te)}get root(){const G=new le(this._location.bucket,"");return this._newRef(this._service,G)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function Cn(K){const G=K.lastIndexOf("/",K.length-2);return-1===G?K:K.slice(G+1)}(this._location.path)}get storage(){return this._service}get parent(){const G=function mi(K){if(0===K.length)return null;const G=K.lastIndexOf("/");return-1===G?"":K.slice(0,G)}(this._location.path);if(null===G)return null;const Te=new le(this._location.bucket,G);return new rr(this._service,Te)}_throwIfRoot(G){if(""===this._location.path)throw function Mt(K){return new jt(Vt.INVALID_ROOT_OPERATION,"The operation '"+K+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(G)}}function yr(K,G){const Te=G?.storageBucket;return null==Te?null:le.makeFromBucketSpec(Te,K)}class _r{constructor(G,Te,Re,it,Nt,Kt=!1){this.app=G,this._authProvider=Te,this._appCheckProvider=Re,this._url=it,this._firebaseVersion=Nt,this._isUsingEmulator=Kt,this._bucket=null,this._host=he,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=it?le.makeFromBucketSpec(it,this._host):yr(this._host,this.app.options)}get host(){return this._host}set host(G){this._host=G,this._bucket=null!=this._url?le.makeFromBucketSpec(this._url,G):yr(G,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(G){Wt("time",0,Number.POSITIVE_INFINITY,G),this._maxUploadRetryTime=G}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(G){Wt("time",0,Number.POSITIVE_INFINITY,G),this._maxOperationRetryTime=G}_getAuthToken(){var G=this;return(0,Ie.A)(function*(){if(G._overrideAuthToken)return G._overrideAuthToken;const Te=G._authProvider.getImmediate({optional:!0});if(Te){const Re=yield Te.getToken();if(null!==Re)return Re.accessToken}return null})()}_getAppCheckToken(){var G=this;return(0,Ie.A)(function*(){if((0,fe.xZ)(G.app)&&G.app.settings.appCheckToken)return G.app.settings.appCheckToken;const Te=G._appCheckProvider.getImmediate({optional:!0});return Te?(yield Te.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(G=>G.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(G){return new rr(this,G)}_makeRequest(G,Te,Re,it,Nt=!0){if(this._deleted)return new de(tn());{const Kt=function fr(K,G,Te,Re,it,Nt,Kt=!0,bn=!1){const pn=function Hn(K){const G=encodeURIComponent;let Te="?";for(const Re in K)K.hasOwnProperty(Re)&&(Te=Te+(G(Re)+"=")+G(K[Re])+"&");return Te=Te.slice(0,-1),Te}(K.urlParams),pr=K.url+pn,Zn=Object.assign({},K.headers);return function Si(K,G){G&&(K["X-Firebase-GMPID"]=G)}(Zn,G),function Nr(K,G){null!==G&&G.length>0&&(K.Authorization="Firebase "+G)}(Zn,Te),function Pr(K,G){K["X-Firebase-Storage-Version"]="webjs/"+(G??"AppManager")}(Zn,Nt),function fn(K,G){null!==G&&(K["X-Firebase-AppCheck"]=G)}(Zn,Re),new tr(pr,K.method,Zn,K.body,K.successCodes,K.additionalRetryCodes,K.handler,K.errorHandler,K.timeout,K.progressCallback,it,Kt,bn)}(G,this._appId,Re,it,Te,this._firebaseVersion,Nt,this._isUsingEmulator);return this._requests.add(Kt),Kt.getPromise().then(()=>this._requests.delete(Kt),()=>this._requests.delete(Kt)),Kt}}makeRequestWithTokens(G,Te){var Re=this;return(0,Ie.A)(function*(){const[it,Nt]=yield Promise.all([Re._getAuthToken(),Re._getAppCheckToken()]);return Re._makeRequest(G,Te,it,Nt).getPromise()})()}}const Gi="@firebase/storage",yi="0.13.12",wo="storage";function ss(K=(0,fe.Sx)(),G){K=(0,Oe.Ku)(K);const Re=(0,fe.j6)(K,wo).getImmediate({identifier:G}),it=(0,Oe.yU)("storage");return it&&function En(K,G,Te,Re={}){!function Ln(K,G,Te,Re={}){K.host=`${G}:${Te}`;const it=(0,Oe.zJ)(G);it&&((0,Oe.gE)(`https://${K.host}`),(0,Oe.P1)("Storage",!0)),K._isUsingEmulator=!0,K._protocol=it?"https":"http";const{mockUserToken:Nt}=Re;Nt&&(K._overrideAuthToken="string"==typeof Nt?Nt:(0,Oe.Fy)(Nt,K.app.options.projectId))}(K,G,Te,Re)}(Re,...it),Re}function Mo(K,{instanceIdentifier:G}){const Te=K.getProvider("app").getImmediate(),Re=K.getProvider("auth-internal"),it=K.getProvider("app-check-internal");return new _r(Te,Re,it,G,fe.MF)}!function Zo(){(0,fe.om)(new me.uA(wo,Mo,"PUBLIC").setMultipleInstances(!0)),(0,fe.KO)(Gi,yi,""),(0,fe.KO)(Gi,yi,"esm2017")}();class No{constructor(G){return G}}const bs="storage",Go=new O.nKC("angularfire2.storage-instances");function Ko(K){return(G,Te)=>{const Re=G.runOutsideAngular(()=>K(Te));return new No(Re)}}const Ds={provide:class cs{constructor(){return(0,T.CA)(bs)}},deps:[[new O.Xx1,Go]]},Kr={provide:No,useFactory:function mo(K,G){const Te=(0,T.lR)(bs,K,G);return Te&&new No(Te)},deps:[[new O.Xx1,Go],Q.XU]};function Yr(K,...G){return(0,Xe.KO)("angularfire",T.xv.full,"gcs"),(0,O.EmA)([Kr,Ds,{provide:Go,useFactory:Ko(K),multi:!0,deps:[O.SKi,O.zZn,T.u0,Q.gL,[new O.Xx1,Se.DF],[new O.Xx1,I.kR],...G]}])}const Oo=(0,T.S3)(ss,!0)},2214:(In,$e,j)=>{"use strict";j.d($e,{Dk:()=>T.Dk,KO:()=>T.KO,Sx:()=>T.Sx,Wp:()=>T.Wp});var T=j(7852);(0,T.KO)("firebase","11.8.1","app")},2881:(In,$e,j)=>{"use strict";j.d($e,{MD:()=>io,Sq:()=>Bi,YU:()=>_n,bT:()=>_e,fw:()=>Q,vh:()=>Ee});var T=j(1360),O=j(6048);let Q=(()=>{class $ extends O.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(q,te){super(),this._platformLocation=q,null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(q){this._removeListenerFns.push(this._platformLocation.onPopState(q),this._platformLocation.onHashChange(q))}getBaseHref(){return this._baseHref}path(q=!1){const te=this._platformLocation.hash??"#";return te.length>0?te.substring(1):te}prepareExternalUrl(q){const te=(0,O.om)(this._baseHref,q);return te.length>0?"#"+te:te}pushState(q,te,Pe,Dt){const cn=this.prepareExternalUrl(Pe+(0,O.Q)(Dt))||this._platformLocation.pathname;this._platformLocation.pushState(q,te,cn)}replaceState(q,te,Pe,Dt){const cn=this.prepareExternalUrl(Pe+(0,O.Q)(Dt))||this._platformLocation.pathname;this._platformLocation.replaceState(q,te,cn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(q=0){this._platformLocation.historyGo?.(q)}static \u0275fac=function(te){return new(te||$)(T.KVO(O.Vw),T.KVO(O.kB,8))};static \u0275prov=T.jDH({token:$,factory:$.\u0275fac})}return $})();var Ie=function($){return $[$.Format=0]="Format",$[$.Standalone=1]="Standalone",$}(Ie||{}),fe=function($){return $[$.Narrow=0]="Narrow",$[$.Abbreviated=1]="Abbreviated",$[$.Wide=2]="Wide",$[$.Short=3]="Short",$}(fe||{}),Oe=function($){return $[$.Short=0]="Short",$[$.Medium=1]="Medium",$[$.Long=2]="Long",$[$.Full=3]="Full",$}(Oe||{});function mt($,ge){return wn((0,T.H5H)($)[T.KH2.DateFormat],ge)}function Et($,ge){return wn((0,T.H5H)($)[T.KH2.TimeFormat],ge)}function St($,ge){return wn((0,T.H5H)($)[T.KH2.DateTimeFormat],ge)}function Ne($,ge){const q=(0,T.H5H)($),te=q[T.KH2.NumberSymbols][ge];if(typeof te>"u"){if(12===ge)return q[T.KH2.NumberSymbols][0];if(13===ge)return q[T.KH2.NumberSymbols][1]}return te}function Un($){if(!$[T.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${$[T.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wn($,ge){for(let q=ge;q>-1;q--)if(typeof $[q]<"u")return $[q];throw new Error("Locale data API: locale data undefined")}function Ye($){const[ge,q]=$.split(":");return{hours:+ge,minutes:+q}}const Y=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,le={},de=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ye($,ge,q,te){let Pe=function kr($){if(Ir($))return $;if("number"==typeof $&&!isNaN($))return new Date($);if("string"==typeof $){if($=$.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test($)){const[Pe,Dt=1,cn=1]=$.split("-").map(On=>+On);return re(Pe,Dt-1,cn)}const q=parseFloat($);if(!isNaN($-q))return new Date(q);let te;if(te=$.match(Y))return function lt($){const ge=new Date(0);let q=0,te=0;const Pe=$[8]?ge.setUTCFullYear:ge.setFullYear,Dt=$[8]?ge.setUTCHours:ge.setHours;$[9]&&(q=Number($[9]+$[10]),te=Number($[9]+$[11])),Pe.call(ge,Number($[1]),Number($[2])-1,Number($[3]));const cn=Number($[4]||0)-q,On=Number($[5]||0)-te,ci=Number($[6]||0),Xr=Math.floor(1e3*parseFloat("0."+($[7]||0)));return Dt.call(ge,cn,On,ci,Xr),ge}(te)}const ge=new Date($);if(!Ir(ge))throw new Error(`Unable to convert "${$}" into a date`);return ge}($);ge=pe(q,ge)||ge;let On,cn=[];for(;ge;){if(On=de.exec(ge),!On){cn.push(ge);break}{cn=cn.concat(On.slice(1));const Zr=cn.pop();if(!Zr)break;ge=Zr}}let ci=Pe.getTimezoneOffset();te&&(ci=fr(te,ci),Pe=function Xi($,ge){const Pe=$.getTimezoneOffset();return function sn($,ge){return($=new Date($.getTime())).setMinutes($.getMinutes()+ge),$}($,-1*(fr(ge,Pe)-Pe))}(Pe,te));let Xr="";return cn.forEach(Zr=>{const yr=function fn($){if(Si[$])return Si[$];let ge;switch($){case"G":case"GG":case"GGG":ge=Wt(3,fe.Abbreviated);break;case"GGGG":ge=Wt(3,fe.Wide);break;case"GGGGG":ge=Wt(3,fe.Narrow);break;case"y":ge=Yt(0,1,0,!1,!0);break;case"yy":ge=Yt(0,2,0,!0,!0);break;case"yyy":ge=Yt(0,3,0,!1,!0);break;case"yyyy":ge=Yt(0,4,0,!1,!0);break;case"Y":ge=Pr(1);break;case"YY":ge=Pr(2,!0);break;case"YYY":ge=Pr(3);break;case"YYYY":ge=Pr(4);break;case"M":case"L":ge=Yt(1,1,1);break;case"MM":case"LL":ge=Yt(1,2,1);break;case"MMM":ge=Wt(2,fe.Abbreviated);break;case"MMMM":ge=Wt(2,fe.Wide);break;case"MMMMM":ge=Wt(2,fe.Narrow);break;case"LLL":ge=Wt(2,fe.Abbreviated,Ie.Standalone);break;case"LLLL":ge=Wt(2,fe.Wide,Ie.Standalone);break;case"LLLLL":ge=Wt(2,fe.Narrow,Ie.Standalone);break;case"w":ge=Nr(1);break;case"ww":ge=Nr(2);break;case"W":ge=Nr(1,!0);break;case"d":ge=Yt(2,1);break;case"dd":ge=Yt(2,2);break;case"c":case"cc":ge=Yt(7,1);break;case"ccc":ge=Wt(1,fe.Abbreviated,Ie.Standalone);break;case"cccc":ge=Wt(1,fe.Wide,Ie.Standalone);break;case"ccccc":ge=Wt(1,fe.Narrow,Ie.Standalone);break;case"cccccc":ge=Wt(1,fe.Short,Ie.Standalone);break;case"E":case"EE":case"EEE":ge=Wt(1,fe.Abbreviated);break;case"EEEE":ge=Wt(1,fe.Wide);break;case"EEEEE":ge=Wt(1,fe.Narrow);break;case"EEEEEE":ge=Wt(1,fe.Short);break;case"a":case"aa":case"aaa":ge=Wt(0,fe.Abbreviated);break;case"aaaa":ge=Wt(0,fe.Wide);break;case"aaaaa":ge=Wt(0,fe.Narrow);break;case"b":case"bb":case"bbb":ge=Wt(0,fe.Abbreviated,Ie.Standalone,!0);break;case"bbbb":ge=Wt(0,fe.Wide,Ie.Standalone,!0);break;case"bbbbb":ge=Wt(0,fe.Narrow,Ie.Standalone,!0);break;case"B":case"BB":case"BBB":ge=Wt(0,fe.Abbreviated,Ie.Format,!0);break;case"BBBB":ge=Wt(0,fe.Wide,Ie.Format,!0);break;case"BBBBB":ge=Wt(0,fe.Narrow,Ie.Format,!0);break;case"h":ge=Yt(3,1,-12);break;case"hh":ge=Yt(3,2,-12);break;case"H":ge=Yt(3,1);break;case"HH":ge=Yt(3,2);break;case"m":ge=Yt(4,1);break;case"mm":ge=Yt(4,2);break;case"s":ge=Yt(5,1);break;case"ss":ge=Yt(5,2);break;case"S":ge=Yt(6,1);break;case"SS":ge=Yt(6,2);break;case"SSS":ge=Yt(6,3);break;case"Z":case"ZZ":case"ZZZ":ge=Hn(0);break;case"ZZZZZ":ge=Hn(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ge=Hn(1);break;case"OOOO":case"ZZZZ":case"zzzz":ge=Hn(2);break;default:return null}return Si[$]=ge,ge}(Zr);Xr+=yr?yr(Pe,q,ci):"''"===Zr?"'":Zr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Xr}function re($,ge,q){const te=new Date(0);return te.setFullYear($,ge,q),te.setHours(0,0,0),te}function pe($,ge){const q=function et($){return(0,T.H5H)($)[T.KH2.LocaleId]}($);if(le[q]??={},le[q][ge])return le[q][ge];let te="";switch(ge){case"shortDate":te=mt($,Oe.Short);break;case"mediumDate":te=mt($,Oe.Medium);break;case"longDate":te=mt($,Oe.Long);break;case"fullDate":te=mt($,Oe.Full);break;case"shortTime":te=Et($,Oe.Short);break;case"mediumTime":te=Et($,Oe.Medium);break;case"longTime":te=Et($,Oe.Long);break;case"fullTime":te=Et($,Oe.Full);break;case"short":const Pe=pe($,"shortTime"),Dt=pe($,"shortDate");te=qe(St($,Oe.Short),[Pe,Dt]);break;case"medium":const cn=pe($,"mediumTime"),On=pe($,"mediumDate");te=qe(St($,Oe.Medium),[cn,On]);break;case"long":const ci=pe($,"longTime"),Xr=pe($,"longDate");te=qe(St($,Oe.Long),[ci,Xr]);break;case"full":const Zr=pe($,"fullTime"),yr=pe($,"fullDate");te=qe(St($,Oe.Full),[Zr,yr])}return te&&(le[q][ge]=te),te}function qe($,ge){return ge&&($=$.replace(/\{([^}]+)}/g,function(q,te){return null!=ge&&te in ge?ge[te]:q})),$}function yt($,ge,q="-",te,Pe){let Dt="";($<0||Pe&&$<=0)&&(Pe?$=1-$:($=-$,Dt=q));let cn=String($);for(;cn.length<ge;)cn="0"+cn;return te&&(cn=cn.slice(cn.length-ge)),Dt+cn}function Yt($,ge,q=0,te=!1,Pe=!1){return function(Dt,cn){let On=function nr($,ge){switch($){case 0:return ge.getFullYear();case 1:return ge.getMonth();case 2:return ge.getDate();case 3:return ge.getHours();case 4:return ge.getMinutes();case 5:return ge.getSeconds();case 6:return ge.getMilliseconds();case 7:return ge.getDay();default:throw new Error(`Unknown DateType value "${$}".`)}}($,Dt);if((q>0||On>-q)&&(On+=q),3===$)0===On&&-12===q&&(On=12);else if(6===$)return function on($,ge){return yt($,3).substring(0,ge)}(On,ge);const ci=Ne(cn,5);return yt(On,ge,ci,te,Pe)}}function Wt($,ge,q=Ie.Format,te=!1){return function(Pe,Dt){return function Xn($,ge,q,te,Pe,Dt){switch(q){case 2:return function At($,ge,q){const te=(0,T.H5H)($),Dt=wn([te[T.KH2.MonthsFormat],te[T.KH2.MonthsStandalone]],ge);return wn(Dt,q)}(ge,Pe,te)[$.getMonth()];case 1:return function ot($,ge,q){const te=(0,T.H5H)($),Dt=wn([te[T.KH2.DaysFormat],te[T.KH2.DaysStandalone]],ge);return wn(Dt,q)}(ge,Pe,te)[$.getDay()];case 0:const cn=$.getHours(),On=$.getMinutes();if(Dt){const Xr=function Mn($){const ge=(0,T.H5H)($);return Un(ge),(ge[T.KH2.ExtraData][2]||[]).map(te=>"string"==typeof te?Ye(te):[Ye(te[0]),Ye(te[1])])}(ge),Zr=function qn($,ge,q){const te=(0,T.H5H)($);Un(te);const Dt=wn([te[T.KH2.ExtraData][0],te[T.KH2.ExtraData][1]],ge)||[];return wn(Dt,q)||[]}(ge,Pe,te),yr=Xr.findIndex(Ln=>{if(Array.isArray(Ln)){const[_r,Gi]=Ln,yi=cn>=_r.hours&&On>=_r.minutes,wo=cn<Gi.hours||cn===Gi.hours&&On<Gi.minutes;if(_r.hours<Gi.hours){if(yi&&wo)return!0}else if(yi||wo)return!0}else if(Ln.hours===cn&&Ln.minutes===On)return!0;return!1});if(-1!==yr)return Zr[yr]}return function He($,ge,q){const te=(0,T.H5H)($),Dt=wn([te[T.KH2.DayPeriodsFormat],te[T.KH2.DayPeriodsStandalone]],ge);return wn(Dt,q)}(ge,Pe,te)[cn<12?0:1];case 3:return function jt($,ge){return wn((0,T.H5H)($)[T.KH2.Eras],ge)}(ge,te)[$.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${q}`)}}(Pe,Dt,$,ge,q,te)}}function Hn($){return function(ge,q,te){const Pe=-1*te,Dt=Ne(q,5),cn=Pe>0?Math.floor(Pe/60):Math.ceil(Pe/60);switch($){case 0:return(Pe>=0?"+":"")+yt(cn,2,Dt)+yt(Math.abs(Pe%60),2,Dt);case 1:return"GMT"+(Pe>=0?"+":"")+yt(cn,1,Dt);case 2:return"GMT"+(Pe>=0?"+":"")+yt(cn,2,Dt)+":"+yt(Math.abs(Pe%60),2,Dt);case 3:return 0===te?"Z":(Pe>=0?"+":"")+yt(cn,2,Dt)+":"+yt(Math.abs(Pe%60),2,Dt);default:throw new Error(`Unknown zone width "${$}"`)}}}const Qt=0,Vn=4;function Dn($){const ge=$.getDay(),q=0===ge?-3:Vn-ge;return re($.getFullYear(),$.getMonth(),$.getDate()+q)}function Nr($,ge=!1){return function(q,te){let Pe;if(ge){const Dt=new Date(q.getFullYear(),q.getMonth(),1).getDay()-1,cn=q.getDate();Pe=1+Math.floor((cn+Dt)/7)}else{const Dt=Dn(q),cn=function tr($){const ge=re($,Qt,1).getDay();return re($,0,1+(ge<=Vn?Vn:Vn+7)-ge)}(Dt.getFullYear()),On=Dt.getTime()-cn.getTime();Pe=1+Math.round(On/6048e5)}return yt(Pe,$,Ne(te,5))}}function Pr($,ge=!1){return function(q,te){return yt(Dn(q).getFullYear(),$,Ne(te,5),ge)}}const Si={};function fr($,ge){$=$.replace(/:/g,"");const q=Date.parse("Jan 01, 1970 00:00:00 "+$)/6e4;return isNaN(q)?ge:q}function Ir($){return $ instanceof Date&&!isNaN($.valueOf())}const ai=/\s+/,Vi=[];let _n=(()=>{class ${_ngEl;_renderer;initialClasses=Vi;rawClass;stateMap=new Map;constructor(q,te){this._ngEl=q,this._renderer=te}set klass(q){this.initialClasses=null!=q?q.trim().split(ai):Vi}set ngClass(q){this.rawClass="string"==typeof q?q.trim().split(ai):q}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const q=this.rawClass;if(Array.isArray(q)||q instanceof Set)for(const te of q)this._updateState(te,!0);else if(null!=q)for(const te of Object.keys(q))this._updateState(te,!!q[te]);this._applyStateDiff()}_updateState(q,te){const Pe=this.stateMap.get(q);void 0!==Pe?(Pe.enabled!==te&&(Pe.changed=!0,Pe.enabled=te),Pe.touched=!0):this.stateMap.set(q,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const q of this.stateMap){const te=q[0],Pe=q[1];Pe.changed?(this._toggleClass(te,Pe.enabled),Pe.changed=!1):Pe.touched||(Pe.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),Pe.touched=!1}}_toggleClass(q,te){(q=q.trim()).length>0&&q.split(ai).forEach(Pe=>{te?this._renderer.addClass(this._ngEl.nativeElement,Pe):this._renderer.removeClass(this._ngEl.nativeElement,Pe)})}static \u0275fac=function(te){return new(te||$)(T.rXU(T.aKT),T.rXU(T.sFG))};static \u0275dir=T.FsC({type:$,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return $})();class Ui{$implicit;ngForOf;index;count;constructor(ge,q,te,Pe){this.$implicit=ge,this.ngForOf=q,this.index=te,this.count=Pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bi=(()=>{class ${_viewContainer;_template;_differs;set ngForOf(q){this._ngForOf=q,this._ngForOfDirty=!0}set ngForTrackBy(q){this._trackByFn=q}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(q,te,Pe){this._viewContainer=q,this._template=te,this._differs=Pe}set ngForTemplate(q){q&&(this._template=q)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const q=this._ngForOf;!this._differ&&q&&(this._differ=this._differs.find(q).create(this.ngForTrackBy))}if(this._differ){const q=this._differ.diff(this._ngForOf);q&&this._applyChanges(q)}}_applyChanges(q){const te=this._viewContainer;q.forEachOperation((Pe,Dt,cn)=>{if(null==Pe.previousIndex)te.createEmbeddedView(this._template,new Ui(Pe.item,this._ngForOf,-1,-1),null===cn?void 0:cn);else if(null==cn)te.remove(null===Dt?void 0:Dt);else if(null!==Dt){const On=te.get(Dt);te.move(On,cn),xi(On,Pe)}});for(let Pe=0,Dt=te.length;Pe<Dt;Pe++){const On=te.get(Pe).context;On.index=Pe,On.count=Dt,On.ngForOf=this._ngForOf}q.forEachIdentityChange(Pe=>{xi(te.get(Pe.currentIndex),Pe)})}static ngTemplateContextGuard(q,te){return!0}static \u0275fac=function(te){return new(te||$)(T.rXU(T.c1b),T.rXU(T.C4Q),T.rXU(T._q3))};static \u0275dir=T.FsC({type:$,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return $})();function xi($,ge){$.context.$implicit=ge.item}let _e=(()=>{class ${_viewContainer;_context=new Be;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(q,te){this._viewContainer=q,this._thenTemplateRef=te}set ngIf(q){this._context.$implicit=this._context.ngIf=q,this._updateView()}set ngIfThen(q){Ot(q),this._thenTemplateRef=q,this._thenViewRef=null,this._updateView()}set ngIfElse(q){Ot(q),this._elseTemplateRef=q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(q,te){return!0}static \u0275fac=function(te){return new(te||$)(T.rXU(T.c1b),T.rXU(T.C4Q))};static \u0275dir=T.FsC({type:$,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return $})();class Be{$implicit=null;ngIf=null}function Ot($,ge){if($&&!$.createEmbeddedView)throw new T.wOt(2020,!1)}const wi=new T.nKC(""),Ri=new T.nKC("");let Ee=(()=>{class ${locale;defaultTimezone;defaultOptions;constructor(q,te,Pe){this.locale=q,this.defaultTimezone=te,this.defaultOptions=Pe}transform(q,te,Pe,Dt){if(null==q||""===q||q!=q)return null;try{return ye(q,te??this.defaultOptions?.dateFormat??"mediumDate",Dt||this.locale,Pe??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(cn){throw function ve($,ge){return new T.wOt(2100,!1)}()}}static \u0275fac=function(te){return new(te||$)(T.rXU(T.xe9,16),T.rXU(wi,24),T.rXU(Ri,24))};static \u0275pipe=T.EJ8({name:"date",type:$,pure:!0})}return $})(),io=(()=>{class ${static \u0275fac=function(te){return new(te||$)};static \u0275mod=T.$C({type:$});static \u0275inj=T.G2t({})}return $})()},2967:(In,$e,j)=>{"use strict";j.d($e,{xv:()=>rt,u0:()=>qn,CA:()=>Gt,lR:()=>wt,S3:()=>Ke});var T=j(1360),O=j(2214),Q=j(1985);function et(Y){void 0===Y&&((0,T.Af3)(et),Y=(0,T.WQX)(T.zZn));const le=Y.get(T.u5s);return de=>new Q.c(ye=>{const re=le.add();let pe=!1;function qe(){pe||(re(),pe=!0)}const yt=de.subscribe({next:on=>{ye.next(on),qe()},complete:()=>{ye.complete(),qe()},error:on=>{ye.error(on),qe()}});return yt.add(()=>{ye.unsubscribe(),qe()}),yt})}var ot=j(6780),jt=j(3604);const Zt=new class Vt extends jt.q{}(class At extends ot.R{constructor(le,de){super(le,de),this.scheduler=le,this.work=de}schedule(le,de=0){return de>0?super.schedule(le,de):(this.delay=de,this.state=le,this.scheduler.flush(this),this)}execute(le,de){return de>0||this.closed?super.execute(le,de):this._execute(le,de)}requestAsyncId(le,de,ye=0){return null!=ye&&ye>0||null==ye&&this.delay>0?super.requestAsyncId(le,de,ye):(le.flush(this),0)}});var Et=j(3236),St=j(6745),Ne=j(941);const rt=new T.RxE("ANGULARFIRE2_VERSION");function wt(Y,le,de){if(le){if(1===le.length)return le[0];const pe=le.filter(qe=>qe.app===de);if(1===pe.length)return pe[0]}return de.container.getProvider(Y).getImmediate({optional:!0})}const Gt=(Y,le)=>{const de=le?[le]:(0,O.Dk)(),ye=[];return de.forEach(re=>{re.container.getProvider(Y).instances.forEach(qe=>{ye.includes(qe)||ye.push(qe)})}),ye};var It=function(Y){return Y[Y.SILENT=0]="SILENT",Y[Y.WARN=1]="WARN",Y[Y.VERBOSE=2]="VERBOSE",Y}(It||{}),ct=(0,T.naY)()&&typeof Zone<"u"?It.WARN:It.SILENT;class Mn{zone;delegate;constructor(le,de=Zt){this.zone=le,this.delegate=de}now(){return this.delegate.now()}schedule(le,de,ye){const re=this.zone;return this.delegate.schedule(function(qe){re?re.runGuarded(()=>{le.apply(this,[qe])}):le.apply(this,[qe])},de,ye)}}let qn=(()=>{class Y{outsideAngular;insideAngular;constructor(){const de=(0,T.WQX)(T.SKi);this.outsideAngular=de.runOutsideAngular(()=>new Mn(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=de.run(()=>new Mn(typeof Zone>"u"?void 0:Zone.current,Et.E))}static \u0275fac=function(ye){return new(ye||Y)};static \u0275prov=T.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();var ht=!1;function tn(Y){const le=(0,T.WQX)(T.SKi,{optional:!0});return le?le.run(()=>Y()):Y()}const Mt=(Y,le,de)=>(...ye)=>(le&&setTimeout(le,0),(0,T.N4e)(de,()=>tn(()=>Y.apply(void 0,ye)))),Ke=(Y,le,de)=>(de||=le?It.WARN:It.VERBOSE,function(){let ye;const re=arguments;let pe,qe,yt;try{pe=(0,T.WQX)(qn),qe=(0,T.WQX)(T.u5s),yt=(0,T.WQX)(T.uvJ)}catch{return function wn(Y,le){!ht&&(ct>It.SILENT||(0,T.naY)())&&(ht=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ct>=le&&console.warn(`Firebase API called outside injection context: ${Y.name}`)}(Y,de),Y.apply(this,re)}for(let Yt=0;Yt<arguments.length;Yt++)"function"==typeof re[Yt]&&(le&&(ye||=tn(()=>qe.add())),re[Yt]=Mt(re[Yt],ye,yt));const on=function Ye(Y){const le=(0,T.WQX)(T.SKi,{optional:!0});return le?le.runOutsideAngular(()=>Y()):Y()}(()=>Y.apply(this,re));return le?on instanceof Q.c?on.pipe((0,St._)(pe.outsideAngular),(0,Ne.Q)(pe.insideAngular),et(yt)):on instanceof Promise?tn(()=>new Promise((Yt,nr)=>{qe.run(()=>on).then(Wt=>(0,T.N4e)(yt,()=>tn(()=>Yt(Wt))),Wt=>(0,T.N4e)(yt,()=>tn(()=>nr(Wt))))})):"function"==typeof on&&ye?function(){return setTimeout(ye,0),on.apply(this,arguments)}:tn(()=>on):on instanceof Q.c?on.pipe((0,St._)(pe.outsideAngular),(0,Ne.Q)(pe.insideAngular)):tn(()=>on)})},3073:(In,$e,j)=>{"use strict";j.d($e,{D:()=>Se});const{isArray:T}=Array,{getPrototypeOf:O,prototype:Q,keys:I}=Object;function Se(Ie){if(1===Ie.length){const fe=Ie[0];if(T(fe))return{args:fe,keys:null};if(function Xe(Ie){return Ie&&"object"==typeof Ie&&O(Ie)===Q}(fe)){const Oe=I(fe);return{args:Oe.map(me=>fe[me]),keys:Oe}}}return{args:Ie,keys:null}}},3236:(In,$e,j)=>{"use strict";j.d($e,{E:()=>Q,b:()=>I});var T=j(6780);const Q=new(j(3604).q)(T.R),I=Q},3273:(In,$e,j)=>{"use strict";j.d($e,{Dc:()=>fr,gS:()=>ov,rJ:()=>QE,kd:()=>iv,H9:()=>V_,x7:()=>CT,GG:()=>ST,aU:()=>Sm,aQ:()=>fw,My:()=>jm,P:()=>Y_,BN:()=>Np,mZ:()=>rv,_M:()=>iw,wP:()=>Lr});var fe,Oe,T=j(467),O=j(7852),Q=j(1362),I=j(8041),Se=j(6858),Xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ie={};(function(){var c;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(st,ke,ze){ze||(ze=0);var at=Array(16);if("string"==typeof ke)for(var ut=0;16>ut;++ut)at[ut]=ke.charCodeAt(ze++)|ke.charCodeAt(ze++)<<8|ke.charCodeAt(ze++)<<16|ke.charCodeAt(ze++)<<24;else for(ut=0;16>ut;++ut)at[ut]=ke[ze++]|ke[ze++]<<8|ke[ze++]<<16|ke[ze++]<<24;var Ct=st.g[3],je=(ke=st.g[0])+(Ct^(ze=st.g[1])&((ut=st.g[2])^Ct))+at[0]+3614090360&4294967295;je=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=(ze=(ut=(Ct=(ke=ze+(je<<7&4294967295|je>>>25))+((je=Ct+(ut^ke&(ze^ut))+at[1]+3905402710&4294967295)<<12&4294967295|je>>>20))+((je=ut+(ze^Ct&(ke^ze))+at[2]+606105819&4294967295)<<17&4294967295|je>>>15))+((je=ze+(ke^ut&(Ct^ke))+at[3]+3250441966&4294967295)<<22&4294967295|je>>>10))+((je=ke+(Ct^ze&(ut^Ct))+at[4]+4118548399&4294967295)<<7&4294967295|je>>>25))+((je=Ct+(ut^ke&(ze^ut))+at[5]+1200080426&4294967295)<<12&4294967295|je>>>20))+((je=ut+(ze^Ct&(ke^ze))+at[6]+2821735955&4294967295)<<17&4294967295|je>>>15))+((je=ze+(ke^ut&(Ct^ke))+at[7]+4249261313&4294967295)<<22&4294967295|je>>>10))+((je=ke+(Ct^ze&(ut^Ct))+at[8]+1770035416&4294967295)<<7&4294967295|je>>>25))+((je=Ct+(ut^ke&(ze^ut))+at[9]+2336552879&4294967295)<<12&4294967295|je>>>20))+((je=ut+(ze^Ct&(ke^ze))+at[10]+4294925233&4294967295)<<17&4294967295|je>>>15))+((je=ze+(ke^ut&(Ct^ke))+at[11]+2304563134&4294967295)<<22&4294967295|je>>>10))+((je=ke+(Ct^ze&(ut^Ct))+at[12]+1804603682&4294967295)<<7&4294967295|je>>>25))+((je=Ct+(ut^ke&(ze^ut))+at[13]+4254626195&4294967295)<<12&4294967295|je>>>20))+((je=ut+(ze^Ct&(ke^ze))+at[14]+2792965006&4294967295)<<17&4294967295|je>>>15))+((je=ze+(ke^ut&(Ct^ke))+at[15]+1236535329&4294967295)<<22&4294967295|je>>>10))+((je=ke+(ut^Ct&(ze^ut))+at[1]+4129170786&4294967295)<<5&4294967295|je>>>27))+((je=Ct+(ze^ut&(ke^ze))+at[6]+3225465664&4294967295)<<9&4294967295|je>>>23))+((je=ut+(ke^ze&(Ct^ke))+at[11]+643717713&4294967295)<<14&4294967295|je>>>18))+((je=ze+(Ct^ke&(ut^Ct))+at[0]+3921069994&4294967295)<<20&4294967295|je>>>12))+((je=ke+(ut^Ct&(ze^ut))+at[5]+3593408605&4294967295)<<5&4294967295|je>>>27))+((je=Ct+(ze^ut&(ke^ze))+at[10]+38016083&4294967295)<<9&4294967295|je>>>23))+((je=ut+(ke^ze&(Ct^ke))+at[15]+3634488961&4294967295)<<14&4294967295|je>>>18))+((je=ze+(Ct^ke&(ut^Ct))+at[4]+3889429448&4294967295)<<20&4294967295|je>>>12))+((je=ke+(ut^Ct&(ze^ut))+at[9]+568446438&4294967295)<<5&4294967295|je>>>27))+((je=Ct+(ze^ut&(ke^ze))+at[14]+3275163606&4294967295)<<9&4294967295|je>>>23))+((je=ut+(ke^ze&(Ct^ke))+at[3]+4107603335&4294967295)<<14&4294967295|je>>>18))+((je=ze+(Ct^ke&(ut^Ct))+at[8]+1163531501&4294967295)<<20&4294967295|je>>>12))+((je=ke+(ut^Ct&(ze^ut))+at[13]+2850285829&4294967295)<<5&4294967295|je>>>27))+((je=Ct+(ze^ut&(ke^ze))+at[2]+4243563512&4294967295)<<9&4294967295|je>>>23))+((je=ut+(ke^ze&(Ct^ke))+at[7]+1735328473&4294967295)<<14&4294967295|je>>>18))+((je=ze+(Ct^ke&(ut^Ct))+at[12]+2368359562&4294967295)<<20&4294967295|je>>>12))+((je=ke+(ze^ut^Ct)+at[5]+4294588738&4294967295)<<4&4294967295|je>>>28))+((je=Ct+(ke^ze^ut)+at[8]+2272392833&4294967295)<<11&4294967295|je>>>21))+((je=ut+(Ct^ke^ze)+at[11]+1839030562&4294967295)<<16&4294967295|je>>>16))+((je=ze+(ut^Ct^ke)+at[14]+4259657740&4294967295)<<23&4294967295|je>>>9))+((je=ke+(ze^ut^Ct)+at[1]+2763975236&4294967295)<<4&4294967295|je>>>28))+((je=Ct+(ke^ze^ut)+at[4]+1272893353&4294967295)<<11&4294967295|je>>>21))+((je=ut+(Ct^ke^ze)+at[7]+4139469664&4294967295)<<16&4294967295|je>>>16))+((je=ze+(ut^Ct^ke)+at[10]+3200236656&4294967295)<<23&4294967295|je>>>9))+((je=ke+(ze^ut^Ct)+at[13]+681279174&4294967295)<<4&4294967295|je>>>28))+((je=Ct+(ke^ze^ut)+at[0]+3936430074&4294967295)<<11&4294967295|je>>>21))+((je=ut+(Ct^ke^ze)+at[3]+3572445317&4294967295)<<16&4294967295|je>>>16))+((je=ze+(ut^Ct^ke)+at[6]+76029189&4294967295)<<23&4294967295|je>>>9))+((je=ke+(ze^ut^Ct)+at[9]+3654602809&4294967295)<<4&4294967295|je>>>28))+((je=Ct+(ke^ze^ut)+at[12]+3873151461&4294967295)<<11&4294967295|je>>>21))+((je=ut+(Ct^ke^ze)+at[15]+530742520&4294967295)<<16&4294967295|je>>>16))+((je=ze+(ut^Ct^ke)+at[2]+3299628645&4294967295)<<23&4294967295|je>>>9))+((je=ke+(ut^(ze|~Ct))+at[0]+4096336452&4294967295)<<6&4294967295|je>>>26))+((je=Ct+(ze^(ke|~ut))+at[7]+1126891415&4294967295)<<10&4294967295|je>>>22))+((je=ut+(ke^(Ct|~ze))+at[14]+2878612391&4294967295)<<15&4294967295|je>>>17))+((je=ze+(Ct^(ut|~ke))+at[5]+4237533241&4294967295)<<21&4294967295|je>>>11))+((je=ke+(ut^(ze|~Ct))+at[12]+1700485571&4294967295)<<6&4294967295|je>>>26))+((je=Ct+(ze^(ke|~ut))+at[3]+2399980690&4294967295)<<10&4294967295|je>>>22))+((je=ut+(ke^(Ct|~ze))+at[10]+4293915773&4294967295)<<15&4294967295|je>>>17))+((je=ze+(Ct^(ut|~ke))+at[1]+2240044497&4294967295)<<21&4294967295|je>>>11))+((je=ke+(ut^(ze|~Ct))+at[8]+1873313359&4294967295)<<6&4294967295|je>>>26))+((je=Ct+(ze^(ke|~ut))+at[15]+4264355552&4294967295)<<10&4294967295|je>>>22))+((je=ut+(ke^(Ct|~ze))+at[6]+2734768916&4294967295)<<15&4294967295|je>>>17))+((je=ze+(Ct^(ut|~ke))+at[13]+1309151649&4294967295)<<21&4294967295|je>>>11))+((Ct=(ke=ze+((je=ke+(ut^(ze|~Ct))+at[4]+4149444226&4294967295)<<6&4294967295|je>>>26))+((je=Ct+(ze^(ke|~ut))+at[11]+3174756917&4294967295)<<10&4294967295|je>>>22))^((ut=Ct+((je=ut+(ke^(Ct|~ze))+at[2]+718787259&4294967295)<<15&4294967295|je>>>17))|~ke))+at[9]+3951481745&4294967295,st.g[0]=st.g[0]+ke&4294967295,st.g[1]=st.g[1]+(ut+(je<<21&4294967295|je>>>11))&4294967295,st.g[2]=st.g[2]+ut&4294967295,st.g[3]=st.g[3]+Ct&4294967295}function v(st,ke){this.h=ke;for(var ze=[],at=!0,ut=st.length-1;0<=ut;ut--){var Ct=0|st[ut];at&&Ct==ke||(ze[ut]=Ct,at=!1)}this.g=ze}(function n(st,ke){function ze(){}ze.prototype=ke.prototype,st.D=ke.prototype,st.prototype=new ze,st.prototype.constructor=st,st.C=function(at,ut,Ct){for(var je=Array(arguments.length-2),Ru=2;Ru<arguments.length;Ru++)je[Ru-2]=arguments[Ru];return ke.prototype[ut].apply(at,je)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(st,ke){void 0===ke&&(ke=st.length);for(var ze=ke-this.blockSize,at=this.B,ut=this.h,Ct=0;Ct<ke;){if(0==ut)for(;Ct<=ze;)u(this,st,Ct),Ct+=this.blockSize;if("string"==typeof st){for(;Ct<ke;)if(at[ut++]=st.charCodeAt(Ct++),ut==this.blockSize){u(this,at),ut=0;break}}else for(;Ct<ke;)if(at[ut++]=st[Ct++],ut==this.blockSize){u(this,at),ut=0;break}}this.h=ut,this.o+=ke},s.prototype.v=function(){var st=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);st[0]=128;for(var ke=1;ke<st.length-8;++ke)st[ke]=0;var ze=8*this.o;for(ke=st.length-8;ke<st.length;++ke)st[ke]=255&ze,ze/=256;for(this.u(st),st=Array(16),ke=ze=0;4>ke;++ke)for(var at=0;32>at;at+=8)st[ze++]=this.g[ke]>>>at&255;return st};var R={};function x(st){return-128<=st&&128>st?function p(st,ke){var ze=R;return Object.prototype.hasOwnProperty.call(ze,st)?ze[st]:ze[st]=ke(st)}(st,function(ke){return new v([0|ke],0>ke?-1:0)}):new v([0|st],0>st?-1:0)}function U(st){if(isNaN(st)||!isFinite(st))return se;if(0>st)return rn(U(-st));for(var ke=[],ze=1,at=0;st>=ze;at++)ke[at]=st/ze|0,ze*=4294967296;return new v(ke,0)}var se=x(0),xe=x(1),Tt=x(16777216);function $t(st){if(0!=st.h)return!1;for(var ke=0;ke<st.g.length;ke++)if(0!=st.g[ke])return!1;return!0}function ln(st){return-1==st.h}function rn(st){for(var ke=st.g.length,ze=[],at=0;at<ke;at++)ze[at]=~st.g[at];return new v(ze,~st.h).add(xe)}function er(st,ke){return st.add(rn(ke))}function or(st,ke){for(;(65535&st[ke])!=st[ke];)st[ke+1]+=st[ke]>>>16,st[ke]&=65535,ke++}function xn(st,ke){this.g=st,this.h=ke}function Vr(st,ke){if($t(ke))throw Error("division by zero");if($t(st))return new xn(se,se);if(ln(st))return ke=Vr(rn(st),ke),new xn(rn(ke.g),rn(ke.h));if(ln(ke))return ke=Vr(st,rn(ke)),new xn(rn(ke.g),ke.h);if(30<st.g.length){if(ln(st)||ln(ke))throw Error("slowDivide_ only works with positive integers.");for(var ze=xe,at=ke;0>=at.l(st);)ze=Li(ze),at=Li(at);var ut=ui(ze,1),Ct=ui(at,1);for(at=ui(at,2),ze=ui(ze,2);!$t(at);){var je=Ct.add(at);0>=je.l(st)&&(ut=ut.add(ze),Ct=je),at=ui(at,1),ze=ui(ze,1)}return ke=er(st,ut.j(ke)),new xn(ut,ke)}for(ut=se;0<=st.l(ke);){for(ze=Math.max(1,Math.floor(st.m()/ke.m())),at=48>=(at=Math.ceil(Math.log(ze)/Math.LN2))?1:Math.pow(2,at-48),je=(Ct=U(ze)).j(ke);ln(je)||0<je.l(st);)je=(Ct=U(ze-=at)).j(ke);$t(Ct)&&(Ct=xe),ut=ut.add(Ct),st=er(st,je)}return new xn(ut,st)}function Li(st){for(var ke=st.g.length+1,ze=[],at=0;at<ke;at++)ze[at]=st.i(at)<<1|st.i(at-1)>>>31;return new v(ze,st.h)}function ui(st,ke){var ze=ke>>5;ke%=32;for(var at=st.g.length-ze,ut=[],Ct=0;Ct<at;Ct++)ut[Ct]=0<ke?st.i(Ct+ze)>>>ke|st.i(Ct+ze+1)<<32-ke:st.i(Ct+ze);return new v(ut,st.h)}(c=v.prototype).m=function(){if(ln(this))return-rn(this).m();for(var st=0,ke=1,ze=0;ze<this.g.length;ze++){var at=this.i(ze);st+=(0<=at?at:4294967296+at)*ke,ke*=4294967296}return st},c.toString=function(st){if(2>(st=st||10)||36<st)throw Error("radix out of range: "+st);if($t(this))return"0";if(ln(this))return"-"+rn(this).toString(st);for(var ke=U(Math.pow(st,6)),ze=this,at="";;){var ut=Vr(ze,ke).g,Ct=((0<(ze=er(ze,ut.j(ke))).g.length?ze.g[0]:ze.h)>>>0).toString(st);if($t(ze=ut))return Ct+at;for(;6>Ct.length;)Ct="0"+Ct;at=Ct+at}},c.i=function(st){return 0>st?0:st<this.g.length?this.g[st]:this.h},c.l=function(st){return ln(st=er(this,st))?-1:$t(st)?0:1},c.abs=function(){return ln(this)?rn(this):this},c.add=function(st){for(var ke=Math.max(this.g.length,st.g.length),ze=[],at=0,ut=0;ut<=ke;ut++){var Ct=at+(65535&this.i(ut))+(65535&st.i(ut)),je=(Ct>>>16)+(this.i(ut)>>>16)+(st.i(ut)>>>16);at=je>>>16,ze[ut]=(je&=65535)<<16|(Ct&=65535)}return new v(ze,-2147483648&ze[ze.length-1]?-1:0)},c.j=function(st){if($t(this)||$t(st))return se;if(ln(this))return ln(st)?rn(this).j(rn(st)):rn(rn(this).j(st));if(ln(st))return rn(this.j(rn(st)));if(0>this.l(Tt)&&0>st.l(Tt))return U(this.m()*st.m());for(var ke=this.g.length+st.g.length,ze=[],at=0;at<2*ke;at++)ze[at]=0;for(at=0;at<this.g.length;at++)for(var ut=0;ut<st.g.length;ut++){var Ct=this.i(at)>>>16,je=65535&this.i(at),Ru=st.i(ut)>>>16,Vd=65535&st.i(ut);ze[2*at+2*ut]+=je*Vd,or(ze,2*at+2*ut),ze[2*at+2*ut+1]+=Ct*Vd,or(ze,2*at+2*ut+1),ze[2*at+2*ut+1]+=je*Ru,or(ze,2*at+2*ut+1),ze[2*at+2*ut+2]+=Ct*Ru,or(ze,2*at+2*ut+2)}for(at=0;at<ke;at++)ze[at]=ze[2*at+1]<<16|ze[2*at];for(at=ke;at<2*ke;at++)ze[at]=0;return new v(ze,0)},c.A=function(st){return Vr(this,st).h},c.and=function(st){for(var ke=Math.max(this.g.length,st.g.length),ze=[],at=0;at<ke;at++)ze[at]=this.i(at)&st.i(at);return new v(ze,this.h&st.h)},c.or=function(st){for(var ke=Math.max(this.g.length,st.g.length),ze=[],at=0;at<ke;at++)ze[at]=this.i(at)|st.i(at);return new v(ze,this.h|st.h)},c.xor=function(st){for(var ke=Math.max(this.g.length,st.g.length),ze=[],at=0;at<ke;at++)ze[at]=this.i(at)^st.i(at);return new v(ze,this.h^st.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Oe=Ie.Md5=s,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=U,v.fromString=function X(st,ke){if(0==st.length)throw Error("number format error: empty string");if(2>(ke=ke||10)||36<ke)throw Error("radix out of range: "+ke);if("-"==st.charAt(0))return rn(X(st.substring(1),ke));if(0<=st.indexOf("-"))throw Error('number format error: interior "-" character');for(var ze=U(Math.pow(ke,8)),at=se,ut=0;ut<st.length;ut+=8){var Ct=Math.min(8,st.length-ut),je=parseInt(st.substring(ut,ut+Ct),ke);8>Ct?(Ct=U(Math.pow(ke,Ct)),at=at.j(Ct).add(U(je))):at=(at=at.j(ze)).add(U(je))}return at},fe=Ie.Integer=v}).apply(typeof Xe<"u"?Xe:typeof self<"u"?self:typeof window<"u"?window:{});var et,ot,At,jt,Vt,Zt,mt,Et,me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he={};(function(){var c,n="function"==typeof Object.defineProperties?Object.defineProperty:function(_,F,W){return _==Array.prototype||_==Object.prototype||(_[F]=W.value),_},s=function i(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof me&&me];for(var F=0;F<_.length;++F){var W=_[F];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}(this);!function u(_,F){if(F)e:{var W=s;_=_.split(".");for(var ie=0;ie<_.length-1;ie++){var _t=_[ie];if(!(_t in W))break e;W=W[_t]}(F=F(ie=W[_=_[_.length-1]]))!=ie&&null!=F&&n(W,_,{configurable:!0,writable:!0,value:F})}}("Array.prototype.values",function(_){return _||function(){return function p(_,F){_ instanceof String&&(_+="");var W=0,ie=!1,_t={next:function(){if(!ie&&W<_.length){var Ft=W++;return{value:F(Ft,_[Ft]),done:!1}}return ie=!0,{done:!0,value:void 0}}};return _t[Symbol.iterator]=function(){return _t},_t}(this,function(F,W){return W})}});var v=v||{},R=this||self;function x(_){var F=typeof _;return"array"==(F="object"!=F?F:_?Array.isArray(_)?"array":F:"null")||"object"==F&&"number"==typeof _.length}function U(_){var F=typeof _;return"object"==F&&null!=_||"function"==F}function X(_,F,W){return _.call.apply(_.bind,arguments)}function se(_,F,W){if(!_)throw Error();if(2<arguments.length){var ie=Array.prototype.slice.call(arguments,2);return function(){var _t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_t,ie),_.apply(F,_t)}}return function(){return _.apply(F,arguments)}}function xe(_,F,W){return(xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X:se).apply(null,arguments)}function Tt(_,F){var W=Array.prototype.slice.call(arguments,1);return function(){var ie=W.slice();return ie.push.apply(ie,arguments),_.apply(this,ie)}}function $t(_,F){function W(){}W.prototype=F.prototype,_.aa=F.prototype,_.prototype=new W,_.prototype.constructor=_,_.Qb=function(ie,_t,Ft){for(var Pn=Array(arguments.length-2),fo=2;fo<arguments.length;fo++)Pn[fo-2]=arguments[fo];return F.prototype[_t].apply(ie,Pn)}}function ln(_){const F=_.length;if(0<F){const W=Array(F);for(let ie=0;ie<F;ie++)W[ie]=_[ie];return W}return[]}function rn(_,F){for(let W=1;W<arguments.length;W++){const ie=arguments[W];if(x(ie)){const _t=_.length||0,Ft=ie.length||0;_.length=_t+Ft;for(let Pn=0;Pn<Ft;Pn++)_[_t+Pn]=ie[Pn]}else _.push(ie)}}function or(_){return/^[\s\xa0]*$/.test(_)}function xn(){var _=R.navigator;return _&&(_=_.userAgent)?_:""}function Vr(_){return Vr[" "](_),_}Vr[" "]=function(){};var Li=!(-1==xn().indexOf("Gecko")||-1!=xn().toLowerCase().indexOf("webkit")&&-1==xn().indexOf("Edge")||-1!=xn().indexOf("Trident")||-1!=xn().indexOf("MSIE")||-1!=xn().indexOf("Edge"));function ui(_,F,W){for(const ie in _)F.call(W,_[ie],ie,_)}function ke(_){const F={};for(const W in _)F[W]=_[W];return F}const ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(_,F){let W,ie;for(let _t=1;_t<arguments.length;_t++){for(W in ie=arguments[_t],ie)_[W]=ie[W];for(let Ft=0;Ft<ze.length;Ft++)W=ze[Ft],Object.prototype.hasOwnProperty.call(ie,W)&&(_[W]=ie[W])}}function ut(_){var F=1;_=_.split(":");const W=[];for(;0<F&&_.length;)W.push(_.shift()),F--;return _.length&&W.push(_.join(":")),W}function Ct(_){R.setTimeout(()=>{throw _},0)}function je(){var _=Xm;let F=null;return _.g&&(F=_.g,_.g=_.g.next,_.g||(_.h=null),F.next=null),F}var Vd=new class er{constructor(F,W){this.i=F,this.j=W,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}(()=>new Qm,_=>_.reset());class Qm{constructor(){this.next=this.g=this.h=null}set(F,W){this.h=F,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let wl,Kh=!1,Xm=new class Ru{constructor(){this.h=this.g=null}add(F,W){const ie=Vd.get();ie.set(F,W),this.h?this.h.next=ie:this.g=ie,this.h=ie}},qh=()=>{const _=R.Promise.resolve(void 0);wl=()=>{_.then(bw)}};var bw=()=>{for(var _;_=je();){try{_.h.call(_.g)}catch(W){Ct(W)}var F=Vd;F.j(_),100>F.h&&(F.h++,_.next=F.g,F.g=_)}Kh=!1};function xa(){this.s=this.s,this.C=this.C}function ns(_,F){this.type=_,this.g=this.target=F,this.defaultPrevented=!1}xa.prototype.s=!1,xa.prototype.ma=function(){this.s||(this.s=!0,this.N())},xa.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ns.prototype.h=function(){this.defaultPrevented=!0};var Zm=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var _=!1,F=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const W=()=>{};R.addEventListener("test",W,F),R.removeEventListener("test",W,F)}catch{}return _}();function Il(_,F){if(ns.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var W=this.type=_.type,ie=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=F,F=_.relatedTarget){if(Li){e:{try{Vr(F.nodeName);var _t=!0;break e}catch{}_t=!1}_t||(F=null)}}else"mouseover"==W?F=_.fromElement:"mouseout"==W&&(F=_.toElement);this.relatedTarget=F,ie?(this.clientX=void 0!==ie.clientX?ie.clientX:ie.pageX,this.clientY=void 0!==ie.clientY?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:Dw[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&Il.aa.h.call(this)}}$t(Il,ns);var Dw={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Pu="closure_listenable_"+(1e6*Math.random()|0),Mu=0;function Ud(_,F,W,ie,_t){this.listener=_,this.proxy=null,this.src=F,this.type=W,this.capture=!!ie,this.ha=_t,this.key=++Mu,this.da=this.fa=!1}function Qh(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function xp(_){this.src=_,this.g={},this.h=0}function Op(_,F){var W=F.type;if(W in _.g){var Ft,ie=_.g[W],_t=Array.prototype.indexOf.call(ie,F,void 0);(Ft=0<=_t)&&Array.prototype.splice.call(ie,_t,1),Ft&&(Qh(F),0==_.g[W].length&&(delete _.g[W],_.h--))}}function Ym(_,F,W,ie){for(var _t=0;_t<_.length;++_t){var Ft=_[_t];if(!Ft.da&&Ft.listener==F&&Ft.capture==!!W&&Ft.ha==ie)return _t}return-1}xp.prototype.add=function(_,F,W,ie,_t){var Ft=_.toString();(_=this.g[Ft])||(_=this.g[Ft]=[],this.h++);var Pn=Ym(_,F,ie,_t);return-1<Pn?(F=_[Pn],W||(F.fa=!1)):((F=new Ud(F,this.src,Ft,!!ie,_t)).fa=W,_.push(F)),F};var Xh="closure_lm_"+(1e6*Math.random()|0),Tl={};function Fp(_,F,W,ie,_t){if(ie&&ie.once)return Lp(_,F,W,ie,_t);if(Array.isArray(F)){for(var Ft=0;Ft<F.length;Ft++)Fp(_,F[Ft],W,ie,_t);return null}return W=Bd(W),_&&_[Pu]?_.K(F,W,U(ie)?!!ie.capture:!!ie,_t):lv(_,F,W,!1,ie,_t)}function lv(_,F,W,ie,_t,Ft){if(!F)throw Error("Invalid event type");var Pn=U(_t)?!!_t.capture:!!_t,fo=Zh(_);if(fo||(_[Xh]=fo=new xp(_)),(W=fo.add(F,W,ie,Pn,Ft)).proxy)return W;if(ie=function Aw(){const F=dv;return function _(W){return F.call(_.src,_.listener,W)}}(),W.proxy=ie,ie.src=_,ie.listener=W,_.addEventListener)Zm||(_t=Pn),void 0===_t&&(_t=!1),_.addEventListener(F.toString(),ie,_t);else if(_.attachEvent)_.attachEvent(ey(F.toString()),ie);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(ie)}return W}function Lp(_,F,W,ie,_t){if(Array.isArray(F)){for(var Ft=0;Ft<F.length;Ft++)Lp(_,F[Ft],W,ie,_t);return null}return W=Bd(W),_&&_[Pu]?_.L(F,W,U(ie)?!!ie.capture:!!ie,_t):lv(_,F,W,!0,ie,_t)}function Jm(_,F,W,ie,_t){if(Array.isArray(F))for(var Ft=0;Ft<F.length;Ft++)Jm(_,F[Ft],W,ie,_t);else ie=U(ie)?!!ie.capture:!!ie,W=Bd(W),_&&_[Pu]?(_=_.i,(F=String(F).toString())in _.g&&-1<(W=Ym(Ft=_.g[F],W,ie,_t))&&(Qh(Ft[W]),Array.prototype.splice.call(Ft,W,1),0==Ft.length&&(delete _.g[F],_.h--))):_&&(_=Zh(_))&&(F=_.g[F.toString()],_=-1,F&&(_=Ym(F,W,ie,_t)),(W=-1<_?F[_]:null)&&Vp(W))}function Vp(_){if("number"!=typeof _&&_&&!_.da){var F=_.src;if(F&&F[Pu])Op(F.i,_);else{var W=_.type,ie=_.proxy;F.removeEventListener?F.removeEventListener(W,ie,_.capture):F.detachEvent?F.detachEvent(ey(W),ie):F.addListener&&F.removeListener&&F.removeListener(ie),(W=Zh(F))?(Op(W,_),0==W.h&&(W.src=null,F[Xh]=null)):Qh(_)}}}function ey(_){return _ in Tl?Tl[_]:Tl[_]="on"+_}function dv(_,F){if(_.da)_=!0;else{F=new Il(F,this);var W=_.listener,ie=_.ha||_.src;_.fa&&Vp(_),_=W.call(ie,F)}return _}function Zh(_){return(_=_[Xh])instanceof xp?_:null}var Up="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bd(_){return"function"==typeof _?_:(_[Up]||(_[Up]=function(F){return _.handleEvent(F)}),_[Up])}function rs(){xa.call(this),this.i=new xp(this),this.M=this,this.F=null}function ea(_,F){var W,ie=_.F;if(ie)for(W=[];ie;ie=ie.F)W.push(ie);if(_=_.M,ie=F.type||F,"string"==typeof F)F=new ns(F,_);else if(F instanceof ns)F.target=F.target||_;else{var _t=F;at(F=new ns(ie,_),_t)}if(_t=!0,W)for(var Ft=W.length-1;0<=Ft;Ft--){var Pn=F.g=W[Ft];_t=jd(Pn,ie,!0,F)&&_t}if(_t=jd(Pn=F.g=_,ie,!0,F)&&_t,_t=jd(Pn,ie,!1,F)&&_t,W)for(Ft=0;Ft<W.length;Ft++)_t=jd(Pn=F.g=W[Ft],ie,!1,F)&&_t}function jd(_,F,W,ie){if(!(F=_.i.g[String(F)]))return!0;F=F.concat();for(var _t=!0,Ft=0;Ft<F.length;++Ft){var Pn=F[Ft];if(Pn&&!Pn.da&&Pn.capture==W){var fo=Pn.listener,ws=Pn.ha||Pn.src;Pn.fa&&Op(_.i,Pn),_t=!1!==fo.call(ws,ie)&&_t}}return _t&&!ie.defaultPrevented}function Bp(_,F,W){if("function"==typeof _)W&&(_=xe(_,W));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=xe(_.handleEvent,_)}return 2147483647<Number(F)?-1:R.setTimeout(_,F||0)}function Yh(_){_.g=Bp(()=>{_.g=null,_.i&&(_.i=!1,Yh(_))},_.l);const F=_.h;_.h=null,_.m.apply(null,F)}$t(rs,xa),rs.prototype[Pu]=!0,rs.prototype.removeEventListener=function(_,F,W,ie){Jm(this,_,F,W,ie)},rs.prototype.N=function(){if(rs.aa.N.call(this),this.i){var F,_=this.i;for(F in _.g){for(var W=_.g[F],ie=0;ie<W.length;ie++)Qh(W[ie]);delete _.g[F],_.h--}}this.F=null},rs.prototype.K=function(_,F,W,ie){return this.i.add(String(_),F,!1,W,ie)},rs.prototype.L=function(_,F,W,ie){return this.i.add(String(_),F,!0,W,ie)};class Cw extends xa{constructor(F,W){super(),this.m=F,this.l=W,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:Yh(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $d(_){xa.call(this),this.h=_,this.g={}}$t($d,xa);var hv=[];function fv(_){ui(_.g,function(F,W){this.g.hasOwnProperty(W)&&Vp(F)},_),_.g={}}$d.prototype.N=function(){$d.aa.N.call(this),fv(this)},$d.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nu=R.JSON.stringify,ty=R.JSON.parse,pv=class{stringify(_){return R.JSON.stringify(_,void 0)}parse(_){return R.JSON.parse(_,void 0)}};function jp(){}function mv(){}jp.prototype.h=null;var Jh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ny(){ns.call(this,"d")}function ry(){ns.call(this,"c")}$t(ny,ns),$t(ry,ns);var bl={},iy=null;function ef(){return iy=iy||new rs}function yv(_){ns.call(this,bl.La,_)}function ku(_){const F=ef();ea(F,new yv(F))}function _v(_,F){ns.call(this,bl.STAT_EVENT,_),this.stat=F}function ta(_){const F=ef();ea(F,new _v(F,_))}function oy(_,F){ns.call(this,bl.Ma,_),this.size=F}function Hd(_,F){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){_()},F)}function tf(){this.g=!0}function xu(_,F,W,ie){_.info(function(){return"XMLHTTP TEXT ("+F+"): "+function Rw(_,F){if(!_.g)return F;if(!F)return null;try{var W=JSON.parse(F);if(W)for(_=0;_<W.length;_++)if(Array.isArray(W[_])){var ie=W[_];if(!(2>ie.length)){var _t=ie[1];if(Array.isArray(_t)&&!(1>_t.length)){var Ft=_t[0];if("noop"!=Ft&&"stop"!=Ft&&"close"!=Ft)for(var Pn=1;Pn<_t.length;Pn++)_t[Pn]=""}}}return Nu(W)}catch{return F}}(_,W)+(ie?" "+ie:"")})}bl.La="serverreachability",$t(yv,ns),bl.STAT_EVENT="statevent",$t(_v,ns),bl.Ma="timingevent",$t(oy,ns),tf.prototype.xa=function(){this.g=!1},tf.prototype.info=function(){};var $p,Ou={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ru(){}function kc(_,F,W,ie){this.j=_,this.i=F,this.l=W,this.R=ie||1,this.U=new $d(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zd}function zd(){this.i=null,this.g="",this.h=!1}$t(ru,jp),ru.prototype.g=function(){return new XMLHttpRequest},ru.prototype.i=function(){return{}},$p=new ru;var wv={},Hp={};function Dl(_,F,W){_.L=1,_.v=sf(Oc(F)),_.m=W,_.P=!0,Pw(_,null)}function Pw(_,F){_.F=Date.now(),zp(_),_.A=Oc(_.v);var W=_.A,ie=_.R;Array.isArray(ie)||(ie=[String(ie)]),Nv(W.i,"t",ie),_.C=0,W=_.j.J,_.h=new zd,_.g=ju(_.j,W?F:null,!_.m),0<_.O&&(_.M=new Cw(xe(_.Y,_,_.g),_.O)),F=_.U,W=_.g,ie=_.ca;var _t="readystatechange";Array.isArray(_t)||(_t&&(hv[0]=_t.toString()),_t=hv);for(var Ft=0;Ft<_t.length;Ft++){var Pn=Fp(W,_t[Ft],ie||F.handleEvent,!1,F.h||F);if(!Pn)break;F.g[Pn.key]=Pn}F=_.H?ke(_.H):{},_.m?(_.u||(_.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,F)):(_.u="GET",_.g.ea(_.A,_.u,null,F)),ku(),function Sw(_,F,W,ie,_t,Ft){_.info(function(){if(_.g)if(Ft)for(var Pn="",fo=Ft.split("&"),ws=0;ws<fo.length;ws++){var Ci=fo[ws].split("=");if(1<Ci.length){var js=Ci[0];Ci=Ci[1];var na=js.split("_");Pn=2<=na.length&&"type"==na[1]?Pn+(js+"=")+Ci+"&":Pn+(js+"=redacted&")}}else Pn=null;else Pn=Ft;return"XMLHTTP REQ ("+ie+") [attempt "+_t+"]: "+F+"\n"+W+"\n"+Pn})}(_.i,_.u,_.A,_.l,_.R,_.m)}function Mw(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function nf(_,F){var W=_.C,ie=F.indexOf("\n",W);return-1==ie?Hp:(W=Number(F.substring(W,ie)),isNaN(W)?wv:(ie+=1)+W>F.length?Hp:(F=F.slice(ie,ie+W),_.C=ie+W,F))}function zp(_){_.S=Date.now()+_.I,Iv(_,_.I)}function Iv(_,F){if(null!=_.B)throw Error("WatchDog timer not null");_.B=Hd(xe(_.ba,_),F)}function ay(_){_.B&&(R.clearTimeout(_.B),_.B=null)}function Fu(_){0==_.j.G||_.J||Gv(_.j,_)}function iu(_){ay(_);var F=_.M;F&&"function"==typeof F.ma&&F.ma(),_.M=null,fv(_.U),_.g&&(F=_.g,_.g=null,F.abort(),F.ma())}function cy(_,F){try{var W=_.j;if(0!=W.G&&(W.g==_||Dv(W.h,_)))if(!_.K&&Dv(W.h,_)&&3==W.G){try{var ie=W.Da.g.parse(F)}catch{ie=null}if(Array.isArray(ie)&&3==ie.length){var _t=ie;if(0==_t[0]){e:if(!W.u){if(W.g){if(!(W.g.F+3e3<_.F))break e;Zp(W),qp(W)}yy(W),ta(18)}}else W.za=_t[1],0<W.za-W.T&&37500>_t[2]&&W.F&&0==W.v&&!W.C&&(W.C=Hd(xe(W.Za,W),6e3));if(1>=bv(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else Rl(W,11)}else if((_.K||W.g==_)&&Zp(W),!or(F))for(_t=W.Da.g.parse(F),F=0;F<_t.length;F++){let Ci=_t[F];if(W.T=Ci[0],Ci=Ci[1],2==W.G)if("c"==Ci[0]){W.K=Ci[1],W.ia=Ci[2];const js=Ci[3];null!=js&&(W.la=js,W.j.info("VER="+W.la));const na=Ci[4];null!=na&&(W.Aa=na,W.j.info("SVER="+W.Aa));const Yd=Ci[5];null!=Yd&&"number"==typeof Yd&&0<Yd&&(W.L=ie=1.5*Yd,W.j.info("backChannelRequestTimeoutMs_="+ie)),ie=W;const Qa=_.g;if(Qa){const Jp=Qa.g?Qa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jp){var Ft=ie.h;Ft.g||-1==Jp.indexOf("spdy")&&-1==Jp.indexOf("quic")&&-1==Jp.indexOf("h2")||(Ft.j=Ft.l,Ft.g=new Set,Ft.h&&(uy(Ft,Ft.h),Ft.h=null))}if(ie.D){const vy=Qa.g?Qa.g.getResponseHeader("X-HTTP-Session-Id"):null;vy&&(ie.ya=vy,so(ie.I,ie.D,vy))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-_.F,W.j.info("Handshake RTT: "+W.R+"ms"));var Pn=_;if((ie=W).qa=qv(ie,ie.J?ie.ia:null,ie.W),Pn.K){kw(ie.h,Pn);var fo=Pn,ws=ie.L;ws&&(fo.I=ws),fo.B&&(ay(fo),zp(fo)),ie.g=Pn}else zv(ie);0<W.i.length&&Qp(W)}else"stop"!=Ci[0]&&"close"!=Ci[0]||Rl(W,7);else 3==W.G&&("stop"==Ci[0]||"close"==Ci[0]?"stop"==Ci[0]?Rl(W,7):Kp(W):"noop"!=Ci[0]&&W.l&&W.l.ta(Ci),W.v=0)}ku()}catch{}}kc.prototype.ca=function(_){_=_.target;const F=this.M;F&&3==Bu(_)?F.j():this.Y(_)},kc.prototype.Y=function(_){try{if(_==this.g)e:{const na=Bu(this.g);var F=this.g.Ba();if(this.g.Z(),!(3>na)&&(3!=na||this.g&&(this.h.h||this.g.oa()||Uv(this.g)))){this.J||4!=na||7==F||ku(),ay(this);var W=this.g.Z();this.X=W;t:if(Mw(this)){var ie=Uv(this.g);_="";var _t=ie.length,Ft=4==Bu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){iu(this),Fu(this);var Pn="";break t}this.h.i=new R.TextDecoder}for(F=0;F<_t;F++)this.h.h=!0,_+=this.h.i.decode(ie[F],{stream:!(Ft&&F==_t-1)});ie.length=0,this.h.g+=_,this.C=0,Pn=this.h.g}else Pn=this.g.oa();if(this.o=200==W,function vv(_,F,W,ie,_t,Ft,Pn){_.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+_t+"]: "+F+"\n"+W+"\n"+Ft+" "+Pn})}(this.i,this.u,this.A,this.l,this.R,na,W),this.o){if(this.T&&!this.K){t:{if(this.g){var fo,ws=this.g;if((fo=ws.g?ws.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!or(fo)){var Ci=fo;break t}}Ci=null}if(!(W=Ci)){this.o=!1,this.s=3,ta(12),iu(this),Fu(this);break e}xu(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cy(this,W)}if(this.P){let Qa;for(W=!0;!this.J&&this.C<Pn.length;){if(Qa=nf(this,Pn),Qa==Hp){4==na&&(this.s=4,ta(14),W=!1),xu(this.i,this.l,null,"[Incomplete Response]");break}if(Qa==wv){this.s=4,ta(15),xu(this.i,this.l,Pn,"[Invalid Chunk]"),W=!1;break}xu(this.i,this.l,Qa,null),cy(this,Qa)}if(Mw(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=na||0!=Pn.length||this.h.h||(this.s=1,ta(16),W=!1),this.o=this.o&&W,W){if(0<Pn.length&&!this.W){this.W=!0;var js=this.j;js.g==this&&js.ba&&!js.M&&(js.j.info("Great, no buffering proxy detected. Bytes received: "+Pn.length),_y(js),js.M=!0,ta(11))}}else xu(this.i,this.l,Pn,"[Invalid Chunked Response]"),iu(this),Fu(this)}else xu(this.i,this.l,Pn,null),cy(this,Pn);4==na&&iu(this),this.o&&!this.J&&(4==na?Gv(this.j,this):(this.o=!1,zp(this)))}else(function Bv(_){const F={};_=(_.g&&2<=Bu(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let ie=0;ie<_.length;ie++){if(or(_[ie]))continue;var W=ut(_[ie]);const _t=W[0];if("string"!=typeof(W=W[1]))continue;W=W.trim();const Ft=F[_t]||[];F[_t]=Ft,Ft.push(W)}!function st(_,F){for(const W in _)F.call(void 0,_[W],W,_)}(F,function(ie){return ie.join(", ")})})(this.g),400==W&&0<Pn.indexOf("Unknown SID")?(this.s=3,ta(12)):(this.s=0,ta(13)),iu(this),Fu(this)}}}catch{}},kc.prototype.cancel=function(){this.J=!0,iu(this)},kc.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function Ev(_,F){_.info(function(){return"TIMEOUT: "+F})}(this.i,this.A),2!=this.L&&(ku(),ta(17)),iu(this),this.s=2,Fu(this)):Iv(this,this.S-_)};var zT=class{constructor(_,F){this.g=_,this.map=F}};function Nw(_){this.l=_||10,_=R.PerformanceNavigationTiming?0<(_=R.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tv(_){return!!_.h||!!_.g&&_.g.size>=_.j}function bv(_){return _.h?1:_.g?_.g.size:0}function Dv(_,F){return _.h?_.h==F:!!_.g&&_.g.has(F)}function uy(_,F){_.g?_.g.add(F):_.h=F}function kw(_,F){_.h&&_.h==F?_.h=null:_.g&&_.g.has(F)&&_.g.delete(F)}function Av(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let F=_.i;for(const W of _.g.values())F=F.concat(W.D);return F}return ln(_.i)}function Wp(_,F){if(_.forEach&&"function"==typeof _.forEach)_.forEach(F,void 0);else if(x(_)||"string"==typeof _)Array.prototype.forEach.call(_,F,void 0);else for(var W=function Ow(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(x(_)||"string"==typeof _){var F=[];_=_.length;for(var W=0;W<_;W++)F.push(W);return F}F=[],W=0;for(const ie in _)F[W++]=ie;return F}}}(_),ie=function xw(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(x(_)){for(var F=[],W=_.length,ie=0;ie<W;ie++)F.push(_[ie]);return F}for(ie in F=[],W=0,_)F[W++]=_[ie];return F}(_),_t=ie.length,Ft=0;Ft<_t;Ft++)F.call(void 0,ie[Ft],W&&W[Ft],_)}Nw.prototype.cancel=function(){if(this.i=Av(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var Wd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xc(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof xc){this.h=_.h,Lu(this,_.j),this.o=_.o,this.g=_.g,rf(this,_.s),this.l=_.l;var F=_.i,W=new af;W.i=F.i,F.g&&(W.g=new Map(F.g),W.h=F.h),Cv(this,W),this.m=_.m}else _&&(F=String(_).match(Wd))?(this.h=!1,Lu(this,F[1]||"",!0),this.o=Gd(F[2]||""),this.g=Gd(F[3]||"",!0),rf(this,F[4]),this.l=Gd(F[5]||"",!0),Cv(this,F[6]||"",!0),this.m=Gd(F[7]||"")):(this.h=!1,this.i=new af(null,this.h))}function Oc(_){return new xc(_)}function Lu(_,F,W){_.j=W?Gd(F,!0):F,_.j&&(_.j=_.j.replace(/:$/,""))}function rf(_,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);_.s=F}else _.s=null}function Cv(_,F,W){F instanceof af?(_.i=F,function Gp(_,F){F&&!_.j&&(Vu(_),_.i=null,_.g.forEach(function(W,ie){var _t=ie.toLowerCase();ie!=_t&&(Kd(this,ie),Nv(this,_t,W))},_)),_.j=F}(_.i,_.h)):(W||(F=Fc(F,Pv)),_.i=new af(F,_.h))}function so(_,F,W){_.i.set(F,W)}function sf(_){return so(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Gd(_,F){return _?F?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Fc(_,F,W){return"string"==typeof _?(_=encodeURI(_).replace(F,dy),W&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function dy(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}xc.prototype.toString=function(){var _=[],F=this.j;F&&_.push(Fc(F,Sv,!0),":");var W=this.g;return(W||"file"==F)&&(_.push("//"),(F=this.o)&&_.push(Fc(F,Sv,!0),"@"),_.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(W=this.s)&&_.push(":",String(W))),(W=this.l)&&(this.g&&"/"!=W.charAt(0)&&_.push("/"),_.push(Fc(W,"/"==W.charAt(0)?Rv:Fw,!0))),(W=this.i.toString())&&_.push("?",W),(W=this.m)&&_.push("#",Fc(W,Lw)),_.join("")};var Sv=/[#\/\?@]/g,Fw=/[#\?:]/g,Rv=/[#\?]/g,Pv=/[#\?@]/g,Lw=/#/g;function af(_,F){this.h=this.g=null,this.i=_||null,this.j=!!F}function Vu(_){_.g||(_.g=new Map,_.h=0,_.i&&function ly(_,F){if(_){_=_.split("&");for(var W=0;W<_.length;W++){var ie=_[W].indexOf("="),_t=null;if(0<=ie){var Ft=_[W].substring(0,ie);_t=_[W].substring(ie+1)}else Ft=_[W];F(Ft,_t?decodeURIComponent(_t.replace(/\+/g," ")):"")}}}(_.i,function(F,W){_.add(decodeURIComponent(F.replace(/\+/g," ")),W)}))}function Kd(_,F){Vu(_),F=qd(_,F),_.g.has(F)&&(_.i=null,_.h-=_.g.get(F).length,_.g.delete(F))}function Mv(_,F){return Vu(_),F=qd(_,F),_.g.has(F)}function Nv(_,F,W){Kd(_,F),0<W.length&&(_.i=null,_.g.set(qd(_,F),ln(W)),_.h+=W.length)}function qd(_,F){return F=String(F),_.j&&(F=F.toLowerCase()),F}function ou(_,F,W,ie,_t){try{_t&&(_t.onload=null,_t.onerror=null,_t.onabort=null,_t.ontimeout=null),ie(W)}catch{}}function Vw(){this.g=new pv}function Ov(_,F,W){const ie=W||"";try{Wp(_,function(_t,Ft){let Pn=_t;U(_t)&&(Pn=Nu(_t)),F.push(ie+Ft+"="+encodeURIComponent(Pn))})}catch(_t){throw F.push(ie+"type="+encodeURIComponent("_badmap")),_t}}function Al(_){this.l=_.Ub||null,this.j=_.eb||!1}function Cl(_,F){rs.call(this),this.D=_,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Fv(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function cf(_){_.readyState=4,_.l=null,_.j=null,_.v=null,uf(_)}function uf(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function Lv(_){let F="";return ui(_,function(W,ie){F+=ie,F+=":",F+=W,F+="\r\n"}),F}function hy(_,F,W){e:{for(ie in W){var ie=!1;break e}ie=!0}ie||(W=Lv(W),"string"==typeof _?null!=W&&encodeURIComponent(String(W)):so(_,F,W))}function is(_){rs.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=af.prototype).add=function(_,F){Vu(this),this.i=null,_=qd(this,_);var W=this.g.get(_);return W||this.g.set(_,W=[]),W.push(F),this.h+=1,this},c.forEach=function(_,F){Vu(this),this.g.forEach(function(W,ie){W.forEach(function(_t){_.call(F,_t,ie,this)},this)},this)},c.na=function(){Vu(this);const _=Array.from(this.g.values()),F=Array.from(this.g.keys()),W=[];for(let ie=0;ie<F.length;ie++){const _t=_[ie];for(let Ft=0;Ft<_t.length;Ft++)W.push(F[ie])}return W},c.V=function(_){Vu(this);let F=[];if("string"==typeof _)Mv(this,_)&&(F=F.concat(this.g.get(qd(this,_))));else{_=Array.from(this.g.values());for(let W=0;W<_.length;W++)F=F.concat(_[W])}return F},c.set=function(_,F){return Vu(this),this.i=null,Mv(this,_=qd(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[F]),this.h+=1,this},c.get=function(_,F){return _&&0<(_=this.V(_)).length?String(_[0]):F},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],F=Array.from(this.g.keys());for(var W=0;W<F.length;W++){var ie=F[W];const Ft=encodeURIComponent(String(ie)),Pn=this.V(ie);for(ie=0;ie<Pn.length;ie++){var _t=Ft;""!==Pn[ie]&&(_t+="="+encodeURIComponent(String(Pn[ie]))),_.push(_t)}}return this.i=_.join("&")},$t(Al,jp),Al.prototype.g=function(){return new Cl(this.l,this.j)},Al.prototype.i=function(_){return function(){return _}}({}),$t(Cl,rs),(c=Cl.prototype).open=function(_,F){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=F,this.readyState=1,uf(this)},c.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(F.body=_),(this.D||R).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cf(this)),this.readyState=0},c.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,uf(this)),this.g&&(this.readyState=3,uf(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fv(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var F=_.value?_.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!_.done}))&&(this.response=this.responseText+=F)}_.done?cf(this):uf(this),3==this.readyState&&Fv(this)}},c.Ra=function(_){this.g&&(this.response=this.responseText=_,cf(this))},c.Qa=function(_){this.g&&(this.response=_,cf(this))},c.ga=function(){this.g&&cf(this)},c.setRequestHeader=function(_,F){this.u.append(_,F)},c.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],F=this.h.entries();for(var W=F.next();!W.done;)_.push((W=W.value)[0]+": "+W[1]),W=F.next();return _.join("\r\n")},Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),$t(is,rs);var fy=/^https?$/i,lf=["POST","PUT"];function py(_,F){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=F,_.m=5,gy(_),Uu(_)}function gy(_){_.A||(_.A=!0,ea(_,"complete"),ea(_,"error"))}function Vv(_){if(_.h&&typeof v<"u"&&(!_.v[1]||4!=Bu(_)||2!=_.Z()))if(_.u&&4==Bu(_))Bp(_.Ea,0,_);else if(ea(_,"readystatechange"),4==Bu(_)){_.h=!1;try{const Pn=_.Z();e:switch(Pn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var W;if(!(W=F)){var ie;if(ie=0===Pn){var _t=String(_.D).match(Wd)[1]||null;!_t&&R.self&&R.self.location&&(_t=R.self.location.protocol.slice(0,-1)),ie=!fy.test(_t?_t.toLowerCase():"")}W=ie}if(W)ea(_,"complete"),ea(_,"success");else{_.m=6;try{var Ft=2<Bu(_)?_.g.statusText:""}catch{Ft=""}_.l=Ft+" ["+_.Z()+"]",gy(_)}}finally{Uu(_)}}}function Uu(_,F){if(_.g){df(_);const W=_.g,ie=_.v[0]?()=>{}:null;_.g=null,_.v=null,F||ea(_,"ready");try{W.onreadystatechange=ie}catch{}}}function df(_){_.I&&(R.clearTimeout(_.I),_.I=null)}function Bu(_){return _.g?_.g.readyState:0}function Uv(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Sl(_,F,W){return W&&W.internalChannelParams&&W.internalChannelParams[_]||F}function jv(_){this.Aa=0,this.i=[],this.j=new tf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sl("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sl("baseRetryDelayMs",5e3,_),this.cb=Sl("retryDelaySeedMs",1e4,_),this.Wa=Sl("forwardChannelMaxRetries",2,_),this.wa=Sl("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Nw(_&&_.concurrentRequestLimit),this.Da=new Vw,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kp(_){if($v(_),3==_.G){var F=_.U++,W=Oc(_.I);if(so(W,"SID",_.K),so(W,"RID",F),so(W,"TYPE","terminate"),Qd(_,W),(F=new kc(_,_.j,F)).L=2,F.v=sf(Oc(W)),W=!1,R.navigator&&R.navigator.sendBeacon)try{W=R.navigator.sendBeacon(F.v.toString(),"")}catch{}!W&&R.Image&&((new Image).src=F.v,W=!0),W||(F.g=ju(F.j,null),F.g.ea(F.v)),F.F=Date.now(),zp(F)}Kv(_)}function qp(_){_.g&&(_y(_),_.g.cancel(),_.g=null)}function $v(_){qp(_),_.u&&(R.clearTimeout(_.u),_.u=null),Zp(_),_.h.cancel(),_.s&&("number"==typeof _.s&&R.clearTimeout(_.s),_.s=null)}function Qp(_){if(!Tv(_.h)&&!_.s){_.s=!0;var F=_.Ga;wl||qh(),Kh||(wl(),Kh=!0),Xm.add(F,_),_.B=0}}function my(_,F){var W;W=F?F.l:_.U++;const ie=Oc(_.I);so(ie,"SID",_.K),so(ie,"RID",W),so(ie,"AID",_.T),Qd(_,ie),_.m&&_.o&&hy(ie,_.m,_.o),W=new kc(_,_.j,W,_.B+1),null===_.m&&(W.H=_.o),F&&(_.i=F.D.concat(_.i)),F=Xp(_,W,1e3),W.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),uy(_.h,W),Dl(W,ie,F)}function Qd(_,F){_.H&&ui(_.H,function(W,ie){so(F,ie,W)}),_.l&&Wp({},function(W,ie){so(F,ie,W)})}function Xp(_,F,W){W=Math.min(_.i.length,W);var ie=_.l?xe(_.l.Na,_.l,_):null;e:{var _t=_.i;let Ft=-1;for(;;){const Pn=["count="+W];-1==Ft?0<W?(Ft=_t[0].g,Pn.push("ofs="+Ft)):Ft=0:Pn.push("ofs="+Ft);let fo=!0;for(let ws=0;ws<W;ws++){let Ci=_t[ws].g;const js=_t[ws].map;if(Ci-=Ft,0>Ci)Ft=Math.max(0,_t[ws].g-100),fo=!1;else try{Ov(js,Pn,"req"+Ci+"_")}catch{ie&&ie(js)}}if(fo){ie=Pn.join("&");break e}}}return _=_.i.splice(0,W),F.D=_,ie}function zv(_){if(!_.g&&!_.u){_.Y=1;var F=_.Fa;wl||qh(),Kh||(wl(),Kh=!0),Xm.add(F,_),_.v=0}}function yy(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=Hd(xe(_.Fa,_),Yp(_,_.v)),_.v++,0))}function _y(_){null!=_.A&&(R.clearTimeout(_.A),_.A=null)}function Wv(_){_.g=new kc(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var F=Oc(_.qa);so(F,"RID","rpc"),so(F,"SID",_.K),so(F,"AID",_.T),so(F,"CI",_.F?"0":"1"),!_.F&&_.ja&&so(F,"TO",_.ja),so(F,"TYPE","xmlhttp"),Qd(_,F),_.m&&_.o&&hy(F,_.m,_.o),_.L&&(_.g.I=_.L);var W=_.g;_=_.ia,W.L=1,W.v=sf(Oc(F)),W.m=null,W.P=!0,Pw(W,_)}function Zp(_){null!=_.C&&(R.clearTimeout(_.C),_.C=null)}function Gv(_,F){var W=null;if(_.g==F){Zp(_),_y(_),_.g=null;var ie=2}else{if(!Dv(_.h,F))return;W=F.D,kw(_.h,F),ie=1}if(0!=_.G)if(F.o)if(1==ie){W=F.m?F.m.length:0,F=Date.now()-F.F;var _t=_.B;ea(ie=ef(),new oy(ie,W)),Qp(_)}else zv(_);else if(3==(_t=F.s)||0==_t&&0<F.X||!(1==ie&&function Hv(_,F){return!(bv(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=F.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=Hd(xe(_.Ga,_,F),Yp(_,_.B)),_.B++,0)))}(_,F)||2==ie&&yy(_)))switch(W&&0<W.length&&(F=_.h,F.i=F.i.concat(W)),_t){case 1:Rl(_,5);break;case 4:Rl(_,10);break;case 3:Rl(_,6);break;default:Rl(_,2)}}function Yp(_,F){let W=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(W*=2),W*F}function Rl(_,F){if(_.j.info("Error code "+F),2==F){var W=xe(_.fb,_),ie=_.Xa;const _t=!ie;ie=new xc(ie||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Lu(ie,"https"),sf(ie),_t?function kv(_,F){const W=new tf;if(R.Image){const ie=new Image;ie.onload=Tt(ou,W,"TestLoadImage: loaded",!0,F,ie),ie.onerror=Tt(ou,W,"TestLoadImage: error",!1,F,ie),ie.onabort=Tt(ou,W,"TestLoadImage: abort",!1,F,ie),ie.ontimeout=Tt(ou,W,"TestLoadImage: timeout",!1,F,ie),R.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=_}else F(!1)}(ie.toString(),W):function xv(_,F){new tf;const ie=new AbortController,_t=setTimeout(()=>{ie.abort(),ou(0,0,!1,F)},1e4);fetch(_,{signal:ie.signal}).then(Ft=>{clearTimeout(_t),ou(0,0,!!Ft.ok,F)}).catch(()=>{clearTimeout(_t),ou(0,0,!1,F)})}(ie.toString(),W)}else ta(2);_.G=0,_.l&&_.l.sa(F),Kv(_),$v(_)}function Kv(_){if(_.G=0,_.ka=[],_.l){const F=Av(_.h);(0!=F.length||0!=_.i.length)&&(rn(_.ka,F),rn(_.ka,_.i),_.h.i.length=0,ln(_.i),_.i.length=0),_.l.ra()}}function qv(_,F,W){var ie=W instanceof xc?Oc(W):new xc(W);if(""!=ie.g)F&&(ie.g=F+"."+ie.g),rf(ie,ie.s);else{var _t=R.location;ie=_t.protocol,F=F?F+"."+_t.hostname:_t.hostname,_t=+_t.port;var Ft=new xc(null);ie&&Lu(Ft,ie),F&&(Ft.g=F),_t&&rf(Ft,_t),W&&(Ft.l=W),ie=Ft}return F=_.ya,(W=_.D)&&F&&so(ie,W,F),so(ie,"VER",_.la),Qd(_,ie),ie}function ju(_,F,W){if(F&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(F=new is(_.Ca&&!_.pa?new Al({eb:W}):_.pa)).Ha(_.J),F}function Xd(){}function Zd(){}function ua(_,F){rs.call(this),this.g=new jv(F),this.l=_,this.h=F&&F.messageUrlParams||null,_=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(_?_["X-WebChannel-Content-Type"]=F.messageContentType:_={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(_?_["X-WebChannel-Client-Profile"]=F.va:_={"X-WebChannel-Client-Profile":F.va}),this.g.S=_,(_=F&&F.Sb)&&!or(_)&&(this.g.m=_),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!or(F)&&(this.g.D=F,null!==(_=this.h)&&F in _&&F in(_=this.h)&&delete _[F]),this.j=new Ml(this)}function Qv(_){ny.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var F=_.__sm__;if(F){e:{for(const W in F){_=W;break e}_=void 0}(this.i=_)&&(_=this.i,F=null!==F&&_ in F?F[_]:void 0),this.data=F}else this.data=_}function Pl(){ry.call(this),this.status=1}function Ml(_){this.g=_}(c=is.prototype).Ha=function(_){this.J=_},c.ea=function(_,F,W,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);F=F?F.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$p.g(),this.v=function gv(_){return _.h||(_.h=_.i())}(this.o?this.o:$p),this.g.onreadystatechange=xe(this.Ea,this);try{this.B=!0,this.g.open(F,String(_),!0),this.B=!1}catch(Ft){return void py(this,Ft)}if(_=W||"",W=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var _t in ie)W.set(_t,ie[_t]);else{if("function"!=typeof ie.keys||"function"!=typeof ie.get)throw Error("Unknown input type for opt_headers: "+String(ie));for(const Ft of ie.keys())W.set(Ft,ie.get(Ft))}ie=Array.from(W.keys()).find(Ft=>"content-type"==Ft.toLowerCase()),_t=R.FormData&&_ instanceof R.FormData,!(0<=Array.prototype.indexOf.call(lf,F,void 0))||ie||_t||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ft,Pn]of W)this.g.setRequestHeader(Ft,Pn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{df(this),this.u=!0,this.g.send(_),this.u=!1}catch(Ft){py(this,Ft)}},c.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,ea(this,"complete"),ea(this,"abort"),Uu(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uu(this,!0)),is.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?Vv(this):this.bb())},c.bb=function(){Vv(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<Bu(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(_){if(this.g){var F=this.g.responseText;return _&&0==F.indexOf(_)&&(F=F.substring(_.length)),ty(F)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=jv.prototype).la=8,c.G=1,c.connect=function(_,F,W,ie){ta(0),this.W=_,this.H=F||{},W&&void 0!==ie&&(this.H.OSID=W,this.H.OAID=ie),this.F=this.X,this.I=qv(this,null,this.W),Qp(this)},c.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const _t=new kc(this,this.j,_);let Ft=this.o;if(this.S&&(Ft?(Ft=ke(Ft),at(Ft,this.S)):Ft=this.S),null!==this.m||this.O||(_t.H=Ft,Ft=null),this.P)e:{for(var F=0,W=0;W<this.i.length;W++){var ie=this.i[W];if(void 0===(ie="__data__"in ie.map&&"string"==typeof(ie=ie.map.__data__)?ie.length:void 0))break;if(4096<(F+=ie)){F=W;break e}if(4096===F||W===this.i.length-1){F=W+1;break e}}F=1e3}else F=1e3;F=Xp(this,_t,F),so(W=Oc(this.I),"RID",_),so(W,"CVER",22),this.D&&so(W,"X-HTTP-Session-Id",this.D),Qd(this,W),Ft&&(this.O?F="headers="+encodeURIComponent(String(Lv(Ft)))+"&"+F:this.m&&hy(W,this.m,Ft)),uy(this.h,_t),this.Ua&&so(W,"TYPE","init"),this.P?(so(W,"$req",F),so(W,"SID","null"),_t.T=!0,Dl(_t,W,null)):Dl(_t,W,F),this.G=2}}else 3==this.G&&(_?my(this,_):0==this.i.length||Tv(this.h)||my(this))},c.Fa=function(){if(this.u=null,Wv(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Hd(xe(this.ab,this),_)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ta(10),qp(this),Wv(this))},c.Za=function(){null!=this.C&&(this.C=null,qp(this),yy(this),ta(19))},c.fb=function(_){_?(this.j.info("Successfully pinged google.com"),ta(2)):(this.j.info("Failed to ping google.com"),ta(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=Xd.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Zd.prototype.g=function(_,F){return new ua(_,F)},$t(ua,rs),ua.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ua.prototype.close=function(){Kp(this.g)},ua.prototype.o=function(_){var F=this.g;if("string"==typeof _){var W={};W.__data__=_,_=W}else this.u&&((W={}).__data__=Nu(_),_=W);F.i.push(new zT(F.Ya++,_)),3==F.G&&Qp(F)},ua.prototype.N=function(){this.g.l=null,delete this.j,Kp(this.g),delete this.g,ua.aa.N.call(this)},$t(Qv,ny),$t(Pl,ry),$t(Ml,Xd),Ml.prototype.ua=function(){ea(this.g,"a")},Ml.prototype.ta=function(_){ea(this.g,new Qv(_))},Ml.prototype.sa=function(_){ea(this.g,new Pl)},Ml.prototype.ra=function(){ea(this.g,"b")},Zd.prototype.createWebChannel=Zd.prototype.g,ua.prototype.send=ua.prototype.o,ua.prototype.open=ua.prototype.m,ua.prototype.close=ua.prototype.close,Et=he.createWebChannelTransport=function(){return new Zd},mt=he.getStatEventTarget=function(){return ef()},Zt=he.Event=bl,Vt=he.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ou.NO_ERROR=0,Ou.TIMEOUT=8,Ou.HTTP_ERROR=6,jt=he.ErrorCode=Ou,sy.COMPLETE="complete",At=he.EventType=sy,mv.EventType=Jh,Jh.OPEN="a",Jh.CLOSE="b",Jh.ERROR="c",Jh.MESSAGE="d",rs.prototype.listen=rs.prototype.K,ot=he.WebChannel=mv,he.FetchXmlHttpFactory=Al,is.prototype.listenOnce=is.prototype.L,is.prototype.getLastError=is.prototype.Ka,is.prototype.getLastErrorCode=is.prototype.Ba,is.prototype.getStatus=is.prototype.Z,is.prototype.getResponseJson=is.prototype.Oa,is.prototype.getResponseText=is.prototype.oa,is.prototype.send=is.prototype.ea,is.prototype.setWithCredentials=is.prototype.Ha,et=he.XhrIo=is}).apply(typeof me<"u"?me:typeof self<"u"?self:typeof window<"u"?window:{});const St="@firebase/firestore";class rt{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");let Ze="11.8.1";const wt=new I.Vy("@firebase/firestore");function Gt(){return wt.logLevel}function ct(c,...n){if(wt.logLevel<=I.$b.DEBUG){const i=n.map(qn);wt.debug(`Firestore (${Ze}): ${c}`,...i)}}function Un(c,...n){if(wt.logLevel<=I.$b.ERROR){const i=n.map(qn);wt.error(`Firestore (${Ze}): ${c}`,...i)}}function Mn(c,...n){if(wt.logLevel<=I.$b.WARN){const i=n.map(qn);wt.warn(`Firestore (${Ze}): ${c}`,...i)}}function qn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function ht(c,n,i){let s="Unexpected state";"string"==typeof n?s=n:i=n,wn(c,s,i)}function wn(c,n,i){let s=`FIRESTORE (${Ze}) INTERNAL ASSERTION FAILED: ${n} (ID: ${c.toString(16)})`;if(void 0!==i)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Un(s),new Error(s)}function Ye(c,n,i,s){let u="Unexpected state";"string"==typeof i?u=i:s=i,c||wn(n,u,s)}function Mt(c,n){return c}const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Se.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class le{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class de{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class ye{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(rt.UNAUTHENTICATED))}shutdown(){}}class re{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class pe{constructor(n){this.t=n,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;Ye(void 0===this.o,42304);let u=this.i;const p=U=>this.i!==u?(u=this.i,i(U)):Promise.resolve();let v=new le;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new le,n.enqueueRetryable(()=>p(this.currentUser))};const R=()=>{const U=v;n.enqueueRetryable((0,T.A)(function*(){yield U.promise,yield p(s.currentUser)}))},x=U=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(U=>x(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?x(U):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new le)}},0),R()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye("string"==typeof s.accessToken,31837,{l:s}),new de(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Ye(null===n||"string"==typeof n,2055,{h:n}),new rt(n)}}class qe{constructor(n,i,s){this.P=n,this.T=i,this.I=s,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yt{constructor(n,i,s){this.P=n,this.T=i,this.I=s}getToken(){return Promise.resolve(new qe(this.P,this.T,this.I))}start(n,i){n.enqueueRetryable(()=>i(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class on{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yt{constructor(n,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,O.xZ)(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,i){Ye(void 0===this.o,3512);const s=p=>{null!=p.error&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const v=p.token!==this.m;return this.m=p.token,ct("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?i(p.token):Promise.resolve()};this.o=p=>{n.enqueueRetryable(()=>s(p))};const u=p=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.V.getImmediate({optional:!0});p?u(p):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new on(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Ye("string"==typeof i.token,44558,{tokenResult:i}),this.m=i.token,new on(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Wt(c){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<c;s++)i[s]=Math.floor(256*Math.random());return i}function Xn(){return new TextEncoder}class Hn{static newId(){const i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=Wt(40);for(let p=0;p<u.length;++p)s.length<20&&u[p]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return s}}function Qt(c,n){return c<n?-1:c>n?1:0}function Vn(c,n){let i=0;for(;i<c.length&&i<n.length;){const s=c.codePointAt(i),u=n.codePointAt(i);if(s!==u){if(s<128&&u<128)return Qt(s,u);{const p=Xn(),v=Dn(p.encode(tr(c,i)),p.encode(tr(n,i)));return 0!==v?v:Qt(s,u)}}i+=s>65535?2:1}return Qt(c.length,n.length)}function tr(c,n){return c.codePointAt(n)>65535?c.substring(n,n+2):c.substring(n,n+1)}function Dn(c,n){for(let i=0;i<c.length&&i<n.length;++i)if(c[i]!==n[i])return Qt(c[i],n[i]);return Qt(c.length,n.length)}function Nr(c,n,i){return c.length===n.length&&c.every((s,u)=>i(s,n[u]))}const Si=-62135596800;class fr{static now(){return fr.fromMillis(Date.now())}static fromDate(n){return fr.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new fr(i,s)}constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Y(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Y(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<Si)throw new Y(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Y(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Qt(this.nanoseconds,n.nanoseconds):Qt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-Si).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class sn{static fromTimestamp(n){return new sn(n)}static min(){return new sn(new fr(0,0))}static max(){return new sn(new fr(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xi="__name__";class kr{constructor(n,i,s){void 0===i?i=0:i>n.length&&ht(637,{offset:i,range:n.length}),void 0===s?s=n.length-i:s>n.length-i&&ht(1746,{length:s,range:n.length-i}),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===kr.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof kr?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const p=kr.compareSegments(n.get(u),i.get(u));if(0!==p)return p}return Qt(n.length,i.length)}static compareSegments(n,i){const s=kr.isNumericId(n),u=kr.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?kr.extractNumericId(n).compare(kr.extractNumericId(i)):Vn(n,i)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return fe.fromString(n.substring(4,n.length-2))}}class lt extends kr{construct(n,i,s){return new lt(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new Y(Ke.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new lt(i)}static emptyPath(){return new lt([])}}const Ir=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends kr{construct(n,i,s){return new Qn(n,i,s)}static isValidIdentifier(n){return Ir.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Xi}static keyField(){return new Qn([Xi])}static fromServerFormat(n){const i=[];let s="",u=0;const p=()=>{if(0===s.length)throw new Y(Ke.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let v=!1;for(;u<n.length;){const R=n[u];if("\\"===R){if(u+1===n.length)throw new Y(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const x=n[u+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new Y(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=x,u+=2}else"`"===R?(v=!v,u++):"."!==R||v?(s+=R,u++):(p(),u++)}if(p(),v)throw new Y(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Qn(i)}static emptyPath(){return new Qn([])}}class qt{constructor(n){this.path=n}static fromPath(n){return new qt(lt.fromString(n))}static fromName(n){return new qt(lt.fromString(n).popFirst(5))}static empty(){return new qt(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===lt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return lt.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new qt(new lt(n.slice()))}}class hr{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new hr(sn.min(),qt.empty(),-1)}static max(){return new hr(sn.max(),qt.empty(),-1)}}function Cn(c,n){let i=c.readTime.compareTo(n.readTime);return 0!==i?i:(i=qt.comparator(c.documentKey,n.documentKey),0!==i?i:Qt(c.largestBatchId,n.largestBatchId))}class xr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Gn(c){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,T.A)(function*(c){if(c.code!==Ke.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==c.message)throw c;ct("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ve{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new Ve((s,u)=>{this.nextCallback=p=>{this.wrapSuccess(n,p).next(s,u)},this.catchCallback=p=>{this.wrapFailure(i,p).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof Ve?i:Ve.resolve(i)}catch(i){return Ve.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):Ve.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):Ve.reject(i)}static resolve(n){return new Ve((i,s)=>{i(n)})}static reject(n){return new Ve((i,s)=>{s(n)})}static waitFor(n){return new Ve((i,s)=>{let u=0,p=0,v=!1;n.forEach(R=>{++u,R.next(()=>{++p,v&&p===u&&i()},x=>s(x))}),v=!0,p===u&&i()})}static or(n){let i=Ve.resolve(!1);for(const s of n)i=i.next(u=>u?Ve.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,p)=>{s.push(i.call(this,u,p))}),this.waitFor(s)}static mapArray(n,i){return new Ve((s,u)=>{const p=n.length,v=new Array(p);let R=0;for(let x=0;x<p;x++){const U=x;i(n[U]).next(X=>{v[U]=X,++R,R===p&&s(v)},X=>u(X))}})}static doWhile(n,i){return new Ve((s,u)=>{const p=()=>{!0===n()?i().next(()=>{p()},u):s()};p()})}}function Tr(c){return"IndexedDbTransactionError"===c.name}let Je=(()=>{class c{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ue(u),this.ce=u=>s.writeSequenceNumber(u))}ue(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ce&&this.ce(i),i}}return c.le=-1,c})();function Rn(c){return null==c}function mr(c){return 0===c&&1/c==-1/0}function dt(c,n){let i=n;const s=c.length;for(let u=0;u<s;u++){const p=c.charAt(u);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function bt(c){return c+"\x01\x01"}const vt="mutationQueues",kt="mutations",Ri="documentMutations",Fn="remoteDocumentGlobal",rr="targets",Sr="targetDocuments",$="targetGlobal",ge="collectionParents",te="clientMetadata",Dt="bundles",On="namedQueries";function Go(c){let n=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n++;return n}function mo(c,n){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n(i,c[i])}function Ds(c){for(const n in c)if(Object.prototype.hasOwnProperty.call(c,n))return!1;return!0}class Kr{constructor(n,i){this.comparator=n,this.root=i||Yr.EMPTY}insert(n,i){return new Kr(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(n){return new Kr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new co(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new co(this.root,n,this.comparator,!1)}getReverseIterator(){return new co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new co(this.root,n,this.comparator,!0)}}class co{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!n.isEmpty();)if(p=i?s(n.key,i):1,i&&u&&(p*=-1),p<0)n=this.isReverse?n.left:n.right;else{if(0===p){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Yr{constructor(n,i,s,u,p){this.key=n,this.value=i,this.color=s??Yr.RED,this.left=u??Yr.EMPTY,this.right=p??Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,p){return new Yr(n??this.key,i??this.value,s??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const p=s(n,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===p?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return Yr.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw ht(27949);return n+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(n,i,s,u,p){return this}insert(n,i,s){return new Yr(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jr{constructor(n){this.comparator=n,this.data=new Kr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new As(this.data.getIterator())}getIteratorFrom(n){return new As(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof Jr)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Jr(this.comparator);return i.data=n,i}}class As{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xo{constructor(n){this.fields=n,n.sort(Qn.comparator)}static empty(){return new xo([])}unionWith(n){let i=new Jr(Qn.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new xo(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Nr(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class ps extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ji{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new ps("Invalid base64 string: "+p):p}}(n);return new ji(i)}static fromUint8Array(n){const i=function(u){let p="";for(let v=0;v<u.length;++v)p+=String.fromCharCode(u[v]);return p}(n);return new ji(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Qt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}ji.EMPTY_BYTE_STRING=new ji("");const Hs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(c){if(Ye(!!c,39018),"string"==typeof c){let n=0;const i=Hs.exec(c);if(Ye(!!i,46558,{timestamp:c}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(c);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:Fr(c.seconds),nanos:Fr(c.nanos)}}function Fr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function vr(c){return"string"==typeof c?ji.fromBase64String(c):ji.fromUint8Array(c)}const eo="server_timestamp",ra="__type__",Os="__previous_value__",ba="__local_write_time__";function jo(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[ra])||void 0===i?void 0:i.stringValue)===eo}function Er(c){const n=c.mapValue.fields[Os];return jo(n)?Er(n):n}function K(c){const n=Oo(c.mapValue.fields[ba].timestampValue);return new fr(n.seconds,n.nanos)}class G{constructor(n,i,s,u,p,v,R,x,U,X){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=p,this.forceLongPolling=v,this.autoDetectLongPolling=R,this.longPollingOptions=x,this.useFetchStreams=U,this.isUsingEmulator=X}}const Te="(default)";class Re{constructor(n,i){this.projectId=n,this.database=i||Te}static empty(){return new Re("","")}get isDefaultDatabase(){return this.database===Te}isEqual(n){return n instanceof Re&&n.projectId===this.projectId&&n.database===this.database}}const it="__type__",Nt="__max__",Kt_mapValue={fields:{__type__:{stringValue:Nt}}},bn="__vector__",pn="value";function Zn(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?jo(c)?4:Da(c)?9007199254740991:gs(c)?10:11:ht(28295,{value:c})}function Ur(c,n){if(c===n)return!0;const i=Zn(c);if(i!==Zn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===n.booleanValue;case 4:return K(c).isEqual(K(n));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const v=Oo(u.timestampValue),R=Oo(p.timestampValue);return v.seconds===R.seconds&&v.nanos===R.nanos}(c,n);case 5:return c.stringValue===n.stringValue;case 6:return p=n,vr(c.bytesValue).isEqual(vr(p.bytesValue));case 7:return c.referenceValue===n.referenceValue;case 8:return function(u,p){return Fr(u.geoPointValue.latitude)===Fr(p.geoPointValue.latitude)&&Fr(u.geoPointValue.longitude)===Fr(p.geoPointValue.longitude)}(c,n);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return Fr(u.integerValue)===Fr(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const v=Fr(u.doubleValue),R=Fr(p.doubleValue);return v===R?mr(v)===mr(R):isNaN(v)&&isNaN(R)}return!1}(c,n);case 9:return Nr(c.arrayValue.values||[],n.arrayValue.values||[],Ur);case 10:case 11:return function(u,p){const v=u.mapValue.fields||{},R=p.mapValue.fields||{};if(Go(v)!==Go(R))return!1;for(const x in v)if(v.hasOwnProperty(x)&&(void 0===R[x]||!Ur(v[x],R[x])))return!1;return!0}(c,n);default:return ht(52216,{left:c})}var p}function Ii(c,n){return void 0!==(c.values||[]).find(i=>Ur(i,n))}function _i(c,n){if(c===n)return 0;const i=Zn(c),s=Zn(n);if(i!==s)return Qt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qt(c.booleanValue,n.booleanValue);case 2:return function(p,v){const R=Fr(p.integerValue||p.doubleValue),x=Fr(v.integerValue||v.doubleValue);return R<x?-1:R>x?1:R===x?0:isNaN(R)?isNaN(x)?0:-1:1}(c,n);case 3:return $i(c.timestampValue,n.timestampValue);case 4:return $i(K(c),K(n));case 5:return Vn(c.stringValue,n.stringValue);case 6:return function(p,v){const R=vr(p),x=vr(v);return R.compareTo(x)}(c.bytesValue,n.bytesValue);case 7:return function(p,v){const R=p.split("/"),x=v.split("/");for(let U=0;U<R.length&&U<x.length;U++){const X=Qt(R[U],x[U]);if(0!==X)return X}return Qt(R.length,x.length)}(c.referenceValue,n.referenceValue);case 8:return function(p,v){const R=Qt(Fr(p.latitude),Fr(v.latitude));return 0!==R?R:Qt(Fr(p.longitude),Fr(v.longitude))}(c.geoPointValue,n.geoPointValue);case 9:return Pi(c.arrayValue,n.arrayValue);case 10:return function(p,v){var R,x,U,X;const Tt=null===(R=(p.fields||{})[pn])||void 0===R?void 0:R.arrayValue,$t=null===(x=(v.fields||{})[pn])||void 0===x?void 0:x.arrayValue,ln=Qt((null===(U=Tt?.values)||void 0===U?void 0:U.length)||0,(null===(X=$t?.values)||void 0===X?void 0:X.length)||0);return 0!==ln?ln:Pi(Tt,$t)}(c.mapValue,n.mapValue);case 11:return function(p,v){if(p===Kt_mapValue&&v===Kt_mapValue)return 0;if(p===Kt_mapValue)return 1;if(v===Kt_mapValue)return-1;const R=p.fields||{},x=Object.keys(R),U=v.fields||{},X=Object.keys(U);x.sort(),X.sort();for(let se=0;se<x.length&&se<X.length;++se){const xe=Vn(x[se],X[se]);if(0!==xe)return xe;const Tt=_i(R[x[se]],U[X[se]]);if(0!==Tt)return Tt}return Qt(x.length,X.length)}(c.mapValue,n.mapValue);default:throw ht(23264,{Pe:i})}}function $i(c,n){if("string"==typeof c&&"string"==typeof n&&c.length===n.length)return Qt(c,n);const i=Oo(c),s=Oo(n),u=Qt(i.seconds,s.seconds);return 0!==u?u:Qt(i.nanos,s.nanos)}function Pi(c,n){const i=c.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const p=_i(i[u],s[u]);if(p)return p}return Qt(i.length,s.length)}function ri(c){return Oi(c)}function Oi(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const s=Oo(i);return`time(${s.seconds},${s.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?vr(c.bytesValue).toBase64():"referenceValue"in c?qt.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let s="[",u=!0;for(const p of i.values||[])u?u=!1:s+=",",s+=Oi(p);return s+"]"}(c.arrayValue):"mapValue"in c?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",p=!0;for(const v of s)p?p=!1:u+=",",u+=`${v}:${Oi(i.fields[v])}`;return u+"}"}(c.mapValue):ht(61005,{value:c})}function uo(c){switch(Zn(c)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Er(c);return n?16+uo(n):16;case 5:return 2*c.stringValue.length;case 6:return vr(c.bytesValue).approximateByteSize();case 7:return c.referenceValue.length;case 9:return(c.arrayValue.values||[]).reduce((u,p)=>u+uo(p),0);case 10:case 11:return function(s){let u=0;return mo(s.fields,(p,v)=>{u+=p.length+uo(v)}),u}(c.mapValue);default:throw ht(13486,{value:c})}}function vi(c,n){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${n.path.canonicalString()}`}}function Mi(c){return!!c&&"integerValue"in c}function bo(c){return!!c&&"arrayValue"in c}function ii(c){return!!c&&"nullValue"in c}function yo(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function qo(c){return!!c&&"mapValue"in c}function gs(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[it])||void 0===i?void 0:i.stringValue)===bn}function la(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const n={mapValue:{fields:{}}};return mo(c.mapValue.fields,(i,s)=>n.mapValue.fields[i]=la(s)),n}if(c.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=la(c.arrayValue.values[i]);return n}return Object.assign({},c)}function Da(c){return(((c.mapValue||{}).fields||{}).__type__||{}).stringValue===Nt}class oo{constructor(n){this.value=n}static empty(){return new oo({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!qo(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=la(i)}setAll(n){let i=Qn.emptyPath(),s={},u=[];n.forEach((v,R)=>{if(!i.isImmediateParentOf(R)){const x=this.getFieldsMap(i);this.applyChanges(x,s,u),s={},u=[],i=R.popLast()}v?s[R.lastSegment()]=la(v):u.push(R.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,s,u)}delete(n){const i=this.field(n.popLast());qo(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Ur(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];qo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){mo(i,(u,p)=>n[u]=p);for(const u of s)delete n[u]}clone(){return new oo(la(this.value))}}function Fs(c){const n=[];return mo(c.fields,(i,s)=>{const u=new Qn([i]);if(qo(s)){const p=Fs(s.mapValue).fields;if(0===p.length)n.push(u);else for(const v of p)n.push(u.child(v))}else n.push(u)}),new xo(n)}class hi{constructor(n,i,s,u,p,v,R){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=p,this.data=v,this.documentState=R}static newInvalidDocument(n){return new hi(n,0,sn.min(),sn.min(),sn.min(),oo.empty(),0)}static newFoundDocument(n,i,s,u){return new hi(n,1,i,sn.min(),s,u,0)}static newNoDocument(n,i){return new hi(n,2,i,sn.min(),sn.min(),oo.empty(),0)}static newUnknownDocument(n,i){return new hi(n,3,i,sn.min(),sn.min(),oo.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(sn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=oo.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof hi&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fo{constructor(n,i){this.position=n,this.inclusive=i}}function Ls(c,n,i){let s=0;for(let u=0;u<c.position.length;u++){const p=n[u],v=c.position[u];if(s=p.field.isKeyField()?qt.comparator(qt.fromName(v.referenceValue),i.key):_i(v,i.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function Gs(c,n){if(null===c)return null===n;if(null===n||c.inclusive!==n.inclusive||c.position.length!==n.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!Ur(c.position[i],n.position[i]))return!1;return!0}class Ks{constructor(n,i="asc"){this.field=n,this.dir=i}}function Di(c,n){return c.dir===n.dir&&c.field.isEqual(n.field)}class ha{}class Wr extends ha{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new qr(n,i,s):"array-contains"===i?new $o(n,s):"in"===i?new Ki(n,s):"not-in"===i?new Xo(n,s):"array-contains-any"===i?new Yo(n,s):new Wr(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new en(n,s):new ir(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&void 0===i.nullValue&&this.matchesComparison(_i(i,this.value)):null!==i&&Zn(this.value)===Zn(i)&&this.matchesComparison(_i(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends ha{constructor(n,i){super(),this.filters=n,this.op=i,this.Te=null}static create(n,i){return new Br(n,i)}matches(n){return Aa(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Aa(c){return"and"===c.op}function Za(c){return function Ca(c){for(const n of c.filters)if(n instanceof Br)return!1;return!0}(c)&&Aa(c)}function Ya(c){if(c instanceof Wr)return c.field.canonicalString()+c.op.toString()+ri(c.value);if(Za(c))return c.filters.map(n=>Ya(n)).join(",");{const n=c.filters.map(i=>Ya(i)).join(",");return`${c.op}(${n})`}}function La(c,n){return c instanceof Wr?(s=c,(u=n)instanceof Wr&&s.op===u.op&&s.field.isEqual(u.field)&&Ur(s.value,u.value)):c instanceof Br?function(s,u){return u instanceof Br&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((p,v,R)=>p&&La(v,u.filters[R]),!0)}(c,n):void ht(19439);var s,u}function Qo(c){return c instanceof Wr?`${(i=c).field.canonicalString()} ${i.op} ${ri(i.value)}`:c instanceof Br?function(i){return i.op.toString()+" {"+i.getFilters().map(Qo).join(" ,")+"}"}(c):"Filter";var i}class qr extends Wr{constructor(n,i,s){super(n,i,s),this.key=qt.fromName(s.referenceValue)}matches(n){const i=qt.comparator(n.key,this.key);return this.matchesComparison(i)}}class en extends Wr{constructor(n,i){super(n,"in",i),this.keys=fi(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class ir extends Wr{constructor(n,i){super(n,"not-in",i),this.keys=fi(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function fi(c,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>qt.fromName(s.referenceValue))}class $o extends Wr{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return bo(i)&&Ii(i.arrayValue,this.value)}}class Ki extends Wr{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&Ii(this.value.arrayValue,i)}}class Xo extends Wr{constructor(n,i){super(n,"not-in",i)}matches(n){if(Ii(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&void 0===i.nullValue&&!Ii(this.value.arrayValue,i)}}class Yo extends Wr{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!bo(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Ii(this.value.arrayValue,s))}}class oi{constructor(n,i=null,s=[],u=[],p=null,v=null,R=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=p,this.startAt=v,this.endAt=R,this.Ie=null}}function P(c,n=null,i=[],s=[],u=null,p=null,v=null){return new oi(c,n,i,s,u,p,v)}function k(c){const n=Mt(c);if(null===n.Ie){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>Ya(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),Rn(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>ri(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>ri(s)).join(",")),n.Ie=i}return n.Ie}function H(c,n){if(c.limit!==n.limit||c.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!Di(c.orderBy[i],n.orderBy[i]))return!1;if(c.filters.length!==n.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!La(c.filters[i],n.filters[i]))return!1;return c.collectionGroup===n.collectionGroup&&!!c.path.isEqual(n.path)&&!!Gs(c.startAt,n.startAt)&&Gs(c.endAt,n.endAt)}function Ae(c){return qt.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}class Hi{constructor(n,i=null,s=[],u=[],p=null,v="F",R=null,x=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=p,this.limitType=v,this.startAt=R,this.endAt=x,this.Ee=null,this.de=null,this.Ae=null}}function Do(c){return new Hi(c)}function Qs(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function Sa(c){return null!==c.collectionGroup}function us(c){const n=Mt(c);if(null===n.Ee){n.Ee=[];const i=new Set;for(const p of n.explicitOrderBy)n.Ee.push(p),i.add(p.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(v){let R=new Jr(Qn.comparator);return v.filters.forEach(x=>{x.getFlattenedFilters().forEach(U=>{U.isInequality()&&(R=R.add(U.field))})}),R})(n).forEach(p=>{i.has(p.canonicalString())||p.isKeyField()||n.Ee.push(new Ks(p,s))}),i.has(Qn.keyField().canonicalString())||n.Ee.push(new Ks(Qn.keyField(),s))}return n.Ee}function Ao(c){const n=Mt(c);return n.de||(n.de=function ls(c,n){if("F"===c.limitType)return P(c.path,c.collectionGroup,n,c.filters,c.limit,c.startAt,c.endAt);{n=n.map(u=>new Ks(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new Fo(c.endAt.position,c.endAt.inclusive):null,s=c.startAt?new Fo(c.startAt.position,c.startAt.inclusive):null;return P(c.path,c.collectionGroup,n,c.filters,c.limit,i,s)}}(n,us(c))),n.de}function fa(c,n){const i=c.filters.concat([n]);return new Hi(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function Nn(c,n,i){return new Hi(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),n,i,c.startAt,c.endAt)}function pa(c,n){return H(Ao(c),Ao(n))&&c.limitType===n.limitType}function Ms(c){return`${k(Ao(c))}|lt:${c.limitType}`}function _s(c){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Qo(u)).join(", ")}]`),Rn(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(v=u).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>ri(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>ri(u)).join(",")),`Target(${s})`}(Ao(c))}; limitType=${c.limitType})`}function Ra(c,n){return n.isFoundDocument()&&function(s,u){const p=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):qt.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(c,n)&&function(s,u){for(const p of us(s))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(c,n)&&function(s,u){for(const p of s.filters)if(!p.matches(u))return!1;return!0}(c,n)&&(u=n,!((s=c).startAt&&!function(v,R,x){const U=Ls(v,R,x);return v.inclusive?U<=0:U<0}(s.startAt,us(s),u)||s.endAt&&!function(v,R,x){const U=Ls(v,R,x);return v.inclusive?U>=0:U>0}(s.endAt,us(s),u)));var s,u}function zi(c){return(n,i)=>{let s=!1;for(const u of us(c)){const p=Qi(u,n,i);if(0!==p)return p;s=s||u.field.isKeyField()}return 0}}function Qi(c,n,i){const s=c.field.isKeyField()?qt.comparator(n.key,i.key):function(p,v,R){const x=v.data.field(p),U=R.data.field(p);return null!==x&&null!==U?_i(x,U):ht(42886)}(c.field,n,i);switch(c.dir){case"asc":return s;case"desc":return-1*s;default:return ht(19790,{direction:c.dir})}}class Ai{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,p]of s)if(this.equalsFn(u,n))return p}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],n))return void(u[p]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){mo(this.inner,(i,s)=>{for(const[u,p]of s)n(u,p)})}isEmpty(){return Ds(this.inner)}size(){return this.innerSize}}const Ja=new Kr(qt.comparator);function to(){return Ja}const vc=new Kr(qt.comparator);function Jo(...c){let n=vc;for(const i of c)n=n.insert(i.key,i);return n}function Vs(c){let n=vc;return c.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function A(){return S()}function N(){return S()}function S(){return new Ai(c=>c.toString(),(c,n)=>c.isEqual(n))}const m=new Kr(qt.comparator),d=new Jr(qt.comparator);function f(...c){let n=d;for(const i of c)n=n.add(i);return n}const E=new Jr(Qt);function V(c,n){if(c.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mr(n)?"-0":n}}function ee(c){return{integerValue:""+c}}function we(c,n){return function ne(c){return"number"==typeof c&&Number.isInteger(c)&&!mr(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}(n)?ee(n):V(c,n)}class Ge{constructor(){this._=void 0}}function gt(c,n,i){return c instanceof Yn?function(u,p){const v={fields:{[ra]:{stringValue:eo},[ba]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&jo(p)&&(p=Er(p)),p&&(v.fields[Os]=p),{mapValue:v}}(i,n):c instanceof zn?Jn(c,n):c instanceof ur?Fi(c,n):function(u,p){const v=dn(u,p),R=ds(v)+ds(u.Re);return Mi(v)&&Mi(u.Re)?ee(R):V(u.serializer,R)}(c,n)}function an(c,n,i){return c instanceof zn?Jn(c,n):c instanceof ur?Fi(c,n):i}function dn(c,n){return c instanceof Co?Mi(s=n)||(p=s)&&"doubleValue"in p?n:{integerValue:0}:null;var s,p}class Yn extends Ge{}class zn extends Ge{constructor(n){super(),this.elements=n}}function Jn(c,n){const i=Cs(n);for(const s of c.elements)i.some(u=>Ur(u,s))||i.push(s);return{arrayValue:{values:i}}}class ur extends Ge{constructor(n){super(),this.elements=n}}function Fi(c,n){let i=Cs(n);for(const s of c.elements)i=i.filter(u=>!Ur(u,s));return{arrayValue:{values:i}}}class Co extends Ge{constructor(n,i){super(),this.serializer=n,this.Re=i}}function ds(c){return Fr(c.integerValue||c.doubleValue)}function Cs(c){return bo(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class ga{constructor(n,i){this.version=n,this.transformResults=i}}class Gr{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new Gr}static exists(n){return new Gr(void 0,n)}static updateTime(n){return new Gr(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function hs(c,n){return void 0!==c.updateTime?n.isFoundDocument()&&n.version.isEqual(c.updateTime):void 0===c.exists||c.exists===n.isFoundDocument()}class ia{}function ma(c,n){if(!c.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return c.isNoDocument()?new ei(c.key,Gr.none()):new Ba(c.key,c.data,Gr.none());{const i=c.data,s=oo.empty();let u=new Jr(Qn.comparator);for(let p of n.fields)if(!u.has(p)){let v=i.field(p);null===v&&p.length>1&&(p=p.popLast(),v=i.field(p)),null===v?s.delete(p):s.set(p,v),u=u.add(p)}return new kn(c.key,s,new xo(u.toArray()),Gr.none())}}function kl(c,n,i){c instanceof Ba?function(u,p,v){const R=u.value.clone(),x=dr(u.fieldTransforms,p,v.transformResults);R.setAll(x),p.convertToFoundDocument(v.version,R).setHasCommittedMutations()}(c,n,i):c instanceof kn?function(u,p,v){if(!hs(u.precondition,p))return void p.convertToUnknownDocument(v.version);const R=dr(u.fieldTransforms,p,v.transformResults),x=p.data;x.setAll(gn(u)),x.setAll(R),p.convertToFoundDocument(v.version,x).setHasCommittedMutations()}(c,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Ti(c,n,i,s){return c instanceof Ba?function(p,v,R,x){if(!hs(p.precondition,v))return R;const U=p.value.clone(),X=jr(p.fieldTransforms,x,v);return U.setAll(X),v.convertToFoundDocument(v.version,U).setHasLocalMutations(),null}(c,n,i,s):c instanceof kn?function(p,v,R,x){if(!hs(p.precondition,v))return R;const U=jr(p.fieldTransforms,x,v),X=v.data;return X.setAll(gn(p)),X.setAll(U),v.convertToFoundDocument(v.version,X).setHasLocalMutations(),null===R?null:R.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(se=>se.field))}(c,n,i,s):(R=i,hs(c.precondition,v=n)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):R);var v,R}function Wu(c,n){let i=null;for(const s of c.fieldTransforms){const u=n.data.field(s.field),p=dn(s.transform,u||null);null!=p&&(null===i&&(i=oo.empty()),i.set(s.field,p))}return i||null}function pi(c,n){return c.type===n.type&&!!c.key.isEqual(n.key)&&!!c.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=c.fieldTransforms)&&void 0===u||s&&u&&Nr(s,u,(p,v)=>function Ec(c,n){return c.field.isEqual(n.field)&&(u=n.transform,(s=c.transform)instanceof zn&&u instanceof zn||s instanceof ur&&u instanceof ur?Nr(s.elements,u.elements,Ur):s instanceof Co&&u instanceof Co?Ur(s.Re,u.Re):s instanceof Yn&&u instanceof Yn);var s,u}(p,v))))&&(0===c.type?c.value.isEqual(n.value):1!==c.type||c.data.isEqual(n.data)&&c.fieldMask.isEqual(n.fieldMask));var s,u}class Ba extends ia{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class kn extends ia{constructor(n,i,s,u,p=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function gn(c){const n=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=c.data.field(i);n.set(i,s)}}),n}function dr(c,n,i){const s=new Map;Ye(c.length===i.length,32656,{Ve:i.length,me:c.length});for(let u=0;u<i.length;u++){const p=c[u],v=p.transform,R=n.data.field(p.field);s.set(p.field,an(v,R,i[u]))}return s}function jr(c,n,i){const s=new Map;for(const u of c){const p=u.transform,v=i.data.field(u.field);s.set(u.field,gt(p,v,n))}return s}class ei extends ia{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ss extends ia{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class So{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(n.key)&&kl(p,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=Ti(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=Ti(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=N();return this.mutations.forEach(u=>{const p=n.get(u.key),v=p.overlayedDocument;let R=this.applyToLocalView(v,p.mutatedFields);R=i.has(u.key)?null:R;const x=ma(v,R);null!==x&&s.set(u.key,x),v.isValidDocument()||v.convertToNoDocument(sn.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),f())}isEqual(n){return this.batchId===n.batchId&&Nr(this.mutations,n.mutations,(i,s)=>pi(i,s))&&Nr(this.baseMutations,n.baseMutations,(i,s)=>pi(i,s))}}class Ho{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){Ye(n.mutations.length===s.length,58842,{fe:n.mutations.length,ge:s.length});let u=function(){return m}();const p=n.mutations;for(let v=0;v<p.length;v++)u=u.insert(p[v].key,s[v].version);return new Ho(n,i,s,u)}}class Ni{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gu{constructor(n,i){this.count=n,this.unchangedNames=i}}var Qr,Mr;function ja(c){if(void 0===c)return Un("GRPC error has no .code"),Ke.UNKNOWN;switch(c){case Qr.OK:return Ke.OK;case Qr.CANCELLED:return Ke.CANCELLED;case Qr.UNKNOWN:return Ke.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return Ke.INTERNAL;case Qr.UNAVAILABLE:return Ke.UNAVAILABLE;case Qr.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case Qr.NOT_FOUND:return Ke.NOT_FOUND;case Qr.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case Qr.ABORTED:return Ke.ABORTED;case Qr.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case Qr.DATA_LOSS:return Ke.DATA_LOSS;default:return ht(39323,{code:c})}}(Mr=Qr||(Qr={}))[Mr.OK=0]="OK",Mr[Mr.CANCELLED=1]="CANCELLED",Mr[Mr.UNKNOWN=2]="UNKNOWN",Mr[Mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mr[Mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mr[Mr.NOT_FOUND=5]="NOT_FOUND",Mr[Mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mr[Mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mr[Mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mr[Mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mr[Mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mr[Mr.ABORTED=10]="ABORTED",Mr[Mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mr[Mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mr[Mr.INTERNAL=13]="INTERNAL",Mr[Mr.UNAVAILABLE=14]="UNAVAILABLE",Mr[Mr.DATA_LOSS=15]="DATA_LOSS";const wf=new fe([4294967295,4294967295],0);function uu(c){const n=Xn().encode(c),i=new Oe;return i.update(n),new Uint8Array(i.digest())}function ih(c){const n=new DataView(c.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),p=n.getUint32(12,!0);return[new fe([i,s],0),new fe([u,p],0)]}class wc{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ec(`Invalid padding: ${i}`);if(s<0)throw new ec(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new ec(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new ec(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*n.length-i,this.ye=fe.fromNumber(this.pe)}we(n,i,s){let u=n.add(i.multiply(fe.fromNumber(s)));return 1===u.compare(wf)&&(u=new fe([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.pe)return!1;const i=uu(n),[s,u]=ih(i);for(let p=0;p<this.hashCount;p++){const v=this.we(s,u,p);if(!this.Se(v))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,p=new Uint8Array(Math.ceil(n/8)),v=new wc(p,u,i);return s.forEach(R=>v.insert(R)),v}insert(n){if(0===this.pe)return;const i=uu(n),[s,u]=ih(i);for(let p=0;p<this.hashCount;p++){const v=this.we(s,u,p);this.be(v)}}be(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vc{constructor(n,i,s,u,p){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,oa.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new Vc(sn.min(),u,new Kr(Qt),to(),f())}}class oa{constructor(n,i,s,u,p){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new oa(s,i,f(),f(),f())}}class Ic{constructor(n,i,s,u){this.De=n,this.removedTargetIds=i,this.key=s,this.ve=u}}class xl{constructor(n,i){this.targetId=n,this.Ce=i}}class If{constructor(n,i,s=ji.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class br{constructor(){this.Fe=0,this.Me=Fl(),this.xe=ji.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(n){n.approximateByteSize()>0&&(this.Ne=!0,this.xe=n)}qe(){let n=f(),i=f(),s=f();return this.Me.forEach((u,p)=>{switch(p){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:ht(38017,{changeType:p})}}),new oa(this.xe,this.Oe,n,i,s)}Qe(){this.Ne=!1,this.Me=Fl()}$e(n,i){this.Ne=!0,this.Me=this.Me.insert(n,i)}Ue(n){this.Ne=!0,this.Me=this.Me.remove(n)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ol{constructor(n){this.ze=n,this.je=new Map,this.He=to(),this.Je=$a(),this.Ye=$a(),this.Ze=new Kr(Qt)}Xe(n){for(const i of n.De)n.ve&&n.ve.isFoundDocument()?this.et(i,n.ve):this.tt(i,n.key,n.ve);for(const i of n.removedTargetIds)this.tt(i,n.key,n.ve)}nt(n){this.forEachTarget(n,i=>{const s=this.rt(i);switch(n.state){case 0:this.it(i)&&s.ke(n.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(n.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(n.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(n.resumeToken));break;default:ht(56790,{state:n.state})}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.je.forEach((s,u)=>{this.it(u)&&i(u)})}ot(n){const i=n.targetId,s=n.Ce.count,u=this._t(i);if(u){const p=u.target;if(Ae(p))if(0===s){const v=new qt(p.path);this.tt(i,v,hi.newNoDocument(v,sn.min()))}else Ye(1===s,20013,{expectedCount:s});else{const v=this.ut(i);if(v!==s){const R=this.ct(n),x=R?this.lt(R,n,v):1;0!==x&&(this.st(i),this.Ze=this.Ze.insert(i,2===x?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ct(n){const i=n.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:p=0}=i;let v,R;try{v=vr(s).toUint8Array()}catch(x){if(x instanceof ps)return Mn("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{R=new wc(v,u,p)}catch(x){return Mn(x instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return 0===R.pe?null:R}lt(n,i,s){return i.Ce.count===s-this.Tt(n,i.targetId)?0:2}Tt(n,i){const s=this.ze.getRemoteKeysForTarget(i);let u=0;return s.forEach(p=>{const v=this.ze.Pt(),R=`projects/${v.projectId}/databases/${v.database}/documents/${p.path.canonicalString()}`;n.mightContain(R)||(this.tt(i,p,null),u++)}),u}It(n){const i=new Map;this.je.forEach((p,v)=>{const R=this._t(v);if(R){if(p.current&&Ae(R.target)){const x=new qt(R.target.path);this.Et(x).has(v)||this.dt(v,x)||this.tt(v,x,hi.newNoDocument(x,n))}p.Le&&(i.set(v,p.qe()),p.Qe())}});let s=f();this.Ye.forEach((p,v)=>{let R=!0;v.forEachWhile(x=>{const U=this._t(x);return!U||"TargetPurposeLimboResolution"===U.purpose||(R=!1,!1)}),R&&(s=s.add(p))}),this.He.forEach((p,v)=>v.setReadTime(n));const u=new Vc(n,i,this.Ze,this.He,s);return this.He=to(),this.Je=$a(),this.Ye=$a(),this.Ze=new Kr(Qt),u}et(n,i){if(!this.it(n))return;const s=this.dt(n,i.key)?2:0;this.rt(n).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(n)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(n))}tt(n,i,s){if(!this.it(n))return;const u=this.rt(n);this.dt(n,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(n)),this.Ye=this.Ye.insert(i,this.At(i).add(n)),s&&(this.He=this.He.insert(i,s))}removeTarget(n){this.je.delete(n)}ut(n){const i=this.rt(n).qe();return this.ze.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}Ke(n){this.rt(n).Ke()}rt(n){let i=this.je.get(n);return i||(i=new br,this.je.set(n,i)),i}At(n){let i=this.Ye.get(n);return i||(i=new Jr(Qt),this.Ye=this.Ye.insert(n,i)),i}Et(n){let i=this.Je.get(n);return i||(i=new Jr(Qt),this.Je=this.Je.insert(n,i)),i}it(n){const i=null!==this._t(n);return i||ct("WatchChangeAggregator","Detected inactive target",n),i}_t(n){const i=this.je.get(n);return i&&i.Be?null:this.ze.Rt(n)}st(n){this.je.set(n,new br),this.ze.getRemoteKeysForTarget(n).forEach(i=>{this.tt(n,i,null)})}dt(n,i){return this.ze.getRemoteKeysForTarget(n).has(i)}}function $a(){return new Kr(qt.comparator)}function Fl(){return new Kr(qt.comparator)}const Hy={asc:"ASCENDING",desc:"DESCENDING"},Eg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oh={and:"AND",or:"OR"};class Tf{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function Ma(c,n){return c.useProto3Json||Rn(n)?n:{value:n}}function Ku(c,n){return c.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Ll(c,n){return c.useProto3Json?n.toBase64():n.toUint8Array()}function zy(c,n){return Ku(c,n.toTimestamp())}function Vo(c){return Ye(!!c,49232),sn.fromTimestamp(function(i){const s=Oo(i);return new fr(s.seconds,s.nanos)}(c))}function qu(c,n){return Pt(c,n).canonicalString()}function Pt(c,n){const i=(u=c,new lt(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function wr(c){const n=lt.fromString(c);return Ye(jl(n),10190,{key:n.toString()}),n}function Tc(c,n){return qu(c.databaseId,n.path)}function sa(c,n){const i=wr(n);if(i.get(1)!==c.databaseId.projectId)throw new Y(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new Y(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new qt(Xs(i))}function $r(c,n){return qu(c.databaseId,n)}function aa(c){return new lt(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Xs(c){return Ye(c.length>4&&"documents"===c.get(4),29091,{key:c.toString()}),c.popFirst(5)}function Vl(c,n,i){return{name:Tc(c,n),fields:i.value.mapValue.fields}}function Uc(c,n){return{documents:[$r(c,n.path)]}}function Rs(c,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=$r(c,u);const p=function(U){if(0!==U.length)return du(Br.create(U,"and"))}(n.filters);p&&(i.structuredQuery.where=p);const v=function(U){if(0!==U.length)return U.map(X=>{return{field:bc((xe=X).field),direction:Ig(xe.dir)};var xe})}(n.orderBy);v&&(i.structuredQuery.orderBy=v);const R=Ma(c,n.limit);return null!==R&&(i.structuredQuery.limit=R),n.startAt&&(i.structuredQuery.startAt={before:(U=n.startAt).inclusive,values:U.position}),n.endAt&&(i.structuredQuery.endAt=function(U){return{before:!U.inclusive,values:U.position}}(n.endAt)),{gt:i,parent:u};var U}function Cf(c){let n=function bf(c){const n=wr(c);return 4===n.length?lt.emptyPath():Xs(n)}(c.parent);const i=c.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ye(1===s,65062);const X=i.from[0];X.allDescendants?u=X.collectionId:n=n.child(X.collectionId)}let p=[];i.where&&(p=function(se){const xe=_a(se);return xe instanceof Br&&Za(xe)?xe.getFilters():[xe]}(i.where));let v=[];i.orderBy&&(v=i.orderBy.map(xe=>{return new Ks(Ha(($t=xe).field),function(rn){switch(rn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($t.direction));var $t}));let R=null;i.limit&&(R=function(se){let xe;return xe="object"==typeof se?se.value:se,Rn(xe)?null:xe}(i.limit));let x=null;var se;i.startAt&&(x=new Fo((se=i.startAt).values||[],!!se.before));let U=null;return i.endAt&&(U=function(se){return new Fo(se.values||[],!se.before)}(i.endAt)),function qi(c,n,i,s,u,p,v,R){return new Hi(c,n,i,s,u,p,v,R)}(n,u,v,p,R,"F",x,U)}function _a(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ha(i.unaryFilter.field);return Wr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Ha(i.unaryFilter.field);return Wr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Ha(i.unaryFilter.field);return Wr.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Ha(i.unaryFilter.field);return Wr.create(v,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}}(c):void 0!==c.fieldFilter?Wr.create(Ha((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return Br.create(i.compositeFilter.filters.map(s=>_a(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ht(1026)}}(i.compositeFilter.op))}(c):ht(30097,{filter:c});var i}function Ig(c){return Hy[c]}function lu(c){return Eg[c]}function Tg(c){return oh[c]}function bc(c){return{fieldPath:c.canonicalString()}}function Ha(c){return Qn.fromServerFormat(c.fieldPath)}function du(c){return c instanceof Wr?function(i){if("=="===i.op){if(yo(i.value))return{unaryFilter:{field:bc(i.field),op:"IS_NAN"}};if(ii(i.value))return{unaryFilter:{field:bc(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(yo(i.value))return{unaryFilter:{field:bc(i.field),op:"IS_NOT_NAN"}};if(ii(i.value))return{unaryFilter:{field:bc(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(i.field),op:lu(i.op),value:i.value}}}(c):c instanceof Br?function(i){const s=i.getFilters().map(u=>du(u));return 1===s.length?s[0]:{compositeFilter:{op:Tg(i.op),filters:s}}}(c):ht(54877,{filter:c})}function Qu(c){const n=[];return c.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function jl(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class tc{constructor(n,i,s,u,p=sn.min(),v=sn.min(),R=ji.EMPTY_BYTE_STRING,x=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=R,this.expectedCount=x}withSequenceNumber(n){return new tc(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class $l{constructor(n){this.wt=n}}function rc(c){const n=Cf({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?Nn(n,n.limit,"L"):n}class Dc{constructor(){}vt(n,i){this.Ct(n,i),i.Ft()}Ct(n,i){if("nullValue"in n)this.Mt(i,5);else if("booleanValue"in n)this.Mt(i,10),i.xt(n.booleanValue?1:0);else if("integerValue"in n)this.Mt(i,15),i.xt(Fr(n.integerValue));else if("doubleValue"in n){const s=Fr(n.doubleValue);isNaN(s)?this.Mt(i,13):(this.Mt(i,15),mr(s)?i.xt(0):i.xt(s))}else if("timestampValue"in n){let s=n.timestampValue;this.Mt(i,20),"string"==typeof s&&(s=Oo(s)),i.Ot(`${s.seconds||""}`),i.xt(s.nanos||0)}else if("stringValue"in n)this.Nt(n.stringValue,i),this.Bt(i);else if("bytesValue"in n)this.Mt(i,30),i.Lt(vr(n.bytesValue)),this.Bt(i);else if("referenceValue"in n)this.kt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.Mt(i,45),i.xt(s.latitude||0),i.xt(s.longitude||0)}else"mapValue"in n?Da(n)?this.Mt(i,Number.MAX_SAFE_INTEGER):gs(n)?this.qt(n.mapValue,i):(this.Qt(n.mapValue,i),this.Bt(i)):"arrayValue"in n?(this.$t(n.arrayValue,i),this.Bt(i)):ht(19022,{Ut:n})}Nt(n,i){this.Mt(i,25),this.Kt(n,i)}Kt(n,i){i.Ot(n)}Qt(n,i){const s=n.fields||{};this.Mt(i,55);for(const u of Object.keys(s))this.Nt(u,i),this.Ct(s[u],i)}qt(n,i){var s,u;const p=n.fields||{};this.Mt(i,53);const v=pn,R=(null===(u=null===(s=p[v].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.Mt(i,15),i.xt(Fr(R)),this.Nt(v,i),this.Ct(p[v],i)}$t(n,i){const s=n.values||[];this.Mt(i,50);for(const u of s)this.Ct(u,i)}kt(n,i){this.Mt(i,37),qt.fromName(n).path.forEach(s=>{this.Mt(i,60),this.Kt(s,i)})}Mt(n,i){n.xt(i)}Bt(n){n.xt(2)}}Dc.Wt=new Dc;class tl{constructor(){this.Cn=new dh}addToCollectionParentIndex(n,i){return this.Cn.add(i),Ve.resolve()}getCollectionParents(n,i){return Ve.resolve(this.Cn.getEntries(i))}addFieldIndex(n,i){return Ve.resolve()}deleteFieldIndex(n,i){return Ve.resolve()}deleteAllFieldIndexes(n){return Ve.resolve()}createTargetIndexes(n,i){return Ve.resolve()}getDocumentsMatchingTarget(n,i){return Ve.resolve(null)}getIndexType(n,i){return Ve.resolve(0)}getFieldIndexes(n,i){return Ve.resolve([])}getNextCollectionGroupToUpdate(n){return Ve.resolve(null)}getMinOffset(n,i){return Ve.resolve(hr.min())}getMinOffsetFromCollectionGroup(n,i){return Ve.resolve(hr.min())}updateCollectionGroup(n,i,s){return Ve.resolve()}updateIndexEntries(n,i){return Ve.resolve()}}class dh{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new Jr(lt.comparator),p=!u.has(s);return this.index[i]=u.add(s),p}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new Jr(lt.comparator)).toArray()}}new Uint8Array(0);const Ff={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class es{static withCacheSize(n){return new es(n,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(41943040,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);class Wc{constructor(n){this.ur=n}next(){return this.ur+=2,this.ur}static cr(){return new Wc(0)}static lr(){return new Wc(-1)}}const Zl="LruGarbageCollector";function uc([c,n],[i,s]){const u=Qt(c,i);return 0===u?Qt(n,s):u}class Gc{constructor(n){this.Er=n,this.buffer=new Jr(uc),this.dr=0}Ar(){return++this.dr}Rr(n){const i=[n,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();uc(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Uo{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(n){var i=this;ct(Zl,`Garbage collection scheduled in ${n}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,T.A)(function*(){i.Vr=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){Tr(s)?ct(Zl,"Ignoring IndexedDB error during garbage collection: ",s):yield Gn(s)}yield i.mr(3e5)}))}}class bg{constructor(n,i){this.gr=n,this.params=i}calculateTargetCount(n,i){return this.gr.pr(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return Ve.resolve(Je.le);const s=new Gc(i);return this.gr.forEachTarget(n,u=>s.Rr(u.sequenceNumber)).next(()=>this.gr.yr(n,u=>s.Rr(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.gr.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.gr.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(Ff)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ff):this.wr(n,i))}getCacheSize(n){return this.gr.getCacheSize(n)}wr(n,i){let s,u,p,v,R,x,U;const X=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(se=>(se>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${se}`),u=this.params.maximumSequenceNumbersToCollect):u=se,v=Date.now(),this.nthSequenceNumber(n,u))).next(se=>(s=se,R=Date.now(),this.removeTargets(n,s,i))).next(se=>(p=se,x=Date.now(),this.removeOrphanedDocuments(n,s))).next(se=>(U=Date.now(),Gt()<=I.$b.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-X}ms\n\tDetermined least recently used ${u} in `+(R-v)+`ms\n\tRemoved ${p} targets in `+(x-R)+`ms\n\tRemoved ${se} documents in `+(U-x)+`ms\nTotal Duration: ${U-X}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:se})))}}class mh{constructor(){this.changes=new Ai(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,hi.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?Ve.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Bt{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class mn{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&Ti(s.mutation,u,xo.empty(),fr.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,f()).next(()=>s))}getLocalViewOfDocuments(n,i,s=f()){const u=A();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(p=>{let v=Jo();return p.forEach((R,x)=>{v=v.insert(R,x.overlayedDocument)}),v}))}getOverlayedDocuments(n,i){const s=A();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,f()))}populateOverlays(n,i,s){const u=[];return s.forEach(p=>{i.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(n,u).next(p=>{p.forEach((v,R)=>{i.set(v,R)})})}computeViews(n,i,s,u){let p=to();const v=S(),R=S();return i.forEach((x,U)=>{const X=s.get(U.key);u.has(U.key)&&(void 0===X||X.mutation instanceof kn)?p=p.insert(U.key,U):void 0!==X?(v.set(U.key,X.mutation.getFieldMask()),Ti(X.mutation,U,X.mutation.getFieldMask(),fr.now())):v.set(U.key,xo.empty())}),this.recalculateAndSaveOverlays(n,p).next(x=>(x.forEach((U,X)=>v.set(U,X)),i.forEach((U,X)=>{var se;return R.set(U,new Bt(X,null!==(se=v.get(U))&&void 0!==se?se:null))}),R))}recalculateAndSaveOverlays(n,i){const s=S();let u=new Kr((v,R)=>v-R),p=f();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(v=>{for(const R of v)R.keys().forEach(x=>{const U=i.get(x);if(null===U)return;let X=s.get(x)||xo.empty();X=R.applyToLocalView(U,X),s.set(x,X);const se=(u.get(R.batchId)||f()).add(x);u=u.insert(R.batchId,se)})}).next(()=>{const v=[],R=u.getReverseIterator();for(;R.hasNext();){const x=R.getNext(),U=x.key,X=x.value,se=N();X.forEach(xe=>{if(!p.has(xe)){const Tt=ma(i.get(xe),s.get(xe));null!==Tt&&se.set(xe,Tt),p=p.add(xe)}}),v.push(this.documentOverlayCache.saveOverlays(n,U,se))}return Ve.waitFor(v)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return qt.isDocumentKey((v=i).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Sa(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var v}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(p=>{const v=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-p.size):Ve.resolve(A());let R=-1,x=p;return v.next(U=>Ve.forEach(U,(X,se)=>(R<se.largestBatchId&&(R=se.largestBatchId),p.get(X)?Ve.resolve():this.remoteDocumentCache.getEntry(n,X).next(xe=>{x=x.insert(X,xe)}))).next(()=>this.populateOverlays(n,U,p)).next(()=>this.computeViews(n,x,U,f())).next(X=>({batchId:R,changes:Vs(X)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new qt(i)).next(s=>{let u=Jo();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const p=i.collectionGroup;let v=Jo();return this.indexManager.getCollectionParents(n,p).next(R=>Ve.forEach(R,x=>{const U=(se=i,xe=x.child(p),new Hi(xe,null,se.explicitOrderBy.slice(),se.filters.slice(),se.limit,se.limitType,se.startAt,se.endAt));var se,xe;return this.getDocumentsMatchingCollectionQuery(n,U,s,u).next(X=>{X.forEach((se,xe)=>{v=v.insert(se,xe)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(n,i,s,u){let p;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(v=>(p=v,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,p,u))).next(v=>{p.forEach((x,U)=>{const X=U.getKey();null===v.get(X)&&(v=v.insert(X,hi.newInvalidDocument(X)))});let R=Jo();return v.forEach((x,U)=>{const X=p.get(x);void 0!==X&&Ti(X.mutation,U,xo.empty(),fr.now()),Ra(i,U)&&(R=R.insert(x,U))}),R})}}class $n{constructor(n){this.serializer=n,this.kr=new Map,this.qr=new Map}getBundleMetadata(n,i){return Ve.resolve(this.kr.get(i))}saveBundleMetadata(n,i){return this.kr.set(i.id,{id:(u=i).id,version:u.version,createTime:Vo(u.createTime)}),Ve.resolve();var u}getNamedQuery(n,i){return Ve.resolve(this.qr.get(i))}saveNamedQuery(n,i){return this.qr.set(i.name,{name:(u=i).name,query:rc(u.bundledQuery),readTime:Vo(u.readTime)}),Ve.resolve();var u}}class Wn{constructor(){this.overlays=new Kr(qt.comparator),this.Qr=new Map}getOverlay(n,i){return Ve.resolve(this.overlays.get(i))}getOverlays(n,i){const s=A();return Ve.forEach(i,u=>this.getOverlay(n,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,p)=>{this.bt(n,i,p)}),Ve.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.Qr.get(s);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.Qr.delete(s)),Ve.resolve()}getOverlaysForCollection(n,i,s){const u=A(),p=i.length+1,v=new qt(i.child("")),R=this.overlays.getIteratorFrom(v);for(;R.hasNext();){const x=R.getNext().value,U=x.getKey();if(!i.isPrefixOf(U.path))break;U.path.length===p&&x.largestBatchId>s&&u.set(x.getKey(),x)}return Ve.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let p=new Kr((U,X)=>U-X);const v=this.overlays.getIterator();for(;v.hasNext();){const U=v.getNext().value;if(U.getKey().getCollectionGroup()===i&&U.largestBatchId>s){let X=p.get(U.largestBatchId);null===X&&(X=A(),p=p.insert(U.largestBatchId,X)),X.set(U.getKey(),U)}}const R=A(),x=p.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((U,X)=>R.set(U,X)),!(R.size()>=u)););return Ve.resolve(R)}bt(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const v=this.Qr.get(u.largestBatchId).delete(s.key);this.Qr.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new Ni(i,s));let p=this.Qr.get(i);void 0===p&&(p=f(),this.Qr.set(i,p)),this.Qr.set(i,p.add(s.key))}}class Rr{constructor(){this.sessionToken=ji.EMPTY_BYTE_STRING}getSessionToken(n){return Ve.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,Ve.resolve()}}class Ro{constructor(){this.$r=new Jr(no.Ur),this.Kr=new Jr(no.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(n,i){const s=new no(n,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.zr(new no(n,i))}jr(n,i){n.forEach(s=>this.removeReference(s,i))}Hr(n){const i=new qt(new lt([])),s=new no(i,n),u=new no(i,n+1),p=[];return this.Kr.forEachInRange([s,u],v=>{this.zr(v),p.push(v.key)}),p}Jr(){this.$r.forEach(n=>this.zr(n))}zr(n){this.$r=this.$r.delete(n),this.Kr=this.Kr.delete(n)}Yr(n){const i=new qt(new lt([])),s=new no(i,n),u=new no(i,n+1);let p=f();return this.Kr.forEachInRange([s,u],v=>{p=p.add(v.key)}),p}containsKey(n){const i=new no(n,0),s=this.$r.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class no{constructor(n,i){this.key=n,this.Zr=i}static Ur(n,i){return qt.comparator(n.key,i.key)||Qt(n.Zr,i.Zr)}static Wr(n,i){return Qt(n.Zr,i.Zr)||qt.comparator(n.key,i.key)}}class Kc{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Jr(no.Ur)}checkEmpty(n){return Ve.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const p=this.nr;this.nr++;const v=new So(p,i,s,u);this.mutationQueue.push(v);for(const R of u)this.Xr=this.Xr.add(new no(R.key,p)),this.indexManager.addToCollectionParentIndex(n,R.key.path.popLast());return Ve.resolve(v)}lookupMutationBatch(n,i){return Ve.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.ti(i+1),p=u<0?0:u;return Ve.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(0===this.mutationQueue.length?-1:this.nr-1)}getAllMutationBatches(n){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new no(i,0),u=new no(i,Number.POSITIVE_INFINITY),p=[];return this.Xr.forEachInRange([s,u],v=>{const R=this.ei(v.Zr);p.push(R)}),Ve.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Jr(Qt);return i.forEach(u=>{const p=new no(u,0),v=new no(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([p,v],R=>{s=s.add(R.Zr)})}),Ve.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let p=s;qt.isDocumentKey(p)||(p=p.child(""));const v=new no(new qt(p),0);let R=new Jr(Qt);return this.Xr.forEachWhile(x=>{const U=x.key.path;return!!s.isPrefixOf(U)&&(U.length===u&&(R=R.add(x.Zr)),!0)},v),Ve.resolve(this.ni(R))}ni(n){const i=[];return n.forEach(s=>{const u=this.ei(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){Ye(0===this.ri(i.batchId,"removed"),55003),this.mutationQueue.shift();let s=this.Xr;return Ve.forEach(i.mutations,u=>{const p=new no(u.key,i.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.Xr=s})}sr(n){}containsKey(n,i){const s=new no(i,0),u=this.Xr.firstAfterOrEqual(s);return Ve.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return Ve.resolve()}ri(n,i){return this.ti(n)}ti(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}ei(n){const i=this.ti(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ed{constructor(n){this.ii=n,this.docs=new Kr(qt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),p=u?u.size:0,v=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:v}),this.size+=v-p,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return Ve.resolve(s?s.document.mutableCopy():hi.newInvalidDocument(i))}getEntries(n,i){let s=to();return i.forEach(u=>{const p=this.docs.get(u);s=s.insert(u,p?p.document.mutableCopy():hi.newInvalidDocument(u))}),Ve.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let p=to();const v=i.path,R=new qt(v.child("__id-9223372036854775808__")),x=this.docs.getIteratorFrom(R);for(;x.hasNext();){const{key:U,value:{document:X}}=x.getNext();if(!v.isPrefixOf(U.path))break;U.path.length>v.length+1||Cn(new hr((c=X).readTime,c.key,-1),s)<=0||(u.has(X.key)||Ra(i,X))&&(p=p.insert(X.key,X.mutableCopy()))}var c;return Ve.resolve(p)}getAllFromCollectionGroup(n,i,s,u){ht(9500)}si(n,i){return Ve.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new vs(this)}getSize(n){return Ve.resolve(this.size)}}class vs extends mh{constructor(n){super(),this.Br=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(n,u)):this.Br.removeEntry(s)}),Ve.waitFor(i)}getFromCache(n,i){return this.Br.getEntry(n,i)}getAllFromCache(n,i){return this.Br.getEntries(n,i)}}class Dg{constructor(n){this.persistence=n,this.oi=new Ai(i=>k(i),H),this.lastRemoteSnapshotVersion=sn.min(),this.highestTargetId=0,this._i=0,this.ai=new Ro,this.targetCount=0,this.ui=Wc.cr()}forEachTarget(n,i){return this.oi.forEach((s,u)=>i(u)),Ve.resolve()}getLastRemoteSnapshotVersion(n){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Ve.resolve(this._i)}allocateTargetId(n){return this.highestTargetId=this.ui.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),Ve.resolve()}Tr(n){this.oi.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.ui=new Wc(i),this.highestTargetId=i),n.sequenceNumber>this._i&&(this._i=n.sequenceNumber)}addTargetData(n,i){return this.Tr(i),this.targetCount+=1,Ve.resolve()}updateTargetData(n,i){return this.Tr(i),Ve.resolve()}removeTargetData(n,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(n,i,s){let u=0;const p=[];return this.oi.forEach((v,R)=>{R.sequenceNumber<=i&&null===s.get(R.targetId)&&(this.oi.delete(v),p.push(this.removeMatchingKeysForTargetId(n,R.targetId)),u++)}),Ve.waitFor(p).next(()=>u)}getTargetCount(n){return Ve.resolve(this.targetCount)}getTargetData(n,i){const s=this.oi.get(i)||null;return Ve.resolve(s)}addMatchingKeys(n,i,s){return this.ai.Gr(i,s),Ve.resolve()}removeMatchingKeys(n,i,s){this.ai.jr(i,s);const u=this.persistence.referenceDelegate,p=[];return u&&i.forEach(v=>{p.push(u.markPotentiallyOrphaned(n,v))}),Ve.waitFor(p)}removeMatchingKeysForTargetId(n,i){return this.ai.Hr(i),Ve.resolve()}getMatchingKeysForTargetId(n,i){const s=this.ai.Yr(i);return Ve.resolve(s)}containsKey(n,i){return Ve.resolve(this.ai.containsKey(i))}}class nl{constructor(n,i){this.ci={},this.overlays={},this.li=new Je(0),this.hi=!1,this.hi=!0,this.Pi=new Rr,this.referenceDelegate=n(this),this.Ti=new Dg(this),this.indexManager=new tl,this.remoteDocumentCache=new ed(s=>this.referenceDelegate.Ii(s)),this.serializer=new $l(i),this.Ei=new $n(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new Wn,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.ci[n.toKey()];return s||(s=new Kc(i,this.referenceDelegate),this.ci[n.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(n,i,s){ct("MemoryPersistence","Starting transaction:",n);const u=new Ag(this.li.next());return this.referenceDelegate.di(),s(u).next(p=>this.referenceDelegate.Ai(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Ri(n,i){return Ve.or(Object.values(this.ci).map(s=>()=>s.containsKey(n,i)))}}class Ag extends xr{constructor(n){super(),this.currentSequenceNumber=n}}class _u{constructor(n){this.persistence=n,this.Vi=new Ro,this.mi=null}static fi(n){return new _u(n)}get gi(){if(this.mi)return this.mi;throw ht(60996)}addReference(n,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),Ve.resolve()}removeReference(n,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),Ve.resolve()}markPotentiallyOrphaned(n,i){return this.gi.add(i.toString()),Ve.resolve()}removeTarget(n,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(p=>this.gi.add(p.toString()))}).next(()=>s.removeTargetData(n,i))}di(){this.mi=new Set}Ai(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.gi,s=>{const u=qt.fromPath(s);return this.pi(n,u).next(p=>{p||i.removeEntry(u,sn.min())})}).next(()=>(this.mi=null,i.apply(n)))}updateLimboDocument(n,i){return this.pi(n,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(n){return 0}pi(n,i){return Ve.or([()=>Ve.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Ri(n,i)])}}class Us{constructor(n,i){this.persistence=n,this.yi=new Ai(s=>function Ce(c){let n="";for(let i=0;i<c.length;i++)n.length>0&&(n=bt(n)),n=dt(c.get(i),n);return bt(n)}(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=function Yl(c,n){return new bg(c,n)}(this,i)}static fi(n,i){return new Us(n,i)}di(){}Ai(n){return Ve.resolve()}forEachTarget(n,i){return this.persistence.getTargetCache().forEachTarget(n,i)}pr(n){const i=this.Sr(n);return this.persistence.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}Sr(n){let i=0;return this.yr(n,s=>{i++}).next(()=>i)}yr(n,i){return Ve.forEach(this.yi,(s,u)=>this.Dr(n,s,u).next(p=>p?Ve.resolve():i(u)))}removeTargets(n,i,s){return this.persistence.getTargetCache().removeTargets(n,i,s)}removeOrphanedDocuments(n,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),p=u.newChangeBuffer();return u.si(n,v=>this.Dr(n,v,i).next(R=>{R||(s++,p.removeEntry(v,sn.min()))})).next(()=>p.apply(n)).next(()=>s)}markPotentiallyOrphaned(n,i){return this.yi.set(i,n.currentSequenceNumber),Ve.resolve()}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,s)}addReference(n,i,s){return this.yi.set(s,n.currentSequenceNumber),Ve.resolve()}removeReference(n,i,s){return this.yi.set(s,n.currentSequenceNumber),Ve.resolve()}updateLimboDocument(n,i){return this.yi.set(i,n.currentSequenceNumber),Ve.resolve()}Ii(n){let i=n.key.toString().length;return n.isFoundDocument()&&(i+=uo(n.data.value)),i}Dr(n,i,s){return Ve.or([()=>this.persistence.Ri(n,i),()=>this.persistence.getTargetCache().containsKey(n,i),()=>{const u=this.yi.get(i);return Ve.resolve(void 0!==u&&u>s)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}class il{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.ds=s,this.As=u}static Rs(n,i){let s=f(),u=f();for(const p of i.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new il(n,i.fromCache,s,u)}}class Ky{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Cg{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(0,Se.nr)()?8:function Vi(c){const n=c.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}((0,Se.ZQ)())>0?6:4}initialize(n,i){this.ys=n,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(n,i,s,u){const p={result:null};return this.ws(n,i).next(v=>{p.result=v}).next(()=>{if(!p.result)return this.Ss(n,i,u,s).next(v=>{p.result=v})}).next(()=>{if(p.result)return;const v=new Ky;return this.bs(n,i,v).next(R=>{if(p.result=R,this.fs)return this.Ds(n,i,v,R.size)})}).next(()=>p.result)}Ds(n,i,s,u){return s.documentReadCount<this.gs?(Gt()<=I.$b.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",_s(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ve.resolve()):(Gt()<=I.$b.DEBUG&&ct("QueryEngine","Query:",_s(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ps*u?(Gt()<=I.$b.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",_s(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Ao(i))):Ve.resolve())}ws(n,i){if(Qs(i))return Ve.resolve(null);let s=Ao(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=Nn(i,null,"F"),s=Ao(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(p=>{const v=f(...p);return this.ys.getDocuments(n,v).next(R=>this.indexManager.getMinOffset(n,s).next(x=>{const U=this.vs(i,R);return this.Cs(i,U,v,x.readTime)?this.ws(n,Nn(i,null,"F")):this.Fs(n,U,i,x)}))})))}Ss(n,i,s,u){return Qs(i)||u.isEqual(sn.min())?Ve.resolve(null):this.ys.getDocuments(n,s).next(p=>{const v=this.vs(i,p);return this.Cs(i,v,s,u)?Ve.resolve(null):(Gt()<=I.$b.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),_s(i)),this.Fs(n,v,i,function sr(c,n){const i=c.toTimestamp().seconds,s=c.toTimestamp().nanoseconds+1,u=sn.fromTimestamp(1e9===s?new fr(i+1,0):new fr(i,s));return new hr(u,qt.empty(),n)}(u,-1)).next(R=>R))})}vs(n,i){let s=new Jr(zi(n));return i.forEach((u,p)=>{Ra(n,p)&&(s=s.add(p))}),s}Cs(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const p="F"===n.limitType?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}bs(n,i,s){return Gt()<=I.$b.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",_s(i)),this.ys.getDocumentsMatchingQuery(n,i,hr.min(),s)}Fs(n,i,s,u){return this.ys.getDocumentsMatchingQuery(n,s,u).next(p=>(i.forEach(v=>{p=p.insert(v.key,v)}),p))}}const qy="LocalStore";class Hf{constructor(n,i,s,u){this.persistence=n,this.Ms=i,this.serializer=u,this.xs=new Kr(Qt),this.Os=new Ai(p=>k(p),H),this.Ns=new Map,this.Bs=n.getRemoteDocumentCache(),this.Ti=n.getTargetCache(),this.Ei=n.getBundleCache(),this.Ls(s)}Ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new mn(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.xs))}}function _o(c,n){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,T.A)(function*(c,n){const i=Mt(c);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(p=>(u=p,i.Ls(n),i.mutationQueue.getAllMutationBatches(s))).next(p=>{const v=[],R=[];let x=f();for(const U of u){v.push(U.batchId);for(const X of U.mutations)x=x.add(X.key)}for(const U of p){R.push(U.batchId);for(const X of U.mutations)x=x.add(X.key)}return i.localDocuments.getDocuments(s,x).next(U=>({ks:U,removedBatchIds:v,addedBatchIds:R}))})})})).apply(this,arguments)}function Xy(c){const n=Mt(c);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ti.getLastRemoteSnapshotVersion(i))}function Zy(c,n){const i=Mt(c);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function vu(c,n,i){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,T.A)(function*(c,n,i){const s=Mt(c),u=s.xs.get(n),p=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",p,v=>s.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!Tr(v))throw v;ct(qy,`Failed to update sequence numbers for target ${n}: ${v}`)}s.xs=s.xs.remove(n),s.Os.delete(u.target)})).apply(this,arguments)}function Wf(c,n,i){const s=Mt(c);let u=sn.min(),p=f();return s.persistence.runTransaction("Execute query","readwrite",v=>function(x,U,X){const se=Mt(x),xe=se.Os.get(X);return void 0!==xe?Ve.resolve(se.xs.get(xe)):se.Ti.getTargetData(U,X)}(s,v,Ao(n)).next(R=>{if(R)return u=R.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(v,R.targetId).next(x=>{p=x})}).next(()=>s.Ms.getDocumentsMatchingQuery(v,n,i?u:sn.min(),i?p:f())).next(R=>(function dc(c,n,i){let s=c.Ns.get(n)||sn.min();i.forEach((u,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),c.Ns.set(n,s)}(s,function Ua(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}(n),R),{documents:R,$s:p})))}class qf{constructor(){this.activeTargetIds=function M(){return E}()}js(n){this.activeTargetIds=this.activeTargetIds.add(n)}Hs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}zs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class r_{constructor(){this.xo=new qf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n,i=!0){return i&&this.xo.js(n),this.Oo[n]||"not-current"}updateQueryState(n,i,s){this.Oo[n]=i}removeLocalQueryTarget(n){this.xo.Hs(n)}isLocalQueryTarget(n){return this.xo.activeTargetIds.has(n)}clearQueryState(n){delete this.Oo[n]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(n){return this.xo.activeTargetIds.has(n)}start(){return this.xo=new qf,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class vh{No(n){}shutdown(){}}const i_="ConnectivityMonitor";class Qf{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(n){this.Qo.push(n)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ct(i_,"Network connectivity changed: AVAILABLE");for(const n of this.Qo)n(0)}qo(){ct(i_,"Network connectivity changed: UNAVAILABLE");for(const n of this.Qo)n(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Eh=null;function cl(){return null===Eh?Eh=268435456+Math.round(2147483648*Math.random()):Eh++,"0x"+Eh.toString(16)}const ul="RestConnection",o_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xf{get Uo(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+n.host,this.Wo=`projects/${s}/databases/${u}`,this.Go=this.databaseId.database===Te?`project_id=${s}`:`project_id=${s}&database_id=${u}`}zo(n,i,s,u,p){const v=cl(),R=this.jo(n,i.toUriEncodedString());ct(ul,`Sending RPC '${n}' ${v}:`,R,s);const x={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(x,u,p);const{host:U}=new URL(R),X=(0,Se.zJ)(U);return this.Jo(n,R,x,s,X).then(se=>(ct(ul,`Received RPC '${n}' ${v}: `,se),se),se=>{throw Mn(ul,`RPC '${n}' ${v} failed with error: `,se,"url: ",R,"request:",s),se})}Yo(n,i,s,u,p,v){return this.zo(n,i,s,u,p)}Ho(n,i,s){n["X-Goog-Api-Client"]="gl-js/ fire/"+Ze,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,p)=>n[p]=u),s&&s.headers.forEach((u,p)=>n[p]=u)}jo(n,i){return`${this.Ko}/v1/${i}:${o_[n]}`}terminate(){}}class Zf{constructor(n){this.Zo=n.Zo,this.Xo=n.Xo}e_(n){this.t_=n}n_(n){this.r_=n}i_(n){this.s_=n}onMessage(n){this.o_=n}close(){this.Xo()}send(n){this.Zo(n)}__(){this.t_()}a_(){this.r_()}u_(n){this.s_(n)}c_(n){this.o_(n)}}const Js="WebChannelConnection";class RE extends Xf{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,i,s,u,p){const v=cl();return new Promise((R,x)=>{const U=new et;U.setWithCredentials(!0),U.listenOnce(At.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case jt.NO_ERROR:const se=U.getResponseJson();ct(Js,`XHR for RPC '${n}' ${v} received:`,JSON.stringify(se)),R(se);break;case jt.TIMEOUT:ct(Js,`RPC '${n}' ${v} timed out`),x(new Y(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case jt.HTTP_ERROR:const xe=U.getStatus();if(ct(Js,`RPC '${n}' ${v} failed with status:`,xe,"response text:",U.getResponseText()),xe>0){let Tt=U.getResponseJson();Array.isArray(Tt)&&(Tt=Tt[0]);const $t=Tt?.error;if($t&&$t.status&&$t.message){const ln=function(er){const or=er.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(or)>=0?or:Ke.UNKNOWN}($t.status);x(new Y(ln,$t.message))}else x(new Y(Ke.UNKNOWN,"Server responded with status "+U.getStatus()))}else x(new Y(Ke.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:n,streamId:v,h_:U.getLastErrorCode(),P_:U.getLastError()})}}finally{ct(Js,`RPC '${n}' ${v} completed.`)}});const X=JSON.stringify(u);ct(Js,`RPC '${n}' ${v} sending request:`,u),U.send(i,"POST",X,s,15)})}T_(n,i,s){const u=cl(),p=[this.Ko,"/","google.firestore.v1.Firestore","/",n,"/channel"],v=Et(),R=mt(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(x.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(x.useFetchStreams=!0),this.Ho(x.initMessageHeaders,i,s),x.encodeInitMessageHeaders=!0;const X=p.join("");ct(Js,`Creating RPC '${n}' stream ${u}: ${X}`,x);const se=v.createWebChannel(X,x);let xe=!1,Tt=!1;const $t=new Zf({Zo:rn=>{Tt?ct(Js,`Not sending because RPC '${n}' stream ${u} is closed:`,rn):(xe||(ct(Js,`Opening RPC '${n}' stream ${u} transport.`),se.open(),xe=!0),ct(Js,`RPC '${n}' stream ${u} sending:`,rn),se.send(rn))},Xo:()=>se.close()}),ln=(rn,er,or)=>{rn.listen(er,xn=>{try{or(xn)}catch(Vr){setTimeout(()=>{throw Vr},0)}})};return ln(se,ot.EventType.OPEN,()=>{Tt||(ct(Js,`RPC '${n}' stream ${u} transport opened.`),$t.__())}),ln(se,ot.EventType.CLOSE,()=>{Tt||(Tt=!0,ct(Js,`RPC '${n}' stream ${u} transport closed`),$t.u_())}),ln(se,ot.EventType.ERROR,rn=>{Tt||(Tt=!0,Mn(Js,`RPC '${n}' stream ${u} transport errored. Name:`,rn.name,"Message:",rn.message),$t.u_(new Y(Ke.UNAVAILABLE,"The operation could not be completed")))}),ln(se,ot.EventType.MESSAGE,rn=>{var er;if(!Tt){const or=rn.data[0];Ye(!!or,16349);const xn=or,Vr=xn?.error||(null===(er=xn[0])||void 0===er?void 0:er.error);if(Vr){ct(Js,`RPC '${n}' stream ${u} received error:`,Vr);const Li=Vr.status;let ui=function(ze){const at=Qr[ze];if(void 0!==at)return ja(at)}(Li),st=Vr.message;void 0===ui&&(ui=Ke.INTERNAL,st="Unknown error status: "+Li+" with message "+Vr.message),Tt=!0,$t.u_(new Y(ui,st)),se.close()}else ct(Js,`RPC '${n}' stream ${u} received:`,or),$t.c_(or)}}),ln(R,Zt.STAT_EVENT,rn=>{rn.stat===Vt.PROXY?ct(Js,`RPC '${n}' stream ${u} detected buffering proxy`):rn.stat===Vt.NOPROXY&&ct(Js,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{$t.a_()},0),$t}}function wh(){return typeof document<"u"?document:null}function ll(c){return new Tf(c,!0)}class Og{constructor(n,i,s=1e3,u=1.5,p=6e4){this.xi=n,this.timerId=i,this.I_=s,this.E_=u,this.d_=p,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(n){this.cancel();const i=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-s);u>0&&ct("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),n())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){null!==this.R_&&(this.R_.skipDelay(),this.R_=null)}cancel(){null!==this.R_&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}const a_="PersistentStream";class ca{constructor(n,i,s,u,p,v,R,x){this.xi=n,this.y_=s,this.w_=u,this.connection=p,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=R,this.listener=x,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Og(n,i)}F_(){return 1===this.state||5===this.state||this.M_()}M_(){return 2===this.state||3===this.state}start(){this.v_=0,4!==this.state?this.auth():this.x_()}stop(){var n=this;return(0,T.A)(function*(){n.F_()&&(yield n.close(0))})()}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&null===this.b_&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(n){this.k_(),this.stream.send(n)}B_(){var n=this;return(0,T.A)(function*(){if(n.M_())return n.close(0)})()}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(n,i){var s=this;return(0,T.A)(function*(){s.k_(),s.q_(),s.C_.cancel(),s.S_++,4!==n?s.C_.reset():i&&i.code===Ke.RESOURCE_EXHAUSTED?(Un(i.toString()),Un("Using maximum backoff delay to prevent overloading the backend."),s.C_.m_()):i&&i.code===Ke.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Q_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.i_(i)})()}Q_(){}auth(){this.state=1;const n=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.S_===i&&this.K_(s,u)},s=>{n(()=>{const u=new Y(Ke.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(u)})})}K_(n,i){const s=this.U_(this.S_);this.stream=this.G_(n,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{s(()=>this.W_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.v_?this.z_(u):this.onNext(u))})}x_(){var n=this;this.state=5,this.C_.f_((0,T.A)(function*(){n.state=0,n.start()}))}W_(n){return ct(a_,`close with error: ${n}`),this.stream=null,this.close(4,n)}U_(n){return i=>{this.xi.enqueueAndForget(()=>this.S_===n?i():(ct(a_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fg extends ca{constructor(n,i,s,u,p,v){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,v),this.serializer=p}G_(n,i){return this.connection.T_("Listen",n,i)}z_(n){return this.onNext(n)}onNext(n){this.C_.reset();const i=function Af(c,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(U=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:ht(39313,{state:U}),u=n.targetChange.targetIds||[],p=function(U,X){return U.useProto3Json?(Ye(void 0===X||"string"==typeof X,58123),ji.fromBase64String(X||"")):(Ye(void 0===X||X instanceof Buffer||X instanceof Uint8Array,16193),ji.fromUint8Array(X||new Uint8Array))}(c,n.targetChange.resumeToken),v=n.targetChange.cause,R=v&&function(U){const X=void 0===U.code?Ke.UNKNOWN:ja(U.code);return new Y(X,U.message||"")}(v);i=new If(s,u,p,R||null)}else if("documentChange"in n){const s=n.documentChange,u=sa(c,s.document.name),p=Vo(s.document.updateTime),v=s.document.createTime?Vo(s.document.createTime):sn.min(),R=new oo({mapValue:{fields:s.document.fields}}),x=hi.newFoundDocument(u,p,v,R);i=new Ic(s.targetIds||[],s.removedTargetIds||[],x.key,x)}else if("documentDelete"in n){const s=n.documentDelete,u=sa(c,s.document),p=s.readTime?Vo(s.readTime):sn.min(),v=hi.newNoDocument(u,p);i=new Ic([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in n){const s=n.documentRemove,u=sa(c,s.document);i=new Ic([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return ht(11601,{Vt:n});{const s=n.filter,{count:u=0,unchangedNames:p}=s,v=new Gu(u,p);i=new xl(s.targetId,v)}}var U;return i}(this.serializer,n),s=function(p){if(!("targetChange"in p))return sn.min();const v=p.targetChange;return v.targetIds&&v.targetIds.length?sn.min():v.readTime?Vo(v.readTime):sn.min()}(n);return this.listener.j_(i,s)}H_(n){const i={};i.database=aa(this.serializer),i.addTarget=function(p,v){let R;const x=v.target;if(R=Ae(x)?{documents:Uc(p,x)}:{query:Rs(p,x).gt},R.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){R.resumeToken=Ll(p,v.resumeToken);const U=Ma(p,v.expectedCount);null!==U&&(R.expectedCount=U)}else if(v.snapshotVersion.compareTo(sn.min())>0){R.readTime=Ku(p,v.snapshotVersion.toTimestamp());const U=Ma(p,v.expectedCount);null!==U&&(R.expectedCount=U)}return R}(this.serializer,n);const s=function Zs(c,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:u})}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.L_(i)}J_(n){const i={};i.database=aa(this.serializer),i.removeTarget=n,this.L_(i)}}class c_ extends ca{constructor(n,i,s,u,p,v){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,v),this.serializer=p}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(n,i){return this.connection.T_("Write",n,i)}z_(n){return Ye(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,Ye(!n.writeResults||0===n.writeResults.length,55816),this.listener.X_()}onNext(n){Ye(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.C_.reset();const i=function wg(c,n){return c&&c.length>0?(Ye(void 0!==n,14353),c.map(i=>function(u,p){let v=Vo(u.updateTime?u.updateTime:p);return v.isEqual(sn.min())&&(v=Vo(p)),new ga(v,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=Vo(n.commitTime);return this.listener.ea(s,i)}ta(){const n={};n.database=aa(this.serializer),this.L_(n)}Z_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>function Bl(c,n){let i;if(n instanceof Ba)i={update:Vl(c,n.key,n.value)};else if(n instanceof ei)i={delete:Tc(c,n.key)};else if(n instanceof kn)i={update:Vl(c,n.key,n.data),updateMask:Qu(n.fieldMask)};else{if(!(n instanceof Ss))return ht(16599,{ft:n.type});i={verify:Tc(c,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(p,v){const R=v.transform;if(R instanceof Yn)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof zn)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof ur)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Co)return{fieldPath:v.field.canonicalString(),increment:R.Re};throw ht(20930,{transform:v.transform})}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(p=n.precondition).updateTime?{updateTime:zy(c,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:ht(27497)),i;var p}(this.serializer,s))};this.L_(i)}}class Lg{}class Ea extends Lg{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.na=!1}ra(){if(this.na)throw new Y(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}zo(n,i,s,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,v])=>this.connection.zo(n,Pt(i,s),u,p,v)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Y(Ke.UNKNOWN,p.toString())})}Yo(n,i,s,u,p){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,R])=>this.connection.Yo(n,Pt(i,s),u,v,R,p)).catch(v=>{throw"FirebaseError"===v.name?(v.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new Y(Ke.UNKNOWN,v.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Ih{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){0===this.ia&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(n){"Online"===this.state?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.aa("Offline")))}set(n){this.la(),this.ia=0,"Online"===n&&(this.oa=!1),this.aa(n)}aa(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ua(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Un(i),this.oa=!1):ct("OnlineStateTracker",i)}la(){null!==this.sa&&(this.sa.cancel(),this.sa=null)}}const Zc="RemoteStore";class u_{constructor(n,i,s,u,p){var v=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=p,this.Ea.No(R=>{s.enqueueAndForget((0,T.A)(function*(){var x;Yc(v)&&(ct(Zc,"Restarting streams for network reachability change."),yield(x=(0,T.A)(function*(X){const se=Mt(X);se.Ta.add(4),yield nd(se),se.da.set("Unknown"),se.Ta.delete(4),yield Th(se)}),function U(X){return x.apply(this,arguments)})(v))}))}),this.da=new Ih(s,u)}}function Th(c){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,T.A)(function*(c){if(Yc(c))for(const n of c.Ia)yield n(!0)})).apply(this,arguments)}function nd(c){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,T.A)(function*(c){for(const n of c.Ia)yield n(!1)})).apply(this,arguments)}function ep(c,n){const i=Mt(c);i.Pa.has(n.targetId)||(i.Pa.set(n.targetId,n),Bg(i)?Ug(i):id(i).M_()&&Vg(i,n))}function dl(c,n){const i=Mt(c),s=id(i);i.Pa.delete(n),s.M_()&&l_(i,n),0===i.Pa.size&&(s.M_()?s.N_():Yc(i)&&i.da.set("Unknown"))}function Vg(c,n){if(c.Aa.Ke(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(sn.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}id(c).H_(n)}function l_(c,n){c.Aa.Ke(n),id(c).J_(n)}function Ug(c){c.Aa=new Ol({getRemoteKeysForTarget:n=>c.remoteSyncer.getRemoteKeysForTarget(n),Rt:n=>c.Pa.get(n)||null,Pt:()=>c.datastore.serializer.databaseId}),id(c).start(),c.da._a()}function Bg(c){return Yc(c)&&!id(c).F_()&&c.Pa.size>0}function Yc(c){return 0===Mt(c).Ta.size}function jg(c){c.Aa=void 0}function d_(c){return rd.apply(this,arguments)}function rd(){return(rd=(0,T.A)(function*(c){c.da.set("Online")})).apply(this,arguments)}function h_(c){return tp.apply(this,arguments)}function tp(){return(tp=(0,T.A)(function*(c){c.Pa.forEach((n,i)=>{Vg(c,n)})})).apply(this,arguments)}function f_(c,n){return np.apply(this,arguments)}function np(){return(np=(0,T.A)(function*(c,n){jg(c),Bg(c)?(c.da.ca(n),Ug(c)):c.da.set("Unknown")})).apply(this,arguments)}function PE(c,n,i){return $g.apply(this,arguments)}function $g(){return $g=(0,T.A)(function*(c,n,i){if(c.da.set("Online"),n instanceof If&&2===n.state&&n.cause)try{yield(s=(0,T.A)(function*(p,v){const R=v.cause;for(const x of v.targetIds)p.Pa.has(x)&&(yield p.remoteSyncer.rejectListen(x,R),p.Pa.delete(x),p.Aa.removeTarget(x))}),function u(p,v){return s.apply(this,arguments)})(c,n)}catch(s){ct(Zc,"Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield rp(c,s)}else if(n instanceof Ic?c.Aa.Xe(n):n instanceof xl?c.Aa.ot(n):c.Aa.nt(n),!i.isEqual(sn.min()))try{const s=yield Xy(c.localStore);i.compareTo(s)>=0&&(yield function(p,v){const R=p.Aa.It(v);return R.targetChanges.forEach((x,U)=>{if(x.resumeToken.approximateByteSize()>0){const X=p.Pa.get(U);X&&p.Pa.set(U,X.withResumeToken(x.resumeToken,v))}}),R.targetMismatches.forEach((x,U)=>{const X=p.Pa.get(x);if(!X)return;p.Pa.set(x,X.withResumeToken(ji.EMPTY_BYTE_STRING,X.snapshotVersion)),l_(p,x);const se=new tc(X.target,x,U,X.sequenceNumber);Vg(p,se)}),p.remoteSyncer.applyRemoteEvent(R)}(c,i))}catch(s){ct(Zc,"Failed to raise snapshot:",s),yield rp(c,s)}var s}),$g.apply(this,arguments)}function rp(c,n,i){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,T.A)(function*(c,n,i){if(!Tr(n))throw n;c.Ta.add(1),yield nd(c),c.da.set("Offline"),i||(i=()=>Xy(c.localStore)),c.asyncQueue.enqueueRetryable((0,T.A)(function*(){ct(Zc,"Retrying IndexedDB access"),yield i(),c.Ta.delete(1),yield Th(c)}))})).apply(this,arguments)}function p_(c,n){return n().catch(i=>rp(c,i,n))}function hl(c){return zg.apply(this,arguments)}function zg(){return(zg=(0,T.A)(function*(c){const n=Mt(c),i=wa(n);let s=n.ha.length>0?n.ha[n.ha.length-1].batchId:-1;for(;ME(n);)try{const u=yield Zy(n.localStore,s);if(null===u){0===n.ha.length&&i.N_();break}s=u.batchId,NE(n,u)}catch(u){yield rp(n,u)}Wg(n)&&ip(n)})).apply(this,arguments)}function ME(c){return Yc(c)&&c.ha.length<10}function NE(c,n){c.ha.push(n);const i=wa(c);i.M_()&&i.Y_&&i.Z_(n.mutations)}function Wg(c){return Yc(c)&&!wa(c).F_()&&c.ha.length>0}function ip(c){wa(c).start()}function kE(c){return qa.apply(this,arguments)}function qa(){return(qa=(0,T.A)(function*(c){wa(c).ta()})).apply(this,arguments)}function Eu(c){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,T.A)(function*(c){const n=wa(c);for(const i of c.ha)n.Z_(i.mutations)})).apply(this,arguments)}function Kg(c,n,i){return qg.apply(this,arguments)}function qg(){return(qg=(0,T.A)(function*(c,n,i){const s=c.ha.shift(),u=Ho.from(s,n,i);yield p_(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield hl(c)})).apply(this,arguments)}function pT(c,n){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,T.A)(function*(c,n){var i;n&&wa(c).Y_&&(yield(i=(0,T.A)(function*(u,p){if(function lo(c){switch(c){case Ke.OK:return ht(64938);case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0;default:return ht(15467,{code:c})}}(R=p.code)&&R!==Ke.ABORTED){const v=u.ha.shift();wa(u).O_(),yield p_(u,()=>u.remoteSyncer.rejectFailedWrite(v.batchId,p)),yield hl(u)}var R}),function s(u,p){return i.apply(this,arguments)})(c,n)),Wg(c)&&ip(c)}),Qg.apply(this,arguments)}function g_(c,n){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,T.A)(function*(c,n){const i=Mt(c);i.asyncQueue.verifyOperationInProgress(),ct(Zc,"RemoteStore received new credentials");const s=Yc(i);i.Ta.add(3),yield nd(i),s&&i.da.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.Ta.delete(3),yield Th(i)})).apply(this,arguments)}function m_(){return(m_=(0,T.A)(function*(c,n){const i=Mt(c);n?(i.Ta.delete(2),yield Th(i)):n||(i.Ta.add(2),yield nd(i),i.da.set("Unknown"))})).apply(this,arguments)}function id(c){return c.Ra||(c.Ra=function(i,s,u){const p=Mt(i);return p.ra(),new Fg(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(c.datastore,c.asyncQueue,{e_:d_.bind(null,c),n_:h_.bind(null,c),i_:f_.bind(null,c),j_:PE.bind(null,c)}),c.Ia.push(function(){var n=(0,T.A)(function*(i){i?(c.Ra.O_(),Bg(c)?Ug(c):c.da.set("Unknown")):(yield c.Ra.stop(),jg(c))});return function(i){return n.apply(this,arguments)}}())),c.Ra}function wa(c){return c.Va||(c.Va=function(i,s,u){const p=Mt(i);return p.ra(),new c_(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(c.datastore,c.asyncQueue,{e_:()=>Promise.resolve(),n_:kE.bind(null,c),i_:pT.bind(null,c),X_:Eu.bind(null,c),ea:Kg.bind(null,c)}),c.Ia.push(function(){var n=(0,T.A)(function*(i){i?(c.Va.O_(),yield hl(c)):(yield c.Va.stop(),c.ha.length>0&&(ct(Zc,`Stopping write stream with ${c.ha.length} pending writes`),c.ha=[]))});return function(i){return n.apply(this,arguments)}}())),c.Va}class Yg{constructor(n,i,s,u,p){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=p,this.deferred=new le,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,p){const v=Date.now()+s,R=new Yg(n,i,v,u,p);return R.start(s),R}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Y(Ke.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wu(c,n){if(Un("AsyncQueue",`${n}: ${c}`),Tr(c))return new Y(Ke.UNAVAILABLE,`${n}: ${c}`);throw c}class Iu{static emptySet(n){return new Iu(n.comparator)}constructor(n){this.comparator=n?(i,s)=>n(i,s)||qt.comparator(i.key,s.key):(i,s)=>qt.comparator(i.key,s.key),this.keyedMap=Jo(),this.sortedSet=new Kr(this.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof Iu)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new Iu;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class op{constructor(){this.ma=new Kr(qt.comparator)}track(n){const i=n.doc.key,s=this.ma.get(i);s?0!==n.type&&3===s.type?this.ma=this.ma.insert(i,n):3===n.type&&1!==s.type?this.ma=this.ma.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.ma=this.ma.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.ma=this.ma.remove(i):1===n.type&&2===s.type?this.ma=this.ma.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):ht(63341,{Vt:n,fa:s}):this.ma=this.ma.insert(i,n)}ga(){const n=[];return this.ma.inorderTraversal((i,s)=>{n.push(s)}),n}}class fl{constructor(n,i,s,u,p,v,R,x,U){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=p,this.fromCache=v,this.syncStateChanged=R,this.excludesMetadataChanges=x,this.hasCachedResults=U}static fromInitialDocuments(n,i,s,u,p){const v=[];return i.forEach(R=>{v.push({type:0,doc:R})}),new fl(n,i,Iu.emptySet(i),v,s,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&pa(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class sp{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(n=>n.Sa())}}class Jg{constructor(){this.queries=od(),this.onlineState="Unknown",this.ba=new Set}terminate(){!function(i,s){const u=Mt(i),p=u.queries;u.queries=od(),p.forEach((v,R)=>{for(const x of R.ya)x.onError(s)})}(this,new Y(Ke.ABORTED,"Firestore shutting down"))}}function od(){return new Ai(c=>Ms(c),pa)}function sd(c,n){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,T.A)(function*(c,n){const i=Mt(c);let s=3;const u=n.query;let p=i.queries.get(u);p?!p.wa()&&n.Sa()&&(s=2):(p=new sp,s=n.Sa()?0:1);try{switch(s){case 0:p.pa=yield i.onListen(u,!0);break;case 1:p.pa=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(v){const R=wu(v,`Initialization of query '${_s(n.query)}' failed`);return void n.onError(R)}i.queries.set(u,p),p.ya.push(n),n.Da(i.onlineState),p.pa&&n.va(p.pa)&&Ah(i)})).apply(this,arguments)}function bh(c,n){return ad.apply(this,arguments)}function ad(){return(ad=(0,T.A)(function*(c,n){const i=Mt(c),s=n.query;let u=3;const p=i.queries.get(s);if(p){const v=p.ya.indexOf(n);v>=0&&(p.ya.splice(v,1),0===p.ya.length?u=n.Sa()?0:1:!p.wa()&&n.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Dh(c,n){const i=Mt(c);let s=!1;for(const u of n){const v=i.queries.get(u.query);if(v){for(const R of v.ya)R.va(u)&&(s=!0);v.pa=u}}s&&Ah(i)}function em(c,n,i){const s=Mt(c),u=s.queries.get(n);if(u)for(const p of u.ya)p.onError(i);s.queries.delete(n)}function Ah(c){c.ba.forEach(n=>{n.next()})}var cd,tm;(tm=cd||(cd={})).Ca="default",tm.Cache="cache";class Ch{constructor(n,i,s){this.query=n,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new fl(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.Ma?this.Oa(n)&&(this.Fa.next(n),i=!0):this.Na(n,this.onlineState)&&(this.Ba(n),i=!0),this.xa=n,i}onError(n){this.Fa.error(n)}Da(n){this.onlineState=n;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,n)&&(this.Ba(this.xa),i=!0),i}Na(n,i){return!n.fromCache||!this.Sa()||(!this.options.La||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}Oa(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.xa&&this.xa.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Ba(n){n=fl.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Ma=!0,this.Fa.next(n)}Sa(){return this.options.source!==cd.Cache}}class ap{constructor(n){this.key=n}}class im{constructor(n){this.key=n}}class om{constructor(n,i){this.query=n,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=f(),this.mutatedKeys=f(),this.Ha=zi(n),this.Ja=new Iu(this.Ha)}get Ya(){return this.Ga}Za(n,i){const s=i?i.Xa:new op,u=i?i.Ja:this.Ja;let p=i?i.mutatedKeys:this.mutatedKeys,v=u,R=!1;const x="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,U="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((X,se)=>{const xe=u.get(X),Tt=Ra(this.query,se)?se:null,$t=!!xe&&this.mutatedKeys.has(xe.key),ln=!!Tt&&(Tt.hasLocalMutations||this.mutatedKeys.has(Tt.key)&&Tt.hasCommittedMutations);let rn=!1;xe&&Tt?xe.data.isEqual(Tt.data)?$t!==ln&&(s.track({type:3,doc:Tt}),rn=!0):this.eu(xe,Tt)||(s.track({type:2,doc:Tt}),rn=!0,(x&&this.Ha(Tt,x)>0||U&&this.Ha(Tt,U)<0)&&(R=!0)):!xe&&Tt?(s.track({type:0,doc:Tt}),rn=!0):xe&&!Tt&&(s.track({type:1,doc:xe}),rn=!0,(x||U)&&(R=!0)),rn&&(Tt?(v=v.add(Tt),p=ln?p.add(X):p.delete(X)):(v=v.delete(X),p=p.delete(X)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const X="F"===this.query.limitType?v.last():v.first();v=v.delete(X.key),p=p.delete(X.key),s.track({type:1,doc:X})}return{Ja:v,Xa:s,Cs:R,mutatedKeys:p}}eu(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const p=this.Ja;this.Ja=n.Ja,this.mutatedKeys=n.mutatedKeys;const v=n.Xa.ga();v.sort((X,se)=>function(Tt,$t){const ln=rn=>{switch(rn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Vt:rn})}};return ln(Tt)-ln($t)}(X.type,se.type)||this.Ha(X.doc,se.doc)),this.tu(s),u=null!=u&&u;const R=i&&!u?this.nu():[],x=0===this.ja.size&&this.current&&!u?1:0,U=x!==this.za;return this.za=x,0!==v.length||U?{snapshot:new fl(this.query,n.Ja,p,v,n.mutatedKeys,0===x,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:R}:{ru:R}}Da(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new op,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(n){return!this.Ga.has(n)&&!!this.Ja.has(n)&&!this.Ja.get(n).hasLocalMutations}tu(n){n&&(n.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=n.current)}nu(){if(!this.current)return[];const n=this.ja;this.ja=f(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const i=[];return n.forEach(s=>{this.ja.has(s)||i.push(new im(s))}),this.ja.forEach(s=>{n.has(s)||i.push(new ap(s))}),i}su(n){this.Ga=n.$s,this.ja=f();const i=this.Za(n.documents);return this.applyChanges(i,!0)}ou(){return fl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,0===this.za,this.hasCachedResults)}}const Pc="SyncEngine";class sm{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class ld{constructor(n){this.key=n,this._u=!1}}class __{constructor(n,i,s,u,p,v){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=v,this.au={},this.uu=new Ai(R=>Ms(R),pa),this.cu=new Map,this.lu=new Set,this.hu=new Kr(qt.comparator),this.Pu=new Map,this.Tu=new Ro,this.Iu={},this.Eu=new Map,this.du=Wc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return!0===this.Au}}function Ia(c,n){return v_.apply(this,arguments)}function v_(){return(v_=(0,T.A)(function*(c,n,i=!0){const s=gl(c);let u;const p=s.uu.get(n);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.ou()):u=yield pl(s,n,i,!0),u})).apply(this,arguments)}function cp(c,n){return am.apply(this,arguments)}function am(){return(am=(0,T.A)(function*(c,n){const i=gl(c);yield pl(i,n,!0,!1)})).apply(this,arguments)}function pl(c,n,i,s){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,T.A)(function*(c,n,i,s){const u=yield function ol(c,n){const i=Mt(c);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ti.getTargetData(s,n).next(p=>p?(u=p,Ve.resolve(u)):i.Ti.allocateTargetId(s).next(v=>(u=new tc(n,v,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.xs.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(n,s.targetId)),s})}(c.localStore,Ao(n)),p=u.targetId,v=c.sharedClientState.addLocalQueryTarget(p,i);let R;return s&&(R=yield function up(c,n,i,s,u){return lp.apply(this,arguments)}(c,n,p,"current"===v,u.resumeToken)),c.isPrimaryClient&&i&&ep(c.remoteStore,u),R})).apply(this,arguments)}function lp(){return lp=(0,T.A)(function*(c,n,i,s,u){c.Ru=(se,xe,Tt)=>{return($t=(0,T.A)(function*(rn,er,or,xn){let Vr=er.view.Za(or);Vr.Cs&&(Vr=yield Wf(rn.localStore,er.query,!1).then(({documents:ke})=>er.view.Za(ke,Vr)));const Li=xn&&xn.targetChanges.get(er.targetId),ui=xn&&null!=xn.targetMismatches.get(er.targetId),st=er.view.applyChanges(Vr,rn.isPrimaryClient,Li,ui);return hp(rn,er.targetId,st.ru),st.snapshot}),function ln(rn,er,or,xn){return $t.apply(this,arguments)})(c,se,xe,Tt);var $t};const p=yield Wf(c.localStore,n,!0),v=new om(n,p.$s),R=v.Za(p.documents),x=oa.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==c.onlineState,u),U=v.applyChanges(R,c.isPrimaryClient,x);hp(c,i,U.ru);const X=new sm(n,i,v);return c.uu.set(n,X),c.cu.has(i)?c.cu.get(i).push(n):c.cu.set(i,[n]),U.snapshot}),lp.apply(this,arguments)}function E_(c,n,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,T.A)(function*(c,n,i){const s=Mt(c),u=s.uu.get(n),p=s.cu.get(u.targetId);if(p.length>1)return s.cu.set(u.targetId,p.filter(v=>!pa(v,n))),void s.uu.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield vu(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&dl(s.remoteStore,u.targetId),pc(s,u.targetId)}).catch(Gn))):(pc(s,u.targetId),yield vu(s.localStore,u.targetId,!0))})).apply(this,arguments)}function cm(c,n){return um.apply(this,arguments)}function um(){return(um=(0,T.A)(function*(c,n){const i=Mt(c),s=i.uu.get(n),u=i.cu.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),dl(i.remoteStore,s.targetId))})).apply(this,arguments)}function I_(){return(I_=(0,T.A)(function*(c,n,i){const s=function Du(c){const n=Mt(c);return n.remoteStore.remoteSyncer.applySuccessfulWrite=hd.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Rh.bind(null,n),n}(c);try{const u=yield function(v,R){const x=Mt(v),U=fr.now(),X=R.reduce((Tt,$t)=>Tt.add($t.key),f());let se,xe;return x.persistence.runTransaction("Locally write mutations","readwrite",Tt=>{let $t=to(),ln=f();return x.Bs.getEntries(Tt,X).next(rn=>{$t=rn,$t.forEach((er,or)=>{or.isValidDocument()||(ln=ln.add(er))})}).next(()=>x.localDocuments.getOverlayedDocuments(Tt,$t)).next(rn=>{se=rn;const er=[];for(const or of R){const xn=Wu(or,se.get(or.key).overlayedDocument);null!=xn&&er.push(new kn(or.key,xn,Fs(xn.value.mapValue),Gr.exists(!0)))}return x.mutationQueue.addMutationBatch(Tt,U,er,R)}).next(rn=>{xe=rn;const er=rn.applyToLocalDocumentSet(se,ln);return x.documentOverlayCache.saveOverlays(Tt,rn.batchId,er)})}).then(()=>({batchId:xe.batchId,changes:Vs(se)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(v,R,x){let U=v.Iu[v.currentUser.toKey()];U||(U=new Kr(Qt)),U=U.insert(R,x),v.Iu[v.currentUser.toKey()]=U}(s,u.batchId,i),yield Mc(s,u.changes),yield hl(s.remoteStore)}catch(u){const p=wu(u,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function ts(c,n){return dd.apply(this,arguments)}function dd(){return(dd=(0,T.A)(function*(c,n){const i=Mt(c);try{const s=yield function CE(c,n){const i=Mt(c),s=n.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const v=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const R=[];n.targetChanges.forEach((X,se)=>{const xe=u.get(se);if(!xe)return;R.push(i.Ti.removeMatchingKeys(p,X.removedDocuments,se).next(()=>i.Ti.addMatchingKeys(p,X.addedDocuments,se)));let Tt=xe.withSequenceNumber(p.currentSequenceNumber);var ln,rn,er;null!==n.targetMismatches.get(se)?Tt=Tt.withResumeToken(ji.EMPTY_BYTE_STRING,sn.min()).withLastLimboFreeSnapshotVersion(sn.min()):X.resumeToken.approximateByteSize()>0&&(Tt=Tt.withResumeToken(X.resumeToken,s)),u=u.insert(se,Tt),rn=Tt,er=X,(0===(ln=xe).resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-ln.snapshotVersion.toMicroseconds()>=3e8||er.addedDocuments.size+er.modifiedDocuments.size+er.removedDocuments.size>0)&&R.push(i.Ti.updateTargetData(p,Tt))});let x=to(),U=f();if(n.documentUpdates.forEach(X=>{n.resolvedLimboDocuments.has(X)&&R.push(i.persistence.referenceDelegate.updateLimboDocument(p,X))}),R.push(function zf(c,n,i){let s=f(),u=f();return i.forEach(p=>s=s.add(p)),n.getEntries(c,s).next(p=>{let v=to();return i.forEach((R,x)=>{const U=p.get(R);x.isFoundDocument()!==U.isFoundDocument()&&(u=u.add(R)),x.isNoDocument()&&x.version.isEqual(sn.min())?(n.removeEntry(R,x.readTime),v=v.insert(R,x)):!U.isValidDocument()||x.version.compareTo(U.version)>0||0===x.version.compareTo(U.version)&&U.hasPendingWrites?(n.addEntry(x),v=v.insert(R,x)):ct(qy,"Ignoring outdated watch update for ",R,". Current version:",U.version," Watch version:",x.version)}),{qs:v,Qs:u}})}(p,v,n.documentUpdates).next(X=>{x=X.qs,U=X.Qs})),!s.isEqual(sn.min())){const X=i.Ti.getLastRemoteSnapshotVersion(p).next(se=>i.Ti.setTargetsMetadata(p,p.currentSequenceNumber,s));R.push(X)}return Ve.waitFor(R).next(()=>v.apply(p)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,x,U)).next(()=>x)}).then(p=>(i.xs=u,p))}(i.localStore,n);n.targetChanges.forEach((u,p)=>{const v=i.Pu.get(p);v&&(Ye(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?v._u=!0:u.modifiedDocuments.size>0?Ye(v._u,14607):u.removedDocuments.size>0&&(Ye(v._u,42227),v._u=!1))}),yield Mc(i,s,n)}catch(s){yield Gn(s)}})).apply(this,arguments)}function lm(c,n,i){const s=Mt(c);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.uu.forEach((p,v)=>{const R=v.view.Da(n);R.snapshot&&u.push(R.snapshot)}),function(v,R){const x=Mt(v);x.onlineState=R;let U=!1;x.queries.forEach((X,se)=>{for(const xe of se.ya)xe.Da(R)&&(U=!0)}),U&&Ah(x)}(s.eventManager,n),u.length&&s.au.j_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function ho(c,n,i){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,T.A)(function*(c,n,i){const s=Mt(c);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Pu.get(n),p=u&&u.key;if(p){let v=new Kr(qt.comparator);v=v.insert(p,hi.newNoDocument(p,sn.min()));const R=f().add(p),x=new Vc(sn.min(),new Map,new Kr(Qt),v,R);yield ts(s,x),s.hu=s.hu.remove(p),s.Pu.delete(n),pd(s)}else yield vu(s.localStore,n,!1).then(()=>pc(s,n,i)).catch(Gn)})).apply(this,arguments)}function hd(c,n){return fc.apply(this,arguments)}function fc(){return(fc=(0,T.A)(function*(c,n){const i=Mt(c),s=n.batch.batchId;try{const u=yield function Pg(c,n){const i=Mt(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),p=i.Bs.newChangeBuffer({trackRemovals:!0});return function(R,x,U,X){const se=U.batch,xe=se.keys();let Tt=Ve.resolve();return xe.forEach($t=>{Tt=Tt.next(()=>X.getEntry(x,$t)).next(ln=>{const rn=U.docVersions.get($t);Ye(null!==rn,48541),ln.version.compareTo(rn)<0&&(se.applyToRemoteDocument(ln,U),ln.isValidDocument()&&(ln.setReadTime(U.commitVersion),X.addEntry(ln)))})}),Tt.next(()=>R.mutationQueue.removeMutationBatch(x,se))}(i,s,n,p).next(()=>p.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(R){let x=f();for(let U=0;U<R.mutationResults.length;++U)R.mutationResults[U].transformResults.length>0&&(x=x.add(R.batch.mutations[U].key));return x}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);hm(i,s,null),bu(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Mc(i,u)}catch(u){yield Gn(u)}})).apply(this,arguments)}function Rh(c,n,i){return fd.apply(this,arguments)}function fd(){return(fd=(0,T.A)(function*(c,n,i){const s=Mt(c);try{const u=yield function(v,R){const x=Mt(v);return x.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let X;return x.mutationQueue.lookupMutationBatch(U,R).next(se=>(Ye(null!==se,37113),X=se.keys(),x.mutationQueue.removeMutationBatch(U,se))).next(()=>x.mutationQueue.performConsistencyCheck(U)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(U,X,R)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,X)).next(()=>x.localDocuments.getDocuments(U,X))})}(s.localStore,n);hm(s,n,i),bu(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield Mc(s,u)}catch(u){yield Gn(u)}})).apply(this,arguments)}function bu(c,n){(c.Eu.get(n)||[]).forEach(i=>{i.resolve()}),c.Eu.delete(n)}function hm(c,n,i){const s=Mt(c);let u=s.Iu[s.currentUser.toKey()];if(u){const p=u.get(n);p&&(i?p.reject(i):p.resolve(),u=u.remove(n)),s.Iu[s.currentUser.toKey()]=u}}function pc(c,n,i=null){c.sharedClientState.removeLocalQueryTarget(n);for(const s of c.cu.get(n))c.uu.delete(s),i&&c.au.Vu(s,i);c.cu.delete(n),c.isPrimaryClient&&c.Tu.Hr(n).forEach(s=>{c.Tu.containsKey(s)||T_(c,s)})}function T_(c,n){c.lu.delete(n.path.canonicalString());const i=c.hu.get(n);null!==i&&(dl(c.remoteStore,i),c.hu=c.hu.remove(n),c.Pu.delete(i),pd(c))}function hp(c,n,i){for(const s of i)s instanceof ap?(c.Tu.addReference(s.key,n),Ph(c,s)):s instanceof im?(ct(Pc,"Document no longer in limbo: "+s.key),c.Tu.removeReference(s.key,n),c.Tu.containsKey(s.key)||T_(c,s.key)):ht(19791,{mu:s})}function Ph(c,n){const i=n.key,s=i.path.canonicalString();c.hu.get(i)||c.lu.has(s)||(ct(Pc,"New document in limbo: "+i),c.lu.add(s),pd(c))}function pd(c){for(;c.lu.size>0&&c.hu.size<c.maxConcurrentLimboResolutions;){const n=c.lu.values().next().value;c.lu.delete(n);const i=new qt(lt.fromString(n)),s=c.du.next();c.Pu.set(s,new ld(i)),c.hu=c.hu.insert(i,s),ep(c.remoteStore,new tc(Ao(Do(i.path)),s,"TargetPurposeLimboResolution",Je.le))}}function Mc(c,n,i){return fp.apply(this,arguments)}function fp(){return fp=(0,T.A)(function*(c,n,i){const s=Mt(c),u=[],p=[],v=[];var R;s.uu.isEmpty()||(s.uu.forEach((R,x)=>{v.push(s.Ru(x,n,i).then(U=>{var X;if((U||i)&&s.isPrimaryClient){const se=U?!U.fromCache:null===(X=i?.targetChanges.get(x.targetId))||void 0===X?void 0:X.current;s.sharedClientState.updateQueryState(x.targetId,se?"current":"not-current")}if(U){u.push(U);const se=il.Rs(x.targetId,U);p.push(se)}}))}),yield Promise.all(v),s.au.j_(u),yield(R=(0,T.A)(function*(U,X){const se=Mt(U);try{yield se.persistence.runTransaction("notifyLocalViewChanges","readwrite",xe=>Ve.forEach(X,Tt=>Ve.forEach(Tt.ds,$t=>se.persistence.referenceDelegate.addReference(xe,Tt.targetId,$t)).next(()=>Ve.forEach(Tt.As,$t=>se.persistence.referenceDelegate.removeReference(xe,Tt.targetId,$t)))))}catch(xe){if(!Tr(xe))throw xe;ct(qy,"Failed to update sequence numbers: "+xe)}for(const xe of X){const Tt=xe.targetId;if(!xe.fromCache){const $t=se.xs.get(Tt),rn=$t.withLastLimboFreeSnapshotVersion($t.snapshotVersion);se.xs=se.xs.insert(Tt,rn)}}}),function x(U,X){return R.apply(this,arguments)})(s.localStore,p))}),fp.apply(this,arguments)}function Mh(c,n){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,T.A)(function*(c,n){const i=Mt(c);if(!i.currentUser.isEqual(n)){ct(Pc,"User change. New user:",n.toKey());const s=yield _o(i.localStore,n);i.currentUser=n,(p=i).Eu.forEach(R=>{R.forEach(x=>{x.reject(new Y(Ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Eu.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield Mc(i,s.ks)}var p})).apply(this,arguments)}function OE(c,n){const i=Mt(c),s=i.Pu.get(n);if(s&&s._u)return f().add(s.key);{let u=f();const p=i.cu.get(n);if(!p)return u;for(const v of p){const R=i.uu.get(v);u=u.unionWith(R.view.Ya)}return u}}function gl(c){const n=Mt(c);return n.remoteStore.remoteSyncer.applyRemoteEvent=ts.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=OE.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=ho.bind(null,n),n.au.j_=Dh.bind(null,n.eventManager),n.au.Vu=em.bind(null,n.eventManager),n}let yd=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,T.A)(function*(){s.serializer=ll(i.databaseInfo.databaseId),s.sharedClientState=s.pu(i),s.persistence=s.yu(i),yield s.persistence.start(),s.localStore=s.wu(i),s.gcScheduler=s.Su(i,s.localStore),s.indexBackfillerScheduler=s.bu(i,s.localStore)})()}Su(i,s){return null}bu(i,s){return null}wu(i){return function Qy(c,n,i,s){return new Hf(c,n,i,s)}(this.persistence,new Cg,i.initialUser,this.serializer)}yu(i){return new nl(_u.fi,this.serializer)}pu(i){return new r_}terminate(){var i=this;return(0,T.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class mp extends yd{constructor(n){super(),this.cacheSizeBytes=n}Su(n,i){return Ye(this.persistence.referenceDelegate instanceof Us,46915),new Uo(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}yu(n){const i=void 0!==this.cacheSizeBytes?es.withCacheSize(this.cacheSizeBytes):es.DEFAULT;return new nl(s=>Us.fi(s,i),this.serializer)}}let _d=(()=>{class c{initialize(i,s){var u=this;return(0,T.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=p=>lm(u.syncEngine,p,1),u.remoteStore.remoteSyncer.handleCredentialChange=Mh.bind(null,u.syncEngine),yield function Zg(c,n){return m_.apply(this,arguments)}(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Jg}createDatastore(i){const s=ll(i.databaseInfo.databaseId),u=new RE(i.databaseInfo);return new Ea(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,p=this.datastore,v=i.asyncQueue,R=s=>lm(this.syncEngine,s,0),x=Qf.C()?new Qf:new vh,new u_(u,p,v,R,x);var u,p,v,R,x}createSyncEngine(i,s){return function(p,v,R,x,U,X,se){const xe=new __(p,v,R,x,U,X);return se&&(xe.Au=!0),xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,T.A)(function*(){var s,u,p;yield(p=(0,T.A)(function*(R){const x=Mt(R);ct(Zc,"RemoteStore shutting down."),x.Ta.add(5),yield nd(x),x.Ea.shutdown(),x.da.set("Unknown")}),function v(R){return p.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return c.provider={build:()=>new c},c})();class Jc{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.vu(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.vu(this.observer.error,n):Un("Uncaught Error in snapshot listener:",n.toString()))}Cu(){this.muted=!0}vu(n,i){setTimeout(()=>{this.muted||n(i)},0)}}const eu="FirestoreClient";class gT{constructor(n,i,s,u,p){var v=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=rt.UNAUTHENTICATED,this.clientId=Hn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=p,this.authCredentials.start(s,function(){var R=(0,T.A)(function*(x){ct(eu,"Received user=",x.uid),yield v.authCredentialListener(x),v.user=x});return function(x){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(s,R=>(ct(eu,"Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new le;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,T.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=wu(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function vp(c,n){return _m.apply(this,arguments)}function _m(){return _m=(0,T.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress(),ct(eu,"Initializing OfflineComponentProvider");const i=c.configuration;yield n.initialize(i);let s=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,T.A)(function*(p){s.isEqual(p)||(yield _o(n.localStore,p),s=p)});return function(p){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=n}),_m.apply(this,arguments)}function vm(c,n){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,T.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress();const i=yield function Em(c){return Ep.apply(this,arguments)}(c);ct(eu,"Initializing OnlineComponentProvider"),yield n.initialize(i,c.configuration),c.setCredentialChangeListener(s=>g_(n.remoteStore,s)),c.setAppCheckTokenChangeListener((s,u)=>g_(n.remoteStore,u)),c._onlineComponents=n})).apply(this,arguments)}function Ep(){return(Ep=(0,T.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){ct(eu,"Using user provided OfflineComponentProvider");try{yield vp(c,c._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===Ke.FAILED_PRECONDITION||u.code===Ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;Mn("Error using user provided cache. Falling back to memory cache: "+n),yield vp(c,new yd)}}else ct(eu,"Using default OfflineComponentProvider"),yield vp(c,new mp(void 0));var u;return c._offlineComponents})).apply(this,arguments)}function Fh(c){return wm.apply(this,arguments)}function wm(){return(wm=(0,T.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(ct(eu,"Using user provided OnlineComponentProvider"),yield vm(c,c._uninitializedComponentsProvider._online)):(ct(eu,"Using default OnlineComponentProvider"),yield vm(c,new _d))),c._onlineComponents})).apply(this,arguments)}function Lh(c){return vd.apply(this,arguments)}function vd(){return(vd=(0,T.A)(function*(c){const n=yield Fh(c),i=n.eventManager;return i.onListen=Ia.bind(null,n.syncEngine),i.onUnlisten=E_.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=cp.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=cm.bind(null,n.syncEngine),i})).apply(this,arguments)}function WE(c){const n={};return void 0!==c.timeoutSeconds&&(n.timeoutSeconds=c.timeoutSeconds),n}const GE=new Map;function O_(c,n,i){if(!i)throw new Y(Ke.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${n}.`)}function F_(c){if(!qt.isDocumentKey(c))throw new Y(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function jh(c){if(qt.isDocumentKey(c))throw new Y(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function Ed(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const n=(s=c).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof c?"a function":ht(12329,{type:typeof c})}function ti(c,n){if("_delegate"in c&&(c=c._delegate),!(c instanceof n)){if(n.name===c.constructor.name)throw new Y(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ed(c);throw new Y(Ke.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return c}const qE="firestore.googleapis.com";class L_{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new Y(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qE,this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.isUsingEmulator=void 0!==n.emulatorOptions,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Y(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}(function Bh(c,n,i,s){if(!0===n&&!0===s)throw new Y(Ke.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)})("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=WE(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new Y(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new Y(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new Y(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class wd{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Y(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(n),this._emulatorOptions=n.emulatorOptions||{},void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new ye;switch(s.type){case"firstParty":return new yt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Y(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,T.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=GE.get(i);s&&(ct("ComponentProvider","Removing Datastore"),GE.delete(i),s.terminate())}(this),Promise.resolve()}}class ks{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new ks(this.firestore,n,this._query)}}class vo{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new vo(this.firestore,n,this._key)}}class gc extends ks{constructor(n,i,s){super(n,i,Do(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new vo(this.firestore,null,new qt(n))}withConverter(n){return new gc(this.firestore,n,this._path)}}function QE(c,n,...i){if(c=(0,Se.Ku)(c),O_("collection","path",n),c instanceof wd){const s=lt.fromString(n,...i);return jh(s),new gc(c,null,s)}{if(!(c instanceof vo||c instanceof gc))throw new Y(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(lt.fromString(n,...i));return jh(s),new gc(c.firestore,null,s)}}function V_(c,n,...i){if(c=(0,Se.Ku)(c),1===arguments.length&&(n=Hn.newId()),O_("doc","path",n),c instanceof wd){const s=lt.fromString(n,...i);return F_(s),new vo(c,null,new qt(s))}{if(!(c instanceof vo||c instanceof gc))throw new Y(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(lt.fromString(n,...i));return F_(s),new vo(c.firestore,c instanceof gc?c.converter:null,new qt(s))}}const U_="AsyncQueue";class B_{constructor(n=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Og(this,"async_queue_retry"),this.ec=()=>{const s=wh();s&&ct(U_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=n;const i=wh();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.nc(),this.rc(n)}enterRestrictedMode(n){if(!this.ju){this.ju=!0,this.Zu=n||!1;const i=wh();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(n){if(this.nc(),this.ju)return new Promise(()=>{});const i=new le;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.zu.push(n),this.sc()))}sc(){var n=this;return(0,T.A)(function*(){if(0!==n.zu.length){try{yield n.zu[0](),n.zu.shift(),n.C_.reset()}catch(i){if(!Tr(i))throw i;ct(U_,"Operation failed with retryable error: "+i)}n.zu.length>0&&n.C_.f_(()=>n.sc())}})()}rc(n){const i=this.tc.then(()=>(this.Yu=!0,n().catch(s=>{throw this.Ju=s,this.Yu=!1,Un("INTERNAL UNHANDLED ERROR: ",j_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=i,i}enqueueAfterDelay(n,i,s){this.nc(),this.Xu.indexOf(n)>-1&&(i=0);const u=Yg.createAndSchedule(this,n,i,s,p=>this.oc(p));return this.Hu.push(u),u}nc(){this.Ju&&ht(47125,{_c:j_(this.Ju)})}verifyOperationInProgress(){}ac(){var n=this;return(0,T.A)(function*(){let i;do{i=n.tc,yield i}while(i!==n.tc)})()}uc(n){for(const i of this.Hu)if(i.timerId===n)return!0;return!1}cc(n){return this.ac().then(()=>{this.Hu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.ac()})}lc(n){this.Xu.push(n)}oc(n){const i=this.Hu.indexOf(n);this.Hu.splice(i,1)}}function j_(c){let n=c.message||"";return c.stack&&(n=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),n}function Cm(c){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(c)}class Eo extends wd{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new B_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var n=this;return(0,T.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new B_(i),n._firestoreClient=void 0,yield i}})()}}function Sm(c,n){const i="object"==typeof c?c:(0,O.Sx)(),s="string"==typeof c?c:n||Te,u=(0,O.j6)(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const p=(0,Se.yU)("firestore");p&&function Dm(c,n,i,s={}){var u;c=ti(c,wd);const p=(0,Se.zJ)(n),v=c._getSettings(),R=Object.assign(Object.assign({},v),{emulatorOptions:c._getEmulatorOptions()}),x=`${n}:${i}`;p&&((0,Se.gE)(`https://${x}`),(0,Se.P1)("Firestore",!0)),v.host!==qE&&v.host!==x&&Mn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const U=Object.assign(Object.assign({},v),{host:x,ssl:p,emulatorOptions:s});if(!(0,Se.bD)(U,R)&&(c._setSettings(U),s.mockUserToken)){let X,se;if("string"==typeof s.mockUserToken)X=s.mockUserToken,se=rt.MOCK_USER;else{X=(0,Se.Fy)(s.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const xe=s.mockUserToken.sub||s.mockUserToken.user_id;if(!xe)throw new Y(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");se=new rt(xe)}c._authCredentials=new re(new de(X,se))}}(u,...p)}return u}function zo(c){if(c._terminated)throw new Y(Ke.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||function H_(c){var n,i,s;const u=c._freezeSettings(),p=(x=(null===(n=c._app)||void 0===n?void 0:n.options.appId)||"",new G(c._databaseId,x,c._persistenceKey,(X=u).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,WE(X.experimentalLongPollingOptions),X.useFetchStreams,X.isUsingEmulator));var x,X;c._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(c._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),c._firestoreClient=new gT(c._authCredentials,c._appCheckCredentials,c._queue,p,c._componentsProvider&&function(R){const x=R?._online.build();return{_offline:R?._offline.build(x),_online:x}}(c._componentsProvider))}(c),c._firestoreClient}class ka{constructor(n){this._byteString=n}static fromBase64String(n){try{return new ka(ji.fromBase64String(n))}catch(i){throw new Y(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new ka(ji.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ml{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Y(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Td{constructor(n){this._methodName=n}}class Mm{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Y(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Y(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Qt(this._lat,n._lat)||Qt(this._long,n._long)}}class Ip{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let p=0;p<s.length;++p)if(s[p]!==u[p])return!1;return!0}(this._values,n._values)}}const tu=/^__.*__$/;class bd{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new kn(n,this.data,this.fieldMask,i,this.fieldTransforms):new Ba(n,this.data,i,this.fieldTransforms)}}class K_{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new kn(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function q_(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{hc:c})}}class Tp{constructor(n,i,s,u,p,v){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===p&&this.Pc(),this.fieldTransforms=p||[],this.fieldMask=v||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(n){return new Tp(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:s,Ec:!1});return u.dc(n),u}Ac(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:s,Ec:!1});return u.Pc(),u}Rc(n){return this.Tc({path:void 0,Ec:!0})}Vc(n){return Vm(n,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}Pc(){if(this.path)for(let n=0;n<this.path.length;n++)this.dc(this.path.get(n))}dc(n){if(0===n.length)throw this.Vc("Document fields must not be empty");if(q_(this.hc)&&tu.test(n))throw this.Vc('Document fields cannot begin and end with "__"')}}class ew{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||ll(n)}gc(n,i,s,u=!1){return new Tp({hc:n,methodName:i,fc:s,path:Qn.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yl(c){const n=c._freezeSettings(),i=ll(c._databaseId);return new ew(c._databaseId,!!n.ignoreUndefinedProperties,i)}function bp(c,n,i,s,u,p={}){const v=c.gc(p.merge||p.mergeFields?2:0,n,i,u);X_("Data must be an object, but it was:",v,s);const R=Fm(s,v);let x,U;if(p.merge)x=new xo(v.fieldMask),U=v.fieldTransforms;else if(p.mergeFields){const X=[];for(const se of p.mergeFields){const xe=Dp(n,se,i);if(!v.contains(xe))throw new Y(Ke.INVALID_ARGUMENT,`Field '${xe}' is specified in your field mask but missing from your input data.`);nw(X,xe)||X.push(xe)}x=new xo(X),U=v.fieldTransforms.filter(se=>x.covers(se.field))}else x=null,U=v.fieldTransforms;return new bd(new oo(R),x,U)}class Dd extends Td{_toFieldTransform(n){if(2!==n.hc)throw n.Vc(1===n.hc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Dd}}function mc(c,n,i,s){const u=c.gc(1,n,i);X_("Data must be an object, but it was:",u,s);const p=[],v=oo.empty();mo(s,(x,U)=>{const X=Cd(n,x,i);U=(0,Se.Ku)(U);const se=u.Ac(X);if(U instanceof Dd)p.push(X);else{const xe=Au(U,se);null!=xe&&(p.push(X),v.set(X,xe))}});const R=new xo(p);return new K_(v,R,u.fieldTransforms)}function _l(c,n,i,s,u,p){const v=c.gc(1,n,i),R=[Dp(n,s,i)],x=[u];if(p.length%2!=0)throw new Y(Ke.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xe=0;xe<p.length;xe+=2)R.push(Dp(n,p[xe])),x.push(p[xe+1]);const U=[],X=oo.empty();for(let xe=R.length-1;xe>=0;--xe)if(!nw(U,R[xe])){const Tt=R[xe];let $t=x[xe];$t=(0,Se.Ku)($t);const ln=v.Ac(Tt);if($t instanceof Dd)U.push(Tt);else{const rn=Au($t,ln);null!=rn&&(U.push(Tt),X.set(Tt,rn))}}const se=new xo(U);return new K_(X,se,v.fieldTransforms)}function Au(c,n){if(tw(c=(0,Se.Ku)(c)))return X_("Unsupported field value:",n,c),Fm(c,n);if(c instanceof Td)return function(s,u){if(!q_(u.hc))throw u.Vc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(c,n),null;if(void 0===c&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),c instanceof Array){if(n.settings.Ec&&4!==n.hc)throw n.Vc("Nested arrays are not supported");return function(s,u){const p=[];let v=0;for(const R of s){let x=Au(R,u.Rc(v));null==x&&(x={nullValue:"NULL_VALUE"}),p.push(x),v++}return{arrayValue:{values:p}}}(c,n)}return function(s,u){if(null===(s=(0,Se.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return we(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=fr.fromDate(s);return{timestampValue:Ku(u.serializer,p)}}if(s instanceof fr){const p=new fr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ku(u.serializer,p)}}if(s instanceof Mm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ka)return{bytesValue:Ll(u.serializer,s._byteString)};if(s instanceof vo){const p=u.databaseId,v=s.firestore._databaseId;if(!v.isEqual(p))throw u.Vc(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:qu(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ip)return v=s,R=u,{mapValue:{fields:{[it]:{stringValue:bn},[pn]:{arrayValue:{values:v.toArray().map(U=>{if("number"!=typeof U)throw R.Vc("VectorValues must only contain numeric values.");return V(R.serializer,U)})}}}}};var v,R;throw u.Vc(`Unsupported field value: ${Ed(s)}`)}(c,n)}function Fm(c,n){const i={};return Ds(c)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):mo(c,(s,u)=>{const p=Au(u,n.Ic(s));null!=p&&(i[s]=p)}),{mapValue:{fields:i}}}function tw(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof fr||c instanceof Mm||c instanceof ka||c instanceof vo||c instanceof Td||c instanceof Ip)}function X_(c,n,i){if(!tw(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Ed(i);throw n.Vc("an object"===s?c+" a custom object":c+" "+s)}var u}function Dp(c,n,i){if((n=(0,Se.Ku)(n))instanceof ml)return n._internalPath;if("string"==typeof n)return Cd(c,n);throw Vm("Field path arguments must be of type string or ",c,!1,void 0,i)}const Lm=new RegExp("[~\\*/\\[\\]]");function Cd(c,n,i){if(n.search(Lm)>=0)throw Vm(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new ml(...n.split("."))._internalPath}catch{throw Vm(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function Vm(c,n,i,s,u){const p=s&&!s.isEmpty(),v=void 0!==u;let R=`Function ${n}() called with invalid data`;i&&(R+=" (via `toFirestore()`)"),R+=". ";let x="";return(p||v)&&(x+=" (found",p&&(x+=` in field ${s}`),v&&(x+=` in document ${u}`),x+=")"),new Y(Ke.INVALID_ARGUMENT,R+c+x)}function nw(c,n){return c.some(i=>i.isEqual(n))}class Sd{constructor(n,i,s,u,p){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new vo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new rw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class rw extends Sd{data(){return super.data()}}function Ap(c,n){return"string"==typeof n?Cd(c,n):n instanceof ml?n._internalPath:n._delegate._internalPath}function Z_(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new Y(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class zh extends Um{}function Y_(c,n,...i){let s=[];n instanceof Um&&s.push(n),s=s.concat(i),function(p){const v=p.filter(x=>x instanceof Pd).length,R=p.filter(x=>x instanceof Rd).length;if(v>1||v>0&&R>0)throw new Y(Ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)c=u._apply(c);return c}class Rd extends zh{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new Rd(n,i,s)}_apply(n){const i=this._parse(n);return uw(n._query,i),new ks(n.firestore,n.converter,fa(n._query,i))}_parse(n){const i=yl(n.firestore);return function(p,v,R,x,U,X,se){let xe;if(U.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new Y(Ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){cw(se,X);const $t=[];for(const ln of se)$t.push($m(x,p,ln));xe={arrayValue:{values:$t}}}else xe=$m(x,p,se)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||cw(se,X),xe=function Om(c,n,i,s=!1){return Au(i,c.gc(s?4:3,n))}(R,"where",se,"in"===X||"not-in"===X);return Wr.create(U,X,xe)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}function iw(c,n,i){const s=n,u=Ap("where",c);return Rd._create(u,s,i)}class Pd extends Um{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Pd(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:Br.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,p){let v=u;const R=p.getFlattenedFilters();for(const x of R)uw(v,x),v=fa(v,x)}(n._query,i),new ks(n.firestore,n.converter,fa(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cp extends zh{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new Cp(n,i)}_apply(n){const i=function(u,p,v){if(null!==u.startAt)throw new Y(Ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Y(Ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ks(p,v)}(n._query,this._field,this._direction);return new ks(n.firestore,n.converter,function(u,p){const v=u.explicitOrderBy.concat([p]);return new Hi(u.path,u.collectionGroup,v,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}function jm(c,n="asc"){const i=n,s=Ap("orderBy",c);return Cp._create(s,i)}function $m(c,n,i){if("string"==typeof(i=(0,Se.Ku)(i))){if(""===i)throw new Y(Ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sa(n)&&-1!==i.indexOf("/"))throw new Y(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(lt.fromString(i));if(!qt.isDocumentKey(s))throw new Y(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vi(c,new qt(s))}if(i instanceof vo)return vi(c,i._key);throw new Y(Ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(i)}.`)}function cw(c,n){if(!Array.isArray(c)||0===c.length)throw new Y(Ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function uw(c,n){const i=function(u,p){for(const v of u)for(const R of v.getFlattenedFilters())if(p.indexOf(R.op)>=0)return R.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Y(Ke.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class tv{convertValue(n,i="none"){switch(Zn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Fr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(vr(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw ht(62114,{value:n})}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return mo(n,(u,p)=>{s[u]=this.convertValue(p,i)}),s}convertVectorValue(n){var i,s,u;const p=null===(u=null===(s=null===(i=n.fields)||void 0===i?void 0:i[pn].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(v=>Fr(v.doubleValue));return new Ip(p)}convertGeoPoint(n){return new Mm(Fr(n.latitude),Fr(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=Er(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(K(n));default:return null}}convertTimestamp(n){const i=Oo(n);return new fr(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=lt.fromString(n);Ye(jl(s),9688,{name:n});const u=new Re(s.get(1),s.get(3)),p=new qt(s.popFirst(5));return u.isEqual(i)||Un(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function Mp(c,n,i){let s;return s=c?i&&(i.merge||i.mergeFields)?c.toFirestore(n,i):c.toFirestore(n):n,s}class vl{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class kd extends Sd{constructor(n,i,s,u,p,v){super(n,i,s,u,v),this._firestore=n,this._firestoreImpl=n,this.metadata=p}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class xd extends kd{data(n={}){return super.data(n)}}class Wh{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new vl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new xd(this._firestore,this._userDataWriter,s.key,s,new vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Y(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let v=0;return u._snapshot.docChanges.map(R=>({type:"added",doc:new xd(u._firestore,u._userDataWriter,R.doc.key,R.doc,new vl(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:v++}))}{let v=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(R=>p||3!==R.type).map(R=>{const x=new xd(u._firestore,u._userDataWriter,R.doc.key,R.doc,new vl(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter);let U=-1,X=-1;return 0!==R.type&&(U=v.indexOf(R.doc.key),v=v.delete(R.doc.key)),1!==R.type&&(v=v.add(R.doc),X=v.indexOf(R.doc.key)),{type:AT(R.type),doc:x,oldIndex:U,newIndex:X}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function AT(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:c})}}function CT(c){c=ti(c,vo);const n=ti(c.firestore,Eo);return function N_(c,n,i={}){const s=new le;return c.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function(p,v,R,x,U){const X=new Jc({next:xe=>{X.Cu(),v.enqueueAndForget(()=>bh(p,se));const Tt=xe.docs.has(R);!Tt&&xe.fromCache?U.reject(new Y(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):Tt&&xe.fromCache&&x&&"server"===x.source?U.reject(new Y(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(xe)},error:xe=>U.reject(xe)}),se=new Ch(Do(R.path),X,{includeMetadataChanges:!0,La:!0});return sd(p,se)}(yield Lh(c),c.asyncQueue,n,i,s)})),s.promise}(zo(n),c._key).then(i=>Cu(n,c,i))}class El extends tv{constructor(n){super(),this.firestore=n}convertBytes(n){return new ka(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new vo(this.firestore,null,i)}}function ST(c){c=ti(c,ks);const n=ti(c.firestore,Eo),i=zo(n),s=new El(n);return Z_(c._query),function Im(c,n,i={}){const s=new le;return c.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function(p,v,R,x,U){const X=new Jc({next:xe=>{X.Cu(),v.enqueueAndForget(()=>bh(p,se)),xe.fromCache&&"server"===x.source?U.reject(new Y(Ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(xe)},error:xe=>U.reject(xe)}),se=new Ch(R,X,{includeMetadataChanges:!0,La:!0});return sd(p,se)}(yield Lh(c),c.asyncQueue,n,i,s)})),s.promise}(i,c._query).then(u=>new Wh(n,s,c,u))}function Np(c,n,i){c=ti(c,vo);const s=ti(c.firestore,Eo),u=Mp(c.converter,n,i);return Od(s,[bp(yl(s),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,Gr.none())])}function rv(c,n,i,...s){c=ti(c,vo);const u=ti(c.firestore,Eo),p=yl(u);let v;return v="string"==typeof(n=(0,Se.Ku)(n))||n instanceof ml?_l(p,"updateDoc",c._key,n,i,s):mc(p,"updateDoc",c._key,n),Od(u,[v.toMutation(c._key,Gr.exists(!0))])}function iv(c){return Od(ti(c.firestore,Eo),[new ei(c._key,Gr.none())])}function ov(c,n){const i=ti(c.firestore,Eo),s=V_(c),u=Mp(c.converter,n);return Od(i,[bp(yl(c.firestore),"addDoc",s._key,u,null!==c.converter,{}).toMutation(s._key,Gr.exists(!1))]).then(()=>s)}function fw(c,...n){var i,s,u;c=(0,Se.Ku)(c);let p={includeMetadataChanges:!1,source:"default"},v=0;"object"!=typeof n[v]||Cm(n[v])||(p=n[v],v++);const R={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(Cm(n[v])){const se=n[v];n[v]=null===(i=se.next)||void 0===i?void 0:i.bind(se),n[v+1]=null===(s=se.error)||void 0===s?void 0:s.bind(se),n[v+2]=null===(u=se.complete)||void 0===u?void 0:u.bind(se)}let x,U,X;if(c instanceof vo)U=ti(c.firestore,Eo),X=Do(c._key.path),x={next:se=>{n[v]&&n[v](Cu(U,c,se))},error:n[v+1],complete:n[v+2]};else{const se=ti(c,ks);U=ti(se.firestore,Eo),X=se._query;const xe=new El(U);x={next:Tt=>{n[v]&&n[v](new Wh(U,xe,se,Tt))},error:n[v+1],complete:n[v+2]},Z_(c._query)}return function(xe,Tt,$t,ln){const rn=new Jc(ln),er=new Ch(Tt,rn,$t);return xe.asyncQueue.enqueueAndForget((0,T.A)(function*(){return sd(yield Lh(xe),er)})),()=>{rn.Cu(),xe.asyncQueue.enqueueAndForget((0,T.A)(function*(){return bh(yield Lh(xe),er)}))}}(zo(U),X,R,x)}function Od(c,n){return function(s,u){const p=new le;return s.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function w_(c,n,i){return I_.apply(this,arguments)}(yield function P_(c){return Fh(c).then(n=>n.syncEngine)}(s),u,p)})),p.promise}(zo(c),n)}function Cu(c,n,i){const s=i.docs.get(n._key),u=new El(c);return new kd(c,u,n._key,s,new vl(i.hasPendingWrites,i.fromCache),n.converter)}class yc{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=yl(n)}set(n,i,s){this._verifyNotCommitted();const u=Su(n,this._firestore),p=Mp(u.converter,i,s),v=bp(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,s);return this._mutations.push(v.toMutation(u._key,Gr.none())),this}update(n,i,s,...u){this._verifyNotCommitted();const p=Su(n,this._firestore);let v;return v="string"==typeof(i=(0,Se.Ku)(i))||i instanceof ml?_l(this._dataReader,"WriteBatch.update",p._key,i,s,u):mc(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(v.toMutation(p._key,Gr.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Su(n,this._firestore);return this._mutations=this._mutations.concat(new ei(i._key,Gr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Y(Ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Su(c,n){if((c=(0,Se.Ku)(c)).firestore!==n)throw new Y(Ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}function Lr(c){return zo(c=ti(c,Eo)),new yc(c,n=>Od(c,n))}!function(n,i=!0){Ze=O.MF,(0,O.om)(new Q.uA("firestore",(s,{instanceIdentifier:u,options:p})=>{const v=s.getProvider("app").getImmediate(),R=new Eo(new pe(s.getProvider("auth-internal")),new Yt(v,s.getProvider("app-check-internal")),function(U,X){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new Y(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Re(U.options.projectId,X)}(v,u),v);return p=Object.assign({useFetchStreams:i},p),R._setSettings(p),R},"PUBLIC").setMultipleInstances(!0)),(0,O.KO)(St,"4.7.16",n),(0,O.KO)(St,"4.7.16","esm2017")}()},3494:(In,$e,j)=>{"use strict";j.d($e,{s:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},3604:(In,$e,j)=>{"use strict";j.d($e,{q:()=>Q});const T={now:()=>(T.delegate||Date).now(),delegate:void 0};class O{constructor(Se,Xe=O.now){this.schedulerActionCtor=Se,this.now=Xe}schedule(Se,Xe=0,Ie){return new this.schedulerActionCtor(this,Se).schedule(Ie,Xe)}}O.now=T.now;class Q extends O{constructor(Se,Xe=O.now){super(Se,Xe),this.actions=[],this._active=!1}flush(Se){const{actions:Xe}=this;if(this._active)return void Xe.push(Se);let Ie;this._active=!0;do{if(Ie=Se.execute(Se.state,Se.delay))break}while(Se=Xe.shift());if(this._active=!1,Ie){for(;Se=Xe.shift();)Se.unsubscribe();throw Ie}}}},3669:(In,$e,j)=>{"use strict";function T(O){return O}j.d($e,{D:()=>T})},4125:(In,$e,j)=>{"use strict";j.d($e,{kR:()=>dt});var T=j(2967),Se=(j(1360),j(7440),j(2214),j(467)),Xe=j(7852),Ie=j(1362),fe=j(6858),Oe=j(8041);const me=new Map,he={activated:!1,tokenObservers:[]},et={initialized:!1,enabled:!1};function He(Ee){return me.get(Ee)||Object.assign({},he)}function At(){return et}class Ne{constructor(Ue,Qe,Ut,zt,Tn){if(this.operation=Ue,this.retryPolicy=Qe,this.getWaitDuration=Ut,this.lowerBound=zt,this.upperBound=Tn,this.pending=null,this.nextErrorWaitInterval=zt,zt>Tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ue){var Qe=this;return(0,Se.A)(function*(){Qe.stop();try{Qe.pending=new fe.cY,Qe.pending.promise.catch(Ut=>{}),yield function rt(Ee){return new Promise(Ue=>{setTimeout(Ue,Ee)})}(Qe.getNextRun(Ue)),Qe.pending.resolve(),yield Qe.pending.promise,Qe.pending=new fe.cY,Qe.pending.promise.catch(Ut=>{}),yield Qe.operation(),Qe.pending.resolve(),yield Qe.pending.promise,Qe.process(!0).catch(()=>{})}catch(Ut){Qe.retryPolicy(Ut)?Qe.process(!1).catch(()=>{}):Qe.stop()}})()}getNextRun(Ue){if(Ue)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Qe}}}const wt=new fe.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function It(Ee){if(!He(Ee).activated)throw wt.create("use-before-activation",{appName:Ee.name})}function Mn(Ee,Ue){return qn.apply(this,arguments)}function qn(){return(qn=(0,Se.A)(function*({url:Ee,body:Ue},Qe){const Ut={"Content-Type":"application/json"},zt=Qe.getImmediate({optional:!0});if(zt){const Sr=yield zt.getHeartbeatsHeader();Sr&&(Ut["X-Firebase-Client"]=Sr)}const Tn={method:"POST",body:JSON.stringify(Ue),headers:Ut};let Fn,An;try{Fn=yield fetch(Ee,Tn)}catch(Sr){throw wt.create("fetch-network-error",{originalErrorMessage:Sr?.message})}if(200!==Fn.status)throw wt.create("fetch-status-error",{httpStatus:Fn.status});try{An=yield Fn.json()}catch(Sr){throw wt.create("fetch-parse-error",{originalErrorMessage:Sr?.message})}const rr=An.ttl.match(/^([\d.]+)(s)$/);if(!rr||!rr[2]||isNaN(Number(rr[1])))throw wt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${An.ttl}`});const zr=1e3*Number(rr[1]),Po=Date.now();return{token:An.token,expireTimeMillis:Po+zr,issuedAtTimeMillis:Po}})).apply(this,arguments)}function Ye(Ee,Ue){const{projectId:Qe,appId:Ut,apiKey:zt}=Ee.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Qe}/apps/${Ut}:exchangeDebugToken?key=${zt}`,body:{debug_token:Ue}}}const Ke="firebase-app-check-store";let le=null;function on(){return(on=(0,Se.A)(function*(Ee,Ue){const Ut=(yield function de(){return le||(le=new Promise((Ee,Ue)=>{try{const Qe=indexedDB.open("firebase-app-check-database",1);Qe.onsuccess=Ut=>{Ee(Ut.target.result)},Qe.onerror=Ut=>{var zt;Ue(wt.create("storage-open",{originalErrorMessage:null===(zt=Ut.target.error)||void 0===zt?void 0:zt.message}))},Qe.onupgradeneeded=Ut=>{0===Ut.oldVersion&&Ut.target.result.createObjectStore(Ke,{keyPath:"compositeKey"})}}catch(Qe){Ue(wt.create("storage-open",{originalErrorMessage:Qe?.message}))}}),le)}()).transaction(Ke,"readwrite"),Tn=Ut.objectStore(Ke).put({compositeKey:Ee,value:Ue});return new Promise((Fn,An)=>{Tn.onsuccess=rr=>{Fn()},Ut.onerror=rr=>{var zr;An(wt.create("storage-set",{originalErrorMessage:null===(zr=rr.target.error)||void 0===zr?void 0:zr.message}))}})})).apply(this,arguments)}const Xn=new Oe.Vy("@firebase/app-check");function Vn(Ee,Ue){return(0,fe.zW)()?function re(Ee,Ue){return function yt(Ee,Ue){return on.apply(this,arguments)}(function Wt(Ee){return`${Ee.options.appId}-${Ee.name}`}(Ee),Ue)}(Ee,Ue).catch(Qe=>{Xn.warn(`Failed to write token to IndexedDB. Error: ${Qe}`)}):Promise.resolve()}function Nr(){return At().enabled}function Pr(){return Si.apply(this,arguments)}function Si(){return(Si=(0,Se.A)(function*(){const Ee=At();if(Ee.enabled&&Ee.token)return Ee.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fr={error:"UNKNOWN_ERROR"};function sn(Ee){return fe.K3.encodeString(JSON.stringify(Ee),!1)}function Xi(Ee){return kr.apply(this,arguments)}function kr(){return(kr=(0,Se.A)(function*(Ee,Ue=!1,Qe=!1){const Ut=Ee.app;It(Ut);const zt=He(Ut);let Fn,Tn=zt.token;if(Tn&&!Dr(Tn)&&(zt.token=void 0,Tn=void 0),!Tn){const zr=yield zt.cachedTokenPromise;zr&&(Dr(zr)?Tn=zr:yield Vn(Ut,void 0))}if(!Ue&&Tn&&Dr(Tn))return{token:Tn.token};let rr,An=!1;if(Nr())try{zt.exchangeTokenPromise||(zt.exchangeTokenPromise=Mn(Ye(Ut,yield Pr()),Ee.heartbeatServiceProvider).finally(()=>{zt.exchangeTokenPromise=void 0}),An=!0);const zr=yield zt.exchangeTokenPromise;return yield Vn(Ut,zr),zt.token=zr,{token:zr.token}}catch(zr){return"appCheck/throttled"===zr.code||"appCheck/initial-throttle"===zr.code?Xn.warn(zr.message):Qe&&Xn.error(zr),Ei(zr)}try{zt.exchangeTokenPromise||(zt.exchangeTokenPromise=zt.provider.getToken().finally(()=>{zt.exchangeTokenPromise=void 0}),An=!0),Tn=yield He(Ut).exchangeTokenPromise}catch(zr){"appCheck/throttled"===zr.code||"appCheck/initial-throttle"===zr.code?Xn.warn(zr.message):Qe&&Xn.error(zr),Fn=zr}return Tn?Fn?rr=Dr(Tn)?{token:Tn.token,internalError:Fn}:Ei(Fn):(rr={token:Tn.token},zt.token=Tn,yield Vn(Ut,Tn)):rr=Ei(Fn),An&&function gi(Ee,Ue){const Qe=He(Ee).tokenObservers;for(const Ut of Qe)try{"EXTERNAL"===Ut.type&&null!=Ue.error?Ut.error(Ue.error):Ut.next(Ue)}catch{}}(Ut,rr),rr})).apply(this,arguments)}function Ir(){return(Ir=(0,Se.A)(function*(Ee){const Ue=Ee.app;It(Ue);const{provider:Qe}=He(Ue);if(Nr()){const Ut=yield Pr(),{token:zt}=yield Mn(Ye(Ue,Ut),Ee.heartbeatServiceProvider);return{token:zt}}{const{token:Ut}=yield Qe.getToken();return{token:Ut}}})).apply(this,arguments)}function qt(Ee,Ue){const Qe=He(Ee),Ut=Qe.tokenObservers.filter(zt=>zt.next!==Ue);0===Ut.length&&Qe.tokenRefresher&&Qe.tokenRefresher.isRunning()&&Qe.tokenRefresher.stop(),Qe.tokenObservers=Ut}function si(Ee){const{app:Ue}=Ee,Qe=He(Ue);let Ut=Qe.tokenRefresher;Ut||(Ut=function li(Ee){const{app:Ue}=Ee;return new Ne((0,Se.A)(function*(){let Ut;if(Ut=He(Ue).token?yield Xi(Ee,!0):yield Xi(Ee),Ut.error)throw Ut.error;if(Ut.internalError)throw Ut.internalError}),()=>!0,()=>{const Qe=He(Ue);if(Qe.token){let Ut=Qe.token.issuedAtTimeMillis+.5*(Qe.token.expireTimeMillis-Qe.token.issuedAtTimeMillis)+3e5;return Ut=Math.min(Ut,Qe.token.expireTimeMillis-3e5),Math.max(0,Ut-Date.now())}return 0},3e4,96e4)}(Ee),Qe.tokenRefresher=Ut),!Ut.isRunning()&&Qe.isTokenAutoRefreshEnabled&&Ut.start()}function Dr(Ee){return Ee.expireTimeMillis-Date.now()>0}function Ei(Ee){return{token:sn(fr),error:Ee}}class Cr{constructor(Ue,Qe){this.app=Ue,this.heartbeatServiceProvider=Qe}_delete(){const{tokenObservers:Ue}=He(this.app);for(const Qe of Ue)qt(this.app,Qe.next);return Promise.resolve()}}const mr="app-check-internal";!function ne(){(0,Xe.om)(new Ie.uA("app-check",Ee=>function di(Ee,Ue){return new Cr(Ee,Ue)}(Ee.getProvider("app").getImmediate(),Ee.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ee,Ue,Qe)=>{Ee.getProvider(mr).initialize()})),(0,Xe.om)(new Ie.uA(mr,Ee=>function lr(Ee){return{getToken:Ue=>Xi(Ee,Ue),getLimitedUseToken:()=>function lt(Ee){return Ir.apply(this,arguments)}(Ee),addTokenListener:Ue=>function Qn(Ee,Ue,Qe,Ut){const{app:zt}=Ee,Tn=He(zt);if(Tn.tokenObservers=[...Tn.tokenObservers,{next:Qe,error:Ut,type:Ue}],Tn.token&&Dr(Tn.token)){const An=Tn.token;Promise.resolve().then(()=>{Qe({token:An.token}),si(Ee)}).catch(()=>{})}Tn.cachedTokenPromise.then(()=>si(Ee))}(Ee,"INTERNAL",Ue),removeTokenListener:Ue=>qt(Ee.app,Ue)}}(Ee.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xe.KO)("@firebase/app-check","0.10.0")}();class dt{constructor(){return(0,T.CA)("app-check")}}typeof window<"u"&&window},4360:(In,$e,j)=>{"use strict";j.d($e,{_:()=>O});var T=j(7707);function O(I,Se,Xe,Ie,fe){return new Q(I,Se,Xe,Ie,fe)}class Q extends T.vU{constructor(Se,Xe,Ie,fe,Oe,me){super(Se),this.onFinalize=Oe,this.shouldUnsubscribe=me,this._next=Xe?function(he){try{Xe(he)}catch(et){Se.error(et)}}:super._next,this._error=fe?function(he){try{fe(he)}catch(et){Se.error(et)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(he){Se.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Xe}=this;super.unsubscribe(),!Xe&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},4412:(In,$e,j)=>{"use strict";j.d($e,{t:()=>O});var T=j(1413);class O extends T.B{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const Se=super._subscribe(I);return!Se.closed&&I.next(this._value),Se}getValue(){const{hasError:I,thrownError:Se,_value:Xe}=this;if(I)throw Se;return this._throwIfClosed(),Xe}next(I){super.next(this._value=I)}}},4761:(In,$e,j)=>{"use strict";j.d($e,{l:()=>O});const O=function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4796:(In,$e,j)=>{"use strict";j.d($e,{u:()=>I});var T=j(6335),O=j(5964),Q=j(1360);let I=(()=>{class Se{auth;constructor(Ie){this.auth=Ie,console.log("%c<<< Start AUTH service >>>","background: #cff4fc; color: #055160; padding: 2px 5px;")}getAuthState(){return console.log("\u{1f441} Observando el estado de autenticaci\xf3n..."),(0,T.wh)(this.auth)}getCurrentUser(){return this.getAuthState().pipe((0,O.p)(Ie=>!!Ie))}login(Ie,fe){return console.log("\u{1f510} Intentando iniciar sesi\xf3n con:",Ie),(0,T.x9)(this.auth,Ie,fe)}register(Ie,fe){return console.log("\u{1f4dd} Registrando nuevo usuario con:",Ie),(0,T.eJ)(this.auth,Ie,fe)}logout(){return console.log("\u{1f6aa} Cerrando sesi\xf3n del usuario actual"),(0,T.CI)(this.auth)}resetPassword(Ie){return console.log("\u{1f4e7} Enviando enlace de recuperaci\xf3n a:",Ie),(0,T.J1)(this.auth,Ie)}static \u0275fac=function(fe){return new(fe||Se)(Q.KVO(T.Nj))};static \u0275prov=Q.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()},4843:(In,$e,j)=>{"use strict";j.d($e,{_:()=>Q});var T=j(9350),O=j(7707);function Q(I,Se){const Xe="object"==typeof Se;return new Promise((Ie,fe)=>{const Oe=new O.Ms({next:me=>{Ie(me),Oe.unsubscribe()},error:fe,complete:()=>{Xe?Ie(Se.defaultValue):fe(new T.G)}});I.subscribe(Oe)})}},5055:(In,$e,j)=>{"use strict";j.d($e,{l:()=>Q});var T=j(3494),O=j(8071);function Q(I){return(0,O.T)(I[T.s])}},5072:(In,$e,j)=>{"use strict";j.d($e,{nX:()=>Mo,Pu:()=>Ao,Zp:()=>jn,nU:()=>Gn,c1:()=>Yr,XR:()=>Nn,wF:()=>Po,lW:()=>Bo,mo:()=>ao,Z:()=>zr,J2:()=>pa,J_:()=>Sn,bw:()=>cr,tD:()=>Jr,Ix:()=>vc,D$:()=>Hi,n3:()=>Kr,OY:()=>yr,Sd:()=>xr,bK:()=>ys,gk:()=>Ai,Lg:()=>ls,wO:()=>bt,Us:()=>Gi,we:()=>As});var T=j(9361),O=j(6048),Q=j(1360),I=j(1985),Se=j(8071),Ie=j(8455),fe=j(7673),Oe=j(4412),me=j(3073),he=j(3669),et=j(6450),He=j(9326),ot=j(8496),At=j(4360),jt=j(5225);function Vt(...A){const N=(0,He.lI)(A),S=(0,He.ms)(A),{args:m,keys:d}=(0,me.D)(A);if(0===m.length)return(0,Ie.H)([],N);const f=new I.c(function Zt(A,N,S=he.D){return m=>{mt(N,()=>{const{length:d}=A,f=new Array(d);let E=d,M=d;for(let V=0;V<d;V++)mt(N,()=>{const ee=(0,Ie.H)(A[V],N);let we=!1;ee.subscribe((0,At._)(m,Ge=>{f[V]=Ge,we||(we=!0,M--),M||m.next(S(f.slice()))},()=>{--E||m.complete()}))},m)},m)}}(m,N,d?E=>(0,ot.e)(d,E):he.D));return S?f.pipe((0,et.I)(S)):f}function mt(A,N,S){A?(0,jt.N)(S,A,N):N()}var Et=j(9350),St=j(6365);function rt(...A){return function Ne(){return(0,St.U)(1)}()((0,Ie.H)(A,(0,He.lI)(A)))}var Ze=j(8750);function wt(A){return new I.c(N=>{(0,Ze.Tg)(A()).subscribe(N)})}var Gt=j(1203);function It(A,N){const S=(0,Se.T)(A)?A:()=>A,m=d=>d.error(S());return new I.c(N?d=>N.schedule(m,0,d):m)}var ct=j(983),Un=j(8359),Mn=j(9974);function qn(){return(0,Mn.N)((A,N)=>{let S=null;A._refCount++;const m=(0,At._)(N,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(S=null);const d=A._connection,f=S;S=null,d&&(!f||d===f)&&d.unsubscribe(),N.unsubscribe()});A.subscribe(m),m.closed||(S=A.connect())})}class ht extends I.c{constructor(N,S){super(),this.source=N,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,Mn.S)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new Un.yU;const S=this.getSubject();N.add(this.source.subscribe((0,At._)(S,void 0,()=>{this._teardown(),S.complete()},m=>{this._teardown(),S.error(m)},()=>this._teardown()))),N.closed&&(this._connection=null,N=Un.yU.EMPTY)}return N}refCount(){return qn()(this)}}var wn=j(1413),Ye=j(6354),tn=j(5558);function Mt(A){return A<=0?()=>ct.w:(0,Mn.N)((N,S)=>{let m=0;N.subscribe((0,At._)(S,d=>{++m<=A&&(S.next(d),A<=m&&S.complete())}))})}var Y=j(5964),le=j(1397);function de(A){return(0,Mn.N)((N,S)=>{let m=!1;N.subscribe((0,At._)(S,d=>{m=!0,S.next(d)},()=>{m||S.next(A),S.complete()}))})}function ye(A=re){return(0,Mn.N)((N,S)=>{let m=!1;N.subscribe((0,At._)(S,d=>{m=!0,S.next(d)},()=>m?S.complete():S.error(A())))})}function re(){return new Et.G}function pe(A,N){const S=arguments.length>=2;return m=>m.pipe(A?(0,Y.p)((d,f)=>A(d,f,m)):he.D,Mt(1),S?de(N):ye(()=>new Et.G))}var qe=j(274);function yt(A,N,S){const m=(0,Se.T)(A)||N||S?{next:A,error:N,complete:S}:A;return m?(0,Mn.N)((d,f)=>{var E;null===(E=m.subscribe)||void 0===E||E.call(m);let M=!0;d.subscribe((0,At._)(f,V=>{var ee;null===(ee=m.next)||void 0===ee||ee.call(m,V),f.next(V)},()=>{var V;M=!1,null===(V=m.complete)||void 0===V||V.call(m),f.complete()},V=>{var ee;M=!1,null===(ee=m.error)||void 0===ee||ee.call(m,V),f.error(V)},()=>{var V,ee;M&&(null===(V=m.unsubscribe)||void 0===V||V.call(m)),null===(ee=m.finalize)||void 0===ee||ee.call(m)}))}):he.D}var on=j(9437);function Wt(A){return A<=0?()=>ct.w:(0,Mn.N)((N,S)=>{let m=[];N.subscribe((0,At._)(S,d=>{m.push(d),A<m.length&&m.shift()},()=>{for(const d of m)S.next(d);S.complete()},void 0,()=>{m=null}))})}var Hn=j(980),Qt=j(5343),tr=j(345);const Dn="primary",Nr=Symbol("RouteTitle");class Pr{params;constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const S=this.params[N];return Array.isArray(S)?S[0]:S}return null}getAll(N){if(this.has(N)){const S=this.params[N];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function Si(A){return new Pr(A)}function fn(A,N,S){const m=S.path.split("/");if(m.length>A.length||"full"===S.pathMatch&&(N.hasChildren()||m.length<A.length))return null;const d={};for(let f=0;f<m.length;f++){const E=m[f],M=A[f];if(":"===E[0])d[E.substring(1)]=M;else if(E!==M.path)return null}return{consumed:A.slice(0,m.length),posParams:d}}function sn(A,N){const S=A?Xi(A):void 0,m=N?Xi(N):void 0;if(!S||!m||S.length!=m.length)return!1;let d;for(let f=0;f<S.length;f++)if(d=S[f],!kr(A[d],N[d]))return!1;return!0}function Xi(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function kr(A,N){if(Array.isArray(A)&&Array.isArray(N)){if(A.length!==N.length)return!1;const S=[...A].sort(),m=[...N].sort();return S.every((d,f)=>m[f]===d)}return A===N}function lt(A){return A.length>0?A[A.length-1]:null}function Ir(A){return function Xe(A){return!!A&&(A instanceof I.c||(0,Se.T)(A.lift)&&(0,Se.T)(A.subscribe))}(A)?A:(0,Q.jNT)(A)?(0,Ie.H)(Promise.resolve(A)):(0,fe.of)(A)}const Qn={exact:function gi(A,N,S){if(!Cn(A.segments,N.segments)||!di(A.segments,N.segments,S)||A.numberOfChildren!==N.numberOfChildren)return!1;for(const m in N.children)if(!A.children[m]||!gi(A.children[m],N.children[m],S))return!1;return!0},subset:Ei},qt={exact:function li(A,N){return sn(A,N)},subset:function Dr(A,N){return Object.keys(N).length<=Object.keys(A).length&&Object.keys(N).every(S=>kr(A[S],N[S]))},ignored:()=>!0};function si(A,N,S){return Qn[S.paths](A.root,N.root,S.matrixParams)&&qt[S.queryParams](A.queryParams,N.queryParams)&&!("exact"===S.fragment&&A.fragment!==N.fragment)}function Ei(A,N,S){return Cr(A,N,N.segments,S)}function Cr(A,N,S,m){if(A.segments.length>S.length){const d=A.segments.slice(0,S.length);return!(!Cn(d,S)||N.hasChildren()||!di(d,S,m))}if(A.segments.length===S.length){if(!Cn(A.segments,S)||!di(A.segments,S,m))return!1;for(const d in N.children)if(!A.children[d]||!Ei(A.children[d],N.children[d],m))return!1;return!0}{const d=S.slice(0,A.segments.length),f=S.slice(A.segments.length);return!!(Cn(A.segments,d)&&di(A.segments,d,m)&&A.children[Dn])&&Cr(A.children[Dn],N,f,m)}}function di(A,N,S){return N.every((m,d)=>qt[S](A[d].parameters,m.parameters))}class lr{root;queryParams;fragment;_queryParamMap;constructor(N=new sr([],{}),S={},m=null){this.root=N,this.queryParams=S,this.fragment=m}get queryParamMap(){return this._queryParamMap??=Si(this.queryParams),this._queryParamMap}toString(){return Zi.serialize(this)}}class sr{segments;children;parent=null;constructor(N,S){this.segments=N,this.children=S,Object.values(S).forEach(m=>m.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ve(this)}}class mi{path;parameters;_parameterMap;constructor(N,S){this.path=N,this.parameters=S}get parameterMap(){return this._parameterMap??=Si(this.parameters),this._parameterMap}toString(){return Ui(this)}}function Cn(A,N){return A.length===N.length&&A.every((S,m)=>S.path===N[m].path)}let xr=(()=>{class A{static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:()=>new Gn,providedIn:"root"})}return A})();class Gn{parse(N){const S=new ne(N);return new lr(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(N){const S=`/${Ar(N.root,!0)}`,m=function xi(A){const N=Object.entries(A).map(([S,m])=>Array.isArray(m)?m.map(d=>`${ai(S)}=${ai(d)}`).join("&"):`${ai(S)}=${ai(m)}`).filter(S=>S);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${S}${m}${"string"==typeof N.fragment?`#${function Vi(A){return encodeURI(A)}(N.fragment)}`:""}`}}const Zi=new Gn;function Ve(A){return A.segments.map(N=>Ui(N)).join("/")}function Ar(A,N){if(!A.hasChildren())return Ve(A);if(N){const S=A.children[Dn]?Ar(A.children[Dn],!1):"",m=[];return Object.entries(A.children).forEach(([d,f])=>{d!==Dn&&m.push(`${d}:${Ar(f,!1)}`)}),m.length>0?`${S}(${m.join("//")})`:S}{const S=function bi(A,N){let S=[];return Object.entries(A.children).forEach(([m,d])=>{m===Dn&&(S=S.concat(N(d,m)))}),Object.entries(A.children).forEach(([m,d])=>{m!==Dn&&(S=S.concat(N(d,m)))}),S}(A,(m,d)=>d===Dn?[Ar(A.children[Dn],!1)]:[`${d}:${Ar(m,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[Dn]?`${Ve(A)}/${S[0]}`:`${Ve(A)}/(${S.join("//")})`}}function Yi(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ai(A){return Yi(A).replace(/%3B/gi,";")}function _n(A){return Yi(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gr(A){return decodeURIComponent(A)}function Tr(A){return gr(A.replace(/\+/g,"%20"))}function Ui(A){return`${_n(A.path)}${function Bi(A){return Object.entries(A).map(([N,S])=>`;${_n(N)}=${_n(S)}`).join("")}(A.parameters)}`}const De=/^[^\/()?;#]+/;function _e(A){const N=A.match(De);return N?N[0]:""}const Be=/^[^\/()?;=#]+/,Je=/^[^=?&#]+/,Rn=/^[^&#]+/;class ne{url;remaining;constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sr([],{}):new sr([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let m={};return this.peekStartsWith("(")&&(m=this.parseParens(!1)),(N.length>0||Object.keys(S).length>0)&&(m[Dn]=new sr(N,S)),m}parseSegment(){const N=_e(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new Q.wOt(4009,!1);return this.capture(N),new mi(gr(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const S=function Ot(A){const N=A.match(Be);return N?N[0]:""}(this.remaining);if(!S)return;this.capture(S);let m="";if(this.consumeOptional("=")){const d=_e(this.remaining);d&&(m=d,this.capture(m))}N[gr(S)]=gr(m)}parseQueryParam(N){const S=function Xt(A){const N=A.match(Je);return N?N[0]:""}(this.remaining);if(!S)return;this.capture(S);let m="";if(this.consumeOptional("=")){const E=function mr(A){const N=A.match(Rn);return N?N[0]:""}(this.remaining);E&&(m=E,this.capture(m))}const d=Tr(S),f=Tr(m);if(N.hasOwnProperty(d)){let E=N[d];Array.isArray(E)||(E=[E],N[d]=E),E.push(f)}else N[d]=f}parseParens(N){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const m=_e(this.remaining),d=this.remaining[m.length];if("/"!==d&&")"!==d&&";"!==d)throw new Q.wOt(4010,!1);let f;m.indexOf(":")>-1?(f=m.slice(0,m.indexOf(":")),this.capture(f),this.capture(":")):N&&(f=Dn);const E=this.parseChildren();S[f]=1===Object.keys(E).length?E[Dn]:new sr([],E),this.consumeOptional("//")}return S}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new Q.wOt(4011,!1)}}function ae(A){return A.segments.length>0?new sr([],{[Dn]:A}):A}function Ce(A){const N={};for(const[m,d]of Object.entries(A.children)){const f=Ce(d);if(m===Dn&&0===f.segments.length&&f.hasChildren())for(const[E,M]of Object.entries(f.children))N[E]=M;else(f.segments.length>0||f.hasChildren())&&(N[m]=f)}return function dt(A){if(1===A.numberOfChildren&&A.children[Dn]){const N=A.children[Dn];return new sr(A.segments.concat(N.segments),N.children)}return A}(new sr(A.segments,N))}function bt(A){return A instanceof lr}function ve(A){let N;const d=ae(function S(f){const E={};for(const V of f.children){const ee=S(V);E[V.outlet]=ee}const M=new sr(f.url,E);return f===A&&(N=M),M}(A.root));return N??d}function Fe(A,N,S,m){let d=A;for(;d.parent;)d=d.parent;if(0===N.length)return pt(d,d,d,S,m);const f=function Bn(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new nn(!0,0,A);let N=0,S=!1;const m=A.reduce((d,f,E)=>{if("object"==typeof f&&null!=f){if(f.outlets){const M={};return Object.entries(f.outlets).forEach(([V,ee])=>{M[V]="string"==typeof ee?ee.split("/"):ee}),[...d,{outlets:M}]}if(f.segmentPath)return[...d,f.segmentPath]}return"string"!=typeof f?[...d,f]:0===E?(f.split("/").forEach((M,V)=>{0==V&&"."===M||(0==V&&""===M?S=!0:".."===M?N++:""!=M&&d.push(M))}),d):[...d,f]},[]);return new nn(S,N,m)}(N);if(f.toRoot())return pt(d,d,new sr([],{}),S,m);const E=function Kn(A,N,S){if(A.isAbsolute)return new un(N,!0,0);if(!S)return new un(N,!1,NaN);if(null===S.parent)return new un(S,!0,0);const m=Rt(A.commands[0])?0:1;return function ar(A,N,S){let m=A,d=N,f=S;for(;f>d;){if(f-=d,m=m.parent,!m)throw new Q.wOt(4005,!1);d=m.segments.length}return new un(m,!1,d-f)}(S,S.segments.length-1+m,A.numberOfDoubleDots)}(f,d,A),M=E.processChildren?Ee(E.segmentGroup,E.index,f.commands):Ri(E.segmentGroup,E.index,f.commands);return pt(d,E.segmentGroup,M,S,m)}function Rt(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function vt(A){return"object"==typeof A&&null!=A&&A.outlets}function pt(A,N,S,m,d){let E,f={};m&&Object.entries(m).forEach(([V,ee])=>{f[V]=Array.isArray(ee)?ee.map(we=>`${we}`):`${ee}`}),E=A===N?S:kt(A,N,S);const M=ae(Ce(E));return new lr(M,f,d)}function kt(A,N,S){const m={};return Object.entries(A.children).forEach(([d,f])=>{m[d]=f===N?S:kt(f,N,S)}),new sr(A.segments,m)}class nn{isAbsolute;numberOfDoubleDots;commands;constructor(N,S,m){if(this.isAbsolute=N,this.numberOfDoubleDots=S,this.commands=m,N&&m.length>0&&Rt(m[0]))throw new Q.wOt(4003,!1);const d=m.find(vt);if(d&&d!==lt(m))throw new Q.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class un{segmentGroup;processChildren;index;constructor(N,S,m){this.segmentGroup=N,this.processChildren=S,this.index=m}}function Ri(A,N,S){if(A??=new sr([],{}),0===A.segments.length&&A.hasChildren())return Ee(A,N,S);const m=function Ue(A,N,S){let m=0,d=N;const f={match:!1,pathIndex:0,commandIndex:0};for(;d<A.segments.length;){if(m>=S.length)return f;const E=A.segments[d],M=S[m];if(vt(M))break;const V=`${M}`,ee=m<S.length-1?S[m+1]:null;if(d>0&&void 0===V)break;if(V&&ee&&"object"==typeof ee&&void 0===ee.outlets){if(!Tn(V,ee,E))return f;m+=2}else{if(!Tn(V,{},E))return f;m++}d++}return{match:!0,pathIndex:d,commandIndex:m}}(A,N,S),d=S.slice(m.commandIndex);if(m.match&&m.pathIndex<A.segments.length){const f=new sr(A.segments.slice(0,m.pathIndex),{});return f.children[Dn]=new sr(A.segments.slice(m.pathIndex),A.children),Ee(f,0,d)}return m.match&&0===d.length?new sr(A.segments,{}):m.match&&!A.hasChildren()?Qe(A,N,S):m.match?Ee(A,0,d):Qe(A,N,S)}function Ee(A,N,S){if(0===S.length)return new sr(A.segments,{});{const m=function wi(A){return vt(A[0])?A[0].outlets:{[Dn]:A}}(S),d={};if(Object.keys(m).some(f=>f!==Dn)&&A.children[Dn]&&1===A.numberOfChildren&&0===A.children[Dn].segments.length){const f=Ee(A.children[Dn],N,S);return new sr(A.segments,f.children)}return Object.entries(m).forEach(([f,E])=>{"string"==typeof E&&(E=[E]),null!==E&&(d[f]=Ri(A.children[f],N,E))}),Object.entries(A.children).forEach(([f,E])=>{void 0===m[f]&&(d[f]=E)}),new sr(A.segments,d)}}function Qe(A,N,S){const m=A.segments.slice(0,N);let d=0;for(;d<S.length;){const f=S[d];if(vt(f)){const V=Ut(f.outlets);return new sr(m,V)}if(0===d&&Rt(S[0])){m.push(new mi(A.segments[N].path,zt(S[0]))),d++;continue}const E=vt(f)?f.outlets[Dn]:`${f}`,M=d<S.length-1?S[d+1]:null;E&&M&&Rt(M)?(m.push(new mi(E,zt(M))),d+=2):(m.push(new mi(E,{})),d++)}return new sr(m,{})}function Ut(A){const N={};return Object.entries(A).forEach(([S,m])=>{"string"==typeof m&&(m=[m]),null!==m&&(N[S]=Qe(new sr([],{}),0,m))}),N}function zt(A){const N={};return Object.entries(A).forEach(([S,m])=>N[S]=`${m}`),N}function Tn(A,N,S){return A==S.path&&sn(N,S.parameters)}const Fn="imperative";var An=function(A){return A[A.NavigationStart=0]="NavigationStart",A[A.NavigationEnd=1]="NavigationEnd",A[A.NavigationCancel=2]="NavigationCancel",A[A.NavigationError=3]="NavigationError",A[A.RoutesRecognized=4]="RoutesRecognized",A[A.ResolveStart=5]="ResolveStart",A[A.ResolveEnd=6]="ResolveEnd",A[A.GuardsCheckStart=7]="GuardsCheckStart",A[A.GuardsCheckEnd=8]="GuardsCheckEnd",A[A.RouteConfigLoadStart=9]="RouteConfigLoadStart",A[A.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",A[A.ChildActivationStart=11]="ChildActivationStart",A[A.ChildActivationEnd=12]="ChildActivationEnd",A[A.ActivationStart=13]="ActivationStart",A[A.ActivationEnd=14]="ActivationEnd",A[A.Scroll=15]="Scroll",A[A.NavigationSkipped=16]="NavigationSkipped",A}(An||{});class rr{id;url;constructor(N,S){this.id=N,this.url=S}}class zr extends rr{type=An.NavigationStart;navigationTrigger;restoredState;constructor(N,S,m="imperative",d=null){super(N,S),this.navigationTrigger=m,this.restoredState=d}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Po extends rr{urlAfterRedirects;type=An.NavigationEnd;constructor(N,S,m){super(N,S),this.urlAfterRedirects=m}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Sr=function(A){return A[A.Redirect=0]="Redirect",A[A.SupersededByNewNavigation=1]="SupersededByNewNavigation",A[A.NoDataFromResolver=2]="NoDataFromResolver",A[A.GuardRejected=3]="GuardRejected",A}(Sr||{}),ao=function(A){return A[A.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",A[A.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",A}(ao||{});class Wi extends rr{reason;code;type=An.NavigationCancel;constructor(N,S,m,d){super(N,S),this.reason=m,this.code=d}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bo extends rr{reason;code;type=An.NavigationSkipped;constructor(N,S,m,d){super(N,S),this.reason=m,this.code=d}}class io extends rr{error;target;type=An.NavigationError;constructor(N,S,m,d){super(N,S),this.error=m,this.target=d}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $ extends rr{urlAfterRedirects;state;type=An.RoutesRecognized;constructor(N,S,m,d){super(N,S),this.urlAfterRedirects=m,this.state=d}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ge extends rr{urlAfterRedirects;state;type=An.GuardsCheckStart;constructor(N,S,m,d){super(N,S),this.urlAfterRedirects=m,this.state=d}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q extends rr{urlAfterRedirects;state;shouldActivate;type=An.GuardsCheckEnd;constructor(N,S,m,d,f){super(N,S),this.urlAfterRedirects=m,this.state=d,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class te extends rr{urlAfterRedirects;state;type=An.ResolveStart;constructor(N,S,m,d){super(N,S),this.urlAfterRedirects=m,this.state=d}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pe extends rr{urlAfterRedirects;state;type=An.ResolveEnd;constructor(N,S,m,d){super(N,S),this.urlAfterRedirects=m,this.state=d}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dt{route;type=An.RouteConfigLoadStart;constructor(N){this.route=N}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cn{route;type=An.RouteConfigLoadEnd;constructor(N){this.route=N}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class On{snapshot;type=An.ChildActivationStart;constructor(N){this.snapshot=N}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ci{snapshot;type=An.ChildActivationEnd;constructor(N){this.snapshot=N}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xr{snapshot;type=An.ActivationStart;constructor(N){this.snapshot=N}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{snapshot;type=An.ActivationEnd;constructor(N){this.snapshot=N}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yr{routerEvent;position;anchor;type=An.Scroll;constructor(N,S,m){this.routerEvent=N,this.position=S,this.anchor=m}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ln{}class _r{url;navigationBehaviorOptions;constructor(N,S){this.url=N,this.navigationBehaviorOptions=S}}function Gi(A){switch(A.type){case An.ActivationEnd:return`ActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case An.ActivationStart:return`ActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case An.ChildActivationEnd:return`ChildActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case An.ChildActivationStart:return`ChildActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case An.GuardsCheckEnd:return`GuardsCheckEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state}, shouldActivate: ${A.shouldActivate})`;case An.GuardsCheckStart:return`GuardsCheckStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case An.NavigationCancel:return`NavigationCancel(id: ${A.id}, url: '${A.url}')`;case An.NavigationSkipped:return`NavigationSkipped(id: ${A.id}, url: '${A.url}')`;case An.NavigationEnd:return`NavigationEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}')`;case An.NavigationError:return`NavigationError(id: ${A.id}, url: '${A.url}', error: ${A.error})`;case An.NavigationStart:return`NavigationStart(id: ${A.id}, url: '${A.url}')`;case An.ResolveEnd:return`ResolveEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case An.ResolveStart:return`ResolveStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case An.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${A.route.path})`;case An.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${A.route.path})`;case An.RoutesRecognized:return`RoutesRecognized(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case An.Scroll:return`Scroll(anchor: '${A.anchor}', position: '${A.position?`${A.position[0]}, ${A.position[1]}`:null}')`}}function Me(A){return A.outlet||Dn}function Jt(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let N=A.parent;N;N=N.parent){const S=N.routeConfig;if(S?._loadedInjector)return S._loadedInjector;if(S?._injector)return S._injector}return null}class vn{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Jt(this.route?.snapshot)??this.rootInjector}constructor(N){this.rootInjector=N,this.children=new jn(this.rootInjector)}}let jn=(()=>{class A{rootInjector;contexts=new Map;constructor(S){this.rootInjector=S}onChildOutletCreated(S,m){const d=this.getOrCreateContext(S);d.outlet=m,this.contexts.set(S,d)}onChildOutletDestroyed(S){const m=this.getContext(S);m&&(m.outlet=null,m.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let m=this.getContext(S);return m||(m=new vn(this.rootInjector),this.contexts.set(S,m)),m}getContext(S){return this.contexts.get(S)||null}static \u0275fac=function(m){return new(m||A)(Q.KVO(Q.uvJ))};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();class Ji{_root;constructor(N){this._root=N}get root(){return this._root.value}parent(N){const S=this.pathFromRoot(N);return S.length>1?S[S.length-2]:null}children(N){const S=go(N,this._root);return S?S.children.map(m=>m.value):[]}firstChild(N){const S=go(N,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(N){const S=xs(N,this._root);return S.length<2?[]:S[S.length-2].children.map(d=>d.value).filter(d=>d!==N)}pathFromRoot(N){return xs(N,this._root).map(S=>S.value)}}function go(A,N){if(A===N.value)return N;for(const S of N.children){const m=go(A,S);if(m)return m}return null}function xs(A,N){if(A===N.value)return[N];for(const S of N.children){const m=xs(A,S);if(m.length)return m.unshift(N),m}return[]}class ni{value;children;constructor(N,S){this.value=N,this.children=S}toString(){return`TreeNode(${this.value})`}}function ss(A){const N={};return A&&A.children.forEach(S=>N[S.value.outlet]=S),N}class En extends Ji{snapshot;constructor(N,S){super(N),this.snapshot=S,cs(this,N)}toString(){return this.snapshot.toString()}}function as(A){const N=function Io(A){const f=new No([],{},{},"",{},Dn,A,null,{});return new bs("",new ni(f,[]))}(A),S=new Oe.t([new mi("",{})]),m=new Oe.t({}),d=new Oe.t({}),f=new Oe.t({}),E=new Oe.t(""),M=new Mo(S,m,f,E,d,Dn,A,N.root);return M.snapshot=N.root,new En(new ni(M,[]),N)}class Mo{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(N,S,m,d,f,E,M,V){this.urlSubject=N,this.paramsSubject=S,this.queryParamsSubject=m,this.fragmentSubject=d,this.dataSubject=f,this.outlet=E,this.component=M,this._futureSnapshot=V,this.title=this.dataSubject?.pipe((0,Ye.T)(ee=>ee[Nr]))??(0,fe.of)(void 0),this.url=N,this.params=S,this.queryParams=m,this.fragment=d,this.data=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Ye.T)(N=>Si(N))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Ye.T)(N=>Si(N))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zo(A,N,S="emptyOnly"){let m;const{routeConfig:d}=A;return m=null===N||"always"!==S&&""!==d?.path&&(N.component||N.routeConfig?.loadComponent)?{params:{...A.params},data:{...A.data},resolve:{...A.data,...A._resolvedData??{}}}:{params:{...N.params,...A.params},data:{...N.data,...A.data},resolve:{...A.data,...N.data,...d?.data,...A._resolvedData}},d&&Ko(d)&&(m.resolve[Nr]=d.title),m}class No{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Nr]}constructor(N,S,m,d,f,E,M,V,ee){this.url=N,this.params=S,this.queryParams=m,this.fragment=d,this.data=f,this.outlet=E,this.component=M,this.routeConfig=V,this._resolve=ee}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Si(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Si(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(m=>m.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bs extends Ji{url;constructor(N,S){super(S),this.url=N,cs(this,S)}toString(){return Or(this._root)}}function cs(A,N){N.value._routerState=A,N.children.forEach(S=>cs(A,S))}function Or(A){const N=A.children.length>0?` { ${A.children.map(Or).join(", ")} } `:"";return`${A.value}${N}`}function Go(A){if(A.snapshot){const N=A.snapshot,S=A._futureSnapshot;A.snapshot=S,sn(N.queryParams,S.queryParams)||A.queryParamsSubject.next(S.queryParams),N.fragment!==S.fragment&&A.fragmentSubject.next(S.fragment),sn(N.params,S.params)||A.paramsSubject.next(S.params),function fr(A,N){if(A.length!==N.length)return!1;for(let S=0;S<A.length;++S)if(!sn(A[S],N[S]))return!1;return!0}(N.url,S.url)||A.urlSubject.next(S.url),sn(N.data,S.data)||A.dataSubject.next(S.data)}else A.snapshot=A._futureSnapshot,A.dataSubject.next(A._futureSnapshot.data)}function mo(A,N){const S=sn(A.params,N.params)&&function hr(A,N){return Cn(A,N)&&A.every((S,m)=>sn(S.parameters,N[m].parameters))}(A.url,N.url);return S&&!(!A.parent!=!N.parent)&&(!A.parent||mo(A.parent,N.parent))}function Ko(A){return"string"==typeof A.title||null===A.title}const Ds=new Q.nKC("");let Kr=(()=>{class A{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Dn;activateEvents=new Q.bkB;deactivateEvents=new Q.bkB;attachEvents=new Q.bkB;detachEvents=new Q.bkB;routerOutletData=(0,Q.hFB)(void 0);parentContexts=(0,Q.WQX)(jn);location=(0,Q.WQX)(Q.c1b);changeDetector=(0,Q.WQX)(Q.gRc);inputBinder=(0,Q.WQX)(Yr,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(S){if(S.name){const{firstChange:m,previousValue:d}=S.name;if(m)return;this.isTrackedInParentContexts(d)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(d)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){return this.parentContexts.getContext(S)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);S?.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q.wOt(4012,!1);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,m){this.activated=S,this._activatedRoute=m,this.location.insert(S.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,m){if(this.isActivated)throw new Q.wOt(4013,!1);this._activatedRoute=S;const d=this.location,E=S.snapshot.component,M=this.parentContexts.getOrCreateContext(this.name).children,V=new co(S,M,d.injector,this.routerOutletData);this.activated=d.createComponent(E,{index:d.length,injector:V,environmentInjector:m}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(m){return new(m||A)};static \u0275dir=Q.FsC({type:A,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Q.OA$]})}return A})();class co{route;childContexts;parent;outletData;constructor(N,S,m,d){this.route=N,this.childContexts=S,this.parent=m,this.outletData=d}get(N,S){return N===Mo?this.route:N===jn?this.childContexts:N===Ds?this.outletData:this.parent.get(N,S)}}const Yr=new Q.nKC("");let Jr=(()=>{class A{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(S){this.unsubscribeFromRouteData(S),this.subscribeToRouteData(S)}unsubscribeFromRouteData(S){this.outletDataSubscriptions.get(S)?.unsubscribe(),this.outletDataSubscriptions.delete(S)}subscribeToRouteData(S){const{activatedRoute:m}=S,d=Vt([m.queryParams,m.params,m.data]).pipe((0,tn.n)(([f,E,M],V)=>(M={...f,...E,...M},0===V?(0,fe.of)(M):Promise.resolve(M)))).subscribe(f=>{if(!S.isActivated||!S.activatedComponentRef||S.activatedRoute!==m||null===m.component)return void this.unsubscribeFromRouteData(S);const E=(0,Q.HJs)(m.component);if(E)for(const{templateName:M}of E.inputs)S.activatedComponentRef.setInput(M,f[M]);else this.unsubscribeFromRouteData(S)});this.outletDataSubscriptions.set(S,d)}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac})}return A})(),As=(()=>{class A{static \u0275fac=function(m){return new(m||A)};static \u0275cmp=Q.VBU({type:A,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(m,d){1&m&&Q.nrm(0,"router-outlet")},dependencies:[Kr],encapsulation:2})}return A})();function ko(A){const N=A.children&&A.children.map(ko),S=N?{...A,children:N}:{...A};return!S.component&&!S.loadComponent&&(N||S.loadChildren)&&S.outlet&&S.outlet!==Dn&&(S.component=As),S}function ps(A,N,S){if(S&&A.shouldReuseRoute(N.value,S.value.snapshot)){const m=S.value;m._futureSnapshot=N.value;const d=function To(A,N,S){return N.children.map(m=>{for(const d of S.children)if(A.shouldReuseRoute(m.value,d.value.snapshot))return ps(A,m,d);return ps(A,m)})}(A,N,S);return new ni(m,d)}{if(A.shouldAttach(N.value)){const f=A.retrieve(N.value);if(null!==f){const E=f.route;return E.value._futureSnapshot=N.value,E.children=N.children.map(M=>ps(A,M)),E}}const m=function ji(A){return new Mo(new Oe.t(A.url),new Oe.t(A.params),new Oe.t(A.queryParams),new Oe.t(A.fragment),new Oe.t(A.data),A.outlet,A.component,A)}(N.value),d=N.children.map(f=>ps(A,f));return new ni(m,d)}}class Hs{redirectTo;navigationBehaviorOptions;constructor(N,S){this.redirectTo=N,this.navigationBehaviorOptions=S}}const Oo="ngNavigationCancelingError";function Fr(A,N){const{redirectTo:S,navigationBehaviorOptions:m}=bt(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,d=vr(!1,Sr.Redirect);return d.url=S,d.navigationBehaviorOptions=m,d}function vr(A,N){const S=new Error(`NavigationCancelingError: ${A||""}`);return S[Oo]=!0,S.cancellationCode=N,S}function ra(A){return!!A&&A[Oo]}class jo{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(N,S,m,d,f){this.routeReuseStrategy=N,this.futureState=S,this.currState=m,this.forwardEvent=d,this.inputBindingEnabled=f}activate(N){const S=this.futureState._root,m=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,m,N),Go(this.futureState.root),this.activateChildRoutes(S,m,N)}deactivateChildRoutes(N,S,m){const d=ss(S);N.children.forEach(f=>{const E=f.value.outlet;this.deactivateRoutes(f,d[E],m),delete d[E]}),Object.values(d).forEach(f=>{this.deactivateRouteAndItsChildren(f,m)})}deactivateRoutes(N,S,m){const d=N.value,f=S?S.value:null;if(d===f)if(d.component){const E=m.getContext(d.outlet);E&&this.deactivateChildRoutes(N,S,E.children)}else this.deactivateChildRoutes(N,S,m);else f&&this.deactivateRouteAndItsChildren(S,m)}deactivateRouteAndItsChildren(N,S){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,S):this.deactivateRouteAndOutlet(N,S)}detachAndStoreRouteSubtree(N,S){const m=S.getContext(N.value.outlet),d=m&&N.value.component?m.children:S,f=ss(N);for(const E of Object.values(f))this.deactivateRouteAndItsChildren(E,d);if(m&&m.outlet){const E=m.outlet.detach(),M=m.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:E,route:N,contexts:M})}}deactivateRouteAndOutlet(N,S){const m=S.getContext(N.value.outlet),d=m&&N.value.component?m.children:S,f=ss(N);for(const E of Object.values(f))this.deactivateRouteAndItsChildren(E,d);m&&(m.outlet&&(m.outlet.deactivate(),m.children.onOutletDeactivated()),m.attachRef=null,m.route=null)}activateChildRoutes(N,S,m){const d=ss(S);N.children.forEach(f=>{this.activateRoutes(f,d[f.value.outlet],m),this.forwardEvent(new Zr(f.value.snapshot))}),N.children.length&&this.forwardEvent(new ci(N.value.snapshot))}activateRoutes(N,S,m){const d=N.value,f=S?S.value:null;if(Go(d),d===f)if(d.component){const E=m.getOrCreateContext(d.outlet);this.activateChildRoutes(N,S,E.children)}else this.activateChildRoutes(N,S,m);else if(d.component){const E=m.getOrCreateContext(d.outlet);if(this.routeReuseStrategy.shouldAttach(d.snapshot)){const M=this.routeReuseStrategy.retrieve(d.snapshot);this.routeReuseStrategy.store(d.snapshot,null),E.children.onOutletReAttached(M.contexts),E.attachRef=M.componentRef,E.route=M.route.value,E.outlet&&E.outlet.attach(M.componentRef,M.route.value),Go(M.route.value),this.activateChildRoutes(N,null,E.children)}else E.attachRef=null,E.route=d,E.outlet&&E.outlet.activateWith(d,E.injector),this.activateChildRoutes(N,null,E.children)}else this.activateChildRoutes(N,null,m)}}class Er{path;route;constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class K{component;route;constructor(N,S){this.component=N,this.route=S}}function G(A,N,S){const m=A._root;return it(m,N?N._root:null,S,[m.value])}function Re(A,N){const S=Symbol(),m=N.get(A,S);return m===S?"function"!=typeof A||(0,Q.LfX)(A)?N.get(A):A:m}function it(A,N,S,m,d={canDeactivateChecks:[],canActivateChecks:[]}){const f=ss(N);return A.children.forEach(E=>{(function Nt(A,N,S,m,d={canDeactivateChecks:[],canActivateChecks:[]}){const f=A.value,E=N?N.value:null,M=S?S.getContext(A.value.outlet):null;if(E&&f.routeConfig===E.routeConfig){const V=function Kt(A,N,S){if("function"==typeof S)return S(A,N);switch(S){case"pathParamsChange":return!Cn(A.url,N.url);case"pathParamsOrQueryParamsChange":return!Cn(A.url,N.url)||!sn(A.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mo(A,N)||!sn(A.queryParams,N.queryParams);default:return!mo(A,N)}}(E,f,f.routeConfig.runGuardsAndResolvers);V?d.canActivateChecks.push(new Er(m)):(f.data=E.data,f._resolvedData=E._resolvedData),it(A,N,f.component?M?M.children:null:S,m,d),V&&M&&M.outlet&&M.outlet.isActivated&&d.canDeactivateChecks.push(new K(M.outlet.component,E))}else E&&bn(N,M,d),d.canActivateChecks.push(new Er(m)),it(A,null,f.component?M?M.children:null:S,m,d)})(E,f[E.value.outlet],S,m.concat([E.value]),d),delete f[E.value.outlet]}),Object.entries(f).forEach(([E,M])=>bn(M,S.getContext(E),d)),d}function bn(A,N,S){const m=ss(A),d=A.value;Object.entries(m).forEach(([f,E])=>{bn(E,d.component?N?N.children.getContext(f):null:N,S)}),S.canDeactivateChecks.push(new K(d.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,d))}function pn(A){return"function"==typeof A}function Pi(A){return A instanceof Et.G||"EmptyError"===A?.name}const ri=Symbol("INITIAL_VALUE");function Oi(){return(0,tn.n)(A=>Vt(A.map(N=>N.pipe(Mt(1),function Ke(...A){const N=(0,He.lI)(A);return(0,Mn.N)((S,m)=>{(N?rt(A,S,N):rt(A,S)).subscribe(m)})}(ri)))).pipe((0,Ye.T)(N=>{for(const S of N)if(!0!==S){if(S===ri)return ri;if(!1===S||uo(S))return S}return!0}),(0,Y.p)(N=>N!==ri),Mt(1)))}function uo(A){return bt(A)||A instanceof Hs}function zs(A){return(0,Gt.F)(yt(N=>{if("boolean"!=typeof N)throw Fr(0,N)}),(0,Ye.T)(N=>!0===N))}class Fa{segmentGroup;constructor(N){this.segmentGroup=N||null}}class da extends Error{urlTree;constructor(N){super(),this.urlTree=N}}function Ws(A){return It(new Fa(A))}class hi{urlSerializer;urlTree;constructor(N,S){this.urlSerializer=N,this.urlTree=S}lineralizeSegments(N,S){let m=[],d=S.root;for(;;){if(m=m.concat(d.segments),0===d.numberOfChildren)return(0,fe.of)(m);if(d.numberOfChildren>1||!d.children[Dn])return It(new Q.wOt(4e3,!1));d=d.children[Dn]}}applyRedirectCommands(N,S,m,d,f){if("string"!=typeof S){const M=S,{queryParams:V,fragment:ee,routeConfig:we,url:Ge,outlet:gt,params:an,data:dn,title:Yn}=d,zn=(0,Q.N4e)(f,()=>M({params:an,data:dn,queryParams:V,fragment:ee,routeConfig:we,url:Ge,outlet:gt,title:Yn}));if(zn instanceof lr)throw new da(zn);S=zn}const E=this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),N,m);if("/"===S[0])throw new da(E);return E}applyRedirectCreateUrlTree(N,S,m,d){const f=this.createSegmentGroup(N,S.root,m,d);return new lr(f,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(N,S){const m={};return Object.entries(N).forEach(([d,f])=>{if("string"==typeof f&&":"===f[0]){const M=f.substring(1);m[d]=S[M]}else m[d]=f}),m}createSegmentGroup(N,S,m,d){const f=this.createSegments(N,S.segments,m,d);let E={};return Object.entries(S.children).forEach(([M,V])=>{E[M]=this.createSegmentGroup(N,V,m,d)}),new sr(f,E)}createSegments(N,S,m,d){return S.map(f=>":"===f.path[0]?this.findPosParam(N,f,d):this.findOrReturn(f,m))}findPosParam(N,S,m){const d=m[S.path.substring(1)];if(!d)throw new Q.wOt(4001,!1);return d}findOrReturn(N,S){let m=0;for(const d of S){if(d.path===N.path)return S.splice(m),d;m++}return N}}const Fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ls(A,N,S,m,d){const f=Gs(A,N,S);return f.matched?(m=function yi(A,N){return A.providers&&!A._injector&&(A._injector=(0,Q.Ol2)(A.providers,N,`Route: ${A.path}`)),A._injector??N}(N,m),function ms(A,N,S,m){const d=N.canMatch;if(!d||0===d.length)return(0,fe.of)(!0);const f=d.map(E=>{const M=Re(E,A);return Ir(function $i(A){return A&&pn(A.canMatch)}(M)?M.canMatch(N,S):(0,Q.N4e)(A,()=>M(N,S)))});return(0,fe.of)(f).pipe(Oi(),zs())}(m,N,S).pipe((0,Ye.T)(E=>!0===E?f:{...Fo}))):(0,fe.of)(f)}function Gs(A,N,S){if("**"===N.path)return function Ks(A){return{matched:!0,parameters:A.length>0?lt(A).parameters:{},consumedSegments:A,remainingSegments:[],positionalParamSegments:{}}}(S);if(""===N.path)return"full"===N.pathMatch&&(A.hasChildren()||S.length>0)?{...Fo}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const d=(N.matcher||fn)(S,A,N);if(!d)return{...Fo};const f={};Object.entries(d.posParams??{}).forEach(([M,V])=>{f[M]=V.path});const E=d.consumed.length>0?{...f,...d.consumed[d.consumed.length-1].parameters}:f;return{matched:!0,consumedSegments:d.consumed,remainingSegments:S.slice(d.consumed.length),parameters:E,positionalParamSegments:d.posParams??{}}}function Di(A,N,S,m){return S.length>0&&function Br(A,N,S){return S.some(m=>qs(A,N,m)&&Me(m)!==Dn)}(A,S,m)?{segmentGroup:new sr(N,Wr(m,new sr(S,A.children))),slicedSegments:[]}:0===S.length&&function Aa(A,N,S){return S.some(m=>qs(A,N,m))}(A,S,m)?{segmentGroup:new sr(A.segments,ha(A,S,m,A.children)),slicedSegments:S}:{segmentGroup:new sr(A.segments,A.children),slicedSegments:S}}function ha(A,N,S,m){const d={};for(const f of S)if(qs(A,N,f)&&!m[Me(f)]){const E=new sr([],{});d[Me(f)]=E}return{...m,...d}}function Wr(A,N){const S={};S[Dn]=N;for(const m of A)if(""===m.path&&Me(m)!==Dn){const d=new sr([],{});S[Me(m)]=d}return S}function qs(A,N,S){return(!(A.hasChildren()||N.length>0)||"full"!==S.pathMatch)&&""===S.path}class Ca{}class Va{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(N,S,m,d,f,E,M){this.injector=N,this.configLoader=S,this.rootComponentType=m,this.config=d,this.urlTree=f,this.paramsInheritanceStrategy=E,this.urlSerializer=M,this.applyRedirects=new hi(this.urlSerializer,this.urlTree)}noMatchError(N){return new Q.wOt(4002,`'${N.segmentGroup}'`)}recognize(){const N=Di(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(N).pipe((0,Ye.T)(({children:S,rootSnapshot:m})=>{const d=new ni(m,S),f=new bs("",d),E=function oe(A,N,S=null,m=null){return Fe(ve(A),N,S,m)}(m,[],this.urlTree.queryParams,this.urlTree.fragment);return E.queryParams=this.urlTree.queryParams,f.url=this.urlSerializer.serialize(E),{state:f,tree:E}}))}match(N){const S=new No([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Dn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,N,Dn,S).pipe((0,Ye.T)(m=>({children:m,rootSnapshot:S})),(0,on.W)(m=>{if(m instanceof da)return this.urlTree=m.urlTree,this.match(m.urlTree.root);throw m instanceof Fa?this.noMatchError(m):m}))}processSegmentGroup(N,S,m,d,f){return 0===m.segments.length&&m.hasChildren()?this.processChildren(N,S,m,f):this.processSegment(N,S,m,m.segments,d,!0,f).pipe((0,Ye.T)(E=>E instanceof ni?[E]:[]))}processChildren(N,S,m,d){const f=[];for(const E of Object.keys(m.children))"primary"===E?f.unshift(E):f.push(E);return(0,Ie.H)(f).pipe((0,qe.H)(E=>{const M=m.children[E],V=function ft(A,N){const S=A.filter(m=>Me(m)===N);return S.push(...A.filter(m=>Me(m)!==N)),S}(S,E);return this.processSegmentGroup(N,V,M,E,d)}),function nr(A,N){return(0,Mn.N)(function Yt(A,N,S,m,d){return(f,E)=>{let M=S,V=N,ee=0;f.subscribe((0,At._)(E,we=>{const Ge=ee++;V=M?A(V,we,Ge):(M=!0,we),m&&E.next(V)},d&&(()=>{M&&E.next(V),E.complete()})))}}(A,N,arguments.length>=2,!0))}((E,M)=>(E.push(...M),E)),de(null),function Xn(A,N){const S=arguments.length>=2;return m=>m.pipe(A?(0,Y.p)((d,f)=>A(d,f,m)):he.D,Wt(1),S?de(N):ye(()=>new Et.G))}(),(0,le.Z)(E=>{if(null===E)return Ws(m);const M=en(E);return function Qo(A){A.sort((N,S)=>N.value.outlet===Dn?-1:S.value.outlet===Dn?1:N.value.outlet.localeCompare(S.value.outlet))}(M),(0,fe.of)(M)}))}processSegment(N,S,m,d,f,E,M){return(0,Ie.H)(S).pipe((0,qe.H)(V=>this.processSegmentAgainstRoute(V._injector??N,S,V,m,d,f,E,M).pipe((0,on.W)(ee=>{if(ee instanceof Fa)return(0,fe.of)(null);throw ee}))),pe(V=>!!V),(0,on.W)(V=>{if(Pi(V))return function Za(A,N,S){return 0===N.length&&!A.children[S]}(m,d,f)?(0,fe.of)(new Ca):Ws(m);throw V}))}processSegmentAgainstRoute(N,S,m,d,f,E,M,V){return Me(m)===E||E!==Dn&&qs(d,f,m)?void 0===m.redirectTo?this.matchSegmentAgainstRoute(N,d,m,f,E,V):this.allowRedirects&&M?this.expandSegmentAgainstRouteUsingRedirect(N,d,S,m,f,E,V):Ws(d):Ws(d)}expandSegmentAgainstRouteUsingRedirect(N,S,m,d,f,E,M){const{matched:V,parameters:ee,consumedSegments:we,positionalParamSegments:Ge,remainingSegments:gt}=Gs(S,d,f);if(!V)return Ws(S);"string"==typeof d.redirectTo&&"/"===d.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const an=new No(f,ee,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fi(d),Me(d),d.component??d._loadedComponent??null,d,$o(d)),dn=Zo(an,M,this.paramsInheritanceStrategy);an.params=Object.freeze(dn.params),an.data=Object.freeze(dn.data);const Yn=this.applyRedirects.applyRedirectCommands(we,d.redirectTo,Ge,an,N);return this.applyRedirects.lineralizeSegments(d,Yn).pipe((0,le.Z)(zn=>this.processSegment(N,m,S,zn.concat(gt),E,!1,M)))}matchSegmentAgainstRoute(N,S,m,d,f,E){const M=Ls(S,m,d,N);return"**"===m.path&&(S.children={}),M.pipe((0,tn.n)(V=>V.matched?this.getChildConfig(N=m._injector??N,m,d).pipe((0,tn.n)(({routes:ee})=>{const we=m._loadedInjector??N,{parameters:Ge,consumedSegments:gt,remainingSegments:an}=V,dn=new No(gt,Ge,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fi(m),Me(m),m.component??m._loadedComponent??null,m,$o(m)),Yn=Zo(dn,E,this.paramsInheritanceStrategy);dn.params=Object.freeze(Yn.params),dn.data=Object.freeze(Yn.data);const{segmentGroup:zn,slicedSegments:Jn}=Di(S,gt,an,ee);if(0===Jn.length&&zn.hasChildren())return this.processChildren(we,ee,zn,dn).pipe((0,Ye.T)(Fi=>new ni(dn,Fi)));if(0===ee.length&&0===Jn.length)return(0,fe.of)(new ni(dn,[]));const ur=Me(m)===f;return this.processSegment(we,ee,zn,Jn,ur?Dn:f,!0,dn).pipe((0,Ye.T)(Fi=>new ni(dn,Fi instanceof ni?[Fi]:[])))})):Ws(S)))}getChildConfig(N,S,m){return S.children?(0,fe.of)({routes:S.children,injector:N}):S.loadChildren?void 0!==S._loadedRoutes?(0,fe.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function Da(A,N,S,m){const d=N.canLoad;if(void 0===d||0===d.length)return(0,fe.of)(!0);const f=d.map(E=>{const M=Re(E,A);return Ir(function Zn(A){return A&&pn(A.canLoad)}(M)?M.canLoad(N,S):(0,Q.N4e)(A,()=>M(N,S)))});return(0,fe.of)(f).pipe(Oi(),zs())}(N,S,m).pipe((0,le.Z)(d=>d?this.configLoader.loadChildren(N,S).pipe(yt(f=>{S._loadedRoutes=f.routes,S._loadedInjector=f.injector})):function Fs(){return It(vr(!1,Sr.GuardRejected))}())):(0,fe.of)({routes:[],injector:N})}}function qr(A){const N=A.value.routeConfig;return N&&""===N.path}function en(A){const N=[],S=new Set;for(const m of A){if(!qr(m)){N.push(m);continue}const d=N.find(f=>m.value.routeConfig===f.value.routeConfig);void 0!==d?(d.children.push(...m.children),S.add(d)):N.push(m)}for(const m of S){const d=en(m.children);N.push(new ni(m.value,d))}return N.filter(m=>!S.has(m))}function fi(A){return A.data||{}}function $o(A){return A.resolve||{}}function Yo(A){const N=A.children.map(S=>Yo(S)).flat();return[A,...N]}function H(A){return(0,tn.n)(N=>{const S=A(N);return S?(0,Ie.H)(S).pipe((0,Ye.T)(()=>N)):(0,fe.of)(N)})}let Ae=(()=>{class A{buildTitle(S){let m,d=S.root;for(;void 0!==d;)m=this.getResolvedTitleForRoute(d)??m,d=d.children.find(f=>f.outlet===Dn);return m}getResolvedTitleForRoute(S){return S.data[Nr]}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:()=>(0,Q.WQX)(xt),providedIn:"root"})}return A})(),xt=(()=>{class A extends Ae{title;constructor(S){super(),this.title=S}updateTitle(S){const m=this.buildTitle(S);void 0!==m&&this.title.setTitle(m)}static \u0275fac=function(m){return new(m||A)(Q.KVO(tr.hE))};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();const Sn=new Q.nKC("",{providedIn:"root",factory:()=>({})}),cr=new Q.nKC("");let Hi=(()=>{class A{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,Q.WQX)(Q.Ql9);loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,fe.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const m=Ir(S.loadComponent()).pipe((0,Ye.T)(Qs),yt(f=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=f}),(0,Hn.j)(()=>{this.componentLoaders.delete(S)})),d=new ht(m,()=>new wn.B).pipe(qn());return this.componentLoaders.set(S,d),d}loadChildren(S,m){if(this.childrenLoaders.get(m))return this.childrenLoaders.get(m);if(m._loadedRoutes)return(0,fe.of)({routes:m._loadedRoutes,injector:m._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(m);const f=function qi(A,N,S,m){return Ir(A.loadChildren()).pipe((0,Ye.T)(Qs),(0,le.Z)(d=>d instanceof Q.Co$||Array.isArray(d)?(0,fe.of)(d):(0,Ie.H)(N.compileModuleAsync(d))),(0,Ye.T)(d=>{m&&m(A);let f,E,M=!1;return Array.isArray(d)?(E=d,!0):(f=d.create(S).injector,E=f.get(cr,[],{optional:!0,self:!0}).flat()),{routes:E.map(ko),injector:f}}))}(m,this.compiler,S,this.onLoadEndListener).pipe((0,Hn.j)(()=>{this.childrenLoaders.delete(m)})),E=new ht(f,()=>new wn.B).pipe(qn());return this.childrenLoaders.set(m,E),E}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();function Qs(A){return function Do(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let Sa=(()=>{class A{static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:()=>(0,Q.WQX)(us),providedIn:"root"})}return A})(),us=(()=>{class A{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,m){return S}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();const Ao=new Q.nKC(""),ys=new Q.nKC("");function ls(A,N,S){const m=A.get(ys),d=A.get(T.q);return A.get(Q.SKi).runOutsideAngular(()=>{if(!d.startViewTransition||m.skipNextTransition)return m.skipNextTransition=!1,new Promise(ee=>setTimeout(ee));let f;const E=new Promise(ee=>{f=ee}),M=d.startViewTransition(()=>(f(),function fa(A){return new Promise(N=>{(0,Q.mal)({read:()=>setTimeout(N)},{injector:A})})}(A))),{onViewTransitionCreated:V}=m;return V&&(0,Q.N4e)(A,()=>V({transition:M,from:N,to:S})),E})}const Nn=new Q.nKC("");let pa=(()=>{class A{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new wn.B;transitionAbortSubject=new wn.B;configLoader=(0,Q.WQX)(Hi);environmentInjector=(0,Q.WQX)(Q.uvJ);destroyRef=(0,Q.WQX)(Q.abz);urlSerializer=(0,Q.WQX)(xr);rootContexts=(0,Q.WQX)(jn);location=(0,Q.WQX)(O.aZ);inputBindingEnabled=null!==(0,Q.WQX)(Yr,{optional:!0});titleStrategy=(0,Q.WQX)(Ae);options=(0,Q.WQX)(Sn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,Q.WQX)(Sa);createViewTransition=(0,Q.WQX)(Ao,{optional:!0});navigationErrorHandler=(0,Q.WQX)(Nn,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,fe.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=d=>this.events.next(new cn(d)),this.configLoader.onLoadStartListener=d=>this.events.next(new Dt(d)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(S){const m=++this.navigationId;this.transitions?.next({...S,extractedUrl:this.urlHandlingStrategy.extract(S.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:m})}setupNavigations(S){return this.transitions=new Oe.t(null),this.transitions.pipe((0,Y.p)(m=>null!==m),(0,tn.n)(m=>{let d=!1,f=!1;return(0,fe.of)(m).pipe((0,tn.n)(E=>{if(this.navigationId>m.id)return this.cancelNavigationTransition(m,"",Sr.SupersededByNewNavigation),ct.w;this.currentTransition=m,this.currentNavigation={id:E.id,initialUrl:E.rawUrl,extractedUrl:E.extractedUrl,targetBrowserUrl:"string"==typeof E.extras.browserUrl?this.urlSerializer.parse(E.extras.browserUrl):E.extras.browserUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const M=!S.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!M&&"reload"!==(E.extras.onSameUrlNavigation??S.onSameUrlNavigation)){const ee="";return this.events.next(new Bo(E.id,this.urlSerializer.serialize(E.rawUrl),ee,ao.IgnoredSameUrlNavigation)),E.resolve(!1),ct.w}if(this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl))return(0,fe.of)(E).pipe((0,tn.n)(ee=>(this.events.next(new zr(ee.id,this.urlSerializer.serialize(ee.extractedUrl),ee.source,ee.restoredState)),ee.id!==this.navigationId?ct.w:Promise.resolve(ee))),function Ki(A,N,S,m,d,f){return(0,le.Z)(E=>function Ya(A,N,S,m,d,f,E="emptyOnly"){return new Va(A,N,S,m,d,E,f).recognize()}(A,N,S,m,E.extractedUrl,d,f).pipe((0,Ye.T)(({state:M,tree:V})=>({...E,targetSnapshot:M,urlAfterRedirects:V}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,this.paramsInheritanceStrategy),yt(ee=>{m.targetSnapshot=ee.targetSnapshot,m.urlAfterRedirects=ee.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ee.urlAfterRedirects};const we=new $(ee.id,this.urlSerializer.serialize(ee.extractedUrl),this.urlSerializer.serialize(ee.urlAfterRedirects),ee.targetSnapshot);this.events.next(we)}));if(M&&this.urlHandlingStrategy.shouldProcessUrl(E.currentRawUrl)){const{id:ee,extractedUrl:we,source:Ge,restoredState:gt,extras:an}=E,dn=new zr(ee,this.urlSerializer.serialize(we),Ge,gt);this.events.next(dn);const Yn=as(this.rootComponentType).snapshot;return this.currentTransition=m={...E,targetSnapshot:Yn,urlAfterRedirects:we,extras:{...an,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=we,(0,fe.of)(m)}{const ee="";return this.events.next(new Bo(E.id,this.urlSerializer.serialize(E.extractedUrl),ee,ao.IgnoredByUrlHandlingStrategy)),E.resolve(!1),ct.w}}),yt(E=>{const M=new ge(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(M)}),(0,Ye.T)(E=>(this.currentTransition=m={...E,guards:G(E.targetSnapshot,E.currentSnapshot,this.rootContexts)},m)),function vi(A,N){return(0,le.Z)(S=>{const{targetSnapshot:m,currentSnapshot:d,guards:{canActivateChecks:f,canDeactivateChecks:E}}=S;return 0===E.length&&0===f.length?(0,fe.of)({...S,guardsResult:!0}):function Mi(A,N,S,m){return(0,Ie.H)(A).pipe((0,le.Z)(d=>function la(A,N,S,m,d){const f=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,fe.of)(!0);const E=f.map(M=>{const V=Jt(N)??d,ee=Re(M,V);return Ir(function _i(A){return A&&pn(A.canDeactivate)}(ee)?ee.canDeactivate(A,N,S,m):(0,Q.N4e)(V,()=>ee(A,N,S,m))).pipe(pe())});return(0,fe.of)(E).pipe(Oi())}(d.component,d.route,S,N,m)),pe(d=>!0!==d,!0))}(E,m,d,A).pipe((0,le.Z)(M=>M&&function pr(A){return"boolean"==typeof A}(M)?function bo(A,N,S,m){return(0,Ie.H)(N).pipe((0,qe.H)(d=>rt(function yo(A,N){return null!==A&&N&&N(new On(A)),(0,fe.of)(!0)}(d.route.parent,m),function ii(A,N){return null!==A&&N&&N(new Xr(A)),(0,fe.of)(!0)}(d.route,m),function gs(A,N,S){const m=N[N.length-1],f=N.slice(0,N.length-1).reverse().map(E=>function Te(A){const N=A.routeConfig?A.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:A,guards:N}:null}(E)).filter(E=>null!==E).map(E=>wt(()=>{const M=E.guards.map(V=>{const ee=Jt(E.node)??S,we=Re(V,ee);return Ir(function Ii(A){return A&&pn(A.canActivateChild)}(we)?we.canActivateChild(m,A):(0,Q.N4e)(ee,()=>we(m,A))).pipe(pe())});return(0,fe.of)(M).pipe(Oi())}));return(0,fe.of)(f).pipe(Oi())}(A,d.path,S),function qo(A,N,S){const m=N.routeConfig?N.routeConfig.canActivate:null;if(!m||0===m.length)return(0,fe.of)(!0);const d=m.map(f=>wt(()=>{const E=Jt(N)??S,M=Re(f,E);return Ir(function Ur(A){return A&&pn(A.canActivate)}(M)?M.canActivate(N,A):(0,Q.N4e)(E,()=>M(N,A))).pipe(pe())}));return(0,fe.of)(d).pipe(Oi())}(A,d.route,S))),pe(d=>!0!==d,!0))}(m,f,A,N):(0,fe.of)(M)),(0,Ye.T)(M=>({...S,guardsResult:M})))})}(this.environmentInjector,E=>this.events.next(E)),yt(E=>{if(m.guardsResult=E.guardsResult,E.guardsResult&&"boolean"!=typeof E.guardsResult)throw Fr(0,E.guardsResult);const M=new q(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.events.next(M)}),(0,Y.p)(E=>!!E.guardsResult||(this.cancelNavigationTransition(E,"",Sr.GuardRejected),!1)),H(E=>{if(0!==E.guards.canActivateChecks.length)return(0,fe.of)(E).pipe(yt(M=>{const V=new te(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(V)}),(0,tn.n)(M=>{let V=!1;return(0,fe.of)(M).pipe(function Xo(A,N){return(0,le.Z)(S=>{const{targetSnapshot:m,guards:{canActivateChecks:d}}=S;if(!d.length)return(0,fe.of)(S);const f=new Set(d.map(V=>V.route)),E=new Set;for(const V of f)if(!E.has(V))for(const ee of Yo(V))E.add(ee);let M=0;return(0,Ie.H)(E).pipe((0,qe.H)(V=>f.has(V)?function oi(A,N,S,m){const d=A.routeConfig,f=A._resolve;return void 0!==d?.title&&!Ko(d)&&(f[Nr]=d.title),function P(A,N,S,m){const d=Xi(A);if(0===d.length)return(0,fe.of)({});const f={};return(0,Ie.H)(d).pipe((0,le.Z)(E=>function k(A,N,S,m){const d=Jt(N)??m,f=Re(A,d);return Ir(f.resolve?f.resolve(N,S):(0,Q.N4e)(d,()=>f(N,S)))}(A[E],N,S,m).pipe(pe(),yt(M=>{if(M instanceof Hs)throw Fr(new Gn,M);f[E]=M}))),Wt(1),(0,Ye.T)(()=>f),(0,on.W)(E=>Pi(E)?ct.w:It(E)))}(f,A,N,m).pipe((0,Ye.T)(E=>(A._resolvedData=E,A.data=Zo(A,A.parent,S).resolve,null)))}(V,m,A,N):(V.data=Zo(V,V.parent,A).resolve,(0,fe.of)(void 0))),yt(()=>M++),Wt(1),(0,le.Z)(V=>M===E.size?(0,fe.of)(S):ct.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),yt({next:()=>V=!0,complete:()=>{V||this.cancelNavigationTransition(M,"",Sr.NoDataFromResolver)}}))}),yt(M=>{const V=new Pe(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(V)}))}),H(E=>{const M=V=>{const ee=[];V.routeConfig?.loadComponent&&!V.routeConfig._loadedComponent&&ee.push(this.configLoader.loadComponent(V.routeConfig).pipe(yt(we=>{V.component=we}),(0,Ye.T)(()=>{})));for(const we of V.children)ee.push(...M(we));return ee};return Vt(M(E.targetSnapshot.root)).pipe(de(null),Mt(1))}),H(()=>this.afterPreactivation()),(0,tn.n)(()=>{const{currentSnapshot:E,targetSnapshot:M}=m,V=this.createViewTransition?.(this.environmentInjector,E.root,M.root);return V?(0,Ie.H)(V).pipe((0,Ye.T)(()=>m)):(0,fe.of)(m)}),(0,Ye.T)(E=>{const M=function xo(A,N,S){const m=ps(A,N._root,S?S._root:void 0);return new En(m,N)}(S.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return this.currentTransition=m={...E,targetRouterState:M},this.currentNavigation.targetRouterState=M,m}),yt(()=>{this.events.next(new Ln)}),((A,N,S,m)=>(0,Ye.T)(d=>(new jo(N,d.targetRouterState,d.currentRouterState,S,m).activate(A),d)))(this.rootContexts,S.routeReuseStrategy,E=>this.events.next(E),this.inputBindingEnabled),Mt(1),yt({next:E=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Po(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects))),this.titleStrategy?.updateTitle(E.targetRouterState.snapshot),E.resolve(!0)},complete:()=>{d=!0}}),function Vn(A){return(0,Mn.N)((N,S)=>{(0,Ze.Tg)(A).subscribe((0,At._)(S,()=>S.complete(),Qt.l)),!S.closed&&N.subscribe(S)})}(this.transitionAbortSubject.pipe(yt(E=>{throw E}))),(0,Hn.j)(()=>{!d&&!f&&this.cancelNavigationTransition(m,"",Sr.SupersededByNewNavigation),this.currentTransition?.id===m.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,on.W)(E=>{if(this.destroyed)return m.resolve(!1),ct.w;if(f=!0,ra(E))this.events.next(new Wi(m.id,this.urlSerializer.serialize(m.extractedUrl),E.message,E.cancellationCode)),function eo(A){return ra(A)&&bt(A.url)}(E)?this.events.next(new _r(E.url,E.navigationBehaviorOptions)):m.resolve(!1);else{const M=new io(m.id,this.urlSerializer.serialize(m.extractedUrl),E,m.targetSnapshot??void 0);try{const V=(0,Q.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(M));if(!(V instanceof Hs))throw this.events.next(M),E;{const{message:ee,cancellationCode:we}=Fr(0,V);this.events.next(new Wi(m.id,this.urlSerializer.serialize(m.extractedUrl),ee,we)),this.events.next(new _r(V.redirectTo,V.navigationBehaviorOptions))}}catch(V){this.options.resolveNavigationPromiseOnError?m.resolve(!1):m.reject(V)}}return ct.w}))}))}cancelNavigationTransition(S,m,d){const f=new Wi(S.id,this.urlSerializer.serialize(S.extractedUrl),m,d);this.events.next(f),S.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const S=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),m=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return S.toString()!==m?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();function Ms(A){return A!==Fn}let _s=(()=>{class A{static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:()=>(0,Q.WQX)(Ua),providedIn:"root"})}return A})();class Ra{shouldDetach(N){return!1}store(N,S){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,S){return N.routeConfig===S.routeConfig}}let Ua=(()=>{class A extends Ra{static \u0275fac=(()=>{let S;return function(d){return(S||(S=Q.xGo(A)))(d||A)}})();static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})(),zi=(()=>{class A{urlSerializer=(0,Q.WQX)(xr);options=(0,Q.WQX)(Sn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,Q.WQX)(O.aZ);urlHandlingStrategy=(0,Q.WQX)(Sa);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new lr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:S,initialUrl:m,targetBrowserUrl:d}){const f=void 0!==S?this.urlHandlingStrategy.merge(S,m):m,E=d??f;return E instanceof lr?this.urlSerializer.serialize(E):E}commitTransition({targetRouterState:S,finalUrl:m,initialUrl:d}){m&&S?(this.currentUrlTree=m,this.rawUrlTree=this.urlHandlingStrategy.merge(m,d),this.routerState=S):this.rawUrlTree=d}routerState=as(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:S}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S??this.rawUrlTree)}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:()=>(0,Q.WQX)(Qi),providedIn:"root"})}return A})(),Qi=(()=>{class A extends zi{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(S){return this.location.subscribe(m=>{"popstate"===m.type&&setTimeout(()=>{S(m.url,m.state,"popstate")})})}handleRouterEvent(S,m){S instanceof zr?this.updateStateMemento():S instanceof Bo?this.commitTransition(m):S instanceof $?"eager"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(m),m)):S instanceof Ln?(this.commitTransition(m),"deferred"===this.urlUpdateStrategy&&!m.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(m),m)):S instanceof Wi&&(S.code===Sr.GuardRejected||S.code===Sr.NoDataFromResolver)?this.restoreHistory(m):S instanceof io?this.restoreHistory(m,!0):S instanceof Po&&(this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId)}setBrowserUrl(S,{extras:m,id:d}){const{replaceUrl:f,state:E}=m;if(this.location.isCurrentPathEqualTo(S)||f){const M=this.browserPageId,V={...E,...this.generateNgRouterState(d,M)};this.location.replaceState(S,"",V)}else{const M={...E,...this.generateNgRouterState(d,this.browserPageId+1)};this.location.go(S,"",M)}}restoreHistory(S,m=!1){if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-this.browserPageId;0!==f?this.location.historyGo(f):this.getCurrentUrlTree()===S.finalUrl&&0===f&&(this.resetInternalState(S),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(m&&this.resetInternalState(S),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,m){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:m}:{navigationId:S}}static \u0275fac=(()=>{let S;return function(d){return(S||(S=Q.xGo(A)))(d||A)}})();static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();function Ai(A,N){A.events.pipe((0,Y.p)(S=>S instanceof Po||S instanceof Wi||S instanceof io||S instanceof Bo),(0,Ye.T)(S=>S instanceof Po||S instanceof Bo?0:S instanceof Wi&&(S.code===Sr.Redirect||S.code===Sr.SupersededByNewNavigation)?2:1),(0,Y.p)(S=>2!==S),Mt(1)).subscribe(()=>{N()})}const Ja={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},to={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vc=(()=>{class A{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,Q.WQX)(Q.H3F);stateManager=(0,Q.WQX)(zi);options=(0,Q.WQX)(Sn,{optional:!0})||{};pendingTasks=(0,Q.WQX)(Q.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,Q.WQX)(pa);urlSerializer=(0,Q.WQX)(xr);location=(0,Q.WQX)(O.aZ);urlHandlingStrategy=(0,Q.WQX)(Sa);_events=new wn.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,Q.WQX)(_s);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,Q.WQX)(cr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,Q.WQX)(Yr,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:S=>{this.console.warn(S)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Un.yU;subscribeToNavigationEvents(){const S=this.navigationTransitions.events.subscribe(m=>{try{const d=this.navigationTransitions.currentTransition,f=this.navigationTransitions.currentNavigation;if(null!==d&&null!==f)if(this.stateManager.handleRouterEvent(m,f),m instanceof Wi&&m.code!==Sr.Redirect&&m.code!==Sr.SupersededByNewNavigation)this.navigated=!0;else if(m instanceof Po)this.navigated=!0;else if(m instanceof _r){const E=m.navigationBehaviorOptions,M=this.urlHandlingStrategy.merge(m.url,d.currentRawUrl),V={browserUrl:d.extras.browserUrl,info:d.extras.info,skipLocationChange:d.extras.skipLocationChange,replaceUrl:d.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Ms(d.source),...E};this.scheduleNavigation(M,Fn,null,V,{resolve:d.resolve,reject:d.reject,promise:d.promise})}(function Vs(A){return!(A instanceof Ln||A instanceof _r)})(m)&&this._events.next(m)}catch(d){this.navigationTransitions.transitionAbortSubject.next(d)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((S,m,d)=>{this.navigateToSyncWithBrowser(S,d,m)})}navigateToSyncWithBrowser(S,m,d){const f={replaceUrl:!0},E=d?.navigationId?d:null;if(d){const V={...d};delete V.navigationId,delete V.\u0275routerPageId,0!==Object.keys(V).length&&(f.state=V)}const M=this.parseUrl(S);this.scheduleNavigation(M,m,E,f)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(ko),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,m={}){const{relativeTo:d,queryParams:f,fragment:E,queryParamsHandling:M,preserveFragment:V}=m,ee=V?this.currentUrlTree.fragment:E;let Ge,we=null;switch(M??this.options.defaultQueryParamsHandling){case"merge":we={...this.currentUrlTree.queryParams,...f};break;case"preserve":we=this.currentUrlTree.queryParams;break;default:we=f||null}null!==we&&(we=this.removeEmptyProps(we));try{Ge=ve(d?d.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof S[0]||"/"!==S[0][0])&&(S=[]),Ge=this.currentUrlTree.root}return Fe(Ge,S,we,ee??null)}navigateByUrl(S,m={skipLocationChange:!1}){const d=bt(S)?S:this.parseUrl(S),f=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(f,Fn,null,m)}navigate(S,m={skipLocationChange:!1}){return function Jo(A){for(let N=0;N<A.length;N++)if(null==A[N])throw new Q.wOt(4008,!1)}(S),this.navigateByUrl(this.createUrlTree(S,m),m)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){try{return this.urlSerializer.parse(S)}catch{return this.urlSerializer.parse("/")}}isActive(S,m){let d;if(d=!0===m?{...Ja}:!1===m?{...to}:m,bt(S))return si(this.currentUrlTree,S,d);const f=this.parseUrl(S);return si(this.currentUrlTree,f,d)}removeEmptyProps(S){return Object.entries(S).reduce((m,[d,f])=>(null!=f&&(m[d]=f),m),{})}scheduleNavigation(S,m,d,f,E){if(this.disposed)return Promise.resolve(!1);let M,V,ee;E?(M=E.resolve,V=E.reject,ee=E.promise):ee=new Promise((Ge,gt)=>{M=Ge,V=gt});const we=this.pendingTasks.add();return Ai(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(we))}),this.navigationTransitions.handleNavigationRequest({source:m,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:f,resolve:M,reject:V,promise:ee,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ee.catch(Ge=>Promise.reject(Ge))}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},5196:(In,$e,j)=>{"use strict";j.d($e,{C:()=>Q,U:()=>I});var T=j(1635),O=j(8071);function Q(Se){return(0,T.AQ)(this,arguments,function*(){const Ie=Se.getReader();try{for(;;){const{value:fe,done:Oe}=yield(0,T.N3)(Ie.read());if(Oe)return yield(0,T.N3)(void 0);yield yield(0,T.N3)(fe)}}finally{Ie.releaseLock()}})}function I(Se){return(0,O.T)(Se?.getReader)}},5207:(In,$e,j)=>{"use strict";j.d($e,{Wk:()=>Bn,iI:()=>Zr,lh:()=>Ut});var T=j(6048),O=j(1360),Q=j(9361);let Xe=(()=>{class ce{static \u0275prov=(0,O.jDH)({token:ce,providedIn:"root",factory:()=>new Ie((0,O.WQX)(Q.q),window)})}return ce})();class Ie{document;window;offset=()=>[0,0];constructor(nt,Me){this.document=nt,this.window=Me}setOffset(nt){this.offset=Array.isArray(nt)?()=>nt:nt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(nt){this.window.scrollTo(nt[0],nt[1])}scrollToAnchor(nt){const Me=function fe(ce,nt){const Me=ce.getElementById(nt)||ce.getElementsByName(nt)[0];if(Me)return Me;if("function"==typeof ce.createTreeWalker&&ce.body&&"function"==typeof ce.body.attachShadow){const ft=ce.createTreeWalker(ce.body,NodeFilter.SHOW_ELEMENT);let Jt=ft.currentNode;for(;Jt;){const vn=Jt.shadowRoot;if(vn){const jn=vn.getElementById(nt)||vn.querySelector(`[name="${nt}"]`);if(jn)return jn}Jt=ft.nextNode()}}return null}(this.document,nt);Me&&(this.scrollToElement(Me),Me.focus())}setHistoryScrollRestoration(nt){this.window.history.scrollRestoration=nt}scrollToElement(nt){const Me=nt.getBoundingClientRect(),ft=Me.left+this.window.pageXOffset,Jt=Me.top+this.window.pageYOffset,vn=this.offset();this.window.scrollTo(ft-vn[0],Jt-vn[1])}}var bt=j(2881),oe=j(5072),ve=j(1413),Fe=j(7673),Rt=j(8455),vt=j(6365),pt=j(5964),kt=j(274),nn=j(1397);let Bn=(()=>{class ce{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ve.B;constructor(Me,ft,Jt,vn,jn,Ji){this.router=Me,this.route=ft,this.tabIndexAttribute=Jt,this.renderer=vn,this.el=jn,this.locationStrategy=Ji;const go=jn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===go||"area"===go,this.isAnchorElement?this.subscription=Me.events.subscribe(xs=>{xs instanceof oe.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(Me){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Me)}ngOnChanges(Me){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(Me){null==Me?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,oe.wO)(Me)||Array.isArray(Me)?Me:[Me],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Me,ft,Jt,vn,jn){const Ji=this.urlTree;return!!(null===Ji||this.isAnchorElement&&(0!==Me||ft||Jt||vn||jn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Ji,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Me=this.urlTree;this.href=null!==Me&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Me)):null;const ft=null===this.href?null:(0,O.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ft)}applyAttributeValue(Me,ft){const Jt=this.renderer,vn=this.el.nativeElement;null!==ft?Jt.setAttribute(vn,Me,ft):Jt.removeAttribute(vn,Me)}get urlTree(){return null===this.routerLinkInput?null:(0,oe.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(ft){return new(ft||ce)(O.rXU(oe.Ix),O.rXU(oe.nX),O.kS0("tabindex"),O.rXU(O.sFG),O.rXU(O.aKT),O.rXU(T.hb))};static \u0275dir=O.FsC({type:ce,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(ft,Jt){1&ft&&O.bIt("click",function(jn){return Jt.onClick(jn.button,jn.ctrlKey,jn.shiftKey,jn.altKey,jn.metaKey)}),2&ft&&O.BMQ("target",Jt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",O.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",O.L39],replaceUrl:[2,"replaceUrl","replaceUrl",O.L39],routerLink:"routerLink"},features:[O.OA$]})}return ce})();class ar{}let Ee=(()=>{class ce{router;injector;preloadingStrategy;loader;subscription;constructor(Me,ft,Jt,vn){this.router=Me,this.injector=ft,this.preloadingStrategy=Jt,this.loader=vn}setUpPreloading(){this.subscription=this.router.events.pipe((0,pt.p)(Me=>Me instanceof oe.wF),(0,kt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Me,ft){const Jt=[];for(const vn of ft){vn.providers&&!vn._injector&&(vn._injector=(0,O.Ol2)(vn.providers,Me,`Route: ${vn.path}`));const jn=vn._injector??Me,Ji=vn._loadedInjector??jn;(vn.loadChildren&&!vn._loadedRoutes&&void 0===vn.canLoad||vn.loadComponent&&!vn._loadedComponent)&&Jt.push(this.preloadConfig(jn,vn)),(vn.children||vn._loadedRoutes)&&Jt.push(this.processRoutes(Ji,vn.children??vn._loadedRoutes))}return(0,Rt.H)(Jt).pipe((0,vt.U)())}preloadConfig(Me,ft){return this.preloadingStrategy.preload(ft,()=>{let Jt;Jt=ft.loadChildren&&void 0===ft.canLoad?this.loader.loadChildren(Me,ft):(0,Fe.of)(null);const vn=Jt.pipe((0,nn.Z)(jn=>null===jn?(0,Fe.of)(void 0):(ft._loadedRoutes=jn.routes,ft._loadedInjector=jn.injector,this.processRoutes(jn.injector??Me,jn.routes))));if(ft.loadComponent&&!ft._loadedComponent){const jn=this.loader.loadComponent(ft);return(0,Rt.H)([vn,jn]).pipe((0,vt.U)())}return vn})}static \u0275fac=function(ft){return new(ft||ce)(O.KVO(oe.Ix),O.KVO(O.uvJ),O.KVO(ar),O.KVO(oe.D$))};static \u0275prov=O.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();const Ue=new O.nKC("");let Qe=(()=>{class ce{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(Me,ft,Jt,vn,jn={}){this.urlSerializer=Me,this.transitions=ft,this.viewportScroller=Jt,this.zone=vn,this.options=jn,jn.scrollPositionRestoration||="disabled",jn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Me=>{Me instanceof oe.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Me.navigationTrigger,this.restoredId=Me.restoredState?Me.restoredState.navigationId:0):Me instanceof oe.wF?(this.lastId=Me.id,this.scheduleScrollEvent(Me,this.urlSerializer.parse(Me.urlAfterRedirects).fragment)):Me instanceof oe.lW&&Me.code===oe.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Me,this.urlSerializer.parse(Me.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Me=>{Me instanceof oe.OY&&(Me.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Me.position):Me.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Me.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Me,ft){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new oe.OY(Me,"popstate"===this.lastSource?this.store[this.restoredId]:null,ft))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(ft){O.QTQ()};static \u0275prov=O.jDH({token:ce,factory:ce.\u0275fac})}return ce})();function Ut(ce,...nt){return(0,O.EmA)([{provide:oe.bw,multi:!0,useValue:ce},[],{provide:oe.nX,useFactory:zt,deps:[oe.Ix]},{provide:O.iLQ,multi:!0,useFactory:Po},nt.map(Me=>Me.\u0275providers)])}function zt(ce){return ce.routerState.root}function Tn(ce,nt){return{\u0275kind:ce,\u0275providers:nt}}function Po(){const ce=(0,O.WQX)(O.zZn);return nt=>{const Me=ce.get(O.o8S);if(nt!==Me.components[0])return;const ft=ce.get(oe.Ix),Jt=ce.get(Sr);1===ce.get(ao)&&ft.initialNavigation(),ce.get($,null,O.$GK.Optional)?.setUpPreloading(),ce.get(Ue,null,O.$GK.Optional)?.init(),ft.resetRootComponentType(Me.componentTypes[0]),Jt.closed||(Jt.next(),Jt.complete(),Jt.unsubscribe())}}const Sr=new O.nKC("",{factory:()=>new ve.B}),ao=new O.nKC("",{providedIn:"root",factory:()=>1}),$=new O.nKC("");function ge(ce){return Tn(0,[{provide:$,useExisting:Ee},{provide:ar,useExisting:ce}])}function cn(ce){return(0,O.ngT)("NgRouterViewTransitions"),Tn(9,[{provide:oe.Pu,useValue:oe.Lg},{provide:oe.bK,useValue:{skipNextTransition:!!ce?.skipInitialTransition,...ce}}])}const Xr=[T.aZ,{provide:oe.Sd,useClass:oe.nU},oe.Ix,oe.Zp,{provide:oe.nX,useFactory:zt,deps:[oe.Ix]},oe.D$,[]];let Zr=(()=>{class ce{constructor(){}static forRoot(Me,ft){return{ngModule:ce,providers:[Xr,[],{provide:oe.bw,multi:!0,useValue:Me},[],ft?.errorHandler?{provide:oe.XR,useValue:ft.errorHandler}:[],{provide:oe.J_,useValue:ft||{}},ft?.useHash?{provide:T.hb,useClass:bt.fw}:{provide:T.hb,useClass:T.Sm},{provide:Ue,useFactory:()=>{const ce=(0,O.WQX)(Xe),nt=(0,O.WQX)(O.SKi),Me=(0,O.WQX)(oe.J_),ft=(0,O.WQX)(oe.J2),Jt=(0,O.WQX)(oe.Sd);return Me.scrollOffset&&ce.setOffset(Me.scrollOffset),new Qe(Jt,ft,ce,nt,Me)}},ft?.preloadingStrategy?ge(ft.preloadingStrategy).\u0275providers:[],ft?.initialNavigation?yi(ft):[],ft?.bindToComponentInputs?Tn(8,[oe.tD,{provide:oe.c1,useExisting:oe.tD}]).\u0275providers:[],ft?.enableViewTransitions?cn().\u0275providers:[],[{provide:wo,useFactory:Po},{provide:O.iLQ,multi:!0,useExisting:wo}]]}}static forChild(Me){return{ngModule:ce,providers:[{provide:oe.bw,multi:!0,useValue:Me}]}}static \u0275fac=function(ft){return new(ft||ce)};static \u0275mod=O.$C({type:ce});static \u0275inj=O.G2t({})}return ce})();function yi(ce){return["disabled"===ce.initialNavigation?Tn(3,[(0,O.phd)(()=>{(0,O.WQX)(oe.Ix).setUpLocationChangeListener()}),{provide:ao,useValue:2}]).\u0275providers:[],"enabledBlocking"===ce.initialNavigation?Tn(2,[{provide:ao,useValue:0},(0,O.phd)(()=>{const nt=(0,O.WQX)(O.zZn);return nt.get(T.hj,Promise.resolve()).then(()=>new Promise(ft=>{const Jt=nt.get(oe.Ix),vn=nt.get(Sr);(0,oe.gk)(Jt,()=>{ft(!0)}),nt.get(oe.J2).afterPreactivation=()=>(ft(!0),vn.closed?(0,Fe.of)(void 0):vn),Jt.initialNavigation()}))})]).\u0275providers:[]]}const wo=new O.nKC("")},5225:(In,$e,j)=>{"use strict";function T(O,Q,I,Se=0,Xe=!1){const Ie=Q.schedule(function(){I(),Xe?O.add(this.schedule(null,Se)):this.unsubscribe()},Se);if(O.add(Ie),!Xe)return Ie}j.d($e,{N:()=>T})},5334:(In,$e,j)=>{"use strict";j.d($e,{m:()=>Q});var T=j(1026),O=j(9270);function Q(I){O.f.setTimeout(()=>{const{onUnhandledError:Se}=T.$;if(!Se)throw I;Se(I)})}},5343:(In,$e,j)=>{"use strict";function T(){}j.d($e,{l:()=>T})},5397:(In,$e,j)=>{"use strict";j.d($e,{x:()=>Q});var T=j(4761),O=j(8071);function Q(I){return(0,O.T)(I?.[T.l])}},5558:(In,$e,j)=>{"use strict";j.d($e,{n:()=>I});var T=j(8750),O=j(9974),Q=j(4360);function I(Se,Xe){return(0,O.N)((Ie,fe)=>{let Oe=null,me=0,he=!1;const et=()=>he&&!Oe&&fe.complete();Ie.subscribe((0,Q._)(fe,He=>{Oe?.unsubscribe();let ot=0;const At=me++;(0,T.Tg)(Se(He,At)).subscribe(Oe=(0,Q._)(fe,jt=>fe.next(Xe?Xe(He,jt,At,ot++):jt),()=>{Oe=null,et()}))},()=>{he=!0,et()}))})}},5794:(In,$e,j)=>{"use strict";j.d($e,{DP:()=>Ye,tw:()=>qn});var T=j(1360),O=j(969),Q=j(9361),I=j(2881),Se=j(1413),Xe=j(345);const Ie=["toast-component",""];function fe(de,ye){if(1&de){const re=T.RV6();T.j41(0,"button",5),T.bIt("click",function(){T.eBV(re);const qe=T.XpG();return T.Njj(qe.remove())}),T.j41(1,"span",6),T.EFF(2,"\xd7"),T.k0s()()}}function Oe(de,ye){if(1&de&&(T.qex(0),T.EFF(1),T.bVm()),2&de){const re=T.XpG(2);T.R7$(),T.SpI("[",re.duplicatesCount+1,"]")}}function me(de,ye){if(1&de&&(T.j41(0,"div"),T.EFF(1),T.DNE(2,Oe,2,1,"ng-container",4),T.k0s()),2&de){const re=T.XpG();T.HbH(re.options.titleClass),T.BMQ("aria-label",re.title),T.R7$(),T.SpI(" ",re.title," "),T.R7$(),T.Y8G("ngIf",re.duplicatesCount)}}function he(de,ye){if(1&de&&T.nrm(0,"div",7),2&de){const re=T.XpG();T.HbH(re.options.messageClass),T.Y8G("innerHTML",re.message,T.npT)}}function et(de,ye){if(1&de&&(T.j41(0,"div",8),T.EFF(1),T.k0s()),2&de){const re=T.XpG();T.HbH(re.options.messageClass),T.BMQ("aria-label",re.message),T.R7$(),T.SpI(" ",re.message," ")}}function He(de,ye){if(1&de&&(T.j41(0,"div"),T.nrm(1,"div",9),T.k0s()),2&de){const re=T.XpG();T.R7$(),T.xc7("width",re.width()+"%")}}class St{_attachedHost;component;viewContainerRef;injector;constructor(ye,re){this.component=ye,this.injector=re}attach(ye,re){return this._attachedHost=ye,ye.attach(this,re)}detach(){const ye=this._attachedHost;if(ye)return this._attachedHost=void 0,ye.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ye){this._attachedHost=ye}}class Ne{_attachedPortal;_disposeFn;attach(ye,re){return this._attachedPortal=ye,this.attachComponentPortal(ye,re)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ye){this._disposeFn=ye}}class rt{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Se.B;_activate=new Se.B;_manualClose=new Se.B;_resetTimeout=new Se.B;_countDuplicate=new Se.B;constructor(ye){this._overlayRef=ye}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ye,re){ye&&this._resetTimeout.next(),re&&this._countDuplicate.next(++this.duplicatesCount)}}class Ze{toastId;config;message;title;toastType;toastRef;_onTap=new Se.B;_onAction=new Se.B;constructor(ye,re,pe,qe,yt,on){this.toastId=ye,this.config=re,this.message=pe,this.title=qe,this.toastType=yt,this.toastRef=on,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ye){this._onAction.next(ye)}onAction(){return this._onAction.asObservable()}}const Gt=new T.nKC("ToastConfig");class It extends Ne{_hostDomElement;_componentFactoryResolver;_appRef;constructor(ye,re,pe){super(),this._hostDomElement=ye,this._componentFactoryResolver=re,this._appRef=pe}attachComponentPortal(ye,re){const pe=this._componentFactoryResolver.resolveComponentFactory(ye.component);let qe;return qe=pe.create(ye.injector),this._appRef.attachView(qe.hostView),this.setDisposeFn(()=>{this._appRef.detachView(qe.hostView),qe.destroy()}),re?this._hostDomElement.insertBefore(this._getComponentRootNode(qe),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(qe)),qe}_getComponentRootNode(ye){return ye.hostView.rootNodes[0]}}let ct=(()=>{class de{_document=(0,T.WQX)(Q.q);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const re=this._document.createElement("div");re.classList.add("overlay-container"),re.setAttribute("aria-live","polite"),this._document.body.appendChild(re),this._containerElement=re}static \u0275fac=function(pe){return new(pe||de)};static \u0275prov=T.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();class Un{_portalHost;constructor(ye){this._portalHost=ye}attach(ye,re=!0){return this._portalHost.attach(ye,re)}detach(){return this._portalHost.detach()}}let Mn=(()=>{class de{_overlayContainer=(0,T.WQX)(ct);_componentFactoryResolver=(0,T.WQX)(T.OM3);_appRef=(0,T.WQX)(T.o8S);_document=(0,T.WQX)(Q.q);_paneElements=new Map;create(re,pe){return this._createOverlayRef(this.getPaneElement(re,pe))}getPaneElement(re="",pe){return this._paneElements.get(pe)||this._paneElements.set(pe,{}),this._paneElements.get(pe)[re]||(this._paneElements.get(pe)[re]=this._createPaneElement(re,pe)),this._paneElements.get(pe)[re]}_createPaneElement(re,pe){const qe=this._document.createElement("div");return qe.id="toast-container",qe.classList.add(re),qe.classList.add("toast-container"),pe?pe.getContainerElement().appendChild(qe):this._overlayContainer.getContainerElement().appendChild(qe),qe}_createPortalHost(re){return new It(re,this._componentFactoryResolver,this._appRef)}_createOverlayRef(re){return new Un(this._createPortalHost(re))}static \u0275fac=function(pe){return new(pe||de)};static \u0275prov=T.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),qn=(()=>{class de{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(re,pe,qe,yt,on){this.overlay=pe,this._injector=qe,this.sanitizer=yt,this.ngZone=on,this.toastrConfig={...re.default,...re.config},re.config.iconClasses&&(this.toastrConfig.iconClasses={...re.default.iconClasses,...re.config.iconClasses})}show(re,pe,qe={},yt=""){return this._preBuildNotification(yt,re,pe,this.applyConfig(qe))}success(re,pe,qe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",re,pe,this.applyConfig(qe))}error(re,pe,qe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",re,pe,this.applyConfig(qe))}info(re,pe,qe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",re,pe,this.applyConfig(qe))}warning(re,pe,qe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",re,pe,this.applyConfig(qe))}clear(re){for(const pe of this.toasts)if(void 0!==re){if(pe.toastId===re)return void pe.toastRef.manualClose()}else pe.toastRef.manualClose()}remove(re){const pe=this._findToast(re);if(!pe||(pe.activeToast.toastRef.close(),this.toasts.splice(pe.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const qe=this.toasts[this.currentlyActive].toastRef;qe.isInactive()||(this.currentlyActive=this.currentlyActive+1,qe.activate())}return!0}findDuplicate(re="",pe="",qe,yt){const{includeTitleDuplicates:on}=this.toastrConfig;for(const Yt of this.toasts)if((!on||on&&Yt.title===re)&&Yt.message===pe)return Yt.toastRef.onDuplicate(qe,yt),Yt;return null}applyConfig(re={}){return{...this.toastrConfig,...re}}_findToast(re){for(let pe=0;pe<this.toasts.length;pe++)if(this.toasts[pe].toastId===re)return{index:pe,activeToast:this.toasts[pe]};return null}_preBuildNotification(re,pe,qe,yt){return yt.onActivateTick?this.ngZone.run(()=>this._buildNotification(re,pe,qe,yt)):this._buildNotification(re,pe,qe,yt)}_buildNotification(re,pe,qe,yt){if(!yt.toastComponent)throw new Error("toastComponent required");const on=this.findDuplicate(qe,pe,this.toastrConfig.resetTimeoutOnDuplicate&&yt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&qe||pe)&&this.toastrConfig.preventDuplicates&&null!==on)return on;this.previousToastMessage=pe;let Yt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Yt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const nr=this.overlay.create(yt.positionClass,this.overlayContainer);this.index=this.index+1;let Wt=pe;pe&&yt.enableHtml&&(Wt=this.sanitizer.sanitize(T.WPN.HTML,pe));const Xn=new rt(nr),Hn=new Ze(this.index,yt,Wt,qe,re,Xn),Vn=T.zZn.create({providers:[{provide:Ze,useValue:Hn}],parent:this._injector}),tr=new St(yt.toastComponent,Vn),Dn=nr.attach(tr,yt.newestOnTop);Xn.componentInstance=Dn.instance;const Nr={toastId:this.index,title:qe||"",message:pe||"",toastRef:Xn,onShown:Xn.afterActivate(),onHidden:Xn.afterClosed(),onTap:Hn.onTap(),onAction:Hn.onAction(),portal:Dn};return Yt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Nr.toastRef.activate()})),this.toasts.push(Nr),Nr}static \u0275fac=function(pe){return new(pe||de)(T.KVO(Gt),T.KVO(Mn),T.KVO(T.zZn),T.KVO(Xe.up),T.KVO(T.SKi))};static \u0275prov=T.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const wn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class de{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=(0,T.vPA)(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(re,pe,qe){this.toastrService=re,this.toastPackage=pe,this.ngZone=qe,this.message=pe.message,this.title=pe.title,this.options=pe.config,this.originalTimeout=pe.config.timeOut,this.toastClasses=`${pe.toastType} ${pe.config.toastClass}`,this.sub=pe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=pe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=pe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=pe.toastRef.countDuplicate().subscribe(yt=>{this.duplicatesCount=yt}),this.state=(0,T.vPA)({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(re=>({...re,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const re=(new Date).getTime();this.width.set((this.hideTime-re)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(qe=>100-qe),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(re=>({...re,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(re=>({...re,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(re,pe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(re),pe)):this.timeout=setTimeout(()=>re(),pe)}outsideInterval(re,pe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(re),pe)):this.intervalId=setInterval(()=>re(),pe)}runInsideAngular(re){this.ngZone?this.ngZone.run(()=>re()):re()}static \u0275fac=function(pe){return new(pe||de)(T.rXU(qn),T.rXU(Ze),T.rXU(T.SKi))};static \u0275cmp=T.VBU({type:de,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(pe,qe){1&pe&&T.bIt("click",function(){return qe.tapToast()})("mouseenter",function(){return qe.stickAround()})("mouseleave",function(){return qe.delayedHideToast()}),2&pe&&(T.zvX("@flyInOut",qe._state),T.HbH(qe.toastClasses),T.xc7("display",qe.displayStyle))},attrs:Ie,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(pe,qe){1&pe&&T.DNE(0,fe,3,0,"button",0)(1,me,3,5,"div",1)(2,he,1,3,"div",2)(3,et,2,4,"div",3)(4,He,2,2,"div",4),2&pe&&(T.Y8G("ngIf",qe.options.closeButton),T.R7$(),T.Y8G("ngIf",qe.title),T.R7$(),T.Y8G("ngIf",qe.message&&qe.options.enableHtml),T.R7$(),T.Y8G("ngIf",qe.message&&!qe.options.enableHtml),T.R7$(),T.Y8G("ngIf",qe.options.progressBar))},dependencies:[I.bT],encapsulation:2,data:{animation:[(0,O.hZ)("flyInOut",[(0,O.wk)("inactive",(0,O.iF)({opacity:0})),(0,O.wk)("active",(0,O.iF)({opacity:1})),(0,O.wk)("removed",(0,O.iF)({opacity:0})),(0,O.kY)("inactive => active",(0,O.i0)("{{ easeTime }}ms {{ easing }}")),(0,O.kY)("active => removed",(0,O.i0)("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return de})()},Ye=(de={})=>(0,T.EmA)([{provide:Gt,useValue:{default:wn,config:de}}])},5964:(In,$e,j)=>{"use strict";j.d($e,{p:()=>Q});var T=j(9974),O=j(4360);function Q(I,Se){return(0,T.N)((Xe,Ie)=>{let fe=0;Xe.subscribe((0,O._)(Ie,Oe=>I.call(Se,Oe,fe++)&&Ie.next(Oe)))})}},6048:(In,$e,j)=>{"use strict";j.d($e,{Q:()=>He,Sm:()=>jt,Vw:()=>fe,aZ:()=>Vt,hb:()=>ot,hj:()=>Oe,ig:()=>Xe,kB:()=>At,om:()=>he,qj:()=>Ie,rb:()=>Se});var T=j(1360),O=j(1413),Q=j(9361);let I=null;function Se(){return I}function Xe(Ne){I??=Ne}class Ie{}let fe=(()=>{class Ne{historyGo(Ze){throw new Error("")}static \u0275fac=function(wt){return new(wt||Ne)};static \u0275prov=T.jDH({token:Ne,factory:()=>(0,T.WQX)(me),providedIn:"platform"})}return Ne})();const Oe=new T.nKC("");let me=(()=>{class Ne extends fe{_location;_history;_doc=(0,T.WQX)(Q.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Se().getBaseHref(this._doc)}onPopState(Ze){const wt=Se().getGlobalEventTarget(this._doc,"window");return wt.addEventListener("popstate",Ze,!1),()=>wt.removeEventListener("popstate",Ze)}onHashChange(Ze){const wt=Se().getGlobalEventTarget(this._doc,"window");return wt.addEventListener("hashchange",Ze,!1),()=>wt.removeEventListener("hashchange",Ze)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ze){this._location.pathname=Ze}pushState(Ze,wt,Gt){this._history.pushState(Ze,wt,Gt)}replaceState(Ze,wt,Gt){this._history.replaceState(Ze,wt,Gt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ze=0){this._history.go(Ze)}getState(){return this._history.state}static \u0275fac=function(wt){return new(wt||Ne)};static \u0275prov=T.jDH({token:Ne,factory:()=>new Ne,providedIn:"platform"})}return Ne})();function he(Ne,rt){return Ne?rt?Ne.endsWith("/")?rt.startsWith("/")?Ne+rt.slice(1):Ne+rt:rt.startsWith("/")?Ne+rt:`${Ne}/${rt}`:Ne:rt}function et(Ne){const rt=Ne.search(/#|\?|$/);return"/"===Ne[rt-1]?Ne.slice(0,rt-1)+Ne.slice(rt):Ne}function He(Ne){return Ne&&"?"!==Ne[0]?`?${Ne}`:Ne}let ot=(()=>{class Ne{historyGo(Ze){throw new Error("")}static \u0275fac=function(wt){return new(wt||Ne)};static \u0275prov=T.jDH({token:Ne,factory:()=>(0,T.WQX)(jt),providedIn:"root"})}return Ne})();const At=new T.nKC("");let jt=(()=>{class Ne extends ot{_platformLocation;_baseHref;_removeListenerFns=[];constructor(Ze,wt){super(),this._platformLocation=Ze,this._baseHref=wt??this._platformLocation.getBaseHrefFromDOM()??(0,T.WQX)(Q.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ze){this._removeListenerFns.push(this._platformLocation.onPopState(Ze),this._platformLocation.onHashChange(Ze))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ze){return he(this._baseHref,Ze)}path(Ze=!1){const wt=this._platformLocation.pathname+He(this._platformLocation.search),Gt=this._platformLocation.hash;return Gt&&Ze?`${wt}${Gt}`:wt}pushState(Ze,wt,Gt,It){const ct=this.prepareExternalUrl(Gt+He(It));this._platformLocation.pushState(Ze,wt,ct)}replaceState(Ze,wt,Gt,It){const ct=this.prepareExternalUrl(Gt+He(It));this._platformLocation.replaceState(Ze,wt,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ze=0){this._platformLocation.historyGo?.(Ze)}static \u0275fac=function(wt){return new(wt||Ne)(T.KVO(fe),T.KVO(At,8))};static \u0275prov=T.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})(),Vt=(()=>{class Ne{_subject=new O.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(Ze){this._locationStrategy=Ze;const wt=this._locationStrategy.getBaseHref();this._basePath=function St(Ne){if(new RegExp("^(https?:)?//").test(Ne)){const[,Ze]=Ne.split(/\/\/[^\/]+/);return Ze}return Ne}(et(Et(wt))),this._locationStrategy.onPopState(Gt=>{this._subject.next({url:this.path(!0),pop:!0,state:Gt.state,type:Gt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ze=!1){return this.normalize(this._locationStrategy.path(Ze))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ze,wt=""){return this.path()==this.normalize(Ze+He(wt))}normalize(Ze){return Ne.stripTrailingSlash(function mt(Ne,rt){if(!Ne||!rt.startsWith(Ne))return rt;const Ze=rt.substring(Ne.length);return""===Ze||["/",";","?","#"].includes(Ze[0])?Ze:rt}(this._basePath,Et(Ze)))}prepareExternalUrl(Ze){return Ze&&"/"!==Ze[0]&&(Ze="/"+Ze),this._locationStrategy.prepareExternalUrl(Ze)}go(Ze,wt="",Gt=null){this._locationStrategy.pushState(Gt,"",Ze,wt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ze+He(wt)),Gt)}replaceState(Ze,wt="",Gt=null){this._locationStrategy.replaceState(Gt,"",Ze,wt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ze+He(wt)),Gt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ze=0){this._locationStrategy.historyGo?.(Ze)}onUrlChange(Ze){return this._urlChangeListeners.push(Ze),this._urlChangeSubscription??=this.subscribe(wt=>{this._notifyUrlChangeListeners(wt.url,wt.state)}),()=>{const wt=this._urlChangeListeners.indexOf(Ze);this._urlChangeListeners.splice(wt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ze="",wt){this._urlChangeListeners.forEach(Gt=>Gt(Ze,wt))}subscribe(Ze,wt,Gt){return this._subject.subscribe({next:Ze,error:wt??void 0,complete:Gt??void 0})}static normalizeQueryParams=He;static joinWithSlash=he;static stripTrailingSlash=et;static \u0275fac=function(wt){return new(wt||Ne)(T.KVO(ot))};static \u0275prov=T.jDH({token:Ne,factory:()=>function Zt(){return new Vt((0,T.KVO)(ot))}(),providedIn:"root"})}return Ne})();function Et(Ne){return Ne.replace(/\/index.html$/,"")}},6335:(In,$e,j)=>{"use strict";j.d($e,{Nj:()=>et,DF:()=>He,wh:()=>Ne,eJ:()=>Mn,xI:()=>Ye,_q:()=>St,J1:()=>Nr,x9:()=>Xi,CI:()=>qt});var T=j(2967),O=j(1360),Q=j(7440),I=j(4125),Se=j(2214),Xe=j(520),Ie=j(1985);function fe(hr){return new Ie.c(function(Cn){return{unsubscribe:(0,Xe.hg)(hr,Cn.next.bind(Cn),Cn.error.bind(Cn),Cn.complete.bind(Cn))}})}class et{constructor(Cn){return Cn}}class He{constructor(){return(0,T.CA)("auth")}}const At=new O.nKC("angularfire2.auth-instances");function Vt(hr){return(Cn,bi)=>{const xr=Cn.runOutsideAngular(()=>hr(bi));return new et(xr)}}const Zt={provide:He,deps:[[new O.Xx1,At]]},mt={provide:et,useFactory:function jt(hr,Cn){const bi=(0,T.lR)("auth",hr,Cn);return bi&&new et(bi)},deps:[[new O.Xx1,At],Q.XU]};function St(hr,...Cn){return(0,Se.KO)("angularfire",T.xv.full,"auth"),(0,O.EmA)([mt,Zt,{provide:At,useFactory:Vt(hr),multi:!0,deps:[O.SKi,O.zZn,T.u0,Q.gL,[new O.Xx1,I.kR],...Cn]}])}const Ne=(0,T.S3)(fe,!0),Mn=(0,T.S3)(Xe.eJ,!0,2),Ye=(0,T.S3)(Xe.xI,!0),Nr=(0,T.S3)(Xe.J1,!0,2),Xi=(0,T.S3)(Xe.x9,!0,2),qt=(0,T.S3)(Xe.CI,!0,2)},6354:(In,$e,j)=>{"use strict";j.d($e,{T:()=>Q});var T=j(9974),O=j(4360);function Q(I,Se){return(0,T.N)((Xe,Ie)=>{let fe=0;Xe.subscribe((0,O._)(Ie,Oe=>{Ie.next(I.call(Se,Oe,fe++))}))})}},6365:(In,$e,j)=>{"use strict";j.d($e,{U:()=>Q});var T=j(1397),O=j(3669);function Q(I=1/0){return(0,T.Z)(O.D,I)}},6450:(In,$e,j)=>{"use strict";j.d($e,{I:()=>I});var T=j(6354);const{isArray:O}=Array;function I(Se){return(0,T.T)(Xe=>function Q(Se,Xe){return O(Xe)?Se(...Xe):Se(Xe)}(Se,Xe))}},6745:(In,$e,j)=>{"use strict";j.d($e,{_:()=>O});var T=j(9974);function O(Q,I=0){return(0,T.N)((Se,Xe)=>{Xe.add(Q.schedule(()=>Se.subscribe(Xe),I))})}},6780:(In,$e,j)=>{"use strict";j.d($e,{R:()=>Se});var T=j(8359);class O extends T.yU{constructor(Ie,fe){super()}schedule(Ie,fe=0){return this}}const Q={setInterval(Xe,Ie,...fe){const{delegate:Oe}=Q;return Oe?.setInterval?Oe.setInterval(Xe,Ie,...fe):setInterval(Xe,Ie,...fe)},clearInterval(Xe){const{delegate:Ie}=Q;return(Ie?.clearInterval||clearInterval)(Xe)},delegate:void 0};var I=j(7908);class Se extends O{constructor(Ie,fe){super(Ie,fe),this.scheduler=Ie,this.work=fe,this.pending=!1}schedule(Ie,fe=0){var Oe;if(this.closed)return this;this.state=Ie;const me=this.id,he=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(he,me,fe)),this.pending=!0,this.delay=fe,this.id=null!==(Oe=this.id)&&void 0!==Oe?Oe:this.requestAsyncId(he,this.id,fe),this}requestAsyncId(Ie,fe,Oe=0){return Q.setInterval(Ie.flush.bind(Ie,this),Oe)}recycleAsyncId(Ie,fe,Oe=0){if(null!=Oe&&this.delay===Oe&&!1===this.pending)return fe;null!=fe&&Q.clearInterval(fe)}execute(Ie,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Oe=this._execute(Ie,fe);if(Oe)return Oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,fe){let me,Oe=!1;try{this.work(Ie)}catch(he){Oe=!0,me=he||new Error("Scheduled action threw falsy error")}if(Oe)return this.unsubscribe(),me}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:fe}=this,{actions:Oe}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,I.o)(Oe,this),null!=Ie&&(this.id=this.recycleAsyncId(fe,Ie,null)),this.delay=null,super.unsubscribe()}}}},6810:(In,$e,j)=>{"use strict";j.d($e,{y:()=>me});var T=j(467),O=j(9967),Q=j(3273),I=j(4843),Se=j(5558),Xe=j(6354),Ie=j(1360),fe=j(6335),Oe=j(4796);let me=(()=>{class he{firestore;auth;authService;constructor(He,ot,At){this.firestore=He,this.auth=ot,this.authService=At,console.log("%c<<< Start TODO service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}addTodo(He){var ot=this;return(0,T.A)(function*(){const At=yield(0,I._)(ot.authService.getCurrentUser());if(!At?.uid)throw new Error("Usuario no autenticado");const jt=(0,O.rJ)(ot.firestore,`users/${At.uid}/todos`),Vt=(0,O.H9)(jt),Zt=new Date,mt={...He,id:Vt.id,completed:!1,createdAt:Zt,updatedAt:Zt};console.log("\u{1f9fe} Creando tarea en:",`users/${At.uid}/todos/${Vt.id}`),console.log("\u{1f4dd} Datos:",mt),yield(0,O.BN)(Vt,mt)})()}getTodos(){return this.authService.getCurrentUser().pipe((0,Se.n)(He=>{const ot=(0,O.rJ)(this.firestore,`users/${He.uid}/todos`);return(0,O.xs)(ot,{idField:"id"})}))}updateTodo(He,ot){var At=this;return(0,T.A)(function*(){const jt=yield(0,I._)(At.authService.getCurrentUser());if(!jt?.uid)throw new Error("Usuario no autenticado");const Vt=(0,O.H9)(At.firestore,`users/${jt.uid}/todos/${He}`);yield(0,O.mZ)(Vt,{...ot,updatedAt:Q.Dc.now()})})()}deleteTodo(He){var ot=this;return(0,T.A)(function*(){const At=yield(0,I._)(ot.authService.getCurrentUser());if(!At?.uid)throw new Error("Usuario no autenticado");const jt=(0,O.H9)(ot.firestore,`users/${At.uid}/todos/${He}`);yield(0,O.kd)(jt)})()}clearAllTodos(){var He=this;return(0,T.A)(function*(){const ot=yield(0,I._)(He.getTodos()),At=yield(0,I._)(He.authService.getCurrentUser());if(!At?.uid)throw new Error("Usuario no autenticado");const jt=ot.map(Vt=>(0,O.kd)((0,O.H9)(He.firestore,`users/${At.uid}/todos/${Vt.id}`)));yield Promise.all(jt)})()}getPendingTodosCount(){return this.authService.getCurrentUser().pipe((0,Se.n)(He=>{const ot=(0,O.rJ)(this.firestore,`users/${He.uid}/todos`),At=(0,O.P)(ot,(0,O._M)("completed","==",!1));return(0,O.xs)(At).pipe((0,Xe.T)(jt=>jt.length))}))}getTodoById(He){var ot=this;return(0,T.A)(function*(){const At=yield(0,I._)(ot.authService.getCurrentUser());if(!At?.uid)throw new Error("Usuario no autenticado");const jt=(0,O.H9)(ot.firestore,`users/${At.uid}/todos/${He}`),Vt=yield(0,O.x7)(jt);if(!Vt.exists())throw new Error("Tarea no encontrada");return Vt.data()})()}static \u0275fac=function(ot){return new(ot||he)(Ie.KVO(O._7),Ie.KVO(fe.Nj),Ie.KVO(Oe.u))};static \u0275prov=Ie.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})()},6858:(In,$e,j)=>{"use strict";j.d($e,{cY:()=>wt,FA:()=>tr,g:()=>Vn,K3:()=>fe,u:()=>et,Uj:()=>he,Fy:()=>Un,tD:()=>lr,bD:()=>si,hp:()=>Cr,T9:()=>rt,Tj:()=>St,yU:()=>Ne,XA:()=>Ze,mS:()=>jt,Ku:()=>xi,ZQ:()=>tn,sr:()=>ye,zJ:()=>Gt,c1:()=>de,Im:()=>Qn,lT:()=>qe,zW:()=>Wt,jZ:()=>Mt,lV:()=>re,nr:()=>Yt,Ov:()=>nr,gE:()=>It,Am:()=>Dr,I9:()=>Ei,P1:()=>Ye,eX:()=>Xn});var T=j(467);const Xe=function(De){const _e=[];let Be=0;for(let Ot=0;Ot<De.length;Ot++){let Je=De.charCodeAt(Ot);Je<128?_e[Be++]=Je:Je<2048?(_e[Be++]=Je>>6|192,_e[Be++]=63&Je|128):55296==(64512&Je)&&Ot+1<De.length&&56320==(64512&De.charCodeAt(Ot+1))?(Je=65536+((1023&Je)<<10)+(1023&De.charCodeAt(++Ot)),_e[Be++]=Je>>18|240,_e[Be++]=Je>>12&63|128,_e[Be++]=Je>>6&63|128,_e[Be++]=63&Je|128):(_e[Be++]=Je>>12|224,_e[Be++]=Je>>6&63|128,_e[Be++]=63&Je|128)}return _e},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(De,_e){if(!Array.isArray(De))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Be=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ot=[];for(let Je=0;Je<De.length;Je+=3){const Xt=De[Je],Rn=Je+1<De.length,mr=Rn?De[Je+1]:0,ne=Je+2<De.length,ae=ne?De[Je+2]:0;let bt=(15&mr)<<2|ae>>6,oe=63&ae;ne||(oe=64,Rn||(bt=64)),Ot.push(Be[Xt>>2],Be[(3&Xt)<<4|mr>>4],Be[bt],Be[oe])}return Ot.join("")},encodeString(De,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(De):this.encodeByteArray(Xe(De),_e)},decodeString(De,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(De):function(De){const _e=[];let Be=0,Ot=0;for(;Be<De.length;){const Je=De[Be++];if(Je<128)_e[Ot++]=String.fromCharCode(Je);else if(Je>191&&Je<224){const Xt=De[Be++];_e[Ot++]=String.fromCharCode((31&Je)<<6|63&Xt)}else if(Je>239&&Je<365){const ne=((7&Je)<<18|(63&De[Be++])<<12|(63&De[Be++])<<6|63&De[Be++])-65536;_e[Ot++]=String.fromCharCode(55296+(ne>>10)),_e[Ot++]=String.fromCharCode(56320+(1023&ne))}else{const Xt=De[Be++],Rn=De[Be++];_e[Ot++]=String.fromCharCode((15&Je)<<12|(63&Xt)<<6|63&Rn)}}return _e.join("")}(this.decodeStringToByteArray(De,_e))},decodeStringToByteArray(De,_e){this.init_();const Be=_e?this.charToByteMapWebSafe_:this.charToByteMap_,Ot=[];for(let Je=0;Je<De.length;){const Xt=Be[De.charAt(Je++)],mr=Je<De.length?Be[De.charAt(Je)]:0;++Je;const ae=Je<De.length?Be[De.charAt(Je)]:64;++Je;const dt=Je<De.length?Be[De.charAt(Je)]:64;if(++Je,null==Xt||null==mr||null==ae||null==dt)throw new Oe;Ot.push(Xt<<2|mr>>4),64!==ae&&(Ot.push(mr<<4&240|ae>>2),64!==dt&&Ot.push(ae<<6&192|dt))}return Ot},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let De=0;De<this.ENCODED_VALS.length;De++)this.byteToCharMap_[De]=this.ENCODED_VALS.charAt(De),this.charToByteMap_[this.byteToCharMap_[De]]=De,this.byteToCharMapWebSafe_[De]=this.ENCODED_VALS_WEBSAFE.charAt(De),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[De]]=De,De>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(De)]=De,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(De)]=De)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(De){return function(De){const _e=Xe(De);return fe.encodeByteArray(_e,!0)}(De).replace(/\./g,"")},et=function(De){try{return fe.decodeString(De,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};function jt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Et=()=>{try{return jt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const De=process.env.__FIREBASE_DEFAULTS__;return De?JSON.parse(De):void 0})()||(()=>{if(typeof document>"u")return;let De;try{De=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const _e=De&&et(De[1]);return _e&&JSON.parse(_e)})()}catch(De){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${De}`)}},St=De=>{var _e,Be;return null===(Be=null===(_e=Et())||void 0===_e?void 0:_e.emulatorHosts)||void 0===Be?void 0:Be[De]},Ne=De=>{const _e=St(De);if(!_e)return;const Be=_e.lastIndexOf(":");if(Be<=0||Be+1===_e.length)throw new Error(`Invalid host ${_e} with no separate hostname and port!`);const Ot=parseInt(_e.substring(Be+1),10);return"["===_e[0]?[_e.substring(1,Be-1),Ot]:[_e.substring(0,Be),Ot]},rt=()=>{var De;return null===(De=Et())||void 0===De?void 0:De.config},Ze=De=>{var _e;return null===(_e=Et())||void 0===_e?void 0:_e[`_${De}`]};class wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,Be)=>{this.resolve=_e,this.reject=Be})}wrapCallback(_e){return(Be,Ot)=>{Be?this.reject(Be):this.resolve(Ot),"function"==typeof _e&&(this.promise.catch(()=>{}),1===_e.length?_e(Be):_e(Be,Ot))}}}function Gt(De){return De.endsWith(".cloudworkstations.dev")}function It(De){return ct.apply(this,arguments)}function ct(){return(ct=(0,T.A)(function*(De){return(yield fetch(De,{credentials:"include"})).ok})).apply(this,arguments)}function Un(De,_e){if(De.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ot=_e||"demo-project",Je=De.iat||0,Xt=De.sub||De.user_id;if(!Xt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Rn=Object.assign({iss:`https://securetoken.google.com/${Ot}`,aud:Ot,iat:Je,exp:Je+3600,auth_time:Je,sub:Xt,user_id:Xt,firebase:{sign_in_provider:"custom",identities:{}}},De);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Rn)),""].join(".")}const Mn={};let wn=!1;function Ye(De,_e){if(typeof window>"u"||typeof document>"u"||!Gt(window.location.host)||Mn[De]===_e||Mn[De]||wn)return;function Be(bt){return`__firebase__banner__${bt}`}Mn[De]=_e;const Ot="__firebase__banner",Xt=function qn(){const De={prod:[],emulator:[]};for(const _e of Object.keys(Mn))Mn[_e]?De.emulator.push(_e):De.prod.push(_e);return De}().prod.length>0;function dt(){const bt=function ht(De){let _e=document.getElementById(De),Be=!1;return _e||(_e=document.createElement("div"),_e.setAttribute("id",De),Be=!0),{created:Be,element:_e}}(Ot),oe=Be("text"),ve=document.getElementById(oe)||document.createElement("span"),Fe=Be("learnmore"),Rt=document.getElementById(Fe)||document.createElement("a"),vt=Be("preprendIcon"),pt=document.getElementById(vt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(bt.created){const kt=bt.element;(function mr(bt){bt.style.display="flex",bt.style.background="#7faaf0",bt.style.position="fixed",bt.style.bottom="5px",bt.style.left="5px",bt.style.padding=".5em",bt.style.borderRadius="5px",bt.style.alignItems="center"})(kt),function Ce(bt,oe){bt.setAttribute("id",oe),bt.innerText="Learn more",bt.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",bt.setAttribute("target","__blank"),bt.style.paddingLeft="5px",bt.style.textDecoration="underline"}(Rt,Fe);const nn=function ae(){const bt=document.createElement("span");return bt.style.cursor="pointer",bt.style.marginLeft="16px",bt.style.fontSize="24px",bt.innerHTML=" &times;",bt.onclick=()=>{wn=!0,function Rn(){const bt=document.getElementById(Ot);bt&&bt.remove()}()},bt}();(function ne(bt,oe){bt.setAttribute("width","24"),bt.setAttribute("id",oe),bt.setAttribute("height","24"),bt.setAttribute("viewBox","0 0 24 24"),bt.setAttribute("fill","none"),bt.style.marginLeft="-6px"})(pt,vt),kt.append(pt,ve,Rt,nn),document.body.appendChild(kt)}Xt?(ve.innerText="Preview backend disconnected.",pt.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(pt.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',ve.innerText="Preview backend running in this workspace."),ve.setAttribute("id",oe)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",dt):dt()}function tn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Ke(){var De;const _e=null===(De=Et())||void 0===De?void 0:De.forceEnvironment;if("node"===_e)return!0;if("browser"===_e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function de(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function ye(){const De="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof De&&void 0!==De.id}function re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qe(){const De=tn();return De.indexOf("MSIE ")>=0||De.indexOf("Trident/")>=0}function Yt(){return!Ke()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nr(){return!Ke()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Wt(){try{return"object"==typeof indexedDB}catch{return!1}}function Xn(){return new Promise((De,_e)=>{try{let Be=!0;const Ot="validate-browser-context-for-indexeddb-analytics-module",Je=self.indexedDB.open(Ot);Je.onsuccess=()=>{Je.result.close(),Be||self.indexedDB.deleteDatabase(Ot),De(!0)},Je.onupgradeneeded=()=>{Be=!1},Je.onerror=()=>{var Xt;_e((null===(Xt=Je.error)||void 0===Xt?void 0:Xt.message)||"")}}catch(Be){_e(Be)}})}class Vn extends Error{constructor(_e,Be,Ot){super(Be),this.code=_e,this.customData=Ot,this.name="FirebaseError",Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tr.prototype.create)}}class tr{constructor(_e,Be,Ot){this.service=_e,this.serviceName=Be,this.errors=Ot}create(_e,...Be){const Ot=Be[0]||{},Je=`${this.service}/${_e}`,Xt=this.errors[_e],Rn=Xt?function Dn(De,_e){return De.replace(Nr,(Be,Ot)=>{const Je=_e[Ot];return null!=Je?String(Je):`<${Ot}?>`})}(Xt,Ot):"Error";return new Vn(Je,`${this.serviceName}: ${Rn} (${Je}).`,Ot)}}const Nr=/\{\$([^}]+)}/g;function Qn(De){for(const _e in De)if(Object.prototype.hasOwnProperty.call(De,_e))return!1;return!0}function si(De,_e){if(De===_e)return!0;const Be=Object.keys(De),Ot=Object.keys(_e);for(const Je of Be){if(!Ot.includes(Je))return!1;const Xt=De[Je],Rn=_e[Je];if(li(Xt)&&li(Rn)){if(!si(Xt,Rn))return!1}else if(Xt!==Rn)return!1}for(const Je of Ot)if(!Be.includes(Je))return!1;return!0}function li(De){return null!==De&&"object"==typeof De}function Dr(De){const _e=[];for(const[Be,Ot]of Object.entries(De))Array.isArray(Ot)?Ot.forEach(Je=>{_e.push(encodeURIComponent(Be)+"="+encodeURIComponent(Je))}):_e.push(encodeURIComponent(Be)+"="+encodeURIComponent(Ot));return _e.length?"&"+_e.join("&"):""}function Ei(De){const _e={};return De.replace(/^\?/,"").split("&").forEach(Ot=>{if(Ot){const[Je,Xt]=Ot.split("=");_e[decodeURIComponent(Je)]=decodeURIComponent(Xt)}}),_e}function Cr(De){const _e=De.indexOf("?");if(!_e)return"";const Be=De.indexOf("#",_e);return De.substring(_e,Be>0?Be:void 0)}function lr(De,_e){const Be=new sr(De,_e);return Be.subscribe.bind(Be)}class sr{constructor(_e,Be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Be,this.task.then(()=>{_e(this)}).catch(Ot=>{this.error(Ot)})}next(_e){this.forEachObserver(Be=>{Be.next(_e)})}error(_e){this.forEachObserver(Be=>{Be.error(_e)}),this.close(_e)}complete(){this.forEachObserver(_e=>{_e.complete()}),this.close()}subscribe(_e,Be,Ot){let Je;if(void 0===_e&&void 0===Be&&void 0===Ot)throw new Error("Missing Observer.");Je=function hr(De,_e){if("object"!=typeof De||null===De)return!1;for(const Be of _e)if(Be in De&&"function"==typeof De[Be])return!0;return!1}(_e,["next","error","complete"])?_e:{next:_e,error:Be,complete:Ot},void 0===Je.next&&(Je.next=Cn),void 0===Je.error&&(Je.error=Cn),void 0===Je.complete&&(Je.complete=Cn);const Xt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Je.error(this.finalError):Je.complete()}catch{}}),this.observers.push(Je),Xt}unsubscribeOne(_e){void 0===this.observers||void 0===this.observers[_e]||(delete this.observers[_e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(_e){if(!this.finalized)for(let Be=0;Be<this.observers.length;Be++)this.sendOne(Be,_e)}sendOne(_e,Be){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[_e])try{Be(this.observers[_e])}catch(Ot){typeof console<"u"&&console.error&&console.error(Ot)}})}close(_e){this.finalized||(this.finalized=!0,void 0!==_e&&(this.finalError=_e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function xi(De){return De&&De._delegate?De._delegate:De}},7440:(In,$e,j)=>{"use strict";j.d($e,{MW:()=>He,Wp:()=>Vt,XU:()=>I,gL:()=>Se});var T=j(2214),O=j(1360),Q=j(2967);class I{constructor(rt){return rt}}class Se{constructor(){return(0,T.Dk)()}}const fe=new O.nKC("angularfire2._apps"),Oe={provide:I,useFactory:function Ie(Ne){return Ne&&1===Ne.length?Ne[0]:new I((0,T.Sx)())},deps:[[new O.Xx1,fe]]},me={provide:Se,deps:[[new O.Xx1,fe]]};function he(Ne){return(rt,Ze)=>{const wt=Ze.get(O.Agw);(0,T.KO)("angularfire",Q.xv.full,"core"),(0,T.KO)("angularfire",Q.xv.full,"app"),(0,T.KO)("angular",O.xvI.full,wt.toString());const Gt=rt.runOutsideAngular(()=>Ne(Ze));return new I(Gt)}}function He(Ne,...rt){return(0,O.EmA)([Oe,me,{provide:fe,useFactory:he(Ne),multi:!0,deps:[O.SKi,O.zZn,Q.u0,...rt]}])}const Vt=(0,Q.S3)(T.Wp,!0)},7441:(In,$e,j)=>{"use strict";j.d($e,{X:()=>T});const T=O=>O&&"number"==typeof O.length&&"function"!=typeof O},7473:(In,$e,j)=>{"use strict";j.d($e,{J:()=>Se});var T=j(467),O=j(9967),Q=j(3273),I=j(1360);let Se=(()=>{class Xe{firestore;constructor(fe){this.firestore=fe,console.log("%c<<< Start NOTIFICATION service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}sendToUser(fe,Oe,me){var he=this;return(0,T.A)(function*(){try{const et={message:Oe,type:me,timestamp:Q.Dc.now(),read:!1},He=(0,O.rJ)(he.firestore,`users/${fe}/notifications`),ot=yield(0,O.gS)(He,et);console.log("\u2705 Notificaci\xf3n enviada:",{uid:fe,message:Oe,docId:ot.id})}catch(et){throw console.error("\u274c Error al enviar notificaci\xf3n:",et),et}})()}sendToAdmins(fe,Oe){var me=this;return(0,T.A)(function*(){try{const he=(0,O.rJ)(me.firestore,"users"),et=(0,O.P)(he,(0,O._M)("rol","==","Administrador")),He=yield(0,Q.GG)(et);if(He.empty)return void console.warn("\u26a0\ufe0f No se encontraron administradores para notificar");const ot=[];He.forEach(At=>{ot.push(me.sendToUser(At.id,fe,Oe))}),yield Promise.all(ot),console.log(`\u2705 Notificaci\xf3n enviada a ${He.size} administradores`)}catch(he){console.error("\u274c Error al enviar notificaci\xf3n a administradores:",he)}})()}getUserNotifications(fe){const Oe=(0,O.rJ)(this.firestore,`users/${fe}/notifications`),me=(0,O.P)(Oe,(0,O.My)("timestamp","desc"));return(0,O.xs)(me,{idField:"id"})}markAsRead(fe,Oe){var me=this;return(0,T.A)(function*(){try{const he=(0,Q.H9)(me.firestore,`users/${fe}/notifications/${Oe}`);yield(0,Q.mZ)(he,{read:!0}),console.log("\u2705 Notificaci\xf3n marcada como le\xedda:",Oe)}catch(he){console.error("\u274c Error al marcar notificaci\xf3n como le\xedda:",he)}})()}markAllAsRead(fe){var Oe=this;return(0,T.A)(function*(){const me=(0,O.rJ)(Oe.firestore,`users/${fe}/notifications`),he=yield(0,Q.GG)(me),et=(0,Q.wP)(Oe.firestore);he.forEach(He=>{He.data().read||et.update(He.ref,{read:!0})}),yield et.commit(),console.log(`\u2705 Todas las notificaciones del usuario ${fe} marcadas como le\xeddas.`)})()}deleteNotification(fe,Oe){const me=(0,Q.H9)(this.firestore,`users/${fe}/notifications/${Oe}`);return(0,Q.kd)(me).then(()=>console.log(`\u{1f9f9} Notificaci\xf3n ${Oe} eliminada de Firestore`)).catch(he=>console.error("\u274c Error al eliminar notificaci\xf3n:",he))}static \u0275fac=function(Oe){return new(Oe||Xe)(I.KVO(O._7))};static \u0275prov=I.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})()},7643:(In,$e,j)=>{"use strict";j.d($e,{$R:()=>Tr,Qq:()=>Yt}),j(467);var O=j(1360),Q=j(274),I=j(5964),Se=j(6354),Xe=j(980),Ie=j(5558),fe=j(7673),Oe=j(1985),me=j(8455),he=j(9377),et=j(9361);class He{}class ot{}class At{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(ae){ae?"string"==typeof ae?this.lazyInit=()=>{this.headers=new Map,ae.split("\n").forEach(Ce=>{const dt=Ce.indexOf(":");if(dt>0){const bt=Ce.slice(0,dt),oe=Ce.slice(dt+1).trim();this.addHeaderEntry(bt,oe)}})}:typeof Headers<"u"&&ae instanceof Headers?(this.headers=new Map,ae.forEach((Ce,dt)=>{this.addHeaderEntry(dt,Ce)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ae).forEach(([Ce,dt])=>{this.setHeaderEntries(Ce,dt)})}:this.headers=new Map}has(ae){return this.init(),this.headers.has(ae.toLowerCase())}get(ae){this.init();const Ce=this.headers.get(ae.toLowerCase());return Ce&&Ce.length>0?Ce[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ae){return this.init(),this.headers.get(ae.toLowerCase())||null}append(ae,Ce){return this.clone({name:ae,value:Ce,op:"a"})}set(ae,Ce){return this.clone({name:ae,value:Ce,op:"s"})}delete(ae,Ce){return this.clone({name:ae,value:Ce,op:"d"})}maybeSetNormalizedName(ae,Ce){this.normalizedNames.has(Ce)||this.normalizedNames.set(Ce,ae)}init(){this.lazyInit&&(this.lazyInit instanceof At?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ae=>this.applyUpdate(ae)),this.lazyUpdate=null))}copyFrom(ae){ae.init(),Array.from(ae.headers.keys()).forEach(Ce=>{this.headers.set(Ce,ae.headers.get(Ce)),this.normalizedNames.set(Ce,ae.normalizedNames.get(Ce))})}clone(ae){const Ce=new At;return Ce.lazyInit=this.lazyInit&&this.lazyInit instanceof At?this.lazyInit:this,Ce.lazyUpdate=(this.lazyUpdate||[]).concat([ae]),Ce}applyUpdate(ae){const Ce=ae.name.toLowerCase();switch(ae.op){case"a":case"s":let dt=ae.value;if("string"==typeof dt&&(dt=[dt]),0===dt.length)return;this.maybeSetNormalizedName(ae.name,Ce);const bt=("a"===ae.op?this.headers.get(Ce):void 0)||[];bt.push(...dt),this.headers.set(Ce,bt);break;case"d":const oe=ae.value;if(oe){let ve=this.headers.get(Ce);if(!ve)return;ve=ve.filter(Fe=>-1===oe.indexOf(Fe)),0===ve.length?(this.headers.delete(Ce),this.normalizedNames.delete(Ce)):this.headers.set(Ce,ve)}else this.headers.delete(Ce),this.normalizedNames.delete(Ce)}}addHeaderEntry(ae,Ce){const dt=ae.toLowerCase();this.maybeSetNormalizedName(ae,dt),this.headers.has(dt)?this.headers.get(dt).push(Ce):this.headers.set(dt,[Ce])}setHeaderEntries(ae,Ce){const dt=(Array.isArray(Ce)?Ce:[Ce]).map(oe=>oe.toString()),bt=ae.toLowerCase();this.headers.set(bt,dt),this.maybeSetNormalizedName(ae,bt)}forEach(ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ce=>ae(this.normalizedNames.get(Ce),this.headers.get(Ce)))}}class Vt{encodeKey(ae){return St(ae)}encodeValue(ae){return St(ae)}decodeKey(ae){return decodeURIComponent(ae)}decodeValue(ae){return decodeURIComponent(ae)}}const mt=/%(\d[a-f0-9])/gi,Et={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function St(ne){return encodeURIComponent(ne).replace(mt,(ae,Ce)=>Et[Ce]??ae)}function Ne(ne){return`${ne}`}class rt{map;encoder;updates=null;cloneFrom=null;constructor(ae={}){if(this.encoder=ae.encoder||new Vt,ae.fromString){if(ae.fromObject)throw new O.wOt(2805,!1);this.map=function Zt(ne,ae){const Ce=new Map;return ne.length>0&&ne.replace(/^\?/,"").split("&").forEach(bt=>{const oe=bt.indexOf("="),[ve,Fe]=-1==oe?[ae.decodeKey(bt),""]:[ae.decodeKey(bt.slice(0,oe)),ae.decodeValue(bt.slice(oe+1))],Rt=Ce.get(ve)||[];Rt.push(Fe),Ce.set(ve,Rt)}),Ce}(ae.fromString,this.encoder)}else ae.fromObject?(this.map=new Map,Object.keys(ae.fromObject).forEach(Ce=>{const dt=ae.fromObject[Ce],bt=Array.isArray(dt)?dt.map(Ne):[Ne(dt)];this.map.set(Ce,bt)})):this.map=null}has(ae){return this.init(),this.map.has(ae)}get(ae){this.init();const Ce=this.map.get(ae);return Ce?Ce[0]:null}getAll(ae){return this.init(),this.map.get(ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ae,Ce){return this.clone({param:ae,value:Ce,op:"a"})}appendAll(ae){const Ce=[];return Object.keys(ae).forEach(dt=>{const bt=ae[dt];Array.isArray(bt)?bt.forEach(oe=>{Ce.push({param:dt,value:oe,op:"a"})}):Ce.push({param:dt,value:bt,op:"a"})}),this.clone(Ce)}set(ae,Ce){return this.clone({param:ae,value:Ce,op:"s"})}delete(ae,Ce){return this.clone({param:ae,value:Ce,op:"d"})}toString(){return this.init(),this.keys().map(ae=>{const Ce=this.encoder.encodeKey(ae);return this.map.get(ae).map(dt=>Ce+"="+this.encoder.encodeValue(dt)).join("&")}).filter(ae=>""!==ae).join("&")}clone(ae){const Ce=new rt({encoder:this.encoder});return Ce.cloneFrom=this.cloneFrom||this,Ce.updates=(this.updates||[]).concat(ae),Ce}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ae=>this.map.set(ae,this.cloneFrom.map.get(ae))),this.updates.forEach(ae=>{switch(ae.op){case"a":case"s":const Ce=("a"===ae.op?this.map.get(ae.param):void 0)||[];Ce.push(Ne(ae.value)),this.map.set(ae.param,Ce);break;case"d":if(void 0===ae.value){this.map.delete(ae.param);break}{let dt=this.map.get(ae.param)||[];const bt=dt.indexOf(Ne(ae.value));-1!==bt&&dt.splice(bt,1),dt.length>0?this.map.set(ae.param,dt):this.map.delete(ae.param)}}}),this.cloneFrom=this.updates=null)}}class wt{map=new Map;set(ae,Ce){return this.map.set(ae,Ce),this}get(ae){return this.map.has(ae)||this.map.set(ae,ae.defaultValue()),this.map.get(ae)}delete(ae){return this.map.delete(ae),this}has(ae){return this.map.has(ae)}keys(){return this.map.keys()}}function It(ne){return typeof ArrayBuffer<"u"&&ne instanceof ArrayBuffer}function ct(ne){return typeof Blob<"u"&&ne instanceof Blob}function Un(ne){return typeof FormData<"u"&&ne instanceof FormData}const qn="Content-Type",wn="X-Request-URL",Ye="text/plain",tn="application/json",Mt=`${tn}, ${Ye}, */*`;class Ke{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(ae,Ce,dt,bt){let oe;if(this.url=Ce,this.method=ae.toUpperCase(),function Gt(ne){switch(ne){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||bt?(this.body=void 0!==dt?dt:null,oe=bt):oe=dt,oe&&(this.reportProgress=!!oe.reportProgress,this.withCredentials=!!oe.withCredentials,oe.responseType&&(this.responseType=oe.responseType),oe.headers&&(this.headers=oe.headers),oe.context&&(this.context=oe.context),oe.params&&(this.params=oe.params),this.transferCache=oe.transferCache),this.headers??=new At,this.context??=new wt,this.params){const ve=this.params.toString();if(0===ve.length)this.urlWithParams=Ce;else{const Fe=Ce.indexOf("?");this.urlWithParams=Ce+(-1===Fe?"?":Fe<Ce.length-1?"&":"")+ve}}else this.params=new rt,this.urlWithParams=Ce}serializeBody(){return null===this.body?null:"string"==typeof this.body||It(this.body)||ct(this.body)||Un(this.body)||function Mn(ne){return typeof URLSearchParams<"u"&&ne instanceof URLSearchParams}(this.body)?this.body:this.body instanceof rt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Un(this.body)?null:ct(this.body)?this.body.type||null:It(this.body)?null:"string"==typeof this.body?Ye:this.body instanceof rt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?tn:null}clone(ae={}){const Ce=ae.method||this.method,dt=ae.url||this.url,bt=ae.responseType||this.responseType,oe=ae.transferCache??this.transferCache,ve=void 0!==ae.body?ae.body:this.body,Fe=ae.withCredentials??this.withCredentials,Rt=ae.reportProgress??this.reportProgress;let vt=ae.headers||this.headers,pt=ae.params||this.params;const kt=ae.context??this.context;return void 0!==ae.setHeaders&&(vt=Object.keys(ae.setHeaders).reduce((nn,Bn)=>nn.set(Bn,ae.setHeaders[Bn]),vt)),ae.setParams&&(pt=Object.keys(ae.setParams).reduce((nn,Bn)=>nn.set(Bn,ae.setParams[Bn]),pt)),new Ke(Ce,dt,ve,{params:pt,headers:vt,context:kt,reportProgress:Rt,responseType:bt,withCredentials:Fe,transferCache:oe})}}var Y=function(ne){return ne[ne.Sent=0]="Sent",ne[ne.UploadProgress=1]="UploadProgress",ne[ne.ResponseHeader=2]="ResponseHeader",ne[ne.DownloadProgress=3]="DownloadProgress",ne[ne.Response=4]="Response",ne[ne.User=5]="User",ne}(Y||{});class le{headers;status;statusText;url;ok;type;constructor(ae,Ce=200,dt="OK"){this.headers=ae.headers||new At,this.status=void 0!==ae.status?ae.status:Ce,this.statusText=ae.statusText||dt,this.url=ae.url||null,this.ok=this.status>=200&&this.status<300}}class de extends le{constructor(ae={}){super(ae)}type=Y.ResponseHeader;clone(ae={}){return new de({headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class ye extends le{body;constructor(ae={}){super(ae),this.body=void 0!==ae.body?ae.body:null}type=Y.Response;clone(ae={}){return new ye({body:void 0!==ae.body?ae.body:this.body,headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class re extends le{name="HttpErrorResponse";message;error;ok=!1;constructor(ae){super(ae,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ae.url||"(unknown url)"}`:`Http failure response for ${ae.url||"(unknown url)"}: ${ae.status} ${ae.statusText}`,this.error=ae.error||null}}function on(ne,ae){return{body:ae,headers:ne.headers,context:ne.context,observe:ne.observe,params:ne.params,reportProgress:ne.reportProgress,responseType:ne.responseType,withCredentials:ne.withCredentials,transferCache:ne.transferCache}}let Yt=(()=>{class ne{handler;constructor(Ce){this.handler=Ce}request(Ce,dt,bt={}){let oe;if(Ce instanceof Ke)oe=Ce;else{let Rt,vt;Rt=bt.headers instanceof At?bt.headers:new At(bt.headers),bt.params&&(vt=bt.params instanceof rt?bt.params:new rt({fromObject:bt.params})),oe=new Ke(Ce,dt,void 0!==bt.body?bt.body:null,{headers:Rt,context:bt.context,params:vt,reportProgress:bt.reportProgress,responseType:bt.responseType||"json",withCredentials:bt.withCredentials,transferCache:bt.transferCache})}const ve=(0,fe.of)(oe).pipe((0,Q.H)(Rt=>this.handler.handle(Rt)));if(Ce instanceof Ke||"events"===bt.observe)return ve;const Fe=ve.pipe((0,I.p)(Rt=>Rt instanceof ye));switch(bt.observe||"body"){case"body":switch(oe.responseType){case"arraybuffer":return Fe.pipe((0,Se.T)(Rt=>{if(null!==Rt.body&&!(Rt.body instanceof ArrayBuffer))throw new O.wOt(2806,!1);return Rt.body}));case"blob":return Fe.pipe((0,Se.T)(Rt=>{if(null!==Rt.body&&!(Rt.body instanceof Blob))throw new O.wOt(2807,!1);return Rt.body}));case"text":return Fe.pipe((0,Se.T)(Rt=>{if(null!==Rt.body&&"string"!=typeof Rt.body)throw new O.wOt(2808,!1);return Rt.body}));default:return Fe.pipe((0,Se.T)(Rt=>Rt.body))}case"response":return Fe;default:throw new O.wOt(2809,!1)}}delete(Ce,dt={}){return this.request("DELETE",Ce,dt)}get(Ce,dt={}){return this.request("GET",Ce,dt)}head(Ce,dt={}){return this.request("HEAD",Ce,dt)}jsonp(Ce,dt){return this.request("JSONP",Ce,{params:(new rt).append(dt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ce,dt={}){return this.request("OPTIONS",Ce,dt)}patch(Ce,dt,bt={}){return this.request("PATCH",Ce,on(bt,dt))}post(Ce,dt,bt={}){return this.request("POST",Ce,on(bt,dt))}put(Ce,dt,bt={}){return this.request("PUT",Ce,on(bt,dt))}static \u0275fac=function(dt){return new(dt||ne)(O.KVO(He))};static \u0275prov=O.jDH({token:ne,factory:ne.\u0275fac})}return ne})();const Xn=new O.nKC("");function Dn(ne,ae){return ae(ne)}const fn=new O.nKC(""),fr=new O.nKC(""),sn=new O.nKC("",{providedIn:"root",factory:()=>!0});let lt=(()=>{class ne extends He{backend;injector;chain=null;pendingTasks=(0,O.WQX)(O.Ua0);contributeToStability=(0,O.WQX)(sn);constructor(Ce,dt){super(),this.backend=Ce,this.injector=dt}handle(Ce){if(null===this.chain){const dt=Array.from(new Set([...this.injector.get(fn),...this.injector.get(fr,[])]));this.chain=dt.reduceRight((bt,oe)=>function Pr(ne,ae,Ce){return(dt,bt)=>(0,O.N4e)(Ce,()=>ae(dt,oe=>ne(oe,bt)))}(bt,oe,this.injector),Dn)}if(this.contributeToStability){const dt=this.pendingTasks.add();return this.chain(Ce,bt=>this.backend.handle(bt)).pipe((0,Xe.j)(()=>this.pendingTasks.remove(dt)))}return this.chain(Ce,dt=>this.backend.handle(dt))}static \u0275fac=function(dt){return new(dt||ne)(O.KVO(ot),O.KVO(O.uvJ))};static \u0275prov=O.jDH({token:ne,factory:ne.\u0275fac})}return ne})();const sr=/^\)\]\}',?\n/,mi=RegExp(`^${wn}:`,"m");let Cn=(()=>{class ne{xhrFactory;constructor(Ce){this.xhrFactory=Ce}handle(Ce){if("JSONP"===Ce.method)throw new O.wOt(-2800,!1);const dt=this.xhrFactory;return(dt.\u0275loadImpl?(0,me.H)(dt.\u0275loadImpl()):(0,fe.of)(null)).pipe((0,Ie.n)(()=>new Oe.c(oe=>{const ve=dt.build();if(ve.open(Ce.method,Ce.urlWithParams),Ce.withCredentials&&(ve.withCredentials=!0),Ce.headers.forEach((Kn,ar)=>ve.setRequestHeader(Kn,ar.join(","))),Ce.headers.has("Accept")||ve.setRequestHeader("Accept",Mt),!Ce.headers.has(qn)){const Kn=Ce.detectContentTypeHeader();null!==Kn&&ve.setRequestHeader(qn,Kn)}if(Ce.responseType){const Kn=Ce.responseType.toLowerCase();ve.responseType="json"!==Kn?Kn:"text"}const Fe=Ce.serializeBody();let Rt=null;const vt=()=>{if(null!==Rt)return Rt;const Kn=ve.statusText||"OK",ar=new At(ve.getAllResponseHeaders()),wi=function hr(ne){return"responseURL"in ne&&ne.responseURL?ne.responseURL:mi.test(ne.getAllResponseHeaders())?ne.getResponseHeader(wn):null}(ve)||Ce.url;return Rt=new de({headers:ar,status:ve.status,statusText:Kn,url:wi}),Rt},pt=()=>{let{headers:Kn,status:ar,statusText:wi,url:Ri}=vt(),Ee=null;204!==ar&&(Ee=typeof ve.response>"u"?ve.responseText:ve.response),0===ar&&(ar=Ee?200:0);let Ue=ar>=200&&ar<300;if("json"===Ce.responseType&&"string"==typeof Ee){const Qe=Ee;Ee=Ee.replace(sr,"");try{Ee=""!==Ee?JSON.parse(Ee):null}catch(Ut){Ee=Qe,Ue&&(Ue=!1,Ee={error:Ut,text:Ee})}}Ue?(oe.next(new ye({body:Ee,headers:Kn,status:ar,statusText:wi,url:Ri||void 0})),oe.complete()):oe.error(new re({error:Ee,headers:Kn,status:ar,statusText:wi,url:Ri||void 0}))},kt=Kn=>{const{url:ar}=vt(),wi=new re({error:Kn,status:ve.status||0,statusText:ve.statusText||"Unknown Error",url:ar||void 0});oe.error(wi)};let nn=!1;const Bn=Kn=>{nn||(oe.next(vt()),nn=!0);let ar={type:Y.DownloadProgress,loaded:Kn.loaded};Kn.lengthComputable&&(ar.total=Kn.total),"text"===Ce.responseType&&ve.responseText&&(ar.partialText=ve.responseText),oe.next(ar)},un=Kn=>{let ar={type:Y.UploadProgress,loaded:Kn.loaded};Kn.lengthComputable&&(ar.total=Kn.total),oe.next(ar)};return ve.addEventListener("load",pt),ve.addEventListener("error",kt),ve.addEventListener("timeout",kt),ve.addEventListener("abort",kt),Ce.reportProgress&&(ve.addEventListener("progress",Bn),null!==Fe&&ve.upload&&ve.upload.addEventListener("progress",un)),ve.send(Fe),oe.next({type:Y.Sent}),()=>{ve.removeEventListener("error",kt),ve.removeEventListener("abort",kt),ve.removeEventListener("load",pt),ve.removeEventListener("timeout",kt),Ce.reportProgress&&(ve.removeEventListener("progress",Bn),null!==Fe&&ve.upload&&ve.upload.removeEventListener("progress",un)),ve.readyState!==ve.DONE&&ve.abort()}})))}static \u0275fac=function(dt){return new(dt||ne)(O.KVO(he.N0))};static \u0275prov=O.jDH({token:ne,factory:ne.\u0275fac})}return ne})();const bi=new O.nKC(""),Gn=new O.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ve=new O.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ar{}let Yi=(()=>{class ne{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(Ce,dt){this.doc=Ce,this.cookieName=dt}getToken(){const Ce=this.doc.cookie||"";return Ce!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,he.bS)(Ce,this.cookieName),this.lastCookieString=Ce),this.lastToken}static \u0275fac=function(dt){return new(dt||ne)(O.KVO(et.q),O.KVO(Gn))};static \u0275prov=O.jDH({token:ne,factory:ne.\u0275fac})}return ne})();function ai(ne,ae){const Ce=ne.url.toLowerCase();if(!(0,O.WQX)(bi)||"GET"===ne.method||"HEAD"===ne.method||Ce.startsWith("http://")||Ce.startsWith("https://"))return ae(ne);const dt=(0,O.WQX)(Ar).getToken(),bt=(0,O.WQX)(Ve);return null!=dt&&!ne.headers.has(bt)&&(ne=ne.clone({headers:ne.headers.set(bt,dt)})),ae(ne)}function Tr(...ne){const ae=[Yt,Cn,lt,{provide:He,useExisting:lt},{provide:ot,useFactory:()=>(0,O.WQX)(Xn,{optional:!0})??(0,O.WQX)(Cn)},{provide:fn,useValue:ai,multi:!0},{provide:bi,useValue:!0},{provide:Ar,useClass:Yi}];for(const Ce of ne)ae.push(...Ce.\u0275providers);return(0,O.EmA)(ae)}},7673:(In,$e,j)=>{"use strict";j.d($e,{of:()=>Q});var T=j(9326),O=j(8455);function Q(...I){const Se=(0,T.lI)(I);return(0,O.H)(I,Se)}},7707:(In,$e,j)=>{"use strict";j.d($e,{Ms:()=>jt,vU:()=>et});var T=j(8071),O=j(8359),Q=j(1026),I=j(5334),Se=j(5343);const Xe=Oe("C",void 0,void 0);function Oe(St,Ne,rt){return{kind:St,value:Ne,error:rt}}var me=j(9270),he=j(9786);class et extends O.yU{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,O.Uv)(Ne)&&Ne.add(this)):this.destination=Et}static create(Ne,rt,Ze){return new jt(Ne,rt,Ze)}next(Ne){this.isStopped?mt(function fe(St){return Oe("N",St,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?mt(function Ie(St){return Oe("E",void 0,St)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?mt(Xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function ot(St,Ne){return He.call(St,Ne)}class At{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:rt}=this;if(rt.next)try{rt.next(Ne)}catch(Ze){Vt(Ze)}}error(Ne){const{partialObserver:rt}=this;if(rt.error)try{rt.error(Ne)}catch(Ze){Vt(Ze)}else Vt(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(rt){Vt(rt)}}}class jt extends et{constructor(Ne,rt,Ze){let wt;if(super(),(0,T.T)(Ne)||!Ne)wt={next:Ne??void 0,error:rt??void 0,complete:Ze??void 0};else{let Gt;this&&Q.$.useDeprecatedNextContext?(Gt=Object.create(Ne),Gt.unsubscribe=()=>this.unsubscribe(),wt={next:Ne.next&&ot(Ne.next,Gt),error:Ne.error&&ot(Ne.error,Gt),complete:Ne.complete&&ot(Ne.complete,Gt)}):wt=Ne}this.destination=new At(wt)}}function Vt(St){Q.$.useDeprecatedSynchronousErrorHandling?(0,he.l)(St):(0,I.m)(St)}function mt(St,Ne){const{onStoppedNotification:rt}=Q.$;rt&&me.f.setTimeout(()=>rt(St,Ne))}const Et={closed:!0,next:Se.l,error:function Zt(St){throw St},complete:Se.l}},7759:(In,$e,j)=>{"use strict";j.d($e,{I:()=>jt});var T=j(6354),O=j(7673),Q=j(9974),I=j(4360),Se=j(3669),Xe=j(1985),Ie=j(3236),fe=j(9470);var he=j(8750),He=j(9437),ot=j(1360),At=j(7643);let jt=(()=>{class Vt{http;BASE_PATH="assets/data/";DATA_FILE="dashboard-data.json";constructor(mt){this.http=mt,console.log("%c<<< Start MOCK-DATA service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getDashboardMetrics(){return this.http.get(`${this.BASE_PATH}dashboard-data.json`)}getTicketGraph(){return this.http.get(`${this.BASE_PATH}${this.DATA_FILE}`).pipe((0,T.T)(mt=>mt.chartData.tickets))}getSatisfactionData(){return this.http.get(`${this.BASE_PATH}satisfaction.json`)}getChannelsData(){return this.http.get(`${this.BASE_PATH}channels.json`)}getNotifications(){return this.http.get(`${this.BASE_PATH}notifications.json`)}getReclamos(){return this.http.get(`${this.BASE_PATH}reclamos.json`).pipe(function et(Vt=1/0){let Zt;Zt=Vt&&"object"==typeof Vt?Vt:{count:Vt};const{count:mt=1/0,delay:Et,resetOnSuccess:St=!1}=Zt;return mt<=0?Se.D:(0,Q.N)((Ne,rt)=>{let wt,Ze=0;const Gt=()=>{let It=!1;wt=Ne.subscribe((0,I._)(rt,ct=>{St&&(Ze=0),rt.next(ct)},void 0,ct=>{if(Ze++<mt){const Un=()=>{wt?(wt.unsubscribe(),wt=null,Gt()):It=!0};if(null!=Et){const Mn="number"==typeof Et?function me(Vt=0,Zt,mt=Ie.b){let Et=-1;return null!=Zt&&((0,fe.m)(Zt)?mt=Zt:Et=Zt),new Xe.c(St=>{let Ne=function Oe(Vt){return Vt instanceof Date&&!isNaN(Vt)}(Vt)?+Vt-mt.now():Vt;Ne<0&&(Ne=0);let rt=0;return mt.schedule(function(){St.closed||(St.next(rt++),0<=Et?this.schedule(void 0,Et):St.complete())},Ne)})}(Et):(0,he.Tg)(Et(ct,Ze)),qn=(0,I._)(rt,()=>{qn.unsubscribe(),Un()},()=>{rt.complete()});Mn.subscribe(qn)}else Un()}else rt.error(ct)})),It&&(wt.unsubscribe(),wt=null,Gt())};Gt()})}(2),(0,He.W)(mt=>(console.error("\u274c Error al cargar reclamos:",mt),(0,O.of)([]))))}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(mt){const Et=16*Math.random()|0;return("x"===mt?Et:3&Et|8).toString(16)})}static \u0275fac=function(Et){return new(Et||Vt)(ot.KVO(At.Qq))};static \u0275prov=ot.jDH({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}return Vt})()},7852:(In,$e,j)=>{"use strict";j.d($e,{MF:()=>Cn,j6:()=>li,xZ:()=>Ei,om:()=>si,Sx:()=>Gn,Dk:()=>Zi,Wp:()=>bi,KO:()=>Yi});var T=j(467),O=j(1362),Q=j(8041),I=j(6858);let Xe,Ie;const me=new WeakMap,he=new WeakMap,et=new WeakMap,He=new WeakMap,ot=new WeakMap;let Vt={get(oe,ve,Fe){if(oe instanceof IDBTransaction){if("done"===ve)return he.get(oe);if("objectStoreNames"===ve)return oe.objectStoreNames||et.get(oe);if("store"===ve)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return St(oe[ve])},set:(oe,ve,Fe)=>(oe[ve]=Fe,!0),has:(oe,ve)=>oe instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in oe};function Et(oe){return"function"==typeof oe?function mt(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...ve){return oe.apply(Ne(this),ve),St(me.get(this))}:function(...ve){return St(oe.apply(Ne(this),ve))}:function(ve,...Fe){const Rt=oe.call(Ne(this),ve,...Fe);return et.set(Rt,ve.sort?ve.sort():[ve]),St(Rt)}}(oe):(oe instanceof IDBTransaction&&function jt(oe){if(he.has(oe))return;const ve=new Promise((Fe,Rt)=>{const vt=()=>{oe.removeEventListener("complete",pt),oe.removeEventListener("error",kt),oe.removeEventListener("abort",kt)},pt=()=>{Fe(),vt()},kt=()=>{Rt(oe.error||new DOMException("AbortError","AbortError")),vt()};oe.addEventListener("complete",pt),oe.addEventListener("error",kt),oe.addEventListener("abort",kt)});he.set(oe,ve)}(oe),((oe,ve)=>ve.some(Fe=>oe instanceof Fe))(oe,function fe(){return Xe||(Xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,Vt):oe)}function St(oe){if(oe instanceof IDBRequest)return function At(oe){const ve=new Promise((Fe,Rt)=>{const vt=()=>{oe.removeEventListener("success",pt),oe.removeEventListener("error",kt)},pt=()=>{Fe(St(oe.result)),vt()},kt=()=>{Rt(oe.error),vt()};oe.addEventListener("success",pt),oe.addEventListener("error",kt)});return ve.then(Fe=>{Fe instanceof IDBCursor&&me.set(Fe,oe)}).catch(()=>{}),ot.set(ve,oe),ve}(oe);if(He.has(oe))return He.get(oe);const ve=Et(oe);return ve!==oe&&(He.set(oe,ve),ot.set(ve,oe)),ve}const Ne=oe=>ot.get(oe),wt=["get","getKey","getAll","getAllKeys","count"],Gt=["put","add","delete","clear"],It=new Map;function ct(oe,ve){if(!(oe instanceof IDBDatabase)||ve in oe||"string"!=typeof ve)return;if(It.get(ve))return It.get(ve);const Fe=ve.replace(/FromIndex$/,""),Rt=ve!==Fe,vt=Gt.includes(Fe);if(!(Fe in(Rt?IDBIndex:IDBObjectStore).prototype)||!vt&&!wt.includes(Fe))return;const pt=function(){var kt=(0,T.A)(function*(nn,...Bn){const un=this.transaction(nn,vt?"readwrite":"readonly");let Kn=un.store;return Rt&&(Kn=Kn.index(Bn.shift())),(yield Promise.all([Kn[Fe](...Bn),vt&&un.done]))[0]});return function(Bn){return kt.apply(this,arguments)}}();return It.set(ve,pt),pt}!function Zt(oe){Vt=oe(Vt)}(oe=>({...oe,get:(ve,Fe,Rt)=>ct(ve,Fe)||oe.get(ve,Fe,Rt),has:(ve,Fe)=>!!ct(ve,Fe)||oe.has(ve,Fe)}));class Un{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function Mn(oe){const ve=oe.getComponent();return"VERSION"===ve?.type}(Fe)){const Rt=Fe.getImmediate();return`${Rt.library}/${Rt.version}`}return null}).filter(Fe=>Fe).join(" ")}}const qn="@firebase/app",wn=new Q.Vy("@firebase/app"),Ye="@firebase/app-compat",tn="@firebase/analytics-compat",Mt="@firebase/analytics",Ke="@firebase/app-check-compat",Y="@firebase/app-check",le="@firebase/auth",de="@firebase/auth-compat",ye="@firebase/database",re="@firebase/data-connect",pe="@firebase/database-compat",qe="@firebase/functions",yt="@firebase/functions-compat",on="@firebase/installations",Yt="@firebase/installations-compat",nr="@firebase/messaging",Wt="@firebase/messaging-compat",Xn="@firebase/performance",Hn="@firebase/performance-compat",Qt="@firebase/remote-config",Vn="@firebase/remote-config-compat",tr="@firebase/storage",Dn="@firebase/storage-compat",Nr="@firebase/firestore",Pr="@firebase/ai",Si="@firebase/firestore-compat",fn="firebase",sn="[DEFAULT]",Xi={[qn]:"fire-core",[Ye]:"fire-core-compat",[Mt]:"fire-analytics",[tn]:"fire-analytics-compat",[Y]:"fire-app-check",[Ke]:"fire-app-check-compat",[le]:"fire-auth",[de]:"fire-auth-compat",[ye]:"fire-rtdb",[re]:"fire-data-connect",[pe]:"fire-rtdb-compat",[qe]:"fire-fn",[yt]:"fire-fn-compat",[on]:"fire-iid",[Yt]:"fire-iid-compat",[nr]:"fire-fcm",[Wt]:"fire-fcm-compat",[Xn]:"fire-perf",[Hn]:"fire-perf-compat",[Qt]:"fire-rc",[Vn]:"fire-rc-compat",[tr]:"fire-gcs",[Dn]:"fire-gcs-compat",[Nr]:"fire-fst",[Si]:"fire-fst-compat",[Pr]:"fire-vertex","fire-js":"fire-js",[fn]:"fire-js-all"},kr=new Map,lt=new Map,Ir=new Map;function Qn(oe,ve){try{oe.container.addComponent(ve)}catch(Fe){wn.debug(`Component ${ve.name} failed to register with FirebaseApp ${oe.name}`,Fe)}}function si(oe){const ve=oe.name;if(Ir.has(ve))return wn.debug(`There were multiple attempts to register component ${ve}.`),!1;Ir.set(ve,oe);for(const Fe of kr.values())Qn(Fe,oe);for(const Fe of lt.values())Qn(Fe,oe);return!0}function li(oe,ve){const Fe=oe.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),oe.container.getProvider(ve)}function Ei(oe){return null!=oe&&void 0!==oe.settings}const lr=new I.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class sr{constructor(ve,Fe,Rt){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=Rt,this.container.addComponent(new O.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const Cn="11.8.0";function bi(oe,ve={}){let Fe=oe;"object"!=typeof ve&&(ve={name:ve});const Rt=Object.assign({name:sn,automaticDataCollectionEnabled:!0},ve),vt=Rt.name;if("string"!=typeof vt||!vt)throw lr.create("bad-app-name",{appName:String(vt)});if(Fe||(Fe=(0,I.T9)()),!Fe)throw lr.create("no-options");const pt=kr.get(vt);if(pt){if((0,I.bD)(Fe,pt.options)&&(0,I.bD)(Rt,pt.config))return pt;throw lr.create("duplicate-app",{appName:vt})}const kt=new O.h1(vt);for(const Bn of Ir.values())kt.addComponent(Bn);const nn=new sr(Fe,Rt,kt);return kr.set(vt,nn),nn}function Gn(oe=sn){const ve=kr.get(oe);if(!ve&&oe===sn&&(0,I.T9)())return bi();if(!ve)throw lr.create("no-app",{appName:oe});return ve}function Zi(){return Array.from(kr.values())}function Yi(oe,ve,Fe){var Rt;let vt=null!==(Rt=Xi[oe])&&void 0!==Rt?Rt:oe;Fe&&(vt+=`-${Fe}`);const pt=vt.match(/\s|\//),kt=ve.match(/\s|\//);if(pt||kt){const nn=[`Unable to register library "${vt}" with version "${ve}":`];return pt&&nn.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),pt&&kt&&nn.push("and"),kt&&nn.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void wn.warn(nn.join(" "))}si(new O.uA(`${vt}-version`,()=>({library:vt,version:ve}),"VERSION"))}const Tr="firebase-heartbeat-store";let Ui=null;function Bi(){return Ui||(Ui=function rt(oe,ve,{blocked:Fe,upgrade:Rt,blocking:vt,terminated:pt}={}){const kt=indexedDB.open(oe,ve),nn=St(kt);return Rt&&kt.addEventListener("upgradeneeded",Bn=>{Rt(St(kt.result),Bn.oldVersion,Bn.newVersion,St(kt.transaction),Bn)}),Fe&&kt.addEventListener("blocked",Bn=>Fe(Bn.oldVersion,Bn.newVersion,Bn)),nn.then(Bn=>{pt&&Bn.addEventListener("close",()=>pt()),vt&&Bn.addEventListener("versionchange",un=>vt(un.oldVersion,un.newVersion,un))}).catch(()=>{}),nn}("firebase-heartbeat-database",1,{upgrade:(oe,ve)=>{if(0===ve)try{oe.createObjectStore(Tr)}catch(Fe){console.warn(Fe)}}}).catch(oe=>{throw lr.create("idb-open",{originalErrorMessage:oe.message})})),Ui}function De(){return(De=(0,T.A)(function*(oe){try{const Fe=(yield Bi()).transaction(Tr),Rt=yield Fe.objectStore(Tr).get(Ot(oe));return yield Fe.done,Rt}catch(ve){if(ve instanceof I.g)wn.warn(ve.message);else{const Fe=lr.create("idb-get",{originalErrorMessage:ve?.message});wn.warn(Fe.message)}}})).apply(this,arguments)}function _e(oe,ve){return Be.apply(this,arguments)}function Be(){return(Be=(0,T.A)(function*(oe,ve){try{const Rt=(yield Bi()).transaction(Tr,"readwrite");yield Rt.objectStore(Tr).put(ve,Ot(oe)),yield Rt.done}catch(Fe){if(Fe instanceof I.g)wn.warn(Fe.message);else{const Rt=lr.create("idb-set",{originalErrorMessage:Fe?.message});wn.warn(Rt.message)}}})).apply(this,arguments)}function Ot(oe){return`${oe.name}!${oe.options.appId}`}class Rn{constructor(ve){this.container=ve,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new ae(Fe),this._heartbeatsCachePromise=this._storage.read().then(Rt=>(this._heartbeatsCache=Rt,Rt))}triggerHeartbeat(){var ve=this;return(0,T.A)(function*(){var Fe,Rt;try{const pt=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=mr();if(null==(null===(Fe=ve._heartbeatsCache)||void 0===Fe?void 0:Fe.heartbeats)&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise,null==(null===(Rt=ve._heartbeatsCache)||void 0===Rt?void 0:Rt.heartbeats))||ve._heartbeatsCache.lastSentHeartbeatDate===kt||ve._heartbeatsCache.heartbeats.some(nn=>nn.date===kt))return;if(ve._heartbeatsCache.heartbeats.push({date:kt,agent:pt}),ve._heartbeatsCache.heartbeats.length>30){const nn=function dt(oe){if(0===oe.length)return-1;let ve=0,Fe=oe[0].date;for(let Rt=1;Rt<oe.length;Rt++)oe[Rt].date<Fe&&(Fe=oe[Rt].date,ve=Rt);return ve}(ve._heartbeatsCache.heartbeats);ve._heartbeatsCache.heartbeats.splice(nn,1)}return ve._storage.overwrite(ve._heartbeatsCache)}catch(vt){wn.warn(vt)}})()}getHeartbeatsHeader(){var ve=this;return(0,T.A)(function*(){var Fe;try{if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null==(null===(Fe=ve._heartbeatsCache)||void 0===Fe?void 0:Fe.heartbeats)||0===ve._heartbeatsCache.heartbeats.length)return"";const Rt=mr(),{heartbeatsToSend:vt,unsentEntries:pt}=function ne(oe,ve=1024){const Fe=[];let Rt=oe.slice();for(const vt of oe){const pt=Fe.find(kt=>kt.agent===vt.agent);if(pt){if(pt.dates.push(vt.date),Ce(Fe)>ve){pt.dates.pop();break}}else if(Fe.push({agent:vt.agent,dates:[vt.date]}),Ce(Fe)>ve){Fe.pop();break}Rt=Rt.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:Rt}}(ve._heartbeatsCache.heartbeats),kt=(0,I.Uj)(JSON.stringify({version:2,heartbeats:vt}));return ve._heartbeatsCache.lastSentHeartbeatDate=Rt,pt.length>0?(ve._heartbeatsCache.heartbeats=pt,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),kt}catch(Rt){return wn.warn(Rt),""}})()}}function mr(){return(new Date).toISOString().substring(0,10)}class ae{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.A)(function*(){return!!(0,I.zW)()&&(0,I.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,T.A)(function*(){if(yield ve._canUseIndexedDBPromise){const Rt=yield function xi(oe){return De.apply(this,arguments)}(ve.app);return Rt?.heartbeats?Rt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ve){var Fe=this;return(0,T.A)(function*(){var Rt;if(yield Fe._canUseIndexedDBPromise){const pt=yield Fe.read();return _e(Fe.app,{lastSentHeartbeatDate:null!==(Rt=ve.lastSentHeartbeatDate)&&void 0!==Rt?Rt:pt.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var Fe=this;return(0,T.A)(function*(){var Rt;if(yield Fe._canUseIndexedDBPromise){const pt=yield Fe.read();return _e(Fe.app,{lastSentHeartbeatDate:null!==(Rt=ve.lastSentHeartbeatDate)&&void 0!==Rt?Rt:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...ve.heartbeats]})}})()}}function Ce(oe){return(0,I.Uj)(JSON.stringify({version:2,heartbeats:oe})).length}!function bt(oe){si(new O.uA("platform-logger",ve=>new Un(ve),"PRIVATE")),si(new O.uA("heartbeat",ve=>new Rn(ve),"PRIVATE")),Yi(qn,"0.13.0",oe),Yi(qn,"0.13.0","esm2017"),Yi("fire-js","")}("")},7908:(In,$e,j)=>{"use strict";function T(O,Q){if(O){const I=O.indexOf(Q);0<=I&&O.splice(I,1)}}j.d($e,{o:()=>T})},7953:(In,$e,j)=>{"use strict";j.d($e,{T:()=>O});var T=j(8071);function O(Q){return Symbol.asyncIterator&&(0,T.T)(Q?.[Symbol.asyncIterator])}},8032:function(In){In.exports=function(){"use strict";var $e={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const T=P=>{const k={};for(const H in P)k[P[H]]="swal2-"+P[H];return k},O=T(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Q=T(["success","warning","info","question","error"]),I="SweetAlert2:",Xe=P=>P.charAt(0).toUpperCase()+P.slice(1),Ie=P=>{console.warn(`${I} ${"object"==typeof P?P.join(" "):P}`)},fe=P=>{console.error(`${I} ${P}`)},Oe=[],he=(P,k)=>{(P=>{Oe.includes(P)||(Oe.push(P),Ie(P))})(`"${P}" is deprecated and will be removed in the next major release. Please use "${k}" instead.`)},et=P=>"function"==typeof P?P():P,He=P=>P&&"function"==typeof P.toPromise,ot=P=>He(P)?P.toPromise():Promise.resolve(P),At=P=>P&&Promise.resolve(P)===P,jt=()=>document.body.querySelector(`.${O.container}`),Vt=P=>{const k=jt();return k?k.querySelector(P):null},Zt=P=>Vt(`.${P}`),mt=()=>Zt(O.popup),Et=()=>Zt(O.icon),Ne=()=>Zt(O.title),rt=()=>Zt(O["html-container"]),Ze=()=>Zt(O.image),wt=()=>Zt(O["progress-steps"]),Gt=()=>Zt(O["validation-message"]),It=()=>Vt(`.${O.actions} .${O.confirm}`),ct=()=>Vt(`.${O.actions} .${O.deny}`),Mn=()=>Vt(`.${O.loader}`),qn=()=>Vt(`.${O.actions} .${O.cancel}`),ht=()=>Zt(O.actions),wn=()=>Zt(O.footer),Ye=()=>Zt(O["timer-progress-bar"]),tn=()=>Zt(O.close),Ke=()=>{const P=Array.from(mt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((H,Ae)=>{const xt=parseInt(H.getAttribute("tabindex")),Sn=parseInt(Ae.getAttribute("tabindex"));return xt>Sn?1:xt<Sn?-1:0}),k=Array.from(mt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(H=>"-1"!==H.getAttribute("tabindex"));return(P=>{const k=[];for(let H=0;H<P.length;H++)-1===k.indexOf(P[H])&&k.push(P[H]);return k})(P.concat(k)).filter(H=>Pr(H))},Y=()=>pe(document.body,O.shown)&&!pe(document.body,O["toast-shown"])&&!pe(document.body,O["no-backdrop"]),le=()=>mt()&&pe(mt(),O.toast),ye={previousBodyPadding:null},re=(P,k)=>{if(P.textContent="",k){const Ae=(new DOMParser).parseFromString(k,"text/html");Array.from(Ae.querySelector("head").childNodes).forEach(xt=>{P.appendChild(xt)}),Array.from(Ae.querySelector("body").childNodes).forEach(xt=>{xt instanceof HTMLVideoElement||xt instanceof HTMLAudioElement?P.appendChild(xt.cloneNode(!0)):P.appendChild(xt)})}},pe=(P,k)=>{if(!k)return!1;const H=k.split(/\s+/);for(let Ae=0;Ae<H.length;Ae++)if(!P.classList.contains(H[Ae]))return!1;return!0},yt=(P,k,H)=>{if(((P,k)=>{Array.from(P.classList).forEach(H=>{!Object.values(O).includes(H)&&!Object.values(Q).includes(H)&&!Object.values(k.showClass).includes(H)&&P.classList.remove(H)})})(P,k),k.customClass&&k.customClass[H]){if("string"!=typeof k.customClass[H]&&!k.customClass[H].forEach)return void Ie(`Invalid type of customClass.${H}! Expected string or iterable object, got "${typeof k.customClass[H]}"`);Wt(P,k.customClass[H])}},on=(P,k)=>{if(!k)return null;switch(k){case"select":case"textarea":case"file":return P.querySelector(`.${O.popup} > .${O[k]}`);case"checkbox":return P.querySelector(`.${O.popup} > .${O.checkbox} input`);case"radio":return P.querySelector(`.${O.popup} > .${O.radio} input:checked`)||P.querySelector(`.${O.popup} > .${O.radio} input:first-child`);case"range":return P.querySelector(`.${O.popup} > .${O.range} input`);default:return P.querySelector(`.${O.popup} > .${O.input}`)}},Yt=P=>{if(P.focus(),"file"!==P.type){const k=P.value;P.value="",P.value=k}},nr=(P,k,H)=>{!P||!k||("string"==typeof k&&(k=k.split(/\s+/).filter(Boolean)),k.forEach(Ae=>{Array.isArray(P)?P.forEach(xt=>{H?xt.classList.add(Ae):xt.classList.remove(Ae)}):H?P.classList.add(Ae):P.classList.remove(Ae)}))},Wt=(P,k)=>{nr(P,k,!0)},Xn=(P,k)=>{nr(P,k,!1)},Hn=(P,k)=>{const H=Array.from(P.children);for(let Ae=0;Ae<H.length;Ae++){const xt=H[Ae];if(xt instanceof HTMLElement&&pe(xt,k))return xt}},Qt=(P,k,H)=>{H===`${parseInt(H)}`&&(H=parseInt(H)),H||0===parseInt(H)?P.style[k]="number"==typeof H?`${H}px`:H:P.style.removeProperty(k)},Vn=function(P){P.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},tr=P=>{P.style.display="none"},Dn=(P,k,H,Ae)=>{const xt=P.querySelector(k);xt&&(xt.style[H]=Ae)},Nr=function(P,k){k?Vn(P,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):tr(P)},Pr=P=>!(!P||!(P.offsetWidth||P.offsetHeight||P.getClientRects().length)),fn=P=>P.scrollHeight>P.clientHeight,fr=P=>{const k=window.getComputedStyle(P),H=parseFloat(k.getPropertyValue("animation-duration")||"0"),Ae=parseFloat(k.getPropertyValue("transition-duration")||"0");return H>0||Ae>0},sn=function(P){let k=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const H=Ye();Pr(H)&&(k&&(H.style.transition="none",H.style.width="100%"),setTimeout(()=>{H.style.transition=`width ${P/1e3}s linear`,H.style.width="0%"},10))},lt={},Qn=P=>new Promise(k=>{if(!P)return k();const H=window.scrollX,Ae=window.scrollY;lt.restoreFocusTimeout=setTimeout(()=>{lt.previousActiveElement instanceof HTMLElement?(lt.previousActiveElement.focus(),lt.previousActiveElement=null):document.body&&document.body.focus(),k()},100),window.scrollTo(H,Ae)}),qt=()=>typeof window>"u"||typeof document>"u",si=`\n <div aria-labelledby="${O.title}" aria-describedby="${O["html-container"]}" class="${O.popup}" tabindex="-1">\n   <button type="button" class="${O.close}"></button>\n   <ul class="${O["progress-steps"]}"></ul>\n   <div class="${O.icon}"></div>\n   <img class="${O.image}" />\n   <h2 class="${O.title}" id="${O.title}"></h2>\n   <div class="${O["html-container"]}" id="${O["html-container"]}"></div>\n   <input class="${O.input}" />\n   <input type="file" class="${O.file}" />\n   <div class="${O.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${O.select}"></select>\n   <div class="${O.radio}"></div>\n   <label for="${O.checkbox}" class="${O.checkbox}">\n     <input type="checkbox" />\n     <span class="${O.label}"></span>\n   </label>\n   <textarea class="${O.textarea}"></textarea>\n   <div class="${O["validation-message"]}" id="${O["validation-message"]}"></div>\n   <div class="${O.actions}">\n     <div class="${O.loader}"></div>\n     <button type="button" class="${O.confirm}"></button>\n     <button type="button" class="${O.deny}"></button>\n     <button type="button" class="${O.cancel}"></button>\n   </div>\n   <div class="${O.footer}"></div>\n   <div class="${O["timer-progress-bar-container"]}">\n     <div class="${O["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),gi=()=>{lt.currentInstance.resetValidationMessage()},lr=P=>{const k=(()=>{const P=jt();return!!P&&(P.remove(),Xn([document.documentElement,document.body],[O["no-backdrop"],O["toast-shown"],O["has-column"]]),!0)})();if(qt())return void fe("SweetAlert2 requires document to initialize");const H=document.createElement("div");H.className=O.container,k&&Wt(H,O["no-transition"]),re(H,si);const Ae=(P=>"string"==typeof P?document.querySelector(P):P)(P.target);Ae.appendChild(H),(P=>{const k=mt();k.setAttribute("role",P.toast?"alert":"dialog"),k.setAttribute("aria-live",P.toast?"polite":"assertive"),P.toast||k.setAttribute("aria-modal","true")})(P),(P=>{"rtl"===window.getComputedStyle(P).direction&&Wt(jt(),O.rtl)})(Ae),(()=>{const P=mt(),k=Hn(P,O.input),H=Hn(P,O.file),Ae=P.querySelector(`.${O.range} input`),xt=P.querySelector(`.${O.range} output`),Sn=Hn(P,O.select),cr=P.querySelector(`.${O.checkbox} input`),Hi=Hn(P,O.textarea);k.oninput=gi,H.onchange=gi,Sn.onchange=gi,cr.onchange=gi,Hi.oninput=gi,Ae.oninput=()=>{gi(),xt.value=Ae.value},Ae.onchange=()=>{gi(),xt.value=Ae.value}})()},sr=(P,k)=>{P instanceof HTMLElement?k.appendChild(P):"object"==typeof P?mi(P,k):P&&re(k,P)},mi=(P,k)=>{P.jquery?hr(k,P):re(k,P.toString())},hr=(P,k)=>{if(P.textContent="",0 in k)for(let H=0;H in k;H++)P.appendChild(k[H].cloneNode(!0));else P.appendChild(k.cloneNode(!0))},Cn=(()=>{if(qt())return!1;const P=document.createElement("div"),k={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const H in k)if(Object.prototype.hasOwnProperty.call(k,H)&&typeof P.style[H]<"u")return k[H];return!1})(),xr=(P,k)=>{const H=ht(),Ae=Mn();k.showConfirmButton||k.showDenyButton||k.showCancelButton?Vn(H):tr(H),yt(H,k,"actions"),function Gn(P,k,H){const Ae=It(),xt=ct(),Sn=qn();Ve(Ae,"confirm",H),Ve(xt,"deny",H),Ve(Sn,"cancel",H),function Zi(P,k,H,Ae){Ae.buttonsStyling?(Wt([P,k,H],O.styled),Ae.confirmButtonColor&&(P.style.backgroundColor=Ae.confirmButtonColor,Wt(P,O["default-outline"])),Ae.denyButtonColor&&(k.style.backgroundColor=Ae.denyButtonColor,Wt(k,O["default-outline"])),Ae.cancelButtonColor&&(H.style.backgroundColor=Ae.cancelButtonColor,Wt(H,O["default-outline"]))):Xn([P,k,H],O.styled)}(Ae,xt,Sn,H),H.reverseButtons&&(H.toast?(P.insertBefore(Sn,Ae),P.insertBefore(xt,Ae)):(P.insertBefore(Sn,k),P.insertBefore(xt,k),P.insertBefore(Ae,k)))}(H,Ae,k),re(Ae,k.loaderHtml),yt(Ae,k,"loader")};function Ve(P,k,H){Nr(P,H[`show${Xe(k)}Button`],"inline-block"),re(P,H[`${k}ButtonText`]),P.setAttribute("aria-label",H[`${k}ButtonAriaLabel`]),P.className=O[k],yt(P,H,`${k}Button`),Wt(P,H[`${k}ButtonClass`])}const Yi=(P,k)=>{const H=jt();H&&(function ai(P,k){"string"==typeof k?P.style.background=k:k||Wt([document.documentElement,document.body],O["no-backdrop"])}(H,k.backdrop),function Vi(P,k){k in O?Wt(P,O[k]):(Ie('The "position" parameter is not valid, defaulting to "center"'),Wt(P,O.center))}(H,k.position),function _n(P,k){if(k&&"string"==typeof k){const H=`grow-${k}`;H in O&&Wt(P,O[H])}}(H,k.grow),yt(H,k,"container"))};const gr=["input","file","range","select","radio","checkbox","textarea"],Ui=P=>{if(!Xt[P.input])return void fe(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${P.input}"`);const k=Ot(P.input),H=Xt[P.input](k,P);Vn(k),setTimeout(()=>{Yt(H)})},xi=(P,k)=>{const H=on(mt(),P);if(H){(P=>{for(let k=0;k<P.attributes.length;k++){const H=P.attributes[k].name;["type","value","style"].includes(H)||P.removeAttribute(H)}})(H);for(const Ae in k)H.setAttribute(Ae,k[Ae])}},De=P=>{const k=Ot(P.input);"object"==typeof P.customClass&&Wt(k,P.customClass.input)},_e=(P,k)=>{(!P.placeholder||k.inputPlaceholder)&&(P.placeholder=k.inputPlaceholder)},Be=(P,k,H)=>{if(H.inputLabel){P.id=O.input;const Ae=document.createElement("label"),xt=O["input-label"];Ae.setAttribute("for",P.id),Ae.className=xt,"object"==typeof H.customClass&&Wt(Ae,H.customClass.inputLabel),Ae.innerText=H.inputLabel,k.insertAdjacentElement("beforebegin",Ae)}},Ot=P=>Hn(mt(),O[P]||O.input),Je=(P,k)=>{["string","number"].includes(typeof k)?P.value=`${k}`:At(k)||Ie(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof k}"`)},Xt={};Xt.text=Xt.email=Xt.password=Xt.number=Xt.tel=Xt.url=(P,k)=>(Je(P,k.inputValue),Be(P,P,k),_e(P,k),P.type=k.input,P),Xt.file=(P,k)=>(Be(P,P,k),_e(P,k),P),Xt.range=(P,k)=>{const H=P.querySelector("input"),Ae=P.querySelector("output");return Je(H,k.inputValue),H.type=k.input,Je(Ae,k.inputValue),Be(H,P,k),P},Xt.select=(P,k)=>{if(P.textContent="",k.inputPlaceholder){const H=document.createElement("option");re(H,k.inputPlaceholder),H.value="",H.disabled=!0,H.selected=!0,P.appendChild(H)}return Be(P,P,k),P},Xt.radio=P=>(P.textContent="",P),Xt.checkbox=(P,k)=>{const H=on(mt(),"checkbox");H.value="1",H.id=O.checkbox,H.checked=!!k.inputValue;const Ae=P.querySelector("span");return re(Ae,k.inputPlaceholder),H},Xt.textarea=(P,k)=>{Je(P,k.inputValue),_e(P,k),Be(P,P,k);return setTimeout(()=>{if("MutationObserver"in window){const Ae=parseInt(window.getComputedStyle(mt()).width);new MutationObserver(()=>{const Sn=P.offsetWidth+(Ae=>parseInt(window.getComputedStyle(Ae).marginLeft)+parseInt(window.getComputedStyle(Ae).marginRight))(P);mt().style.width=Sn>Ae?`${Sn}px`:null}).observe(P,{attributes:!0,attributeFilter:["style"]})}}),P};const Rn=(P,k)=>{const H=rt();yt(H,k,"htmlContainer"),k.html?(sr(k.html,H),Vn(H,"block")):k.text?(H.textContent=k.text,Vn(H,"block")):tr(H),((P,k)=>{const H=mt(),Ae=$e.innerParams.get(P),xt=!Ae||k.input!==Ae.input;gr.forEach(Sn=>{const cr=Hn(H,O[Sn]);xi(Sn,k.inputAttributes),cr.className=O[Sn],xt&&tr(cr)}),k.input&&(xt&&Ui(k),De(k))})(P,k)},ae=(P,k)=>{for(const H in Q)k.icon!==H&&Xn(P,Q[H]);Wt(P,Q[k.icon]),ve(P,k),Ce(),yt(P,k,"icon")},Ce=()=>{const P=mt(),k=window.getComputedStyle(P).getPropertyValue("background-color"),H=P.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ae=0;Ae<H.length;Ae++)H[Ae].style.backgroundColor=k},oe=(P,k)=>{let Ae,H=P.innerHTML;k.iconHtml?Ae=Fe(k.iconHtml):"success"===k.icon?(Ae='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',H=H.replace(/ style=".*?"/g,"")):Ae="error"===k.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Fe({question:"?",warning:"!",info:"i"}[k.icon]),H.trim()!==Ae.trim()&&re(P,Ae)},ve=(P,k)=>{if(k.iconColor){P.style.color=k.iconColor,P.style.borderColor=k.iconColor;for(const H of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Dn(P,H,"backgroundColor",k.iconColor);Dn(P,".swal2-success-ring","borderColor",k.iconColor)}},Fe=P=>`<div class="${O["icon-content"]}">${P}</div>`,pt=(P,k)=>{P.className=`${O.popup} ${Pr(P)?k.showClass.popup:""}`,k.toast?(Wt([document.documentElement,document.body],O["toast-shown"]),Wt(P,O.toast)):Wt(P,O.modal),yt(P,k,"popup"),"string"==typeof k.customClass&&Wt(P,k.customClass),k.icon&&Wt(P,O[`icon-${k.icon}`])},nn=P=>{const k=document.createElement("li");return Wt(k,O["progress-step"]),re(k,P),k},Bn=P=>{const k=document.createElement("li");return Wt(k,O["progress-step-line"]),P.progressStepsDistance&&Qt(k,"width",P.progressStepsDistance),k},Kn=(P,k)=>{((P,k)=>{const H=jt(),Ae=mt();k.toast?(Qt(H,"width",k.width),Ae.style.width="100%",Ae.insertBefore(Mn(),Et())):Qt(Ae,"width",k.width),Qt(Ae,"padding",k.padding),k.color&&(Ae.style.color=k.color),k.background&&(Ae.style.background=k.background),tr(Gt()),pt(Ae,k)})(0,k),Yi(0,k),((P,k)=>{const H=wt();k.progressSteps&&0!==k.progressSteps.length?(Vn(H),H.textContent="",k.currentProgressStep>=k.progressSteps.length&&Ie("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),k.progressSteps.forEach((Ae,xt)=>{const Sn=nn(Ae);if(H.appendChild(Sn),xt===k.currentProgressStep&&Wt(Sn,O["active-progress-step"]),xt!==k.progressSteps.length-1){const cr=Bn(k);H.appendChild(cr)}})):tr(H)})(0,k),((P,k)=>{const H=$e.innerParams.get(P),Ae=Et();H&&k.icon===H.icon?(oe(Ae,k),ae(Ae,k)):k.icon||k.iconHtml?k.icon&&-1===Object.keys(Q).indexOf(k.icon)?(fe(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${k.icon}"`),tr(Ae)):(Vn(Ae),oe(Ae,k),ae(Ae,k),Wt(Ae,k.showClass.icon)):tr(Ae)})(P,k),((P,k)=>{const H=Ze();k.imageUrl?(Vn(H,""),H.setAttribute("src",k.imageUrl),H.setAttribute("alt",k.imageAlt),Qt(H,"width",k.imageWidth),Qt(H,"height",k.imageHeight),H.className=O.image,yt(H,k,"image")):tr(H)})(0,k),((P,k)=>{const H=Ne();Nr(H,k.title||k.titleText,"block"),k.title&&sr(k.title,H),k.titleText&&(H.innerText=k.titleText),yt(H,k,"title")})(0,k),((P,k)=>{const H=tn();re(H,k.closeButtonHtml),yt(H,k,"closeButton"),Nr(H,k.showCloseButton),H.setAttribute("aria-label",k.closeButtonAriaLabel)})(0,k),Rn(P,k),xr(0,k),((P,k)=>{const H=wn();Nr(H,k.footer),k.footer&&sr(k.footer,H),yt(H,k,"footer")})(0,k),"function"==typeof k.didRender&&k.didRender(mt())};function ar(){const P=$e.innerParams.get(this);if(!P)return;const k=$e.domCache.get(this);tr(k.loader),le()?P.icon&&Vn(Et()):wi(k),Xn([k.popup,k.actions],O.loading),k.popup.removeAttribute("aria-busy"),k.popup.removeAttribute("data-loading"),k.confirmButton.disabled=!1,k.denyButton.disabled=!1,k.cancelButton.disabled=!1}const wi=P=>{const k=P.popup.getElementsByClassName(P.loader.getAttribute("data-button-to-replace"));k.length?Vn(k[0],"inline-block"):!Pr(It())&&!Pr(ct())&&!Pr(qn())&&tr(P.actions)};const Ue=()=>It()&&It().click(),zt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Tn=P=>{P.keydownTarget&&P.keydownHandlerAdded&&(P.keydownTarget.removeEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!1)},An=(P,k,H)=>{const Ae=Ke();if(Ae.length)return(k+=H)===Ae.length?k=0:-1===k&&(k=Ae.length-1),Ae[k].focus();mt().focus()},rr=["ArrowRight","ArrowDown"],zr=["ArrowLeft","ArrowUp"],Po=(P,k,H)=>{const Ae=$e.innerParams.get(P);Ae&&(k.isComposing||229===k.keyCode||(Ae.stopKeydownPropagation&&k.stopPropagation(),"Enter"===k.key?Sr(P,k,Ae):"Tab"===k.key?ao(k,Ae):[...rr,...zr].includes(k.key)?Wi(k.key):"Escape"===k.key&&Bo(k,Ae,H)))},Sr=(P,k,H)=>{if(et(H.allowEnterKey)&&k.target&&P.getInput()&&k.target instanceof HTMLElement&&k.target.outerHTML===P.getInput().outerHTML){if(["textarea","file"].includes(H.input))return;Ue(),k.preventDefault()}},ao=(P,k)=>{const H=P.target,Ae=Ke();let xt=-1;for(let Sn=0;Sn<Ae.length;Sn++)if(H===Ae[Sn]){xt=Sn;break}An(0,xt,P.shiftKey?-1:1),P.stopPropagation(),P.preventDefault()},Wi=P=>{const k=It(),H=ct(),Ae=qn();if(document.activeElement instanceof HTMLElement&&![k,H,Ae].includes(document.activeElement))return;const xt=rr.includes(P)?"nextElementSibling":"previousElementSibling";let Sn=document.activeElement;for(let cr=0;cr<ht().children.length;cr++){if(Sn=Sn[xt],!Sn)return;if(Sn instanceof HTMLButtonElement&&Pr(Sn))break}Sn instanceof HTMLButtonElement&&Sn.focus()},Bo=(P,k,H)=>{et(k.allowEscapeKey)&&(P.preventDefault(),H(zt.esc))};var io={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ge=()=>{Array.from(document.body.children).forEach(k=>{k.hasAttribute("data-previous-aria-hidden")?(k.setAttribute("aria-hidden",k.getAttribute("data-previous-aria-hidden")),k.removeAttribute("data-previous-aria-hidden")):k.removeAttribute("aria-hidden")})},te=()=>{const P=navigator.userAgent,k=!!P.match(/iPad/i)||!!P.match(/iPhone/i),H=!!P.match(/WebKit/i);k&&H&&!P.match(/CriOS/i)&&mt().scrollHeight>window.innerHeight-44&&(jt().style.paddingBottom="44px")},Pe=()=>{const P=jt();let k;P.ontouchstart=H=>{k=Dt(H)},P.ontouchmove=H=>{k&&(H.preventDefault(),H.stopPropagation())}},Dt=P=>{const k=P.target,H=jt();return!cn(P)&&!On(P)&&(k===H||!fn(H)&&k instanceof HTMLElement&&"INPUT"!==k.tagName&&"TEXTAREA"!==k.tagName&&!(fn(rt())&&rt().contains(k)))},cn=P=>P.touches&&P.touches.length&&"stylus"===P.touches[0].touchType,On=P=>P.touches&&P.touches.length>1,Xr=()=>{null===ye.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(ye.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ye.previousBodyPadding+(()=>{const P=document.createElement("div");P.className=O["scrollbar-measure"],document.body.appendChild(P);const k=P.getBoundingClientRect().width-P.clientWidth;return document.body.removeChild(P),k})()}px`)};function yr(P,k,H,Ae){le()?ft(P,Ae):(Qn(H).then(()=>ft(P,Ae)),Tn(lt)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(k.setAttribute("style","display:none !important"),k.removeAttribute("class"),k.innerHTML=""):k.remove(),Y()&&(null!==ye.previousBodyPadding&&(document.body.style.paddingRight=`${ye.previousBodyPadding}px`,ye.previousBodyPadding=null),(()=>{if(pe(document.body,O.iosfix)){const P=parseInt(document.body.style.top,10);Xn(document.body,O.iosfix),document.body.style.top="",document.body.scrollTop=-1*P}})(),ge()),function Ln(){Xn([document.documentElement,document.body],[O.shown,O["height-auto"],O["no-backdrop"],O["toast-shown"]])}()}function _r(P){P=ce(P);const k=io.swalPromiseResolve.get(this),H=yi(this);this.isAwaitingPromise()?P.isDismissed||(Wo(this),k(P)):H&&k(P)}const yi=P=>{const k=mt();if(!k)return!1;const H=$e.innerParams.get(P);if(!H||pe(k,H.hideClass.popup))return!1;Xn(k,H.showClass.popup),Wt(k,H.hideClass.popup);const Ae=jt();return Xn(Ae,H.showClass.backdrop),Wt(Ae,H.hideClass.backdrop),nt(P,k,H),!0};const Wo=P=>{P.isAwaitingPromise()&&($e.awaitingPromise.delete(P),$e.innerParams.get(P)||P._destroy())},ce=P=>typeof P>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},P),nt=(P,k,H)=>{const Ae=jt(),xt=Cn&&fr(k);"function"==typeof H.willClose&&H.willClose(k),xt?Me(P,k,Ae,H.returnFocus,H.didClose):yr(P,Ae,H.returnFocus,H.didClose)},Me=(P,k,H,Ae,xt)=>{lt.swalCloseEventFinishedCallback=yr.bind(null,P,H,Ae,xt),k.addEventListener(Cn,function(Sn){Sn.target===k&&(lt.swalCloseEventFinishedCallback(),delete lt.swalCloseEventFinishedCallback)})},ft=(P,k)=>{setTimeout(()=>{"function"==typeof k&&k.bind(P.params)(),P._destroy()})};function Jt(P,k,H){const Ae=$e.domCache.get(P);k.forEach(xt=>{Ae[xt].disabled=H})}function vn(P,k){if(P)if("radio"===P.type){const Ae=P.parentNode.parentNode.querySelectorAll("input");for(let xt=0;xt<Ae.length;xt++)Ae[xt].disabled=k}else P.disabled=k}const En={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},as=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Io={},Mo=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Zo=P=>Object.prototype.hasOwnProperty.call(En,P),No=P=>-1!==as.indexOf(P),bs=P=>Io[P],cs=P=>{Zo(P)||Ie(`Unknown parameter "${P}"`)},Or=P=>{Mo.includes(P)&&Ie(`The parameter "${P}" is incompatible with toasts`)},Go=P=>{bs(P)&&he(P,bs(P))};const Ds=P=>{const k={};return Object.keys(P).forEach(H=>{No(H)?k[H]=P[H]:Ie(`Invalid parameter to update: ${H}`)}),k};const co=P=>{Yr(P),delete P.params,delete lt.keydownHandler,delete lt.keydownTarget,delete lt.currentInstance},Yr=P=>{P.isAwaitingPromise()?(Jr($e,P),$e.awaitingPromise.set(P,!0)):(Jr(io,P),Jr($e,P))},Jr=(P,k)=>{for(const H in P)P[H].delete(k)};var As=Object.freeze({__proto__:null,hideLoading:ar,disableLoading:ar,getInput:function Ri(P){const k=$e.innerParams.get(P||this),H=$e.domCache.get(P||this);return H?on(H.popup,k.input):null},close:_r,isAwaitingPromise:function Gi(){return!!$e.awaitingPromise.get(this)},rejectPromise:function wo(P){const k=io.swalPromiseReject.get(this);Wo(this),k&&k(P)},handleAwaitingPromise:Wo,closePopup:_r,closeModal:_r,closeToast:_r,enableButtons:function jn(){Jt(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Ji(){Jt(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function go(){vn(this.getInput(),!1)},disableInput:function xs(){vn(this.getInput(),!0)},showValidationMessage:function ni(P){const k=$e.domCache.get(this),H=$e.innerParams.get(this);re(k.validationMessage,P),k.validationMessage.className=O["validation-message"],H.customClass&&H.customClass.validationMessage&&Wt(k.validationMessage,H.customClass.validationMessage),Vn(k.validationMessage);const Ae=this.getInput();Ae&&(Ae.setAttribute("aria-invalid",!0),Ae.setAttribute("aria-describedby",O["validation-message"]),Yt(Ae),Wt(Ae,O.inputerror))},resetValidationMessage:function ss(){const P=$e.domCache.get(this);P.validationMessage&&tr(P.validationMessage);const k=this.getInput();k&&(k.removeAttribute("aria-invalid"),k.removeAttribute("aria-describedby"),Xn(k,O.inputerror))},update:function Ko(P){const k=mt(),H=$e.innerParams.get(this);if(!k||pe(k,H.hideClass.popup))return void Ie("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Ae=Ds(P),xt=Object.assign({},H,Ae);Kn(this,xt),$e.innerParams.set(this,xt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,P),writable:!1,enumerable:!0}})},_destroy:function Kr(){const P=$e.domCache.get(this),k=$e.innerParams.get(this);k?(P.popup&&lt.swalCloseEventFinishedCallback&&(lt.swalCloseEventFinishedCallback(),delete lt.swalCloseEventFinishedCallback),"function"==typeof k.didDestroy&&k.didDestroy(),co(this)):Yr(this)}});const ko=P=>{let k=mt();k||new oi,k=mt();const H=Mn();le()?tr(Et()):xo(k,P),Vn(H),k.setAttribute("data-loading","true"),k.setAttribute("aria-busy","true"),k.focus()},xo=(P,k)=>{const H=ht(),Ae=Mn();!k&&Pr(It())&&(k=It()),Vn(H),k&&(tr(k),Ae.setAttribute("data-button-to-replace",k.className)),Ae.parentNode.insertBefore(Ae,k),Wt([P,H],O.loading)},ji=P=>P.checked?1:0,Hs=P=>P.checked?P.value:null,Oo=P=>P.files.length?null!==P.getAttribute("multiple")?P.files:P.files[0]:null,Fr=(P,k)=>{const H=mt(),Ae=xt=>{eo[k.input](H,ra(xt),k)};He(k.inputOptions)||At(k.inputOptions)?(ko(It()),ot(k.inputOptions).then(xt=>{P.hideLoading(),Ae(xt)})):"object"==typeof k.inputOptions?Ae(k.inputOptions):fe("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof k.inputOptions)},vr=(P,k)=>{const H=P.getInput();tr(H),ot(k.inputValue).then(Ae=>{H.value="number"===k.input?`${parseFloat(Ae)||0}`:`${Ae}`,Vn(H),H.focus(),P.hideLoading()}).catch(Ae=>{fe(`Error in inputValue promise: ${Ae}`),H.value="",Vn(H),H.focus(),P.hideLoading()})},eo={select:(P,k,H)=>{const Ae=Hn(P,O.select),xt=(Sn,cr,Hi)=>{const qi=document.createElement("option");qi.value=Hi,re(qi,cr),qi.selected=Os(Hi,H.inputValue),Sn.appendChild(qi)};k.forEach(Sn=>{const cr=Sn[0],Hi=Sn[1];if(Array.isArray(Hi)){const qi=document.createElement("optgroup");qi.label=cr,qi.disabled=!1,Ae.appendChild(qi),Hi.forEach(Do=>xt(qi,Do[1],Do[0]))}else xt(Ae,Hi,cr)}),Ae.focus()},radio:(P,k,H)=>{const Ae=Hn(P,O.radio);k.forEach(Sn=>{const cr=Sn[0],Hi=Sn[1],qi=document.createElement("input"),Do=document.createElement("label");qi.type="radio",qi.name=O.radio,qi.value=cr,Os(cr,H.inputValue)&&(qi.checked=!0);const Qs=document.createElement("span");re(Qs,Hi),Qs.className=O.label,Do.appendChild(qi),Do.appendChild(Qs),Ae.appendChild(Do)});const xt=Ae.querySelectorAll("input");xt.length&&xt[0].focus()}},ra=P=>{const k=[];return typeof Map<"u"&&P instanceof Map?P.forEach((H,Ae)=>{let xt=H;"object"==typeof xt&&(xt=ra(xt)),k.push([Ae,xt])}):Object.keys(P).forEach(H=>{let Ae=P[H];"object"==typeof Ae&&(Ae=ra(Ae)),k.push([H,Ae])}),k},Os=(P,k)=>k&&k.toString()===P.toString(),K=(P,k)=>{const H=$e.innerParams.get(P);if(!H.input)return void fe(`The "input" parameter is needed to be set when using returnInputValueOn${Xe(k)}`);const Ae=((P,k)=>{const H=P.getInput();if(!H)return null;switch(k.input){case"checkbox":return ji(H);case"radio":return Hs(H);case"file":return Oo(H);default:return k.inputAutoTrim?H.value.trim():H.value}})(P,H);H.inputValidator?G(P,Ae,k):P.getInput().checkValidity()?"deny"===k?Te(P,Ae):Nt(P,Ae):(P.enableButtons(),P.showValidationMessage(H.validationMessage))},G=(P,k,H)=>{const Ae=$e.innerParams.get(P);P.disableInput(),Promise.resolve().then(()=>ot(Ae.inputValidator(k,Ae.validationMessage))).then(Sn=>{P.enableButtons(),P.enableInput(),Sn?P.showValidationMessage(Sn):"deny"===H?Te(P,k):Nt(P,k)})},Te=(P,k)=>{const H=$e.innerParams.get(P||void 0);H.showLoaderOnDeny&&ko(ct()),H.preDeny?($e.awaitingPromise.set(P||void 0,!0),Promise.resolve().then(()=>ot(H.preDeny(k,H.validationMessage))).then(xt=>{!1===xt?(P.hideLoading(),Wo(P)):P.close({isDenied:!0,value:typeof xt>"u"?k:xt})}).catch(xt=>it(P||void 0,xt))):P.close({isDenied:!0,value:k})},Re=(P,k)=>{P.close({isConfirmed:!0,value:k})},it=(P,k)=>{P.rejectPromise(k)},Nt=(P,k)=>{const H=$e.innerParams.get(P||void 0);H.showLoaderOnConfirm&&ko(),H.preConfirm?(P.resetValidationMessage(),$e.awaitingPromise.set(P||void 0,!0),Promise.resolve().then(()=>ot(H.preConfirm(k,H.validationMessage))).then(xt=>{Pr(Gt())||!1===xt?(P.hideLoading(),Wo(P)):Re(P,typeof xt>"u"?k:xt)}).catch(xt=>it(P||void 0,xt))):Re(P,k)},bn=(P,k,H)=>{k.popup.onclick=()=>{const Ae=$e.innerParams.get(P);Ae&&(pn(Ae)||Ae.timer||Ae.input)||H(zt.close)}},pn=P=>P.showConfirmButton||P.showDenyButton||P.showCancelButton||P.showCloseButton;let pr=!1;const Zn=P=>{P.popup.onmousedown=()=>{P.container.onmouseup=function(k){P.container.onmouseup=void 0,k.target===P.container&&(pr=!0)}}},Ur=P=>{P.container.onmousedown=()=>{P.popup.onmouseup=function(k){P.popup.onmouseup=void 0,(k.target===P.popup||P.popup.contains(k.target))&&(pr=!0)}}},Ii=(P,k,H)=>{k.container.onclick=Ae=>{const xt=$e.innerParams.get(P);pr?pr=!1:Ae.target===k.container&&et(xt.allowOutsideClick)&&H(zt.backdrop)}},$i=P=>P instanceof Element||(P=>"object"==typeof P&&P.jquery)(P);const vi=()=>{if(lt.timeout)return(()=>{const P=Ye(),k=parseInt(window.getComputedStyle(P).width);P.style.removeProperty("transition"),P.style.width="100%";const Ae=k/parseInt(window.getComputedStyle(P).width)*100;P.style.removeProperty("transition"),P.style.width=`${Ae}%`})(),lt.timeout.stop()},Mi=()=>{if(lt.timeout){const P=lt.timeout.start();return sn(P),P}};let qo=!1;const gs={};const Da=P=>{for(let k=P.target;k&&k!==document;k=k.parentNode)for(const H in gs){const Ae=k.getAttribute(H);if(Ae)return void gs[H].fire({template:Ae})}};var zs=Object.freeze({__proto__:null,isValidParameter:Zo,isUpdatableParameter:No,isDeprecatedParameter:bs,argsToParams:P=>{const k={};return"object"!=typeof P[0]||$i(P[0])?["title","html","icon"].forEach((H,Ae)=>{const xt=P[Ae];"string"==typeof xt||$i(xt)?k[H]=xt:void 0!==xt&&fe(`Unexpected type of ${H}! Expected "string" or "Element", got ${typeof xt}`)}):Object.assign(k,P[0]),k},getContainer:jt,getPopup:mt,getTitle:Ne,getHtmlContainer:rt,getImage:Ze,getIcon:Et,getIconContent:()=>Zt(O["icon-content"]),getInputLabel:()=>Zt(O["input-label"]),getCloseButton:tn,getActions:ht,getConfirmButton:It,getDenyButton:ct,getCancelButton:qn,getLoader:Mn,getFooter:wn,getTimerProgressBar:Ye,getFocusableElements:Ke,getValidationMessage:Gt,getProgressSteps:wt,isLoading:()=>mt().hasAttribute("data-loading"),isVisible:()=>Pr(mt()),clickConfirm:Ue,clickDeny:()=>ct()&&ct().click(),clickCancel:()=>qn()&&qn().click(),fire:function ri(){for(var k=arguments.length,H=new Array(k),Ae=0;Ae<k;Ae++)H[Ae]=arguments[Ae];return new this(...H)},mixin:function Oi(P){return class k extends(this){_main(Ae,xt){return super._main(Ae,Object.assign({},P,xt))}}},showLoading:ko,enableLoading:ko,getTimerLeft:()=>lt.timeout&&lt.timeout.getTimerLeft(),stopTimer:vi,resumeTimer:Mi,toggleTimer:()=>{const P=lt.timeout;return P&&(P.running?vi():Mi())},increaseTimer:P=>{if(lt.timeout){const k=lt.timeout.increase(P);return sn(k,!0),k}},isTimerRunning:()=>lt.timeout&&lt.timeout.isRunning(),bindClickHandler:function la(){gs[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,qo||(document.body.addEventListener("click",Da),qo=!0)}});class ms{constructor(k,H){this.callback=k,this.remaining=H,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(k){const H=this.running;return H&&this.stop(),this.remaining+=k,H&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Fa=["swal-title","swal-html","swal-footer"],Ws=P=>{const k={};return Array.from(P.querySelectorAll("swal-param")).forEach(Ae=>{Di(Ae,["name","value"]);const xt=Ae.getAttribute("name"),Sn=Ae.getAttribute("value");k[xt]="boolean"==typeof En[xt]?"false"!==Sn:"object"==typeof En[xt]?JSON.parse(Sn):Sn}),k},oo=P=>{const k={};return Array.from(P.querySelectorAll("swal-function-param")).forEach(Ae=>{const xt=Ae.getAttribute("name"),Sn=Ae.getAttribute("value");k[xt]=new Function(`return ${Sn}`)()}),k},Fs=P=>{const k={};return Array.from(P.querySelectorAll("swal-button")).forEach(Ae=>{Di(Ae,["type","color","aria-label"]);const xt=Ae.getAttribute("type");k[`${xt}ButtonText`]=Ae.innerHTML,k[`show${Xe(xt)}Button`]=!0,Ae.hasAttribute("color")&&(k[`${xt}ButtonColor`]=Ae.getAttribute("color")),Ae.hasAttribute("aria-label")&&(k[`${xt}ButtonAriaLabel`]=Ae.getAttribute("aria-label"))}),k},hi=P=>{const k={},H=P.querySelector("swal-image");return H&&(Di(H,["src","width","height","alt"]),H.hasAttribute("src")&&(k.imageUrl=H.getAttribute("src")),H.hasAttribute("width")&&(k.imageWidth=H.getAttribute("width")),H.hasAttribute("height")&&(k.imageHeight=H.getAttribute("height")),H.hasAttribute("alt")&&(k.imageAlt=H.getAttribute("alt"))),k},Fo=P=>{const k={},H=P.querySelector("swal-icon");return H&&(Di(H,["type","color"]),H.hasAttribute("type")&&(k.icon=H.getAttribute("type")),H.hasAttribute("color")&&(k.iconColor=H.getAttribute("color")),k.iconHtml=H.innerHTML),k},Ls=P=>{const k={},H=P.querySelector("swal-input");H&&(Di(H,["type","label","placeholder","value"]),k.input=H.getAttribute("type")||"text",H.hasAttribute("label")&&(k.inputLabel=H.getAttribute("label")),H.hasAttribute("placeholder")&&(k.inputPlaceholder=H.getAttribute("placeholder")),H.hasAttribute("value")&&(k.inputValue=H.getAttribute("value")));const Ae=Array.from(P.querySelectorAll("swal-input-option"));return Ae.length&&(k.inputOptions={},Ae.forEach(xt=>{Di(xt,["value"]);const Sn=xt.getAttribute("value");k.inputOptions[Sn]=xt.innerHTML})),k},Gs=(P,k)=>{const H={};for(const Ae in k){const xt=k[Ae],Sn=P.querySelector(xt);Sn&&(Di(Sn,[]),H[xt.replace(/^swal-/,"")]=Sn.innerHTML.trim())}return H},Ks=P=>{const k=Fa.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(P.children).forEach(H=>{const Ae=H.tagName.toLowerCase();k.includes(Ae)||Ie(`Unrecognized element <${Ae}>`)})},Di=(P,k)=>{Array.from(P.attributes).forEach(H=>{-1===k.indexOf(H.name)&&Ie([`Unrecognized attribute "${H.name}" on <${P.tagName.toLowerCase()}>.`,k.length?`Allowed attributes are: ${k.join(", ")}`:"To set the value, use HTML within the element."])})},Wr=P=>{const k=jt(),H=mt();"function"==typeof P.willOpen&&P.willOpen(H);const xt=window.getComputedStyle(document.body).overflowY;Za(k,H,P),setTimeout(()=>{Aa(k,H)},10),Y()&&(qs(k,P.scrollbarPadding,xt),Array.from(document.body.children).forEach(k=>{k===jt()||k.contains(jt())||(k.hasAttribute("aria-hidden")&&k.setAttribute("data-previous-aria-hidden",k.getAttribute("aria-hidden")),k.setAttribute("aria-hidden","true"))})),!le()&&!lt.previousActiveElement&&(lt.previousActiveElement=document.activeElement),"function"==typeof P.didOpen&&setTimeout(()=>P.didOpen(H)),Xn(k,O["no-transition"])},Br=P=>{const k=mt();if(P.target!==k)return;const H=jt();k.removeEventListener(Cn,Br),H.style.overflowY="auto"},Aa=(P,k)=>{Cn&&fr(k)?(P.style.overflowY="hidden",k.addEventListener(Cn,Br)):P.style.overflowY="auto"},qs=(P,k,H)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!pe(document.body,O.iosfix)){const k=document.body.scrollTop;document.body.style.top=-1*k+"px",Wt(document.body,O.iosfix),Pe(),te()}})(),k&&"hidden"!==H&&Xr(),setTimeout(()=>{P.scrollTop=0})},Za=(P,k,H)=>{Wt(P,H.showClass.backdrop),k.style.setProperty("opacity","0","important"),Vn(k,"grid"),setTimeout(()=>{Wt(k,H.showClass.popup),k.style.removeProperty("opacity")},10),Wt([document.documentElement,document.body],O.shown),H.heightAuto&&H.backdrop&&!H.toast&&Wt([document.documentElement,document.body],O["height-auto"])};var Ca={email:(P,k)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(P)?Promise.resolve():Promise.resolve(k||"Invalid email address"),url:(P,k)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(P)?Promise.resolve():Promise.resolve(k||"Invalid URL")};function Va(P){(function Ya(P){P.inputValidator||Object.keys(Ca).forEach(k=>{P.input===k&&(P.inputValidator=Ca[k])})})(P),P.showLoaderOnConfirm&&!P.preConfirm&&Ie("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function La(P){(!P.target||"string"==typeof P.target&&!document.querySelector(P.target)||"string"!=typeof P.target&&!P.target.appendChild)&&(Ie('Target parameter is not valid, defaulting to "body"'),P.target="body")}(P),"string"==typeof P.title&&(P.title=P.title.split("\n").join("<br />")),lr(P)}let Qo;class qr{constructor(){if(typeof window>"u")return;Qo=this;for(var k=arguments.length,H=new Array(k),Ae=0;Ae<k;Ae++)H[Ae]=arguments[Ae];const xt=Object.freeze(this.constructor.argsToParams(H));Object.defineProperties(this,{params:{value:xt,writable:!1,enumerable:!0,configurable:!0}});const Sn=Qo._main(Qo.params);$e.promise.set(this,Sn)}_main(k){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(P=>{!1===P.backdrop&&P.allowOutsideClick&&Ie('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const k in P)cs(k),P.toast&&Or(k),Go(k)})(Object.assign({},H,k)),lt.currentInstance&&(lt.currentInstance._destroy(),Y()&&ge()),lt.currentInstance=Qo;const Ae=ir(k,H);Va(Ae),Object.freeze(Ae),lt.timeout&&(lt.timeout.stop(),delete lt.timeout),clearTimeout(lt.restoreFocusTimeout);const xt=fi(Qo);return Kn(Qo,Ae),$e.innerParams.set(Qo,Ae),en(Qo,xt,Ae)}then(k){return $e.promise.get(this).then(k)}finally(k){return $e.promise.get(this).finally(k)}}const en=(P,k,H)=>new Promise((Ae,xt)=>{const Sn=cr=>{P.close({isDismissed:!0,dismiss:cr})};io.swalPromiseResolve.set(P,Ae),io.swalPromiseReject.set(P,xt),k.confirmButton.onclick=()=>{(P=>{const k=$e.innerParams.get(P);P.disableButtons(),k.input?K(P,"confirm"):Nt(P,!0)})(P)},k.denyButton.onclick=()=>{(P=>{const k=$e.innerParams.get(P);P.disableButtons(),k.returnInputValueOnDeny?K(P,"deny"):Te(P,!1)})(P)},k.cancelButton.onclick=()=>{((P,k)=>{P.disableButtons(),k(zt.cancel)})(P,Sn)},k.closeButton.onclick=()=>{Sn(zt.close)},((P,k,H)=>{$e.innerParams.get(P).toast?bn(P,k,H):(Zn(k),Ur(k),Ii(P,k,H))})(P,k,Sn),((P,k,H,Ae)=>{Tn(k),H.toast||(k.keydownHandler=xt=>Po(P,xt,Ae),k.keydownTarget=H.keydownListenerCapture?window:mt(),k.keydownListenerCapture=H.keydownListenerCapture,k.keydownTarget.addEventListener("keydown",k.keydownHandler,{capture:k.keydownListenerCapture}),k.keydownHandlerAdded=!0)})(P,lt,H,Sn),((P,k)=>{"select"===k.input||"radio"===k.input?Fr(P,k):["text","email","number","tel","textarea"].includes(k.input)&&(He(k.inputValue)||At(k.inputValue))&&(ko(It()),vr(P,k))})(P,H),Wr(H),$o(lt,H,Sn),Ki(k,H),setTimeout(()=>{k.container.scrollTop=0})}),ir=(P,k)=>{const H=(P=>{const k="string"==typeof P.template?document.querySelector(P.template):P.template;if(!k)return{};const H=k.content;return Ks(H),Object.assign(Ws(H),oo(H),Fs(H),hi(H),Fo(H),Ls(H),Gs(H,Fa))})(P),Ae=Object.assign({},En,k,H,P);return Ae.showClass=Object.assign({},En.showClass,Ae.showClass),Ae.hideClass=Object.assign({},En.hideClass,Ae.hideClass),Ae},fi=P=>{const k={popup:mt(),container:jt(),actions:ht(),confirmButton:It(),denyButton:ct(),cancelButton:qn(),loader:Mn(),closeButton:tn(),validationMessage:Gt(),progressSteps:wt()};return $e.domCache.set(P,k),k},$o=(P,k,H)=>{const Ae=Ye();tr(Ae),k.timer&&(P.timeout=new ms(()=>{H("timer"),delete P.timeout},k.timer),k.timerProgressBar&&(Vn(Ae),yt(Ae,k,"timerProgressBar"),setTimeout(()=>{P.timeout&&P.timeout.running&&sn(k.timer)})))},Ki=(P,k)=>{if(!k.toast){if(!et(k.allowEnterKey))return void Yo();Xo(P,k)||An(0,-1,1)}},Xo=(P,k)=>k.focusDeny&&Pr(P.denyButton)?(P.denyButton.focus(),!0):k.focusCancel&&Pr(P.cancelButton)?(P.cancelButton.focus(),!0):!(!k.focusConfirm||!Pr(P.confirmButton)||(P.confirmButton.focus(),0)),Yo=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const P=new Date,k=localStorage.getItem("swal-initiation");k?(P.getTime()-Date.parse(k))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const H=document.createElement("audio");H.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",H.loop=!0,document.body.appendChild(H),setTimeout(()=>{H.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${P}`)}Object.assign(qr.prototype,As),Object.assign(qr,zs),Object.keys(As).forEach(P=>{qr[P]=function(){if(Qo)return Qo[P](...arguments)}}),qr.DismissReason=zt,qr.version="11.6.13";const oi=qr;return oi.default=oi,oi}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function($e,j){var T=$e.createElement("style");if($e.getElementsByTagName("head")[0].appendChild(T),T.styleSheet)T.styleSheet.disabled||(T.styleSheet.cssText=j);else try{T.innerHTML=j}catch{T.innerText=j}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8041:(In,$e,j)=>{"use strict";j.d($e,{$b:()=>O,Vy:()=>Ie});const T=[];var O=function(me){return me[me.DEBUG=0]="DEBUG",me[me.VERBOSE=1]="VERBOSE",me[me.INFO=2]="INFO",me[me.WARN=3]="WARN",me[me.ERROR=4]="ERROR",me[me.SILENT=5]="SILENT",me}(O||{});const Q={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},I=O.INFO,Se={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},Xe=(me,he,...et)=>{if(he<me.logLevel)return;const He=(new Date).toISOString(),ot=Se[he];if(!ot)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[ot](`[${He}]  ${me.name}:`,...et)};class Ie{constructor(he){this.name=he,this._logLevel=I,this._logHandler=Xe,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in O))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?Q[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...he),this._logHandler(this,O.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...he),this._logHandler(this,O.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,O.INFO,...he),this._logHandler(this,O.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,O.WARN,...he),this._logHandler(this,O.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...he),this._logHandler(this,O.ERROR,...he)}}},8071:(In,$e,j)=>{"use strict";function T(O){return"function"==typeof O}j.d($e,{T:()=>T})},8359:(In,$e,j)=>{"use strict";j.d($e,{Kn:()=>Xe,yU:()=>Se,Uv:()=>Ie});var T=j(8071);const Q=(0,j(1853).L)(Oe=>function(he){Oe(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((et,He)=>`${He+1}) ${et.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var I=j(7908);class Se{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const ot of he)ot.remove(this);else he.remove(this);const{initialTeardown:et}=this;if((0,T.T)(et))try{et()}catch(ot){me=ot instanceof Q?ot.errors:[ot]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const ot of He)try{fe(ot)}catch(At){me=me??[],At instanceof Q?me=[...me,...At.errors]:me.push(At)}}if(me)throw new Q(me)}}add(me){var he;if(me&&me!==this)if(this.closed)fe(me);else{if(me instanceof Se){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(me)}}_hasParent(me){const{_parentage:he}=this;return he===me||Array.isArray(he)&&he.includes(me)}_addParent(me){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(me),he):he?[he,me]:me}_removeParent(me){const{_parentage:he}=this;he===me?this._parentage=null:Array.isArray(he)&&(0,I.o)(he,me)}remove(me){const{_finalizers:he}=this;he&&(0,I.o)(he,me),me instanceof Se&&me._removeParent(this)}}Se.EMPTY=(()=>{const Oe=new Se;return Oe.closed=!0,Oe})();const Xe=Se.EMPTY;function Ie(Oe){return Oe instanceof Se||Oe&&"closed"in Oe&&(0,T.T)(Oe.remove)&&(0,T.T)(Oe.add)&&(0,T.T)(Oe.unsubscribe)}function fe(Oe){(0,T.T)(Oe)?Oe():Oe.unsubscribe()}},8399:(In,$e,j)=>{"use strict";var T=j(6048),O=j(9377),Q=j(9361),I=j(1360);const Se=new I.nKC("");let Xe=(()=>{class m{_zone;_plugins;_eventNameToPlugin=new Map;constructor(f,E){this._zone=E,f.forEach(M=>{M.manager=this}),this._plugins=f.slice().reverse()}addEventListener(f,E,M,V){return this._findPluginFor(E).addEventListener(f,E,M,V)}getZone(){return this._zone}_findPluginFor(f){let E=this._eventNameToPlugin.get(f);if(E)return E;if(E=this._plugins.find(V=>V.supports(f)),!E)throw new I.wOt(5101,!1);return this._eventNameToPlugin.set(f,E),E}static \u0275fac=function(E){return new(E||m)(I.KVO(Se),I.KVO(I.SKi))};static \u0275prov=I.jDH({token:m,factory:m.\u0275fac})}return m})();class Ie{_doc;constructor(d){this._doc=d}manager}const fe="ng-app-id";function Oe(m){for(const d of m)d.remove()}function me(m,d){const f=d.createElement("style");return f.textContent=m,f}function et(m,d){const f=d.createElement("link");return f.setAttribute("rel","stylesheet"),f.setAttribute("href",m),f}let He=(()=>{class m{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(f,E,M,V={}){this.doc=f,this.appId=E,this.nonce=M,this.isServer=(0,O.Vy)(V),function he(m,d,f,E){const M=m.head?.querySelectorAll(`style[${fe}="${d}"],link[${fe}="${d}"]`);if(M)for(const V of M)V.removeAttribute(fe),V instanceof HTMLLinkElement?E.set(V.href.slice(V.href.lastIndexOf("/")+1),{usage:0,elements:[V]}):V.textContent&&f.set(V.textContent,{usage:0,elements:[V]})}(f,E,this.inline,this.external),this.hosts.add(f.head)}addStyles(f,E){for(const M of f)this.addUsage(M,this.inline,me);E?.forEach(M=>this.addUsage(M,this.external,et))}removeStyles(f,E){for(const M of f)this.removeUsage(M,this.inline);E?.forEach(M=>this.removeUsage(M,this.external))}addUsage(f,E,M){const V=E.get(f);V?V.usage++:E.set(f,{usage:1,elements:[...this.hosts].map(ee=>this.addElement(ee,M(f,this.doc)))})}removeUsage(f,E){const M=E.get(f);M&&(M.usage--,M.usage<=0&&(Oe(M.elements),E.delete(f)))}ngOnDestroy(){for(const[,{elements:f}]of[...this.inline,...this.external])Oe(f);this.hosts.clear()}addHost(f){this.hosts.add(f);for(const[E,{elements:M}]of this.inline)M.push(this.addElement(f,me(E,this.doc)));for(const[E,{elements:M}]of this.external)M.push(this.addElement(f,et(E,this.doc)))}removeHost(f){this.hosts.delete(f)}addElement(f,E){return this.nonce&&E.setAttribute("nonce",this.nonce),this.isServer&&E.setAttribute(fe,this.appId),f.appendChild(E)}static \u0275fac=function(E){return new(E||m)(I.KVO(Q.q),I.KVO(I.sZ2),I.KVO(I.BIS,8),I.KVO(I.Agw))};static \u0275prov=I.jDH({token:m,factory:m.\u0275fac})}return m})();const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},At=/%COMP%/g,Ne=new I.nKC("",{providedIn:"root",factory:()=>!0});function wt(m,d){return d.map(f=>f.replace(At,m))}let It=(()=>{class m{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(f,E,M,V,ee,we,Ge,gt=null,an=null){this.eventManager=f,this.sharedStylesHost=E,this.appId=M,this.removeStylesOnCompDestroy=V,this.doc=ee,this.platformId=we,this.ngZone=Ge,this.nonce=gt,this.tracingService=an,this.platformIsServer=(0,O.Vy)(we),this.defaultRenderer=new ct(f,ee,Ge,this.platformIsServer,this.tracingService)}createRenderer(f,E){if(!f||!E)return this.defaultRenderer;this.platformIsServer&&E.encapsulation===I.gXe.ShadowDom&&(E={...E,encapsulation:I.gXe.Emulated});const M=this.getOrCreateRenderer(f,E);return M instanceof Ye?M.applyToHost(f):M instanceof wn&&M.applyStyles(),M}getOrCreateRenderer(f,E){const M=this.rendererByCompId;let V=M.get(E.id);if(!V){const ee=this.doc,we=this.ngZone,Ge=this.eventManager,gt=this.sharedStylesHost,an=this.removeStylesOnCompDestroy,dn=this.platformIsServer,Yn=this.tracingService;switch(E.encapsulation){case I.gXe.Emulated:V=new Ye(Ge,gt,E,this.appId,an,ee,we,dn,Yn);break;case I.gXe.ShadowDom:return new ht(Ge,gt,f,E,ee,we,this.nonce,dn,Yn);default:V=new wn(Ge,gt,E,an,ee,we,dn,Yn)}M.set(E.id,V)}return V}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(f){this.rendererByCompId.delete(f)}static \u0275fac=function(E){return new(E||m)(I.KVO(Xe),I.KVO(He),I.KVO(I.sZ2),I.KVO(Ne),I.KVO(Q.q),I.KVO(I.Agw),I.KVO(I.SKi),I.KVO(I.BIS),I.KVO(I.Lf2,8))};static \u0275prov=I.jDH({token:m,factory:m.\u0275fac})}return m})();class ct{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(d,f,E,M,V){this.eventManager=d,this.doc=f,this.ngZone=E,this.platformIsServer=M,this.tracingService=V}destroy(){}destroyNode=null;createElement(d,f){return f?this.doc.createElementNS(ot[f]||f,d):this.doc.createElement(d)}createComment(d){return this.doc.createComment(d)}createText(d){return this.doc.createTextNode(d)}appendChild(d,f){(qn(d)?d.content:d).appendChild(f)}insertBefore(d,f,E){d&&(qn(d)?d.content:d).insertBefore(f,E)}removeChild(d,f){f.remove()}selectRootElement(d,f){let E="string"==typeof d?this.doc.querySelector(d):d;if(!E)throw new I.wOt(-5104,!1);return f||(E.textContent=""),E}parentNode(d){return d.parentNode}nextSibling(d){return d.nextSibling}setAttribute(d,f,E,M){if(M){f=M+":"+f;const V=ot[M];V?d.setAttributeNS(V,f,E):d.setAttribute(f,E)}else d.setAttribute(f,E)}removeAttribute(d,f,E){if(E){const M=ot[E];M?d.removeAttributeNS(M,f):d.removeAttribute(`${E}:${f}`)}else d.removeAttribute(f)}addClass(d,f){d.classList.add(f)}removeClass(d,f){d.classList.remove(f)}setStyle(d,f,E,M){M&(I.czy.DashCase|I.czy.Important)?d.style.setProperty(f,E,M&I.czy.Important?"important":""):d.style[f]=E}removeStyle(d,f,E){E&I.czy.DashCase?d.style.removeProperty(f):d.style[f]=""}setProperty(d,f,E){null!=d&&(d[f]=E)}setValue(d,f){d.nodeValue=f}listen(d,f,E,M){if("string"==typeof d&&!(d=(0,T.rb)().getGlobalEventTarget(this.doc,d)))throw new I.wOt(5102,!1);let V=this.decoratePreventDefault(E);return this.tracingService?.wrapEventListener&&(V=this.tracingService.wrapEventListener(d,f,V)),this.eventManager.addEventListener(d,f,V,M)}decoratePreventDefault(d){return f=>{if("__ngUnwrap__"===f)return d;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>d(f)):d(f))&&f.preventDefault()}}}function qn(m){return"TEMPLATE"===m.tagName&&void 0!==m.content}class ht extends ct{sharedStylesHost;hostEl;shadowRoot;constructor(d,f,E,M,V,ee,we,Ge,gt){super(d,V,ee,Ge,gt),this.sharedStylesHost=f,this.hostEl=E,this.shadowRoot=E.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let an=M.styles;an=wt(M.id,an);for(const Yn of an){const zn=document.createElement("style");we&&zn.setAttribute("nonce",we),zn.textContent=Yn,this.shadowRoot.appendChild(zn)}const dn=M.getExternalStyles?.();if(dn)for(const Yn of dn){const zn=et(Yn,V);we&&zn.setAttribute("nonce",we),this.shadowRoot.appendChild(zn)}}nodeOrShadowRoot(d){return d===this.hostEl?this.shadowRoot:d}appendChild(d,f){return super.appendChild(this.nodeOrShadowRoot(d),f)}insertBefore(d,f,E){return super.insertBefore(this.nodeOrShadowRoot(d),f,E)}removeChild(d,f){return super.removeChild(null,f)}parentNode(d){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(d)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wn extends ct{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(d,f,E,M,V,ee,we,Ge,gt){super(d,V,ee,we,Ge),this.sharedStylesHost=f,this.removeStylesOnCompDestroy=M;let an=E.styles;this.styles=gt?wt(gt,an):an,this.styleUrls=E.getExternalStyles?.(gt)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Ye extends wn{contentAttr;hostAttr;constructor(d,f,E,M,V,ee,we,Ge,gt){const an=M+"-"+E.id;super(d,f,E,V,ee,we,Ge,gt,an),this.contentAttr=function rt(m){return"_ngcontent-%COMP%".replace(At,m)}(an),this.hostAttr=function Ze(m){return"_nghost-%COMP%".replace(At,m)}(an)}applyToHost(d){this.applyStyles(),this.setAttribute(d,this.hostAttr,"")}createElement(d,f){const E=super.createElement(d,f);return super.setAttribute(E,this.contentAttr,""),E}}class tn extends T.qj{supportsDOMEvents=!0;static makeCurrent(){(0,T.ig)(new tn)}onAndCancel(d,f,E,M){return d.addEventListener(f,E,M),()=>{d.removeEventListener(f,E,M)}}dispatchEvent(d,f){d.dispatchEvent(f)}remove(d){d.remove()}createElement(d,f){return(f=f||this.getDefaultDocument()).createElement(d)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(d){return d.nodeType===Node.ELEMENT_NODE}isShadowRoot(d){return d instanceof DocumentFragment}getGlobalEventTarget(d,f){return"window"===f?window:"document"===f?d:"body"===f?d.body:null}getBaseHref(d){const f=function Ke(){return Mt=Mt||document.head.querySelector("base"),Mt?Mt.getAttribute("href"):null}();return null==f?null:function Y(m){return new URL(m,document.baseURI).pathname}(f)}resetBaseElement(){Mt=null}getUserAgent(){return window.navigator.userAgent}getCookie(d){return(0,O.bS)(document.cookie,d)}}let Mt=null,de=(()=>{class m{build(){return new XMLHttpRequest}static \u0275fac=function(E){return new(E||m)};static \u0275prov=I.jDH({token:m,factory:m.\u0275fac})}return m})(),ye=(()=>{class m extends Ie{constructor(f){super(f)}supports(f){return!0}addEventListener(f,E,M,V){return f.addEventListener(E,M,V),()=>this.removeEventListener(f,E,M,V)}removeEventListener(f,E,M,V){return f.removeEventListener(E,M,V)}static \u0275fac=function(E){return new(E||m)(I.KVO(Q.q))};static \u0275prov=I.jDH({token:m,factory:m.\u0275fac})}return m})();const re=["alt","control","meta","shift"],pe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qe={alt:m=>m.altKey,control:m=>m.ctrlKey,meta:m=>m.metaKey,shift:m=>m.shiftKey};let yt=(()=>{class m extends Ie{constructor(f){super(f)}supports(f){return null!=m.parseEventName(f)}addEventListener(f,E,M,V){const ee=m.parseEventName(E),we=m.eventCallback(ee.fullKey,M,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.rb)().onAndCancel(f,ee.domEventName,we,V))}static parseEventName(f){const E=f.toLowerCase().split("."),M=E.shift();if(0===E.length||"keydown"!==M&&"keyup"!==M)return null;const V=m._normalizeKey(E.pop());let ee="",we=E.indexOf("code");if(we>-1&&(E.splice(we,1),ee="code."),re.forEach(gt=>{const an=E.indexOf(gt);an>-1&&(E.splice(an,1),ee+=gt+".")}),ee+=V,0!=E.length||0===V.length)return null;const Ge={};return Ge.domEventName=M,Ge.fullKey=ee,Ge}static matchEventFullKeyCode(f,E){let M=pe[f.key]||f.key,V="";return E.indexOf("code.")>-1&&(M=f.code,V="code."),!(null==M||!M)&&(M=M.toLowerCase()," "===M?M="space":"."===M&&(M="dot"),re.forEach(ee=>{ee!==M&&(0,qe[ee])(f)&&(V+=ee+".")}),V+=M,V===E)}static eventCallback(f,E,M){return V=>{m.matchEventFullKeyCode(V,f)&&M.runGuarded(()=>E(V))}}static _normalizeKey(f){return"esc"===f?"escape":f}static \u0275fac=function(E){return new(E||m)(I.KVO(Q.q))};static \u0275prov=I.jDH({token:m,factory:m.\u0275fac})}return m})();function nr(m){return{appProviders:[...Pr,...m?.providers??[]],platformProviders:Vn}}const Vn=[{provide:I.Agw,useValue:O.Zn},{provide:I.PLl,useValue:function Xn(){tn.makeCurrent()},multi:!0},{provide:Q.q,useFactory:function Qt(){return(0,I.TL$)(document),document}}],Pr=[{provide:I.H8p,useValue:"root"},{provide:I.zcH,useFactory:function Hn(){return new I.zcH}},{provide:Se,useClass:ye,multi:!0,deps:[Q.q]},{provide:Se,useClass:yt,multi:!0,deps:[Q.q]},It,He,Xe,{provide:I._9s,useExisting:It},{provide:O.N0,useClass:de},[]];var fn=j(969);function sn(m){return new I.wOt(3e3,!1)}function _e(m){switch(m.length){case 0:return new fn.sf;case 1:return m[0];default:return new fn.PZ(m)}}function Be(m,d,f=new Map,E=new Map){const M=[],V=[];let ee=-1,we=null;if(d.forEach(Ge=>{const gt=Ge.get("offset"),an=gt==ee,dn=an&&we||new Map;Ge.forEach((Yn,zn)=>{let Jn=zn,ur=Yn;if("offset"!==zn)switch(Jn=m.normalizePropertyName(Jn,M),ur){case fn.FX:ur=f.get(zn);break;case fn.kp:ur=E.get(zn);break;default:ur=m.normalizeStyleValue(zn,Jn,ur,M)}dn.set(Jn,ur)}),an||V.push(dn),we=dn,ee=gt}),M.length)throw function Ve(){return new I.wOt(3502,!1)}();return V}function Ot(m,d,f,E){switch(d){case"start":m.onStart(()=>E(f&&Je(f,"start",m)));break;case"done":m.onDone(()=>E(f&&Je(f,"done",m)));break;case"destroy":m.onDestroy(()=>E(f&&Je(f,"destroy",m)))}}function Je(m,d,f){const V=Xt(m.element,m.triggerName,m.fromState,m.toState,d||m.phaseName,f.totalTime??m.totalTime,!!f.disabled),ee=m._data;return null!=ee&&(V._data=ee),V}function Xt(m,d,f,E,M="",V=0,ee){return{element:m,triggerName:d,fromState:f,toState:E,phaseName:M,totalTime:V,disabled:!!ee}}function Rn(m,d,f){let E=m.get(d);return E||m.set(d,E=f),E}function mr(m){const d=m.indexOf(":");return[m.substring(1,d),m.slice(d+1)]}const ne=typeof document>"u"?null:document.documentElement;function ae(m){const d=m.parentNode||m.host||null;return d===ne?null:d}let dt=null,bt=!1;function Rt(m,d){for(;d;){if(d===m)return!0;d=ae(d)}return!1}function vt(m,d,f){if(f)return Array.from(m.querySelectorAll(d));const E=m.querySelector(d);return E?[E]:[]}const Bn="ng-enter",un="ng-leave",Kn="ng-trigger",ar=".ng-trigger",wi="ng-animating",Ri=".ng-animating";function Ee(m){if("number"==typeof m)return m;const d=m.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:Ue(parseFloat(d[1]),d[2])}function Ue(m,d){return"s"===d?1e3*m:m}function Qe(m,d,f){return m.hasOwnProperty("duration")?m:function Ut(m,d,f){let M,V=0,ee="";if("string"==typeof m){const we=m.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===we)return d.push(sn()),{duration:0,delay:0,easing:""};M=Ue(parseFloat(we[1]),we[2]);const Ge=we[3];null!=Ge&&(V=Ue(parseFloat(Ge),we[4]));const gt=we[5];gt&&(ee=gt)}else M=m;if(!f){let we=!1,Ge=d.length;M<0&&(d.push(function Xi(){return new I.wOt(3100,!1)}()),we=!0),V<0&&(d.push(function kr(){return new I.wOt(3101,!1)}()),we=!0),we&&d.splice(Ge,0,sn())}return{duration:M,delay:V,easing:ee}}(m,d,f)}function Fn(m,d,f){d.forEach((E,M)=>{const V=Bo(M);f&&!f.has(M)&&f.set(M,m.style[V]),m.style[V]=E})}function An(m,d){d.forEach((f,E)=>{const M=Bo(E);m.style[M]=""})}function rr(m){return Array.isArray(m)?1==m.length?m[0]:(0,fn.K2)(m):m}const Po=new RegExp("{{\\s*(.+?)\\s*}}","g");function Sr(m){let d=[];if("string"==typeof m){let f;for(;f=Po.exec(m);)d.push(f[1]);Po.lastIndex=0}return d}function ao(m,d,f){const E=`${m}`,M=E.replace(Po,(V,ee)=>{let we=d[ee];return null==we&&(f.push(function Ir(){return new I.wOt(3003,!1)}()),we=""),we.toString()});return M==E?m:M}const Wi=/-+([a-z0-9])/g;function Bo(m){return m.replace(Wi,(...d)=>d[1].toUpperCase())}function q(m,d,f){switch(d.type){case fn.If.Trigger:return m.visitTrigger(d,f);case fn.If.State:return m.visitState(d,f);case fn.If.Transition:return m.visitTransition(d,f);case fn.If.Sequence:return m.visitSequence(d,f);case fn.If.Group:return m.visitGroup(d,f);case fn.If.Animate:return m.visitAnimate(d,f);case fn.If.Keyframes:return m.visitKeyframes(d,f);case fn.If.Style:return m.visitStyle(d,f);case fn.If.Reference:return m.visitReference(d,f);case fn.If.AnimateChild:return m.visitAnimateChild(d,f);case fn.If.AnimateRef:return m.visitAnimateRef(d,f);case fn.If.Query:return m.visitQuery(d,f);case fn.If.Stagger:return m.visitStagger(d,f);default:throw function Qn(){return new I.wOt(3004,!1)}()}}function te(m,d){return window.getComputedStyle(m)[d]}let Pe=(()=>{class m{validateStyleProperty(f){return function oe(m){dt||(dt=function Fe(){return typeof document<"u"?document.body:null}()||{},bt=!!dt.style&&"WebkitAppearance"in dt.style);let d=!0;return dt.style&&!function Ce(m){return"ebkit"==m.substring(1,6)}(m)&&(d=m in dt.style,!d&&bt&&(d="Webkit"+m.charAt(0).toUpperCase()+m.slice(1)in dt.style)),d}(f)}containsElement(f,E){return Rt(f,E)}getParentElement(f){return ae(f)}query(f,E,M){return vt(f,E,M)}computeStyle(f,E,M){return M||""}animate(f,E,M,V,ee,we=[],Ge){return new fn.sf(M,V)}static \u0275fac=function(E){return new(E||m)};static \u0275prov=I.jDH({token:m,factory:m.\u0275fac})}return m})();class Dt{static NOOP=new Pe}class cn{}const ci=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Xr extends cn{normalizePropertyName(d,f){return Bo(d)}normalizeStyleValue(d,f,E,M){let V="";const ee=E.toString().trim();if(ci.has(f)&&0!==E&&"0"!==E)if("number"==typeof E)V="px";else{const we=E.match(/^[+-]?[\d\.]+([a-z]*)$/);we&&0==we[1].length&&M.push(function qt(){return new I.wOt(3005,!1)}())}return ee+V}}const nt=new Set(["true","1"]),Me=new Set(["false","0"]);function ft(m,d){const f=nt.has(m)||Me.has(m),E=nt.has(d)||Me.has(d);return(M,V)=>{let ee="*"==m||m==M,we="*"==d||d==V;return!ee&&f&&"boolean"==typeof M&&(ee=M?nt.has(m):Me.has(m)),!we&&E&&"boolean"==typeof V&&(we=V?nt.has(d):Me.has(d)),ee&&we}}const vn=new RegExp("s*:selfs*,?","g");function jn(m,d,f,E){return new go(m).build(d,f,E)}class go{_driver;constructor(d){this._driver=d}build(d,f,E){const M=new ss(f);return this._resetContextStyleTimingState(M),q(this,rr(d),M)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles=new Map,d.collectedStyles.set("",new Map),d.currentTime=0}visitTrigger(d,f){let E=f.queryCount=0,M=f.depCount=0;const V=[],ee=[];return"@"==d.name.charAt(0)&&f.errors.push(function si(){return new I.wOt(3006,!1)}()),d.definitions.forEach(we=>{if(this._resetContextStyleTimingState(f),we.type==fn.If.State){const Ge=we,gt=Ge.name;gt.toString().split(/\s*,\s*/).forEach(an=>{Ge.name=an,V.push(this.visitState(Ge,f))}),Ge.name=gt}else if(we.type==fn.If.Transition){const Ge=this.visitTransition(we,f);E+=Ge.queryCount,M+=Ge.depCount,ee.push(Ge)}else f.errors.push(function li(){return new I.wOt(3007,!1)}())}),{type:fn.If.Trigger,name:d.name,states:V,transitions:ee,queryCount:E,depCount:M,options:null}}visitState(d,f){const E=this.visitStyle(d.styles,f),M=d.options&&d.options.params||null;if(E.containsDynamicStyles){const V=new Set,ee=M||{};E.styles.forEach(we=>{we instanceof Map&&we.forEach(Ge=>{Sr(Ge).forEach(gt=>{ee.hasOwnProperty(gt)||V.add(gt)})})}),V.size&&f.errors.push(function gi(){return new I.wOt(3008,!1)}(0,V.values()))}return{type:fn.If.State,name:d.name,style:E,options:M?{params:M}:null}}visitTransition(d,f){f.queryCount=0,f.depCount=0;const E=q(this,rr(d.animation),f),M=function wo(m,d){const f=[];return"string"==typeof m?m.split(/\s*,\s*/).forEach(E=>function Wo(m,d,f){if(":"==m[0]){const Ge=function ce(m,d){switch(m){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(f,E)=>parseFloat(E)>parseFloat(f);case":decrement":return(f,E)=>parseFloat(E)<parseFloat(f);default:return d.push(function bi(){return new I.wOt(3016,!1)}()),"* => *"}}(m,f);if("function"==typeof Ge)return void d.push(Ge);m=Ge}const E=m.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==E||E.length<4)return f.push(function Cn(){return new I.wOt(3015,!1)}()),d;const M=E[1],V=E[2],ee=E[3];d.push(ft(M,ee)),"<"==V[0]&&("*"!=M||"*"!=ee)&&d.push(ft(ee,M))}(E,f,d)):f.push(m),f}(d.expr,f.errors);return{type:fn.If.Transition,matchers:M,animation:E,queryCount:f.queryCount,depCount:f.depCount,options:Io(d.options)}}visitSequence(d,f){return{type:fn.If.Sequence,steps:d.steps.map(E=>q(this,E,f)),options:Io(d.options)}}visitGroup(d,f){const E=f.currentTime;let M=0;const V=d.steps.map(ee=>{f.currentTime=E;const we=q(this,ee,f);return M=Math.max(M,f.currentTime),we});return f.currentTime=M,{type:fn.If.Group,steps:V,options:Io(d.options)}}visitAnimate(d,f){const E=function as(m,d){if(m.hasOwnProperty("duration"))return m;if("number"==typeof m)return Mo(Qe(m,d).duration,0,"");const f=m;if(f.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=Mo(0,0,"");return V.dynamic=!0,V.strValue=f,V}const M=Qe(f,d);return Mo(M.duration,M.delay,M.easing)}(d.timings,f.errors);f.currentAnimateTimings=E;let M,V=d.styles?d.styles:(0,fn.iF)({});if(V.type==fn.If.Keyframes)M=this.visitKeyframes(V,f);else{let ee=d.styles,we=!1;if(!ee){we=!0;const gt={};E.easing&&(gt.easing=E.easing),ee=(0,fn.iF)(gt)}f.currentTime+=E.duration+E.delay;const Ge=this.visitStyle(ee,f);Ge.isEmptyStep=we,M=Ge}return f.currentAnimateTimings=null,{type:fn.If.Animate,timings:E,style:M,options:null}}visitStyle(d,f){const E=this._makeStyleAst(d,f);return this._validateStyleAst(E,f),E}_makeStyleAst(d,f){const E=[],M=Array.isArray(d.styles)?d.styles:[d.styles];for(let we of M)"string"==typeof we?we===fn.kp?E.push(we):f.errors.push(new I.wOt(3002,!1)):E.push(new Map(Object.entries(we)));let V=!1,ee=null;return E.forEach(we=>{if(we instanceof Map&&(we.has("easing")&&(ee=we.get("easing"),we.delete("easing")),!V))for(let Ge of we.values())if(Ge.toString().indexOf("{{")>=0){V=!0;break}}),{type:fn.If.Style,styles:E,easing:ee,offset:d.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(d,f){const E=f.currentAnimateTimings;let M=f.currentTime,V=f.currentTime;E&&V>0&&(V-=E.duration+E.delay),d.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((we,Ge)=>{const gt=f.collectedStyles.get(f.currentQuerySelector),an=gt.get(Ge);let dn=!0;an&&(V!=M&&V>=an.startTime&&M<=an.endTime&&(f.errors.push(function Ei(){return new I.wOt(3010,!1)}()),dn=!1),V=an.startTime),dn&&gt.set(Ge,{startTime:V,endTime:M}),f.options&&function zr(m,d,f){const E=d.params||{},M=Sr(m);M.length&&M.forEach(V=>{E.hasOwnProperty(V)||f.push(function lt(){return new I.wOt(3001,!1)}())})}(we,f.options,f.errors)})})}visitKeyframes(d,f){const E={type:fn.If.Keyframes,styles:[],options:null};if(!f.currentAnimateTimings)return f.errors.push(function Cr(){return new I.wOt(3011,!1)}()),E;let V=0;const ee=[];let we=!1,Ge=!1,gt=0;const an=d.steps.map(Co=>{const ds=this._makeStyleAst(Co,f);let Cs=null!=ds.offset?ds.offset:function En(m){if("string"==typeof m)return null;let d=null;if(Array.isArray(m))m.forEach(f=>{if(f instanceof Map&&f.has("offset")){const E=f;d=parseFloat(E.get("offset")),E.delete("offset")}});else if(m instanceof Map&&m.has("offset")){const f=m;d=parseFloat(f.get("offset")),f.delete("offset")}return d}(ds.styles),Lo=0;return null!=Cs&&(V++,Lo=ds.offset=Cs),Ge=Ge||Lo<0||Lo>1,we=we||Lo<gt,gt=Lo,ee.push(Lo),ds});Ge&&f.errors.push(function di(){return new I.wOt(3012,!1)}()),we&&f.errors.push(function lr(){return new I.wOt(3200,!1)}());const dn=d.steps.length;let Yn=0;V>0&&V<dn?f.errors.push(function sr(){return new I.wOt(3202,!1)}()):0==V&&(Yn=1/(dn-1));const zn=dn-1,Jn=f.currentTime,ur=f.currentAnimateTimings,Fi=ur.duration;return an.forEach((Co,ds)=>{const Cs=Yn>0?ds==zn?1:Yn*ds:ee[ds],Lo=Cs*Fi;f.currentTime=Jn+ur.delay+Lo,ur.duration=Lo,this._validateStyleAst(Co,f),Co.offset=Cs,E.styles.push(Co)}),E}visitReference(d,f){return{type:fn.If.Reference,animation:q(this,rr(d.animation),f),options:Io(d.options)}}visitAnimateChild(d,f){return f.depCount++,{type:fn.If.AnimateChild,options:Io(d.options)}}visitAnimateRef(d,f){return{type:fn.If.AnimateRef,animation:this.visitReference(d.animation,f),options:Io(d.options)}}visitQuery(d,f){const E=f.currentQuerySelector,M=d.options||{};f.queryCount++,f.currentQuery=d;const[V,ee]=function xs(m){const d=!!m.split(/\s*,\s*/).find(f=>":self"==f);return d&&(m=m.replace(vn,"")),m=m.replace(/@\*/g,ar).replace(/@\w+/g,f=>ar+"-"+f.slice(1)).replace(/:animating/g,Ri),[m,d]}(d.selector);f.currentQuerySelector=E.length?E+" "+V:V,Rn(f.collectedStyles,f.currentQuerySelector,new Map);const we=q(this,rr(d.animation),f);return f.currentQuery=null,f.currentQuerySelector=E,{type:fn.If.Query,selector:V,limit:M.limit||0,optional:!!M.optional,includeSelf:ee,animation:we,originalSelector:d.selector,options:Io(d.options)}}visitStagger(d,f){f.currentQuery||f.errors.push(function mi(){return new I.wOt(3013,!1)}());const E="full"===d.timings?{duration:0,delay:0,easing:"full"}:Qe(d.timings,f.errors,!0);return{type:fn.If.Stagger,animation:q(this,rr(d.animation),f),timings:E,options:null}}}class ss{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(d){this.errors=d}}function Io(m){return m?(m={...m}).params&&(m.params=function ni(m){return m?{...m}:null}(m.params)):m={},m}function Mo(m,d,f){return{duration:m,delay:d,easing:f}}function Zo(m,d,f,E,M,V,ee=null,we=!1){return{type:1,element:m,keyframes:d,preStyleProps:f,postStyleProps:E,duration:M,delay:V,totalTime:M+V,easing:ee,subTimeline:we}}class No{_map=new Map;get(d){return this._map.get(d)||[]}append(d,f){let E=this._map.get(d);E||this._map.set(d,E=[]),E.push(...f)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const Or=new RegExp(":enter","g"),mo=new RegExp(":leave","g");function Ko(m,d,f,E,M,V=new Map,ee=new Map,we,Ge,gt=[]){return(new Ds).buildKeyframes(m,d,f,E,M,V,ee,we,Ge,gt)}class Ds{buildKeyframes(d,f,E,M,V,ee,we,Ge,gt,an=[]){gt=gt||new No;const dn=new co(d,f,gt,M,V,an,[]);dn.options=Ge;const Yn=Ge.delay?Ee(Ge.delay):0;dn.currentTimeline.delayNextStep(Yn),dn.currentTimeline.setStyles([ee],null,dn.errors,Ge),q(this,E,dn);const zn=dn.timelines.filter(Jn=>Jn.containsAnimation());if(zn.length&&we.size){let Jn;for(let ur=zn.length-1;ur>=0;ur--){const Fi=zn[ur];if(Fi.element===f){Jn=Fi;break}}Jn&&!Jn.allowOnlyTimelineStyles()&&Jn.setStyles([we],null,dn.errors,Ge)}return zn.length?zn.map(Jn=>Jn.buildKeyframes()):[Zo(f,[],[],[],0,Yn,"",!1)]}visitTrigger(d,f){}visitState(d,f){}visitTransition(d,f){}visitAnimateChild(d,f){const E=f.subInstructions.get(f.element);if(E){const M=f.createSubContext(d.options),V=f.currentTimeline.currentTime,ee=this._visitSubInstructions(E,M,M.options);V!=ee&&f.transformIntoNewTimeline(ee)}f.previousNode=d}visitAnimateRef(d,f){const E=f.createSubContext(d.options);E.transformIntoNewTimeline(),this._applyAnimationRefDelays([d.options,d.animation.options],f,E),this.visitReference(d.animation,E),f.transformIntoNewTimeline(E.currentTimeline.currentTime),f.previousNode=d}_applyAnimationRefDelays(d,f,E){for(const M of d){const V=M?.delay;if(V){const ee="number"==typeof V?V:Ee(ao(V,M?.params??{},f.errors));E.delayNextStep(ee)}}}_visitSubInstructions(d,f,E){let V=f.currentTimeline.currentTime;const ee=null!=E.duration?Ee(E.duration):null,we=null!=E.delay?Ee(E.delay):null;return 0!==ee&&d.forEach(Ge=>{const gt=f.appendInstructionToTimeline(Ge,ee,we);V=Math.max(V,gt.duration+gt.delay)}),V}visitReference(d,f){f.updateOptions(d.options,!0),q(this,d.animation,f),f.previousNode=d}visitSequence(d,f){const E=f.subContextCount;let M=f;const V=d.options;if(V&&(V.params||V.delay)&&(M=f.createSubContext(V),M.transformIntoNewTimeline(),null!=V.delay)){M.previousNode.type==fn.If.Style&&(M.currentTimeline.snapshotCurrentStyles(),M.previousNode=Kr);const ee=Ee(V.delay);M.delayNextStep(ee)}d.steps.length&&(d.steps.forEach(ee=>q(this,ee,M)),M.currentTimeline.applyStylesToKeyframe(),M.subContextCount>E&&M.transformIntoNewTimeline()),f.previousNode=d}visitGroup(d,f){const E=[];let M=f.currentTimeline.currentTime;const V=d.options&&d.options.delay?Ee(d.options.delay):0;d.steps.forEach(ee=>{const we=f.createSubContext(d.options);V&&we.delayNextStep(V),q(this,ee,we),M=Math.max(M,we.currentTimeline.currentTime),E.push(we.currentTimeline)}),E.forEach(ee=>f.currentTimeline.mergeTimelineCollectedStyles(ee)),f.transformIntoNewTimeline(M),f.previousNode=d}_visitTiming(d,f){if(d.dynamic){const E=d.strValue;return Qe(f.params?ao(E,f.params,f.errors):E,f.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,f){const E=f.currentAnimateTimings=this._visitTiming(d.timings,f),M=f.currentTimeline;E.delay&&(f.incrementTime(E.delay),M.snapshotCurrentStyles());const V=d.style;V.type==fn.If.Keyframes?this.visitKeyframes(V,f):(f.incrementTime(E.duration),this.visitStyle(V,f),M.applyStylesToKeyframe()),f.currentAnimateTimings=null,f.previousNode=d}visitStyle(d,f){const E=f.currentTimeline,M=f.currentAnimateTimings;!M&&E.hasCurrentStyleProperties()&&E.forwardFrame();const V=M&&M.easing||d.easing;d.isEmptyStep?E.applyEmptyStep(V):E.setStyles(d.styles,V,f.errors,f.options),f.previousNode=d}visitKeyframes(d,f){const E=f.currentAnimateTimings,M=f.currentTimeline.duration,V=E.duration,we=f.createSubContext().currentTimeline;we.easing=E.easing,d.styles.forEach(Ge=>{we.forwardTime((Ge.offset||0)*V),we.setStyles(Ge.styles,Ge.easing,f.errors,f.options),we.applyStylesToKeyframe()}),f.currentTimeline.mergeTimelineCollectedStyles(we),f.transformIntoNewTimeline(M+V),f.previousNode=d}visitQuery(d,f){const E=f.currentTimeline.currentTime,M=d.options||{},V=M.delay?Ee(M.delay):0;V&&(f.previousNode.type===fn.If.Style||0==E&&f.currentTimeline.hasCurrentStyleProperties())&&(f.currentTimeline.snapshotCurrentStyles(),f.previousNode=Kr);let ee=E;const we=f.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!M.optional,f.errors);f.currentQueryTotal=we.length;let Ge=null;we.forEach((gt,an)=>{f.currentQueryIndex=an;const dn=f.createSubContext(d.options,gt);V&&dn.delayNextStep(V),gt===f.element&&(Ge=dn.currentTimeline),q(this,d.animation,dn),dn.currentTimeline.applyStylesToKeyframe(),ee=Math.max(ee,dn.currentTimeline.currentTime)}),f.currentQueryIndex=0,f.currentQueryTotal=0,f.transformIntoNewTimeline(ee),Ge&&(f.currentTimeline.mergeTimelineCollectedStyles(Ge),f.currentTimeline.snapshotCurrentStyles()),f.previousNode=d}visitStagger(d,f){const E=f.parentContext,M=f.currentTimeline,V=d.timings,ee=Math.abs(V.duration),we=ee*(f.currentQueryTotal-1);let Ge=ee*f.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":Ge=we-Ge;break;case"full":Ge=E.currentStaggerTime}const an=f.currentTimeline;Ge&&an.delayNextStep(Ge);const dn=an.currentTime;q(this,d.animation,f),f.previousNode=d,E.currentStaggerTime=M.currentTime-dn+(M.startTime-E.currentTimeline.startTime)}}const Kr={};class co{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Kr;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(d,f,E,M,V,ee,we,Ge){this._driver=d,this.element=f,this.subInstructions=E,this._enterClassName=M,this._leaveClassName=V,this.errors=ee,this.timelines=we,this.currentTimeline=Ge||new Yr(this._driver,f,0),we.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,f){if(!d)return;const E=d;let M=this.options;null!=E.duration&&(M.duration=Ee(E.duration)),null!=E.delay&&(M.delay=Ee(E.delay));const V=E.params;if(V){let ee=M.params;ee||(ee=this.options.params={}),Object.keys(V).forEach(we=>{(!f||!ee.hasOwnProperty(we))&&(ee[we]=ao(V[we],ee,this.errors))})}}_copyOptions(){const d={};if(this.options){const f=this.options.params;if(f){const E=d.params={};Object.keys(f).forEach(M=>{E[M]=f[M]})}}return d}createSubContext(d=null,f,E){const M=f||this.element,V=new co(this._driver,M,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(M,E||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(d),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(d){return this.previousNode=Kr,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,f,E){const M={duration:f??d.duration,delay:this.currentTimeline.currentTime+(E??0)+d.delay,easing:""},V=new Jr(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,M,d.stretchStartingKeyframe);return this.timelines.push(V),M}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,f,E,M,V,ee){let we=[];if(M&&we.push(this.element),d.length>0){d=(d=d.replace(Or,"."+this._enterClassName)).replace(mo,"."+this._leaveClassName);let gt=this._driver.query(this.element,d,1!=E);0!==E&&(gt=E<0?gt.slice(gt.length+E,gt.length):gt.slice(0,E)),we.push(...gt)}return!V&&0==we.length&&ee.push(function hr(){return new I.wOt(3014,!1)}()),we}}class Yr{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(d,f,E,M){this._driver=d,this.element=f,this.startTime=E,this._elementTimelineStylesLookup=M,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(f),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(f,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const f=1===this._keyframes.size&&this._pendingStyles.size;this.duration||f?(this.forwardTime(this.currentTime+d),f&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,f){return this.applyStylesToKeyframe(),new Yr(this._driver,d,f||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,f){this._localTimelineStyles.set(d,f),this._globalTimelineStyles.set(d,f),this._styleSummary.set(d,{time:this.currentTime,value:f})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&this._previousKeyframe.set("easing",d);for(let[f,E]of this._globalTimelineStyles)this._backFill.set(f,E||fn.kp),this._currentKeyframe.set(f,fn.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,f,E,M){f&&this._previousKeyframe.set("easing",f);const V=M&&M.params||{},ee=function ko(m,d){const f=new Map;let E;return m.forEach(M=>{if("*"===M){E??=d.keys();for(let V of E)f.set(V,fn.kp)}else for(let[V,ee]of M)f.set(V,ee)}),f}(d,this._globalTimelineStyles);for(let[we,Ge]of ee){const gt=ao(Ge,V,E);this._pendingStyles.set(we,gt),this._localTimelineStyles.has(we)||this._backFill.set(we,this._globalTimelineStyles.get(we)??fn.kp),this._updateStyle(we,gt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((d,f)=>{this._currentKeyframe.set(f,d)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((d,f)=>{this._currentKeyframe.has(f)||this._currentKeyframe.set(f,d)}))}snapshotCurrentStyles(){for(let[d,f]of this._localTimelineStyles)this._pendingStyles.set(d,f),this._updateStyle(d,f)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let f in this._currentKeyframe)d.push(f);return d}mergeTimelineCollectedStyles(d){d._styleSummary.forEach((f,E)=>{const M=this._styleSummary.get(E);(!M||f.time>M.time)&&this._updateStyle(E,f.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,f=new Set,E=1===this._keyframes.size&&0===this.duration;let M=[];this._keyframes.forEach((we,Ge)=>{const gt=new Map([...this._backFill,...we]);gt.forEach((an,dn)=>{an===fn.FX?d.add(dn):an===fn.kp&&f.add(dn)}),E||gt.set("offset",Ge/this.duration),M.push(gt)});const V=[...d.values()],ee=[...f.values()];if(E){const we=M[0],Ge=new Map(we);we.set("offset",0),Ge.set("offset",1),M=[we,Ge]}return Zo(this.element,M,V,ee,this.duration,this.startTime,this.easing,!1)}}class Jr extends Yr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(d,f,E,M,V,ee,we=!1){super(d,f,ee.delay),this.keyframes=E,this.preStyleProps=M,this.postStyleProps=V,this._stretchStartingKeyframe=we,this.timings={duration:ee.duration,delay:ee.delay,easing:ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:f,duration:E,easing:M}=this.timings;if(this._stretchStartingKeyframe&&f){const V=[],ee=E+f,we=f/ee,Ge=new Map(d[0]);Ge.set("offset",0),V.push(Ge);const gt=new Map(d[0]);gt.set("offset",As(we)),V.push(gt);const an=d.length-1;for(let dn=1;dn<=an;dn++){let Yn=new Map(d[dn]);const zn=Yn.get("offset");Yn.set("offset",As((f+zn*E)/ee)),V.push(Yn)}E=ee,f=0,M="",d=V}return Zo(this.element,d,this.preStyleProps,this.postStyleProps,E,f,M,!0)}}function As(m,d=3){const f=Math.pow(10,d-1);return Math.round(m*f)/f}function xo(m,d,f,E,M,V,ee,we,Ge,gt,an,dn,Yn){return{type:0,element:m,triggerName:d,isRemovalTransition:M,fromState:f,fromStyles:V,toState:E,toStyles:ee,timelines:we,queriedElements:Ge,preStyleProps:gt,postStyleProps:an,totalTime:dn,errors:Yn}}const ps={};class To{_triggerName;ast;_stateStyles;constructor(d,f,E){this._triggerName=d,this.ast=f,this._stateStyles=E}match(d,f,E,M){return function Hs(m,d,f,E,M){return m.some(V=>V(d,f,E,M))}(this.ast.matchers,d,f,E,M)}buildStyles(d,f,E){let M=this._stateStyles.get("*");return void 0!==d&&(M=this._stateStyles.get(d?.toString())||M),M?M.buildStyles(f,E):new Map}build(d,f,E,M,V,ee,we,Ge,gt,an){const dn=[],Yn=this.ast.options&&this.ast.options.params||ps,Jn=this.buildStyles(E,we&&we.params||ps,dn),ur=Ge&&Ge.params||ps,Fi=this.buildStyles(M,ur,dn),Co=new Set,ds=new Map,Cs=new Map,Lo="void"===M,Ec={params:Oo(ur,Yn),delay:this.ast.options?.delay},ga=an?[]:Ko(d,f,this.ast.animation,V,ee,Jn,Fi,Ec,gt,dn);let Gr=0;return ga.forEach(hs=>{Gr=Math.max(hs.duration+hs.delay,Gr)}),dn.length?xo(f,this._triggerName,E,M,Lo,Jn,Fi,[],[],ds,Cs,Gr,dn):(ga.forEach(hs=>{const ia=hs.element,ma=Rn(ds,ia,new Set);hs.preStyleProps.forEach(Ti=>ma.add(Ti));const kl=Rn(Cs,ia,new Set);hs.postStyleProps.forEach(Ti=>kl.add(Ti)),ia!==f&&Co.add(ia)}),xo(f,this._triggerName,E,M,Lo,Jn,Fi,ga,[...Co.values()],ds,Cs,Gr))}}function Oo(m,d){const f={...d};return Object.entries(m).forEach(([E,M])=>{null!=M&&(f[E]=M)}),f}class Fr{styles;defaultParams;normalizer;constructor(d,f,E){this.styles=d,this.defaultParams=f,this.normalizer=E}buildStyles(d,f){const E=new Map,M=Oo(d,this.defaultParams);return this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((ee,we)=>{ee&&(ee=ao(ee,M,f));const Ge=this.normalizer.normalizePropertyName(we,f);ee=this.normalizer.normalizeStyleValue(we,Ge,ee,f),E.set(we,ee)})}),E}}class eo{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(d,f,E){this.name=d,this.ast=f,this._normalizer=E,f.states.forEach(M=>{this.states.set(M.name,new Fr(M.style,M.options&&M.options.params||{},E))}),Os(this.states,"true","1"),Os(this.states,"false","0"),f.transitions.forEach(M=>{this.transitionFactories.push(new To(d,M,this.states))}),this.fallbackTransition=function ra(m,d){return new To(m,{type:fn.If.Transition,animation:{type:fn.If.Sequence,steps:[],options:null},matchers:[(ee,we)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,f,E,M){return this.transitionFactories.find(ee=>ee.match(d,f,E,M))||null}matchStyles(d,f,E){return this.fallbackTransition.buildStyles(d,f,E)}}function Os(m,d,f){m.has(d)?m.has(f)||m.set(f,m.get(d)):m.has(f)&&m.set(d,m.get(f))}const ba=new No;class jo{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(d,f,E){this.bodyNode=d,this._driver=f,this._normalizer=E}register(d,f){const E=[],V=jn(this._driver,f,E,[]);if(E.length)throw function Ar(){return new I.wOt(3503,!1)}();this._animations.set(d,V)}_buildPlayer(d,f,E){const M=d.element,V=Be(this._normalizer,d.keyframes,f,E);return this._driver.animate(M,V,d.duration,d.delay,d.easing,[],!0)}create(d,f,E={}){const M=[],V=this._animations.get(d);let ee;const we=new Map;if(V?(ee=Ko(this._driver,f,V,Bn,un,new Map,new Map,E,ba,M),ee.forEach(an=>{const dn=Rn(we,an.element,new Map);an.postStyleProps.forEach(Yn=>dn.set(Yn,null))})):(M.push(function Yi(){return new I.wOt(3300,!1)}()),ee=[]),M.length)throw function ai(){return new I.wOt(3504,!1)}();we.forEach((an,dn)=>{an.forEach((Yn,zn)=>{an.set(zn,this._driver.computeStyle(dn,zn,fn.kp))})});const gt=_e(ee.map(an=>{const dn=we.get(an.element);return this._buildPlayer(an,new Map,dn)}));return this._playersById.set(d,gt),gt.onDestroy(()=>this.destroy(d)),this.players.push(gt),gt}destroy(d){const f=this._getPlayer(d);f.destroy(),this._playersById.delete(d);const E=this.players.indexOf(f);E>=0&&this.players.splice(E,1)}_getPlayer(d){const f=this._playersById.get(d);if(!f)throw function Vi(){return new I.wOt(3301,!1)}();return f}listen(d,f,E,M){const V=Xt(f,"","","");return Ot(this._getPlayer(d),E,V,M),()=>{}}command(d,f,E,M){if("register"==E)return void this.register(d,M[0]);if("create"==E)return void this.create(d,f,M[0]||{});const V=this._getPlayer(d);switch(E){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(M[0]));break;case"destroy":this.destroy(d)}}}const Er="ng-animate-queued",G="ng-animate-disabled",Nt=[],Kt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pn="__ng_removed";class pr{namespaceId;value;options;get params(){return this.options.params}constructor(d,f=""){this.namespaceId=f;const E=d&&d.hasOwnProperty("value");if(this.value=function ri(m){return m??null}(E?d.value:d),E){const{value:V,...ee}=d;this.options=ee}else this.options={};this.options.params||(this.options.params={})}absorbOptions(d){const f=d.params;if(f){const E=this.options.params;Object.keys(f).forEach(M=>{null==E[M]&&(E[M]=f[M])})}}}const Zn="void",Ur=new pr(Zn);class Ii{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(d,f,E){this.id=d,this.hostElement=f,this._engine=E,this._hostClassName="ng-tns-"+d,ii(f,this._hostClassName)}listen(d,f,E,M){if(!this._triggers.has(f))throw function _n(){return new I.wOt(3302,!1)}();if(null==E||0==E.length)throw function gr(){return new I.wOt(3303,!1)}();if(!function uo(m){return"start"==m||"done"==m}(E))throw function Tr(){return new I.wOt(3400,!1)}();const V=Rn(this._elementListeners,d,[]),ee={name:f,phase:E,callback:M};V.push(ee);const we=Rn(this._engine.statesByElement,d,new Map);return we.has(f)||(ii(d,Kn),ii(d,Kn+"-"+f),we.set(f,Ur)),()=>{this._engine.afterFlush(()=>{const Ge=V.indexOf(ee);Ge>=0&&V.splice(Ge,1),this._triggers.has(f)||we.delete(f)})}}register(d,f){return!this._triggers.has(d)&&(this._triggers.set(d,f),!0)}_getTrigger(d){const f=this._triggers.get(d);if(!f)throw function Ui(){return new I.wOt(3401,!1)}();return f}trigger(d,f,E,M=!0){const V=this._getTrigger(f),ee=new $i(this.id,f,d);let we=this._engine.statesByElement.get(d);we||(ii(d,Kn),ii(d,Kn+"-"+f),this._engine.statesByElement.set(d,we=new Map));let Ge=we.get(f);const gt=new pr(E,this.id);if(!(E&&E.hasOwnProperty("value"))&&Ge&&gt.absorbOptions(Ge.options),we.set(f,gt),Ge||(Ge=Ur),gt.value!==Zn&&Ge.value===gt.value){if(!function Da(m,d){const f=Object.keys(m),E=Object.keys(d);if(f.length!=E.length)return!1;for(let M=0;M<f.length;M++){const V=f[M];if(!d.hasOwnProperty(V)||m[V]!==d[V])return!1}return!0}(Ge.params,gt.params)){const ur=[],Fi=V.matchStyles(Ge.value,Ge.params,ur),Co=V.matchStyles(gt.value,gt.params,ur);ur.length?this._engine.reportError(ur):this._engine.afterFlush(()=>{An(d,Fi),Fn(d,Co)})}return}const Yn=Rn(this._engine.playersByElement,d,[]);Yn.forEach(ur=>{ur.namespaceId==this.id&&ur.triggerName==f&&ur.queued&&ur.destroy()});let zn=V.matchTransition(Ge.value,gt.value,d,gt.params),Jn=!1;if(!zn){if(!M)return;zn=V.fallbackTransition,Jn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:f,transition:zn,fromState:Ge,toState:gt,player:ee,isFallbackTransition:Jn}),Jn||(ii(d,Er),ee.onStart(()=>{yo(d,Er)})),ee.onDone(()=>{let ur=this.players.indexOf(ee);ur>=0&&this.players.splice(ur,1);const Fi=this._engine.playersByElement.get(d);if(Fi){let Co=Fi.indexOf(ee);Co>=0&&Fi.splice(Co,1)}}),this.players.push(ee),Yn.push(ee),ee}deregister(d){this._triggers.delete(d),this._engine.statesByElement.forEach(f=>f.delete(d)),this._elementListeners.forEach((f,E)=>{this._elementListeners.set(E,f.filter(M=>M.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const f=this._engine.playersByElement.get(d);f&&(f.forEach(E=>E.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,f){const E=this._engine.driver.query(d,ar,!0);E.forEach(M=>{if(M[pn])return;const V=this._engine.fetchNamespacesByElement(M);V.size?V.forEach(ee=>ee.triggerLeaveAnimation(M,f,!1,!0)):this.clearElementCache(M)}),this._engine.afterFlushAnimationsDone(()=>E.forEach(M=>this.clearElementCache(M)))}triggerLeaveAnimation(d,f,E,M){const V=this._engine.statesByElement.get(d),ee=new Map;if(V){const we=[];if(V.forEach((Ge,gt)=>{if(ee.set(gt,Ge.value),this._triggers.has(gt)){const an=this.trigger(d,gt,Zn,M);an&&we.push(an)}}),we.length)return this._engine.markElementAsRemoved(this.id,d,!0,f,ee),E&&_e(we).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const f=this._elementListeners.get(d),E=this._engine.statesByElement.get(d);if(f&&E){const M=new Set;f.forEach(V=>{const ee=V.name;if(M.has(ee))return;M.add(ee);const Ge=this._triggers.get(ee).fallbackTransition,gt=E.get(ee)||Ur,an=new pr(Zn),dn=new $i(this.id,ee,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:ee,transition:Ge,fromState:gt,toState:an,player:dn,isFallbackTransition:!0})})}}removeNode(d,f){const E=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,f),this.triggerLeaveAnimation(d,f,!0))return;let M=!1;if(E.totalAnimations){const V=E.players.length?E.playersByQueriedElement.get(d):[];if(V&&V.length)M=!0;else{let ee=d;for(;ee=ee.parentNode;)if(E.statesByElement.get(ee)){M=!0;break}}}if(this.prepareLeaveAnimationListeners(d),M)E.markElementAsRemoved(this.id,d,!1,f);else{const V=d[pn];(!V||V===Kt)&&(E.afterFlush(()=>this.clearElementCache(d)),E.destroyInnerAnimations(d),E._onRemovalComplete(d,f))}}insertNode(d,f){ii(d,this._hostClassName)}drainQueuedTransitions(d){const f=[];return this._queue.forEach(E=>{const M=E.player;if(M.destroyed)return;const V=E.element,ee=this._elementListeners.get(V);ee&&ee.forEach(we=>{if(we.name==E.triggerName){const Ge=Xt(V,E.triggerName,E.fromState.value,E.toState.value);Ge._data=d,Ot(E.player,we.phase,Ge,we.callback)}}),M.markedForDestroy?this._engine.afterFlush(()=>{M.destroy()}):f.push(E)}),this._queue=[],f.sort((E,M)=>{const V=E.transition.ast.depCount,ee=M.transition.ast.depCount;return 0==V||0==ee?V-ee:this._engine.driver.containsElement(E.element,M.element)?1:-1})}destroy(d){this.players.forEach(f=>f.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}}class _i{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(d,f)=>{};_onRemovalComplete(d,f){this.onRemovalComplete(d,f)}constructor(d,f,E){this.bodyNode=d,this.driver=f,this._normalizer=E}get queuedPlayers(){const d=[];return this._namespaceList.forEach(f=>{f.players.forEach(E=>{E.queued&&d.push(E)})}),d}createNamespace(d,f){const E=new Ii(d,f,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,f)?this._balanceNamespaceList(E,f):(this.newHostElements.set(f,E),this.collectEnterElement(f)),this._namespaceLookup[d]=E}_balanceNamespaceList(d,f){const E=this._namespaceList,M=this.namespacesByHostElement;if(E.length-1>=0){let ee=!1,we=this.driver.getParentElement(f);for(;we;){const Ge=M.get(we);if(Ge){const gt=E.indexOf(Ge);E.splice(gt+1,0,d),ee=!0;break}we=this.driver.getParentElement(we)}ee||E.unshift(d)}else E.push(d);return M.set(f,d),d}register(d,f){let E=this._namespaceLookup[d];return E||(E=this.createNamespace(d,f)),E}registerTrigger(d,f,E){let M=this._namespaceLookup[d];M&&M.register(f,E)&&this.totalAnimations++}destroy(d,f){d&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const E=this._fetchNamespace(d);this.namespacesByHostElement.delete(E.hostElement);const M=this._namespaceList.indexOf(E);M>=0&&this._namespaceList.splice(M,1),E.destroy(f),delete this._namespaceLookup[d]}))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const f=new Set,E=this.statesByElement.get(d);if(E)for(let M of E.values())if(M.namespaceId){const V=this._fetchNamespace(M.namespaceId);V&&f.add(V)}return f}trigger(d,f,E,M){if(Oi(f)){const V=this._fetchNamespace(d);if(V)return V.trigger(f,E,M),!0}return!1}insertNode(d,f,E,M){if(!Oi(f))return;const V=f[pn];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const ee=this.collectedLeaveElements.indexOf(f);ee>=0&&this.collectedLeaveElements.splice(ee,1)}if(d){const ee=this._fetchNamespace(d);ee&&ee.insertNode(f,E)}M&&this.collectEnterElement(f)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,f){f?this.disabledNodes.has(d)||(this.disabledNodes.add(d),ii(d,G)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),yo(d,G))}removeNode(d,f,E){if(Oi(f)){const M=d?this._fetchNamespace(d):null;M?M.removeNode(f,E):this.markElementAsRemoved(d,f,!1,E);const V=this.namespacesByHostElement.get(f);V&&V.id!==d&&V.removeNode(f,E)}else this._onRemovalComplete(f,E)}markElementAsRemoved(d,f,E,M,V){this.collectedLeaveElements.push(f),f[pn]={namespaceId:d,setForRemoval:M,hasAnimation:E,removedBeforeQueried:!1,previousTriggersValues:V}}listen(d,f,E,M,V){return Oi(f)?this._fetchNamespace(d).listen(f,E,M,V):()=>{}}_buildInstruction(d,f,E,M,V){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,E,M,d.fromState.options,d.toState.options,f,V)}destroyInnerAnimations(d){let f=this.driver.query(d,ar,!0);f.forEach(E=>this.destroyActiveAnimationsForElement(E)),0!=this.playersByQueriedElement.size&&(f=this.driver.query(d,Ri,!0),f.forEach(E=>this.finishActiveQueriedAnimationOnElement(E)))}destroyActiveAnimationsForElement(d){const f=this.playersByElement.get(d);f&&f.forEach(E=>{E.queued?E.markedForDestroy=!0:E.destroy()})}finishActiveQueriedAnimationOnElement(d){const f=this.playersByQueriedElement.get(d);f&&f.forEach(E=>E.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return _e(this.players).onDone(()=>d());d()})}processLeaveNode(d){const f=d[pn];if(f&&f.setForRemoval){if(d[pn]=Kt,f.namespaceId){this.destroyInnerAnimations(d);const E=this._fetchNamespace(f.namespaceId);E&&E.clearElementCache(d)}this._onRemovalComplete(d,f.setForRemoval)}d.classList?.contains(G)&&this.markElementAsDisabled(d,!1),this.driver.query(d,".ng-animate-disabled",!0).forEach(E=>{this.markElementAsDisabled(E,!1)})}flush(d=-1){let f=[];if(this.newHostElements.size&&(this.newHostElements.forEach((E,M)=>this._balanceNamespaceList(E,M)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let E=0;E<this.collectedEnterElements.length;E++)ii(this.collectedEnterElements[E],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const E=[];try{f=this._flushAnimations(E,d)}finally{for(let M=0;M<E.length;M++)E[M]()}}else for(let E=0;E<this.collectedLeaveElements.length;E++)this.processLeaveNode(this.collectedLeaveElements[E]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(E=>E()),this._flushFns=[],this._whenQuietFns.length){const E=this._whenQuietFns;this._whenQuietFns=[],f.length?_e(f).onDone(()=>{E.forEach(M=>M())}):E.forEach(M=>M())}}reportError(d){throw function Bi(){return new I.wOt(3402,!1)}()}_flushAnimations(d,f){const E=new No,M=[],V=new Map,ee=[],we=new Map,Ge=new Map,gt=new Map,an=new Set;this.disabledNodes.forEach(kn=>{an.add(kn);const gn=this.driver.query(kn,".ng-animate-queued",!0);for(let dr=0;dr<gn.length;dr++)an.add(gn[dr])});const dn=this.bodyNode,Yn=Array.from(this.statesByElement.keys()),zn=bo(Yn,this.collectedEnterElements),Jn=new Map;let ur=0;zn.forEach((kn,gn)=>{const dr=Bn+ur++;Jn.set(gn,dr),kn.forEach(jr=>ii(jr,dr))});const Fi=[],Co=new Set,ds=new Set;for(let kn=0;kn<this.collectedLeaveElements.length;kn++){const gn=this.collectedLeaveElements[kn],dr=gn[pn];dr&&dr.setForRemoval&&(Fi.push(gn),Co.add(gn),dr.hasAnimation?this.driver.query(gn,".ng-star-inserted",!0).forEach(jr=>Co.add(jr)):ds.add(gn))}const Cs=new Map,Lo=bo(Yn,Array.from(Co));Lo.forEach((kn,gn)=>{const dr=un+ur++;Cs.set(gn,dr),kn.forEach(jr=>ii(jr,dr))}),d.push(()=>{zn.forEach((kn,gn)=>{const dr=Jn.get(gn);kn.forEach(jr=>yo(jr,dr))}),Lo.forEach((kn,gn)=>{const dr=Cs.get(gn);kn.forEach(jr=>yo(jr,dr))}),Fi.forEach(kn=>{this.processLeaveNode(kn)})});const Ec=[],ga=[];for(let kn=this._namespaceList.length-1;kn>=0;kn--)this._namespaceList[kn].drainQueuedTransitions(f).forEach(dr=>{const jr=dr.player,ei=dr.element;if(Ec.push(jr),this.collectedEnterElements.length){const Qr=ei[pn];if(Qr&&Qr.setForMove){if(Qr.previousTriggersValues&&Qr.previousTriggersValues.has(dr.triggerName)){const Mr=Qr.previousTriggersValues.get(dr.triggerName),lo=this.statesByElement.get(dr.element);if(lo&&lo.has(dr.triggerName)){const ja=lo.get(dr.triggerName);ja.value=Mr,lo.set(dr.triggerName,ja)}}return void jr.destroy()}}const Ss=!dn||!this.driver.containsElement(dn,ei),So=Cs.get(ei),Ho=Jn.get(ei),Ni=this._buildInstruction(dr,E,Ho,So,Ss);if(Ni.errors&&Ni.errors.length)return void ga.push(Ni);if(Ss)return jr.onStart(()=>An(ei,Ni.fromStyles)),jr.onDestroy(()=>Fn(ei,Ni.toStyles)),void M.push(jr);if(dr.isFallbackTransition)return jr.onStart(()=>An(ei,Ni.fromStyles)),jr.onDestroy(()=>Fn(ei,Ni.toStyles)),void M.push(jr);const fs=[];Ni.timelines.forEach(Qr=>{Qr.stretchStartingKeyframe=!0,this.disabledNodes.has(Qr.element)||fs.push(Qr)}),Ni.timelines=fs,E.append(ei,Ni.timelines),ee.push({instruction:Ni,player:jr,element:ei}),Ni.queriedElements.forEach(Qr=>Rn(we,Qr,[]).push(jr)),Ni.preStyleProps.forEach((Qr,Mr)=>{if(Qr.size){let lo=Ge.get(Mr);lo||Ge.set(Mr,lo=new Set),Qr.forEach((ja,Pa)=>lo.add(Pa))}}),Ni.postStyleProps.forEach((Qr,Mr)=>{let lo=gt.get(Mr);lo||gt.set(Mr,lo=new Set),Qr.forEach((ja,Pa)=>lo.add(Pa))})});if(ga.length){const kn=[];ga.forEach(gn=>{kn.push(function xi(){return new I.wOt(3505,!1)}())}),Ec.forEach(gn=>gn.destroy()),this.reportError(kn)}const Gr=new Map,hs=new Map;ee.forEach(kn=>{const gn=kn.element;E.has(gn)&&(hs.set(gn,gn),this._beforeAnimationBuild(kn.player.namespaceId,kn.instruction,Gr))}),M.forEach(kn=>{const gn=kn.element;this._getPreviousPlayers(gn,!1,kn.namespaceId,kn.triggerName,null).forEach(jr=>{Rn(Gr,gn,[]).push(jr),jr.destroy()})});const ia=Fi.filter(kn=>zs(kn,Ge,gt)),ma=new Map;Mi(ma,this.driver,ds,gt,fn.kp).forEach(kn=>{zs(kn,Ge,gt)&&ia.push(kn)});const Ti=new Map;zn.forEach((kn,gn)=>{Mi(Ti,this.driver,new Set(kn),Ge,fn.FX)}),ia.forEach(kn=>{const gn=ma.get(kn),dr=Ti.get(kn);ma.set(kn,new Map([...gn?.entries()??[],...dr?.entries()??[]]))});const Wu=[],pi=[],Ba={};ee.forEach(kn=>{const{element:gn,player:dr,instruction:jr}=kn;if(E.has(gn)){if(an.has(gn))return dr.onDestroy(()=>Fn(gn,jr.toStyles)),dr.disabled=!0,dr.overrideTotalTime(jr.totalTime),void M.push(dr);let ei=Ba;if(hs.size>1){let So=gn;const Ho=[];for(;So=So.parentNode;){const Ni=hs.get(So);if(Ni){ei=Ni;break}Ho.push(So)}Ho.forEach(Ni=>hs.set(Ni,ei))}const Ss=this._buildAnimation(dr.namespaceId,jr,Gr,V,Ti,ma);if(dr.setRealPlayer(Ss),ei===Ba)Wu.push(dr);else{const So=this.playersByElement.get(ei);So&&So.length&&(dr.parentPlayer=_e(So)),M.push(dr)}}else An(gn,jr.fromStyles),dr.onDestroy(()=>Fn(gn,jr.toStyles)),pi.push(dr),an.has(gn)&&M.push(dr)}),pi.forEach(kn=>{const gn=V.get(kn.element);if(gn&&gn.length){const dr=_e(gn);kn.setRealPlayer(dr)}}),M.forEach(kn=>{kn.parentPlayer?kn.syncPlayerEvents(kn.parentPlayer):kn.destroy()});for(let kn=0;kn<Fi.length;kn++){const gn=Fi[kn],dr=gn[pn];if(yo(gn,un),dr&&dr.hasAnimation)continue;let jr=[];if(we.size){let Ss=we.get(gn);Ss&&Ss.length&&jr.push(...Ss);let So=this.driver.query(gn,Ri,!0);for(let Ho=0;Ho<So.length;Ho++){let Ni=we.get(So[Ho]);Ni&&Ni.length&&jr.push(...Ni)}}const ei=jr.filter(Ss=>!Ss.destroyed);ei.length?qo(this,gn,ei):this.processLeaveNode(gn)}return Fi.length=0,Wu.forEach(kn=>{this.players.push(kn),kn.onDone(()=>{kn.destroy();const gn=this.players.indexOf(kn);this.players.splice(gn,1)}),kn.play()}),Wu}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,f,E,M,V){let ee=[];if(f){const we=this.playersByQueriedElement.get(d);we&&(ee=we)}else{const we=this.playersByElement.get(d);if(we){const Ge=!V||V==Zn;we.forEach(gt=>{gt.queued||!Ge&&gt.triggerName!=M||ee.push(gt)})}}return(E||M)&&(ee=ee.filter(we=>!(E&&E!=we.namespaceId||M&&M!=we.triggerName))),ee}_beforeAnimationBuild(d,f,E){const V=f.element,ee=f.isRemovalTransition?void 0:d,we=f.isRemovalTransition?void 0:f.triggerName;for(const Ge of f.timelines){const gt=Ge.element,an=gt!==V,dn=Rn(E,gt,[]);this._getPreviousPlayers(gt,an,ee,we,f.toState).forEach(zn=>{const Jn=zn.getRealPlayer();Jn.beforeDestroy&&Jn.beforeDestroy(),zn.destroy(),dn.push(zn)})}An(V,f.fromStyles)}_buildAnimation(d,f,E,M,V,ee){const we=f.triggerName,Ge=f.element,gt=[],an=new Set,dn=new Set,Yn=f.timelines.map(Jn=>{const ur=Jn.element;an.add(ur);const Fi=ur[pn];if(Fi&&Fi.removedBeforeQueried)return new fn.sf(Jn.duration,Jn.delay);const Co=ur!==Ge,ds=function gs(m){const d=[];return la(m,d),d}((E.get(ur)||Nt).map(Gr=>Gr.getRealPlayer())).filter(Gr=>!!Gr.element&&Gr.element===ur),Cs=V.get(ur),Lo=ee.get(ur),Ec=Be(this._normalizer,Jn.keyframes,Cs,Lo),ga=this._buildPlayer(Jn,Ec,ds);if(Jn.subTimeline&&M&&dn.add(ur),Co){const Gr=new $i(d,we,ur);Gr.setRealPlayer(ga),gt.push(Gr)}return ga});gt.forEach(Jn=>{Rn(this.playersByQueriedElement,Jn.element,[]).push(Jn),Jn.onDone(()=>function Pi(m,d,f){let E=m.get(d);if(E){if(E.length){const M=E.indexOf(f);E.splice(M,1)}0==E.length&&m.delete(d)}return E}(this.playersByQueriedElement,Jn.element,Jn))}),an.forEach(Jn=>ii(Jn,wi));const zn=_e(Yn);return zn.onDestroy(()=>{an.forEach(Jn=>yo(Jn,wi)),Fn(Ge,f.toStyles)}),dn.forEach(Jn=>{Rn(M,Jn,[]).push(zn)}),zn}_buildPlayer(d,f,E){return f.length>0?this.driver.animate(d.element,f,d.duration,d.delay,d.easing,E):new fn.sf(d.duration,d.delay)}}class $i{namespaceId;triggerName;element;_player=new fn.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(d,f,E){this.namespaceId=d,this.triggerName=f,this.element=E}setRealPlayer(d){this._containsRealPlayer||(this._player=d,this._queuedCallbacks.forEach((f,E)=>{f.forEach(M=>Ot(d,E,void 0,M))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const f=this._player;f.triggerCallback&&d.onStart(()=>f.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,f){Rn(this._queuedCallbacks,d,[]).push(f)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const f=this._player;f.triggerCallback&&f.triggerCallback(d)}}function Oi(m){return m&&1===m.nodeType}function vi(m,d){const f=m.style.display;return m.style.display=d??"none",f}function Mi(m,d,f,E,M){const V=[];f.forEach(Ge=>V.push(vi(Ge)));const ee=[];E.forEach((Ge,gt)=>{const an=new Map;Ge.forEach(dn=>{const Yn=d.computeStyle(gt,dn,M);an.set(dn,Yn),(!Yn||0==Yn.length)&&(gt[pn]=bn,ee.push(gt))}),m.set(gt,an)});let we=0;return f.forEach(Ge=>vi(Ge,V[we++])),ee}function bo(m,d){const f=new Map;if(m.forEach(we=>f.set(we,[])),0==d.length)return f;const M=new Set(d),V=new Map;function ee(we){if(!we)return 1;let Ge=V.get(we);if(Ge)return Ge;const gt=we.parentNode;return Ge=f.has(gt)?gt:M.has(gt)?1:ee(gt),V.set(we,Ge),Ge}return d.forEach(we=>{const Ge=ee(we);1!==Ge&&f.get(Ge).push(we)}),f}function ii(m,d){m.classList?.add(d)}function yo(m,d){m.classList?.remove(d)}function qo(m,d,f){_e(f).onDone(()=>m.processLeaveNode(d))}function la(m,d){for(let f=0;f<m.length;f++){const E=m[f];E instanceof fn.PZ?la(E.players,d):d.push(E)}}function zs(m,d,f){const E=f.get(m);if(!E)return!1;let M=d.get(m);return M?E.forEach(V=>M.add(V)):d.set(m,E),f.delete(m),!0}class ms{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(d,f)=>{};constructor(d,f,E){this._driver=f,this._normalizer=E,this._transitionEngine=new _i(d.body,f,E),this._timelineEngine=new jo(d.body,f,E),this._transitionEngine.onRemovalComplete=(M,V)=>this.onRemovalComplete(M,V)}registerTrigger(d,f,E,M,V){const ee=d+"-"+M;let we=this._triggerCache[ee];if(!we){const Ge=[],an=jn(this._driver,V,Ge,[]);if(Ge.length)throw function Zi(){return new I.wOt(3404,!1)}();we=function vr(m,d,f){return new eo(m,d,f)}(M,an,this._normalizer),this._triggerCache[ee]=we}this._transitionEngine.registerTrigger(f,M,we)}register(d,f){this._transitionEngine.register(d,f)}destroy(d,f){this._transitionEngine.destroy(d,f)}onInsert(d,f,E,M){this._transitionEngine.insertNode(d,f,E,M)}onRemove(d,f,E){this._transitionEngine.removeNode(d,f,E)}disableAnimations(d,f){this._transitionEngine.markElementAsDisabled(d,f)}process(d,f,E,M){if("@"==E.charAt(0)){const[V,ee]=mr(E);this._timelineEngine.command(V,f,ee,M)}else this._transitionEngine.trigger(d,f,E,M)}listen(d,f,E,M,V){if("@"==E.charAt(0)){const[ee,we]=mr(E);return this._timelineEngine.listen(ee,f,we,V)}return this._transitionEngine.listen(d,f,E,M,V)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(d){this._transitionEngine.afterFlushAnimationsDone(d)}}let da=(()=>{class m{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(f,E,M){this._element=f,this._startStyles=E,this._endStyles=M;let V=m.initialStylesByElement.get(f);V||m.initialStylesByElement.set(f,V=new Map),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&Fn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fn(this._element,this._initialStyles),this._endStyles&&(Fn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(m.initialStylesByElement.delete(this._element),this._startStyles&&(An(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(An(this._element,this._endStyles),this._endStyles=null),Fn(this._element,this._initialStyles),this._state=3)}}return m})();function Ws(m){let d=null;return m.forEach((f,E)=>{(function oo(m){return"display"===m||"position"===m})(E)&&(d=d||new Map,d.set(E,f))}),d}class Fs{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(d,f,E,M){this.element=d,this.keyframes=f,this.options=E,this._specialStyles=M,this._duration=E.duration,this._delay=E.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:new Map;const f=()=>this._onFinish();this.domPlayer.addEventListener("finish",f),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",f)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(d){const f=[];return d.forEach(E=>{f.push(Object.fromEntries(E))}),f}_triggerWebAnimation(d,f,E){return d.animate(this._convertKeyframesToObject(f),E)}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d=new Map;this.hasStarted()&&this._finalKeyframe.forEach((E,M)=>{"offset"!==M&&d.set(M,this._finished?E:te(this.element,M))}),this.currentSnapshot=d}triggerCallback(d){const f="start"===d?this._onStartFns:this._onDoneFns;f.forEach(E=>E()),f.length=0}}class hi{validateStyleProperty(d){return!0}validateAnimatableStyleProperty(d){return!0}containsElement(d,f){return Rt(d,f)}getParentElement(d){return ae(d)}query(d,f,E){return vt(d,f,E)}computeStyle(d,f,E){return te(d,f)}animate(d,f,E,M,V,ee=[]){const Ge={duration:E,delay:M,fill:0==M?"both":"forwards"};V&&(Ge.easing=V);const gt=new Map,an=ee.filter(zn=>zn instanceof Fs);(function $(m,d){return 0===m||0===d})(E,M)&&an.forEach(zn=>{zn.currentSnapshot.forEach((Jn,ur)=>gt.set(ur,Jn))});let dn=function zt(m){return m.length?m[0]instanceof Map?m:m.map(d=>new Map(Object.entries(d))):[]}(f).map(zn=>new Map(zn));dn=function ge(m,d,f){if(f.size&&d.length){let E=d[0],M=[];if(f.forEach((V,ee)=>{E.has(ee)||M.push(ee),E.set(ee,V)}),M.length)for(let V=1;V<d.length;V++){let ee=d[V];M.forEach(we=>ee.set(we,te(m,we)))}}return d}(d,dn,gt);const Yn=function Fa(m,d){let f=null,E=null;return Array.isArray(d)&&d.length?(f=Ws(d[0]),d.length>1&&(E=Ws(d[d.length-1]))):d instanceof Map&&(f=Ws(d)),f||E?new da(m,f,E):null}(d,dn);return new Fs(d,dn,Ge,Yn)}}const Ks="@.disabled";class Di{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(d,f,E,M){this.namespaceId=d,this.delegate=f,this.engine=E,this._onDestroy=M}get data(){return this.delegate.data}destroyNode(d){this.delegate.destroyNode?.(d)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(d,f){return this.delegate.createElement(d,f)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,f){this.delegate.appendChild(d,f),this.engine.onInsert(this.namespaceId,f,d,!1)}insertBefore(d,f,E,M=!0){this.delegate.insertBefore(d,f,E),this.engine.onInsert(this.namespaceId,f,d,M)}removeChild(d,f,E){this.parentNode(f)&&this.engine.onRemove(this.namespaceId,f,this.delegate)}selectRootElement(d,f){return this.delegate.selectRootElement(d,f)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,f,E,M){this.delegate.setAttribute(d,f,E,M)}removeAttribute(d,f,E){this.delegate.removeAttribute(d,f,E)}addClass(d,f){this.delegate.addClass(d,f)}removeClass(d,f){this.delegate.removeClass(d,f)}setStyle(d,f,E,M){this.delegate.setStyle(d,f,E,M)}removeStyle(d,f,E){this.delegate.removeStyle(d,f,E)}setProperty(d,f,E){"@"==f.charAt(0)&&f==Ks?this.disableAnimations(d,!!E):this.delegate.setProperty(d,f,E)}setValue(d,f){this.delegate.setValue(d,f)}listen(d,f,E,M){return this.delegate.listen(d,f,E,M)}disableAnimations(d,f){this.engine.disableAnimations(d,f)}}class ha extends Di{factory;constructor(d,f,E,M,V){super(f,E,M,V),this.factory=d,this.namespaceId=f}setProperty(d,f,E){"@"==f.charAt(0)?"."==f.charAt(1)&&f==Ks?this.disableAnimations(d,E=void 0===E||!!E):this.engine.process(this.namespaceId,d,f.slice(1),E):this.delegate.setProperty(d,f,E)}listen(d,f,E,M){if("@"==f.charAt(0)){const V=function Wr(m){switch(m){case"body":return document.body;case"document":return document;case"window":return window;default:return m}}(d);let ee=f.slice(1),we="";return"@"!=ee.charAt(0)&&([ee,we]=function Br(m){const d=m.indexOf(".");return[m.substring(0,d),m.slice(d+1)]}(ee)),this.engine.listen(this.namespaceId,V,ee,we,Ge=>{this.factory.scheduleListenerCallback(Ge._data||-1,E,Ge)})}return this.delegate.listen(d,f,E,M)}}class Aa{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(d,f,E){this.delegate=d,this.engine=f,this._zone=E,f.onRemovalComplete=(M,V)=>{V?.removeChild(null,M)}}createRenderer(d,f){const M=this.delegate.createRenderer(d,f);if(!d||!f?.data?.animation){const gt=this._rendererCache;let an=gt.get(M);return an||(an=new Di("",M,this.engine,()=>gt.delete(M)),gt.set(M,an)),an}const V=f.id,ee=f.id+"-"+this._currentId;this._currentId++,this.engine.register(ee,d);const we=gt=>{Array.isArray(gt)?gt.forEach(we):this.engine.registerTrigger(V,ee,d,gt.name,gt)};return f.data.animation.forEach(we),new ha(this,ee,M,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(d,f,E){if(d>=0&&d<this._microtaskId)return void this._zone.run(()=>f(E));const M=this._animationCallbacksBuffer;0==M.length&&queueMicrotask(()=>{this._zone.run(()=>{M.forEach(V=>{const[ee,we]=V;ee(we)}),this._animationCallbacksBuffer=[]})}),M.push([f,E])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(d){this.engine.flush(),this.delegate.componentReplaced?.(d)}}const Ya=[{provide:cn,useFactory:function Za(){return new Xr}},{provide:ms,useClass:(()=>{class m extends ms{constructor(f,E,M){super(f,E,M)}ngOnDestroy(){this.flush()}static \u0275fac=function(E){return new(E||m)(I.KVO(Q.q),I.KVO(Dt),I.KVO(cn))};static \u0275prov=I.jDH({token:m,factory:m.\u0275fac})}return m})()},{provide:I._9s,useFactory:function Ca(m,d,f){return new Aa(m,d,f)},deps:[It,ms,I.SKi]}],Va=[{provide:Dt,useFactory:()=>new hi},{provide:I.bc$,useFactory:()=>"BrowserAnimations"},...Ya];var fi=j(5072);let $o=(()=>{class m{title="todo-app";static \u0275fac=function(E){return new(E||m)};static \u0275cmp=I.VBU({type:m,selectors:[["app-root"]],decls:1,vars:0,template:function(E,M){1&E&&I.nrm(0,"router-outlet")},dependencies:[fi.n3],encapsulation:2})}return m})();var Ki=j(5207),Xo=j(467),Yo=j(2881);let oi=(()=>{class m{static \u0275fac=function(E){return new(E||m)};static \u0275cmp=I.VBU({type:m,selectors:[["app-components"]],decls:335,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title","fw-semibold","mb-4"],[1,"card-body","p-4"],["type","button",1,"btn","btn-full","--primary","m-1"],["type","button",1,"btn","btn-full","--secondary","m-1"],["type","button",1,"btn","btn-full","--success","m-1"],["type","button",1,"btn","btn-full","--danger","m-1"],["type","button",1,"btn","btn-full","--warning","m-1"],["type","button",1,"btn","btn-full","--info","m-1"],["type","button",1,"btn","btn-full","--light","m-1"],["type","button",1,"btn","btn-full","--dark","m-1"],["type","button",1,"btn","btn-full","--link","m-1"],[1,"card","mb-0"],["type","button",1,"btn","btn-border","--primary","m-1"],["type","button",1,"btn","btn-border","--secondary","m-1"],["type","button",1,"btn","btn-border","--success","m-1"],["type","button",1,"btn","btn-border","--danger","m-1"],["type","button",1,"btn","btn-border","--warning","m-1"],["type","button",1,"btn","btn-border","--info","m-1"],["type","button",1,"btn","btn-border","--light","m-1"],["type","button",1,"btn","btn-border","--dark","m-1"],["type","button",1,"btn","btn-border","--link","m-1"],["id","tables",1,"min-vh-100","d-flex","align-items-center","py-5"],[1,"display-5","fw-bold","font-raleway","mb-3"],[1,"col-sm-12","col-md-6","py-2","grid-margin","stretch-card"],[1,"card-title"],[1,"card-description"],[1,"table-responsive"],[1,"table"],[1,"badge","badge-type","badge-outline-danger"],[1,"badge","badge-type","badge-outline-success"],[1,"badge","badge-type","badge-outline-info"],[1,"badge","badge-type","badge-outline-warning"],[1,"table","table-hover"],[1,"text-danger"],[1,"ti-arrow-down"],[1,"text-success"],[1,"ti-arrow-up"],[1,"col-12","py-2","grid-margin","stretch-card"],[1,"table","table-light","table-hover"],[1,"py-1"],["src","https://randomuser.me/api/portraits/thumb/men/20.jpg","alt","image"],[1,"progress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","25%"],[1,"badge","badge-full-success"],["src","https://randomuser.me/api/portraits/thumb/men/7.jpg","alt","image"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","75%"],[1,"badge","badge-full-danger"],["src","https://randomuser.me/api/portraits/thumb/men/2.jpg","alt","image"],["role","progressbar","aria-valuenow","90","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning",2,"width","90%"],[1,"badge","badge-full-warning"],["src","https://randomuser.me/api/portraits/thumb/women/1.jpg","alt","image"],["role","progressbar","aria-valuenow","50","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","50%"],[1,"badge","badge-full-primary"],["src","https://randomuser.me/api/portraits/thumb/women/3.jpg","alt","image"],["role","progressbar","aria-valuenow","35","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","35%"],[1,"badge","badge-full-secondary"],["src","https://randomuser.me/api/portraits/thumb/women/6.jpg","alt","image"],["role","progressbar","aria-valuenow","65","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","65%"],[1,"badge","badge-full-info"],["src","https://randomuser.me/api/portraits/thumb/men/12.jpg","alt","image"],["role","progressbar","aria-valuenow","20","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning",2,"width","20%"]],template:function(E,M){1&E&&(I.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),I.EFF(6,"Buttons"),I.k0s(),I.j41(7,"div",3)(8,"div",6)(9,"button",7),I.EFF(10,"Primary"),I.k0s(),I.j41(11,"button",8),I.EFF(12,"Secondary"),I.k0s(),I.j41(13,"button",9),I.EFF(14,"Success"),I.k0s(),I.j41(15,"button",10),I.EFF(16,"Danger"),I.k0s(),I.j41(17,"button",11),I.EFF(18,"Warning"),I.k0s(),I.j41(19,"button",12),I.EFF(20,"Info"),I.k0s(),I.j41(21,"button",13),I.EFF(22,"Light"),I.k0s(),I.j41(23,"button",14),I.EFF(24,"Dark"),I.k0s(),I.j41(25,"button",15),I.EFF(26,"Link"),I.k0s()()(),I.j41(27,"h5",5),I.EFF(28,"Outline buttons"),I.k0s(),I.j41(29,"div",16)(30,"div",6)(31,"button",17),I.EFF(32,"Primary"),I.k0s(),I.j41(33,"button",18),I.EFF(34,"Secondary"),I.k0s(),I.j41(35,"button",19),I.EFF(36,"Success"),I.k0s(),I.j41(37,"button",20),I.EFF(38,"Danger"),I.k0s(),I.j41(39,"button",21),I.EFF(40,"Warning"),I.k0s(),I.j41(41,"button",22),I.EFF(42,"Info"),I.k0s(),I.j41(43,"button",23),I.EFF(44,"Light"),I.k0s(),I.j41(45,"button",24),I.EFF(46,"Dark"),I.k0s(),I.j41(47,"button",25),I.EFF(48,"Link"),I.k0s()()()()()()()(),I.j41(49,"section",26)(50,"div",0)(51,"div",1)(52,"div",2)(53,"h2",27),I.EFF(54,"Tables"),I.k0s()(),I.j41(55,"div",28)(56,"div",3)(57,"div",4)(58,"h4",29),I.EFF(59,"Basic Table"),I.k0s(),I.j41(60,"p",30),I.EFF(61," Add class "),I.j41(62,"code"),I.EFF(63,".table"),I.k0s()(),I.j41(64,"div",31)(65,"table",32)(66,"thead")(67,"tr")(68,"th"),I.EFF(69,"Profile"),I.k0s(),I.j41(70,"th"),I.EFF(71,"VatNo."),I.k0s(),I.j41(72,"th"),I.EFF(73,"Created"),I.k0s(),I.j41(74,"th"),I.EFF(75,"Status"),I.k0s()()(),I.j41(76,"tbody")(77,"tr")(78,"td"),I.EFF(79,"Jacob"),I.k0s(),I.j41(80,"td"),I.EFF(81,"53275531"),I.k0s(),I.j41(82,"td"),I.EFF(83,"12 May 2017"),I.k0s(),I.j41(84,"td")(85,"label",33),I.EFF(86,"Pending"),I.k0s()()(),I.j41(87,"tr")(88,"td"),I.EFF(89,"Messsy"),I.k0s(),I.j41(90,"td"),I.EFF(91,"53275532"),I.k0s(),I.j41(92,"td"),I.EFF(93,"15 May 2017"),I.k0s(),I.j41(94,"td")(95,"label",34),I.EFF(96,"In progress"),I.k0s()()(),I.j41(97,"tr")(98,"td"),I.EFF(99,"John"),I.k0s(),I.j41(100,"td"),I.EFF(101,"53275533"),I.k0s(),I.j41(102,"td"),I.EFF(103,"14 May 2017"),I.k0s(),I.j41(104,"td")(105,"label",35),I.EFF(106,"Fixed"),I.k0s()()(),I.j41(107,"tr")(108,"td"),I.EFF(109,"Peter"),I.k0s(),I.j41(110,"td"),I.EFF(111,"53275534"),I.k0s(),I.j41(112,"td"),I.EFF(113,"16 May 2017"),I.k0s(),I.j41(114,"td")(115,"label",34),I.EFF(116,"Completed"),I.k0s()()(),I.j41(117,"tr")(118,"td"),I.EFF(119,"Dave"),I.k0s(),I.j41(120,"td"),I.EFF(121,"53275535"),I.k0s(),I.j41(122,"td"),I.EFF(123,"20 May 2017"),I.k0s(),I.j41(124,"td")(125,"label",36),I.EFF(126,"In progress"),I.k0s()()()()()()()()(),I.j41(127,"div",28)(128,"div",3)(129,"div",4)(130,"h4",29),I.EFF(131,"Hoverable Table"),I.k0s(),I.j41(132,"p",30),I.EFF(133," Add class "),I.j41(134,"code"),I.EFF(135,".table-hover"),I.k0s()(),I.j41(136,"div",31)(137,"table",37)(138,"thead")(139,"tr")(140,"th"),I.EFF(141,"User"),I.k0s(),I.j41(142,"th"),I.EFF(143,"Product"),I.k0s(),I.j41(144,"th"),I.EFF(145,"Sale"),I.k0s(),I.j41(146,"th"),I.EFF(147,"Status"),I.k0s()()(),I.j41(148,"tbody")(149,"tr")(150,"td"),I.EFF(151,"Jacob"),I.k0s(),I.j41(152,"td"),I.EFF(153,"Photoshop"),I.k0s(),I.j41(154,"td",38),I.EFF(155," 28.76% "),I.nrm(156,"i",39),I.k0s(),I.j41(157,"td")(158,"label",33),I.EFF(159,"Pending"),I.k0s()()(),I.j41(160,"tr")(161,"td"),I.EFF(162,"Messsy"),I.k0s(),I.j41(163,"td"),I.EFF(164,"Flash"),I.k0s(),I.j41(165,"td",38),I.EFF(166," 21.06% "),I.nrm(167,"i",39),I.k0s(),I.j41(168,"td")(169,"label",36),I.EFF(170,"In progress"),I.k0s()()(),I.j41(171,"tr")(172,"td"),I.EFF(173,"John"),I.k0s(),I.j41(174,"td"),I.EFF(175,"Premier"),I.k0s(),I.j41(176,"td",38),I.EFF(177," 35.00% "),I.nrm(178,"i",39),I.k0s(),I.j41(179,"td")(180,"label",35),I.EFF(181,"Fixed"),I.k0s()()(),I.j41(182,"tr")(183,"td"),I.EFF(184,"Peter"),I.k0s(),I.j41(185,"td"),I.EFF(186,"After effects"),I.k0s(),I.j41(187,"td",40),I.EFF(188," 82.00% "),I.nrm(189,"i",41),I.k0s(),I.j41(190,"td")(191,"label",34),I.EFF(192,"Completed"),I.k0s()()(),I.j41(193,"tr")(194,"td"),I.EFF(195,"Dave"),I.k0s(),I.j41(196,"td"),I.EFF(197,"53275535"),I.k0s(),I.j41(198,"td",40),I.EFF(199," 98.05% "),I.nrm(200,"i",41),I.k0s(),I.j41(201,"td")(202,"label",36),I.EFF(203,"In progress"),I.k0s()()()()()()()()(),I.j41(204,"div",42)(205,"div",3)(206,"div",4)(207,"h4",29),I.EFF(208,"Striped Table"),I.k0s(),I.j41(209,"p",30),I.EFF(210," Add class "),I.j41(211,"code"),I.EFF(212,".table-striped"),I.k0s()(),I.j41(213,"div",31)(214,"table",43)(215,"thead")(216,"tr")(217,"th"),I.EFF(218," User "),I.k0s(),I.j41(219,"th"),I.EFF(220," First name "),I.k0s(),I.j41(221,"th"),I.EFF(222," Progress "),I.k0s(),I.j41(223,"th"),I.EFF(224," Amount "),I.k0s(),I.j41(225,"th"),I.EFF(226," Deadline "),I.k0s(),I.j41(227,"th"),I.EFF(228," Status "),I.k0s()()(),I.j41(229,"tbody")(230,"tr")(231,"td",44),I.nrm(232,"img",45),I.k0s(),I.j41(233,"td"),I.EFF(234," Herman Beck "),I.k0s(),I.j41(235,"td")(236,"div",46),I.nrm(237,"div",47),I.k0s()(),I.j41(238,"td"),I.EFF(239," $ 77.99 "),I.k0s(),I.j41(240,"td"),I.EFF(241," May 15, 2015 "),I.k0s(),I.j41(242,"td")(243,"label",48),I.EFF(244,"In progress"),I.k0s()()(),I.j41(245,"tr")(246,"td",44),I.nrm(247,"img",49),I.k0s(),I.j41(248,"td"),I.EFF(249," Messsy Adam "),I.k0s(),I.j41(250,"td")(251,"div",46),I.nrm(252,"div",50),I.k0s()(),I.j41(253,"td"),I.EFF(254," $245.30 "),I.k0s(),I.j41(255,"td"),I.EFF(256," July 1, 2015 "),I.k0s(),I.j41(257,"td")(258,"label",51),I.EFF(259,"In progress"),I.k0s()()(),I.j41(260,"tr")(261,"td",44),I.nrm(262,"img",52),I.k0s(),I.j41(263,"td"),I.EFF(264," John Richards "),I.k0s(),I.j41(265,"td")(266,"div",46),I.nrm(267,"div",53),I.k0s()(),I.j41(268,"td"),I.EFF(269," $138.00 "),I.k0s(),I.j41(270,"td"),I.EFF(271," Apr 12, 2015 "),I.k0s(),I.j41(272,"td")(273,"label",54),I.EFF(274,"In progress"),I.k0s()()(),I.j41(275,"tr")(276,"td",44),I.nrm(277,"img",55),I.k0s(),I.j41(278,"td"),I.EFF(279," Peter Meggik "),I.k0s(),I.j41(280,"td")(281,"div",46),I.nrm(282,"div",56),I.k0s()(),I.j41(283,"td"),I.EFF(284," $ 77.99 "),I.k0s(),I.j41(285,"td"),I.EFF(286," May 15, 2015 "),I.k0s(),I.j41(287,"td")(288,"label",57),I.EFF(289,"In progress"),I.k0s()()(),I.j41(290,"tr")(291,"td",44),I.nrm(292,"img",58),I.k0s(),I.j41(293,"td"),I.EFF(294," Edward "),I.k0s(),I.j41(295,"td")(296,"div",46),I.nrm(297,"div",59),I.k0s()(),I.j41(298,"td"),I.EFF(299," $ 160.25 "),I.k0s(),I.j41(300,"td"),I.EFF(301," May 03, 2015 "),I.k0s(),I.j41(302,"td")(303,"label",60),I.EFF(304,"In progress"),I.k0s()()(),I.j41(305,"tr")(306,"td",44),I.nrm(307,"img",61),I.k0s(),I.j41(308,"td"),I.EFF(309," John Doe "),I.k0s(),I.j41(310,"td")(311,"div",46),I.nrm(312,"div",62),I.k0s()(),I.j41(313,"td"),I.EFF(314," $ 123.21 "),I.k0s(),I.j41(315,"td"),I.EFF(316," April 05, 2015 "),I.k0s(),I.j41(317,"td")(318,"label",63),I.EFF(319,"In progress"),I.k0s()()(),I.j41(320,"tr")(321,"td",44),I.nrm(322,"img",64),I.k0s(),I.j41(323,"td"),I.EFF(324," Henry Tom "),I.k0s(),I.j41(325,"td")(326,"div",46),I.nrm(327,"div",65),I.k0s()(),I.j41(328,"td"),I.EFF(329," $ 150.00 "),I.k0s(),I.j41(330,"td"),I.EFF(331," June 16, 2015 "),I.k0s(),I.j41(332,"td")(333,"label",54),I.EFF(334,"In progress"),I.k0s()()()()()()()()()()()())},encapsulation:2})}return m})();var P=j(6335),k=j(9885),H=j(4796),Ae=j(6810),xt=j(9332),Sn=j(7759),cr=j(7473);const Hi=m=>["/dashboard/profile",m],qi=()=>["/dashboard/claims"],Do=m=>({"bg-dark bg-opacity-15":m}),Qs=(m,d,f,E)=>({"bi-bell-fill text-warning":m,"bi-exclamation-circle-fill text-danger":d,"bi-pencil-fill text-primary":f,"bi-check-circle-fill text-success":E}),Sa=(m,d,f,E,M)=>({"badge-full-warning":m,"badge-full-danger":d,"badge-full-primary":f,"badge-full-success":E,"badge-full-secondary":M}),us=()=>["/dashboard/admin-users"],Ao=m=>["/dashboard/notifications",m];function ys(m,d){if(1&m&&(I.j41(0,"span",48),I.EFF(1),I.k0s()),2&m){const f=I.XpG();I.R7$(),I.SpI(" ",f.unreadCount," ")}}function ls(m,d){if(1&m){const f=I.RV6();I.j41(0,"a",53),I.bIt("click",function(){const M=I.eBV(f).$implicit,V=I.XpG(2);return I.Njj(V.marcarComoLeida(M))}),I.j41(1,"div",54),I.nrm(2,"i",55),I.j41(3,"span",56),I.EFF(4),I.k0s()(),I.j41(5,"span",57),I.EFF(6),I.k0s()()}if(2&m){const f=d.$implicit;I.Y8G("ngClass",I.eq3(6,Do,f.read)),I.R7$(2),I.Y8G("ngClass",I.ziG(8,Qs,"asignado"===f.type,"urgente"===f.type,"editado"===f.type,"cerrado"===f.type)),I.R7$(),I.Y8G("innerHTML",f.message,I.npT),I.R7$(),I.JRh(f.message),I.R7$(),I.Y8G("ngClass",I.s1E(13,Sa,"asignado"===f.type,"urgente"===f.type,"editado"===f.type,"cerrado"===f.type,"admin-alert"===f.type)),I.R7$(),I.SpI(" ","asignado"===f.type?"Asignado":"urgente"===f.type?"Urgente":"editado"===f.type?"Editado":f.message.includes("cerrado")?"Cerrado":"Alerta edici\xf3n"," ")}}function fa(m,d){if(1&m){const f=I.RV6();I.qex(0),I.DNE(1,ls,7,19,"a",49),I.j41(2,"div",50)(3,"button",51),I.bIt("click",function(){I.eBV(f);const M=I.XpG();return I.Njj(M.marcarTodasComoLeidas())}),I.nrm(4,"i",52),I.EFF(5," Marcar todas como le\xeddas "),I.k0s()(),I.bVm()}if(2&m){const f=I.XpG();I.R7$(),I.Y8G("ngForOf",f.unreadNotifications)}}function Nn(m,d){1&m&&(I.j41(0,"div",58),I.nrm(1,"i",59),I.EFF(2," Sin notificaciones "),I.k0s())}function pa(m,d){1&m&&(I.j41(0,"li")(1,"a",26),I.EFF(2," Admin Usuarios "),I.k0s()()),2&m&&(I.R7$(),I.Y8G("routerLink",I.lJ4(1,us)))}function Ms(m,d){if(1&m&&(I.j41(0,"li")(1,"a",26),I.EFF(2," Mis notificaciones "),I.k0s()()),2&m){const f=I.XpG();I.R7$(),I.Y8G("routerLink",I.eq3(1,Ao,f.uid))}}let _s=(()=>{class m{route;auth;userService;authService;router;todoService;alertaService;mockService;notificationService;userData=null;isLoading=!0;imagePath="assets/images/isotipo-webmain.svg";imageDefault="https://maxuber79.github.io/gsaforce/assets/images/face28.jpg";apodoUser="perrito";user=null;uid=null;profilePhotoURL="";pendingCount=0;todos=[];metrics="";tickets;satisfaction;channels;channelLabels=["Web","App","WhatsApp","Call Center"];channelData=[40,25,20,15];channelsData=[];perfil=null;userRol="";notifications=[];pendingCountNotification=0;uidNotification="";showNotiDropdown=!1;currentUid="";unreadCount=0;constructor(f,E,M,V,ee,we,Ge,gt,an){this.route=f,this.auth=E,this.userService=M,this.authService=V,this.router=ee,this.todoService=we,this.alertaService=Ge,this.mockService=gt,this.notificationService=an,console.log("%c<<< Start DashboardComponent >>>","background: #0d6efd; color: #ffffff; padding: 2px 5px;")}ngOnInit(){console.log("\u{1f4e6} Iniciando carga de usuario en dashboard..."),this.authService.getCurrentUser().subscribe(f=>{f&&(this.uid=f.uid,console.log(`%c \u{1f4e6} Usuario autenticado: ${f.uid}:`,"background: #d1e7dd; color: #0f5132; padding: 2px 5px;",f),this.userService.getUserData(f.uid).subscribe(E=>{this.userData=E,this.perfil=E,this.userRol=E?.rol||"Usuario",console.log("Rol del usuario:",this.userRol)}),this.notificationService.getUserNotifications(f.uid).subscribe(E=>{this.notifications=E,this.unreadCount=E.filter(V=>!V.read).length,console.log("\u{1f4ec} Cantidad de no le\xeddas ----\x3e",this.unreadCount);const M=sessionStorage.getItem("toastShown");this.unreadCount>0&&!M&&(this.alertaService.showToastWarning(`Tienes ${this.unreadCount} notificaci\xf3n${1===this.unreadCount?"":"es"} nueva${1===this.unreadCount?"":"s"}`,"\u{1f514} Atenci\xf3n"),sessionStorage.setItem("toastShown","true")),E.forEach(V=>console.log(`\u{1f4c4} ${V.message} | Le\xedda: ${V.read}`))}))})}toggleNotiDropdown(){this.showNotiDropdown=!this.showNotiDropdown}listenToNotifications(){this.notificationService.getUserNotifications(this.uidNotification).subscribe(f=>{this.notifications=f,this.pendingCountNotification=f.filter(E=>!E.read).length,console.log("\u{1f514} Notificaciones para",this.uidNotification,":",this.notifications),console.log("\u{1f4ec} No le\xeddas:",this.pendingCountNotification)})}marcarComoLeida(f){console.log("\u{1f514} Marcando como le\xedda la notificaci\xf3n:",f),!f.read&&f.id&&this.uid&&this.notificationService.markAsRead(this.uid,f.id).then(()=>console.log(`\u{1f4ec} Notificaci\xf3n marcada como le\xedda: ${f.message}`)).catch(E=>console.error("\u274c Error al marcar como le\xedda:",E))}marcarTodasComoLeidas(){this.uid&&this.notificationService.markAllAsRead(this.uid).then(()=>console.log("\u{1f4ec} Todas las notificaciones marcadas como le\xeddas")).catch(f=>console.error("\u274c Error al marcar todas como le\xeddas:",f))}eliminarNotificacion(f){!f.id||!this.uid||!confirm("\xbfEst\xe1s seguro de eliminar esta notificaci\xf3n?")||this.notificationService.deleteNotification(this.uid,f.id).then(()=>console.log(`\u{1f5d1}\ufe0f Notificaci\xf3n eliminada: ${f.message}`)).catch(M=>console.error("\u274c Error al eliminar notificaci\xf3n:",M))}onLogout(){var f=this;return(0,Xo.A)(function*(){try{yield f.authService.logout(),f.router.navigate(["/"])}catch(E){console.error("\u274c Error al cerrar sesi\xf3n:",E)}})()}goToProfile(){this.userData?.uid?this.router.navigate(["/dashboard/profile",this.userData.uid]):console.error("\u274c No se encontr\xf3 UID para navegar al perfil")}get unreadNotificationsCount(){const f=this.notifications?.filter(E=>!E.read).length||0;return console.log("\u{1f534} Notificaciones no le\xeddas:",f),f}get unreadNotifications(){return this.notifications.filter(f=>!f.read).slice(0,5)}static \u0275fac=function(E){return new(E||m)(I.rXU(fi.nX),I.rXU(P.Nj),I.rXU(k.D),I.rXU(H.u),I.rXU(fi.Ix),I.rXU(Ae.y),I.rXU(xt.u),I.rXU(Sn.I),I.rXU(cr.J))};static \u0275cmp=I.VBU({type:m,selectors:[["app-dashboard"]],decls:81,vars:12,consts:[["noNotifications",""],[1,"d-flex","flex-column","min-vh-100","dashboard"],[1,"px-3","text-bg-dark"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["alt","","width","50",1,"",3,"src"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"navbar-nav","flex-row","d-none","d-md-flex"],[1,"nav-item","me-3","me-lg-1","active"],["href","#",1,"nav-link"],[1,"bi","bi-gear-fill"],[1,"nav-item","me-3","me-lg-1","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","position-relative"],[1,"bi","bi-bell-fill"],["class","position-absolute translate-middle badge rounded-pill bg-danger","style","top: 6px; right: -1px;",4,"ngIf"],[1,"dropdown-menu","dropdown-menu-end","p-0","shadow",2,"width","360px"],[1,"list-group","list-group-flush"],[4,"ngIf","ngIfElse"],[1,"dropdown","text-end"],["href","#","data-bs-toggle","dropdown","aria-expanded","false",1,"text-decoration-none","dropdown-toggle"],["alt","mdo","width","32","height","32",1,"border","border-light-subtle","border-2","object-fit-cover","rounded-circle",3,"src"],[1,"dropdown-menu","dropdown-menu-end","text-small"],[1,"dropdown-item",3,"routerLink"],[4,"ngIf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"flex-grow-1","container","py-4"],[1,"container"],["data-bs-theme","dark",1,"py-4","bg-dark"],[1,"d-lg-flex","justify-content-between","py-3","py-lg-2"],[1,"small","mb-2","mb-lg-0"],[1,"text-muted","mb-0","me-5"],[1,"d-flex","small","align-items-end","justify-content-between"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3","mb-2","mb-lg-0"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3"],[1,"d-none","d-lg-block","ms-3"],["href","",1,"me-2"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-pinterest","text-primary"],["d","M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-twitter","text-primary"],["d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-facebook","text-primary"],["d","M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"],[1,"d-lg-none"],[1,"position-absolute","translate-middle","badge","rounded-pill","bg-danger",2,"top","6px","right","-1px"],["href","#","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center","style","min-height: 65px;",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"text-center","p-3","border-top"],[1,"btn","btn-full","--success","m-1","w-100",3,"click"],[1,"bi","bi-check-circle-fill"],["href","#",1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"min-height","65px",3,"click","ngClass"],[1,"d-flex","align-items-center"],[1,"bi","me-3",3,"ngClass"],[1,"notification-message","text-wrap","lh-sm",3,"innerHTML"],[1,"badge","ms-3",3,"ngClass"],[1,"list-group-item","text-center","text-warning-emphasis","p-3"],[1,"bi","bi-bell-slash"]],template:function(E,M){if(1&E){const V=I.RV6();I.j41(0,"div",1)(1,"header",2)(2,"nav",3)(3,"div",4)(4,"a",5),I.nrm(5,"img",6),I.k0s(),I.j41(6,"button",7),I.nrm(7,"span",8),I.k0s(),I.j41(8,"div",9),I.nrm(9,"ul",10),I.j41(10,"ul",11)(11,"li",12)(12,"a",13)(13,"span"),I.nrm(14,"i",14),I.k0s()()(),I.j41(15,"li",15)(16,"a",16),I.nrm(17,"i",17),I.DNE(18,ys,2,1,"span",18),I.k0s(),I.j41(19,"div",19)(20,"div",20),I.DNE(21,fa,6,1,"ng-container",21)(22,Nn,3,0,"ng-template",null,0,I.C5r),I.k0s()()()(),I.j41(24,"div",22)(25,"a",23),I.nrm(26,"img",24),I.k0s(),I.j41(27,"ul",25)(28,"li")(29,"a",26),I.EFF(30,"Mi perfil"),I.k0s()(),I.j41(31,"li")(32,"a",26),I.EFF(33,"Mis Reclamos"),I.k0s()(),I.DNE(34,pa,3,2,"li",27)(35,Ms,3,3,"li",27),I.j41(36,"li"),I.nrm(37,"hr",28),I.k0s(),I.j41(38,"li")(39,"a",29),I.bIt("click",function(){return I.eBV(V),I.Njj(M.onLogout())}),I.EFF(40,"Sign out"),I.k0s()()()()()()()(),I.j41(41,"main",30)(42,"section",31),I.nrm(43,"router-outlet"),I.k0s(),I.nrm(44,"app-components"),I.k0s(),I.j41(45,"footer",32)(46,"div",31)(47,"div",33)(48,"div",34)(49,"p",35),I.EFF(50,"\xa9 2023 FreeFrontend.dev. All rights reserved."),I.k0s()(),I.j41(51,"div",36)(52,"div")(53,"a",37),I.EFF(54,"Privacy Policy"),I.k0s(),I.j41(55,"a",37),I.EFF(56,"Terms"),I.k0s(),I.j41(57,"a",37),I.EFF(58,"Cookies"),I.k0s(),I.j41(59,"a",38),I.EFF(60,"Sitemap"),I.k0s()(),I.j41(61,"div",39)(62,"a",40),I.qSk(),I.j41(63,"svg",41),I.nrm(64,"path",42),I.k0s()(),I.joV(),I.j41(65,"a",40),I.qSk(),I.j41(66,"svg",43),I.nrm(67,"path",44),I.k0s()(),I.joV(),I.j41(68,"a",40),I.qSk(),I.j41(69,"svg",45),I.nrm(70,"path",46),I.k0s()()(),I.joV(),I.j41(71,"div",47)(72,"a",40),I.qSk(),I.j41(73,"svg",41),I.nrm(74,"path",42),I.k0s()(),I.joV(),I.j41(75,"a",40),I.qSk(),I.j41(76,"svg",43),I.nrm(77,"path",44),I.k0s()(),I.joV(),I.j41(78,"a",40),I.qSk(),I.j41(79,"svg",45),I.nrm(80,"path",46),I.k0s()()()()()()()()}if(2&E){const V=I.sdS(23);I.R7$(5),I.Y8G("src",M.imagePath,I.B4B),I.R7$(13),I.Y8G("ngIf",M.unreadCount>0),I.R7$(3),I.Y8G("ngIf",M.unreadNotifications.length>0)("ngIfElse",V),I.R7$(5),I.Y8G("src",(null==M.userData?null:M.userData.photoURL)||M.imageDefault,I.B4B),I.R7$(3),I.Y8G("routerLink",I.eq3(9,Hi,M.uid)),I.R7$(3),I.Y8G("routerLink",I.lJ4(11,qi)),I.R7$(2),I.Y8G("ngIf","Administrador"===M.userRol),I.R7$(),I.Y8G("ngIf","Ejecutivo"===M.userRol)}},dependencies:[Yo.MD,Yo.YU,Yo.Sq,Yo.bT,Ki.iI,fi.n3,Ki.Wk,oi],styles:["[data-card=border][_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid var(--bs-border-color);box-shadow:none}.card[_ngcontent-%COMP%]{margin-bottom:var(--bs-gutter-x)}.card-title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px;color:var(--bs-card-title-color)}.card-subtitle[_ngcontent-%COMP%]{font-size:14px;line-height:24px;color:var(--bs-card-subtitle-color)}.card-hover[_ngcontent-%COMP%]{transition:.2s ease-in}.card-hover[_ngcontent-%COMP%]:hover{transform:translate3d(0,-5px,0)}.cardwithborder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid var(--bs-border-color)}.card-fullscreen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;overflow:auto}.draggable-cards[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{cursor:move}.card-moved[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:var(--bs-info);color:var(--bs-white)}.notification-message[_ngcontent-%COMP%]{max-width:220px;white-space:normal;word-wrap:break-word;overflow-wrap:break-word;font-size:.9rem;line-height:1.2}"]})}return m})();function Ra(m,d){1&m&&(I.j41(0,"div",5)(1,"div",6)(2,"span",7),I.EFF(3,"Cargando..."),I.k0s()(),I.j41(4,"p",8),I.EFF(5,"Procesando..."),I.k0s()())}let Ua=(()=>{class m{router;userName="Nuevo Usuario";isLoading=!1;constructor(f){this.router=f}goToDashboard(){setTimeout(()=>{this.isLoading=!1,this.router.navigate(["/dashboard"])},2e3)}static \u0275fac=function(E){return new(E||m)(I.rXU(fi.Ix))};static \u0275cmp=I.VBU({type:m,selectors:[["app-welcome"]],decls:8,vars:2,consts:[[1,"welcome-container"],[1,"welcome-title"],[1,"welcome-subtitle"],["class","text-center my-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"text-center","my-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"]],template:function(E,M){1&E&&(I.j41(0,"section",0)(1,"h1",1),I.EFF(2),I.k0s(),I.j41(3,"p",2),I.EFF(4," Gracias por registrarte en nuestra aplicaci\xf3n To-Do. Desde aqu\xed puedes acceder a tu panel de control. "),I.k0s(),I.DNE(5,Ra,6,0,"div",3),I.j41(6,"button",4),I.bIt("click",function(){return M.goToDashboard()}),I.EFF(7,"Ir al Dashboard"),I.k0s()()),2&E&&(I.R7$(2),I.SpI("\xa1Bienvenido, ",M.userName,"! \u{1f44b}"),I.R7$(3),I.Y8G("ngIf",M.isLoading))},dependencies:[Yo.MD,Yo.bT],styles:[".welcome-container[_ngcontent-%COMP%]{text-align:center;padding:2rem}.welcome-container[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.welcome-container[_ngcontent-%COMP%]   .welcome-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:#555}.welcome-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1.5rem}"]})}return m})();var zi=j(520),Qi=j(1985);const Ai=(m,d)=>{const f=(0,I.WQX)(P.Nj),E=(0,I.WQX)(fi.Ix);return new Qi.c(M=>{const V=(0,zi.hg)(f,ee=>{ee?M.next(!0):(E.navigate(["/"]),M.next(!1)),M.complete(),V()})})},Ja=(m,d)=>{const f=(0,I.WQX)(P.Nj),E=(0,I.WQX)(fi.Ix);return new Qi.c(M=>{const V=(0,zi.hg)(f,ee=>{ee?(E.navigate(["/dashboard"]),M.next(!1)):M.next(!0),M.complete(),V()})})},to=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>Promise.all([j.e(341),j.e(195)]).then(j.bind(j,7195)).then(m=>m.LoginComponent),canActivate:[Ja]},{path:"register",loadComponent:()=>Promise.all([j.e(341),j.e(739)]).then(j.bind(j,2739)).then(m=>m.RegisterComponent),canActivate:[Ja]},{path:"forgot",loadComponent:()=>Promise.all([j.e(341),j.e(439)]).then(j.bind(j,6439)).then(m=>m.ForgotPasswordComponent),canActivate:[Ja]},{path:"dashboard",component:_s,canActivate:[Ai],loadChildren:()=>Promise.all([j.e(341),j.e(69)]).then(j.bind(j,9069)).then(m=>m.routes)},{path:"welcome",component:Ua,canActivate:[Ai]},{path:"**",loadComponent:()=>j.e(887).then(j.bind(j,8887)).then(m=>m.NotFoundComponent)}];var vc=j(7643);const Jo_firebaseConfig={apiKey:"AIzaSyCbOayfHpIwogvguhehOdr1JZO5IW1ELwA",authDomain:"to-do-app-2a154.firebaseapp.com",projectId:"to-do-app-2a154",storageBucket:"to-do-app-2a154.firebasestorage.app",messagingSenderId:"772395492262",appId:"1:772395492262:web:902eddb2ce4a22857da567"};var Vs=j(7440),A=j(9967),N=j(2107),S=j(5794);(function on(m,d){return(0,I.TL3)({rootComponent:m,...nr(d)})})($o,{providers:[(0,Ki.lh)(to),(0,vc.$R)(),function qr(){return(0,I.ngT)("NgEagerAnimations"),[...Va]}(),(0,Vs.MW)(()=>(0,Vs.Wp)(Jo_firebaseConfig)),(0,P._q)(()=>(0,P.xI)()),(0,A.hV)(()=>(0,A.aU)()),(0,N.Xm)(()=>(0,N.c7)()),(0,S.DP)({positionClass:"toast-bottom-right",timeOut:3e3,closeButton:!0,progressBar:!0})]}).catch(m=>console.error(m))},8455:(In,$e,j)=>{"use strict";j.d($e,{H:()=>Ne});var T=j(8750),O=j(941),Q=j(6745),Xe=j(1985),fe=j(4761),Oe=j(8071),me=j(5225);function et(rt,Ze){if(!rt)throw new Error("Iterable cannot be null");return new Xe.c(wt=>{(0,me.N)(wt,Ze,()=>{const Gt=rt[Symbol.asyncIterator]();(0,me.N)(wt,Ze,()=>{Gt.next().then(It=>{It.done?wt.complete():wt.next(It.value)})},0,!0)})})}var He=j(5055),ot=j(9858),At=j(7441),jt=j(5397),Vt=j(7953),Zt=j(591),mt=j(5196);function Ne(rt,Ze){return Ze?function St(rt,Ze){if(null!=rt){if((0,He.l)(rt))return function I(rt,Ze){return(0,T.Tg)(rt).pipe((0,Q._)(Ze),(0,O.Q)(Ze))}(rt,Ze);if((0,At.X)(rt))return function Ie(rt,Ze){return new Xe.c(wt=>{let Gt=0;return Ze.schedule(function(){Gt===rt.length?wt.complete():(wt.next(rt[Gt++]),wt.closed||this.schedule())})})}(rt,Ze);if((0,ot.y)(rt))return function Se(rt,Ze){return(0,T.Tg)(rt).pipe((0,Q._)(Ze),(0,O.Q)(Ze))}(rt,Ze);if((0,Vt.T)(rt))return et(rt,Ze);if((0,jt.x)(rt))return function he(rt,Ze){return new Xe.c(wt=>{let Gt;return(0,me.N)(wt,Ze,()=>{Gt=rt[fe.l](),(0,me.N)(wt,Ze,()=>{let It,ct;try{({value:It,done:ct}=Gt.next())}catch(Un){return void wt.error(Un)}ct?wt.complete():wt.next(It)},0,!0)}),()=>(0,Oe.T)(Gt?.return)&&Gt.return()})}(rt,Ze);if((0,mt.U)(rt))return function Et(rt,Ze){return et((0,mt.C)(rt),Ze)}(rt,Ze)}throw(0,Zt.L)(rt)}(rt,Ze):(0,T.Tg)(rt)}},8496:(In,$e,j)=>{"use strict";function T(O,Q){return O.reduce((I,Se,Xe)=>(I[Se]=Q[Xe],I),{})}j.d($e,{e:()=>T})},8750:(In,$e,j)=>{"use strict";j.d($e,{Tg:()=>He});var T=j(1635),O=j(7441),Q=j(9858),I=j(1985),Se=j(5055),Xe=j(7953),Ie=j(591),fe=j(5397),Oe=j(5196),me=j(8071),he=j(5334),et=j(3494);function He(St){if(St instanceof I.c)return St;if(null!=St){if((0,Se.l)(St))return function ot(St){return new I.c(Ne=>{const rt=St[et.s]();if((0,me.T)(rt.subscribe))return rt.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(St);if((0,O.X)(St))return function At(St){return new I.c(Ne=>{for(let rt=0;rt<St.length&&!Ne.closed;rt++)Ne.next(St[rt]);Ne.complete()})}(St);if((0,Q.y)(St))return function jt(St){return new I.c(Ne=>{St.then(rt=>{Ne.closed||(Ne.next(rt),Ne.complete())},rt=>Ne.error(rt)).then(null,he.m)})}(St);if((0,Xe.T)(St))return Zt(St);if((0,fe.x)(St))return function Vt(St){return new I.c(Ne=>{for(const rt of St)if(Ne.next(rt),Ne.closed)return;Ne.complete()})}(St);if((0,Oe.U)(St))return function mt(St){return Zt((0,Oe.C)(St))}(St)}throw(0,Ie.L)(St)}function Zt(St){return new I.c(Ne=>{(function Et(St,Ne){var rt,Ze,wt,Gt;return(0,T.sH)(this,void 0,void 0,function*(){try{for(rt=(0,T.xN)(St);!(Ze=yield rt.next()).done;)if(Ne.next(Ze.value),Ne.closed)return}catch(It){wt={error:It}}finally{try{Ze&&!Ze.done&&(Gt=rt.return)&&(yield Gt.call(rt))}finally{if(wt)throw wt.error}}Ne.complete()})})(St,Ne).catch(rt=>Ne.error(rt))})}},9270:(In,$e,j)=>{"use strict";j.d($e,{f:()=>T});const T={setTimeout(O,Q,...I){const{delegate:Se}=T;return Se?.setTimeout?Se.setTimeout(O,Q,...I):setTimeout(O,Q,...I)},clearTimeout(O){const{delegate:Q}=T;return(Q?.clearTimeout||clearTimeout)(O)},delegate:void 0}},9326:(In,$e,j)=>{"use strict";j.d($e,{lI:()=>Se,ms:()=>I});var T=j(8071),O=j(9470);function Q(Ie){return Ie[Ie.length-1]}function I(Ie){return(0,T.T)(Q(Ie))?Ie.pop():void 0}function Se(Ie){return(0,O.m)(Q(Ie))?Ie.pop():void 0}},9332:(In,$e,j)=>{"use strict";j.d($e,{u:()=>Se});var T=j(8032),O=j.n(T),Q=j(1360),I=j(5794);let Se=(()=>{class Xe{toastr;showToastDanger(fe,Oe){throw new Error("Method not implemented.")}constructor(fe){this.toastr=fe}success(fe,Oe="\xc9xito"){O().fire({icon:"success",title:Oe,text:fe,timer:2e3,showConfirmButton:!1})}error(fe,Oe="Error"){O().fire({icon:"error",title:Oe,text:fe})}warning(fe,Oe="Atenci\xf3n"){O().fire({icon:"warning",title:Oe,text:fe})}info(fe,Oe="Informaci\xf3n"){O().fire({icon:"info",title:Oe,text:fe})}confirm(fe,Oe="\xbfEst\xe1s seguro?"){return O().fire({icon:"question",title:Oe,text:fe,showCancelButton:!0,confirmButtonText:"S\xed",cancelButtonText:"No"})}showToastSuccess(fe,Oe="\xc9xito"){this.toastr.success(fe,Oe)}showToastError(fe,Oe="Error"){this.toastr.error(fe,Oe)}showToastInfo(fe,Oe="Info"){this.toastr.info(fe,Oe)}showToastWarning(fe,Oe="Atenci\xf3n"){this.toastr.warning(fe,Oe)}static \u0275fac=function(Oe){return new(Oe||Xe)(Q.KVO(I.tw))};static \u0275prov=Q.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})()},9350:(In,$e,j)=>{"use strict";j.d($e,{G:()=>O});const O=(0,j(1853).L)(Q=>function(){Q(this),this.name="EmptyError",this.message="no elements in sequence"})},9361:(In,$e,j)=>{"use strict";j.d($e,{q:()=>O});const O=new(j(1360).nKC)("")},9377:(In,$e,j)=>{"use strict";function T(Ie,fe){fe=encodeURIComponent(fe);for(const Oe of Ie.split(";")){const me=Oe.indexOf("="),[he,et]=-1==me?[Oe,""]:[Oe.slice(0,me),Oe.slice(me+1)];if(he.trim()===fe)return decodeURIComponent(et)}return null}j.d($e,{N0:()=>Xe,Vy:()=>Se,Zn:()=>O,bS:()=>T});const O="browser",Q="server";function Se(Ie){return Ie===Q}class Xe{}},9437:(In,$e,j)=>{"use strict";j.d($e,{W:()=>I});var T=j(8750),O=j(4360),Q=j(9974);function I(Se){return(0,Q.N)((Xe,Ie)=>{let me,fe=null,Oe=!1;fe=Xe.subscribe((0,O._)(Ie,void 0,void 0,he=>{me=(0,T.Tg)(Se(he,I(Se)(Xe))),fe?(fe.unsubscribe(),fe=null,me.subscribe(Ie)):Oe=!0})),Oe&&(fe.unsubscribe(),fe=null,me.subscribe(Ie))})}},9470:(In,$e,j)=>{"use strict";j.d($e,{m:()=>O});var T=j(8071);function O(Q){return Q&&(0,T.T)(Q.schedule)}},9786:(In,$e,j)=>{"use strict";j.d($e,{Y:()=>Q,l:()=>I});var T=j(1026);let O=null;function Q(Se){if(T.$.useDeprecatedSynchronousErrorHandling){const Xe=!O;if(Xe&&(O={errorThrown:!1,error:null}),Se(),Xe){const{errorThrown:Ie,error:fe}=O;if(O=null,Ie)throw fe}}else Se()}function I(Se){T.$.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=Se)}},9858:(In,$e,j)=>{"use strict";j.d($e,{y:()=>O});var T=j(8071);function O(Q){return(0,T.T)(Q?.then)}},9885:(In,$e,j)=>{"use strict";j.d($e,{D:()=>me});var T=j(9967),O=j(7673),Q=j(8455),I=j(6354),Se=j(9437),Xe=j(5558),Ie=j(1360),fe=j(7643),Oe=j(4796);let me=(()=>{class he{http;authService;firestore;usersCollectionName="users";constructor(He,ot,At){this.http=He,this.authService=ot,this.firestore=At,console.log("%c<<< Start USER service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getUserProfile(He){if(!He)return console.warn("\u26a0\ufe0f getUserProfile: UID no proporcionado."),(0,O.of)(void 0);const ot=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${He}`);return console.log("\u{1f4c4} Obteniendo perfil para UID:",He),(0,T.Bg)(ot).pipe((0,I.T)(At=>{if(At)return console.log("\u2705 Perfil obtenido:",At),{...At,uid:He};console.warn("\u26a0\ufe0f No se encontr\xf3 perfil para UID:",He)}),(0,Se.W)(At=>(console.error("\u274c Error al obtener el perfil del usuario:",At),(0,O.of)(void 0))))}createUserProfile(He){if(!He.uid)return(0,Q.H)(Promise.reject("\u274c createUserProfile: UID del usuario es requerido."));const ot=new Date,At={...He,created_at:ot,createdDate:ot},jt=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${He.uid}`);return console.log("\u{1f4dd} Creando perfil para usuario:",At),(0,Q.H)((0,T.BN)(jt,At))}updateUserProfile(He,ot){if(!He)return(0,Q.H)(Promise.reject("\u274c updateUserProfile: UID no proporcionado."));const At=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${He}`);return console.log("\u{1f504} Actualizando perfil UID:",He,"con datos:",ot),(0,Q.H)((0,T.mZ)(At,ot))}deleteUserProfile(He){if(!He)return(0,Q.H)(Promise.reject("\u274c deleteUserProfile: UID no proporcionado."));const ot=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${He}`);return console.log("\u{1f5d1} Eliminando perfil UID:",He),(0,Q.H)((0,T.kd)(ot))}getUserData(He){return this.authService.getAuthState().pipe((0,Xe.n)(ot=>{if(console.log("\u{1f4e1} authService.getAuthState() emiti\xf3:",ot),ot&&ot.uid){const At=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${ot.uid}`);return(0,T.Bg)(At).pipe((0,I.T)(jt=>({...jt,uid:ot.uid})))}return console.warn("\u26a0\ufe0f Usuario no autenticado o sesi\xf3n expirada"),(0,O.of)(null)}))}getAllUsers(){const He=(0,T.rJ)(this.firestore,"users");return(0,T.xs)(He,{idField:"uid"})}toggleUserStatus(He,ot){const At=(0,T.H9)(this.firestore,`users/${He}`);return(0,T.mZ)(At,{activo:ot})}updateUserRole(He,ot){const At=(0,T.H9)(this.firestore,`users/${He}`);return(0,T.mZ)(At,{rol:ot})}getCurrentUserUid(){return this.authService.getAuthState().pipe((0,I.T)(He=>He?.uid||null))}getCurrentUserRole(){return this.authService.getAuthState().pipe((0,Xe.n)(He=>{if(He&&He.uid){const ot=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${He.uid}`);return(0,T.Bg)(ot).pipe((0,I.T)(At=>At.rol||null))}return console.warn("\u26a0\ufe0f No hay usuario autenticado"),(0,O.of)(null)}),(0,Se.W)(He=>(console.error("\u274c Error al obtener el rol:",He),(0,O.of)(null))))}getExecutives(){const He=(0,T.P)((0,T.rJ)(this.firestore,this.usersCollectionName),(0,T._M)("rol","==","Ejecutivo"));return(0,T.xs)(He,{idField:"uid"})}static \u0275fac=function(ot){return new(ot||he)(Ie.KVO(fe.Qq),Ie.KVO(Oe.u),Ie.KVO(T._7))};static \u0275prov=Ie.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})()},9967:(In,$e,j)=>{"use strict";j.d($e,{_7:()=>ht,gS:()=>tr,rJ:()=>fn,xs:()=>nr,kd:()=>kr,H9:()=>qt,Bg:()=>Xn,x7:()=>mi,aU:()=>Zi,My:()=>xi,hV:()=>re,P:()=>De,BN:()=>Je,mZ:()=>bt,_M:()=>Fe});var T=j(2967),O=j(1360),Q=j(7440),I=j(4125),Se=j(6335),Xe=j(2214),Ie=j(3273),fe=j(1985),Oe=j(6354),me=function(){return me=Object.assign||function(pt){for(var kt,nn=1,Bn=arguments.length;nn<Bn;nn++)for(var un in kt=arguments[nn])Object.prototype.hasOwnProperty.call(kt,un)&&(pt[un]=kt[un]);return pt},me.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var et={includeMetadataChanges:!1};function He(vt,pt){return void 0===pt&&(pt=et),new fe.c(function(kt){return{unsubscribe:(0,Ie.aQ)(vt,pt,{next:kt.next.bind(kt),error:kt.error.bind(kt),complete:kt.complete.bind(kt)})}})}function At(vt,pt){return void 0===pt&&(pt={}),function ot(vt){return He(vt,{includeMetadataChanges:!0})}(vt).pipe((0,Oe.T)(function(kt){return jt(kt,pt)}))}function jt(vt,pt){var kt;void 0===pt&&(pt={});var nn=vt.data(pt);return vt.exists()&&"object"==typeof nn&&null!==nn&&pt.idField?me(me({},nn),((kt={})[pt.idField]=vt.id,kt)):nn}function Un(vt,pt){return void 0===pt&&(pt={}),function Gt(vt){return He(vt,{includeMetadataChanges:!0}).pipe((0,Oe.T)(function(pt){return pt.docs}))}(vt).pipe((0,Oe.T)(function(kt){return kt.map(function(nn){return jt(nn,pt)})}))}class ht{constructor(pt){return pt}}const wn="firestore",Mt=new O.nKC("angularfire2.firestore-instances");function Y(vt){return(pt,kt)=>{const nn=pt.runOutsideAngular(()=>vt(kt));return new ht(nn)}}const le={provide:class Ye{constructor(){return(0,T.CA)(wn)}},deps:[[new O.Xx1,Mt]]},de={provide:ht,useFactory:function Ke(vt,pt){const kt=(0,T.lR)(wn,vt,pt);return kt&&new ht(kt)},deps:[[new O.Xx1,Mt],Q.XU]};function re(vt,...pt){return(0,Xe.KO)("angularfire",T.xv.full,"fst"),(0,O.EmA)([de,le,{provide:Mt,useFactory:Y(vt),multi:!0,deps:[O.SKi,O.zZn,T.u0,Q.gL,[new O.Xx1,Se.DF],[new O.Xx1,I.kR],...pt]}])}const nr=(0,T.S3)(Un,!0),Xn=(0,T.S3)(At,!0),tr=(0,T.S3)(Ie.gS,!0,2),fn=(0,T.S3)(Ie.rJ,!0,2),kr=(0,T.S3)(Ie.kd,!0,2),qt=(0,T.S3)(Ie.H9,!0,2),mi=(0,T.S3)(Ie.x7,!0),Zi=(0,T.S3)(Ie.aU,!0),xi=(0,T.S3)(Ie.My,!0,2),De=(0,T.S3)(Ie.P,!0,2),Je=(0,T.S3)(Ie.BN,!0,2),bt=(0,T.S3)(Ie.mZ,!0,2),Fe=(0,T.S3)(Ie._M,!0,2)},9974:(In,$e,j)=>{"use strict";j.d($e,{N:()=>Q,S:()=>O});var T=j(8071);function O(I){return(0,T.T)(I?.lift)}function Q(I){return Se=>{if(O(Se))return Se.lift(function(Xe){try{return I(Xe,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}}},In=>{In(In.s=8399)}]);