import{b as j,h as B,l as J}from"./chunk-EGL3HYDS.js";import{E as R,I as D,P as N,Q as p,R as k,S as q,V as A,X as L,Y as U,ba as z,da as G}from"./chunk-4HP7YMJX.js";import{Da as _,Ea as b,Ga as t,Ha as c,Ia as o,Qa as u,Ta as I,Ua as P,ca as S,da as r,eb as F,g as y,gb as M,ha as C,ia as E,ib as O,jb as T,ma as m,qa as l,rb as V,ta as x,wa as i,xa as n,ya as g}from"./chunk-Q4CT3PY3.js";var f=(a,s)=>({"is-invalid":a,"is-valid":s});function H(a,s){a&1&&(i(0,"div"),t(1,"El nombre completo es obligatorio!"),n())}function K(a,s){if(a&1&&(i(0,"div",44),m(1,H,2,0,"div",45),n()),a&2){let d=b();r(),l("ngIf",d.getControl.name.errors.required)}}function Q(a,s){a&1&&(i(0,"div"),t(1,"El nombre completo es obligatorio!"),n())}function X(a,s){if(a&1&&(i(0,"div",44),m(1,Q,2,0,"div",45),n()),a&2){let d=b();r(),l("ngIf",d.getControl.last_name.errors.required)}}function Z(a,s){a&1&&(i(0,"div"),t(1,"El nombre completo es obligatorio!"),n())}function $(a,s){if(a&1&&(i(0,"div",44),m(1,Z,2,0,"div",45),n()),a&2){let d=b();r(),l("ngIf",d.getControl.user_name.errors.required)}}function ee(a,s){a&1&&(i(0,"div"),t(1,"Ingresa un correo v\xE1lido."),n())}function te(a,s){if(a&1&&(i(0,"div",44),m(1,ee,2,0,"div",45),n()),a&2){let d=b();r(),l("ngIf",d.getControl.email.errors.required)}}function ie(a,s){a&1&&(i(0,"div"),t(1," La contrase\xF1a es obligatoria. "),n())}function ne(a,s){a&1&&(i(0,"div"),t(1," Debe tener al menos 6 caracteres. "),n())}function re(a,s){if(a&1&&(i(0,"div",44),m(1,ie,2,0,"div",45)(2,ne,2,0,"div",45),n()),a&2){let d=b();r(),l("ngIf",d.getControl.password.errors.required),r(),l("ngIf",d.getControl.password.errors.minlength)}}function oe(a,s){a&1&&(i(0,"div",44),t(1," Debes repetir la contrase\xF1a. "),n())}function ae(a,s){a&1&&(i(0,"div",44),t(1," Las contrase\xF1as no coinciden. "),n())}function le(a,s){a&1&&(i(0,"div",46)(1,"div",47)(2,"span",48),t(3,"Cargando..."),n()(),i(4,"p",49),t(5,"Procesando..."),n()())}var W=class a{constructor(s,d,e,v){this.fb=s;this.auth=d;this.firestore=e;this.router=v;console.log("%c<<< start constructor >>>","background: #0d6efd; color: #ffffff; padding: 2px 5px;"),this.registerForm=this.fb.group({name:["",p.required],last_name:["",p.required],user_name:["",p.required],email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]],confirmPassword:["",p.required]},{validators:[this.passwordMatchValidator]}),console.log("%c<<< end component >>>","background: #198754; color: #ffffff; padding: 2px 5px;")}imagePath="assets/images/webmain.svg";myTitle="My first To-Do";mySubTitle="in Angular 19.2.12";textContent="Lorem ipsum dolor sit amet consectetur adipisicing elit Eveniet, itaque accusantium odio, soluta, corrupti aliquam quibusdam tempora at cupiditate quis eum maiores liber veritatis? Dicta facilis sint aliquid ipsum atque?";isLoading=!1;passwordVisible=!1;confirmPasswordVisible=!1;registerForm;passwordMatchValidator(s){let d=s.get("password")?.value,e=s.get("confirmPassword")?.value;return d===e?null:{passwordMismatch:!0}}togglePasswordVisibility(){this.passwordVisible=!this.passwordVisible}toggleConfirmPasswordVisibility(){this.confirmPasswordVisible=!this.confirmPasswordVisible}get getControl(){return this.registerForm.controls}onSubmit(){return y(this,null,function*(){if(console.log("%c<<< click button resgister >>>","background: #6610f2; color: #ffffff; padding: 2px 5px;",this.registerForm.value),this.isLoading=!0,this.registerForm.invalid)return;let{name:s,last_name:d,user_name:e,email:v,password:Y}=this.registerForm.value;try{let w=(yield D(this.auth,v,Y)).user.uid;yield J(B(this.firestore,"users",w),{name:s,last_name:d,user_name:e,email:v,created_at:new Date}),console.log("\u2705 Usuario registrado correctamente:",w),alert(JSON.stringify(this.registerForm.value,null,2)),this.router.navigate(["/welcome"]),this.isLoading=!1}catch(h){console.error("\u274C Error al registrar el usuario:",h),h.code==="auth/email-already-in-use"?alert("Este correo ya est\xE1 registrado. Intenta con otro."):alert("Ocurri\xF3 un error al registrar el usuario. Intenta nuevamente.")}})}static \u0275fac=function(d){return new(d||a)(C(z),C(R),C(j),C(V))};static \u0275cmp=E({type:a,selectors:[["app-register"]],decls:216,vars:89,consts:[[1,"border-1",2,"background-color","limegreen","width","100%"],[1,"w-100","px-4","py-5","px-md-5","text-center","text-lg-start","border-2",2,"/* background-color","hsl(0, 0%, 96%) */"],[1,"container-fluid"],[1,"row","gx-lg-5","align-items-center"],[1,"col-lg-5","mb-5","mb-lg-0","mh-100","border-3","bg-success-subtle"],[1,"my-5","display-3","fw-bold","ls-tight"],[1,"text-primary","fw-normal"],[2,"color","hsl(217, 10%, 50.8%)"],[1,"col-lg-7","mb-5","mb-lg-0","border-3","bg-warning-subtle"],[1,"card"],[1,"card-header","bg-primary-subtle","text-center","border","border-0"],["alt","",1,"logo-login","my-2",3,"src"],[1,"h2","mb-2","fw-bold"],[1,"mb-2"],[1,"card-body","py-5","px-md-5"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-6","border-2"],[1,"form-floating","mb-3"],["type","text","id","name","placeholder","Nombre","formControlName","name",1,"form-control",3,"ngClass"],["for","name"],["class","invalid-feedback animate__animated animate__fadeIn",4,"ngIf"],[1,"bd-callout","bd-callout-code"],["type","text","id","last_name","placeholder","Apellido","formControlName","last_name",1,"form-control",3,"ngClass"],["for","last_name"],[1,"col-12","border-2"],["type","text","id","user_name","placeholder","Nombre de usuario","formControlName","user_name",1,"form-control",3,"ngClass"],["for","user_name"],["type","email","id","email","placeholder","Correo","formControlName","email",1,"form-control",3,"ngClass"],["for","email"],[1,"input-group","form-floating","mb-3"],["id","password","placeholder","Contrase\xF1a","formControlName","password",1,"form-control",3,"type","ngClass"],["for","password"],["type","button","tabindex","-1",1,"btn","btn-outline-secondary",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],[1,"bi",3,"ngClass"],["id","confirmPassword","placeholder","Repite tu contrase\xF1a","formControlName","confirmPassword",1,"form-control",3,"type","ngClass"],["for","confirmPassword"],["class","text-center my-3",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"col-12","p-3"],[1,"mx-1"],[1,"badge","text-bg-primary","mx-1"],[1,"badge","text-bg-warning","mx-1"],[1,"invalid-feedback","animate__animated","animate__fadeIn"],[4,"ngIf"],[1,"text-center","my-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"]],template:function(d,e){d&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),t(6),g(7,"br"),i(8,"span",6),t(9),n()(),i(10,"p",7),t(11),n()(),i(12,"div",8)(13,"div",9)(14,"div",10),g(15,"img",11),i(16,"h2",12),t(17,"Please sign in"),n(),i(18,"p",13),t(19,"Your Admin Dashboard"),n()(),i(20,"div",14)(21,"form",15),_("ngSubmit",function(){return e.onSubmit()}),i(22,"div",16)(23,"div",17)(24,"div",18),g(25,"input",19),i(26,"label",20),t(27,"Nombre"),n(),m(28,K,2,1,"div",21),n(),i(29,"div",22)(30,"small")(31,"strong"),t(32,"Valid ? "),n(),t(33),i(34,"strong"),t(35,"Invalid ? "),n(),t(36),i(37,"strong"),t(38,"Touched ? "),n(),t(39),i(40,"strong"),t(41,"Untouched ? "),n(),t(42),i(43,"strong"),t(44,"Dirty ? "),n(),t(45),i(46,"strong"),t(47,"Pristine ? "),n(),t(48),n()()(),i(49,"div",17)(50,"div",18),g(51,"input",23),i(52,"label",24),t(53,"Apellido"),n(),m(54,X,2,1,"div",21),n(),i(55,"div",22)(56,"small")(57,"strong"),t(58,"Valid ? "),n(),t(59),i(60,"strong"),t(61,"Invalid ? "),n(),t(62),i(63,"strong"),t(64,"Touched ? "),n(),t(65),i(66,"strong"),t(67,"Untouched ? "),n(),t(68),i(69,"strong"),t(70,"Dirty ? "),n(),t(71),i(72,"strong"),t(73,"Pristine ? "),n(),t(74),n()()(),i(75,"div",25)(76,"div",18),g(77,"input",26),i(78,"label",27),t(79,"Nombre de usuario"),n(),m(80,$,2,1,"div",21),n(),i(81,"div",22)(82,"small")(83,"strong"),t(84,"Valid ? "),n(),t(85),i(86,"strong"),t(87,"Invalid ? "),n(),t(88),i(89,"strong"),t(90,"Touched ? "),n(),t(91),i(92,"strong"),t(93,"Untouched ? "),n(),t(94),i(95,"strong"),t(96,"Dirty ? "),n(),t(97),i(98,"strong"),t(99,"Pristine ? "),n(),t(100),n()()(),i(101,"div",25)(102,"div",18),g(103,"input",28),i(104,"label",29),t(105,"Correo electr\xF3nico"),n(),m(106,te,2,1,"div",21),n(),i(107,"div",22)(108,"small")(109,"strong"),t(110,"Valid ? "),n(),t(111),i(112,"strong"),t(113,"Invalid ? "),n(),t(114),i(115,"strong"),t(116,"Touched ? "),n(),t(117),i(118,"strong"),t(119,"Untouched ? "),n(),t(120),i(121,"strong"),t(122,"Dirty ? "),n(),t(123),i(124,"strong"),t(125,"Pristine ? "),n(),t(126),n()()(),i(127,"div",25)(128,"div",30),g(129,"input",31),i(130,"label",32),t(131,"Contrase\xF1a"),n(),i(132,"button",33),_("click",function(){return e.togglePasswordVisibility()}),g(133,"i",34),n(),m(134,re,3,2,"div",21),n(),i(135,"div",22)(136,"small")(137,"strong"),t(138,"Valid ? "),n(),t(139),i(140,"strong"),t(141,"Invalid ? "),n(),t(142),i(143,"strong"),t(144,"Touched ? "),n(),t(145),i(146,"strong"),t(147,"Untouched ? "),n(),t(148),i(149,"strong"),t(150,"Dirty ? "),n(),t(151),i(152,"strong"),t(153,"Pristine ? "),n(),t(154),n()()(),i(155,"div",25)(156,"div",30),g(157,"input",35),i(158,"label",36),t(159,"Repite tu contrase\xF1a"),n(),i(160,"button",33),_("click",function(){return e.toggleConfirmPasswordVisibility()}),g(161,"i",34),n(),m(162,oe,2,0,"div",21)(163,ae,2,0,"div",21),n(),i(164,"div",22)(165,"small")(166,"strong"),t(167,"Valid ? "),n(),t(168),i(169,"strong"),t(170,"Invalid ? "),n(),t(171),i(172,"strong"),t(173,"Touched ? "),n(),t(174),i(175,"strong"),t(176,"Untouched ? "),n(),t(177),i(178,"strong"),t(179,"Dirty ? "),n(),t(180),i(181,"strong"),t(182,"Pristine ? "),n(),t(183),n()()(),i(184,"div",25),m(185,le,6,0,"div",37),i(186,"div",38)(187,"button",39),t(188," Registrarse "),n()()(),i(189,"div",25)(190,"div",16)(191,"div",40)(192,"div",22)(193,"strong"),t(194,"Estado del formulario:"),n(),g(195,"hr"),i(196,"span",41),t(197,"VALID: "),i(198,"span"),t(199),n()(),i(200,"span",41),t(201,"INVALID: "),i(202,"span"),t(203),n()(),i(204,"span",41),t(205,"STATUS: "),i(206,"span",42),t(207),n()(),i(208,"span",41),t(209,"DISABLED: "),i(210,"span",43),t(211),n()(),g(212,"hr"),i(213,"pre"),t(214),I(215,"json"),n()()()()()()()()()()()()()()),d&2&&(r(6),o(" ",e.myTitle," "),r(3),c(e.mySubTitle),r(2),o(" ",e.textContent," "),r(4),l("src",e.imagePath,S),r(6),l("formGroup",e.registerForm),r(4),l("ngClass",u(71,f,e.getControl.name.errors&&(e.getControl.name.dirty||e.getControl.name.touched),e.getControl.name.valid)),r(3),l("ngIf",e.getControl.name.errors&&e.getControl.name.invalid&&e.getControl.name.touched),r(5),o("",e.getControl.name.valid," | "),r(3),o("",e.getControl.name.invalid," | "),r(3),o("",e.getControl.name.touched," | "),r(3),o("",e.getControl.name.untouched," | "),r(3),o("",e.getControl.name.dirty," | "),r(3),o("",e.getControl.name.pristine," "),r(3),l("ngClass",u(74,f,e.getControl.last_name.errors&&(e.getControl.last_name.dirty||e.getControl.last_name.touched),e.getControl.last_name.valid)),r(3),l("ngIf",e.getControl.last_name.errors&&e.getControl.last_name.invalid&&e.getControl.last_name.touched),r(5),o("",e.getControl.last_name.valid," | "),r(3),o("",e.getControl.last_name.invalid," | "),r(3),o("",e.getControl.last_name.touched," | "),r(3),o("",e.getControl.last_name.untouched," | "),r(3),o("",e.getControl.last_name.dirty," | "),r(3),o("",e.getControl.last_name.pristine," "),r(3),l("ngClass",u(77,f,e.getControl.user_name.errors&&(e.getControl.user_name.dirty||e.getControl.user_name.touched),e.getControl.user_name.valid)),r(3),l("ngIf",e.getControl.user_name.errors&&e.getControl.user_name.invalid&&e.getControl.user_name.touched),r(5),o("",e.getControl.user_name.valid," | "),r(3),o("",e.getControl.user_name.invalid," | "),r(3),o("",e.getControl.user_name.touched," | "),r(3),o("",e.getControl.user_name.untouched," | "),r(3),o("",e.getControl.user_name.dirty," | "),r(3),o("",e.getControl.user_name.pristine," "),r(3),l("ngClass",u(80,f,e.getControl.email.errors&&(e.getControl.email.dirty||e.getControl.email.touched),e.getControl.email.valid)),r(3),l("ngIf",e.getControl.email.errors&&e.getControl.email.invalid&&e.getControl.email.touched),r(5),o("",e.getControl.email.valid," | "),r(3),o("",e.getControl.email.invalid," | "),r(3),o("",e.getControl.email.touched," | "),r(3),o("",e.getControl.email.untouched," | "),r(3),o("",e.getControl.email.dirty," | "),r(3),o("",e.getControl.email.pristine," "),r(3),l("type",e.passwordVisible?"text":"password")("ngClass",u(83,f,e.getControl.password.errors&&(e.getControl.password.dirty||e.getControl.password.touched),e.getControl.password.valid)),r(4),l("ngClass",e.passwordVisible?"bi-eye-slash":"bi-eye"),r(),l("ngIf",e.getControl.password.errors&&e.getControl.password.touched),r(5),o("",e.getControl.password.valid," | "),r(3),o("",e.getControl.password.invalid," | "),r(3),o("",e.getControl.password.touched," | "),r(3),o("",e.getControl.password.untouched," | "),r(3),o("",e.getControl.password.dirty," | "),r(3),o("",e.getControl.password.pristine," "),r(3),l("type",e.confirmPasswordVisible?"text":"password")("ngClass",u(86,f,e.getControl.confirmPassword.touched&&e.getControl.confirmPassword.invalid||(e.registerForm.errors==null?null:e.registerForm.errors.passwordMismatch),e.getControl.confirmPassword.valid&&!(e.registerForm.errors!=null&&e.registerForm.errors.passwordMismatch))),r(4),l("ngClass",e.confirmPasswordVisible?"bi-eye-slash":"bi-eye"),r(),l("ngIf",e.getControl.confirmPassword.touched&&(e.getControl.confirmPassword.errors==null?null:e.getControl.confirmPassword.errors.required)),r(),l("ngIf",(e.registerForm.errors==null?null:e.registerForm.errors.passwordMismatch)&&e.getControl.confirmPassword.touched),r(5),o("",e.getControl.confirmPassword.valid," | "),r(3),o("",e.getControl.confirmPassword.invalid," | "),r(3),o("",e.getControl.confirmPassword.touched," | "),r(3),o("",e.getControl.confirmPassword.untouched," | "),r(3),o("",e.getControl.confirmPassword.dirty," | "),r(3),o("",e.getControl.confirmPassword.pristine," "),r(2),l("ngIf",e.isLoading),r(2),l("disabled",e.registerForm.invalid),r(11),x(e.registerForm.status=="VALID"?"badge text-bg-success mx-1":"badge text-bg-danger mx-1"),r(),c(e.registerForm.valid),r(3),x(e.registerForm.status=="INVALID"?"badge text-bg-success mx-1":"badge text-bg-danger mx-1"),r(),c(e.registerForm.invalid),r(4),c(e.registerForm.status),r(4),c(e.registerForm.disabled),r(3),c(P(215,69,e.registerForm.value)))},dependencies:[T,F,M,O,G,A,N,k,q,L,U],styles:['.logo-login[_ngcontent-%COMP%]{width:100px;height:auto;display:inline-block}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{width:100%;height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}.btn-bd-primary[_ngcontent-%COMP%]{--bd-violet-bg: #712cf9;--bd-violet-rgb: 112.520718, 44.062154, 249.437846;--bs-btn-font-weight: 600;--bs-btn-color: var(--bs-white);--bs-btn-bg: var(--bd-violet-bg);--bs-btn-border-color: var(--bd-violet-bg);--bs-btn-hover-color: var(--bs-white);--bs-btn-hover-bg: #6528e0;--bs-btn-hover-border-color: #6528e0;--bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);--bs-btn-active-color: var(--bs-btn-hover-color);--bs-btn-active-bg: #5a23c8;--bs-btn-active-border-color: #5a23c8 }.bd-mode-toggle[_ngcontent-%COMP%]{z-index:1500}.bd-mode-toggle[_ngcontent-%COMP%]   .bi[_ngcontent-%COMP%]{width:1em;height:1em}.bd-mode-toggle[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .bi[_ngcontent-%COMP%]{display:block!important}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.form-signin[_ngcontent-%COMP%]{max-width:330px;padding:1rem}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.divider[_ngcontent-%COMP%]:after, .divider[_ngcontent-%COMP%]:before{content:"";flex:1;height:1px;background:#eee}.input-group.form-floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{z-index:20}']})};export{W as RegisterComponent};
