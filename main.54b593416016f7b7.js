(self.webpackChunkclaims_app=self.webpackChunkclaims_app||[]).push([[792],{274:(Dn,Ge,j)=>{"use strict";j.d(Ge,{H:()=>Z});var I=j(1397),x=j(8071);function Z($,Me){return(0,x.T)(Me)?(0,I.Z)($,Me,1):(0,I.Z)($,1)}},345:(Dn,Ge,j)=>{"use strict";j.d(Ge,{hE:()=>Me,up:()=>Tt});var I=j(9361),x=j(1360);let Me=(()=>{class mt{_doc;constructor(tt){this._doc=tt}getTitle(){return this._doc.title}setTitle(tt){this._doc.title=tt||""}static \u0275fac=function(sn){return new(sn||mt)(x.KVO(I.q))};static \u0275prov=x.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})}return mt})(),Tt=(()=>{class mt{static \u0275fac=function(sn){return new(sn||mt)};static \u0275prov=x.jDH({token:mt,factory:function(sn){let xt=null;return xt=sn?new(sn||mt):x.KVO(Pt),xt},providedIn:"root"})}return mt})(),Pt=(()=>{class mt extends Tt{_doc;constructor(tt){super(),this._doc=tt}sanitize(tt,sn){if(null==sn)return null;switch(tt){case x.WPN.NONE:return sn;case x.WPN.HTML:return(0,x.ZF7)(sn,"HTML")?(0,x.rcV)(sn):(0,x.h9k)(this._doc,String(sn)).toString();case x.WPN.STYLE:return(0,x.ZF7)(sn,"Style")?(0,x.rcV)(sn):sn;case x.WPN.SCRIPT:if((0,x.ZF7)(sn,"Script"))return(0,x.rcV)(sn);throw new x.wOt(5200,!1);case x.WPN.URL:return(0,x.ZF7)(sn,"URL")?(0,x.rcV)(sn):(0,x.$MX)(String(sn));case x.WPN.RESOURCE_URL:if((0,x.ZF7)(sn,"ResourceURL"))return(0,x.rcV)(sn);throw new x.wOt(5201,!1);default:throw new x.wOt(5202,!1)}}bypassSecurityTrustHtml(tt){return(0,x.Kcf)(tt)}bypassSecurityTrustStyle(tt){return(0,x.cWb)(tt)}bypassSecurityTrustScript(tt){return(0,x.UyX)(tt)}bypassSecurityTrustUrl(tt){return(0,x.osQ)(tt)}bypassSecurityTrustResourceUrl(tt){return(0,x.e5t)(tt)}static \u0275fac=function(sn){return new(sn||mt)(x.KVO(I.q))};static \u0275prov=x.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})}return mt})()},467:(Dn,Ge,j)=>{"use strict";function I(Z,$,Me,it,Ie,De,Ke){try{var be=Z[De](Ke),Te=be.value}catch(ht){return void Me(ht)}be.done?$(Te):Promise.resolve(Te).then(it,Ie)}function x(Z){return function(){var $=this,Me=arguments;return new Promise(function(it,Ie){var De=Z.apply($,Me);function Ke(Te){I(De,it,Ie,Ke,be,"next",Te)}function be(Te){I(De,it,Ie,Ke,be,"throw",Te)}Ke(void 0)})}}j.d(Ge,{A:()=>x})},520:(Dn,Ge,j)=>{"use strict";j.d(Ge,{eJ:()=>xa,xI:()=>Yl,hg:()=>R,J1:()=>bi,x9:()=>qr,CI:()=>Ae});var I=j(467),x=j(7852),Z=j(6858),$=j(8041),Me=j(1635),it=j(1362);const Mt=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},zt=new Z.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tn=new $.Vy("@firebase/auth");function Tt(b,...d){tn.logLevel<=$.$b.ERROR&&tn.error(`Auth (${x.MF}): ${b}`,...d)}function Pt(b,...d){throw Xt(b,...d)}function Fe(b,...d){return Xt(b,...d)}function st(b,d,p){const A=Object.assign(Object.assign({},Mt()),{[d]:p});return new Z.FA("auth","Firebase",A).create(d,{appName:b.name})}function et(b){return st(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xt(b,...d){if("string"!=typeof b){const p=d[0],A=[...d.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(p,...A)}return zt.create(b,...d)}function Dt(b,d,...p){if(!b)throw Xt(d,...p)}function lt(b){const d="INTERNAL ASSERTION FAILED: "+b;throw Tt(d),new Error(d)}function Bn(b,d){b||lt(d)}function kn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function mt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class sn{constructor(d,p){this.shortDelay=d,this.longDelay=p,Bn(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,Z.jZ)()||(0,Z.lV)()}get(){return function In(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Xn(){return"http:"===mt()||"https:"===mt()}()||(0,Z.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xt(b,d){Bn(b.emulator,"Emulator should always be set here");const{url:p}=b.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class Qe{static initialize(d,p,A){this.fetchImpl=d,p&&(this.headersImpl=p),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pe=new sn(3e4,6e4);function ye(b,d){return b.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:b.tenantId}):d}function se(b,d,p,A){return ge.apply(this,arguments)}function ge(){return(ge=(0,I.A)(function*(b,d,p,A,U={}){return Ye(b,U,(0,I.A)(function*(){let re={},Be={};A&&("GET"===d?Be=A:re={body:JSON.stringify(A)});const rt=(0,Z.Am)(Object.assign({key:b.config.apiKey},Be)).slice(1),Ht=yield b._getAdditionalHeaders();Ht["Content-Type"]="application/json",b.languageCode&&(Ht["X-Firebase-Locale"]=b.languageCode);const yn=Object.assign({method:d,headers:Ht},re);return(0,Z.c1)()||(yn.referrerPolicy="no-referrer"),b.emulatorConfig&&(0,Z.zJ)(b.emulatorConfig.host)&&(yn.credentials="include"),Qe.fetch()(yield tr(b,b.config.apiHost,p,rt),yn)}))})).apply(this,arguments)}function Ye(b,d,p){return Et.apply(this,arguments)}function Et(){return(Et=(0,I.A)(function*(b,d,p){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},ne),d);try{const U=new zn(b),re=yield Promise.race([p(),U.promise]);U.clearNetworkTimeout();const Be=yield re.json();if("needConfirmation"in Be)throw Jt(b,"account-exists-with-different-credential",Be);if(re.ok&&!("errorMessage"in Be))return Be;{const rt=re.ok?Be.errorMessage:Be.error.message,[Ht,yn]=rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ht)throw Jt(b,"credential-already-in-use",Be);if("EMAIL_EXISTS"===Ht)throw Jt(b,"email-already-in-use",Be);if("USER_DISABLED"===Ht)throw Jt(b,"user-disabled",Be);const Hn=A[Ht]||Ht.toLowerCase().replace(/[_\s]+/g,"-");if(yn)throw st(b,Hn,yn);Pt(b,Hn)}}catch(U){if(U instanceof Z.g)throw U;Pt(b,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function un(b,d,p,A){return nn.apply(this,arguments)}function nn(){return(nn=(0,I.A)(function*(b,d,p,A,U={}){const re=yield se(b,d,p,A,U);return"mfaPendingCredential"in re&&Pt(b,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function tr(b,d,p,A){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,I.A)(function*(b,d,p,A){const U=`${d}${p}?${A}`,re=b,Be=re.config.emulator?xt(b.config,U):`${b.config.apiScheme}://${U}`;return fe.includes(p)&&(yield re._persistenceManagerAvailable,"COOKIE"===re._getPersistenceType())?re._getPersistence()._getFinalTarget(Be).toString():Be})).apply(this,arguments)}function Yn(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,A)=>{this.timer=setTimeout(()=>A(Fe(this.auth,"network-request-failed")),pe.get())})}}function Jt(b,d,p){const A={appName:b.name};p.email&&(A.email=p.email),p.phoneNumber&&(A.phoneNumber=p.phoneNumber);const U=Fe(b,d,A);return U.customData._tokenResponse=p,U}function nr(b){return void 0!==b&&void 0!==b.enterprise}class An{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===d)return Yn(p.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function gn(){return(gn=(0,I.A)(function*(b,d){return se(b,"GET","/v2/recaptchaConfig",ye(b,d))})).apply(this,arguments)}function ln(){return(ln=(0,I.A)(function*(b,d){return se(b,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function pt(b,d){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,I.A)(function*(b,d){return se(b,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Zn(b){if(b)try{const d=new Date(Number(b));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function ui(){return(ui=(0,I.A)(function*(b,d=!1){const p=(0,Z.Ku)(b),A=yield p.getIdToken(d),U=Ar(A);Dt(U&&U.exp&&U.auth_time&&U.iat,p.auth,"internal-error");const re="object"==typeof U.firebase?U.firebase:void 0,Be=re?.sign_in_provider;return{claims:U,token:A,authTime:Zn(pi(U.auth_time)),issuedAtTime:Zn(pi(U.iat)),expirationTime:Zn(pi(U.exp)),signInProvider:Be||null,signInSecondFactor:re?.sign_in_second_factor||null}})).apply(this,arguments)}function pi(b){return 1e3*Number(b)}function Ar(b){const[d,p,A]=b.split(".");if(void 0===d||void 0===p||void 0===A)return Tt("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,Z.u)(p);return U?JSON.parse(U):(Tt("Failed to decode base64 JWT payload"),null)}catch(U){return Tt("Caught error parsing JWT payload as JSON",U?.toString()),null}}function vi(b){const d=Ar(b);return Dt(d,"internal-error"),Dt(typeof d.exp<"u","internal-error"),Dt(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function Rr(b,d){return li.apply(this,arguments)}function li(){return(li=(0,I.A)(function*(b,d,p=!1){if(p)return d;try{return yield d}catch(A){throw A instanceof Z.g&&function lr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}class sr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const U=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const A=this.getInterval(d);this.timerId=setTimeout((0,I.A)(function*(){yield p.iteration()}),A)}iteration(){var d=this;return(0,I.A)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class gi{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zn(this.lastLoginAt),this.creationTime=Zn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fr(b){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,I.A)(function*(b){var d;const p=b.auth,A=yield b.getIdToken(),U=yield Rr(b,pt(p,{idToken:A}));Dt(U?.users.length,p,"internal-error");const re=U.users[0];b._notifyReloadListener(re);const Be=null!==(d=re.providerUserInfo)&&void 0!==d&&d.length?Ki(re.providerUserInfo):[],rt=function Gn(b,d){return[...b.filter(A=>!d.some(U=>U.providerId===A.providerId)),...d]}(b.providerData,Be),Hn=!!b.isAnonymous&&!(b.email&&re.passwordHash||rt?.length),Wn={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:rt,metadata:new gi(re.createdAt,re.lastLoginAt),isAnonymous:Hn};Object.assign(b,Wn)})).apply(this,arguments)}function Or(){return(Or=(0,I.A)(function*(b){const d=(0,Z.Ku)(b);yield fr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Ki(b){return b.map(d=>{var{providerId:p}=d,A=(0,Me.Tt)(d,["providerId"]);return{providerId:p,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Cr(){return(Cr=(0,I.A)(function*(b,d){const p=yield Ye(b,{},(0,I.A)(function*(){const A=(0,Z.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:U,apiKey:re}=b.config,Be=yield tr(b,U,"/v1/token",`key=${re}`),rt=yield b._getAdditionalHeaders();return rt["Content-Type"]="application/x-www-form-urlencoded",Qe.fetch()(Be,{method:"POST",headers:rt,body:A})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function si(){return(si=(0,I.A)(function*(b,d){return se(b,"POST","/v2/accounts:revokeToken",ye(b,d))})).apply(this,arguments)}class xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Dt(d.idToken,"internal-error"),Dt(typeof d.idToken<"u","internal-error"),Dt(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):vi(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}updateFromIdToken(d){Dt(0!==d.length,"internal-error");const p=vi(d);this.updateTokensAndExpiration(d,null,p)}getToken(d){var p=this;return(0,I.A)(function*(A,U=!1){return U||!p.accessToken||p.isExpired?(Dt(p.refreshToken,A,"user-token-expired"),p.refreshToken?(yield p.refresh(A,p.refreshToken),p.accessToken):null):p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var A=this;return(0,I.A)(function*(){const{accessToken:U,refreshToken:re,expiresIn:Be}=yield function je(b,d){return Cr.apply(this,arguments)}(d,p);A.updateTokensAndExpiration(U,re,Number(Be))})()}updateTokensAndExpiration(d,p,A){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(d,p){const{refreshToken:A,accessToken:U,expirationTime:re}=p,Be=new xi;return A&&(Dt("string"==typeof A,"internal-error",{appName:d}),Be.refreshToken=A),U&&(Dt("string"==typeof U,"internal-error",{appName:d}),Be.accessToken=U),re&&(Dt("number"==typeof re,"internal-error",{appName:d}),Be.expirationTime=re),Be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new xi,this.toJSON())}_performRefresh(){return lt("not implemented")}}function vn(b,d){Dt("string"==typeof b||typeof b>"u","internal-error",{appName:d})}class mr{constructor(d){var{uid:p,auth:A,stsTokenManager:U}=d,re=(0,Me.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=A,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new gi(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,I.A)(function*(){const A=yield Rr(p,p.stsTokenManager.getToken(p.auth,d));return Dt(A,p.auth,"internal-error"),p.accessToken!==A&&(p.accessToken=A,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),A})()}getIdTokenResult(d){return function oi(b){return ui.apply(this,arguments)}(this,d)}reload(){return function Ti(b){return Or.apply(this,arguments)}(this)}_assign(d){this!==d&&(Dt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new mr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d){var p=this;return(0,I.A)(function*(A,U=!1){let re=!1;A.idToken&&A.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(A),re=!0),U&&(yield fr(p)),yield p.auth._persistUserIfCurrent(p),re&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var d=this;return(0,I.A)(function*(){if((0,x.xZ)(d.auth.app))return Promise.reject(et(d.auth));const p=yield d.getIdToken();return yield Rr(d,function pr(b,d){return ln.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var A,U,re,Be,rt,Ht,yn,Hn;const Wn=null!==(A=p.displayName)&&void 0!==A?A:void 0,Mr=null!==(U=p.email)&&void 0!==U?U:void 0,Ao=null!==(re=p.phoneNumber)&&void 0!==re?re:void 0,Yi=null!==(Be=p.photoURL)&&void 0!==Be?Be:void 0,Gc=null!==(rt=p.tenantId)&&void 0!==rt?rt:void 0,Jl=null!==(Ht=p._redirectEventId)&&void 0!==Ht?Ht:void 0,fs=null!==(yn=p.createdAt)&&void 0!==yn?yn:void 0,Dg=null!==(Hn=p.lastLoginAt)&&void 0!==Hn?Hn:void 0,{uid:tl,emailVerified:Ag,isAnonymous:yu,providerData:Ns,stsTokenManager:yh}=p;Dt(tl&&yh,d,"internal-error");const Uf=xi.fromJSON(this.name,yh);Dt("string"==typeof tl,d,"internal-error"),vn(Wn,d.name),vn(Mr,d.name),Dt("boolean"==typeof Ag,d,"internal-error"),Dt("boolean"==typeof yu,d,"internal-error"),vn(Ao,d.name),vn(Yi,d.name),vn(Gc,d.name),vn(Jl,d.name),vn(fs,d.name),vn(Dg,d.name);const ps=new mr({uid:tl,auth:d,email:Mr,emailVerified:Ag,displayName:Wn,isAnonymous:yu,photoURL:Yi,phoneNumber:Ao,tenantId:Gc,stsTokenManager:Uf,createdAt:fs,lastLoginAt:Dg});return Ns&&Array.isArray(Ns)&&(ps.providerData=Ns.map(Kc=>Object.assign({},Kc))),Jl&&(ps._redirectEventId=Jl),ps}static _fromIdTokenResponse(d,p){return(0,I.A)(function*(A,U,re=!1){const Be=new xi;Be.updateFromServerResponse(U);const rt=new mr({uid:U.localId,auth:A,stsTokenManager:Be,isAnonymous:re});return yield fr(rt),rt}).apply(this,arguments)}static _fromGetAccountInfoResponse(d,p,A){return(0,I.A)(function*(){const U=p.users[0];Dt(void 0!==U.localId,"internal-error");const re=void 0!==U.providerUserInfo?Ki(U.providerUserInfo):[],Be=!(U.email&&U.passwordHash||re?.length),rt=new xi;rt.updateFromIdToken(A);const Ht=new mr({uid:U.localId,auth:d,stsTokenManager:rt,isAnonymous:Be}),yn={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:re,metadata:new gi(U.createdAt,U.lastLoginAt),isAnonymous:!(U.email&&U.passwordHash||re?.length)};return Object.assign(Ht,yn),Ht})()}}const br=new Map;function Oi(b){Bn(b instanceof Function,"Expected a class definition");let d=br.get(b);return d?(Bn(d instanceof b,"Instance stored in cache mismatched with class"),d):(d=new b,br.set(b,d),d)}const Li=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.A)(function*(){return!0})()}_set(p,A){var U=this;return(0,I.A)(function*(){U.storage[p]=A})()}_get(p){var A=this;return(0,I.A)(function*(){const U=A.storage[p];return void 0===U?null:U})()}_remove(p){var A=this;return(0,I.A)(function*(){delete A.storage[p]})()}_addListener(p,A){}_removeListener(p,A){}}return b.type="NONE",b})();function Se(b,d,p){return`firebase:${b}:${d}:${p}`}class _e{constructor(d,p,A){this.persistence=d,this.auth=p,this.userKey=A;const{config:U,name:re}=this.auth;this.fullUserKey=Se(this.userKey,U.apiKey,re),this.fullPersistenceKey=Se("persistence",U.apiKey,re),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,I.A)(function*(){const p=yield d.persistence._get(d.fullUserKey);if(!p)return null;if("string"==typeof p){const A=yield pt(d.auth,{idToken:p}).catch(()=>{});return A?mr._fromGetAccountInfoResponse(d.auth,A,p):null}return mr._fromJSON(d.auth,p)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,I.A)(function*(){if(p.persistence===d)return;const A=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,A?p.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p){return(0,I.A)(function*(A,U,re="authUser"){if(!U.length)return new _e(Oi(Li),A,re);const Be=(yield Promise.all(U.map(function(){var Wn=(0,I.A)(function*(Mr){if(yield Mr._isAvailable())return Mr});return function(Mr){return Wn.apply(this,arguments)}}()))).filter(Wn=>Wn);let rt=Be[0]||Oi(Li);const Ht=Se(re,A.config.apiKey,A.name);let yn=null;for(const Wn of U)try{const Mr=yield Wn._get(Ht);if(Mr){let Ao;if("string"==typeof Mr){const Yi=yield pt(A,{idToken:Mr}).catch(()=>{});if(!Yi)break;Ao=yield mr._fromGetAccountInfoResponse(A,Yi,Mr)}else Ao=mr._fromJSON(A,Mr);Wn!==rt&&(yn=Ao),rt=Wn;break}}catch{}const Hn=Be.filter(Wn=>Wn._shouldAllowMigration);return rt._shouldAllowMigration&&Hn.length?(rt=Hn[0],yn&&(yield rt._set(Ht,yn.toJSON())),yield Promise.all(U.map(function(){var Wn=(0,I.A)(function*(Mr){if(Mr!==rt)try{yield Mr._remove(Ht)}catch{}});return function(Mr){return Wn.apply(this,arguments)}}())),new _e(rt,A,re)):new _e(rt,A,re)}).apply(this,arguments)}}function He(b){const d=b.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Pn(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Vt(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(oe(d))return"Blackberry";if(le(d))return"Webos";if(nt(d))return"Safari";if((d.includes("chrome/")||en(d))&&!d.includes("edge/"))return"Chrome";if(yr(d))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function Vt(b=(0,Z.ZQ)()){return/firefox\//i.test(b)}function nt(b=(0,Z.ZQ)()){const d=b.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function en(b=(0,Z.ZQ)()){return/crios\//i.test(b)}function Pn(b=(0,Z.ZQ)()){return/iemobile/i.test(b)}function yr(b=(0,Z.ZQ)()){return/android/i.test(b)}function oe(b=(0,Z.ZQ)()){return/blackberry/i.test(b)}function le(b=(0,Z.ZQ)()){return/webos/i.test(b)}function Pe(b=(0,Z.ZQ)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function ve(b=(0,Z.ZQ)()){return Pe(b)||yr(b)||le(b)||oe(b)||/windows phone/i.test(b)||Pn(b)}function Ue(b,d=[]){let p;switch(b){case"Browser":p=He((0,Z.ZQ)());break;case"Worker":p=`${He((0,Z.ZQ)())}-${b}`;break;default:p=b}const A=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${x.MF}/${A}`}class Nt{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const A=re=>new Promise((Be,rt)=>{try{Be(d(re))}catch(Ht){rt(Ht)}});A.onAbort=p,this.queue.push(A);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,I.A)(function*(){if(p.auth.currentUser===d)return;const A=[];try{for(const U of p.queue)yield U(d),U.onAbort&&A.push(U.onAbort)}catch(U){A.reverse();for(const re of A)try{re()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}function _t(){return(_t=(0,I.A)(function*(b,d={}){return se(b,"GET","/v2/passwordPolicy",ye(b,d))})).apply(this,arguments)}class an{constructor(d){var p,A,U,re;const Be=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Be.minPasswordLength)&&void 0!==p?p:6,Be.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Be.maxPasswordLength),void 0!==Be.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Be.containsLowercaseCharacter),void 0!==Be.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Be.containsUppercaseCharacter),void 0!==Be.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Be.containsNumericCharacter),void 0!==Be.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Be.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(U=null===(A=d.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==U?U:"",this.forceUpgradeOnSignin=null!==(re=d.forceUpgradeOnSignin)&&void 0!==re&&re,this.schemaVersion=d.schemaVersion}validatePassword(d){var p,A,U,re,Be,rt;const Ht={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,Ht),this.validatePasswordCharacterOptions(d,Ht),Ht.isValid&&(Ht.isValid=null===(p=Ht.meetsMinPasswordLength)||void 0===p||p),Ht.isValid&&(Ht.isValid=null===(A=Ht.meetsMaxPasswordLength)||void 0===A||A),Ht.isValid&&(Ht.isValid=null===(U=Ht.containsLowercaseLetter)||void 0===U||U),Ht.isValid&&(Ht.isValid=null===(re=Ht.containsUppercaseLetter)||void 0===re||re),Ht.isValid&&(Ht.isValid=null===(Be=Ht.containsNumericCharacter)||void 0===Be||Be),Ht.isValid&&(Ht.isValid=null===(rt=Ht.containsNonAlphanumericCharacter)||void 0===rt||rt),Ht}validatePasswordLengthOptions(d,p){const A=this.customStrengthOptions.minPasswordLength,U=this.customStrengthOptions.maxPasswordLength;A&&(p.meetsMinPasswordLength=d.length>=A),U&&(p.meetsMaxPasswordLength=d.length<=U)}validatePasswordCharacterOptions(d,p){let A;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let U=0;U<d.length;U++)A=d.charAt(U),this.updatePasswordCharacterOptionsStatuses(p,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(d,p,A,U,re){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=U)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=re))}}class jn{constructor(d,p,A,U){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=A,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kn(this),this.idTokenSubscription=new Kn(this),this.beforeStateQueue=new Nt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=U.sdkClientVersion,this._persistenceManagerAvailable=new Promise(re=>this._resolvePersistenceManagerAvailable=re)}_initializeWithPersistence(d,p){var A=this;return p&&(this._popupRedirectResolver=Oi(p)),this._initializationPromise=this.queue((0,I.A)(function*(){var U,re,Be;if(!A._deleted&&(A.persistenceManager=yield _e.create(A,d),null===(U=A._resolvePersistenceManagerAvailable)||void 0===U||U.call(A),!A._deleted)){if(null!==(re=A._popupRedirectResolver)&&void 0!==re&&re._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(p),A.lastNotifiedUid=(null===(Be=A.currentUser)||void 0===Be?void 0:Be.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,I.A)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(d){var p=this;return(0,I.A)(function*(){try{const A=yield pt(p,{idToken:d}),U=yield mr._fromGetAccountInfoResponse(p,A,d);yield p.directlySetCurrentUser(U)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var p=this;return(0,I.A)(function*(){var A;if((0,x.xZ)(p.app)){const rt=p.app.settings.authIdToken;return rt?new Promise(Ht=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(rt).then(Ht,Ht))}):p.directlySetCurrentUser(null)}const U=yield p.assertedPersistence.getCurrentUser();let re=U,Be=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const rt=null===(A=p.redirectUser)||void 0===A?void 0:A._redirectEventId,Ht=re?._redirectEventId,yn=yield p.tryRedirectSignIn(d);(!rt||rt===Ht)&&yn?.user&&(re=yn.user,Be=!0)}if(!re)return p.directlySetCurrentUser(null);if(!re._redirectEventId){if(Be)try{yield p.beforeStateQueue.runMiddleware(re)}catch(rt){re=U,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(rt))}return re?p.reloadAndSetCurrentUserOrClear(re):p.directlySetCurrentUser(null)}return Dt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===re._redirectEventId?p.directlySetCurrentUser(re):p.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(d){var p=this;return(0,I.A)(function*(){let A=null;try{A=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,I.A)(function*(){try{yield fr(d)}catch(A){if("auth/network-request-failed"!==A?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function tt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var d=this;return(0,I.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,I.A)(function*(){if((0,x.xZ)(p.app))return Promise.reject(et(p));const A=d?(0,Z.Ku)(d):null;return A&&Dt(A.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(A&&A._clone(p))})()}_updateCurrentUser(d){var p=this;return(0,I.A)(function*(A,U=!1){if(!p._deleted)return A&&Dt(p.tenantId===A.tenantId,p,"tenant-id-mismatch"),U||(yield p.beforeStateQueue.runMiddleware(A)),p.queue((0,I.A)(function*(){yield p.directlySetCurrentUser(A),p.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var d=this;return(0,I.A)(function*(){return(0,x.xZ)(d.app)?Promise.reject(et(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var p=this;return(0,x.xZ)(this.app)?Promise.reject(et(this)):this.queue((0,I.A)(function*(){yield p.assertedPersistence.setPersistence(Oi(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var p=this;return(0,I.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const A=p._getPasswordPolicyInternal();return A.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,I.A)(function*(){const p=yield function It(b){return _t.apply(this,arguments)}(d),A=new an(p);null===d.tenantId?d._projectPasswordPolicy=A:d._tenantPasswordPolicies[d.tenantId]=A})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(d){this._errorFactory=new Z.FA("auth","Firebase",d())}onAuthStateChanged(d,p,A){return this.registerStateListener(this.authStateSubscription,d,p,A)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,A){return this.registerStateListener(this.idTokenSubscription,d,p,A)}authStateReady(){return new Promise((d,p)=>{if(this.currentUser)d();else{const A=this.onAuthStateChanged(()=>{A(),d()},p)}})}revokeAccessToken(d){var p=this;return(0,I.A)(function*(){if(p.currentUser){const A=yield p.currentUser.getIdToken(),U={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:A};null!=p.tenantId&&(U.tenantId=p.tenantId),yield function qi(b,d){return si.apply(this,arguments)}(p,U)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var A=this;return(0,I.A)(function*(){const U=yield A.getOrInitRedirectPersistenceManager(p);return null===d?U.removeCurrentUser():U.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,I.A)(function*(){if(!p.redirectPersistenceManager){const A=d&&Oi(d)||p._popupRedirectResolver;Dt(A,p,"argument-error"),p.redirectPersistenceManager=yield _e.create(p,[Oi(A._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,I.A)(function*(){var A,U;return p._isInitialized&&(yield p.queue((0,I.A)(function*(){}))),(null===(A=p._currentUser)||void 0===A?void 0:A._redirectEventId)===d?p._currentUser:(null===(U=p.redirectUser)||void 0===U?void 0:U._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,I.A)(function*(){if(d===p.currentUser)return p.queue((0,I.A)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,A,U){if(this._deleted)return()=>{};const re="function"==typeof p?p:p.next.bind(p);let Be=!1;const rt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(rt,this,"internal-error"),rt.then(()=>{Be||re(this.currentUser)}),"function"==typeof p){const Ht=d.addObserver(p,A,U);return()=>{Be=!0,Ht()}}{const Ht=d.addObserver(p);return()=>{Be=!0,Ht()}}}directlySetCurrentUser(d){var p=this;return(0,I.A)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Ue(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,I.A)(function*(){var p;const A={"X-Client-Version":d.clientVersion};d.app.options.appId&&(A["X-Firebase-gmpid"]=d.app.options.appId);const U=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();U&&(A["X-Firebase-Client"]=U);const re=yield d._getAppCheckToken();return re&&(A["X-Firebase-AppCheck"]=re),A})()}_getAppCheckToken(){var d=this;return(0,I.A)(function*(){var p;if((0,x.xZ)(d.app)&&d.app.settings.appCheckToken)return d.app.settings.appCheckToken;const A=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return A?.error&&function vt(b,...d){tn.logLevel<=$.$b.WARN&&tn.warn(`Auth (${x.MF}): ${b}`,...d)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function hn(b){return(0,Z.Ku)(b)}class Kn{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Z.tD)(p=>this.observer=p)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cr={loadJS:()=>(0,I.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ci(b){return cr.loadJS(b)}function $t(b){return`__${b}${Math.floor(1e6*Math.random())}`}class rr{constructor(){this.enterprise=new Wr}ready(d){d()}execute(d,p){return Promise.resolve("token")}render(d,p){return""}}class Wr{ready(d){d()}execute(d,p){return Promise.resolve("token")}render(d,p){return""}}const ji="NO_RECAPTCHA";class Lo{constructor(d){this.type="recaptcha-enterprise",this.auth=hn(d)}verify(){var d=this;return(0,I.A)(function*(p="verify",A=!1){function re(){return re=(0,I.A)(function*(rt){if(!A){if(null==rt.tenantId&&null!=rt._agentRecaptchaConfig)return rt._agentRecaptchaConfig.siteKey;if(null!=rt.tenantId&&void 0!==rt._tenantRecaptchaConfigs[rt.tenantId])return rt._tenantRecaptchaConfigs[rt.tenantId].siteKey}return new Promise(function(){var Ht=(0,I.A)(function*(yn,Hn){(function Ai(b,d){return gn.apply(this,arguments)})(rt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wn=>{if(void 0!==Wn.recaptchaKey){const Mr=new An(Wn);return null==rt.tenantId?rt._agentRecaptchaConfig=Mr:rt._tenantRecaptchaConfigs[rt.tenantId]=Mr,yn(Mr.siteKey)}Hn(new Error("recaptcha Enterprise site key undefined"))}).catch(Wn=>{Hn(Wn)})});return function(yn,Hn){return Ht.apply(this,arguments)}}())}),re.apply(this,arguments)}function Be(rt,Ht,yn){const Hn=window.grecaptcha;nr(Hn)?Hn.enterprise.ready(()=>{Hn.enterprise.execute(rt,{action:p}).then(Wn=>{Ht(Wn)}).catch(()=>{Ht(ji)})}):yn(Error("No reCAPTCHA enterprise script loaded."))}return d.auth.settings.appVerificationDisabledForTesting?(new rr).execute("siteKey",{action:"verify"}):new Promise((rt,Ht)=>{(function U(rt){return re.apply(this,arguments)})(d.auth).then(yn=>{if(!A&&nr(window.grecaptcha))Be(yn,rt,Ht);else{if(typeof window>"u")return void Ht(new Error("RecaptchaVerifier is only supported in browser"));let Hn=function $e(){return cr.recaptchaEnterpriseScript}();0!==Hn.length&&(Hn+=yn),Ci(Hn).then(()=>{Be(yn,rt,Ht)}).catch(Wn=>{Ht(Wn)})}}).catch(yn=>{Ht(yn)})})}).apply(this,arguments)}}function eo(b,d,p){return B.apply(this,arguments)}function B(){return(B=(0,I.A)(function*(b,d,p,A=!1,U=!1){const re=new Lo(b);let Be;if(U)Be=ji;else try{Be=yield re.verify(p)}catch{Be=yield re.verify(p,!0)}const rt=Object.assign({},d);return"mfaSmsEnrollment"===p||"mfaSmsSignIn"===p?("phoneEnrollmentInfo"in rt?Object.assign(rt,{phoneEnrollmentInfo:{phoneNumber:rt.phoneEnrollmentInfo.phoneNumber,recaptchaToken:rt.phoneEnrollmentInfo.recaptchaToken,captchaResponse:Be,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in rt&&Object.assign(rt,{phoneSignInInfo:{recaptchaToken:rt.phoneSignInInfo.recaptchaToken,captchaResponse:Be,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),rt):(Object.assign(rt,A?{captchaResp:Be}:{captchaResponse:Be}),Object.assign(rt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(rt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),rt)})).apply(this,arguments)}function me(b,d,p,A,U){return Q.apply(this,arguments)}function Q(){return Q=(0,I.A)(function*(b,d,p,A,U){var re,Be;if("EMAIL_PASSWORD_PROVIDER"===U){if(null!==(re=b._getRecaptchaConfig())&&void 0!==re&&re.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const rt=yield eo(b,d,p,"getOobCode"===p);return A(b,rt)}return A(b,d).catch(function(){var rt=(0,I.A)(function*(Ht){if("auth/missing-recaptcha-token"===Ht.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const yn=yield eo(b,d,p,"getOobCode"===p);return A(b,yn)}return Promise.reject(Ht)});return function(Ht){return rt.apply(this,arguments)}}())}if("PHONE_PROVIDER"===U){if(null!==(Be=b._getRecaptchaConfig())&&void 0!==Be&&Be.isProviderEnabled("PHONE_PROVIDER")){const rt=yield eo(b,d,p);return A(b,rt).catch(function(){var Ht=(0,I.A)(function*(yn){var Hn;if("AUDIT"===(null===(Hn=b._getRecaptchaConfig())||void 0===Hn?void 0:Hn.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===yn.code||"auth/invalid-app-credential"===yn.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${p} flow.`);const Wn=yield eo(b,d,p,!1,!0);return A(b,Wn)}return Promise.reject(yn)});return function(yn){return Ht.apply(this,arguments)}}())}{const rt=yield eo(b,d,p,!1,!0);return A(b,rt)}}return Promise.reject(U+" provider is not supported.")}),Q.apply(this,arguments)}function ai(b){const d=b.indexOf(":");return d<0?"":b.substr(0,d+1)}function Zr(b){if(!b)return null;const d=Number(b);return isNaN(d)?null:d}class Vn{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return lt("not implemented")}_getIdTokenResponse(d){return lt("not implemented")}_linkToIdToken(d,p){return lt("not implemented")}_getReauthenticationResolver(d){return lt("not implemented")}}function $o(b,d){return de.apply(this,arguments)}function de(){return(de=(0,I.A)(function*(b,d){return se(b,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function yt(b,d){return rn.apply(this,arguments)}function rn(){return(rn=(0,I.A)(function*(b,d){return un(b,"POST","/v1/accounts:signInWithPassword",ye(b,d))})).apply(this,arguments)}function $n(){return($n=(0,I.A)(function*(b,d){return se(b,"POST","/v1/accounts:sendOobCode",ye(b,d))})).apply(this,arguments)}function Ss(b,d){return ni.apply(this,arguments)}function ni(){return(ni=(0,I.A)(function*(b,d){return function En(b,d){return $n.apply(this,arguments)}(b,d)})).apply(this,arguments)}function Qo(){return(Qo=(0,I.A)(function*(b,d){return un(b,"POST","/v1/accounts:signInWithEmailLink",ye(b,d))})).apply(this,arguments)}function _s(){return(_s=(0,I.A)(function*(b,d){return un(b,"POST","/v1/accounts:signInWithEmailLink",ye(b,d))})).apply(this,arguments)}class os extends Vn{constructor(d,p,A,U=null){super("password",A),this._email=d,this._password=p,this._tenantId=U}static _fromEmailAndPassword(d,p){return new os(d,p,"password")}static _fromEmailAndCode(d,p,A=null){return new os(d,p,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,I.A)(function*(){switch(p.signInMethod){case"password":return me(d,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",yt,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function So(b,d){return Qo.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Pt(d,"internal-error")}})()}_linkToIdToken(d,p){var A=this;return(0,I.A)(function*(){switch(A.signInMethod){case"password":return me(d,{idToken:p,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$o,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Ro(b,d){return _s.apply(this,arguments)}(d,{idToken:p,email:A._email,oobCode:A._password});default:Pt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Fr(b,d){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,I.A)(function*(b,d){return un(b,"POST","/v1/accounts:signInWithIdp",ye(b,d))})).apply(this,arguments)}class No{constructor(d){var p,A,U,re,Be,rt;const Ht=(0,Z.I9)((0,Z.hp)(d)),yn=null!==(p=Ht.apiKey)&&void 0!==p?p:null,Hn=null!==(A=Ht.oobCode)&&void 0!==A?A:null,Wn=function Vi(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=Ht.mode)&&void 0!==U?U:null);Dt(yn&&Hn&&Wn,"argument-error"),this.apiKey=yn,this.operation=Wn,this.code=Hn,this.continueUrl=null!==(re=Ht.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(Be=Ht.lang)&&void 0!==Be?Be:null,this.tenantId=null!==(rt=Ht.tenantId)&&void 0!==rt?rt:null}static parseLink(d){const p=function Fs(b){const d=(0,Z.I9)((0,Z.hp)(b)).link,p=d?(0,Z.I9)((0,Z.hp)(d)).deep_link_id:null,A=(0,Z.I9)((0,Z.hp)(b)).deep_link_id;return(A?(0,Z.I9)((0,Z.hp)(A)).link:null)||A||p||d||b}(d);try{return new No(p)}catch{return null}}}let Er=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(p,A){return os._fromEmailAndPassword(p,A)}static credentialWithLink(p,A){const U=No.parseLink(A);return Dt(U,"argument-error"),os._fromEmailAndCode(p,U.code,U.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Xi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Ys extends Xi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}function Ot(b,d){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,I.A)(function*(b,d){return un(b,"POST","/v1/accounts:signUp",ye(b,d))})).apply(this,arguments)}class bn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,A){return(0,I.A)(function*(U,re,Be,rt=!1){const Ht=yield mr._fromIdTokenResponse(U,Be,rt),yn=mn(Be);return new bn({user:Ht,providerId:yn,_tokenResponse:Be,operationType:re})}).apply(this,arguments)}static _forOperation(d,p,A){return(0,I.A)(function*(){yield d._updateTokensIfNecessary(A,!0);const U=mn(A);return new bn({user:d,providerId:U,_tokenResponse:A,operationType:p})})()}}function mn(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}class Ur extends Z.g{constructor(d,p,A,U){var re;super(p.code,p.message),this.operationType=A,this.user=U,Object.setPrototypeOf(this,Ur.prototype),this.customData={appName:d.name,tenantId:null!==(re=d.tenantId)&&void 0!==re?re:void 0,_serverResponse:p.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(d,p,A,U){return new Ur(d,p,A,U)}}function wi(b,d,p,A){return("reauthenticate"===d?p._getReauthenticationResolver(b):p._getIdTokenResponse(b)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?Ur._fromErrorAndOperation(b,re,d,A):re})}function Ni(){return(Ni=(0,I.A)(function*(b,d,p=!1){const A=yield Rr(b,d._linkToIdToken(b.auth,yield b.getIdToken()),p);return bn._forOperation(b,"link",A)})).apply(this,arguments)}function To(){return(To=(0,I.A)(function*(b,d,p=!1){const{auth:A}=b;if((0,x.xZ)(A.app))return Promise.reject(et(A));const U="reauthenticate";try{const re=yield Rr(b,wi(A,U,d,b),p);Dt(re.idToken,A,"internal-error");const Be=Ar(re.idToken);Dt(Be,A,"internal-error");const{sub:rt}=Be;return Dt(b.uid===rt,A,"user-mismatch"),bn._forOperation(b,U,re)}catch(re){throw"auth/user-not-found"===re?.code&&Pt(A,"user-mismatch"),re}})).apply(this,arguments)}function ii(b,d){return po.apply(this,arguments)}function po(){return(po=(0,I.A)(function*(b,d,p=!1){if((0,x.xZ)(b.app))return Promise.reject(et(b));const A="signIn",U=yield wi(b,A,d),re=yield bn._fromIdTokenResponse(b,A,U);return p||(yield b._updateCurrentUser(re.user)),re})).apply(this,arguments)}function ls(){return(ls=(0,I.A)(function*(b,d){return ii(hn(b),d)})).apply(this,arguments)}function Us(b){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,I.A)(function*(b){const d=hn(b);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function bi(b,d,p){return ua.apply(this,arguments)}function ua(){return(ua=(0,I.A)(function*(b,d,p){const A=hn(b),U={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};p&&function Ms(b,d,p){var A;Dt((null===(A=p.url)||void 0===A?void 0:A.length)>0,b,"invalid-continue-uri"),Dt(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),Dt(typeof p.linkDomain>"u"||p.linkDomain.length>0,b,"invalid-hosting-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.linkDomain=p.linkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Dt(p.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(Dt(p.android.packageName.length>0,b,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}(A,U,p),yield me(A,U,"getOobCode",Ss,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function xa(b,d,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,I.A)(function*(b,d,p){if((0,x.xZ)(b.app))return Promise.reject(et(b));const A=hn(b),Be=yield me(A,{returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ot,"EMAIL_PASSWORD_PROVIDER").catch(Ht=>{throw"auth/password-does-not-meet-requirements"===Ht.code&&Us(b),Ht}),rt=yield bn._fromIdTokenResponse(A,"signIn",Be);return yield A._updateCurrentUser(rt.user),rt})).apply(this,arguments)}function qr(b,d,p){return(0,x.xZ)(b.app)?Promise.reject(et(b)):function Wo(b,d){return ls.apply(this,arguments)}((0,Z.Ku)(b),Er.credential(d,p)).catch(function(){var A=(0,I.A)(function*(U){throw"auth/password-does-not-meet-requirements"===U.code&&Us(b),U});return function(U){return A.apply(this,arguments)}}())}function R(b,d,p,A){return(0,Z.Ku)(b).onAuthStateChanged(d,p,A)}function Ae(b){return(0,Z.Ku)(b).signOut()}const no="__sak";class ao{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(no,"1"),this.storage.removeItem(no),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Js=(()=>{class b extends ao{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,A)=>this.onStorageEvent(p,A),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ve(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const A of Object.keys(this.listeners)){const U=this.storage.getItem(A),re=this.localCache[A];U!==re&&p(A,re,U)}}onStorageEvent(p,A=!1){if(!p.key)return void this.forAllChangedKeys((rt,Ht,yn)=>{this.notifyListeners(rt,yn)});const U=p.key;A?this.detachListener():this.stopPolling();const re=()=>{const rt=this.storage.getItem(U);!A&&this.localCache[U]===rt||this.notifyListeners(U,rt)},Be=this.storage.getItem(U);!function ce(){return(0,Z.lT)()&&10===document.documentMode}()||Be===p.newValue||p.newValue===p.oldValue?re():setTimeout(re,10)}notifyListeners(p,A){this.localCache[p]=A;const U=this.listeners[p];if(U)for(const re of Array.from(U))re(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,A,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:A,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(A)}_removeListener(p,A){this.listeners[p]&&(this.listeners[p].delete(A),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,A){var U=()=>super._set,re=this;return(0,I.A)(function*(){yield U().call(re,p,A),re.localCache[p]=JSON.stringify(A)})()}_get(p){var A=()=>super._get,U=this;return(0,I.A)(function*(){const re=yield A().call(U,p);return U.localCache[p]=JSON.stringify(re),re})()}_remove(p){var A=()=>super._remove,U=this;return(0,I.A)(function*(){yield A().call(U,p),delete U.localCache[p]})()}}return b.type="LOCAL",b})(),Mn=(()=>{class b extends ao{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,A){}_removeListener(p,A){}}return b.type="SESSION",b})();let ei=(()=>{class b{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const A=this.receivers.find(re=>re.isListeningto(p));if(A)return A;const U=new b(p);return this.receivers.push(U),U}isListeningto(p){return this.eventTarget===p}handleEvent(p){var A=this;return(0,I.A)(function*(){const U=p,{eventId:re,eventType:Be,data:rt}=U.data,Ht=A.handlersMap[Be];if(!Ht?.size)return;U.ports[0].postMessage({status:"ack",eventId:re,eventType:Be});const yn=Array.from(Ht).map(function(){var Wn=(0,I.A)(function*(Mr){return Mr(U.origin,rt)});return function(Mr){return Wn.apply(this,arguments)}}()),Hn=yield function dr(b){return Promise.all(b.map(function(){var d=(0,I.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(A){return{fulfilled:!1,reason:A}}});return function(p){return d.apply(this,arguments)}}()))}(yn);U.ports[0].postMessage({status:"done",eventId:re,eventType:Be,response:Hn})})()}_subscribe(p,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(A)}_unsubscribe(p,A){this.handlersMap[p]&&A&&this.handlersMap[p].delete(A),(!A||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Do(b="",d=10){let p="";for(let A=0;A<d;A++)p+=Math.floor(10*Math.random());return b+p}class ha{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p){var A=this;return(0,I.A)(function*(U,re,Be=50){const rt=typeof MessageChannel<"u"?new MessageChannel:null;if(!rt)throw new Error("connection_unavailable");let Ht,yn;return new Promise((Hn,Wn)=>{const Mr=Do("",20);rt.port1.start();const Ao=setTimeout(()=>{Wn(new Error("unsupported_event"))},Be);yn={messageChannel:rt,onMessage(Yi){const Gc=Yi;if(Gc.data.eventId===Mr)switch(Gc.data.status){case"ack":clearTimeout(Ao),Ht=setTimeout(()=>{Wn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ht),Hn(Gc.data.response);break;default:clearTimeout(Ao),clearTimeout(Ht),Wn(new Error("invalid_response"))}}},A.handlers.add(yn),rt.port1.addEventListener("message",yn.onMessage),A.target.postMessage({eventType:U,eventId:Mr,data:re},[rt.port2])}).finally(()=>{yn&&A.removeMessageHandler(yn)})}).apply(this,arguments)}}function Qr(){return window}function ar(){return typeof Qr().WorkerGlobalScope<"u"&&"function"==typeof Qr().importScripts}function zs(){return(zs=(0,I.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qo="firebaseLocalStorageDb",La="firebaseLocalStorage",Va="fbase_key";class ea{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function yc(b,d){return b.transaction([La],d?"readwrite":"readonly").objectStore(La)}function rh(){const b=indexedDB.open(qo,1);return new Promise((d,p)=>{b.addEventListener("error",()=>{p(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(La,{keyPath:Va})}catch(U){p(U)}}),b.addEventListener("success",(0,I.A)(function*(){const A=b.result;A.objectStoreNames.contains(La)?d(A):(A.close(),yield function Ds(){const b=indexedDB.deleteDatabase(qo);return new ea(b).toPromise()}(),d(yield rh()))}))})}function xo(b,d,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,I.A)(function*(b,d,p){const A=yc(b,!0).put({[Va]:d,value:p});return new ea(A).toPromise()})).apply(this,arguments)}function Wu(){return(Wu=(0,I.A)(function*(b,d){const p=yc(b,!1).get(d),A=yield new ea(p).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Fc(b,d){const p=yc(b,!0).delete(d);return new ea(p).toPromise()}const _c=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,I.A)(function*(){return p.db||(p.db=yield rh()),p.db})()}_withRetries(p){var A=this;return(0,I.A)(function*(){let U=0;for(;;)try{const re=yield A._openDb();return yield p(re)}catch(re){if(U++>3)throw re;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,I.A)(function*(){return ar()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,I.A)(function*(){p.receiver=ei._getInstance(function fa(){return ar()?self:null}()),p.receiver._subscribe("keyChanged",function(){var A=(0,I.A)(function*(U,re){return{keyProcessed:(yield p._poll()).includes(re.key)}});return function(U,re){return A.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var A=(0,I.A)(function*(U,re){return["keyChanged"]});return function(U,re){return A.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,I.A)(function*(){var A,U;if(p.activeServiceWorker=yield function Fa(){return zs.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new ha(p.activeServiceWorker);const re=yield p.sender._send("ping",{},800);re&&null!==(A=re[0])&&void 0!==A&&A.fulfilled&&null!==(U=re[0])&&void 0!==U&&U.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var A=this;return(0,I.A)(function*(){if(A.sender&&A.activeServiceWorker&&function hr(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:p},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.A)(function*(){try{if(!indexedDB)return!1;const p=yield rh();return yield xo(p,no,"1"),yield Fc(p,no),!0}catch{}return!1})()}_withPendingWrite(p){var A=this;return(0,I.A)(function*(){A.pendingWrites++;try{yield p()}finally{A.pendingWrites--}})()}_set(p,A){var U=this;return(0,I.A)(function*(){return U._withPendingWrite((0,I.A)(function*(){return yield U._withRetries(re=>xo(re,p,A)),U.localCache[p]=A,U.notifyServiceWorker(p)}))})()}_get(p){var A=this;return(0,I.A)(function*(){const U=yield A._withRetries(re=>function ta(b,d){return Wu.apply(this,arguments)}(re,p));return A.localCache[p]=U,U})()}_remove(p){var A=this;return(0,I.A)(function*(){return A._withPendingWrite((0,I.A)(function*(){return yield A._withRetries(U=>Fc(U,p)),delete A.localCache[p],A.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,I.A)(function*(){const A=yield p._withRetries(Be=>{const rt=yc(Be,!1).getAll();return new ea(rt).toPromise()});if(!A)return[];if(0!==p.pendingWrites)return[];const U=[],re=new Set;if(0!==A.length)for(const{fbase_key:Be,value:rt}of A)re.add(Be),JSON.stringify(p.localCache[Be])!==JSON.stringify(rt)&&(p.notifyListeners(Be,rt),U.push(Be));for(const Be of Object.keys(p.localCache))p.localCache[Be]&&!re.has(Be)&&(p.notifyListeners(Be,null),U.push(Be));return U})()}notifyListeners(p,A){this.localCache[p]=A;const U=this.listeners[p];if(U)for(const re of Array.from(U))re(A)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,I.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(A)}_removeListener(p,A){this.listeners[p]&&(this.listeners[p].delete(A),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();$t("rcb"),new sn(3e4,6e4);class Ws extends Vn{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Fr(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Fr(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Fr(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function Ll(b){return ii(b.auth,new Ws(b),b.bypassAuthState)}function Vl(b){const{auth:d,user:p}=b;return Dt(p,d,"internal-error"),function Ri(b,d){return To.apply(this,arguments)}(p,new Ws(b),b.bypassAuthState)}function Df(b){return Af.apply(this,arguments)}function Af(){return(Af=(0,I.A)(function*(b){const{auth:d,user:p}=b;return Dt(p,d,"internal-error"),function ri(b,d){return Ni.apply(this,arguments)}(p,new Ws(b),b.bypassAuthState)})).apply(this,arguments)}class Ul{constructor(d,p,A,U,re=!1){this.auth=d,this.resolver=A,this.user=U,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,I.A)(function*(A,U){d.pendingPromise={resolve:A,reject:U};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(re){d.reject(re)}});return function(A,U){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,I.A)(function*(){const{urlResponse:A,sessionId:U,postBody:re,tenantId:Be,error:rt,type:Ht}=d;if(rt)return void p.reject(rt);const yn={auth:p.auth,requestUri:A,sessionId:U,tenantId:Be||void 0,postBody:re||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ht)(yn))}catch(Hn){p.reject(Hn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Ll;case"linkViaPopup":case"linkViaRedirect":return Df;case"reauthViaPopup":case"reauthViaRedirect":return Vl;default:Pt(this.auth,"internal-error")}}resolve(d){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new sn(2e3,1e4);const uu=new Map;class Tg extends Ul{constructor(d,p,A=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,A),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,I.A)(function*(){let A=uu.get(p.auth._key());if(!A){try{const re=(yield function wc(b,d){return Ba.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;A=()=>Promise.resolve(re)}catch(U){A=()=>Promise.reject(U)}uu.set(p.auth._key(),A)}return p.bypassAuthState||uu.set(p.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,A=this;return(0,I.A)(function*(){if("signInViaRedirect"===d.type)return p().call(A,d);if("unknown"!==d.type){if(d.eventId){const U=yield A.auth._redirectUserForId(d.eventId);if(U)return A.user=U,p().call(A,d);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,I.A)(function*(){})()}cleanUp(){}}function Ba(){return(Ba=(0,I.A)(function*(b,d){const p=function $l(b){return Se("pendingRedirect",b.config.apiKey,b.name)}(d),A=function jl(b){return Oi(b._redirectPersistence)}(b);if(!(yield A._isAvailable()))return!1;const U="true"===(yield A._get(p));return yield A._remove(p),U})).apply(this,arguments)}function Za(b,d){uu.set(b._key(),d)}function ah(b,d){return zl.apply(this,arguments)}function zl(){return(zl=(0,I.A)(function*(b,d,p=!1){if((0,x.xZ)(b.app))return Promise.reject(et(b));const A=hn(b),U=function ia(b,d){return d?Oi(d):(Dt(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}(A,d),Be=yield new Tg(A,U,p).execute();return Be&&!p&&(delete Be.user._redirectEventId,yield A._persistUserIfCurrent(Be.user),yield A._setRedirectUser(null,d)),Be})).apply(this,arguments)}class $a{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(d,A)&&(p=!0,this.sendToConsumer(d,A),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Gl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tc(b);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var A;if(d.error&&!tc(d)){const U=(null===(A=d.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";p.onError(Fe(this.auth,U))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const A=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&A}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ic(d))}saveEventToCache(d){this.cachedEventUids.add(Ic(d)),this.lastProcessedEventTime=Date.now()}}function Ic(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(d=>d).join("-")}function tc({type:b,error:d}){return"unknown"===b&&"auth/no-auth-event"===d?.code}function Zu(){return(Zu=(0,I.A)(function*(b,d={}){return se(b,"GET","/v1/projects",d)})).apply(this,arguments)}const Pf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mf=/^https?/;function Ks(){return Ks=(0,I.A)(function*(b){if(b.config.emulator)return;const{authorizedDomains:d}=yield function Xu(b){return Zu.apply(this,arguments)}(b);for(const p of d)try{if(ma(p))return}catch{}Pt(b,"unauthorized-domain")}),Ks.apply(this,arguments)}function ma(b){const d=kn(),{protocol:p,hostname:A}=new URL(d);if(b.startsWith("chrome-extension://")){const Be=new URL(b);return""===Be.hostname&&""===A?"chrome-extension:"===p&&b.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&Be.hostname===A}if(!Mf.test(p))return!1;if(Pf.test(b))return A===b;const U=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(A)}const Kl=new sn(3e4,6e4);function $c(){const b=Qr().___jsl;if(b?.H)for(const d of Object.keys(b.H))if(b.H[d].r=b.H[d].r||[],b.H[d].L=b.H[d].L||[],b.H[d].r=[...b.H[d].L],b.CP)for(let p=0;p<b.CP.length;p++)b.CP[p]=null}let Ju=null;const zy=new sn(5e3,15e3),uh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ql=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tc(b){const d=b.config;Dt(d.authDomain,b,"auth-domain-config-required");const p=d.emulator?xt(d,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,A={apiKey:d.apiKey,appName:b.name,v:x.MF},U=ql.get(b.config.apiHost);U&&(A.eid=U);const re=b._getFrameworks();return re.length&&(A.fw=re.join(",")),`${p}?${(0,Z.Am)(A).slice(1)}`}function bc(){return bc=(0,I.A)(function*(b){const d=yield function kf(b){return Ju=Ju||function Nf(b){return new Promise((d,p)=>{var A,U,re;function Be(){$c(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{$c(),p(Fe(b,"network-request-failed"))},timeout:Kl.get()})}if(null!==(U=null===(A=Qr().gapi)||void 0===A?void 0:A.iframes)&&void 0!==U&&U.Iframe)d(gapi.iframes.getContext());else{if(null===(re=Qr().gapi)||void 0===re||!re.load){const rt=$t("iframefcb");return Qr()[rt]=()=>{gapi.load?Be():p(Fe(b,"network-request-failed"))},Ci(`${function Je(){return cr.gapiScript}()}?onload=${rt}`).catch(Ht=>p(Ht))}Be()}}).catch(d=>{throw Ju=null,d})}(b),Ju}(b),p=Qr().gapi;return Dt(p,b,"internal-error"),d.open({where:document.body,url:Tc(b),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uh,dontclear:!0},A=>new Promise(function(){var U=(0,I.A)(function*(re,Be){yield A.restyle({setHideOnLeave:!1});const rt=Fe(b,"network-request-failed"),Ht=Qr().setTimeout(()=>{Be(rt)},zy.get());function yn(){Qr().clearTimeout(Ht),re(A)}A.ping(yn).then(yn,()=>{Be(rt)})});return function(re,Be){return U.apply(this,arguments)}}()))}),bc.apply(this,arguments)}const el={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Of{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ff=encodeURIComponent("fac");function gu(b,d,p,A,U,re){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,I.A)(function*(b,d,p,A,U,re){Dt(b.config.authDomain,b,"auth-domain-config-required"),Dt(b.config.apiKey,b,"invalid-api-key");const Be={apiKey:b.config.apiKey,appName:b.name,authType:p,redirectUrl:A,v:x.MF,eventId:U};if(d instanceof Xi){d.setDefaultLanguage(b.languageCode),Be.providerId=d.providerId||"",(0,Z.Im)(d.getCustomParameters())||(Be.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Hn,Wn]of Object.entries(re||{}))Be[Hn]=Wn}if(d instanceof Ys){const Hn=d.getScopes().filter(Wn=>""!==Wn);Hn.length>0&&(Be.scopes=Hn.join(","))}b.tenantId&&(Be.tid=b.tenantId);const rt=Be;for(const Hn of Object.keys(rt))void 0===rt[Hn]&&delete rt[Hn];const Ht=yield b._getAppCheckToken(),yn=Ht?`#${Ff}=${encodeURIComponent(Ht)}`:"";return`${function hh({config:b}){return b.emulator?xt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,Z.Am)(rt).slice(1)}${yn}`})).apply(this,arguments)}const nc="webStorageSupport",Lf=class mu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mn,this._completeRedirectFn=ah,this._overrideRedirectResult=Za}_openPopup(d,p,A,U){var re=this;return(0,I.A)(function*(){var Be;Bn(null===(Be=re.eventManagers[d._key()])||void 0===Be?void 0:Be.manager,"_initialize() not called before _openPopup()");const rt=yield gu(d,p,A,kn(),U);return function Hc(b,d,p,A=500,U=600){const re=Math.max((window.screen.availHeight-U)/2,0).toString(),Be=Math.max((window.screen.availWidth-A)/2,0).toString();let rt="";const Ht=Object.assign(Object.assign({},el),{width:A.toString(),height:U.toString(),top:re,left:Be}),yn=(0,Z.ZQ)().toLowerCase();p&&(rt=en(yn)?"_blank":p),Vt(yn)&&(d=d||"http://localhost",Ht.scrollbars="yes");const Hn=Object.entries(Ht).reduce((Mr,[Ao,Yi])=>`${Mr}${Ao}=${Yi},`,"");if(function Ct(b=(0,Z.ZQ)()){var d;return Pe(b)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(yn)&&"_self"!==rt)return function fu(b,d){const p=document.createElement("a");p.href=b,p.target=d;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(A)}(d||"",rt),new Of(null);const Wn=window.open(d||"",rt,Hn);Dt(Wn,b,"popup-blocked");try{Wn.focus()}catch{}return new Of(Wn)}(d,rt,Do())})()}_openRedirect(d,p,A,U){var re=this;return(0,I.A)(function*(){return yield re._originValidation(d),function Oa(b){Qr().location.href=b}(yield gu(d,p,A,kn(),U)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:U,promise:re}=this.eventManagers[p];return U?Promise.resolve(U):(Bn(re,"If manager is not set, promise should be"),re)}const A=this.initAndGetManager(d);return this.eventManagers[p]={promise:A},A.catch(()=>{delete this.eventManagers[p]}),A}initAndGetManager(d){var p=this;return(0,I.A)(function*(){const A=yield function lh(b){return bc.apply(this,arguments)}(d),U=new $a(d);return A.register("authEvent",re=>(Dt(re?.authEvent,d,"invalid-auth-event"),{status:U.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:U},p.iframes[d._key()]=A,U})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(nc,{type:nc},U=>{var re;const Be=null===(re=U?.[0])||void 0===re?void 0:re[nc];void 0!==Be&&p(!!Be),Pt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Yu(b){return Ks.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return ve()||nt()||Pe()}};var ic="@firebase/auth";class ph{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,I.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(A=>{d(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bg=(0,Z.XA)("authIdTokenMaxAge")||300;let Zl=null;const gh=b=>function(){var d=(0,I.A)(function*(p){const A=p&&(yield p.getIdTokenResult()),U=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(U&&U>bg)return;const re=A?.token;Zl!==re&&(Zl=re,yield fetch(b,{method:re?"POST":"DELETE",headers:re?{Authorization:`Bearer ${re}`}:{}}))});return function(p){return d.apply(this,arguments)}}();function Yl(b=(0,x.Sx)()){const d=(0,x.j6)(b,"auth");if(d.isInitialized())return d.getImmediate();const p=function St(b,d){const p=(0,x.j6)(b,"auth");if(p.isInitialized()){const U=p.getImmediate(),re=p.getOptions();if((0,Z.bD)(re,d??{}))return U;Pt(U,"already-initialized")}return p.initialize({options:d})}(b,{popupRedirectResolver:Lf,persistence:[_c,Js,Mn]}),A=(0,Z.XA)("authTokenSyncURL");if(A&&"boolean"==typeof isSecureContext&&isSecureContext){const re=new URL(A,location.origin);if(location.origin===re.origin){const Be=gh(re.toString());(function E(b,d,p){(0,Z.Ku)(b).beforeAuthStateChanged(d,p)})(p,Be,()=>Be(p.currentUser)),function _(b,d,p,A){(0,Z.Ku)(b).onIdTokenChanged(d,p,A)}(p,rt=>Be(rt))}}const U=(0,Z.Tj)("auth");return U&&function Fn(b,d,p){const A=hn(b);Dt(/^https?:\/\//.test(d),A,"invalid-emulator-scheme");const U=!!p?.disableWarnings,re=ai(d),{host:Be,port:rt}=function Xr(b){const d=ai(b),p=/(\/\/)?([^?#/]+)/.exec(b.substr(d.length));if(!p)return{host:"",port:null};const A=p[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(A);if(U){const re=U[1];return{host:re,port:Zr(A.substr(re.length+1))}}{const[re,Be]=A.split(":");return{host:re,port:Zr(Be)}}}(d),Ht=null===rt?"":`:${rt}`,yn={url:`${re}//${Be}${Ht}/`},Hn=Object.freeze({host:Be,port:rt,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:U})});if(!A._canInitEmulator)return Dt(A.config.emulator&&A.emulatorConfig,A,"emulator-config-failed"),void Dt((0,Z.bD)(yn,A.config.emulator)&&(0,Z.bD)(Hn,A.emulatorConfig),A,"emulator-config-failed");A.config.emulator=yn,A.emulatorConfig=Hn,A.settings.appVerificationDisabledForTesting=!0,(0,Z.zJ)(Be)?((0,Z.gE)(`${re}//${Be}${Ht}`),(0,Z.P1)("Auth",!0)):U||function _r(){function b(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(p,`http://${U}`),p}(function Ei(b){cr=b})({loadJS:b=>new Promise((d,p)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=d,A.onerror=U=>{const re=Fe("internal-error");re.customData=U,p(re)},A.type="text/javascript",A.charset="UTF-8",function mh(){var b,d;return null!==(d=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==d?d:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Wc(b){(0,x.om)(new it.uA("auth",(d,{options:p})=>{const A=d.getProvider("app").getImmediate(),U=d.getProvider("heartbeat"),re=d.getProvider("app-check-internal"),{apiKey:Be,authDomain:rt}=A.options;Dt(Be&&!Be.includes(":"),"invalid-api-key",{appName:A.name});const Ht={apiKey:Be,authDomain:rt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ue(b)},yn=new jn(A,U,re,Ht);return function dn(b,d){const p=d?.persistence||[],A=(Array.isArray(p)?p:[p]).map(Oi);d?.errorMap&&b._updateErrorMap(d.errorMap),b._initializeWithPersistence(A,d?.popupRedirectResolver)}(yn,p),yn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,A)=>{d.getProvider("auth-internal").initialize()})),(0,x.om)(new it.uA("auth-internal",d=>{const p=hn(d.getProvider("auth").getImmediate());return new ph(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.KO)(ic,"1.10.6",function oc(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,x.KO)(ic,"1.10.6","esm2017")}("Browser")},591:(Dn,Ge,j)=>{"use strict";function I(x){return new TypeError(`You provided ${null!==x&&"object"==typeof x?"an invalid object":`'${x}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}j.d(Ge,{L:()=>I})},941:(Dn,Ge,j)=>{"use strict";j.d(Ge,{Q:()=>$});var I=j(5225),x=j(9974),Z=j(4360);function $(Me,it=0){return(0,x.N)((Ie,De)=>{Ie.subscribe((0,Z._)(De,Ke=>(0,I.N)(De,Me,()=>De.next(Ke),it),()=>(0,I.N)(De,Me,()=>De.complete(),it),Ke=>(0,I.N)(De,Me,()=>De.error(Ke),it)))})}},969:(Dn,Ge,j)=>{"use strict";j.d(Ge,{FX:()=>tn,If:()=>I,K2:()=>it,PZ:()=>jt,hZ:()=>Z,i0:()=>$,iF:()=>Ie,kY:()=>be,kp:()=>x,sf:()=>zt,wk:()=>De});var I=function(vt){return vt[vt.State=0]="State",vt[vt.Transition=1]="Transition",vt[vt.Sequence=2]="Sequence",vt[vt.Group=3]="Group",vt[vt.Animate=4]="Animate",vt[vt.Keyframes=5]="Keyframes",vt[vt.Style=6]="Style",vt[vt.Trigger=7]="Trigger",vt[vt.Reference=8]="Reference",vt[vt.AnimateChild=9]="AnimateChild",vt[vt.AnimateRef=10]="AnimateRef",vt[vt.Query=11]="Query",vt[vt.Stagger=12]="Stagger",vt}(I||{});const x="*";function Z(vt,Tt){return{type:I.Trigger,name:vt,definitions:Tt,options:{}}}function $(vt,Tt=null){return{type:I.Animate,styles:Tt,timings:vt}}function it(vt,Tt=null){return{type:I.Sequence,steps:vt,options:Tt}}function Ie(vt){return{type:I.Style,styles:vt,offset:null}}function De(vt,Tt,Pt){return{type:I.State,name:vt,styles:Tt,options:Pt}}function be(vt,Tt,Pt=null){return{type:I.Transition,expr:vt,animation:Tt,options:Pt}}class zt{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(Tt=0,Pt=0){this.totalTime=Tt+Pt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Tt=>Tt()),this._onDoneFns=[])}onStart(Tt){this._originalOnStartFns.push(Tt),this._onStartFns.push(Tt)}onDone(Tt){this._originalOnDoneFns.push(Tt),this._onDoneFns.push(Tt)}onDestroy(Tt){this._onDestroyFns.push(Tt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Tt=>Tt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Tt=>Tt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Tt){this._position=this.totalTime?Tt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Tt){const Pt="start"==Tt?this._onStartFns:this._onDoneFns;Pt.forEach(Fe=>Fe()),Pt.length=0}}class jt{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(Tt){this.players=Tt;let Pt=0,Fe=0,st=0;const et=this.players.length;0==et?queueMicrotask(()=>this._onFinish()):this.players.forEach(bt=>{bt.onDone(()=>{++Pt==et&&this._onFinish()}),bt.onDestroy(()=>{++Fe==et&&this._onDestroy()}),bt.onStart(()=>{++st==et&&this._onStart()})}),this.totalTime=this.players.reduce((bt,Xt)=>Math.max(bt,Xt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Tt=>Tt()),this._onDoneFns=[])}init(){this.players.forEach(Tt=>Tt.init())}onStart(Tt){this._onStartFns.push(Tt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Tt=>Tt()),this._onStartFns=[])}onDone(Tt){this._onDoneFns.push(Tt)}onDestroy(Tt){this._onDestroyFns.push(Tt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Tt=>Tt.play())}pause(){this.players.forEach(Tt=>Tt.pause())}restart(){this.players.forEach(Tt=>Tt.restart())}finish(){this._onFinish(),this.players.forEach(Tt=>Tt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Tt=>Tt.destroy()),this._onDestroyFns.forEach(Tt=>Tt()),this._onDestroyFns=[])}reset(){this.players.forEach(Tt=>Tt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Tt){const Pt=Tt*this.totalTime;this.players.forEach(Fe=>{const st=Fe.totalTime?Math.min(1,Pt/Fe.totalTime):1;Fe.setPosition(st)})}getPosition(){const Tt=this.players.reduce((Pt,Fe)=>null===Pt||Fe.totalTime>Pt.totalTime?Fe:Pt,null);return null!=Tt?Tt.getPosition():0}beforeDestroy(){this.players.forEach(Tt=>{Tt.beforeDestroy&&Tt.beforeDestroy()})}triggerCallback(Tt){const Pt="start"==Tt?this._onStartFns:this._onDoneFns;Pt.forEach(Fe=>Fe()),Pt.length=0}}const tn="!"},980:(Dn,Ge,j)=>{"use strict";j.d(Ge,{j:()=>x});var I=j(9974);function x(Z){return(0,I.N)(($,Me)=>{try{$.subscribe(Me)}finally{Me.add(Z)}})}},983:(Dn,Ge,j)=>{"use strict";j.d(Ge,{w:()=>x});const x=new(j(1985).c)(Me=>Me.complete())},1026:(Dn,Ge,j)=>{"use strict";j.d(Ge,{$:()=>I});const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(Dn,Ge,j)=>{"use strict";j.d(Ge,{F:()=>x,m:()=>Z});var I=j(3669);function x(...$){return Z($)}function Z($){return 0===$.length?I.D:1===$.length?$[0]:function(it){return $.reduce((Ie,De)=>De(Ie),it)}}},1360:(Dn,Ge,j)=>{"use strict";j.d(Ge,{bc$:()=>Qg,iLQ:()=>Cy,sZ2:()=>vu,o8S:()=>pc,BIS:()=>p_,gRc:()=>jA,Ql9:()=>vN,OM3:()=>vy,Ocv:()=>AN,abz:()=>Ns,Z63:()=>Xi,aKT:()=>sl,uvJ:()=>ii,zcH:()=>ac,bkB:()=>sc,$GK:()=>Vn,nKC:()=>Ee,zZn:()=>fs,_q3:()=>cT,MKu:()=>uT,xe9:()=>rT,Co$:()=>D0,Vns:()=>ff,SKi:()=>yo,Xx1:()=>Fr,Agw:()=>qg,PLl:()=>Kg,u5s:()=>nl,sFG:()=>IC,_9s:()=>Uw,czy:()=>Ru,WPN:()=>Pd,kdw:()=>fo,C4Q:()=>nf,NYb:()=>kR,giA:()=>J0,xvI:()=>yN,RxE:()=>PA,c1b:()=>Xv,gXe:()=>Rc,mal:()=>cm,Af3:()=>ko,L39:()=>vk,EWP:()=>jy,Ol2:()=>rI,w6W:()=>fS,Rfq:()=>xi,WQX:()=>wn,hFB:()=>e_,naY:()=>LN,QuC:()=>we,EmA:()=>Ne,phd:()=>FR,HJs:()=>Bk,N4e:()=>Ps,vPA:()=>Qc,O8t:()=>au,H3F:()=>hI,H8p:()=>Ni,KH2:()=>_g,Ua0:()=>qc,wOt:()=>pt,WHO:()=>Z0,e01:()=>Y0,Lf2:()=>ud,lNU:()=>xr,h9k:()=>Cp,$MX:()=>Dd,ZF7:()=>Td,Kcf:()=>K_,e5t:()=>bp,UyX:()=>JE,cWb:()=>Tp,osQ:()=>ml,H5H:()=>FI,Zy3:()=>Zn,mq5:()=>Kb,JZv:()=>Sn,TL3:()=>ZN,LfX:()=>Ft,plB:()=>hf,jNT:()=>yI,zjR:()=>tb,ngT:()=>va,TL$:()=>NE,Tbb:()=>je,rcV:()=>eu,Vt3:()=>oI,OA$:()=>Nl,Jv_:()=>JD,R7$:()=>m,BMQ:()=>II,HbH:()=>Pb,ZvI:()=>Lb,STu:()=>Vb,AVh:()=>RI,wni:()=>CD,VBU:()=>C0,FsC:()=>S0,jDH:()=>Ue,G2t:()=>It,$C:()=>iI,EJ8:()=>R0,rXU:()=>ng,nrm:()=>xI,bVm:()=>lE,qex:()=>uE,k0s:()=>cE,j41:()=>aE,RV6:()=>Wb,xGo:()=>Zl,KVO:()=>ni,kS0:()=>b,QTQ:()=>KT,bIt:()=>UI,lsd:()=>RD,joV:()=>ah,qSk:()=>Rf,XpG:()=>yD,nI1:()=>dA,i5U:()=>hA,Y8G:()=>AI,lJ4:()=>tA,eq3:()=>nA,l_i:()=>rA,sMw:()=>iA,ziG:()=>oA,mGM:()=>SD,sdS:()=>PD,Njj:()=>ra,eBV:()=>Ec,npT:()=>ow,B4B:()=>J_,n$t:()=>jm,xc7:()=>SI,zvX:()=>OI,DNE:()=>uI,EFF:()=>BD,JRh:()=>$I,SpI:()=>gE,Lme:()=>HI,DH7:()=>QD,mxI:()=>WI,R50:()=>zI});var I=j(467);function x(e,t){return Object.is(e,t)}let Z=null,$=!1,Me=1;const it=Symbol("SIGNAL");function Ie(e){const t=Z;return Z=e,t}const Te={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ht(e){if($)throw new Error("");if(null===Z)return;Z.consumerOnSignalRead(e);const t=Z.nextProducerIndex++;Xt(Z),t<Z.producerNode.length&&Z.producerNode[t]!==e&&bt(Z)&&et(Z.producerNode[t],Z.producerIndexOfThis[t]),Z.producerNode[t]!==e&&(Z.producerNode[t]=e,Z.producerIndexOfThis[t]=bt(Z)?st(e,Z,t):0),Z.producerLastReadVersion[t]=e.version}function ft(e){if((!bt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Me)){if(!e.producerMustRecompute(e)&&!Pt(e))return void tn(e);e.producerRecomputeValue(e),tn(e)}}function Mt(e){if(void 0===e.liveConsumerNode)return;const t=$;$=!0;try{for(const r of e.liveConsumerNode)r.dirty||jt(r)}finally{$=t}}function zt(){return!1!==Z?.consumerAllowSignalWrites}function jt(e){e.dirty=!0,Mt(e),e.consumerMarkedDirty?.(e)}function tn(e){e.dirty=!1,e.lastCleanEpoch=Me}function vt(e){return e&&(e.nextProducerIndex=0),Ie(e)}function Tt(e,t){if(Ie(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(bt(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)et(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Pt(e){Xt(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(ft(r),o!==r.version))return!0}return!1}function Fe(e){if(Xt(e),bt(e))for(let t=0;t<e.producerNode.length;t++)et(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function st(e,t,r){if(Dt(e),0===e.liveConsumerNode.length&&lt(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=st(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function et(e,t){if(Dt(e),1===e.liveConsumerNode.length&&lt(e))for(let o=0;o<e.producerNode.length;o++)et(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Xt(a),a.producerIndexOfThis[o]=t}}function bt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Xt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Dt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function lt(e){return void 0!==e.producerNode}const kn=Symbol("UNSET"),Xn=Symbol("COMPUTING"),mt=Symbol("ERRORED"),In={...Te,value:kn,dirty:!0,error:null,equal:x,kind:"computed",producerMustRecompute:e=>e.value===kn||e.value===Xn,producerRecomputeValue(e){if(e.value===Xn)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Xn;const r=vt(e);let o,a=!1;try{o=e.computation(),Ie(null),a=t!==kn&&t!==mt&&o!==mt&&e.equal(t,o)}catch(l){o=mt,e.error=l}finally{Tt(e,r)}a?e.value=t:(e.value=o,e.version++)}};let sn=function tt(){throw new Error};function xt(e){sn(e)}let ne=null;function ye(e,t){zt()||xt(e),e.equal(e.value,t)||(e.value=t,function Et(e){e.version++,function Xe(){Me++}(),Mt(e),ne?.()}(e))}const Ye={...Te,equal:x,value:void 0,kind:"signal"};let Jt;function Un(){return Jt}function nr(e){const t=Jt;return Jt=e,t}const An=Symbol("NotFound");Error;var Ai=j(4412),gn=j(1413),pr=j(8359),ln=j(6354);const xr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class pt extends Error{code;constructor(t,r){super(Zn(t,r)),this.code=t}}function Zn(e,t){return`${function Tr(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const Yt=Symbol("InputSignalNode#UNSET"),oi={...Ye,transformFn:void 0,applyValueToInputSignal(e,t){ye(e,t)}};function pi(e,t){const r=Object.create(oi);function o(){if(ht(r),r.value===Yt)throw new pt(-950,null);return r.value}return r.value=e,r.transformFn=t?.transform,o[it]=r,o}function Ar(e){return{toString:e}.toString()}const Rr="__parameters__";function gi(e,t,r){return Ar(()=>{const o=function sr(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...l){if(this instanceof a)return o.apply(this,l),this;const f=new a(...l);return v.annotation=f,v;function v(D,O,W){const te=D.hasOwnProperty(Rr)?D[Rr]:Object.defineProperty(D,Rr,{value:[]})[Rr];for(;te.length<=W;)te.push(null);return(te[W]=te[W]||[]).push(f),D}}return a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Sn=globalThis;function Gn(e){for(let t in e)if(e[t]===Gn)return t;throw Error("Could not find renamed property on target object.")}function Ki(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function je(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(je).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const r=e.toString();if(null==r)return""+r;const o=r.indexOf("\n");return o>=0?r.slice(0,o):r}function Cr(e,t){return e?t?`${e} ${t}`:e:t||""}const si=Gn({__forward_ref__:Gn});function xi(e){return e.__forward_ref__=xi,e.toString=function(){return je(this())},e}function vn(e){return mr(e)?e():e}function mr(e){return"function"==typeof e&&e.hasOwnProperty(si)&&e.__forward_ref__===xi}function Ue(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function It(e){return{providers:e.providers||[],imports:e.imports||[]}}function _t(e){return an(e,Kn)||an(e,Ei)}function Ft(e){return null!==_t(e)}function an(e,t){return e.hasOwnProperty(t)?e[t]:null}function hn(e){return e&&(e.hasOwnProperty(cr)||e.hasOwnProperty(Ci))?e[cr]:null}const Kn=Gn({\u0275prov:Gn}),cr=Gn({\u0275inj:Gn}),Ei=Gn({ngInjectableDef:Gn}),Ci=Gn({ngInjectorDef:Gn});class Ee{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,r){this._desc=t,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Ue({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function io(e){return e&&!!e.\u0275providers}const ji=Gn({\u0275cmp:Gn}),Lo=Gn({\u0275dir:Gn}),eo=Gn({\u0275pipe:Gn}),B=Gn({\u0275mod:Gn}),me=Gn({\u0275fac:Gn}),Q=Gn({__NG_ELEMENT_ID__:Gn}),ie=Gn({__NG_ENV_ID__:Gn});function ke(e){return"string"==typeof e?e:null==e?"":String(e)}function ai(e,t){throw new pt(-200,e)}function _r(e,t){throw new pt(-201,!1)}var Vn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Vn||{});let vr;function $i(){return vr}function mi(e){const t=vr;return vr=e,t}function Eo(e,t,r){const o=_t(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Vn.Optional?null:void 0!==t?t:void _r()}const ot={},xe="__NG_DI_FLAG__";class yt{injector;constructor(t){this.injector=t}retrieve(t,r){return this.injector.get(t,r.optional?An:ot,r)}}const rn="ngTempTokenPath",$n=/\n/gm,ho="__source";function Ss(e,t=Vn.Default){if(void 0===Un())throw new pt(-203,!1);if(null===Un())return Eo(e,void 0,t);{const r=Un();let o;return o=r instanceof yt?r.injector:r,o.get(e,t&Vn.Optional?null:void 0,t)}}function ni(e,t=Vn.Default){return($i()||Ss)(vn(e),t)}function wn(e,t=Vn.Default){return ni(e,is(t))}function is(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function wo(e){const t=[];for(let r=0;r<e.length;r++){const o=vn(e[r]);if(Array.isArray(o)){if(0===o.length)throw new pt(900,!1);let a,l=Vn.Default;for(let f=0;f<o.length;f++){const v=o[f],D=Qo(v);"number"==typeof D?-1===D?a=v.token:l|=D:a=v}t.push(ni(a,l))}else t.push(ni(o))}return t}function So(e,t){return e[xe]=t,e.prototype[xe]=t,e}function Qo(e){return e[xe]}const Fr=So(gi("Optional"),8),fo=So(gi("SkipSelf"),4);function vs(e,t){return e.hasOwnProperty(me)?e[me]:null}function Yr(e,t){e.forEach(r=>Array.isArray(r)?Yr(r,t):t(r))}function Jr(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Es(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Io(e,t,r){let o=Fs(e,t);return o>=0?e[1|o]=r:(o=~o,function us(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Vi(e,t){const r=Fs(e,t);if(r>=0)return e[1|r]}function Fs(e,t){return function No(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const l=o+(a-o>>1),f=e[l<<r];if(t===f)return l<<r;f>t?a=l:o=l+1}return~(a<<r)}(e,t,1)}const Lr={},Er=[],Xi=new Ee(""),Ys=new Ee("",-1),Rs=new Ee("");class wa{get(t,r=ot){if(r===ot){const o=new Error(`NullInjectorError: No provider for ${je(t)}!`);throw o.name="NullInjectorError",o}return r}}function Vo(e,t){const r=e[B]||null;if(!r&&!0===t)throw new Error(`Type ${je(e)} does not have '\u0275mod' property.`);return r}function wr(e){return e[ji]||null}function q(e){return e[Lo]||null}function K(e){return e[eo]||null}function we(e){const t=wr(e)||q(e)||K(e);return null!==t&&t.standalone}function Ne(e){return{\u0275providers:e}}function Ot(...e){return{\u0275providers:Zt(0,e),\u0275fromNgModule:!0}}function Zt(e,...t){const r=[],o=new Set;let a;const l=f=>{r.push(f)};return Yr(t,f=>{const v=f;mn(v,l,[],o)&&(a||=[],a.push(v))}),void 0!==a&&bn(a,l),r}function bn(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];Jn(a,l=>{t(l,o)})}}function mn(e,t,r,o){if(!(e=vn(e)))return!1;let a=null,l=hn(e);const f=!l&&wr(e);if(l||f){if(f&&!f.standalone)return!1;a=e}else{const D=e.ngModule;if(l=hn(D),!l)return!1;a=D}const v=o.has(a);if(f){if(v)return!1;if(o.add(a),f.dependencies){const D="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const O of D)mn(O,t,r,o)}}else{if(!l)return!1;{if(null!=l.imports&&!v){let O;o.add(a);try{Yr(l.imports,W=>{mn(W,t,r,o)&&(O||=[],O.push(W))})}finally{}void 0!==O&&bn(O,t)}if(!v){const O=vs(a)||(()=>new a);t({provide:a,useFactory:O,deps:Er},a),t({provide:Rs,useValue:a,multi:!0},a),t({provide:Xi,useValue:()=>ni(a),multi:!0},a)}const D=l.providers;if(null!=D&&!v){const O=e;Jn(D,W=>{t(W,O)})}}}return a!==e&&void 0!==e.providers}function Jn(e,t){for(let r of e)io(r)&&(r=r.\u0275providers),Array.isArray(r)?Jn(r,t):t(r)}const Ur=Gn({provide:String,useValue:Gn});function wi(e){return null!==e&&"object"==typeof e&&Ur in e}function Si(e){return"function"==typeof e}const Ni=new Ee(""),so={},_i={};let Ri;function To(){return void 0===Ri&&(Ri=new wa),Ri}class ii{}class po extends ii{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,to(t,f=>this.processProvider(f)),this.records.set(Ys,ds(void 0,this)),a.has("environment")&&this.records.set(ii,ds(void 0,this));const l=this.records.get(Ni);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Rs,Er,Vn.Self))}retrieve(t,r){return this.get(t,r.optional?An:ot,r)}destroy(){Ls(this),this._destroyed=!0;const t=Ie(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(t)}}onDestroy(t){return Ls(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Ls(this);const r=nr(this),o=mi(void 0);try{return t()}finally{nr(r),mi(o)}}get(t,r=ot,o=Vn.Default){if(Ls(this),t.hasOwnProperty(ie))return t[ie](this);o=is(o);const l=nr(this),f=mi(void 0);try{if(!(o&Vn.SkipSelf)){let D=this.records.get(t);if(void 0===D){const O=function Vs(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ee}(t)&&_t(t);D=O&&this.injectableDefInScope(O)?ds(Wo(t),so):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D,o)}return(o&Vn.Self?To():this.parent).get(t,r=o&Vn.Optional&&r===ot?null:r)}catch(v){if("NullInjectorError"===v.name){if((v[rn]=v[rn]||[]).unshift(je(t)),l)throw v;return function Ro(e,t,r,o){const a=e[rn];throw t[ho]&&a.unshift(t[ho]),e.message=function _s(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=je(t);if(Array.isArray(t))a=t.map(je).join(" -> ");else if("object"==typeof t){let l=[];for(let f in t)if(t.hasOwnProperty(f)){let v=t[f];l.push(f+":"+("string"==typeof v?JSON.stringify(v):je(v)))}a=`{${l.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace($n,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[rn]=null,e}(v,t,"R3InjectorError",this.source)}throw v}finally{mi(f),nr(l)}}resolveInjectorInitializers(){const t=Ie(null),r=nr(this),o=mi(void 0);try{const l=this.get(Xi,Er,Vn.Self);for(const f of l)f()}finally{nr(r),mi(o),Ie(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(je(o));return`R3Injector[${t.join(", ")}]`}processProvider(t){let r=Si(t=vn(t))?t:vn(t&&t.provide);const o=function aa(e){return wi(e)?ds(void 0,e.useValue):ds(Ia(e),so)}(t);if(!Si(t)&&!0===t.multi){let a=this.records.get(r);a||(a=ds(void 0,so,!0),a.factory=()=>wo(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r,o){const a=Ie(null);try{return r.value===_i?ai(je(t)):r.value===so&&(r.value=_i,r.value=r.factory(void 0,o)),"object"==typeof r.value&&r.value&&function ca(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Ie(a)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=vn(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Wo(e){const t=_t(e),r=null!==t?t.factory:vs(e);if(null!==r)return r;if(e instanceof Ee)throw new pt(204,!1);if(e instanceof Function)return function ls(e){if(e.length>0)throw new pt(204,!1);const r=function jn(e){return e&&(e[Kn]||e[Ei])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new pt(204,!1)}function Ia(e,t,r){let o;if(Si(e)){const a=vn(e);return vs(a)||Wo(a)}if(wi(e))o=()=>vn(e.useValue);else if(function Ui(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...wo(e.deps||[]));else if(function yi(e){return!(!e||!e.useExisting)}(e))o=(a,l)=>ni(vn(e.useExisting),void 0!==l&&l&Vn.Optional?Vn.Optional:void 0);else{const a=vn(e&&(e.useClass||e.provide));if(!function Na(e){return!!e.deps}(e))return vs(a)||Wo(a);o=()=>new a(...wo(e.deps))}return o}function Ls(e){if(e.destroyed)throw new pt(205,!1)}function ds(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function to(e,t){for(const r of e)Array.isArray(r)?to(r,t):r&&io(r)?to(r.\u0275providers,t):t(r)}function Ps(e,t){let r;e instanceof po?(Ls(e),r=e):r=new yt(e);const a=nr(r),l=mi(void 0);try{return t()}finally{nr(a),mi(l)}}function di(){return void 0!==$i()||null!=Un()}function ko(e){if(!di())throw new pt(-203,!1)}const qr=0,on=1,ir=2,hi=3,Uo=4,Hi=5,Ko=6,hs=7,jr=8,P=9,M=10,z=11,Re=12,Lt=13,Rn=14,ur=15,Bi=16,zi=17,bo=18,$s=19,Da=20,xn=26,la=1,Aa=9,Wi=10;function H(e){return Array.isArray(e)&&"object"==typeof e[la]}function _(e){return Array.isArray(e)&&!0===e[la]}function E(e){return!!(4&e.flags)}function R(e){return e.componentOffset>-1}function L(e){return!(1&~e.flags)}function X(e){return!!e.template}function Ae(e){return!!(512&e[ir])}function w(e){return!(256&~e[ir])}class zu{previousValue;currentValue;firstChange;constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function mc(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}const Nl=(()=>{const e=()=>Qn;return e.ngInherit=!0,e})();function Qn(e){return e.type.prototype.ngOnChanges&&(e.setInput=dr),Mn}function Mn(){const e=Do(this),t=e?.current;if(t){const r=e.previous;if(r===Lr)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function dr(e,t,r,o,a){const l=this.declaredInputs[o],f=Do(e)||function ha(e,t){return e[ei]=t}(e,{previous:Lr,current:null}),v=f.current||(f.current={}),D=f.previous,O=D[l];v[l]=new zu(O&&O.currentValue,r,D===Lr),mc(e,t,a,r)}const ei="__ngSimpleChanges__";function Do(e){return e[ei]||null}const ar=function(e,t=null,r){},Fa="svg";function hr(e){for(;Array.isArray(e);)e=e[qr];return e}function qo(e,t){return hr(t[e])}function mo(e,t){return hr(t[e.index])}function Va(e,t){return e.data[t]}function ea(e,t){return e[t]}function Ds(e,t){const r=t[e];return H(r)?r:r[qr]}function xo(e){return!(128&~e[ir])}function ta(e,t){return null==t?null:e[t]}function Wu(e){e[zi]=0}function Fc(e){1024&e[ir]||(e[ir]|=1024,xo(e)&&_c(e))}function cu(e){return!!(9216&e[ir]||e[24]?.dirty)}function ih(e){e[M].changeDetectionScheduler?.notify(8),64&e[ir]&&(e[ir]|=1024),cu(e)&&_c(e)}function _c(e){e[M].changeDetectionScheduler?.notify(0);let t=na(e);for(;null!==t&&!(8192&t[ir])&&(t[ir]|=8192,xo(t));)t=na(t)}function Xa(e,t){if(w(e))throw new pt(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function na(e){const t=e[hi];return _(t)?t[hi]:t}function vc(e){return e[hs]??=[]}function kl(e){return e.cleanup??=[]}const Dr={lFrame:Qu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ol=!1;function Tf(){return Dr.bindingsEnabled}function kt(){return Dr.lFrame.lView}function Ir(){return Dr.lFrame.tView}function Ec(e){return Dr.lFrame.contextLView=e,e[jr]}function ra(e){return Dr.lFrame.contextLView=null,e}function $r(){let e=bf();for(;null!==e&&64===e.type;)e=e.parent;return e}function bf(){return Dr.lFrame.currentTNode}function Ws(e,t){const r=Dr.lFrame;r.currentTNode=e,r.isParent=t}function Ll(){return Dr.lFrame.isParent}function Vl(){Dr.lFrame.isParent=!1}function wg(){return Ol}function Vc(e){const t=Ol;return Ol=e,t}function Is(){const e=Dr.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Gs(){return Dr.lFrame.bindingIndex++}function ga(e){const t=Dr.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Tg(e,t){const r=Dr.lFrame;r.bindingIndex=r.bindingRootIndex=e,Ba(t)}function Ba(e){Dr.lFrame.currentDirectiveIndex=e}function lu(e){const t=Dr.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function qu(){return Dr.lFrame.currentQueryIndex}function Bl(e){Dr.lFrame.currentQueryIndex=e}function Za(e){const t=e[on];return 2===t.type?t.declTNode:1===t.type?e[Hi]:null}function jl(e,t,r){if(r&Vn.SkipSelf){let a=t,l=e;for(;!(a=a.parent,null!==a||r&Vn.Host||(a=Za(l),null===a||(l=l[Rn],10&a.type))););if(null===a)return!1;t=a,e=l}const o=Dr.lFrame=Sf();return o.currentTNode=t,o.lView=e,!0}function $l(e){const t=Sf(),r=e[on];Dr.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Sf(){const e=Dr.lFrame,t=null===e?null:e.child;return null===t?Qu(e):t}function Qu(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ja(){const e=Dr.lFrame;return Dr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Uc=ja;function Ya(){const e=ja();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ts(){return Dr.lFrame.selectedIndex}function Ja(e){Dr.lFrame.selectedIndex=e}function Mi(){const e=Dr.lFrame;return Va(e.tView,e.selectedIndex)}function Rf(){Dr.lFrame.currentNamespace=Fa}function ah(){!function zl(){Dr.lFrame.currentNamespace=null}()}let jc=!0;function ec(){return jc}function $a(e){jc=e}function tc(e,t){for(let r=t.directiveStart,o=t.directiveEnd;r<o;r++){const l=e.data[r].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:v,ngAfterViewInit:D,ngAfterViewChecked:O,ngOnDestroy:W}=l;f&&(e.contentHooks??=[]).push(-r,f),v&&((e.contentHooks??=[]).push(r,v),(e.contentCheckHooks??=[]).push(r,v)),D&&(e.viewHooks??=[]).push(-r,D),O&&((e.viewHooks??=[]).push(r,O),(e.viewCheckHooks??=[]).push(r,O)),null!=W&&(e.destroyHooks??=[]).push(r,W)}}function Gl(e,t,r){Pf(e,t,3,r)}function Xu(e,t,r,o){(3&e[ir])===r&&Pf(e,t,r,o)}function Zu(e,t){let r=e[ir];(3&r)===t&&(r&=16383,r+=1,e[ir]=r)}function Pf(e,t,r,o){const l=o??-1,f=t.length-1;let v=0;for(let D=void 0!==o?65535&e[zi]:0;D<f;D++)if("number"==typeof t[D+1]){if(v=t[D],null!=o&&v>=o)break}else t[D]<0&&(e[zi]+=65536),(v<l||-1==l)&&(Yu(e,r,t,D),e[zi]=(4294901760&e[zi])+D+2),D++}function Mf(e,t){ar(4,e,t);const r=Ie(null);try{t.call(e)}finally{Ie(r),ar(5,e,t)}}function Yu(e,t,r,o){const a=r[o]<0,l=r[o+1],v=e[a?-r[o]:r[o]];a?e[ir]>>14<e[zi]>>16&&(3&e[ir])===t&&(e[ir]+=16384,Mf(v,l)):Mf(v,l)}const Ks=-1;class ma{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,r,o){this.factory=t,this.canSeeViewProviders=r,this.injectImpl=o}}function uh(e){return 3===e||4===e||6===e}function ql(e){return 64===e.charCodeAt(0)}function Tc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||lh(e,r,a,0,-1===r||2===r?t[++o]:null)}}return e}function lh(e,t,r,o,a){let l=0,f=e.length;if(-1===t)f=-1;else for(;l<e.length;){const v=e[l++];if("number"==typeof v){if(v===t){f=-1;break}if(v>t){f=l-1;break}}}for(;l<e.length;){const v=e[l];if("number"==typeof v)break;if(v===r)return void(null!==a&&(e[l+1]=a));l++,null!==a&&l++}-1!==f&&(e.splice(f,0,t),l=f+1),e.splice(l++,0,r),null!==a&&e.splice(l++,0,a)}function bc(e){return e!==Ks}function el(e){return 32767&e}function du(e,t){let r=function dh(e){return e>>16}(e),o=t;for(;r>0;)o=o[Rn],r--;return o}let hu=!0;function Ql(e){const t=hu;return hu=e,t}const Hc=255,fu=5;let pu=0;const Sa={};function gu(e,t){const r=hh(e,t);if(-1!==r)return r;const o=t[on];o.firstCreatePass&&(e.injectorIndex=t.length,Zo(o.data,e),Zo(t,null),Zo(o.blueprint,null));const a=nc(e,t),l=e.injectorIndex;if(bc(a)){const f=el(a),v=du(a,t),D=v[on].data;for(let O=0;O<8;O++)t[l+O]=v[f+O]|D[f+O]}return t[l+8]=a,l}function Zo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function nc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=mh(a),null===o)return Ks;if(r++,a=a[Rn],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Ks}function mu(e,t,r){!function Ff(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Q)&&(o=r[Q]),null==o&&(o=r[Q]=pu++);const a=o&Hc;t.data[e+(a>>fu)]|=1<<a}(e,t,r)}function Ha(e,t,r){if(r&Vn.Optional||void 0!==e)return e;_r()}function Dc(e,t,r,o){if(r&Vn.Optional&&void 0===o&&(o=null),!(r&(Vn.Self|Vn.Host))){const a=e[P],l=mi(void 0);try{return a?a.get(t,o,r&Vn.Optional):Eo(t,o,r&Vn.Optional)}finally{mi(l)}}return Ha(o,0,r)}function Vf(e,t,r,o=Vn.Default,a){if(null!==e){if(2048&t[ir]&&!(o&Vn.Self)){const f=function Yl(e,t,r,o,a){let l=e,f=t;for(;null!==l&&null!==f&&2048&f[ir]&&!Ae(f);){const v=zc(l,f,r,o|Vn.Self,Sa);if(v!==Sa)return v;let D=l.parent;if(!D){const O=f[Da];if(O){const W=O.get(r,Sa,o);if(W!==Sa)return W}D=mh(f),f=f[Rn]}l=D}return a}(e,t,r,o,Sa);if(f!==Sa)return f}const l=zc(e,t,r,o,Sa);if(l!==Sa)return l}return Dc(t,r,o,a)}function zc(e,t,r,o,a){const l=function ic(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Q)?e[Q]:void 0;return"number"==typeof t?t>=0?t&Hc:bg:t}(r);if("function"==typeof l){if(!jl(t,e,o))return o&Vn.Host?Ha(a,0,o):Dc(t,r,o,a);try{let f;if(f=l(o),null!=f||o&Vn.Optional)return f;_r()}finally{Uc()}}else if("number"==typeof l){let f=null,v=hh(e,t),D=Ks,O=o&Vn.Host?t[ur][Hi]:null;for((-1===v||o&Vn.SkipSelf)&&(D=-1===v?nc(e,t):t[v+8],D!==Ks&&ph(o,!1)?(f=t[on],v=el(D),t=du(D,t)):v=-1);-1!==v;){const W=t[on];if(Xl(l,v,W.data)){const te=fh(v,t,r,f,o,O);if(te!==Sa)return te}D=t[v+8],D!==Ks&&ph(o,t[on].data[v+8]===O)&&Xl(l,v,t)?(f=W,v=el(D),t=du(D,t)):v=-1}}return a}function fh(e,t,r,o,a,l){const f=t[on],v=f.data[e+8],W=za(v,f,r,null==o?R(v)&&hu:o!=f&&!!(3&v.type),a&Vn.Host&&l===v);return null!==W?rc(t,f,W,v,a):Sa}function za(e,t,r,o,a){const l=e.providerIndexes,f=t.data,v=1048575&l,D=e.directiveStart,W=l>>20,Ce=a?v+W:e.directiveEnd;for(let he=o?v:v+W;he<Ce;he++){const qe=f[he];if(he<D&&r===qe||he>=D&&qe.type===r)return he}if(a){const he=f[D];if(he&&X(he)&&he.type===r)return D}return null}function rc(e,t,r,o,a){let l=e[r];const f=t.data;if(l instanceof ma){const v=l;v.resolving&&ai(function St(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ke(e)}(f[r]));const D=Ql(v.canSeeViewProviders);v.resolving=!0;const W=v.injectImpl?mi(v.injectImpl):null;jl(e,o,Vn.Default);try{l=e[r]=v.factory(void 0,a,f,e,o),t.firstCreatePass&&r>=o.directiveStart&&function Ic(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:l}=t.type.prototype;if(o){const f=Qn(t);(r.preOrderHooks??=[]).push(e,f),(r.preOrderCheckHooks??=[]).push(e,f)}a&&(r.preOrderHooks??=[]).push(0-e,a),l&&((r.preOrderHooks??=[]).push(e,l),(r.preOrderCheckHooks??=[]).push(e,l))}(r,f[r],t)}finally{null!==W&&mi(W),Ql(D),v.resolving=!1,Uc()}}return l}function Xl(e,t,r){return!!(r[t+(e>>fu)]&1<<e)}function ph(e,t){return!(e&Vn.Self||e&Vn.Host&&t)}class Fo{_tNode;_lView;constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Vf(this._tNode,this._lView,t,is(o),r)}}function bg(){return new Fo($r(),kt())}function Zl(e){return Ar(()=>{const t=e.prototype.constructor,r=t[me]||gh(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const l=a[me]||gh(a);if(l&&l!==r)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function gh(e){return mr(e)?()=>{const t=gh(vn(e));return t&&t()}:vs(e)}function mh(e){const t=e[on],r=t.type;return 2===r?t.declTNode:1===r?e[Hi]:null}function b(e){return function Lf(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const l=r[a];if(uh(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(l===t)return r[a+1];a+=2}}}return null}($r(),e)}function Gc(e,t=null,r=null,o){const a=Jl(e,t,r,o);return a.resolveInjectorInitializers(),a}function Jl(e,t=null,r=null,o,a=new Set){const l=[r||Er,Ot(e)];return o=o||("object"==typeof e?void 0:je(e)),new po(l,t||To(),o||null,a)}class fs{static THROW_IF_NOT_FOUND=ot;static NULL=new wa;static create(t,r){if(Array.isArray(t))return Gc({name:""},r,t,"");{const o=t.name??"";return Gc({name:o},t.parent,t.providers,o)}}static \u0275prov=Ue({token:fs,providedIn:"any",factory:()=>ni(Ys)});static __NG_ELEMENT_ID__=-1}new Ee("").__NG_ELEMENT_ID__=e=>{const t=$r();if(null===t)throw new pt(204,!1);if(2&t.type)return t.value;if(e&Vn.Optional)return null;throw new pt(204,!1)};const yu=!1;let Ns=(()=>class e{static __NG_ELEMENT_ID__=Uf;static __NG_ENV_ID__=r=>r})();class yh extends Ns{_lView;constructor(t){super(),this._lView=t}onDestroy(t){const r=this._lView;return w(r)?(t(),()=>{}):(Xa(r,t),()=>function Lc(e,t){if(null===e[21])return;const r=e[21].indexOf(t);-1!==r&&e[21].splice(r,1)}(r,t))}}function Uf(){return new yh(kt())}class ps{}const Kc=new Ee("",{providedIn:"root",factory:()=>!1}),Bf=new Ee(""),jf=new Ee("");let qc=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ai.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Ue({token:e,providedIn:"root",factory:()=>new e})}return e})(),nl=(()=>{class e{internalPendingTasks=wn(qc);scheduler=wn(ps);add(){const r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r))}}run(r){var o=this;return(0,I.A)(function*(){const a=o.add();try{return yield r()}finally{a()}})()}static \u0275prov=Ue({token:e,providedIn:"root",factory:()=>new e})}return e})();const sc=class $f extends gn.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,di()&&(this.destroyRef=wn(Ns,{optional:!0})??void 0,this.pendingTasks=wn(qc,{optional:!0})??void 0)}emit(t){const r=Ie(null);try{super.next(t)}finally{Ie(r)}}subscribe(t,r,o){let a=t,l=r||(()=>null),f=o;if(t&&"object"==typeof t){const D=t;a=D.next?.bind(D),l=D.error?.bind(D),f=D.complete?.bind(D)}this.__isAsync&&(l=this.wrapInTimeout(l),a&&(a=this.wrapInTimeout(a)),f&&(f=this.wrapInTimeout(f)));const v=super.subscribe({next:a,error:l,complete:f});return t instanceof pr.yU&&t.add(v),v}wrapInTimeout(t){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{try{t(r)}finally{void 0!==o&&this.pendingTasks?.remove(o)}})}}};function rl(...e){}function Gy(e){let t,r;function o(){e=rl;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Cg(e){return queueMicrotask(()=>e()),()=>{e=rl}}const Sg="isAngularZone",Hf=Sg+"_ID";let qy=0;class yo{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new sc(!1);onMicrotaskEmpty=new sc(!1);onStable=new sc(!1);onError=new sc(!1);constructor(t){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:l=yu}=t;if(typeof Zone>"u")throw new pt(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!a&&o,f.shouldCoalesceRunChangeDetection=a,f.callbackScheduled=!1,f.scheduleInRootZone=l,function AE(e){const t=()=>{!function Qy(e){function t(){Gy(()=>{e.callbackScheduled=!1,zf(e),e.isCheckStableRunning=!0,Pg(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),zf(e))}(e)},r=qy++;e._inner=e._inner.fork({name:"angular",properties:{[Sg]:!0,[Hf]:r,[Hf+r]:!0},onInvokeTask:(o,a,l,f,v,D)=>{if(function Mg(e){return Ng(e,"__ignore_ng_zone__")}(D))return o.invokeTask(l,f,v,D);try{return Xy(e),o.invokeTask(l,f,v,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&t(),il(e)}},onInvoke:(o,a,l,f,v,D,O)=>{try{return Xy(e),o.invoke(l,f,v,D,O)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Wf(e){return Ng(e,"__scheduler_tick__")}(D)&&t(),il(e)}},onHasTask:(o,a,l,f)=>{o.hasTask(l,f),a===l&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,zf(e),Pg(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,a,l,f)=>(o.handleError(l,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Sg)}static assertInAngularZone(){if(!yo.isInAngularZone())throw new pt(909,!1)}static assertNotInAngularZone(){if(yo.isInAngularZone())throw new pt(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const l=this._inner,f=l.scheduleEventTask("NgZoneEvent: "+a,t,Rg,rl,rl);try{return l.runTask(f,r,o)}finally{l.cancelTask(f)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const Rg={};function Pg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function zf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Xy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function il(e){e._nesting--,Pg(e)}class _u{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new sc;onMicrotaskEmpty=new sc;onStable=new sc;onError=new sc;run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function Ng(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class ac{_console=console;handleError(t){this._console.error("ERROR",t)}}const CE=new Ee("",{providedIn:"root",factory:()=>{const e=wn(yo),t=wn(ac);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function kg(e,t){return pi(e,t)}const e_=(kg.required=function Jy(e){return pi(Yt,e)},kg);function t_(){return ol($r(),kt())}function ol(e,t){return new sl(mo(e,t))}let sl=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=t_})();function cc(e){return e instanceof sl?e.nativeElement:e}function Qc(e,t){const r=function fe(e,t){const r=Object.create(Ye);r.value=e,void 0!==t&&(r.equal=t);const o=()=>(ht(r),r.value);return o[it]=r,o}(e,t?.equal),o=r[it];return r.set=a=>ye(o,a),r.update=a=>function se(e,t){zt()||xt(e),ye(e,t(e.value))}(o,a),r.asReadonly=ed.bind(r),r}function ed(){const e=this[it];if(void 0===e.readonlyFn){const t=()=>this();t[it]=e,e.readonlyFn=t}return e.readonlyFn}function qf(e){return function _h(e){return"function"==typeof e&&void 0!==e[it]}(e)&&"function"==typeof e.set}function xg(){return this._results[Symbol.iterator]()}class n_{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new gn.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function oo(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Kr(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o];if(r&&(a=r(a),l=r(l)),l!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=xg}function al(e){return!(128&~e.flags)}var Xf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Xf||{});const Zf=new Map;let qs=0;function ul(e){Zf.delete(e[$s])}const Lg="__ngContext__";function ya(e,t){H(t)?(e[Lg]=t[$s],function o_(e){Zf.set(e[$s],e)}(t)):e[Lg]=t}function Zc(e){return l_(e[Re])}function jg(e){return l_(e[Uo])}function l_(e){for(;null!==e&&!_(e);)e=e[Uo];return e}let ip;function NE(e){ip=e}function Wa(){if(void 0!==ip)return ip;if(typeof document<"u")return document;throw new pt(210,!1)}const vu=new Ee("",{providedIn:"root",factory:()=>Gg}),Gg="ng",Kg=new Ee(""),qg=new Ee("",{providedIn:"platform",factory:()=>"unknown"}),Qg=new Ee(""),p_=new Ee("",{providedIn:"root",factory:()=>Wa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),m_=new Ee("",{providedIn:"root",factory:()=>!1});var sm=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(sm||{});const ud=new Ee(""),y_=new Set;function va(e){y_.has(e)||(y_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let cp=(()=>class e{view;node;constructor(r,o){this.view=r,this.node=o}static __NG_ELEMENT_ID__=am})();function am(){return new cp(kt(),$r())}var fl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(fl||{});let Sh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ue({token:e,providedIn:"root",factory:()=>new e})}return e})();const up=[fl.EarlyRead,fl.Write,fl.MixedReadWrite,fl.Read];let lp=(()=>{class e{ngZone=wn(yo);scheduler=wn(ps);errorHandler=wn(ac,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){wn(ud,{optional:!0})}execute(){const r=this.sequences.size>0;r&&ar(16),this.executing=!0;for(const o of up)for(const a of this.sequences)if(!a.erroredOrDestroyed&&a.hooks[o])try{a.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,a.hooks[o])(a.pipelinedValue),a.snapshot))}catch(l){a.erroredOrDestroyed=!0,this.errorHandler?.handleError(l)}this.executing=!1;for(const o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(const o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&ar(17)}register(r){const{view:o}=r;void 0!==o?((o[25]??=[]).push(r),_c(o),o[ir]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,o){return o?o.run(sm.AFTER_NEXT_RENDER,r):r()}static \u0275prov=Ue({token:e,providedIn:"root",factory:()=>new e})}return e})();class v_{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,r,o,a,l,f=null){this.impl=t,this.hooks=r,this.view=o,this.once=a,this.snapshot=f,this.unregisterOnDestroy=l?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(r=>r!==this))}}function cm(e,t){!t?.injector&&ko();const r=t?.injector??wn(fs);return va("NgAfterNextRender"),function E_(e,t,r,o){const a=t.get(Sh);a.impl??=t.get(lp);const l=t.get(ud,null,{optional:!0}),f=r?.phase??fl.MixedReadWrite,v=!0!==r?.manualCleanup?t.get(Ns):null,D=t.get(cp,null,{optional:!0}),O=new v_(a.impl,function um(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,f),D?.view,o,v,l?.snapshot(null));return a.impl.register(O),O}(e,r,t,!0)}let Fh=(e,t,r,o)=>{};function XE(e,t){const r=e.contentQueries;if(null!==r){const o=Ie(null);try{for(let a=0;a<r.length;a+=2){const f=r[a+1];if(-1!==f){const v=e.data[f];Bl(r[a]),v.contentQueries(2,t[f],f)}}}finally{Ie(o)}}}function H_(e,t,r){Bl(0);const o=Ie(null);try{t(e,r)}finally{Ie(o)}}function $h(e,t,r){if(E(t)){const o=Ie(null);try{const l=t.directiveEnd;for(let f=t.directiveStart;f<l;f++){const v=e.data[f];v.contentQueries&&v.contentQueries(1,r[f],f)}}finally{Ie(o)}}}var Rc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Rc||{});let Rm,Pm;function Hh(e){return function ZE(){if(void 0===Rm&&(Rm=null,Sn.trustedTypes))try{Rm=Sn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Rm}()?.createHTML(e)||e}function z_(){if(void 0===Pm&&(Pm=null,Sn.trustedTypes))try{Pm=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pm}function YE(e){return z_()?.createHTML(e)||e}function W_(e){return z_()?.createScriptURL(e)||e}class Ra{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xr})`}}class gl extends Ra{getTypeName(){return"HTML"}}class ET extends Ra{getTypeName(){return"Style"}}class Id extends Ra{getTypeName(){return"Script"}}class Mm extends Ra{getTypeName(){return"URL"}}class Ip extends Ra{getTypeName(){return"ResourceURL"}}function eu(e){return e instanceof Ra?e.changingThisBreaksApplicationSecurity:e}function Td(e,t){const r=function G_(e){return e instanceof Ra&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${xr})`)}return r===t}function K_(e){return new gl(e)}function Tp(e){return new ET(e)}function JE(e){return new Id(e)}function ml(e){return new Mm(e)}function bp(e){return new Ip(e)}class q_{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Hh(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.firstChild?.remove(),r)}catch{return null}}}class Nm{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Hh(t),r}}const xm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dd(e){return(e=String(e)).match(xm)?e:"unsafe:"+e}function hc(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function yl(...e){const t={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(t[o]=!0);return t}const Om=hc("area,br,col,hr,img,wbr"),Du=hc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fm=hc("rp,rt"),Lm=yl(Om,yl(Du,hc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yl(Fm,hc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yl(Fm,Du)),Ad=hc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cd=yl(Ad,hc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nw=hc("script,style,template");class Ap{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let r=t.firstChild,o=!0,a=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)a.push(r),r=zh(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let l=Um(r);if(l){r=l;break}r=a.pop()}return this.buf.join("")}startElement(t){const r=Z_(t).toLowerCase();if(!Lm.hasOwnProperty(r))return this.sanitizedSomething=!0,!nw.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=t.attributes;for(let a=0;a<o.length;a++){const l=o.item(a),f=l.name,v=f.toLowerCase();if(!Cd.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let D=l.value;Ad[v]&&(D=Dd(D)),this.buf.push(" ",f,'="',iw(D),'"')}return this.buf.push(">"),!0}endElement(t){const r=Z_(t).toLowerCase();Lm.hasOwnProperty(r)&&!Om.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(iw(t))}}function Um(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Sd(t);return t}function zh(e){const t=e.firstChild;if(t&&function X_(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Sd(t);return t}function Z_(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Sd(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const rw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rd=/([^\#-~ |!])/g;function iw(e){return e.replace(/&/g,"&amp;").replace(rw,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Rd,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bm;function Cp(e,t){let r=null;try{Bm=Bm||function bd(e){const t=new Nm(e);return function km(){try{return!!(new window.DOMParser).parseFromString(Hh(""),"text/html")}catch{return!1}}()?new q_(t):t}(e);let o=t?String(t):"";r=Bm.getInertBodyElement(o);let a=5,l=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=l,l=r.innerHTML,r=Bm.getInertBodyElement(o)}while(o!==l);return Hh((new Ap).sanitizeChildren(Y_(r)||r))}finally{if(r){const o=Y_(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function Y_(e){return"content"in e&&function Sp(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Pd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Pd||{});function ow(e){const t=Md();return t?YE(t.sanitize(Pd.HTML,e)||""):Td(e,"HTML")?YE(eu(e)):Cp(Wa(),ke(e))}function J_(e){const t=Md();return t?t.sanitize(Pd.URL,e)||"":Td(e,"URL")?eu(e):Dd(ke(e))}function sw(e){const t=Md();if(t)return W_(t.sanitize(Pd.RESOURCE_URL,e)||"");if(Td(e,"ResourceURL"))return W_(eu(e));throw new pt(904,!1)}function jm(e,t,r){return function ev(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?sw:J_}(t,r)(e)}function Md(){const e=kt();return e&&e[M].sanitizer}const tv=/^>|^->|<!--|-->|--!>|<!-$/g,Mp=/(<|>)/g;function tu(e){return e instanceof Function?e():e}function xT(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const l=t.length;if(a+l===o||e.charCodeAt(a+l)<=32)return a}r=a+1}}const sv="ng-template";function yw(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==xT(t[a+1].toLowerCase(),r,0))return!0}else if(Hm(e))return!1;if(a=t.indexOf(1,a),a>-1){let l;for(;++a<t.length&&"string"==typeof(l=t[a]);)if(l.toLowerCase()===r)return!0}return!1}function Hm(e){return 4===e.type&&e.value!==sv}function OT(e,t,r){return t===(4!==e.type||r?e.value:sv)}function _w(e,t,r){let o=4;const a=e.attrs,l=null!==a?function FT(e){for(let t=0;t<e.length;t++)if(uh(e[t]))return t;return e.length}(a):0;let f=!1;for(let v=0;v<t.length;v++){const D=t[v];if("number"!=typeof D){if(!f)if(4&o){if(o=2|1&o,""!==D&&!OT(e,D,r)||""===D&&1===t.length){if(fc(o))return!1;f=!0}}else if(8&o){if(null===a||!yw(e,a,D,r)){if(fc(o))return!1;f=!0}}else{const O=t[++v],W=Cu(D,a,Hm(e),r);if(-1===W){if(fc(o))return!1;f=!0;continue}if(""!==O){let te;if(te=W>l?"":a[W+1].toLowerCase(),2&o&&O!==te){if(fc(o))return!1;f=!0}}}}else{if(!f&&!fc(o)&&!fc(D))return!1;if(f&&fc(D))continue;f=!1,o=D|1&o}}return fc(o)||f}function fc(e){return!(1&e)}function Cu(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let l=!1;for(;a<t.length;){const f=t[a];if(f===e)return a;if(3===f||6===f)l=!0;else{if(1===f||2===f){let v=t[++a];for(;"string"==typeof v;)v=t[++a];continue}if(4===f)break;if(0===f){a+=4;continue}}a+=l?1:2}return-1}return function LT(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function av(e,t,r=!1){for(let o=0;o<t.length;o++)if(_w(e,t[o],r))return!0;return!1}function Ew(e,t){return e?":not("+t.trim()+")":t}function UT(e){let t=e[0],r=1,o=2,a="",l=!1;for(;r<e.length;){let f=e[r];if("string"==typeof f)if(2&o){const v=e[++r];a+="["+f+(v.length>0?'="'+v+'"':"")+"]"}else 8&o?a+="."+f:4&o&&(a+=" "+f);else""!==a&&!fc(f)&&(t+=Ew(l,a),a=""),o=f,l=l||!fc(o);r++}return""!==a&&(t+=Ew(l,a)),t}const Hr={};function Wm(e,t){return e.createComment(function lw(e){return e.replace(tv,t=>t.replace(Mp,"\u200b$1\u200b"))}(t))}function Gm(e,t,r){return e.createElement(t,r)}function Od(e,t,r,o,a){e.insertBefore(t,r,o,a)}function ww(e,t,r){e.appendChild(t,r)}function Iw(e,t,r,o,a){null!==o?Od(e,t,r,o,a):ww(e,t,r)}function Tw(e,t,r){const{mergedAttrs:o,classes:a,styles:l}=r;null!==o&&function ch(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const l=r[o++],f=r[o++],v=r[o++];e.setAttribute(t,f,v,l)}else{const l=a,f=r[++o];ql(l)?e.setProperty(t,l,f):e.setAttribute(t,l,f),o++}}}(e,t,o),null!==a&&function HT(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}(e,t,a),null!==l&&function $T(e,t,r){e.setAttribute(t,"style",r)}(e,t,l)}function Gh(e,t,r,o,a,l,f,v,D,O,W){const te=xn+o,Ce=te+a,he=function kp(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:Hr);return r}(te,Ce),qe="function"==typeof O?O():O;return he[on]={type:e,blueprint:he,template:r,queries:null,viewQuery:v,declTNode:t,data:he.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:Ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:D,consts:qe,incompleteFirstPass:!1,ssrId:W}}function n(e,t,r,o,a,l,f,v,D,O,W){const te=t.blueprint.slice();return te[qr]=a,te[ir]=1228|o,(null!==O||e&&2048&e[ir])&&(te[ir]|=2048),Wu(te),te[hi]=te[Rn]=e,te[jr]=r,te[M]=f||e&&e[M],te[z]=v||e&&e[z],te[P]=D||e&&e[P]||null,te[Hi]=l,te[$s]=function SE(){return qs++}(),te[Ko]=W,te[Da]=O,te[ur]=2==t.type?e[ur]:te,te}function s(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function u(e,t,r,o){if(0===r)return-1;const a=t.length;for(let l=0;l<r;l++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function h(e,t){return e[Re]?e[Lt][Uo]=t:e[Re]=t,e[Lt]=t,t}function m(e=1){C(Ir(),kt(),Ts()+e,!1)}function C(e,t,r,o){if(!o)if(3&~t[ir]){const l=e.preOrderHooks;null!==l&&Xu(t,l,0,r)}else{const l=e.preOrderCheckHooks;null!==l&&Gl(t,l,r)}Ja(r)}var N=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(N||{});function V(e,t,r,o){const a=Ie(null);try{const[l,f,v]=e.inputs[r];let D=null;!!(f&N.SignalBased)&&(D=t[l][it]),null!==D&&void 0!==D.transformFn?o=D.transformFn(o):null!==v&&(o=v.call(t,o)),null!==e.setInput?e.setInput(t,D,o,r,l):mc(t,D,l,o)}finally{Ie(a)}}function J(e,t,r,o,a){const l=Ts(),f=2&o;try{Ja(-1),f&&t.length>xn&&C(e,t,xn,!1),ar(f?2:0,a),r(o,a)}finally{Ja(l),ar(f?3:1,a)}}function ue(e,t,r){(function ct(e,t,r){const o=r.directiveStart,a=r.directiveEnd;R(r)&&function i(e,t,r){const o=mo(t,e),a=function c(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(r),l=e[M].rendererFactory,f=h(e,n(e,a,null,s(r),o,t,null,l.createRenderer(o,r),null,null,null));e[t.index]=f}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||gu(r,t);const l=r.initialInputs;for(let f=o;f<a;f++){const v=e.data[f],D=rc(t,e,f,r);ya(D,t),null!==l&&ze(0,f-o,D,v,0,l),X(v)&&(Ds(r.index,t)[jr]=rc(t,e,f,r))}})(e,t,r),!(64&~r.flags)&&function Le(e,t,r){const o=r.directiveStart,a=r.directiveEnd,l=r.index,f=function wc(){return Dr.lFrame.currentDirectiveIndex}();try{Ja(l);for(let v=o;v<a;v++){const D=e.data[v],O=t[v];Ba(v),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&We(D,O)}}finally{Ja(-1),Ba(f)}}(e,t,r)}function Ve(e,t,r=mo){const o=t.localNames;if(null!==o){let a=t.index+1;for(let l=0;l<o.length;l+=2){const f=o[l+1],v=-1===f?r(t,e):e[f];e[a++]=v}}}let fn=()=>null;function On(e,t,r,o,a,l,f,v){if(v||!El(t,e,r,o,a)){if(3&t.type){const D=mo(t,r);o=function or(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=f?f(a,t.value||"",o):a,l.setProperty(D,o,a)}}else R(t)&&function Vr(e,t){const r=Ds(t,e);16&r[ir]||(r[ir]|=64)}(r,t.index)}function We(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ut(e,t){const r=e.directiveRegistry;let o=null;if(r)for(let a=0;a<r.length;a++){const l=r[a];av(t,l.selectors,!1)&&(o??=[],X(l)?o.unshift(l):o.push(l))}return o}function dt(e,t,r,o,a,l){const f=mo(e,t);!function Rt(e,t,r,o,a,l,f){if(null==l)e.removeAttribute(t,a,r);else{const v=null==f?ke(l):f(l,o||"",a);e.setAttribute(t,a,v,r)}}(t[z],f,l,e.value,r,o,a)}function ze(e,t,r,o,a,l){const f=l[t];if(null!==f)for(let v=0;v<f.length;v+=2)V(o,r,f[v],f[v+1])}function Ld(e,t,r){return(null===e||X(e))&&(r=function fa(e){for(;Array.isArray(e);){if("object"==typeof e[la])return e;e=e[qr]}return null}(r[t.index])),r[z]}function El(e,t,r,o,a){const l=e.inputs?.[o],f=e.hostDirectiveInputs?.[o];let v=!1;if(f)for(let D=0;D<f.length;D+=2){const O=f[D];V(t.data[O],r[O],f[D+1],a),v=!0}if(l)for(const D of l)V(t.data[D],r[D],o,a),v=!0;return v}function Kh(e,t){const r=Ds(t,e),o=r[on];!function Qm(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[qr];null!==a&&null===r[Ko]&&(r[Ko]=null),ar(18),qh(o,r,r[jr]),ar(19,r[jr])}function qh(e,t,r){$l(t);try{const o=e.viewQuery;null!==o&&H_(1,o,r);const a=e.template;null!==a&&J(e,t,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[bo]?.finishViewCreation(e),e.staticContentQueries&&XE(e,t),e.staticViewQueries&&H_(2,e.viewQuery,r);const l=e.components;null!==l&&function bw(e,t){for(let r=0;r<t.length;r++)Kh(e,t[r])}(t,l)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[ir]&=-5,Ya()}}function Jo(e,t){return!t||null===t.firstChild||al(e)}function wl(e,t){return undefined(e,t)}var Ru=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ru||{});function Pu(e){return!(32&~e.flags)}function Vd(e,t,r,o,a){if(null!=o){let l,f=!1;_(o)?l=o:H(o)&&(f=!0,o=o[qr]);const v=hr(o);0===e&&null!==r?null==a?ww(t,r,v):Od(t,r,v,a||null,!0):1===e&&null!==r?Od(t,r,v,a||null,!0):2===e?function Fd(e,t,r){e.removeChild(null,t,r)}(t,v,f):3===e&&t.destroyNode(v),null!=l&&function dv(e,t,r,o,a){const l=r[7];l!==hr(r)&&Vd(t,e,o,l,a);for(let v=Wi;v<r.length;v++){const D=r[v];Yh(D[on],D,e,t,o,l)}}(t,e,l,r,a)}}function Op(e,t){t[M].changeDetectionScheduler?.notify(9),Yh(e,t,t[z],2,null,null)}function Xh(e,t){const r=e[Aa],o=r.indexOf(t);r.splice(o,1)}function Il(e,t){if(w(t))return;const r=t[z];r.destroyNode&&Yh(e,t,r,3,null,null),function Zm(e){let t=e[Re];if(!t)return Fp(e[on],e);for(;t;){let r=null;if(H(t))r=t[Re];else{const o=t[Wi];o&&(r=o)}if(!r){for(;t&&!t[Uo]&&t!==e;)H(t)&&Fp(t[on],t),t=t[hi];null===t&&(t=e),H(t)&&Fp(t[on],t),r=t&&t[Uo]}t=r}}(t)}function Fp(e,t){if(w(t))return;const r=Ie(null);try{t[ir]&=-129,t[ir]|=256,t[24]&&Fe(t[24]),function Aw(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof ma)){const l=r[o+1];if(Array.isArray(l))for(let f=0;f<l.length;f+=2){const v=a[l[f]],D=l[f+1];ar(4,v,D);try{D.call(v)}finally{ar(5,v,D)}}else{ar(4,a,l);try{l.call(a)}finally{ar(5,a,l)}}}}}(e,t),function uv(e,t){const r=e.cleanup,o=t[hs];if(null!==r)for(let f=0;f<r.length-1;f+=2)if("string"==typeof r[f]){const v=r[f+3];v>=0?o[v]():o[-v].unsubscribe(),f+=2}else r[f].call(o[r[f+1]]);null!==o&&(t[hs]=null);const a=t[21];if(null!==a){t[21]=null;for(let f=0;f<a.length;f++)(0,a[f])()}const l=t[23];if(null!==l){t[23]=null;for(const f of l)f.destroy()}}(e,t),1===t[on].type&&t[z].destroy();const o=t[Bi];if(null!==o&&_(t[hi])){o!==t[hi]&&Xh(o,t);const a=t[bo];null!==a&&a.detachView(e)}ul(t)}finally{Ie(r)}}function Lp(e,t,r){return function Ym(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[qr];if(R(o)){const{encapsulation:a}=e.data[o.directiveStart+o.componentOffset];if(a===Rc.None||a===Rc.Emulated)return null}return mo(o,r)}(e,t.parent,r)}let Zh,lv=function Jm(e,t,r){return 40&e.type?mo(e,r):null};function Ud(e,t,r,o){const a=Lp(e,o,t),l=t[z],v=function Vp(e,t,r){return lv(e,t,r)}(o.parent||t[Hi],o,t);if(null!=a)if(Array.isArray(r))for(let D=0;D<r.length;D++)Iw(l,a,r[D],v,!1);else Iw(l,a,r,v,!1);void 0!==Zh&&Zh(l,o,t,r,a)}function es(e,t){if(null!==t){const r=t.type;if(3&r)return mo(t,e);if(4&r)return Bd(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return es(e,o);{const a=e[t.index];return _(a)?Bd(-1,a):hr(a)}}if(128&r)return es(e,t.next);if(32&r)return wl(t,e)()||hr(e[t.index]);{const o=Qs(e,t);return null!==o?Array.isArray(o)?o[0]:es(na(e[ur]),o):es(e,t.next)}}return null}function Qs(e,t){return null!==t?e[ur][Hi].projection[t.projection]:null}function Bd(e,t){const r=Wi+e+1;if(r<t.length){const o=t[r],a=o[on].firstChild;if(null!==a)return es(o,a)}return t[7]}function Bp(e,t,r,o,a,l,f){for(;null!=r;){if(128===r.type){r=r.next;continue}const v=o[r.index],D=r.type;if(f&&0===t&&(v&&ya(hr(v),o),r.flags|=2),!Pu(r))if(8&D)Bp(e,t,r.child,o,a,l,!1),Vd(t,e,a,v,l);else if(32&D){const O=wl(r,o);let W;for(;W=O();)Vd(t,e,a,W,l);Vd(t,e,a,v,l)}else 16&D?jd(e,t,o,r,a,l):Vd(t,e,a,v,l);r=f?r.projectionNext:r.next}}function Yh(e,t,r,o,a,l){Bp(r,o,e.firstChild,t,a,l,!1)}function jd(e,t,r,o,a,l){const f=r[ur],D=f[Hi].projection[o.projection];if(Array.isArray(D))for(let O=0;O<D.length;O++)Vd(t,e,a,D[O],l);else{let O=D;const W=f[hi];al(o)&&(O.flags|=128),Bp(e,t,O,W,a,l,!0)}}function Mu(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const l=t[r.index];null!==l&&o.push(hr(l)),_(l)&&ey(l,o);const f=r.type;if(8&f)Mu(e,t,r.child,o);else if(32&f){const v=wl(r,t);let D;for(;D=v();)o.push(D)}else if(16&f){const v=Qs(t,r);if(Array.isArray(v))o.push(...v);else{const D=na(t[ur]);Mu(D[on],D,v,o,!0)}}r=a?r.projectionNext:r.next}return o}function ey(e,t){for(let r=Wi;r<e.length;r++){const o=e[r],a=o[on].firstChild;null!==a&&Mu(o[on],o,a,t)}e[7]!==e[qr]&&t.push(e[7])}function fv(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let jp=[];const ty={...Te,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{_c(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},Tl={...Te,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=na(e.lView);for(;t&&!ry(t[on]);)t=na(t);t&&Fc(t)},consumerOnSignalRead(){this.lView[24]=this}};function ry(e){return 2!==e.type}function ef(e){if(null===e[23])return;let t=!0;for(;t;){let r=!1;for(const o of e[23])o.dirty&&(r=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));t=r&&!!(8192&e[ir])}}function Nu(e,t=!0,r=0){const a=e[M].rendererFactory;a.begin?.();try{!function yv(e,t){const r=wg();try{Vc(!0),ku(e,t);let o=0;for(;cu(e);){if(100===o)throw new pt(103,!1);o++,ku(e,1)}}finally{Vc(r)}}(e,r)}catch(f){throw t&&function qm(e,t){const r=e[P],o=r?r.get(ac,null):null;o&&o.handleError(t)}(e,f),f}finally{a.end?.()}}function iy(e,t,r,o){if(w(t))return;const a=t[ir];$l(t);let v=!0,D=null,O=null;ry(e)?(O=function pv(e){return e[24]??function gv(e){const t=jp.pop()??Object.create(ty);return t.lView=e,t}(e)}(t),D=vt(O)):null===function De(){return Z}()?(v=!1,O=function ny(e){const t=e[24]??Object.create(Tl);return t.lView=e,t}(t),D=vt(O)):t[24]&&(Fe(t[24]),t[24]=null);try{Wu(t),function Cf(e){return Dr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&J(e,t,r,2,o);const W=!(3&~a);if(W){const he=e.preOrderCheckHooks;null!==he&&Gl(t,he,null)}else{const he=e.preOrderHooks;null!==he&&Xu(t,he,0,null),Zu(t,0)}if(function tf(e){for(let t=Zc(e);null!==t;t=jg(t)){if(!(2&t[ir]))continue;const r=t[Aa];for(let o=0;o<r.length;o++)Fc(r[o])}}(t),ef(t),$d(t,0),null!==e.contentQueries&&XE(e,t),W){const he=e.contentCheckHooks;null!==he&&Gl(t,he)}else{const he=e.contentHooks;null!==he&&Xu(t,he,1),Zu(t,1)}!function Rw(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)Ja(~a);else{const l=a,f=r[++o],v=r[++o];Tg(f,l);const D=t[l];ar(24,D),v(2,D),ar(25,D)}}}finally{Ja(-1)}}(e,t);const te=e.components;null!==te&&vv(t,te,0);const Ce=e.viewQuery;if(null!==Ce&&H_(2,Ce,o),W){const he=e.viewCheckHooks;null!==he&&Gl(t,he)}else{const he=e.viewHooks;null!==he&&Xu(t,he,2),Zu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const he of t[22])he();t[22]=null}fv(t),t[ir]&=-73}catch(W){throw _c(t),W}finally{null!==O&&(Tt(O,D),v&&function Jh(e){e.lView[24]!==e&&(e.lView=null,jp.push(e))}(O)),Ya()}}function $d(e,t){for(let r=Zc(e);null!==r;r=jg(r))for(let o=Wi;o<r.length;o++)_v(r[o],t)}function Sw(e,t,r){ar(18);const o=Ds(t,e);_v(o,r),ar(19,o[jr])}function _v(e,t){xo(e)&&ku(e,t)}function ku(e,t){const o=e[on],a=e[ir],l=e[24];let f=!!(0===t&&16&a);if(f||=!!(64&a&&0===t),f||=!!(1024&a),f||=!(!l?.dirty||!Pt(l)),f||=!1,l&&(l.dirty=!1),e[ir]&=-9217,f)iy(o,e,o.template,e[jr]);else if(8192&a){ef(e),$d(e,1);const v=o.components;null!==v&&vv(e,v,1),fv(e)}}function vv(e,t,r){for(let o=0;o<t.length;o++)Sw(e,t[o],r)}function xu(e,t){const r=wg()?64:1088;for(e[M].changeDetectionScheduler?.notify(t);e;){e[ir]|=r;const o=na(e);if(Ae(e)&&!o)return e;e=o}return null}function oy(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function Hd(e,t){if(e.length<=Wi)return;const r=Wi+t,o=e[r];if(o){const a=o[Bi];null!==a&&a!==e&&Xh(a,o),t>0&&(e[r-1][Uo]=o[Uo]);const l=Es(e,Wi+t);!function Qh(e,t){Op(e,t),t[qr]=null,t[Hi]=null}(o[on],o);const f=l[bo];null!==f&&f.detachView(l[on]),o[hi]=null,o[Uo]=null,o[ir]&=-129}return o}function Hp(e,t){const r=e[Aa],o=t[hi];(H(o)||t[ur]!==o[hi][ur])&&(e[ir]|=2),null===r?e[Aa]=[t]:r.push(t)}let bl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const t=this._lView,r=t[on];return Mu(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[jr]}set context(t){this._lView[jr]=t}get destroyed(){return w(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[hi];if(_(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(Hd(t,o),Es(r,o))}this._attachedToViewContainer=!1}Il(this._lView[on],this._lView)}onDestroy(t){Xa(this._lView,t)}markForCheck(){xu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ir]&=-129}reattach(){ih(this._lView),this._lView[ir]|=128}detectChanges(){this._lView[ir]|=1024,Nu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Ae(this._lView),r=this._lView[Bi];null!==r&&!t&&Xh(r,this._lView),Op(this._lView[on],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new pt(902,!1);this._appRef=t;const r=Ae(this._lView),o=this._lView[Bi];null!==o&&!r&&Hp(o,this._lView),ih(this._lView)}},nf=(()=>class e{static __NG_ELEMENT_ID__=sy})();const zp=nf,wv=class extends zp{_declarationLView;_declarationTContainer;elementRef;constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=function Pa(e,t,r,o){const a=Ie(null);try{const l=t.tView,D=n(e,l,r,4096&e[ir]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);D[Bi]=e[t.index];const W=e[bo];return null!==W&&(D[bo]=W.createEmbeddedView(l)),qh(l,D,r),D}finally{Ie(a)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new bl(a)}};function sy(){return Ou($r(),kt())}function Ou(e,t){return 4&e.type?new wv(t,e,ol(e,t)):null}function kc(e,t,r,o,a){let l=e.data[t];if(null===l)l=function ly(e,t,r,o,a){const l=bf(),f=Ll(),D=e.data[t]=function Fw(e,t,r,o,a,l){let f=t?t.injectorIndex:-1,v=0;return function Ca(){return null!==Dr.skipHydrationRootTNode}()&&(v|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?l:l&&l.parent,r,t,o,a);return function Cv(e,t,r,o){null===e.firstChild&&(e.firstChild=t),null!==r&&(o?null==r.child&&null!==t.parent&&(r.child=t):null===r.next&&(r.next=t,t.prev=r))}(e,D,l,f),D}(e,t,r,o,a),function Ig(){return Dr.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=r,l.value=o,l.attrs=a;const f=function ia(){const e=Dr.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===f?-1:f.injectorIndex}return Ws(l,!0),l}let EC=class{},WT=class{};class wC{resolveComponentFactory(t){throw Error(`No component factory found for ${je(t)}.`)}}let vy=class{static NULL=new wC};class Uw{}let IC=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function TC(){const e=kt(),r=Ds($r().index,e);return(H(r)?r:e)[z]}()})(),bC=(()=>{class e{static \u0275prov=Ue({token:e,providedIn:"root",factory:()=>null})}return e})();function hf(e){return!!Vo(e)}const jw={};class tg{injector;parentInjector;constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=is(o);const a=this.injector.get(t,jw,o);return a!==jw||r===jw?a:this.parentInjector.get(t,r,o)}}function $w(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,l=0;if(null!==t)for(let f=0;f<t.length;f++){const v=t[f];"number"==typeof v?l=v:1==l?a=Cr(a,v):2==l&&(o=Cr(o,v+": "+t[++f]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}function ng(e,t=Vn.Default){const r=kt();return null===r?ni(e,t):Vf($r(),r,vn(e),t)}function KT(){throw new Error("invalid")}function Hw(e,t,r,o,a){const l=null===o?null:{"":-1},f=a(e,r);if(null!==f){let v,D=null,O=null;const W=function RC(e){let t=null,r=!1;for(let f=0;f<e.length;f++){const v=e[f];if(0===f&&X(v)&&(t=v),null!==v.findHostDirectiveDefs){r=!0;break}}if(!r)return null;let o=null,a=null,l=null;for(const f of e)null!==f.findHostDirectiveDefs&&(o??=[],a??=new Map,l??=new Map,PC(f,o,l,a)),f===t&&(o??=[],o.push(f));return null!==o?(o.push(...null===t?e:e.slice(1)),[o,a,l]):null}(f);null===W?v=f:[v,D,O]=W,function NC(e,t,r,o,a,l,f){const v=o.length;let D=!1;for(let Ce=0;Ce<v;Ce++){const he=o[Ce];!D&&X(he)&&(D=!0,MC(e,r,Ce)),mu(gu(r,t),e,he.type)}!function VC(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,v);for(let Ce=0;Ce<v;Ce++){const he=o[Ce];he.providersResolver&&he.providersResolver(he)}let O=!1,W=!1,te=u(e,t,v,null);v>0&&(r.directiveToIndex=new Map);for(let Ce=0;Ce<v;Ce++){const he=o[Ce];if(r.mergedAttrs=Tc(r.mergedAttrs,he.hostAttrs),xC(e,r,t,te,he),LC(te,he,a),null!==f&&f.has(he)){const[Bt,pn]=f.get(he);r.directiveToIndex.set(he.type,[te,Bt+r.directiveStart,pn+r.directiveStart])}else(null===l||!l.has(he))&&r.directiveToIndex.set(he.type,te);null!==he.contentQueries&&(r.flags|=4),(null!==he.hostBindings||null!==he.hostAttrs||0!==he.hostVars)&&(r.flags|=64);const qe=he.type.prototype;!O&&(qe.ngOnChanges||qe.ngOnInit||qe.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),O=!0),!W&&(qe.ngOnChanges||qe.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),W=!0),te++}!function kC(e,t,r){for(let o=t.directiveStart;o<t.directiveEnd;o++){const a=e.data[o];if(null!==r&&r.has(a)){const l=r.get(a);QT(0,t,l,o),QT(1,t,l,o),ZT(t,o,!0)}else qT(0,t,a,o),qT(1,t,a,o),ZT(t,o,!1)}}(e,r,l)}(e,t,r,v,l,D,O)}null!==l&&null!==o&&function SC(e,t,r){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const l=r[t[a+1]];if(null==l)throw new pt(-301,!1);o.push(t[a],l)}}(r,o,l)}function PC(e,t,r,o){const a=t.length;e.findHostDirectiveDefs(e,t,o),r.set(e,[a,t.length-1])}function MC(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function qT(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const l in a)if(a.hasOwnProperty(l)){let f;f=0===e?t.inputs??={}:t.outputs??={},f[l]??=[],f[l].push(o),XT(t,l)}}function QT(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const l in a)if(a.hasOwnProperty(l)){const f=a[l];let v;v=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},v[f]??=[],v[f].push(o,l),XT(t,f)}}function XT(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function ZT(e,t,r){const{attrs:o,inputs:a,hostDirectiveInputs:l}=e;if(null===o||!r&&null===a||r&&null===l||Hm(e))return e.initialInputs??=[],void e.initialInputs.push(null);let f=null,v=0;for(;v<o.length;){const D=o[v];if(0!==D)if(5!==D){if("number"==typeof D)break;if(!r&&a.hasOwnProperty(D)){const O=a[D];for(const W of O)if(W===t){f??=[],f.push(D,o[v+1]);break}}else if(r&&l.hasOwnProperty(D)){const O=l[D];for(let W=0;W<O.length;W+=2)if(O[W]===t){f??=[],f.push(O[W+1],o[v+1]);break}}v+=2}else v+=2;else v+=4}e.initialInputs??=[],e.initialInputs.push(f)}function xC(e,t,r,o,a){e.data[o]=a;const l=a.factory||(a.factory=vs(a.type)),f=new ma(l,X(a),ng);e.blueprint[o]=f,r[o]=f,function OC(e,t,r,o,a){const l=a.hostBindings;if(l){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const v=~t.index;(function FC(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(f)!=v&&f.push(v),f.push(r,o,l)}}(e,t,o,u(e,r,a.hostVars,Hr),a)}function LC(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;X(t)&&(r[""]=e)}}function YT(e,t,r,o,a,l,f,v){const D=t.consts,W=kc(t,e,2,o,ta(D,f));return l&&Hw(t,r,W,ta(D,v),a),W.mergedAttrs=Tc(W.mergedAttrs,W.attrs),null!==W.attrs&&$w(W,W.attrs,!1),null!==W.mergedAttrs&&$w(W,W.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,W),W}function JT(e,t){tc(e,t),E(t)&&e.queries.elementEnd(t)}class e0 extends vy{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=wr(t);return new Iy(r,this.ngModule)}}class Iy extends WT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function UC(e){return Object.keys(e).map(t=>{const[r,o,a]=e[t],l={propName:r,templateName:t,isSignal:!!(o&N.SignalBased)};return a&&(l.transform=a),l})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function BC(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function BT(e){return e.map(UT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!r}create(t,r,o,a){ar(22);const l=Ie(null);try{const f=this.componentDef,v=o?["ng-version","19.2.14"]:function jT(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let l=e[o];if("string"==typeof l)2===a?""!==l&&t.push(l,e[++o]):8===a&&r.push(l);else{if(!fc(a))break;a=l}o++}return r.length&&t.push(1,...r),t}(this.componentDef.selectors[0]),D=Gh(0,null,null,1,0,null,null,null,null,[v],null),O=function jC(e,t,r){let o=t instanceof ii?t:t?.injector;return o&&null!==e.getStandaloneInjector&&(o=e.getStandaloneInjector(o)||o),o?new tg(r,o):r}(f,a||this.ngModule,t),W=function $C(e){const t=e.get(Uw,null);if(null===t)throw new pt(407,!1);return{rendererFactory:t,sanitizer:e.get(bC,null),changeDetectionScheduler:e.get(ps,null)}}(O),te=W.rendererFactory.createRenderer(null,f),Ce=o?function At(e,t,r,o){const l=o.get(m_,!1)||r===Rc.ShadowDom,f=e.selectRootElement(t,l);return function Wt(e){fn(e)}(f),f}(te,o,f.encapsulation,O):function HC(e,t){const r=(e.selectors[0][0]||"div").toLowerCase();return Gm(t,r,"svg"===r?Fa:"math"===r?"math":null)}(f,te),he=n(null,D,null,512|s(f),null,null,W,te,O,null,null);he[xn]=Ce,$l(he);let qe=null;try{const Bt=YT(xn,D,he,"#host",()=>[this.componentDef],!0,0);Ce&&(Tw(te,Ce,Bt),ya(Ce,he)),ue(D,he,Bt),$h(D,Bt,he),JT(D,Bt),void 0!==r&&function WC(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const l=r[a];o.push(null!=l&&l.length?Array.from(l):null)}}(Bt,this.ngContentSelectors,r),qe=Ds(Bt.index,he),he[jr]=qe[jr],qh(D,he,null)}catch(Bt){throw null!==qe&&ul(qe),ul(he),Bt}finally{ar(23),Ya()}return new zC(this.componentType,he)}finally{Ie(l)}}}class zC extends EC{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,r){super(),this._rootLView=r,this._tNode=Va(r[on],xn),this.location=ol(this._tNode,r),this.instance=Ds(this._tNode.index,r)[jr],this.hostView=this.changeDetectorRef=new bl(r,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const a=this._rootLView;El(o,a[on],a,t,r),this.previousInputValues.set(t,r),xu(Ds(o.index,a),1)}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Xv=(()=>class e{static __NG_ELEMENT_ID__=GC})();function GC(){return r0($r(),kt())}const KC=Xv,t0=class extends KC{_lContainer;_hostTNode;_hostLView;constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return ol(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const t=nc(this._hostTNode,this._hostLView);if(bc(t)){const r=du(t,this._hostLView),o=el(t);return new Fo(r[on].data[o+8],r)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=n0(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Wi}createEmbeddedView(t,r,o){let a,l;"number"==typeof o?a=o:null!=o&&(a=o.index,l=o.injector);const v=t.createEmbeddedViewImpl(r||{},l,null);return this.insertImpl(v,a,Jo(this._hostTNode,null)),v}createComponent(t,r,o,a,l){const f=t&&!function Br(e){return"function"==typeof e}(t);let v;if(f)v=r;else{const qe=r||{};v=qe.index,o=qe.injector,a=qe.projectableNodes,l=qe.environmentInjector||qe.ngModuleRef}const D=f?t:new Iy(wr(t)),O=o||this.parentInjector;if(!l&&null==D.ngModule){const Bt=(f?O:this.parentInjector).get(ii,null);Bt&&(l=Bt)}wr(D.componentType??{});const he=D.create(O,a,null,l);return this.insertImpl(he.hostView,v,Jo(this._hostTNode,null)),he}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function fi(e){return _(e[hi])}(a)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const D=a[hi],O=new t0(D,D[Hi],D[hi]);O.detach(O.indexOf(t))}}const l=this._adjustIndex(r),f=this._lContainer;return function nu(e,t,r,o=!0){const a=t[on];if(function Ev(e,t,r,o){const a=Wi+o,l=r.length;o>0&&(r[a-1][Uo]=t),o<l-Wi?(t[Uo]=r[a],Jr(r,Wi+o,t)):(r.push(t),t[Uo]=null),t[hi]=r;const f=t[Bi];null!==f&&r!==f&&Hp(f,t);const v=t[bo];null!==v&&v.insertView(e),ih(t),t[ir]|=128}(a,t,e,r),o){const f=Bd(r,e),v=t[z],D=v.parentNode(e[7]);null!==D&&function xp(e,t,r,o,a,l){o[qr]=a,o[Hi]=t,Yh(e,o,r,1,a,l)}(a,e[Hi],v,t,D,f)}const l=t[Ko];null!==l&&null!==l.firstChild&&(l.firstChild=null)}(f,a,l,o),t.attachToViewContainerRef(),Jr(zw(f),l,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=n0(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=Hd(this._lContainer,r);o&&(Es(zw(this._lContainer),r),Il(o[on],o))}detach(t){const r=this._adjustIndex(t,-1),o=Hd(this._lContainer,r);return o&&null!=Es(zw(this._lContainer),r)?new bl(o):null}_adjustIndex(t,r=0){return t??this.length+r}};function n0(e){return e[8]}function zw(e){return e[8]||(e[8]=[])}function r0(e,t){let r;const o=t[e.index];return _(o)?r=o:(r=oy(o,t,null,e),t[e.index]=r,h(t,r)),o0(r,t,e,o),new t0(r,e,t)}let o0=function a0(e,t,r,o){if(e[7])return;let a;a=8&r.type?hr(o):function qC(e,t){const r=e[z],o=r.createComment(""),a=mo(t,e),l=r.parentNode(a);return Od(r,l,o,r.nextSibling(a),!1),o}(t,r),e[7]=a},Ww=()=>!1;class Gw{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Gw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kw{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let l=0;l<o;l++){const f=r.getByIndex(l);a.push(this.queries[f.indexInDeclarationView].clone())}return new Kw(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==Yw(t,r).matches&&this.queries[r].setDirty()}}class c0{flags;read;predicate;constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function nS(e){return e.split(",").map(t=>t.trim())}(t):t}}class qw{queries;constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,l=this.getByIndex(o).embeddedTView(t,a);l&&(l.indexInDeclarationView=o,null!==r?r.push(l):r=[l])}return null!==r?new qw(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Qw{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,r=-1){this.metadata=t,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Qw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const l=o[a];this.matchTNodeWithReadOption(t,r,YC(r,l)),this.matchTNodeWithReadOption(t,r,za(r,t,l,!1,!1))}else o===nf?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,za(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===sl||a===Xv||a===nf&&4&r.type)this.addMatch(r.index,-2);else{const l=za(r,t,a,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function YC(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function eS(e,t,r,o){return-1===r?function JC(e,t){return 11&e.type?ol(e,t):4&e.type?Ou(e,t):null}(t,e):-2===r?function tS(e,t,r){return r===sl?ol(t,e):r===nf?Ou(t,e):r===Xv?r0(t,e):void 0}(e,t,o):rc(e,e[on],r,t)}function u0(e,t,r,o){const a=t[bo].queries[o];if(null===a.matches){const l=e.data,f=r.matches,v=[];for(let D=0;null!==f&&D<f.length;D+=2){const O=f[D];v.push(O<0?null:eS(t,l[O],f[D+1],r.metadata.read))}a.matches=v}return a.matches}function Xw(e,t,r,o){const a=e.queries.getByIndex(r),l=a.matches;if(null!==l){const f=u0(e,t,a,r);for(let v=0;v<l.length;v+=2){const D=l[v];if(D>0)o.push(f[v/2]);else{const O=l[v+1],W=t[-D];for(let te=Wi;te<W.length;te++){const Ce=W[te];Ce[Bi]===Ce[hi]&&Xw(Ce[on],Ce,O,o)}if(null!==W[Aa]){const te=W[Aa];for(let Ce=0;Ce<te.length;Ce++){const he=te[Ce];Xw(he[on],he,O,o)}}}}}return o}function h0(e,t,r,o){const a=Ir();if(a.firstCreatePass){const l=$r();(function f0(e,t,r){null===e.queries&&(e.queries=new qw),e.queries.track(new Qw(t,r))})(a,new c0(t,r,o),l.index),function rS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return function l0(e,t,r){const o=new n_(!(4&~r));return function If(e,t,r,o){const a=vc(t);a.push(r),e.firstCreatePass&&kl(e).push(o,a.length-1)}(e,t,o,o.destroy),(t[bo]??=new Kw).queries.push(new Gw(o))-1}(a,kt(),r)}function Yw(e,t){return e.queries.getByIndex(t)}function p0(e,t){const r=e[on],o=Yw(r,t);return o.crossesNgTemplate?Xw(r,e,t,[]):u0(r,e,o,t)}let ff=class{},D0=class{};function fS(e,t){return new tI(e,t??null,[])}class tI extends ff{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new e0(this);constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r;const l=Vo(t);this._bootstrapComponents=tu(l.bootstrap),this._r3Injector=Jl(t,r,[{provide:ff,useValue:this},{provide:vy,useValue:this.componentFactoryResolver},...o],je(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class nI extends D0{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new tI(this.moduleType,t,[])}}class A0 extends ff{injector;componentFactoryResolver=new e0(this);instance=null;constructor(t){super();const r=new po([...t.providers,{provide:ff,useValue:this},{provide:vy,useValue:this.componentFactoryResolver}],t.parent||To(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rI(e,t,r=null){return new A0({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let gS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Zt(0,r.type),a=o.length>0?rI([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ue({token:e,providedIn:"environment",factory:()=>new e(ni(ii))})}return e})();function C0(e){return Ar(()=>{const t=P0(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?a=>a.get(gS).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Rc.Emulated,styles:e.styles||Er,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&va("NgStandalone"),M0(r);const o=e.dependencies;return r.directiveDefs=Zv(o,!1),r.pipeDefs=Zv(o,!0),r.id=function wS(e){let t=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const l of o.join("|"))t=Math.imul(31,t)+l.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function mS(e){return wr(e)||q(e)}function yS(e){return null!==e}function iI(e){return Ar(()=>({type:e.type,bootstrap:e.bootstrap||Er,declarations:e.declarations||Er,imports:e.imports||Er,exports:e.exports||Er,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function _S(e,t){if(null==e)return Lr;const r={};for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];let l,f,v,D;Array.isArray(a)?(v=a[0],l=a[1],f=a[2]??l,D=a[3]||null):(l=a,f=a,v=N.None,D=null),r[l]=[o,v,D],t[l]=f}return r}function vS(e){if(null==e)return Lr;const t={};for(const r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function S0(e){return Ar(()=>{const t=P0(e);return M0(t),t})}function R0(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function P0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Lr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||Er,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_S(e.inputs,t),outputs:vS(e.outputs),debugInfo:null}}function M0(e){e.features?.forEach(t=>t(e))}function Zv(e,t){if(!e)return null;const r=t?K:mS;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(yS)}function oI(e){let t=function N0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(X(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new pt(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const f=e;f.inputs=sI(e.inputs),f.declaredInputs=sI(e.declaredInputs),f.outputs=sI(e.outputs);const v=a.hostBindings;v&&AS(e,v);const D=a.viewQuery,O=a.contentQueries;if(D&&bS(e,D),O&&DS(e,O),IS(e,a),Ki(e.outputs,a.outputs),X(a)&&a.data.animation){const W=e.data;W.animation=(W.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let f=0;f<l.length;f++){const v=l[f];v&&v.ngInherit&&v(e),v===oI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function TS(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Tc(a.hostAttrs,r=Tc(r,a.hostAttrs))}}(o)}function IS(e,t){for(const r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=t.inputs[r];void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=t.declaredInputs[r])}}function sI(e){return e===Lr?{}:e===Er?[]:e}function bS(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function DS(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,l)=>{t(o,a,l),r(o,a,l)}:t}function AS(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function Yv(e){return!!cI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function cI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ju(e,t,r){return e[t]=r}function ms(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function pf(e,t,r,o){const a=ms(e,t,r);return ms(e,t+1,o)||a}function Dy(e,t,r,o,a,l,f,v,D,O){const W=r+xn,te=t.firstCreatePass?function OS(e,t,r,o,a,l,f,v,D){const O=t.consts,W=kc(t,e,4,f||null,v||null);Tf()&&Hw(t,r,W,ta(O,D),ut),W.mergedAttrs=Tc(W.mergedAttrs,W.attrs),tc(t,W);const te=W.tView=Gh(2,W,o,a,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,O,null);return null!==t.queries&&(t.queries.template(t,W),te.queries=t.queries.embeddedTView(W)),W}(W,t,e,o,a,l,f,v,D):t.data[W];Ws(te,!1);const Ce=L0(t,e,te,r);ec()&&Ud(t,e,Ce,te),ya(Ce,e);const he=oy(Ce,e,Ce,te);return e[W]=he,h(e,he),function s0(e,t,r){return Ww(e,t,r)}(he,te,e),L(te)&&ue(t,e,te),null!=D&&Ve(e,te,O),te}function uI(e,t,r,o,a,l,f,v){const D=kt(),O=Ir();return Dy(D,O,e,t,r,o,a,ta(O.consts,l),f,v),uI}let L0=function V0(e,t,r,o){return $a(!0),t[z].createComment("")};let hI=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Ue({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Z0=new Ee(""),Y0=new Ee("");let mI,kR=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(r,o,a){this._ngZone=r,this.registry=o,di()&&(this._destroyRef=wn(Ns,{optional:!0})??void 0),mI||(function xR(e){mI=e}(a),a.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const r=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),o=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{yo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{r.unsubscribe(),o.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,a){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==l),r()},o)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:a})}whenStable(r,o,a){if(a&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,a),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,a){return[]}static \u0275fac=function(o){return new(o||e)(ni(yo),ni(J0),ni(Y0))};static \u0275prov=Ue({token:e,factory:e.\u0275fac})}return e})(),J0=(()=>{class e{_applications=new Map;registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return mI?.findTestabilityInTree(this,r,o)??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Ue({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),eb=(()=>{class e{static \u0275prov=Ue({token:e,providedIn:"root",factory:()=>new OR})}return e})();class OR{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){const o=this.queues.get(t.zone);o.has(t)&&(o.delete(t),this.queuedEffectCount--)}enqueue(t){const r=t.zone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,r]of this.queues)null===t?this.flushQueue(r):t.run(()=>this.flushQueue(r))}flushQueue(t){for(const r of t)t.delete(r),this.queuedEffectCount--,r.run()}}function yI(e){return!!e&&"function"==typeof e.then}function tb(e){return!!e&&"function"==typeof e.subscribe}const nb=new Ee("");function FR(e){return Ne([{provide:nb,multi:!0,useValue:e}])}let rb=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o});appInits=wn(nb,{optional:!0})??[];injector=wn(fs);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const l=Ps(this.injector,a);if(yI(l))r.push(l);else if(tb(l)){const f=new Promise((v,D)=>{l.subscribe({complete:v,error:D})});r.push(f)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(a=>{this.reject(a)}),0===r.length&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Cy=new Ee("");let pc=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=wn(CE);afterRenderManager=wn(Sh);zonelessEnabled=wn(Kc);rootEffectScheduler=wn(eb);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new gn.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=wn(qc).hasPendingTasks.pipe((0,ln.T)(r=>!r));constructor(){wn(ud,{optional:!0})}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:a=>{a&&o()}})}).finally(()=>{r.unsubscribe()})}_injector=wn(ii);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,o){return this.bootstrapImpl(r,o)}bootstrapImpl(r,o,a=fs.NULL){ar(10);const l=r instanceof WT;if(!this._injector.get(rb).done)throw new pt(405,"");let v;v=l?r:this._injector.get(vy).resolveComponentFactory(r),this.componentTypes.push(v.componentType);const D=function LR(e){return e.isBoundToModule}(v)?void 0:this._injector.get(ff),W=v.create(a,[],o||v.selector,D),te=W.location.nativeElement,Ce=W.injector.get(Z0,null);return Ce?.registerApplication(te),W.onDestroy(()=>{this.detachView(W.hostView),rE(this.components,W),Ce?.unregisterApplication(te)}),this._loadComponent(W),ar(11,W),W}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ar(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(sm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new pt(101,!1);const r=Ie(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ie(r),this.afterTick.next(),ar(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Uw,null,{optional:!0}));let r=0;for(;0!==this.dirtyFlags&&r++<10;)ar(14),this.synchronizeOnce(),ar(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:a}of this.allViews)UR(o,a,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>cu(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;rE(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Cy,[]).forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>rE(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new pt(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function UR(e,t,r,o){(r||cu(e))&&Nu(e,t,r&&!o?0:1)}function II(e,t,r,o){const a=kt();return ms(a,Gs(),t)&&(Ir(),dt(Mi(),a,e,t,r,o)),II}function ag(e,t,r,o){return ms(e,Gs(),r)?t+ke(r)+o:Hr}function cg(e,t,r,o,a,l){const v=pf(e,function pa(){return Dr.lFrame.bindingIndex}(),r,a);return ga(2),v?t+ke(r)+o+ke(a)+l:Hr}function iE(e,t){return e<<17|t<<2}function mf(e){return e>>17&32767}function TI(e){return 2|e}function gg(e){return(131068&e)>>2}function bI(e,t){return-131069&e|t<<2}function DI(e){return 1|e}function Tb(e,t,r,o){const a=e[r+1],l=null===t;let f=o?mf(a):gg(a),v=!1;for(;0!==f&&(!1===v||l);){const O=e[f+1];DP(e[f],t)&&(v=!0,e[f+1]=o?DI(O):TI(O)),f=o?mf(O):gg(O)}v&&(e[r+1]=o?TI(a):DI(a))}function DP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Fs(e,t)>=0}const Os={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bb(e){return e.substring(Os.key,Os.keyEnd)}function Db(e,t){const r=Os.textEnd;return r===t?-1:(t=Os.keyEnd=function RP(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,Os.key=t,r),mg(e,t,r))}function mg(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function AI(e,t,r){const o=kt();return ms(o,Gs(),t)&&On(Ir(),Mi(),o,e,t,o[z],r,!1),AI}function CI(e,t,r,o,a){El(t,e,r,a?"class":"style",o)}function SI(e,t,r){return ou(e,t,r,!1),SI}function RI(e,t){return ou(e,t,null,!0),RI}function Pb(e){su(VP,Hu,e,!0)}function Hu(e,t){for(let r=function CP(e){return function Cb(e){Os.key=0,Os.keyEnd=0,Os.value=0,Os.valueEnd=0,Os.textEnd=e.length}(e),Db(e,mg(e,0,Os.textEnd))}(t);r>=0;r=Db(t,r))Io(e,bb(t),!0)}function ou(e,t,r,o){const a=kt(),l=Ir(),f=ga(2);l.firstUpdatePass&&Nb(l,e,f,o),t!==Hr&&ms(a,f,t)&&xb(l,l.data[Ts()],a,a[z],e,a[f+1]=function BP(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=je(eu(e)))),e}(t,r),o,f)}function su(e,t,r,o){const a=Ir(),l=ga(2);a.firstUpdatePass&&Nb(a,null,l,o);const f=kt();if(r!==Hr&&ms(f,l,r)){const v=a.data[Ts()];if(Fb(v,o)&&!Mb(a,l)){let D=o?v.classesWithoutHost:v.stylesWithoutHost;null!==D&&(r=Cr(D,r||"")),CI(a,v,f,r,o)}else!function UP(e,t,r,o,a,l,f,v){a===Hr&&(a=Er);let D=0,O=0,W=0<a.length?a[0]:null,te=0<l.length?l[0]:null;for(;null!==W||null!==te;){const Ce=D<a.length?a[D+1]:void 0,he=O<l.length?l[O+1]:void 0;let Bt,qe=null;W===te?(D+=2,O+=2,Ce!==he&&(qe=te,Bt=he)):null===te||null!==W&&W<te?(D+=2,qe=W):(O+=2,qe=te,Bt=he),null!==qe&&xb(e,t,r,o,qe,Bt,f,v),W=D<a.length?a[D]:null,te=O<l.length?l[O]:null}}(a,v,f,f[z],f[l+1],f[l+1]=function LP(e,t,r){if(null==r||""===r)return Er;const o=[],a=eu(r);if(Array.isArray(a))for(let l=0;l<a.length;l++)e(o,a[l],!0);else if("object"==typeof a)for(const l in a)a.hasOwnProperty(l)&&e(o,l,a[l]);else"string"==typeof a&&t(o,a);return o}(e,t,r),o,l)}}function Mb(e,t){return t>=e.expandoStartIndex}function Nb(e,t,r,o){const a=e.data;if(null===a[r+1]){const l=a[Ts()],f=Mb(e,r);Fb(l,o)&&null===t&&!f&&(t=!1),t=function kP(e,t,r,o){const a=lu(e);let l=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=Ry(r=PI(null,e,t,r,o),t.attrs,o),l=null);else{const f=t.directiveStylingLast;if(-1===f||e[f]!==a)if(r=PI(a,e,t,r,o),null===l){let D=function xP(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==gg(o))return e[mf(o)]}(e,t,o);void 0!==D&&Array.isArray(D)&&(D=PI(null,e,t,D[1],o),D=Ry(D,t.attrs,o),function OP(e,t,r,o){e[mf(r?t.classBindings:t.styleBindings)]=o}(e,t,o,D))}else l=function FP(e,t,r){let o;const a=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<a;l++)o=Ry(o,e[l].hostAttrs,r);return Ry(o,t.attrs,r)}(e,t,o)}return void 0!==l&&(o?t.residualClasses=l:t.residualStyles=l),r}(a,l,t,o),function TP(e,t,r,o,a,l){let f=l?t.classBindings:t.styleBindings,v=mf(f),D=gg(f);e[o]=r;let W,O=!1;if(Array.isArray(r)?(W=r[1],(null===W||Fs(r,W)>0)&&(O=!0)):W=r,a)if(0!==D){const Ce=mf(e[v+1]);e[o+1]=iE(Ce,v),0!==Ce&&(e[Ce+1]=bI(e[Ce+1],o)),e[v+1]=function wP(e,t){return 131071&e|t<<17}(e[v+1],o)}else e[o+1]=iE(v,0),0!==v&&(e[v+1]=bI(e[v+1],o)),v=o;else e[o+1]=iE(D,0),0===v?v=o:e[D+1]=bI(e[D+1],o),D=o;O&&(e[o+1]=TI(e[o+1])),Tb(e,W,o,!0),Tb(e,W,o,!1),function bP(e,t,r,o,a){const l=a?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&Fs(l,t)>=0&&(r[o+1]=DI(r[o+1]))}(t,W,e,o,l),f=iE(v,D),l?t.classBindings=f:t.styleBindings=f}(a,l,t,r,f,o)}}function PI(e,t,r,o,a){let l=null;const f=r.directiveEnd;let v=r.directiveStylingLast;for(-1===v?v=r.directiveStart:v++;v<f&&(l=t[v],o=Ry(o,l.hostAttrs,a),l!==e);)v++;return null!==e&&(r.directiveStylingLast=v),o}function Ry(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let l=0;l<t.length;l++){const f=t[l];"number"==typeof f?a=f:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Io(e,f,!!r||t[++l]))}return void 0===e?null:e}function VP(e,t,r){const o=String(t);""!==o&&!o.includes(" ")&&Io(e,o,r)}function xb(e,t,r,o,a,l,f,v){if(!(3&t.type))return;const D=e.data,O=D[v+1],W=function IP(e){return!(1&~e)}(O)?Ob(D,t,r,a,gg(O),f):void 0;oE(W)||(oE(l)||function EP(e){return!(2&~e)}(O)&&(l=Ob(D,null,r,a,v,f)),function hv(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let l=-1===o.indexOf("-")?void 0:Ru.DashCase;null==a?e.removeStyle(r,o,l):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),l|=Ru.Important),e.setStyle(r,o,a,l))}}(o,f,qo(Ts(),r),a,l))}function Ob(e,t,r,o,a,l){const f=null===t;let v;for(;a>0;){const D=e[a],O=Array.isArray(D),W=O?D[1]:D,te=null===W;let Ce=r[a+1];Ce===Hr&&(Ce=te?Er:void 0);let he=te?Vi(Ce,o):W===o?Ce:void 0;if(O&&!oE(he)&&(he=Vi(D,o)),oE(he)&&(v=he,f))return v;const qe=e[a+1];a=f?mf(qe):gg(qe)}if(null!==t){let D=l?t.residualClasses:t.residualStyles;null!=D&&(v=Vi(D,o))}return v}function oE(e){return void 0!==e}function Fb(e,t){return!!(e.flags&(t?8:16))}function Lb(e,t,r){su(Io,Hu,ag(kt(),e,t,r),!0)}function Vb(e,t,r,o,a){su(Io,Hu,cg(kt(),e,t,r,o,a),!0)}function aE(e,t,r,o){const a=kt(),l=Ir(),f=xn+e,v=a[z],D=l.firstCreatePass?YT(f,l,a,t,ut,Tf(),r,o):l.data[f],O=$b(l,a,D,v,t,e);a[f]=O;const W=L(D);return Ws(D,!0),Tw(v,O,D),!Pu(D)&&ec()&&Ud(l,a,O,D),(0===function $y(){return Dr.lFrame.elementDepthCount}()||W)&&ya(O,a),function Eg(){Dr.lFrame.elementDepthCount++}(),W&&(ue(l,a,D),$h(l,D,a)),null!==o&&Ve(a,D),aE}function cE(){let e=$r();Ll()?Vl():(e=e.parent,Ws(e,!1));const t=e;(function Gu(e){return Dr.skipHydrationRootTNode===e})(t)&&function Ku(){Dr.skipHydrationRootTNode=null}(),function oh(){Dr.lFrame.elementDepthCount--}();const r=Ir();return r.firstCreatePass&&JT(r,t),null!=t.classesWithoutHost&&function Ju(e){return!!(8&e.flags)}(t)&&CI(r,t,kt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function kf(e){return!!(16&e.flags)}(t)&&CI(r,t,kt(),t.stylesWithoutHost,!1),cE}function xI(e,t,r,o){return aE(e,t,r,o),cE(),xI}let $b=(e,t,r,o,a,l)=>($a(!0),Gm(o,a,function Wl(){return Dr.lFrame.currentNamespace}()));function uE(e,t,r){const o=kt(),a=Ir(),l=e+xn,f=a.firstCreatePass?function uM(e,t,r,o,a){const l=t.consts,f=ta(l,o),v=kc(t,e,8,"ng-container",f);null!==f&&$w(v,f,!0);const D=ta(l,a);return Tf()&&Hw(t,r,v,D,ut),v.mergedAttrs=Tc(v.mergedAttrs,v.attrs),null!==t.queries&&t.queries.elementStart(t,v),v}(l,a,o,t,r):a.data[l];Ws(f,!0);const v=zb(a,o,f,e);return o[l]=v,ec()&&Ud(a,o,v,f),ya(v,o),L(f)&&(ue(a,o,f),$h(a,f,o)),null!=r&&Ve(o,f),uE}function lE(){let e=$r();const t=Ir();return Ll()?Vl():(e=e.parent,Ws(e,!1)),t.firstCreatePass&&(tc(t,e),E(e)&&t.queries.elementEnd(e)),lE}let zb=(e,t,r,o)=>($a(!0),Wm(t[z],""));function Wb(){return kt()}function OI(e,t,r){const o=kt();if(ms(o,Gs(),t)){const l=Ir(),f=Mi();On(l,f,o,e,t,Ld(lu(l.data),f,o),r,!0)}return OI}const yf=void 0;var fM=["en",[["a","p"],["AM","PM"],yf],[["AM","PM"],yf,yf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yf,"{1} 'at' {0}",yf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hM(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let yg={};function FI(e){const t=function pM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=qb(t);if(r)return r;const o=t.split("-")[0];if(r=qb(o),r)return r;if("en"===o)return fM;throw new pt(701,!1)}function Kb(e){return FI(e)[_g.PluralCase]}function qb(e){return e in yg||(yg[e]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[e]),yg[e]}var _g=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(_g||{});const dE="en-US";let Qb=dE;function fD(e,t,r){return function o(a){if(a===Function)return r;xu(R(e)?Ds(e.index,t):t,5);const f=t[jr];let v=pD(t,f,r,a),D=o.__ngNextListenerFn__;for(;D;)v=pD(t,f,D,a)&&v,D=D.__ngNextListenerFn__;return v}}function pD(e,t,r,o){const a=Ie(null);try{return ar(6,t,r),!1!==r(o)}catch(l){return function n1(e,t){const r=e[P],o=r?r.get(ac,null):null;o&&o.handleError(t)}(e,l),!1}finally{ar(7,t,r),Ie(a)}}function gD(e,t,r,o,a,l){const v=t[on],W=t[r][v.data[r].outputs[o]],te=v.firstCreatePass?kl(v):null,Ce=vc(t),he=W.subscribe(l),qe=Ce.length;Ce.push(l,he),te&&te.push(a,e.index,qe,-(qe+1))}function UI(e,t,r,o){const a=kt(),l=Ir(),f=$r();return BI(l,a,a[z],f,e,t,o),UI}function BI(e,t,r,o,a,l,f){const v=L(o),O=e.firstCreatePass?kl(e):null,W=vc(t);let te=!0;if(3&o.type||f){const Ce=mo(o,t),he=f?f(Ce):Ce,qe=W.length,Bt=f?_n=>f(hr(_n[o.index])):o.index;let pn=null;if(!f&&v&&(pn=function r1(e,t,r,o){const a=e.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const f=a[l];if(f===r&&a[l+1]===o){const v=t[hs],D=a[l+2];return v.length>D?v[D]:null}"string"==typeof f&&(l+=2)}return null}(e,t,a,o.index)),null!==pn)(pn.__ngLastListenerFn__||pn).__ngNextListenerFn__=l,pn.__ngLastListenerFn__=l,te=!1;else{!function wm(e,t,r,o){Fh(e,t,r,o)}(t,he,a,l=fD(o,t,l));const _n=r.listen(he,a,l);W.push(l,_n),O&&O.push(a,Bt,qe,qe+1)}}else l=fD(o,t,l);if(te){const Ce=o.outputs?.[a],he=o.hostDirectiveOutputs?.[a];if(he&&he.length)for(let qe=0;qe<he.length;qe+=2)gD(o,t,he[qe],he[qe+1],a,l);if(Ce&&Ce.length)for(const qe of Ce)gD(o,t,qe,a,a,l)}}function yD(e=1){return function Bc(e){return(Dr.lFrame.contextLView=function wf(e,t){for(;e>0;)t=t[Rn],e--;return t}(e,Dr.lFrame.contextLView))[jr]}(e)}function CD(e,t,r,o){h0(e,t,r,o)}function SD(e){const t=kt(),r=Ir(),o=qu();Bl(o+1);const a=Yw(r,o);if(e.dirty&&function rh(e){return!(4&~e[ir])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const l=p0(t,o);e.reset(l,cc),e.notifyOnChanges()}return!0}return!1}function RD(){return function Zw(e,t){return e[bo].queries[t].queryList}(kt(),qu())}function PD(e){return ea(function Df(){return Dr.lFrame.contextLView}(),xn+e)}function BD(e,t=""){const r=kt(),o=Ir(),a=e+xn,l=o.firstCreatePass?kc(o,a,1,t,null):o.data[a],f=jD(o,r,l,t,e);r[a]=f,ec()&&Ud(o,r,f,l),Ws(l,!1)}let jD=(e,t,r,o,a)=>($a(!0),function cv(e,t){return e.createText(t)}(t[z],o));function $I(e){return gE("",e,""),$I}function gE(e,t,r){const o=kt(),a=ag(o,e,t,r);return a!==Hr&&Ml(o,Ts(),a),gE}function HI(e,t,r,o,a){const l=kt(),f=cg(l,e,t,r,o,a);return f!==Hr&&Ml(l,Ts(),f),HI}function Ml(e,t,r){const o=qo(t,e);!function zm(e,t,r){e.setValue(t,r)}(e[z],o,r)}function zI(e,t,r){qf(t)&&(t=t());const o=kt();return ms(o,Gs(),t)&&On(Ir(),Mi(),o,e,t,o[z],r,!1),zI}function QD(e,t){const r=qf(e);return r&&e.set(t),r}function WI(e,t){const r=kt(),o=Ir(),a=$r();return BI(o,r,r[z],a,e,t),WI}function GI(e,t,r,o,a){if(e=vn(e),Array.isArray(e))for(let l=0;l<e.length;l++)GI(e[l],t,r,o,a);else{const l=Ir(),f=kt(),v=$r();let D=Si(e)?e:vn(e.provide);const O=Ia(e),W=1048575&v.providerIndexes,te=v.directiveStart,Ce=v.providerIndexes>>20;if(Si(e)||!e.multi){const he=new ma(O,a,ng),qe=qI(D,t,a?W:W+Ce,te);-1===qe?(mu(gu(v,f),l,D),KI(l,e,t.length),t.push(D),v.directiveStart++,v.directiveEnd++,a&&(v.providerIndexes+=1048576),r.push(he),f.push(he)):(r[qe]=he,f[qe]=he)}else{const he=qI(D,t,W+Ce,te),qe=qI(D,t,W,W+Ce),pn=qe>=0&&r[qe];if(a&&!pn||!a&&!(he>=0&&r[he])){mu(gu(v,f),l,D);const _n=function R1(e,t,r,o,a){const l=new ma(e,r,ng);return l.multi=[],l.index=t,l.componentProviders=0,YD(l,a,o&&!r),l}(a?S1:C1,r.length,a,o,O);!a&&pn&&(r[qe].providerFactory=_n),KI(l,e,t.length,0),t.push(D),v.directiveStart++,v.directiveEnd++,a&&(v.providerIndexes+=1048576),r.push(_n),f.push(_n)}else KI(l,e,he>-1?he:qe,YD(r[a?qe:he],O,!a&&o));!a&&o&&pn&&r[qe].componentProviders++}}}function KI(e,t,r,o){const a=Si(t),l=function ri(e){return!!e.useClass}(t);if(a||l){const D=(l?vn(t.useClass):t).prototype.ngOnDestroy;if(D){const O=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const W=O.indexOf(r);-1===W?O.push(r,[o,D]):O[W+1].push(o,D)}else O.push(r,D)}}}function YD(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function qI(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function C1(e,t,r,o,a){return QI(this.multi,[])}function S1(e,t,r,o,a){const l=this.multi;let f;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=rc(o,o[on],this.providerFactory.index,a);f=D.slice(0,v),QI(l,f);for(let O=v;O<D.length;O++)f.push(D[O])}else f=[],QI(l,f);return f}function QI(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function JD(e,t=[]){return r=>{r.providersResolver=(o,a)=>function A1(e,t,r){const o=Ir();if(o.firstCreatePass){const a=X(e);GI(r,o.data,o.blueprint,a,!0),GI(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}function tA(e,t,r){const o=Is()+e,a=kt();return a[o]===Hr?ju(a,o,r?t.call(r):t()):function by(e,t){return e[t]}(a,o)}function nA(e,t,r,o){return function sA(e,t,r,o,a,l){const f=t+r;return ms(e,f,a)?ju(e,f+1,l?o.call(l,a):o(a)):Oy(e,f+1)}(kt(),Is(),e,t,r,o)}function rA(e,t,r,o,a){return aA(kt(),Is(),e,t,r,o,a)}function iA(e,t,r,o,a,l){return function cA(e,t,r,o,a,l,f,v){const D=t+r;return function Jv(e,t,r,o,a){const l=pf(e,t,r,o);return ms(e,t+2,a)||l}(e,D,a,l,f)?ju(e,D+3,v?o.call(v,a,l,f):o(a,l,f)):Oy(e,D+3)}(kt(),Is(),e,t,r,o,a,l)}function oA(e,t,r,o,a,l,f){return function uA(e,t,r,o,a,l,f,v,D){const O=t+r;return function xc(e,t,r,o,a,l){const f=pf(e,t,r,o);return pf(e,t+2,a,l)||f}(e,O,a,l,f,v)?ju(e,O+4,D?o.call(D,a,l,f,v):o(a,l,f,v)):Oy(e,O+4)}(kt(),Is(),e,t,r,o,a,l,f)}function Oy(e,t){const r=e[t];return r===Hr?void 0:r}function aA(e,t,r,o,a,l,f){const v=t+r;return pf(e,v,a,l)?ju(e,v+2,f?o.call(f,a,l):o(a,l)):Oy(e,v+2)}function dA(e,t){const r=Ir();let o;const a=e+xn;r.firstCreatePass?(o=function V1(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}}(t,r.pipeRegistry),r.data[a]=o,o.onDestroy&&(r.destroyHooks??=[]).push(a,o.onDestroy)):o=r.data[a];const l=o.factory||(o.factory=vs(o.type)),v=mi(ng);try{const D=Ql(!1),O=l();return Ql(D),function yc(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,kt(),a,O),O}finally{mi(v)}}function hA(e,t,r,o){const a=e+xn,l=kt(),f=ea(l,a);return function Fy(e,t){return e[on].data[t].pure}(l,a)?aA(l,Is(),t,f.transform,r,o,f):f.transform(r,o)}class PA{full;major;minor;patch;constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const yN=new PA("19.2.14");class _N{ngModuleFactory;componentFactories;constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let vN=(()=>{class e{compileModuleSync(r){return new nI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),l=tu(Vo(r).declarations).reduce((f,v)=>{const D=wr(v);return D&&f.push(new Iy(D)),f},[]);return new _N(o,l)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IN=(()=>{class e{zone=wn(yo);changeDetectionScheduler=wn(ps);applicationRef=wn(pc);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new yo({...tT(),scheduleInRootZone:r}),[{provide:yo,useFactory:e},{provide:Xi,multi:!0,useFactory:()=>{const o=wn(IN,{optional:!0});return()=>o.initialize()}},{provide:Xi,multi:!0,useFactory:()=>{const o=wn(bN);return()=>{o.initialize()}}},!0===t?{provide:Bf,useValue:!0}:[],{provide:jf,useValue:r??yu}]}function tT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let bN=(()=>{class e{subscription=new pr.yU;initialized=!1;zone=wn(yo);pendingTasks=wn(qc);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{yo.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{yo.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vy=(()=>{class e{appRef=wn(pc);taskService=wn(qc);ngZone=wn(yo);zonelessEnabled=wn(Kc);tracing=wn(ud,{optional:!0});disableScheduling=wn(Bf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new pr.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(wn(jf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _u||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let o=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,o=!0;break;case 12:this.appRef.dirtyFlags|=16,o=!0;break;case 11:o=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;const a=this.useMicrotaskScheduler?Cg:Gy;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const rT=new Ee("",{providedIn:"root",factory:()=>wn(rT,Vn.Optional|Vn.SkipSelf)||function DN(){return typeof $localize<"u"&&$localize.locale||dE}()}),AN=new Ee("",{providedIn:"root",factory:()=>"USD"}),vE=new Ee(""),MN=new Ee("");function Uy(e){return!e.moduleRef}let nh=null;function LN(){return!1}let jA=(()=>class e{static __NG_ELEMENT_ID__=VN})();function VN(e){return function UN(e,t,r){if(R(e)&&!r){const o=Ds(e.index,t);return new bl(o,o)}return 175&e.type?new bl(t[ur],t):null}($r(),kt(),!(16&~e))}class WA{constructor(){}supports(t){return Yv(t)}create(t){return new zN(t)}}const HN=(e,t)=>t;class zN{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||HN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,l=null;for(;r||o;){const f=!o||r&&r.currentIndex<KA(o,a,l)?r:o,v=KA(f,a,l),D=f.currentIndex;if(f===o)a--,o=o._nextRemoved;else if(r=r._next,null==f.previousIndex)a++;else{l||(l=[]);const O=v-a,W=D-a;if(O!=W){for(let Ce=0;Ce<O;Ce++){const he=Ce<l.length?l[Ce]:l[Ce]=0,qe=he+Ce;W<=qe&&qe<O&&(l[Ce]=he+1)}l[f.previousIndex]=W-O}}v!==D&&t(f,v,D)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Yv(t))throw new pt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,l,f,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let v=0;v<this.length;v++)l=t[v],f=this._trackByFn(v,l),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,l,f,v)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,f,v),o=!0),r=r._next}else a=0,function kS(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,v=>{f=this._trackByFn(a,v),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,v,f,a)),Object.is(r.item,v)||this._addIdentityChange(r,v)):(r=this._mismatch(r,v,f,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,l,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,l,a)):t=this._addAfter(new WN(r,o),l,a),t}_verifyReinsertion(t,r,o,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?t=this._reinsertAfter(l,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,l=t._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new GA),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class WN{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,r){this.item=t,this.trackById=r}}class GN{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class GA{map=new Map;put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new GN,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KA(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class qA{constructor(){}supports(t){return t instanceof Map||cI(t)}create(){return new KN}}class KN{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||cI(t)))throw new pt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const l=a._prev,f=a._next;return l&&(l._next=f),f&&(f._prev=l),a._next=null,a._prev=null,a}const o=new qN(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class qN{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function QA(){return new cT([new WA])}let cT=(()=>{class e{factories;static \u0275prov=Ue({token:e,providedIn:"root",factory:QA});constructor(r){this.factories=r}static create(r,o){if(null!=o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||QA()),deps:[[e,new fo,new Fr]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(null!=o)return o;throw new pt(901,!1)}}return e})();function XA(){return new uT([new qA])}let uT=(()=>{class e{static \u0275prov=Ue({token:e,providedIn:"root",factory:XA});factories;constructor(r){this.factories=r}static create(r,o){if(o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||XA()),deps:[[e,new fo,new Fr]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(o)return o;throw new pt(901,!1)}}return e})();function ZN(e){ar(8);try{const{rootComponent:t,appProviders:r,platformProviders:o}=e,a=function FN(e=[]){if(nh)return nh;const t=function VA(e=[],t){return fs.create({name:t,providers:[{provide:Ni,useValue:"platform"},{provide:vE,useValue:new Set([()=>nh=null])},...e]})}(e);return nh=t,function ib(){!function Qe(e){sn=e}(()=>{throw new pt(600,!1)})}(),function UA(e){const t=e.get(Kg,null);Ps(e,()=>{t?.forEach(r=>r())})}(t),t}(o),l=[eT({}),{provide:ps,useExisting:Vy},...r||[]];return function OA(e){const t=Uy(e)?e.r3Injector:e.moduleRef.injector,r=t.get(yo);return r.run(()=>{Uy(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(ac,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:l=>{o.handleError(l)}})}),Uy(e)){const l=()=>t.destroy(),f=e.platformInjector.get(vE);f.add(l),t.onDestroy(()=>{a.unsubscribe(),f.delete(l)})}else{const l=()=>e.moduleRef.destroy(),f=e.platformInjector.get(vE);f.add(l),e.moduleRef.onDestroy(()=>{rE(e.allPlatformModules,e.moduleRef),a.unsubscribe(),f.delete(l)})}return function kN(e,t,r){try{const o=r();return yI(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const l=t.get(rb);return l.runInitializers(),l.donePromise.then(()=>{if(function _M(e){"string"==typeof e&&(Qb=e.toLowerCase().replace(/_/g,"-"))}(t.get(rT,dE)||dE),!t.get(MN,!0))return Uy(e)?t.get(pc):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Uy(e)){const D=t.get(pc);return void 0!==e.rootComponent&&D.bootstrap(e.rootComponent),D}return function NN(e,t){const r=e.injector.get(pc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new pt(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new A0({providers:l,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:a,rootComponent:t})}catch(t){return Promise.reject(t)}finally{ar(9)}}function vk(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function au(e){return function zn(e){const t=Ie(null);try{return e()}finally{Ie(t)}}(e)}function jy(e,t){return function Bn(e,t){const r=Object.create(In);r.computation=e,void 0!==t&&(r.equal=t);const o=()=>{if(ft(r),ht(r),r.value===mt)throw r.error;return r.value};return o[it]=r,o}(e,t?.equal)}function Bk(e){const t=wr(e);if(!t)return null;const r=new Iy(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1362:(Dn,Ge,j)=>{"use strict";j.d(Ge,{h1:()=>De,uA:()=>Z});var I=j(467),x=j(6858);class Z{constructor(be,Te,ht){this.name=be,this.instanceFactory=Te,this.type=ht,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(be){return this.instantiationMode=be,this}setMultipleInstances(be){return this.multipleInstances=be,this}setServiceProps(be){return this.serviceProps=be,this}setInstanceCreatedCallback(be){return this.onInstanceCreated=be,this}}const $="[DEFAULT]";class Me{constructor(be,Te){this.name=be,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(be){const Te=this.normalizeInstanceIdentifier(be);if(!this.instancesDeferred.has(Te)){const ht=new x.cY;if(this.instancesDeferred.set(Te,ht),this.isInitialized(Te)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:Te});Xe&&ht.resolve(Xe)}catch{}}return this.instancesDeferred.get(Te).promise}getImmediate(be){var Te;const ht=this.normalizeInstanceIdentifier(be?.identifier),Xe=null!==(Te=be?.optional)&&void 0!==Te&&Te;if(!this.isInitialized(ht)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ht})}catch(ft){if(Xe)return null;throw ft}}getComponent(){return this.component}setComponent(be){if(be.name!==this.name)throw Error(`Mismatching Component ${be.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=be,this.shouldAutoInitialize()){if(function Ie(Ke){return"EAGER"===Ke.instantiationMode}(be))try{this.getOrInitializeService({instanceIdentifier:$})}catch{}for(const[Te,ht]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(Te);try{const ft=this.getOrInitializeService({instanceIdentifier:Xe});ht.resolve(ft)}catch{}}}}clearInstance(be=$){this.instancesDeferred.delete(be),this.instancesOptions.delete(be),this.instances.delete(be)}delete(){var be=this;return(0,I.A)(function*(){const Te=Array.from(be.instances.values());yield Promise.all([...Te.filter(ht=>"INTERNAL"in ht).map(ht=>ht.INTERNAL.delete()),...Te.filter(ht=>"_delete"in ht).map(ht=>ht._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(be=$){return this.instances.has(be)}getOptions(be=$){return this.instancesOptions.get(be)||{}}initialize(be={}){const{options:Te={}}=be,ht=this.normalizeInstanceIdentifier(be.instanceIdentifier);if(this.isInitialized(ht))throw Error(`${this.name}(${ht}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:ht,options:Te});for(const[ft,Mt]of this.instancesDeferred.entries())ht===this.normalizeInstanceIdentifier(ft)&&Mt.resolve(Xe);return Xe}onInit(be,Te){var ht;const Xe=this.normalizeInstanceIdentifier(Te),ft=null!==(ht=this.onInitCallbacks.get(Xe))&&void 0!==ht?ht:new Set;ft.add(be),this.onInitCallbacks.set(Xe,ft);const Mt=this.instances.get(Xe);return Mt&&be(Mt,Xe),()=>{ft.delete(be)}}invokeOnInitCallbacks(be,Te){const ht=this.onInitCallbacks.get(Te);if(ht)for(const Xe of ht)try{Xe(be,Te)}catch{}}getOrInitializeService({instanceIdentifier:be,options:Te={}}){let ht=this.instances.get(be);if(!ht&&this.component&&(ht=this.component.instanceFactory(this.container,{instanceIdentifier:(Ke=be,Ke===$?void 0:Ke),options:Te}),this.instances.set(be,ht),this.instancesOptions.set(be,Te),this.invokeOnInitCallbacks(ht,be),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,be,ht)}catch{}var Ke;return ht||null}normalizeInstanceIdentifier(be=$){return this.component?this.component.multipleInstances?be:$:be}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(be){this.name=be,this.providers=new Map}addComponent(be){const Te=this.getProvider(be.name);if(Te.isComponentSet())throw new Error(`Component ${be.name} has already been registered with ${this.name}`);Te.setComponent(be)}addOrOverwriteComponent(be){this.getProvider(be.name).isComponentSet()&&this.providers.delete(be.name),this.addComponent(be)}getProvider(be){if(this.providers.has(be))return this.providers.get(be);const Te=new Me(be,this);return this.providers.set(be,Te),Te}getProviders(){return Array.from(this.providers.values())}}},1397:(Dn,Ge,j)=>{"use strict";j.d(Ge,{Z:()=>De});var I=j(6354),x=j(8750),Z=j(9974),$=j(5225),Me=j(4360),Ie=j(8071);function De(Ke,be,Te=1/0){return(0,Ie.T)(be)?De((ht,Xe)=>(0,I.T)((ft,Mt)=>be(ht,ft,Xe,Mt))((0,x.Tg)(Ke(ht,Xe))),Te):("number"==typeof be&&(Te=be),(0,Z.N)((ht,Xe)=>function it(Ke,be,Te,ht,Xe,ft,Mt,zt){const jt=[];let tn=0,vt=0,Tt=!1;const Pt=()=>{Tt&&!jt.length&&!tn&&be.complete()},Fe=et=>tn<ht?st(et):jt.push(et),st=et=>{ft&&be.next(et),tn++;let bt=!1;(0,x.Tg)(Te(et,vt++)).subscribe((0,Me._)(be,Xt=>{Xe?.(Xt),ft?Fe(Xt):be.next(Xt)},()=>{bt=!0},void 0,()=>{if(bt)try{for(tn--;jt.length&&tn<ht;){const Xt=jt.shift();Mt?(0,$.N)(be,Mt,()=>st(Xt)):st(Xt)}Pt()}catch(Xt){be.error(Xt)}}))};return Ke.subscribe((0,Me._)(be,Fe,()=>{Tt=!0,Pt()})),()=>{zt?.()}}(ht,Xe,Ke,Te)))}},1413:(Dn,Ge,j)=>{"use strict";j.d(Ge,{B:()=>Ie});var I=j(1985),x=j(8359);const $=(0,j(1853).L)(Ke=>function(){Ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=j(7908),it=j(9786);let Ie=(()=>{class Ke extends I.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Te){const ht=new De(this,this);return ht.operator=Te,ht}_throwIfClosed(){if(this.closed)throw new $}next(Te){(0,it.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ht of this.currentObservers)ht.next(Te)}})}error(Te){(0,it.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Te;const{observers:ht}=this;for(;ht.length;)ht.shift().error(Te)}})}complete(){(0,it.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Te}=this;for(;Te.length;)Te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Te;return(null===(Te=this.observers)||void 0===Te?void 0:Te.length)>0}_trySubscribe(Te){return this._throwIfClosed(),super._trySubscribe(Te)}_subscribe(Te){return this._throwIfClosed(),this._checkFinalizedStatuses(Te),this._innerSubscribe(Te)}_innerSubscribe(Te){const{hasError:ht,isStopped:Xe,observers:ft}=this;return ht||Xe?x.Kn:(this.currentObservers=null,ft.push(Te),new x.yU(()=>{this.currentObservers=null,(0,Me.o)(ft,Te)}))}_checkFinalizedStatuses(Te){const{hasError:ht,thrownError:Xe,isStopped:ft}=this;ht?Te.error(Xe):ft&&Te.complete()}asObservable(){const Te=new I.c;return Te.source=this,Te}}return Ke.create=(be,Te)=>new De(be,Te),Ke})();class De extends Ie{constructor(be,Te){super(),this.destination=be,this.source=Te}next(be){var Te,ht;null===(ht=null===(Te=this.destination)||void 0===Te?void 0:Te.next)||void 0===ht||ht.call(Te,be)}error(be){var Te,ht;null===(ht=null===(Te=this.destination)||void 0===Te?void 0:Te.error)||void 0===ht||ht.call(Te,be)}complete(){var be,Te;null===(Te=null===(be=this.destination)||void 0===be?void 0:be.complete)||void 0===Te||Te.call(be)}_subscribe(be){var Te,ht;return null!==(ht=null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(be))&&void 0!==ht?ht:x.Kn}}},1635:(Dn,Ge,j)=>{"use strict";function $(ne,fe){var pe={};for(var ye in ne)Object.prototype.hasOwnProperty.call(ne,ye)&&fe.indexOf(ye)<0&&(pe[ye]=ne[ye]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var se=0;for(ye=Object.getOwnPropertySymbols(ne);se<ye.length;se++)fe.indexOf(ye[se])<0&&Object.prototype.propertyIsEnumerable.call(ne,ye[se])&&(pe[ye[se]]=ne[ye[se]])}return pe}function ht(ne,fe,pe,ye){return new(pe||(pe=Promise))(function(ge,Ye){function Et(tr){try{nn(ye.next(tr))}catch(Qt){Ye(Qt)}}function un(tr){try{nn(ye.throw(tr))}catch(Qt){Ye(Qt)}}function nn(tr){tr.done?ge(tr.value):function se(ge){return ge instanceof pe?ge:new pe(function(Ye){Ye(ge)})}(tr.value).then(Et,un)}nn((ye=ye.apply(ne,fe||[])).next())})}function Pt(ne){return this instanceof Pt?(this.v=ne,this):new Pt(ne)}function Fe(ne,fe,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,ye=pe.apply(ne,fe||[]),ge=[];return se=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Et("next"),Et("throw"),Et("return",function Ye(zn){return function(Jt){return Promise.resolve(Jt).then(zn,Qt)}}),se[Symbol.asyncIterator]=function(){return this},se;function Et(zn,Jt){ye[zn]&&(se[zn]=function(Un){return new Promise(function(nr,An){ge.push([zn,Un,nr,An])>1||un(zn,Un)})},Jt&&(se[zn]=Jt(se[zn])))}function un(zn,Jt){try{!function nn(zn){zn.value instanceof Pt?Promise.resolve(zn.value.v).then(tr,Qt):Yn(ge[0][2],zn)}(ye[zn](Jt))}catch(Un){Yn(ge[0][3],Un)}}function tr(zn){un("next",zn)}function Qt(zn){un("throw",zn)}function Yn(zn,Jt){zn(Jt),ge.shift(),ge.length&&un(ge[0][0],ge[0][1])}}function et(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,fe=ne[Symbol.asyncIterator];return fe?fe.call(ne):(ne=function zt(ne){var fe="function"==typeof Symbol&&Symbol.iterator,pe=fe&&ne[fe],ye=0;if(pe)return pe.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&ye>=ne.length&&(ne=void 0),{value:ne&&ne[ye++],done:!ne}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),pe={},ye("next"),ye("throw"),ye("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function ye(ge){pe[ge]=ne[ge]&&function(Ye){return new Promise(function(Et,un){!function se(ge,Ye,Et,un){Promise.resolve(un).then(function(nn){ge({value:nn,done:Et})},Ye)}(Et,un,(Ye=ne[ge](Ye)).done,Ye.value)})}}}j.d(Ge,{AQ:()=>Fe,N3:()=>Pt,Tt:()=>$,sH:()=>ht,xN:()=>et}),"function"==typeof SuppressedError&&SuppressedError},1853:(Dn,Ge,j)=>{"use strict";function I(x){const $=x(Me=>{Error.call(Me),Me.stack=(new Error).stack});return $.prototype=Object.create(Error.prototype),$.prototype.constructor=$,$}j.d(Ge,{L:()=>I})},1985:(Dn,Ge,j)=>{"use strict";j.d(Ge,{c:()=>De});var I=j(7707),x=j(8359),Z=j(3494),$=j(1203),Me=j(1026),it=j(8071),Ie=j(9786);let De=(()=>{class ht{constructor(ft){ft&&(this._subscribe=ft)}lift(ft){const Mt=new ht;return Mt.source=this,Mt.operator=ft,Mt}subscribe(ft,Mt,zt){const jt=function Te(ht){return ht&&ht instanceof I.vU||function be(ht){return ht&&(0,it.T)(ht.next)&&(0,it.T)(ht.error)&&(0,it.T)(ht.complete)}(ht)&&(0,x.Uv)(ht)}(ft)?ft:new I.Ms(ft,Mt,zt);return(0,Ie.Y)(()=>{const{operator:tn,source:vt}=this;jt.add(tn?tn.call(jt,vt):vt?this._subscribe(jt):this._trySubscribe(jt))}),jt}_trySubscribe(ft){try{return this._subscribe(ft)}catch(Mt){ft.error(Mt)}}forEach(ft,Mt){return new(Mt=Ke(Mt))((zt,jt)=>{const tn=new I.Ms({next:vt=>{try{ft(vt)}catch(Tt){jt(Tt),tn.unsubscribe()}},error:jt,complete:zt});this.subscribe(tn)})}_subscribe(ft){var Mt;return null===(Mt=this.source)||void 0===Mt?void 0:Mt.subscribe(ft)}[Z.s](){return this}pipe(...ft){return(0,$.m)(ft)(this)}toPromise(ft){return new(ft=Ke(ft))((Mt,zt)=>{let jt;this.subscribe(tn=>jt=tn,tn=>zt(tn),()=>Mt(jt))})}}return ht.create=Xe=>new ht(Xe),ht})();function Ke(ht){var Xe;return null!==(Xe=ht??Me.$.Promise)&&void 0!==Xe?Xe:Promise}},2107:(Dn,Ge,j)=>{"use strict";j.d(Ge,{wc:()=>Ro,c7:()=>No,Xm:()=>Yr});var I=j(2967),x=j(1360),Z=j(7440),$=j(4125),Me=j(6335),it=j(2214),Ie=j(467),De=j(7852),Ke=j(6858),be=j(1362);const Te="firebasestorage.googleapis.com";class zt extends Ke.g{constructor(K,we,Ne=0){super(tn(K),`Firebase Storage: ${we} (${tn(K)})`),this.status_=Ne,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zt.prototype)}get status(){return this.status_}set status(K){this.status_=K}_codeEquals(K){return tn(K)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(K){this.customData.serverResponse=K,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var jt=function(q){return q.UNKNOWN="unknown",q.OBJECT_NOT_FOUND="object-not-found",q.BUCKET_NOT_FOUND="bucket-not-found",q.PROJECT_NOT_FOUND="project-not-found",q.QUOTA_EXCEEDED="quota-exceeded",q.UNAUTHENTICATED="unauthenticated",q.UNAUTHORIZED="unauthorized",q.UNAUTHORIZED_APP="unauthorized-app",q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",q.INVALID_CHECKSUM="invalid-checksum",q.CANCELED="canceled",q.INVALID_EVENT_NAME="invalid-event-name",q.INVALID_URL="invalid-url",q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",q.NO_DEFAULT_BUCKET="no-default-bucket",q.CANNOT_SLICE_BLOB="cannot-slice-blob",q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",q.NO_DOWNLOAD_URL="no-download-url",q.INVALID_ARGUMENT="invalid-argument",q.INVALID_ARGUMENT_COUNT="invalid-argument-count",q.APP_DELETED="app-deleted",q.INVALID_ROOT_OPERATION="invalid-root-operation",q.INVALID_FORMAT="invalid-format",q.INTERNAL_ERROR="internal-error",q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",q}(jt||{});function tn(q){return"storage/"+q}function tt(q){return new zt(jt.INVALID_ARGUMENT,q)}function sn(){return new zt(jt.APP_DELETED,"The Firebase app was deleted.")}class fe{constructor(K,we){this.bucket=K,this.path_=we}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const K=encodeURIComponent;return"/b/"+K(this.bucket)+"/o/"+K(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(K,we){let Ne;try{Ne=fe.makeFromUrl(K,we)}catch{return new fe(K,"")}if(""===Ne.path)return Ne;throw function lt(q){return new zt(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+q+"'.")}(K)}static makeFromUrl(K,we){let Ne=null;const at="([A-Za-z0-9.\\-_]+)",bn=new RegExp("^gs://"+at+"(/(.*))?$","i");function gr(Ri){Ri.path_=decodeURIComponent(Ri.path)}const Ur=we.replace(/[.]/g,"\\."),_i=[{regex:bn,indices:{bucket:1,path:3},postModify:function Ot(Ri){"/"===Ri.path.charAt(Ri.path.length-1)&&(Ri.path_=Ri.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ur}/v[A-Za-z0-9_]+/b/${at}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:gr},{regex:new RegExp(`^https?://${we===Te?"(?:storage.googleapis.com|storage.cloud.google.com)":we}/${at}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:gr}];for(let Ri=0;Ri<_i.length;Ri++){const To=_i[Ri],ii=To.regex.exec(K);if(ii){let Wo=ii[To.indices.path];Wo||(Wo=""),Ne=new fe(ii[To.indices.bucket],Wo),To.postModify(Ne);break}}if(null==Ne)throw function Dt(q){return new zt(jt.INVALID_URL,"Invalid URL '"+q+"'.")}(K);return Ne}}class pe{constructor(K){this.promise_=Promise.reject(K)}getPromise(){return this.promise_}cancel(K=!1){}}function Qt(q,K,we,Ne){if(Ne<K)throw tt(`Invalid value for '${q}'. Expected ${K} or greater.`);if(Ne>we)throw tt(`Invalid value for '${q}'. Expected ${we} or less.`)}var Jt=function(q){return q[q.NO_ERROR=0]="NO_ERROR",q[q.NETWORK_ERROR=1]="NETWORK_ERROR",q[q.ABORT=2]="ABORT",q}(Jt||{});class nr{constructor(K,we,Ne,at,Ot,Zt,bn,mn,gr,Jn,Ur,wi=!0,yi=!1){this.url_=K,this.method_=we,this.headers_=Ne,this.body_=at,this.successCodes_=Ot,this.additionalRetryCodes_=Zt,this.callback_=bn,this.errorCallback_=mn,this.timeout_=gr,this.progressCallback_=Jn,this.connectionFactory_=Ur,this.retry=wi,this.isUsingEmulator=yi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ui,Si)=>{this.resolve_=Ui,this.reject_=Si,this.start_()})}start_(){const we=(Ne,at)=>{const Ot=this.resolve_,Zt=this.reject_,bn=at.connection;if(at.wasSuccessCode)try{const mn=this.callback_(bn,bn.getResponse());!function ge(q){return void 0!==q}(mn)?Ot():Ot(mn)}catch(mn){Zt(mn)}else if(null!==bn){const mn=function vt(){return new zt(jt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();mn.serverResponse=bn.getErrorText(),Zt(this.errorCallback_?this.errorCallback_(bn,mn):mn)}else Zt(at.canceled?this.appDelete_?sn():function Xt(){return new zt(jt.CANCELED,"User canceled the upload/download.")}():function bt(){return new zt(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?we(0,new An(!1,null,!0)):this.backoffId_=function ye(q,K,we){let Ne=1,at=null,Ot=null,Zt=!1,bn=0;function mn(){return 2===bn}let gr=!1;function Jn(...ri){gr||(gr=!0,K.apply(null,ri))}function Ur(ri){at=setTimeout(()=>{at=null,q(yi,mn())},ri)}function wi(){Ot&&clearTimeout(Ot)}function yi(ri,...Ni){if(gr)return void wi();if(ri)return wi(),void Jn.call(null,ri,...Ni);if(mn()||Zt)return wi(),void Jn.call(null,ri,...Ni);let _i;Ne<64&&(Ne*=2),1===bn?(bn=2,_i=0):_i=1e3*(Ne+Math.random()),Ur(_i)}let Ui=!1;function Si(ri){Ui||(Ui=!0,wi(),!gr&&(null!==at?(ri||(bn=2),clearTimeout(at),Ur(0)):ri||(bn=1)))}return Ur(0),Ot=setTimeout(()=>{Zt=!0,Si(!0)},we),Si}((Ne,at)=>{if(at)return void Ne(!1,new An(!1,null,!0));const Ot=this.connectionFactory_();this.pendingConnection_=Ot;const Zt=bn=>{null!==this.progressCallback_&&this.progressCallback_(bn.loaded,bn.lengthComputable?bn.total:-1)};null!==this.progressCallback_&&Ot.addUploadProgressListener(Zt),Ot.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ot.removeUploadProgressListener(Zt),this.pendingConnection_=null;const bn=Ot.getErrorCode()===Jt.NO_ERROR,mn=Ot.getStatus();if(!bn||function Un(q,K){const we=q>=500&&q<600,at=-1!==[408,429].indexOf(q),Ot=-1!==K.indexOf(q);return we||at||Ot}(mn,this.additionalRetryCodes_)&&this.retry){const Jn=Ot.getErrorCode()===Jt.ABORT;return void Ne(!1,new An(!1,null,Jn))}const gr=-1!==this.successCodes_.indexOf(mn);Ne(!0,new An(gr,Ot))})},we,this.timeout_)}getPromise(){return this.promise_}cancel(K){this.canceled_=!0,this.appDelete_=K||!1,null!==this.backoffId_&&function se(q){q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class An{constructor(K,we,Ne){this.wasSuccessCode=K,this.connection=we,this.canceled=!!Ne}}class rr{constructor(K,we){this._service=K,this._location=we instanceof fe?we:fe.makeFromUrl(we,K.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(K,we){return new rr(K,we)}get root(){const K=new fe(this._location.bucket,"");return this._newRef(this._service,K)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function Sn(q){const K=q.lastIndexOf("/",q.length-2);return-1===K?q:q.slice(K+1)}(this._location.path)}get storage(){return this._service}get parent(){const K=function gi(q){if(0===q.length)return null;const K=q.lastIndexOf("/");return-1===K?"":q.slice(0,K)}(this._location.path);if(null===K)return null;const we=new fe(this._location.bucket,K);return new rr(this._service,we)}_throwIfRoot(K){if(""===this._location.path)throw function xt(q){return new zt(jt.INVALID_ROOT_OPERATION,"The operation '"+q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(K)}}function _r(q,K){const we=K?.storageBucket;return null==we?null:fe.makeFromBucketSpec(we,q)}class vr{constructor(K,we,Ne,at,Ot,Zt=!1){this.app=K,this._authProvider=we,this._appCheckProvider=Ne,this._url=at,this._firebaseVersion=Ot,this._isUsingEmulator=Zt,this._bucket=null,this._host=Te,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=at?fe.makeFromBucketSpec(at,this._host):_r(this._host,this.app.options)}get host(){return this._host}set host(K){this._host=K,this._bucket=null!=this._url?fe.makeFromBucketSpec(this._url,K):_r(K,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(K){Qt("time",0,Number.POSITIVE_INFINITY,K),this._maxUploadRetryTime=K}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(K){Qt("time",0,Number.POSITIVE_INFINITY,K),this._maxOperationRetryTime=K}_getAuthToken(){var K=this;return(0,Ie.A)(function*(){if(K._overrideAuthToken)return K._overrideAuthToken;const we=K._authProvider.getImmediate({optional:!0});if(we){const Ne=yield we.getToken();if(null!==Ne)return Ne.accessToken}return null})()}_getAppCheckToken(){var K=this;return(0,Ie.A)(function*(){if((0,De.xZ)(K.app)&&K.app.settings.appCheckToken)return K.app.settings.appCheckToken;const we=K._appCheckProvider.getImmediate({optional:!0});return we?(yield we.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(K=>K.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(K){return new rr(this,K)}_makeRequest(K,we,Ne,at,Ot=!0){if(this._deleted)return new pe(sn());{const Zt=function pr(q,K,we,Ne,at,Ot,Zt=!0,bn=!1){const mn=function zn(q){const K=encodeURIComponent;let we="?";for(const Ne in q)q.hasOwnProperty(Ne)&&(we=we+(K(Ne)+"=")+K(q[Ne])+"&");return we=we.slice(0,-1),we}(q.urlParams),gr=q.url+mn,Jn=Object.assign({},q.headers);return function Ai(q,K){K&&(q["X-Firebase-GMPID"]=K)}(Jn,K),function kr(q,K){null!==K&&K.length>0&&(q.Authorization="Firebase "+K)}(Jn,we),function Nr(q,K){q["X-Firebase-Storage-Version"]="webjs/"+(K??"AppManager")}(Jn,Ot),function gn(q,K){null!==K&&(q["X-Firebase-AppCheck"]=K)}(Jn,Ne),new nr(gr,q.method,Jn,q.body,q.successCodes,q.additionalRetryCodes,q.handler,q.errorHandler,q.timeout,q.progressCallback,at,Zt,bn)}(K,this._appId,Ne,at,we,this._firebaseVersion,Ot,this._isUsingEmulator);return this._requests.add(Zt),Zt.getPromise().then(()=>this._requests.delete(Zt),()=>this._requests.delete(Zt)),Zt}}makeRequestWithTokens(K,we){var Ne=this;return(0,Ie.A)(function*(){const[at,Ot]=yield Promise.all([Ne._getAuthToken(),Ne._getAppCheckToken()]);return Ne._makeRequest(K,we,at,Ot).getPromise()})()}}const $i="@firebase/storage",mi="0.13.12",Eo="storage";function rs(q=(0,De.Sx)(),K){q=(0,Ke.Ku)(q);const Ne=(0,De.j6)(q,Eo).getImmediate({identifier:K}),at=(0,Ke.yU)("storage");return at&&function wn(q,K,we,Ne={}){!function Vn(q,K,we,Ne={}){q.host=`${K}:${we}`;const at=(0,Ke.zJ)(K);at&&((0,Ke.gE)(`https://${q.host}`),(0,Ke.P1)("Storage",!0)),q._isUsingEmulator=!0,q._protocol=at?"https":"http";const{mockUserToken:Ot}=Ne;Ot&&(q._overrideAuthToken="string"==typeof Ot?Ot:(0,Ke.Fy)(Ot,q.app.options.projectId))}(q,K,we,Ne)}(Ne,...at),Ne}function So(q,{instanceIdentifier:K}){const we=q.getProvider("app").getImmediate(),Ne=q.getProvider("auth-internal"),at=q.getProvider("app-check-internal");return new vr(we,Ne,at,K,De.MF)}!function Qo(){(0,De.om)(new be.uA(Eo,So,"PUBLIC").setMultipleInstances(!0)),(0,De.KO)($i,mi,""),(0,De.KO)($i,mi,"esm2017")}();class Ro{constructor(K){return K}}const _s="storage",Ho=new x.nKC("angularfire2.storage-instances");function zo(q){return(K,we)=>{const Ne=K.runOutsideAngular(()=>q(we));return new Ro(Ne)}}const vs={provide:class os{constructor(){return(0,I.CA)(_s)}},deps:[[new x.Xx1,Ho]]},Kr={provide:Ro,useFactory:function fo(q,K){const we=(0,I.lR)(_s,q,K);return we&&new Ro(we)},deps:[[new x.Xx1,Ho],Z.XU]};function Yr(q,...K){return(0,it.KO)("angularfire",I.xv.full,"gcs"),(0,x.EmA)([Kr,vs,{provide:Ho,useFactory:zo(q),multi:!0,deps:[x.SKi,x.zZn,I.u0,Z.gL,[new x.Xx1,Me.DF],[new x.Xx1,$.kR],...K]}])}const No=(0,I.S3)(rs,!0)},2214:(Dn,Ge,j)=>{"use strict";j.d(Ge,{Dk:()=>I.Dk,KO:()=>I.KO,Sx:()=>I.Sx,Wp:()=>I.Wp});var I=j(7852);(0,I.KO)("firebase","11.8.1","app")},2881:(Dn,Ge,j)=>{"use strict";j.d(Ge,{MD:()=>eo,Sq:()=>Fi,YU:()=>vn,bT:()=>_e,fw:()=>Z,vh:()=>Ee});var I=j(1360),x=j(6048);let Z=(()=>{class B extends x.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(Q,ie){super(),this._platformLocation=Q,null!=ie&&(this._baseHref=ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Q){this._removeListenerFns.push(this._platformLocation.onPopState(Q),this._platformLocation.onHashChange(Q))}getBaseHref(){return this._baseHref}path(Q=!1){const ie=this._platformLocation.hash??"#";return ie.length>0?ie.substring(1):ie}prepareExternalUrl(Q){const ie=(0,x.om)(this._baseHref,Q);return ie.length>0?"#"+ie:ie}pushState(Q,ie,ke,St){const dn=this.prepareExternalUrl(ke+(0,x.Q)(St))||this._platformLocation.pathname;this._platformLocation.pushState(Q,ie,dn)}replaceState(Q,ie,ke,St){const dn=this.prepareExternalUrl(ke+(0,x.Q)(St))||this._platformLocation.pathname;this._platformLocation.replaceState(Q,ie,dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Q=0){this._platformLocation.historyGo?.(Q)}static \u0275fac=function(ie){return new(ie||B)(I.KVO(x.Vw),I.KVO(x.kB,8))};static \u0275prov=I.jDH({token:B,factory:B.\u0275fac})}return B})();var Ie=function(B){return B[B.Format=0]="Format",B[B.Standalone=1]="Standalone",B}(Ie||{}),De=function(B){return B[B.Narrow=0]="Narrow",B[B.Abbreviated=1]="Abbreviated",B[B.Wide=2]="Wide",B[B.Short=3]="Short",B}(De||{}),Ke=function(B){return B[B.Short=0]="Short",B[B.Medium=1]="Medium",B[B.Long=2]="Long",B[B.Full=3]="Full",B}(Ke||{});function vt(B,me){return In((0,I.H5H)(B)[I.KH2.DateFormat],me)}function Tt(B,me){return In((0,I.H5H)(B)[I.KH2.TimeFormat],me)}function Pt(B,me){return In((0,I.H5H)(B)[I.KH2.DateTimeFormat],me)}function Fe(B,me){const Q=(0,I.H5H)(B),ie=Q[I.KH2.NumberSymbols][me];if(typeof ie>"u"){if(12===me)return Q[I.KH2.NumberSymbols][0];if(13===me)return Q[I.KH2.NumberSymbols][1]}return ie}function Bn(B){if(!B[I.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${B[I.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function In(B,me){for(let Q=me;Q>-1;Q--)if(typeof B[Q]<"u")return B[Q];throw new Error("Locale data API: locale data undefined")}function tt(B){const[me,Q]=B.split(":");return{hours:+me,minutes:+Q}}const ne=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fe={},pe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ye(B,me,Q,ie){let ke=function xr(B){if(Tr(B))return B;if("number"==typeof B&&!isNaN(B))return new Date(B);if("string"==typeof B){if(B=B.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(B)){const[ke,St=1,dn=1]=B.split("-").map(Fn=>+Fn);return se(ke,St-1,dn)}const Q=parseFloat(B);if(!isNaN(B-Q))return new Date(Q);let ie;if(ie=B.match(ne))return function pt(B){const me=new Date(0);let Q=0,ie=0;const ke=B[8]?me.setUTCFullYear:me.setFullYear,St=B[8]?me.setUTCHours:me.setHours;B[9]&&(Q=Number(B[9]+B[10]),ie=Number(B[9]+B[11])),ke.call(me,Number(B[1]),Number(B[2])-1,Number(B[3]));const dn=Number(B[4]||0)-Q,Fn=Number(B[5]||0)-ie,ai=Number(B[6]||0),Xr=Math.floor(1e3*parseFloat("0."+(B[7]||0)));return St.call(me,dn,Fn,ai,Xr),me}(ie)}const me=new Date(B);if(!Tr(me))throw new Error(`Unable to convert "${B}" into a date`);return me}(B);me=ge(Q,me)||me;let Fn,dn=[];for(;me;){if(Fn=pe.exec(me),!Fn){dn.push(me);break}{dn=dn.concat(Fn.slice(1));const Zr=dn.pop();if(!Zr)break;me=Zr}}let ai=ke.getTimezoneOffset();ie&&(ai=pr(ie,ai),ke=function Gi(B,me){const ke=B.getTimezoneOffset();return function ln(B,me){return(B=new Date(B.getTime())).setMinutes(B.getMinutes()+me),B}(B,-1*(pr(me,ke)-ke))}(ke,ie));let Xr="";return dn.forEach(Zr=>{const _r=function gn(B){if(Ai[B])return Ai[B];let me;switch(B){case"G":case"GG":case"GGG":me=Qt(3,De.Abbreviated);break;case"GGGG":me=Qt(3,De.Wide);break;case"GGGGG":me=Qt(3,De.Narrow);break;case"y":me=nn(0,1,0,!1,!0);break;case"yy":me=nn(0,2,0,!0,!0);break;case"yyy":me=nn(0,3,0,!1,!0);break;case"yyyy":me=nn(0,4,0,!1,!0);break;case"Y":me=Nr(1);break;case"YY":me=Nr(2,!0);break;case"YYY":me=Nr(3);break;case"YYYY":me=Nr(4);break;case"M":case"L":me=nn(1,1,1);break;case"MM":case"LL":me=nn(1,2,1);break;case"MMM":me=Qt(2,De.Abbreviated);break;case"MMMM":me=Qt(2,De.Wide);break;case"MMMMM":me=Qt(2,De.Narrow);break;case"LLL":me=Qt(2,De.Abbreviated,Ie.Standalone);break;case"LLLL":me=Qt(2,De.Wide,Ie.Standalone);break;case"LLLLL":me=Qt(2,De.Narrow,Ie.Standalone);break;case"w":me=kr(1);break;case"ww":me=kr(2);break;case"W":me=kr(1,!0);break;case"d":me=nn(2,1);break;case"dd":me=nn(2,2);break;case"c":case"cc":me=nn(7,1);break;case"ccc":me=Qt(1,De.Abbreviated,Ie.Standalone);break;case"cccc":me=Qt(1,De.Wide,Ie.Standalone);break;case"ccccc":me=Qt(1,De.Narrow,Ie.Standalone);break;case"cccccc":me=Qt(1,De.Short,Ie.Standalone);break;case"E":case"EE":case"EEE":me=Qt(1,De.Abbreviated);break;case"EEEE":me=Qt(1,De.Wide);break;case"EEEEE":me=Qt(1,De.Narrow);break;case"EEEEEE":me=Qt(1,De.Short);break;case"a":case"aa":case"aaa":me=Qt(0,De.Abbreviated);break;case"aaaa":me=Qt(0,De.Wide);break;case"aaaaa":me=Qt(0,De.Narrow);break;case"b":case"bb":case"bbb":me=Qt(0,De.Abbreviated,Ie.Standalone,!0);break;case"bbbb":me=Qt(0,De.Wide,Ie.Standalone,!0);break;case"bbbbb":me=Qt(0,De.Narrow,Ie.Standalone,!0);break;case"B":case"BB":case"BBB":me=Qt(0,De.Abbreviated,Ie.Format,!0);break;case"BBBB":me=Qt(0,De.Wide,Ie.Format,!0);break;case"BBBBB":me=Qt(0,De.Narrow,Ie.Format,!0);break;case"h":me=nn(3,1,-12);break;case"hh":me=nn(3,2,-12);break;case"H":me=nn(3,1);break;case"HH":me=nn(3,2);break;case"m":me=nn(4,1);break;case"mm":me=nn(4,2);break;case"s":me=nn(5,1);break;case"ss":me=nn(5,2);break;case"S":me=nn(6,1);break;case"SS":me=nn(6,2);break;case"SSS":me=nn(6,3);break;case"Z":case"ZZ":case"ZZZ":me=zn(0);break;case"ZZZZZ":me=zn(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":me=zn(1);break;case"OOOO":case"ZZZZ":case"zzzz":me=zn(2);break;default:return null}return Ai[B]=me,me}(Zr);Xr+=_r?_r(ke,Q,ai):"''"===Zr?"'":Zr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Xr}function se(B,me,Q){const ie=new Date(0);return ie.setFullYear(B,me,Q),ie.setHours(0,0,0),ie}function ge(B,me){const Q=function ht(B){return(0,I.H5H)(B)[I.KH2.LocaleId]}(B);if(fe[Q]??={},fe[Q][me])return fe[Q][me];let ie="";switch(me){case"shortDate":ie=vt(B,Ke.Short);break;case"mediumDate":ie=vt(B,Ke.Medium);break;case"longDate":ie=vt(B,Ke.Long);break;case"fullDate":ie=vt(B,Ke.Full);break;case"shortTime":ie=Tt(B,Ke.Short);break;case"mediumTime":ie=Tt(B,Ke.Medium);break;case"longTime":ie=Tt(B,Ke.Long);break;case"fullTime":ie=Tt(B,Ke.Full);break;case"short":const ke=ge(B,"shortTime"),St=ge(B,"shortDate");ie=Ye(Pt(B,Ke.Short),[ke,St]);break;case"medium":const dn=ge(B,"mediumTime"),Fn=ge(B,"mediumDate");ie=Ye(Pt(B,Ke.Medium),[dn,Fn]);break;case"long":const ai=ge(B,"longTime"),Xr=ge(B,"longDate");ie=Ye(Pt(B,Ke.Long),[ai,Xr]);break;case"full":const Zr=ge(B,"fullTime"),_r=ge(B,"fullDate");ie=Ye(Pt(B,Ke.Full),[Zr,_r])}return ie&&(fe[Q][me]=ie),ie}function Ye(B,me){return me&&(B=B.replace(/\{([^}]+)}/g,function(Q,ie){return null!=me&&ie in me?me[ie]:Q})),B}function Et(B,me,Q="-",ie,ke){let St="";(B<0||ke&&B<=0)&&(ke?B=1-B:(B=-B,St=Q));let dn=String(B);for(;dn.length<me;)dn="0"+dn;return ie&&(dn=dn.slice(dn.length-me)),St+dn}function nn(B,me,Q=0,ie=!1,ke=!1){return function(St,dn){let Fn=function tr(B,me){switch(B){case 0:return me.getFullYear();case 1:return me.getMonth();case 2:return me.getDate();case 3:return me.getHours();case 4:return me.getMinutes();case 5:return me.getSeconds();case 6:return me.getMilliseconds();case 7:return me.getDay();default:throw new Error(`Unknown DateType value "${B}".`)}}(B,St);if((Q>0||Fn>-Q)&&(Fn+=Q),3===B)0===Fn&&-12===Q&&(Fn=12);else if(6===B)return function un(B,me){return Et(B,3).substring(0,me)}(Fn,me);const ai=Fe(dn,5);return Et(Fn,me,ai,ie,ke)}}function Qt(B,me,Q=Ie.Format,ie=!1){return function(ke,St){return function Yn(B,me,Q,ie,ke,St){switch(Q){case 2:return function Mt(B,me,Q){const ie=(0,I.H5H)(B),St=In([ie[I.KH2.MonthsFormat],ie[I.KH2.MonthsStandalone]],me);return In(St,Q)}(me,ke,ie)[B.getMonth()];case 1:return function ft(B,me,Q){const ie=(0,I.H5H)(B),St=In([ie[I.KH2.DaysFormat],ie[I.KH2.DaysStandalone]],me);return In(St,Q)}(me,ke,ie)[B.getDay()];case 0:const dn=B.getHours(),Fn=B.getMinutes();if(St){const Xr=function kn(B){const me=(0,I.H5H)(B);return Bn(me),(me[I.KH2.ExtraData][2]||[]).map(ie=>"string"==typeof ie?tt(ie):[tt(ie[0]),tt(ie[1])])}(me),Zr=function Xn(B,me,Q){const ie=(0,I.H5H)(B);Bn(ie);const St=In([ie[I.KH2.ExtraData][0],ie[I.KH2.ExtraData][1]],me)||[];return In(St,Q)||[]}(me,ke,ie),_r=Xr.findIndex(Vn=>{if(Array.isArray(Vn)){const[vr,$i]=Vn,mi=dn>=vr.hours&&Fn>=vr.minutes,Eo=dn<$i.hours||dn===$i.hours&&Fn<$i.minutes;if(vr.hours<$i.hours){if(mi&&Eo)return!0}else if(mi||Eo)return!0}else if(Vn.hours===dn&&Vn.minutes===Fn)return!0;return!1});if(-1!==_r)return Zr[_r]}return function Xe(B,me,Q){const ie=(0,I.H5H)(B),St=In([ie[I.KH2.DayPeriodsFormat],ie[I.KH2.DayPeriodsStandalone]],me);return In(St,Q)}(me,ke,ie)[dn<12?0:1];case 3:return function zt(B,me){return In((0,I.H5H)(B)[I.KH2.Eras],me)}(me,ie)[B.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Q}`)}}(ke,St,B,me,Q,ie)}}function zn(B){return function(me,Q,ie){const ke=-1*ie,St=Fe(Q,5),dn=ke>0?Math.floor(ke/60):Math.ceil(ke/60);switch(B){case 0:return(ke>=0?"+":"")+Et(dn,2,St)+Et(Math.abs(ke%60),2,St);case 1:return"GMT"+(ke>=0?"+":"")+Et(dn,1,St);case 2:return"GMT"+(ke>=0?"+":"")+Et(dn,2,St)+":"+Et(Math.abs(ke%60),2,St);case 3:return 0===ie?"Z":(ke>=0?"+":"")+Et(dn,2,St)+":"+Et(Math.abs(ke%60),2,St);default:throw new Error(`Unknown zone width "${B}"`)}}}const Jt=0,Un=4;function An(B){const me=B.getDay(),Q=0===me?-3:Un-me;return se(B.getFullYear(),B.getMonth(),B.getDate()+Q)}function kr(B,me=!1){return function(Q,ie){let ke;if(me){const St=new Date(Q.getFullYear(),Q.getMonth(),1).getDay()-1,dn=Q.getDate();ke=1+Math.floor((dn+St)/7)}else{const St=An(Q),dn=function nr(B){const me=se(B,Jt,1).getDay();return se(B,0,1+(me<=Un?Un:Un+7)-me)}(St.getFullYear()),Fn=St.getTime()-dn.getTime();ke=1+Math.round(Fn/6048e5)}return Et(ke,B,Fe(ie,5))}}function Nr(B,me=!1){return function(Q,ie){return Et(An(Q).getFullYear(),B,Fe(ie,5),me)}}const Ai={};function pr(B,me){B=B.replace(/:/g,"");const Q=Date.parse("Jan 01, 1970 00:00:00 "+B)/6e4;return isNaN(Q)?me:Q}function Tr(B){return B instanceof Date&&!isNaN(B.valueOf())}const si=/\s+/,xi=[];let vn=(()=>{class B{_ngEl;_renderer;initialClasses=xi;rawClass;stateMap=new Map;constructor(Q,ie){this._ngEl=Q,this._renderer=ie}set klass(Q){this.initialClasses=null!=Q?Q.trim().split(si):xi}set ngClass(Q){this.rawClass="string"==typeof Q?Q.trim().split(si):Q}ngDoCheck(){for(const ie of this.initialClasses)this._updateState(ie,!0);const Q=this.rawClass;if(Array.isArray(Q)||Q instanceof Set)for(const ie of Q)this._updateState(ie,!0);else if(null!=Q)for(const ie of Object.keys(Q))this._updateState(ie,!!Q[ie]);this._applyStateDiff()}_updateState(Q,ie){const ke=this.stateMap.get(Q);void 0!==ke?(ke.enabled!==ie&&(ke.changed=!0,ke.enabled=ie),ke.touched=!0):this.stateMap.set(Q,{enabled:ie,changed:!0,touched:!0})}_applyStateDiff(){for(const Q of this.stateMap){const ie=Q[0],ke=Q[1];ke.changed?(this._toggleClass(ie,ke.enabled),ke.changed=!1):ke.touched||(ke.enabled&&this._toggleClass(ie,!1),this.stateMap.delete(ie)),ke.touched=!1}}_toggleClass(Q,ie){(Q=Q.trim()).length>0&&Q.split(si).forEach(ke=>{ie?this._renderer.addClass(this._ngEl.nativeElement,ke):this._renderer.removeClass(this._ngEl.nativeElement,ke)})}static \u0275fac=function(ie){return new(ie||B)(I.rXU(I.aKT),I.rXU(I.sFG))};static \u0275dir=I.FsC({type:B,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return B})();class Oi{$implicit;ngForOf;index;count;constructor(me,Q,ie,ke){this.$implicit=me,this.ngForOf=Q,this.index=ie,this.count=ke}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fi=(()=>{class B{_viewContainer;_template;_differs;set ngForOf(Q){this._ngForOf=Q,this._ngForOfDirty=!0}set ngForTrackBy(Q){this._trackByFn=Q}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(Q,ie,ke){this._viewContainer=Q,this._template=ie,this._differs=ke}set ngForTemplate(Q){Q&&(this._template=Q)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Q=this._ngForOf;!this._differ&&Q&&(this._differ=this._differs.find(Q).create(this.ngForTrackBy))}if(this._differ){const Q=this._differ.diff(this._ngForOf);Q&&this._applyChanges(Q)}}_applyChanges(Q){const ie=this._viewContainer;Q.forEachOperation((ke,St,dn)=>{if(null==ke.previousIndex)ie.createEmbeddedView(this._template,new Oi(ke.item,this._ngForOf,-1,-1),null===dn?void 0:dn);else if(null==dn)ie.remove(null===St?void 0:St);else if(null!==St){const Fn=ie.get(St);ie.move(Fn,dn),Li(Fn,ke)}});for(let ke=0,St=ie.length;ke<St;ke++){const Fn=ie.get(ke).context;Fn.index=ke,Fn.count=St,Fn.ngForOf=this._ngForOf}Q.forEachIdentityChange(ke=>{Li(ie.get(ke.currentIndex),ke)})}static ngTemplateContextGuard(Q,ie){return!0}static \u0275fac=function(ie){return new(ie||B)(I.rXU(I.c1b),I.rXU(I.C4Q),I.rXU(I._q3))};static \u0275dir=I.FsC({type:B,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return B})();function Li(B,me){B.context.$implicit=me.item}let _e=(()=>{class B{_viewContainer;_context=new He;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(Q,ie){this._viewContainer=Q,this._thenTemplateRef=ie}set ngIf(Q){this._context.$implicit=this._context.ngIf=Q,this._updateView()}set ngIfThen(Q){Vt(Q),this._thenTemplateRef=Q,this._thenViewRef=null,this._updateView()}set ngIfElse(Q){Vt(Q),this._elseTemplateRef=Q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(Q,ie){return!0}static \u0275fac=function(ie){return new(ie||B)(I.rXU(I.c1b),I.rXU(I.C4Q))};static \u0275dir=I.FsC({type:B,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return B})();class He{$implicit=null;ngIf=null}function Vt(B,me){if(B&&!B.createEmbeddedView)throw new I.wOt(2020,!1)}const Ei=new I.nKC(""),Ci=new I.nKC("");let Ee=(()=>{class B{locale;defaultTimezone;defaultOptions;constructor(Q,ie,ke){this.locale=Q,this.defaultTimezone=ie,this.defaultOptions=ke}transform(Q,ie,ke,St){if(null==Q||""===Q||Q!=Q)return null;try{return ye(Q,ie??this.defaultOptions?.dateFormat??"mediumDate",St||this.locale,ke??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(dn){throw function ve(B,me){return new I.wOt(2100,!1)}()}}static \u0275fac=function(ie){return new(ie||B)(I.rXU(I.xe9,16),I.rXU(Ei,24),I.rXU(Ci,24))};static \u0275pipe=I.EJ8({name:"date",type:B,pure:!0})}return B})(),eo=(()=>{class B{static \u0275fac=function(ie){return new(ie||B)};static \u0275mod=I.$C({type:B});static \u0275inj=I.G2t({})}return B})()},2967:(Dn,Ge,j)=>{"use strict";j.d(Ge,{xv:()=>st,u0:()=>Xn,CA:()=>Xt,lR:()=>bt,S3:()=>Qe});var I=j(1360),x=j(2214),Z=j(1985);function ht(ne){void 0===ne&&((0,I.Af3)(ht),ne=(0,I.WQX)(I.zZn));const fe=ne.get(I.u5s);return pe=>new Z.c(ye=>{const se=fe.add();let ge=!1;function Ye(){ge||(se(),ge=!0)}const Et=pe.subscribe({next:un=>{ye.next(un),Ye()},complete:()=>{ye.complete(),Ye()},error:un=>{ye.error(un),Ye()}});return Et.add(()=>{ye.unsubscribe(),Ye()}),Et})}var ft=j(6780),zt=j(3604);const tn=new class jt extends zt.q{}(class Mt extends ft.R{constructor(fe,pe){super(fe,pe),this.scheduler=fe,this.work=pe}schedule(fe,pe=0){return pe>0?super.schedule(fe,pe):(this.delay=pe,this.state=fe,this.scheduler.flush(this),this)}execute(fe,pe){return pe>0||this.closed?super.execute(fe,pe):this._execute(fe,pe)}requestAsyncId(fe,pe,ye=0){return null!=ye&&ye>0||null==ye&&this.delay>0?super.requestAsyncId(fe,pe,ye):(fe.flush(this),0)}});var Tt=j(3236),Pt=j(6745),Fe=j(941);const st=new I.RxE("ANGULARFIRE2_VERSION");function bt(ne,fe,pe){if(fe){if(1===fe.length)return fe[0];const ge=fe.filter(Ye=>Ye.app===pe);if(1===ge.length)return ge[0]}return pe.container.getProvider(ne).getImmediate({optional:!0})}const Xt=(ne,fe)=>{const pe=fe?[fe]:(0,x.Dk)(),ye=[];return pe.forEach(se=>{se.container.getProvider(ne).instances.forEach(Ye=>{ye.includes(Ye)||ye.push(Ye)})}),ye};var Dt=function(ne){return ne[ne.SILENT=0]="SILENT",ne[ne.WARN=1]="WARN",ne[ne.VERBOSE=2]="VERBOSE",ne}(Dt||{}),lt=(0,I.naY)()&&typeof Zone<"u"?Dt.WARN:Dt.SILENT;class kn{zone;delegate;constructor(fe,pe=tn){this.zone=fe,this.delegate=pe}now(){return this.delegate.now()}schedule(fe,pe,ye){const se=this.zone;return this.delegate.schedule(function(Ye){se?se.runGuarded(()=>{fe.apply(this,[Ye])}):fe.apply(this,[Ye])},pe,ye)}}let Xn=(()=>{class ne{outsideAngular;insideAngular;constructor(){const pe=(0,I.WQX)(I.SKi);this.outsideAngular=pe.runOutsideAngular(()=>new kn(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=pe.run(()=>new kn(typeof Zone>"u"?void 0:Zone.current,Tt.E))}static \u0275fac=function(ye){return new(ye||ne)};static \u0275prov=I.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})();var mt=!1;function sn(ne){const fe=(0,I.WQX)(I.SKi,{optional:!0});return fe?fe.run(()=>ne()):ne()}const xt=(ne,fe,pe)=>(...ye)=>(fe&&setTimeout(fe,0),(0,I.N4e)(pe,()=>sn(()=>ne.apply(void 0,ye)))),Qe=(ne,fe,pe)=>(pe||=fe?Dt.WARN:Dt.VERBOSE,function(){let ye;const se=arguments;let ge,Ye,Et;try{ge=(0,I.WQX)(Xn),Ye=(0,I.WQX)(I.u5s),Et=(0,I.WQX)(I.uvJ)}catch{return function In(ne,fe){!mt&&(lt>Dt.SILENT||(0,I.naY)())&&(mt=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),lt>=fe&&console.warn(`Firebase API called outside injection context: ${ne.name}`)}(ne,pe),ne.apply(this,se)}for(let nn=0;nn<arguments.length;nn++)"function"==typeof se[nn]&&(fe&&(ye||=sn(()=>Ye.add())),se[nn]=xt(se[nn],ye,Et));const un=function tt(ne){const fe=(0,I.WQX)(I.SKi,{optional:!0});return fe?fe.runOutsideAngular(()=>ne()):ne()}(()=>ne.apply(this,se));return fe?un instanceof Z.c?un.pipe((0,Pt._)(ge.outsideAngular),(0,Fe.Q)(ge.insideAngular),ht(Et)):un instanceof Promise?sn(()=>new Promise((nn,tr)=>{Ye.run(()=>un).then(Qt=>(0,I.N4e)(Et,()=>sn(()=>nn(Qt))),Qt=>(0,I.N4e)(Et,()=>sn(()=>tr(Qt))))})):"function"==typeof un&&ye?function(){return setTimeout(ye,0),un.apply(this,arguments)}:sn(()=>un):un instanceof Z.c?un.pipe((0,Pt._)(ge.outsideAngular),(0,Fe.Q)(ge.insideAngular)):sn(()=>un)})},3073:(Dn,Ge,j)=>{"use strict";j.d(Ge,{D:()=>Me});const{isArray:I}=Array,{getPrototypeOf:x,prototype:Z,keys:$}=Object;function Me(Ie){if(1===Ie.length){const De=Ie[0];if(I(De))return{args:De,keys:null};if(function it(Ie){return Ie&&"object"==typeof Ie&&x(Ie)===Z}(De)){const Ke=$(De);return{args:Ke.map(be=>De[be]),keys:Ke}}}return{args:Ie,keys:null}}},3236:(Dn,Ge,j)=>{"use strict";j.d(Ge,{E:()=>Z,b:()=>$});var I=j(6780);const Z=new(j(3604).q)(I.R),$=Z},3273:(Dn,Ge,j)=>{"use strict";j.d(Ge,{Dc:()=>pr,rJ:()=>qE,kd:()=>iv,H9:()=>L_,x7:()=>CT,GG:()=>ST,aU:()=>Sm,aQ:()=>fw,P:()=>Z_,BN:()=>Np,mZ:()=>rv,_M:()=>rw});var De,Ke,I=j(467),x=j(7852),Z=j(1362),$=j(8041),Me=j(6858),it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ie={};(function(){var c;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(ct,Le,We){We||(We=0);var ut=Array(16);if("string"==typeof Le)for(var dt=0;16>dt;++dt)ut[dt]=Le.charCodeAt(We++)|Le.charCodeAt(We++)<<8|Le.charCodeAt(We++)<<16|Le.charCodeAt(We++)<<24;else for(dt=0;16>dt;++dt)ut[dt]=Le[We++]|Le[We++]<<8|Le[We++]<<16|Le[We++]<<24;var Rt=ct.g[3],ze=(Le=ct.g[0])+(Rt^(We=ct.g[1])&((dt=ct.g[2])^Rt))+ut[0]+3614090360&4294967295;ze=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=(We=(dt=(Rt=(Le=We+(ze<<7&4294967295|ze>>>25))+((ze=Rt+(dt^Le&(We^dt))+ut[1]+3905402710&4294967295)<<12&4294967295|ze>>>20))+((ze=dt+(We^Rt&(Le^We))+ut[2]+606105819&4294967295)<<17&4294967295|ze>>>15))+((ze=We+(Le^dt&(Rt^Le))+ut[3]+3250441966&4294967295)<<22&4294967295|ze>>>10))+((ze=Le+(Rt^We&(dt^Rt))+ut[4]+4118548399&4294967295)<<7&4294967295|ze>>>25))+((ze=Rt+(dt^Le&(We^dt))+ut[5]+1200080426&4294967295)<<12&4294967295|ze>>>20))+((ze=dt+(We^Rt&(Le^We))+ut[6]+2821735955&4294967295)<<17&4294967295|ze>>>15))+((ze=We+(Le^dt&(Rt^Le))+ut[7]+4249261313&4294967295)<<22&4294967295|ze>>>10))+((ze=Le+(Rt^We&(dt^Rt))+ut[8]+1770035416&4294967295)<<7&4294967295|ze>>>25))+((ze=Rt+(dt^Le&(We^dt))+ut[9]+2336552879&4294967295)<<12&4294967295|ze>>>20))+((ze=dt+(We^Rt&(Le^We))+ut[10]+4294925233&4294967295)<<17&4294967295|ze>>>15))+((ze=We+(Le^dt&(Rt^Le))+ut[11]+2304563134&4294967295)<<22&4294967295|ze>>>10))+((ze=Le+(Rt^We&(dt^Rt))+ut[12]+1804603682&4294967295)<<7&4294967295|ze>>>25))+((ze=Rt+(dt^Le&(We^dt))+ut[13]+4254626195&4294967295)<<12&4294967295|ze>>>20))+((ze=dt+(We^Rt&(Le^We))+ut[14]+2792965006&4294967295)<<17&4294967295|ze>>>15))+((ze=We+(Le^dt&(Rt^Le))+ut[15]+1236535329&4294967295)<<22&4294967295|ze>>>10))+((ze=Le+(dt^Rt&(We^dt))+ut[1]+4129170786&4294967295)<<5&4294967295|ze>>>27))+((ze=Rt+(We^dt&(Le^We))+ut[6]+3225465664&4294967295)<<9&4294967295|ze>>>23))+((ze=dt+(Le^We&(Rt^Le))+ut[11]+643717713&4294967295)<<14&4294967295|ze>>>18))+((ze=We+(Rt^Le&(dt^Rt))+ut[0]+3921069994&4294967295)<<20&4294967295|ze>>>12))+((ze=Le+(dt^Rt&(We^dt))+ut[5]+3593408605&4294967295)<<5&4294967295|ze>>>27))+((ze=Rt+(We^dt&(Le^We))+ut[10]+38016083&4294967295)<<9&4294967295|ze>>>23))+((ze=dt+(Le^We&(Rt^Le))+ut[15]+3634488961&4294967295)<<14&4294967295|ze>>>18))+((ze=We+(Rt^Le&(dt^Rt))+ut[4]+3889429448&4294967295)<<20&4294967295|ze>>>12))+((ze=Le+(dt^Rt&(We^dt))+ut[9]+568446438&4294967295)<<5&4294967295|ze>>>27))+((ze=Rt+(We^dt&(Le^We))+ut[14]+3275163606&4294967295)<<9&4294967295|ze>>>23))+((ze=dt+(Le^We&(Rt^Le))+ut[3]+4107603335&4294967295)<<14&4294967295|ze>>>18))+((ze=We+(Rt^Le&(dt^Rt))+ut[8]+1163531501&4294967295)<<20&4294967295|ze>>>12))+((ze=Le+(dt^Rt&(We^dt))+ut[13]+2850285829&4294967295)<<5&4294967295|ze>>>27))+((ze=Rt+(We^dt&(Le^We))+ut[2]+4243563512&4294967295)<<9&4294967295|ze>>>23))+((ze=dt+(Le^We&(Rt^Le))+ut[7]+1735328473&4294967295)<<14&4294967295|ze>>>18))+((ze=We+(Rt^Le&(dt^Rt))+ut[12]+2368359562&4294967295)<<20&4294967295|ze>>>12))+((ze=Le+(We^dt^Rt)+ut[5]+4294588738&4294967295)<<4&4294967295|ze>>>28))+((ze=Rt+(Le^We^dt)+ut[8]+2272392833&4294967295)<<11&4294967295|ze>>>21))+((ze=dt+(Rt^Le^We)+ut[11]+1839030562&4294967295)<<16&4294967295|ze>>>16))+((ze=We+(dt^Rt^Le)+ut[14]+4259657740&4294967295)<<23&4294967295|ze>>>9))+((ze=Le+(We^dt^Rt)+ut[1]+2763975236&4294967295)<<4&4294967295|ze>>>28))+((ze=Rt+(Le^We^dt)+ut[4]+1272893353&4294967295)<<11&4294967295|ze>>>21))+((ze=dt+(Rt^Le^We)+ut[7]+4139469664&4294967295)<<16&4294967295|ze>>>16))+((ze=We+(dt^Rt^Le)+ut[10]+3200236656&4294967295)<<23&4294967295|ze>>>9))+((ze=Le+(We^dt^Rt)+ut[13]+681279174&4294967295)<<4&4294967295|ze>>>28))+((ze=Rt+(Le^We^dt)+ut[0]+3936430074&4294967295)<<11&4294967295|ze>>>21))+((ze=dt+(Rt^Le^We)+ut[3]+3572445317&4294967295)<<16&4294967295|ze>>>16))+((ze=We+(dt^Rt^Le)+ut[6]+76029189&4294967295)<<23&4294967295|ze>>>9))+((ze=Le+(We^dt^Rt)+ut[9]+3654602809&4294967295)<<4&4294967295|ze>>>28))+((ze=Rt+(Le^We^dt)+ut[12]+3873151461&4294967295)<<11&4294967295|ze>>>21))+((ze=dt+(Rt^Le^We)+ut[15]+530742520&4294967295)<<16&4294967295|ze>>>16))+((ze=We+(dt^Rt^Le)+ut[2]+3299628645&4294967295)<<23&4294967295|ze>>>9))+((ze=Le+(dt^(We|~Rt))+ut[0]+4096336452&4294967295)<<6&4294967295|ze>>>26))+((ze=Rt+(We^(Le|~dt))+ut[7]+1126891415&4294967295)<<10&4294967295|ze>>>22))+((ze=dt+(Le^(Rt|~We))+ut[14]+2878612391&4294967295)<<15&4294967295|ze>>>17))+((ze=We+(Rt^(dt|~Le))+ut[5]+4237533241&4294967295)<<21&4294967295|ze>>>11))+((ze=Le+(dt^(We|~Rt))+ut[12]+1700485571&4294967295)<<6&4294967295|ze>>>26))+((ze=Rt+(We^(Le|~dt))+ut[3]+2399980690&4294967295)<<10&4294967295|ze>>>22))+((ze=dt+(Le^(Rt|~We))+ut[10]+4293915773&4294967295)<<15&4294967295|ze>>>17))+((ze=We+(Rt^(dt|~Le))+ut[1]+2240044497&4294967295)<<21&4294967295|ze>>>11))+((ze=Le+(dt^(We|~Rt))+ut[8]+1873313359&4294967295)<<6&4294967295|ze>>>26))+((ze=Rt+(We^(Le|~dt))+ut[15]+4264355552&4294967295)<<10&4294967295|ze>>>22))+((ze=dt+(Le^(Rt|~We))+ut[6]+2734768916&4294967295)<<15&4294967295|ze>>>17))+((ze=We+(Rt^(dt|~Le))+ut[13]+1309151649&4294967295)<<21&4294967295|ze>>>11))+((Rt=(Le=We+((ze=Le+(dt^(We|~Rt))+ut[4]+4149444226&4294967295)<<6&4294967295|ze>>>26))+((ze=Rt+(We^(Le|~dt))+ut[11]+3174756917&4294967295)<<10&4294967295|ze>>>22))^((dt=Rt+((ze=dt+(Le^(Rt|~We))+ut[2]+718787259&4294967295)<<15&4294967295|ze>>>17))|~Le))+ut[9]+3951481745&4294967295,ct.g[0]=ct.g[0]+Le&4294967295,ct.g[1]=ct.g[1]+(dt+(ze<<21&4294967295|ze>>>11))&4294967295,ct.g[2]=ct.g[2]+dt&4294967295,ct.g[3]=ct.g[3]+Rt&4294967295}function m(ct,Le){this.h=Le;for(var We=[],ut=!0,dt=ct.length-1;0<=dt;dt--){var Rt=0|ct[dt];ut&&Rt==Le||(We[dt]=Rt,ut=!1)}this.g=We}(function n(ct,Le){function We(){}We.prototype=Le.prototype,ct.D=Le.prototype,ct.prototype=new We,ct.prototype.constructor=ct,ct.C=function(ut,dt,Rt){for(var ze=Array(arguments.length-2),Su=2;Su<arguments.length;Su++)ze[Su-2]=arguments[Su];return Le.prototype[dt].apply(ut,ze)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(ct,Le){void 0===Le&&(Le=ct.length);for(var We=Le-this.blockSize,ut=this.B,dt=this.h,Rt=0;Rt<Le;){if(0==dt)for(;Rt<=We;)u(this,ct,Rt),Rt+=this.blockSize;if("string"==typeof ct){for(;Rt<Le;)if(ut[dt++]=ct.charCodeAt(Rt++),dt==this.blockSize){u(this,ut),dt=0;break}}else for(;Rt<Le;)if(ut[dt++]=ct[Rt++],dt==this.blockSize){u(this,ut),dt=0;break}}this.h=dt,this.o+=Le},s.prototype.v=function(){var ct=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ct[0]=128;for(var Le=1;Le<ct.length-8;++Le)ct[Le]=0;var We=8*this.o;for(Le=ct.length-8;Le<ct.length;++Le)ct[Le]=255&We,We/=256;for(this.u(ct),ct=Array(16),Le=We=0;4>Le;++Le)for(var ut=0;32>ut;ut+=8)ct[We++]=this.g[Le]>>>ut&255;return ct};var C={};function N(ct){return-128<=ct&&128>ct?function h(ct,Le){var We=C;return Object.prototype.hasOwnProperty.call(We,ct)?We[ct]:We[ct]=Le(ct)}(ct,function(Le){return new m([0|Le],0>Le?-1:0)}):new m([0|ct],0>ct?-1:0)}function V(ct){if(isNaN(ct)||!isFinite(ct))return ue;if(0>ct)return cn(V(-ct));for(var Le=[],We=1,ut=0;ct>=We;ut++)Le[ut]=ct/We|0,We*=4294967296;return new m(Le,0)}var ue=N(0),Ve=N(1),At=N(16777216);function Wt(ct){if(0!=ct.h)return!1;for(var Le=0;Le<ct.g.length;Le++)if(0!=ct.g[Le])return!1;return!0}function fn(ct){return-1==ct.h}function cn(ct){for(var Le=ct.g.length,We=[],ut=0;ut<Le;ut++)We[ut]=~ct.g[ut];return new m(We,~ct.h).add(Ve)}function er(ct,Le){return ct.add(cn(Le))}function or(ct,Le){for(;(65535&ct[Le])!=ct[Le];)ct[Le+1]+=ct[Le]>>>16,ct[Le]&=65535,Le++}function On(ct,Le){this.g=ct,this.h=Le}function Vr(ct,Le){if(Wt(Le))throw Error("division by zero");if(Wt(ct))return new On(ue,ue);if(fn(ct))return Le=Vr(cn(ct),Le),new On(cn(Le.g),cn(Le.h));if(fn(Le))return Le=Vr(ct,cn(Le)),new On(cn(Le.g),Le.h);if(30<ct.g.length){if(fn(ct)||fn(Le))throw Error("slowDivide_ only works with positive integers.");for(var We=Ve,ut=Le;0>=ut.l(ct);)We=ki(We),ut=ki(ut);var dt=ci(We,1),Rt=ci(ut,1);for(ut=ci(ut,2),We=ci(We,2);!Wt(ut);){var ze=Rt.add(ut);0>=ze.l(ct)&&(dt=dt.add(We),Rt=ze),ut=ci(ut,1),We=ci(We,1)}return Le=er(ct,dt.j(Le)),new On(dt,Le)}for(dt=ue;0<=ct.l(Le);){for(We=Math.max(1,Math.floor(ct.m()/Le.m())),ut=48>=(ut=Math.ceil(Math.log(We)/Math.LN2))?1:Math.pow(2,ut-48),ze=(Rt=V(We)).j(Le);fn(ze)||0<ze.l(ct);)ze=(Rt=V(We-=ut)).j(Le);Wt(Rt)&&(Rt=Ve),dt=dt.add(Rt),ct=er(ct,ze)}return new On(dt,ct)}function ki(ct){for(var Le=ct.g.length+1,We=[],ut=0;ut<Le;ut++)We[ut]=ct.i(ut)<<1|ct.i(ut-1)>>>31;return new m(We,ct.h)}function ci(ct,Le){var We=Le>>5;Le%=32;for(var ut=ct.g.length-We,dt=[],Rt=0;Rt<ut;Rt++)dt[Rt]=0<Le?ct.i(Rt+We)>>>Le|ct.i(Rt+We+1)<<32-Le:ct.i(Rt+We);return new m(dt,ct.h)}(c=m.prototype).m=function(){if(fn(this))return-cn(this).m();for(var ct=0,Le=1,We=0;We<this.g.length;We++){var ut=this.i(We);ct+=(0<=ut?ut:4294967296+ut)*Le,Le*=4294967296}return ct},c.toString=function(ct){if(2>(ct=ct||10)||36<ct)throw Error("radix out of range: "+ct);if(Wt(this))return"0";if(fn(this))return"-"+cn(this).toString(ct);for(var Le=V(Math.pow(ct,6)),We=this,ut="";;){var dt=Vr(We,Le).g,Rt=((0<(We=er(We,dt.j(Le))).g.length?We.g[0]:We.h)>>>0).toString(ct);if(Wt(We=dt))return Rt+ut;for(;6>Rt.length;)Rt="0"+Rt;ut=Rt+ut}},c.i=function(ct){return 0>ct?0:ct<this.g.length?this.g[ct]:this.h},c.l=function(ct){return fn(ct=er(this,ct))?-1:Wt(ct)?0:1},c.abs=function(){return fn(this)?cn(this):this},c.add=function(ct){for(var Le=Math.max(this.g.length,ct.g.length),We=[],ut=0,dt=0;dt<=Le;dt++){var Rt=ut+(65535&this.i(dt))+(65535&ct.i(dt)),ze=(Rt>>>16)+(this.i(dt)>>>16)+(ct.i(dt)>>>16);ut=ze>>>16,We[dt]=(ze&=65535)<<16|(Rt&=65535)}return new m(We,-2147483648&We[We.length-1]?-1:0)},c.j=function(ct){if(Wt(this)||Wt(ct))return ue;if(fn(this))return fn(ct)?cn(this).j(cn(ct)):cn(cn(this).j(ct));if(fn(ct))return cn(this.j(cn(ct)));if(0>this.l(At)&&0>ct.l(At))return V(this.m()*ct.m());for(var Le=this.g.length+ct.g.length,We=[],ut=0;ut<2*Le;ut++)We[ut]=0;for(ut=0;ut<this.g.length;ut++)for(var dt=0;dt<ct.g.length;dt++){var Rt=this.i(ut)>>>16,ze=65535&this.i(ut),Su=ct.i(dt)>>>16,Ld=65535&ct.i(dt);We[2*ut+2*dt]+=ze*Ld,or(We,2*ut+2*dt),We[2*ut+2*dt+1]+=Rt*Ld,or(We,2*ut+2*dt+1),We[2*ut+2*dt+1]+=ze*Su,or(We,2*ut+2*dt+1),We[2*ut+2*dt+2]+=Rt*Su,or(We,2*ut+2*dt+2)}for(ut=0;ut<Le;ut++)We[ut]=We[2*ut+1]<<16|We[2*ut];for(ut=Le;ut<2*Le;ut++)We[ut]=0;return new m(We,0)},c.A=function(ct){return Vr(this,ct).h},c.and=function(ct){for(var Le=Math.max(this.g.length,ct.g.length),We=[],ut=0;ut<Le;ut++)We[ut]=this.i(ut)&ct.i(ut);return new m(We,this.h&ct.h)},c.or=function(ct){for(var Le=Math.max(this.g.length,ct.g.length),We=[],ut=0;ut<Le;ut++)We[ut]=this.i(ut)|ct.i(ut);return new m(We,this.h|ct.h)},c.xor=function(ct){for(var Le=Math.max(this.g.length,ct.g.length),We=[],ut=0;ut<Le;ut++)We[ut]=this.i(ut)^ct.i(ut);return new m(We,this.h^ct.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ke=Ie.Md5=s,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=V,m.fromString=function J(ct,Le){if(0==ct.length)throw Error("number format error: empty string");if(2>(Le=Le||10)||36<Le)throw Error("radix out of range: "+Le);if("-"==ct.charAt(0))return cn(J(ct.substring(1),Le));if(0<=ct.indexOf("-"))throw Error('number format error: interior "-" character');for(var We=V(Math.pow(Le,8)),ut=ue,dt=0;dt<ct.length;dt+=8){var Rt=Math.min(8,ct.length-dt),ze=parseInt(ct.substring(dt,dt+Rt),Le);8>Rt?(Rt=V(Math.pow(Le,Rt)),ut=ut.j(Rt).add(V(ze))):ut=(ut=ut.j(We)).add(V(ze))}return ut},De=Ie.Integer=m}).apply(typeof it<"u"?it:typeof self<"u"?self:typeof window<"u"?window:{});var ht,ft,Mt,zt,jt,tn,vt,Tt,be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te={};(function(){var c,n="function"==typeof Object.defineProperties?Object.defineProperty:function(g,k,G){return g==Array.prototype||g==Object.prototype||(g[k]=G.value),g},s=function i(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof be&&be];for(var k=0;k<g.length;++k){var G=g[k];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}(this);!function u(g,k){if(k)e:{var G=s;g=g.split(".");for(var ae=0;ae<g.length-1;ae++){var wt=g[ae];if(!(wt in G))break e;G=G[wt]}(k=k(ae=G[g=g[g.length-1]]))!=ae&&null!=k&&n(G,g,{configurable:!0,writable:!0,value:k})}}("Array.prototype.values",function(g){return g||function(){return function h(g,k){g instanceof String&&(g+="");var G=0,ae=!1,wt={next:function(){if(!ae&&G<g.length){var Ut=G++;return{value:k(Ut,g[Ut]),done:!1}}return ae=!0,{done:!0,value:void 0}}};return wt[Symbol.iterator]=function(){return wt},wt}(this,function(k,G){return G})}});var m=m||{},C=this||self;function N(g){var k=typeof g;return"array"==(k="object"!=k?k:g?Array.isArray(g)?"array":k:"null")||"object"==k&&"number"==typeof g.length}function V(g){var k=typeof g;return"object"==k&&null!=g||"function"==k}function J(g,k,G){return g.call.apply(g.bind,arguments)}function ue(g,k,G){if(!g)throw Error();if(2<arguments.length){var ae=Array.prototype.slice.call(arguments,2);return function(){var wt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(wt,ae),g.apply(k,wt)}}return function(){return g.apply(k,arguments)}}function Ve(g,k,G){return(Ve=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?J:ue).apply(null,arguments)}function At(g,k){var G=Array.prototype.slice.call(arguments,1);return function(){var ae=G.slice();return ae.push.apply(ae,arguments),g.apply(this,ae)}}function Wt(g,k){function G(){}G.prototype=k.prototype,g.aa=k.prototype,g.prototype=new G,g.prototype.constructor=g,g.Qb=function(ae,wt,Ut){for(var Nn=Array(arguments.length-2),uo=2;uo<arguments.length;uo++)Nn[uo-2]=arguments[uo];return k.prototype[wt].apply(ae,Nn)}}function fn(g){const k=g.length;if(0<k){const G=Array(k);for(let ae=0;ae<k;ae++)G[ae]=g[ae];return G}return[]}function cn(g,k){for(let G=1;G<arguments.length;G++){const ae=arguments[G];if(N(ae)){const wt=g.length||0,Ut=ae.length||0;g.length=wt+Ut;for(let Nn=0;Nn<Ut;Nn++)g[wt+Nn]=ae[Nn]}else g.push(ae)}}function or(g){return/^[\s\xa0]*$/.test(g)}function On(){var g=C.navigator;return g&&(g=g.userAgent)?g:""}function Vr(g){return Vr[" "](g),g}Vr[" "]=function(){};var ki=!(-1==On().indexOf("Gecko")||-1!=On().toLowerCase().indexOf("webkit")&&-1==On().indexOf("Edge")||-1!=On().indexOf("Trident")||-1!=On().indexOf("MSIE")||-1!=On().indexOf("Edge"));function ci(g,k,G){for(const ae in g)k.call(G,g[ae],ae,g)}function Le(g){const k={};for(const G in g)k[G]=g[G];return k}const We="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(g,k){let G,ae;for(let wt=1;wt<arguments.length;wt++){for(G in ae=arguments[wt],ae)g[G]=ae[G];for(let Ut=0;Ut<We.length;Ut++)G=We[Ut],Object.prototype.hasOwnProperty.call(ae,G)&&(g[G]=ae[G])}}function dt(g){var k=1;g=g.split(":");const G=[];for(;0<k&&g.length;)G.push(g.shift()),k--;return g.length&&G.push(g.join(":")),G}function Rt(g){C.setTimeout(()=>{throw g},0)}function ze(){var g=Qm;let k=null;return g.g&&(k=g.g,g.g=g.g.next,g.g||(g.h=null),k.next=null),k}var Ld=new class er{constructor(k,G){this.i=k,this.j=G,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}(()=>new qm,g=>g.reset());class qm{constructor(){this.next=this.g=this.h=null}set(k,G){this.h=k,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let El,Kh=!1,Qm=new class Su{constructor(){this.h=this.g=null}add(k,G){const ae=Ld.get();ae.set(k,G),this.h?this.h.next=ae:this.g=ae,this.h=ae}},qh=()=>{const g=C.Promise.resolve(void 0);El=()=>{g.then(bw)}};var bw=()=>{for(var g;g=ze();){try{g.h.call(g.g)}catch(G){Rt(G)}var k=Ld;k.j(g),100>k.h&&(k.h++,g.next=k.g,k.g=g)}Kh=!1};function Pa(){this.s=this.s,this.C=this.C}function Jo(g,k){this.type=g,this.g=this.target=k,this.defaultPrevented=!1}Pa.prototype.s=!1,Pa.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pa.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Jo.prototype.h=function(){this.defaultPrevented=!0};var Xm=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var g=!1,k=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const G=()=>{};C.addEventListener("test",G,k),C.removeEventListener("test",G,k)}catch{}return g}();function wl(g,k){if(Jo.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var G=this.type=g.type,ae=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=k,k=g.relatedTarget){if(ki){e:{try{Vr(k.nodeName);var wt=!0;break e}catch{}wt=!1}wt||(k=null)}}else"mouseover"==G?k=g.fromElement:"mouseout"==G&&(k=g.toElement);this.relatedTarget=k,ae?(this.clientX=void 0!==ae.clientX?ae.clientX:ae.pageX,this.clientY=void 0!==ae.clientY?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=void 0!==g.clientX?g.clientX:g.pageX,this.clientY=void 0!==g.clientY?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType="string"==typeof g.pointerType?g.pointerType:Dw[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&wl.aa.h.call(this)}}Wt(wl,Jo);var Dw={2:"touch",3:"pen",4:"mouse"};wl.prototype.h=function(){wl.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ru="closure_listenable_"+(1e6*Math.random()|0),Pu=0;function Vd(g,k,G,ae,wt){this.listener=g,this.proxy=null,this.src=k,this.type=G,this.capture=!!ae,this.ha=wt,this.key=++Pu,this.da=this.fa=!1}function Qh(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function xp(g){this.src=g,this.g={},this.h=0}function Op(g,k){var G=k.type;if(G in g.g){var Ut,ae=g.g[G],wt=Array.prototype.indexOf.call(ae,k,void 0);(Ut=0<=wt)&&Array.prototype.splice.call(ae,wt,1),Ut&&(Qh(k),0==g.g[G].length&&(delete g.g[G],g.h--))}}function Zm(g,k,G,ae){for(var wt=0;wt<g.length;++wt){var Ut=g[wt];if(!Ut.da&&Ut.listener==k&&Ut.capture==!!G&&Ut.ha==ae)return wt}return-1}xp.prototype.add=function(g,k,G,ae,wt){var Ut=g.toString();(g=this.g[Ut])||(g=this.g[Ut]=[],this.h++);var Nn=Zm(g,k,ae,wt);return-1<Nn?(k=g[Nn],G||(k.fa=!1)):((k=new Vd(k,this.src,Ut,!!ae,wt)).fa=G,g.push(k)),k};var Xh="closure_lm_"+(1e6*Math.random()|0),Il={};function Fp(g,k,G,ae,wt){if(ae&&ae.once)return Lp(g,k,G,ae,wt);if(Array.isArray(k)){for(var Ut=0;Ut<k.length;Ut++)Fp(g,k[Ut],G,ae,wt);return null}return G=Ud(G),g&&g[Ru]?g.K(k,G,V(ae)?!!ae.capture:!!ae,wt):uv(g,k,G,!1,ae,wt)}function uv(g,k,G,ae,wt,Ut){if(!k)throw Error("Invalid event type");var Nn=V(wt)?!!wt.capture:!!wt,uo=Zh(g);if(uo||(g[Xh]=uo=new xp(g)),(G=uo.add(k,G,ae,Nn,Ut)).proxy)return G;if(ae=function Aw(){const k=lv;return function g(G){return k.call(g.src,g.listener,G)}}(),G.proxy=ae,ae.src=g,ae.listener=G,g.addEventListener)Xm||(wt=Nn),void 0===wt&&(wt=!1),g.addEventListener(k.toString(),ae,wt);else if(g.attachEvent)g.attachEvent(Jm(k.toString()),ae);else{if(!g.addListener||!g.removeListener)throw Error("addEventListener and attachEvent are unavailable.");g.addListener(ae)}return G}function Lp(g,k,G,ae,wt){if(Array.isArray(k)){for(var Ut=0;Ut<k.length;Ut++)Lp(g,k[Ut],G,ae,wt);return null}return G=Ud(G),g&&g[Ru]?g.L(k,G,V(ae)?!!ae.capture:!!ae,wt):uv(g,k,G,!0,ae,wt)}function Ym(g,k,G,ae,wt){if(Array.isArray(k))for(var Ut=0;Ut<k.length;Ut++)Ym(g,k[Ut],G,ae,wt);else ae=V(ae)?!!ae.capture:!!ae,G=Ud(G),g&&g[Ru]?(g=g.i,(k=String(k).toString())in g.g&&-1<(G=Zm(Ut=g.g[k],G,ae,wt))&&(Qh(Ut[G]),Array.prototype.splice.call(Ut,G,1),0==Ut.length&&(delete g.g[k],g.h--))):g&&(g=Zh(g))&&(k=g.g[k.toString()],g=-1,k&&(g=Zm(k,G,ae,wt)),(G=-1<g?k[g]:null)&&Vp(G))}function Vp(g){if("number"!=typeof g&&g&&!g.da){var k=g.src;if(k&&k[Ru])Op(k.i,g);else{var G=g.type,ae=g.proxy;k.removeEventListener?k.removeEventListener(G,ae,g.capture):k.detachEvent?k.detachEvent(Jm(G),ae):k.addListener&&k.removeListener&&k.removeListener(ae),(G=Zh(k))?(Op(G,g),0==G.h&&(G.src=null,k[Xh]=null)):Qh(g)}}}function Jm(g){return g in Il?Il[g]:Il[g]="on"+g}function lv(g,k){if(g.da)g=!0;else{k=new wl(k,this);var G=g.listener,ae=g.ha||g.src;g.fa&&Vp(g),g=G.call(ae,k)}return g}function Zh(g){return(g=g[Xh])instanceof xp?g:null}var Up="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ud(g){return"function"==typeof g?g:(g[Up]||(g[Up]=function(k){return g.handleEvent(k)}),g[Up])}function es(){Pa.call(this),this.i=new xp(this),this.M=this,this.F=null}function Qs(g,k){var G,ae=g.F;if(ae)for(G=[];ae;ae=ae.F)G.push(ae);if(g=g.M,ae=k.type||k,"string"==typeof k)k=new Jo(k,g);else if(k instanceof Jo)k.target=k.target||g;else{var wt=k;ut(k=new Jo(ae,g),wt)}if(wt=!0,G)for(var Ut=G.length-1;0<=Ut;Ut--){var Nn=k.g=G[Ut];wt=Bd(Nn,ae,!0,k)&&wt}if(wt=Bd(Nn=k.g=g,ae,!0,k)&&wt,wt=Bd(Nn,ae,!1,k)&&wt,G)for(Ut=0;Ut<G.length;Ut++)wt=Bd(Nn=k.g=G[Ut],ae,!1,k)&&wt}function Bd(g,k,G,ae){if(!(k=g.i.g[String(k)]))return!0;k=k.concat();for(var wt=!0,Ut=0;Ut<k.length;++Ut){var Nn=k[Ut];if(Nn&&!Nn.da&&Nn.capture==G){var uo=Nn.listener,gs=Nn.ha||Nn.src;Nn.fa&&Op(g.i,Nn),wt=!1!==uo.call(gs,ae)&&wt}}return wt&&!ae.defaultPrevented}function Bp(g,k,G){if("function"==typeof g)G&&(g=Ve(g,G));else{if(!g||"function"!=typeof g.handleEvent)throw Error("Invalid listener argument");g=Ve(g.handleEvent,g)}return 2147483647<Number(k)?-1:C.setTimeout(g,k||0)}function Yh(g){g.g=Bp(()=>{g.g=null,g.i&&(g.i=!1,Yh(g))},g.l);const k=g.h;g.h=null,g.m.apply(null,k)}Wt(es,Pa),es.prototype[Ru]=!0,es.prototype.removeEventListener=function(g,k,G,ae){Ym(this,g,k,G,ae)},es.prototype.N=function(){if(es.aa.N.call(this),this.i){var k,g=this.i;for(k in g.g){for(var G=g.g[k],ae=0;ae<G.length;ae++)Qh(G[ae]);delete g.g[k],g.h--}}this.F=null},es.prototype.K=function(g,k,G,ae){return this.i.add(String(g),k,!1,G,ae)},es.prototype.L=function(g,k,G,ae){return this.i.add(String(g),k,!0,G,ae)};class Cw extends Pa{constructor(k,G){super(),this.m=k,this.l=G,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Yh(this)}N(){super.N(),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jd(g){Pa.call(this),this.h=g,this.g={}}Wt(jd,Pa);var dv=[];function hv(g){ci(g.g,function(k,G){this.g.hasOwnProperty(G)&&Vp(k)},g),g.g={}}jd.prototype.N=function(){jd.aa.N.call(this),hv(this)},jd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mu=C.JSON.stringify,ey=C.JSON.parse,fv=class{stringify(g){return C.JSON.stringify(g,void 0)}parse(g){return C.JSON.parse(g,void 0)}};function jp(){}function gv(){}jp.prototype.h=null;var Jh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ty(){Jo.call(this,"d")}function ny(){Jo.call(this,"c")}Wt(ty,Jo),Wt(ny,Jo);var Tl={},ry=null;function ef(){return ry=ry||new es}function mv(g){Jo.call(this,Tl.La,g)}function Nu(g){const k=ef();Qs(k,new mv(k))}function yv(g,k){Jo.call(this,Tl.STAT_EVENT,g),this.stat=k}function Xs(g){const k=ef();Qs(k,new yv(k,g))}function iy(g,k){Jo.call(this,Tl.Ma,g),this.size=k}function $d(g,k){if("function"!=typeof g)throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){g()},k)}function tf(){this.g=!0}function ku(g,k,G,ae){g.info(function(){return"XMLHTTP TEXT ("+k+"): "+function Rw(g,k){if(!g.g)return k;if(!k)return null;try{var G=JSON.parse(k);if(G)for(g=0;g<G.length;g++)if(Array.isArray(G[g])){var ae=G[g];if(!(2>ae.length)){var wt=ae[1];if(Array.isArray(wt)&&!(1>wt.length)){var Ut=wt[0];if("noop"!=Ut&&"stop"!=Ut&&"close"!=Ut)for(var Nn=1;Nn<wt.length;Nn++)wt[Nn]=""}}}return Mu(G)}catch{return k}}(g,G)+(ae?" "+ae:"")})}Tl.La="serverreachability",Wt(mv,Jo),Tl.STAT_EVENT="statevent",Wt(yv,Jo),Tl.Ma="timingevent",Wt(iy,Jo),tf.prototype.xa=function(){this.g=!1},tf.prototype.info=function(){};var $p,xu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function nu(){}function Pc(g,k,G,ae){this.j=g,this.i=k,this.l=G,this.R=ae||1,this.U=new jd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hd}function Hd(){this.i=null,this.g="",this.h=!1}Wt(nu,jp),nu.prototype.g=function(){return new XMLHttpRequest},nu.prototype.i=function(){return{}},$p=new nu;var Ev={},Hp={};function bl(g,k,G){g.L=1,g.v=sf(Nc(k)),g.m=G,g.P=!0,Pw(g,null)}function Pw(g,k){g.F=Date.now(),zp(g),g.A=Nc(g.v);var G=g.A,ae=g.R;Array.isArray(ae)||(ae=[String(ae)]),Mv(G.i,"t",ae),g.C=0,G=g.j.J,g.h=new Hd,g.g=Bu(g.j,G?k:null,!g.m),0<g.O&&(g.M=new Cw(Ve(g.Y,g,g.g),g.O)),k=g.U,G=g.g,ae=g.ca;var wt="readystatechange";Array.isArray(wt)||(wt&&(dv[0]=wt.toString()),wt=dv);for(var Ut=0;Ut<wt.length;Ut++){var Nn=Fp(G,wt[Ut],ae||k.handleEvent,!1,k.h||k);if(!Nn)break;k.g[Nn.key]=Nn}k=g.H?Le(g.H):{},g.m?(g.u||(g.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,k)):(g.u="GET",g.g.ea(g.A,g.u,null,k)),Nu(),function Sw(g,k,G,ae,wt,Ut){g.info(function(){if(g.g)if(Ut)for(var Nn="",uo=Ut.split("&"),gs=0;gs<uo.length;gs++){var Di=uo[gs].split("=");if(1<Di.length){var xs=Di[0];Di=Di[1];var Zs=xs.split("_");Nn=2<=Zs.length&&"type"==Zs[1]?Nn+(xs+"=")+Di+"&":Nn+(xs+"=redacted&")}}else Nn=null;else Nn=Ut;return"XMLHTTP REQ ("+ae+") [attempt "+wt+"]: "+k+"\n"+G+"\n"+Nn})}(g.i,g.u,g.A,g.l,g.R,g.m)}function Mw(g){return!!g.g&&"GET"==g.u&&2!=g.L&&g.j.Ca}function nf(g,k){var G=g.C,ae=k.indexOf("\n",G);return-1==ae?Hp:(G=Number(k.substring(G,ae)),isNaN(G)?Ev:(ae+=1)+G>k.length?Hp:(k=k.slice(ae,ae+G),g.C=ae+G,k))}function zp(g){g.S=Date.now()+g.I,wv(g,g.I)}function wv(g,k){if(null!=g.B)throw Error("WatchDog timer not null");g.B=$d(Ve(g.ba,g),k)}function sy(g){g.B&&(C.clearTimeout(g.B),g.B=null)}function Ou(g){0==g.j.G||g.J||Wv(g.j,g)}function ru(g){sy(g);var k=g.M;k&&"function"==typeof k.ma&&k.ma(),g.M=null,hv(g.U),g.g&&(k=g.g,g.g=null,k.abort(),k.ma())}function ay(g,k){try{var G=g.j;if(0!=G.G&&(G.g==g||bv(G.h,g)))if(!g.K&&bv(G.h,g)&&3==G.G){try{var ae=G.Da.g.parse(k)}catch{ae=null}if(Array.isArray(ae)&&3==ae.length){var wt=ae;if(0==wt[0]){e:if(!G.u){if(G.g){if(!(G.g.F+3e3<g.F))break e;Zp(G),qp(G)}my(G),Xs(18)}}else G.za=wt[1],0<G.za-G.T&&37500>wt[2]&&G.F&&0==G.v&&!G.C&&(G.C=$d(Ve(G.Za,G),6e3));if(1>=Tv(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else Sl(G,11)}else if((g.K||G.g==g)&&Zp(G),!or(k))for(wt=G.Da.g.parse(k),k=0;k<wt.length;k++){let Di=wt[k];if(G.T=Di[0],Di=Di[1],2==G.G)if("c"==Di[0]){G.K=Di[1],G.ia=Di[2];const xs=Di[3];null!=xs&&(G.la=xs,G.j.info("VER="+G.la));const Zs=Di[4];null!=Zs&&(G.Aa=Zs,G.j.info("SVER="+G.Aa));const Zd=Di[5];null!=Zd&&"number"==typeof Zd&&0<Zd&&(G.L=ae=1.5*Zd,G.j.info("backChannelRequestTimeoutMs_="+ae)),ae=G;const Ga=g.g;if(Ga){const Jp=Ga.g?Ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jp){var Ut=ae.h;Ut.g||-1==Jp.indexOf("spdy")&&-1==Jp.indexOf("quic")&&-1==Jp.indexOf("h2")||(Ut.j=Ut.l,Ut.g=new Set,Ut.h&&(cy(Ut,Ut.h),Ut.h=null))}if(ae.D){const _y=Ga.g?Ga.g.getResponseHeader("X-HTTP-Session-Id"):null;_y&&(ae.ya=_y,ro(ae.I,ae.D,_y))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-g.F,G.j.info("Handshake RTT: "+G.R+"ms"));var Nn=g;if((ae=G).qa=Kv(ae,ae.J?ae.ia:null,ae.W),Nn.K){kw(ae.h,Nn);var uo=Nn,gs=ae.L;gs&&(uo.I=gs),uo.B&&(sy(uo),zp(uo)),ae.g=Nn}else Hv(ae);0<G.i.length&&Qp(G)}else"stop"!=Di[0]&&"close"!=Di[0]||Sl(G,7);else 3==G.G&&("stop"==Di[0]||"close"==Di[0]?"stop"==Di[0]?Sl(G,7):Kp(G):"noop"!=Di[0]&&G.l&&G.l.ta(Di),G.v=0)}Nu()}catch{}}Pc.prototype.ca=function(g){g=g.target;const k=this.M;k&&3==Uu(g)?k.j():this.Y(g)},Pc.prototype.Y=function(g){try{if(g==this.g)e:{const Zs=Uu(this.g);var k=this.g.Ba();if(this.g.Z(),!(3>Zs)&&(3!=Zs||this.g&&(this.h.h||this.g.oa()||Vv(this.g)))){this.J||4!=Zs||7==k||Nu(),sy(this);var G=this.g.Z();this.X=G;t:if(Mw(this)){var ae=Vv(this.g);g="";var wt=ae.length,Ut=4==Uu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ru(this),Ou(this);var Nn="";break t}this.h.i=new C.TextDecoder}for(k=0;k<wt;k++)this.h.h=!0,g+=this.h.i.decode(ae[k],{stream:!(Ut&&k==wt-1)});ae.length=0,this.h.g+=g,this.C=0,Nn=this.h.g}else Nn=this.g.oa();if(this.o=200==G,function _v(g,k,G,ae,wt,Ut,Nn){g.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+wt+"]: "+k+"\n"+G+"\n"+Ut+" "+Nn})}(this.i,this.u,this.A,this.l,this.R,Zs,G),this.o){if(this.T&&!this.K){t:{if(this.g){var uo,gs=this.g;if((uo=gs.g?gs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!or(uo)){var Di=uo;break t}}Di=null}if(!(G=Di)){this.o=!1,this.s=3,Xs(12),ru(this),Ou(this);break e}ku(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ay(this,G)}if(this.P){let Ga;for(G=!0;!this.J&&this.C<Nn.length;){if(Ga=nf(this,Nn),Ga==Hp){4==Zs&&(this.s=4,Xs(14),G=!1),ku(this.i,this.l,null,"[Incomplete Response]");break}if(Ga==Ev){this.s=4,Xs(15),ku(this.i,this.l,Nn,"[Invalid Chunk]"),G=!1;break}ku(this.i,this.l,Ga,null),ay(this,Ga)}if(Mw(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Zs||0!=Nn.length||this.h.h||(this.s=1,Xs(16),G=!1),this.o=this.o&&G,G){if(0<Nn.length&&!this.W){this.W=!0;var xs=this.j;xs.g==this&&xs.ba&&!xs.M&&(xs.j.info("Great, no buffering proxy detected. Bytes received: "+Nn.length),yy(xs),xs.M=!0,Xs(11))}}else ku(this.i,this.l,Nn,"[Invalid Chunked Response]"),ru(this),Ou(this)}else ku(this.i,this.l,Nn,null),ay(this,Nn);4==Zs&&ru(this),this.o&&!this.J&&(4==Zs?Wv(this.j,this):(this.o=!1,zp(this)))}else(function Uv(g){const k={};g=(g.g&&2<=Uu(g)&&g.g.getAllResponseHeaders()||"").split("\r\n");for(let ae=0;ae<g.length;ae++){if(or(g[ae]))continue;var G=dt(g[ae]);const wt=G[0];if("string"!=typeof(G=G[1]))continue;G=G.trim();const Ut=k[wt]||[];k[wt]=Ut,Ut.push(G)}!function ct(g,k){for(const G in g)k.call(void 0,g[G],G,g)}(k,function(ae){return ae.join(", ")})})(this.g),400==G&&0<Nn.indexOf("Unknown SID")?(this.s=3,Xs(12)):(this.s=0,Xs(13)),ru(this),Ou(this)}}}catch{}},Pc.prototype.cancel=function(){this.J=!0,ru(this)},Pc.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(function vv(g,k){g.info(function(){return"TIMEOUT: "+k})}(this.i,this.A),2!=this.L&&(Nu(),Xs(17)),ru(this),this.s=2,Ou(this)):wv(this,this.S-g)};var zT=class{constructor(g,k){this.g=g,this.map=k}};function Nw(g){this.l=g||10,g=C.PerformanceNavigationTiming?0<(g=C.performance.getEntriesByType("navigation")).length&&("hq"==g[0].nextHopProtocol||"h2"==g[0].nextHopProtocol):!!(C.chrome&&C.chrome.loadTimes&&C.chrome.loadTimes()&&C.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Iv(g){return!!g.h||!!g.g&&g.g.size>=g.j}function Tv(g){return g.h?1:g.g?g.g.size:0}function bv(g,k){return g.h?g.h==k:!!g.g&&g.g.has(k)}function cy(g,k){g.g?g.g.add(k):g.h=k}function kw(g,k){g.h&&g.h==k?g.h=null:g.g&&g.g.has(k)&&g.g.delete(k)}function Dv(g){if(null!=g.h)return g.i.concat(g.h.D);if(null!=g.g&&0!==g.g.size){let k=g.i;for(const G of g.g.values())k=k.concat(G.D);return k}return fn(g.i)}function Wp(g,k){if(g.forEach&&"function"==typeof g.forEach)g.forEach(k,void 0);else if(N(g)||"string"==typeof g)Array.prototype.forEach.call(g,k,void 0);else for(var G=function Ow(g){if(g.na&&"function"==typeof g.na)return g.na();if(!g.V||"function"!=typeof g.V){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(N(g)||"string"==typeof g){var k=[];g=g.length;for(var G=0;G<g;G++)k.push(G);return k}k=[],G=0;for(const ae in g)k[G++]=ae;return k}}}(g),ae=function xw(g){if(g.V&&"function"==typeof g.V)return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if("string"==typeof g)return g.split("");if(N(g)){for(var k=[],G=g.length,ae=0;ae<G;ae++)k.push(g[ae]);return k}for(ae in k=[],G=0,g)k[G++]=g[ae];return k}(g),wt=ae.length,Ut=0;Ut<wt;Ut++)k.call(void 0,ae[Ut],G&&G[Ut],g)}Nw.prototype.cancel=function(){if(this.i=Dv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const g of this.g.values())g.cancel();this.g.clear()}};var zd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Mc){this.h=g.h,Fu(this,g.j),this.o=g.o,this.g=g.g,rf(this,g.s),this.l=g.l;var k=g.i,G=new af;G.i=k.i,k.g&&(G.g=new Map(k.g),G.h=k.h),Av(this,G),this.m=g.m}else g&&(k=String(g).match(zd))?(this.h=!1,Fu(this,k[1]||"",!0),this.o=Wd(k[2]||""),this.g=Wd(k[3]||"",!0),rf(this,k[4]),this.l=Wd(k[5]||"",!0),Av(this,k[6]||"",!0),this.m=Wd(k[7]||"")):(this.h=!1,this.i=new af(null,this.h))}function Nc(g){return new Mc(g)}function Fu(g,k,G){g.j=G?Wd(k,!0):k,g.j&&(g.j=g.j.replace(/:$/,""))}function rf(g,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);g.s=k}else g.s=null}function Av(g,k,G){k instanceof af?(g.i=k,function Gp(g,k){k&&!g.j&&(Lu(g),g.i=null,g.g.forEach(function(G,ae){var wt=ae.toLowerCase();ae!=wt&&(Gd(this,ae),Mv(this,wt,G))},g)),g.j=k}(g.i,g.h)):(G||(k=kc(k,Rv)),g.i=new af(k,g.h))}function ro(g,k,G){g.i.set(k,G)}function sf(g){return ro(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Wd(g,k){return g?k?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function kc(g,k,G){return"string"==typeof g?(g=encodeURI(g).replace(k,ly),G&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function ly(g){return"%"+((g=g.charCodeAt(0))>>4&15).toString(16)+(15&g).toString(16)}Mc.prototype.toString=function(){var g=[],k=this.j;k&&g.push(kc(k,Cv,!0),":");var G=this.g;return(G||"file"==k)&&(g.push("//"),(k=this.o)&&g.push(kc(k,Cv,!0),"@"),g.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(G=this.s)&&g.push(":",String(G))),(G=this.l)&&(this.g&&"/"!=G.charAt(0)&&g.push("/"),g.push(kc(G,"/"==G.charAt(0)?Sv:Fw,!0))),(G=this.i.toString())&&g.push("?",G),(G=this.m)&&g.push("#",kc(G,Lw)),g.join("")};var Cv=/[#\/\?@]/g,Fw=/[#\?:]/g,Sv=/[#\?]/g,Rv=/[#\?@]/g,Lw=/#/g;function af(g,k){this.h=this.g=null,this.i=g||null,this.j=!!k}function Lu(g){g.g||(g.g=new Map,g.h=0,g.i&&function uy(g,k){if(g){g=g.split("&");for(var G=0;G<g.length;G++){var ae=g[G].indexOf("="),wt=null;if(0<=ae){var Ut=g[G].substring(0,ae);wt=g[G].substring(ae+1)}else Ut=g[G];k(Ut,wt?decodeURIComponent(wt.replace(/\+/g," ")):"")}}}(g.i,function(k,G){g.add(decodeURIComponent(k.replace(/\+/g," ")),G)}))}function Gd(g,k){Lu(g),k=Kd(g,k),g.g.has(k)&&(g.i=null,g.h-=g.g.get(k).length,g.g.delete(k))}function Pv(g,k){return Lu(g),k=Kd(g,k),g.g.has(k)}function Mv(g,k,G){Gd(g,k),0<G.length&&(g.i=null,g.g.set(Kd(g,k),fn(G)),g.h+=G.length)}function Kd(g,k){return k=String(k),g.j&&(k=k.toLowerCase()),k}function iu(g,k,G,ae,wt){try{wt&&(wt.onload=null,wt.onerror=null,wt.onabort=null,wt.ontimeout=null),ae(G)}catch{}}function Vw(){this.g=new fv}function xv(g,k,G){const ae=G||"";try{Wp(g,function(wt,Ut){let Nn=wt;V(wt)&&(Nn=Mu(wt)),k.push(ae+Ut+"="+encodeURIComponent(Nn))})}catch(wt){throw k.push(ae+"type="+encodeURIComponent("_badmap")),wt}}function Dl(g){this.l=g.Ub||null,this.j=g.eb||!1}function Al(g,k){es.call(this),this.D=g,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ov(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}function cf(g){g.readyState=4,g.l=null,g.j=null,g.v=null,uf(g)}function uf(g){g.onreadystatechange&&g.onreadystatechange.call(g)}function Fv(g){let k="";return ci(g,function(G,ae){k+=ae,k+=":",k+=G,k+="\r\n"}),k}function dy(g,k,G){e:{for(ae in G){var ae=!1;break e}ae=!0}ae||(G=Fv(G),"string"==typeof g?null!=G&&encodeURIComponent(String(G)):ro(g,k,G))}function ts(g){es.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=af.prototype).add=function(g,k){Lu(this),this.i=null,g=Kd(this,g);var G=this.g.get(g);return G||this.g.set(g,G=[]),G.push(k),this.h+=1,this},c.forEach=function(g,k){Lu(this),this.g.forEach(function(G,ae){G.forEach(function(wt){g.call(k,wt,ae,this)},this)},this)},c.na=function(){Lu(this);const g=Array.from(this.g.values()),k=Array.from(this.g.keys()),G=[];for(let ae=0;ae<k.length;ae++){const wt=g[ae];for(let Ut=0;Ut<wt.length;Ut++)G.push(k[ae])}return G},c.V=function(g){Lu(this);let k=[];if("string"==typeof g)Pv(this,g)&&(k=k.concat(this.g.get(Kd(this,g))));else{g=Array.from(this.g.values());for(let G=0;G<g.length;G++)k=k.concat(g[G])}return k},c.set=function(g,k){return Lu(this),this.i=null,Pv(this,g=Kd(this,g))&&(this.h-=this.g.get(g).length),this.g.set(g,[k]),this.h+=1,this},c.get=function(g,k){return g&&0<(g=this.V(g)).length?String(g[0]):k},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],k=Array.from(this.g.keys());for(var G=0;G<k.length;G++){var ae=k[G];const Ut=encodeURIComponent(String(ae)),Nn=this.V(ae);for(ae=0;ae<Nn.length;ae++){var wt=Ut;""!==Nn[ae]&&(wt+="="+encodeURIComponent(String(Nn[ae]))),g.push(wt)}}return this.i=g.join("&")},Wt(Dl,jp),Dl.prototype.g=function(){return new Al(this.l,this.j)},Dl.prototype.i=function(g){return function(){return g}}({}),Wt(Al,es),(c=Al.prototype).open=function(g,k){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=k,this.readyState=1,uf(this)},c.send=function(g){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(k.body=g),(this.D||C).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cf(this)),this.readyState=0},c.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,uf(this)),this.g&&(this.readyState=3,uf(this),this.g)))if("arraybuffer"===this.responseType)g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof C.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ov(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var k=g.value?g.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!g.done}))&&(this.response=this.responseText+=k)}g.done?cf(this):uf(this),3==this.readyState&&Ov(this)}},c.Ra=function(g){this.g&&(this.response=this.responseText=g,cf(this))},c.Qa=function(g){this.g&&(this.response=g,cf(this))},c.ga=function(){this.g&&cf(this)},c.setRequestHeader=function(g,k){this.u.append(g,k)},c.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],k=this.h.entries();for(var G=k.next();!G.done;)g.push((G=G.value)[0]+": "+G[1]),G=k.next();return g.join("\r\n")},Object.defineProperty(Al.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(g){this.m=g?"include":"same-origin"}}),Wt(ts,es);var hy=/^https?$/i,lf=["POST","PUT"];function fy(g,k){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=k,g.m=5,py(g),Vu(g)}function py(g){g.A||(g.A=!0,Qs(g,"complete"),Qs(g,"error"))}function Lv(g){if(g.h&&typeof m<"u"&&(!g.v[1]||4!=Uu(g)||2!=g.Z()))if(g.u&&4==Uu(g))Bp(g.Ea,0,g);else if(Qs(g,"readystatechange"),4==Uu(g)){g.h=!1;try{const Nn=g.Z();e:switch(Nn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var G;if(!(G=k)){var ae;if(ae=0===Nn){var wt=String(g.D).match(zd)[1]||null;!wt&&C.self&&C.self.location&&(wt=C.self.location.protocol.slice(0,-1)),ae=!hy.test(wt?wt.toLowerCase():"")}G=ae}if(G)Qs(g,"complete"),Qs(g,"success");else{g.m=6;try{var Ut=2<Uu(g)?g.g.statusText:""}catch{Ut=""}g.l=Ut+" ["+g.Z()+"]",py(g)}}finally{Vu(g)}}}function Vu(g,k){if(g.g){df(g);const G=g.g,ae=g.v[0]?()=>{}:null;g.g=null,g.v=null,k||Qs(g,"ready");try{G.onreadystatechange=ae}catch{}}}function df(g){g.I&&(C.clearTimeout(g.I),g.I=null)}function Uu(g){return g.g?g.g.readyState:0}function Vv(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Cl(g,k,G){return G&&G.internalChannelParams&&G.internalChannelParams[g]||k}function Bv(g){this.Aa=0,this.i=[],this.j=new tf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cl("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cl("baseRetryDelayMs",5e3,g),this.cb=Cl("retryDelaySeedMs",1e4,g),this.Wa=Cl("forwardChannelMaxRetries",2,g),this.wa=Cl("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Nw(g&&g.concurrentRequestLimit),this.Da=new Vw,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kp(g){if(jv(g),3==g.G){var k=g.U++,G=Nc(g.I);if(ro(G,"SID",g.K),ro(G,"RID",k),ro(G,"TYPE","terminate"),qd(g,G),(k=new Pc(g,g.j,k)).L=2,k.v=sf(Nc(G)),G=!1,C.navigator&&C.navigator.sendBeacon)try{G=C.navigator.sendBeacon(k.v.toString(),"")}catch{}!G&&C.Image&&((new Image).src=k.v,G=!0),G||(k.g=Bu(k.j,null),k.g.ea(k.v)),k.F=Date.now(),zp(k)}Gv(g)}function qp(g){g.g&&(yy(g),g.g.cancel(),g.g=null)}function jv(g){qp(g),g.u&&(C.clearTimeout(g.u),g.u=null),Zp(g),g.h.cancel(),g.s&&("number"==typeof g.s&&C.clearTimeout(g.s),g.s=null)}function Qp(g){if(!Iv(g.h)&&!g.s){g.s=!0;var k=g.Ga;El||qh(),Kh||(El(),Kh=!0),Qm.add(k,g),g.B=0}}function gy(g,k){var G;G=k?k.l:g.U++;const ae=Nc(g.I);ro(ae,"SID",g.K),ro(ae,"RID",G),ro(ae,"AID",g.T),qd(g,ae),g.m&&g.o&&dy(ae,g.m,g.o),G=new Pc(g,g.j,G,g.B+1),null===g.m&&(G.H=g.o),k&&(g.i=k.D.concat(g.i)),k=Xp(g,G,1e3),G.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),cy(g.h,G),bl(G,ae,k)}function qd(g,k){g.H&&ci(g.H,function(G,ae){ro(k,ae,G)}),g.l&&Wp({},function(G,ae){ro(k,ae,G)})}function Xp(g,k,G){G=Math.min(g.i.length,G);var ae=g.l?Ve(g.l.Na,g.l,g):null;e:{var wt=g.i;let Ut=-1;for(;;){const Nn=["count="+G];-1==Ut?0<G?(Ut=wt[0].g,Nn.push("ofs="+Ut)):Ut=0:Nn.push("ofs="+Ut);let uo=!0;for(let gs=0;gs<G;gs++){let Di=wt[gs].g;const xs=wt[gs].map;if(Di-=Ut,0>Di)Ut=Math.max(0,wt[gs].g-100),uo=!1;else try{xv(xs,Nn,"req"+Di+"_")}catch{ae&&ae(xs)}}if(uo){ae=Nn.join("&");break e}}}return g=g.i.splice(0,G),k.D=g,ae}function Hv(g){if(!g.g&&!g.u){g.Y=1;var k=g.Fa;El||qh(),Kh||(El(),Kh=!0),Qm.add(k,g),g.v=0}}function my(g){return!(g.g||g.u||3<=g.v||(g.Y++,g.u=$d(Ve(g.Fa,g),Yp(g,g.v)),g.v++,0))}function yy(g){null!=g.A&&(C.clearTimeout(g.A),g.A=null)}function zv(g){g.g=new Pc(g,g.j,"rpc",g.Y),null===g.m&&(g.g.H=g.o),g.g.O=0;var k=Nc(g.qa);ro(k,"RID","rpc"),ro(k,"SID",g.K),ro(k,"AID",g.T),ro(k,"CI",g.F?"0":"1"),!g.F&&g.ja&&ro(k,"TO",g.ja),ro(k,"TYPE","xmlhttp"),qd(g,k),g.m&&g.o&&dy(k,g.m,g.o),g.L&&(g.g.I=g.L);var G=g.g;g=g.ia,G.L=1,G.v=sf(Nc(k)),G.m=null,G.P=!0,Pw(G,g)}function Zp(g){null!=g.C&&(C.clearTimeout(g.C),g.C=null)}function Wv(g,k){var G=null;if(g.g==k){Zp(g),yy(g),g.g=null;var ae=2}else{if(!bv(g.h,k))return;G=k.D,kw(g.h,k),ae=1}if(0!=g.G)if(k.o)if(1==ae){G=k.m?k.m.length:0,k=Date.now()-k.F;var wt=g.B;Qs(ae=ef(),new iy(ae,G)),Qp(g)}else Hv(g);else if(3==(wt=k.s)||0==wt&&0<k.X||!(1==ae&&function $v(g,k){return!(Tv(g.h)>=g.h.j-(g.s?1:0)||(g.s?(g.i=k.D.concat(g.i),0):1==g.G||2==g.G||g.B>=(g.Va?0:g.Wa)||(g.s=$d(Ve(g.Ga,g,k),Yp(g,g.B)),g.B++,0)))}(g,k)||2==ae&&my(g)))switch(G&&0<G.length&&(k=g.h,k.i=k.i.concat(G)),wt){case 1:Sl(g,5);break;case 4:Sl(g,10);break;case 3:Sl(g,6);break;default:Sl(g,2)}}function Yp(g,k){let G=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(G*=2),G*k}function Sl(g,k){if(g.j.info("Error code "+k),2==k){var G=Ve(g.fb,g),ae=g.Xa;const wt=!ae;ae=new Mc(ae||"//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||Fu(ae,"https"),sf(ae),wt?function Nv(g,k){const G=new tf;if(C.Image){const ae=new Image;ae.onload=At(iu,G,"TestLoadImage: loaded",!0,k,ae),ae.onerror=At(iu,G,"TestLoadImage: error",!1,k,ae),ae.onabort=At(iu,G,"TestLoadImage: abort",!1,k,ae),ae.ontimeout=At(iu,G,"TestLoadImage: timeout",!1,k,ae),C.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=g}else k(!1)}(ae.toString(),G):function kv(g,k){new tf;const ae=new AbortController,wt=setTimeout(()=>{ae.abort(),iu(0,0,!1,k)},1e4);fetch(g,{signal:ae.signal}).then(Ut=>{clearTimeout(wt),iu(0,0,!!Ut.ok,k)}).catch(()=>{clearTimeout(wt),iu(0,0,!1,k)})}(ae.toString(),G)}else Xs(2);g.G=0,g.l&&g.l.sa(k),Gv(g),jv(g)}function Gv(g){if(g.G=0,g.ka=[],g.l){const k=Dv(g.h);(0!=k.length||0!=g.i.length)&&(cn(g.ka,k),cn(g.ka,g.i),g.h.i.length=0,fn(g.i),g.i.length=0),g.l.ra()}}function Kv(g,k,G){var ae=G instanceof Mc?Nc(G):new Mc(G);if(""!=ae.g)k&&(ae.g=k+"."+ae.g),rf(ae,ae.s);else{var wt=C.location;ae=wt.protocol,k=k?k+"."+wt.hostname:wt.hostname,wt=+wt.port;var Ut=new Mc(null);ae&&Fu(Ut,ae),k&&(Ut.g=k),wt&&rf(Ut,wt),G&&(Ut.l=G),ae=Ut}return k=g.ya,(G=g.D)&&k&&ro(ae,G,k),ro(ae,"VER",g.la),qd(g,ae),ae}function Bu(g,k,G){if(k&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new ts(g.Ca&&!g.pa?new Dl({eb:G}):g.pa)).Ha(g.J),k}function Qd(){}function Xd(){}function sa(g,k){es.call(this),this.g=new Bv(k),this.l=g,this.h=k&&k.messageUrlParams||null,g=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(g?g["X-WebChannel-Content-Type"]=k.messageContentType:g={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(g?g["X-WebChannel-Client-Profile"]=k.va:g={"X-WebChannel-Client-Profile":k.va}),this.g.S=g,(g=k&&k.Sb)&&!or(g)&&(this.g.m=g),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!or(k)&&(this.g.D=k,null!==(g=this.h)&&k in g&&k in(g=this.h)&&delete g[k]),this.j=new Pl(this)}function qv(g){ty.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var k=g.__sm__;if(k){e:{for(const G in k){g=G;break e}g=void 0}(this.i=g)&&(g=this.i,k=null!==k&&g in k?k[g]:void 0),this.data=k}else this.data=g}function Rl(){ny.call(this),this.status=1}function Pl(g){this.g=g}(c=ts.prototype).Ha=function(g){this.J=g},c.ea=function(g,k,G,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);k=k?k.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$p.g(),this.v=function pv(g){return g.h||(g.h=g.i())}(this.o?this.o:$p),this.g.onreadystatechange=Ve(this.Ea,this);try{this.B=!0,this.g.open(k,String(g),!0),this.B=!1}catch(Ut){return void fy(this,Ut)}if(g=G||"",G=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var wt in ae)G.set(wt,ae[wt]);else{if("function"!=typeof ae.keys||"function"!=typeof ae.get)throw Error("Unknown input type for opt_headers: "+String(ae));for(const Ut of ae.keys())G.set(Ut,ae.get(Ut))}ae=Array.from(G.keys()).find(Ut=>"content-type"==Ut.toLowerCase()),wt=C.FormData&&g instanceof C.FormData,!(0<=Array.prototype.indexOf.call(lf,k,void 0))||ae||wt||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ut,Nn]of G)this.g.setRequestHeader(Ut,Nn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{df(this),this.u=!0,this.g.send(g),this.u=!1}catch(Ut){fy(this,Ut)}},c.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Qs(this,"complete"),Qs(this,"abort"),Vu(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vu(this,!0)),ts.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?Lv(this):this.bb())},c.bb=function(){Lv(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<Uu(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(g){if(this.g){var k=this.g.responseText;return g&&0==k.indexOf(g)&&(k=k.substring(g.length)),ey(k)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=Bv.prototype).la=8,c.G=1,c.connect=function(g,k,G,ae){Xs(0),this.W=g,this.H=k||{},G&&void 0!==ae&&(this.H.OSID=G,this.H.OAID=ae),this.F=this.X,this.I=Kv(this,null,this.W),Qp(this)},c.Ga=function(g){if(this.s)if(this.s=null,1==this.G){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const wt=new Pc(this,this.j,g);let Ut=this.o;if(this.S&&(Ut?(Ut=Le(Ut),ut(Ut,this.S)):Ut=this.S),null!==this.m||this.O||(wt.H=Ut,Ut=null),this.P)e:{for(var k=0,G=0;G<this.i.length;G++){var ae=this.i[G];if(void 0===(ae="__data__"in ae.map&&"string"==typeof(ae=ae.map.__data__)?ae.length:void 0))break;if(4096<(k+=ae)){k=G;break e}if(4096===k||G===this.i.length-1){k=G+1;break e}}k=1e3}else k=1e3;k=Xp(this,wt,k),ro(G=Nc(this.I),"RID",g),ro(G,"CVER",22),this.D&&ro(G,"X-HTTP-Session-Id",this.D),qd(this,G),Ut&&(this.O?k="headers="+encodeURIComponent(String(Fv(Ut)))+"&"+k:this.m&&dy(G,this.m,Ut)),cy(this.h,wt),this.Ua&&ro(G,"TYPE","init"),this.P?(ro(G,"$req",k),ro(G,"SID","null"),wt.T=!0,bl(wt,G,null)):bl(wt,G,k),this.G=2}}else 3==this.G&&(g?gy(this,g):0==this.i.length||Iv(this.h)||gy(this))},c.Fa=function(){if(this.u=null,zv(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=$d(Ve(this.ab,this),g)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xs(10),qp(this),zv(this))},c.Za=function(){null!=this.C&&(this.C=null,qp(this),my(this),Xs(19))},c.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Xs(2)):(this.j.info("Failed to ping google.com"),Xs(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=Qd.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Xd.prototype.g=function(g,k){return new sa(g,k)},Wt(sa,es),sa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sa.prototype.close=function(){Kp(this.g)},sa.prototype.o=function(g){var k=this.g;if("string"==typeof g){var G={};G.__data__=g,g=G}else this.u&&((G={}).__data__=Mu(g),g=G);k.i.push(new zT(k.Ya++,g)),3==k.G&&Qp(k)},sa.prototype.N=function(){this.g.l=null,delete this.j,Kp(this.g),delete this.g,sa.aa.N.call(this)},Wt(qv,ty),Wt(Rl,ny),Wt(Pl,Qd),Pl.prototype.ua=function(){Qs(this.g,"a")},Pl.prototype.ta=function(g){Qs(this.g,new qv(g))},Pl.prototype.sa=function(g){Qs(this.g,new Rl)},Pl.prototype.ra=function(){Qs(this.g,"b")},Xd.prototype.createWebChannel=Xd.prototype.g,sa.prototype.send=sa.prototype.o,sa.prototype.open=sa.prototype.m,sa.prototype.close=sa.prototype.close,Tt=Te.createWebChannelTransport=function(){return new Xd},vt=Te.getStatEventTarget=function(){return ef()},tn=Te.Event=Tl,jt=Te.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xu.NO_ERROR=0,xu.TIMEOUT=8,xu.HTTP_ERROR=6,zt=Te.ErrorCode=xu,oy.COMPLETE="complete",Mt=Te.EventType=oy,gv.EventType=Jh,Jh.OPEN="a",Jh.CLOSE="b",Jh.ERROR="c",Jh.MESSAGE="d",es.prototype.listen=es.prototype.K,ft=Te.WebChannel=gv,Te.FetchXmlHttpFactory=Dl,ts.prototype.listenOnce=ts.prototype.L,ts.prototype.getLastError=ts.prototype.Ka,ts.prototype.getLastErrorCode=ts.prototype.Ba,ts.prototype.getStatus=ts.prototype.Z,ts.prototype.getResponseJson=ts.prototype.Oa,ts.prototype.getResponseText=ts.prototype.oa,ts.prototype.send=ts.prototype.ea,ts.prototype.setWithCredentials=ts.prototype.Ha,ht=Te.XhrIo=ts}).apply(typeof be<"u"?be:typeof self<"u"?self:typeof window<"u"?window:{});const Pt="@firebase/firestore";class st{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");let et="11.8.1";const bt=new $.Vy("@firebase/firestore");function Xt(){return bt.logLevel}function lt(c,...n){if(bt.logLevel<=$.$b.DEBUG){const i=n.map(Xn);bt.debug(`Firestore (${et}): ${c}`,...i)}}function Bn(c,...n){if(bt.logLevel<=$.$b.ERROR){const i=n.map(Xn);bt.error(`Firestore (${et}): ${c}`,...i)}}function kn(c,...n){if(bt.logLevel<=$.$b.WARN){const i=n.map(Xn);bt.warn(`Firestore (${et}): ${c}`,...i)}}function Xn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function mt(c,n,i){let s="Unexpected state";"string"==typeof n?s=n:i=n,In(c,s,i)}function In(c,n,i){let s=`FIRESTORE (${et}) INTERNAL ASSERTION FAILED: ${n} (ID: ${c.toString(16)})`;if(void 0!==i)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Bn(s),new Error(s)}function tt(c,n,i,s){let u="Unexpected state";"string"==typeof i?u=i:s=i,c||In(n,u,s)}function xt(c,n){return c}const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Me.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fe{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class pe{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class ye{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(st.UNAUTHENTICATED))}shutdown(){}}class se{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ge{constructor(n){this.t=n,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;tt(void 0===this.o,42304);let u=this.i;const h=V=>this.i!==u?(u=this.i,i(V)):Promise.resolve();let m=new fe;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new fe,n.enqueueRetryable(()=>h(this.currentUser))};const C=()=>{const V=m;n.enqueueRetryable((0,I.A)(function*(){yield V.promise,yield h(s.currentUser)}))},N=V=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.o&&(this.auth.addAuthTokenListener(this.o),C())};this.t.onInit(V=>N(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?N(V):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new fe)}},0),C()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt("string"==typeof s.accessToken,31837,{l:s}),new pe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return tt(null===n||"string"==typeof n,2055,{h:n}),new st(n)}}class Ye{constructor(n,i,s){this.P=n,this.T=i,this.I=s,this.type="FirstParty",this.user=st.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Et{constructor(n,i,s){this.P=n,this.T=i,this.I=s}getToken(){return Promise.resolve(new Ye(this.P,this.T,this.I))}start(n,i){n.enqueueRetryable(()=>i(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class un{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nn{constructor(n,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,x.xZ)(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,i){tt(void 0===this.o,3512);const s=h=>{null!=h.error&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(h.token):Promise.resolve()};this.o=h=>{n.enqueueRetryable(()=>s(h))};const u=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new un(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(tt("string"==typeof i.token,44558,{tokenResult:i}),this.m=i.token,new un(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qt(c){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<c;s++)i[s]=Math.floor(256*Math.random());return i}function Yn(){return new TextEncoder}class zn{static newId(){const i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=Qt(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[h]%62))}return s}}function Jt(c,n){return c<n?-1:c>n?1:0}function Un(c,n){let i=0;for(;i<c.length&&i<n.length;){const s=c.codePointAt(i),u=n.codePointAt(i);if(s!==u){if(s<128&&u<128)return Jt(s,u);{const h=Yn(),m=An(h.encode(nr(c,i)),h.encode(nr(n,i)));return 0!==m?m:Jt(s,u)}}i+=s>65535?2:1}return Jt(c.length,n.length)}function nr(c,n){return c.codePointAt(n)>65535?c.substring(n,n+2):c.substring(n,n+1)}function An(c,n){for(let i=0;i<c.length&&i<n.length;++i)if(c[i]!==n[i])return Jt(c[i],n[i]);return Jt(c.length,n.length)}function kr(c,n,i){return c.length===n.length&&c.every((s,u)=>i(s,n[u]))}const Ai=-62135596800;class pr{static now(){return pr.fromMillis(Date.now())}static fromDate(n){return pr.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new pr(i,s)}constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new ne(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ne(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<Ai)throw new ne(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ne(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Jt(this.nanoseconds,n.nanoseconds):Jt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-Ai).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ln{static fromTimestamp(n){return new ln(n)}static min(){return new ln(new pr(0,0))}static max(){return new ln(new pr(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gi="__name__";class xr{constructor(n,i,s){void 0===i?i=0:i>n.length&&mt(637,{offset:i,range:n.length}),void 0===s?s=n.length-i:s>n.length-i&&mt(1746,{length:s,range:n.length-i}),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===xr.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof xr?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const h=xr.compareSegments(n.get(u),i.get(u));if(0!==h)return h}return Jt(n.length,i.length)}static compareSegments(n,i){const s=xr.isNumericId(n),u=xr.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?xr.extractNumericId(n).compare(xr.extractNumericId(i)):Un(n,i)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return De.fromString(n.substring(4,n.length-2))}}class pt extends xr{construct(n,i,s){return new pt(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new ne(Qe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new pt(i)}static emptyPath(){return new pt([])}}const Tr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends xr{construct(n,i,s){return new Zn(n,i,s)}static isValidIdentifier(n){return Tr.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Gi}static keyField(){return new Zn([Gi])}static fromServerFormat(n){const i=[];let s="",u=0;const h=()=>{if(0===s.length)throw new ne(Qe.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let m=!1;for(;u<n.length;){const C=n[u];if("\\"===C){if(u+1===n.length)throw new ne(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const N=n[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new ne(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=N,u+=2}else"`"===C?(m=!m,u++):"."!==C||m?(s+=C,u++):(h(),u++)}if(h(),m)throw new ne(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Zn(i)}static emptyPath(){return new Zn([])}}class Yt{constructor(n){this.path=n}static fromPath(n){return new Yt(pt.fromString(n))}static fromName(n){return new Yt(pt.fromString(n).popFirst(5))}static empty(){return new Yt(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===pt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return pt.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Yt(new pt(n.slice()))}}class fr{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new fr(ln.min(),Yt.empty(),-1)}static max(){return new fr(ln.max(),Yt.empty(),-1)}}function Sn(c,n){let i=c.readTime.compareTo(n.readTime);return 0!==i?i:(i=Yt.comparator(c.documentKey,n.documentKey),0!==i?i:Jt(c.largestBatchId,n.largestBatchId))}class Or{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Gn(c){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,I.A)(function*(c){if(c.code!==Qe.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==c.message)throw c;lt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class je{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new je((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof je?i:je.resolve(i)}catch(i){return je.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):je.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):je.reject(i)}static resolve(n){return new je((i,s)=>{i(n)})}static reject(n){return new je((i,s)=>{s(n)})}static waitFor(n){return new je((i,s)=>{let u=0,h=0,m=!1;n.forEach(C=>{++u,C.next(()=>{++h,m&&h===u&&i()},N=>s(N))}),m=!0,h===u&&i()})}static or(n){let i=je.resolve(!1);for(const s of n)i=i.next(u=>u?je.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(n,i){return new je((s,u)=>{const h=n.length,m=new Array(h);let C=0;for(let N=0;N<h;N++){const V=N;i(n[V]).next(J=>{m[V]=J,++C,C===h&&s(m)},J=>u(J))}})}static doWhile(n,i){return new je((s,u)=>{const h=()=>{!0===n()?i().next(()=>{h()},u):s()};h()})}}function br(c){return"IndexedDbTransactionError"===c.name}let nt=(()=>{class c{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ue(u),this.ce=u=>s.writeSequenceNumber(u))}ue(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ce&&this.ce(i),i}}return c.le=-1,c})();function Pn(c){return null==c}function yr(c){return 0===c&&1/c==-1/0}function gt(c,n){let i=n;const s=c.length;for(let u=0;u<s;u++){const h=c.charAt(u);switch(h){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=h}}return i}function Ct(c){return c+"\x01\x01"}const It="mutationQueues",Ft="mutations",Ci="documentMutations",Ln="remoteDocumentGlobal",rr="targets",Pr="targetDocuments",B="targetGlobal",me="collectionParents",ie="clientMetadata",St="bundles",Fn="namedQueries";function Ho(c){let n=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n++;return n}function fo(c,n){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n(i,c[i])}function vs(c){for(const n in c)if(Object.prototype.hasOwnProperty.call(c,n))return!1;return!0}class Kr{constructor(n,i){this.comparator=n,this.root=i||Yr.EMPTY}insert(n,i){return new Kr(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(n){return new Kr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new oo(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new oo(this.root,n,this.comparator,!1)}getReverseIterator(){return new oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new oo(this.root,n,this.comparator,!0)}}class oo{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=i?s(n.key,i):1,i&&u&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(0===h){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Yr{constructor(n,i,s,u,h){this.key=n,this.value=i,this.color=s??Yr.RED,this.left=u??Yr.EMPTY,this.right=h??Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,h){return new Yr(n??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const h=s(n,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===h?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return Yr.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw mt(27949);return n+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(n,i,s,u,h){return this}insert(n,i,s){return new Yr(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jr{constructor(n){this.comparator=n,this.data=new Kr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Es(this.data.getIterator())}getIteratorFrom(n){return new Es(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof Jr)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Jr(this.comparator);return i.data=n,i}}class Es{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mo{constructor(n){this.fields=n,n.sort(Zn.comparator)}static empty(){return new Mo([])}unionWith(n){let i=new Jr(Zn.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new Mo(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return kr(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class us extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vi{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new us("Invalid base64 string: "+h):h}}(n);return new Vi(i)}static fromUint8Array(n){const i=function(u){let h="";for(let m=0;m<u.length;++m)h+=String.fromCharCode(u[m]);return h}(n);return new Vi(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Jt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const Fs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(c){if(tt(!!c,39018),"string"==typeof c){let n=0;const i=Fs.exec(c);if(tt(!!i,46558,{timestamp:c}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(c);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:Lr(c.seconds),nanos:Lr(c.nanos)}}function Lr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function Er(c){return"string"==typeof c?Vi.fromBase64String(c):Vi.fromUint8Array(c)}const Xi="server_timestamp",Ys="__type__",Rs="__previous_value__",wa="__local_write_time__";function Vo(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[Ys])||void 0===i?void 0:i.stringValue)===Xi}function wr(c){const n=c.mapValue.fields[Rs];return Vo(n)?wr(n):n}function q(c){const n=No(c.mapValue.fields[wa].timestampValue);return new pr(n.seconds,n.nanos)}class K{constructor(n,i,s,u,h,m,C,N,V,J){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=C,this.longPollingOptions=N,this.useFetchStreams=V,this.isUsingEmulator=J}}const we="(default)";class Ne{constructor(n,i){this.projectId=n,this.database=i||we}static empty(){return new Ne("","")}get isDefaultDatabase(){return this.database===we}isEqual(n){return n instanceof Ne&&n.projectId===this.projectId&&n.database===this.database}}const at="__type__",Ot="__max__",Zt_mapValue={fields:{__type__:{stringValue:Ot}}},bn="__vector__",mn="value";function Jn(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?Vo(c)?4:Ia(c)?9007199254740991:ls(c)?10:11:mt(28295,{value:c})}function Ur(c,n){if(c===n)return!0;const i=Jn(c);if(i!==Jn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===n.booleanValue;case 4:return q(c).isEqual(q(n));case 3:return function(u,h){if("string"==typeof u.timestampValue&&"string"==typeof h.timestampValue&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const m=No(u.timestampValue),C=No(h.timestampValue);return m.seconds===C.seconds&&m.nanos===C.nanos}(c,n);case 5:return c.stringValue===n.stringValue;case 6:return h=n,Er(c.bytesValue).isEqual(Er(h.bytesValue));case 7:return c.referenceValue===n.referenceValue;case 8:return function(u,h){return Lr(u.geoPointValue.latitude)===Lr(h.geoPointValue.latitude)&&Lr(u.geoPointValue.longitude)===Lr(h.geoPointValue.longitude)}(c,n);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return Lr(u.integerValue)===Lr(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const m=Lr(u.doubleValue),C=Lr(h.doubleValue);return m===C?yr(m)===yr(C):isNaN(m)&&isNaN(C)}return!1}(c,n);case 9:return kr(c.arrayValue.values||[],n.arrayValue.values||[],Ur);case 10:case 11:return function(u,h){const m=u.mapValue.fields||{},C=h.mapValue.fields||{};if(Ho(m)!==Ho(C))return!1;for(const N in m)if(m.hasOwnProperty(N)&&(void 0===C[N]||!Ur(m[N],C[N])))return!1;return!0}(c,n);default:return mt(52216,{left:c})}var h}function wi(c,n){return void 0!==(c.values||[]).find(i=>Ur(i,n))}function yi(c,n){if(c===n)return 0;const i=Jn(c),s=Jn(n);if(i!==s)return Jt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Jt(c.booleanValue,n.booleanValue);case 2:return function(h,m){const C=Lr(h.integerValue||h.doubleValue),N=Lr(m.integerValue||m.doubleValue);return C<N?-1:C>N?1:C===N?0:isNaN(C)?isNaN(N)?0:-1:1}(c,n);case 3:return Ui(c.timestampValue,n.timestampValue);case 4:return Ui(q(c),q(n));case 5:return Un(c.stringValue,n.stringValue);case 6:return function(h,m){const C=Er(h),N=Er(m);return C.compareTo(N)}(c.bytesValue,n.bytesValue);case 7:return function(h,m){const C=h.split("/"),N=m.split("/");for(let V=0;V<C.length&&V<N.length;V++){const J=Jt(C[V],N[V]);if(0!==J)return J}return Jt(C.length,N.length)}(c.referenceValue,n.referenceValue);case 8:return function(h,m){const C=Jt(Lr(h.latitude),Lr(m.latitude));return 0!==C?C:Jt(Lr(h.longitude),Lr(m.longitude))}(c.geoPointValue,n.geoPointValue);case 9:return Si(c.arrayValue,n.arrayValue);case 10:return function(h,m){var C,N,V,J;const At=null===(C=(h.fields||{})[mn])||void 0===C?void 0:C.arrayValue,Wt=null===(N=(m.fields||{})[mn])||void 0===N?void 0:N.arrayValue,fn=Jt((null===(V=At?.values)||void 0===V?void 0:V.length)||0,(null===(J=Wt?.values)||void 0===J?void 0:J.length)||0);return 0!==fn?fn:Si(At,Wt)}(c.mapValue,n.mapValue);case 11:return function(h,m){if(h===Zt_mapValue&&m===Zt_mapValue)return 0;if(h===Zt_mapValue)return 1;if(m===Zt_mapValue)return-1;const C=h.fields||{},N=Object.keys(C),V=m.fields||{},J=Object.keys(V);N.sort(),J.sort();for(let ue=0;ue<N.length&&ue<J.length;++ue){const Ve=Un(N[ue],J[ue]);if(0!==Ve)return Ve;const At=yi(C[N[ue]],V[J[ue]]);if(0!==At)return At}return Jt(N.length,J.length)}(c.mapValue,n.mapValue);default:throw mt(23264,{Pe:i})}}function Ui(c,n){if("string"==typeof c&&"string"==typeof n&&c.length===n.length)return Jt(c,n);const i=No(c),s=No(n),u=Jt(i.seconds,s.seconds);return 0!==u?u:Jt(i.nanos,s.nanos)}function Si(c,n){const i=c.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=yi(i[u],s[u]);if(h)return h}return Jt(i.length,s.length)}function ri(c){return Ni(c)}function Ni(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const s=No(i);return`time(${s.seconds},${s.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?Er(c.bytesValue).toBase64():"referenceValue"in c?Yt.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=Ni(h);return s+"]"}(c.arrayValue):"mapValue"in c?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const m of s)h?h=!1:u+=",",u+=`${m}:${Ni(i.fields[m])}`;return u+"}"}(c.mapValue):mt(61005,{value:c})}function so(c){switch(Jn(c)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=wr(c);return n?16+so(n):16;case 5:return 2*c.stringValue.length;case 6:return Er(c.bytesValue).approximateByteSize();case 7:return c.referenceValue.length;case 9:return(c.arrayValue.values||[]).reduce((u,h)=>u+so(h),0);case 10:case 11:return function(s){let u=0;return fo(s.fields,(h,m)=>{u+=h.length+so(m)}),u}(c.mapValue);default:throw mt(13486,{value:c})}}function _i(c,n){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${n.path.canonicalString()}`}}function Ri(c){return!!c&&"integerValue"in c}function To(c){return!!c&&"arrayValue"in c}function ii(c){return!!c&&"nullValue"in c}function po(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function Wo(c){return!!c&&"mapValue"in c}function ls(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[at])||void 0===i?void 0:i.stringValue)===bn}function aa(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const n={mapValue:{fields:{}}};return fo(c.mapValue.fields,(i,s)=>n.mapValue.fields[i]=aa(s)),n}if(c.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=aa(c.arrayValue.values[i]);return n}return Object.assign({},c)}function Ia(c){return(((c.mapValue||{}).fields||{}).__type__||{}).stringValue===Ot}class to{constructor(n){this.value=n}static empty(){return new to({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!Wo(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=aa(i)}setAll(n){let i=Zn.emptyPath(),s={},u=[];n.forEach((m,C)=>{if(!i.isImmediateParentOf(C)){const N=this.getFieldsMap(i);this.applyChanges(N,s,u),s={},u=[],i=C.popLast()}m?s[C.lastSegment()]=aa(m):u.push(C.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(n){const i=this.field(n.popLast());Wo(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Ur(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];Wo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){fo(i,(u,h)=>n[u]=h);for(const u of s)delete n[u]}clone(){return new to(aa(this.value))}}function Ps(c){const n=[];return fo(c.fields,(i,s)=>{const u=new Zn([i]);if(Wo(s)){const h=Ps(s.mapValue).fields;if(0===h.length)n.push(u);else for(const m of h)n.push(u.child(m))}else n.push(u)}),new Mo(n)}class di{constructor(n,i,s,u,h,m,C){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=m,this.documentState=C}static newInvalidDocument(n){return new di(n,0,ln.min(),ln.min(),ln.min(),to.empty(),0)}static newFoundDocument(n,i,s,u){return new di(n,1,i,ln.min(),s,u,0)}static newNoDocument(n,i){return new di(n,2,i,ln.min(),ln.min(),to.empty(),0)}static newUnknownDocument(n,i){return new di(n,3,i,ln.min(),ln.min(),to.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(ln.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=to.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=to.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ln.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof di&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ko{constructor(n,i){this.position=n,this.inclusive=i}}function Ms(c,n,i){let s=0;for(let u=0;u<c.position.length;u++){const h=n[u],m=c.position[u];if(s=h.field.isKeyField()?Yt.comparator(Yt.fromName(m.referenceValue),i.key):yi(m,i.data.field(h.field)),"desc"===h.dir&&(s*=-1),0!==s)break}return s}function Us(c,n){if(null===c)return null===n;if(null===n||c.inclusive!==n.inclusive||c.position.length!==n.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!Ur(c.position[i],n.position[i]))return!1;return!0}class Bs{constructor(n,i="asc"){this.field=n,this.dir=i}}function bi(c,n){return c.dir===n.dir&&c.field.isEqual(n.field)}class ua{}class Gr extends ua{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new qr(n,i,s):"array-contains"===i?new Uo(n,s):"in"===i?new Hi(n,s):"not-in"===i?new Ko(n,s):"array-contains-any"===i?new hs(n,s):new Gr(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new on(n,s):new ir(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&void 0===i.nullValue&&this.matchesComparison(yi(i,this.value)):null!==i&&Jn(this.value)===Jn(i)&&this.matchesComparison(yi(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends ua{constructor(n,i){super(),this.filters=n,this.op=i,this.Te=null}static create(n,i){return new Br(n,i)}matches(n){return Ta(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ta(c){return"and"===c.op}function qa(c){return function ba(c){for(const n of c.filters)if(n instanceof Br)return!1;return!0}(c)&&Ta(c)}function Qa(c){if(c instanceof Gr)return c.field.canonicalString()+c.op.toString()+ri(c.value);if(qa(c))return c.filters.map(n=>Qa(n)).join(",");{const n=c.filters.map(i=>Qa(i)).join(",");return`${c.op}(${n})`}}function ka(c,n){return c instanceof Gr?(s=c,(u=n)instanceof Gr&&s.op===u.op&&s.field.isEqual(u.field)&&Ur(s.value,u.value)):c instanceof Br?function(s,u){return u instanceof Br&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((h,m,C)=>h&&ka(m,u.filters[C]),!0)}(c,n):void mt(19439);var s,u}function Go(c){return c instanceof Gr?`${(i=c).field.canonicalString()} ${i.op} ${ri(i.value)}`:c instanceof Br?function(i){return i.op.toString()+" {"+i.getFilters().map(Go).join(" ,")+"}"}(c):"Filter";var i}class qr extends Gr{constructor(n,i,s){super(n,i,s),this.key=Yt.fromName(s.referenceValue)}matches(n){const i=Yt.comparator(n.key,this.key);return this.matchesComparison(i)}}class on extends Gr{constructor(n,i){super(n,"in",i),this.keys=hi(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class ir extends Gr{constructor(n,i){super(n,"not-in",i),this.keys=hi(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function hi(c,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>Yt.fromName(s.referenceValue))}class Uo extends Gr{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return To(i)&&wi(i.arrayValue,this.value)}}class Hi extends Gr{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&wi(this.value.arrayValue,i)}}class Ko extends Gr{constructor(n,i){super(n,"not-in",i)}matches(n){if(wi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&void 0===i.nullValue&&!wi(this.value.arrayValue,i)}}class hs extends Gr{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!To(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>wi(this.value.arrayValue,s))}}class jr{constructor(n,i=null,s=[],u=[],h=null,m=null,C=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=m,this.endAt=C,this.Ie=null}}function P(c,n=null,i=[],s=[],u=null,h=null,m=null){return new jr(c,n,i,s,u,h,m)}function M(c){const n=xt(c);if(null===n.Ie){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>Qa(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(h=s).field.canonicalString()+h.dir;var h}).join(","),Pn(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>ri(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>ri(s)).join(",")),n.Ie=i}return n.Ie}function z(c,n){if(c.limit!==n.limit||c.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!bi(c.orderBy[i],n.orderBy[i]))return!1;if(c.filters.length!==n.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!ka(c.filters[i],n.filters[i]))return!1;return c.collectionGroup===n.collectionGroup&&!!c.path.isEqual(n.path)&&!!Us(c.startAt,n.startAt)&&Us(c.endAt,n.endAt)}function Re(c){return Yt.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}class Bi{constructor(n,i=null,s=[],u=[],h=null,m="F",C=null,N=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=m,this.startAt=C,this.endAt=N,this.Ee=null,this.de=null,this.Ae=null}}function bo(c){return new Bi(c)}function $s(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function Da(c){return null!==c.collectionGroup}function ss(c){const n=xt(c);if(null===n.Ee){n.Ee=[];const i=new Set;for(const h of n.explicitOrderBy)n.Ee.push(h),i.add(h.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(m){let C=new Jr(Zn.comparator);return m.filters.forEach(N=>{N.getFlattenedFilters().forEach(V=>{V.isInequality()&&(C=C.add(V.field))})}),C})(n).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||n.Ee.push(new Bs(h,s))}),i.has(Zn.keyField().canonicalString())||n.Ee.push(new Bs(Zn.keyField(),s))}return n.Ee}function go(c){const n=xt(c);return n.de||(n.de=function Xo(c,n){if("F"===c.limitType)return P(c.path,c.collectionGroup,n,c.filters,c.limit,c.startAt,c.endAt);{n=n.map(u=>new Bs(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new ko(c.endAt.position,c.endAt.inclusive):null,s=c.startAt?new ko(c.startAt.position,c.startAt.inclusive):null;return P(c.path,c.collectionGroup,n,c.filters,c.limit,i,s)}}(n,ss(c))),n.de}function Hs(c,n){const i=c.filters.concat([n]);return new Bi(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function xn(c,n,i){return new Bi(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),n,i,c.startAt,c.endAt)}function la(c,n){return z(go(c),go(n))&&c.limitType===n.limitType}function bs(c){return`${M(go(c))}|lt:${c.limitType}`}function cs(c){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Go(u)).join(", ")}]`),Pn(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(m=u).field.canonicalString()} (${m.dir})`;var m}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>ri(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>ri(u)).join(",")),`Target(${s})`}(go(c))}; limitType=${c.limitType})`}function da(c,n){return n.isFoundDocument()&&function(s,u){const h=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):Yt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(c,n)&&function(s,u){for(const h of ss(s))if(!h.field.isKeyField()&&null===u.data.field(h.field))return!1;return!0}(c,n)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(c,n)&&(u=n,!((s=c).startAt&&!function(m,C,N){const V=Ms(m,C,N);return m.inclusive?V<=0:V<0}(s.startAt,ss(s),u)||s.endAt&&!function(m,C,N){const V=Ms(m,C,N);return m.inclusive?V>=0:V>0}(s.endAt,ss(s),u)));var s,u}function Wi(c){return(n,i)=>{let s=!1;for(const u of ss(c)){const h=H(u,n,i);if(0!==h)return h;s=s||u.field.isKeyField()}return 0}}function H(c,n,i){const s=c.field.isKeyField()?Yt.comparator(n.key,i.key):function(h,m,C){const N=m.data.field(h),V=C.data.field(h);return null!==N&&null!==V?yi(N,V):mt(42886)}(c.field,n,i);switch(c.dir){case"asc":return s;case"desc":return-1*s;default:return mt(19790,{direction:c.dir})}}class _{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,h]of s)if(this.equalsFn(u,n))return h}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],n))return void(u[h]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){fo(this.inner,(i,s)=>{for(const[u,h]of s)n(u,h)})}isEmpty(){return vs(this.inner)}size(){return this.innerSize}}const E=new Kr(Yt.comparator);function R(){return E}const L=new Kr(Yt.comparator);function X(...c){let n=L;for(const i of c)n=n.insert(i.key,i);return n}function Ae(c){let n=L;return c.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function y(){return w()}function T(){return w()}function w(){return new _(c=>c.toString(),(c,n)=>c.isEqual(n))}const S=new Kr(Yt.comparator),F=new Jr(Yt.comparator);function Y(...c){let n=F;for(const i of c)n=n.add(i);return n}const ee=new Jr(Jt);function Ze(c,n){if(c.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yr(n)?"-0":n}}function Gt(c){return{integerValue:""+c}}function qn(c,n){return function oe(c){return"number"==typeof c&&Number.isInteger(c)&&!yr(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}(n)?Gt(n):Ze(c,n)}class Sr{constructor(){this._=void 0}}function Ii(c,n,i){return c instanceof ao?function(u,h){const m={fields:{[Ys]:{stringValue:Xi},[wa]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Vo(h)&&(h=wr(h)),h&&(m.fields[Rs]=h),{mapValue:m}}(i,n):c instanceof Pi?Bo(c,n):c instanceof ws?Js(c,n):function(u,h){const m=no(u,h),C=gc(m)+gc(u.Re);return Ri(m)&&Ri(u.Re)?Gt(C):Ze(u.serializer,C)}(c,n)}function Zi(c,n,i){return c instanceof Pi?Bo(c,n):c instanceof ws?Js(c,n):i}function no(c,n){return c instanceof Oc?Ri(s=n)||(h=s)&&"doubleValue"in h?n:{integerValue:0}:null;var s,h}class ao extends Sr{}class Pi extends Sr{constructor(n){super(),this.elements=n}}function Bo(c,n){const i=zu(n);for(const s of c.elements)i.some(u=>Ur(u,s))||i.push(s);return{arrayValue:{values:i}}}class ws extends Sr{constructor(n){super(),this.elements=n}}function Js(c,n){let i=zu(n);for(const s of c.elements)i=i.filter(u=>!Ur(u,s));return{arrayValue:{values:i}}}class Oc extends Sr{constructor(n,i){super(),this.serializer=n,this.Re=i}}function gc(c){return Lr(c.integerValue||c.doubleValue)}function zu(c){return To(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class Qn{constructor(n,i){this.version=n,this.transformResults=i}}class Mn{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new Mn}static exists(n){return new Mn(void 0,n)}static updateTime(n){return new Mn(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function dr(c,n){return void 0!==c.updateTime?n.isFoundDocument()&&n.version.isEqual(c.updateTime):void 0===c.exists||c.exists===n.isFoundDocument()}class ei{}function Do(c,n){if(!c.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return c.isNoDocument()?new mo(c.key,Mn.none()):new Fa(c.key,c.data,Mn.none());{const i=c.data,s=to.empty();let u=new Jr(Zn.comparator);for(let h of n.fields)if(!u.has(h)){let m=i.field(h);null===m&&h.length>1&&(h=h.popLast(),m=i.field(h)),null===m?s.delete(h):s.set(h,m),u=u.add(h)}return new zs(c.key,s,new Mo(u.toArray()),Mn.none())}}function ha(c,n,i){c instanceof Fa?function(u,h,m){const C=u.value.clone(),N=fa(u.fieldTransforms,h,m.transformResults);C.setAll(N),h.convertToFoundDocument(m.version,C).setHasCommittedMutations()}(c,n,i):c instanceof zs?function(u,h,m){if(!dr(u.precondition,h))return void h.convertToUnknownDocument(m.version);const C=fa(u.fieldTransforms,h,m.transformResults),N=h.data;N.setAll(hr(u)),N.setAll(C),h.convertToFoundDocument(m.version,N).setHasCommittedMutations()}(c,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Qr(c,n,i,s){return c instanceof Fa?function(h,m,C,N){if(!dr(h.precondition,m))return C;const V=h.value.clone(),J=qo(h.fieldTransforms,N,m);return V.setAll(J),m.convertToFoundDocument(m.version,V).setHasLocalMutations(),null}(c,n,i,s):c instanceof zs?function(h,m,C,N){if(!dr(h.precondition,m))return C;const V=qo(h.fieldTransforms,N,m),J=m.data;return J.setAll(hr(h)),J.setAll(V),m.convertToFoundDocument(m.version,J).setHasLocalMutations(),null===C?null:C.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(ue=>ue.field))}(c,n,i,s):(C=i,dr(c.precondition,m=n)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):C);var m,C}function Oa(c,n){let i=null;for(const s of c.fieldTransforms){const u=n.data.field(s.field),h=no(s.transform,u||null);null!=h&&(null===i&&(i=to.empty()),i.set(s.field,h))}return i||null}function ar(c,n){return c.type===n.type&&!!c.key.isEqual(n.key)&&!!c.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=c.fieldTransforms)&&void 0===u||s&&u&&kr(s,u,(h,m)=>function Nl(c,n){return c.field.isEqual(n.field)&&(u=n.transform,(s=c.transform)instanceof Pi&&u instanceof Pi||s instanceof ws&&u instanceof ws?kr(s.elements,u.elements,Ur):s instanceof Oc&&u instanceof Oc?Ur(s.Re,u.Re):s instanceof ao&&u instanceof ao);var s,u}(h,m))))&&(0===c.type?c.value.isEqual(n.value):1!==c.type||c.data.isEqual(n.data)&&c.fieldMask.isEqual(n.fieldMask));var s,u}class Fa extends ei{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class zs extends ei{constructor(n,i,s,u,h=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function hr(c){const n=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=c.data.field(i);n.set(i,s)}}),n}function fa(c,n,i){const s=new Map;tt(c.length===i.length,32656,{Ve:i.length,me:c.length});for(let u=0;u<i.length;u++){const h=c[u],m=h.transform,C=n.data.field(h.field);s.set(h.field,Zi(m,C,i[u]))}return s}function qo(c,n,i){const s=new Map;for(const u of c){const h=u.transform,m=i.data.field(u.field);s.set(u.field,Ii(h,m,n))}return s}class mo extends ei{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class La extends ei{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Va{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(n.key)&&ha(h,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=Qr(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=Qr(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=T();return this.mutations.forEach(u=>{const h=n.get(u.key),m=h.overlayedDocument;let C=this.applyToLocalView(m,h.mutatedFields);C=i.has(u.key)?null:C;const N=Do(m,C);null!==N&&s.set(u.key,N),m.isValidDocument()||m.convertToNoDocument(ln.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),Y())}isEqual(n){return this.batchId===n.batchId&&kr(this.mutations,n.mutations,(i,s)=>ar(i,s))&&kr(this.baseMutations,n.baseMutations,(i,s)=>ar(i,s))}}class ea{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){tt(n.mutations.length===s.length,58842,{fe:n.mutations.length,ge:s.length});let u=function(){return S}();const h=n.mutations;for(let m=0;m<h.length;m++)u=u.insert(h[m].key,s[m].version);return new ea(n,i,s,u)}}class yc{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rh{constructor(n,i){this.count=n,this.unchangedNames=i}}var xo,fi;function Wu(c){if(void 0===c)return Bn("GRPC error has no .code"),Qe.UNKNOWN;switch(c){case xo.OK:return Qe.OK;case xo.CANCELLED:return Qe.CANCELLED;case xo.UNKNOWN:return Qe.UNKNOWN;case xo.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case xo.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case xo.INTERNAL:return Qe.INTERNAL;case xo.UNAVAILABLE:return Qe.UNAVAILABLE;case xo.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case xo.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case xo.NOT_FOUND:return Qe.NOT_FOUND;case xo.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case xo.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case xo.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case xo.ABORTED:return Qe.ABORTED;case xo.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case xo.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case xo.DATA_LOSS:return Qe.DATA_LOSS;default:return mt(39323,{code:c})}}(fi=xo||(xo={}))[fi.OK=0]="OK",fi[fi.CANCELLED=1]="CANCELLED",fi[fi.UNKNOWN=2]="UNKNOWN",fi[fi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fi[fi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fi[fi.NOT_FOUND=5]="NOT_FOUND",fi[fi.ALREADY_EXISTS=6]="ALREADY_EXISTS",fi[fi.PERMISSION_DENIED=7]="PERMISSION_DENIED",fi[fi.UNAUTHENTICATED=16]="UNAUTHENTICATED",fi[fi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fi[fi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fi[fi.ABORTED=10]="ABORTED",fi[fi.OUT_OF_RANGE=11]="OUT_OF_RANGE",fi[fi.UNIMPLEMENTED=12]="UNIMPLEMENTED",fi[fi.INTERNAL=13]="INTERNAL",fi[fi.UNAVAILABLE=14]="UNAVAILABLE",fi[fi.DATA_LOSS=15]="DATA_LOSS";const wf=new De([4294967295,4294967295],0);function cu(c){const n=Yn().encode(c),i=new Ke;return i.update(n),new Uint8Array(i.digest())}function ih(c){const n=new DataView(c.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),h=n.getUint32(12,!0);return[new De([i,s],0),new De([u,h],0)]}class _c{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Xa(`Invalid padding: ${i}`);if(s<0)throw new Xa(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new Xa(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new Xa(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*n.length-i,this.ye=De.fromNumber(this.pe)}we(n,i,s){let u=n.add(i.multiply(De.fromNumber(s)));return 1===u.compare(wf)&&(u=new De([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.pe)return!1;const i=cu(n),[s,u]=ih(i);for(let h=0;h<this.hashCount;h++){const m=this.we(s,u,h);if(!this.Se(m))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,h=new Uint8Array(Math.ceil(n/8)),m=new _c(h,u,i);return s.forEach(C=>m.insert(C)),m}insert(n){if(0===this.pe)return;const i=cu(n),[s,u]=ih(i);for(let h=0;h<this.hashCount;h++){const m=this.we(s,u,h);this.be(m)}}be(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lc{constructor(n,i,s,u,h){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,na.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new Lc(ln.min(),u,new Kr(Jt),R(),Y())}}class na{constructor(n,i,s,u,h){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new na(s,i,Y(),Y(),Y())}}class vc{constructor(n,i,s,u){this.De=n,this.removedTargetIds=i,this.key=s,this.ve=u}}class kl{constructor(n,i){this.targetId=n,this.Ce=i}}class If{constructor(n,i,s=Vi.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Dr{constructor(){this.Fe=0,this.Me=Ol(),this.xe=Vi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(n){n.approximateByteSize()>0&&(this.Ne=!0,this.xe=n)}qe(){let n=Y(),i=Y(),s=Y();return this.Me.forEach((u,h)=>{switch(h){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:mt(38017,{changeType:h})}}),new na(this.xe,this.Oe,n,i,s)}Qe(){this.Ne=!1,this.Me=Ol()}$e(n,i){this.Ne=!0,this.Me=this.Me.insert(n,i)}Ue(n){this.Ne=!0,this.Me=this.Me.remove(n)}Ke(){this.Fe+=1}We(){this.Fe-=1,tt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xl{constructor(n){this.ze=n,this.je=new Map,this.He=R(),this.Je=Ua(),this.Ye=Ua(),this.Ze=new Kr(Jt)}Xe(n){for(const i of n.De)n.ve&&n.ve.isFoundDocument()?this.et(i,n.ve):this.tt(i,n.key,n.ve);for(const i of n.removedTargetIds)this.tt(i,n.key,n.ve)}nt(n){this.forEachTarget(n,i=>{const s=this.rt(i);switch(n.state){case 0:this.it(i)&&s.ke(n.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(n.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(n.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(n.resumeToken));break;default:mt(56790,{state:n.state})}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.je.forEach((s,u)=>{this.it(u)&&i(u)})}ot(n){const i=n.targetId,s=n.Ce.count,u=this._t(i);if(u){const h=u.target;if(Re(h))if(0===s){const m=new Yt(h.path);this.tt(i,m,di.newNoDocument(m,ln.min()))}else tt(1===s,20013,{expectedCount:s});else{const m=this.ut(i);if(m!==s){const C=this.ct(n),N=C?this.lt(C,n,m):1;0!==N&&(this.st(i),this.Ze=this.Ze.insert(i,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ct(n){const i=n.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let m,C;try{m=Er(s).toUint8Array()}catch(N){if(N instanceof us)return kn("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{C=new _c(m,u,h)}catch(N){return kn(N instanceof Xa?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===C.pe?null:C}lt(n,i,s){return i.Ce.count===s-this.Tt(n,i.targetId)?0:2}Tt(n,i){const s=this.ze.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const m=this.ze.Pt(),C=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;n.mightContain(C)||(this.tt(i,h,null),u++)}),u}It(n){const i=new Map;this.je.forEach((h,m)=>{const C=this._t(m);if(C){if(h.current&&Re(C.target)){const N=new Yt(C.target.path);this.Et(N).has(m)||this.dt(m,N)||this.tt(m,N,di.newNoDocument(N,n))}h.Le&&(i.set(m,h.qe()),h.Qe())}});let s=Y();this.Ye.forEach((h,m)=>{let C=!0;m.forEachWhile(N=>{const V=this._t(N);return!V||"TargetPurposeLimboResolution"===V.purpose||(C=!1,!1)}),C&&(s=s.add(h))}),this.He.forEach((h,m)=>m.setReadTime(n));const u=new Lc(n,i,this.Ze,this.He,s);return this.He=R(),this.Je=Ua(),this.Ye=Ua(),this.Ze=new Kr(Jt),u}et(n,i){if(!this.it(n))return;const s=this.dt(n,i.key)?2:0;this.rt(n).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(n)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(n))}tt(n,i,s){if(!this.it(n))return;const u=this.rt(n);this.dt(n,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(n)),this.Ye=this.Ye.insert(i,this.At(i).add(n)),s&&(this.He=this.He.insert(i,s))}removeTarget(n){this.je.delete(n)}ut(n){const i=this.rt(n).qe();return this.ze.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}Ke(n){this.rt(n).Ke()}rt(n){let i=this.je.get(n);return i||(i=new Dr,this.je.set(n,i)),i}At(n){let i=this.Ye.get(n);return i||(i=new Jr(Jt),this.Ye=this.Ye.insert(n,i)),i}Et(n){let i=this.Je.get(n);return i||(i=new Jr(Jt),this.Je=this.Je.insert(n,i)),i}it(n){const i=null!==this._t(n);return i||lt("WatchChangeAggregator","Detected inactive target",n),i}_t(n){const i=this.je.get(n);return i&&i.Be?null:this.ze.Rt(n)}st(n){this.je.set(n,new Dr),this.ze.getRemoteKeysForTarget(n).forEach(i=>{this.tt(n,i,null)})}dt(n,i){return this.ze.getRemoteKeysForTarget(n).has(i)}}function Ua(){return new Kr(Yt.comparator)}function Ol(){return new Kr(Yt.comparator)}const $y={asc:"ASCENDING",desc:"DESCENDING"},Eg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oh={and:"AND",or:"OR"};class Tf{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function Ca(c,n){return c.useProto3Json||Pn(n)?n:{value:n}}function Gu(c,n){return c.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Fl(c,n){return c.useProto3Json?n.toBase64():n.toUint8Array()}function Hy(c,n){return Gu(c,n.toTimestamp())}function Oo(c){return tt(!!c,49232),ln.fromTimestamp(function(i){const s=No(i);return new pr(s.seconds,s.nanos)}(c))}function Ku(c,n){return kt(c,n).canonicalString()}function kt(c,n){const i=(u=c,new pt(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function Ir(c){const n=pt.fromString(c);return tt(Bl(n),10190,{key:n.toString()}),n}function Ec(c,n){return Ku(c.databaseId,n.path)}function ra(c,n){const i=Ir(n);if(i.get(1)!==c.databaseId.projectId)throw new ne(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new ne(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new Yt(Ws(i))}function $r(c,n){return Ku(c.databaseId,n)}function ia(c){return new pt(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Ws(c){return tt(c.length>4&&"documents"===c.get(4),29091,{key:c.toString()}),c.popFirst(5)}function Ll(c,n,i){return{name:Ec(c,n),fields:i.value.mapValue.fields}}function Vc(c,n){return{documents:[$r(c,n.path)]}}function Is(c,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=$r(c,u);const h=function(V){if(0!==V.length)return lu(Br.create(V,"and"))}(n.filters);h&&(i.structuredQuery.where=h);const m=function(V){if(0!==V.length)return V.map(J=>{return{field:wc((Ve=J).field),direction:Ig(Ve.dir)};var Ve})}(n.orderBy);m&&(i.structuredQuery.orderBy=m);const C=Ca(c,n.limit);return null!==C&&(i.structuredQuery.limit=C),n.startAt&&(i.structuredQuery.startAt={before:(V=n.startAt).inclusive,values:V.position}),n.endAt&&(i.structuredQuery.endAt=function(V){return{before:!V.inclusive,values:V.position}}(n.endAt)),{gt:i,parent:u};var V}function Cf(c){let n=function bf(c){const n=Ir(c);return 4===n.length?pt.emptyPath():Ws(n)}(c.parent);const i=c.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){tt(1===s,65062);const J=i.from[0];J.allDescendants?u=J.collectionId:n=n.child(J.collectionId)}let h=[];i.where&&(h=function(ue){const Ve=ga(ue);return Ve instanceof Br&&qa(Ve)?Ve.getFilters():[Ve]}(i.where));let m=[];i.orderBy&&(m=i.orderBy.map(Ve=>{return new Bs(Ba((Wt=Ve).field),function(cn){switch(cn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Wt.direction));var Wt}));let C=null;i.limit&&(C=function(ue){let Ve;return Ve="object"==typeof ue?ue.value:ue,Pn(Ve)?null:Ve}(i.limit));let N=null;var ue;i.startAt&&(N=new ko((ue=i.startAt).values||[],!!ue.before));let V=null;return i.endAt&&(V=function(ue){return new ko(ue.values||[],!ue.before)}(i.endAt)),function zi(c,n,i,s,u,h,m,C){return new Bi(c,n,i,s,u,h,m,C)}(n,u,m,h,C,"F",N,V)}function ga(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ba(i.unaryFilter.field);return Gr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Ba(i.unaryFilter.field);return Gr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ba(i.unaryFilter.field);return Gr.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Ba(i.unaryFilter.field);return Gr.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}}(c):void 0!==c.fieldFilter?Gr.create(Ba((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return Br.create(i.compositeFilter.filters.map(s=>ga(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return mt(1026)}}(i.compositeFilter.op))}(c):mt(30097,{filter:c});var i}function Ig(c){return $y[c]}function uu(c){return Eg[c]}function Tg(c){return oh[c]}function wc(c){return{fieldPath:c.canonicalString()}}function Ba(c){return Zn.fromServerFormat(c.fieldPath)}function lu(c){return c instanceof Gr?function(i){if("=="===i.op){if(po(i.value))return{unaryFilter:{field:wc(i.field),op:"IS_NAN"}};if(ii(i.value))return{unaryFilter:{field:wc(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(po(i.value))return{unaryFilter:{field:wc(i.field),op:"IS_NOT_NAN"}};if(ii(i.value))return{unaryFilter:{field:wc(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(i.field),op:uu(i.op),value:i.value}}}(c):c instanceof Br?function(i){const s=i.getFilters().map(u=>lu(u));return 1===s.length?s[0]:{compositeFilter:{op:Tg(i.op),filters:s}}}(c):mt(54877,{filter:c})}function qu(c){const n=[];return c.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Bl(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class Za{constructor(n,i,s,u,h=ln.min(),m=ln.min(),C=Vi.EMPTY_BYTE_STRING,N=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=C,this.expectedCount=N}withSequenceNumber(n){return new Za(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class jl{constructor(n){this.wt=n}}function Ja(c){const n=Cf({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?xn(n,n.limit,"L"):n}class Ic{constructor(){}vt(n,i){this.Ct(n,i),i.Ft()}Ct(n,i){if("nullValue"in n)this.Mt(i,5);else if("booleanValue"in n)this.Mt(i,10),i.xt(n.booleanValue?1:0);else if("integerValue"in n)this.Mt(i,15),i.xt(Lr(n.integerValue));else if("doubleValue"in n){const s=Lr(n.doubleValue);isNaN(s)?this.Mt(i,13):(this.Mt(i,15),yr(s)?i.xt(0):i.xt(s))}else if("timestampValue"in n){let s=n.timestampValue;this.Mt(i,20),"string"==typeof s&&(s=No(s)),i.Ot(`${s.seconds||""}`),i.xt(s.nanos||0)}else if("stringValue"in n)this.Nt(n.stringValue,i),this.Bt(i);else if("bytesValue"in n)this.Mt(i,30),i.Lt(Er(n.bytesValue)),this.Bt(i);else if("referenceValue"in n)this.kt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.Mt(i,45),i.xt(s.latitude||0),i.xt(s.longitude||0)}else"mapValue"in n?Ia(n)?this.Mt(i,Number.MAX_SAFE_INTEGER):ls(n)?this.qt(n.mapValue,i):(this.Qt(n.mapValue,i),this.Bt(i)):"arrayValue"in n?(this.$t(n.arrayValue,i),this.Bt(i)):mt(19022,{Ut:n})}Nt(n,i){this.Mt(i,25),this.Kt(n,i)}Kt(n,i){i.Ot(n)}Qt(n,i){const s=n.fields||{};this.Mt(i,55);for(const u of Object.keys(s))this.Nt(u,i),this.Ct(s[u],i)}qt(n,i){var s,u;const h=n.fields||{};this.Mt(i,53);const m=mn,C=(null===(u=null===(s=h[m].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.Mt(i,15),i.xt(Lr(C)),this.Nt(m,i),this.Ct(h[m],i)}$t(n,i){const s=n.values||[];this.Mt(i,50);for(const u of s)this.Ct(u,i)}kt(n,i){this.Mt(i,37),Yt.fromName(n).path.forEach(s=>{this.Mt(i,60),this.Kt(s,i)})}Mt(n,i){n.xt(i)}Bt(n){n.xt(2)}}Ic.Wt=new Ic;class el{constructor(){this.Cn=new dh}addToCollectionParentIndex(n,i){return this.Cn.add(i),je.resolve()}getCollectionParents(n,i){return je.resolve(this.Cn.getEntries(i))}addFieldIndex(n,i){return je.resolve()}deleteFieldIndex(n,i){return je.resolve()}deleteAllFieldIndexes(n){return je.resolve()}createTargetIndexes(n,i){return je.resolve()}getDocumentsMatchingTarget(n,i){return je.resolve(null)}getIndexType(n,i){return je.resolve(0)}getFieldIndexes(n,i){return je.resolve([])}getNextCollectionGroupToUpdate(n){return je.resolve(null)}getMinOffset(n,i){return je.resolve(fr.min())}getMinOffsetFromCollectionGroup(n,i){return je.resolve(fr.min())}updateCollectionGroup(n,i,s){return je.resolve()}updateIndexEntries(n,i){return je.resolve()}}class dh{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new Jr(pt.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new Jr(pt.comparator)).toArray()}}new Uint8Array(0);const Ff={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zo{static withCacheSize(n){return new Zo(n,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Zo.DEFAULT_COLLECTION_PERCENTILE=10,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zo.DEFAULT=new Zo(41943040,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zo.DISABLED=new Zo(-1,0,0);class zc{constructor(n){this.ur=n}next(){return this.ur+=2,this.ur}static cr(){return new zc(0)}static lr(){return new zc(-1)}}const Xl="LruGarbageCollector";function oc([c,n],[i,s]){const u=Jt(c,i);return 0===u?Jt(n,s):u}class Wc{constructor(n){this.Er=n,this.buffer=new Jr(oc),this.dr=0}Ar(){return++this.dr}Rr(n){const i=[n,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();oc(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Fo{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(n){var i=this;lt(Xl,`Garbage collection scheduled in ${n}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,I.A)(function*(){i.Vr=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){br(s)?lt(Xl,"Ignoring IndexedDB error during garbage collection: ",s):yield Gn(s)}yield i.mr(3e5)}))}}class bg{constructor(n,i){this.gr=n,this.params=i}calculateTargetCount(n,i){return this.gr.pr(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return je.resolve(nt.le);const s=new Wc(i);return this.gr.forEachTarget(n,u=>s.Rr(u.sequenceNumber)).next(()=>this.gr.yr(n,u=>s.Rr(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.gr.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.gr.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(Ff)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ff):this.wr(n,i))}getCacheSize(n){return this.gr.getCacheSize(n)}wr(n,i){let s,u,h,m,C,N,V;const J=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(ue=>(ue>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ue}`),u=this.params.maximumSequenceNumbersToCollect):u=ue,m=Date.now(),this.nthSequenceNumber(n,u))).next(ue=>(s=ue,C=Date.now(),this.removeTargets(n,s,i))).next(ue=>(h=ue,N=Date.now(),this.removeOrphanedDocuments(n,s))).next(ue=>(V=Date.now(),Xt()<=$.$b.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-J}ms\n\tDetermined least recently used ${u} in `+(C-m)+`ms\n\tRemoved ${h} targets in `+(N-C)+`ms\n\tRemoved ${ue} documents in `+(V-N)+`ms\nTotal Duration: ${V-J}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:ue})))}}class mh{constructor(){this.changes=new _(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,di.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?je.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Ht{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class yn{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&Qr(s.mutation,u,Mo.empty(),pr.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,Y()).next(()=>s))}getLocalViewOfDocuments(n,i,s=Y()){const u=y();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(h=>{let m=X();return h.forEach((C,N)=>{m=m.insert(C,N.overlayedDocument)}),m}))}getOverlayedDocuments(n,i){const s=y();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,Y()))}populateOverlays(n,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(n,u).next(h=>{h.forEach((m,C)=>{i.set(m,C)})})}computeViews(n,i,s,u){let h=R();const m=w(),C=w();return i.forEach((N,V)=>{const J=s.get(V.key);u.has(V.key)&&(void 0===J||J.mutation instanceof zs)?h=h.insert(V.key,V):void 0!==J?(m.set(V.key,J.mutation.getFieldMask()),Qr(J.mutation,V,J.mutation.getFieldMask(),pr.now())):m.set(V.key,Mo.empty())}),this.recalculateAndSaveOverlays(n,h).next(N=>(N.forEach((V,J)=>m.set(V,J)),i.forEach((V,J)=>{var ue;return C.set(V,new Ht(J,null!==(ue=m.get(V))&&void 0!==ue?ue:null))}),C))}recalculateAndSaveOverlays(n,i){const s=w();let u=new Kr((m,C)=>m-C),h=Y();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(m=>{for(const C of m)C.keys().forEach(N=>{const V=i.get(N);if(null===V)return;let J=s.get(N)||Mo.empty();J=C.applyToLocalView(V,J),s.set(N,J);const ue=(u.get(C.batchId)||Y()).add(N);u=u.insert(C.batchId,ue)})}).next(()=>{const m=[],C=u.getReverseIterator();for(;C.hasNext();){const N=C.getNext(),V=N.key,J=N.value,ue=T();J.forEach(Ve=>{if(!h.has(Ve)){const At=Do(i.get(Ve),s.get(Ve));null!==At&&ue.set(Ve,At),h=h.add(Ve)}}),m.push(this.documentOverlayCache.saveOverlays(n,V,ue))}return je.waitFor(m)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return Yt.isDocumentKey((m=i).path)&&null===m.collectionGroup&&0===m.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Da(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var m}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(h=>{const m=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-h.size):je.resolve(y());let C=-1,N=h;return m.next(V=>je.forEach(V,(J,ue)=>(C<ue.largestBatchId&&(C=ue.largestBatchId),h.get(J)?je.resolve():this.remoteDocumentCache.getEntry(n,J).next(Ve=>{N=N.insert(J,Ve)}))).next(()=>this.populateOverlays(n,V,h)).next(()=>this.computeViews(n,N,V,Y())).next(J=>({batchId:C,changes:Ae(J)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Yt(i)).next(s=>{let u=X();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const h=i.collectionGroup;let m=X();return this.indexManager.getCollectionParents(n,h).next(C=>je.forEach(C,N=>{const V=(ue=i,Ve=N.child(h),new Bi(Ve,null,ue.explicitOrderBy.slice(),ue.filters.slice(),ue.limit,ue.limitType,ue.startAt,ue.endAt));var ue,Ve;return this.getDocumentsMatchingCollectionQuery(n,V,s,u).next(J=>{J.forEach((ue,Ve)=>{m=m.insert(ue,Ve)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(n,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,h,u))).next(m=>{h.forEach((N,V)=>{const J=V.getKey();null===m.get(J)&&(m=m.insert(J,di.newInvalidDocument(J)))});let C=X();return m.forEach((N,V)=>{const J=h.get(N);void 0!==J&&Qr(J.mutation,V,Mo.empty(),pr.now()),da(i,V)&&(C=C.insert(N,V))}),C})}}class Hn{constructor(n){this.serializer=n,this.kr=new Map,this.qr=new Map}getBundleMetadata(n,i){return je.resolve(this.kr.get(i))}saveBundleMetadata(n,i){return this.kr.set(i.id,{id:(u=i).id,version:u.version,createTime:Oo(u.createTime)}),je.resolve();var u}getNamedQuery(n,i){return je.resolve(this.qr.get(i))}saveNamedQuery(n,i){return this.qr.set(i.name,{name:(u=i).name,query:Ja(u.bundledQuery),readTime:Oo(u.readTime)}),je.resolve();var u}}class Wn{constructor(){this.overlays=new Kr(Yt.comparator),this.Qr=new Map}getOverlay(n,i){return je.resolve(this.overlays.get(i))}getOverlays(n,i){const s=y();return je.forEach(i,u=>this.getOverlay(n,u).next(h=>{null!==h&&s.set(u,h)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,h)=>{this.bt(n,i,h)}),je.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.Qr.get(s);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),je.resolve()}getOverlaysForCollection(n,i,s){const u=y(),h=i.length+1,m=new Yt(i.child("")),C=this.overlays.getIteratorFrom(m);for(;C.hasNext();){const N=C.getNext().value,V=N.getKey();if(!i.isPrefixOf(V.path))break;V.path.length===h&&N.largestBatchId>s&&u.set(N.getKey(),N)}return je.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let h=new Kr((V,J)=>V-J);const m=this.overlays.getIterator();for(;m.hasNext();){const V=m.getNext().value;if(V.getKey().getCollectionGroup()===i&&V.largestBatchId>s){let J=h.get(V.largestBatchId);null===J&&(J=y(),h=h.insert(V.largestBatchId,J)),J.set(V.getKey(),V)}}const C=y(),N=h.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((V,J)=>C.set(V,J)),!(C.size()>=u)););return je.resolve(C)}bt(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const m=this.Qr.get(u.largestBatchId).delete(s.key);this.Qr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(s.key,new yc(i,s));let h=this.Qr.get(i);void 0===h&&(h=Y(),this.Qr.set(i,h)),this.Qr.set(i,h.add(s.key))}}class Mr{constructor(){this.sessionToken=Vi.EMPTY_BYTE_STRING}getSessionToken(n){return je.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,je.resolve()}}class Ao{constructor(){this.$r=new Jr(Yi.Ur),this.Kr=new Jr(Yi.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(n,i){const s=new Yi(n,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.zr(new Yi(n,i))}jr(n,i){n.forEach(s=>this.removeReference(s,i))}Hr(n){const i=new Yt(new pt([])),s=new Yi(i,n),u=new Yi(i,n+1),h=[];return this.Kr.forEachInRange([s,u],m=>{this.zr(m),h.push(m.key)}),h}Jr(){this.$r.forEach(n=>this.zr(n))}zr(n){this.$r=this.$r.delete(n),this.Kr=this.Kr.delete(n)}Yr(n){const i=new Yt(new pt([])),s=new Yi(i,n),u=new Yi(i,n+1);let h=Y();return this.Kr.forEachInRange([s,u],m=>{h=h.add(m.key)}),h}containsKey(n){const i=new Yi(n,0),s=this.$r.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class Yi{constructor(n,i){this.key=n,this.Zr=i}static Ur(n,i){return Yt.comparator(n.key,i.key)||Jt(n.Zr,i.Zr)}static Wr(n,i){return Jt(n.Zr,i.Zr)||Yt.comparator(n.key,i.key)}}class Gc{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Jr(Yi.Ur)}checkEmpty(n){return je.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const h=this.nr;this.nr++;const m=new Va(h,i,s,u);this.mutationQueue.push(m);for(const C of u)this.Xr=this.Xr.add(new Yi(C.key,h)),this.indexManager.addToCollectionParentIndex(n,C.key.path.popLast());return je.resolve(m)}lookupMutationBatch(n,i){return je.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.ti(i+1),h=u<0?0:u;return je.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(0===this.mutationQueue.length?-1:this.nr-1)}getAllMutationBatches(n){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new Yi(i,0),u=new Yi(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,u],m=>{const C=this.ei(m.Zr);h.push(C)}),je.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Jr(Jt);return i.forEach(u=>{const h=new Yi(u,0),m=new Yi(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,m],C=>{s=s.add(C.Zr)})}),je.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let h=s;Yt.isDocumentKey(h)||(h=h.child(""));const m=new Yi(new Yt(h),0);let C=new Jr(Jt);return this.Xr.forEachWhile(N=>{const V=N.key.path;return!!s.isPrefixOf(V)&&(V.length===u&&(C=C.add(N.Zr)),!0)},m),je.resolve(this.ni(C))}ni(n){const i=[];return n.forEach(s=>{const u=this.ei(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){tt(0===this.ri(i.batchId,"removed"),55003),this.mutationQueue.shift();let s=this.Xr;return je.forEach(i.mutations,u=>{const h=new Yi(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.Xr=s})}sr(n){}containsKey(n,i){const s=new Yi(i,0),u=this.Xr.firstAfterOrEqual(s);return je.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return je.resolve()}ri(n,i){return this.ti(n)}ti(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}ei(n){const i=this.ti(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Jl{constructor(n){this.ii=n,this.docs=new Kr(Yt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,m=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return je.resolve(s?s.document.mutableCopy():di.newInvalidDocument(i))}getEntries(n,i){let s=R();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():di.newInvalidDocument(u))}),je.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let h=R();const m=i.path,C=new Yt(m.child("__id-9223372036854775808__")),N=this.docs.getIteratorFrom(C);for(;N.hasNext();){const{key:V,value:{document:J}}=N.getNext();if(!m.isPrefixOf(V.path))break;V.path.length>m.length+1||Sn(new fr((c=J).readTime,c.key,-1),s)<=0||(u.has(J.key)||da(i,J))&&(h=h.insert(J.key,J.mutableCopy()))}var c;return je.resolve(h)}getAllFromCollectionGroup(n,i,s,u){mt(9500)}si(n,i){return je.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new fs(this)}getSize(n){return je.resolve(this.size)}}class fs extends mh{constructor(n){super(),this.Br=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(n,u)):this.Br.removeEntry(s)}),je.waitFor(i)}getFromCache(n,i){return this.Br.getEntry(n,i)}getAllFromCache(n,i){return this.Br.getEntries(n,i)}}class Dg{constructor(n){this.persistence=n,this.oi=new _(i=>M(i),z),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this._i=0,this.ai=new Ao,this.targetCount=0,this.ui=zc.cr()}forEachTarget(n,i){return this.oi.forEach((s,u)=>i(u)),je.resolve()}getLastRemoteSnapshotVersion(n){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return je.resolve(this._i)}allocateTargetId(n){return this.highestTargetId=this.ui.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),je.resolve()}Tr(n){this.oi.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.ui=new zc(i),this.highestTargetId=i),n.sequenceNumber>this._i&&(this._i=n.sequenceNumber)}addTargetData(n,i){return this.Tr(i),this.targetCount+=1,je.resolve()}updateTargetData(n,i){return this.Tr(i),je.resolve()}removeTargetData(n,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,je.resolve()}removeTargets(n,i,s){let u=0;const h=[];return this.oi.forEach((m,C)=>{C.sequenceNumber<=i&&null===s.get(C.targetId)&&(this.oi.delete(m),h.push(this.removeMatchingKeysForTargetId(n,C.targetId)),u++)}),je.waitFor(h).next(()=>u)}getTargetCount(n){return je.resolve(this.targetCount)}getTargetData(n,i){const s=this.oi.get(i)||null;return je.resolve(s)}addMatchingKeys(n,i,s){return this.ai.Gr(i,s),je.resolve()}removeMatchingKeys(n,i,s){this.ai.jr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(m=>{h.push(u.markPotentiallyOrphaned(n,m))}),je.waitFor(h)}removeMatchingKeysForTargetId(n,i){return this.ai.Hr(i),je.resolve()}getMatchingKeysForTargetId(n,i){const s=this.ai.Yr(i);return je.resolve(s)}containsKey(n,i){return je.resolve(this.ai.containsKey(i))}}class tl{constructor(n,i){this.ci={},this.overlays={},this.li=new nt(0),this.hi=!1,this.hi=!0,this.Pi=new Mr,this.referenceDelegate=n(this),this.Ti=new Dg(this),this.indexManager=new el,this.remoteDocumentCache=new Jl(s=>this.referenceDelegate.Ii(s)),this.serializer=new jl(i),this.Ei=new Hn(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new Wn,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.ci[n.toKey()];return s||(s=new Gc(i,this.referenceDelegate),this.ci[n.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(n,i,s){lt("MemoryPersistence","Starting transaction:",n);const u=new Ag(this.li.next());return this.referenceDelegate.di(),s(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(n,i){return je.or(Object.values(this.ci).map(s=>()=>s.containsKey(n,i)))}}class Ag extends Or{constructor(n){super(),this.currentSequenceNumber=n}}class yu{constructor(n){this.persistence=n,this.Vi=new Ao,this.mi=null}static fi(n){return new yu(n)}get gi(){if(this.mi)return this.mi;throw mt(60996)}addReference(n,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),je.resolve()}removeReference(n,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),je.resolve()}markPotentiallyOrphaned(n,i){return this.gi.add(i.toString()),je.resolve()}removeTarget(n,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(n,i))}di(){this.mi=new Set}Ai(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.gi,s=>{const u=Yt.fromPath(s);return this.pi(n,u).next(h=>{h||i.removeEntry(u,ln.min())})}).next(()=>(this.mi=null,i.apply(n)))}updateLimboDocument(n,i){return this.pi(n,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(n){return 0}pi(n,i){return je.or([()=>je.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Ri(n,i)])}}class Ns{constructor(n,i){this.persistence=n,this.yi=new _(s=>function Pe(c){let n="";for(let i=0;i<c.length;i++)n.length>0&&(n=Ct(n)),n=gt(c.get(i),n);return Ct(n)}(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=function Zl(c,n){return new bg(c,n)}(this,i)}static fi(n,i){return new Ns(n,i)}di(){}Ai(n){return je.resolve()}forEachTarget(n,i){return this.persistence.getTargetCache().forEachTarget(n,i)}pr(n){const i=this.Sr(n);return this.persistence.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}Sr(n){let i=0;return this.yr(n,s=>{i++}).next(()=>i)}yr(n,i){return je.forEach(this.yi,(s,u)=>this.Dr(n,s,u).next(h=>h?je.resolve():i(u)))}removeTargets(n,i,s){return this.persistence.getTargetCache().removeTargets(n,i,s)}removeOrphanedDocuments(n,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(n,m=>this.Dr(n,m,i).next(C=>{C||(s++,h.removeEntry(m,ln.min()))})).next(()=>h.apply(n)).next(()=>s)}markPotentiallyOrphaned(n,i){return this.yi.set(i,n.currentSequenceNumber),je.resolve()}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,s)}addReference(n,i,s){return this.yi.set(s,n.currentSequenceNumber),je.resolve()}removeReference(n,i,s){return this.yi.set(s,n.currentSequenceNumber),je.resolve()}updateLimboDocument(n,i){return this.yi.set(i,n.currentSequenceNumber),je.resolve()}Ii(n){let i=n.key.toString().length;return n.isFoundDocument()&&(i+=so(n.data.value)),i}Dr(n,i,s){return je.or([()=>this.persistence.Ri(n,i),()=>this.persistence.getTargetCache().containsKey(n,i),()=>{const u=this.yi.get(i);return je.resolve(void 0!==u&&u>s)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}class rl{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.ds=s,this.As=u}static Rs(n,i){let s=Y(),u=Y();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new rl(n,i.fromCache,s,u)}}class Gy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Cg{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(0,Me.nr)()?8:function xi(c){const n=c.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}((0,Me.ZQ)())>0?6:4}initialize(n,i){this.ys=n,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(n,i,s,u){const h={result:null};return this.ws(n,i).next(m=>{h.result=m}).next(()=>{if(!h.result)return this.Ss(n,i,u,s).next(m=>{h.result=m})}).next(()=>{if(h.result)return;const m=new Gy;return this.bs(n,i,m).next(C=>{if(h.result=C,this.fs)return this.Ds(n,i,m,C.size)})}).next(()=>h.result)}Ds(n,i,s,u){return s.documentReadCount<this.gs?(Xt()<=$.$b.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",cs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),je.resolve()):(Xt()<=$.$b.DEBUG&&lt("QueryEngine","Query:",cs(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ps*u?(Xt()<=$.$b.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",cs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,go(i))):je.resolve())}ws(n,i){if($s(i))return je.resolve(null);let s=go(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=xn(i,null,"F"),s=go(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(h=>{const m=Y(...h);return this.ys.getDocuments(n,m).next(C=>this.indexManager.getMinOffset(n,s).next(N=>{const V=this.vs(i,C);return this.Cs(i,V,m,N.readTime)?this.ws(n,xn(i,null,"F")):this.Fs(n,V,i,N)}))})))}Ss(n,i,s,u){return $s(i)||u.isEqual(ln.min())?je.resolve(null):this.ys.getDocuments(n,s).next(h=>{const m=this.vs(i,h);return this.Cs(i,m,s,u)?je.resolve(null):(Xt()<=$.$b.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),cs(i)),this.Fs(n,m,i,function sr(c,n){const i=c.toTimestamp().seconds,s=c.toTimestamp().nanoseconds+1,u=ln.fromTimestamp(1e9===s?new pr(i+1,0):new pr(i,s));return new fr(u,Yt.empty(),n)}(u,-1)).next(C=>C))})}vs(n,i){let s=new Jr(Wi(n));return i.forEach((u,h)=>{da(n,h)&&(s=s.add(h))}),s}Cs(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const h="F"===n.limitType?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}bs(n,i,s){return Xt()<=$.$b.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",cs(i)),this.ys.getDocumentsMatchingQuery(n,i,fr.min(),s)}Fs(n,i,s,u){return this.ys.getDocumentsMatchingQuery(n,s,u).next(h=>(i.forEach(m=>{h=h.insert(m.key,m)}),h))}}const Ky="LocalStore";class Hf{constructor(n,i,s,u){this.persistence=n,this.Ms=i,this.serializer=u,this.xs=new Kr(Jt),this.Os=new _(h=>M(h),z),this.Ns=new Map,this.Bs=n.getRemoteDocumentCache(),this.Ti=n.getTargetCache(),this.Ei=n.getBundleCache(),this.Ls(s)}Ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new yn(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.xs))}}function yo(c,n){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,I.A)(function*(c,n){const i=xt(c);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.Ls(n),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const m=[],C=[];let N=Y();for(const V of u){m.push(V.batchId);for(const J of V.mutations)N=N.add(J.key)}for(const V of h){C.push(V.batchId);for(const J of V.mutations)N=N.add(J.key)}return i.localDocuments.getDocuments(s,N).next(V=>({ks:V,removedBatchIds:m,addedBatchIds:C}))})})})).apply(this,arguments)}function Qy(c){const n=xt(c);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ti.getLastRemoteSnapshotVersion(i))}function Xy(c,n){const i=xt(c);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function _u(c,n,i){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,I.A)(function*(c,n,i){const s=xt(c),u=s.xs.get(n),h=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",h,m=>s.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!br(m))throw m;lt(Ky,`Failed to update sequence numbers for target ${n}: ${m}`)}s.xs=s.xs.remove(n),s.Os.delete(u.target)})).apply(this,arguments)}function Wf(c,n,i){const s=xt(c);let u=ln.min(),h=Y();return s.persistence.runTransaction("Execute query","readwrite",m=>function(N,V,J){const ue=xt(N),Ve=ue.Os.get(J);return void 0!==Ve?je.resolve(ue.xs.get(Ve)):ue.Ti.getTargetData(V,J)}(s,m,go(n)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(m,C.targetId).next(N=>{h=N})}).next(()=>s.Ms.getDocumentsMatchingQuery(m,n,i?u:ln.min(),i?h:Y())).next(C=>(function ac(c,n,i){let s=c.Ns.get(n)||ln.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),c.Ns.set(n,s)}(s,function Aa(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}(n),C),{documents:C,$s:h})))}class qf{constructor(){this.activeTargetIds=function Oe(){return ee}()}js(n){this.activeTargetIds=this.activeTargetIds.add(n)}Hs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}zs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class n_{constructor(){this.xo=new qf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n,i=!0){return i&&this.xo.js(n),this.Oo[n]||"not-current"}updateQueryState(n,i,s){this.Oo[n]=i}removeLocalQueryTarget(n){this.xo.Hs(n)}isLocalQueryTarget(n){return this.xo.activeTargetIds.has(n)}clearQueryState(n){delete this.Oo[n]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(n){return this.xo.activeTargetIds.has(n)}start(){return this.xo=new qf,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class vh{No(n){}shutdown(){}}const r_="ConnectivityMonitor";class Qf{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(n){this.Qo.push(n)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){lt(r_,"Network connectivity changed: AVAILABLE");for(const n of this.Qo)n(0)}qo(){lt(r_,"Network connectivity changed: UNAVAILABLE");for(const n of this.Qo)n(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Eh=null;function al(){return null===Eh?Eh=268435456+Math.round(2147483648*Math.random()):Eh++,"0x"+Eh.toString(16)}const cl="RestConnection",i_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xf{get Uo(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+n.host,this.Wo=`projects/${s}/databases/${u}`,this.Go=this.databaseId.database===we?`project_id=${s}`:`project_id=${s}&database_id=${u}`}zo(n,i,s,u,h){const m=al(),C=this.jo(n,i.toUriEncodedString());lt(cl,`Sending RPC '${n}' ${m}:`,C,s);const N={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(N,u,h);const{host:V}=new URL(C),J=(0,Me.zJ)(V);return this.Jo(n,C,N,s,J).then(ue=>(lt(cl,`Received RPC '${n}' ${m}: `,ue),ue),ue=>{throw kn(cl,`RPC '${n}' ${m} failed with error: `,ue,"url: ",C,"request:",s),ue})}Yo(n,i,s,u,h,m){return this.zo(n,i,s,u,h)}Ho(n,i,s){n["X-Goog-Api-Client"]="gl-js/ fire/"+et,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>n[h]=u),s&&s.headers.forEach((u,h)=>n[h]=u)}jo(n,i){return`${this.Ko}/v1/${i}:${i_[n]}`}terminate(){}}class Zf{constructor(n){this.Zo=n.Zo,this.Xo=n.Xo}e_(n){this.t_=n}n_(n){this.r_=n}i_(n){this.s_=n}onMessage(n){this.o_=n}close(){this.Xo()}send(n){this.Zo(n)}__(){this.t_()}a_(){this.r_()}u_(n){this.s_(n)}c_(n){this.o_(n)}}const qs="WebChannelConnection";class SE extends Xf{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,i,s,u,h){const m=al();return new Promise((C,N)=>{const V=new ht;V.setWithCredentials(!0),V.listenOnce(Mt.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case zt.NO_ERROR:const ue=V.getResponseJson();lt(qs,`XHR for RPC '${n}' ${m} received:`,JSON.stringify(ue)),C(ue);break;case zt.TIMEOUT:lt(qs,`RPC '${n}' ${m} timed out`),N(new ne(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case zt.HTTP_ERROR:const Ve=V.getStatus();if(lt(qs,`RPC '${n}' ${m} failed with status:`,Ve,"response text:",V.getResponseText()),Ve>0){let At=V.getResponseJson();Array.isArray(At)&&(At=At[0]);const Wt=At?.error;if(Wt&&Wt.status&&Wt.message){const fn=function(er){const or=er.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(or)>=0?or:Qe.UNKNOWN}(Wt.status);N(new ne(fn,Wt.message))}else N(new ne(Qe.UNKNOWN,"Server responded with status "+V.getStatus()))}else N(new ne(Qe.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:n,streamId:m,h_:V.getLastErrorCode(),P_:V.getLastError()})}}finally{lt(qs,`RPC '${n}' ${m} completed.`)}});const J=JSON.stringify(u);lt(qs,`RPC '${n}' ${m} sending request:`,u),V.send(i,"POST",J,s,15)})}T_(n,i,s){const u=al(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",n,"/channel"],m=Tt(),C=vt(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},V=this.longPollingOptions.timeoutSeconds;void 0!==V&&(N.longPollingTimeout=Math.round(1e3*V)),this.useFetchStreams&&(N.useFetchStreams=!0),this.Ho(N.initMessageHeaders,i,s),N.encodeInitMessageHeaders=!0;const J=h.join("");lt(qs,`Creating RPC '${n}' stream ${u}: ${J}`,N);const ue=m.createWebChannel(J,N);let Ve=!1,At=!1;const Wt=new Zf({Zo:cn=>{At?lt(qs,`Not sending because RPC '${n}' stream ${u} is closed:`,cn):(Ve||(lt(qs,`Opening RPC '${n}' stream ${u} transport.`),ue.open(),Ve=!0),lt(qs,`RPC '${n}' stream ${u} sending:`,cn),ue.send(cn))},Xo:()=>ue.close()}),fn=(cn,er,or)=>{cn.listen(er,On=>{try{or(On)}catch(Vr){setTimeout(()=>{throw Vr},0)}})};return fn(ue,ft.EventType.OPEN,()=>{At||(lt(qs,`RPC '${n}' stream ${u} transport opened.`),Wt.__())}),fn(ue,ft.EventType.CLOSE,()=>{At||(At=!0,lt(qs,`RPC '${n}' stream ${u} transport closed`),Wt.u_())}),fn(ue,ft.EventType.ERROR,cn=>{At||(At=!0,kn(qs,`RPC '${n}' stream ${u} transport errored. Name:`,cn.name,"Message:",cn.message),Wt.u_(new ne(Qe.UNAVAILABLE,"The operation could not be completed")))}),fn(ue,ft.EventType.MESSAGE,cn=>{var er;if(!At){const or=cn.data[0];tt(!!or,16349);const On=or,Vr=On?.error||(null===(er=On[0])||void 0===er?void 0:er.error);if(Vr){lt(qs,`RPC '${n}' stream ${u} received error:`,Vr);const ki=Vr.status;let ci=function(We){const ut=xo[We];if(void 0!==ut)return Wu(ut)}(ki),ct=Vr.message;void 0===ci&&(ci=Qe.INTERNAL,ct="Unknown error status: "+ki+" with message "+Vr.message),At=!0,Wt.u_(new ne(ci,ct)),ue.close()}else lt(qs,`RPC '${n}' stream ${u} received:`,or),Wt.c_(or)}}),fn(C,tn.STAT_EVENT,cn=>{cn.stat===jt.PROXY?lt(qs,`RPC '${n}' stream ${u} detected buffering proxy`):cn.stat===jt.NOPROXY&&lt(qs,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Wt.a_()},0),Wt}}function wh(){return typeof document<"u"?document:null}function ul(c){return new Tf(c,!0)}class Og{constructor(n,i,s=1e3,u=1.5,h=6e4){this.xi=n,this.timerId=i,this.I_=s,this.E_=u,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(n){this.cancel();const i=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-s);u>0&&lt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),n())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){null!==this.R_&&(this.R_.skipDelay(),this.R_=null)}cancel(){null!==this.R_&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}const s_="PersistentStream";class oa{constructor(n,i,s,u,h,m,C,N){this.xi=n,this.y_=s,this.w_=u,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=C,this.listener=N,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Og(n,i)}F_(){return 1===this.state||5===this.state||this.M_()}M_(){return 2===this.state||3===this.state}start(){this.v_=0,4!==this.state?this.auth():this.x_()}stop(){var n=this;return(0,I.A)(function*(){n.F_()&&(yield n.close(0))})()}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&null===this.b_&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(n){this.k_(),this.stream.send(n)}B_(){var n=this;return(0,I.A)(function*(){if(n.M_())return n.close(0)})()}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(n,i){var s=this;return(0,I.A)(function*(){s.k_(),s.q_(),s.C_.cancel(),s.S_++,4!==n?s.C_.reset():i&&i.code===Qe.RESOURCE_EXHAUSTED?(Bn(i.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),s.C_.m_()):i&&i.code===Qe.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Q_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.i_(i)})()}Q_(){}auth(){this.state=1;const n=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.S_===i&&this.K_(s,u)},s=>{n(()=>{const u=new ne(Qe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(u)})})}K_(n,i){const s=this.U_(this.S_);this.stream=this.G_(n,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{s(()=>this.W_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.v_?this.z_(u):this.onNext(u))})}x_(){var n=this;this.state=5,this.C_.f_((0,I.A)(function*(){n.state=0,n.start()}))}W_(n){return lt(s_,`close with error: ${n}`),this.stream=null,this.close(4,n)}U_(n){return i=>{this.xi.enqueueAndForget(()=>this.S_===n?i():(lt(s_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fg extends oa{constructor(n,i,s,u,h,m){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,m),this.serializer=h}G_(n,i){return this.connection.T_("Listen",n,i)}z_(n){return this.onNext(n)}onNext(n){this.C_.reset();const i=function Af(c,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(V=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:mt(39313,{state:V}),u=n.targetChange.targetIds||[],h=function(V,J){return V.useProto3Json?(tt(void 0===J||"string"==typeof J,58123),Vi.fromBase64String(J||"")):(tt(void 0===J||J instanceof Buffer||J instanceof Uint8Array,16193),Vi.fromUint8Array(J||new Uint8Array))}(c,n.targetChange.resumeToken),m=n.targetChange.cause,C=m&&function(V){const J=void 0===V.code?Qe.UNKNOWN:Wu(V.code);return new ne(J,V.message||"")}(m);i=new If(s,u,h,C||null)}else if("documentChange"in n){const s=n.documentChange,u=ra(c,s.document.name),h=Oo(s.document.updateTime),m=s.document.createTime?Oo(s.document.createTime):ln.min(),C=new to({mapValue:{fields:s.document.fields}}),N=di.newFoundDocument(u,h,m,C);i=new vc(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in n){const s=n.documentDelete,u=ra(c,s.document),h=s.readTime?Oo(s.readTime):ln.min(),m=di.newNoDocument(u,h);i=new vc([],s.removedTargetIds||[],m.key,m)}else if("documentRemove"in n){const s=n.documentRemove,u=ra(c,s.document);i=new vc([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return mt(11601,{Vt:n});{const s=n.filter,{count:u=0,unchangedNames:h}=s,m=new rh(u,h);i=new kl(s.targetId,m)}}var V;return i}(this.serializer,n),s=function(h){if(!("targetChange"in h))return ln.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?ln.min():m.readTime?Oo(m.readTime):ln.min()}(n);return this.listener.j_(i,s)}H_(n){const i={};i.database=ia(this.serializer),i.addTarget=function(h,m){let C;const N=m.target;if(C=Re(N)?{documents:Vc(h,N)}:{query:Is(h,N).gt},C.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){C.resumeToken=Fl(h,m.resumeToken);const V=Ca(h,m.expectedCount);null!==V&&(C.expectedCount=V)}else if(m.snapshotVersion.compareTo(ln.min())>0){C.readTime=Gu(h,m.snapshotVersion.toTimestamp());const V=Ca(h,m.expectedCount);null!==V&&(C.expectedCount=V)}return C}(this.serializer,n);const s=function Gs(c,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:u})}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.L_(i)}J_(n){const i={};i.database=ia(this.serializer),i.removeTarget=n,this.L_(i)}}class a_ extends oa{constructor(n,i,s,u,h,m){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,m),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(n,i){return this.connection.T_("Write",n,i)}z_(n){return tt(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,tt(!n.writeResults||0===n.writeResults.length,55816),this.listener.X_()}onNext(n){tt(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.C_.reset();const i=function wg(c,n){return c&&c.length>0?(tt(void 0!==n,14353),c.map(i=>function(u,h){let m=Oo(u.updateTime?u.updateTime:h);return m.isEqual(ln.min())&&(m=Oo(h)),new Qn(m,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=Oo(n.commitTime);return this.listener.ea(s,i)}ta(){const n={};n.database=ia(this.serializer),this.L_(n)}Z_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>function Ul(c,n){let i;if(n instanceof Fa)i={update:Ll(c,n.key,n.value)};else if(n instanceof mo)i={delete:Ec(c,n.key)};else if(n instanceof zs)i={update:Ll(c,n.key,n.data),updateMask:qu(n.fieldMask)};else{if(!(n instanceof La))return mt(16599,{ft:n.type});i={verify:Ec(c,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(h,m){const C=m.transform;if(C instanceof ao)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof Pi)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof ws)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof Oc)return{fieldPath:m.field.canonicalString(),increment:C.Re};throw mt(20930,{transform:m.transform})}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(h=n.precondition).updateTime?{updateTime:Hy(c,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:mt(27497)),i;var h}(this.serializer,s))};this.L_(i)}}class Lg{}class ya extends Lg{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.na=!1}ra(){if(this.na)throw new ne(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(n,i,s,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.zo(n,kt(i,s),u,h,m)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ne(Qe.UNKNOWN,h.toString())})}Yo(n,i,s,u,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,C])=>this.connection.Yo(n,kt(i,s),u,m,C,h)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ne(Qe.UNKNOWN,m.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Ih{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){0===this.ia&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(n){"Online"===this.state?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.aa("Offline")))}set(n){this.la(),this.ia=0,"Online"===n&&(this.oa=!1),this.aa(n)}aa(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ua(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Bn(i),this.oa=!1):lt("OnlineStateTracker",i)}la(){null!==this.sa&&(this.sa.cancel(),this.sa=null)}}const Xc="RemoteStore";class c_{constructor(n,i,s,u,h){var m=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(C=>{s.enqueueAndForget((0,I.A)(function*(){var N;Zc(m)&&(lt(Xc,"Restarting streams for network reachability change."),yield(N=(0,I.A)(function*(J){const ue=xt(J);ue.Ta.add(4),yield td(ue),ue.da.set("Unknown"),ue.Ta.delete(4),yield Th(ue)}),function V(J){return N.apply(this,arguments)})(m))}))}),this.da=new Ih(s,u)}}function Th(c){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,I.A)(function*(c){if(Zc(c))for(const n of c.Ia)yield n(!0)})).apply(this,arguments)}function td(c){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,I.A)(function*(c){for(const n of c.Ia)yield n(!1)})).apply(this,arguments)}function ep(c,n){const i=xt(c);i.Pa.has(n.targetId)||(i.Pa.set(n.targetId,n),Bg(i)?Ug(i):rd(i).M_()&&Vg(i,n))}function ll(c,n){const i=xt(c),s=rd(i);i.Pa.delete(n),s.M_()&&u_(i,n),0===i.Pa.size&&(s.M_()?s.N_():Zc(i)&&i.da.set("Unknown"))}function Vg(c,n){if(c.Aa.Ke(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(ln.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}rd(c).H_(n)}function u_(c,n){c.Aa.Ke(n),rd(c).J_(n)}function Ug(c){c.Aa=new xl({getRemoteKeysForTarget:n=>c.remoteSyncer.getRemoteKeysForTarget(n),Rt:n=>c.Pa.get(n)||null,Pt:()=>c.datastore.serializer.databaseId}),rd(c).start(),c.da._a()}function Bg(c){return Zc(c)&&!rd(c).F_()&&c.Pa.size>0}function Zc(c){return 0===xt(c).Ta.size}function jg(c){c.Aa=void 0}function l_(c){return nd.apply(this,arguments)}function nd(){return(nd=(0,I.A)(function*(c){c.da.set("Online")})).apply(this,arguments)}function d_(c){return tp.apply(this,arguments)}function tp(){return(tp=(0,I.A)(function*(c){c.Pa.forEach((n,i)=>{Vg(c,n)})})).apply(this,arguments)}function h_(c,n){return np.apply(this,arguments)}function np(){return(np=(0,I.A)(function*(c,n){jg(c),Bg(c)?(c.da.ca(n),Ug(c)):c.da.set("Unknown")})).apply(this,arguments)}function RE(c,n,i){return $g.apply(this,arguments)}function $g(){return $g=(0,I.A)(function*(c,n,i){if(c.da.set("Online"),n instanceof If&&2===n.state&&n.cause)try{yield(s=(0,I.A)(function*(h,m){const C=m.cause;for(const N of m.targetIds)h.Pa.has(N)&&(yield h.remoteSyncer.rejectListen(N,C),h.Pa.delete(N),h.Aa.removeTarget(N))}),function u(h,m){return s.apply(this,arguments)})(c,n)}catch(s){lt(Xc,"Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield rp(c,s)}else if(n instanceof vc?c.Aa.Xe(n):n instanceof kl?c.Aa.ot(n):c.Aa.nt(n),!i.isEqual(ln.min()))try{const s=yield Qy(c.localStore);i.compareTo(s)>=0&&(yield function(h,m){const C=h.Aa.It(m);return C.targetChanges.forEach((N,V)=>{if(N.resumeToken.approximateByteSize()>0){const J=h.Pa.get(V);J&&h.Pa.set(V,J.withResumeToken(N.resumeToken,m))}}),C.targetMismatches.forEach((N,V)=>{const J=h.Pa.get(N);if(!J)return;h.Pa.set(N,J.withResumeToken(Vi.EMPTY_BYTE_STRING,J.snapshotVersion)),u_(h,N);const ue=new Za(J.target,N,V,J.sequenceNumber);Vg(h,ue)}),h.remoteSyncer.applyRemoteEvent(C)}(c,i))}catch(s){lt(Xc,"Failed to raise snapshot:",s),yield rp(c,s)}var s}),$g.apply(this,arguments)}function rp(c,n,i){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,I.A)(function*(c,n,i){if(!br(n))throw n;c.Ta.add(1),yield td(c),c.da.set("Offline"),i||(i=()=>Qy(c.localStore)),c.asyncQueue.enqueueRetryable((0,I.A)(function*(){lt(Xc,"Retrying IndexedDB access"),yield i(),c.Ta.delete(1),yield Th(c)}))})).apply(this,arguments)}function f_(c,n){return n().catch(i=>rp(c,i,n))}function dl(c){return zg.apply(this,arguments)}function zg(){return(zg=(0,I.A)(function*(c){const n=xt(c),i=_a(n);let s=n.ha.length>0?n.ha[n.ha.length-1].batchId:-1;for(;PE(n);)try{const u=yield Xy(n.localStore,s);if(null===u){0===n.ha.length&&i.N_();break}s=u.batchId,ME(n,u)}catch(u){yield rp(n,u)}Wg(n)&&ip(n)})).apply(this,arguments)}function PE(c){return Zc(c)&&c.ha.length<10}function ME(c,n){c.ha.push(n);const i=_a(c);i.M_()&&i.Y_&&i.Z_(n.mutations)}function Wg(c){return Zc(c)&&!_a(c).F_()&&c.ha.length>0}function ip(c){_a(c).start()}function NE(c){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,I.A)(function*(c){_a(c).ta()})).apply(this,arguments)}function vu(c){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,I.A)(function*(c){const n=_a(c);for(const i of c.ha)n.Z_(i.mutations)})).apply(this,arguments)}function Kg(c,n,i){return qg.apply(this,arguments)}function qg(){return(qg=(0,I.A)(function*(c,n,i){const s=c.ha.shift(),u=ea.from(s,n,i);yield f_(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield dl(c)})).apply(this,arguments)}function pT(c,n){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,I.A)(function*(c,n){var i;n&&_a(c).Y_&&(yield(i=(0,I.A)(function*(u,h){if(function ta(c){switch(c){case Qe.OK:return mt(64938);case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0;default:return mt(15467,{code:c})}}(C=h.code)&&C!==Qe.ABORTED){const m=u.ha.shift();_a(u).O_(),yield f_(u,()=>u.remoteSyncer.rejectFailedWrite(m.batchId,h)),yield dl(u)}var C}),function s(u,h){return i.apply(this,arguments)})(c,n)),Wg(c)&&ip(c)}),Qg.apply(this,arguments)}function p_(c,n){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,I.A)(function*(c,n){const i=xt(c);i.asyncQueue.verifyOperationInProgress(),lt(Xc,"RemoteStore received new credentials");const s=Zc(i);i.Ta.add(3),yield td(i),s&&i.da.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.Ta.delete(3),yield Th(i)})).apply(this,arguments)}function g_(){return(g_=(0,I.A)(function*(c,n){const i=xt(c);n?(i.Ta.delete(2),yield Th(i)):n||(i.Ta.add(2),yield td(i),i.da.set("Unknown"))})).apply(this,arguments)}function rd(c){return c.Ra||(c.Ra=function(i,s,u){const h=xt(i);return h.ra(),new Fg(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(c.datastore,c.asyncQueue,{e_:l_.bind(null,c),n_:d_.bind(null,c),i_:h_.bind(null,c),j_:RE.bind(null,c)}),c.Ia.push(function(){var n=(0,I.A)(function*(i){i?(c.Ra.O_(),Bg(c)?Ug(c):c.da.set("Unknown")):(yield c.Ra.stop(),jg(c))});return function(i){return n.apply(this,arguments)}}())),c.Ra}function _a(c){return c.Va||(c.Va=function(i,s,u){const h=xt(i);return h.ra(),new a_(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(c.datastore,c.asyncQueue,{e_:()=>Promise.resolve(),n_:NE.bind(null,c),i_:pT.bind(null,c),X_:vu.bind(null,c),ea:Kg.bind(null,c)}),c.Ia.push(function(){var n=(0,I.A)(function*(i){i?(c.Va.O_(),yield dl(c)):(yield c.Va.stop(),c.ha.length>0&&(lt(Xc,`Stopping write stream with ${c.ha.length} pending writes`),c.ha=[]))});return function(i){return n.apply(this,arguments)}}())),c.Va}class Yg{constructor(n,i,s,u,h){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new fe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,h){const m=Date.now()+s,C=new Yg(n,i,m,u,h);return C.start(s),C}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ne(Qe.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eu(c,n){if(Bn("AsyncQueue",`${n}: ${c}`),br(c))return new ne(Qe.UNAVAILABLE,`${n}: ${c}`);throw c}class wu{static emptySet(n){return new wu(n.comparator)}constructor(n){this.comparator=n?(i,s)=>n(i,s)||Yt.comparator(i.key,s.key):(i,s)=>Yt.comparator(i.key,s.key),this.keyedMap=X(),this.sortedSet=new Kr(this.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof wu)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new wu;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class op{constructor(){this.ma=new Kr(Yt.comparator)}track(n){const i=n.doc.key,s=this.ma.get(i);s?0!==n.type&&3===s.type?this.ma=this.ma.insert(i,n):3===n.type&&1!==s.type?this.ma=this.ma.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.ma=this.ma.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.ma=this.ma.remove(i):1===n.type&&2===s.type?this.ma=this.ma.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):mt(63341,{Vt:n,fa:s}):this.ma=this.ma.insert(i,n)}ga(){const n=[];return this.ma.inorderTraversal((i,s)=>{n.push(s)}),n}}class hl{constructor(n,i,s,u,h,m,C,N,V){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=C,this.excludesMetadataChanges=N,this.hasCachedResults=V}static fromInitialDocuments(n,i,s,u,h){const m=[];return i.forEach(C=>{m.push({type:0,doc:C})}),new hl(n,i,wu.emptySet(i),m,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&la(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class sp{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(n=>n.Sa())}}class Jg{constructor(){this.queries=id(),this.onlineState="Unknown",this.ba=new Set}terminate(){!function(i,s){const u=xt(i),h=u.queries;u.queries=id(),h.forEach((m,C)=>{for(const N of C.ya)N.onError(s)})}(this,new ne(Qe.ABORTED,"Firestore shutting down"))}}function id(){return new _(c=>bs(c),la)}function od(c,n){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,I.A)(function*(c,n){const i=xt(c);let s=3;const u=n.query;let h=i.queries.get(u);h?!h.wa()&&n.Sa()&&(s=2):(h=new sp,s=n.Sa()?0:1);try{switch(s){case 0:h.pa=yield i.onListen(u,!0);break;case 1:h.pa=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(m){const C=Eu(m,`Initialization of query '${cs(n.query)}' failed`);return void n.onError(C)}i.queries.set(u,h),h.ya.push(n),n.Da(i.onlineState),h.pa&&n.va(h.pa)&&Ah(i)})).apply(this,arguments)}function bh(c,n){return sd.apply(this,arguments)}function sd(){return(sd=(0,I.A)(function*(c,n){const i=xt(c),s=n.query;let u=3;const h=i.queries.get(s);if(h){const m=h.ya.indexOf(n);m>=0&&(h.ya.splice(m,1),0===h.ya.length?u=n.Sa()?0:1:!h.wa()&&n.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Dh(c,n){const i=xt(c);let s=!1;for(const u of n){const m=i.queries.get(u.query);if(m){for(const C of m.ya)C.va(u)&&(s=!0);m.pa=u}}s&&Ah(i)}function em(c,n,i){const s=xt(c),u=s.queries.get(n);if(u)for(const h of u.ya)h.onError(i);s.queries.delete(n)}function Ah(c){c.ba.forEach(n=>{n.next()})}var ad,tm;(tm=ad||(ad={})).Ca="default",tm.Cache="cache";class Ch{constructor(n,i,s){this.query=n,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new hl(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.Ma?this.Oa(n)&&(this.Fa.next(n),i=!0):this.Na(n,this.onlineState)&&(this.Ba(n),i=!0),this.xa=n,i}onError(n){this.Fa.error(n)}Da(n){this.onlineState=n;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,n)&&(this.Ba(this.xa),i=!0),i}Na(n,i){return!n.fromCache||!this.Sa()||(!this.options.La||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}Oa(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.xa&&this.xa.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Ba(n){n=hl.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Ma=!0,this.Fa.next(n)}Sa(){return this.options.source!==ad.Cache}}class ap{constructor(n){this.key=n}}class im{constructor(n){this.key=n}}class om{constructor(n,i){this.query=n,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Y(),this.mutatedKeys=Y(),this.Ha=Wi(n),this.Ja=new wu(this.Ha)}get Ya(){return this.Ga}Za(n,i){const s=i?i.Xa:new op,u=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,m=u,C=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,V="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((J,ue)=>{const Ve=u.get(J),At=da(this.query,ue)?ue:null,Wt=!!Ve&&this.mutatedKeys.has(Ve.key),fn=!!At&&(At.hasLocalMutations||this.mutatedKeys.has(At.key)&&At.hasCommittedMutations);let cn=!1;Ve&&At?Ve.data.isEqual(At.data)?Wt!==fn&&(s.track({type:3,doc:At}),cn=!0):this.eu(Ve,At)||(s.track({type:2,doc:At}),cn=!0,(N&&this.Ha(At,N)>0||V&&this.Ha(At,V)<0)&&(C=!0)):!Ve&&At?(s.track({type:0,doc:At}),cn=!0):Ve&&!At&&(s.track({type:1,doc:Ve}),cn=!0,(N||V)&&(C=!0)),cn&&(At?(m=m.add(At),h=fn?h.add(J):h.delete(J)):(m=m.delete(J),h=h.delete(J)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const J="F"===this.query.limitType?m.last():m.first();m=m.delete(J.key),h=h.delete(J.key),s.track({type:1,doc:J})}return{Ja:m,Xa:s,Cs:C,mutatedKeys:h}}eu(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const h=this.Ja;this.Ja=n.Ja,this.mutatedKeys=n.mutatedKeys;const m=n.Xa.ga();m.sort((J,ue)=>function(At,Wt){const fn=cn=>{switch(cn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Vt:cn})}};return fn(At)-fn(Wt)}(J.type,ue.type)||this.Ha(J.doc,ue.doc)),this.tu(s),u=null!=u&&u;const C=i&&!u?this.nu():[],N=0===this.ja.size&&this.current&&!u?1:0,V=N!==this.za;return this.za=N,0!==m.length||V?{snapshot:new hl(this.query,n.Ja,h,m,n.mutatedKeys,0===N,V,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:C}:{ru:C}}Da(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new op,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(n){return!this.Ga.has(n)&&!!this.Ja.has(n)&&!this.Ja.get(n).hasLocalMutations}tu(n){n&&(n.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=n.current)}nu(){if(!this.current)return[];const n=this.ja;this.ja=Y(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const i=[];return n.forEach(s=>{this.ja.has(s)||i.push(new im(s))}),this.ja.forEach(s=>{n.has(s)||i.push(new ap(s))}),i}su(n){this.Ga=n.$s,this.ja=Y();const i=this.Za(n.documents);return this.applyChanges(i,!0)}ou(){return hl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,0===this.za,this.hasCachedResults)}}const Cc="SyncEngine";class sm{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class ud{constructor(n){this.key=n,this._u=!1}}class y_{constructor(n,i,s,u,h,m){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.au={},this.uu=new _(C=>bs(C),la),this.cu=new Map,this.lu=new Set,this.hu=new Kr(Yt.comparator),this.Pu=new Map,this.Tu=new Ao,this.Iu={},this.Eu=new Map,this.du=zc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return!0===this.Au}}function va(c,n){return __.apply(this,arguments)}function __(){return(__=(0,I.A)(function*(c,n,i=!0){const s=pl(c);let u;const h=s.uu.get(n);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.ou()):u=yield fl(s,n,i,!0),u})).apply(this,arguments)}function cp(c,n){return am.apply(this,arguments)}function am(){return(am=(0,I.A)(function*(c,n){const i=pl(c);yield fl(i,n,!0,!1)})).apply(this,arguments)}function fl(c,n,i,s){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,I.A)(function*(c,n,i,s){const u=yield function il(c,n){const i=xt(c);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ti.getTargetData(s,n).next(h=>h?(u=h,je.resolve(u)):i.Ti.allocateTargetId(s).next(m=>(u=new Za(n,m,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.xs.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(n,s.targetId)),s})}(c.localStore,go(n)),h=u.targetId,m=c.sharedClientState.addLocalQueryTarget(h,i);let C;return s&&(C=yield function up(c,n,i,s,u){return lp.apply(this,arguments)}(c,n,h,"current"===m,u.resumeToken)),c.isPrimaryClient&&i&&ep(c.remoteStore,u),C})).apply(this,arguments)}function lp(){return lp=(0,I.A)(function*(c,n,i,s,u){c.Ru=(ue,Ve,At)=>{return(Wt=(0,I.A)(function*(cn,er,or,On){let Vr=er.view.Za(or);Vr.Cs&&(Vr=yield Wf(cn.localStore,er.query,!1).then(({documents:Le})=>er.view.Za(Le,Vr)));const ki=On&&On.targetChanges.get(er.targetId),ci=On&&null!=On.targetMismatches.get(er.targetId),ct=er.view.applyChanges(Vr,cn.isPrimaryClient,ki,ci);return hp(cn,er.targetId,ct.ru),ct.snapshot}),function fn(cn,er,or,On){return Wt.apply(this,arguments)})(c,ue,Ve,At);var Wt};const h=yield Wf(c.localStore,n,!0),m=new om(n,h.$s),C=m.Za(h.documents),N=na.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==c.onlineState,u),V=m.applyChanges(C,c.isPrimaryClient,N);hp(c,i,V.ru);const J=new sm(n,i,m);return c.uu.set(n,J),c.cu.has(i)?c.cu.get(i).push(n):c.cu.set(i,[n]),V.snapshot}),lp.apply(this,arguments)}function v_(c,n,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,I.A)(function*(c,n,i){const s=xt(c),u=s.uu.get(n),h=s.cu.get(u.targetId);if(h.length>1)return s.cu.set(u.targetId,h.filter(m=>!la(m,n))),void s.uu.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield _u(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&ll(s.remoteStore,u.targetId),lc(s,u.targetId)}).catch(Gn))):(lc(s,u.targetId),yield _u(s.localStore,u.targetId,!0))})).apply(this,arguments)}function cm(c,n){return um.apply(this,arguments)}function um(){return(um=(0,I.A)(function*(c,n){const i=xt(c),s=i.uu.get(n),u=i.cu.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),ll(i.remoteStore,s.targetId))})).apply(this,arguments)}function w_(){return(w_=(0,I.A)(function*(c,n,i){const s=function bu(c){const n=xt(c);return n.remoteStore.remoteSyncer.applySuccessfulWrite=dd.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Rh.bind(null,n),n}(c);try{const u=yield function(m,C){const N=xt(m),V=pr.now(),J=C.reduce((At,Wt)=>At.add(Wt.key),Y());let ue,Ve;return N.persistence.runTransaction("Locally write mutations","readwrite",At=>{let Wt=R(),fn=Y();return N.Bs.getEntries(At,J).next(cn=>{Wt=cn,Wt.forEach((er,or)=>{or.isValidDocument()||(fn=fn.add(er))})}).next(()=>N.localDocuments.getOverlayedDocuments(At,Wt)).next(cn=>{ue=cn;const er=[];for(const or of C){const On=Oa(or,ue.get(or.key).overlayedDocument);null!=On&&er.push(new zs(or.key,On,Ps(On.value.mapValue),Mn.exists(!0)))}return N.mutationQueue.addMutationBatch(At,V,er,C)}).next(cn=>{Ve=cn;const er=cn.applyToLocalDocumentSet(ue,fn);return N.documentOverlayCache.saveOverlays(At,cn.batchId,er)})}).then(()=>({batchId:Ve.batchId,changes:Ae(ue)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(m,C,N){let V=m.Iu[m.currentUser.toKey()];V||(V=new Kr(Jt)),V=V.insert(C,N),m.Iu[m.currentUser.toKey()]=V}(s,u.batchId,i),yield Sc(s,u.changes),yield dl(s.remoteStore)}catch(u){const h=Eu(u,"Failed to persist write");i.reject(h)}})).apply(this,arguments)}function Yo(c,n){return ld.apply(this,arguments)}function ld(){return(ld=(0,I.A)(function*(c,n){const i=xt(c);try{const s=yield function AE(c,n){const i=xt(c),s=n.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const C=[];n.targetChanges.forEach((J,ue)=>{const Ve=u.get(ue);if(!Ve)return;C.push(i.Ti.removeMatchingKeys(h,J.removedDocuments,ue).next(()=>i.Ti.addMatchingKeys(h,J.addedDocuments,ue)));let At=Ve.withSequenceNumber(h.currentSequenceNumber);var fn,cn,er;null!==n.targetMismatches.get(ue)?At=At.withResumeToken(Vi.EMPTY_BYTE_STRING,ln.min()).withLastLimboFreeSnapshotVersion(ln.min()):J.resumeToken.approximateByteSize()>0&&(At=At.withResumeToken(J.resumeToken,s)),u=u.insert(ue,At),cn=At,er=J,(0===(fn=Ve).resumeToken.approximateByteSize()||cn.snapshotVersion.toMicroseconds()-fn.snapshotVersion.toMicroseconds()>=3e8||er.addedDocuments.size+er.modifiedDocuments.size+er.removedDocuments.size>0)&&C.push(i.Ti.updateTargetData(h,At))});let N=R(),V=Y();if(n.documentUpdates.forEach(J=>{n.resolvedLimboDocuments.has(J)&&C.push(i.persistence.referenceDelegate.updateLimboDocument(h,J))}),C.push(function zf(c,n,i){let s=Y(),u=Y();return i.forEach(h=>s=s.add(h)),n.getEntries(c,s).next(h=>{let m=R();return i.forEach((C,N)=>{const V=h.get(C);N.isFoundDocument()!==V.isFoundDocument()&&(u=u.add(C)),N.isNoDocument()&&N.version.isEqual(ln.min())?(n.removeEntry(C,N.readTime),m=m.insert(C,N)):!V.isValidDocument()||N.version.compareTo(V.version)>0||0===N.version.compareTo(V.version)&&V.hasPendingWrites?(n.addEntry(N),m=m.insert(C,N)):lt(Ky,"Ignoring outdated watch update for ",C,". Current version:",V.version," Watch version:",N.version)}),{qs:m,Qs:u}})}(h,m,n.documentUpdates).next(J=>{N=J.qs,V=J.Qs})),!s.isEqual(ln.min())){const J=i.Ti.getLastRemoteSnapshotVersion(h).next(ue=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));C.push(J)}return je.waitFor(C).next(()=>m.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,N,V)).next(()=>N)}).then(h=>(i.xs=u,h))}(i.localStore,n);n.targetChanges.forEach((u,h)=>{const m=i.Pu.get(h);m&&(tt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?m._u=!0:u.modifiedDocuments.size>0?tt(m._u,14607):u.removedDocuments.size>0&&(tt(m._u,42227),m._u=!1))}),yield Sc(i,s,n)}catch(s){yield Gn(s)}})).apply(this,arguments)}function lm(c,n,i){const s=xt(c);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.uu.forEach((h,m)=>{const C=m.view.Da(n);C.snapshot&&u.push(C.snapshot)}),function(m,C){const N=xt(m);N.onlineState=C;let V=!1;N.queries.forEach((J,ue)=>{for(const Ve of ue.ya)Ve.Da(C)&&(V=!0)}),V&&Ah(N)}(s.eventManager,n),u.length&&s.au.j_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function co(c,n,i){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,I.A)(function*(c,n,i){const s=xt(c);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Pu.get(n),h=u&&u.key;if(h){let m=new Kr(Yt.comparator);m=m.insert(h,di.newNoDocument(h,ln.min()));const C=Y().add(h),N=new Lc(ln.min(),new Map,new Kr(Jt),m,C);yield Yo(s,N),s.hu=s.hu.remove(h),s.Pu.delete(n),fd(s)}else yield _u(s.localStore,n,!1).then(()=>lc(s,n,i)).catch(Gn)})).apply(this,arguments)}function dd(c,n){return uc.apply(this,arguments)}function uc(){return(uc=(0,I.A)(function*(c,n){const i=xt(c),s=n.batch.batchId;try{const u=yield function Pg(c,n){const i=xt(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(C,N,V,J){const ue=V.batch,Ve=ue.keys();let At=je.resolve();return Ve.forEach(Wt=>{At=At.next(()=>J.getEntry(N,Wt)).next(fn=>{const cn=V.docVersions.get(Wt);tt(null!==cn,48541),fn.version.compareTo(cn)<0&&(ue.applyToRemoteDocument(fn,V),fn.isValidDocument()&&(fn.setReadTime(V.commitVersion),J.addEntry(fn)))})}),At.next(()=>C.mutationQueue.removeMutationBatch(N,ue))}(i,s,n,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(C){let N=Y();for(let V=0;V<C.mutationResults.length;++V)C.mutationResults[V].transformResults.length>0&&(N=N.add(C.batch.mutations[V].key));return N}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);hm(i,s,null),Tu(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Sc(i,u)}catch(u){yield Gn(u)}})).apply(this,arguments)}function Rh(c,n,i){return hd.apply(this,arguments)}function hd(){return(hd=(0,I.A)(function*(c,n,i){const s=xt(c);try{const u=yield function(m,C){const N=xt(m);return N.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let J;return N.mutationQueue.lookupMutationBatch(V,C).next(ue=>(tt(null!==ue,37113),J=ue.keys(),N.mutationQueue.removeMutationBatch(V,ue))).next(()=>N.mutationQueue.performConsistencyCheck(V)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(V,J,C)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,J)).next(()=>N.localDocuments.getDocuments(V,J))})}(s.localStore,n);hm(s,n,i),Tu(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield Sc(s,u)}catch(u){yield Gn(u)}})).apply(this,arguments)}function Tu(c,n){(c.Eu.get(n)||[]).forEach(i=>{i.resolve()}),c.Eu.delete(n)}function hm(c,n,i){const s=xt(c);let u=s.Iu[s.currentUser.toKey()];if(u){const h=u.get(n);h&&(i?h.reject(i):h.resolve(),u=u.remove(n)),s.Iu[s.currentUser.toKey()]=u}}function lc(c,n,i=null){c.sharedClientState.removeLocalQueryTarget(n);for(const s of c.cu.get(n))c.uu.delete(s),i&&c.au.Vu(s,i);c.cu.delete(n),c.isPrimaryClient&&c.Tu.Hr(n).forEach(s=>{c.Tu.containsKey(s)||I_(c,s)})}function I_(c,n){c.lu.delete(n.path.canonicalString());const i=c.hu.get(n);null!==i&&(ll(c.remoteStore,i),c.hu=c.hu.remove(n),c.Pu.delete(i),fd(c))}function hp(c,n,i){for(const s of i)s instanceof ap?(c.Tu.addReference(s.key,n),Ph(c,s)):s instanceof im?(lt(Cc,"Document no longer in limbo: "+s.key),c.Tu.removeReference(s.key,n),c.Tu.containsKey(s.key)||I_(c,s.key)):mt(19791,{mu:s})}function Ph(c,n){const i=n.key,s=i.path.canonicalString();c.hu.get(i)||c.lu.has(s)||(lt(Cc,"New document in limbo: "+i),c.lu.add(s),fd(c))}function fd(c){for(;c.lu.size>0&&c.hu.size<c.maxConcurrentLimboResolutions;){const n=c.lu.values().next().value;c.lu.delete(n);const i=new Yt(pt.fromString(n)),s=c.du.next();c.Pu.set(s,new ud(i)),c.hu=c.hu.insert(i,s),ep(c.remoteStore,new Za(go(bo(i.path)),s,"TargetPurposeLimboResolution",nt.le))}}function Sc(c,n,i){return fp.apply(this,arguments)}function fp(){return fp=(0,I.A)(function*(c,n,i){const s=xt(c),u=[],h=[],m=[];var C;s.uu.isEmpty()||(s.uu.forEach((C,N)=>{m.push(s.Ru(N,n,i).then(V=>{var J;if((V||i)&&s.isPrimaryClient){const ue=V?!V.fromCache:null===(J=i?.targetChanges.get(N.targetId))||void 0===J?void 0:J.current;s.sharedClientState.updateQueryState(N.targetId,ue?"current":"not-current")}if(V){u.push(V);const ue=rl.Rs(N.targetId,V);h.push(ue)}}))}),yield Promise.all(m),s.au.j_(u),yield(C=(0,I.A)(function*(V,J){const ue=xt(V);try{yield ue.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ve=>je.forEach(J,At=>je.forEach(At.ds,Wt=>ue.persistence.referenceDelegate.addReference(Ve,At.targetId,Wt)).next(()=>je.forEach(At.As,Wt=>ue.persistence.referenceDelegate.removeReference(Ve,At.targetId,Wt)))))}catch(Ve){if(!br(Ve))throw Ve;lt(Ky,"Failed to update sequence numbers: "+Ve)}for(const Ve of J){const At=Ve.targetId;if(!Ve.fromCache){const Wt=ue.xs.get(At),cn=Wt.withLastLimboFreeSnapshotVersion(Wt.snapshotVersion);ue.xs=ue.xs.insert(At,cn)}}}),function N(V,J){return C.apply(this,arguments)})(s.localStore,h))}),fp.apply(this,arguments)}function Mh(c,n){return ks.apply(this,arguments)}function ks(){return(ks=(0,I.A)(function*(c,n){const i=xt(c);if(!i.currentUser.isEqual(n)){lt(Cc,"User change. New user:",n.toKey());const s=yield yo(i.localStore,n);i.currentUser=n,(h=i).Eu.forEach(C=>{C.forEach(N=>{N.reject(new ne(Qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Eu.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield Sc(i,s.ks)}var h})).apply(this,arguments)}function xE(c,n){const i=xt(c),s=i.Pu.get(n);if(s&&s._u)return Y().add(s.key);{let u=Y();const h=i.cu.get(n);if(!h)return u;for(const m of h){const C=i.uu.get(m);u=u.unionWith(C.view.Ya)}return u}}function pl(c){const n=xt(c);return n.remoteStore.remoteSyncer.applyRemoteEvent=Yo.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=xE.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=co.bind(null,n),n.au.j_=Dh.bind(null,n.eventManager),n.au.Vu=em.bind(null,n.eventManager),n}let md=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,I.A)(function*(){s.serializer=ul(i.databaseInfo.databaseId),s.sharedClientState=s.pu(i),s.persistence=s.yu(i),yield s.persistence.start(),s.localStore=s.wu(i),s.gcScheduler=s.Su(i,s.localStore),s.indexBackfillerScheduler=s.bu(i,s.localStore)})()}Su(i,s){return null}bu(i,s){return null}wu(i){return function qy(c,n,i,s){return new Hf(c,n,i,s)}(this.persistence,new Cg,i.initialUser,this.serializer)}yu(i){return new tl(yu.fi,this.serializer)}pu(i){return new n_}terminate(){var i=this;return(0,I.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class mp extends md{constructor(n){super(),this.cacheSizeBytes=n}Su(n,i){return tt(this.persistence.referenceDelegate instanceof Ns,46915),new Fo(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}yu(n){const i=void 0!==this.cacheSizeBytes?Zo.withCacheSize(this.cacheSizeBytes):Zo.DEFAULT;return new tl(s=>Ns.fi(s,i),this.serializer)}}let yd=(()=>{class c{initialize(i,s){var u=this;return(0,I.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=h=>lm(u.syncEngine,h,1),u.remoteStore.remoteSyncer.handleCredentialChange=Mh.bind(null,u.syncEngine),yield function Zg(c,n){return g_.apply(this,arguments)}(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Jg}createDatastore(i){const s=ul(i.databaseInfo.databaseId),u=new SE(i.databaseInfo);return new ya(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,h=this.datastore,m=i.asyncQueue,C=s=>lm(this.syncEngine,s,0),N=Qf.C()?new Qf:new vh,new c_(u,h,m,C,N);var u,h,m,C,N}createSyncEngine(i,s){return function(h,m,C,N,V,J,ue){const Ve=new y_(h,m,C,N,V,J);return ue&&(Ve.Au=!0),Ve}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,I.A)(function*(){var s,u,h;yield(h=(0,I.A)(function*(C){const N=xt(C);lt(Xc,"RemoteStore shutting down."),N.Ta.add(5),yield td(N),N.Ea.shutdown(),N.da.set("Unknown")}),function m(C){return h.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return c.provider={build:()=>new c},c})();class Yc{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.vu(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.vu(this.observer.error,n):Bn("Uncaught Error in snapshot listener:",n.toString()))}Cu(){this.muted=!0}vu(n,i){setTimeout(()=>{this.muted||n(i)},0)}}const Jc="FirestoreClient";class gT{constructor(n,i,s,u,h){var m=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=st.UNAUTHENTICATED,this.clientId=zn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,function(){var C=(0,I.A)(function*(N){lt(Jc,"Received user=",N.uid),yield m.authCredentialListener(N),m.user=N});return function(N){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(s,C=>(lt(Jc,"Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new fe;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,I.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=Eu(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function vp(c,n){return _m.apply(this,arguments)}function _m(){return _m=(0,I.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress(),lt(Jc,"Initializing OfflineComponentProvider");const i=c.configuration;yield n.initialize(i);let s=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,I.A)(function*(h){s.isEqual(h)||(yield yo(n.localStore,h),s=h)});return function(h){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=n}),_m.apply(this,arguments)}function vm(c,n){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,I.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress();const i=yield function Em(c){return Ep.apply(this,arguments)}(c);lt(Jc,"Initializing OnlineComponentProvider"),yield n.initialize(i,c.configuration),c.setCredentialChangeListener(s=>p_(n.remoteStore,s)),c.setAppCheckTokenChangeListener((s,u)=>p_(n.remoteStore,u)),c._onlineComponents=n})).apply(this,arguments)}function Ep(){return(Ep=(0,I.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){lt(Jc,"Using user provided OfflineComponentProvider");try{yield vp(c,c._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===Qe.FAILED_PRECONDITION||u.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;kn("Error using user provided cache. Falling back to memory cache: "+n),yield vp(c,new md)}}else lt(Jc,"Using default OfflineComponentProvider"),yield vp(c,new mp(void 0));var u;return c._offlineComponents})).apply(this,arguments)}function Fh(c){return wm.apply(this,arguments)}function wm(){return(wm=(0,I.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(lt(Jc,"Using user provided OnlineComponentProvider"),yield vm(c,c._uninitializedComponentsProvider._online)):(lt(Jc,"Using default OnlineComponentProvider"),yield vm(c,new yd))),c._onlineComponents})).apply(this,arguments)}function Lh(c){return _d.apply(this,arguments)}function _d(){return(_d=(0,I.A)(function*(c){const n=yield Fh(c),i=n.eventManager;return i.onListen=va.bind(null,n.syncEngine),i.onUnlisten=v_.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=cp.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=cm.bind(null,n.syncEngine),i})).apply(this,arguments)}function zE(c){const n={};return void 0!==c.timeoutSeconds&&(n.timeoutSeconds=c.timeoutSeconds),n}const WE=new Map;function x_(c,n,i){if(!i)throw new ne(Qe.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${n}.`)}function O_(c){if(!Yt.isDocumentKey(c))throw new ne(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function jh(c){if(Yt.isDocumentKey(c))throw new ne(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function vd(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const n=(s=c).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof c?"a function":mt(12329,{type:typeof c})}function ti(c,n){if("_delegate"in c&&(c=c._delegate),!(c instanceof n)){if(n.name===c.constructor.name)throw new ne(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vd(c);throw new ne(Qe.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return c}const KE="firestore.googleapis.com";class F_{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new ne(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KE,this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.isUsingEmulator=void 0!==n.emulatorOptions,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new ne(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}(function Bh(c,n,i,s){if(!0===n&&!0===s)throw new ne(Qe.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)})("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=zE(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new ne(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ne(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ne(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Ed{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new ne(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(n),this._emulatorOptions=n.emulatorOptions||{},void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new ye;switch(s.type){case"firstParty":return new Et(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ne(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,I.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=WE.get(i);s&&(lt("ComponentProvider","Removing Datastore"),WE.delete(i),s.terminate())}(this),Promise.resolve()}}class Cs{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Cs(this.firestore,n,this._query)}}class _o{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new _o(this.firestore,n,this._key)}}class dc extends Cs{constructor(n,i,s){super(n,i,bo(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new _o(this.firestore,null,new Yt(n))}withConverter(n){return new dc(this.firestore,n,this._path)}}function qE(c,n,...i){if(c=(0,Me.Ku)(c),x_("collection","path",n),c instanceof Ed){const s=pt.fromString(n,...i);return jh(s),new dc(c,null,s)}{if(!(c instanceof _o||c instanceof dc))throw new ne(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(pt.fromString(n,...i));return jh(s),new dc(c.firestore,null,s)}}function L_(c,n,...i){if(c=(0,Me.Ku)(c),1===arguments.length&&(n=zn.newId()),x_("doc","path",n),c instanceof Ed){const s=pt.fromString(n,...i);return O_(s),new _o(c,null,new Yt(s))}{if(!(c instanceof _o||c instanceof dc))throw new ne(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(pt.fromString(n,...i));return O_(s),new _o(c.firestore,c instanceof dc?c.converter:null,new Yt(s))}}const V_="AsyncQueue";class U_{constructor(n=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Og(this,"async_queue_retry"),this.ec=()=>{const s=wh();s&&lt(V_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=n;const i=wh();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.nc(),this.rc(n)}enterRestrictedMode(n){if(!this.ju){this.ju=!0,this.Zu=n||!1;const i=wh();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(n){if(this.nc(),this.ju)return new Promise(()=>{});const i=new fe;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.zu.push(n),this.sc()))}sc(){var n=this;return(0,I.A)(function*(){if(0!==n.zu.length){try{yield n.zu[0](),n.zu.shift(),n.C_.reset()}catch(i){if(!br(i))throw i;lt(V_,"Operation failed with retryable error: "+i)}n.zu.length>0&&n.C_.f_(()=>n.sc())}})()}rc(n){const i=this.tc.then(()=>(this.Yu=!0,n().catch(s=>{throw this.Ju=s,this.Yu=!1,Bn("INTERNAL UNHANDLED ERROR: ",B_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=i,i}enqueueAfterDelay(n,i,s){this.nc(),this.Xu.indexOf(n)>-1&&(i=0);const u=Yg.createAndSchedule(this,n,i,s,h=>this.oc(h));return this.Hu.push(u),u}nc(){this.Ju&&mt(47125,{_c:B_(this.Ju)})}verifyOperationInProgress(){}ac(){var n=this;return(0,I.A)(function*(){let i;do{i=n.tc,yield i}while(i!==n.tc)})()}uc(n){for(const i of this.Hu)if(i.timerId===n)return!0;return!1}cc(n){return this.ac().then(()=>{this.Hu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.ac()})}lc(n){this.Xu.push(n)}oc(n){const i=this.Hu.indexOf(n);this.Hu.splice(i,1)}}function B_(c){let n=c.message||"";return c.stack&&(n=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),n}function Cm(c){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const h of["next","error","complete"])if(h in u&&"function"==typeof u[h])return!0;return!1}(c)}class vo extends Ed{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new U_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var n=this;return(0,I.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new U_(i),n._firestoreClient=void 0,yield i}})()}}function Sm(c,n){const i="object"==typeof c?c:(0,x.Sx)(),s="string"==typeof c?c:n||we,u=(0,x.j6)(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=(0,Me.yU)("firestore");h&&function Dm(c,n,i,s={}){var u;c=ti(c,Ed);const h=(0,Me.zJ)(n),m=c._getSettings(),C=Object.assign(Object.assign({},m),{emulatorOptions:c._getEmulatorOptions()}),N=`${n}:${i}`;h&&((0,Me.gE)(`https://${N}`),(0,Me.P1)("Firestore",!0)),m.host!==KE&&m.host!==N&&kn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const V=Object.assign(Object.assign({},m),{host:N,ssl:h,emulatorOptions:s});if(!(0,Me.bD)(V,C)&&(c._setSettings(V),s.mockUserToken)){let J,ue;if("string"==typeof s.mockUserToken)J=s.mockUserToken,ue=st.MOCK_USER;else{J=(0,Me.Fy)(s.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const Ve=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Ve)throw new ne(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ue=new st(Ve)}c._authCredentials=new se(new pe(J,ue))}}(u,...h)}return u}function jo(c){if(c._terminated)throw new ne(Qe.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||function $_(c){var n,i,s;const u=c._freezeSettings(),h=(N=(null===(n=c._app)||void 0===n?void 0:n.options.appId)||"",new K(c._databaseId,N,c._persistenceKey,(J=u).host,J.ssl,J.experimentalForceLongPolling,J.experimentalAutoDetectLongPolling,zE(J.experimentalLongPollingOptions),J.useFetchStreams,J.isUsingEmulator));var N,J;c._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(c._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),c._firestoreClient=new gT(c._authCredentials,c._appCheckCredentials,c._queue,h,c._componentsProvider&&function(C){const N=C?._online.build();return{_offline:C?._offline.build(N),_online:N}}(c._componentsProvider))}(c),c._firestoreClient}class Ra{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Ra(Vi.fromBase64String(n))}catch(i){throw new ne(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new Ra(Vi.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class gl{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new ne(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Id{constructor(n){this._methodName=n}}class Mm{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new ne(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new ne(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Jt(this._lat,n._lat)||Jt(this._long,n._long)}}class Ip{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,n._values)}}const eu=/^__.*__$/;class Td{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new zs(n,this.data,this.fieldMask,i,this.fieldTransforms):new Fa(n,this.data,i,this.fieldTransforms)}}class G_{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new zs(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function K_(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{hc:c})}}class Tp{constructor(n,i,s,u,h,m){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===h&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(n){return new Tp(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:s,Ec:!1});return u.dc(n),u}Ac(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:s,Ec:!1});return u.Pc(),u}Rc(n){return this.Tc({path:void 0,Ec:!0})}Vc(n){return Vm(n,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}Pc(){if(this.path)for(let n=0;n<this.path.length;n++)this.dc(this.path.get(n))}dc(n){if(0===n.length)throw this.Vc("Document fields must not be empty");if(K_(this.hc)&&eu.test(n))throw this.Vc('Document fields cannot begin and end with "__"')}}class JE{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||ul(n)}gc(n,i,s,u=!1){return new Tp({hc:n,methodName:i,fc:s,path:Zn.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ml(c){const n=c._freezeSettings(),i=ul(c._databaseId);return new JE(c._databaseId,!!n.ignoreUndefinedProperties,i)}function bp(c,n,i,s,u,h={}){const m=c.gc(h.merge||h.mergeFields?2:0,n,i,u);Q_("Data must be an object, but it was:",m,s);const C=Fm(s,m);let N,V;if(h.merge)N=new Mo(m.fieldMask),V=m.fieldTransforms;else if(h.mergeFields){const J=[];for(const ue of h.mergeFields){const Ve=Dp(n,ue,i);if(!m.contains(Ve))throw new ne(Qe.INVALID_ARGUMENT,`Field '${Ve}' is specified in your field mask but missing from your input data.`);tw(J,Ve)||J.push(Ve)}N=new Mo(J),V=m.fieldTransforms.filter(ue=>N.covers(ue.field))}else N=null,V=m.fieldTransforms;return new Td(new to(C),N,V)}class bd extends Id{_toFieldTransform(n){if(2!==n.hc)throw n.Vc(1===n.hc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof bd}}function Du(c,n){if(ew(c=(0,Me.Ku)(c)))return Q_("Unsupported field value:",n,c),Fm(c,n);if(c instanceof Id)return function(s,u){if(!K_(u.hc))throw u.Vc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(c,n),null;if(void 0===c&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),c instanceof Array){if(n.settings.Ec&&4!==n.hc)throw n.Vc("Nested arrays are not supported");return function(s,u){const h=[];let m=0;for(const C of s){let N=Du(C,u.Rc(m));null==N&&(N={nullValue:"NULL_VALUE"}),h.push(N),m++}return{arrayValue:{values:h}}}(c,n)}return function(s,u){if(null===(s=(0,Me.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return qn(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const h=pr.fromDate(s);return{timestampValue:Gu(u.serializer,h)}}if(s instanceof pr){const h=new pr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gu(u.serializer,h)}}if(s instanceof Mm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ra)return{bytesValue:Fl(u.serializer,s._byteString)};if(s instanceof _o){const h=u.databaseId,m=s.firestore._databaseId;if(!m.isEqual(h))throw u.Vc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ku(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ip)return m=s,C=u,{mapValue:{fields:{[at]:{stringValue:bn},[mn]:{arrayValue:{values:m.toArray().map(V=>{if("number"!=typeof V)throw C.Vc("VectorValues must only contain numeric values.");return Ze(C.serializer,V)})}}}}};var m,C;throw u.Vc(`Unsupported field value: ${vd(s)}`)}(c,n)}function Fm(c,n){const i={};return vs(c)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):fo(c,(s,u)=>{const h=Du(u,n.Ic(s));null!=h&&(i[s]=h)}),{mapValue:{fields:i}}}function ew(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof pr||c instanceof Mm||c instanceof Ra||c instanceof _o||c instanceof Id||c instanceof Ip)}function Q_(c,n,i){if(!ew(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=vd(i);throw n.Vc("an object"===s?c+" a custom object":c+" "+s)}var u}function Dp(c,n,i){if((n=(0,Me.Ku)(n))instanceof gl)return n._internalPath;if("string"==typeof n)return Ad(c,n);throw Vm("Field path arguments must be of type string or ",c,!1,void 0,i)}const Lm=new RegExp("[~\\*/\\[\\]]");function Ad(c,n,i){if(n.search(Lm)>=0)throw Vm(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new gl(...n.split("."))._internalPath}catch{throw Vm(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function Vm(c,n,i,s,u){const h=s&&!s.isEmpty(),m=void 0!==u;let C=`Function ${n}() called with invalid data`;i&&(C+=" (via `toFirestore()`)"),C+=". ";let N="";return(h||m)&&(N+=" (found",h&&(N+=` in field ${s}`),m&&(N+=` in document ${u}`),N+=")"),new ne(Qe.INVALID_ARGUMENT,C+c+N)}function tw(c,n){return c.some(i=>i.isEqual(n))}class Cd{constructor(n,i,s,u,h){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new _o(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new nw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class nw extends Cd{data(){return super.data()}}function Ap(c,n){return"string"==typeof n?Ad(c,n):n instanceof gl?n._internalPath:n._delegate._internalPath}function X_(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new ne(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class zh extends Um{}function Z_(c,n,...i){let s=[];n instanceof Um&&s.push(n),s=s.concat(i),function(h){const m=h.filter(N=>N instanceof Rd).length,C=h.filter(N=>N instanceof Sd).length;if(m>1||m>0&&C>0)throw new ne(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)c=u._apply(c);return c}class Sd extends zh{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new Sd(n,i,s)}_apply(n){const i=this._parse(n);return cw(n._query,i),new Cs(n.firestore,n.converter,Hs(n._query,i))}_parse(n){const i=ml(n.firestore);return function(h,m,C,N,V,J,ue){let Ve;if(V.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new ne(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){aw(ue,J);const Wt=[];for(const fn of ue)Wt.push(jm(N,h,fn));Ve={arrayValue:{values:Wt}}}else Ve=jm(N,h,ue)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||aw(ue,J),Ve=function Om(c,n,i,s=!1){return Du(i,c.gc(s?4:3,n))}(C,"where",ue,"in"===J||"not-in"===J);return Gr.create(V,J,Ve)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}function rw(c,n,i){const s=n,u=Ap("where",c);return Sd._create(u,s,i)}class Rd extends Um{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Rd(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:Br.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,h){let m=u;const C=h.getFlattenedFilters();for(const N of C)cw(m,N),m=Hs(m,N)}(n._query,i),new Cs(n.firestore,n.converter,Hs(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function jm(c,n,i){if("string"==typeof(i=(0,Me.Ku)(i))){if(""===i)throw new ne(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Da(n)&&-1!==i.indexOf("/"))throw new ne(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(pt.fromString(i));if(!Yt.isDocumentKey(s))throw new ne(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _i(c,new Yt(s))}if(i instanceof _o)return _i(c,i._key);throw new ne(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(i)}.`)}function aw(c,n){if(!Array.isArray(c)||0===c.length)throw new ne(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function cw(c,n){const i=function(u,h){for(const m of u)for(const C of m.getFlattenedFilters())if(h.indexOf(C.op)>=0)return C.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new ne(Qe.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class tv{convertValue(n,i="none"){switch(Jn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Lr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(Er(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw mt(62114,{value:n})}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return fo(n,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(n){var i,s,u;const h=null===(u=null===(s=null===(i=n.fields)||void 0===i?void 0:i[mn].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(m=>Lr(m.doubleValue));return new Ip(h)}convertGeoPoint(n){return new Mm(Lr(n.latitude),Lr(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=wr(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(q(n));default:return null}}convertTimestamp(n){const i=No(n);return new pr(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=pt.fromString(n);tt(Bl(s),9688,{name:n});const u=new Ne(s.get(1),s.get(3)),h=new Yt(s.popFirst(5));return u.isEqual(i)||Bn(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class _l{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Nd extends Cd{constructor(n,i,s,u,h,m){super(n,i,s,u,m),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class kd extends Nd{data(n={}){return super.data(n)}}class Wh{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new _l(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new kd(this._firestore,this._userDataWriter,s.key,s,new _l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ne(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map(C=>({type:"added",doc:new kd(u._firestore,u._userDataWriter,C.doc.key,C.doc,new _l(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:m++}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(C=>h||3!==C.type).map(C=>{const N=new kd(u._firestore,u._userDataWriter,C.doc.key,C.doc,new _l(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter);let V=-1,J=-1;return 0!==C.type&&(V=m.indexOf(C.doc.key),m=m.delete(C.doc.key)),1!==C.type&&(m=m.add(C.doc),J=m.indexOf(C.doc.key)),{type:AT(C.type),doc:N,oldIndex:V,newIndex:J}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function AT(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:c})}}function CT(c){c=ti(c,_o);const n=ti(c.firestore,vo);return function M_(c,n,i={}){const s=new fe;return c.asyncQueue.enqueueAndForget((0,I.A)(function*(){return function(h,m,C,N,V){const J=new Yc({next:Ve=>{J.Cu(),m.enqueueAndForget(()=>bh(h,ue));const At=Ve.docs.has(C);!At&&Ve.fromCache?V.reject(new ne(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):At&&Ve.fromCache&&N&&"server"===N.source?V.reject(new ne(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(Ve)},error:Ve=>V.reject(Ve)}),ue=new Ch(bo(C.path),J,{includeMetadataChanges:!0,La:!0});return od(h,ue)}(yield Lh(c),c.asyncQueue,n,i,s)})),s.promise}(jo(n),c._key).then(i=>Au(n,c,i))}class vl extends tv{constructor(n){super(),this.firestore=n}convertBytes(n){return new Ra(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new _o(this.firestore,null,i)}}function ST(c){c=ti(c,Cs);const n=ti(c.firestore,vo),i=jo(n),s=new vl(n);return X_(c._query),function Im(c,n,i={}){const s=new fe;return c.asyncQueue.enqueueAndForget((0,I.A)(function*(){return function(h,m,C,N,V){const J=new Yc({next:Ve=>{J.Cu(),m.enqueueAndForget(()=>bh(h,ue)),Ve.fromCache&&"server"===N.source?V.reject(new ne(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(Ve)},error:Ve=>V.reject(Ve)}),ue=new Ch(C,J,{includeMetadataChanges:!0,La:!0});return od(h,ue)}(yield Lh(c),c.asyncQueue,n,i,s)})),s.promise}(i,c._query).then(u=>new Wh(n,s,c,u))}function Np(c,n,i){c=ti(c,_o);const s=ti(c.firestore,vo),u=function Mp(c,n,i){let s;return s=c?i&&(i.merge||i.mergeFields)?c.toFirestore(n,i):c.toFirestore(n):n,s}(c.converter,n,i);return xd(s,[bp(ml(s),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,Mn.none())])}function rv(c,n,i,...s){c=ti(c,_o);const u=ti(c.firestore,vo),h=ml(u);let m;return m="string"==typeof(n=(0,Me.Ku)(n))||n instanceof gl?function yl(c,n,i,s,u,h){const m=c.gc(1,n,i),C=[Dp(n,s,i)],N=[u];if(h.length%2!=0)throw new ne(Qe.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ve=0;Ve<h.length;Ve+=2)C.push(Dp(n,h[Ve])),N.push(h[Ve+1]);const V=[],J=to.empty();for(let Ve=C.length-1;Ve>=0;--Ve)if(!tw(V,C[Ve])){const At=C[Ve];let Wt=N[Ve];Wt=(0,Me.Ku)(Wt);const fn=m.Ac(At);if(Wt instanceof bd)V.push(At);else{const cn=Du(Wt,fn);null!=cn&&(V.push(At),J.set(At,cn))}}const ue=new Mo(V);return new G_(J,ue,m.fieldTransforms)}(h,"updateDoc",c._key,n,i,s):function hc(c,n,i,s){const u=c.gc(1,n,i);Q_("Data must be an object, but it was:",u,s);const h=[],m=to.empty();fo(s,(N,V)=>{const J=Ad(n,N,i);V=(0,Me.Ku)(V);const ue=u.Ac(J);if(V instanceof bd)h.push(J);else{const Ve=Du(V,ue);null!=Ve&&(h.push(J),m.set(J,Ve))}});const C=new Mo(h);return new G_(m,C,u.fieldTransforms)}(h,"updateDoc",c._key,n),xd(u,[m.toMutation(c._key,Mn.exists(!0))])}function iv(c){return xd(ti(c.firestore,vo),[new mo(c._key,Mn.none())])}function fw(c,...n){var i,s,u;c=(0,Me.Ku)(c);let h={includeMetadataChanges:!1,source:"default"},m=0;"object"!=typeof n[m]||Cm(n[m])||(h=n[m],m++);const C={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(Cm(n[m])){const ue=n[m];n[m]=null===(i=ue.next)||void 0===i?void 0:i.bind(ue),n[m+1]=null===(s=ue.error)||void 0===s?void 0:s.bind(ue),n[m+2]=null===(u=ue.complete)||void 0===u?void 0:u.bind(ue)}let N,V,J;if(c instanceof _o)V=ti(c.firestore,vo),J=bo(c._key.path),N={next:ue=>{n[m]&&n[m](Au(V,c,ue))},error:n[m+1],complete:n[m+2]};else{const ue=ti(c,Cs);V=ti(ue.firestore,vo),J=ue._query;const Ve=new vl(V);N={next:At=>{n[m]&&n[m](new Wh(V,Ve,ue,At))},error:n[m+1],complete:n[m+2]},X_(c._query)}return function(Ve,At,Wt,fn){const cn=new Yc(fn),er=new Ch(At,cn,Wt);return Ve.asyncQueue.enqueueAndForget((0,I.A)(function*(){return od(yield Lh(Ve),er)})),()=>{cn.Cu(),Ve.asyncQueue.enqueueAndForget((0,I.A)(function*(){return bh(yield Lh(Ve),er)}))}}(jo(V),J,C,N)}function xd(c,n){return function(s,u){const h=new fe;return s.asyncQueue.enqueueAndForget((0,I.A)(function*(){return function E_(c,n,i){return w_.apply(this,arguments)}(yield function R_(c){return Fh(c).then(n=>n.syncEngine)}(s),u,h)})),h.promise}(jo(c),n)}function Au(c,n,i){const s=i.docs.get(n._key),u=new vl(c);return new Nd(c,u,n._key,s,new _l(i.hasPendingWrites,i.fromCache),n.converter)}!function(n,i=!0){et=x.MF,(0,x.om)(new Z.uA("firestore",(s,{instanceIdentifier:u,options:h})=>{const m=s.getProvider("app").getImmediate(),C=new vo(new ge(s.getProvider("auth-internal")),new nn(m,s.getProvider("app-check-internal")),function(V,J){if(!Object.prototype.hasOwnProperty.apply(V.options,["projectId"]))throw new ne(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ne(V.options.projectId,J)}(m,u),m);return h=Object.assign({useFetchStreams:i},h),C._setSettings(h),C},"PUBLIC").setMultipleInstances(!0)),(0,x.KO)(Pt,"4.7.16",n),(0,x.KO)(Pt,"4.7.16","esm2017")}()},3494:(Dn,Ge,j)=>{"use strict";j.d(Ge,{s:()=>I});const I="function"==typeof Symbol&&Symbol.observable||"@@observable"},3604:(Dn,Ge,j)=>{"use strict";j.d(Ge,{q:()=>Z});const I={now:()=>(I.delegate||Date).now(),delegate:void 0};class x{constructor(Me,it=x.now){this.schedulerActionCtor=Me,this.now=it}schedule(Me,it=0,Ie){return new this.schedulerActionCtor(this,Me).schedule(Ie,it)}}x.now=I.now;class Z extends x{constructor(Me,it=x.now){super(Me,it),this.actions=[],this._active=!1}flush(Me){const{actions:it}=this;if(this._active)return void it.push(Me);let Ie;this._active=!0;do{if(Ie=Me.execute(Me.state,Me.delay))break}while(Me=it.shift());if(this._active=!1,Ie){for(;Me=it.shift();)Me.unsubscribe();throw Ie}}}},3669:(Dn,Ge,j)=>{"use strict";function I(x){return x}j.d(Ge,{D:()=>I})},4125:(Dn,Ge,j)=>{"use strict";j.d(Ge,{kR:()=>gt});var I=j(2967),Me=(j(1360),j(7440),j(2214),j(467)),it=j(7852),Ie=j(1362),De=j(6858),Ke=j(8041);const be=new Map,Te={activated:!1,tokenObservers:[]},ht={initialized:!1,enabled:!1};function Xe(Ee){return be.get(Ee)||Object.assign({},Te)}function Mt(){return ht}class Fe{constructor($e,Je,$t,qt,Tn){if(this.operation=$e,this.retryPolicy=Je,this.getWaitDuration=$t,this.lowerBound=qt,this.upperBound=Tn,this.pending=null,this.nextErrorWaitInterval=qt,qt>Tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process($e){var Je=this;return(0,Me.A)(function*(){Je.stop();try{Je.pending=new De.cY,Je.pending.promise.catch($t=>{}),yield function st(Ee){return new Promise($e=>{setTimeout($e,Ee)})}(Je.getNextRun($e)),Je.pending.resolve(),yield Je.pending.promise,Je.pending=new De.cY,Je.pending.promise.catch($t=>{}),yield Je.operation(),Je.pending.resolve(),yield Je.pending.promise,Je.process(!0).catch(()=>{})}catch($t){Je.retryPolicy($t)?Je.process(!1).catch(()=>{}):Je.stop()}})()}getNextRun($e){if($e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Je=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Je}}}const bt=new De.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function Dt(Ee){if(!Xe(Ee).activated)throw bt.create("use-before-activation",{appName:Ee.name})}function kn(Ee,$e){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,Me.A)(function*({url:Ee,body:$e},Je){const $t={"Content-Type":"application/json"},qt=Je.getImmediate({optional:!0});if(qt){const Pr=yield qt.getHeartbeatsHeader();Pr&&($t["X-Firebase-Client"]=Pr)}const Tn={method:"POST",body:JSON.stringify($e),headers:$t};let Ln,Cn;try{Ln=yield fetch(Ee,Tn)}catch(Pr){throw bt.create("fetch-network-error",{originalErrorMessage:Pr?.message})}if(200!==Ln.status)throw bt.create("fetch-status-error",{httpStatus:Ln.status});try{Cn=yield Ln.json()}catch(Pr){throw bt.create("fetch-parse-error",{originalErrorMessage:Pr?.message})}const rr=Cn.ttl.match(/^([\d.]+)(s)$/);if(!rr||!rr[2]||isNaN(Number(rr[1])))throw bt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Cn.ttl}`});const Wr=1e3*Number(rr[1]),Co=Date.now();return{token:Cn.token,expireTimeMillis:Co+Wr,issuedAtTimeMillis:Co}})).apply(this,arguments)}function tt(Ee,$e){const{projectId:Je,appId:$t,apiKey:qt}=Ee.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Je}/apps/${$t}:exchangeDebugToken?key=${qt}`,body:{debug_token:$e}}}const Qe="firebase-app-check-store";let fe=null;function un(){return(un=(0,Me.A)(function*(Ee,$e){const $t=(yield function pe(){return fe||(fe=new Promise((Ee,$e)=>{try{const Je=indexedDB.open("firebase-app-check-database",1);Je.onsuccess=$t=>{Ee($t.target.result)},Je.onerror=$t=>{var qt;$e(bt.create("storage-open",{originalErrorMessage:null===(qt=$t.target.error)||void 0===qt?void 0:qt.message}))},Je.onupgradeneeded=$t=>{0===$t.oldVersion&&$t.target.result.createObjectStore(Qe,{keyPath:"compositeKey"})}}catch(Je){$e(bt.create("storage-open",{originalErrorMessage:Je?.message}))}}),fe)}()).transaction(Qe,"readwrite"),Tn=$t.objectStore(Qe).put({compositeKey:Ee,value:$e});return new Promise((Ln,Cn)=>{Tn.onsuccess=rr=>{Ln()},$t.onerror=rr=>{var Wr;Cn(bt.create("storage-set",{originalErrorMessage:null===(Wr=rr.target.error)||void 0===Wr?void 0:Wr.message}))}})})).apply(this,arguments)}const Yn=new Ke.Vy("@firebase/app-check");function Un(Ee,$e){return(0,De.zW)()?function se(Ee,$e){return function Et(Ee,$e){return un.apply(this,arguments)}(function Qt(Ee){return`${Ee.options.appId}-${Ee.name}`}(Ee),$e)}(Ee,$e).catch(Je=>{Yn.warn(`Failed to write token to IndexedDB. Error: ${Je}`)}):Promise.resolve()}function kr(){return Mt().enabled}function Nr(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,Me.A)(function*(){const Ee=Mt();if(Ee.enabled&&Ee.token)return Ee.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const pr={error:"UNKNOWN_ERROR"};function ln(Ee){return De.K3.encodeString(JSON.stringify(Ee),!1)}function Gi(Ee){return xr.apply(this,arguments)}function xr(){return(xr=(0,Me.A)(function*(Ee,$e=!1,Je=!1){const $t=Ee.app;Dt($t);const qt=Xe($t);let Ln,Tn=qt.token;if(Tn&&!Ar(Tn)&&(qt.token=void 0,Tn=void 0),!Tn){const Wr=yield qt.cachedTokenPromise;Wr&&(Ar(Wr)?Tn=Wr:yield Un($t,void 0))}if(!$e&&Tn&&Ar(Tn))return{token:Tn.token};let rr,Cn=!1;if(kr())try{qt.exchangeTokenPromise||(qt.exchangeTokenPromise=kn(tt($t,yield Nr()),Ee.heartbeatServiceProvider).finally(()=>{qt.exchangeTokenPromise=void 0}),Cn=!0);const Wr=yield qt.exchangeTokenPromise;return yield Un($t,Wr),qt.token=Wr,{token:Wr.token}}catch(Wr){return"appCheck/throttled"===Wr.code||"appCheck/initial-throttle"===Wr.code?Yn.warn(Wr.message):Je&&Yn.error(Wr),vi(Wr)}try{qt.exchangeTokenPromise||(qt.exchangeTokenPromise=qt.provider.getToken().finally(()=>{qt.exchangeTokenPromise=void 0}),Cn=!0),Tn=yield Xe($t).exchangeTokenPromise}catch(Wr){"appCheck/throttled"===Wr.code||"appCheck/initial-throttle"===Wr.code?Yn.warn(Wr.message):Je&&Yn.error(Wr),Ln=Wr}return Tn?Ln?rr=Ar(Tn)?{token:Tn.token,internalError:Ln}:vi(Ln):(rr={token:Tn.token},qt.token=Tn,yield Un($t,Tn)):rr=vi(Ln),Cn&&function pi(Ee,$e){const Je=Xe(Ee).tokenObservers;for(const $t of Je)try{"EXTERNAL"===$t.type&&null!=$e.error?$t.error($e.error):$t.next($e)}catch{}}($t,rr),rr})).apply(this,arguments)}function Tr(){return(Tr=(0,Me.A)(function*(Ee){const $e=Ee.app;Dt($e);const{provider:Je}=Xe($e);if(kr()){const $t=yield Nr(),{token:qt}=yield kn(tt($e,$t),Ee.heartbeatServiceProvider);return{token:qt}}{const{token:$t}=yield Je.getToken();return{token:$t}}})).apply(this,arguments)}function Yt(Ee,$e){const Je=Xe(Ee),$t=Je.tokenObservers.filter(qt=>qt.next!==$e);0===$t.length&&Je.tokenRefresher&&Je.tokenRefresher.isRunning()&&Je.tokenRefresher.stop(),Je.tokenObservers=$t}function oi(Ee){const{app:$e}=Ee,Je=Xe($e);let $t=Je.tokenRefresher;$t||($t=function ui(Ee){const{app:$e}=Ee;return new Fe((0,Me.A)(function*(){let $t;if($t=Xe($e).token?yield Gi(Ee,!0):yield Gi(Ee),$t.error)throw $t.error;if($t.internalError)throw $t.internalError}),()=>!0,()=>{const Je=Xe($e);if(Je.token){let $t=Je.token.issuedAtTimeMillis+.5*(Je.token.expireTimeMillis-Je.token.issuedAtTimeMillis)+3e5;return $t=Math.min($t,Je.token.expireTimeMillis-3e5),Math.max(0,$t-Date.now())}return 0},3e4,96e4)}(Ee),Je.tokenRefresher=$t),!$t.isRunning()&&Je.isTokenAutoRefreshEnabled&&$t.start()}function Ar(Ee){return Ee.expireTimeMillis-Date.now()>0}function vi(Ee){return{token:ln(pr),error:Ee}}class Rr{constructor($e,Je){this.app=$e,this.heartbeatServiceProvider=Je}_delete(){const{tokenObservers:$e}=Xe(this.app);for(const Je of $e)Yt(this.app,Je.next);return Promise.resolve()}}const yr="app-check-internal";!function oe(){(0,it.om)(new Ie.uA("app-check",Ee=>function li(Ee,$e){return new Rr(Ee,$e)}(Ee.getProvider("app").getImmediate(),Ee.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ee,$e,Je)=>{Ee.getProvider(yr).initialize()})),(0,it.om)(new Ie.uA(yr,Ee=>function lr(Ee){return{getToken:$e=>Gi(Ee,$e),getLimitedUseToken:()=>function pt(Ee){return Tr.apply(this,arguments)}(Ee),addTokenListener:$e=>function Zn(Ee,$e,Je,$t){const{app:qt}=Ee,Tn=Xe(qt);if(Tn.tokenObservers=[...Tn.tokenObservers,{next:Je,error:$t,type:$e}],Tn.token&&Ar(Tn.token)){const Cn=Tn.token;Promise.resolve().then(()=>{Je({token:Cn.token}),oi(Ee)}).catch(()=>{})}Tn.cachedTokenPromise.then(()=>oi(Ee))}(Ee,"INTERNAL",$e),removeTokenListener:$e=>Yt(Ee.app,$e)}}(Ee.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,it.KO)("@firebase/app-check","0.10.0")}();class gt{constructor(){return(0,I.CA)("app-check")}}typeof window<"u"&&window},4360:(Dn,Ge,j)=>{"use strict";j.d(Ge,{_:()=>x});var I=j(7707);function x($,Me,it,Ie,De){return new Z($,Me,it,Ie,De)}class Z extends I.vU{constructor(Me,it,Ie,De,Ke,be){super(Me),this.onFinalize=Ke,this.shouldUnsubscribe=be,this._next=it?function(Te){try{it(Te)}catch(ht){Me.error(ht)}}:super._next,this._error=De?function(Te){try{De(Te)}catch(ht){Me.error(ht)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(Te){Me.error(Te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:it}=this;super.unsubscribe(),!it&&(null===(Me=this.onFinalize)||void 0===Me||Me.call(this))}}}},4412:(Dn,Ge,j)=>{"use strict";j.d(Ge,{t:()=>x});var I=j(1413);class x extends I.B{constructor($){super(),this._value=$}get value(){return this.getValue()}_subscribe($){const Me=super._subscribe($);return!Me.closed&&$.next(this._value),Me}getValue(){const{hasError:$,thrownError:Me,_value:it}=this;if($)throw Me;return this._throwIfClosed(),it}next($){super.next(this._value=$)}}},4761:(Dn,Ge,j)=>{"use strict";j.d(Ge,{l:()=>x});const x=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4796:(Dn,Ge,j)=>{"use strict";j.d(Ge,{u:()=>$});var I=j(6335),x=j(5964),Z=j(1360);let $=(()=>{class Me{auth;constructor(Ie){this.auth=Ie,console.log("%c<<< Start AUTH service >>>","background: #cff4fc; color: #055160; padding: 2px 5px;")}getAuthState(){return console.log("\u{1f441} Observando el estado de autenticaci\xf3n..."),(0,I.wh)(this.auth)}getCurrentUser(){return this.getAuthState().pipe((0,x.p)(Ie=>!!Ie))}login(Ie,De){return console.log("\u{1f510} Intentando iniciar sesi\xf3n con:",Ie),(0,I.x9)(this.auth,Ie,De)}register(Ie,De){return console.log("\u{1f4dd} Registrando nuevo usuario con:",Ie),(0,I.eJ)(this.auth,Ie,De)}logout(){return console.log("\u{1f6aa} Cerrando sesi\xf3n del usuario actual"),(0,I.CI)(this.auth)}resetPassword(Ie){return console.log("\u{1f4e7} Enviando enlace de recuperaci\xf3n a:",Ie),(0,I.J1)(this.auth,Ie)}static \u0275fac=function(De){return new(De||Me)(Z.KVO(I.Nj))};static \u0275prov=Z.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})()},4843:(Dn,Ge,j)=>{"use strict";j.d(Ge,{_:()=>Z});var I=j(9350),x=j(7707);function Z($,Me){const it="object"==typeof Me;return new Promise((Ie,De)=>{const Ke=new x.Ms({next:be=>{Ie(be),Ke.unsubscribe()},error:De,complete:()=>{it?Ie(Me.defaultValue):De(new I.G)}});$.subscribe(Ke)})}},5055:(Dn,Ge,j)=>{"use strict";j.d(Ge,{l:()=>Z});var I=j(3494),x=j(8071);function Z($){return(0,x.T)($[I.s])}},5072:(Dn,Ge,j)=>{"use strict";j.d(Ge,{nX:()=>So,Pu:()=>go,Zp:()=>$n,nU:()=>Gn,c1:()=>Yr,XR:()=>xn,wF:()=>Co,lW:()=>Lo,mo:()=>io,Z:()=>Wr,J2:()=>la,J_:()=>Rn,bw:()=>ur,tD:()=>Jr,Ix:()=>L,D$:()=>Bi,n3:()=>Kr,OY:()=>_r,Sd:()=>Or,bK:()=>as,gk:()=>_,Lg:()=>Xo,wO:()=>Ct,Us:()=>$i,we:()=>Es});var I=j(9361),x=j(6048),Z=j(1360),$=j(1985),Me=j(8071),Ie=j(8455),De=j(7673),Ke=j(4412),be=j(3073),Te=j(3669),ht=j(6450),Xe=j(9326),ft=j(8496),Mt=j(4360),zt=j(5225);function jt(...y){const T=(0,Xe.lI)(y),w=(0,Xe.ms)(y),{args:S,keys:F}=(0,be.D)(y);if(0===S.length)return(0,Ie.H)([],T);const Y=new $.c(function tn(y,T,w=Te.D){return S=>{vt(T,()=>{const{length:F}=y,Y=new Array(F);let ee=F,Oe=F;for(let Ze=0;Ze<F;Ze++)vt(T,()=>{const Gt=(0,Ie.H)(y[Ze],T);let qn=!1;Gt.subscribe((0,Mt._)(S,Sr=>{Y[Ze]=Sr,qn||(qn=!0,Oe--),Oe||S.next(w(Y.slice()))},()=>{--ee||S.complete()}))},S)},S)}}(S,T,F?ee=>(0,ft.e)(F,ee):Te.D));return w?Y.pipe((0,ht.I)(w)):Y}function vt(y,T,w){y?(0,zt.N)(w,y,T):T()}var Tt=j(9350),Pt=j(6365);function st(...y){return function Fe(){return(0,Pt.U)(1)}()((0,Ie.H)(y,(0,Xe.lI)(y)))}var et=j(8750);function bt(y){return new $.c(T=>{(0,et.Tg)(y()).subscribe(T)})}var Xt=j(1203);function Dt(y,T){const w=(0,Me.T)(y)?y:()=>y,S=F=>F.error(w());return new $.c(T?F=>T.schedule(S,0,F):S)}var lt=j(983),Bn=j(8359),kn=j(9974);function Xn(){return(0,kn.N)((y,T)=>{let w=null;y._refCount++;const S=(0,Mt._)(T,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(w=null);const F=y._connection,Y=w;w=null,F&&(!Y||F===Y)&&F.unsubscribe(),T.unsubscribe()});y.subscribe(S),S.closed||(w=y.connect())})}class mt extends $.c{constructor(T,w){super(),this.source=T,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,kn.S)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new Bn.yU;const w=this.getSubject();T.add(this.source.subscribe((0,Mt._)(w,void 0,()=>{this._teardown(),w.complete()},S=>{this._teardown(),w.error(S)},()=>this._teardown()))),T.closed&&(this._connection=null,T=Bn.yU.EMPTY)}return T}refCount(){return Xn()(this)}}var In=j(1413),tt=j(6354),sn=j(5558);function xt(y){return y<=0?()=>lt.w:(0,kn.N)((T,w)=>{let S=0;T.subscribe((0,Mt._)(w,F=>{++S<=y&&(w.next(F),y<=S&&w.complete())}))})}var ne=j(5964),fe=j(1397);function pe(y){return(0,kn.N)((T,w)=>{let S=!1;T.subscribe((0,Mt._)(w,F=>{S=!0,w.next(F)},()=>{S||w.next(y),w.complete()}))})}function ye(y=se){return(0,kn.N)((T,w)=>{let S=!1;T.subscribe((0,Mt._)(w,F=>{S=!0,w.next(F)},()=>S?w.complete():w.error(y())))})}function se(){return new Tt.G}function ge(y,T){const w=arguments.length>=2;return S=>S.pipe(y?(0,ne.p)((F,Y)=>y(F,Y,S)):Te.D,xt(1),w?pe(T):ye(()=>new Tt.G))}var Ye=j(274);function Et(y,T,w){const S=(0,Me.T)(y)||T||w?{next:y,error:T,complete:w}:y;return S?(0,kn.N)((F,Y)=>{var ee;null===(ee=S.subscribe)||void 0===ee||ee.call(S);let Oe=!0;F.subscribe((0,Mt._)(Y,Ze=>{var Gt;null===(Gt=S.next)||void 0===Gt||Gt.call(S,Ze),Y.next(Ze)},()=>{var Ze;Oe=!1,null===(Ze=S.complete)||void 0===Ze||Ze.call(S),Y.complete()},Ze=>{var Gt;Oe=!1,null===(Gt=S.error)||void 0===Gt||Gt.call(S,Ze),Y.error(Ze)},()=>{var Ze,Gt;Oe&&(null===(Ze=S.unsubscribe)||void 0===Ze||Ze.call(S)),null===(Gt=S.finalize)||void 0===Gt||Gt.call(S)}))}):Te.D}var un=j(9437);function Qt(y){return y<=0?()=>lt.w:(0,kn.N)((T,w)=>{let S=[];T.subscribe((0,Mt._)(w,F=>{S.push(F),y<S.length&&S.shift()},()=>{for(const F of S)w.next(F);w.complete()},void 0,()=>{S=null}))})}var zn=j(980),Jt=j(5343),nr=j(345);const An="primary",kr=Symbol("RouteTitle");class Nr{params;constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const w=this.params[T];return Array.isArray(w)?w[0]:w}return null}getAll(T){if(this.has(T)){const w=this.params[T];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Ai(y){return new Nr(y)}function gn(y,T,w){const S=w.path.split("/");if(S.length>y.length||"full"===w.pathMatch&&(T.hasChildren()||S.length<y.length))return null;const F={};for(let Y=0;Y<S.length;Y++){const ee=S[Y],Oe=y[Y];if(":"===ee[0])F[ee.substring(1)]=Oe;else if(ee!==Oe.path)return null}return{consumed:y.slice(0,S.length),posParams:F}}function ln(y,T){const w=y?Gi(y):void 0,S=T?Gi(T):void 0;if(!w||!S||w.length!=S.length)return!1;let F;for(let Y=0;Y<w.length;Y++)if(F=w[Y],!xr(y[F],T[F]))return!1;return!0}function Gi(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}function xr(y,T){if(Array.isArray(y)&&Array.isArray(T)){if(y.length!==T.length)return!1;const w=[...y].sort(),S=[...T].sort();return w.every((F,Y)=>S[Y]===F)}return y===T}function pt(y){return y.length>0?y[y.length-1]:null}function Tr(y){return function it(y){return!!y&&(y instanceof $.c||(0,Me.T)(y.lift)&&(0,Me.T)(y.subscribe))}(y)?y:(0,Z.jNT)(y)?(0,Ie.H)(Promise.resolve(y)):(0,De.of)(y)}const Zn={exact:function pi(y,T,w){if(!Sn(y.segments,T.segments)||!li(y.segments,T.segments,w)||y.numberOfChildren!==T.numberOfChildren)return!1;for(const S in T.children)if(!y.children[S]||!pi(y.children[S],T.children[S],w))return!1;return!0},subset:vi},Yt={exact:function ui(y,T){return ln(y,T)},subset:function Ar(y,T){return Object.keys(T).length<=Object.keys(y).length&&Object.keys(T).every(w=>xr(y[w],T[w]))},ignored:()=>!0};function oi(y,T,w){return Zn[w.paths](y.root,T.root,w.matrixParams)&&Yt[w.queryParams](y.queryParams,T.queryParams)&&!("exact"===w.fragment&&y.fragment!==T.fragment)}function vi(y,T,w){return Rr(y,T,T.segments,w)}function Rr(y,T,w,S){if(y.segments.length>w.length){const F=y.segments.slice(0,w.length);return!(!Sn(F,w)||T.hasChildren()||!li(F,w,S))}if(y.segments.length===w.length){if(!Sn(y.segments,w)||!li(y.segments,w,S))return!1;for(const F in T.children)if(!y.children[F]||!vi(y.children[F],T.children[F],S))return!1;return!0}{const F=w.slice(0,y.segments.length),Y=w.slice(y.segments.length);return!!(Sn(y.segments,F)&&li(y.segments,F,S)&&y.children[An])&&Rr(y.children[An],T,Y,S)}}function li(y,T,w){return T.every((S,F)=>Yt[w](y[F].parameters,S.parameters))}class lr{root;queryParams;fragment;_queryParamMap;constructor(T=new sr([],{}),w={},S=null){this.root=T,this.queryParams=w,this.fragment=S}get queryParamMap(){return this._queryParamMap??=Ai(this.queryParams),this._queryParamMap}toString(){return Ki.serialize(this)}}class sr{segments;children;parent=null;constructor(T,w){this.segments=T,this.children=w,Object.values(w).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return je(this)}}class gi{path;parameters;_parameterMap;constructor(T,w){this.path=T,this.parameters=w}get parameterMap(){return this._parameterMap??=Ai(this.parameters),this._parameterMap}toString(){return Oi(this)}}function Sn(y,T){return y.length===T.length&&y.every((w,S)=>w.path===T[S].path)}let Or=(()=>{class y{static \u0275fac=function(S){return new(S||y)};static \u0275prov=Z.jDH({token:y,factory:()=>new Gn,providedIn:"root"})}return y})();class Gn{parse(T){const w=new oe(T);return new lr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(T){const w=`/${Cr(T.root,!0)}`,S=function Li(y){const T=Object.entries(y).map(([w,S])=>Array.isArray(S)?S.map(F=>`${si(w)}=${si(F)}`).join("&"):`${si(w)}=${si(S)}`).filter(w=>w);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${w}${S}${"string"==typeof T.fragment?`#${function xi(y){return encodeURI(y)}(T.fragment)}`:""}`}}const Ki=new Gn;function je(y){return y.segments.map(T=>Oi(T)).join("/")}function Cr(y,T){if(!y.hasChildren())return je(y);if(T){const w=y.children[An]?Cr(y.children[An],!1):"",S=[];return Object.entries(y.children).forEach(([F,Y])=>{F!==An&&S.push(`${F}:${Cr(Y,!1)}`)}),S.length>0?`${w}(${S.join("//")})`:w}{const w=function Ti(y,T){let w=[];return Object.entries(y.children).forEach(([S,F])=>{S===An&&(w=w.concat(T(F,S)))}),Object.entries(y.children).forEach(([S,F])=>{S!==An&&(w=w.concat(T(F,S)))}),w}(y,(S,F)=>F===An?[Cr(y.children[An],!1)]:[`${F}:${Cr(S,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[An]?`${je(y)}/${w[0]}`:`${je(y)}/(${w.join("//")})`}}function qi(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function si(y){return qi(y).replace(/%3B/gi,";")}function vn(y){return qi(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mr(y){return decodeURIComponent(y)}function br(y){return mr(y.replace(/\+/g,"%20"))}function Oi(y){return`${vn(y.path)}${function Fi(y){return Object.entries(y).map(([T,w])=>`;${vn(T)}=${vn(w)}`).join("")}(y.parameters)}`}const Se=/^[^\/()?;#]+/;function _e(y){const T=y.match(Se);return T?T[0]:""}const He=/^[^\/()?;=#]+/,nt=/^[^=?&#]+/,Pn=/^[^&#]+/;class oe{url;remaining;constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sr([],{}):new sr([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(T.length>0||Object.keys(w).length>0)&&(S[An]=new sr(T,w)),S}parseSegment(){const T=_e(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new Z.wOt(4009,!1);return this.capture(T),new gi(mr(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const w=function Vt(y){const T=y.match(He);return T?T[0]:""}(this.remaining);if(!w)return;this.capture(w);let S="";if(this.consumeOptional("=")){const F=_e(this.remaining);F&&(S=F,this.capture(S))}T[mr(w)]=mr(S)}parseQueryParam(T){const w=function en(y){const T=y.match(nt);return T?T[0]:""}(this.remaining);if(!w)return;this.capture(w);let S="";if(this.consumeOptional("=")){const ee=function yr(y){const T=y.match(Pn);return T?T[0]:""}(this.remaining);ee&&(S=ee,this.capture(S))}const F=br(w),Y=br(S);if(T.hasOwnProperty(F)){let ee=T[F];Array.isArray(ee)||(ee=[ee],T[F]=ee),ee.push(Y)}else T[F]=Y}parseParens(T){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=_e(this.remaining),F=this.remaining[S.length];if("/"!==F&&")"!==F&&";"!==F)throw new Z.wOt(4010,!1);let Y;S.indexOf(":")>-1?(Y=S.slice(0,S.indexOf(":")),this.capture(Y),this.capture(":")):T&&(Y=An);const ee=this.parseChildren();w[Y]=1===Object.keys(ee).length?ee[An]:new sr([],ee),this.consumeOptional("//")}return w}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new Z.wOt(4011,!1)}}function le(y){return y.segments.length>0?new sr([],{[An]:y}):y}function Pe(y){const T={};for(const[S,F]of Object.entries(y.children)){const Y=Pe(F);if(S===An&&0===Y.segments.length&&Y.hasChildren())for(const[ee,Oe]of Object.entries(Y.children))T[ee]=Oe;else(Y.segments.length>0||Y.hasChildren())&&(T[S]=Y)}return function gt(y){if(1===y.numberOfChildren&&y.children[An]){const T=y.children[An];return new sr(y.segments.concat(T.segments),T.children)}return y}(new sr(y.segments,T))}function Ct(y){return y instanceof lr}function ve(y){let T;const F=le(function w(Y){const ee={};for(const Ze of Y.children){const Gt=w(Ze);ee[Ze.outlet]=Gt}const Oe=new sr(Y.url,ee);return Y===y&&(T=Oe),Oe}(y.root));return T??F}function Ue(y,T,w,S){let F=y;for(;F.parent;)F=F.parent;if(0===T.length)return _t(F,F,F,w,S);const Y=function jn(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new an(!0,0,y);let T=0,w=!1;const S=y.reduce((F,Y,ee)=>{if("object"==typeof Y&&null!=Y){if(Y.outlets){const Oe={};return Object.entries(Y.outlets).forEach(([Ze,Gt])=>{Oe[Ze]="string"==typeof Gt?Gt.split("/"):Gt}),[...F,{outlets:Oe}]}if(Y.segmentPath)return[...F,Y.segmentPath]}return"string"!=typeof Y?[...F,Y]:0===ee?(Y.split("/").forEach((Oe,Ze)=>{0==Ze&&"."===Oe||(0==Ze&&""===Oe?w=!0:".."===Oe?T++:""!=Oe&&F.push(Oe))}),F):[...F,Y]},[]);return new an(w,T,S)}(T);if(Y.toRoot())return _t(F,F,new sr([],{}),w,S);const ee=function Kn(y,T,w){if(y.isAbsolute)return new hn(T,!0,0);if(!w)return new hn(T,!1,NaN);if(null===w.parent)return new hn(w,!0,0);const S=Nt(y.commands[0])?0:1;return function cr(y,T,w){let S=y,F=T,Y=w;for(;Y>F;){if(Y-=F,S=S.parent,!S)throw new Z.wOt(4005,!1);F=S.segments.length}return new hn(S,!1,F-Y)}(w,w.segments.length-1+S,y.numberOfDoubleDots)}(Y,F,y),Oe=ee.processChildren?Ee(ee.segmentGroup,ee.index,Y.commands):Ci(ee.segmentGroup,ee.index,Y.commands);return _t(F,ee.segmentGroup,Oe,w,S)}function Nt(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function It(y){return"object"==typeof y&&null!=y&&y.outlets}function _t(y,T,w,S,F){let ee,Y={};S&&Object.entries(S).forEach(([Ze,Gt])=>{Y[Ze]=Array.isArray(Gt)?Gt.map(qn=>`${qn}`):`${Gt}`}),ee=y===T?w:Ft(y,T,w);const Oe=le(Pe(ee));return new lr(Oe,Y,F)}function Ft(y,T,w){const S={};return Object.entries(y.children).forEach(([F,Y])=>{S[F]=Y===T?w:Ft(Y,T,w)}),new sr(y.segments,S)}class an{isAbsolute;numberOfDoubleDots;commands;constructor(T,w,S){if(this.isAbsolute=T,this.numberOfDoubleDots=w,this.commands=S,T&&S.length>0&&Nt(S[0]))throw new Z.wOt(4003,!1);const F=S.find(It);if(F&&F!==pt(S))throw new Z.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hn{segmentGroup;processChildren;index;constructor(T,w,S){this.segmentGroup=T,this.processChildren=w,this.index=S}}function Ci(y,T,w){if(y??=new sr([],{}),0===y.segments.length&&y.hasChildren())return Ee(y,T,w);const S=function $e(y,T,w){let S=0,F=T;const Y={match:!1,pathIndex:0,commandIndex:0};for(;F<y.segments.length;){if(S>=w.length)return Y;const ee=y.segments[F],Oe=w[S];if(It(Oe))break;const Ze=`${Oe}`,Gt=S<w.length-1?w[S+1]:null;if(F>0&&void 0===Ze)break;if(Ze&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!Tn(Ze,Gt,ee))return Y;S+=2}else{if(!Tn(Ze,{},ee))return Y;S++}F++}return{match:!0,pathIndex:F,commandIndex:S}}(y,T,w),F=w.slice(S.commandIndex);if(S.match&&S.pathIndex<y.segments.length){const Y=new sr(y.segments.slice(0,S.pathIndex),{});return Y.children[An]=new sr(y.segments.slice(S.pathIndex),y.children),Ee(Y,0,F)}return S.match&&0===F.length?new sr(y.segments,{}):S.match&&!y.hasChildren()?Je(y,T,w):S.match?Ee(y,0,F):Je(y,T,w)}function Ee(y,T,w){if(0===w.length)return new sr(y.segments,{});{const S=function Ei(y){return It(y[0])?y[0].outlets:{[An]:y}}(w),F={};if(Object.keys(S).some(Y=>Y!==An)&&y.children[An]&&1===y.numberOfChildren&&0===y.children[An].segments.length){const Y=Ee(y.children[An],T,w);return new sr(y.segments,Y.children)}return Object.entries(S).forEach(([Y,ee])=>{"string"==typeof ee&&(ee=[ee]),null!==ee&&(F[Y]=Ci(y.children[Y],T,ee))}),Object.entries(y.children).forEach(([Y,ee])=>{void 0===S[Y]&&(F[Y]=ee)}),new sr(y.segments,F)}}function Je(y,T,w){const S=y.segments.slice(0,T);let F=0;for(;F<w.length;){const Y=w[F];if(It(Y)){const Ze=$t(Y.outlets);return new sr(S,Ze)}if(0===F&&Nt(w[0])){S.push(new gi(y.segments[T].path,qt(w[0]))),F++;continue}const ee=It(Y)?Y.outlets[An]:`${Y}`,Oe=F<w.length-1?w[F+1]:null;ee&&Oe&&Nt(Oe)?(S.push(new gi(ee,qt(Oe))),F+=2):(S.push(new gi(ee,{})),F++)}return new sr(S,{})}function $t(y){const T={};return Object.entries(y).forEach(([w,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(T[w]=Je(new sr([],{}),0,S))}),T}function qt(y){const T={};return Object.entries(y).forEach(([w,S])=>T[w]=`${S}`),T}function Tn(y,T,w){return y==w.path&&ln(T,w.parameters)}const Ln="imperative";var Cn=function(y){return y[y.NavigationStart=0]="NavigationStart",y[y.NavigationEnd=1]="NavigationEnd",y[y.NavigationCancel=2]="NavigationCancel",y[y.NavigationError=3]="NavigationError",y[y.RoutesRecognized=4]="RoutesRecognized",y[y.ResolveStart=5]="ResolveStart",y[y.ResolveEnd=6]="ResolveEnd",y[y.GuardsCheckStart=7]="GuardsCheckStart",y[y.GuardsCheckEnd=8]="GuardsCheckEnd",y[y.RouteConfigLoadStart=9]="RouteConfigLoadStart",y[y.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",y[y.ChildActivationStart=11]="ChildActivationStart",y[y.ChildActivationEnd=12]="ChildActivationEnd",y[y.ActivationStart=13]="ActivationStart",y[y.ActivationEnd=14]="ActivationEnd",y[y.Scroll=15]="Scroll",y[y.NavigationSkipped=16]="NavigationSkipped",y}(Cn||{});class rr{id;url;constructor(T,w){this.id=T,this.url=w}}class Wr extends rr{type=Cn.NavigationStart;navigationTrigger;restoredState;constructor(T,w,S="imperative",F=null){super(T,w),this.navigationTrigger=S,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Co extends rr{urlAfterRedirects;type=Cn.NavigationEnd;constructor(T,w,S){super(T,w),this.urlAfterRedirects=S}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Pr=function(y){return y[y.Redirect=0]="Redirect",y[y.SupersededByNewNavigation=1]="SupersededByNewNavigation",y[y.NoDataFromResolver=2]="NoDataFromResolver",y[y.GuardRejected=3]="GuardRejected",y}(Pr||{}),io=function(y){return y[y.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",y[y.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",y}(io||{});class ji extends rr{reason;code;type=Cn.NavigationCancel;constructor(T,w,S,F){super(T,w),this.reason=S,this.code=F}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lo extends rr{reason;code;type=Cn.NavigationSkipped;constructor(T,w,S,F){super(T,w),this.reason=S,this.code=F}}class eo extends rr{error;target;type=Cn.NavigationError;constructor(T,w,S,F){super(T,w),this.error=S,this.target=F}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class B extends rr{urlAfterRedirects;state;type=Cn.RoutesRecognized;constructor(T,w,S,F){super(T,w),this.urlAfterRedirects=S,this.state=F}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class me extends rr{urlAfterRedirects;state;type=Cn.GuardsCheckStart;constructor(T,w,S,F){super(T,w),this.urlAfterRedirects=S,this.state=F}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q extends rr{urlAfterRedirects;state;shouldActivate;type=Cn.GuardsCheckEnd;constructor(T,w,S,F,Y){super(T,w),this.urlAfterRedirects=S,this.state=F,this.shouldActivate=Y}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ie extends rr{urlAfterRedirects;state;type=Cn.ResolveStart;constructor(T,w,S,F){super(T,w),this.urlAfterRedirects=S,this.state=F}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke extends rr{urlAfterRedirects;state;type=Cn.ResolveEnd;constructor(T,w,S,F){super(T,w),this.urlAfterRedirects=S,this.state=F}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class St{route;type=Cn.RouteConfigLoadStart;constructor(T){this.route=T}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dn{route;type=Cn.RouteConfigLoadEnd;constructor(T){this.route=T}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fn{snapshot;type=Cn.ChildActivationStart;constructor(T){this.snapshot=T}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ai{snapshot;type=Cn.ChildActivationEnd;constructor(T){this.snapshot=T}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xr{snapshot;type=Cn.ActivationStart;constructor(T){this.snapshot=T}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{snapshot;type=Cn.ActivationEnd;constructor(T){this.snapshot=T}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _r{routerEvent;position;anchor;type=Cn.Scroll;constructor(T,w,S){this.routerEvent=T,this.position=w,this.anchor=S}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Vn{}class vr{url;navigationBehaviorOptions;constructor(T,w){this.url=T,this.navigationBehaviorOptions=w}}function $i(y){switch(y.type){case Cn.ActivationEnd:return`ActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case Cn.ActivationStart:return`ActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case Cn.ChildActivationEnd:return`ChildActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case Cn.ChildActivationStart:return`ChildActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case Cn.GuardsCheckEnd:return`GuardsCheckEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state}, shouldActivate: ${y.shouldActivate})`;case Cn.GuardsCheckStart:return`GuardsCheckStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case Cn.NavigationCancel:return`NavigationCancel(id: ${y.id}, url: '${y.url}')`;case Cn.NavigationSkipped:return`NavigationSkipped(id: ${y.id}, url: '${y.url}')`;case Cn.NavigationEnd:return`NavigationEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}')`;case Cn.NavigationError:return`NavigationError(id: ${y.id}, url: '${y.url}', error: ${y.error})`;case Cn.NavigationStart:return`NavigationStart(id: ${y.id}, url: '${y.url}')`;case Cn.ResolveEnd:return`ResolveEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case Cn.ResolveStart:return`ResolveStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case Cn.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${y.route.path})`;case Cn.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${y.route.path})`;case Cn.RoutesRecognized:return`RoutesRecognized(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case Cn.Scroll:return`Scroll(anchor: '${y.anchor}', position: '${y.position?`${y.position[0]}, ${y.position[1]}`:null}')`}}function xe(y){return y.outlet||An}function rn(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let T=y.parent;T;T=T.parent){const w=T.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class En{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return rn(this.route?.snapshot)??this.rootInjector}constructor(T){this.rootInjector=T,this.children=new $n(this.rootInjector)}}let $n=(()=>{class y{rootInjector;contexts=new Map;constructor(w){this.rootInjector=w}onChildOutletCreated(w,S){const F=this.getOrCreateContext(w);F.outlet=S,this.contexts.set(w,F)}onChildOutletDestroyed(w){const S=this.getContext(w);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let S=this.getContext(w);return S||(S=new En(this.rootInjector),this.contexts.set(w,S)),S}getContext(w){return this.contexts.get(w)||null}static \u0275fac=function(S){return new(S||y)(Z.KVO(Z.uvJ))};static \u0275prov=Z.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class Qi{_root;constructor(T){this._root=T}get root(){return this._root.value}parent(T){const w=this.pathFromRoot(T);return w.length>1?w[w.length-2]:null}children(T){const w=ho(T,this._root);return w?w.children.map(S=>S.value):[]}firstChild(T){const w=ho(T,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(T){const w=Ss(T,this._root);return w.length<2?[]:w[w.length-2].children.map(F=>F.value).filter(F=>F!==T)}pathFromRoot(T){return Ss(T,this._root).map(w=>w.value)}}function ho(y,T){if(y===T.value)return T;for(const w of T.children){const S=ho(y,w);if(S)return S}return null}function Ss(y,T){if(y===T.value)return[T];for(const w of T.children){const S=Ss(y,w);if(S.length)return S.unshift(T),S}return[]}class ni{value;children;constructor(T,w){this.value=T,this.children=w}toString(){return`TreeNode(${this.value})`}}function rs(y){const T={};return y&&y.children.forEach(w=>T[w.value.outlet]=w),T}class wn extends Qi{snapshot;constructor(T,w){super(T),this.snapshot=w,os(this,T)}toString(){return this.snapshot.toString()}}function is(y){const T=function wo(y){const Y=new Ro([],{},{},"",{},An,y,null,{});return new _s("",new ni(Y,[]))}(y),w=new Ke.t([new gi("",{})]),S=new Ke.t({}),F=new Ke.t({}),Y=new Ke.t({}),ee=new Ke.t(""),Oe=new So(w,S,Y,ee,F,An,y,T.root);return Oe.snapshot=T.root,new wn(new ni(Oe,[]),T)}class So{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(T,w,S,F,Y,ee,Oe,Ze){this.urlSubject=T,this.paramsSubject=w,this.queryParamsSubject=S,this.fragmentSubject=F,this.dataSubject=Y,this.outlet=ee,this.component=Oe,this._futureSnapshot=Ze,this.title=this.dataSubject?.pipe((0,tt.T)(Gt=>Gt[kr]))??(0,De.of)(void 0),this.url=T,this.params=w,this.queryParams=S,this.fragment=F,this.data=Y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,tt.T)(T=>Ai(T))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,tt.T)(T=>Ai(T))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qo(y,T,w="emptyOnly"){let S;const{routeConfig:F}=y;return S=null===T||"always"!==w&&""!==F?.path&&(T.component||T.routeConfig?.loadComponent)?{params:{...y.params},data:{...y.data},resolve:{...y.data,...y._resolvedData??{}}}:{params:{...T.params,...y.params},data:{...T.data,...y.data},resolve:{...y.data,...T.data,...F?.data,...y._resolvedData}},F&&zo(F)&&(S.resolve[kr]=F.title),S}class Ro{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[kr]}constructor(T,w,S,F,Y,ee,Oe,Ze,Gt){this.url=T,this.params=w,this.queryParams=S,this.fragment=F,this.data=Y,this.outlet=ee,this.component=Oe,this.routeConfig=Ze,this._resolve=Gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ai(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ai(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _s extends Qi{url;constructor(T,w){super(w),this.url=T,os(this,w)}toString(){return Fr(this._root)}}function os(y,T){T.value._routerState=y,T.children.forEach(w=>os(y,w))}function Fr(y){const T=y.children.length>0?` { ${y.children.map(Fr).join(", ")} } `:"";return`${y.value}${T}`}function Ho(y){if(y.snapshot){const T=y.snapshot,w=y._futureSnapshot;y.snapshot=w,ln(T.queryParams,w.queryParams)||y.queryParamsSubject.next(w.queryParams),T.fragment!==w.fragment&&y.fragmentSubject.next(w.fragment),ln(T.params,w.params)||y.paramsSubject.next(w.params),function pr(y,T){if(y.length!==T.length)return!1;for(let w=0;w<y.length;++w)if(!ln(y[w],T[w]))return!1;return!0}(T.url,w.url)||y.urlSubject.next(w.url),ln(T.data,w.data)||y.dataSubject.next(w.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function fo(y,T){const w=ln(y.params,T.params)&&function fr(y,T){return Sn(y,T)&&y.every((w,S)=>ln(w.parameters,T[S].parameters))}(y.url,T.url);return w&&!(!y.parent!=!T.parent)&&(!y.parent||fo(y.parent,T.parent))}function zo(y){return"string"==typeof y.title||null===y.title}const vs=new Z.nKC("");let Kr=(()=>{class y{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=An;activateEvents=new Z.bkB;deactivateEvents=new Z.bkB;attachEvents=new Z.bkB;detachEvents=new Z.bkB;routerOutletData=(0,Z.hFB)(void 0);parentContexts=(0,Z.WQX)($n);location=(0,Z.WQX)(Z.c1b);changeDetector=(0,Z.WQX)(Z.gRc);inputBinder=(0,Z.WQX)(Yr,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(w){if(w.name){const{firstChange:S,previousValue:F}=w.name;if(S)return;this.isTrackedInParentContexts(F)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(F)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,S){this.activated=w,this._activatedRoute=S,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,S){if(this.isActivated)throw new Z.wOt(4013,!1);this._activatedRoute=w;const F=this.location,ee=w.snapshot.component,Oe=this.parentContexts.getOrCreateContext(this.name).children,Ze=new oo(w,Oe,F.injector,this.routerOutletData);this.activated=F.createComponent(ee,{index:F.length,injector:Ze,environmentInjector:S}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(S){return new(S||y)};static \u0275dir=Z.FsC({type:y,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Z.OA$]})}return y})();class oo{route;childContexts;parent;outletData;constructor(T,w,S,F){this.route=T,this.childContexts=w,this.parent=S,this.outletData=F}get(T,w){return T===So?this.route:T===$n?this.childContexts:T===vs?this.outletData:this.parent.get(T,w)}}const Yr=new Z.nKC("");let Jr=(()=>{class y{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:S}=w,F=jt([S.queryParams,S.params,S.data]).pipe((0,sn.n)(([Y,ee,Oe],Ze)=>(Oe={...Y,...ee,...Oe},0===Ze?(0,De.of)(Oe):Promise.resolve(Oe)))).subscribe(Y=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(w);const ee=(0,Z.HJs)(S.component);if(ee)for(const{templateName:Oe}of ee.inputs)w.activatedComponentRef.setInput(Oe,Y[Oe]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,F)}static \u0275fac=function(S){return new(S||y)};static \u0275prov=Z.jDH({token:y,factory:y.\u0275fac})}return y})(),Es=(()=>{class y{static \u0275fac=function(S){return new(S||y)};static \u0275cmp=Z.VBU({type:y,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(S,F){1&S&&Z.nrm(0,"router-outlet")},dependencies:[Kr],encapsulation:2})}return y})();function Po(y){const T=y.children&&y.children.map(Po),w=T?{...y,children:T}:{...y};return!w.component&&!w.loadComponent&&(T||w.loadChildren)&&w.outlet&&w.outlet!==An&&(w.component=Es),w}function us(y,T,w){if(w&&y.shouldReuseRoute(T.value,w.value.snapshot)){const S=w.value;S._futureSnapshot=T.value;const F=function Io(y,T,w){return T.children.map(S=>{for(const F of w.children)if(y.shouldReuseRoute(S.value,F.value.snapshot))return us(y,S,F);return us(y,S)})}(y,T,w);return new ni(S,F)}{if(y.shouldAttach(T.value)){const Y=y.retrieve(T.value);if(null!==Y){const ee=Y.route;return ee.value._futureSnapshot=T.value,ee.children=T.children.map(Oe=>us(y,Oe)),ee}}const S=function Vi(y){return new So(new Ke.t(y.url),new Ke.t(y.params),new Ke.t(y.queryParams),new Ke.t(y.fragment),new Ke.t(y.data),y.outlet,y.component,y)}(T.value),F=T.children.map(Y=>us(y,Y));return new ni(S,F)}}class Fs{redirectTo;navigationBehaviorOptions;constructor(T,w){this.redirectTo=T,this.navigationBehaviorOptions=w}}const No="ngNavigationCancelingError";function Lr(y,T){const{redirectTo:w,navigationBehaviorOptions:S}=Ct(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,F=Er(!1,Pr.Redirect);return F.url=w,F.navigationBehaviorOptions=S,F}function Er(y,T){const w=new Error(`NavigationCancelingError: ${y||""}`);return w[No]=!0,w.cancellationCode=T,w}function Ys(y){return!!y&&y[No]}class Vo{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(T,w,S,F,Y){this.routeReuseStrategy=T,this.futureState=w,this.currState=S,this.forwardEvent=F,this.inputBindingEnabled=Y}activate(T){const w=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,S,T),Ho(this.futureState.root),this.activateChildRoutes(w,S,T)}deactivateChildRoutes(T,w,S){const F=rs(w);T.children.forEach(Y=>{const ee=Y.value.outlet;this.deactivateRoutes(Y,F[ee],S),delete F[ee]}),Object.values(F).forEach(Y=>{this.deactivateRouteAndItsChildren(Y,S)})}deactivateRoutes(T,w,S){const F=T.value,Y=w?w.value:null;if(F===Y)if(F.component){const ee=S.getContext(F.outlet);ee&&this.deactivateChildRoutes(T,w,ee.children)}else this.deactivateChildRoutes(T,w,S);else Y&&this.deactivateRouteAndItsChildren(w,S)}deactivateRouteAndItsChildren(T,w){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,w):this.deactivateRouteAndOutlet(T,w)}detachAndStoreRouteSubtree(T,w){const S=w.getContext(T.value.outlet),F=S&&T.value.component?S.children:w,Y=rs(T);for(const ee of Object.values(Y))this.deactivateRouteAndItsChildren(ee,F);if(S&&S.outlet){const ee=S.outlet.detach(),Oe=S.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:ee,route:T,contexts:Oe})}}deactivateRouteAndOutlet(T,w){const S=w.getContext(T.value.outlet),F=S&&T.value.component?S.children:w,Y=rs(T);for(const ee of Object.values(Y))this.deactivateRouteAndItsChildren(ee,F);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(T,w,S){const F=rs(w);T.children.forEach(Y=>{this.activateRoutes(Y,F[Y.value.outlet],S),this.forwardEvent(new Zr(Y.value.snapshot))}),T.children.length&&this.forwardEvent(new ai(T.value.snapshot))}activateRoutes(T,w,S){const F=T.value,Y=w?w.value:null;if(Ho(F),F===Y)if(F.component){const ee=S.getOrCreateContext(F.outlet);this.activateChildRoutes(T,w,ee.children)}else this.activateChildRoutes(T,w,S);else if(F.component){const ee=S.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const Oe=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),ee.children.onOutletReAttached(Oe.contexts),ee.attachRef=Oe.componentRef,ee.route=Oe.route.value,ee.outlet&&ee.outlet.attach(Oe.componentRef,Oe.route.value),Ho(Oe.route.value),this.activateChildRoutes(T,null,ee.children)}else ee.attachRef=null,ee.route=F,ee.outlet&&ee.outlet.activateWith(F,ee.injector),this.activateChildRoutes(T,null,ee.children)}else this.activateChildRoutes(T,null,S)}}class wr{path;route;constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class q{component;route;constructor(T,w){this.component=T,this.route=w}}function K(y,T,w){const S=y._root;return at(S,T?T._root:null,w,[S.value])}function Ne(y,T){const w=Symbol(),S=T.get(y,w);return S===w?"function"!=typeof y||(0,Z.LfX)(y)?T.get(y):y:S}function at(y,T,w,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const Y=rs(T);return y.children.forEach(ee=>{(function Ot(y,T,w,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const Y=y.value,ee=T?T.value:null,Oe=w?w.getContext(y.value.outlet):null;if(ee&&Y.routeConfig===ee.routeConfig){const Ze=function Zt(y,T,w){if("function"==typeof w)return w(y,T);switch(w){case"pathParamsChange":return!Sn(y.url,T.url);case"pathParamsOrQueryParamsChange":return!Sn(y.url,T.url)||!ln(y.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fo(y,T)||!ln(y.queryParams,T.queryParams);default:return!fo(y,T)}}(ee,Y,Y.routeConfig.runGuardsAndResolvers);Ze?F.canActivateChecks.push(new wr(S)):(Y.data=ee.data,Y._resolvedData=ee._resolvedData),at(y,T,Y.component?Oe?Oe.children:null:w,S,F),Ze&&Oe&&Oe.outlet&&Oe.outlet.isActivated&&F.canDeactivateChecks.push(new q(Oe.outlet.component,ee))}else ee&&bn(T,Oe,F),F.canActivateChecks.push(new wr(S)),at(y,null,Y.component?Oe?Oe.children:null:w,S,F)})(ee,Y[ee.value.outlet],w,S.concat([ee.value]),F),delete Y[ee.value.outlet]}),Object.entries(Y).forEach(([ee,Oe])=>bn(Oe,w.getContext(ee),F)),F}function bn(y,T,w){const S=rs(y),F=y.value;Object.entries(S).forEach(([Y,ee])=>{bn(ee,F.component?T?T.children.getContext(Y):null:T,w)}),w.canDeactivateChecks.push(new q(F.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,F))}function mn(y){return"function"==typeof y}function Si(y){return y instanceof Tt.G||"EmptyError"===y?.name}const ri=Symbol("INITIAL_VALUE");function Ni(){return(0,sn.n)(y=>jt(y.map(T=>T.pipe(xt(1),function Qe(...y){const T=(0,Xe.lI)(y);return(0,kn.N)((w,S)=>{(T?st(y,w,T):st(y,w)).subscribe(S)})}(ri)))).pipe((0,tt.T)(T=>{for(const w of T)if(!0!==w){if(w===ri)return ri;if(!1===w||so(w))return w}return!0}),(0,ne.p)(T=>T!==ri),xt(1)))}function so(y){return Ct(y)||y instanceof Fs}function Ls(y){return(0,Xt.F)(Et(T=>{if("boolean"!=typeof T)throw Lr(0,T)}),(0,tt.T)(T=>!0===T))}class Na{segmentGroup;constructor(T){this.segmentGroup=T||null}}class ca extends Error{urlTree;constructor(T){super(),this.urlTree=T}}function Vs(y){return Dt(new Na(y))}class di{urlSerializer;urlTree;constructor(T,w){this.urlSerializer=T,this.urlTree=w}lineralizeSegments(T,w){let S=[],F=w.root;for(;;){if(S=S.concat(F.segments),0===F.numberOfChildren)return(0,De.of)(S);if(F.numberOfChildren>1||!F.children[An])return Dt(new Z.wOt(4e3,!1));F=F.children[An]}}applyRedirectCommands(T,w,S,F,Y){if("string"!=typeof w){const Oe=w,{queryParams:Ze,fragment:Gt,routeConfig:qn,url:Sr,outlet:Ii,params:Zi,data:no,title:ao}=F,Pi=(0,Z.N4e)(Y,()=>Oe({params:Zi,data:no,queryParams:Ze,fragment:Gt,routeConfig:qn,url:Sr,outlet:Ii,title:ao}));if(Pi instanceof lr)throw new ca(Pi);w=Pi}const ee=this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),T,S);if("/"===w[0])throw new ca(ee);return ee}applyRedirectCreateUrlTree(T,w,S,F){const Y=this.createSegmentGroup(T,w.root,S,F);return new lr(Y,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(T,w){const S={};return Object.entries(T).forEach(([F,Y])=>{if("string"==typeof Y&&":"===Y[0]){const Oe=Y.substring(1);S[F]=w[Oe]}else S[F]=Y}),S}createSegmentGroup(T,w,S,F){const Y=this.createSegments(T,w.segments,S,F);let ee={};return Object.entries(w.children).forEach(([Oe,Ze])=>{ee[Oe]=this.createSegmentGroup(T,Ze,S,F)}),new sr(Y,ee)}createSegments(T,w,S,F){return w.map(Y=>":"===Y.path[0]?this.findPosParam(T,Y,F):this.findOrReturn(Y,S))}findPosParam(T,w,S){const F=S[w.path.substring(1)];if(!F)throw new Z.wOt(4001,!1);return F}findOrReturn(T,w){let S=0;for(const F of w){if(F.path===T.path)return w.splice(S),F;S++}return T}}const ko={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ms(y,T,w,S,F){const Y=Us(y,T,w);return Y.matched?(S=function mi(y,T){return y.providers&&!y._injector&&(y._injector=(0,Z.Ol2)(y.providers,T,`Route: ${y.path}`)),y._injector??T}(T,S),function ds(y,T,w,S){const F=T.canMatch;if(!F||0===F.length)return(0,De.of)(!0);const Y=F.map(ee=>{const Oe=Ne(ee,y);return Tr(function Ui(y){return y&&mn(y.canMatch)}(Oe)?Oe.canMatch(T,w):(0,Z.N4e)(y,()=>Oe(T,w)))});return(0,De.of)(Y).pipe(Ni(),Ls())}(S,T,w).pipe((0,tt.T)(ee=>!0===ee?Y:{...ko}))):(0,De.of)(Y)}function Us(y,T,w){if("**"===T.path)return function Bs(y){return{matched:!0,parameters:y.length>0?pt(y).parameters:{},consumedSegments:y,remainingSegments:[],positionalParamSegments:{}}}(w);if(""===T.path)return"full"===T.pathMatch&&(y.hasChildren()||w.length>0)?{...ko}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const F=(T.matcher||gn)(w,y,T);if(!F)return{...ko};const Y={};Object.entries(F.posParams??{}).forEach(([Oe,Ze])=>{Y[Oe]=Ze.path});const ee=F.consumed.length>0?{...Y,...F.consumed[F.consumed.length-1].parameters}:Y;return{matched:!0,consumedSegments:F.consumed,remainingSegments:w.slice(F.consumed.length),parameters:ee,positionalParamSegments:F.posParams??{}}}function bi(y,T,w,S){return w.length>0&&function Br(y,T,w){return w.some(S=>js(y,T,S)&&xe(S)!==An)}(y,w,S)?{segmentGroup:new sr(T,Gr(S,new sr(w,y.children))),slicedSegments:[]}:0===w.length&&function Ta(y,T,w){return w.some(S=>js(y,T,S))}(y,w,S)?{segmentGroup:new sr(y.segments,ua(y,w,S,y.children)),slicedSegments:w}:{segmentGroup:new sr(y.segments,y.children),slicedSegments:w}}function ua(y,T,w,S){const F={};for(const Y of w)if(js(y,T,Y)&&!S[xe(Y)]){const ee=new sr([],{});F[xe(Y)]=ee}return{...S,...F}}function Gr(y,T){const w={};w[An]=T;for(const S of y)if(""===S.path&&xe(S)!==An){const F=new sr([],{});w[xe(S)]=F}return w}function js(y,T,w){return(!(y.hasChildren()||T.length>0)||"full"!==w.pathMatch)&&""===w.path}class ba{}class xa{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(T,w,S,F,Y,ee,Oe){this.injector=T,this.configLoader=w,this.rootComponentType=S,this.config=F,this.urlTree=Y,this.paramsInheritanceStrategy=ee,this.urlSerializer=Oe,this.applyRedirects=new di(this.urlSerializer,this.urlTree)}noMatchError(T){return new Z.wOt(4002,`'${T.segmentGroup}'`)}recognize(){const T=bi(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(T).pipe((0,tt.T)(({children:w,rootSnapshot:S})=>{const F=new ni(S,w),Y=new _s("",F),ee=function ce(y,T,w=null,S=null){return Ue(ve(y),T,w,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return ee.queryParams=this.urlTree.queryParams,Y.url=this.urlSerializer.serialize(ee),{state:Y,tree:ee}}))}match(T){const w=new Ro([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),An,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,T,An,w).pipe((0,tt.T)(S=>({children:S,rootSnapshot:w})),(0,un.W)(S=>{if(S instanceof ca)return this.urlTree=S.urlTree,this.match(S.urlTree.root);throw S instanceof Na?this.noMatchError(S):S}))}processSegmentGroup(T,w,S,F,Y){return 0===S.segments.length&&S.hasChildren()?this.processChildren(T,w,S,Y):this.processSegment(T,w,S,S.segments,F,!0,Y).pipe((0,tt.T)(ee=>ee instanceof ni?[ee]:[]))}processChildren(T,w,S,F){const Y=[];for(const ee of Object.keys(S.children))"primary"===ee?Y.unshift(ee):Y.push(ee);return(0,Ie.H)(Y).pipe((0,Ye.H)(ee=>{const Oe=S.children[ee],Ze=function yt(y,T){const w=y.filter(S=>xe(S)===T);return w.push(...y.filter(S=>xe(S)!==T)),w}(w,ee);return this.processSegmentGroup(T,Ze,Oe,ee,F)}),function tr(y,T){return(0,kn.N)(function nn(y,T,w,S,F){return(Y,ee)=>{let Oe=w,Ze=T,Gt=0;Y.subscribe((0,Mt._)(ee,qn=>{const Sr=Gt++;Ze=Oe?y(Ze,qn,Sr):(Oe=!0,qn),S&&ee.next(Ze)},F&&(()=>{Oe&&ee.next(Ze),ee.complete()})))}}(y,T,arguments.length>=2,!0))}((ee,Oe)=>(ee.push(...Oe),ee)),pe(null),function Yn(y,T){const w=arguments.length>=2;return S=>S.pipe(y?(0,ne.p)((F,Y)=>y(F,Y,S)):Te.D,Qt(1),w?pe(T):ye(()=>new Tt.G))}(),(0,fe.Z)(ee=>{if(null===ee)return Vs(S);const Oe=on(ee);return function Go(y){y.sort((T,w)=>T.value.outlet===An?-1:w.value.outlet===An?1:T.value.outlet.localeCompare(w.value.outlet))}(Oe),(0,De.of)(Oe)}))}processSegment(T,w,S,F,Y,ee,Oe){return(0,Ie.H)(w).pipe((0,Ye.H)(Ze=>this.processSegmentAgainstRoute(Ze._injector??T,w,Ze,S,F,Y,ee,Oe).pipe((0,un.W)(Gt=>{if(Gt instanceof Na)return(0,De.of)(null);throw Gt}))),ge(Ze=>!!Ze),(0,un.W)(Ze=>{if(Si(Ze))return function qa(y,T,w){return 0===T.length&&!y.children[w]}(S,F,Y)?(0,De.of)(new ba):Vs(S);throw Ze}))}processSegmentAgainstRoute(T,w,S,F,Y,ee,Oe,Ze){return xe(S)===ee||ee!==An&&js(F,Y,S)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(T,F,S,Y,ee,Ze):this.allowRedirects&&Oe?this.expandSegmentAgainstRouteUsingRedirect(T,F,w,S,Y,ee,Ze):Vs(F):Vs(F)}expandSegmentAgainstRouteUsingRedirect(T,w,S,F,Y,ee,Oe){const{matched:Ze,parameters:Gt,consumedSegments:qn,positionalParamSegments:Sr,remainingSegments:Ii}=Us(w,F,Y);if(!Ze)return Vs(w);"string"==typeof F.redirectTo&&"/"===F.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Zi=new Ro(Y,Gt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hi(F),xe(F),F.component??F._loadedComponent??null,F,Uo(F)),no=Qo(Zi,Oe,this.paramsInheritanceStrategy);Zi.params=Object.freeze(no.params),Zi.data=Object.freeze(no.data);const ao=this.applyRedirects.applyRedirectCommands(qn,F.redirectTo,Sr,Zi,T);return this.applyRedirects.lineralizeSegments(F,ao).pipe((0,fe.Z)(Pi=>this.processSegment(T,S,w,Pi.concat(Ii),ee,!1,Oe)))}matchSegmentAgainstRoute(T,w,S,F,Y,ee){const Oe=Ms(w,S,F,T);return"**"===S.path&&(w.children={}),Oe.pipe((0,sn.n)(Ze=>Ze.matched?this.getChildConfig(T=S._injector??T,S,F).pipe((0,sn.n)(({routes:Gt})=>{const qn=S._loadedInjector??T,{parameters:Sr,consumedSegments:Ii,remainingSegments:Zi}=Ze,no=new Ro(Ii,Sr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hi(S),xe(S),S.component??S._loadedComponent??null,S,Uo(S)),ao=Qo(no,ee,this.paramsInheritanceStrategy);no.params=Object.freeze(ao.params),no.data=Object.freeze(ao.data);const{segmentGroup:Pi,slicedSegments:Bo}=bi(w,Ii,Zi,Gt);if(0===Bo.length&&Pi.hasChildren())return this.processChildren(qn,Gt,Pi,no).pipe((0,tt.T)(Js=>new ni(no,Js)));if(0===Gt.length&&0===Bo.length)return(0,De.of)(new ni(no,[]));const ws=xe(S)===Y;return this.processSegment(qn,Gt,Pi,Bo,ws?An:Y,!0,no).pipe((0,tt.T)(Js=>new ni(no,Js instanceof ni?[Js]:[])))})):Vs(w)))}getChildConfig(T,w,S){return w.children?(0,De.of)({routes:w.children,injector:T}):w.loadChildren?void 0!==w._loadedRoutes?(0,De.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function Ia(y,T,w,S){const F=T.canLoad;if(void 0===F||0===F.length)return(0,De.of)(!0);const Y=F.map(ee=>{const Oe=Ne(ee,y);return Tr(function Jn(y){return y&&mn(y.canLoad)}(Oe)?Oe.canLoad(T,w):(0,Z.N4e)(y,()=>Oe(T,w)))});return(0,De.of)(Y).pipe(Ni(),Ls())}(T,w,S).pipe((0,fe.Z)(F=>F?this.configLoader.loadChildren(T,w).pipe(Et(Y=>{w._loadedRoutes=Y.routes,w._loadedInjector=Y.injector})):function Ps(){return Dt(Er(!1,Pr.GuardRejected))}())):(0,De.of)({routes:[],injector:T})}}function qr(y){const T=y.value.routeConfig;return T&&""===T.path}function on(y){const T=[],w=new Set;for(const S of y){if(!qr(S)){T.push(S);continue}const F=T.find(Y=>S.value.routeConfig===Y.value.routeConfig);void 0!==F?(F.children.push(...S.children),w.add(F)):T.push(S)}for(const S of w){const F=on(S.children);T.push(new ni(S.value,F))}return T.filter(S=>!w.has(S))}function hi(y){return y.data||{}}function Uo(y){return y.resolve||{}}function hs(y){const T=y.children.map(w=>hs(w)).flat();return[y,...T]}function z(y){return(0,sn.n)(T=>{const w=y(T);return w?(0,Ie.H)(w).pipe((0,tt.T)(()=>T)):(0,De.of)(T)})}let Re=(()=>{class y{buildTitle(w){let S,F=w.root;for(;void 0!==F;)S=this.getResolvedTitleForRoute(F)??S,F=F.children.find(Y=>Y.outlet===An);return S}getResolvedTitleForRoute(w){return w.data[kr]}static \u0275fac=function(S){return new(S||y)};static \u0275prov=Z.jDH({token:y,factory:()=>(0,Z.WQX)(Lt),providedIn:"root"})}return y})(),Lt=(()=>{class y extends Re{title;constructor(w){super(),this.title=w}updateTitle(w){const S=this.buildTitle(w);void 0!==S&&this.title.setTitle(S)}static \u0275fac=function(S){return new(S||y)(Z.KVO(nr.hE))};static \u0275prov=Z.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const Rn=new Z.nKC("",{providedIn:"root",factory:()=>({})}),ur=new Z.nKC("");let Bi=(()=>{class y{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,Z.WQX)(Z.Ql9);loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,De.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const S=Tr(w.loadComponent()).pipe((0,tt.T)($s),Et(Y=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=Y}),(0,zn.j)(()=>{this.componentLoaders.delete(w)})),F=new mt(S,()=>new In.B).pipe(Xn());return this.componentLoaders.set(w,F),F}loadChildren(w,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,De.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const Y=function zi(y,T,w,S){return Tr(y.loadChildren()).pipe((0,tt.T)($s),(0,fe.Z)(F=>F instanceof Z.Co$||Array.isArray(F)?(0,De.of)(F):(0,Ie.H)(T.compileModuleAsync(F))),(0,tt.T)(F=>{S&&S(y);let Y,ee,Oe=!1;return Array.isArray(F)?(ee=F,!0):(Y=F.create(w).injector,ee=Y.get(ur,[],{optional:!0,self:!0}).flat()),{routes:ee.map(Po),injector:Y}}))}(S,this.compiler,w,this.onLoadEndListener).pipe((0,zn.j)(()=>{this.childrenLoaders.delete(S)})),ee=new mt(Y,()=>new In.B).pipe(Xn());return this.childrenLoaders.set(S,ee),ee}static \u0275fac=function(S){return new(S||y)};static \u0275prov=Z.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function $s(y){return function bo(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Da=(()=>{class y{static \u0275fac=function(S){return new(S||y)};static \u0275prov=Z.jDH({token:y,factory:()=>(0,Z.WQX)(ss),providedIn:"root"})}return y})(),ss=(()=>{class y{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,S){return w}static \u0275fac=function(S){return new(S||y)};static \u0275prov=Z.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const go=new Z.nKC(""),as=new Z.nKC("");function Xo(y,T,w){const S=y.get(as),F=y.get(I.q);return y.get(Z.SKi).runOutsideAngular(()=>{if(!F.startViewTransition||S.skipNextTransition)return S.skipNextTransition=!1,new Promise(Gt=>setTimeout(Gt));let Y;const ee=new Promise(Gt=>{Y=Gt}),Oe=F.startViewTransition(()=>(Y(),function Hs(y){return new Promise(T=>{(0,Z.mal)({read:()=>setTimeout(T)},{injector:y})})}(y))),{onViewTransitionCreated:Ze}=S;return Ze&&(0,Z.N4e)(y,()=>Ze({transition:Oe,from:T,to:w})),ee})}const xn=new Z.nKC("");let la=(()=>{class y{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new In.B;transitionAbortSubject=new In.B;configLoader=(0,Z.WQX)(Bi);environmentInjector=(0,Z.WQX)(Z.uvJ);destroyRef=(0,Z.WQX)(Z.abz);urlSerializer=(0,Z.WQX)(Or);rootContexts=(0,Z.WQX)($n);location=(0,Z.WQX)(x.aZ);inputBindingEnabled=null!==(0,Z.WQX)(Yr,{optional:!0});titleStrategy=(0,Z.WQX)(Re);options=(0,Z.WQX)(Rn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,Z.WQX)(Da);createViewTransition=(0,Z.WQX)(go,{optional:!0});navigationErrorHandler=(0,Z.WQX)(xn,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,De.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=F=>this.events.next(new dn(F)),this.configLoader.onLoadStartListener=F=>this.events.next(new St(F)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(w){const S=++this.navigationId;this.transitions?.next({...w,extractedUrl:this.urlHandlingStrategy.extract(w.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:S})}setupNavigations(w){return this.transitions=new Ke.t(null),this.transitions.pipe((0,ne.p)(S=>null!==S),(0,sn.n)(S=>{let F=!1,Y=!1;return(0,De.of)(S).pipe((0,sn.n)(ee=>{if(this.navigationId>S.id)return this.cancelNavigationTransition(S,"",Pr.SupersededByNewNavigation),lt.w;this.currentTransition=S,this.currentNavigation={id:ee.id,initialUrl:ee.rawUrl,extractedUrl:ee.extractedUrl,targetBrowserUrl:"string"==typeof ee.extras.browserUrl?this.urlSerializer.parse(ee.extras.browserUrl):ee.extras.browserUrl,trigger:ee.source,extras:ee.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Oe=!w.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Oe&&"reload"!==(ee.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Gt="";return this.events.next(new Lo(ee.id,this.urlSerializer.serialize(ee.rawUrl),Gt,io.IgnoredSameUrlNavigation)),ee.resolve(!1),lt.w}if(this.urlHandlingStrategy.shouldProcessUrl(ee.rawUrl))return(0,De.of)(ee).pipe((0,sn.n)(Gt=>(this.events.next(new Wr(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),Gt.source,Gt.restoredState)),Gt.id!==this.navigationId?lt.w:Promise.resolve(Gt))),function Hi(y,T,w,S,F,Y){return(0,fe.Z)(ee=>function Qa(y,T,w,S,F,Y,ee="emptyOnly"){return new xa(y,T,w,S,F,ee,Y).recognize()}(y,T,w,S,ee.extractedUrl,F,Y).pipe((0,tt.T)(({state:Oe,tree:Ze})=>({...ee,targetSnapshot:Oe,urlAfterRedirects:Ze}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,this.paramsInheritanceStrategy),Et(Gt=>{S.targetSnapshot=Gt.targetSnapshot,S.urlAfterRedirects=Gt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Gt.urlAfterRedirects};const qn=new B(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(qn)}));if(Oe&&this.urlHandlingStrategy.shouldProcessUrl(ee.currentRawUrl)){const{id:Gt,extractedUrl:qn,source:Sr,restoredState:Ii,extras:Zi}=ee,no=new Wr(Gt,this.urlSerializer.serialize(qn),Sr,Ii);this.events.next(no);const ao=is(this.rootComponentType).snapshot;return this.currentTransition=S={...ee,targetSnapshot:ao,urlAfterRedirects:qn,extras:{...Zi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=qn,(0,De.of)(S)}{const Gt="";return this.events.next(new Lo(ee.id,this.urlSerializer.serialize(ee.extractedUrl),Gt,io.IgnoredByUrlHandlingStrategy)),ee.resolve(!1),lt.w}}),Et(ee=>{const Oe=new me(ee.id,this.urlSerializer.serialize(ee.extractedUrl),this.urlSerializer.serialize(ee.urlAfterRedirects),ee.targetSnapshot);this.events.next(Oe)}),(0,tt.T)(ee=>(this.currentTransition=S={...ee,guards:K(ee.targetSnapshot,ee.currentSnapshot,this.rootContexts)},S)),function _i(y,T){return(0,fe.Z)(w=>{const{targetSnapshot:S,currentSnapshot:F,guards:{canActivateChecks:Y,canDeactivateChecks:ee}}=w;return 0===ee.length&&0===Y.length?(0,De.of)({...w,guardsResult:!0}):function Ri(y,T,w,S){return(0,Ie.H)(y).pipe((0,fe.Z)(F=>function aa(y,T,w,S,F){const Y=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!Y||0===Y.length)return(0,De.of)(!0);const ee=Y.map(Oe=>{const Ze=rn(T)??F,Gt=Ne(Oe,Ze);return Tr(function yi(y){return y&&mn(y.canDeactivate)}(Gt)?Gt.canDeactivate(y,T,w,S):(0,Z.N4e)(Ze,()=>Gt(y,T,w,S))).pipe(ge())});return(0,De.of)(ee).pipe(Ni())}(F.component,F.route,w,T,S)),ge(F=>!0!==F,!0))}(ee,S,F,y).pipe((0,fe.Z)(Oe=>Oe&&function gr(y){return"boolean"==typeof y}(Oe)?function To(y,T,w,S){return(0,Ie.H)(T).pipe((0,Ye.H)(F=>st(function po(y,T){return null!==y&&T&&T(new Fn(y)),(0,De.of)(!0)}(F.route.parent,S),function ii(y,T){return null!==y&&T&&T(new Xr(y)),(0,De.of)(!0)}(F.route,S),function ls(y,T,w){const S=T[T.length-1],Y=T.slice(0,T.length-1).reverse().map(ee=>function we(y){const T=y.routeConfig?y.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:y,guards:T}:null}(ee)).filter(ee=>null!==ee).map(ee=>bt(()=>{const Oe=ee.guards.map(Ze=>{const Gt=rn(ee.node)??w,qn=Ne(Ze,Gt);return Tr(function wi(y){return y&&mn(y.canActivateChild)}(qn)?qn.canActivateChild(S,y):(0,Z.N4e)(Gt,()=>qn(S,y))).pipe(ge())});return(0,De.of)(Oe).pipe(Ni())}));return(0,De.of)(Y).pipe(Ni())}(y,F.path,w),function Wo(y,T,w){const S=T.routeConfig?T.routeConfig.canActivate:null;if(!S||0===S.length)return(0,De.of)(!0);const F=S.map(Y=>bt(()=>{const ee=rn(T)??w,Oe=Ne(Y,ee);return Tr(function Ur(y){return y&&mn(y.canActivate)}(Oe)?Oe.canActivate(T,y):(0,Z.N4e)(ee,()=>Oe(T,y))).pipe(ge())}));return(0,De.of)(F).pipe(Ni())}(y,F.route,w))),ge(F=>!0!==F,!0))}(S,Y,y,T):(0,De.of)(Oe)),(0,tt.T)(Oe=>({...w,guardsResult:Oe})))})}(this.environmentInjector,ee=>this.events.next(ee)),Et(ee=>{if(S.guardsResult=ee.guardsResult,ee.guardsResult&&"boolean"!=typeof ee.guardsResult)throw Lr(0,ee.guardsResult);const Oe=new Q(ee.id,this.urlSerializer.serialize(ee.extractedUrl),this.urlSerializer.serialize(ee.urlAfterRedirects),ee.targetSnapshot,!!ee.guardsResult);this.events.next(Oe)}),(0,ne.p)(ee=>!!ee.guardsResult||(this.cancelNavigationTransition(ee,"",Pr.GuardRejected),!1)),z(ee=>{if(0!==ee.guards.canActivateChecks.length)return(0,De.of)(ee).pipe(Et(Oe=>{const Ze=new ie(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),this.urlSerializer.serialize(Oe.urlAfterRedirects),Oe.targetSnapshot);this.events.next(Ze)}),(0,sn.n)(Oe=>{let Ze=!1;return(0,De.of)(Oe).pipe(function Ko(y,T){return(0,fe.Z)(w=>{const{targetSnapshot:S,guards:{canActivateChecks:F}}=w;if(!F.length)return(0,De.of)(w);const Y=new Set(F.map(Ze=>Ze.route)),ee=new Set;for(const Ze of Y)if(!ee.has(Ze))for(const Gt of hs(Ze))ee.add(Gt);let Oe=0;return(0,Ie.H)(ee).pipe((0,Ye.H)(Ze=>Y.has(Ze)?function jr(y,T,w,S){const F=y.routeConfig,Y=y._resolve;return void 0!==F?.title&&!zo(F)&&(Y[kr]=F.title),function P(y,T,w,S){const F=Gi(y);if(0===F.length)return(0,De.of)({});const Y={};return(0,Ie.H)(F).pipe((0,fe.Z)(ee=>function M(y,T,w,S){const F=rn(T)??S,Y=Ne(y,F);return Tr(Y.resolve?Y.resolve(T,w):(0,Z.N4e)(F,()=>Y(T,w)))}(y[ee],T,w,S).pipe(ge(),Et(Oe=>{if(Oe instanceof Fs)throw Lr(new Gn,Oe);Y[ee]=Oe}))),Qt(1),(0,tt.T)(()=>Y),(0,un.W)(ee=>Si(ee)?lt.w:Dt(ee)))}(Y,y,T,S).pipe((0,tt.T)(ee=>(y._resolvedData=ee,y.data=Qo(y,y.parent,w).resolve,null)))}(Ze,S,y,T):(Ze.data=Qo(Ze,Ze.parent,y).resolve,(0,De.of)(void 0))),Et(()=>Oe++),Qt(1),(0,fe.Z)(Ze=>Oe===ee.size?(0,De.of)(w):lt.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),Et({next:()=>Ze=!0,complete:()=>{Ze||this.cancelNavigationTransition(Oe,"",Pr.NoDataFromResolver)}}))}),Et(Oe=>{const Ze=new ke(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),this.urlSerializer.serialize(Oe.urlAfterRedirects),Oe.targetSnapshot);this.events.next(Ze)}))}),z(ee=>{const Oe=Ze=>{const Gt=[];Ze.routeConfig?.loadComponent&&!Ze.routeConfig._loadedComponent&&Gt.push(this.configLoader.loadComponent(Ze.routeConfig).pipe(Et(qn=>{Ze.component=qn}),(0,tt.T)(()=>{})));for(const qn of Ze.children)Gt.push(...Oe(qn));return Gt};return jt(Oe(ee.targetSnapshot.root)).pipe(pe(null),xt(1))}),z(()=>this.afterPreactivation()),(0,sn.n)(()=>{const{currentSnapshot:ee,targetSnapshot:Oe}=S,Ze=this.createViewTransition?.(this.environmentInjector,ee.root,Oe.root);return Ze?(0,Ie.H)(Ze).pipe((0,tt.T)(()=>S)):(0,De.of)(S)}),(0,tt.T)(ee=>{const Oe=function Mo(y,T,w){const S=us(y,T._root,w?w._root:void 0);return new wn(S,T)}(w.routeReuseStrategy,ee.targetSnapshot,ee.currentRouterState);return this.currentTransition=S={...ee,targetRouterState:Oe},this.currentNavigation.targetRouterState=Oe,S}),Et(()=>{this.events.next(new Vn)}),((y,T,w,S)=>(0,tt.T)(F=>(new Vo(T,F.targetRouterState,F.currentRouterState,w,S).activate(y),F)))(this.rootContexts,w.routeReuseStrategy,ee=>this.events.next(ee),this.inputBindingEnabled),xt(1),Et({next:ee=>{F=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Co(ee.id,this.urlSerializer.serialize(ee.extractedUrl),this.urlSerializer.serialize(ee.urlAfterRedirects))),this.titleStrategy?.updateTitle(ee.targetRouterState.snapshot),ee.resolve(!0)},complete:()=>{F=!0}}),function Un(y){return(0,kn.N)((T,w)=>{(0,et.Tg)(y).subscribe((0,Mt._)(w,()=>w.complete(),Jt.l)),!w.closed&&T.subscribe(w)})}(this.transitionAbortSubject.pipe(Et(ee=>{throw ee}))),(0,zn.j)(()=>{!F&&!Y&&this.cancelNavigationTransition(S,"",Pr.SupersededByNewNavigation),this.currentTransition?.id===S.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,un.W)(ee=>{if(this.destroyed)return S.resolve(!1),lt.w;if(Y=!0,Ys(ee))this.events.next(new ji(S.id,this.urlSerializer.serialize(S.extractedUrl),ee.message,ee.cancellationCode)),function Xi(y){return Ys(y)&&Ct(y.url)}(ee)?this.events.next(new vr(ee.url,ee.navigationBehaviorOptions)):S.resolve(!1);else{const Oe=new eo(S.id,this.urlSerializer.serialize(S.extractedUrl),ee,S.targetSnapshot??void 0);try{const Ze=(0,Z.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Oe));if(!(Ze instanceof Fs))throw this.events.next(Oe),ee;{const{message:Gt,cancellationCode:qn}=Lr(0,Ze);this.events.next(new ji(S.id,this.urlSerializer.serialize(S.extractedUrl),Gt,qn)),this.events.next(new vr(Ze.redirectTo,Ze.navigationBehaviorOptions))}}catch(Ze){this.options.resolveNavigationPromiseOnError?S.resolve(!1):S.reject(Ze)}}return lt.w}))}))}cancelNavigationTransition(w,S,F){const Y=new ji(w.id,this.urlSerializer.serialize(w.extractedUrl),S,F);this.events.next(Y),w.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const w=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),S=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return w.toString()!==S?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(S){return new(S||y)};static \u0275prov=Z.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function bs(y){return y!==Ln}let cs=(()=>{class y{static \u0275fac=function(S){return new(S||y)};static \u0275prov=Z.jDH({token:y,factory:()=>(0,Z.WQX)(Aa),providedIn:"root"})}return y})();class da{shouldDetach(T){return!1}store(T,w){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,w){return T.routeConfig===w.routeConfig}}let Aa=(()=>{class y extends da{static \u0275fac=(()=>{let w;return function(F){return(w||(w=Z.xGo(y)))(F||y)}})();static \u0275prov=Z.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),Wi=(()=>{class y{urlSerializer=(0,Z.WQX)(Or);options=(0,Z.WQX)(Rn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,Z.WQX)(x.aZ);urlHandlingStrategy=(0,Z.WQX)(Da);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new lr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:w,initialUrl:S,targetBrowserUrl:F}){const Y=void 0!==w?this.urlHandlingStrategy.merge(w,S):S,ee=F??Y;return ee instanceof lr?this.urlSerializer.serialize(ee):ee}commitTransition({targetRouterState:w,finalUrl:S,initialUrl:F}){S&&w?(this.currentUrlTree=S,this.rawUrlTree=this.urlHandlingStrategy.merge(S,F),this.routerState=w):this.rawUrlTree=F}routerState=is(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:w}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w??this.rawUrlTree)}static \u0275fac=function(S){return new(S||y)};static \u0275prov=Z.jDH({token:y,factory:()=>(0,Z.WQX)(H),providedIn:"root"})}return y})(),H=(()=>{class y extends Wi{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(w){return this.location.subscribe(S=>{"popstate"===S.type&&setTimeout(()=>{w(S.url,S.state,"popstate")})})}handleRouterEvent(w,S){w instanceof Wr?this.updateStateMemento():w instanceof Lo?this.commitTransition(S):w instanceof B?"eager"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(S),S)):w instanceof Vn?(this.commitTransition(S),"deferred"===this.urlUpdateStrategy&&!S.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(S),S)):w instanceof ji&&(w.code===Pr.GuardRejected||w.code===Pr.NoDataFromResolver)?this.restoreHistory(S):w instanceof eo?this.restoreHistory(S,!0):w instanceof Co&&(this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId)}setBrowserUrl(w,{extras:S,id:F}){const{replaceUrl:Y,state:ee}=S;if(this.location.isCurrentPathEqualTo(w)||Y){const Oe=this.browserPageId,Ze={...ee,...this.generateNgRouterState(F,Oe)};this.location.replaceState(w,"",Ze)}else{const Oe={...ee,...this.generateNgRouterState(F,this.browserPageId+1)};this.location.go(w,"",Oe)}}restoreHistory(w,S=!1){if("computed"===this.canceledNavigationResolution){const Y=this.currentPageId-this.browserPageId;0!==Y?this.location.historyGo(Y):this.getCurrentUrlTree()===w.finalUrl&&0===Y&&(this.resetInternalState(w),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetInternalState(w),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,S){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:S}:{navigationId:w}}static \u0275fac=(()=>{let w;return function(F){return(w||(w=Z.xGo(y)))(F||y)}})();static \u0275prov=Z.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function _(y,T){y.events.pipe((0,ne.p)(w=>w instanceof Co||w instanceof ji||w instanceof eo||w instanceof Lo),(0,tt.T)(w=>w instanceof Co||w instanceof Lo?0:w instanceof ji&&(w.code===Pr.Redirect||w.code===Pr.SupersededByNewNavigation)?2:1),(0,ne.p)(w=>2!==w),xt(1)).subscribe(()=>{T()})}const E={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},R={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let L=(()=>{class y{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,Z.WQX)(Z.H3F);stateManager=(0,Z.WQX)(Wi);options=(0,Z.WQX)(Rn,{optional:!0})||{};pendingTasks=(0,Z.WQX)(Z.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,Z.WQX)(la);urlSerializer=(0,Z.WQX)(Or);location=(0,Z.WQX)(x.aZ);urlHandlingStrategy=(0,Z.WQX)(Da);_events=new In.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,Z.WQX)(cs);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,Z.WQX)(ur,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,Z.WQX)(Yr,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:w=>{this.console.warn(w)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Bn.yU;subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(S=>{try{const F=this.navigationTransitions.currentTransition,Y=this.navigationTransitions.currentNavigation;if(null!==F&&null!==Y)if(this.stateManager.handleRouterEvent(S,Y),S instanceof ji&&S.code!==Pr.Redirect&&S.code!==Pr.SupersededByNewNavigation)this.navigated=!0;else if(S instanceof Co)this.navigated=!0;else if(S instanceof vr){const ee=S.navigationBehaviorOptions,Oe=this.urlHandlingStrategy.merge(S.url,F.currentRawUrl),Ze={browserUrl:F.extras.browserUrl,info:F.extras.info,skipLocationChange:F.extras.skipLocationChange,replaceUrl:F.extras.replaceUrl||"eager"===this.urlUpdateStrategy||bs(F.source),...ee};this.scheduleNavigation(Oe,Ln,null,Ze,{resolve:F.resolve,reject:F.reject,promise:F.promise})}(function Ae(y){return!(y instanceof Vn||y instanceof vr)})(S)&&this._events.next(S)}catch(F){this.navigationTransitions.transitionAbortSubject.next(F)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ln,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((w,S,F)=>{this.navigateToSyncWithBrowser(w,F,S)})}navigateToSyncWithBrowser(w,S,F){const Y={replaceUrl:!0},ee=F?.navigationId?F:null;if(F){const Ze={...F};delete Ze.navigationId,delete Ze.\u0275routerPageId,0!==Object.keys(Ze).length&&(Y.state=Ze)}const Oe=this.parseUrl(w);this.scheduleNavigation(Oe,S,ee,Y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Po),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,S={}){const{relativeTo:F,queryParams:Y,fragment:ee,queryParamsHandling:Oe,preserveFragment:Ze}=S,Gt=Ze?this.currentUrlTree.fragment:ee;let Sr,qn=null;switch(Oe??this.options.defaultQueryParamsHandling){case"merge":qn={...this.currentUrlTree.queryParams,...Y};break;case"preserve":qn=this.currentUrlTree.queryParams;break;default:qn=Y||null}null!==qn&&(qn=this.removeEmptyProps(qn));try{Sr=ve(F?F.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||"/"!==w[0][0])&&(w=[]),Sr=this.currentUrlTree.root}return Ue(Sr,w,qn,Gt??null)}navigateByUrl(w,S={skipLocationChange:!1}){const F=Ct(w)?w:this.parseUrl(w),Y=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(Y,Ln,null,S)}navigate(w,S={skipLocationChange:!1}){return function X(y){for(let T=0;T<y.length;T++)if(null==y[T])throw new Z.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,S),S)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){try{return this.urlSerializer.parse(w)}catch{return this.urlSerializer.parse("/")}}isActive(w,S){let F;if(F=!0===S?{...E}:!1===S?{...R}:S,Ct(w))return oi(this.currentUrlTree,w,F);const Y=this.parseUrl(w);return oi(this.currentUrlTree,Y,F)}removeEmptyProps(w){return Object.entries(w).reduce((S,[F,Y])=>(null!=Y&&(S[F]=Y),S),{})}scheduleNavigation(w,S,F,Y,ee){if(this.disposed)return Promise.resolve(!1);let Oe,Ze,Gt;ee?(Oe=ee.resolve,Ze=ee.reject,Gt=ee.promise):Gt=new Promise((Sr,Ii)=>{Oe=Sr,Ze=Ii});const qn=this.pendingTasks.add();return _(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(qn))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:Y,resolve:Oe,reject:Ze,promise:Gt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Gt.catch(Sr=>Promise.reject(Sr))}static \u0275fac=function(S){return new(S||y)};static \u0275prov=Z.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},5196:(Dn,Ge,j)=>{"use strict";j.d(Ge,{C:()=>Z,U:()=>$});var I=j(1635),x=j(8071);function Z(Me){return(0,I.AQ)(this,arguments,function*(){const Ie=Me.getReader();try{for(;;){const{value:De,done:Ke}=yield(0,I.N3)(Ie.read());if(Ke)return yield(0,I.N3)(void 0);yield yield(0,I.N3)(De)}}finally{Ie.releaseLock()}})}function $(Me){return(0,x.T)(Me?.getReader)}},5207:(Dn,Ge,j)=>{"use strict";j.d(Ge,{Wk:()=>jn,iI:()=>Zr,lh:()=>$t});var I=j(6048),x=j(1360),Z=j(9361);let it=(()=>{class de{static \u0275prov=(0,x.jDH)({token:de,providedIn:"root",factory:()=>new Ie((0,x.WQX)(Z.q),window)})}return de})();class Ie{document;window;offset=()=>[0,0];constructor(ot,xe){this.document=ot,this.window=xe}setOffset(ot){this.offset=Array.isArray(ot)?()=>ot:ot}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(ot){this.window.scrollTo(ot[0],ot[1])}scrollToAnchor(ot){const xe=function De(de,ot){const xe=de.getElementById(ot)||de.getElementsByName(ot)[0];if(xe)return xe;if("function"==typeof de.createTreeWalker&&de.body&&"function"==typeof de.body.attachShadow){const yt=de.createTreeWalker(de.body,NodeFilter.SHOW_ELEMENT);let rn=yt.currentNode;for(;rn;){const En=rn.shadowRoot;if(En){const $n=En.getElementById(ot)||En.querySelector(`[name="${ot}"]`);if($n)return $n}rn=yt.nextNode()}}return null}(this.document,ot);xe&&(this.scrollToElement(xe),xe.focus())}setHistoryScrollRestoration(ot){this.window.history.scrollRestoration=ot}scrollToElement(ot){const xe=ot.getBoundingClientRect(),yt=xe.left+this.window.pageXOffset,rn=xe.top+this.window.pageYOffset,En=this.offset();this.window.scrollTo(yt-En[0],rn-En[1])}}var Ct=j(2881),ce=j(5072),ve=j(1413),Ue=j(7673),Nt=j(8455),It=j(6365),_t=j(5964),Ft=j(274),an=j(1397);let jn=(()=>{class de{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ve.B;constructor(xe,yt,rn,En,$n,Qi){this.router=xe,this.route=yt,this.tabIndexAttribute=rn,this.renderer=En,this.el=$n,this.locationStrategy=Qi;const ho=$n.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ho||"area"===ho,this.isAnchorElement?this.subscription=xe.events.subscribe(Ss=>{Ss instanceof ce.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(xe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",xe)}ngOnChanges(xe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(xe){null==xe?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,ce.wO)(xe)||Array.isArray(xe)?xe:[xe],this.setTabIndexIfNotOnNativeEl("0"))}onClick(xe,yt,rn,En,$n){const Qi=this.urlTree;return!!(null===Qi||this.isAnchorElement&&(0!==xe||yt||rn||En||$n||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Qi,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const xe=this.urlTree;this.href=null!==xe&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(xe)):null;const yt=null===this.href?null:(0,x.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",yt)}applyAttributeValue(xe,yt){const rn=this.renderer,En=this.el.nativeElement;null!==yt?rn.setAttribute(En,xe,yt):rn.removeAttribute(En,xe)}get urlTree(){return null===this.routerLinkInput?null:(0,ce.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(yt){return new(yt||de)(x.rXU(ce.Ix),x.rXU(ce.nX),x.kS0("tabindex"),x.rXU(x.sFG),x.rXU(x.aKT),x.rXU(I.hb))};static \u0275dir=x.FsC({type:de,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(yt,rn){1&yt&&x.bIt("click",function($n){return rn.onClick($n.button,$n.ctrlKey,$n.shiftKey,$n.altKey,$n.metaKey)}),2&yt&&x.BMQ("target",rn.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",x.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",x.L39],replaceUrl:[2,"replaceUrl","replaceUrl",x.L39],routerLink:"routerLink"},features:[x.OA$]})}return de})();class cr{}let Ee=(()=>{class de{router;injector;preloadingStrategy;loader;subscription;constructor(xe,yt,rn,En){this.router=xe,this.injector=yt,this.preloadingStrategy=rn,this.loader=En}setUpPreloading(){this.subscription=this.router.events.pipe((0,_t.p)(xe=>xe instanceof ce.wF),(0,Ft.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(xe,yt){const rn=[];for(const En of yt){En.providers&&!En._injector&&(En._injector=(0,x.Ol2)(En.providers,xe,`Route: ${En.path}`));const $n=En._injector??xe,Qi=En._loadedInjector??$n;(En.loadChildren&&!En._loadedRoutes&&void 0===En.canLoad||En.loadComponent&&!En._loadedComponent)&&rn.push(this.preloadConfig($n,En)),(En.children||En._loadedRoutes)&&rn.push(this.processRoutes(Qi,En.children??En._loadedRoutes))}return(0,Nt.H)(rn).pipe((0,It.U)())}preloadConfig(xe,yt){return this.preloadingStrategy.preload(yt,()=>{let rn;rn=yt.loadChildren&&void 0===yt.canLoad?this.loader.loadChildren(xe,yt):(0,Ue.of)(null);const En=rn.pipe((0,an.Z)($n=>null===$n?(0,Ue.of)(void 0):(yt._loadedRoutes=$n.routes,yt._loadedInjector=$n.injector,this.processRoutes($n.injector??xe,$n.routes))));if(yt.loadComponent&&!yt._loadedComponent){const $n=this.loader.loadComponent(yt);return(0,Nt.H)([En,$n]).pipe((0,It.U)())}return En})}static \u0275fac=function(yt){return new(yt||de)(x.KVO(ce.Ix),x.KVO(x.uvJ),x.KVO(cr),x.KVO(ce.D$))};static \u0275prov=x.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const $e=new x.nKC("");let Je=(()=>{class de{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(xe,yt,rn,En,$n={}){this.urlSerializer=xe,this.transitions=yt,this.viewportScroller=rn,this.zone=En,this.options=$n,$n.scrollPositionRestoration||="disabled",$n.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(xe=>{xe instanceof ce.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=xe.navigationTrigger,this.restoredId=xe.restoredState?xe.restoredState.navigationId:0):xe instanceof ce.wF?(this.lastId=xe.id,this.scheduleScrollEvent(xe,this.urlSerializer.parse(xe.urlAfterRedirects).fragment)):xe instanceof ce.lW&&xe.code===ce.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(xe,this.urlSerializer.parse(xe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(xe=>{xe instanceof ce.OY&&(xe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(xe.position):xe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(xe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(xe,yt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ce.OY(xe,"popstate"===this.lastSource?this.store[this.restoredId]:null,yt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(yt){x.QTQ()};static \u0275prov=x.jDH({token:de,factory:de.\u0275fac})}return de})();function $t(de,...ot){return(0,x.EmA)([{provide:ce.bw,multi:!0,useValue:de},[],{provide:ce.nX,useFactory:qt,deps:[ce.Ix]},{provide:x.iLQ,multi:!0,useFactory:Co},ot.map(xe=>xe.\u0275providers)])}function qt(de){return de.routerState.root}function Tn(de,ot){return{\u0275kind:de,\u0275providers:ot}}function Co(){const de=(0,x.WQX)(x.zZn);return ot=>{const xe=de.get(x.o8S);if(ot!==xe.components[0])return;const yt=de.get(ce.Ix),rn=de.get(Pr);1===de.get(io)&&yt.initialNavigation(),de.get(B,null,x.$GK.Optional)?.setUpPreloading(),de.get($e,null,x.$GK.Optional)?.init(),yt.resetRootComponentType(xe.componentTypes[0]),rn.closed||(rn.next(),rn.complete(),rn.unsubscribe())}}const Pr=new x.nKC("",{factory:()=>new ve.B}),io=new x.nKC("",{providedIn:"root",factory:()=>1}),B=new x.nKC("");function me(de){return Tn(0,[{provide:B,useExisting:Ee},{provide:cr,useExisting:de}])}function dn(de){return(0,x.ngT)("NgRouterViewTransitions"),Tn(9,[{provide:ce.Pu,useValue:ce.Lg},{provide:ce.bK,useValue:{skipNextTransition:!!de?.skipInitialTransition,...de}}])}const Xr=[I.aZ,{provide:ce.Sd,useClass:ce.nU},ce.Ix,ce.Zp,{provide:ce.nX,useFactory:qt,deps:[ce.Ix]},ce.D$,[]];let Zr=(()=>{class de{constructor(){}static forRoot(xe,yt){return{ngModule:de,providers:[Xr,[],{provide:ce.bw,multi:!0,useValue:xe},[],yt?.errorHandler?{provide:ce.XR,useValue:yt.errorHandler}:[],{provide:ce.J_,useValue:yt||{}},yt?.useHash?{provide:I.hb,useClass:Ct.fw}:{provide:I.hb,useClass:I.Sm},{provide:$e,useFactory:()=>{const de=(0,x.WQX)(it),ot=(0,x.WQX)(x.SKi),xe=(0,x.WQX)(ce.J_),yt=(0,x.WQX)(ce.J2),rn=(0,x.WQX)(ce.Sd);return xe.scrollOffset&&de.setOffset(xe.scrollOffset),new Je(rn,yt,de,ot,xe)}},yt?.preloadingStrategy?me(yt.preloadingStrategy).\u0275providers:[],yt?.initialNavigation?mi(yt):[],yt?.bindToComponentInputs?Tn(8,[ce.tD,{provide:ce.c1,useExisting:ce.tD}]).\u0275providers:[],yt?.enableViewTransitions?dn().\u0275providers:[],[{provide:Eo,useFactory:Co},{provide:x.iLQ,multi:!0,useExisting:Eo}]]}}static forChild(xe){return{ngModule:de,providers:[{provide:ce.bw,multi:!0,useValue:xe}]}}static \u0275fac=function(yt){return new(yt||de)};static \u0275mod=x.$C({type:de});static \u0275inj=x.G2t({})}return de})();function mi(de){return["disabled"===de.initialNavigation?Tn(3,[(0,x.phd)(()=>{(0,x.WQX)(ce.Ix).setUpLocationChangeListener()}),{provide:io,useValue:2}]).\u0275providers:[],"enabledBlocking"===de.initialNavigation?Tn(2,[{provide:io,useValue:0},(0,x.phd)(()=>{const ot=(0,x.WQX)(x.zZn);return ot.get(I.hj,Promise.resolve()).then(()=>new Promise(yt=>{const rn=ot.get(ce.Ix),En=ot.get(Pr);(0,ce.gk)(rn,()=>{yt(!0)}),ot.get(ce.J2).afterPreactivation=()=>(yt(!0),En.closed?(0,Ue.of)(void 0):En),rn.initialNavigation()}))})]).\u0275providers:[]]}const Eo=new x.nKC("")},5225:(Dn,Ge,j)=>{"use strict";function I(x,Z,$,Me=0,it=!1){const Ie=Z.schedule(function(){$(),it?x.add(this.schedule(null,Me)):this.unsubscribe()},Me);if(x.add(Ie),!it)return Ie}j.d(Ge,{N:()=>I})},5334:(Dn,Ge,j)=>{"use strict";j.d(Ge,{m:()=>Z});var I=j(1026),x=j(9270);function Z($){x.f.setTimeout(()=>{const{onUnhandledError:Me}=I.$;if(!Me)throw $;Me($)})}},5343:(Dn,Ge,j)=>{"use strict";function I(){}j.d(Ge,{l:()=>I})},5397:(Dn,Ge,j)=>{"use strict";j.d(Ge,{x:()=>Z});var I=j(4761),x=j(8071);function Z($){return(0,x.T)($?.[I.l])}},5558:(Dn,Ge,j)=>{"use strict";j.d(Ge,{n:()=>$});var I=j(8750),x=j(9974),Z=j(4360);function $(Me,it){return(0,x.N)((Ie,De)=>{let Ke=null,be=0,Te=!1;const ht=()=>Te&&!Ke&&De.complete();Ie.subscribe((0,Z._)(De,Xe=>{Ke?.unsubscribe();let ft=0;const Mt=be++;(0,I.Tg)(Me(Xe,Mt)).subscribe(Ke=(0,Z._)(De,zt=>De.next(it?it(Xe,zt,Mt,ft++):zt),()=>{Ke=null,ht()}))},()=>{Te=!0,ht()}))})}},5794:(Dn,Ge,j)=>{"use strict";j.d(Ge,{DP:()=>tt,tw:()=>Xn});var I=j(1360),x=j(969),Z=j(9361),$=j(2881),Me=j(1413),it=j(345);const Ie=["toast-component",""];function De(pe,ye){if(1&pe){const se=I.RV6();I.j41(0,"button",5),I.bIt("click",function(){I.eBV(se);const Ye=I.XpG();return I.Njj(Ye.remove())}),I.j41(1,"span",6),I.EFF(2,"\xd7"),I.k0s()()}}function Ke(pe,ye){if(1&pe&&(I.qex(0),I.EFF(1),I.bVm()),2&pe){const se=I.XpG(2);I.R7$(),I.SpI("[",se.duplicatesCount+1,"]")}}function be(pe,ye){if(1&pe&&(I.j41(0,"div"),I.EFF(1),I.DNE(2,Ke,2,1,"ng-container",4),I.k0s()),2&pe){const se=I.XpG();I.HbH(se.options.titleClass),I.BMQ("aria-label",se.title),I.R7$(),I.SpI(" ",se.title," "),I.R7$(),I.Y8G("ngIf",se.duplicatesCount)}}function Te(pe,ye){if(1&pe&&I.nrm(0,"div",7),2&pe){const se=I.XpG();I.HbH(se.options.messageClass),I.Y8G("innerHTML",se.message,I.npT)}}function ht(pe,ye){if(1&pe&&(I.j41(0,"div",8),I.EFF(1),I.k0s()),2&pe){const se=I.XpG();I.HbH(se.options.messageClass),I.BMQ("aria-label",se.message),I.R7$(),I.SpI(" ",se.message," ")}}function Xe(pe,ye){if(1&pe&&(I.j41(0,"div"),I.nrm(1,"div",9),I.k0s()),2&pe){const se=I.XpG();I.R7$(),I.xc7("width",se.width()+"%")}}class Pt{_attachedHost;component;viewContainerRef;injector;constructor(ye,se){this.component=ye,this.injector=se}attach(ye,se){return this._attachedHost=ye,ye.attach(this,se)}detach(){const ye=this._attachedHost;if(ye)return this._attachedHost=void 0,ye.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ye){this._attachedHost=ye}}class Fe{_attachedPortal;_disposeFn;attach(ye,se){return this._attachedPortal=ye,this.attachComponentPortal(ye,se)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ye){this._disposeFn=ye}}class st{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Me.B;_activate=new Me.B;_manualClose=new Me.B;_resetTimeout=new Me.B;_countDuplicate=new Me.B;constructor(ye){this._overlayRef=ye}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ye,se){ye&&this._resetTimeout.next(),se&&this._countDuplicate.next(++this.duplicatesCount)}}class et{toastId;config;message;title;toastType;toastRef;_onTap=new Me.B;_onAction=new Me.B;constructor(ye,se,ge,Ye,Et,un){this.toastId=ye,this.config=se,this.message=ge,this.title=Ye,this.toastType=Et,this.toastRef=un,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ye){this._onAction.next(ye)}onAction(){return this._onAction.asObservable()}}const Xt=new I.nKC("ToastConfig");class Dt extends Fe{_hostDomElement;_componentFactoryResolver;_appRef;constructor(ye,se,ge){super(),this._hostDomElement=ye,this._componentFactoryResolver=se,this._appRef=ge}attachComponentPortal(ye,se){const ge=this._componentFactoryResolver.resolveComponentFactory(ye.component);let Ye;return Ye=ge.create(ye.injector),this._appRef.attachView(Ye.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ye.hostView),Ye.destroy()}),se?this._hostDomElement.insertBefore(this._getComponentRootNode(Ye),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ye)),Ye}_getComponentRootNode(ye){return ye.hostView.rootNodes[0]}}let lt=(()=>{class pe{_document=(0,I.WQX)(Z.q);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const se=this._document.createElement("div");se.classList.add("overlay-container"),se.setAttribute("aria-live","polite"),this._document.body.appendChild(se),this._containerElement=se}static \u0275fac=function(ge){return new(ge||pe)};static \u0275prov=I.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})();class Bn{_portalHost;constructor(ye){this._portalHost=ye}attach(ye,se=!0){return this._portalHost.attach(ye,se)}detach(){return this._portalHost.detach()}}let kn=(()=>{class pe{_overlayContainer=(0,I.WQX)(lt);_componentFactoryResolver=(0,I.WQX)(I.OM3);_appRef=(0,I.WQX)(I.o8S);_document=(0,I.WQX)(Z.q);_paneElements=new Map;create(se,ge){return this._createOverlayRef(this.getPaneElement(se,ge))}getPaneElement(se="",ge){return this._paneElements.get(ge)||this._paneElements.set(ge,{}),this._paneElements.get(ge)[se]||(this._paneElements.get(ge)[se]=this._createPaneElement(se,ge)),this._paneElements.get(ge)[se]}_createPaneElement(se,ge){const Ye=this._document.createElement("div");return Ye.id="toast-container",Ye.classList.add(se),Ye.classList.add("toast-container"),ge?ge.getContainerElement().appendChild(Ye):this._overlayContainer.getContainerElement().appendChild(Ye),Ye}_createPortalHost(se){return new Dt(se,this._componentFactoryResolver,this._appRef)}_createOverlayRef(se){return new Bn(this._createPortalHost(se))}static \u0275fac=function(ge){return new(ge||pe)};static \u0275prov=I.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})(),Xn=(()=>{class pe{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(se,ge,Ye,Et,un){this.overlay=ge,this._injector=Ye,this.sanitizer=Et,this.ngZone=un,this.toastrConfig={...se.default,...se.config},se.config.iconClasses&&(this.toastrConfig.iconClasses={...se.default.iconClasses,...se.config.iconClasses})}show(se,ge,Ye={},Et=""){return this._preBuildNotification(Et,se,ge,this.applyConfig(Ye))}success(se,ge,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",se,ge,this.applyConfig(Ye))}error(se,ge,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",se,ge,this.applyConfig(Ye))}info(se,ge,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",se,ge,this.applyConfig(Ye))}warning(se,ge,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",se,ge,this.applyConfig(Ye))}clear(se){for(const ge of this.toasts)if(void 0!==se){if(ge.toastId===se)return void ge.toastRef.manualClose()}else ge.toastRef.manualClose()}remove(se){const ge=this._findToast(se);if(!ge||(ge.activeToast.toastRef.close(),this.toasts.splice(ge.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ye=this.toasts[this.currentlyActive].toastRef;Ye.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ye.activate())}return!0}findDuplicate(se="",ge="",Ye,Et){const{includeTitleDuplicates:un}=this.toastrConfig;for(const nn of this.toasts)if((!un||un&&nn.title===se)&&nn.message===ge)return nn.toastRef.onDuplicate(Ye,Et),nn;return null}applyConfig(se={}){return{...this.toastrConfig,...se}}_findToast(se){for(let ge=0;ge<this.toasts.length;ge++)if(this.toasts[ge].toastId===se)return{index:ge,activeToast:this.toasts[ge]};return null}_preBuildNotification(se,ge,Ye,Et){return Et.onActivateTick?this.ngZone.run(()=>this._buildNotification(se,ge,Ye,Et)):this._buildNotification(se,ge,Ye,Et)}_buildNotification(se,ge,Ye,Et){if(!Et.toastComponent)throw new Error("toastComponent required");const un=this.findDuplicate(Ye,ge,this.toastrConfig.resetTimeoutOnDuplicate&&Et.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ye||ge)&&this.toastrConfig.preventDuplicates&&null!==un)return un;this.previousToastMessage=ge;let nn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(nn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const tr=this.overlay.create(Et.positionClass,this.overlayContainer);this.index=this.index+1;let Qt=ge;ge&&Et.enableHtml&&(Qt=this.sanitizer.sanitize(I.WPN.HTML,ge));const Yn=new st(tr),zn=new et(this.index,Et,Qt,Ye,se,Yn),Un=I.zZn.create({providers:[{provide:et,useValue:zn}],parent:this._injector}),nr=new Pt(Et.toastComponent,Un),An=tr.attach(nr,Et.newestOnTop);Yn.componentInstance=An.instance;const kr={toastId:this.index,title:Ye||"",message:ge||"",toastRef:Yn,onShown:Yn.afterActivate(),onHidden:Yn.afterClosed(),onTap:zn.onTap(),onAction:zn.onAction(),portal:An};return nn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{kr.toastRef.activate()})),this.toasts.push(kr),kr}static \u0275fac=function(ge){return new(ge||pe)(I.KVO(Xt),I.KVO(kn),I.KVO(I.zZn),I.KVO(it.up),I.KVO(I.SKi))};static \u0275prov=I.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})();const In={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class pe{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=(0,I.vPA)(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(se,ge,Ye){this.toastrService=se,this.toastPackage=ge,this.ngZone=Ye,this.message=ge.message,this.title=ge.title,this.options=ge.config,this.originalTimeout=ge.config.timeOut,this.toastClasses=`${ge.toastType} ${ge.config.toastClass}`,this.sub=ge.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ge.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ge.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ge.toastRef.countDuplicate().subscribe(Et=>{this.duplicatesCount=Et}),this.state=(0,I.vPA)({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(se=>({...se,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const se=(new Date).getTime();this.width.set((this.hideTime-se)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(Ye=>100-Ye),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(se=>({...se,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(se=>({...se,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(se,ge){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(se),ge)):this.timeout=setTimeout(()=>se(),ge)}outsideInterval(se,ge){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(se),ge)):this.intervalId=setInterval(()=>se(),ge)}runInsideAngular(se){this.ngZone?this.ngZone.run(()=>se()):se()}static \u0275fac=function(ge){return new(ge||pe)(I.rXU(Xn),I.rXU(et),I.rXU(I.SKi))};static \u0275cmp=I.VBU({type:pe,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(ge,Ye){1&ge&&I.bIt("click",function(){return Ye.tapToast()})("mouseenter",function(){return Ye.stickAround()})("mouseleave",function(){return Ye.delayedHideToast()}),2&ge&&(I.zvX("@flyInOut",Ye._state),I.HbH(Ye.toastClasses),I.xc7("display",Ye.displayStyle))},attrs:Ie,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(ge,Ye){1&ge&&I.DNE(0,De,3,0,"button",0)(1,be,3,5,"div",1)(2,Te,1,3,"div",2)(3,ht,2,4,"div",3)(4,Xe,2,2,"div",4),2&ge&&(I.Y8G("ngIf",Ye.options.closeButton),I.R7$(),I.Y8G("ngIf",Ye.title),I.R7$(),I.Y8G("ngIf",Ye.message&&Ye.options.enableHtml),I.R7$(),I.Y8G("ngIf",Ye.message&&!Ye.options.enableHtml),I.R7$(),I.Y8G("ngIf",Ye.options.progressBar))},dependencies:[$.bT],encapsulation:2,data:{animation:[(0,x.hZ)("flyInOut",[(0,x.wk)("inactive",(0,x.iF)({opacity:0})),(0,x.wk)("active",(0,x.iF)({opacity:1})),(0,x.wk)("removed",(0,x.iF)({opacity:0})),(0,x.kY)("inactive => active",(0,x.i0)("{{ easeTime }}ms {{ easing }}")),(0,x.kY)("active => removed",(0,x.i0)("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return pe})()},tt=(pe={})=>(0,I.EmA)([{provide:Xt,useValue:{default:In,config:pe}}])},5961:(Dn,Ge,j)=>{"use strict";var I=j(6048),x=j(9377),Z=j(9361),$=j(1360);const Me=new $.nKC("");let it=(()=>{class H{_zone;_plugins;_eventNameToPlugin=new Map;constructor(E,R){this._zone=R,E.forEach(L=>{L.manager=this}),this._plugins=E.slice().reverse()}addEventListener(E,R,L,X){return this._findPluginFor(R).addEventListener(E,R,L,X)}getZone(){return this._zone}_findPluginFor(E){let R=this._eventNameToPlugin.get(E);if(R)return R;if(R=this._plugins.find(X=>X.supports(E)),!R)throw new $.wOt(5101,!1);return this._eventNameToPlugin.set(E,R),R}static \u0275fac=function(R){return new(R||H)($.KVO(Me),$.KVO($.SKi))};static \u0275prov=$.jDH({token:H,factory:H.\u0275fac})}return H})();class Ie{_doc;constructor(_){this._doc=_}manager}const De="ng-app-id";function Ke(H){for(const _ of H)_.remove()}function be(H,_){const E=_.createElement("style");return E.textContent=H,E}function ht(H,_){const E=_.createElement("link");return E.setAttribute("rel","stylesheet"),E.setAttribute("href",H),E}let Xe=(()=>{class H{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(E,R,L,X={}){this.doc=E,this.appId=R,this.nonce=L,this.isServer=(0,x.Vy)(X),function Te(H,_,E,R){const L=H.head?.querySelectorAll(`style[${De}="${_}"],link[${De}="${_}"]`);if(L)for(const X of L)X.removeAttribute(De),X instanceof HTMLLinkElement?R.set(X.href.slice(X.href.lastIndexOf("/")+1),{usage:0,elements:[X]}):X.textContent&&E.set(X.textContent,{usage:0,elements:[X]})}(E,R,this.inline,this.external),this.hosts.add(E.head)}addStyles(E,R){for(const L of E)this.addUsage(L,this.inline,be);R?.forEach(L=>this.addUsage(L,this.external,ht))}removeStyles(E,R){for(const L of E)this.removeUsage(L,this.inline);R?.forEach(L=>this.removeUsage(L,this.external))}addUsage(E,R,L){const X=R.get(E);X?X.usage++:R.set(E,{usage:1,elements:[...this.hosts].map(Ae=>this.addElement(Ae,L(E,this.doc)))})}removeUsage(E,R){const L=R.get(E);L&&(L.usage--,L.usage<=0&&(Ke(L.elements),R.delete(E)))}ngOnDestroy(){for(const[,{elements:E}]of[...this.inline,...this.external])Ke(E);this.hosts.clear()}addHost(E){this.hosts.add(E);for(const[R,{elements:L}]of this.inline)L.push(this.addElement(E,be(R,this.doc)));for(const[R,{elements:L}]of this.external)L.push(this.addElement(E,ht(R,this.doc)))}removeHost(E){this.hosts.delete(E)}addElement(E,R){return this.nonce&&R.setAttribute("nonce",this.nonce),this.isServer&&R.setAttribute(De,this.appId),E.appendChild(R)}static \u0275fac=function(R){return new(R||H)($.KVO(Z.q),$.KVO($.sZ2),$.KVO($.BIS,8),$.KVO($.Agw))};static \u0275prov=$.jDH({token:H,factory:H.\u0275fac})}return H})();const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Mt=/%COMP%/g,Fe=new $.nKC("",{providedIn:"root",factory:()=>!0});function bt(H,_){return _.map(E=>E.replace(Mt,H))}let Dt=(()=>{class H{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(E,R,L,X,Ae,y,T,w=null,S=null){this.eventManager=E,this.sharedStylesHost=R,this.appId=L,this.removeStylesOnCompDestroy=X,this.doc=Ae,this.platformId=y,this.ngZone=T,this.nonce=w,this.tracingService=S,this.platformIsServer=(0,x.Vy)(y),this.defaultRenderer=new lt(E,Ae,T,this.platformIsServer,this.tracingService)}createRenderer(E,R){if(!E||!R)return this.defaultRenderer;this.platformIsServer&&R.encapsulation===$.gXe.ShadowDom&&(R={...R,encapsulation:$.gXe.Emulated});const L=this.getOrCreateRenderer(E,R);return L instanceof tt?L.applyToHost(E):L instanceof In&&L.applyStyles(),L}getOrCreateRenderer(E,R){const L=this.rendererByCompId;let X=L.get(R.id);if(!X){const Ae=this.doc,y=this.ngZone,T=this.eventManager,w=this.sharedStylesHost,S=this.removeStylesOnCompDestroy,F=this.platformIsServer,Y=this.tracingService;switch(R.encapsulation){case $.gXe.Emulated:X=new tt(T,w,R,this.appId,S,Ae,y,F,Y);break;case $.gXe.ShadowDom:return new mt(T,w,E,R,Ae,y,this.nonce,F,Y);default:X=new In(T,w,R,S,Ae,y,F,Y)}L.set(R.id,X)}return X}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(E){this.rendererByCompId.delete(E)}static \u0275fac=function(R){return new(R||H)($.KVO(it),$.KVO(Xe),$.KVO($.sZ2),$.KVO(Fe),$.KVO(Z.q),$.KVO($.Agw),$.KVO($.SKi),$.KVO($.BIS),$.KVO($.Lf2,8))};static \u0275prov=$.jDH({token:H,factory:H.\u0275fac})}return H})();class lt{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(_,E,R,L,X){this.eventManager=_,this.doc=E,this.ngZone=R,this.platformIsServer=L,this.tracingService=X}destroy(){}destroyNode=null;createElement(_,E){return E?this.doc.createElementNS(ft[E]||E,_):this.doc.createElement(_)}createComment(_){return this.doc.createComment(_)}createText(_){return this.doc.createTextNode(_)}appendChild(_,E){(Xn(_)?_.content:_).appendChild(E)}insertBefore(_,E,R){_&&(Xn(_)?_.content:_).insertBefore(E,R)}removeChild(_,E){E.remove()}selectRootElement(_,E){let R="string"==typeof _?this.doc.querySelector(_):_;if(!R)throw new $.wOt(-5104,!1);return E||(R.textContent=""),R}parentNode(_){return _.parentNode}nextSibling(_){return _.nextSibling}setAttribute(_,E,R,L){if(L){E=L+":"+E;const X=ft[L];X?_.setAttributeNS(X,E,R):_.setAttribute(E,R)}else _.setAttribute(E,R)}removeAttribute(_,E,R){if(R){const L=ft[R];L?_.removeAttributeNS(L,E):_.removeAttribute(`${R}:${E}`)}else _.removeAttribute(E)}addClass(_,E){_.classList.add(E)}removeClass(_,E){_.classList.remove(E)}setStyle(_,E,R,L){L&($.czy.DashCase|$.czy.Important)?_.style.setProperty(E,R,L&$.czy.Important?"important":""):_.style[E]=R}removeStyle(_,E,R){R&$.czy.DashCase?_.style.removeProperty(E):_.style[E]=""}setProperty(_,E,R){null!=_&&(_[E]=R)}setValue(_,E){_.nodeValue=E}listen(_,E,R,L){if("string"==typeof _&&!(_=(0,I.rb)().getGlobalEventTarget(this.doc,_)))throw new $.wOt(5102,!1);let X=this.decoratePreventDefault(R);return this.tracingService?.wrapEventListener&&(X=this.tracingService.wrapEventListener(_,E,X)),this.eventManager.addEventListener(_,E,X,L)}decoratePreventDefault(_){return E=>{if("__ngUnwrap__"===E)return _;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>_(E)):_(E))&&E.preventDefault()}}}function Xn(H){return"TEMPLATE"===H.tagName&&void 0!==H.content}class mt extends lt{sharedStylesHost;hostEl;shadowRoot;constructor(_,E,R,L,X,Ae,y,T,w){super(_,X,Ae,T,w),this.sharedStylesHost=E,this.hostEl=R,this.shadowRoot=R.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let S=L.styles;S=bt(L.id,S);for(const Y of S){const ee=document.createElement("style");y&&ee.setAttribute("nonce",y),ee.textContent=Y,this.shadowRoot.appendChild(ee)}const F=L.getExternalStyles?.();if(F)for(const Y of F){const ee=ht(Y,X);y&&ee.setAttribute("nonce",y),this.shadowRoot.appendChild(ee)}}nodeOrShadowRoot(_){return _===this.hostEl?this.shadowRoot:_}appendChild(_,E){return super.appendChild(this.nodeOrShadowRoot(_),E)}insertBefore(_,E,R){return super.insertBefore(this.nodeOrShadowRoot(_),E,R)}removeChild(_,E){return super.removeChild(null,E)}parentNode(_){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class In extends lt{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(_,E,R,L,X,Ae,y,T,w){super(_,X,Ae,y,T),this.sharedStylesHost=E,this.removeStylesOnCompDestroy=L;let S=R.styles;this.styles=w?bt(w,S):S,this.styleUrls=R.getExternalStyles?.(w)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class tt extends In{contentAttr;hostAttr;constructor(_,E,R,L,X,Ae,y,T,w){const S=L+"-"+R.id;super(_,E,R,X,Ae,y,T,w,S),this.contentAttr=function st(H){return"_ngcontent-%COMP%".replace(Mt,H)}(S),this.hostAttr=function et(H){return"_nghost-%COMP%".replace(Mt,H)}(S)}applyToHost(_){this.applyStyles(),this.setAttribute(_,this.hostAttr,"")}createElement(_,E){const R=super.createElement(_,E);return super.setAttribute(R,this.contentAttr,""),R}}class sn extends I.qj{supportsDOMEvents=!0;static makeCurrent(){(0,I.ig)(new sn)}onAndCancel(_,E,R,L){return _.addEventListener(E,R,L),()=>{_.removeEventListener(E,R,L)}}dispatchEvent(_,E){_.dispatchEvent(E)}remove(_){_.remove()}createElement(_,E){return(E=E||this.getDefaultDocument()).createElement(_)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_){return _.nodeType===Node.ELEMENT_NODE}isShadowRoot(_){return _ instanceof DocumentFragment}getGlobalEventTarget(_,E){return"window"===E?window:"document"===E?_:"body"===E?_.body:null}getBaseHref(_){const E=function Qe(){return xt=xt||document.head.querySelector("base"),xt?xt.getAttribute("href"):null}();return null==E?null:function ne(H){return new URL(H,document.baseURI).pathname}(E)}resetBaseElement(){xt=null}getUserAgent(){return window.navigator.userAgent}getCookie(_){return(0,x.bS)(document.cookie,_)}}let xt=null,pe=(()=>{class H{build(){return new XMLHttpRequest}static \u0275fac=function(R){return new(R||H)};static \u0275prov=$.jDH({token:H,factory:H.\u0275fac})}return H})(),ye=(()=>{class H extends Ie{constructor(E){super(E)}supports(E){return!0}addEventListener(E,R,L,X){return E.addEventListener(R,L,X),()=>this.removeEventListener(E,R,L,X)}removeEventListener(E,R,L,X){return E.removeEventListener(R,L,X)}static \u0275fac=function(R){return new(R||H)($.KVO(Z.q))};static \u0275prov=$.jDH({token:H,factory:H.\u0275fac})}return H})();const se=["alt","control","meta","shift"],ge={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ye={alt:H=>H.altKey,control:H=>H.ctrlKey,meta:H=>H.metaKey,shift:H=>H.shiftKey};let Et=(()=>{class H extends Ie{constructor(E){super(E)}supports(E){return null!=H.parseEventName(E)}addEventListener(E,R,L,X){const Ae=H.parseEventName(R),y=H.eventCallback(Ae.fullKey,L,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,I.rb)().onAndCancel(E,Ae.domEventName,y,X))}static parseEventName(E){const R=E.toLowerCase().split("."),L=R.shift();if(0===R.length||"keydown"!==L&&"keyup"!==L)return null;const X=H._normalizeKey(R.pop());let Ae="",y=R.indexOf("code");if(y>-1&&(R.splice(y,1),Ae="code."),se.forEach(w=>{const S=R.indexOf(w);S>-1&&(R.splice(S,1),Ae+=w+".")}),Ae+=X,0!=R.length||0===X.length)return null;const T={};return T.domEventName=L,T.fullKey=Ae,T}static matchEventFullKeyCode(E,R){let L=ge[E.key]||E.key,X="";return R.indexOf("code.")>-1&&(L=E.code,X="code."),!(null==L||!L)&&(L=L.toLowerCase()," "===L?L="space":"."===L&&(L="dot"),se.forEach(Ae=>{Ae!==L&&(0,Ye[Ae])(E)&&(X+=Ae+".")}),X+=L,X===R)}static eventCallback(E,R,L){return X=>{H.matchEventFullKeyCode(X,E)&&L.runGuarded(()=>R(X))}}static _normalizeKey(E){return"esc"===E?"escape":E}static \u0275fac=function(R){return new(R||H)($.KVO(Z.q))};static \u0275prov=$.jDH({token:H,factory:H.\u0275fac})}return H})();function tr(H){return{appProviders:[...Nr,...H?.providers??[]],platformProviders:Un}}const Un=[{provide:$.Agw,useValue:x.Zn},{provide:$.PLl,useValue:function Yn(){sn.makeCurrent()},multi:!0},{provide:Z.q,useFactory:function Jt(){return(0,$.TL$)(document),document}}],Nr=[{provide:$.H8p,useValue:"root"},{provide:$.zcH,useFactory:function zn(){return new $.zcH}},{provide:Me,useClass:ye,multi:!0,deps:[Z.q]},{provide:Me,useClass:Et,multi:!0,deps:[Z.q]},Dt,Xe,it,{provide:$._9s,useExisting:Dt},{provide:x.N0,useClass:pe},[]];var gn=j(969);function ln(H){return new $.wOt(3e3,!1)}function _e(H){switch(H.length){case 0:return new gn.sf;case 1:return H[0];default:return new gn.PZ(H)}}function He(H,_,E=new Map,R=new Map){const L=[],X=[];let Ae=-1,y=null;if(_.forEach(T=>{const w=T.get("offset"),S=w==Ae,F=S&&y||new Map;T.forEach((Y,ee)=>{let Oe=ee,Ze=Y;if("offset"!==ee)switch(Oe=H.normalizePropertyName(Oe,L),Ze){case gn.FX:Ze=E.get(ee);break;case gn.kp:Ze=R.get(ee);break;default:Ze=H.normalizeStyleValue(ee,Oe,Ze,L)}F.set(Oe,Ze)}),S||X.push(F),y=F,Ae=w}),L.length)throw function je(){return new $.wOt(3502,!1)}();return X}function Vt(H,_,E,R){switch(_){case"start":H.onStart(()=>R(E&&nt(E,"start",H)));break;case"done":H.onDone(()=>R(E&&nt(E,"done",H)));break;case"destroy":H.onDestroy(()=>R(E&&nt(E,"destroy",H)))}}function nt(H,_,E){const X=en(H.element,H.triggerName,H.fromState,H.toState,_||H.phaseName,E.totalTime??H.totalTime,!!E.disabled),Ae=H._data;return null!=Ae&&(X._data=Ae),X}function en(H,_,E,R,L="",X=0,Ae){return{element:H,triggerName:_,fromState:E,toState:R,phaseName:L,totalTime:X,disabled:!!Ae}}function Pn(H,_,E){let R=H.get(_);return R||H.set(_,R=E),R}function yr(H){const _=H.indexOf(":");return[H.substring(1,_),H.slice(_+1)]}const oe=typeof document>"u"?null:document.documentElement;function le(H){const _=H.parentNode||H.host||null;return _===oe?null:_}let gt=null,Ct=!1;function Nt(H,_){for(;_;){if(_===H)return!0;_=le(_)}return!1}function It(H,_,E){if(E)return Array.from(H.querySelectorAll(_));const R=H.querySelector(_);return R?[R]:[]}const jn="ng-enter",hn="ng-leave",Kn="ng-trigger",cr=".ng-trigger",Ei="ng-animating",Ci=".ng-animating";function Ee(H){if("number"==typeof H)return H;const _=H.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:$e(parseFloat(_[1]),_[2])}function $e(H,_){return"s"===_?1e3*H:H}function Je(H,_,E){return H.hasOwnProperty("duration")?H:function $t(H,_,E){let L,X=0,Ae="";if("string"==typeof H){const y=H.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return _.push(ln()),{duration:0,delay:0,easing:""};L=$e(parseFloat(y[1]),y[2]);const T=y[3];null!=T&&(X=$e(parseFloat(T),y[4]));const w=y[5];w&&(Ae=w)}else L=H;if(!E){let y=!1,T=_.length;L<0&&(_.push(function Gi(){return new $.wOt(3100,!1)}()),y=!0),X<0&&(_.push(function xr(){return new $.wOt(3101,!1)}()),y=!0),y&&_.splice(T,0,ln())}return{duration:L,delay:X,easing:Ae}}(H,_,E)}function Ln(H,_,E){_.forEach((R,L)=>{const X=Lo(L);E&&!E.has(L)&&E.set(L,H.style[X]),H.style[X]=R})}function Cn(H,_){_.forEach((E,R)=>{const L=Lo(R);H.style[L]=""})}function rr(H){return Array.isArray(H)?1==H.length?H[0]:(0,gn.K2)(H):H}const Co=new RegExp("{{\\s*(.+?)\\s*}}","g");function Pr(H){let _=[];if("string"==typeof H){let E;for(;E=Co.exec(H);)_.push(E[1]);Co.lastIndex=0}return _}function io(H,_,E){const R=`${H}`,L=R.replace(Co,(X,Ae)=>{let y=_[Ae];return null==y&&(E.push(function Tr(){return new $.wOt(3003,!1)}()),y=""),y.toString()});return L==R?H:L}const ji=/-+([a-z0-9])/g;function Lo(H){return H.replace(ji,(..._)=>_[1].toUpperCase())}function Q(H,_,E){switch(_.type){case gn.If.Trigger:return H.visitTrigger(_,E);case gn.If.State:return H.visitState(_,E);case gn.If.Transition:return H.visitTransition(_,E);case gn.If.Sequence:return H.visitSequence(_,E);case gn.If.Group:return H.visitGroup(_,E);case gn.If.Animate:return H.visitAnimate(_,E);case gn.If.Keyframes:return H.visitKeyframes(_,E);case gn.If.Style:return H.visitStyle(_,E);case gn.If.Reference:return H.visitReference(_,E);case gn.If.AnimateChild:return H.visitAnimateChild(_,E);case gn.If.AnimateRef:return H.visitAnimateRef(_,E);case gn.If.Query:return H.visitQuery(_,E);case gn.If.Stagger:return H.visitStagger(_,E);default:throw function Zn(){return new $.wOt(3004,!1)}()}}function ie(H,_){return window.getComputedStyle(H)[_]}let ke=(()=>{class H{validateStyleProperty(E){return function ce(H){gt||(gt=function Ue(){return typeof document<"u"?document.body:null}()||{},Ct=!!gt.style&&"WebkitAppearance"in gt.style);let _=!0;return gt.style&&!function Pe(H){return"ebkit"==H.substring(1,6)}(H)&&(_=H in gt.style,!_&&Ct&&(_="Webkit"+H.charAt(0).toUpperCase()+H.slice(1)in gt.style)),_}(E)}containsElement(E,R){return Nt(E,R)}getParentElement(E){return le(E)}query(E,R,L){return It(E,R,L)}computeStyle(E,R,L){return L||""}animate(E,R,L,X,Ae,y=[],T){return new gn.sf(L,X)}static \u0275fac=function(R){return new(R||H)};static \u0275prov=$.jDH({token:H,factory:H.\u0275fac})}return H})();class St{static NOOP=new ke}class dn{}const ai=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Xr extends dn{normalizePropertyName(_,E){return Lo(_)}normalizeStyleValue(_,E,R,L){let X="";const Ae=R.toString().trim();if(ai.has(E)&&0!==R&&"0"!==R)if("number"==typeof R)X="px";else{const y=R.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&L.push(function Yt(){return new $.wOt(3005,!1)}())}return Ae+X}}const ot=new Set(["true","1"]),xe=new Set(["false","0"]);function yt(H,_){const E=ot.has(H)||xe.has(H),R=ot.has(_)||xe.has(_);return(L,X)=>{let Ae="*"==H||H==L,y="*"==_||_==X;return!Ae&&E&&"boolean"==typeof L&&(Ae=L?ot.has(H):xe.has(H)),!y&&R&&"boolean"==typeof X&&(y=X?ot.has(_):xe.has(_)),Ae&&y}}const En=new RegExp("s*:selfs*,?","g");function $n(H,_,E,R){return new ho(H).build(_,E,R)}class ho{_driver;constructor(_){this._driver=_}build(_,E,R){const L=new rs(E);return this._resetContextStyleTimingState(L),Q(this,rr(_),L)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,E){let R=E.queryCount=0,L=E.depCount=0;const X=[],Ae=[];return"@"==_.name.charAt(0)&&E.errors.push(function oi(){return new $.wOt(3006,!1)}()),_.definitions.forEach(y=>{if(this._resetContextStyleTimingState(E),y.type==gn.If.State){const T=y,w=T.name;w.toString().split(/\s*,\s*/).forEach(S=>{T.name=S,X.push(this.visitState(T,E))}),T.name=w}else if(y.type==gn.If.Transition){const T=this.visitTransition(y,E);R+=T.queryCount,L+=T.depCount,Ae.push(T)}else E.errors.push(function ui(){return new $.wOt(3007,!1)}())}),{type:gn.If.Trigger,name:_.name,states:X,transitions:Ae,queryCount:R,depCount:L,options:null}}visitState(_,E){const R=this.visitStyle(_.styles,E),L=_.options&&_.options.params||null;if(R.containsDynamicStyles){const X=new Set,Ae=L||{};R.styles.forEach(y=>{y instanceof Map&&y.forEach(T=>{Pr(T).forEach(w=>{Ae.hasOwnProperty(w)||X.add(w)})})}),X.size&&E.errors.push(function pi(){return new $.wOt(3008,!1)}(0,X.values()))}return{type:gn.If.State,name:_.name,style:R,options:L?{params:L}:null}}visitTransition(_,E){E.queryCount=0,E.depCount=0;const R=Q(this,rr(_.animation),E),L=function Eo(H,_){const E=[];return"string"==typeof H?H.split(/\s*,\s*/).forEach(R=>function $o(H,_,E){if(":"==H[0]){const T=function de(H,_){switch(H){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,R)=>parseFloat(R)>parseFloat(E);case":decrement":return(E,R)=>parseFloat(R)<parseFloat(E);default:return _.push(function Ti(){return new $.wOt(3016,!1)}()),"* => *"}}(H,E);if("function"==typeof T)return void _.push(T);H=T}const R=H.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return E.push(function Sn(){return new $.wOt(3015,!1)}()),_;const L=R[1],X=R[2],Ae=R[3];_.push(yt(L,Ae)),"<"==X[0]&&("*"!=L||"*"!=Ae)&&_.push(yt(Ae,L))}(R,E,_)):E.push(H),E}(_.expr,E.errors);return{type:gn.If.Transition,matchers:L,animation:R,queryCount:E.queryCount,depCount:E.depCount,options:wo(_.options)}}visitSequence(_,E){return{type:gn.If.Sequence,steps:_.steps.map(R=>Q(this,R,E)),options:wo(_.options)}}visitGroup(_,E){const R=E.currentTime;let L=0;const X=_.steps.map(Ae=>{E.currentTime=R;const y=Q(this,Ae,E);return L=Math.max(L,E.currentTime),y});return E.currentTime=L,{type:gn.If.Group,steps:X,options:wo(_.options)}}visitAnimate(_,E){const R=function is(H,_){if(H.hasOwnProperty("duration"))return H;if("number"==typeof H)return So(Je(H,_).duration,0,"");const E=H;if(E.split(/\s+/).some(X=>"{"==X.charAt(0)&&"{"==X.charAt(1))){const X=So(0,0,"");return X.dynamic=!0,X.strValue=E,X}const L=Je(E,_);return So(L.duration,L.delay,L.easing)}(_.timings,E.errors);E.currentAnimateTimings=R;let L,X=_.styles?_.styles:(0,gn.iF)({});if(X.type==gn.If.Keyframes)L=this.visitKeyframes(X,E);else{let Ae=_.styles,y=!1;if(!Ae){y=!0;const w={};R.easing&&(w.easing=R.easing),Ae=(0,gn.iF)(w)}E.currentTime+=R.duration+R.delay;const T=this.visitStyle(Ae,E);T.isEmptyStep=y,L=T}return E.currentAnimateTimings=null,{type:gn.If.Animate,timings:R,style:L,options:null}}visitStyle(_,E){const R=this._makeStyleAst(_,E);return this._validateStyleAst(R,E),R}_makeStyleAst(_,E){const R=[],L=Array.isArray(_.styles)?_.styles:[_.styles];for(let y of L)"string"==typeof y?y===gn.kp?R.push(y):E.errors.push(new $.wOt(3002,!1)):R.push(new Map(Object.entries(y)));let X=!1,Ae=null;return R.forEach(y=>{if(y instanceof Map&&(y.has("easing")&&(Ae=y.get("easing"),y.delete("easing")),!X))for(let T of y.values())if(T.toString().indexOf("{{")>=0){X=!0;break}}),{type:gn.If.Style,styles:R,easing:Ae,offset:_.offset,containsDynamicStyles:X,options:null}}_validateStyleAst(_,E){const R=E.currentAnimateTimings;let L=E.currentTime,X=E.currentTime;R&&X>0&&(X-=R.duration+R.delay),_.styles.forEach(Ae=>{"string"!=typeof Ae&&Ae.forEach((y,T)=>{const w=E.collectedStyles.get(E.currentQuerySelector),S=w.get(T);let F=!0;S&&(X!=L&&X>=S.startTime&&L<=S.endTime&&(E.errors.push(function vi(){return new $.wOt(3010,!1)}()),F=!1),X=S.startTime),F&&w.set(T,{startTime:X,endTime:L}),E.options&&function Wr(H,_,E){const R=_.params||{},L=Pr(H);L.length&&L.forEach(X=>{R.hasOwnProperty(X)||E.push(function pt(){return new $.wOt(3001,!1)}())})}(y,E.options,E.errors)})})}visitKeyframes(_,E){const R={type:gn.If.Keyframes,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function Rr(){return new $.wOt(3011,!1)}()),R;let X=0;const Ae=[];let y=!1,T=!1,w=0;const S=_.steps.map(qn=>{const Sr=this._makeStyleAst(qn,E);let Ii=null!=Sr.offset?Sr.offset:function wn(H){if("string"==typeof H)return null;let _=null;if(Array.isArray(H))H.forEach(E=>{if(E instanceof Map&&E.has("offset")){const R=E;_=parseFloat(R.get("offset")),R.delete("offset")}});else if(H instanceof Map&&H.has("offset")){const E=H;_=parseFloat(E.get("offset")),E.delete("offset")}return _}(Sr.styles),Zi=0;return null!=Ii&&(X++,Zi=Sr.offset=Ii),T=T||Zi<0||Zi>1,y=y||Zi<w,w=Zi,Ae.push(Zi),Sr});T&&E.errors.push(function li(){return new $.wOt(3012,!1)}()),y&&E.errors.push(function lr(){return new $.wOt(3200,!1)}());const F=_.steps.length;let Y=0;X>0&&X<F?E.errors.push(function sr(){return new $.wOt(3202,!1)}()):0==X&&(Y=1/(F-1));const ee=F-1,Oe=E.currentTime,Ze=E.currentAnimateTimings,Gt=Ze.duration;return S.forEach((qn,Sr)=>{const Ii=Y>0?Sr==ee?1:Y*Sr:Ae[Sr],Zi=Ii*Gt;E.currentTime=Oe+Ze.delay+Zi,Ze.duration=Zi,this._validateStyleAst(qn,E),qn.offset=Ii,R.styles.push(qn)}),R}visitReference(_,E){return{type:gn.If.Reference,animation:Q(this,rr(_.animation),E),options:wo(_.options)}}visitAnimateChild(_,E){return E.depCount++,{type:gn.If.AnimateChild,options:wo(_.options)}}visitAnimateRef(_,E){return{type:gn.If.AnimateRef,animation:this.visitReference(_.animation,E),options:wo(_.options)}}visitQuery(_,E){const R=E.currentQuerySelector,L=_.options||{};E.queryCount++,E.currentQuery=_;const[X,Ae]=function Ss(H){const _=!!H.split(/\s*,\s*/).find(E=>":self"==E);return _&&(H=H.replace(En,"")),H=H.replace(/@\*/g,cr).replace(/@\w+/g,E=>cr+"-"+E.slice(1)).replace(/:animating/g,Ci),[H,_]}(_.selector);E.currentQuerySelector=R.length?R+" "+X:X,Pn(E.collectedStyles,E.currentQuerySelector,new Map);const y=Q(this,rr(_.animation),E);return E.currentQuery=null,E.currentQuerySelector=R,{type:gn.If.Query,selector:X,limit:L.limit||0,optional:!!L.optional,includeSelf:Ae,animation:y,originalSelector:_.selector,options:wo(_.options)}}visitStagger(_,E){E.currentQuery||E.errors.push(function gi(){return new $.wOt(3013,!1)}());const R="full"===_.timings?{duration:0,delay:0,easing:"full"}:Je(_.timings,E.errors,!0);return{type:gn.If.Stagger,animation:Q(this,rr(_.animation),E),timings:R,options:null}}}class rs{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(_){this.errors=_}}function wo(H){return H?(H={...H}).params&&(H.params=function ni(H){return H?{...H}:null}(H.params)):H={},H}function So(H,_,E){return{duration:H,delay:_,easing:E}}function Qo(H,_,E,R,L,X,Ae=null,y=!1){return{type:1,element:H,keyframes:_,preStyleProps:E,postStyleProps:R,duration:L,delay:X,totalTime:L+X,easing:Ae,subTimeline:y}}class Ro{_map=new Map;get(_){return this._map.get(_)||[]}append(_,E){let R=this._map.get(_);R||this._map.set(_,R=[]),R.push(...E)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const Fr=new RegExp(":enter","g"),fo=new RegExp(":leave","g");function zo(H,_,E,R,L,X=new Map,Ae=new Map,y,T,w=[]){return(new vs).buildKeyframes(H,_,E,R,L,X,Ae,y,T,w)}class vs{buildKeyframes(_,E,R,L,X,Ae,y,T,w,S=[]){w=w||new Ro;const F=new oo(_,E,w,L,X,S,[]);F.options=T;const Y=T.delay?Ee(T.delay):0;F.currentTimeline.delayNextStep(Y),F.currentTimeline.setStyles([Ae],null,F.errors,T),Q(this,R,F);const ee=F.timelines.filter(Oe=>Oe.containsAnimation());if(ee.length&&y.size){let Oe;for(let Ze=ee.length-1;Ze>=0;Ze--){const Gt=ee[Ze];if(Gt.element===E){Oe=Gt;break}}Oe&&!Oe.allowOnlyTimelineStyles()&&Oe.setStyles([y],null,F.errors,T)}return ee.length?ee.map(Oe=>Oe.buildKeyframes()):[Qo(E,[],[],[],0,Y,"",!1)]}visitTrigger(_,E){}visitState(_,E){}visitTransition(_,E){}visitAnimateChild(_,E){const R=E.subInstructions.get(E.element);if(R){const L=E.createSubContext(_.options),X=E.currentTimeline.currentTime,Ae=this._visitSubInstructions(R,L,L.options);X!=Ae&&E.transformIntoNewTimeline(Ae)}E.previousNode=_}visitAnimateRef(_,E){const R=E.createSubContext(_.options);R.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],E,R),this.visitReference(_.animation,R),E.transformIntoNewTimeline(R.currentTimeline.currentTime),E.previousNode=_}_applyAnimationRefDelays(_,E,R){for(const L of _){const X=L?.delay;if(X){const Ae="number"==typeof X?X:Ee(io(X,L?.params??{},E.errors));R.delayNextStep(Ae)}}}_visitSubInstructions(_,E,R){let X=E.currentTimeline.currentTime;const Ae=null!=R.duration?Ee(R.duration):null,y=null!=R.delay?Ee(R.delay):null;return 0!==Ae&&_.forEach(T=>{const w=E.appendInstructionToTimeline(T,Ae,y);X=Math.max(X,w.duration+w.delay)}),X}visitReference(_,E){E.updateOptions(_.options,!0),Q(this,_.animation,E),E.previousNode=_}visitSequence(_,E){const R=E.subContextCount;let L=E;const X=_.options;if(X&&(X.params||X.delay)&&(L=E.createSubContext(X),L.transformIntoNewTimeline(),null!=X.delay)){L.previousNode.type==gn.If.Style&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=Kr);const Ae=Ee(X.delay);L.delayNextStep(Ae)}_.steps.length&&(_.steps.forEach(Ae=>Q(this,Ae,L)),L.currentTimeline.applyStylesToKeyframe(),L.subContextCount>R&&L.transformIntoNewTimeline()),E.previousNode=_}visitGroup(_,E){const R=[];let L=E.currentTimeline.currentTime;const X=_.options&&_.options.delay?Ee(_.options.delay):0;_.steps.forEach(Ae=>{const y=E.createSubContext(_.options);X&&y.delayNextStep(X),Q(this,Ae,y),L=Math.max(L,y.currentTimeline.currentTime),R.push(y.currentTimeline)}),R.forEach(Ae=>E.currentTimeline.mergeTimelineCollectedStyles(Ae)),E.transformIntoNewTimeline(L),E.previousNode=_}_visitTiming(_,E){if(_.dynamic){const R=_.strValue;return Je(E.params?io(R,E.params,E.errors):R,E.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,E){const R=E.currentAnimateTimings=this._visitTiming(_.timings,E),L=E.currentTimeline;R.delay&&(E.incrementTime(R.delay),L.snapshotCurrentStyles());const X=_.style;X.type==gn.If.Keyframes?this.visitKeyframes(X,E):(E.incrementTime(R.duration),this.visitStyle(X,E),L.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=_}visitStyle(_,E){const R=E.currentTimeline,L=E.currentAnimateTimings;!L&&R.hasCurrentStyleProperties()&&R.forwardFrame();const X=L&&L.easing||_.easing;_.isEmptyStep?R.applyEmptyStep(X):R.setStyles(_.styles,X,E.errors,E.options),E.previousNode=_}visitKeyframes(_,E){const R=E.currentAnimateTimings,L=E.currentTimeline.duration,X=R.duration,y=E.createSubContext().currentTimeline;y.easing=R.easing,_.styles.forEach(T=>{y.forwardTime((T.offset||0)*X),y.setStyles(T.styles,T.easing,E.errors,E.options),y.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(y),E.transformIntoNewTimeline(L+X),E.previousNode=_}visitQuery(_,E){const R=E.currentTimeline.currentTime,L=_.options||{},X=L.delay?Ee(L.delay):0;X&&(E.previousNode.type===gn.If.Style||0==R&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Kr);let Ae=R;const y=E.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!L.optional,E.errors);E.currentQueryTotal=y.length;let T=null;y.forEach((w,S)=>{E.currentQueryIndex=S;const F=E.createSubContext(_.options,w);X&&F.delayNextStep(X),w===E.element&&(T=F.currentTimeline),Q(this,_.animation,F),F.currentTimeline.applyStylesToKeyframe(),Ae=Math.max(Ae,F.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(Ae),T&&(E.currentTimeline.mergeTimelineCollectedStyles(T),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=_}visitStagger(_,E){const R=E.parentContext,L=E.currentTimeline,X=_.timings,Ae=Math.abs(X.duration),y=Ae*(E.currentQueryTotal-1);let T=Ae*E.currentQueryIndex;switch(X.duration<0?"reverse":X.easing){case"reverse":T=y-T;break;case"full":T=R.currentStaggerTime}const S=E.currentTimeline;T&&S.delayNextStep(T);const F=S.currentTime;Q(this,_.animation,E),E.previousNode=_,R.currentStaggerTime=L.currentTime-F+(L.startTime-R.currentTimeline.startTime)}}const Kr={};class oo{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Kr;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(_,E,R,L,X,Ae,y,T){this._driver=_,this.element=E,this.subInstructions=R,this._enterClassName=L,this._leaveClassName=X,this.errors=Ae,this.timelines=y,this.currentTimeline=T||new Yr(this._driver,E,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,E){if(!_)return;const R=_;let L=this.options;null!=R.duration&&(L.duration=Ee(R.duration)),null!=R.delay&&(L.delay=Ee(R.delay));const X=R.params;if(X){let Ae=L.params;Ae||(Ae=this.options.params={}),Object.keys(X).forEach(y=>{(!E||!Ae.hasOwnProperty(y))&&(Ae[y]=io(X[y],Ae,this.errors))})}}_copyOptions(){const _={};if(this.options){const E=this.options.params;if(E){const R=_.params={};Object.keys(E).forEach(L=>{R[L]=E[L]})}}return _}createSubContext(_=null,E,R){const L=E||this.element,X=new oo(this._driver,L,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(L,R||0));return X.previousNode=this.previousNode,X.currentAnimateTimings=this.currentAnimateTimings,X.options=this._copyOptions(),X.updateOptions(_),X.currentQueryIndex=this.currentQueryIndex,X.currentQueryTotal=this.currentQueryTotal,X.parentContext=this,this.subContextCount++,X}transformIntoNewTimeline(_){return this.previousNode=Kr,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,E,R){const L={duration:E??_.duration,delay:this.currentTimeline.currentTime+(R??0)+_.delay,easing:""},X=new Jr(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,L,_.stretchStartingKeyframe);return this.timelines.push(X),L}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,E,R,L,X,Ae){let y=[];if(L&&y.push(this.element),_.length>0){_=(_=_.replace(Fr,"."+this._enterClassName)).replace(fo,"."+this._leaveClassName);let w=this._driver.query(this.element,_,1!=R);0!==R&&(w=R<0?w.slice(w.length+R,w.length):w.slice(0,R)),y.push(...w)}return!X&&0==y.length&&Ae.push(function fr(){return new $.wOt(3014,!1)}()),y}}class Yr{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(_,E,R,L){this._driver=_,this.element=E,this.startTime=R,this._elementTimelineStylesLookup=L,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+_),E&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,E){return this.applyStylesToKeyframe(),new Yr(this._driver,_,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,E){this._localTimelineStyles.set(_,E),this._globalTimelineStyles.set(_,E),this._styleSummary.set(_,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[E,R]of this._globalTimelineStyles)this._backFill.set(E,R||gn.kp),this._currentKeyframe.set(E,gn.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,E,R,L){E&&this._previousKeyframe.set("easing",E);const X=L&&L.params||{},Ae=function Po(H,_){const E=new Map;let R;return H.forEach(L=>{if("*"===L){R??=_.keys();for(let X of R)E.set(X,gn.kp)}else for(let[X,Ae]of L)E.set(X,Ae)}),E}(_,this._globalTimelineStyles);for(let[y,T]of Ae){const w=io(T,X,R);this._pendingStyles.set(y,w),this._localTimelineStyles.has(y)||this._backFill.set(y,this._globalTimelineStyles.get(y)??gn.kp),this._updateStyle(y,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,E)=>{this._currentKeyframe.set(E,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,_)}))}snapshotCurrentStyles(){for(let[_,E]of this._localTimelineStyles)this._pendingStyles.set(_,E),this._updateStyle(_,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let E in this._currentKeyframe)_.push(E);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((E,R)=>{const L=this._styleSummary.get(R);(!L||E.time>L.time)&&this._updateStyle(R,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,E=new Set,R=1===this._keyframes.size&&0===this.duration;let L=[];this._keyframes.forEach((y,T)=>{const w=new Map([...this._backFill,...y]);w.forEach((S,F)=>{S===gn.FX?_.add(F):S===gn.kp&&E.add(F)}),R||w.set("offset",T/this.duration),L.push(w)});const X=[..._.values()],Ae=[...E.values()];if(R){const y=L[0],T=new Map(y);y.set("offset",0),T.set("offset",1),L=[y,T]}return Qo(this.element,L,X,Ae,this.duration,this.startTime,this.easing,!1)}}class Jr extends Yr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(_,E,R,L,X,Ae,y=!1){super(_,E,Ae.delay),this.keyframes=R,this.preStyleProps=L,this.postStyleProps=X,this._stretchStartingKeyframe=y,this.timings={duration:Ae.duration,delay:Ae.delay,easing:Ae.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:E,duration:R,easing:L}=this.timings;if(this._stretchStartingKeyframe&&E){const X=[],Ae=R+E,y=E/Ae,T=new Map(_[0]);T.set("offset",0),X.push(T);const w=new Map(_[0]);w.set("offset",Es(y)),X.push(w);const S=_.length-1;for(let F=1;F<=S;F++){let Y=new Map(_[F]);const ee=Y.get("offset");Y.set("offset",Es((E+ee*R)/Ae)),X.push(Y)}R=Ae,E=0,L="",_=X}return Qo(this.element,_,this.preStyleProps,this.postStyleProps,R,E,L,!0)}}function Es(H,_=3){const E=Math.pow(10,_-1);return Math.round(H*E)/E}function Mo(H,_,E,R,L,X,Ae,y,T,w,S,F,Y){return{type:0,element:H,triggerName:_,isRemovalTransition:L,fromState:E,fromStyles:X,toState:R,toStyles:Ae,timelines:y,queriedElements:T,preStyleProps:w,postStyleProps:S,totalTime:F,errors:Y}}const us={};class Io{_triggerName;ast;_stateStyles;constructor(_,E,R){this._triggerName=_,this.ast=E,this._stateStyles=R}match(_,E,R,L){return function Fs(H,_,E,R,L){return H.some(X=>X(_,E,R,L))}(this.ast.matchers,_,E,R,L)}buildStyles(_,E,R){let L=this._stateStyles.get("*");return void 0!==_&&(L=this._stateStyles.get(_?.toString())||L),L?L.buildStyles(E,R):new Map}build(_,E,R,L,X,Ae,y,T,w,S){const F=[],Y=this.ast.options&&this.ast.options.params||us,Oe=this.buildStyles(R,y&&y.params||us,F),Ze=T&&T.params||us,Gt=this.buildStyles(L,Ze,F),qn=new Set,Sr=new Map,Ii=new Map,Zi="void"===L,no={params:No(Ze,Y),delay:this.ast.options?.delay},ao=S?[]:zo(_,E,this.ast.animation,X,Ae,Oe,Gt,no,w,F);let Pi=0;return ao.forEach(Bo=>{Pi=Math.max(Bo.duration+Bo.delay,Pi)}),F.length?Mo(E,this._triggerName,R,L,Zi,Oe,Gt,[],[],Sr,Ii,Pi,F):(ao.forEach(Bo=>{const ws=Bo.element,Js=Pn(Sr,ws,new Set);Bo.preStyleProps.forEach(gc=>Js.add(gc));const Oc=Pn(Ii,ws,new Set);Bo.postStyleProps.forEach(gc=>Oc.add(gc)),ws!==E&&qn.add(ws)}),Mo(E,this._triggerName,R,L,Zi,Oe,Gt,ao,[...qn.values()],Sr,Ii,Pi))}}function No(H,_){const E={..._};return Object.entries(H).forEach(([R,L])=>{null!=L&&(E[R]=L)}),E}class Lr{styles;defaultParams;normalizer;constructor(_,E,R){this.styles=_,this.defaultParams=E,this.normalizer=R}buildStyles(_,E){const R=new Map,L=No(_,this.defaultParams);return this.styles.styles.forEach(X=>{"string"!=typeof X&&X.forEach((Ae,y)=>{Ae&&(Ae=io(Ae,L,E));const T=this.normalizer.normalizePropertyName(y,E);Ae=this.normalizer.normalizeStyleValue(y,T,Ae,E),R.set(y,Ae)})}),R}}class Xi{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(_,E,R){this.name=_,this.ast=E,this._normalizer=R,E.states.forEach(L=>{this.states.set(L.name,new Lr(L.style,L.options&&L.options.params||{},R))}),Rs(this.states,"true","1"),Rs(this.states,"false","0"),E.transitions.forEach(L=>{this.transitionFactories.push(new Io(_,L,this.states))}),this.fallbackTransition=function Ys(H,_){return new Io(H,{type:gn.If.Transition,animation:{type:gn.If.Sequence,steps:[],options:null},matchers:[(Ae,y)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,E,R,L){return this.transitionFactories.find(Ae=>Ae.match(_,E,R,L))||null}matchStyles(_,E,R){return this.fallbackTransition.buildStyles(_,E,R)}}function Rs(H,_,E){H.has(_)?H.has(E)||H.set(E,H.get(_)):H.has(E)&&H.set(_,H.get(E))}const wa=new Ro;class Vo{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(_,E,R){this.bodyNode=_,this._driver=E,this._normalizer=R}register(_,E){const R=[],X=$n(this._driver,E,R,[]);if(R.length)throw function Cr(){return new $.wOt(3503,!1)}();this._animations.set(_,X)}_buildPlayer(_,E,R){const L=_.element,X=He(this._normalizer,_.keyframes,E,R);return this._driver.animate(L,X,_.duration,_.delay,_.easing,[],!0)}create(_,E,R={}){const L=[],X=this._animations.get(_);let Ae;const y=new Map;if(X?(Ae=zo(this._driver,E,X,jn,hn,new Map,new Map,R,wa,L),Ae.forEach(S=>{const F=Pn(y,S.element,new Map);S.postStyleProps.forEach(Y=>F.set(Y,null))})):(L.push(function qi(){return new $.wOt(3300,!1)}()),Ae=[]),L.length)throw function si(){return new $.wOt(3504,!1)}();y.forEach((S,F)=>{S.forEach((Y,ee)=>{S.set(ee,this._driver.computeStyle(F,ee,gn.kp))})});const w=_e(Ae.map(S=>{const F=y.get(S.element);return this._buildPlayer(S,new Map,F)}));return this._playersById.set(_,w),w.onDestroy(()=>this.destroy(_)),this.players.push(w),w}destroy(_){const E=this._getPlayer(_);E.destroy(),this._playersById.delete(_);const R=this.players.indexOf(E);R>=0&&this.players.splice(R,1)}_getPlayer(_){const E=this._playersById.get(_);if(!E)throw function xi(){return new $.wOt(3301,!1)}();return E}listen(_,E,R,L){const X=en(E,"","","");return Vt(this._getPlayer(_),R,X,L),()=>{}}command(_,E,R,L){if("register"==R)return void this.register(_,L[0]);if("create"==R)return void this.create(_,E,L[0]||{});const X=this._getPlayer(_);switch(R){case"play":X.play();break;case"pause":X.pause();break;case"reset":X.reset();break;case"restart":X.restart();break;case"finish":X.finish();break;case"init":X.init();break;case"setPosition":X.setPosition(parseFloat(L[0]));break;case"destroy":this.destroy(_)}}}const wr="ng-animate-queued",K="ng-animate-disabled",Ot=[],Zt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mn="__ng_removed";class gr{namespaceId;value;options;get params(){return this.options.params}constructor(_,E=""){this.namespaceId=E;const R=_&&_.hasOwnProperty("value");if(this.value=function ri(H){return H??null}(R?_.value:_),R){const{value:X,...Ae}=_;this.options=Ae}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const E=_.params;if(E){const R=this.options.params;Object.keys(E).forEach(L=>{null==R[L]&&(R[L]=E[L])})}}}const Jn="void",Ur=new gr(Jn);class wi{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(_,E,R){this.id=_,this.hostElement=E,this._engine=R,this._hostClassName="ng-tns-"+_,ii(E,this._hostClassName)}listen(_,E,R,L){if(!this._triggers.has(E))throw function vn(){return new $.wOt(3302,!1)}();if(null==R||0==R.length)throw function mr(){return new $.wOt(3303,!1)}();if(!function so(H){return"start"==H||"done"==H}(R))throw function br(){return new $.wOt(3400,!1)}();const X=Pn(this._elementListeners,_,[]),Ae={name:E,phase:R,callback:L};X.push(Ae);const y=Pn(this._engine.statesByElement,_,new Map);return y.has(E)||(ii(_,Kn),ii(_,Kn+"-"+E),y.set(E,Ur)),()=>{this._engine.afterFlush(()=>{const T=X.indexOf(Ae);T>=0&&X.splice(T,1),this._triggers.has(E)||y.delete(E)})}}register(_,E){return!this._triggers.has(_)&&(this._triggers.set(_,E),!0)}_getTrigger(_){const E=this._triggers.get(_);if(!E)throw function Oi(){return new $.wOt(3401,!1)}();return E}trigger(_,E,R,L=!0){const X=this._getTrigger(E),Ae=new Ui(this.id,E,_);let y=this._engine.statesByElement.get(_);y||(ii(_,Kn),ii(_,Kn+"-"+E),this._engine.statesByElement.set(_,y=new Map));let T=y.get(E);const w=new gr(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&T&&w.absorbOptions(T.options),y.set(E,w),T||(T=Ur),w.value!==Jn&&T.value===w.value){if(!function Ia(H,_){const E=Object.keys(H),R=Object.keys(_);if(E.length!=R.length)return!1;for(let L=0;L<E.length;L++){const X=E[L];if(!_.hasOwnProperty(X)||H[X]!==_[X])return!1}return!0}(T.params,w.params)){const Ze=[],Gt=X.matchStyles(T.value,T.params,Ze),qn=X.matchStyles(w.value,w.params,Ze);Ze.length?this._engine.reportError(Ze):this._engine.afterFlush(()=>{Cn(_,Gt),Ln(_,qn)})}return}const Y=Pn(this._engine.playersByElement,_,[]);Y.forEach(Ze=>{Ze.namespaceId==this.id&&Ze.triggerName==E&&Ze.queued&&Ze.destroy()});let ee=X.matchTransition(T.value,w.value,_,w.params),Oe=!1;if(!ee){if(!L)return;ee=X.fallbackTransition,Oe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:E,transition:ee,fromState:T,toState:w,player:Ae,isFallbackTransition:Oe}),Oe||(ii(_,wr),Ae.onStart(()=>{po(_,wr)})),Ae.onDone(()=>{let Ze=this.players.indexOf(Ae);Ze>=0&&this.players.splice(Ze,1);const Gt=this._engine.playersByElement.get(_);if(Gt){let qn=Gt.indexOf(Ae);qn>=0&&Gt.splice(qn,1)}}),this.players.push(Ae),Y.push(Ae),Ae}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(E=>E.delete(_)),this._elementListeners.forEach((E,R)=>{this._elementListeners.set(R,E.filter(L=>L.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const E=this._engine.playersByElement.get(_);E&&(E.forEach(R=>R.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,E){const R=this._engine.driver.query(_,cr,!0);R.forEach(L=>{if(L[mn])return;const X=this._engine.fetchNamespacesByElement(L);X.size?X.forEach(Ae=>Ae.triggerLeaveAnimation(L,E,!1,!0)):this.clearElementCache(L)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(L=>this.clearElementCache(L)))}triggerLeaveAnimation(_,E,R,L){const X=this._engine.statesByElement.get(_),Ae=new Map;if(X){const y=[];if(X.forEach((T,w)=>{if(Ae.set(w,T.value),this._triggers.has(w)){const S=this.trigger(_,w,Jn,L);S&&y.push(S)}}),y.length)return this._engine.markElementAsRemoved(this.id,_,!0,E,Ae),R&&_e(y).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const E=this._elementListeners.get(_),R=this._engine.statesByElement.get(_);if(E&&R){const L=new Set;E.forEach(X=>{const Ae=X.name;if(L.has(Ae))return;L.add(Ae);const T=this._triggers.get(Ae).fallbackTransition,w=R.get(Ae)||Ur,S=new gr(Jn),F=new Ui(this.id,Ae,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:Ae,transition:T,fromState:w,toState:S,player:F,isFallbackTransition:!0})})}}removeNode(_,E){const R=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,E),this.triggerLeaveAnimation(_,E,!0))return;let L=!1;if(R.totalAnimations){const X=R.players.length?R.playersByQueriedElement.get(_):[];if(X&&X.length)L=!0;else{let Ae=_;for(;Ae=Ae.parentNode;)if(R.statesByElement.get(Ae)){L=!0;break}}}if(this.prepareLeaveAnimationListeners(_),L)R.markElementAsRemoved(this.id,_,!1,E);else{const X=_[mn];(!X||X===Zt)&&(R.afterFlush(()=>this.clearElementCache(_)),R.destroyInnerAnimations(_),R._onRemovalComplete(_,E))}}insertNode(_,E){ii(_,this._hostClassName)}drainQueuedTransitions(_){const E=[];return this._queue.forEach(R=>{const L=R.player;if(L.destroyed)return;const X=R.element,Ae=this._elementListeners.get(X);Ae&&Ae.forEach(y=>{if(y.name==R.triggerName){const T=en(X,R.triggerName,R.fromState.value,R.toState.value);T._data=_,Vt(R.player,y.phase,T,y.callback)}}),L.markedForDestroy?this._engine.afterFlush(()=>{L.destroy()}):E.push(R)}),this._queue=[],E.sort((R,L)=>{const X=R.transition.ast.depCount,Ae=L.transition.ast.depCount;return 0==X||0==Ae?X-Ae:this._engine.driver.containsElement(R.element,L.element)?1:-1})}destroy(_){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}}class yi{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(_,E)=>{};_onRemovalComplete(_,E){this.onRemovalComplete(_,E)}constructor(_,E,R){this.bodyNode=_,this.driver=E,this._normalizer=R}get queuedPlayers(){const _=[];return this._namespaceList.forEach(E=>{E.players.forEach(R=>{R.queued&&_.push(R)})}),_}createNamespace(_,E){const R=new wi(_,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(R,E):(this.newHostElements.set(E,R),this.collectEnterElement(E)),this._namespaceLookup[_]=R}_balanceNamespaceList(_,E){const R=this._namespaceList,L=this.namespacesByHostElement;if(R.length-1>=0){let Ae=!1,y=this.driver.getParentElement(E);for(;y;){const T=L.get(y);if(T){const w=R.indexOf(T);R.splice(w+1,0,_),Ae=!0;break}y=this.driver.getParentElement(y)}Ae||R.unshift(_)}else R.push(_);return L.set(E,_),_}register(_,E){let R=this._namespaceLookup[_];return R||(R=this.createNamespace(_,E)),R}registerTrigger(_,E,R){let L=this._namespaceLookup[_];L&&L.register(E,R)&&this.totalAnimations++}destroy(_,E){_&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const R=this._fetchNamespace(_);this.namespacesByHostElement.delete(R.hostElement);const L=this._namespaceList.indexOf(R);L>=0&&this._namespaceList.splice(L,1),R.destroy(E),delete this._namespaceLookup[_]}))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const E=new Set,R=this.statesByElement.get(_);if(R)for(let L of R.values())if(L.namespaceId){const X=this._fetchNamespace(L.namespaceId);X&&E.add(X)}return E}trigger(_,E,R,L){if(Ni(E)){const X=this._fetchNamespace(_);if(X)return X.trigger(E,R,L),!0}return!1}insertNode(_,E,R,L){if(!Ni(E))return;const X=E[mn];if(X&&X.setForRemoval){X.setForRemoval=!1,X.setForMove=!0;const Ae=this.collectedLeaveElements.indexOf(E);Ae>=0&&this.collectedLeaveElements.splice(Ae,1)}if(_){const Ae=this._fetchNamespace(_);Ae&&Ae.insertNode(E,R)}L&&this.collectEnterElement(E)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,E){E?this.disabledNodes.has(_)||(this.disabledNodes.add(_),ii(_,K)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),po(_,K))}removeNode(_,E,R){if(Ni(E)){const L=_?this._fetchNamespace(_):null;L?L.removeNode(E,R):this.markElementAsRemoved(_,E,!1,R);const X=this.namespacesByHostElement.get(E);X&&X.id!==_&&X.removeNode(E,R)}else this._onRemovalComplete(E,R)}markElementAsRemoved(_,E,R,L,X){this.collectedLeaveElements.push(E),E[mn]={namespaceId:_,setForRemoval:L,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:X}}listen(_,E,R,L,X){return Ni(E)?this._fetchNamespace(_).listen(E,R,L,X):()=>{}}_buildInstruction(_,E,R,L,X){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,R,L,_.fromState.options,_.toState.options,E,X)}destroyInnerAnimations(_){let E=this.driver.query(_,cr,!0);E.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(_,Ci,!0),E.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(_){const E=this.playersByElement.get(_);E&&E.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(_){const E=this.playersByQueriedElement.get(_);E&&E.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return _e(this.players).onDone(()=>_());_()})}processLeaveNode(_){const E=_[mn];if(E&&E.setForRemoval){if(_[mn]=Zt,E.namespaceId){this.destroyInnerAnimations(_);const R=this._fetchNamespace(E.namespaceId);R&&R.clearElementCache(_)}this._onRemovalComplete(_,E.setForRemoval)}_.classList?.contains(K)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(_=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,L)=>this._balanceNamespaceList(R,L)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)ii(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{E=this._flushAnimations(R,_)}finally{for(let L=0;L<R.length;L++)R[L]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],E.length?_e(E).onDone(()=>{R.forEach(L=>L())}):R.forEach(L=>L())}}reportError(_){throw function Fi(){return new $.wOt(3402,!1)}()}_flushAnimations(_,E){const R=new Ro,L=[],X=new Map,Ae=[],y=new Map,T=new Map,w=new Map,S=new Set;this.disabledNodes.forEach(Qn=>{S.add(Qn);const Mn=this.driver.query(Qn,".ng-animate-queued",!0);for(let dr=0;dr<Mn.length;dr++)S.add(Mn[dr])});const F=this.bodyNode,Y=Array.from(this.statesByElement.keys()),ee=To(Y,this.collectedEnterElements),Oe=new Map;let Ze=0;ee.forEach((Qn,Mn)=>{const dr=jn+Ze++;Oe.set(Mn,dr),Qn.forEach(ei=>ii(ei,dr))});const Gt=[],qn=new Set,Sr=new Set;for(let Qn=0;Qn<this.collectedLeaveElements.length;Qn++){const Mn=this.collectedLeaveElements[Qn],dr=Mn[mn];dr&&dr.setForRemoval&&(Gt.push(Mn),qn.add(Mn),dr.hasAnimation?this.driver.query(Mn,".ng-star-inserted",!0).forEach(ei=>qn.add(ei)):Sr.add(Mn))}const Ii=new Map,Zi=To(Y,Array.from(qn));Zi.forEach((Qn,Mn)=>{const dr=hn+Ze++;Ii.set(Mn,dr),Qn.forEach(ei=>ii(ei,dr))}),_.push(()=>{ee.forEach((Qn,Mn)=>{const dr=Oe.get(Mn);Qn.forEach(ei=>po(ei,dr))}),Zi.forEach((Qn,Mn)=>{const dr=Ii.get(Mn);Qn.forEach(ei=>po(ei,dr))}),Gt.forEach(Qn=>{this.processLeaveNode(Qn)})});const no=[],ao=[];for(let Qn=this._namespaceList.length-1;Qn>=0;Qn--)this._namespaceList[Qn].drainQueuedTransitions(E).forEach(dr=>{const ei=dr.player,Do=dr.element;if(no.push(ei),this.collectedEnterElements.length){const hr=Do[mn];if(hr&&hr.setForMove){if(hr.previousTriggersValues&&hr.previousTriggersValues.has(dr.triggerName)){const fa=hr.previousTriggersValues.get(dr.triggerName),qo=this.statesByElement.get(dr.element);if(qo&&qo.has(dr.triggerName)){const mo=qo.get(dr.triggerName);mo.value=fa,qo.set(dr.triggerName,mo)}}return void ei.destroy()}}const ha=!F||!this.driver.containsElement(F,Do),Qr=Ii.get(Do),Oa=Oe.get(Do),ar=this._buildInstruction(dr,R,Oa,Qr,ha);if(ar.errors&&ar.errors.length)return void ao.push(ar);if(ha)return ei.onStart(()=>Cn(Do,ar.fromStyles)),ei.onDestroy(()=>Ln(Do,ar.toStyles)),void L.push(ei);if(dr.isFallbackTransition)return ei.onStart(()=>Cn(Do,ar.fromStyles)),ei.onDestroy(()=>Ln(Do,ar.toStyles)),void L.push(ei);const Fa=[];ar.timelines.forEach(hr=>{hr.stretchStartingKeyframe=!0,this.disabledNodes.has(hr.element)||Fa.push(hr)}),ar.timelines=Fa,R.append(Do,ar.timelines),Ae.push({instruction:ar,player:ei,element:Do}),ar.queriedElements.forEach(hr=>Pn(y,hr,[]).push(ei)),ar.preStyleProps.forEach((hr,fa)=>{if(hr.size){let qo=T.get(fa);qo||T.set(fa,qo=new Set),hr.forEach((mo,La)=>qo.add(La))}}),ar.postStyleProps.forEach((hr,fa)=>{let qo=w.get(fa);qo||w.set(fa,qo=new Set),hr.forEach((mo,La)=>qo.add(La))})});if(ao.length){const Qn=[];ao.forEach(Mn=>{Qn.push(function Li(){return new $.wOt(3505,!1)}())}),no.forEach(Mn=>Mn.destroy()),this.reportError(Qn)}const Pi=new Map,Bo=new Map;Ae.forEach(Qn=>{const Mn=Qn.element;R.has(Mn)&&(Bo.set(Mn,Mn),this._beforeAnimationBuild(Qn.player.namespaceId,Qn.instruction,Pi))}),L.forEach(Qn=>{const Mn=Qn.element;this._getPreviousPlayers(Mn,!1,Qn.namespaceId,Qn.triggerName,null).forEach(ei=>{Pn(Pi,Mn,[]).push(ei),ei.destroy()})});const ws=Gt.filter(Qn=>Ls(Qn,T,w)),Js=new Map;Ri(Js,this.driver,Sr,w,gn.kp).forEach(Qn=>{Ls(Qn,T,w)&&ws.push(Qn)});const gc=new Map;ee.forEach((Qn,Mn)=>{Ri(gc,this.driver,new Set(Qn),T,gn.FX)}),ws.forEach(Qn=>{const Mn=Js.get(Qn),dr=gc.get(Qn);Js.set(Qn,new Map([...Mn?.entries()??[],...dr?.entries()??[]]))});const zu=[],mc=[],Nl={};Ae.forEach(Qn=>{const{element:Mn,player:dr,instruction:ei}=Qn;if(R.has(Mn)){if(S.has(Mn))return dr.onDestroy(()=>Ln(Mn,ei.toStyles)),dr.disabled=!0,dr.overrideTotalTime(ei.totalTime),void L.push(dr);let Do=Nl;if(Bo.size>1){let Qr=Mn;const Oa=[];for(;Qr=Qr.parentNode;){const ar=Bo.get(Qr);if(ar){Do=ar;break}Oa.push(Qr)}Oa.forEach(ar=>Bo.set(ar,Do))}const ha=this._buildAnimation(dr.namespaceId,ei,Pi,X,gc,Js);if(dr.setRealPlayer(ha),Do===Nl)zu.push(dr);else{const Qr=this.playersByElement.get(Do);Qr&&Qr.length&&(dr.parentPlayer=_e(Qr)),L.push(dr)}}else Cn(Mn,ei.fromStyles),dr.onDestroy(()=>Ln(Mn,ei.toStyles)),mc.push(dr),S.has(Mn)&&L.push(dr)}),mc.forEach(Qn=>{const Mn=X.get(Qn.element);if(Mn&&Mn.length){const dr=_e(Mn);Qn.setRealPlayer(dr)}}),L.forEach(Qn=>{Qn.parentPlayer?Qn.syncPlayerEvents(Qn.parentPlayer):Qn.destroy()});for(let Qn=0;Qn<Gt.length;Qn++){const Mn=Gt[Qn],dr=Mn[mn];if(po(Mn,hn),dr&&dr.hasAnimation)continue;let ei=[];if(y.size){let ha=y.get(Mn);ha&&ha.length&&ei.push(...ha);let Qr=this.driver.query(Mn,Ci,!0);for(let Oa=0;Oa<Qr.length;Oa++){let ar=y.get(Qr[Oa]);ar&&ar.length&&ei.push(...ar)}}const Do=ei.filter(ha=>!ha.destroyed);Do.length?Wo(this,Mn,Do):this.processLeaveNode(Mn)}return Gt.length=0,zu.forEach(Qn=>{this.players.push(Qn),Qn.onDone(()=>{Qn.destroy();const Mn=this.players.indexOf(Qn);this.players.splice(Mn,1)}),Qn.play()}),zu}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,E,R,L,X){let Ae=[];if(E){const y=this.playersByQueriedElement.get(_);y&&(Ae=y)}else{const y=this.playersByElement.get(_);if(y){const T=!X||X==Jn;y.forEach(w=>{w.queued||!T&&w.triggerName!=L||Ae.push(w)})}}return(R||L)&&(Ae=Ae.filter(y=>!(R&&R!=y.namespaceId||L&&L!=y.triggerName))),Ae}_beforeAnimationBuild(_,E,R){const X=E.element,Ae=E.isRemovalTransition?void 0:_,y=E.isRemovalTransition?void 0:E.triggerName;for(const T of E.timelines){const w=T.element,S=w!==X,F=Pn(R,w,[]);this._getPreviousPlayers(w,S,Ae,y,E.toState).forEach(ee=>{const Oe=ee.getRealPlayer();Oe.beforeDestroy&&Oe.beforeDestroy(),ee.destroy(),F.push(ee)})}Cn(X,E.fromStyles)}_buildAnimation(_,E,R,L,X,Ae){const y=E.triggerName,T=E.element,w=[],S=new Set,F=new Set,Y=E.timelines.map(Oe=>{const Ze=Oe.element;S.add(Ze);const Gt=Ze[mn];if(Gt&&Gt.removedBeforeQueried)return new gn.sf(Oe.duration,Oe.delay);const qn=Ze!==T,Sr=function ls(H){const _=[];return aa(H,_),_}((R.get(Ze)||Ot).map(Pi=>Pi.getRealPlayer())).filter(Pi=>!!Pi.element&&Pi.element===Ze),Ii=X.get(Ze),Zi=Ae.get(Ze),no=He(this._normalizer,Oe.keyframes,Ii,Zi),ao=this._buildPlayer(Oe,no,Sr);if(Oe.subTimeline&&L&&F.add(Ze),qn){const Pi=new Ui(_,y,Ze);Pi.setRealPlayer(ao),w.push(Pi)}return ao});w.forEach(Oe=>{Pn(this.playersByQueriedElement,Oe.element,[]).push(Oe),Oe.onDone(()=>function Si(H,_,E){let R=H.get(_);if(R){if(R.length){const L=R.indexOf(E);R.splice(L,1)}0==R.length&&H.delete(_)}return R}(this.playersByQueriedElement,Oe.element,Oe))}),S.forEach(Oe=>ii(Oe,Ei));const ee=_e(Y);return ee.onDestroy(()=>{S.forEach(Oe=>po(Oe,Ei)),Ln(T,E.toStyles)}),F.forEach(Oe=>{Pn(L,Oe,[]).push(ee)}),ee}_buildPlayer(_,E,R){return E.length>0?this.driver.animate(_.element,E,_.duration,_.delay,_.easing,R):new gn.sf(_.duration,_.delay)}}class Ui{namespaceId;triggerName;element;_player=new gn.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(_,E,R){this.namespaceId=_,this.triggerName=E,this.element=R}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((E,R)=>{E.forEach(L=>Vt(_,R,void 0,L))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const E=this._player;E.triggerCallback&&_.onStart(()=>E.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,E){Pn(this._queuedCallbacks,_,[]).push(E)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const E=this._player;E.triggerCallback&&E.triggerCallback(_)}}function Ni(H){return H&&1===H.nodeType}function _i(H,_){const E=H.style.display;return H.style.display=_??"none",E}function Ri(H,_,E,R,L){const X=[];E.forEach(T=>X.push(_i(T)));const Ae=[];R.forEach((T,w)=>{const S=new Map;T.forEach(F=>{const Y=_.computeStyle(w,F,L);S.set(F,Y),(!Y||0==Y.length)&&(w[mn]=bn,Ae.push(w))}),H.set(w,S)});let y=0;return E.forEach(T=>_i(T,X[y++])),Ae}function To(H,_){const E=new Map;if(H.forEach(y=>E.set(y,[])),0==_.length)return E;const L=new Set(_),X=new Map;function Ae(y){if(!y)return 1;let T=X.get(y);if(T)return T;const w=y.parentNode;return T=E.has(w)?w:L.has(w)?1:Ae(w),X.set(y,T),T}return _.forEach(y=>{const T=Ae(y);1!==T&&E.get(T).push(y)}),E}function ii(H,_){H.classList?.add(_)}function po(H,_){H.classList?.remove(_)}function Wo(H,_,E){_e(E).onDone(()=>H.processLeaveNode(_))}function aa(H,_){for(let E=0;E<H.length;E++){const R=H[E];R instanceof gn.PZ?aa(R.players,_):_.push(R)}}function Ls(H,_,E){const R=E.get(H);if(!R)return!1;let L=_.get(H);return L?R.forEach(X=>L.add(X)):_.set(H,R),E.delete(H),!0}class ds{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(_,E)=>{};constructor(_,E,R){this._driver=E,this._normalizer=R,this._transitionEngine=new yi(_.body,E,R),this._timelineEngine=new Vo(_.body,E,R),this._transitionEngine.onRemovalComplete=(L,X)=>this.onRemovalComplete(L,X)}registerTrigger(_,E,R,L,X){const Ae=_+"-"+L;let y=this._triggerCache[Ae];if(!y){const T=[],S=$n(this._driver,X,T,[]);if(T.length)throw function Ki(){return new $.wOt(3404,!1)}();y=function Er(H,_,E){return new Xi(H,_,E)}(L,S,this._normalizer),this._triggerCache[Ae]=y}this._transitionEngine.registerTrigger(E,L,y)}register(_,E){this._transitionEngine.register(_,E)}destroy(_,E){this._transitionEngine.destroy(_,E)}onInsert(_,E,R,L){this._transitionEngine.insertNode(_,E,R,L)}onRemove(_,E,R){this._transitionEngine.removeNode(_,E,R)}disableAnimations(_,E){this._transitionEngine.markElementAsDisabled(_,E)}process(_,E,R,L){if("@"==R.charAt(0)){const[X,Ae]=yr(R);this._timelineEngine.command(X,E,Ae,L)}else this._transitionEngine.trigger(_,E,R,L)}listen(_,E,R,L,X){if("@"==R.charAt(0)){const[Ae,y]=yr(R);return this._timelineEngine.listen(Ae,E,y,X)}return this._transitionEngine.listen(_,E,R,L,X)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(_){this._transitionEngine.afterFlushAnimationsDone(_)}}let ca=(()=>{class H{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(E,R,L){this._element=E,this._startStyles=R,this._endStyles=L;let X=H.initialStylesByElement.get(E);X||H.initialStylesByElement.set(E,X=new Map),this._initialStyles=X}start(){this._state<1&&(this._startStyles&&Ln(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ln(this._element,this._initialStyles),this._endStyles&&(Ln(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(H.initialStylesByElement.delete(this._element),this._startStyles&&(Cn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cn(this._element,this._endStyles),this._endStyles=null),Ln(this._element,this._initialStyles),this._state=3)}}return H})();function Vs(H){let _=null;return H.forEach((E,R)=>{(function to(H){return"display"===H||"position"===H})(R)&&(_=_||new Map,_.set(R,E))}),_}class Ps{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(_,E,R,L){this.element=_,this.keyframes=E,this.options=R,this._specialStyles=L,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map;const E=()=>this._onFinish();this.domPlayer.addEventListener("finish",E),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",E)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const E=[];return _.forEach(R=>{E.push(Object.fromEntries(R))}),E}_triggerWebAnimation(_,E,R){return _.animate(this._convertKeyframesToObject(E),R)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,L)=>{"offset"!==L&&_.set(L,this._finished?R:ie(this.element,L))}),this.currentSnapshot=_}triggerCallback(_){const E="start"===_?this._onStartFns:this._onDoneFns;E.forEach(R=>R()),E.length=0}}class di{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}containsElement(_,E){return Nt(_,E)}getParentElement(_){return le(_)}query(_,E,R){return It(_,E,R)}computeStyle(_,E,R){return ie(_,E)}animate(_,E,R,L,X,Ae=[]){const T={duration:R,delay:L,fill:0==L?"both":"forwards"};X&&(T.easing=X);const w=new Map,S=Ae.filter(ee=>ee instanceof Ps);(function B(H,_){return 0===H||0===_})(R,L)&&S.forEach(ee=>{ee.currentSnapshot.forEach((Oe,Ze)=>w.set(Ze,Oe))});let F=function qt(H){return H.length?H[0]instanceof Map?H:H.map(_=>new Map(Object.entries(_))):[]}(E).map(ee=>new Map(ee));F=function me(H,_,E){if(E.size&&_.length){let R=_[0],L=[];if(E.forEach((X,Ae)=>{R.has(Ae)||L.push(Ae),R.set(Ae,X)}),L.length)for(let X=1;X<_.length;X++){let Ae=_[X];L.forEach(y=>Ae.set(y,ie(H,y)))}}return _}(_,F,w);const Y=function Na(H,_){let E=null,R=null;return Array.isArray(_)&&_.length?(E=Vs(_[0]),_.length>1&&(R=Vs(_[_.length-1]))):_ instanceof Map&&(E=Vs(_)),E||R?new ca(H,E,R):null}(_,F);return new Ps(_,F,T,Y)}}const Bs="@.disabled";class bi{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(_,E,R,L){this.namespaceId=_,this.delegate=E,this.engine=R,this._onDestroy=L}get data(){return this.delegate.data}destroyNode(_){this.delegate.destroyNode?.(_)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(_,E){return this.delegate.createElement(_,E)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,E){this.delegate.appendChild(_,E),this.engine.onInsert(this.namespaceId,E,_,!1)}insertBefore(_,E,R,L=!0){this.delegate.insertBefore(_,E,R),this.engine.onInsert(this.namespaceId,E,_,L)}removeChild(_,E,R){this.parentNode(E)&&this.engine.onRemove(this.namespaceId,E,this.delegate)}selectRootElement(_,E){return this.delegate.selectRootElement(_,E)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,E,R,L){this.delegate.setAttribute(_,E,R,L)}removeAttribute(_,E,R){this.delegate.removeAttribute(_,E,R)}addClass(_,E){this.delegate.addClass(_,E)}removeClass(_,E){this.delegate.removeClass(_,E)}setStyle(_,E,R,L){this.delegate.setStyle(_,E,R,L)}removeStyle(_,E,R){this.delegate.removeStyle(_,E,R)}setProperty(_,E,R){"@"==E.charAt(0)&&E==Bs?this.disableAnimations(_,!!R):this.delegate.setProperty(_,E,R)}setValue(_,E){this.delegate.setValue(_,E)}listen(_,E,R,L){return this.delegate.listen(_,E,R,L)}disableAnimations(_,E){this.engine.disableAnimations(_,E)}}class ua extends bi{factory;constructor(_,E,R,L,X){super(E,R,L,X),this.factory=_,this.namespaceId=E}setProperty(_,E,R){"@"==E.charAt(0)?"."==E.charAt(1)&&E==Bs?this.disableAnimations(_,R=void 0===R||!!R):this.engine.process(this.namespaceId,_,E.slice(1),R):this.delegate.setProperty(_,E,R)}listen(_,E,R,L){if("@"==E.charAt(0)){const X=function Gr(H){switch(H){case"body":return document.body;case"document":return document;case"window":return window;default:return H}}(_);let Ae=E.slice(1),y="";return"@"!=Ae.charAt(0)&&([Ae,y]=function Br(H){const _=H.indexOf(".");return[H.substring(0,_),H.slice(_+1)]}(Ae)),this.engine.listen(this.namespaceId,X,Ae,y,T=>{this.factory.scheduleListenerCallback(T._data||-1,R,T)})}return this.delegate.listen(_,E,R,L)}}class Ta{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(_,E,R){this.delegate=_,this.engine=E,this._zone=R,E.onRemovalComplete=(L,X)=>{X?.removeChild(null,L)}}createRenderer(_,E){const L=this.delegate.createRenderer(_,E);if(!_||!E?.data?.animation){const w=this._rendererCache;let S=w.get(L);return S||(S=new bi("",L,this.engine,()=>w.delete(L)),w.set(L,S)),S}const X=E.id,Ae=E.id+"-"+this._currentId;this._currentId++,this.engine.register(Ae,_);const y=w=>{Array.isArray(w)?w.forEach(y):this.engine.registerTrigger(X,Ae,_,w.name,w)};return E.data.animation.forEach(y),new ua(this,Ae,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(_,E,R){if(_>=0&&_<this._microtaskId)return void this._zone.run(()=>E(R));const L=this._animationCallbacksBuffer;0==L.length&&queueMicrotask(()=>{this._zone.run(()=>{L.forEach(X=>{const[Ae,y]=X;Ae(y)}),this._animationCallbacksBuffer=[]})}),L.push([E,R])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(_){this.engine.flush(),this.delegate.componentReplaced?.(_)}}const Qa=[{provide:dn,useFactory:function qa(){return new Xr}},{provide:ds,useClass:(()=>{class H extends ds{constructor(E,R,L){super(E,R,L)}ngOnDestroy(){this.flush()}static \u0275fac=function(R){return new(R||H)($.KVO(Z.q),$.KVO(St),$.KVO(dn))};static \u0275prov=$.jDH({token:H,factory:H.\u0275fac})}return H})()},{provide:$._9s,useFactory:function ba(H,_,E){return new Ta(H,_,E)},deps:[Dt,ds,$.SKi]}],xa=[{provide:St,useFactory:()=>new di},{provide:$.bc$,useFactory:()=>"BrowserAnimations"},...Qa];var hi=j(5072);let Uo=(()=>{class H{title="todo-app";static \u0275fac=function(R){return new(R||H)};static \u0275cmp=$.VBU({type:H,selectors:[["app-root"]],decls:1,vars:0,template:function(R,L){1&R&&$.nrm(0,"router-outlet")},dependencies:[hi.n3],encapsulation:2})}return H})();var Hi=j(5207),Ko=j(467),hs=j(2881),jr=j(6335),P=j(9885),M=j(4796),z=j(6810),Re=j(9332),Lt=j(7759);const Rn=H=>["/dashboard/profile",H],ur=()=>["/dashboard/claims"],Bi=()=>["/dashboard/admin-users"];function zi(H,_){if(1&H&&($.j41(0,"span",43),$.EFF(1),$.k0s()),2&H){const E=$.XpG();$.R7$(),$.JRh(E.pendingCount)}}function bo(H,_){1&H&&($.j41(0,"li")(1,"a",21),$.EFF(2," Admin Usuarios "),$.k0s()()),2&H&&($.R7$(),$.Y8G("routerLink",$.lJ4(1,Bi)))}let $s=(()=>{class H{route;auth;userService;authService;router;todoService;alertaService;mockService;userData=null;isLoading=!0;imagePath="assets/images/isotipo-webmain.svg";imageDefault="https://maxuber79.github.io/gsaforce/assets/images/face28.jpg";apodoUser="perrito";user=null;uid=null;profilePhotoURL="";pendingCount=0;todos=[];metrics="";tickets;satisfaction;channels;channelLabels=["Web","App","WhatsApp","Call Center"];channelData=[40,25,20,15];notifications=[];channelsData=[];perfil=null;userRol="";constructor(E,R,L,X,Ae,y,T,w){this.route=E,this.auth=R,this.userService=L,this.authService=X,this.router=Ae,this.todoService=y,this.alertaService=T,this.mockService=w,console.log("%c<<< Start DashboardComponent >>>","background: #0d6efd; color: #ffffff; padding: 2px 5px;")}ngOnInit(){console.log("\u{1f4e6} Iniciando carga de usuario en dashboard..."),this.authService.getCurrentUser().subscribe(E=>{E&&(this.uid=E.uid,console.log(`%c \u{1f4e6} Usuario autenticado: ${E.uid}:`,"background: #d1e7dd; color: #0f5132; padding: 2px 5px;",E),this.userService.getUserData(E.uid).subscribe(R=>{console.log(`%c \u{1f4e6} Usuario autenticado ----\x3e ${E.uid}:`,"background: #d1e7dd; color: #0f5132; padding: 2px 5px;",R),this.userData=R,this.uid=R?.uid||"",this.perfil=R,this.userRol=R?.rol||"Usuario",console.log("Rol del usuario:",this.userRol)}))})}onLogout(){var E=this;return(0,Ko.A)(function*(){try{yield E.authService.logout(),E.router.navigate(["/"])}catch(R){console.error("\u274c Error al cerrar sesi\xf3n:",R)}})()}goToProfile(){this.userData?.uid?this.router.navigate(["/dashboard/profile",this.userData.uid]):console.error("\u274c No se encontr\xf3 UID para navegar al perfil")}static \u0275fac=function(R){return new(R||H)($.rXU(hi.nX),$.rXU(jr.Nj),$.rXU(P.D),$.rXU(M.u),$.rXU(hi.Ix),$.rXU(z.y),$.rXU(Re.u),$.rXU(Lt.I))};static \u0275cmp=$.VBU({type:H,selectors:[["app-dashboard"]],decls:75,vars:9,consts:[[1,"d-flex","flex-column","min-vh-100","dashboard"],[1,"px-3","text-bg-dark"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["alt","","width","50",1,"",3,"src"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"navbar-nav","flex-row","d-none","d-md-flex"],[1,"nav-item","me-3","me-lg-1","active"],["href","#",1,"nav-link"],[1,"bi","bi-gear-fill"],[1,"nav-item","me-3","me-lg-1"],[1,"bi","bi-bell-fill"],["class","badge rounded-pill badge-notification bg-danger",4,"ngIf"],[1,"dropdown","text-end"],["href","#","data-bs-toggle","dropdown","aria-expanded","false",1,"text-decoration-none","dropdown-toggle"],["alt","mdo","width","32","height","32",1,"border","border-light-subtle","border-2","object-fit-cover","rounded-circle",3,"src"],[1,"dropdown-menu","dropdown-menu-end","text-small"],[1,"dropdown-item",3,"routerLink"],[4,"ngIf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"flex-grow-1","container","py-4"],[1,"container"],["data-bs-theme","dark",1,"py-4","bg-dark"],[1,"d-lg-flex","justify-content-between","py-3","py-lg-2"],[1,"small","mb-2","mb-lg-0"],[1,"text-muted","mb-0","me-5"],[1,"d-flex","small","align-items-end","justify-content-between"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3","mb-2","mb-lg-0"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3"],[1,"d-none","d-lg-block","ms-3"],["href","",1,"me-2"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-pinterest","text-primary"],["d","M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-twitter","text-primary"],["d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-facebook","text-primary"],["d","M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"],[1,"d-lg-none"],[1,"badge","rounded-pill","badge-notification","bg-danger"]],template:function(R,L){1&R&&($.j41(0,"div",0)(1,"header",1)(2,"nav",2)(3,"div",3)(4,"a",4),$.nrm(5,"img",5),$.k0s(),$.j41(6,"button",6),$.nrm(7,"span",7),$.k0s(),$.j41(8,"div",8),$.nrm(9,"ul",9),$.j41(10,"ul",10)(11,"li",11)(12,"a",12)(13,"span"),$.nrm(14,"i",13),$.k0s()()(),$.j41(15,"li",14)(16,"a",12)(17,"span"),$.nrm(18,"i",15),$.k0s(),$.DNE(19,zi,2,1,"span",16),$.k0s()()(),$.j41(20,"div",17)(21,"a",18),$.nrm(22,"img",19),$.k0s(),$.j41(23,"ul",20)(24,"li")(25,"a",21),$.EFF(26,"Mi perfil"),$.k0s()(),$.j41(27,"li")(28,"a",21),$.EFF(29,"Mis Reclamos"),$.k0s()(),$.DNE(30,bo,3,2,"li",22),$.j41(31,"li"),$.nrm(32,"hr",23),$.k0s(),$.j41(33,"li")(34,"a",24),$.bIt("click",function(){return L.onLogout()}),$.EFF(35,"Sign out"),$.k0s()()()()()()()(),$.j41(36,"main",25)(37,"section",26),$.nrm(38,"router-outlet"),$.k0s()(),$.j41(39,"footer",27)(40,"div",26)(41,"div",28)(42,"div",29)(43,"p",30),$.EFF(44,"\xa9 2023 FreeFrontend.dev. All rights reserved."),$.k0s()(),$.j41(45,"div",31)(46,"div")(47,"a",32),$.EFF(48,"Privacy Policy"),$.k0s(),$.j41(49,"a",32),$.EFF(50,"Terms"),$.k0s(),$.j41(51,"a",32),$.EFF(52,"Cookies"),$.k0s(),$.j41(53,"a",33),$.EFF(54,"Sitemap"),$.k0s()(),$.j41(55,"div",34)(56,"a",35),$.qSk(),$.j41(57,"svg",36),$.nrm(58,"path",37),$.k0s()(),$.joV(),$.j41(59,"a",35),$.qSk(),$.j41(60,"svg",38),$.nrm(61,"path",39),$.k0s()(),$.joV(),$.j41(62,"a",35),$.qSk(),$.j41(63,"svg",40),$.nrm(64,"path",41),$.k0s()()(),$.joV(),$.j41(65,"div",42)(66,"a",35),$.qSk(),$.j41(67,"svg",36),$.nrm(68,"path",37),$.k0s()(),$.joV(),$.j41(69,"a",35),$.qSk(),$.j41(70,"svg",38),$.nrm(71,"path",39),$.k0s()(),$.joV(),$.j41(72,"a",35),$.qSk(),$.j41(73,"svg",40),$.nrm(74,"path",41),$.k0s()()()()()()()()),2&R&&($.R7$(5),$.Y8G("src",L.imagePath,$.B4B),$.R7$(14),$.Y8G("ngIf",L.pendingCount>0),$.R7$(3),$.Y8G("src",(null==L.userData?null:L.userData.photoURL)||L.imageDefault,$.B4B),$.R7$(3),$.Y8G("routerLink",$.eq3(6,Rn,L.uid)),$.R7$(3),$.Y8G("routerLink",$.lJ4(8,ur)),$.R7$(2),$.Y8G("ngIf","Administrador"===L.userRol))},dependencies:[hs.MD,hs.bT,Hi.iI,hi.n3,Hi.Wk],styles:["[data-card=border][_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid var(--bs-border-color);box-shadow:none}.card[_ngcontent-%COMP%]{margin-bottom:var(--bs-gutter-x)}.card-title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px;color:var(--bs-card-title-color)}.card-subtitle[_ngcontent-%COMP%]{font-size:14px;line-height:24px;color:var(--bs-card-subtitle-color)}.card-hover[_ngcontent-%COMP%]{transition:.2s ease-in}.card-hover[_ngcontent-%COMP%]:hover{transform:translate3d(0,-5px,0)}.cardwithborder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid var(--bs-border-color)}.card-fullscreen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;overflow:auto}.draggable-cards[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{cursor:move}.card-moved[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:var(--bs-info);color:var(--bs-white)}"]})}return H})();function Da(H,_){1&H&&($.j41(0,"div",5)(1,"div",6)(2,"span",7),$.EFF(3,"Cargando..."),$.k0s()(),$.j41(4,"p",8),$.EFF(5,"Procesando..."),$.k0s()())}let ss=(()=>{class H{router;userName="Nuevo Usuario";isLoading=!1;constructor(E){this.router=E}goToDashboard(){setTimeout(()=>{this.isLoading=!1,this.router.navigate(["/dashboard"])},2e3)}static \u0275fac=function(R){return new(R||H)($.rXU(hi.Ix))};static \u0275cmp=$.VBU({type:H,selectors:[["app-welcome"]],decls:8,vars:2,consts:[[1,"welcome-container"],[1,"welcome-title"],[1,"welcome-subtitle"],["class","text-center my-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"text-center","my-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"]],template:function(R,L){1&R&&($.j41(0,"section",0)(1,"h1",1),$.EFF(2),$.k0s(),$.j41(3,"p",2),$.EFF(4," Gracias por registrarte en nuestra aplicaci\xf3n To-Do. Desde aqu\xed puedes acceder a tu panel de control. "),$.k0s(),$.DNE(5,Da,6,0,"div",3),$.j41(6,"button",4),$.bIt("click",function(){return L.goToDashboard()}),$.EFF(7,"Ir al Dashboard"),$.k0s()()),2&R&&($.R7$(2),$.SpI("\xa1Bienvenido, ",L.userName,"! \u{1f44b}"),$.R7$(3),$.Y8G("ngIf",L.isLoading))},dependencies:[hs.MD,hs.bT],styles:[".welcome-container[_ngcontent-%COMP%]{text-align:center;padding:2rem}.welcome-container[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.welcome-container[_ngcontent-%COMP%]   .welcome-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:#555}.welcome-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1.5rem}"]})}return H})();var go=j(520),as=j(1985);const Xo=(H,_)=>{const E=(0,$.WQX)(jr.Nj),R=(0,$.WQX)(hi.Ix);return new as.c(L=>{const X=(0,go.hg)(E,Ae=>{Ae?L.next(!0):(R.navigate(["/"]),L.next(!1)),L.complete(),X()})})},Hs=(H,_)=>{const E=(0,$.WQX)(jr.Nj),R=(0,$.WQX)(hi.Ix);return new as.c(L=>{const X=(0,go.hg)(E,Ae=>{Ae?(R.navigate(["/dashboard"]),L.next(!1)):L.next(!0),L.complete(),X()})})},xn=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>Promise.all([j.e(341),j.e(195)]).then(j.bind(j,7195)).then(H=>H.LoginComponent),canActivate:[Hs]},{path:"register",loadComponent:()=>Promise.all([j.e(341),j.e(739)]).then(j.bind(j,2739)).then(H=>H.RegisterComponent),canActivate:[Hs]},{path:"forgot",loadComponent:()=>Promise.all([j.e(341),j.e(439)]).then(j.bind(j,6439)).then(H=>H.ForgotPasswordComponent),canActivate:[Hs]},{path:"dashboard",component:$s,canActivate:[Xo],loadChildren:()=>Promise.all([j.e(341),j.e(69)]).then(j.bind(j,9069)).then(H=>H.routes)},{path:"welcome",component:ss,canActivate:[Xo]},{path:"**",loadComponent:()=>j.e(887).then(j.bind(j,8887)).then(H=>H.NotFoundComponent)}];var la=j(7643);const bs_firebaseConfig={apiKey:"AIzaSyCbOayfHpIwogvguhehOdr1JZO5IW1ELwA",authDomain:"to-do-app-2a154.firebaseapp.com",projectId:"to-do-app-2a154",storageBucket:"to-do-app-2a154.firebasestorage.app",messagingSenderId:"772395492262",appId:"1:772395492262:web:902eddb2ce4a22857da567"};var cs=j(7440),da=j(9967),Aa=j(2107),Wi=j(5794);(function un(H,_){return(0,$.TL3)({rootComponent:H,...tr(_)})})(Uo,{providers:[(0,Hi.lh)(xn),(0,la.$R)(),function qr(){return(0,$.ngT)("NgEagerAnimations"),[...xa]}(),(0,cs.MW)(()=>(0,cs.Wp)(bs_firebaseConfig)),(0,jr._q)(()=>(0,jr.xI)()),(0,da.hV)(()=>(0,da.aU)()),(0,Aa.Xm)(()=>(0,Aa.c7)()),(0,Wi.DP)({positionClass:"toast-bottom-right",timeOut:3e3,closeButton:!0,progressBar:!0})]}).catch(H=>console.error(H))},5964:(Dn,Ge,j)=>{"use strict";j.d(Ge,{p:()=>Z});var I=j(9974),x=j(4360);function Z($,Me){return(0,I.N)((it,Ie)=>{let De=0;it.subscribe((0,x._)(Ie,Ke=>$.call(Me,Ke,De++)&&Ie.next(Ke)))})}},6048:(Dn,Ge,j)=>{"use strict";j.d(Ge,{Q:()=>Xe,Sm:()=>zt,Vw:()=>De,aZ:()=>jt,hb:()=>ft,hj:()=>Ke,ig:()=>it,kB:()=>Mt,om:()=>Te,qj:()=>Ie,rb:()=>Me});var I=j(1360),x=j(1413),Z=j(9361);let $=null;function Me(){return $}function it(Fe){$??=Fe}class Ie{}let De=(()=>{class Fe{historyGo(et){throw new Error("")}static \u0275fac=function(bt){return new(bt||Fe)};static \u0275prov=I.jDH({token:Fe,factory:()=>(0,I.WQX)(be),providedIn:"platform"})}return Fe})();const Ke=new I.nKC("");let be=(()=>{class Fe extends De{_location;_history;_doc=(0,I.WQX)(Z.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Me().getBaseHref(this._doc)}onPopState(et){const bt=Me().getGlobalEventTarget(this._doc,"window");return bt.addEventListener("popstate",et,!1),()=>bt.removeEventListener("popstate",et)}onHashChange(et){const bt=Me().getGlobalEventTarget(this._doc,"window");return bt.addEventListener("hashchange",et,!1),()=>bt.removeEventListener("hashchange",et)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(et){this._location.pathname=et}pushState(et,bt,Xt){this._history.pushState(et,bt,Xt)}replaceState(et,bt,Xt){this._history.replaceState(et,bt,Xt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(et=0){this._history.go(et)}getState(){return this._history.state}static \u0275fac=function(bt){return new(bt||Fe)};static \u0275prov=I.jDH({token:Fe,factory:()=>new Fe,providedIn:"platform"})}return Fe})();function Te(Fe,st){return Fe?st?Fe.endsWith("/")?st.startsWith("/")?Fe+st.slice(1):Fe+st:st.startsWith("/")?Fe+st:`${Fe}/${st}`:Fe:st}function ht(Fe){const st=Fe.search(/#|\?|$/);return"/"===Fe[st-1]?Fe.slice(0,st-1)+Fe.slice(st):Fe}function Xe(Fe){return Fe&&"?"!==Fe[0]?`?${Fe}`:Fe}let ft=(()=>{class Fe{historyGo(et){throw new Error("")}static \u0275fac=function(bt){return new(bt||Fe)};static \u0275prov=I.jDH({token:Fe,factory:()=>(0,I.WQX)(zt),providedIn:"root"})}return Fe})();const Mt=new I.nKC("");let zt=(()=>{class Fe extends ft{_platformLocation;_baseHref;_removeListenerFns=[];constructor(et,bt){super(),this._platformLocation=et,this._baseHref=bt??this._platformLocation.getBaseHrefFromDOM()??(0,I.WQX)(Z.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(et){this._removeListenerFns.push(this._platformLocation.onPopState(et),this._platformLocation.onHashChange(et))}getBaseHref(){return this._baseHref}prepareExternalUrl(et){return Te(this._baseHref,et)}path(et=!1){const bt=this._platformLocation.pathname+Xe(this._platformLocation.search),Xt=this._platformLocation.hash;return Xt&&et?`${bt}${Xt}`:bt}pushState(et,bt,Xt,Dt){const lt=this.prepareExternalUrl(Xt+Xe(Dt));this._platformLocation.pushState(et,bt,lt)}replaceState(et,bt,Xt,Dt){const lt=this.prepareExternalUrl(Xt+Xe(Dt));this._platformLocation.replaceState(et,bt,lt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(et=0){this._platformLocation.historyGo?.(et)}static \u0275fac=function(bt){return new(bt||Fe)(I.KVO(De),I.KVO(Mt,8))};static \u0275prov=I.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})(),jt=(()=>{class Fe{_subject=new x.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(et){this._locationStrategy=et;const bt=this._locationStrategy.getBaseHref();this._basePath=function Pt(Fe){if(new RegExp("^(https?:)?//").test(Fe)){const[,et]=Fe.split(/\/\/[^\/]+/);return et}return Fe}(ht(Tt(bt))),this._locationStrategy.onPopState(Xt=>{this._subject.next({url:this.path(!0),pop:!0,state:Xt.state,type:Xt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(et=!1){return this.normalize(this._locationStrategy.path(et))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(et,bt=""){return this.path()==this.normalize(et+Xe(bt))}normalize(et){return Fe.stripTrailingSlash(function vt(Fe,st){if(!Fe||!st.startsWith(Fe))return st;const et=st.substring(Fe.length);return""===et||["/",";","?","#"].includes(et[0])?et:st}(this._basePath,Tt(et)))}prepareExternalUrl(et){return et&&"/"!==et[0]&&(et="/"+et),this._locationStrategy.prepareExternalUrl(et)}go(et,bt="",Xt=null){this._locationStrategy.pushState(Xt,"",et,bt),this._notifyUrlChangeListeners(this.prepareExternalUrl(et+Xe(bt)),Xt)}replaceState(et,bt="",Xt=null){this._locationStrategy.replaceState(Xt,"",et,bt),this._notifyUrlChangeListeners(this.prepareExternalUrl(et+Xe(bt)),Xt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(et=0){this._locationStrategy.historyGo?.(et)}onUrlChange(et){return this._urlChangeListeners.push(et),this._urlChangeSubscription??=this.subscribe(bt=>{this._notifyUrlChangeListeners(bt.url,bt.state)}),()=>{const bt=this._urlChangeListeners.indexOf(et);this._urlChangeListeners.splice(bt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(et="",bt){this._urlChangeListeners.forEach(Xt=>Xt(et,bt))}subscribe(et,bt,Xt){return this._subject.subscribe({next:et,error:bt??void 0,complete:Xt??void 0})}static normalizeQueryParams=Xe;static joinWithSlash=Te;static stripTrailingSlash=ht;static \u0275fac=function(bt){return new(bt||Fe)(I.KVO(ft))};static \u0275prov=I.jDH({token:Fe,factory:()=>function tn(){return new jt((0,I.KVO)(ft))}(),providedIn:"root"})}return Fe})();function Tt(Fe){return Fe.replace(/\/index.html$/,"")}},6335:(Dn,Ge,j)=>{"use strict";j.d(Ge,{Nj:()=>ht,DF:()=>Xe,wh:()=>Fe,eJ:()=>kn,xI:()=>tt,_q:()=>Pt,J1:()=>kr,x9:()=>Gi,CI:()=>Yt});var I=j(2967),x=j(1360),Z=j(7440),$=j(4125),Me=j(2214),it=j(520),Ie=j(1985);function De(fr){return new Ie.c(function(Sn){return{unsubscribe:(0,it.hg)(fr,Sn.next.bind(Sn),Sn.error.bind(Sn),Sn.complete.bind(Sn))}})}class ht{constructor(Sn){return Sn}}class Xe{constructor(){return(0,I.CA)("auth")}}const Mt=new x.nKC("angularfire2.auth-instances");function jt(fr){return(Sn,Ti)=>{const Or=Sn.runOutsideAngular(()=>fr(Ti));return new ht(Or)}}const tn={provide:Xe,deps:[[new x.Xx1,Mt]]},vt={provide:ht,useFactory:function zt(fr,Sn){const Ti=(0,I.lR)("auth",fr,Sn);return Ti&&new ht(Ti)},deps:[[new x.Xx1,Mt],Z.XU]};function Pt(fr,...Sn){return(0,Me.KO)("angularfire",I.xv.full,"auth"),(0,x.EmA)([vt,tn,{provide:Mt,useFactory:jt(fr),multi:!0,deps:[x.SKi,x.zZn,I.u0,Z.gL,[new x.Xx1,$.kR],...Sn]}])}const Fe=(0,I.S3)(De,!0),kn=(0,I.S3)(it.eJ,!0,2),tt=(0,I.S3)(it.xI,!0),kr=(0,I.S3)(it.J1,!0,2),Gi=(0,I.S3)(it.x9,!0,2),Yt=(0,I.S3)(it.CI,!0,2)},6354:(Dn,Ge,j)=>{"use strict";j.d(Ge,{T:()=>Z});var I=j(9974),x=j(4360);function Z($,Me){return(0,I.N)((it,Ie)=>{let De=0;it.subscribe((0,x._)(Ie,Ke=>{Ie.next($.call(Me,Ke,De++))}))})}},6365:(Dn,Ge,j)=>{"use strict";j.d(Ge,{U:()=>Z});var I=j(1397),x=j(3669);function Z($=1/0){return(0,I.Z)(x.D,$)}},6450:(Dn,Ge,j)=>{"use strict";j.d(Ge,{I:()=>$});var I=j(6354);const{isArray:x}=Array;function $(Me){return(0,I.T)(it=>function Z(Me,it){return x(it)?Me(...it):Me(it)}(Me,it))}},6745:(Dn,Ge,j)=>{"use strict";j.d(Ge,{_:()=>x});var I=j(9974);function x(Z,$=0){return(0,I.N)((Me,it)=>{it.add(Z.schedule(()=>Me.subscribe(it),$))})}},6780:(Dn,Ge,j)=>{"use strict";j.d(Ge,{R:()=>Me});var I=j(8359);class x extends I.yU{constructor(Ie,De){super()}schedule(Ie,De=0){return this}}const Z={setInterval(it,Ie,...De){const{delegate:Ke}=Z;return Ke?.setInterval?Ke.setInterval(it,Ie,...De):setInterval(it,Ie,...De)},clearInterval(it){const{delegate:Ie}=Z;return(Ie?.clearInterval||clearInterval)(it)},delegate:void 0};var $=j(7908);class Me extends x{constructor(Ie,De){super(Ie,De),this.scheduler=Ie,this.work=De,this.pending=!1}schedule(Ie,De=0){var Ke;if(this.closed)return this;this.state=Ie;const be=this.id,Te=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(Te,be,De)),this.pending=!0,this.delay=De,this.id=null!==(Ke=this.id)&&void 0!==Ke?Ke:this.requestAsyncId(Te,this.id,De),this}requestAsyncId(Ie,De,Ke=0){return Z.setInterval(Ie.flush.bind(Ie,this),Ke)}recycleAsyncId(Ie,De,Ke=0){if(null!=Ke&&this.delay===Ke&&!1===this.pending)return De;null!=De&&Z.clearInterval(De)}execute(Ie,De){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ke=this._execute(Ie,De);if(Ke)return Ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,De){let be,Ke=!1;try{this.work(Ie)}catch(Te){Ke=!0,be=Te||new Error("Scheduled action threw falsy error")}if(Ke)return this.unsubscribe(),be}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:De}=this,{actions:Ke}=De;this.work=this.state=this.scheduler=null,this.pending=!1,(0,$.o)(Ke,this),null!=Ie&&(this.id=this.recycleAsyncId(De,Ie,null)),this.delay=null,super.unsubscribe()}}}},6810:(Dn,Ge,j)=>{"use strict";j.d(Ge,{y:()=>be});var I=j(467),x=j(9967),Z=j(3273),$=j(4843),Me=j(5558),it=j(6354),Ie=j(1360),De=j(6335),Ke=j(4796);let be=(()=>{class Te{firestore;auth;authService;constructor(Xe,ft,Mt){this.firestore=Xe,this.auth=ft,this.authService=Mt,console.log("%c<<< Start TODO service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}addTodo(Xe){var ft=this;return(0,I.A)(function*(){const Mt=yield(0,$._)(ft.authService.getCurrentUser());if(!Mt?.uid)throw new Error("Usuario no autenticado");const zt=(0,x.rJ)(ft.firestore,`users/${Mt.uid}/todos`),jt=(0,x.H9)(zt),tn=new Date,vt={...Xe,id:jt.id,completed:!1,createdAt:tn,updatedAt:tn};console.log("\u{1f9fe} Creando tarea en:",`users/${Mt.uid}/todos/${jt.id}`),console.log("\u{1f4dd} Datos:",vt),yield(0,x.BN)(jt,vt)})()}getTodos(){return this.authService.getCurrentUser().pipe((0,Me.n)(Xe=>{const ft=(0,x.rJ)(this.firestore,`users/${Xe.uid}/todos`);return(0,x.xs)(ft,{idField:"id"})}))}updateTodo(Xe,ft){var Mt=this;return(0,I.A)(function*(){const zt=yield(0,$._)(Mt.authService.getCurrentUser());if(!zt?.uid)throw new Error("Usuario no autenticado");const jt=(0,x.H9)(Mt.firestore,`users/${zt.uid}/todos/${Xe}`);yield(0,x.mZ)(jt,{...ft,updatedAt:Z.Dc.now()})})()}deleteTodo(Xe){var ft=this;return(0,I.A)(function*(){const Mt=yield(0,$._)(ft.authService.getCurrentUser());if(!Mt?.uid)throw new Error("Usuario no autenticado");const zt=(0,x.H9)(ft.firestore,`users/${Mt.uid}/todos/${Xe}`);yield(0,x.kd)(zt)})()}clearAllTodos(){var Xe=this;return(0,I.A)(function*(){const ft=yield(0,$._)(Xe.getTodos()),Mt=yield(0,$._)(Xe.authService.getCurrentUser());if(!Mt?.uid)throw new Error("Usuario no autenticado");const zt=ft.map(jt=>(0,x.kd)((0,x.H9)(Xe.firestore,`users/${Mt.uid}/todos/${jt.id}`)));yield Promise.all(zt)})()}getPendingTodosCount(){return this.authService.getCurrentUser().pipe((0,Me.n)(Xe=>{const ft=(0,x.rJ)(this.firestore,`users/${Xe.uid}/todos`),Mt=(0,x.P)(ft,(0,x._M)("completed","==",!1));return(0,x.xs)(Mt).pipe((0,it.T)(zt=>zt.length))}))}getTodoById(Xe){var ft=this;return(0,I.A)(function*(){const Mt=yield(0,$._)(ft.authService.getCurrentUser());if(!Mt?.uid)throw new Error("Usuario no autenticado");const zt=(0,x.H9)(ft.firestore,`users/${Mt.uid}/todos/${Xe}`),jt=yield(0,x.x7)(zt);if(!jt.exists())throw new Error("Tarea no encontrada");return jt.data()})()}static \u0275fac=function(ft){return new(ft||Te)(Ie.KVO(x._7),Ie.KVO(De.Nj),Ie.KVO(Ke.u))};static \u0275prov=Ie.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})()},6858:(Dn,Ge,j)=>{"use strict";j.d(Ge,{cY:()=>bt,FA:()=>nr,g:()=>Un,K3:()=>De,u:()=>ht,Uj:()=>Te,Fy:()=>Bn,tD:()=>lr,bD:()=>oi,hp:()=>Rr,T9:()=>st,Tj:()=>Pt,yU:()=>Fe,XA:()=>et,mS:()=>zt,Ku:()=>Li,ZQ:()=>sn,sr:()=>ye,zJ:()=>Xt,c1:()=>pe,Im:()=>Zn,lT:()=>Ye,zW:()=>Qt,jZ:()=>xt,lV:()=>se,nr:()=>nn,Ov:()=>tr,gE:()=>Dt,Am:()=>Ar,I9:()=>vi,P1:()=>tt,eX:()=>Yn});var I=j(467);const it=function(Se){const _e=[];let He=0;for(let Vt=0;Vt<Se.length;Vt++){let nt=Se.charCodeAt(Vt);nt<128?_e[He++]=nt:nt<2048?(_e[He++]=nt>>6|192,_e[He++]=63&nt|128):55296==(64512&nt)&&Vt+1<Se.length&&56320==(64512&Se.charCodeAt(Vt+1))?(nt=65536+((1023&nt)<<10)+(1023&Se.charCodeAt(++Vt)),_e[He++]=nt>>18|240,_e[He++]=nt>>12&63|128,_e[He++]=nt>>6&63|128,_e[He++]=63&nt|128):(_e[He++]=nt>>12|224,_e[He++]=nt>>6&63|128,_e[He++]=63&nt|128)}return _e},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Se,_e){if(!Array.isArray(Se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const He=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,Vt=[];for(let nt=0;nt<Se.length;nt+=3){const en=Se[nt],Pn=nt+1<Se.length,yr=Pn?Se[nt+1]:0,oe=nt+2<Se.length,le=oe?Se[nt+2]:0;let Ct=(15&yr)<<2|le>>6,ce=63&le;oe||(ce=64,Pn||(Ct=64)),Vt.push(He[en>>2],He[(3&en)<<4|yr>>4],He[Ct],He[ce])}return Vt.join("")},encodeString(Se,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(Se):this.encodeByteArray(it(Se),_e)},decodeString(Se,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(Se):function(Se){const _e=[];let He=0,Vt=0;for(;He<Se.length;){const nt=Se[He++];if(nt<128)_e[Vt++]=String.fromCharCode(nt);else if(nt>191&&nt<224){const en=Se[He++];_e[Vt++]=String.fromCharCode((31&nt)<<6|63&en)}else if(nt>239&&nt<365){const oe=((7&nt)<<18|(63&Se[He++])<<12|(63&Se[He++])<<6|63&Se[He++])-65536;_e[Vt++]=String.fromCharCode(55296+(oe>>10)),_e[Vt++]=String.fromCharCode(56320+(1023&oe))}else{const en=Se[He++],Pn=Se[He++];_e[Vt++]=String.fromCharCode((15&nt)<<12|(63&en)<<6|63&Pn)}}return _e.join("")}(this.decodeStringToByteArray(Se,_e))},decodeStringToByteArray(Se,_e){this.init_();const He=_e?this.charToByteMapWebSafe_:this.charToByteMap_,Vt=[];for(let nt=0;nt<Se.length;){const en=He[Se.charAt(nt++)],yr=nt<Se.length?He[Se.charAt(nt)]:0;++nt;const le=nt<Se.length?He[Se.charAt(nt)]:64;++nt;const gt=nt<Se.length?He[Se.charAt(nt)]:64;if(++nt,null==en||null==yr||null==le||null==gt)throw new Ke;Vt.push(en<<2|yr>>4),64!==le&&(Vt.push(yr<<4&240|le>>2),64!==gt&&Vt.push(le<<6&192|gt))}return Vt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Se=0;Se<this.ENCODED_VALS.length;Se++)this.byteToCharMap_[Se]=this.ENCODED_VALS.charAt(Se),this.charToByteMap_[this.byteToCharMap_[Se]]=Se,this.byteToCharMapWebSafe_[Se]=this.ENCODED_VALS_WEBSAFE.charAt(Se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Se]]=Se,Se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Se)]=Se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Se)]=Se)}}};class Ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Te=function(Se){return function(Se){const _e=it(Se);return De.encodeByteArray(_e,!0)}(Se).replace(/\./g,"")},ht=function(Se){try{return De.decodeString(Se,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};function zt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Tt=()=>{try{return zt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Se=process.env.__FIREBASE_DEFAULTS__;return Se?JSON.parse(Se):void 0})()||(()=>{if(typeof document>"u")return;let Se;try{Se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const _e=Se&&ht(Se[1]);return _e&&JSON.parse(_e)})()}catch(Se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Se}`)}},Pt=Se=>{var _e,He;return null===(He=null===(_e=Tt())||void 0===_e?void 0:_e.emulatorHosts)||void 0===He?void 0:He[Se]},Fe=Se=>{const _e=Pt(Se);if(!_e)return;const He=_e.lastIndexOf(":");if(He<=0||He+1===_e.length)throw new Error(`Invalid host ${_e} with no separate hostname and port!`);const Vt=parseInt(_e.substring(He+1),10);return"["===_e[0]?[_e.substring(1,He-1),Vt]:[_e.substring(0,He),Vt]},st=()=>{var Se;return null===(Se=Tt())||void 0===Se?void 0:Se.config},et=Se=>{var _e;return null===(_e=Tt())||void 0===_e?void 0:_e[`_${Se}`]};class bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,He)=>{this.resolve=_e,this.reject=He})}wrapCallback(_e){return(He,Vt)=>{He?this.reject(He):this.resolve(Vt),"function"==typeof _e&&(this.promise.catch(()=>{}),1===_e.length?_e(He):_e(He,Vt))}}}function Xt(Se){return Se.endsWith(".cloudworkstations.dev")}function Dt(Se){return lt.apply(this,arguments)}function lt(){return(lt=(0,I.A)(function*(Se){return(yield fetch(Se,{credentials:"include"})).ok})).apply(this,arguments)}function Bn(Se,_e){if(Se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Vt=_e||"demo-project",nt=Se.iat||0,en=Se.sub||Se.user_id;if(!en)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pn=Object.assign({iss:`https://securetoken.google.com/${Vt}`,aud:Vt,iat:nt,exp:nt+3600,auth_time:nt,sub:en,user_id:en,firebase:{sign_in_provider:"custom",identities:{}}},Se);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(Pn)),""].join(".")}const kn={};let In=!1;function tt(Se,_e){if(typeof window>"u"||typeof document>"u"||!Xt(window.location.host)||kn[Se]===_e||kn[Se]||In)return;function He(Ct){return`__firebase__banner__${Ct}`}kn[Se]=_e;const Vt="__firebase__banner",en=function Xn(){const Se={prod:[],emulator:[]};for(const _e of Object.keys(kn))kn[_e]?Se.emulator.push(_e):Se.prod.push(_e);return Se}().prod.length>0;function gt(){const Ct=function mt(Se){let _e=document.getElementById(Se),He=!1;return _e||(_e=document.createElement("div"),_e.setAttribute("id",Se),He=!0),{created:He,element:_e}}(Vt),ce=He("text"),ve=document.getElementById(ce)||document.createElement("span"),Ue=He("learnmore"),Nt=document.getElementById(Ue)||document.createElement("a"),It=He("preprendIcon"),_t=document.getElementById(It)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(Ct.created){const Ft=Ct.element;(function yr(Ct){Ct.style.display="flex",Ct.style.background="#7faaf0",Ct.style.position="fixed",Ct.style.bottom="5px",Ct.style.left="5px",Ct.style.padding=".5em",Ct.style.borderRadius="5px",Ct.style.alignItems="center"})(Ft),function Pe(Ct,ce){Ct.setAttribute("id",ce),Ct.innerText="Learn more",Ct.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",Ct.setAttribute("target","__blank"),Ct.style.paddingLeft="5px",Ct.style.textDecoration="underline"}(Nt,Ue);const an=function le(){const Ct=document.createElement("span");return Ct.style.cursor="pointer",Ct.style.marginLeft="16px",Ct.style.fontSize="24px",Ct.innerHTML=" &times;",Ct.onclick=()=>{In=!0,function Pn(){const Ct=document.getElementById(Vt);Ct&&Ct.remove()}()},Ct}();(function oe(Ct,ce){Ct.setAttribute("width","24"),Ct.setAttribute("id",ce),Ct.setAttribute("height","24"),Ct.setAttribute("viewBox","0 0 24 24"),Ct.setAttribute("fill","none"),Ct.style.marginLeft="-6px"})(_t,It),Ft.append(_t,ve,Nt,an),document.body.appendChild(Ft)}en?(ve.innerText="Preview backend disconnected.",_t.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(_t.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',ve.innerText="Preview backend running in this workspace."),ve.setAttribute("id",ce)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",gt):gt()}function sn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function Qe(){var Se;const _e=null===(Se=Tt())||void 0===Se?void 0:Se.forceEnvironment;if("node"===_e)return!0;if("browser"===_e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function ye(){const Se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Se&&void 0!==Se.id}function se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){const Se=sn();return Se.indexOf("MSIE ")>=0||Se.indexOf("Trident/")>=0}function nn(){return!Qe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tr(){return!Qe()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Qt(){try{return"object"==typeof indexedDB}catch{return!1}}function Yn(){return new Promise((Se,_e)=>{try{let He=!0;const Vt="validate-browser-context-for-indexeddb-analytics-module",nt=self.indexedDB.open(Vt);nt.onsuccess=()=>{nt.result.close(),He||self.indexedDB.deleteDatabase(Vt),Se(!0)},nt.onupgradeneeded=()=>{He=!1},nt.onerror=()=>{var en;_e((null===(en=nt.error)||void 0===en?void 0:en.message)||"")}}catch(He){_e(He)}})}class Un extends Error{constructor(_e,He,Vt){super(He),this.code=_e,this.customData=Vt,this.name="FirebaseError",Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nr.prototype.create)}}class nr{constructor(_e,He,Vt){this.service=_e,this.serviceName=He,this.errors=Vt}create(_e,...He){const Vt=He[0]||{},nt=`${this.service}/${_e}`,en=this.errors[_e],Pn=en?function An(Se,_e){return Se.replace(kr,(He,Vt)=>{const nt=_e[Vt];return null!=nt?String(nt):`<${Vt}?>`})}(en,Vt):"Error";return new Un(nt,`${this.serviceName}: ${Pn} (${nt}).`,Vt)}}const kr=/\{\$([^}]+)}/g;function Zn(Se){for(const _e in Se)if(Object.prototype.hasOwnProperty.call(Se,_e))return!1;return!0}function oi(Se,_e){if(Se===_e)return!0;const He=Object.keys(Se),Vt=Object.keys(_e);for(const nt of He){if(!Vt.includes(nt))return!1;const en=Se[nt],Pn=_e[nt];if(ui(en)&&ui(Pn)){if(!oi(en,Pn))return!1}else if(en!==Pn)return!1}for(const nt of Vt)if(!He.includes(nt))return!1;return!0}function ui(Se){return null!==Se&&"object"==typeof Se}function Ar(Se){const _e=[];for(const[He,Vt]of Object.entries(Se))Array.isArray(Vt)?Vt.forEach(nt=>{_e.push(encodeURIComponent(He)+"="+encodeURIComponent(nt))}):_e.push(encodeURIComponent(He)+"="+encodeURIComponent(Vt));return _e.length?"&"+_e.join("&"):""}function vi(Se){const _e={};return Se.replace(/^\?/,"").split("&").forEach(Vt=>{if(Vt){const[nt,en]=Vt.split("=");_e[decodeURIComponent(nt)]=decodeURIComponent(en)}}),_e}function Rr(Se){const _e=Se.indexOf("?");if(!_e)return"";const He=Se.indexOf("#",_e);return Se.substring(_e,He>0?He:void 0)}function lr(Se,_e){const He=new sr(Se,_e);return He.subscribe.bind(He)}class sr{constructor(_e,He){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=He,this.task.then(()=>{_e(this)}).catch(Vt=>{this.error(Vt)})}next(_e){this.forEachObserver(He=>{He.next(_e)})}error(_e){this.forEachObserver(He=>{He.error(_e)}),this.close(_e)}complete(){this.forEachObserver(_e=>{_e.complete()}),this.close()}subscribe(_e,He,Vt){let nt;if(void 0===_e&&void 0===He&&void 0===Vt)throw new Error("Missing Observer.");nt=function fr(Se,_e){if("object"!=typeof Se||null===Se)return!1;for(const He of _e)if(He in Se&&"function"==typeof Se[He])return!0;return!1}(_e,["next","error","complete"])?_e:{next:_e,error:He,complete:Vt},void 0===nt.next&&(nt.next=Sn),void 0===nt.error&&(nt.error=Sn),void 0===nt.complete&&(nt.complete=Sn);const en=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?nt.error(this.finalError):nt.complete()}catch{}}),this.observers.push(nt),en}unsubscribeOne(_e){void 0===this.observers||void 0===this.observers[_e]||(delete this.observers[_e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(_e){if(!this.finalized)for(let He=0;He<this.observers.length;He++)this.sendOne(He,_e)}sendOne(_e,He){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[_e])try{He(this.observers[_e])}catch(Vt){typeof console<"u"&&console.error&&console.error(Vt)}})}close(_e){this.finalized||(this.finalized=!0,void 0!==_e&&(this.finalError=_e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sn(){}function Li(Se){return Se&&Se._delegate?Se._delegate:Se}},7440:(Dn,Ge,j)=>{"use strict";j.d(Ge,{MW:()=>Xe,Wp:()=>jt,XU:()=>$,gL:()=>Me});var I=j(2214),x=j(1360),Z=j(2967);class ${constructor(st){return st}}class Me{constructor(){return(0,I.Dk)()}}const De=new x.nKC("angularfire2._apps"),Ke={provide:$,useFactory:function Ie(Fe){return Fe&&1===Fe.length?Fe[0]:new $((0,I.Sx)())},deps:[[new x.Xx1,De]]},be={provide:Me,deps:[[new x.Xx1,De]]};function Te(Fe){return(st,et)=>{const bt=et.get(x.Agw);(0,I.KO)("angularfire",Z.xv.full,"core"),(0,I.KO)("angularfire",Z.xv.full,"app"),(0,I.KO)("angular",x.xvI.full,bt.toString());const Xt=st.runOutsideAngular(()=>Fe(et));return new $(Xt)}}function Xe(Fe,...st){return(0,x.EmA)([Ke,be,{provide:De,useFactory:Te(Fe),multi:!0,deps:[x.SKi,x.zZn,Z.u0,...st]}])}const jt=(0,Z.S3)(I.Wp,!0)},7441:(Dn,Ge,j)=>{"use strict";j.d(Ge,{X:()=>I});const I=x=>x&&"number"==typeof x.length&&"function"!=typeof x},7643:(Dn,Ge,j)=>{"use strict";j.d(Ge,{$R:()=>br,Qq:()=>nn}),j(467);var x=j(1360),Z=j(274),$=j(5964),Me=j(6354),it=j(980),Ie=j(5558),De=j(7673),Ke=j(1985),be=j(8455),Te=j(9377),ht=j(9361);class Xe{}class ft{}class Mt{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(le){le?"string"==typeof le?this.lazyInit=()=>{this.headers=new Map,le.split("\n").forEach(Pe=>{const gt=Pe.indexOf(":");if(gt>0){const Ct=Pe.slice(0,gt),ce=Pe.slice(gt+1).trim();this.addHeaderEntry(Ct,ce)}})}:typeof Headers<"u"&&le instanceof Headers?(this.headers=new Map,le.forEach((Pe,gt)=>{this.addHeaderEntry(gt,Pe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(le).forEach(([Pe,gt])=>{this.setHeaderEntries(Pe,gt)})}:this.headers=new Map}has(le){return this.init(),this.headers.has(le.toLowerCase())}get(le){this.init();const Pe=this.headers.get(le.toLowerCase());return Pe&&Pe.length>0?Pe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(le){return this.init(),this.headers.get(le.toLowerCase())||null}append(le,Pe){return this.clone({name:le,value:Pe,op:"a"})}set(le,Pe){return this.clone({name:le,value:Pe,op:"s"})}delete(le,Pe){return this.clone({name:le,value:Pe,op:"d"})}maybeSetNormalizedName(le,Pe){this.normalizedNames.has(Pe)||this.normalizedNames.set(Pe,le)}init(){this.lazyInit&&(this.lazyInit instanceof Mt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(le=>this.applyUpdate(le)),this.lazyUpdate=null))}copyFrom(le){le.init(),Array.from(le.headers.keys()).forEach(Pe=>{this.headers.set(Pe,le.headers.get(Pe)),this.normalizedNames.set(Pe,le.normalizedNames.get(Pe))})}clone(le){const Pe=new Mt;return Pe.lazyInit=this.lazyInit&&this.lazyInit instanceof Mt?this.lazyInit:this,Pe.lazyUpdate=(this.lazyUpdate||[]).concat([le]),Pe}applyUpdate(le){const Pe=le.name.toLowerCase();switch(le.op){case"a":case"s":let gt=le.value;if("string"==typeof gt&&(gt=[gt]),0===gt.length)return;this.maybeSetNormalizedName(le.name,Pe);const Ct=("a"===le.op?this.headers.get(Pe):void 0)||[];Ct.push(...gt),this.headers.set(Pe,Ct);break;case"d":const ce=le.value;if(ce){let ve=this.headers.get(Pe);if(!ve)return;ve=ve.filter(Ue=>-1===ce.indexOf(Ue)),0===ve.length?(this.headers.delete(Pe),this.normalizedNames.delete(Pe)):this.headers.set(Pe,ve)}else this.headers.delete(Pe),this.normalizedNames.delete(Pe)}}addHeaderEntry(le,Pe){const gt=le.toLowerCase();this.maybeSetNormalizedName(le,gt),this.headers.has(gt)?this.headers.get(gt).push(Pe):this.headers.set(gt,[Pe])}setHeaderEntries(le,Pe){const gt=(Array.isArray(Pe)?Pe:[Pe]).map(ce=>ce.toString()),Ct=le.toLowerCase();this.headers.set(Ct,gt),this.maybeSetNormalizedName(le,Ct)}forEach(le){this.init(),Array.from(this.normalizedNames.keys()).forEach(Pe=>le(this.normalizedNames.get(Pe),this.headers.get(Pe)))}}class jt{encodeKey(le){return Pt(le)}encodeValue(le){return Pt(le)}decodeKey(le){return decodeURIComponent(le)}decodeValue(le){return decodeURIComponent(le)}}const vt=/%(\d[a-f0-9])/gi,Tt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pt(oe){return encodeURIComponent(oe).replace(vt,(le,Pe)=>Tt[Pe]??le)}function Fe(oe){return`${oe}`}class st{map;encoder;updates=null;cloneFrom=null;constructor(le={}){if(this.encoder=le.encoder||new jt,le.fromString){if(le.fromObject)throw new x.wOt(2805,!1);this.map=function tn(oe,le){const Pe=new Map;return oe.length>0&&oe.replace(/^\?/,"").split("&").forEach(Ct=>{const ce=Ct.indexOf("="),[ve,Ue]=-1==ce?[le.decodeKey(Ct),""]:[le.decodeKey(Ct.slice(0,ce)),le.decodeValue(Ct.slice(ce+1))],Nt=Pe.get(ve)||[];Nt.push(Ue),Pe.set(ve,Nt)}),Pe}(le.fromString,this.encoder)}else le.fromObject?(this.map=new Map,Object.keys(le.fromObject).forEach(Pe=>{const gt=le.fromObject[Pe],Ct=Array.isArray(gt)?gt.map(Fe):[Fe(gt)];this.map.set(Pe,Ct)})):this.map=null}has(le){return this.init(),this.map.has(le)}get(le){this.init();const Pe=this.map.get(le);return Pe?Pe[0]:null}getAll(le){return this.init(),this.map.get(le)||null}keys(){return this.init(),Array.from(this.map.keys())}append(le,Pe){return this.clone({param:le,value:Pe,op:"a"})}appendAll(le){const Pe=[];return Object.keys(le).forEach(gt=>{const Ct=le[gt];Array.isArray(Ct)?Ct.forEach(ce=>{Pe.push({param:gt,value:ce,op:"a"})}):Pe.push({param:gt,value:Ct,op:"a"})}),this.clone(Pe)}set(le,Pe){return this.clone({param:le,value:Pe,op:"s"})}delete(le,Pe){return this.clone({param:le,value:Pe,op:"d"})}toString(){return this.init(),this.keys().map(le=>{const Pe=this.encoder.encodeKey(le);return this.map.get(le).map(gt=>Pe+"="+this.encoder.encodeValue(gt)).join("&")}).filter(le=>""!==le).join("&")}clone(le){const Pe=new st({encoder:this.encoder});return Pe.cloneFrom=this.cloneFrom||this,Pe.updates=(this.updates||[]).concat(le),Pe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(le=>this.map.set(le,this.cloneFrom.map.get(le))),this.updates.forEach(le=>{switch(le.op){case"a":case"s":const Pe=("a"===le.op?this.map.get(le.param):void 0)||[];Pe.push(Fe(le.value)),this.map.set(le.param,Pe);break;case"d":if(void 0===le.value){this.map.delete(le.param);break}{let gt=this.map.get(le.param)||[];const Ct=gt.indexOf(Fe(le.value));-1!==Ct&&gt.splice(Ct,1),gt.length>0?this.map.set(le.param,gt):this.map.delete(le.param)}}}),this.cloneFrom=this.updates=null)}}class bt{map=new Map;set(le,Pe){return this.map.set(le,Pe),this}get(le){return this.map.has(le)||this.map.set(le,le.defaultValue()),this.map.get(le)}delete(le){return this.map.delete(le),this}has(le){return this.map.has(le)}keys(){return this.map.keys()}}function Dt(oe){return typeof ArrayBuffer<"u"&&oe instanceof ArrayBuffer}function lt(oe){return typeof Blob<"u"&&oe instanceof Blob}function Bn(oe){return typeof FormData<"u"&&oe instanceof FormData}const Xn="Content-Type",In="X-Request-URL",tt="text/plain",sn="application/json",xt=`${sn}, ${tt}, */*`;class Qe{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(le,Pe,gt,Ct){let ce;if(this.url=Pe,this.method=le.toUpperCase(),function Xt(oe){switch(oe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ct?(this.body=void 0!==gt?gt:null,ce=Ct):ce=gt,ce&&(this.reportProgress=!!ce.reportProgress,this.withCredentials=!!ce.withCredentials,ce.responseType&&(this.responseType=ce.responseType),ce.headers&&(this.headers=ce.headers),ce.context&&(this.context=ce.context),ce.params&&(this.params=ce.params),this.transferCache=ce.transferCache),this.headers??=new Mt,this.context??=new bt,this.params){const ve=this.params.toString();if(0===ve.length)this.urlWithParams=Pe;else{const Ue=Pe.indexOf("?");this.urlWithParams=Pe+(-1===Ue?"?":Ue<Pe.length-1?"&":"")+ve}}else this.params=new st,this.urlWithParams=Pe}serializeBody(){return null===this.body?null:"string"==typeof this.body||Dt(this.body)||lt(this.body)||Bn(this.body)||function kn(oe){return typeof URLSearchParams<"u"&&oe instanceof URLSearchParams}(this.body)?this.body:this.body instanceof st?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Bn(this.body)?null:lt(this.body)?this.body.type||null:Dt(this.body)?null:"string"==typeof this.body?tt:this.body instanceof st?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?sn:null}clone(le={}){const Pe=le.method||this.method,gt=le.url||this.url,Ct=le.responseType||this.responseType,ce=le.transferCache??this.transferCache,ve=void 0!==le.body?le.body:this.body,Ue=le.withCredentials??this.withCredentials,Nt=le.reportProgress??this.reportProgress;let It=le.headers||this.headers,_t=le.params||this.params;const Ft=le.context??this.context;return void 0!==le.setHeaders&&(It=Object.keys(le.setHeaders).reduce((an,jn)=>an.set(jn,le.setHeaders[jn]),It)),le.setParams&&(_t=Object.keys(le.setParams).reduce((an,jn)=>an.set(jn,le.setParams[jn]),_t)),new Qe(Pe,gt,ve,{params:_t,headers:It,context:Ft,reportProgress:Nt,responseType:Ct,withCredentials:Ue,transferCache:ce})}}var ne=function(oe){return oe[oe.Sent=0]="Sent",oe[oe.UploadProgress=1]="UploadProgress",oe[oe.ResponseHeader=2]="ResponseHeader",oe[oe.DownloadProgress=3]="DownloadProgress",oe[oe.Response=4]="Response",oe[oe.User=5]="User",oe}(ne||{});class fe{headers;status;statusText;url;ok;type;constructor(le,Pe=200,gt="OK"){this.headers=le.headers||new Mt,this.status=void 0!==le.status?le.status:Pe,this.statusText=le.statusText||gt,this.url=le.url||null,this.ok=this.status>=200&&this.status<300}}class pe extends fe{constructor(le={}){super(le)}type=ne.ResponseHeader;clone(le={}){return new pe({headers:le.headers||this.headers,status:void 0!==le.status?le.status:this.status,statusText:le.statusText||this.statusText,url:le.url||this.url||void 0})}}class ye extends fe{body;constructor(le={}){super(le),this.body=void 0!==le.body?le.body:null}type=ne.Response;clone(le={}){return new ye({body:void 0!==le.body?le.body:this.body,headers:le.headers||this.headers,status:void 0!==le.status?le.status:this.status,statusText:le.statusText||this.statusText,url:le.url||this.url||void 0})}}class se extends fe{name="HttpErrorResponse";message;error;ok=!1;constructor(le){super(le,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${le.url||"(unknown url)"}`:`Http failure response for ${le.url||"(unknown url)"}: ${le.status} ${le.statusText}`,this.error=le.error||null}}function un(oe,le){return{body:le,headers:oe.headers,context:oe.context,observe:oe.observe,params:oe.params,reportProgress:oe.reportProgress,responseType:oe.responseType,withCredentials:oe.withCredentials,transferCache:oe.transferCache}}let nn=(()=>{class oe{handler;constructor(Pe){this.handler=Pe}request(Pe,gt,Ct={}){let ce;if(Pe instanceof Qe)ce=Pe;else{let Nt,It;Nt=Ct.headers instanceof Mt?Ct.headers:new Mt(Ct.headers),Ct.params&&(It=Ct.params instanceof st?Ct.params:new st({fromObject:Ct.params})),ce=new Qe(Pe,gt,void 0!==Ct.body?Ct.body:null,{headers:Nt,context:Ct.context,params:It,reportProgress:Ct.reportProgress,responseType:Ct.responseType||"json",withCredentials:Ct.withCredentials,transferCache:Ct.transferCache})}const ve=(0,De.of)(ce).pipe((0,Z.H)(Nt=>this.handler.handle(Nt)));if(Pe instanceof Qe||"events"===Ct.observe)return ve;const Ue=ve.pipe((0,$.p)(Nt=>Nt instanceof ye));switch(Ct.observe||"body"){case"body":switch(ce.responseType){case"arraybuffer":return Ue.pipe((0,Me.T)(Nt=>{if(null!==Nt.body&&!(Nt.body instanceof ArrayBuffer))throw new x.wOt(2806,!1);return Nt.body}));case"blob":return Ue.pipe((0,Me.T)(Nt=>{if(null!==Nt.body&&!(Nt.body instanceof Blob))throw new x.wOt(2807,!1);return Nt.body}));case"text":return Ue.pipe((0,Me.T)(Nt=>{if(null!==Nt.body&&"string"!=typeof Nt.body)throw new x.wOt(2808,!1);return Nt.body}));default:return Ue.pipe((0,Me.T)(Nt=>Nt.body))}case"response":return Ue;default:throw new x.wOt(2809,!1)}}delete(Pe,gt={}){return this.request("DELETE",Pe,gt)}get(Pe,gt={}){return this.request("GET",Pe,gt)}head(Pe,gt={}){return this.request("HEAD",Pe,gt)}jsonp(Pe,gt){return this.request("JSONP",Pe,{params:(new st).append(gt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Pe,gt={}){return this.request("OPTIONS",Pe,gt)}patch(Pe,gt,Ct={}){return this.request("PATCH",Pe,un(Ct,gt))}post(Pe,gt,Ct={}){return this.request("POST",Pe,un(Ct,gt))}put(Pe,gt,Ct={}){return this.request("PUT",Pe,un(Ct,gt))}static \u0275fac=function(gt){return new(gt||oe)(x.KVO(Xe))};static \u0275prov=x.jDH({token:oe,factory:oe.\u0275fac})}return oe})();const Yn=new x.nKC("");function An(oe,le){return le(oe)}const gn=new x.nKC(""),pr=new x.nKC(""),ln=new x.nKC("",{providedIn:"root",factory:()=>!0});let pt=(()=>{class oe extends Xe{backend;injector;chain=null;pendingTasks=(0,x.WQX)(x.Ua0);contributeToStability=(0,x.WQX)(ln);constructor(Pe,gt){super(),this.backend=Pe,this.injector=gt}handle(Pe){if(null===this.chain){const gt=Array.from(new Set([...this.injector.get(gn),...this.injector.get(pr,[])]));this.chain=gt.reduceRight((Ct,ce)=>function Nr(oe,le,Pe){return(gt,Ct)=>(0,x.N4e)(Pe,()=>le(gt,ce=>oe(ce,Ct)))}(Ct,ce,this.injector),An)}if(this.contributeToStability){const gt=this.pendingTasks.add();return this.chain(Pe,Ct=>this.backend.handle(Ct)).pipe((0,it.j)(()=>this.pendingTasks.remove(gt)))}return this.chain(Pe,gt=>this.backend.handle(gt))}static \u0275fac=function(gt){return new(gt||oe)(x.KVO(ft),x.KVO(x.uvJ))};static \u0275prov=x.jDH({token:oe,factory:oe.\u0275fac})}return oe})();const sr=/^\)\]\}',?\n/,gi=RegExp(`^${In}:`,"m");let Sn=(()=>{class oe{xhrFactory;constructor(Pe){this.xhrFactory=Pe}handle(Pe){if("JSONP"===Pe.method)throw new x.wOt(-2800,!1);const gt=this.xhrFactory;return(gt.\u0275loadImpl?(0,be.H)(gt.\u0275loadImpl()):(0,De.of)(null)).pipe((0,Ie.n)(()=>new Ke.c(ce=>{const ve=gt.build();if(ve.open(Pe.method,Pe.urlWithParams),Pe.withCredentials&&(ve.withCredentials=!0),Pe.headers.forEach((Kn,cr)=>ve.setRequestHeader(Kn,cr.join(","))),Pe.headers.has("Accept")||ve.setRequestHeader("Accept",xt),!Pe.headers.has(Xn)){const Kn=Pe.detectContentTypeHeader();null!==Kn&&ve.setRequestHeader(Xn,Kn)}if(Pe.responseType){const Kn=Pe.responseType.toLowerCase();ve.responseType="json"!==Kn?Kn:"text"}const Ue=Pe.serializeBody();let Nt=null;const It=()=>{if(null!==Nt)return Nt;const Kn=ve.statusText||"OK",cr=new Mt(ve.getAllResponseHeaders()),Ei=function fr(oe){return"responseURL"in oe&&oe.responseURL?oe.responseURL:gi.test(oe.getAllResponseHeaders())?oe.getResponseHeader(In):null}(ve)||Pe.url;return Nt=new pe({headers:cr,status:ve.status,statusText:Kn,url:Ei}),Nt},_t=()=>{let{headers:Kn,status:cr,statusText:Ei,url:Ci}=It(),Ee=null;204!==cr&&(Ee=typeof ve.response>"u"?ve.responseText:ve.response),0===cr&&(cr=Ee?200:0);let $e=cr>=200&&cr<300;if("json"===Pe.responseType&&"string"==typeof Ee){const Je=Ee;Ee=Ee.replace(sr,"");try{Ee=""!==Ee?JSON.parse(Ee):null}catch($t){Ee=Je,$e&&($e=!1,Ee={error:$t,text:Ee})}}$e?(ce.next(new ye({body:Ee,headers:Kn,status:cr,statusText:Ei,url:Ci||void 0})),ce.complete()):ce.error(new se({error:Ee,headers:Kn,status:cr,statusText:Ei,url:Ci||void 0}))},Ft=Kn=>{const{url:cr}=It(),Ei=new se({error:Kn,status:ve.status||0,statusText:ve.statusText||"Unknown Error",url:cr||void 0});ce.error(Ei)};let an=!1;const jn=Kn=>{an||(ce.next(It()),an=!0);let cr={type:ne.DownloadProgress,loaded:Kn.loaded};Kn.lengthComputable&&(cr.total=Kn.total),"text"===Pe.responseType&&ve.responseText&&(cr.partialText=ve.responseText),ce.next(cr)},hn=Kn=>{let cr={type:ne.UploadProgress,loaded:Kn.loaded};Kn.lengthComputable&&(cr.total=Kn.total),ce.next(cr)};return ve.addEventListener("load",_t),ve.addEventListener("error",Ft),ve.addEventListener("timeout",Ft),ve.addEventListener("abort",Ft),Pe.reportProgress&&(ve.addEventListener("progress",jn),null!==Ue&&ve.upload&&ve.upload.addEventListener("progress",hn)),ve.send(Ue),ce.next({type:ne.Sent}),()=>{ve.removeEventListener("error",Ft),ve.removeEventListener("abort",Ft),ve.removeEventListener("load",_t),ve.removeEventListener("timeout",Ft),Pe.reportProgress&&(ve.removeEventListener("progress",jn),null!==Ue&&ve.upload&&ve.upload.removeEventListener("progress",hn)),ve.readyState!==ve.DONE&&ve.abort()}})))}static \u0275fac=function(gt){return new(gt||oe)(x.KVO(Te.N0))};static \u0275prov=x.jDH({token:oe,factory:oe.\u0275fac})}return oe})();const Ti=new x.nKC(""),Gn=new x.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),je=new x.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Cr{}let qi=(()=>{class oe{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(Pe,gt){this.doc=Pe,this.cookieName=gt}getToken(){const Pe=this.doc.cookie||"";return Pe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Te.bS)(Pe,this.cookieName),this.lastCookieString=Pe),this.lastToken}static \u0275fac=function(gt){return new(gt||oe)(x.KVO(ht.q),x.KVO(Gn))};static \u0275prov=x.jDH({token:oe,factory:oe.\u0275fac})}return oe})();function si(oe,le){const Pe=oe.url.toLowerCase();if(!(0,x.WQX)(Ti)||"GET"===oe.method||"HEAD"===oe.method||Pe.startsWith("http://")||Pe.startsWith("https://"))return le(oe);const gt=(0,x.WQX)(Cr).getToken(),Ct=(0,x.WQX)(je);return null!=gt&&!oe.headers.has(Ct)&&(oe=oe.clone({headers:oe.headers.set(Ct,gt)})),le(oe)}function br(...oe){const le=[nn,Sn,pt,{provide:Xe,useExisting:pt},{provide:ft,useFactory:()=>(0,x.WQX)(Yn,{optional:!0})??(0,x.WQX)(Sn)},{provide:gn,useValue:si,multi:!0},{provide:Ti,useValue:!0},{provide:Cr,useClass:qi}];for(const Pe of oe)le.push(...Pe.\u0275providers);return(0,x.EmA)(le)}},7673:(Dn,Ge,j)=>{"use strict";j.d(Ge,{of:()=>Z});var I=j(9326),x=j(8455);function Z(...$){const Me=(0,I.lI)($);return(0,x.H)($,Me)}},7707:(Dn,Ge,j)=>{"use strict";j.d(Ge,{Ms:()=>zt,vU:()=>ht});var I=j(8071),x=j(8359),Z=j(1026),$=j(5334),Me=j(5343);const it=Ke("C",void 0,void 0);function Ke(Pt,Fe,st){return{kind:Pt,value:Fe,error:st}}var be=j(9270),Te=j(9786);class ht extends x.yU{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,x.Uv)(Fe)&&Fe.add(this)):this.destination=Tt}static create(Fe,st,et){return new zt(Fe,st,et)}next(Fe){this.isStopped?vt(function De(Pt){return Ke("N",Pt,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?vt(function Ie(Pt){return Ke("E",void 0,Pt)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?vt(it,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function ft(Pt,Fe){return Xe.call(Pt,Fe)}class Mt{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:st}=this;if(st.next)try{st.next(Fe)}catch(et){jt(et)}}error(Fe){const{partialObserver:st}=this;if(st.error)try{st.error(Fe)}catch(et){jt(et)}else jt(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(st){jt(st)}}}class zt extends ht{constructor(Fe,st,et){let bt;if(super(),(0,I.T)(Fe)||!Fe)bt={next:Fe??void 0,error:st??void 0,complete:et??void 0};else{let Xt;this&&Z.$.useDeprecatedNextContext?(Xt=Object.create(Fe),Xt.unsubscribe=()=>this.unsubscribe(),bt={next:Fe.next&&ft(Fe.next,Xt),error:Fe.error&&ft(Fe.error,Xt),complete:Fe.complete&&ft(Fe.complete,Xt)}):bt=Fe}this.destination=new Mt(bt)}}function jt(Pt){Z.$.useDeprecatedSynchronousErrorHandling?(0,Te.l)(Pt):(0,$.m)(Pt)}function vt(Pt,Fe){const{onStoppedNotification:st}=Z.$;st&&be.f.setTimeout(()=>st(Pt,Fe))}const Tt={closed:!0,next:Me.l,error:function tn(Pt){throw Pt},complete:Me.l}},7759:(Dn,Ge,j)=>{"use strict";j.d(Ge,{I:()=>zt});var I=j(6354),x=j(7673),Z=j(9974),$=j(4360),Me=j(3669),it=j(1985),Ie=j(3236),De=j(9470);var Te=j(8750),Xe=j(9437),ft=j(1360),Mt=j(7643);let zt=(()=>{class jt{http;BASE_PATH="assets/data/";DATA_FILE="dashboard-data.json";constructor(vt){this.http=vt,console.log("%c<<< Start MOCK-DATA service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getDashboardMetrics(){return this.http.get(`${this.BASE_PATH}dashboard-data.json`)}getTicketGraph(){return this.http.get(`${this.BASE_PATH}${this.DATA_FILE}`).pipe((0,I.T)(vt=>vt.chartData.tickets))}getSatisfactionData(){return this.http.get(`${this.BASE_PATH}satisfaction.json`)}getChannelsData(){return this.http.get(`${this.BASE_PATH}channels.json`)}getNotifications(){return this.http.get(`${this.BASE_PATH}notifications.json`)}getReclamos(){return this.http.get(`${this.BASE_PATH}reclamos.json`).pipe(function ht(jt=1/0){let tn;tn=jt&&"object"==typeof jt?jt:{count:jt};const{count:vt=1/0,delay:Tt,resetOnSuccess:Pt=!1}=tn;return vt<=0?Me.D:(0,Z.N)((Fe,st)=>{let bt,et=0;const Xt=()=>{let Dt=!1;bt=Fe.subscribe((0,$._)(st,lt=>{Pt&&(et=0),st.next(lt)},void 0,lt=>{if(et++<vt){const Bn=()=>{bt?(bt.unsubscribe(),bt=null,Xt()):Dt=!0};if(null!=Tt){const kn="number"==typeof Tt?function be(jt=0,tn,vt=Ie.b){let Tt=-1;return null!=tn&&((0,De.m)(tn)?vt=tn:Tt=tn),new it.c(Pt=>{let Fe=function Ke(jt){return jt instanceof Date&&!isNaN(jt)}(jt)?+jt-vt.now():jt;Fe<0&&(Fe=0);let st=0;return vt.schedule(function(){Pt.closed||(Pt.next(st++),0<=Tt?this.schedule(void 0,Tt):Pt.complete())},Fe)})}(Tt):(0,Te.Tg)(Tt(lt,et)),Xn=(0,$._)(st,()=>{Xn.unsubscribe(),Bn()},()=>{st.complete()});kn.subscribe(Xn)}else Bn()}else st.error(lt)})),Dt&&(bt.unsubscribe(),bt=null,Xt())};Xt()})}(2),(0,Xe.W)(vt=>(console.error("\u274c Error al cargar reclamos:",vt),(0,x.of)([]))))}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(vt){const Tt=16*Math.random()|0;return("x"===vt?Tt:3&Tt|8).toString(16)})}static \u0275fac=function(Tt){return new(Tt||jt)(ft.KVO(Mt.Qq))};static \u0275prov=ft.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}return jt})()},7852:(Dn,Ge,j)=>{"use strict";j.d(Ge,{MF:()=>Sn,j6:()=>ui,xZ:()=>vi,om:()=>oi,Sx:()=>Gn,Dk:()=>Ki,Wp:()=>Ti,KO:()=>qi});var I=j(467),x=j(1362),Z=j(8041),$=j(6858);let it,Ie;const be=new WeakMap,Te=new WeakMap,ht=new WeakMap,Xe=new WeakMap,ft=new WeakMap;let jt={get(ce,ve,Ue){if(ce instanceof IDBTransaction){if("done"===ve)return Te.get(ce);if("objectStoreNames"===ve)return ce.objectStoreNames||ht.get(ce);if("store"===ve)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return Pt(ce[ve])},set:(ce,ve,Ue)=>(ce[ve]=Ue,!0),has:(ce,ve)=>ce instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in ce};function Tt(ce){return"function"==typeof ce?function vt(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...ve){return ce.apply(Fe(this),ve),Pt(be.get(this))}:function(...ve){return Pt(ce.apply(Fe(this),ve))}:function(ve,...Ue){const Nt=ce.call(Fe(this),ve,...Ue);return ht.set(Nt,ve.sort?ve.sort():[ve]),Pt(Nt)}}(ce):(ce instanceof IDBTransaction&&function zt(ce){if(Te.has(ce))return;const ve=new Promise((Ue,Nt)=>{const It=()=>{ce.removeEventListener("complete",_t),ce.removeEventListener("error",Ft),ce.removeEventListener("abort",Ft)},_t=()=>{Ue(),It()},Ft=()=>{Nt(ce.error||new DOMException("AbortError","AbortError")),It()};ce.addEventListener("complete",_t),ce.addEventListener("error",Ft),ce.addEventListener("abort",Ft)});Te.set(ce,ve)}(ce),((ce,ve)=>ve.some(Ue=>ce instanceof Ue))(ce,function De(){return it||(it=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,jt):ce)}function Pt(ce){if(ce instanceof IDBRequest)return function Mt(ce){const ve=new Promise((Ue,Nt)=>{const It=()=>{ce.removeEventListener("success",_t),ce.removeEventListener("error",Ft)},_t=()=>{Ue(Pt(ce.result)),It()},Ft=()=>{Nt(ce.error),It()};ce.addEventListener("success",_t),ce.addEventListener("error",Ft)});return ve.then(Ue=>{Ue instanceof IDBCursor&&be.set(Ue,ce)}).catch(()=>{}),ft.set(ve,ce),ve}(ce);if(Xe.has(ce))return Xe.get(ce);const ve=Tt(ce);return ve!==ce&&(Xe.set(ce,ve),ft.set(ve,ce)),ve}const Fe=ce=>ft.get(ce),bt=["get","getKey","getAll","getAllKeys","count"],Xt=["put","add","delete","clear"],Dt=new Map;function lt(ce,ve){if(!(ce instanceof IDBDatabase)||ve in ce||"string"!=typeof ve)return;if(Dt.get(ve))return Dt.get(ve);const Ue=ve.replace(/FromIndex$/,""),Nt=ve!==Ue,It=Xt.includes(Ue);if(!(Ue in(Nt?IDBIndex:IDBObjectStore).prototype)||!It&&!bt.includes(Ue))return;const _t=function(){var Ft=(0,I.A)(function*(an,...jn){const hn=this.transaction(an,It?"readwrite":"readonly");let Kn=hn.store;return Nt&&(Kn=Kn.index(jn.shift())),(yield Promise.all([Kn[Ue](...jn),It&&hn.done]))[0]});return function(jn){return Ft.apply(this,arguments)}}();return Dt.set(ve,_t),_t}!function tn(ce){jt=ce(jt)}(ce=>({...ce,get:(ve,Ue,Nt)=>lt(ve,Ue)||ce.get(ve,Ue,Nt),has:(ve,Ue)=>!!lt(ve,Ue)||ce.has(ve,Ue)}));class Bn{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function kn(ce){const ve=ce.getComponent();return"VERSION"===ve?.type}(Ue)){const Nt=Ue.getImmediate();return`${Nt.library}/${Nt.version}`}return null}).filter(Ue=>Ue).join(" ")}}const Xn="@firebase/app",In=new Z.Vy("@firebase/app"),tt="@firebase/app-compat",sn="@firebase/analytics-compat",xt="@firebase/analytics",Qe="@firebase/app-check-compat",ne="@firebase/app-check",fe="@firebase/auth",pe="@firebase/auth-compat",ye="@firebase/database",se="@firebase/data-connect",ge="@firebase/database-compat",Ye="@firebase/functions",Et="@firebase/functions-compat",un="@firebase/installations",nn="@firebase/installations-compat",tr="@firebase/messaging",Qt="@firebase/messaging-compat",Yn="@firebase/performance",zn="@firebase/performance-compat",Jt="@firebase/remote-config",Un="@firebase/remote-config-compat",nr="@firebase/storage",An="@firebase/storage-compat",kr="@firebase/firestore",Nr="@firebase/ai",Ai="@firebase/firestore-compat",gn="firebase",ln="[DEFAULT]",Gi={[Xn]:"fire-core",[tt]:"fire-core-compat",[xt]:"fire-analytics",[sn]:"fire-analytics-compat",[ne]:"fire-app-check",[Qe]:"fire-app-check-compat",[fe]:"fire-auth",[pe]:"fire-auth-compat",[ye]:"fire-rtdb",[se]:"fire-data-connect",[ge]:"fire-rtdb-compat",[Ye]:"fire-fn",[Et]:"fire-fn-compat",[un]:"fire-iid",[nn]:"fire-iid-compat",[tr]:"fire-fcm",[Qt]:"fire-fcm-compat",[Yn]:"fire-perf",[zn]:"fire-perf-compat",[Jt]:"fire-rc",[Un]:"fire-rc-compat",[nr]:"fire-gcs",[An]:"fire-gcs-compat",[kr]:"fire-fst",[Ai]:"fire-fst-compat",[Nr]:"fire-vertex","fire-js":"fire-js",[gn]:"fire-js-all"},xr=new Map,pt=new Map,Tr=new Map;function Zn(ce,ve){try{ce.container.addComponent(ve)}catch(Ue){In.debug(`Component ${ve.name} failed to register with FirebaseApp ${ce.name}`,Ue)}}function oi(ce){const ve=ce.name;if(Tr.has(ve))return In.debug(`There were multiple attempts to register component ${ve}.`),!1;Tr.set(ve,ce);for(const Ue of xr.values())Zn(Ue,ce);for(const Ue of pt.values())Zn(Ue,ce);return!0}function ui(ce,ve){const Ue=ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),ce.container.getProvider(ve)}function vi(ce){return null!=ce&&void 0!==ce.settings}const lr=new $.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class sr{constructor(ve,Ue,Nt){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=Nt,this.container.addComponent(new x.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const Sn="11.8.0";function Ti(ce,ve={}){let Ue=ce;"object"!=typeof ve&&(ve={name:ve});const Nt=Object.assign({name:ln,automaticDataCollectionEnabled:!0},ve),It=Nt.name;if("string"!=typeof It||!It)throw lr.create("bad-app-name",{appName:String(It)});if(Ue||(Ue=(0,$.T9)()),!Ue)throw lr.create("no-options");const _t=xr.get(It);if(_t){if((0,$.bD)(Ue,_t.options)&&(0,$.bD)(Nt,_t.config))return _t;throw lr.create("duplicate-app",{appName:It})}const Ft=new x.h1(It);for(const jn of Tr.values())Ft.addComponent(jn);const an=new sr(Ue,Nt,Ft);return xr.set(It,an),an}function Gn(ce=ln){const ve=xr.get(ce);if(!ve&&ce===ln&&(0,$.T9)())return Ti();if(!ve)throw lr.create("no-app",{appName:ce});return ve}function Ki(){return Array.from(xr.values())}function qi(ce,ve,Ue){var Nt;let It=null!==(Nt=Gi[ce])&&void 0!==Nt?Nt:ce;Ue&&(It+=`-${Ue}`);const _t=It.match(/\s|\//),Ft=ve.match(/\s|\//);if(_t||Ft){const an=[`Unable to register library "${It}" with version "${ve}":`];return _t&&an.push(`library name "${It}" contains illegal characters (whitespace or "/")`),_t&&Ft&&an.push("and"),Ft&&an.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void In.warn(an.join(" "))}oi(new x.uA(`${It}-version`,()=>({library:It,version:ve}),"VERSION"))}const br="firebase-heartbeat-store";let Oi=null;function Fi(){return Oi||(Oi=function st(ce,ve,{blocked:Ue,upgrade:Nt,blocking:It,terminated:_t}={}){const Ft=indexedDB.open(ce,ve),an=Pt(Ft);return Nt&&Ft.addEventListener("upgradeneeded",jn=>{Nt(Pt(Ft.result),jn.oldVersion,jn.newVersion,Pt(Ft.transaction),jn)}),Ue&&Ft.addEventListener("blocked",jn=>Ue(jn.oldVersion,jn.newVersion,jn)),an.then(jn=>{_t&&jn.addEventListener("close",()=>_t()),It&&jn.addEventListener("versionchange",hn=>It(hn.oldVersion,hn.newVersion,hn))}).catch(()=>{}),an}("firebase-heartbeat-database",1,{upgrade:(ce,ve)=>{if(0===ve)try{ce.createObjectStore(br)}catch(Ue){console.warn(Ue)}}}).catch(ce=>{throw lr.create("idb-open",{originalErrorMessage:ce.message})})),Oi}function Se(){return(Se=(0,I.A)(function*(ce){try{const Ue=(yield Fi()).transaction(br),Nt=yield Ue.objectStore(br).get(Vt(ce));return yield Ue.done,Nt}catch(ve){if(ve instanceof $.g)In.warn(ve.message);else{const Ue=lr.create("idb-get",{originalErrorMessage:ve?.message});In.warn(Ue.message)}}})).apply(this,arguments)}function _e(ce,ve){return He.apply(this,arguments)}function He(){return(He=(0,I.A)(function*(ce,ve){try{const Nt=(yield Fi()).transaction(br,"readwrite");yield Nt.objectStore(br).put(ve,Vt(ce)),yield Nt.done}catch(Ue){if(Ue instanceof $.g)In.warn(Ue.message);else{const Nt=lr.create("idb-set",{originalErrorMessage:Ue?.message});In.warn(Nt.message)}}})).apply(this,arguments)}function Vt(ce){return`${ce.name}!${ce.options.appId}`}class Pn{constructor(ve){this.container=ve,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new le(Ue),this._heartbeatsCachePromise=this._storage.read().then(Nt=>(this._heartbeatsCache=Nt,Nt))}triggerHeartbeat(){var ve=this;return(0,I.A)(function*(){var Ue,Nt;try{const _t=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=yr();if(null==(null===(Ue=ve._heartbeatsCache)||void 0===Ue?void 0:Ue.heartbeats)&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise,null==(null===(Nt=ve._heartbeatsCache)||void 0===Nt?void 0:Nt.heartbeats))||ve._heartbeatsCache.lastSentHeartbeatDate===Ft||ve._heartbeatsCache.heartbeats.some(an=>an.date===Ft))return;if(ve._heartbeatsCache.heartbeats.push({date:Ft,agent:_t}),ve._heartbeatsCache.heartbeats.length>30){const an=function gt(ce){if(0===ce.length)return-1;let ve=0,Ue=ce[0].date;for(let Nt=1;Nt<ce.length;Nt++)ce[Nt].date<Ue&&(Ue=ce[Nt].date,ve=Nt);return ve}(ve._heartbeatsCache.heartbeats);ve._heartbeatsCache.heartbeats.splice(an,1)}return ve._storage.overwrite(ve._heartbeatsCache)}catch(It){In.warn(It)}})()}getHeartbeatsHeader(){var ve=this;return(0,I.A)(function*(){var Ue;try{if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null==(null===(Ue=ve._heartbeatsCache)||void 0===Ue?void 0:Ue.heartbeats)||0===ve._heartbeatsCache.heartbeats.length)return"";const Nt=yr(),{heartbeatsToSend:It,unsentEntries:_t}=function oe(ce,ve=1024){const Ue=[];let Nt=ce.slice();for(const It of ce){const _t=Ue.find(Ft=>Ft.agent===It.agent);if(_t){if(_t.dates.push(It.date),Pe(Ue)>ve){_t.dates.pop();break}}else if(Ue.push({agent:It.agent,dates:[It.date]}),Pe(Ue)>ve){Ue.pop();break}Nt=Nt.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:Nt}}(ve._heartbeatsCache.heartbeats),Ft=(0,$.Uj)(JSON.stringify({version:2,heartbeats:It}));return ve._heartbeatsCache.lastSentHeartbeatDate=Nt,_t.length>0?(ve._heartbeatsCache.heartbeats=_t,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),Ft}catch(Nt){return In.warn(Nt),""}})()}}function yr(){return(new Date).toISOString().substring(0,10)}class le{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.A)(function*(){return!!(0,$.zW)()&&(0,$.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,I.A)(function*(){if(yield ve._canUseIndexedDBPromise){const Nt=yield function Li(ce){return Se.apply(this,arguments)}(ve.app);return Nt?.heartbeats?Nt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ve){var Ue=this;return(0,I.A)(function*(){var Nt;if(yield Ue._canUseIndexedDBPromise){const _t=yield Ue.read();return _e(Ue.app,{lastSentHeartbeatDate:null!==(Nt=ve.lastSentHeartbeatDate)&&void 0!==Nt?Nt:_t.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var Ue=this;return(0,I.A)(function*(){var Nt;if(yield Ue._canUseIndexedDBPromise){const _t=yield Ue.read();return _e(Ue.app,{lastSentHeartbeatDate:null!==(Nt=ve.lastSentHeartbeatDate)&&void 0!==Nt?Nt:_t.lastSentHeartbeatDate,heartbeats:[..._t.heartbeats,...ve.heartbeats]})}})()}}function Pe(ce){return(0,$.Uj)(JSON.stringify({version:2,heartbeats:ce})).length}!function Ct(ce){oi(new x.uA("platform-logger",ve=>new Bn(ve),"PRIVATE")),oi(new x.uA("heartbeat",ve=>new Pn(ve),"PRIVATE")),qi(Xn,"0.13.0",ce),qi(Xn,"0.13.0","esm2017"),qi("fire-js","")}("")},7908:(Dn,Ge,j)=>{"use strict";function I(x,Z){if(x){const $=x.indexOf(Z);0<=$&&x.splice($,1)}}j.d(Ge,{o:()=>I})},7953:(Dn,Ge,j)=>{"use strict";j.d(Ge,{T:()=>x});var I=j(8071);function x(Z){return Symbol.asyncIterator&&(0,I.T)(Z?.[Symbol.asyncIterator])}},8032:function(Dn){Dn.exports=function(){"use strict";var Ge={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const I=P=>{const M={};for(const z in P)M[P[z]]="swal2-"+P[z];return M},x=I(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Z=I(["success","warning","info","question","error"]),$="SweetAlert2:",it=P=>P.charAt(0).toUpperCase()+P.slice(1),Ie=P=>{console.warn(`${$} ${"object"==typeof P?P.join(" "):P}`)},De=P=>{console.error(`${$} ${P}`)},Ke=[],Te=(P,M)=>{(P=>{Ke.includes(P)||(Ke.push(P),Ie(P))})(`"${P}" is deprecated and will be removed in the next major release. Please use "${M}" instead.`)},ht=P=>"function"==typeof P?P():P,Xe=P=>P&&"function"==typeof P.toPromise,ft=P=>Xe(P)?P.toPromise():Promise.resolve(P),Mt=P=>P&&Promise.resolve(P)===P,zt=()=>document.body.querySelector(`.${x.container}`),jt=P=>{const M=zt();return M?M.querySelector(P):null},tn=P=>jt(`.${P}`),vt=()=>tn(x.popup),Tt=()=>tn(x.icon),Fe=()=>tn(x.title),st=()=>tn(x["html-container"]),et=()=>tn(x.image),bt=()=>tn(x["progress-steps"]),Xt=()=>tn(x["validation-message"]),Dt=()=>jt(`.${x.actions} .${x.confirm}`),lt=()=>jt(`.${x.actions} .${x.deny}`),kn=()=>jt(`.${x.loader}`),Xn=()=>jt(`.${x.actions} .${x.cancel}`),mt=()=>tn(x.actions),In=()=>tn(x.footer),tt=()=>tn(x["timer-progress-bar"]),sn=()=>tn(x.close),Qe=()=>{const P=Array.from(vt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((z,Re)=>{const Lt=parseInt(z.getAttribute("tabindex")),Rn=parseInt(Re.getAttribute("tabindex"));return Lt>Rn?1:Lt<Rn?-1:0}),M=Array.from(vt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(z=>"-1"!==z.getAttribute("tabindex"));return(P=>{const M=[];for(let z=0;z<P.length;z++)-1===M.indexOf(P[z])&&M.push(P[z]);return M})(P.concat(M)).filter(z=>Nr(z))},ne=()=>ge(document.body,x.shown)&&!ge(document.body,x["toast-shown"])&&!ge(document.body,x["no-backdrop"]),fe=()=>vt()&&ge(vt(),x.toast),ye={previousBodyPadding:null},se=(P,M)=>{if(P.textContent="",M){const Re=(new DOMParser).parseFromString(M,"text/html");Array.from(Re.querySelector("head").childNodes).forEach(Lt=>{P.appendChild(Lt)}),Array.from(Re.querySelector("body").childNodes).forEach(Lt=>{Lt instanceof HTMLVideoElement||Lt instanceof HTMLAudioElement?P.appendChild(Lt.cloneNode(!0)):P.appendChild(Lt)})}},ge=(P,M)=>{if(!M)return!1;const z=M.split(/\s+/);for(let Re=0;Re<z.length;Re++)if(!P.classList.contains(z[Re]))return!1;return!0},Et=(P,M,z)=>{if(((P,M)=>{Array.from(P.classList).forEach(z=>{!Object.values(x).includes(z)&&!Object.values(Z).includes(z)&&!Object.values(M.showClass).includes(z)&&P.classList.remove(z)})})(P,M),M.customClass&&M.customClass[z]){if("string"!=typeof M.customClass[z]&&!M.customClass[z].forEach)return void Ie(`Invalid type of customClass.${z}! Expected string or iterable object, got "${typeof M.customClass[z]}"`);Qt(P,M.customClass[z])}},un=(P,M)=>{if(!M)return null;switch(M){case"select":case"textarea":case"file":return P.querySelector(`.${x.popup} > .${x[M]}`);case"checkbox":return P.querySelector(`.${x.popup} > .${x.checkbox} input`);case"radio":return P.querySelector(`.${x.popup} > .${x.radio} input:checked`)||P.querySelector(`.${x.popup} > .${x.radio} input:first-child`);case"range":return P.querySelector(`.${x.popup} > .${x.range} input`);default:return P.querySelector(`.${x.popup} > .${x.input}`)}},nn=P=>{if(P.focus(),"file"!==P.type){const M=P.value;P.value="",P.value=M}},tr=(P,M,z)=>{!P||!M||("string"==typeof M&&(M=M.split(/\s+/).filter(Boolean)),M.forEach(Re=>{Array.isArray(P)?P.forEach(Lt=>{z?Lt.classList.add(Re):Lt.classList.remove(Re)}):z?P.classList.add(Re):P.classList.remove(Re)}))},Qt=(P,M)=>{tr(P,M,!0)},Yn=(P,M)=>{tr(P,M,!1)},zn=(P,M)=>{const z=Array.from(P.children);for(let Re=0;Re<z.length;Re++){const Lt=z[Re];if(Lt instanceof HTMLElement&&ge(Lt,M))return Lt}},Jt=(P,M,z)=>{z===`${parseInt(z)}`&&(z=parseInt(z)),z||0===parseInt(z)?P.style[M]="number"==typeof z?`${z}px`:z:P.style.removeProperty(M)},Un=function(P){P.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},nr=P=>{P.style.display="none"},An=(P,M,z,Re)=>{const Lt=P.querySelector(M);Lt&&(Lt.style[z]=Re)},kr=function(P,M){M?Un(P,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):nr(P)},Nr=P=>!(!P||!(P.offsetWidth||P.offsetHeight||P.getClientRects().length)),gn=P=>P.scrollHeight>P.clientHeight,pr=P=>{const M=window.getComputedStyle(P),z=parseFloat(M.getPropertyValue("animation-duration")||"0"),Re=parseFloat(M.getPropertyValue("transition-duration")||"0");return z>0||Re>0},ln=function(P){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const z=tt();Nr(z)&&(M&&(z.style.transition="none",z.style.width="100%"),setTimeout(()=>{z.style.transition=`width ${P/1e3}s linear`,z.style.width="0%"},10))},pt={},Zn=P=>new Promise(M=>{if(!P)return M();const z=window.scrollX,Re=window.scrollY;pt.restoreFocusTimeout=setTimeout(()=>{pt.previousActiveElement instanceof HTMLElement?(pt.previousActiveElement.focus(),pt.previousActiveElement=null):document.body&&document.body.focus(),M()},100),window.scrollTo(z,Re)}),Yt=()=>typeof window>"u"||typeof document>"u",oi=`\n <div aria-labelledby="${x.title}" aria-describedby="${x["html-container"]}" class="${x.popup}" tabindex="-1">\n   <button type="button" class="${x.close}"></button>\n   <ul class="${x["progress-steps"]}"></ul>\n   <div class="${x.icon}"></div>\n   <img class="${x.image}" />\n   <h2 class="${x.title}" id="${x.title}"></h2>\n   <div class="${x["html-container"]}" id="${x["html-container"]}"></div>\n   <input class="${x.input}" />\n   <input type="file" class="${x.file}" />\n   <div class="${x.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${x.select}"></select>\n   <div class="${x.radio}"></div>\n   <label for="${x.checkbox}" class="${x.checkbox}">\n     <input type="checkbox" />\n     <span class="${x.label}"></span>\n   </label>\n   <textarea class="${x.textarea}"></textarea>\n   <div class="${x["validation-message"]}" id="${x["validation-message"]}"></div>\n   <div class="${x.actions}">\n     <div class="${x.loader}"></div>\n     <button type="button" class="${x.confirm}"></button>\n     <button type="button" class="${x.deny}"></button>\n     <button type="button" class="${x.cancel}"></button>\n   </div>\n   <div class="${x.footer}"></div>\n   <div class="${x["timer-progress-bar-container"]}">\n     <div class="${x["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),pi=()=>{pt.currentInstance.resetValidationMessage()},lr=P=>{const M=(()=>{const P=zt();return!!P&&(P.remove(),Yn([document.documentElement,document.body],[x["no-backdrop"],x["toast-shown"],x["has-column"]]),!0)})();if(Yt())return void De("SweetAlert2 requires document to initialize");const z=document.createElement("div");z.className=x.container,M&&Qt(z,x["no-transition"]),se(z,oi);const Re=(P=>"string"==typeof P?document.querySelector(P):P)(P.target);Re.appendChild(z),(P=>{const M=vt();M.setAttribute("role",P.toast?"alert":"dialog"),M.setAttribute("aria-live",P.toast?"polite":"assertive"),P.toast||M.setAttribute("aria-modal","true")})(P),(P=>{"rtl"===window.getComputedStyle(P).direction&&Qt(zt(),x.rtl)})(Re),(()=>{const P=vt(),M=zn(P,x.input),z=zn(P,x.file),Re=P.querySelector(`.${x.range} input`),Lt=P.querySelector(`.${x.range} output`),Rn=zn(P,x.select),ur=P.querySelector(`.${x.checkbox} input`),Bi=zn(P,x.textarea);M.oninput=pi,z.onchange=pi,Rn.onchange=pi,ur.onchange=pi,Bi.oninput=pi,Re.oninput=()=>{pi(),Lt.value=Re.value},Re.onchange=()=>{pi(),Lt.value=Re.value}})()},sr=(P,M)=>{P instanceof HTMLElement?M.appendChild(P):"object"==typeof P?gi(P,M):P&&se(M,P)},gi=(P,M)=>{P.jquery?fr(M,P):se(M,P.toString())},fr=(P,M)=>{if(P.textContent="",0 in M)for(let z=0;z in M;z++)P.appendChild(M[z].cloneNode(!0));else P.appendChild(M.cloneNode(!0))},Sn=(()=>{if(Yt())return!1;const P=document.createElement("div"),M={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const z in M)if(Object.prototype.hasOwnProperty.call(M,z)&&typeof P.style[z]<"u")return M[z];return!1})(),Or=(P,M)=>{const z=mt(),Re=kn();M.showConfirmButton||M.showDenyButton||M.showCancelButton?Un(z):nr(z),Et(z,M,"actions"),function Gn(P,M,z){const Re=Dt(),Lt=lt(),Rn=Xn();je(Re,"confirm",z),je(Lt,"deny",z),je(Rn,"cancel",z),function Ki(P,M,z,Re){Re.buttonsStyling?(Qt([P,M,z],x.styled),Re.confirmButtonColor&&(P.style.backgroundColor=Re.confirmButtonColor,Qt(P,x["default-outline"])),Re.denyButtonColor&&(M.style.backgroundColor=Re.denyButtonColor,Qt(M,x["default-outline"])),Re.cancelButtonColor&&(z.style.backgroundColor=Re.cancelButtonColor,Qt(z,x["default-outline"]))):Yn([P,M,z],x.styled)}(Re,Lt,Rn,z),z.reverseButtons&&(z.toast?(P.insertBefore(Rn,Re),P.insertBefore(Lt,Re)):(P.insertBefore(Rn,M),P.insertBefore(Lt,M),P.insertBefore(Re,M)))}(z,Re,M),se(Re,M.loaderHtml),Et(Re,M,"loader")};function je(P,M,z){kr(P,z[`show${it(M)}Button`],"inline-block"),se(P,z[`${M}ButtonText`]),P.setAttribute("aria-label",z[`${M}ButtonAriaLabel`]),P.className=x[M],Et(P,z,`${M}Button`),Qt(P,z[`${M}ButtonClass`])}const qi=(P,M)=>{const z=zt();z&&(function si(P,M){"string"==typeof M?P.style.background=M:M||Qt([document.documentElement,document.body],x["no-backdrop"])}(z,M.backdrop),function xi(P,M){M in x?Qt(P,x[M]):(Ie('The "position" parameter is not valid, defaulting to "center"'),Qt(P,x.center))}(z,M.position),function vn(P,M){if(M&&"string"==typeof M){const z=`grow-${M}`;z in x&&Qt(P,x[z])}}(z,M.grow),Et(z,M,"container"))};const mr=["input","file","range","select","radio","checkbox","textarea"],Oi=P=>{if(!en[P.input])return void De(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${P.input}"`);const M=Vt(P.input),z=en[P.input](M,P);Un(M),setTimeout(()=>{nn(z)})},Li=(P,M)=>{const z=un(vt(),P);if(z){(P=>{for(let M=0;M<P.attributes.length;M++){const z=P.attributes[M].name;["type","value","style"].includes(z)||P.removeAttribute(z)}})(z);for(const Re in M)z.setAttribute(Re,M[Re])}},Se=P=>{const M=Vt(P.input);"object"==typeof P.customClass&&Qt(M,P.customClass.input)},_e=(P,M)=>{(!P.placeholder||M.inputPlaceholder)&&(P.placeholder=M.inputPlaceholder)},He=(P,M,z)=>{if(z.inputLabel){P.id=x.input;const Re=document.createElement("label"),Lt=x["input-label"];Re.setAttribute("for",P.id),Re.className=Lt,"object"==typeof z.customClass&&Qt(Re,z.customClass.inputLabel),Re.innerText=z.inputLabel,M.insertAdjacentElement("beforebegin",Re)}},Vt=P=>zn(vt(),x[P]||x.input),nt=(P,M)=>{["string","number"].includes(typeof M)?P.value=`${M}`:Mt(M)||Ie(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof M}"`)},en={};en.text=en.email=en.password=en.number=en.tel=en.url=(P,M)=>(nt(P,M.inputValue),He(P,P,M),_e(P,M),P.type=M.input,P),en.file=(P,M)=>(He(P,P,M),_e(P,M),P),en.range=(P,M)=>{const z=P.querySelector("input"),Re=P.querySelector("output");return nt(z,M.inputValue),z.type=M.input,nt(Re,M.inputValue),He(z,P,M),P},en.select=(P,M)=>{if(P.textContent="",M.inputPlaceholder){const z=document.createElement("option");se(z,M.inputPlaceholder),z.value="",z.disabled=!0,z.selected=!0,P.appendChild(z)}return He(P,P,M),P},en.radio=P=>(P.textContent="",P),en.checkbox=(P,M)=>{const z=un(vt(),"checkbox");z.value="1",z.id=x.checkbox,z.checked=!!M.inputValue;const Re=P.querySelector("span");return se(Re,M.inputPlaceholder),z},en.textarea=(P,M)=>{nt(P,M.inputValue),_e(P,M),He(P,P,M);return setTimeout(()=>{if("MutationObserver"in window){const Re=parseInt(window.getComputedStyle(vt()).width);new MutationObserver(()=>{const Rn=P.offsetWidth+(Re=>parseInt(window.getComputedStyle(Re).marginLeft)+parseInt(window.getComputedStyle(Re).marginRight))(P);vt().style.width=Rn>Re?`${Rn}px`:null}).observe(P,{attributes:!0,attributeFilter:["style"]})}}),P};const Pn=(P,M)=>{const z=st();Et(z,M,"htmlContainer"),M.html?(sr(M.html,z),Un(z,"block")):M.text?(z.textContent=M.text,Un(z,"block")):nr(z),((P,M)=>{const z=vt(),Re=Ge.innerParams.get(P),Lt=!Re||M.input!==Re.input;mr.forEach(Rn=>{const ur=zn(z,x[Rn]);Li(Rn,M.inputAttributes),ur.className=x[Rn],Lt&&nr(ur)}),M.input&&(Lt&&Oi(M),Se(M))})(P,M)},le=(P,M)=>{for(const z in Z)M.icon!==z&&Yn(P,Z[z]);Qt(P,Z[M.icon]),ve(P,M),Pe(),Et(P,M,"icon")},Pe=()=>{const P=vt(),M=window.getComputedStyle(P).getPropertyValue("background-color"),z=P.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Re=0;Re<z.length;Re++)z[Re].style.backgroundColor=M},ce=(P,M)=>{let Re,z=P.innerHTML;M.iconHtml?Re=Ue(M.iconHtml):"success"===M.icon?(Re='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',z=z.replace(/ style=".*?"/g,"")):Re="error"===M.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Ue({question:"?",warning:"!",info:"i"}[M.icon]),z.trim()!==Re.trim()&&se(P,Re)},ve=(P,M)=>{if(M.iconColor){P.style.color=M.iconColor,P.style.borderColor=M.iconColor;for(const z of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])An(P,z,"backgroundColor",M.iconColor);An(P,".swal2-success-ring","borderColor",M.iconColor)}},Ue=P=>`<div class="${x["icon-content"]}">${P}</div>`,_t=(P,M)=>{P.className=`${x.popup} ${Nr(P)?M.showClass.popup:""}`,M.toast?(Qt([document.documentElement,document.body],x["toast-shown"]),Qt(P,x.toast)):Qt(P,x.modal),Et(P,M,"popup"),"string"==typeof M.customClass&&Qt(P,M.customClass),M.icon&&Qt(P,x[`icon-${M.icon}`])},an=P=>{const M=document.createElement("li");return Qt(M,x["progress-step"]),se(M,P),M},jn=P=>{const M=document.createElement("li");return Qt(M,x["progress-step-line"]),P.progressStepsDistance&&Jt(M,"width",P.progressStepsDistance),M},Kn=(P,M)=>{((P,M)=>{const z=zt(),Re=vt();M.toast?(Jt(z,"width",M.width),Re.style.width="100%",Re.insertBefore(kn(),Tt())):Jt(Re,"width",M.width),Jt(Re,"padding",M.padding),M.color&&(Re.style.color=M.color),M.background&&(Re.style.background=M.background),nr(Xt()),_t(Re,M)})(0,M),qi(0,M),((P,M)=>{const z=bt();M.progressSteps&&0!==M.progressSteps.length?(Un(z),z.textContent="",M.currentProgressStep>=M.progressSteps.length&&Ie("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),M.progressSteps.forEach((Re,Lt)=>{const Rn=an(Re);if(z.appendChild(Rn),Lt===M.currentProgressStep&&Qt(Rn,x["active-progress-step"]),Lt!==M.progressSteps.length-1){const ur=jn(M);z.appendChild(ur)}})):nr(z)})(0,M),((P,M)=>{const z=Ge.innerParams.get(P),Re=Tt();z&&M.icon===z.icon?(ce(Re,M),le(Re,M)):M.icon||M.iconHtml?M.icon&&-1===Object.keys(Z).indexOf(M.icon)?(De(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${M.icon}"`),nr(Re)):(Un(Re),ce(Re,M),le(Re,M),Qt(Re,M.showClass.icon)):nr(Re)})(P,M),((P,M)=>{const z=et();M.imageUrl?(Un(z,""),z.setAttribute("src",M.imageUrl),z.setAttribute("alt",M.imageAlt),Jt(z,"width",M.imageWidth),Jt(z,"height",M.imageHeight),z.className=x.image,Et(z,M,"image")):nr(z)})(0,M),((P,M)=>{const z=Fe();kr(z,M.title||M.titleText,"block"),M.title&&sr(M.title,z),M.titleText&&(z.innerText=M.titleText),Et(z,M,"title")})(0,M),((P,M)=>{const z=sn();se(z,M.closeButtonHtml),Et(z,M,"closeButton"),kr(z,M.showCloseButton),z.setAttribute("aria-label",M.closeButtonAriaLabel)})(0,M),Pn(P,M),Or(0,M),((P,M)=>{const z=In();kr(z,M.footer),M.footer&&sr(M.footer,z),Et(z,M,"footer")})(0,M),"function"==typeof M.didRender&&M.didRender(vt())};function cr(){const P=Ge.innerParams.get(this);if(!P)return;const M=Ge.domCache.get(this);nr(M.loader),fe()?P.icon&&Un(Tt()):Ei(M),Yn([M.popup,M.actions],x.loading),M.popup.removeAttribute("aria-busy"),M.popup.removeAttribute("data-loading"),M.confirmButton.disabled=!1,M.denyButton.disabled=!1,M.cancelButton.disabled=!1}const Ei=P=>{const M=P.popup.getElementsByClassName(P.loader.getAttribute("data-button-to-replace"));M.length?Un(M[0],"inline-block"):!Nr(Dt())&&!Nr(lt())&&!Nr(Xn())&&nr(P.actions)};const $e=()=>Dt()&&Dt().click(),qt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Tn=P=>{P.keydownTarget&&P.keydownHandlerAdded&&(P.keydownTarget.removeEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!1)},Cn=(P,M,z)=>{const Re=Qe();if(Re.length)return(M+=z)===Re.length?M=0:-1===M&&(M=Re.length-1),Re[M].focus();vt().focus()},rr=["ArrowRight","ArrowDown"],Wr=["ArrowLeft","ArrowUp"],Co=(P,M,z)=>{const Re=Ge.innerParams.get(P);Re&&(M.isComposing||229===M.keyCode||(Re.stopKeydownPropagation&&M.stopPropagation(),"Enter"===M.key?Pr(P,M,Re):"Tab"===M.key?io(M,Re):[...rr,...Wr].includes(M.key)?ji(M.key):"Escape"===M.key&&Lo(M,Re,z)))},Pr=(P,M,z)=>{if(ht(z.allowEnterKey)&&M.target&&P.getInput()&&M.target instanceof HTMLElement&&M.target.outerHTML===P.getInput().outerHTML){if(["textarea","file"].includes(z.input))return;$e(),M.preventDefault()}},io=(P,M)=>{const z=P.target,Re=Qe();let Lt=-1;for(let Rn=0;Rn<Re.length;Rn++)if(z===Re[Rn]){Lt=Rn;break}Cn(0,Lt,P.shiftKey?-1:1),P.stopPropagation(),P.preventDefault()},ji=P=>{const M=Dt(),z=lt(),Re=Xn();if(document.activeElement instanceof HTMLElement&&![M,z,Re].includes(document.activeElement))return;const Lt=rr.includes(P)?"nextElementSibling":"previousElementSibling";let Rn=document.activeElement;for(let ur=0;ur<mt().children.length;ur++){if(Rn=Rn[Lt],!Rn)return;if(Rn instanceof HTMLButtonElement&&Nr(Rn))break}Rn instanceof HTMLButtonElement&&Rn.focus()},Lo=(P,M,z)=>{ht(M.allowEscapeKey)&&(P.preventDefault(),z(qt.esc))};var eo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const me=()=>{Array.from(document.body.children).forEach(M=>{M.hasAttribute("data-previous-aria-hidden")?(M.setAttribute("aria-hidden",M.getAttribute("data-previous-aria-hidden")),M.removeAttribute("data-previous-aria-hidden")):M.removeAttribute("aria-hidden")})},ie=()=>{const P=navigator.userAgent,M=!!P.match(/iPad/i)||!!P.match(/iPhone/i),z=!!P.match(/WebKit/i);M&&z&&!P.match(/CriOS/i)&&vt().scrollHeight>window.innerHeight-44&&(zt().style.paddingBottom="44px")},ke=()=>{const P=zt();let M;P.ontouchstart=z=>{M=St(z)},P.ontouchmove=z=>{M&&(z.preventDefault(),z.stopPropagation())}},St=P=>{const M=P.target,z=zt();return!dn(P)&&!Fn(P)&&(M===z||!gn(z)&&M instanceof HTMLElement&&"INPUT"!==M.tagName&&"TEXTAREA"!==M.tagName&&!(gn(st())&&st().contains(M)))},dn=P=>P.touches&&P.touches.length&&"stylus"===P.touches[0].touchType,Fn=P=>P.touches&&P.touches.length>1,Xr=()=>{null===ye.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(ye.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ye.previousBodyPadding+(()=>{const P=document.createElement("div");P.className=x["scrollbar-measure"],document.body.appendChild(P);const M=P.getBoundingClientRect().width-P.clientWidth;return document.body.removeChild(P),M})()}px`)};function _r(P,M,z,Re){fe()?yt(P,Re):(Zn(z).then(()=>yt(P,Re)),Tn(pt)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(M.setAttribute("style","display:none !important"),M.removeAttribute("class"),M.innerHTML=""):M.remove(),ne()&&(null!==ye.previousBodyPadding&&(document.body.style.paddingRight=`${ye.previousBodyPadding}px`,ye.previousBodyPadding=null),(()=>{if(ge(document.body,x.iosfix)){const P=parseInt(document.body.style.top,10);Yn(document.body,x.iosfix),document.body.style.top="",document.body.scrollTop=-1*P}})(),me()),function Vn(){Yn([document.documentElement,document.body],[x.shown,x["height-auto"],x["no-backdrop"],x["toast-shown"]])}()}function vr(P){P=de(P);const M=eo.swalPromiseResolve.get(this),z=mi(this);this.isAwaitingPromise()?P.isDismissed||($o(this),M(P)):z&&M(P)}const mi=P=>{const M=vt();if(!M)return!1;const z=Ge.innerParams.get(P);if(!z||ge(M,z.hideClass.popup))return!1;Yn(M,z.showClass.popup),Qt(M,z.hideClass.popup);const Re=zt();return Yn(Re,z.showClass.backdrop),Qt(Re,z.hideClass.backdrop),ot(P,M,z),!0};const $o=P=>{P.isAwaitingPromise()&&(Ge.awaitingPromise.delete(P),Ge.innerParams.get(P)||P._destroy())},de=P=>typeof P>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},P),ot=(P,M,z)=>{const Re=zt(),Lt=Sn&&pr(M);"function"==typeof z.willClose&&z.willClose(M),Lt?xe(P,M,Re,z.returnFocus,z.didClose):_r(P,Re,z.returnFocus,z.didClose)},xe=(P,M,z,Re,Lt)=>{pt.swalCloseEventFinishedCallback=_r.bind(null,P,z,Re,Lt),M.addEventListener(Sn,function(Rn){Rn.target===M&&(pt.swalCloseEventFinishedCallback(),delete pt.swalCloseEventFinishedCallback)})},yt=(P,M)=>{setTimeout(()=>{"function"==typeof M&&M.bind(P.params)(),P._destroy()})};function rn(P,M,z){const Re=Ge.domCache.get(P);M.forEach(Lt=>{Re[Lt].disabled=z})}function En(P,M){if(P)if("radio"===P.type){const Re=P.parentNode.parentNode.querySelectorAll("input");for(let Lt=0;Lt<Re.length;Lt++)Re[Lt].disabled=M}else P.disabled=M}const wn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},is=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],wo={},So=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Qo=P=>Object.prototype.hasOwnProperty.call(wn,P),Ro=P=>-1!==is.indexOf(P),_s=P=>wo[P],os=P=>{Qo(P)||Ie(`Unknown parameter "${P}"`)},Fr=P=>{So.includes(P)&&Ie(`The parameter "${P}" is incompatible with toasts`)},Ho=P=>{_s(P)&&Te(P,_s(P))};const vs=P=>{const M={};return Object.keys(P).forEach(z=>{Ro(z)?M[z]=P[z]:Ie(`Invalid parameter to update: ${z}`)}),M};const oo=P=>{Yr(P),delete P.params,delete pt.keydownHandler,delete pt.keydownTarget,delete pt.currentInstance},Yr=P=>{P.isAwaitingPromise()?(Jr(Ge,P),Ge.awaitingPromise.set(P,!0)):(Jr(eo,P),Jr(Ge,P))},Jr=(P,M)=>{for(const z in P)P[z].delete(M)};var Es=Object.freeze({__proto__:null,hideLoading:cr,disableLoading:cr,getInput:function Ci(P){const M=Ge.innerParams.get(P||this),z=Ge.domCache.get(P||this);return z?un(z.popup,M.input):null},close:vr,isAwaitingPromise:function $i(){return!!Ge.awaitingPromise.get(this)},rejectPromise:function Eo(P){const M=eo.swalPromiseReject.get(this);$o(this),M&&M(P)},handleAwaitingPromise:$o,closePopup:vr,closeModal:vr,closeToast:vr,enableButtons:function $n(){rn(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Qi(){rn(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function ho(){En(this.getInput(),!1)},disableInput:function Ss(){En(this.getInput(),!0)},showValidationMessage:function ni(P){const M=Ge.domCache.get(this),z=Ge.innerParams.get(this);se(M.validationMessage,P),M.validationMessage.className=x["validation-message"],z.customClass&&z.customClass.validationMessage&&Qt(M.validationMessage,z.customClass.validationMessage),Un(M.validationMessage);const Re=this.getInput();Re&&(Re.setAttribute("aria-invalid",!0),Re.setAttribute("aria-describedby",x["validation-message"]),nn(Re),Qt(Re,x.inputerror))},resetValidationMessage:function rs(){const P=Ge.domCache.get(this);P.validationMessage&&nr(P.validationMessage);const M=this.getInput();M&&(M.removeAttribute("aria-invalid"),M.removeAttribute("aria-describedby"),Yn(M,x.inputerror))},update:function zo(P){const M=vt(),z=Ge.innerParams.get(this);if(!M||ge(M,z.hideClass.popup))return void Ie("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Re=vs(P),Lt=Object.assign({},z,Re);Kn(this,Lt),Ge.innerParams.set(this,Lt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,P),writable:!1,enumerable:!0}})},_destroy:function Kr(){const P=Ge.domCache.get(this),M=Ge.innerParams.get(this);M?(P.popup&&pt.swalCloseEventFinishedCallback&&(pt.swalCloseEventFinishedCallback(),delete pt.swalCloseEventFinishedCallback),"function"==typeof M.didDestroy&&M.didDestroy(),oo(this)):Yr(this)}});const Po=P=>{let M=vt();M||new jr,M=vt();const z=kn();fe()?nr(Tt()):Mo(M,P),Un(z),M.setAttribute("data-loading","true"),M.setAttribute("aria-busy","true"),M.focus()},Mo=(P,M)=>{const z=mt(),Re=kn();!M&&Nr(Dt())&&(M=Dt()),Un(z),M&&(nr(M),Re.setAttribute("data-button-to-replace",M.className)),Re.parentNode.insertBefore(Re,M),Qt([P,z],x.loading)},Vi=P=>P.checked?1:0,Fs=P=>P.checked?P.value:null,No=P=>P.files.length?null!==P.getAttribute("multiple")?P.files:P.files[0]:null,Lr=(P,M)=>{const z=vt(),Re=Lt=>{Xi[M.input](z,Ys(Lt),M)};Xe(M.inputOptions)||Mt(M.inputOptions)?(Po(Dt()),ft(M.inputOptions).then(Lt=>{P.hideLoading(),Re(Lt)})):"object"==typeof M.inputOptions?Re(M.inputOptions):De("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof M.inputOptions)},Er=(P,M)=>{const z=P.getInput();nr(z),ft(M.inputValue).then(Re=>{z.value="number"===M.input?`${parseFloat(Re)||0}`:`${Re}`,Un(z),z.focus(),P.hideLoading()}).catch(Re=>{De(`Error in inputValue promise: ${Re}`),z.value="",Un(z),z.focus(),P.hideLoading()})},Xi={select:(P,M,z)=>{const Re=zn(P,x.select),Lt=(Rn,ur,Bi)=>{const zi=document.createElement("option");zi.value=Bi,se(zi,ur),zi.selected=Rs(Bi,z.inputValue),Rn.appendChild(zi)};M.forEach(Rn=>{const ur=Rn[0],Bi=Rn[1];if(Array.isArray(Bi)){const zi=document.createElement("optgroup");zi.label=ur,zi.disabled=!1,Re.appendChild(zi),Bi.forEach(bo=>Lt(zi,bo[1],bo[0]))}else Lt(Re,Bi,ur)}),Re.focus()},radio:(P,M,z)=>{const Re=zn(P,x.radio);M.forEach(Rn=>{const ur=Rn[0],Bi=Rn[1],zi=document.createElement("input"),bo=document.createElement("label");zi.type="radio",zi.name=x.radio,zi.value=ur,Rs(ur,z.inputValue)&&(zi.checked=!0);const $s=document.createElement("span");se($s,Bi),$s.className=x.label,bo.appendChild(zi),bo.appendChild($s),Re.appendChild(bo)});const Lt=Re.querySelectorAll("input");Lt.length&&Lt[0].focus()}},Ys=P=>{const M=[];return typeof Map<"u"&&P instanceof Map?P.forEach((z,Re)=>{let Lt=z;"object"==typeof Lt&&(Lt=Ys(Lt)),M.push([Re,Lt])}):Object.keys(P).forEach(z=>{let Re=P[z];"object"==typeof Re&&(Re=Ys(Re)),M.push([z,Re])}),M},Rs=(P,M)=>M&&M.toString()===P.toString(),q=(P,M)=>{const z=Ge.innerParams.get(P);if(!z.input)return void De(`The "input" parameter is needed to be set when using returnInputValueOn${it(M)}`);const Re=((P,M)=>{const z=P.getInput();if(!z)return null;switch(M.input){case"checkbox":return Vi(z);case"radio":return Fs(z);case"file":return No(z);default:return M.inputAutoTrim?z.value.trim():z.value}})(P,z);z.inputValidator?K(P,Re,M):P.getInput().checkValidity()?"deny"===M?we(P,Re):Ot(P,Re):(P.enableButtons(),P.showValidationMessage(z.validationMessage))},K=(P,M,z)=>{const Re=Ge.innerParams.get(P);P.disableInput(),Promise.resolve().then(()=>ft(Re.inputValidator(M,Re.validationMessage))).then(Rn=>{P.enableButtons(),P.enableInput(),Rn?P.showValidationMessage(Rn):"deny"===z?we(P,M):Ot(P,M)})},we=(P,M)=>{const z=Ge.innerParams.get(P||void 0);z.showLoaderOnDeny&&Po(lt()),z.preDeny?(Ge.awaitingPromise.set(P||void 0,!0),Promise.resolve().then(()=>ft(z.preDeny(M,z.validationMessage))).then(Lt=>{!1===Lt?(P.hideLoading(),$o(P)):P.close({isDenied:!0,value:typeof Lt>"u"?M:Lt})}).catch(Lt=>at(P||void 0,Lt))):P.close({isDenied:!0,value:M})},Ne=(P,M)=>{P.close({isConfirmed:!0,value:M})},at=(P,M)=>{P.rejectPromise(M)},Ot=(P,M)=>{const z=Ge.innerParams.get(P||void 0);z.showLoaderOnConfirm&&Po(),z.preConfirm?(P.resetValidationMessage(),Ge.awaitingPromise.set(P||void 0,!0),Promise.resolve().then(()=>ft(z.preConfirm(M,z.validationMessage))).then(Lt=>{Nr(Xt())||!1===Lt?(P.hideLoading(),$o(P)):Ne(P,typeof Lt>"u"?M:Lt)}).catch(Lt=>at(P||void 0,Lt))):Ne(P,M)},bn=(P,M,z)=>{M.popup.onclick=()=>{const Re=Ge.innerParams.get(P);Re&&(mn(Re)||Re.timer||Re.input)||z(qt.close)}},mn=P=>P.showConfirmButton||P.showDenyButton||P.showCancelButton||P.showCloseButton;let gr=!1;const Jn=P=>{P.popup.onmousedown=()=>{P.container.onmouseup=function(M){P.container.onmouseup=void 0,M.target===P.container&&(gr=!0)}}},Ur=P=>{P.container.onmousedown=()=>{P.popup.onmouseup=function(M){P.popup.onmouseup=void 0,(M.target===P.popup||P.popup.contains(M.target))&&(gr=!0)}}},wi=(P,M,z)=>{M.container.onclick=Re=>{const Lt=Ge.innerParams.get(P);gr?gr=!1:Re.target===M.container&&ht(Lt.allowOutsideClick)&&z(qt.backdrop)}},Ui=P=>P instanceof Element||(P=>"object"==typeof P&&P.jquery)(P);const _i=()=>{if(pt.timeout)return(()=>{const P=tt(),M=parseInt(window.getComputedStyle(P).width);P.style.removeProperty("transition"),P.style.width="100%";const Re=M/parseInt(window.getComputedStyle(P).width)*100;P.style.removeProperty("transition"),P.style.width=`${Re}%`})(),pt.timeout.stop()},Ri=()=>{if(pt.timeout){const P=pt.timeout.start();return ln(P),P}};let Wo=!1;const ls={};const Ia=P=>{for(let M=P.target;M&&M!==document;M=M.parentNode)for(const z in ls){const Re=M.getAttribute(z);if(Re)return void ls[z].fire({template:Re})}};var Ls=Object.freeze({__proto__:null,isValidParameter:Qo,isUpdatableParameter:Ro,isDeprecatedParameter:_s,argsToParams:P=>{const M={};return"object"!=typeof P[0]||Ui(P[0])?["title","html","icon"].forEach((z,Re)=>{const Lt=P[Re];"string"==typeof Lt||Ui(Lt)?M[z]=Lt:void 0!==Lt&&De(`Unexpected type of ${z}! Expected "string" or "Element", got ${typeof Lt}`)}):Object.assign(M,P[0]),M},getContainer:zt,getPopup:vt,getTitle:Fe,getHtmlContainer:st,getImage:et,getIcon:Tt,getIconContent:()=>tn(x["icon-content"]),getInputLabel:()=>tn(x["input-label"]),getCloseButton:sn,getActions:mt,getConfirmButton:Dt,getDenyButton:lt,getCancelButton:Xn,getLoader:kn,getFooter:In,getTimerProgressBar:tt,getFocusableElements:Qe,getValidationMessage:Xt,getProgressSteps:bt,isLoading:()=>vt().hasAttribute("data-loading"),isVisible:()=>Nr(vt()),clickConfirm:$e,clickDeny:()=>lt()&&lt().click(),clickCancel:()=>Xn()&&Xn().click(),fire:function ri(){for(var M=arguments.length,z=new Array(M),Re=0;Re<M;Re++)z[Re]=arguments[Re];return new this(...z)},mixin:function Ni(P){return class M extends(this){_main(Re,Lt){return super._main(Re,Object.assign({},P,Lt))}}},showLoading:Po,enableLoading:Po,getTimerLeft:()=>pt.timeout&&pt.timeout.getTimerLeft(),stopTimer:_i,resumeTimer:Ri,toggleTimer:()=>{const P=pt.timeout;return P&&(P.running?_i():Ri())},increaseTimer:P=>{if(pt.timeout){const M=pt.timeout.increase(P);return ln(M,!0),M}},isTimerRunning:()=>pt.timeout&&pt.timeout.isRunning(),bindClickHandler:function aa(){ls[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Wo||(document.body.addEventListener("click",Ia),Wo=!0)}});class ds{constructor(M,z){this.callback=M,this.remaining=z,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(M){const z=this.running;return z&&this.stop(),this.remaining+=M,z&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Na=["swal-title","swal-html","swal-footer"],Vs=P=>{const M={};return Array.from(P.querySelectorAll("swal-param")).forEach(Re=>{bi(Re,["name","value"]);const Lt=Re.getAttribute("name"),Rn=Re.getAttribute("value");M[Lt]="boolean"==typeof wn[Lt]?"false"!==Rn:"object"==typeof wn[Lt]?JSON.parse(Rn):Rn}),M},to=P=>{const M={};return Array.from(P.querySelectorAll("swal-function-param")).forEach(Re=>{const Lt=Re.getAttribute("name"),Rn=Re.getAttribute("value");M[Lt]=new Function(`return ${Rn}`)()}),M},Ps=P=>{const M={};return Array.from(P.querySelectorAll("swal-button")).forEach(Re=>{bi(Re,["type","color","aria-label"]);const Lt=Re.getAttribute("type");M[`${Lt}ButtonText`]=Re.innerHTML,M[`show${it(Lt)}Button`]=!0,Re.hasAttribute("color")&&(M[`${Lt}ButtonColor`]=Re.getAttribute("color")),Re.hasAttribute("aria-label")&&(M[`${Lt}ButtonAriaLabel`]=Re.getAttribute("aria-label"))}),M},di=P=>{const M={},z=P.querySelector("swal-image");return z&&(bi(z,["src","width","height","alt"]),z.hasAttribute("src")&&(M.imageUrl=z.getAttribute("src")),z.hasAttribute("width")&&(M.imageWidth=z.getAttribute("width")),z.hasAttribute("height")&&(M.imageHeight=z.getAttribute("height")),z.hasAttribute("alt")&&(M.imageAlt=z.getAttribute("alt"))),M},ko=P=>{const M={},z=P.querySelector("swal-icon");return z&&(bi(z,["type","color"]),z.hasAttribute("type")&&(M.icon=z.getAttribute("type")),z.hasAttribute("color")&&(M.iconColor=z.getAttribute("color")),M.iconHtml=z.innerHTML),M},Ms=P=>{const M={},z=P.querySelector("swal-input");z&&(bi(z,["type","label","placeholder","value"]),M.input=z.getAttribute("type")||"text",z.hasAttribute("label")&&(M.inputLabel=z.getAttribute("label")),z.hasAttribute("placeholder")&&(M.inputPlaceholder=z.getAttribute("placeholder")),z.hasAttribute("value")&&(M.inputValue=z.getAttribute("value")));const Re=Array.from(P.querySelectorAll("swal-input-option"));return Re.length&&(M.inputOptions={},Re.forEach(Lt=>{bi(Lt,["value"]);const Rn=Lt.getAttribute("value");M.inputOptions[Rn]=Lt.innerHTML})),M},Us=(P,M)=>{const z={};for(const Re in M){const Lt=M[Re],Rn=P.querySelector(Lt);Rn&&(bi(Rn,[]),z[Lt.replace(/^swal-/,"")]=Rn.innerHTML.trim())}return z},Bs=P=>{const M=Na.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(P.children).forEach(z=>{const Re=z.tagName.toLowerCase();M.includes(Re)||Ie(`Unrecognized element <${Re}>`)})},bi=(P,M)=>{Array.from(P.attributes).forEach(z=>{-1===M.indexOf(z.name)&&Ie([`Unrecognized attribute "${z.name}" on <${P.tagName.toLowerCase()}>.`,M.length?`Allowed attributes are: ${M.join(", ")}`:"To set the value, use HTML within the element."])})},Gr=P=>{const M=zt(),z=vt();"function"==typeof P.willOpen&&P.willOpen(z);const Lt=window.getComputedStyle(document.body).overflowY;qa(M,z,P),setTimeout(()=>{Ta(M,z)},10),ne()&&(js(M,P.scrollbarPadding,Lt),Array.from(document.body.children).forEach(M=>{M===zt()||M.contains(zt())||(M.hasAttribute("aria-hidden")&&M.setAttribute("data-previous-aria-hidden",M.getAttribute("aria-hidden")),M.setAttribute("aria-hidden","true"))})),!fe()&&!pt.previousActiveElement&&(pt.previousActiveElement=document.activeElement),"function"==typeof P.didOpen&&setTimeout(()=>P.didOpen(z)),Yn(M,x["no-transition"])},Br=P=>{const M=vt();if(P.target!==M)return;const z=zt();M.removeEventListener(Sn,Br),z.style.overflowY="auto"},Ta=(P,M)=>{Sn&&pr(M)?(P.style.overflowY="hidden",M.addEventListener(Sn,Br)):P.style.overflowY="auto"},js=(P,M,z)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!ge(document.body,x.iosfix)){const M=document.body.scrollTop;document.body.style.top=-1*M+"px",Qt(document.body,x.iosfix),ke(),ie()}})(),M&&"hidden"!==z&&Xr(),setTimeout(()=>{P.scrollTop=0})},qa=(P,M,z)=>{Qt(P,z.showClass.backdrop),M.style.setProperty("opacity","0","important"),Un(M,"grid"),setTimeout(()=>{Qt(M,z.showClass.popup),M.style.removeProperty("opacity")},10),Qt([document.documentElement,document.body],x.shown),z.heightAuto&&z.backdrop&&!z.toast&&Qt([document.documentElement,document.body],x["height-auto"])};var ba={email:(P,M)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(P)?Promise.resolve():Promise.resolve(M||"Invalid email address"),url:(P,M)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(P)?Promise.resolve():Promise.resolve(M||"Invalid URL")};function xa(P){(function Qa(P){P.inputValidator||Object.keys(ba).forEach(M=>{P.input===M&&(P.inputValidator=ba[M])})})(P),P.showLoaderOnConfirm&&!P.preConfirm&&Ie("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function ka(P){(!P.target||"string"==typeof P.target&&!document.querySelector(P.target)||"string"!=typeof P.target&&!P.target.appendChild)&&(Ie('Target parameter is not valid, defaulting to "body"'),P.target="body")}(P),"string"==typeof P.title&&(P.title=P.title.split("\n").join("<br />")),lr(P)}let Go;class qr{constructor(){if(typeof window>"u")return;Go=this;for(var M=arguments.length,z=new Array(M),Re=0;Re<M;Re++)z[Re]=arguments[Re];const Lt=Object.freeze(this.constructor.argsToParams(z));Object.defineProperties(this,{params:{value:Lt,writable:!1,enumerable:!0,configurable:!0}});const Rn=Go._main(Go.params);Ge.promise.set(this,Rn)}_main(M){let z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(P=>{!1===P.backdrop&&P.allowOutsideClick&&Ie('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const M in P)os(M),P.toast&&Fr(M),Ho(M)})(Object.assign({},z,M)),pt.currentInstance&&(pt.currentInstance._destroy(),ne()&&me()),pt.currentInstance=Go;const Re=ir(M,z);xa(Re),Object.freeze(Re),pt.timeout&&(pt.timeout.stop(),delete pt.timeout),clearTimeout(pt.restoreFocusTimeout);const Lt=hi(Go);return Kn(Go,Re),Ge.innerParams.set(Go,Re),on(Go,Lt,Re)}then(M){return Ge.promise.get(this).then(M)}finally(M){return Ge.promise.get(this).finally(M)}}const on=(P,M,z)=>new Promise((Re,Lt)=>{const Rn=ur=>{P.close({isDismissed:!0,dismiss:ur})};eo.swalPromiseResolve.set(P,Re),eo.swalPromiseReject.set(P,Lt),M.confirmButton.onclick=()=>{(P=>{const M=Ge.innerParams.get(P);P.disableButtons(),M.input?q(P,"confirm"):Ot(P,!0)})(P)},M.denyButton.onclick=()=>{(P=>{const M=Ge.innerParams.get(P);P.disableButtons(),M.returnInputValueOnDeny?q(P,"deny"):we(P,!1)})(P)},M.cancelButton.onclick=()=>{((P,M)=>{P.disableButtons(),M(qt.cancel)})(P,Rn)},M.closeButton.onclick=()=>{Rn(qt.close)},((P,M,z)=>{Ge.innerParams.get(P).toast?bn(P,M,z):(Jn(M),Ur(M),wi(P,M,z))})(P,M,Rn),((P,M,z,Re)=>{Tn(M),z.toast||(M.keydownHandler=Lt=>Co(P,Lt,Re),M.keydownTarget=z.keydownListenerCapture?window:vt(),M.keydownListenerCapture=z.keydownListenerCapture,M.keydownTarget.addEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!0)})(P,pt,z,Rn),((P,M)=>{"select"===M.input||"radio"===M.input?Lr(P,M):["text","email","number","tel","textarea"].includes(M.input)&&(Xe(M.inputValue)||Mt(M.inputValue))&&(Po(Dt()),Er(P,M))})(P,z),Gr(z),Uo(pt,z,Rn),Hi(M,z),setTimeout(()=>{M.container.scrollTop=0})}),ir=(P,M)=>{const z=(P=>{const M="string"==typeof P.template?document.querySelector(P.template):P.template;if(!M)return{};const z=M.content;return Bs(z),Object.assign(Vs(z),to(z),Ps(z),di(z),ko(z),Ms(z),Us(z,Na))})(P),Re=Object.assign({},wn,M,z,P);return Re.showClass=Object.assign({},wn.showClass,Re.showClass),Re.hideClass=Object.assign({},wn.hideClass,Re.hideClass),Re},hi=P=>{const M={popup:vt(),container:zt(),actions:mt(),confirmButton:Dt(),denyButton:lt(),cancelButton:Xn(),loader:kn(),closeButton:sn(),validationMessage:Xt(),progressSteps:bt()};return Ge.domCache.set(P,M),M},Uo=(P,M,z)=>{const Re=tt();nr(Re),M.timer&&(P.timeout=new ds(()=>{z("timer"),delete P.timeout},M.timer),M.timerProgressBar&&(Un(Re),Et(Re,M,"timerProgressBar"),setTimeout(()=>{P.timeout&&P.timeout.running&&ln(M.timer)})))},Hi=(P,M)=>{if(!M.toast){if(!ht(M.allowEnterKey))return void hs();Ko(P,M)||Cn(0,-1,1)}},Ko=(P,M)=>M.focusDeny&&Nr(P.denyButton)?(P.denyButton.focus(),!0):M.focusCancel&&Nr(P.cancelButton)?(P.cancelButton.focus(),!0):!(!M.focusConfirm||!Nr(P.confirmButton)||(P.confirmButton.focus(),0)),hs=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const P=new Date,M=localStorage.getItem("swal-initiation");M?(P.getTime()-Date.parse(M))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const z=document.createElement("audio");z.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",z.loop=!0,document.body.appendChild(z),setTimeout(()=>{z.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${P}`)}Object.assign(qr.prototype,Es),Object.assign(qr,Ls),Object.keys(Es).forEach(P=>{qr[P]=function(){if(Go)return Go[P](...arguments)}}),qr.DismissReason=qt,qr.version="11.6.13";const jr=qr;return jr.default=jr,jr}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Ge,j){var I=Ge.createElement("style");if(Ge.getElementsByTagName("head")[0].appendChild(I),I.styleSheet)I.styleSheet.disabled||(I.styleSheet.cssText=j);else try{I.innerHTML=j}catch{I.innerText=j}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8041:(Dn,Ge,j)=>{"use strict";j.d(Ge,{$b:()=>x,Vy:()=>Ie});const I=[];var x=function(be){return be[be.DEBUG=0]="DEBUG",be[be.VERBOSE=1]="VERBOSE",be[be.INFO=2]="INFO",be[be.WARN=3]="WARN",be[be.ERROR=4]="ERROR",be[be.SILENT=5]="SILENT",be}(x||{});const Z={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},$=x.INFO,Me={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},it=(be,Te,...ht)=>{if(Te<be.logLevel)return;const Xe=(new Date).toISOString(),ft=Me[Te];if(!ft)throw new Error(`Attempted to log a message with an invalid logType (value: ${Te})`);console[ft](`[${Xe}]  ${be.name}:`,...ht)};class Ie{constructor(Te){this.name=Te,this._logLevel=$,this._logHandler=it,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(Te){if(!(Te in x))throw new TypeError(`Invalid value "${Te}" assigned to \`logLevel\``);this._logLevel=Te}setLogLevel(Te){this._logLevel="string"==typeof Te?Z[Te]:Te}get logHandler(){return this._logHandler}set logHandler(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te}get userLogHandler(){return this._userLogHandler}set userLogHandler(Te){this._userLogHandler=Te}debug(...Te){this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...Te),this._logHandler(this,x.DEBUG,...Te)}log(...Te){this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...Te),this._logHandler(this,x.VERBOSE,...Te)}info(...Te){this._userLogHandler&&this._userLogHandler(this,x.INFO,...Te),this._logHandler(this,x.INFO,...Te)}warn(...Te){this._userLogHandler&&this._userLogHandler(this,x.WARN,...Te),this._logHandler(this,x.WARN,...Te)}error(...Te){this._userLogHandler&&this._userLogHandler(this,x.ERROR,...Te),this._logHandler(this,x.ERROR,...Te)}}},8071:(Dn,Ge,j)=>{"use strict";function I(x){return"function"==typeof x}j.d(Ge,{T:()=>I})},8359:(Dn,Ge,j)=>{"use strict";j.d(Ge,{Kn:()=>it,yU:()=>Me,Uv:()=>Ie});var I=j(8071);const Z=(0,j(1853).L)(Ke=>function(Te){Ke(this),this.message=Te?`${Te.length} errors occurred during unsubscription:\n${Te.map((ht,Xe)=>`${Xe+1}) ${ht.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Te});var $=j(7908);class Me{constructor(be){this.initialTeardown=be,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let be;if(!this.closed){this.closed=!0;const{_parentage:Te}=this;if(Te)if(this._parentage=null,Array.isArray(Te))for(const ft of Te)ft.remove(this);else Te.remove(this);const{initialTeardown:ht}=this;if((0,I.T)(ht))try{ht()}catch(ft){be=ft instanceof Z?ft.errors:[ft]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const ft of Xe)try{De(ft)}catch(Mt){be=be??[],Mt instanceof Z?be=[...be,...Mt.errors]:be.push(Mt)}}if(be)throw new Z(be)}}add(be){var Te;if(be&&be!==this)if(this.closed)De(be);else{if(be instanceof Me){if(be.closed||be._hasParent(this))return;be._addParent(this)}(this._finalizers=null!==(Te=this._finalizers)&&void 0!==Te?Te:[]).push(be)}}_hasParent(be){const{_parentage:Te}=this;return Te===be||Array.isArray(Te)&&Te.includes(be)}_addParent(be){const{_parentage:Te}=this;this._parentage=Array.isArray(Te)?(Te.push(be),Te):Te?[Te,be]:be}_removeParent(be){const{_parentage:Te}=this;Te===be?this._parentage=null:Array.isArray(Te)&&(0,$.o)(Te,be)}remove(be){const{_finalizers:Te}=this;Te&&(0,$.o)(Te,be),be instanceof Me&&be._removeParent(this)}}Me.EMPTY=(()=>{const Ke=new Me;return Ke.closed=!0,Ke})();const it=Me.EMPTY;function Ie(Ke){return Ke instanceof Me||Ke&&"closed"in Ke&&(0,I.T)(Ke.remove)&&(0,I.T)(Ke.add)&&(0,I.T)(Ke.unsubscribe)}function De(Ke){(0,I.T)(Ke)?Ke():Ke.unsubscribe()}},8455:(Dn,Ge,j)=>{"use strict";j.d(Ge,{H:()=>Fe});var I=j(8750),x=j(941),Z=j(6745),it=j(1985),De=j(4761),Ke=j(8071),be=j(5225);function ht(st,et){if(!st)throw new Error("Iterable cannot be null");return new it.c(bt=>{(0,be.N)(bt,et,()=>{const Xt=st[Symbol.asyncIterator]();(0,be.N)(bt,et,()=>{Xt.next().then(Dt=>{Dt.done?bt.complete():bt.next(Dt.value)})},0,!0)})})}var Xe=j(5055),ft=j(9858),Mt=j(7441),zt=j(5397),jt=j(7953),tn=j(591),vt=j(5196);function Fe(st,et){return et?function Pt(st,et){if(null!=st){if((0,Xe.l)(st))return function $(st,et){return(0,I.Tg)(st).pipe((0,Z._)(et),(0,x.Q)(et))}(st,et);if((0,Mt.X)(st))return function Ie(st,et){return new it.c(bt=>{let Xt=0;return et.schedule(function(){Xt===st.length?bt.complete():(bt.next(st[Xt++]),bt.closed||this.schedule())})})}(st,et);if((0,ft.y)(st))return function Me(st,et){return(0,I.Tg)(st).pipe((0,Z._)(et),(0,x.Q)(et))}(st,et);if((0,jt.T)(st))return ht(st,et);if((0,zt.x)(st))return function Te(st,et){return new it.c(bt=>{let Xt;return(0,be.N)(bt,et,()=>{Xt=st[De.l](),(0,be.N)(bt,et,()=>{let Dt,lt;try{({value:Dt,done:lt}=Xt.next())}catch(Bn){return void bt.error(Bn)}lt?bt.complete():bt.next(Dt)},0,!0)}),()=>(0,Ke.T)(Xt?.return)&&Xt.return()})}(st,et);if((0,vt.U)(st))return function Tt(st,et){return ht((0,vt.C)(st),et)}(st,et)}throw(0,tn.L)(st)}(st,et):(0,I.Tg)(st)}},8496:(Dn,Ge,j)=>{"use strict";function I(x,Z){return x.reduce(($,Me,it)=>($[Me]=Z[it],$),{})}j.d(Ge,{e:()=>I})},8750:(Dn,Ge,j)=>{"use strict";j.d(Ge,{Tg:()=>Xe});var I=j(1635),x=j(7441),Z=j(9858),$=j(1985),Me=j(5055),it=j(7953),Ie=j(591),De=j(5397),Ke=j(5196),be=j(8071),Te=j(5334),ht=j(3494);function Xe(Pt){if(Pt instanceof $.c)return Pt;if(null!=Pt){if((0,Me.l)(Pt))return function ft(Pt){return new $.c(Fe=>{const st=Pt[ht.s]();if((0,be.T)(st.subscribe))return st.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pt);if((0,x.X)(Pt))return function Mt(Pt){return new $.c(Fe=>{for(let st=0;st<Pt.length&&!Fe.closed;st++)Fe.next(Pt[st]);Fe.complete()})}(Pt);if((0,Z.y)(Pt))return function zt(Pt){return new $.c(Fe=>{Pt.then(st=>{Fe.closed||(Fe.next(st),Fe.complete())},st=>Fe.error(st)).then(null,Te.m)})}(Pt);if((0,it.T)(Pt))return tn(Pt);if((0,De.x)(Pt))return function jt(Pt){return new $.c(Fe=>{for(const st of Pt)if(Fe.next(st),Fe.closed)return;Fe.complete()})}(Pt);if((0,Ke.U)(Pt))return function vt(Pt){return tn((0,Ke.C)(Pt))}(Pt)}throw(0,Ie.L)(Pt)}function tn(Pt){return new $.c(Fe=>{(function Tt(Pt,Fe){var st,et,bt,Xt;return(0,I.sH)(this,void 0,void 0,function*(){try{for(st=(0,I.xN)(Pt);!(et=yield st.next()).done;)if(Fe.next(et.value),Fe.closed)return}catch(Dt){bt={error:Dt}}finally{try{et&&!et.done&&(Xt=st.return)&&(yield Xt.call(st))}finally{if(bt)throw bt.error}}Fe.complete()})})(Pt,Fe).catch(st=>Fe.error(st))})}},9270:(Dn,Ge,j)=>{"use strict";j.d(Ge,{f:()=>I});const I={setTimeout(x,Z,...$){const{delegate:Me}=I;return Me?.setTimeout?Me.setTimeout(x,Z,...$):setTimeout(x,Z,...$)},clearTimeout(x){const{delegate:Z}=I;return(Z?.clearTimeout||clearTimeout)(x)},delegate:void 0}},9326:(Dn,Ge,j)=>{"use strict";j.d(Ge,{lI:()=>Me,ms:()=>$});var I=j(8071),x=j(9470);function Z(Ie){return Ie[Ie.length-1]}function $(Ie){return(0,I.T)(Z(Ie))?Ie.pop():void 0}function Me(Ie){return(0,x.m)(Z(Ie))?Ie.pop():void 0}},9332:(Dn,Ge,j)=>{"use strict";j.d(Ge,{u:()=>Me});var I=j(8032),x=j.n(I),Z=j(1360),$=j(5794);let Me=(()=>{class it{toastr;constructor(De){this.toastr=De}success(De,Ke="\xc9xito"){x().fire({icon:"success",title:Ke,text:De,timer:2e3,showConfirmButton:!1})}error(De,Ke="Error"){x().fire({icon:"error",title:Ke,text:De})}warning(De,Ke="Atenci\xf3n"){x().fire({icon:"warning",title:Ke,text:De})}info(De,Ke="Informaci\xf3n"){x().fire({icon:"info",title:Ke,text:De})}confirm(De,Ke="\xbfEst\xe1s seguro?"){return x().fire({icon:"question",title:Ke,text:De,showCancelButton:!0,confirmButtonText:"S\xed",cancelButtonText:"No"})}showToastSuccess(De,Ke="\xc9xito"){this.toastr.success(De,Ke)}showToastError(De,Ke="Error"){this.toastr.error(De,Ke)}showToastInfo(De,Ke="Info"){this.toastr.info(De,Ke)}showToastWarning(De,Ke="Atenci\xf3n"){this.toastr.warning(De,Ke)}static \u0275fac=function(Ke){return new(Ke||it)(Z.KVO($.tw))};static \u0275prov=Z.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})()},9350:(Dn,Ge,j)=>{"use strict";j.d(Ge,{G:()=>x});const x=(0,j(1853).L)(Z=>function(){Z(this),this.name="EmptyError",this.message="no elements in sequence"})},9361:(Dn,Ge,j)=>{"use strict";j.d(Ge,{q:()=>x});const x=new(j(1360).nKC)("")},9377:(Dn,Ge,j)=>{"use strict";function I(Ie,De){De=encodeURIComponent(De);for(const Ke of Ie.split(";")){const be=Ke.indexOf("="),[Te,ht]=-1==be?[Ke,""]:[Ke.slice(0,be),Ke.slice(be+1)];if(Te.trim()===De)return decodeURIComponent(ht)}return null}j.d(Ge,{N0:()=>it,Vy:()=>Me,Zn:()=>x,bS:()=>I});const x="browser",Z="server";function Me(Ie){return Ie===Z}class it{}},9437:(Dn,Ge,j)=>{"use strict";j.d(Ge,{W:()=>$});var I=j(8750),x=j(4360),Z=j(9974);function $(Me){return(0,Z.N)((it,Ie)=>{let be,De=null,Ke=!1;De=it.subscribe((0,x._)(Ie,void 0,void 0,Te=>{be=(0,I.Tg)(Me(Te,$(Me)(it))),De?(De.unsubscribe(),De=null,be.subscribe(Ie)):Ke=!0})),Ke&&(De.unsubscribe(),De=null,be.subscribe(Ie))})}},9470:(Dn,Ge,j)=>{"use strict";j.d(Ge,{m:()=>x});var I=j(8071);function x(Z){return Z&&(0,I.T)(Z.schedule)}},9786:(Dn,Ge,j)=>{"use strict";j.d(Ge,{Y:()=>Z,l:()=>$});var I=j(1026);let x=null;function Z(Me){if(I.$.useDeprecatedSynchronousErrorHandling){const it=!x;if(it&&(x={errorThrown:!1,error:null}),Me(),it){const{errorThrown:Ie,error:De}=x;if(x=null,Ie)throw De}}else Me()}function $(Me){I.$.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=Me)}},9858:(Dn,Ge,j)=>{"use strict";j.d(Ge,{y:()=>x});var I=j(8071);function x(Z){return(0,I.T)(Z?.then)}},9885:(Dn,Ge,j)=>{"use strict";j.d(Ge,{D:()=>be});var I=j(9967),x=j(7673),Z=j(8455),$=j(6354),Me=j(9437),it=j(5558),Ie=j(1360),De=j(7643),Ke=j(4796);let be=(()=>{class Te{http;authService;firestore;usersCollectionName="users";constructor(Xe,ft,Mt){this.http=Xe,this.authService=ft,this.firestore=Mt,console.log("%c<<< Start USER service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getUserProfile(Xe){if(!Xe)return console.warn("\u26a0\ufe0f getUserProfile: UID no proporcionado."),(0,x.of)(void 0);const ft=(0,I.H9)(this.firestore,`${this.usersCollectionName}/${Xe}`);return console.log("\u{1f4c4} Obteniendo perfil para UID:",Xe),(0,I.Bg)(ft).pipe((0,$.T)(Mt=>{if(Mt)return console.log("\u2705 Perfil obtenido:",Mt),{...Mt,uid:Xe};console.warn("\u26a0\ufe0f No se encontr\xf3 perfil para UID:",Xe)}),(0,Me.W)(Mt=>(console.error("\u274c Error al obtener el perfil del usuario:",Mt),(0,x.of)(void 0))))}createUserProfile(Xe){if(!Xe.uid)return(0,Z.H)(Promise.reject("\u274c createUserProfile: UID del usuario es requerido."));const ft=new Date,Mt={...Xe,created_at:ft,createdDate:ft},zt=(0,I.H9)(this.firestore,`${this.usersCollectionName}/${Xe.uid}`);return console.log("\u{1f4dd} Creando perfil para usuario:",Mt),(0,Z.H)((0,I.BN)(zt,Mt))}updateUserProfile(Xe,ft){if(!Xe)return(0,Z.H)(Promise.reject("\u274c updateUserProfile: UID no proporcionado."));const Mt=(0,I.H9)(this.firestore,`${this.usersCollectionName}/${Xe}`);return console.log("\u{1f504} Actualizando perfil UID:",Xe,"con datos:",ft),(0,Z.H)((0,I.mZ)(Mt,ft))}deleteUserProfile(Xe){if(!Xe)return(0,Z.H)(Promise.reject("\u274c deleteUserProfile: UID no proporcionado."));const ft=(0,I.H9)(this.firestore,`${this.usersCollectionName}/${Xe}`);return console.log("\u{1f5d1} Eliminando perfil UID:",Xe),(0,Z.H)((0,I.kd)(ft))}getUserData(Xe){return this.authService.getAuthState().pipe((0,it.n)(ft=>{if(console.log("\u{1f4e1} authService.getAuthState() emiti\xf3:",ft),ft&&ft.uid){const Mt=(0,I.H9)(this.firestore,`${this.usersCollectionName}/${ft.uid}`);return(0,I.Bg)(Mt).pipe((0,$.T)(zt=>({...zt,uid:ft.uid})))}return console.warn("\u26a0\ufe0f Usuario no autenticado o sesi\xf3n expirada"),(0,x.of)(null)}))}getAllUsers(){const Xe=(0,I.rJ)(this.firestore,"users");return(0,I.xs)(Xe,{idField:"uid"})}toggleUserStatus(Xe,ft){const Mt=(0,I.H9)(this.firestore,`users/${Xe}`);return(0,I.mZ)(Mt,{activo:ft})}updateUserRole(Xe,ft){const Mt=(0,I.H9)(this.firestore,`users/${Xe}`);return(0,I.mZ)(Mt,{rol:ft})}getCurrentUserUid(){return this.authService.getAuthState().pipe((0,$.T)(Xe=>Xe?.uid||null))}getCurrentUserRole(){return this.authService.getAuthState().pipe((0,it.n)(Xe=>{if(Xe&&Xe.uid){const ft=(0,I.H9)(this.firestore,`${this.usersCollectionName}/${Xe.uid}`);return(0,I.Bg)(ft).pipe((0,$.T)(Mt=>Mt.rol||null))}return console.warn("\u26a0\ufe0f No hay usuario autenticado"),(0,x.of)(null)}),(0,Me.W)(Xe=>(console.error("\u274c Error al obtener el rol:",Xe),(0,x.of)(null))))}getExecutives(){const Xe=(0,I.P)((0,I.rJ)(this.firestore,this.usersCollectionName),(0,I._M)("rol","==","Ejecutivo"));return(0,I.xs)(Xe,{idField:"uid"})}static \u0275fac=function(ft){return new(ft||Te)(Ie.KVO(De.Qq),Ie.KVO(Ke.u),Ie.KVO(I._7))};static \u0275prov=Ie.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})()},9967:(Dn,Ge,j)=>{"use strict";j.d(Ge,{_7:()=>mt,rJ:()=>gn,xs:()=>tr,kd:()=>xr,H9:()=>Yt,Bg:()=>Yn,x7:()=>gi,aU:()=>Ki,hV:()=>se,P:()=>Se,BN:()=>nt,mZ:()=>Ct,_M:()=>Ue});var I=j(2967),x=j(1360),Z=j(7440),$=j(4125),Me=j(6335),it=j(2214),Ie=j(3273),De=j(1985),Ke=j(6354),be=function(){return be=Object.assign||function(_t){for(var Ft,an=1,jn=arguments.length;an<jn;an++)for(var hn in Ft=arguments[an])Object.prototype.hasOwnProperty.call(Ft,hn)&&(_t[hn]=Ft[hn]);return _t},be.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var ht={includeMetadataChanges:!1};function Xe(It,_t){return void 0===_t&&(_t=ht),new De.c(function(Ft){return{unsubscribe:(0,Ie.aQ)(It,_t,{next:Ft.next.bind(Ft),error:Ft.error.bind(Ft),complete:Ft.complete.bind(Ft)})}})}function Mt(It,_t){return void 0===_t&&(_t={}),function ft(It){return Xe(It,{includeMetadataChanges:!0})}(It).pipe((0,Ke.T)(function(Ft){return zt(Ft,_t)}))}function zt(It,_t){var Ft;void 0===_t&&(_t={});var an=It.data(_t);return It.exists()&&"object"==typeof an&&null!==an&&_t.idField?be(be({},an),((Ft={})[_t.idField]=It.id,Ft)):an}function Bn(It,_t){return void 0===_t&&(_t={}),function Xt(It){return Xe(It,{includeMetadataChanges:!0}).pipe((0,Ke.T)(function(_t){return _t.docs}))}(It).pipe((0,Ke.T)(function(Ft){return Ft.map(function(an){return zt(an,_t)})}))}class mt{constructor(_t){return _t}}const In="firestore",xt=new x.nKC("angularfire2.firestore-instances");function ne(It){return(_t,Ft)=>{const an=_t.runOutsideAngular(()=>It(Ft));return new mt(an)}}const fe={provide:class tt{constructor(){return(0,I.CA)(In)}},deps:[[new x.Xx1,xt]]},pe={provide:mt,useFactory:function Qe(It,_t){const Ft=(0,I.lR)(In,It,_t);return Ft&&new mt(Ft)},deps:[[new x.Xx1,xt],Z.XU]};function se(It,..._t){return(0,it.KO)("angularfire",I.xv.full,"fst"),(0,x.EmA)([pe,fe,{provide:xt,useFactory:ne(It),multi:!0,deps:[x.SKi,x.zZn,I.u0,Z.gL,[new x.Xx1,Me.DF],[new x.Xx1,$.kR],..._t]}])}const tr=(0,I.S3)(Bn,!0),Yn=(0,I.S3)(Mt,!0),gn=(0,I.S3)(Ie.rJ,!0,2),xr=(0,I.S3)(Ie.kd,!0,2),Yt=(0,I.S3)(Ie.H9,!0,2),gi=(0,I.S3)(Ie.x7,!0),Ki=(0,I.S3)(Ie.aU,!0),Se=(0,I.S3)(Ie.P,!0,2),nt=(0,I.S3)(Ie.BN,!0,2),Ct=(0,I.S3)(Ie.mZ,!0,2),Ue=(0,I.S3)(Ie._M,!0,2)},9974:(Dn,Ge,j)=>{"use strict";j.d(Ge,{N:()=>Z,S:()=>x});var I=j(8071);function x($){return(0,I.T)($?.lift)}function Z($){return Me=>{if(x(Me))return Me.lift(function(it){try{return $(it,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}}},Dn=>{Dn(Dn.s=5961)}]);