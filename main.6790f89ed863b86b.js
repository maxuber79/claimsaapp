(self.webpackChunkclaims_app=self.webpackChunkclaims_app||[]).push([[792],{274:(Dn,We,H)=>{"use strict";H.d(We,{H:()=>Y});var b=H(1397),O=H(8071);function Y(T,Pe){return(0,O.T)(Pe)?(0,b.Z)(T,Pe,1):(0,b.Z)(T,1)}},345:(Dn,We,H)=>{"use strict";H.d(We,{hE:()=>Pe,up:()=>It});var b=H(9361),O=H(1360);let Pe=(()=>{class gt{_doc;constructor(et){this._doc=et}getTitle(){return this._doc.title}setTitle(et){this._doc.title=et||""}static \u0275fac=function(sn){return new(sn||gt)(O.KVO(b.q))};static \u0275prov=O.jDH({token:gt,factory:gt.\u0275fac,providedIn:"root"})}return gt})(),It=(()=>{class gt{static \u0275fac=function(sn){return new(sn||gt)};static \u0275prov=O.jDH({token:gt,factory:function(sn){let kt=null;return kt=sn?new(sn||gt):O.KVO(Rt),kt},providedIn:"root"})}return gt})(),Rt=(()=>{class gt extends It{_doc;constructor(et){super(),this._doc=et}sanitize(et,sn){if(null==sn)return null;switch(et){case O.WPN.NONE:return sn;case O.WPN.HTML:return(0,O.ZF7)(sn,"HTML")?(0,O.rcV)(sn):(0,O.h9k)(this._doc,String(sn)).toString();case O.WPN.STYLE:return(0,O.ZF7)(sn,"Style")?(0,O.rcV)(sn):sn;case O.WPN.SCRIPT:if((0,O.ZF7)(sn,"Script"))return(0,O.rcV)(sn);throw new O.wOt(5200,!1);case O.WPN.URL:return(0,O.ZF7)(sn,"URL")?(0,O.rcV)(sn):(0,O.$MX)(String(sn));case O.WPN.RESOURCE_URL:if((0,O.ZF7)(sn,"ResourceURL"))return(0,O.rcV)(sn);throw new O.wOt(5201,!1);default:throw new O.wOt(5202,!1)}}bypassSecurityTrustHtml(et){return(0,O.Kcf)(et)}bypassSecurityTrustStyle(et){return(0,O.cWb)(et)}bypassSecurityTrustScript(et){return(0,O.UyX)(et)}bypassSecurityTrustUrl(et){return(0,O.osQ)(et)}bypassSecurityTrustResourceUrl(et){return(0,O.e5t)(et)}static \u0275fac=function(sn){return new(sn||gt)(O.KVO(b.q))};static \u0275prov=O.jDH({token:gt,factory:gt.\u0275fac,providedIn:"root"})}return gt})()},467:(Dn,We,H)=>{"use strict";function b(Y,T,Pe,rt,Ie,De,Ge){try{var be=Y[De](Ge),Te=be.value}catch(dt){return void Pe(dt)}be.done?T(Te):Promise.resolve(Te).then(rt,Ie)}function O(Y){return function(){var T=this,Pe=arguments;return new Promise(function(rt,Ie){var De=Y.apply(T,Pe);function Ge(Te){b(De,rt,Ie,Ge,be,"next",Te)}function be(Te){b(De,rt,Ie,Ge,be,"throw",Te)}Ge(void 0)})}}H.d(We,{A:()=>O})},520:(Dn,We,H)=>{"use strict";H.d(We,{eJ:()=>Va,xI:()=>Zl,hg:()=>v,J1:()=>bi,x9:()=>Wr,CI:()=>Z});var b=H(467),O=H(7852),Y=H(6858),T=H(8041),Pe=H(1635),rt=H(1362);const Pt=function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},zt=new Y.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),en=new T.Vy("@firebase/auth");function It(D,...d){en.logLevel<=T.$b.ERROR&&en.error(`Auth (${O.MF}): ${D}`,...d)}function Rt(D,...d){throw Qt(D,...d)}function Oe(D,...d){return Qt(D,...d)}function st(D,d,p){const S=Object.assign(Object.assign({},Pt()),{[d]:p});return new Y.FA("auth","Firebase",S).create(d,{appName:D.name})}function Je(D){return st(D,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qt(D,...d){if("string"!=typeof D){const p=d[0],S=[...d.slice(1)];return S[0]&&(S[0].appName=D.name),D._errorFactory.create(p,...S)}return zt.create(D,...d)}function bt(D,d,...p){if(!D)throw Qt(d,...p)}function ut(D){const d="INTERNAL ASSERTION FAILED: "+D;throw It(d),new Error(d)}function Un(D,d){D||ut(d)}function kn(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function gt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class sn{constructor(d,p){this.shortDelay=d,this.longDelay=p,Un(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,Y.jZ)()||(0,Y.lV)()}get(){return function In(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function qn(){return"http:"===gt()||"https:"===gt()}()||(0,Y.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kt(D,d){Un(D.emulator,"Emulator should always be set here");const{url:p}=D.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class Qe{static initialize(d,p,S){this.fetchImpl=d,p&&(this.headersImpl=p),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ut("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ut("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ut("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pe=new sn(3e4,6e4);function ye(D,d){return D.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:D.tenantId}):d}function oe(D,d,p,S){return ge.apply(this,arguments)}function ge(){return(ge=(0,b.A)(function*(D,d,p,S,B={}){return Ze(D,B,(0,b.A)(function*(){let re={},Ue={};S&&("GET"===d?Ue=S:re={body:JSON.stringify(S)});const nt=(0,Y.Am)(Object.assign({key:D.config.apiKey},Ue)).slice(1),Ht=yield D._getAdditionalHeaders();Ht["Content-Type"]="application/json",D.languageCode&&(Ht["X-Firebase-Locale"]=D.languageCode);const mn=Object.assign({method:d,headers:Ht},re);return(0,Y.c1)()||(mn.referrerPolicy="no-referrer"),D.emulatorConfig&&(0,Y.zJ)(D.emulatorConfig.host)&&(mn.credentials="include"),Qe.fetch()(yield Jn(D,D.config.apiHost,p,nt),mn)}))})).apply(this,arguments)}function Ze(D,d,p){return vt.apply(this,arguments)}function vt(){return(vt=(0,b.A)(function*(D,d,p){D._canInitEmulator=!1;const S=Object.assign(Object.assign({},te),d);try{const B=new zn(D),re=yield Promise.race([p(),B.promise]);B.clearNetworkTimeout();const Ue=yield re.json();if("needConfirmation"in Ue)throw Yt(D,"account-exists-with-different-credential",Ue);if(re.ok&&!("errorMessage"in Ue))return Ue;{const nt=re.ok?Ue.errorMessage:Ue.error.message,[Ht,mn]=nt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ht)throw Yt(D,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===Ht)throw Yt(D,"email-already-in-use",Ue);if("USER_DISABLED"===Ht)throw Yt(D,"user-disabled",Ue);const Hn=S[Ht]||Ht.toLowerCase().replace(/[_\s]+/g,"-");if(mn)throw st(D,Hn,mn);Rt(D,Hn)}}catch(B){if(B instanceof Y.g)throw B;Rt(D,"network-request-failed",{message:String(B)})}})).apply(this,arguments)}function cn(D,d,p,S){return tn.apply(this,arguments)}function tn(){return(tn=(0,b.A)(function*(D,d,p,S,B={}){const re=yield oe(D,d,p,S,B);return"mfaPendingCredential"in re&&Rt(D,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function Jn(D,d,p,S){return qt.apply(this,arguments)}function qt(){return(qt=(0,b.A)(function*(D,d,p,S){const B=`${d}${p}?${S}`,re=D,Ue=re.config.emulator?kt(D.config,B):`${D.config.apiScheme}://${B}`;return fe.includes(p)&&(yield re._persistenceManagerAvailable,"COOKIE"===re._getPersistenceType())?re._getPersistence()._getFinalTarget(Ue).toString():Ue})).apply(this,arguments)}function Xn(D){switch(D){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,S)=>{this.timer=setTimeout(()=>S(Oe(this.auth,"network-request-failed")),pe.get())})}}function Yt(D,d,p){const S={appName:D.name};p.email&&(S.email=p.email),p.phoneNumber&&(S.phoneNumber=p.phoneNumber);const B=Oe(D,d,S);return B.customData._tokenResponse=p,B}function er(D){return void 0!==D&&void 0!==D.enterprise}class An{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===d)return Xn(p.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function pn(){return(pn=(0,b.A)(function*(D,d){return oe(D,"GET","/v2/recaptchaConfig",ye(D,d))})).apply(this,arguments)}function un(){return(un=(0,b.A)(function*(D,d){return oe(D,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function ft(D,d){return Er.apply(this,arguments)}function Er(){return(Er=(0,b.A)(function*(D,d){return oe(D,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Qn(D){if(D)try{const d=new Date(Number(D));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function li(){return(li=(0,b.A)(function*(D,d=!1){const p=(0,Y.Ku)(D),S=yield p.getIdToken(d),B=Tr(S);bt(B&&B.exp&&B.auth_time&&B.iat,p.auth,"internal-error");const re="object"==typeof B.firebase?B.firebase:void 0,Ue=re?.sign_in_provider;return{claims:B,token:S,authTime:Qn(gi(B.auth_time)),issuedAtTime:Qn(gi(B.iat)),expirationTime:Qn(gi(B.exp)),signInProvider:Ue||null,signInSecondFactor:re?.sign_in_second_factor||null}})).apply(this,arguments)}function gi(D){return 1e3*Number(D)}function Tr(D){const[d,p,S]=D.split(".");if(void 0===d||void 0===p||void 0===S)return It("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,Y.u)(p);return B?JSON.parse(B):(It("Failed to decode base64 JWT payload"),null)}catch(B){return It("Caught error parsing JWT payload as JSON",B?.toString()),null}}function Ei(D){const d=Tr(D);return bt(d,"internal-error"),bt(typeof d.exp<"u","internal-error"),bt(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function Ar(D,d){return di.apply(this,arguments)}function di(){return(di=(0,b.A)(function*(D,d,p=!1){if(p)return d;try{return yield d}catch(S){throw S instanceof Y.g&&function ur({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(S)&&D.auth.currentUser===D&&(yield D.auth.signOut()),S}})).apply(this,arguments)}class sr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const B=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const S=this.getInterval(d);this.timerId=setTimeout((0,b.A)(function*(){yield p.iteration()}),S)}iteration(){var d=this;return(0,b.A)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class mi{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qn(this.lastLoginAt),this.creationTime=Qn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function lr(D){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,b.A)(function*(D){var d;const p=D.auth,S=yield D.getIdToken(),B=yield Ar(D,ft(p,{idToken:S}));bt(B?.users.length,p,"internal-error");const re=B.users[0];D._notifyReloadListener(re);const Ue=null!==(d=re.providerUserInfo)&&void 0!==d&&d.length?qi(re.providerUserInfo):[],nt=function Gn(D,d){return[...D.filter(S=>!d.some(B=>B.providerId===S.providerId)),...d]}(D.providerData,Ue),Hn=!!D.isAnonymous&&!(D.email&&re.passwordHash||nt?.length),Wn={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:nt,metadata:new mi(re.createdAt,re.lastLoginAt),isAnonymous:Hn};Object.assign(D,Wn)})).apply(this,arguments)}function Nr(){return(Nr=(0,b.A)(function*(D){const d=(0,Y.Ku)(D);yield lr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function qi(D){return D.map(d=>{var{providerId:p}=d,S=(0,Pe.Tt)(d,["providerId"]);return{providerId:p,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function Dr(){return(Dr=(0,b.A)(function*(D,d){const p=yield Ze(D,{},(0,b.A)(function*(){const S=(0,Y.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:B,apiKey:re}=D.config,Ue=yield Jn(D,B,"/v1/token",`key=${re}`),nt=yield D._getAdditionalHeaders();return nt["Content-Type"]="application/x-www-form-urlencoded",Qe.fetch()(Ue,{method:"POST",headers:nt,body:S})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function ii(){return(ii=(0,b.A)(function*(D,d){return oe(D,"POST","/v2/accounts:revokeToken",ye(D,d))})).apply(this,arguments)}class Oi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){bt(d.idToken,"internal-error"),bt(typeof d.idToken<"u","internal-error"),bt(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):Ei(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}updateFromIdToken(d){bt(0!==d.length,"internal-error");const p=Ei(d);this.updateTokensAndExpiration(d,null,p)}getToken(d){var p=this;return(0,b.A)(function*(S,B=!1){return B||!p.accessToken||p.isExpired?(bt(p.refreshToken,S,"user-token-expired"),p.refreshToken?(yield p.refresh(S,p.refreshToken),p.accessToken):null):p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var S=this;return(0,b.A)(function*(){const{accessToken:B,refreshToken:re,expiresIn:Ue}=yield function Be(D,d){return Dr.apply(this,arguments)}(d,p);S.updateTokensAndExpiration(B,re,Number(Ue))})()}updateTokensAndExpiration(d,p,S){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(d,p){const{refreshToken:S,accessToken:B,expirationTime:re}=p,Ue=new Oi;return S&&(bt("string"==typeof S,"internal-error",{appName:d}),Ue.refreshToken=S),B&&(bt("string"==typeof B,"internal-error",{appName:d}),Ue.accessToken=B),re&&(bt("number"==typeof re,"internal-error",{appName:d}),Ue.expirationTime=re),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Oi,this.toJSON())}_performRefresh(){return ut("not implemented")}}function _n(D,d){bt("string"==typeof D||typeof D>"u","internal-error",{appName:d})}class fr{constructor(d){var{uid:p,auth:S,stsTokenManager:B}=d,re=(0,Pe.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=S,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new mi(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,b.A)(function*(){const S=yield Ar(p,p.stsTokenManager.getToken(p.auth,d));return bt(S,p.auth,"internal-error"),p.accessToken!==S&&(p.accessToken=S,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),S})()}getIdTokenResult(d){return function ri(D){return li.apply(this,arguments)}(this,d)}reload(){return function Ti(D){return Nr.apply(this,arguments)}(this)}_assign(d){this!==d&&(bt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new fr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d){var p=this;return(0,b.A)(function*(S,B=!1){let re=!1;S.idToken&&S.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(S),re=!0),B&&(yield lr(p)),yield p.auth._persistUserIfCurrent(p),re&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var d=this;return(0,b.A)(function*(){if((0,O.xZ)(d.auth.app))return Promise.reject(Je(d.auth));const p=yield d.getIdToken();return yield Ar(d,function dr(D,d){return un.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var S,B,re,Ue,nt,Ht,mn,Hn;const Wn=null!==(S=p.displayName)&&void 0!==S?S:void 0,Sr=null!==(B=p.email)&&void 0!==B?B:void 0,Ds=null!==(re=p.phoneNumber)&&void 0!==re?re:void 0,Ji=null!==(Ue=p.photoURL)&&void 0!==Ue?Ue:void 0,Wc=null!==(nt=p.tenantId)&&void 0!==nt?nt:void 0,Yl=null!==(Ht=p._redirectEventId)&&void 0!==Ht?Ht:void 0,go=null!==(mn=p.createdAt)&&void 0!==mn?mn:void 0,Dg=null!==(Hn=p.lastLoginAt)&&void 0!==Hn?Hn:void 0,{uid:Ju,emailVerified:Ag,isAnonymous:mu,providerData:Fo,stsTokenManager:yh}=p;bt(Ju&&yh,d,"internal-error");const Uf=Oi.fromJSON(this.name,yh);bt("string"==typeof Ju,d,"internal-error"),_n(Wn,d.name),_n(Sr,d.name),bt("boolean"==typeof Ag,d,"internal-error"),bt("boolean"==typeof mu,d,"internal-error"),_n(Ds,d.name),_n(Ji,d.name),_n(Wc,d.name),_n(Yl,d.name),_n(go,d.name),_n(Dg,d.name);const mo=new fr({uid:Ju,auth:d,email:Sr,emailVerified:Ag,displayName:Wn,isAnonymous:mu,photoURL:Ji,phoneNumber:Ds,tenantId:Wc,stsTokenManager:Uf,createdAt:go,lastLoginAt:Dg});return Fo&&Array.isArray(Fo)&&(mo.providerData=Fo.map(Gc=>Object.assign({},Gc))),Yl&&(mo._redirectEventId=Yl),mo}static _fromIdTokenResponse(d,p){return(0,b.A)(function*(S,B,re=!1){const Ue=new Oi;Ue.updateFromServerResponse(B);const nt=new fr({uid:B.localId,auth:S,stsTokenManager:Ue,isAnonymous:re});return yield lr(nt),nt}).apply(this,arguments)}static _fromGetAccountInfoResponse(d,p,S){return(0,b.A)(function*(){const B=p.users[0];bt(void 0!==B.localId,"internal-error");const re=void 0!==B.providerUserInfo?qi(B.providerUserInfo):[],Ue=!(B.email&&B.passwordHash||re?.length),nt=new Oi;nt.updateFromIdToken(S);const Ht=new fr({uid:B.localId,auth:d,stsTokenManager:nt,isAnonymous:Ue}),mn={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:re,metadata:new mi(B.createdAt,B.lastLoginAt),isAnonymous:!(B.email&&B.passwordHash||re?.length)};return Object.assign(Ht,mn),Ht})()}}const wr=new Map;function Fi(D){Un(D instanceof Function,"Expected a class definition");let d=wr.get(D);return d?(Un(d instanceof D,"Instance stored in cache mismatched with class"),d):(d=new D,wr.set(D,d),d)}const Vi=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.A)(function*(){return!0})()}_set(p,S){var B=this;return(0,b.A)(function*(){B.storage[p]=S})()}_get(p){var S=this;return(0,b.A)(function*(){const B=S.storage[p];return void 0===B?null:B})()}_remove(p){var S=this;return(0,b.A)(function*(){delete S.storage[p]})()}_addListener(p,S){}_removeListener(p,S){}}return D.type="NONE",D})();function Ce(D,d,p){return`firebase:${D}:${d}:${p}`}class _e{constructor(d,p,S){this.persistence=d,this.auth=p,this.userKey=S;const{config:B,name:re}=this.auth;this.fullUserKey=Ce(this.userKey,B.apiKey,re),this.fullPersistenceKey=Ce("persistence",B.apiKey,re),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,b.A)(function*(){const p=yield d.persistence._get(d.fullUserKey);if(!p)return null;if("string"==typeof p){const S=yield ft(d.auth,{idToken:p}).catch(()=>{});return S?fr._fromGetAccountInfoResponse(d.auth,S,p):null}return fr._fromJSON(d.auth,p)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,b.A)(function*(){if(p.persistence===d)return;const S=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,S?p.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p){return(0,b.A)(function*(S,B,re="authUser"){if(!B.length)return new _e(Fi(Vi),S,re);const Ue=(yield Promise.all(B.map(function(){var Wn=(0,b.A)(function*(Sr){if(yield Sr._isAvailable())return Sr});return function(Sr){return Wn.apply(this,arguments)}}()))).filter(Wn=>Wn);let nt=Ue[0]||Fi(Vi);const Ht=Ce(re,S.config.apiKey,S.name);let mn=null;for(const Wn of B)try{const Sr=yield Wn._get(Ht);if(Sr){let Ds;if("string"==typeof Sr){const Ji=yield ft(S,{idToken:Sr}).catch(()=>{});if(!Ji)break;Ds=yield fr._fromGetAccountInfoResponse(S,Ji,Sr)}else Ds=fr._fromJSON(S,Sr);Wn!==nt&&(mn=Ds),nt=Wn;break}}catch{}const Hn=Ue.filter(Wn=>Wn._shouldAllowMigration);return nt._shouldAllowMigration&&Hn.length?(nt=Hn[0],mn&&(yield nt._set(Ht,mn.toJSON())),yield Promise.all(B.map(function(){var Wn=(0,b.A)(function*(Sr){if(Sr!==nt)try{yield Sr._remove(Ht)}catch{}});return function(Sr){return Wn.apply(this,arguments)}}())),new _e(nt,S,re)):new _e(nt,S,re)}).apply(this,arguments)}}function $e(D){const d=D.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Pn(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Vt(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(se(d))return"Blackberry";if(le(d))return"Webos";if(tt(d))return"Safari";if((d.includes("chrome/")||Jt(d))&&!d.includes("edge/"))return"Chrome";if(pr(d))return"Android";{const S=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function Vt(D=(0,Y.ZQ)()){return/firefox\//i.test(D)}function tt(D=(0,Y.ZQ)()){const d=D.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Jt(D=(0,Y.ZQ)()){return/crios\//i.test(D)}function Pn(D=(0,Y.ZQ)()){return/iemobile/i.test(D)}function pr(D=(0,Y.ZQ)()){return/android/i.test(D)}function se(D=(0,Y.ZQ)()){return/blackberry/i.test(D)}function le(D=(0,Y.ZQ)()){return/webos/i.test(D)}function Re(D=(0,Y.ZQ)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function ve(D=(0,Y.ZQ)()){return Re(D)||pr(D)||le(D)||se(D)||/windows phone/i.test(D)||Pn(D)}function Ve(D,d=[]){let p;switch(D){case"Browser":p=$e((0,Y.ZQ)());break;case"Worker":p=`${$e((0,Y.ZQ)())}-${D}`;break;default:p=D}const S=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${O.MF}/${S}`}class Mt{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const S=re=>new Promise((Ue,nt)=>{try{Ue(d(re))}catch(Ht){nt(Ht)}});S.onAbort=p,this.queue.push(S);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,b.A)(function*(){if(p.auth.currentUser===d)return;const S=[];try{for(const B of p.queue)yield B(d),B.onAbort&&S.push(B.onAbort)}catch(B){S.reverse();for(const re of S)try{re()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:B?.message})}})()}}function yt(){return(yt=(0,b.A)(function*(D,d={}){return oe(D,"GET","/v2/passwordPolicy",ye(D,d))})).apply(this,arguments)}class on{constructor(d){var p,S,B,re;const Ue=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=Ue.minPasswordLength)&&void 0!==p?p:6,Ue.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ue.maxPasswordLength),void 0!==Ue.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ue.containsLowercaseCharacter),void 0!==Ue.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ue.containsUppercaseCharacter),void 0!==Ue.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ue.containsNumericCharacter),void 0!==Ue.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ue.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(B=null===(S=d.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==B?B:"",this.forceUpgradeOnSignin=null!==(re=d.forceUpgradeOnSignin)&&void 0!==re&&re,this.schemaVersion=d.schemaVersion}validatePassword(d){var p,S,B,re,Ue,nt;const Ht={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,Ht),this.validatePasswordCharacterOptions(d,Ht),Ht.isValid&&(Ht.isValid=null===(p=Ht.meetsMinPasswordLength)||void 0===p||p),Ht.isValid&&(Ht.isValid=null===(S=Ht.meetsMaxPasswordLength)||void 0===S||S),Ht.isValid&&(Ht.isValid=null===(B=Ht.containsLowercaseLetter)||void 0===B||B),Ht.isValid&&(Ht.isValid=null===(re=Ht.containsUppercaseLetter)||void 0===re||re),Ht.isValid&&(Ht.isValid=null===(Ue=Ht.containsNumericCharacter)||void 0===Ue||Ue),Ht.isValid&&(Ht.isValid=null===(nt=Ht.containsNonAlphanumericCharacter)||void 0===nt||nt),Ht}validatePasswordLengthOptions(d,p){const S=this.customStrengthOptions.minPasswordLength,B=this.customStrengthOptions.maxPasswordLength;S&&(p.meetsMinPasswordLength=d.length>=S),B&&(p.meetsMaxPasswordLength=d.length<=B)}validatePasswordCharacterOptions(d,p){let S;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let B=0;B<d.length;B++)S=d.charAt(B),this.updatePasswordCharacterOptionsStatuses(p,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(d,p,S,B,re){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=B)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=re))}}class Bn{constructor(d,p,S,B){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=S,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kn(this),this.idTokenSubscription=new Kn(this),this.beforeStateQueue=new Mt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=B.sdkClientVersion,this._persistenceManagerAvailable=new Promise(re=>this._resolvePersistenceManagerAvailable=re)}_initializeWithPersistence(d,p){var S=this;return p&&(this._popupRedirectResolver=Fi(p)),this._initializationPromise=this.queue((0,b.A)(function*(){var B,re,Ue;if(!S._deleted&&(S.persistenceManager=yield _e.create(S,d),null===(B=S._resolvePersistenceManagerAvailable)||void 0===B||B.call(S),!S._deleted)){if(null!==(re=S._popupRedirectResolver)&&void 0!==re&&re._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(p),S.lastNotifiedUid=(null===(Ue=S.currentUser)||void 0===Ue?void 0:Ue.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,b.A)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(d){var p=this;return(0,b.A)(function*(){try{const S=yield ft(p,{idToken:d}),B=yield fr._fromGetAccountInfoResponse(p,S,d);yield p.directlySetCurrentUser(B)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var p=this;return(0,b.A)(function*(){var S;if((0,O.xZ)(p.app)){const nt=p.app.settings.authIdToken;return nt?new Promise(Ht=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(nt).then(Ht,Ht))}):p.directlySetCurrentUser(null)}const B=yield p.assertedPersistence.getCurrentUser();let re=B,Ue=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const nt=null===(S=p.redirectUser)||void 0===S?void 0:S._redirectEventId,Ht=re?._redirectEventId,mn=yield p.tryRedirectSignIn(d);(!nt||nt===Ht)&&mn?.user&&(re=mn.user,Ue=!0)}if(!re)return p.directlySetCurrentUser(null);if(!re._redirectEventId){if(Ue)try{yield p.beforeStateQueue.runMiddleware(re)}catch(nt){re=B,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(nt))}return re?p.reloadAndSetCurrentUserOrClear(re):p.directlySetCurrentUser(null)}return bt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===re._redirectEventId?p.directlySetCurrentUser(re):p.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(d){var p=this;return(0,b.A)(function*(){let S=null;try{S=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,b.A)(function*(){try{yield lr(d)}catch(S){if("auth/network-request-failed"!==S?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function et(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var d=this;return(0,b.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,b.A)(function*(){if((0,O.xZ)(p.app))return Promise.reject(Je(p));const S=d?(0,Y.Ku)(d):null;return S&&bt(S.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(S&&S._clone(p))})()}_updateCurrentUser(d){var p=this;return(0,b.A)(function*(S,B=!1){if(!p._deleted)return S&&bt(p.tenantId===S.tenantId,p,"tenant-id-mismatch"),B||(yield p.beforeStateQueue.runMiddleware(S)),p.queue((0,b.A)(function*(){yield p.directlySetCurrentUser(S),p.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var d=this;return(0,b.A)(function*(){return(0,O.xZ)(d.app)?Promise.reject(Je(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var p=this;return(0,O.xZ)(this.app)?Promise.reject(Je(this)):this.queue((0,b.A)(function*(){yield p.assertedPersistence.setPersistence(Fi(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var p=this;return(0,b.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const S=p._getPasswordPolicyInternal();return S.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,b.A)(function*(){const p=yield function wt(D){return yt.apply(this,arguments)}(d),S=new on(p);null===d.tenantId?d._projectPasswordPolicy=S:d._tenantPasswordPolicies[d.tenantId]=S})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(d){this._errorFactory=new Y.FA("auth","Firebase",d())}onAuthStateChanged(d,p,S){return this.registerStateListener(this.authStateSubscription,d,p,S)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,S){return this.registerStateListener(this.idTokenSubscription,d,p,S)}authStateReady(){return new Promise((d,p)=>{if(this.currentUser)d();else{const S=this.onAuthStateChanged(()=>{S(),d()},p)}})}revokeAccessToken(d){var p=this;return(0,b.A)(function*(){if(p.currentUser){const S=yield p.currentUser.getIdToken(),B={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:S};null!=p.tenantId&&(B.tenantId=p.tenantId),yield function Qi(D,d){return ii.apply(this,arguments)}(p,B)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var S=this;return(0,b.A)(function*(){const B=yield S.getOrInitRedirectPersistenceManager(p);return null===d?B.removeCurrentUser():B.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,b.A)(function*(){if(!p.redirectPersistenceManager){const S=d&&Fi(d)||p._popupRedirectResolver;bt(S,p,"argument-error"),p.redirectPersistenceManager=yield _e.create(p,[Fi(S._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,b.A)(function*(){var S,B;return p._isInitialized&&(yield p.queue((0,b.A)(function*(){}))),(null===(S=p._currentUser)||void 0===S?void 0:S._redirectEventId)===d?p._currentUser:(null===(B=p.redirectUser)||void 0===B?void 0:B._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,b.A)(function*(){if(d===p.currentUser)return p.queue((0,b.A)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,S,B){if(this._deleted)return()=>{};const re="function"==typeof p?p:p.next.bind(p);let Ue=!1;const nt=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(nt,this,"internal-error"),nt.then(()=>{Ue||re(this.currentUser)}),"function"==typeof p){const Ht=d.addObserver(p,S,B);return()=>{Ue=!0,Ht()}}{const Ht=d.addObserver(p);return()=>{Ue=!0,Ht()}}}directlySetCurrentUser(d){var p=this;return(0,b.A)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Ve(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,b.A)(function*(){var p;const S={"X-Client-Version":d.clientVersion};d.app.options.appId&&(S["X-Firebase-gmpid"]=d.app.options.appId);const B=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();B&&(S["X-Firebase-Client"]=B);const re=yield d._getAppCheckToken();return re&&(S["X-Firebase-AppCheck"]=re),S})()}_getAppCheckToken(){var d=this;return(0,b.A)(function*(){var p;if((0,O.xZ)(d.app)&&d.app.settings.appCheckToken)return d.app.settings.appCheckToken;const S=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return S?.error&&function _t(D,...d){en.logLevel<=T.$b.WARN&&en.warn(`Auth (${O.MF}): ${D}`,...d)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function dn(D){return(0,Y.Ku)(D)}class Kn{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Y.tD)(p=>this.observer=p)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let or={loadJS:()=>(0,b.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Si(D){return or.loadJS(D)}function $t(D){return`__${D}${Math.floor(1e6*Math.random())}`}class tr{constructor(){this.enterprise=new $r}ready(d){d()}execute(d,p){return Promise.resolve("token")}render(d,p){return""}}class $r{ready(d){d()}execute(d,p){return Promise.resolve("token")}render(d,p){return""}}const Hi="NO_RECAPTCHA";class Ls{constructor(d){this.type="recaptcha-enterprise",this.auth=dn(d)}verify(){var d=this;return(0,b.A)(function*(p="verify",S=!1){function re(){return re=(0,b.A)(function*(nt){if(!S){if(null==nt.tenantId&&null!=nt._agentRecaptchaConfig)return nt._agentRecaptchaConfig.siteKey;if(null!=nt.tenantId&&void 0!==nt._tenantRecaptchaConfigs[nt.tenantId])return nt._tenantRecaptchaConfigs[nt.tenantId].siteKey}return new Promise(function(){var Ht=(0,b.A)(function*(mn,Hn){(function Ci(D,d){return pn.apply(this,arguments)})(nt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wn=>{if(void 0!==Wn.recaptchaKey){const Sr=new An(Wn);return null==nt.tenantId?nt._agentRecaptchaConfig=Sr:nt._tenantRecaptchaConfigs[nt.tenantId]=Sr,mn(Sr.siteKey)}Hn(new Error("recaptcha Enterprise site key undefined"))}).catch(Wn=>{Hn(Wn)})});return function(mn,Hn){return Ht.apply(this,arguments)}}())}),re.apply(this,arguments)}function Ue(nt,Ht,mn){const Hn=window.grecaptcha;er(Hn)?Hn.enterprise.ready(()=>{Hn.enterprise.execute(nt,{action:p}).then(Wn=>{Ht(Wn)}).catch(()=>{Ht(Hi)})}):mn(Error("No reCAPTCHA enterprise script loaded."))}return d.auth.settings.appVerificationDisabledForTesting?(new tr).execute("siteKey",{action:"verify"}):new Promise((nt,Ht)=>{(function B(nt){return re.apply(this,arguments)})(d.auth).then(mn=>{if(!S&&er(window.grecaptcha))Ue(mn,nt,Ht);else{if(typeof window>"u")return void Ht(new Error("RecaptchaVerifier is only supported in browser"));let Hn=function je(){return or.recaptchaEnterpriseScript}();0!==Hn.length&&(Hn+=mn),Si(Hn).then(()=>{Ue(mn,nt,Ht)}).catch(Wn=>{Ht(Wn)})}}).catch(mn=>{Ht(mn)})})}).apply(this,arguments)}}function ts(D,d,p){return $.apply(this,arguments)}function $(){return($=(0,b.A)(function*(D,d,p,S=!1,B=!1){const re=new Ls(D);let Ue;if(B)Ue=Hi;else try{Ue=yield re.verify(p)}catch{Ue=yield re.verify(p,!0)}const nt=Object.assign({},d);return"mfaSmsEnrollment"===p||"mfaSmsSignIn"===p?("phoneEnrollmentInfo"in nt?Object.assign(nt,{phoneEnrollmentInfo:{phoneNumber:nt.phoneEnrollmentInfo.phoneNumber,recaptchaToken:nt.phoneEnrollmentInfo.recaptchaToken,captchaResponse:Ue,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in nt&&Object.assign(nt,{phoneSignInInfo:{recaptchaToken:nt.phoneSignInInfo.recaptchaToken,captchaResponse:Ue,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),nt):(Object.assign(nt,S?{captchaResp:Ue}:{captchaResponse:Ue}),Object.assign(nt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(nt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),nt)})).apply(this,arguments)}function me(D,d,p,S,B){return Q.apply(this,arguments)}function Q(){return Q=(0,b.A)(function*(D,d,p,S,B){var re,Ue;if("EMAIL_PASSWORD_PROVIDER"===B){if(null!==(re=D._getRecaptchaConfig())&&void 0!==re&&re.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const nt=yield ts(D,d,p,"getOobCode"===p);return S(D,nt)}return S(D,d).catch(function(){var nt=(0,b.A)(function*(Ht){if("auth/missing-recaptcha-token"===Ht.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const mn=yield ts(D,d,p,"getOobCode"===p);return S(D,mn)}return Promise.reject(Ht)});return function(Ht){return nt.apply(this,arguments)}}())}if("PHONE_PROVIDER"===B){if(null!==(Ue=D._getRecaptchaConfig())&&void 0!==Ue&&Ue.isProviderEnabled("PHONE_PROVIDER")){const nt=yield ts(D,d,p);return S(D,nt).catch(function(){var Ht=(0,b.A)(function*(mn){var Hn;if("AUDIT"===(null===(Hn=D._getRecaptchaConfig())||void 0===Hn?void 0:Hn.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===mn.code||"auth/invalid-app-credential"===mn.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${p} flow.`);const Wn=yield ts(D,d,p,!1,!0);return S(D,Wn)}return Promise.reject(mn)});return function(mn){return Ht.apply(this,arguments)}}())}{const nt=yield ts(D,d,p,!1,!0);return S(D,nt)}}return Promise.reject(B+" provider is not supported.")}),Q.apply(this,arguments)}function si(D){const d=D.indexOf(":");return d<0?"":D.substr(0,d+1)}function Kr(D){if(!D)return null;const d=Number(D);return isNaN(d)?null:d}class Ln{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return ut("not implemented")}_getIdTokenResponse(d){return ut("not implemented")}_linkToIdToken(d,p){return ut("not implemented")}_getReauthenticationResolver(d){return ut("not implemented")}}function $s(D,d){return de.apply(this,arguments)}function de(){return(de=(0,b.A)(function*(D,d){return oe(D,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function mt(D,d){return nn.apply(this,arguments)}function nn(){return(nn=(0,b.A)(function*(D,d){return cn(D,"POST","/v1/accounts:signInWithPassword",ye(D,d))})).apply(this,arguments)}function jn(){return(jn=(0,b.A)(function*(D,d){return oe(D,"POST","/v1/accounts:sendOobCode",ye(D,d))})).apply(this,arguments)}function Po(D,d){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,b.A)(function*(D,d){return function vn(D,d){return jn.apply(this,arguments)}(D,d)})).apply(this,arguments)}function Qs(){return(Qs=(0,b.A)(function*(D,d){return cn(D,"POST","/v1/accounts:signInWithEmailLink",ye(D,d))})).apply(this,arguments)}function Eo(){return(Eo=(0,b.A)(function*(D,d){return cn(D,"POST","/v1/accounts:signInWithEmailLink",ye(D,d))})).apply(this,arguments)}class oo extends Ln{constructor(d,p,S,B=null){super("password",S),this._email=d,this._password=p,this._tenantId=B}static _fromEmailAndPassword(d,p){return new oo(d,p,"password")}static _fromEmailAndCode(d,p,S=null){return new oo(d,p,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,b.A)(function*(){switch(p.signInMethod){case"password":return me(d,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",mt,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Cs(D,d){return Qs.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Rt(d,"internal-error")}})()}_linkToIdToken(d,p){var S=this;return(0,b.A)(function*(){switch(S.signInMethod){case"password":return me(d,{idToken:p,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$s,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Ss(D,d){return Eo.apply(this,arguments)}(d,{idToken:p,email:S._email,oobCode:S._password});default:Rt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function kr(D,d){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,b.A)(function*(D,d){return cn(D,"POST","/v1/accounts:signInWithIdp",ye(D,d))})).apply(this,arguments)}class Ms{constructor(d){var p,S,B,re,Ue,nt;const Ht=(0,Y.I9)((0,Y.hp)(d)),mn=null!==(p=Ht.apiKey)&&void 0!==p?p:null,Hn=null!==(S=Ht.oobCode)&&void 0!==S?S:null,Wn=function Ui(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=Ht.mode)&&void 0!==B?B:null);bt(mn&&Hn&&Wn,"argument-error"),this.apiKey=mn,this.operation=Wn,this.code=Hn,this.continueUrl=null!==(re=Ht.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(Ue=Ht.lang)&&void 0!==Ue?Ue:null,this.tenantId=null!==(nt=Ht.tenantId)&&void 0!==nt?nt:null}static parseLink(d){const p=function Bo(D){const d=(0,Y.I9)((0,Y.hp)(D)).link,p=d?(0,Y.I9)((0,Y.hp)(d)).deep_link_id:null,S=(0,Y.I9)((0,Y.hp)(D)).deep_link_id;return(S?(0,Y.I9)((0,Y.hp)(S)).link:null)||S||p||d||D}(d);try{return new Ms(p)}catch{return null}}}let yr=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(p,S){return oo._fromEmailAndPassword(p,S)}static credentialWithLink(p,S){const B=Ms.parseLink(S);return bt(B,"argument-error"),oo._fromEmailAndCode(p,B.code,B.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Zi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class na extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}function xt(D,d){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,b.A)(function*(D,d){return cn(D,"POST","/v1/accounts:signUp",ye(D,d))})).apply(this,arguments)}class bn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,S){return(0,b.A)(function*(B,re,Ue,nt=!1){const Ht=yield fr._fromIdTokenResponse(B,Ue,nt),mn=gn(Ue);return new bn({user:Ht,providerId:mn,_tokenResponse:Ue,operationType:re})}).apply(this,arguments)}static _forOperation(d,p,S){return(0,b.A)(function*(){yield d._updateTokensIfNecessary(S,!0);const B=gn(S);return new bn({user:d,providerId:B,_tokenResponse:S,operationType:p})})()}}function gn(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}class Fr extends Y.g{constructor(d,p,S,B){var re;super(p.code,p.message),this.operationType=S,this.user=B,Object.setPrototypeOf(this,Fr.prototype),this.customData={appName:d.name,tenantId:null!==(re=d.tenantId)&&void 0!==re?re:void 0,_serverResponse:p.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(d,p,S,B){return new Fr(d,p,S,B)}}function Ii(D,d,p,S){return("reauthenticate"===d?p._getReauthenticationResolver(D):p._getIdTokenResponse(D)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?Fr._fromErrorAndOperation(D,re,d,S):re})}function Ni(){return(Ni=(0,b.A)(function*(D,d,p=!1){const S=yield Ar(D,d._linkToIdToken(D.auth,yield D.getIdToken()),p);return bn._forOperation(D,"link",S)})).apply(this,arguments)}function ws(){return(ws=(0,b.A)(function*(D,d,p=!1){const{auth:S}=D;if((0,O.xZ)(S.app))return Promise.reject(Je(S));const B="reauthenticate";try{const re=yield Ar(D,Ii(S,B,d,D),p);bt(re.idToken,S,"internal-error");const Ue=Tr(re.idToken);bt(Ue,S,"internal-error");const{sub:nt}=Ue;return bt(D.uid===nt,S,"user-mismatch"),bn._forOperation(D,B,re)}catch(re){throw"auth/user-not-found"===re?.code&&Rt(S,"user-mismatch"),re}})).apply(this,arguments)}function ei(D,d){return ps.apply(this,arguments)}function ps(){return(ps=(0,b.A)(function*(D,d,p=!1){if((0,O.xZ)(D.app))return Promise.reject(Je(D));const S="signIn",B=yield Ii(D,S,d),re=yield bn._fromIdTokenResponse(D,S,B);return p||(yield D._updateCurrentUser(re.user)),re})).apply(this,arguments)}function lo(){return(lo=(0,b.A)(function*(D,d){return ei(dn(D),d)})).apply(this,arguments)}function Ho(D){return zo.apply(this,arguments)}function zo(){return(zo=(0,b.A)(function*(D){const d=dn(D);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function bi(D,d,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,b.A)(function*(D,d,p){const S=dn(D),B={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};p&&function ko(D,d,p){var S;bt((null===(S=p.url)||void 0===S?void 0:S.length)>0,D,"invalid-continue-uri"),bt(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),bt(typeof p.linkDomain>"u"||p.linkDomain.length>0,D,"invalid-hosting-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.linkDomain=p.linkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(bt(p.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(bt(p.android.packageName.length>0,D,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}(S,B,p),yield me(S,B,"getOobCode",Po,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function Va(D,d,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,b.A)(function*(D,d,p){if((0,O.xZ)(D.app))return Promise.reject(Je(D));const S=dn(D),Ue=yield me(S,{returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xt,"EMAIL_PASSWORD_PROVIDER").catch(Ht=>{throw"auth/password-does-not-meet-requirements"===Ht.code&&Ho(D),Ht}),nt=yield bn._fromIdTokenResponse(S,"signIn",Ue);return yield S._updateCurrentUser(nt.user),nt})).apply(this,arguments)}function Wr(D,d,p){return(0,O.xZ)(D.app)?Promise.reject(Je(D)):function Ws(D,d){return lo.apply(this,arguments)}((0,Y.Ku)(D),yr.credential(d,p)).catch(function(){var S=(0,b.A)(function*(B){throw"auth/password-does-not-meet-requirements"===B.code&&Ho(D),B});return function(B){return S.apply(this,arguments)}}())}function v(D,d,p,S){return(0,Y.Ku)(D).onAuthStateChanged(d,p,S)}function Z(D){return(0,Y.Ku)(D).signOut()}const ni="__sak";class Bs{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ni,"1"),this.storage.removeItem(ni),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ko=(()=>{class D extends Bs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,S)=>this.onStorageEvent(p,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ve(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const S of Object.keys(this.listeners)){const B=this.storage.getItem(S),re=this.localCache[S];B!==re&&p(S,re,B)}}onStorageEvent(p,S=!1){if(!p.key)return void this.forAllChangedKeys((nt,Ht,mn)=>{this.notifyListeners(nt,mn)});const B=p.key;S?this.detachListener():this.stopPolling();const re=()=>{const nt=this.storage.getItem(B);!S&&this.localCache[B]===nt||this.notifyListeners(B,nt)},Ue=this.storage.getItem(B);!function ce(){return(0,Y.lT)()&&10===document.documentMode}()||Ue===p.newValue||p.newValue===p.oldValue?re():setTimeout(re,10)}notifyListeners(p,S){this.localCache[p]=S;const B=this.listeners[p];if(B)for(const re of Array.from(B))re(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,S,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:S,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(S)}_removeListener(p,S){this.listeners[p]&&(this.listeners[p].delete(S),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,S){var B=()=>super._set,re=this;return(0,b.A)(function*(){yield B().call(re,p,S),re.localCache[p]=JSON.stringify(S)})()}_get(p){var S=()=>super._get,B=this;return(0,b.A)(function*(){const re=yield S().call(B,p);return B.localCache[p]=JSON.stringify(re),re})()}_remove(p){var S=()=>super._remove,B=this;return(0,b.A)(function*(){yield S().call(B,p),delete B.localCache[p]})()}}return D.type="LOCAL",D})(),wn=(()=>{class D extends Bs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,S){}_removeListener(p,S){}}return D.type="SESSION",D})();let cr=(()=>{class D{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const S=this.receivers.find(re=>re.isListeningto(p));if(S)return S;const B=new D(p);return this.receivers.push(B),B}isListeningto(p){return this.eventTarget===p}handleEvent(p){var S=this;return(0,b.A)(function*(){const B=p,{eventId:re,eventType:Ue,data:nt}=B.data,Ht=S.handlersMap[Ue];if(!Ht?.size)return;B.ports[0].postMessage({status:"ack",eventId:re,eventType:Ue});const mn=Array.from(Ht).map(function(){var Wn=(0,b.A)(function*(Sr){return Sr(B.origin,nt)});return function(Sr){return Wn.apply(this,arguments)}}()),Hn=yield function rr(D){return Promise.all(D.map(function(){var d=(0,b.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(S){return{fulfilled:!1,reason:S}}});return function(p){return d.apply(this,arguments)}}()))}(mn);B.ports[0].postMessage({status:"done",eventId:re,eventType:Ue,response:Hn})})()}_subscribe(p,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(S)}_unsubscribe(p,S){this.handlersMap[p]&&S&&this.handlersMap[p].delete(S),(!S||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Xr(D="",d=10){let p="";for(let S=0;S<d;S++)p+=Math.floor(10*Math.random());return D+p}class Zs{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p){var S=this;return(0,b.A)(function*(B,re,Ue=50){const nt=typeof MessageChannel<"u"?new MessageChannel:null;if(!nt)throw new Error("connection_unavailable");let Ht,mn;return new Promise((Hn,Wn)=>{const Sr=Xr("",20);nt.port1.start();const Ds=setTimeout(()=>{Wn(new Error("unsupported_event"))},Ue);mn={messageChannel:nt,onMessage(Ji){const Wc=Ji;if(Wc.data.eventId===Sr)switch(Wc.data.status){case"ack":clearTimeout(Ds),Ht=setTimeout(()=>{Wn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ht),Hn(Wc.data.response);break;default:clearTimeout(Ds),clearTimeout(Ht),Wn(new Error("invalid_response"))}}},S.handlers.add(mn),nt.port1.addEventListener("message",mn.onMessage),S.target.postMessage({eventType:B,eventId:Sr,data:re},[nt.port2])}).finally(()=>{mn&&S.removeMessageHandler(mn)})}).apply(this,arguments)}}function ai(){return window}function Vr(){return typeof ai().WorkerGlobalScope<"u"&&"function"==typeof ai().importScripts}function Oo(){return(Oo=(0,b.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ao="firebaseLocalStorageDb",Pa="firebaseLocalStorage",qo="fbase_key";class ia{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function yc(D,d){return D.transaction([Pa],d?"readwrite":"readonly").objectStore(Pa)}function rh(){const D=indexedDB.open(Ao,1);return new Promise((d,p)=>{D.addEventListener("error",()=>{p(D.error)}),D.addEventListener("upgradeneeded",()=>{const S=D.result;try{S.createObjectStore(Pa,{keyPath:qo})}catch(B){p(B)}}),D.addEventListener("success",(0,b.A)(function*(){const S=D.result;S.objectStoreNames.contains(Pa)?d(S):(S.close(),yield function Co(){const D=indexedDB.deleteDatabase(Ao);return new ia(D).toPromise()}(),d(yield rh()))}))})}function xs(D,d,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,b.A)(function*(D,d,p){const S=yc(D,!0).put({[qo]:d,value:p});return new ia(S).toPromise()})).apply(this,arguments)}function Hu(){return(Hu=(0,b.A)(function*(D,d){const p=yc(D,!1).get(d),S=yield new ia(p).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Oc(D,d){const p=yc(D,!0).delete(d);return new ia(p).toPromise()}const _c=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,b.A)(function*(){return p.db||(p.db=yield rh()),p.db})()}_withRetries(p){var S=this;return(0,b.A)(function*(){let B=0;for(;;)try{const re=yield S._openDb();return yield p(re)}catch(re){if(B++>3)throw re;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,b.A)(function*(){return Vr()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,b.A)(function*(){p.receiver=cr._getInstance(function qs(){return Vr()?self:null}()),p.receiver._subscribe("keyChanged",function(){var S=(0,b.A)(function*(B,re){return{keyProcessed:(yield p._poll()).includes(re.key)}});return function(B,re){return S.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var S=(0,b.A)(function*(B,re){return["keyChanged"]});return function(B,re){return S.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,b.A)(function*(){var S,B;if(p.activeServiceWorker=yield function ki(){return Oo.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Zs(p.activeServiceWorker);const re=yield p.sender._send("ping",{},800);re&&null!==(S=re[0])&&void 0!==S&&S.fulfilled&&null!==(B=re[0])&&void 0!==B&&B.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var S=this;return(0,b.A)(function*(){if(S.sender&&S.activeServiceWorker&&function ci(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:p},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.A)(function*(){try{if(!indexedDB)return!1;const p=yield rh();return yield xs(p,ni,"1"),yield Oc(p,ni),!0}catch{}return!1})()}_withPendingWrite(p){var S=this;return(0,b.A)(function*(){S.pendingWrites++;try{yield p()}finally{S.pendingWrites--}})()}_set(p,S){var B=this;return(0,b.A)(function*(){return B._withPendingWrite((0,b.A)(function*(){return yield B._withRetries(re=>xs(re,p,S)),B.localCache[p]=S,B.notifyServiceWorker(p)}))})()}_get(p){var S=this;return(0,b.A)(function*(){const B=yield S._withRetries(re=>function sa(D,d){return Hu.apply(this,arguments)}(re,p));return S.localCache[p]=B,B})()}_remove(p){var S=this;return(0,b.A)(function*(){return S._withPendingWrite((0,b.A)(function*(){return yield S._withRetries(B=>Oc(B,p)),delete S.localCache[p],S.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,b.A)(function*(){const S=yield p._withRetries(Ue=>{const nt=yc(Ue,!1).getAll();return new ia(nt).toPromise()});if(!S)return[];if(0!==p.pendingWrites)return[];const B=[],re=new Set;if(0!==S.length)for(const{fbase_key:Ue,value:nt}of S)re.add(Ue),JSON.stringify(p.localCache[Ue])!==JSON.stringify(nt)&&(p.notifyListeners(Ue,nt),B.push(Ue));for(const Ue of Object.keys(p.localCache))p.localCache[Ue]&&!re.has(Ue)&&(p.notifyListeners(Ue,null),B.push(Ue));return B})()}notifyListeners(p,S){this.localCache[p]=S;const B=this.listeners[p];if(B)for(const re of Array.from(B))re(S)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,b.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(S)}_removeListener(p,S){this.listeners[p]&&(this.listeners[p].delete(S),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();$t("rcb"),new sn(3e4,6e4);class Qo extends Ln{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return kr(d,this._buildIdpRequest())}_linkToIdToken(d,p){return kr(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return kr(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function Fl(D){return ei(D.auth,new Qo(D),D.bypassAuthState)}function Ll(D){const{auth:d,user:p}=D;return bt(p,d,"internal-error"),function Pi(D,d){return ws.apply(this,arguments)}(p,new Qo(D),D.bypassAuthState)}function Df(D){return Af.apply(this,arguments)}function Af(){return(Af=(0,b.A)(function*(D){const{auth:d,user:p}=D;return bt(p,d,"internal-error"),function Jr(D,d){return Ni.apply(this,arguments)}(p,new Qo(D),D.bypassAuthState)})).apply(this,arguments)}class Vl{constructor(d,p,S,B,re=!1){this.auth=d,this.resolver=S,this.user=B,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,b.A)(function*(S,B){d.pendingPromise={resolve:S,reject:B};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(re){d.reject(re)}});return function(S,B){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,b.A)(function*(){const{urlResponse:S,sessionId:B,postBody:re,tenantId:Ue,error:nt,type:Ht}=d;if(nt)return void p.reject(nt);const mn={auth:p.auth,requestUri:S,sessionId:B,tenantId:Ue||void 0,postBody:re||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ht)(mn))}catch(Hn){p.reject(Hn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Fl;case"linkViaPopup":case"linkViaRedirect":return Df;case"reauthViaPopup":case"reauthViaRedirect":return Ll;default:Rt(this.auth,"internal-error")}}resolve(d){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new sn(2e3,1e4);const cu=new Map;class Tg extends Vl{constructor(d,p,S=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,S),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,b.A)(function*(){let S=cu.get(p.auth._key());if(!S){try{const re=(yield function wc(D,d){return Ba.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;S=()=>Promise.resolve(re)}catch(B){S=()=>Promise.reject(B)}cu.set(p.auth._key(),S)}return p.bypassAuthState||cu.set(p.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,S=this;return(0,b.A)(function*(){if("signInViaRedirect"===d.type)return p().call(S,d);if("unknown"!==d.type){if(d.eventId){const B=yield S.auth._redirectUserForId(d.eventId);if(B)return S.user=B,p().call(S,d);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,b.A)(function*(){})()}cleanUp(){}}function Ba(){return(Ba=(0,b.A)(function*(D,d){const p=function jl(D){return Ce("pendingRedirect",D.config.apiKey,D.name)}(d),S=function Bl(D){return Fi(D._redirectPersistence)}(D);if(!(yield S._isAvailable()))return!1;const B="true"===(yield S._get(p));return yield S._remove(p),B})).apply(this,arguments)}function Ja(D,d){cu.set(D._key(),d)}function ah(D,d){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,b.A)(function*(D,d,p=!1){if((0,O.xZ)(D.app))return Promise.reject(Je(D));const S=dn(D),B=function ca(D,d){return d?Fi(d):(bt(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}(S,d),Ue=yield new Tg(S,B,p).execute();return Ue&&!p&&(delete Ue.user._redirectEventId,yield S._persistUserIfCurrent(Ue.user),yield S._setRedirectUser(null,d)),Ue})).apply(this,arguments)}class $a{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(d,S)&&(p=!0,this.sendToConsumer(d,S),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Wl(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rc(D);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var S;if(d.error&&!rc(d)){const B=(null===(S=d.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";p.onError(Oe(this.auth,B))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const S=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&S}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ic(d))}saveEventToCache(d){this.cachedEventUids.add(Ic(d)),this.lastProcessedEventTime=Date.now()}}function Ic(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(d=>d).join("-")}function rc({type:D,error:d}){return"unknown"===D&&"auth/no-auth-event"===d?.code}function Qu(){return(Qu=(0,b.A)(function*(D,d={}){return oe(D,"GET","/v1/projects",d)})).apply(this,arguments)}const Pf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mf=/^https?/;function Zo(){return Zo=(0,b.A)(function*(D){if(D.config.emulator)return;const{authorizedDomains:d}=yield function qu(D){return Qu.apply(this,arguments)}(D);for(const p of d)try{if(_a(p))return}catch{}Rt(D,"unauthorized-domain")}),Zo.apply(this,arguments)}function _a(D){const d=kn(),{protocol:p,hostname:S}=new URL(d);if(D.startsWith("chrome-extension://")){const Ue=new URL(D);return""===Ue.hostname&&""===S?"chrome-extension:"===p&&D.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&Ue.hostname===S}if(!Mf.test(p))return!1;if(Pf.test(D))return S===D;const B=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(S)}const Gl=new sn(3e4,6e4);function jc(){const D=ai().___jsl;if(D?.H)for(const d of Object.keys(D.H))if(D.H[d].r=D.H[d].r||[],D.H[d].L=D.H[d].L||[],D.H[d].r=[...D.H[d].L],D.CP)for(let p=0;p<D.CP.length;p++)D.CP[p]=null}let Zu=null;const zy=new sn(5e3,15e3),uh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tc(D){const d=D.config;bt(d.authDomain,D,"auth-domain-config-required");const p=d.emulator?kt(d,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,S={apiKey:d.apiKey,appName:D.name,v:O.MF},B=Kl.get(D.config.apiHost);B&&(S.eid=B);const re=D._getFrameworks();return re.length&&(S.fw=re.join(",")),`${p}?${(0,Y.Am)(S).slice(1)}`}function bc(){return bc=(0,b.A)(function*(D){const d=yield function kf(D){return Zu=Zu||function Nf(D){return new Promise((d,p)=>{var S,B,re;function Ue(){jc(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{jc(),p(Oe(D,"network-request-failed"))},timeout:Gl.get()})}if(null!==(B=null===(S=ai().gapi)||void 0===S?void 0:S.iframes)&&void 0!==B&&B.Iframe)d(gapi.iframes.getContext());else{if(null===(re=ai().gapi)||void 0===re||!re.load){const nt=$t("iframefcb");return ai()[nt]=()=>{gapi.load?Ue():p(Oe(D,"network-request-failed"))},Si(`${function Ye(){return or.gapiScript}()}?onload=${nt}`).catch(Ht=>p(Ht))}Ue()}}).catch(d=>{throw Zu=null,d})}(D),Zu}(D),p=ai().gapi;return bt(p,D,"internal-error"),d.open({where:document.body,url:Tc(D),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uh,dontclear:!0},S=>new Promise(function(){var B=(0,b.A)(function*(re,Ue){yield S.restyle({setHideOnLeave:!1});const nt=Oe(D,"network-request-failed"),Ht=ai().setTimeout(()=>{Ue(nt)},zy.get());function mn(){ai().clearTimeout(Ht),re(S)}S.ping(mn).then(mn,()=>{Ue(nt)})});return function(re,Ue){return B.apply(this,arguments)}}()))}),bc.apply(this,arguments)}const Yu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Of{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ff=encodeURIComponent("fac");function pu(D,d,p,S,B,re){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,b.A)(function*(D,d,p,S,B,re){bt(D.config.authDomain,D,"auth-domain-config-required"),bt(D.config.apiKey,D,"invalid-api-key");const Ue={apiKey:D.config.apiKey,appName:D.name,authType:p,redirectUrl:S,v:O.MF,eventId:B};if(d instanceof Zi){d.setDefaultLanguage(D.languageCode),Ue.providerId=d.providerId||"",(0,Y.Im)(d.getCustomParameters())||(Ue.customParameters=JSON.stringify(d.getCustomParameters()));for(const[Hn,Wn]of Object.entries(re||{}))Ue[Hn]=Wn}if(d instanceof na){const Hn=d.getScopes().filter(Wn=>""!==Wn);Hn.length>0&&(Ue.scopes=Hn.join(","))}D.tenantId&&(Ue.tid=D.tenantId);const nt=Ue;for(const Hn of Object.keys(nt))void 0===nt[Hn]&&delete nt[Hn];const Ht=yield D._getAppCheckToken(),mn=Ht?`#${Ff}=${encodeURIComponent(Ht)}`:"";return`${function hh({config:D}){return D.emulator?kt(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,Y.Am)(nt).slice(1)}${mn}`})).apply(this,arguments)}const ic="webStorageSupport",Lf=class gu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wn,this._completeRedirectFn=ah,this._overrideRedirectResult=Ja}_openPopup(d,p,S,B){var re=this;return(0,b.A)(function*(){var Ue;Un(null===(Ue=re.eventManagers[d._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const nt=yield pu(d,p,S,kn(),B);return function $c(D,d,p,S=500,B=600){const re=Math.max((window.screen.availHeight-B)/2,0).toString(),Ue=Math.max((window.screen.availWidth-S)/2,0).toString();let nt="";const Ht=Object.assign(Object.assign({},Yu),{width:S.toString(),height:B.toString(),top:re,left:Ue}),mn=(0,Y.ZQ)().toLowerCase();p&&(nt=Jt(mn)?"_blank":p),Vt(mn)&&(d=d||"http://localhost",Ht.scrollbars="yes");const Hn=Object.entries(Ht).reduce((Sr,[Ds,Ji])=>`${Sr}${Ds}=${Ji},`,"");if(function At(D=(0,Y.ZQ)()){var d;return Re(D)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(mn)&&"_self"!==nt)return function hu(D,d){const p=document.createElement("a");p.href=D,p.target=d;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(S)}(d||"",nt),new Of(null);const Wn=window.open(d||"",nt,Hn);bt(Wn,D,"popup-blocked");try{Wn.focus()}catch{}return new Of(Wn)}(d,nt,Xr())})()}_openRedirect(d,p,S,B){var re=this;return(0,b.A)(function*(){return yield re._originValidation(d),function xo(D){ai().location.href=D}(yield pu(d,p,S,kn(),B)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:B,promise:re}=this.eventManagers[p];return B?Promise.resolve(B):(Un(re,"If manager is not set, promise should be"),re)}const S=this.initAndGetManager(d);return this.eventManagers[p]={promise:S},S.catch(()=>{delete this.eventManagers[p]}),S}initAndGetManager(d){var p=this;return(0,b.A)(function*(){const S=yield function lh(D){return bc.apply(this,arguments)}(d),B=new $a(d);return S.register("authEvent",re=>(bt(re?.authEvent,d,"invalid-auth-event"),{status:B.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:B},p.iframes[d._key()]=S,B})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(ic,{type:ic},B=>{var re;const Ue=null===(re=B?.[0])||void 0===re?void 0:re[ic];void 0!==Ue&&p(!!Ue),Rt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Xu(D){return Zo.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return ve()||tt()||Re()}};var oc="@firebase/auth";class ph{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,b.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(S=>{d(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bg=(0,Y.XA)("authIdTokenMaxAge")||300;let Xl=null;const gh=D=>function(){var d=(0,b.A)(function*(p){const S=p&&(yield p.getIdTokenResult()),B=S&&((new Date).getTime()-Date.parse(S.issuedAtTime))/1e3;if(B&&B>bg)return;const re=S?.token;Xl!==re&&(Xl=re,yield fetch(D,{method:re?"POST":"DELETE",headers:re?{Authorization:`Bearer ${re}`}:{}}))});return function(p){return d.apply(this,arguments)}}();function Zl(D=(0,O.Sx)()){const d=(0,O.j6)(D,"auth");if(d.isInitialized())return d.getImmediate();const p=function Ct(D,d){const p=(0,O.j6)(D,"auth");if(p.isInitialized()){const B=p.getImmediate(),re=p.getOptions();if((0,Y.bD)(re,d??{}))return B;Rt(B,"already-initialized")}return p.initialize({options:d})}(D,{popupRedirectResolver:Lf,persistence:[_c,Ko,wn]}),S=(0,Y.XA)("authTokenSyncURL");if(S&&"boolean"==typeof isSecureContext&&isSecureContext){const re=new URL(S,location.origin);if(location.origin===re.origin){const Ue=gh(re.toString());(function E(D,d,p){(0,Y.Ku)(D).beforeAuthStateChanged(d,p)})(p,Ue,()=>Ue(p.currentUser)),function j(D,d,p,S){(0,Y.Ku)(D).onIdTokenChanged(d,p,S)}(p,nt=>Ue(nt))}}const B=(0,Y.Tj)("auth");return B&&function On(D,d,p){const S=dn(D);bt(/^https?:\/\//.test(d),S,"invalid-emulator-scheme");const B=!!p?.disableWarnings,re=si(d),{host:Ue,port:nt}=function Gr(D){const d=si(D),p=/(\/\/)?([^?#/]+)/.exec(D.substr(d.length));if(!p)return{host:"",port:null};const S=p[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(S);if(B){const re=B[1];return{host:re,port:Kr(S.substr(re.length+1))}}{const[re,Ue]=S.split(":");return{host:re,port:Kr(Ue)}}}(d),Ht=null===nt?"":`:${nt}`,mn={url:`${re}//${Ue}${Ht}/`},Hn=Object.freeze({host:Ue,port:nt,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:B})});if(!S._canInitEmulator)return bt(S.config.emulator&&S.emulatorConfig,S,"emulator-config-failed"),void bt((0,Y.bD)(mn,S.config.emulator)&&(0,Y.bD)(Hn,S.emulatorConfig),S,"emulator-config-failed");S.config.emulator=mn,S.emulatorConfig=Hn,S.settings.appVerificationDisabledForTesting=!0,(0,Y.zJ)(Ue)?((0,Y.gE)(`${re}//${Ue}${Ht}`),(0,Y.P1)("Auth",!0)):B||function gr(){function D(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(p,`http://${B}`),p}(function wi(D){or=D})({loadJS:D=>new Promise((d,p)=>{const S=document.createElement("script");S.setAttribute("src",D),S.onload=d,S.onerror=B=>{const re=Oe("internal-error");re.customData=B,p(re)},S.type="text/javascript",S.charset="UTF-8",function mh(){var D,d;return null!==(d=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==d?d:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function zc(D){(0,O.om)(new rt.uA("auth",(d,{options:p})=>{const S=d.getProvider("app").getImmediate(),B=d.getProvider("heartbeat"),re=d.getProvider("app-check-internal"),{apiKey:Ue,authDomain:nt}=S.options;bt(Ue&&!Ue.includes(":"),"invalid-api-key",{appName:S.name});const Ht={apiKey:Ue,authDomain:nt,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ve(D)},mn=new Bn(S,B,re,Ht);return function ln(D,d){const p=d?.persistence||[],S=(Array.isArray(p)?p:[p]).map(Fi);d?.errorMap&&D._updateErrorMap(d.errorMap),D._initializeWithPersistence(S,d?.popupRedirectResolver)}(mn,p),mn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,S)=>{d.getProvider("auth-internal").initialize()})),(0,O.om)(new rt.uA("auth-internal",d=>{const p=dn(d.getProvider("auth").getImmediate());return new ph(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.KO)(oc,"1.10.6",function ac(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(D)),(0,O.KO)(oc,"1.10.6","esm2017")}("Browser")},591:(Dn,We,H)=>{"use strict";function b(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(We,{L:()=>b})},941:(Dn,We,H)=>{"use strict";H.d(We,{Q:()=>T});var b=H(5225),O=H(9974),Y=H(4360);function T(Pe,rt=0){return(0,O.N)((Ie,De)=>{Ie.subscribe((0,Y._)(De,Ge=>(0,b.N)(De,Pe,()=>De.next(Ge),rt),()=>(0,b.N)(De,Pe,()=>De.complete(),rt),Ge=>(0,b.N)(De,Pe,()=>De.error(Ge),rt)))})}},969:(Dn,We,H)=>{"use strict";H.d(We,{FX:()=>en,If:()=>b,K2:()=>rt,PZ:()=>jt,hZ:()=>Y,i0:()=>T,iF:()=>Ie,kY:()=>be,kp:()=>O,sf:()=>zt,wk:()=>De});var b=function(_t){return _t[_t.State=0]="State",_t[_t.Transition=1]="Transition",_t[_t.Sequence=2]="Sequence",_t[_t.Group=3]="Group",_t[_t.Animate=4]="Animate",_t[_t.Keyframes=5]="Keyframes",_t[_t.Style=6]="Style",_t[_t.Trigger=7]="Trigger",_t[_t.Reference=8]="Reference",_t[_t.AnimateChild=9]="AnimateChild",_t[_t.AnimateRef=10]="AnimateRef",_t[_t.Query=11]="Query",_t[_t.Stagger=12]="Stagger",_t}(b||{});const O="*";function Y(_t,It){return{type:b.Trigger,name:_t,definitions:It,options:{}}}function T(_t,It=null){return{type:b.Animate,styles:It,timings:_t}}function rt(_t,It=null){return{type:b.Sequence,steps:_t,options:It}}function Ie(_t){return{type:b.Style,styles:_t,offset:null}}function De(_t,It,Rt){return{type:b.State,name:_t,styles:It,options:Rt}}function be(_t,It,Rt=null){return{type:b.Transition,expr:_t,animation:It,options:Rt}}class zt{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(It=0,Rt=0){this.totalTime=It+Rt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(It=>It()),this._onDoneFns=[])}onStart(It){this._originalOnStartFns.push(It),this._onStartFns.push(It)}onDone(It){this._originalOnDoneFns.push(It),this._onDoneFns.push(It)}onDestroy(It){this._onDestroyFns.push(It)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(It=>It()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(It=>It()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(It){this._position=this.totalTime?It*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(It){const Rt="start"==It?this._onStartFns:this._onDoneFns;Rt.forEach(Oe=>Oe()),Rt.length=0}}class jt{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(It){this.players=It;let Rt=0,Oe=0,st=0;const Je=this.players.length;0==Je?queueMicrotask(()=>this._onFinish()):this.players.forEach(Tt=>{Tt.onDone(()=>{++Rt==Je&&this._onFinish()}),Tt.onDestroy(()=>{++Oe==Je&&this._onDestroy()}),Tt.onStart(()=>{++st==Je&&this._onStart()})}),this.totalTime=this.players.reduce((Tt,Qt)=>Math.max(Tt,Qt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(It=>It()),this._onDoneFns=[])}init(){this.players.forEach(It=>It.init())}onStart(It){this._onStartFns.push(It)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(It=>It()),this._onStartFns=[])}onDone(It){this._onDoneFns.push(It)}onDestroy(It){this._onDestroyFns.push(It)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(It=>It.play())}pause(){this.players.forEach(It=>It.pause())}restart(){this.players.forEach(It=>It.restart())}finish(){this._onFinish(),this.players.forEach(It=>It.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(It=>It.destroy()),this._onDestroyFns.forEach(It=>It()),this._onDestroyFns=[])}reset(){this.players.forEach(It=>It.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(It){const Rt=It*this.totalTime;this.players.forEach(Oe=>{const st=Oe.totalTime?Math.min(1,Rt/Oe.totalTime):1;Oe.setPosition(st)})}getPosition(){const It=this.players.reduce((Rt,Oe)=>null===Rt||Oe.totalTime>Rt.totalTime?Oe:Rt,null);return null!=It?It.getPosition():0}beforeDestroy(){this.players.forEach(It=>{It.beforeDestroy&&It.beforeDestroy()})}triggerCallback(It){const Rt="start"==It?this._onStartFns:this._onDoneFns;Rt.forEach(Oe=>Oe()),Rt.length=0}}const en="!"},980:(Dn,We,H)=>{"use strict";H.d(We,{j:()=>O});var b=H(9974);function O(Y){return(0,b.N)((T,Pe)=>{try{T.subscribe(Pe)}finally{Pe.add(Y)}})}},983:(Dn,We,H)=>{"use strict";H.d(We,{w:()=>O});const O=new(H(1985).c)(Pe=>Pe.complete())},1026:(Dn,We,H)=>{"use strict";H.d(We,{$:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(Dn,We,H)=>{"use strict";H.d(We,{F:()=>O,m:()=>Y});var b=H(3669);function O(...T){return Y(T)}function Y(T){return 0===T.length?b.D:1===T.length?T[0]:function(rt){return T.reduce((Ie,De)=>De(Ie),rt)}}},1360:(Dn,We,H)=>{"use strict";H.d(We,{bc$:()=>Qg,iLQ:()=>Cy,sZ2:()=>_u,o8S:()=>mc,BIS:()=>p_,gRc:()=>jA,Ql9:()=>vN,OM3:()=>vy,Ocv:()=>AN,abz:()=>Fo,Z63:()=>Zi,aKT:()=>il,uvJ:()=>ei,zcH:()=>uc,bkB:()=>cc,$GK:()=>Ln,nKC:()=>Ee,zZn:()=>go,_q3:()=>cT,MKu:()=>uT,xe9:()=>rT,Co$:()=>D0,Vns:()=>ff,SKi:()=>gs,Xx1:()=>kr,Agw:()=>qg,PLl:()=>Kg,u5s:()=>el,sFG:()=>IC,_9s:()=>Uw,czy:()=>Su,WPN:()=>Rd,kdw:()=>fs,C4Q:()=>nf,NYb:()=>kR,giA:()=>J0,xvI:()=>yN,RxE:()=>PA,c1b:()=>Xv,gXe:()=>Rc,mal:()=>cm,Af3:()=>Ns,L39:()=>vk,EWP:()=>jy,Ol2:()=>rI,w6W:()=>fS,Rfq:()=>Oi,WQX:()=>En,hFB:()=>e_,naY:()=>LN,QuC:()=>we,EmA:()=>Me,phd:()=>FR,HJs:()=>Bk,N4e:()=>No,vPA:()=>qc,O8t:()=>ou,H3F:()=>hI,H8p:()=>Ni,KH2:()=>_g,Ua0:()=>Kc,wOt:()=>ft,WHO:()=>Z0,e01:()=>Y0,Lf2:()=>cd,lNU:()=>Mr,h9k:()=>Cp,$MX:()=>bd,ZF7:()=>Id,Kcf:()=>K_,e5t:()=>bp,UyX:()=>JE,cWb:()=>Tp,osQ:()=>pl,H5H:()=>FI,Zy3:()=>Qn,mq5:()=>Kb,JZv:()=>Sn,TL3:()=>ZN,LfX:()=>Ft,plB:()=>hf,jNT:()=>yI,zjR:()=>tb,ngT:()=>wa,TL$:()=>NE,Tbb:()=>Be,rcV:()=>Jc,Vt3:()=>sI,OA$:()=>Pl,Jv_:()=>JD,R7$:()=>y,BMQ:()=>II,HbH:()=>Pb,ZvI:()=>Lb,STu:()=>Vb,AVh:()=>RI,wni:()=>CD,VBU:()=>C0,FsC:()=>S0,jDH:()=>Ve,G2t:()=>wt,$C:()=>iI,EJ8:()=>R0,rXU:()=>ng,nrm:()=>xI,bVm:()=>lE,qex:()=>uE,k0s:()=>cE,j41:()=>aE,RV6:()=>Wb,xGo:()=>Xl,KVO:()=>Yr,kS0:()=>D,QTQ:()=>KT,bIt:()=>UI,lsd:()=>RD,joV:()=>ah,qSk:()=>Rf,XpG:()=>yD,nI1:()=>dA,i5U:()=>hA,Y8G:()=>AI,lJ4:()=>tA,eq3:()=>nA,l_i:()=>rA,sMw:()=>iA,ziG:()=>sA,mGM:()=>SD,sdS:()=>PD,Njj:()=>aa,eBV:()=>Ec,npT:()=>sw,B4B:()=>J_,n$t:()=>jm,xc7:()=>SI,zvX:()=>OI,DNE:()=>uI,EFF:()=>BD,JRh:()=>$I,SpI:()=>gE,Lme:()=>HI,DH7:()=>QD,mxI:()=>WI,R50:()=>zI});var b=H(467);function O(e,t){return Object.is(e,t)}let Y=null,T=!1,Pe=1;const rt=Symbol("SIGNAL");function Ie(e){const t=Y;return Y=e,t}const Te={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dt(e){if(T)throw new Error("");if(null===Y)return;Y.consumerOnSignalRead(e);const t=Y.nextProducerIndex++;Qt(Y),t<Y.producerNode.length&&Y.producerNode[t]!==e&&Tt(Y)&&Je(Y.producerNode[t],Y.producerIndexOfThis[t]),Y.producerNode[t]!==e&&(Y.producerNode[t]=e,Y.producerIndexOfThis[t]=Tt(Y)?st(e,Y,t):0),Y.producerLastReadVersion[t]=e.version}function ht(e){if((!Tt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Pe)){if(!e.producerMustRecompute(e)&&!Rt(e))return void en(e);e.producerRecomputeValue(e),en(e)}}function Pt(e){if(void 0===e.liveConsumerNode)return;const t=T;T=!0;try{for(const r of e.liveConsumerNode)r.dirty||jt(r)}finally{T=t}}function zt(){return!1!==Y?.consumerAllowSignalWrites}function jt(e){e.dirty=!0,Pt(e),e.consumerMarkedDirty?.(e)}function en(e){e.dirty=!1,e.lastCleanEpoch=Pe}function _t(e){return e&&(e.nextProducerIndex=0),Ie(e)}function It(e,t){if(Ie(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Tt(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Je(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Rt(e){Qt(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],s=e.producerLastReadVersion[t];if(s!==r.version||(ht(r),s!==r.version))return!0}return!1}function Oe(e){if(Qt(e),Tt(e))for(let t=0;t<e.producerNode.length;t++)Je(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function st(e,t,r){if(bt(e),0===e.liveConsumerNode.length&&ut(e))for(let s=0;s<e.producerNode.length;s++)e.producerIndexOfThis[s]=st(e.producerNode[s],e,s);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Je(e,t){if(bt(e),1===e.liveConsumerNode.length&&ut(e))for(let s=0;s<e.producerNode.length;s++)Je(e.producerNode[s],e.producerIndexOfThis[s]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const s=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Qt(a),a.producerIndexOfThis[s]=t}}function Tt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Qt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function bt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ut(e){return void 0!==e.producerNode}const kn=Symbol("UNSET"),qn=Symbol("COMPUTING"),gt=Symbol("ERRORED"),In={...Te,value:kn,dirty:!0,error:null,equal:O,kind:"computed",producerMustRecompute:e=>e.value===kn||e.value===qn,producerRecomputeValue(e){if(e.value===qn)throw new Error("Detected cycle in computations.");const t=e.value;e.value=qn;const r=_t(e);let s,a=!1;try{s=e.computation(),Ie(null),a=t!==kn&&t!==gt&&s!==gt&&e.equal(t,s)}catch(l){s=gt,e.error=l}finally{It(e,r)}a?e.value=t:(e.value=s,e.version++)}};let sn=function et(){throw new Error};function kt(e){sn(e)}let te=null;function ye(e,t){zt()||kt(e),e.equal(e.value,t)||(e.value=t,function vt(e){e.version++,function Xe(){Pe++}(),Pt(e),te?.()}(e))}const Ze={...Te,equal:O,value:void 0,kind:"signal"};let Yt;function Vn(){return Yt}function er(e){const t=Yt;return Yt=e,t}const An=Symbol("NotFound");Error;var Ci=H(4412),pn=H(1413),dr=H(8359),un=H(6354);const Mr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class ft extends Error{code;constructor(t,r){super(Qn(t,r)),this.code=t}}function Qn(e,t){return`${function Er(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const Zt=Symbol("InputSignalNode#UNSET"),ri={...Ze,transformFn:void 0,applyValueToInputSignal(e,t){ye(e,t)}};function gi(e,t){const r=Object.create(ri);function s(){if(dt(r),r.value===Zt)throw new ft(-950,null);return r.value}return r.value=e,r.transformFn=t?.transform,s[rt]=r,s}function Tr(e){return{toString:e}.toString()}const Ar="__parameters__";function mi(e,t,r){return Tr(()=>{const s=function sr(e){return function(...r){if(e){const s=e(...r);for(const a in s)this[a]=s[a]}}}(t);function a(...l){if(this instanceof a)return s.apply(this,l),this;const f=new a(...l);return _.annotation=f,_;function _(A,F,W){const ee=A.hasOwnProperty(Ar)?A[Ar]:Object.defineProperty(A,Ar,{value:[]})[Ar];for(;ee.length<=W;)ee.push(null);return(ee[W]=ee[W]||[]).push(f),A}}return a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Sn=globalThis;function Gn(e){for(let t in e)if(e[t]===Gn)return t;throw Error("Could not find renamed property on target object.")}function qi(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Be(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Be).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const r=e.toString();if(null==r)return""+r;const s=r.indexOf("\n");return s>=0?r.slice(0,s):r}function Dr(e,t){return e?t?`${e} ${t}`:e:t||""}const ii=Gn({__forward_ref__:Gn});function Oi(e){return e.__forward_ref__=Oi,e.toString=function(){return Be(this())},e}function _n(e){return fr(e)?e():e}function fr(e){return"function"==typeof e&&e.hasOwnProperty(ii)&&e.__forward_ref__===Oi}function Ve(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function wt(e){return{providers:e.providers||[],imports:e.imports||[]}}function yt(e){return on(e,Kn)||on(e,wi)}function Ft(e){return null!==yt(e)}function on(e,t){return e.hasOwnProperty(t)?e[t]:null}function dn(e){return e&&(e.hasOwnProperty(or)||e.hasOwnProperty(Si))?e[or]:null}const Kn=Gn({\u0275prov:Gn}),or=Gn({\u0275inj:Gn}),wi=Gn({ngInjectableDef:Gn}),Si=Gn({ngInjectorDef:Gn});class Ee{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,r){this._desc=t,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Ve({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ss(e){return e&&!!e.\u0275providers}const Hi=Gn({\u0275cmp:Gn}),Ls=Gn({\u0275dir:Gn}),ts=Gn({\u0275pipe:Gn}),$=Gn({\u0275mod:Gn}),me=Gn({\u0275fac:Gn}),Q=Gn({__NG_ELEMENT_ID__:Gn}),ie=Gn({__NG_ENV_ID__:Gn});function Ne(e){return"string"==typeof e?e:null==e?"":String(e)}function si(e,t){throw new ft(-200,e)}function gr(e,t){throw new ft(-201,!1)}var Ln=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ln||{});let mr;function zi(){return mr}function yi(e){const t=mr;return mr=e,t}function _s(e,t,r){const s=yt(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:r&Ln.Optional?null:void 0!==t?t:void gr()}const it={},ke="__NG_DI_FLAG__";class mt{injector;constructor(t){this.injector=t}retrieve(t,r){return this.injector.get(t,r.optional?An:it,r)}}const nn="ngTempTokenPath",jn=/\n/gm,hs="__source";function Po(e,t=Ln.Default){if(void 0===Vn())throw new ft(-203,!1);if(null===Vn())return _s(e,void 0,t);{const r=Vn();let s;return s=r instanceof mt?r.injector:r,s.get(e,t&Ln.Optional?null:void 0,t)}}function Yr(e,t=Ln.Default){return(zi()||Po)(_n(e),t)}function En(e,t=Ln.Default){return Yr(e,so(t))}function so(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vs(e){const t=[];for(let r=0;r<e.length;r++){const s=_n(e[r]);if(Array.isArray(s)){if(0===s.length)throw new ft(900,!1);let a,l=Ln.Default;for(let f=0;f<s.length;f++){const _=s[f],A=Qs(_);"number"==typeof A?-1===A?a=_.token:l|=A:a=_}t.push(Yr(a,l))}else t.push(Yr(s))}return t}function Cs(e,t){return e[ke]=t,e.prototype[ke]=t,e}function Qs(e){return e[ke]}const kr=Cs(mi("Optional"),8),fs=Cs(mi("SkipSelf"),4);function wo(e,t){return e.hasOwnProperty(me)?e[me]:null}function qr(e,t){e.forEach(r=>Array.isArray(r)?qr(r,t):t(r))}function Qr(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Io(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Es(e,t,r){let s=Bo(e,t);return s>=0?e[1|s]=r:(s=~s,function uo(e,t,r,s){let a=e.length;if(a==t)e.push(r,s);else if(1===a)e.push(s,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=s}}(e,s,t,r)),s}function Ui(e,t){const r=Bo(e,t);if(r>=0)return e[1|r]}function Bo(e,t){return function Ms(e,t,r){let s=0,a=e.length>>r;for(;a!==s;){const l=s+(a-s>>1),f=e[l<<r];if(t===f)return l<<r;f>t?a=l:s=l+1}return~(a<<r)}(e,t,1)}const xr={},yr=[],Zi=new Ee(""),na=new Ee("",-1),Mo=new Ee("");class Ta{get(t,r=it){if(r===it){const s=new Error(`NullInjectorError: No provider for ${Be(t)}!`);throw s.name="NullInjectorError",s}return r}}function Vs(e,t){const r=e[$]||null;if(!r&&!0===t)throw new Error(`Type ${Be(e)} does not have '\u0275mod' property.`);return r}function _r(e){return e[Hi]||null}function q(e){return e[Ls]||null}function K(e){return e[ts]||null}function we(e){const t=_r(e)||q(e)||K(e);return null!==t&&t.standalone}function Me(e){return{\u0275providers:e}}function xt(...e){return{\u0275providers:Xt(0,e),\u0275fromNgModule:!0}}function Xt(e,...t){const r=[],s=new Set;let a;const l=f=>{r.push(f)};return qr(t,f=>{const _=f;gn(_,l,[],s)&&(a||=[],a.push(_))}),void 0!==a&&bn(a,l),r}function bn(e,t){for(let r=0;r<e.length;r++){const{ngModule:s,providers:a}=e[r];Zn(a,l=>{t(l,s)})}}function gn(e,t,r,s){if(!(e=_n(e)))return!1;let a=null,l=dn(e);const f=!l&&_r(e);if(l||f){if(f&&!f.standalone)return!1;a=e}else{const A=e.ngModule;if(l=dn(A),!l)return!1;a=A}const _=s.has(a);if(f){if(_)return!1;if(s.add(a),f.dependencies){const A="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const F of A)gn(F,t,r,s)}}else{if(!l)return!1;{if(null!=l.imports&&!_){let F;s.add(a);try{qr(l.imports,W=>{gn(W,t,r,s)&&(F||=[],F.push(W))})}finally{}void 0!==F&&bn(F,t)}if(!_){const F=wo(a)||(()=>new a);t({provide:a,useFactory:F,deps:yr},a),t({provide:Mo,useValue:a,multi:!0},a),t({provide:Zi,useValue:()=>Yr(a),multi:!0},a)}const A=l.providers;if(null!=A&&!_){const F=e;Zn(A,W=>{t(W,F)})}}}return a!==e&&void 0!==e.providers}function Zn(e,t){for(let r of e)ss(r)&&(r=r.\u0275providers),Array.isArray(r)?Zn(r,t):t(r)}const Fr=Gn({provide:String,useValue:Gn});function Ii(e){return null!==e&&"object"==typeof e&&Fr in e}function Ri(e){return"function"==typeof e}const Ni=new Ee(""),as={},vi={};let Pi;function ws(){return void 0===Pi&&(Pi=new Ta),Pi}class ei{}class ps extends ei{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,r,s,a){super(),this.parent=r,this.source=s,this.scopes=a,ns(t,f=>this.processProvider(f)),this.records.set(na,ho(void 0,this)),a.has("environment")&&this.records.set(ei,ho(void 0,this));const l=this.records.get(Ni);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Mo,yr,Ln.Self))}retrieve(t,r){return this.get(t,r.optional?An:it,r)}destroy(){jo(this),this._destroyed=!0;const t=Ie(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(t)}}onDestroy(t){return jo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){jo(this);const r=er(this),s=yi(void 0);try{return t()}finally{er(r),yi(s)}}get(t,r=it,s=Ln.Default){if(jo(this),t.hasOwnProperty(ie))return t[ie](this);s=so(s);const l=er(this),f=yi(void 0);try{if(!(s&Ln.SkipSelf)){let A=this.records.get(t);if(void 0===A){const F=function $o(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ee}(t)&&yt(t);A=F&&this.injectableDefInScope(F)?ho(Ws(t),as):null,this.records.set(t,A)}if(null!=A)return this.hydrate(t,A,s)}return(s&Ln.Self?ws():this.parent).get(t,r=s&Ln.Optional&&r===it?null:r)}catch(_){if("NullInjectorError"===_.name){if((_[nn]=_[nn]||[]).unshift(Be(t)),l)throw _;return function Ss(e,t,r,s){const a=e[nn];throw t[hs]&&a.unshift(t[hs]),e.message=function Eo(e,t,r,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Be(t);if(Array.isArray(t))a=t.map(Be).join(" -> ");else if("object"==typeof t){let l=[];for(let f in t)if(t.hasOwnProperty(f)){let _=t[f];l.push(f+":"+("string"==typeof _?JSON.stringify(_):Be(_)))}a=`{${l.join(", ")}}`}return`${r}${s?"("+s+")":""}[${a}]: ${e.replace(jn,"\n  ")}`}("\n"+e.message,a,r,s),e.ngTokenPath=a,e[nn]=null,e}(_,t,"R3InjectorError",this.source)}throw _}finally{yi(f),er(l)}}resolveInjectorInitializers(){const t=Ie(null),r=er(this),s=yi(void 0);try{const l=this.get(Zi,yr,Ln.Self);for(const f of l)f()}finally{er(r),yi(s),Ie(t)}}toString(){const t=[],r=this.records;for(const s of r.keys())t.push(Be(s));return`R3Injector[${t.join(", ")}]`}processProvider(t){let r=Ri(t=_n(t))?t:_n(t&&t.provide);const s=function da(e){return Ii(e)?ho(void 0,e.useValue):ho(ba(e),as)}(t);if(!Ri(t)&&!0===t.multi){let a=this.records.get(r);a||(a=ho(void 0,as,!0),a.factory=()=>vs(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,s)}hydrate(t,r,s){const a=Ie(null);try{return r.value===vi?si(Be(t)):r.value===as&&(r.value=vi,r.value=r.factory(void 0,s)),"object"==typeof r.value&&r.value&&function ha(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Ie(a)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=_n(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Ws(e){const t=yt(e),r=null!==t?t.factory:wo(e);if(null!==r)return r;if(e instanceof Ee)throw new ft(204,!1);if(e instanceof Function)return function lo(e){if(e.length>0)throw new ft(204,!1);const r=function Bn(e){return e&&(e[Kn]||e[wi])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new ft(204,!1)}function ba(e,t,r){let s;if(Ri(e)){const a=_n(e);return wo(a)||Ws(a)}if(Ii(e))s=()=>_n(e.useValue);else if(function Bi(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...vs(e.deps||[]));else if(function _i(e){return!(!e||!e.useExisting)}(e))s=(a,l)=>Yr(_n(e.useExisting),void 0!==l&&l&Ln.Optional?Ln.Optional:void 0);else{const a=_n(e&&(e.useClass||e.provide));if(!function Fa(e){return!!e.deps}(e))return wo(a)||Ws(a);s=()=>new a(...vs(e.deps))}return s}function jo(e){if(e.destroyed)throw new ft(205,!1)}function ho(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function ns(e,t){for(const r of e)Array.isArray(r)?ns(r,t):r&&ss(r)?ns(r.\u0275providers,t):t(r)}function No(e,t){let r;e instanceof ps?(jo(e),r=e):r=new mt(e);const a=er(r),l=yi(void 0);try{return t()}finally{er(a),yi(l)}}function hi(){return void 0!==zi()||null!=Vn()}function Ns(e){if(!hi())throw new ft(-203,!1)}const Wr=0,rn=1,nr=2,fi=3,Us=4,Wi=5,Ks=6,fo=7,ti=8,P=9,N=10,z=11,Se=12,Lt=13,Rn=14,ar=15,ji=16,Gi=17,Is=18,Go=19,Ca=20,Nn=26,pa=1,Sa=9,$i=10;function Yi(e){return Array.isArray(e)&&"object"==typeof e[pa]}function j(e){return Array.isArray(e)&&!0===e[pa]}function E(e){return!!(4&e.flags)}function v(e){return e.componentOffset>-1}function M(e){return!(1&~e.flags)}function V(e){return!!e.template}function Z(e){return!!(512&e[nr])}function w(e){return!(256&~e[nr])}class Xa{previousValue;currentValue;firstChange;constructor(t,r,s){this.previousValue=t,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}}function Za(e,t,r,s){null!==t?t.applyValueToInputSignal(t,s):e[r]=s}const Pl=(()=>{const e=()=>Ml;return e.ngInherit=!0,e})();function Ml(e){return e.type.prototype.ngOnChanges&&(e.setInput=rr),wn}function wn(){const e=Xr(this),t=e?.current;if(t){const r=e.previous;if(r===xr)e.previous=t;else for(let s in t)r[s]=t[s];e.current=null,this.ngOnChanges(t)}}function rr(e,t,r,s,a){const l=this.declaredInputs[s],f=Xr(e)||function Zs(e,t){return e[cr]=t}(e,{previous:xr,current:null}),_=f.current||(f.current={}),A=f.previous,F=A[l];_[l]=new Xa(F&&F.currentValue,r,A===xr),Za(e,t,a,r)}const cr="__ngSimpleChanges__";function Xr(e){return e[cr]||null}const Vr=function(e,t=null,r){},ki="svg";function ci(e){for(;Array.isArray(e);)e=e[Wr];return e}function Ao(e,t){return ci(t[e])}function Di(e,t){return ci(t[e.index])}function qo(e,t){return e.data[t]}function ia(e,t){return e[t]}function Co(e,t){const r=t[e];return Yi(r)?r:r[Wr]}function xs(e){return!(128&~e[nr])}function sa(e,t){return null==t?null:e[t]}function Hu(e){e[Gi]=0}function Oc(e){1024&e[nr]||(e[nr]|=1024,xs(e)&&_c(e))}function au(e){return!!(9216&e[nr]||e[24]?.dirty)}function ih(e){e[N].changeDetectionScheduler?.notify(8),64&e[nr]&&(e[nr]|=1024),au(e)&&_c(e)}function _c(e){e[N].changeDetectionScheduler?.notify(0);let t=oa(e);for(;null!==t&&!(8192&t[nr])&&(t[nr]|=8192,xs(t));)t=oa(t)}function Ya(e,t){if(w(e))throw new ft(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function oa(e){const t=e[fi];return j(t)?t[fi]:t}function vc(e){return e[fo]??=[]}function Nl(e){return e.cleanup??=[]}const Ir={lFrame:Ku(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let xl=!1;function Tf(){return Ir.bindingsEnabled}function Nt(){return Ir.lFrame.lView}function vr(){return Ir.lFrame.tView}function Ec(e){return Ir.lFrame.contextLView=e,e[ti]}function aa(e){return Ir.lFrame.contextLView=null,e}function Ur(){let e=bf();for(;null!==e&&64===e.type;)e=e.parent;return e}function bf(){return Ir.lFrame.currentTNode}function Qo(e,t){const r=Ir.lFrame;r.currentTNode=e,r.isParent=t}function Fl(){return Ir.lFrame.isParent}function Ll(){Ir.lFrame.isParent=!1}function wg(){return xl}function Lc(e){const t=xl;return xl=e,t}function To(){const e=Ir.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Xo(){return Ir.lFrame.bindingIndex++}function ya(e){const t=Ir.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Tg(e,t){const r=Ir.lFrame;r.bindingIndex=r.bindingRootIndex=e,Ba(t)}function Ba(e){Ir.lFrame.currentDirectiveIndex=e}function uu(e){const t=Ir.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Gu(){return Ir.lFrame.currentQueryIndex}function Ul(e){Ir.lFrame.currentQueryIndex=e}function Ja(e){const t=e[rn];return 2===t.type?t.declTNode:1===t.type?e[Wi]:null}function Bl(e,t,r){if(r&Ln.SkipSelf){let a=t,l=e;for(;!(a=a.parent,null!==a||r&Ln.Host||(a=Ja(l),null===a||(l=l[Rn],10&a.type))););if(null===a)return!1;t=a,e=l}const s=Ir.lFrame=Sf();return s.currentTNode=t,s.lView=e,!0}function jl(e){const t=Sf(),r=e[rn];Ir.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Sf(){const e=Ir.lFrame,t=null===e?null:e.child;return null===t?Ku(e):t}function Ku(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ja(){const e=Ir.lFrame;return Ir.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Vc=ja;function ec(){const e=ja();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bo(){return Ir.lFrame.selectedIndex}function tc(e){Ir.lFrame.selectedIndex=e}function Mi(){const e=Ir.lFrame;return qo(e.tView,e.selectedIndex)}function Rf(){Ir.lFrame.currentNamespace=ki}function ah(){!function Hl(){Ir.lFrame.currentNamespace=null}()}let Bc=!0;function nc(){return Bc}function $a(e){Bc=e}function rc(e,t){for(let r=t.directiveStart,s=t.directiveEnd;r<s;r++){const l=e.data[r].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:_,ngAfterViewInit:A,ngAfterViewChecked:F,ngOnDestroy:W}=l;f&&(e.contentHooks??=[]).push(-r,f),_&&((e.contentHooks??=[]).push(r,_),(e.contentCheckHooks??=[]).push(r,_)),A&&(e.viewHooks??=[]).push(-r,A),F&&((e.viewHooks??=[]).push(r,F),(e.viewCheckHooks??=[]).push(r,F)),null!=W&&(e.destroyHooks??=[]).push(r,W)}}function Wl(e,t,r){Pf(e,t,3,r)}function qu(e,t,r,s){(3&e[nr])===r&&Pf(e,t,r,s)}function Qu(e,t){let r=e[nr];(3&r)===t&&(r&=16383,r+=1,e[nr]=r)}function Pf(e,t,r,s){const l=s??-1,f=t.length-1;let _=0;for(let A=void 0!==s?65535&e[Gi]:0;A<f;A++)if("number"==typeof t[A+1]){if(_=t[A],null!=s&&_>=s)break}else t[A]<0&&(e[Gi]+=65536),(_<l||-1==l)&&(Xu(e,r,t,A),e[Gi]=(4294901760&e[Gi])+A+2),A++}function Mf(e,t){Vr(4,e,t);const r=Ie(null);try{t.call(e)}finally{Ie(r),Vr(5,e,t)}}function Xu(e,t,r,s){const a=r[s]<0,l=r[s+1],_=e[a?-r[s]:r[s]];a?e[nr]>>14<e[Gi]>>16&&(3&e[nr])===t&&(e[nr]+=16384,Mf(_,l)):Mf(_,l)}const Zo=-1;class _a{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,r,s){this.factory=t,this.canSeeViewProviders=r,this.injectImpl=s}}function uh(e){return 3===e||4===e||6===e}function Kl(e){return 64===e.charCodeAt(0)}function Tc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?r=a:0===r||lh(e,r,a,0,-1===r||2===r?t[++s]:null)}}return e}function lh(e,t,r,s,a){let l=0,f=e.length;if(-1===t)f=-1;else for(;l<e.length;){const _=e[l++];if("number"==typeof _){if(_===t){f=-1;break}if(_>t){f=l-1;break}}}for(;l<e.length;){const _=e[l];if("number"==typeof _)break;if(_===r)return void(null!==a&&(e[l+1]=a));l++,null!==a&&l++}-1!==f&&(e.splice(f,0,t),l=f+1),e.splice(l++,0,r),null!==a&&e.splice(l++,0,a)}function bc(e){return e!==Zo}function Yu(e){return 32767&e}function lu(e,t){let r=function dh(e){return e>>16}(e),s=t;for(;r>0;)s=s[Rn],r--;return s}let du=!0;function ql(e){const t=du;return du=e,t}const $c=255,hu=5;let fu=0;const Na={};function pu(e,t){const r=hh(e,t);if(-1!==r)return r;const s=t[rn];s.firstCreatePass&&(e.injectorIndex=t.length,Ys(s.data,e),Ys(t,null),Ys(s.blueprint,null));const a=ic(e,t),l=e.injectorIndex;if(bc(a)){const f=Yu(a),_=lu(a,t),A=_[rn].data;for(let F=0;F<8;F++)t[l+F]=_[f+F]|A[f+F]}return t[l+8]=a,l}function Ys(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ic(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,s=null,a=t;for(;null!==a;){if(s=mh(a),null===s)return Zo;if(r++,a=a[Rn],-1!==s.injectorIndex)return s.injectorIndex|r<<16}return Zo}function gu(e,t,r){!function Ff(e,t,r){let s;"string"==typeof r?s=r.charCodeAt(0)||0:r.hasOwnProperty(Q)&&(s=r[Q]),null==s&&(s=r[Q]=fu++);const a=s&$c;t.data[e+(a>>hu)]|=1<<a}(e,t,r)}function Ha(e,t,r){if(r&Ln.Optional||void 0!==e)return e;gr()}function Dc(e,t,r,s){if(r&Ln.Optional&&void 0===s&&(s=null),!(r&(Ln.Self|Ln.Host))){const a=e[P],l=yi(void 0);try{return a?a.get(t,s,r&Ln.Optional):_s(t,s,r&Ln.Optional)}finally{yi(l)}}return Ha(s,0,r)}function Vf(e,t,r,s=Ln.Default,a){if(null!==e){if(2048&t[nr]&&!(s&Ln.Self)){const f=function Zl(e,t,r,s,a){let l=e,f=t;for(;null!==l&&null!==f&&2048&f[nr]&&!Z(f);){const _=Hc(l,f,r,s|Ln.Self,Na);if(_!==Na)return _;let A=l.parent;if(!A){const F=f[Ca];if(F){const W=F.get(r,Na,s);if(W!==Na)return W}A=mh(f),f=f[Rn]}l=A}return a}(e,t,r,s,Na);if(f!==Na)return f}const l=Hc(e,t,r,s,Na);if(l!==Na)return l}return Dc(t,r,s,a)}function Hc(e,t,r,s,a){const l=function oc(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Q)?e[Q]:void 0;return"number"==typeof t?t>=0?t&$c:bg:t}(r);if("function"==typeof l){if(!Bl(t,e,s))return s&Ln.Host?Ha(a,0,s):Dc(t,r,s,a);try{let f;if(f=l(s),null!=f||s&Ln.Optional)return f;gr()}finally{Vc()}}else if("number"==typeof l){let f=null,_=hh(e,t),A=Zo,F=s&Ln.Host?t[ar][Wi]:null;for((-1===_||s&Ln.SkipSelf)&&(A=-1===_?ic(e,t):t[_+8],A!==Zo&&ph(s,!1)?(f=t[rn],_=Yu(A),t=lu(A,t)):_=-1);-1!==_;){const W=t[rn];if(Ql(l,_,W.data)){const ee=fh(_,t,r,f,s,F);if(ee!==Na)return ee}A=t[_+8],A!==Zo&&ph(s,t[rn].data[_+8]===F)&&Ql(l,_,t)?(f=W,_=Yu(A),t=lu(A,t)):_=-1}}return a}function fh(e,t,r,s,a,l){const f=t[rn],_=f.data[e+8],W=za(_,f,r,null==s?v(_)&&du:s!=f&&!!(3&_.type),a&Ln.Host&&l===_);return null!==W?sc(t,f,W,_,a):Na}function za(e,t,r,s,a){const l=e.providerIndexes,f=t.data,_=1048575&l,A=e.directiveStart,W=l>>20,Ae=a?_+W:e.directiveEnd;for(let he=s?_:_+W;he<Ae;he++){const qe=f[he];if(he<A&&r===qe||he>=A&&qe.type===r)return he}if(a){const he=f[A];if(he&&V(he)&&he.type===r)return A}return null}function sc(e,t,r,s,a){let l=e[r];const f=t.data;if(l instanceof _a){const _=l;_.resolving&&si(function Ct(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ne(e)}(f[r]));const A=ql(_.canSeeViewProviders);_.resolving=!0;const W=_.injectImpl?yi(_.injectImpl):null;Bl(e,s,Ln.Default);try{l=e[r]=_.factory(void 0,a,f,e,s),t.firstCreatePass&&r>=s.directiveStart&&function Ic(e,t,r){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:l}=t.type.prototype;if(s){const f=Ml(t);(r.preOrderHooks??=[]).push(e,f),(r.preOrderCheckHooks??=[]).push(e,f)}a&&(r.preOrderHooks??=[]).push(0-e,a),l&&((r.preOrderHooks??=[]).push(e,l),(r.preOrderCheckHooks??=[]).push(e,l))}(r,f[r],t)}finally{null!==W&&yi(W),ql(A),_.resolving=!1,Vc()}}return l}function Ql(e,t,r){return!!(r[t+(e>>hu)]&1<<e)}function ph(e,t){return!(e&Ln.Self||e&Ln.Host&&t)}class Fs{_tNode;_lView;constructor(t,r){this._tNode=t,this._lView=r}get(t,r,s){return Vf(this._tNode,this._lView,t,so(s),r)}}function bg(){return new Fs(Ur(),Nt())}function Xl(e){return Tr(()=>{const t=e.prototype.constructor,r=t[me]||gh(t),s=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==s;){const l=a[me]||gh(a);if(l&&l!==r)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function gh(e){return fr(e)?()=>{const t=gh(_n(e));return t&&t()}:wo(e)}function mh(e){const t=e[rn],r=t.type;return 2===r?t.declTNode:1===r?e[Wi]:null}function D(e){return function Lf(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const s=r.length;let a=0;for(;a<s;){const l=r[a];if(uh(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<s&&"string"==typeof r[a];)a++;else{if(l===t)return r[a+1];a+=2}}}return null}(Ur(),e)}function Wc(e,t=null,r=null,s){const a=Yl(e,t,r,s);return a.resolveInjectorInitializers(),a}function Yl(e,t=null,r=null,s,a=new Set){const l=[r||yr,xt(e)];return s=s||("object"==typeof e?void 0:Be(e)),new ps(l,t||ws(),s||null,a)}class go{static THROW_IF_NOT_FOUND=it;static NULL=new Ta;static create(t,r){if(Array.isArray(t))return Wc({name:""},r,t,"");{const s=t.name??"";return Wc({name:s},t.parent,t.providers,s)}}static \u0275prov=Ve({token:go,providedIn:"any",factory:()=>Yr(na)});static __NG_ELEMENT_ID__=-1}new Ee("").__NG_ELEMENT_ID__=e=>{const t=Ur();if(null===t)throw new ft(204,!1);if(2&t.type)return t.value;if(e&Ln.Optional)return null;throw new ft(204,!1)};const mu=!1;let Fo=(()=>class e{static __NG_ELEMENT_ID__=Uf;static __NG_ENV_ID__=r=>r})();class yh extends Fo{_lView;constructor(t){super(),this._lView=t}onDestroy(t){const r=this._lView;return w(r)?(t(),()=>{}):(Ya(r,t),()=>function Fc(e,t){if(null===e[21])return;const r=e[21].indexOf(t);-1!==r&&e[21].splice(r,1)}(r,t))}}function Uf(){return new yh(Nt())}class mo{}const Gc=new Ee("",{providedIn:"root",factory:()=>!1}),Bf=new Ee(""),jf=new Ee("");let Kc=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ci.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Ve({token:e,providedIn:"root",factory:()=>new e})}return e})(),el=(()=>{class e{internalPendingTasks=En(Kc);scheduler=En(mo);add(){const r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r))}}run(r){var s=this;return(0,b.A)(function*(){const a=s.add();try{return yield r()}finally{a()}})()}static \u0275prov=Ve({token:e,providedIn:"root",factory:()=>new e})}return e})();const cc=class $f extends pn.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,hi()&&(this.destroyRef=En(Fo,{optional:!0})??void 0,this.pendingTasks=En(Kc,{optional:!0})??void 0)}emit(t){const r=Ie(null);try{super.next(t)}finally{Ie(r)}}subscribe(t,r,s){let a=t,l=r||(()=>null),f=s;if(t&&"object"==typeof t){const A=t;a=A.next?.bind(A),l=A.error?.bind(A),f=A.complete?.bind(A)}this.__isAsync&&(l=this.wrapInTimeout(l),a&&(a=this.wrapInTimeout(a)),f&&(f=this.wrapInTimeout(f)));const _=super.subscribe({next:a,error:l,complete:f});return t instanceof dr.yU&&t.add(_),_}wrapInTimeout(t){return r=>{const s=this.pendingTasks?.add();setTimeout(()=>{try{t(r)}finally{void 0!==s&&this.pendingTasks?.remove(s)}})}}};function tl(...e){}function Gy(e){let t,r;function s(){e=tl;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),s()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),s()})),()=>s()}function Cg(e){return queueMicrotask(()=>e()),()=>{e=tl}}const Sg="isAngularZone",Hf=Sg+"_ID";let qy=0;class gs{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new cc(!1);onMicrotaskEmpty=new cc(!1);onStable=new cc(!1);onError=new cc(!1);constructor(t){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:l=mu}=t;if(typeof Zone>"u")throw new ft(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!a&&s,f.shouldCoalesceRunChangeDetection=a,f.callbackScheduled=!1,f.scheduleInRootZone=l,function AE(e){const t=()=>{!function Qy(e){function t(){Gy(()=>{e.callbackScheduled=!1,zf(e),e.isCheckStableRunning=!0,Pg(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),zf(e))}(e)},r=qy++;e._inner=e._inner.fork({name:"angular",properties:{[Sg]:!0,[Hf]:r,[Hf+r]:!0},onInvokeTask:(s,a,l,f,_,A)=>{if(function Mg(e){return Ng(e,"__ignore_ng_zone__")}(A))return s.invokeTask(l,f,_,A);try{return Xy(e),s.invokeTask(l,f,_,A)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&t(),nl(e)}},onInvoke:(s,a,l,f,_,A,F)=>{try{return Xy(e),s.invoke(l,f,_,A,F)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Wf(e){return Ng(e,"__scheduler_tick__")}(A)&&t(),nl(e)}},onHasTask:(s,a,l,f)=>{s.hasTask(l,f),a===l&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,zf(e),Pg(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,a,l,f)=>(s.handleError(l,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Sg)}static assertInAngularZone(){if(!gs.isInAngularZone())throw new ft(909,!1)}static assertNotInAngularZone(){if(gs.isInAngularZone())throw new ft(909,!1)}run(t,r,s){return this._inner.run(t,r,s)}runTask(t,r,s,a){const l=this._inner,f=l.scheduleEventTask("NgZoneEvent: "+a,t,Rg,tl,tl);try{return l.runTask(f,r,s)}finally{l.cancelTask(f)}}runGuarded(t,r,s){return this._inner.runGuarded(t,r,s)}runOutsideAngular(t){return this._outer.run(t)}}const Rg={};function Pg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function zf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Xy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function nl(e){e._nesting--,Pg(e)}class yu{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new cc;onMicrotaskEmpty=new cc;onStable=new cc;onError=new cc;run(t,r,s){return t.apply(r,s)}runGuarded(t,r,s){return t.apply(r,s)}runOutsideAngular(t){return t()}runTask(t,r,s,a){return t.apply(r,s)}}function Ng(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class uc{_console=console;handleError(t){this._console.error("ERROR",t)}}const CE=new Ee("",{providedIn:"root",factory:()=>{const e=En(gs),t=En(uc);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function kg(e,t){return gi(e,t)}const e_=(kg.required=function Jy(e){return gi(Zt,e)},kg);function t_(){return rl(Ur(),Nt())}function rl(e,t){return new il(Di(e,t))}let il=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=t_})();function lc(e){return e instanceof il?e.nativeElement:e}function qc(e,t){const r=function fe(e,t){const r=Object.create(Ze);r.value=e,void 0!==t&&(r.equal=t);const s=()=>(dt(r),r.value);return s[rt]=r,s}(e,t?.equal),s=r[rt];return r.set=a=>ye(s,a),r.update=a=>function oe(e,t){zt()||kt(e),ye(e,t(e.value))}(s,a),r.asReadonly=Jl.bind(r),r}function Jl(){const e=this[rt];if(void 0===e.readonlyFn){const t=()=>this();t[rt]=e,e.readonlyFn=t}return e.readonlyFn}function qf(e){return function _h(e){return"function"==typeof e&&void 0!==e[rt]}(e)&&"function"==typeof e.set}function xg(){return this._results[Symbol.iterator]()}class n_{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new pn.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const s=function os(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function zr(e,t,r){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){let a=e[s],l=t[s];if(r&&(a=r(a),l=r(l)),l!==a)return!1}return!0}(this._results,s,r))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=xg}function sl(e){return!(128&~e.flags)}var Xf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Xf||{});const Zf=new Map;let Yo=0;function al(e){Zf.delete(e[Go])}const Lg="__ngContext__";function va(e,t){Yi(t)?(e[Lg]=t[Go],function s_(e){Zf.set(e[Go],e)}(t)):e[Lg]=t}function Xc(e){return l_(e[Se])}function jg(e){return l_(e[Us])}function l_(e){for(;null!==e&&!j(e);)e=e[Us];return e}let ip;function NE(e){ip=e}function Wa(){if(void 0!==ip)return ip;if(typeof document<"u")return document;throw new ft(210,!1)}const _u=new Ee("",{providedIn:"root",factory:()=>Gg}),Gg="ng",Kg=new Ee(""),qg=new Ee("",{providedIn:"platform",factory:()=>"unknown"}),Qg=new Ee(""),p_=new Ee("",{providedIn:"root",factory:()=>Wa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),m_=new Ee("",{providedIn:"root",factory:()=>!1});var om=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(om||{});const cd=new Ee(""),y_=new Set;function wa(e){y_.has(e)||(y_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let cp=(()=>class e{view;node;constructor(r,s){this.view=r,this.node=s}static __NG_ELEMENT_ID__=am})();function am(){return new cp(Nt(),Ur())}var dl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(dl||{});let Sh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ve({token:e,providedIn:"root",factory:()=>new e})}return e})();const up=[dl.EarlyRead,dl.Write,dl.MixedReadWrite,dl.Read];let lp=(()=>{class e{ngZone=En(gs);scheduler=En(mo);errorHandler=En(uc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){En(cd,{optional:!0})}execute(){const r=this.sequences.size>0;r&&Vr(16),this.executing=!0;for(const s of up)for(const a of this.sequences)if(!a.erroredOrDestroyed&&a.hooks[s])try{a.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,a.hooks[s])(a.pipelinedValue),a.snapshot))}catch(l){a.erroredOrDestroyed=!0,this.errorHandler?.handleError(l)}this.executing=!1;for(const s of this.sequences)s.afterRun(),s.once&&(this.sequences.delete(s),s.destroy());for(const s of this.deferredRegistrations)this.sequences.add(s);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&Vr(17)}register(r){const{view:s}=r;void 0!==s?((s[25]??=[]).push(r),_c(s),s[nr]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,s){return s?s.run(om.AFTER_NEXT_RENDER,r):r()}static \u0275prov=Ve({token:e,providedIn:"root",factory:()=>new e})}return e})();class v_{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,r,s,a,l,f=null){this.impl=t,this.hooks=r,this.view=s,this.once=a,this.snapshot=f,this.unregisterOnDestroy=l?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(r=>r!==this))}}function cm(e,t){!t?.injector&&Ns();const r=t?.injector??En(go);return wa("NgAfterNextRender"),function E_(e,t,r,s){const a=t.get(Sh);a.impl??=t.get(lp);const l=t.get(cd,null,{optional:!0}),f=r?.phase??dl.MixedReadWrite,_=!0!==r?.manualCleanup?t.get(Fo):null,A=t.get(cp,null,{optional:!0}),F=new v_(a.impl,function um(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,f),A?.view,s,_,l?.snapshot(null));return a.impl.register(F),F}(e,r,t,!0)}let Fh=(e,t,r,s)=>{};function XE(e,t){const r=e.contentQueries;if(null!==r){const s=Ie(null);try{for(let a=0;a<r.length;a+=2){const f=r[a+1];if(-1!==f){const _=e.data[f];Ul(r[a]),_.contentQueries(2,t[f],f)}}}finally{Ie(s)}}}function H_(e,t,r){Ul(0);const s=Ie(null);try{t(e,r)}finally{Ie(s)}}function $h(e,t,r){if(E(t)){const s=Ie(null);try{const l=t.directiveEnd;for(let f=t.directiveStart;f<l;f++){const _=e.data[f];_.contentQueries&&_.contentQueries(1,r[f],f)}}finally{Ie(s)}}}var Rc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Rc||{});let Rm,Pm;function Hh(e){return function ZE(){if(void 0===Rm&&(Rm=null,Sn.trustedTypes))try{Rm=Sn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Rm}()?.createHTML(e)||e}function z_(){if(void 0===Pm&&(Pm=null,Sn.trustedTypes))try{Pm=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pm}function YE(e){return z_()?.createHTML(e)||e}function W_(e){return z_()?.createScriptURL(e)||e}class ka{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mr})`}}class fl extends ka{getTypeName(){return"HTML"}}class ET extends ka{getTypeName(){return"Style"}}class wd extends ka{getTypeName(){return"Script"}}class Mm extends ka{getTypeName(){return"URL"}}class Ip extends ka{getTypeName(){return"ResourceURL"}}function Jc(e){return e instanceof ka?e.changingThisBreaksApplicationSecurity:e}function Id(e,t){const r=function G_(e){return e instanceof ka&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Mr})`)}return r===t}function K_(e){return new fl(e)}function Tp(e){return new ET(e)}function JE(e){return new wd(e)}function pl(e){return new Mm(e)}function bp(e){return new Ip(e)}class q_{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Hh(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.firstChild?.remove(),r)}catch{return null}}}class Nm{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Hh(t),r}}const xm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bd(e){return(e=String(e)).match(xm)?e:"unsafe:"+e}function pc(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function gl(...e){const t={};for(const r of e)for(const s in r)r.hasOwnProperty(s)&&(t[s]=!0);return t}const Om=pc("area,br,col,hr,img,wbr"),bu=pc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fm=pc("rp,rt"),Lm=gl(Om,gl(bu,pc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gl(Fm,pc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gl(Fm,bu)),Dd=pc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ad=gl(Dd,pc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nw=pc("script,style,template");class Ap{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let r=t.firstChild,s=!0,a=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?s=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,s&&r.firstChild)a.push(r),r=zh(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let l=Um(r);if(l){r=l;break}r=a.pop()}return this.buf.join("")}startElement(t){const r=Z_(t).toLowerCase();if(!Lm.hasOwnProperty(r))return this.sanitizedSomething=!0,!nw.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const s=t.attributes;for(let a=0;a<s.length;a++){const l=s.item(a),f=l.name,_=f.toLowerCase();if(!Ad.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let A=l.value;Dd[_]&&(A=bd(A)),this.buf.push(" ",f,'="',iw(A),'"')}return this.buf.push(">"),!0}endElement(t){const r=Z_(t).toLowerCase();Lm.hasOwnProperty(r)&&!Om.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(iw(t))}}function Um(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Cd(t);return t}function zh(e){const t=e.firstChild;if(t&&function X_(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Cd(t);return t}function Z_(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Cd(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const rw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sd=/([^\#-~ |!])/g;function iw(e){return e.replace(/&/g,"&amp;").replace(rw,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Sd,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bm;function Cp(e,t){let r=null;try{Bm=Bm||function Td(e){const t=new Nm(e);return function km(){try{return!!(new window.DOMParser).parseFromString(Hh(""),"text/html")}catch{return!1}}()?new q_(t):t}(e);let s=t?String(t):"";r=Bm.getInertBodyElement(s);let a=5,l=s;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,s=l,l=r.innerHTML,r=Bm.getInertBodyElement(s)}while(s!==l);return Hh((new Ap).sanitizeChildren(Y_(r)||r))}finally{if(r){const s=Y_(r)||r;for(;s.firstChild;)s.firstChild.remove()}}}function Y_(e){return"content"in e&&function Sp(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Rd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Rd||{});function sw(e){const t=Pd();return t?YE(t.sanitize(Rd.HTML,e)||""):Id(e,"HTML")?YE(Jc(e)):Cp(Wa(),Ne(e))}function J_(e){const t=Pd();return t?t.sanitize(Rd.URL,e)||"":Id(e,"URL")?Jc(e):bd(Ne(e))}function ow(e){const t=Pd();if(t)return W_(t.sanitize(Rd.RESOURCE_URL,e)||"");if(Id(e,"ResourceURL"))return W_(Jc(e));throw new ft(904,!1)}function jm(e,t,r){return function ev(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?ow:J_}(t,r)(e)}function Pd(){const e=Nt();return e&&e[N].sanitizer}const tv=/^>|^->|<!--|-->|--!>|<!-$/g,Mp=/(<|>)/g;function eu(e){return e instanceof Function?e():e}function xT(e,t,r){let s=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const l=t.length;if(a+l===s||e.charCodeAt(a+l)<=32)return a}r=a+1}}const ov="ng-template";function yw(e,t,r,s){let a=0;if(s){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==xT(t[a+1].toLowerCase(),r,0))return!0}else if(Hm(e))return!1;if(a=t.indexOf(1,a),a>-1){let l;for(;++a<t.length&&"string"==typeof(l=t[a]);)if(l.toLowerCase()===r)return!0}return!1}function Hm(e){return 4===e.type&&e.value!==ov}function OT(e,t,r){return t===(4!==e.type||r?e.value:ov)}function _w(e,t,r){let s=4;const a=e.attrs,l=null!==a?function FT(e){for(let t=0;t<e.length;t++)if(uh(e[t]))return t;return e.length}(a):0;let f=!1;for(let _=0;_<t.length;_++){const A=t[_];if("number"!=typeof A){if(!f)if(4&s){if(s=2|1&s,""!==A&&!OT(e,A,r)||""===A&&1===t.length){if(gc(s))return!1;f=!0}}else if(8&s){if(null===a||!yw(e,a,A,r)){if(gc(s))return!1;f=!0}}else{const F=t[++_],W=Au(A,a,Hm(e),r);if(-1===W){if(gc(s))return!1;f=!0;continue}if(""!==F){let ee;if(ee=W>l?"":a[W+1].toLowerCase(),2&s&&F!==ee){if(gc(s))return!1;f=!0}}}}else{if(!f&&!gc(s)&&!gc(A))return!1;if(f&&gc(A))continue;f=!1,s=A|1&s}}return gc(s)||f}function gc(e){return!(1&e)}function Au(e,t,r,s){if(null===t)return-1;let a=0;if(s||!r){let l=!1;for(;a<t.length;){const f=t[a];if(f===e)return a;if(3===f||6===f)l=!0;else{if(1===f||2===f){let _=t[++a];for(;"string"==typeof _;)_=t[++a];continue}if(4===f)break;if(0===f){a+=4;continue}}a+=l?1:2}return-1}return function LT(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const s=e[r];if("number"==typeof s)return-1;if(s===t)return r;r++}return-1}(t,e)}function av(e,t,r=!1){for(let s=0;s<t.length;s++)if(_w(e,t[s],r))return!0;return!1}function Ew(e,t){return e?":not("+t.trim()+")":t}function UT(e){let t=e[0],r=1,s=2,a="",l=!1;for(;r<e.length;){let f=e[r];if("string"==typeof f)if(2&s){const _=e[++r];a+="["+f+(_.length>0?'="'+_+'"':"")+"]"}else 8&s?a+="."+f:4&s&&(a+=" "+f);else""!==a&&!gc(f)&&(t+=Ew(l,a),a=""),s=f,l=l||!gc(s);r++}return""!==a&&(t+=Ew(l,a)),t}const Br={};function Wm(e,t){return e.createComment(function lw(e){return e.replace(tv,t=>t.replace(Mp,"\u200b$1\u200b"))}(t))}function Gm(e,t,r){return e.createElement(t,r)}function xd(e,t,r,s,a){e.insertBefore(t,r,s,a)}function ww(e,t,r){e.appendChild(t,r)}function Iw(e,t,r,s,a){null!==s?xd(e,t,r,s,a):ww(e,t,r)}function Tw(e,t,r){const{mergedAttrs:s,classes:a,styles:l}=r;null!==s&&function ch(e,t,r){let s=0;for(;s<r.length;){const a=r[s];if("number"==typeof a){if(0!==a)break;s++;const l=r[s++],f=r[s++],_=r[s++];e.setAttribute(t,f,_,l)}else{const l=a,f=r[++s];Kl(l)?e.setProperty(t,l,f):e.setAttribute(t,l,f),s++}}}(e,t,s),null!==a&&function HT(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}(e,t,a),null!==l&&function $T(e,t,r){e.setAttribute(t,"style",r)}(e,t,l)}function Gh(e,t,r,s,a,l,f,_,A,F,W){const ee=Nn+s,Ae=ee+a,he=function kp(e,t){const r=[];for(let s=0;s<t;s++)r.push(s<e?null:Br);return r}(ee,Ae),qe="function"==typeof F?F():F;return he[rn]={type:e,blueprint:he,template:r,queries:null,viewQuery:_,declTNode:t,data:he.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:Ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:A,consts:qe,incompleteFirstPass:!1,ssrId:W}}function n(e,t,r,s,a,l,f,_,A,F,W){const ee=t.blueprint.slice();return ee[Wr]=a,ee[nr]=1228|s,(null!==F||e&&2048&e[nr])&&(ee[nr]|=2048),Hu(ee),ee[fi]=ee[Rn]=e,ee[ti]=r,ee[N]=f||e&&e[N],ee[z]=_||e&&e[z],ee[P]=A||e&&e[P]||null,ee[Wi]=l,ee[Go]=function SE(){return Yo++}(),ee[Ks]=W,ee[Ca]=F,ee[ar]=2==t.type?e[ar]:ee,ee}function o(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function u(e,t,r,s){if(0===r)return-1;const a=t.length;for(let l=0;l<r;l++)t.push(s),e.blueprint.push(s),e.data.push(null);return a}function h(e,t){return e[Se]?e[Lt][Us]=t:e[Se]=t,e[Lt]=t,t}function y(e=1){R(vr(),Nt(),bo()+e,!1)}function R(e,t,r,s){if(!s)if(3&~t[nr]){const l=e.preOrderHooks;null!==l&&qu(t,l,0,r)}else{const l=e.preOrderCheckHooks;null!==l&&Wl(t,l,r)}tc(r)}var k=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(k||{});function U(e,t,r,s){const a=Ie(null);try{const[l,f,_]=e.inputs[r];let A=null;!!(f&k.SignalBased)&&(A=t[l][rt]),null!==A&&void 0!==A.transformFn?s=A.transformFn(s):null!==_&&(s=_.call(t,s)),null!==e.setInput?e.setInput(t,A,s,r,l):Za(t,A,l,s)}finally{Ie(a)}}function J(e,t,r,s,a){const l=bo(),f=2&s;try{tc(-1),f&&t.length>Nn&&R(e,t,Nn,!1),Vr(f?2:0,a),r(s,a)}finally{tc(l),Vr(f?3:1,a)}}function ue(e,t,r){(function at(e,t,r){const s=r.directiveStart,a=r.directiveEnd;v(r)&&function i(e,t,r){const s=Di(t,e),a=function c(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(r),l=e[N].rendererFactory,f=h(e,n(e,a,null,o(r),s,t,null,l.createRenderer(s,r),null,null,null));e[t.index]=f}(t,r,e.data[s+r.componentOffset]),e.firstCreatePass||pu(r,t);const l=r.initialInputs;for(let f=s;f<a;f++){const _=e.data[f],A=sc(t,e,f,r);va(A,t),null!==l&&He(0,f-s,A,_,0,l),V(_)&&(Co(r.index,t)[ti]=sc(t,e,f,r))}})(e,t,r),!(64&~r.flags)&&function Fe(e,t,r){const s=r.directiveStart,a=r.directiveEnd,l=r.index,f=function wc(){return Ir.lFrame.currentDirectiveIndex}();try{tc(l);for(let _=s;_<a;_++){const A=e.data[_],F=t[_];Ba(_),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&ze(A,F)}}finally{tc(-1),Ba(f)}}(e,t,r)}function Le(e,t,r=Di){const s=t.localNames;if(null!==s){let a=t.index+1;for(let l=0;l<s.length;l+=2){const f=s[l+1],_=-1===f?r(t,e):e[f];e[a++]=_}}}let hn=()=>null;function xn(e,t,r,s,a,l,f,_){if(_||!_l(t,e,r,s,a)){if(3&t.type){const A=Di(t,r);s=function ir(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),a=null!=f?f(a,t.value||"",s):a,l.setProperty(A,s,a)}}else v(t)&&function Or(e,t){const r=Co(t,e);16&r[nr]||(r[nr]|=64)}(r,t.index)}function ze(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ct(e,t){const r=e.directiveRegistry;let s=null;if(r)for(let a=0;a<r.length;a++){const l=r[a];av(t,l.selectors,!1)&&(s??=[],V(l)?s.unshift(l):s.push(l))}return s}function lt(e,t,r,s,a,l){const f=Di(e,t);!function St(e,t,r,s,a,l,f){if(null==l)e.removeAttribute(t,a,r);else{const _=null==f?Ne(l):f(l,s||"",a);e.setAttribute(t,a,_,r)}}(t[z],f,l,e.value,r,s,a)}function He(e,t,r,s,a,l){const f=l[t];if(null!==f)for(let _=0;_<f.length;_+=2)U(s,r,f[_],f[_+1])}function Fd(e,t,r){return(null===e||V(e))&&(r=function qs(e){for(;Array.isArray(e);){if("object"==typeof e[pa])return e;e=e[Wr]}return null}(r[t.index])),r[z]}function _l(e,t,r,s,a){const l=e.inputs?.[s],f=e.hostDirectiveInputs?.[s];let _=!1;if(f)for(let A=0;A<f.length;A+=2){const F=f[A];U(t.data[F],r[F],f[A+1],a),_=!0}if(l)for(const A of l)U(t.data[A],r[A],s,a),_=!0;return _}function Kh(e,t){const r=Co(t,e),s=r[rn];!function Qm(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(s,r);const a=r[Wr];null!==a&&null===r[Ks]&&(r[Ks]=null),Vr(18),qh(s,r,r[ti]),Vr(19,r[ti])}function qh(e,t,r){jl(t);try{const s=e.viewQuery;null!==s&&H_(1,s,r);const a=e.template;null!==a&&J(e,t,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[Is]?.finishViewCreation(e),e.staticContentQueries&&XE(e,t),e.staticViewQueries&&H_(2,e.viewQuery,r);const l=e.components;null!==l&&function bw(e,t){for(let r=0;r<t.length;r++)Kh(e,t[r])}(t,l)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[nr]&=-5,ec()}}function eo(e,t){return!t||null===t.firstChild||sl(e)}function vl(e,t){return undefined(e,t)}var Su=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Su||{});function Ru(e){return!(32&~e.flags)}function Ld(e,t,r,s,a){if(null!=s){let l,f=!1;j(s)?l=s:Yi(s)&&(f=!0,s=s[Wr]);const _=ci(s);0===e&&null!==r?null==a?ww(t,r,_):xd(t,r,_,a||null,!0):1===e&&null!==r?xd(t,r,_,a||null,!0):2===e?function Od(e,t,r){e.removeChild(null,t,r)}(t,_,f):3===e&&t.destroyNode(_),null!=l&&function dv(e,t,r,s,a){const l=r[7];l!==ci(r)&&Ld(t,e,s,l,a);for(let _=$i;_<r.length;_++){const A=r[_];Yh(A[rn],A,e,t,s,l)}}(t,e,l,r,a)}}function Op(e,t){t[N].changeDetectionScheduler?.notify(9),Yh(e,t,t[z],2,null,null)}function Xh(e,t){const r=e[Sa],s=r.indexOf(t);r.splice(s,1)}function El(e,t){if(w(t))return;const r=t[z];r.destroyNode&&Yh(e,t,r,3,null,null),function Zm(e){let t=e[Se];if(!t)return Fp(e[rn],e);for(;t;){let r=null;if(Yi(t))r=t[Se];else{const s=t[$i];s&&(r=s)}if(!r){for(;t&&!t[Us]&&t!==e;)Yi(t)&&Fp(t[rn],t),t=t[fi];null===t&&(t=e),Yi(t)&&Fp(t[rn],t),r=t&&t[Us]}t=r}}(t)}function Fp(e,t){if(w(t))return;const r=Ie(null);try{t[nr]&=-129,t[nr]|=256,t[24]&&Oe(t[24]),function Aw(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let s=0;s<r.length;s+=2){const a=t[r[s]];if(!(a instanceof _a)){const l=r[s+1];if(Array.isArray(l))for(let f=0;f<l.length;f+=2){const _=a[l[f]],A=l[f+1];Vr(4,_,A);try{A.call(_)}finally{Vr(5,_,A)}}else{Vr(4,a,l);try{l.call(a)}finally{Vr(5,a,l)}}}}}(e,t),function uv(e,t){const r=e.cleanup,s=t[fo];if(null!==r)for(let f=0;f<r.length-1;f+=2)if("string"==typeof r[f]){const _=r[f+3];_>=0?s[_]():s[-_].unsubscribe(),f+=2}else r[f].call(s[r[f+1]]);null!==s&&(t[fo]=null);const a=t[21];if(null!==a){t[21]=null;for(let f=0;f<a.length;f++)(0,a[f])()}const l=t[23];if(null!==l){t[23]=null;for(const f of l)f.destroy()}}(e,t),1===t[rn].type&&t[z].destroy();const s=t[ji];if(null!==s&&j(t[fi])){s!==t[fi]&&Xh(s,t);const a=t[Is];null!==a&&a.detachView(e)}al(t)}finally{Ie(r)}}function Lp(e,t,r){return function Ym(e,t,r){let s=t;for(;null!==s&&168&s.type;)s=(t=s).parent;if(null===s)return r[Wr];if(v(s)){const{encapsulation:a}=e.data[s.directiveStart+s.componentOffset];if(a===Rc.None||a===Rc.Emulated)return null}return Di(s,r)}(e,t.parent,r)}let Zh,lv=function Jm(e,t,r){return 40&e.type?Di(e,r):null};function Vd(e,t,r,s){const a=Lp(e,s,t),l=t[z],_=function Vp(e,t,r){return lv(e,t,r)}(s.parent||t[Wi],s,t);if(null!=a)if(Array.isArray(r))for(let A=0;A<r.length;A++)Iw(l,a,r[A],_,!1);else Iw(l,a,r,_,!1);void 0!==Zh&&Zh(l,s,t,r,a)}function to(e,t){if(null!==t){const r=t.type;if(3&r)return Di(t,e);if(4&r)return Ud(-1,e[t.index]);if(8&r){const s=t.child;if(null!==s)return to(e,s);{const a=e[t.index];return j(a)?Ud(-1,a):ci(a)}}if(128&r)return to(e,t.next);if(32&r)return vl(t,e)()||ci(e[t.index]);{const s=Jo(e,t);return null!==s?Array.isArray(s)?s[0]:to(oa(e[ar]),s):to(e,t.next)}}return null}function Jo(e,t){return null!==t?e[ar][Wi].projection[t.projection]:null}function Ud(e,t){const r=$i+e+1;if(r<t.length){const s=t[r],a=s[rn].firstChild;if(null!==a)return to(s,a)}return t[7]}function Bp(e,t,r,s,a,l,f){for(;null!=r;){if(128===r.type){r=r.next;continue}const _=s[r.index],A=r.type;if(f&&0===t&&(_&&va(ci(_),s),r.flags|=2),!Ru(r))if(8&A)Bp(e,t,r.child,s,a,l,!1),Ld(t,e,a,_,l);else if(32&A){const F=vl(r,s);let W;for(;W=F();)Ld(t,e,a,W,l);Ld(t,e,a,_,l)}else 16&A?Bd(e,t,s,r,a,l):Ld(t,e,a,_,l);r=f?r.projectionNext:r.next}}function Yh(e,t,r,s,a,l){Bp(r,s,e.firstChild,t,a,l,!1)}function Bd(e,t,r,s,a,l){const f=r[ar],A=f[Wi].projection[s.projection];if(Array.isArray(A))for(let F=0;F<A.length;F++)Ld(t,e,a,A[F],l);else{let F=A;const W=f[fi];sl(s)&&(F.flags|=128),Bp(e,t,F,W,a,l,!0)}}function Pu(e,t,r,s,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const l=t[r.index];null!==l&&s.push(ci(l)),j(l)&&ey(l,s);const f=r.type;if(8&f)Pu(e,t,r.child,s);else if(32&f){const _=vl(r,t);let A;for(;A=_();)s.push(A)}else if(16&f){const _=Jo(t,r);if(Array.isArray(_))s.push(..._);else{const A=oa(t[ar]);Pu(A[rn],A,_,s,!0)}}r=a?r.projectionNext:r.next}return s}function ey(e,t){for(let r=$i;r<e.length;r++){const s=e[r],a=s[rn].firstChild;null!==a&&Pu(s[rn],s,a,t)}e[7]!==e[Wr]&&t.push(e[7])}function fv(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let jp=[];const ty={...Te,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{_c(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},wl={...Te,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=oa(e.lView);for(;t&&!ry(t[rn]);)t=oa(t);t&&Oc(t)},consumerOnSignalRead(){this.lView[24]=this}};function ry(e){return 2!==e.type}function ef(e){if(null===e[23])return;let t=!0;for(;t;){let r=!1;for(const s of e[23])s.dirty&&(r=!0,null===s.zone||Zone.current===s.zone?s.run():s.zone.run(()=>s.run()));t=r&&!!(8192&e[nr])}}function Mu(e,t=!0,r=0){const a=e[N].rendererFactory;a.begin?.();try{!function yv(e,t){const r=wg();try{Lc(!0),Nu(e,t);let s=0;for(;au(e);){if(100===s)throw new ft(103,!1);s++,Nu(e,1)}}finally{Lc(r)}}(e,r)}catch(f){throw t&&function qm(e,t){const r=e[P],s=r?r.get(uc,null):null;s&&s.handleError(t)}(e,f),f}finally{a.end?.()}}function iy(e,t,r,s){if(w(t))return;const a=t[nr];jl(t);let _=!0,A=null,F=null;ry(e)?(F=function pv(e){return e[24]??function gv(e){const t=jp.pop()??Object.create(ty);return t.lView=e,t}(e)}(t),A=_t(F)):null===function De(){return Y}()?(_=!1,F=function ny(e){const t=e[24]??Object.create(wl);return t.lView=e,t}(t),A=_t(F)):t[24]&&(Oe(t[24]),t[24]=null);try{Hu(t),function Cf(e){return Ir.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&J(e,t,r,2,s);const W=!(3&~a);if(W){const he=e.preOrderCheckHooks;null!==he&&Wl(t,he,null)}else{const he=e.preOrderHooks;null!==he&&qu(t,he,0,null),Qu(t,0)}if(function tf(e){for(let t=Xc(e);null!==t;t=jg(t)){if(!(2&t[nr]))continue;const r=t[Sa];for(let s=0;s<r.length;s++)Oc(r[s])}}(t),ef(t),jd(t,0),null!==e.contentQueries&&XE(e,t),W){const he=e.contentCheckHooks;null!==he&&Wl(t,he)}else{const he=e.contentHooks;null!==he&&qu(t,he,1),Qu(t,1)}!function Rw(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let s=0;s<r.length;s++){const a=r[s];if(a<0)tc(~a);else{const l=a,f=r[++s],_=r[++s];Tg(f,l);const A=t[l];Vr(24,A),_(2,A),Vr(25,A)}}}finally{tc(-1)}}(e,t);const ee=e.components;null!==ee&&vv(t,ee,0);const Ae=e.viewQuery;if(null!==Ae&&H_(2,Ae,s),W){const he=e.viewCheckHooks;null!==he&&Wl(t,he)}else{const he=e.viewHooks;null!==he&&qu(t,he,2),Qu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const he of t[22])he();t[22]=null}fv(t),t[nr]&=-73}catch(W){throw _c(t),W}finally{null!==F&&(It(F,A),_&&function Jh(e){e.lView[24]!==e&&(e.lView=null,jp.push(e))}(F)),ec()}}function jd(e,t){for(let r=Xc(e);null!==r;r=jg(r))for(let s=$i;s<r.length;s++)_v(r[s],t)}function Sw(e,t,r){Vr(18);const s=Co(t,e);_v(s,r),Vr(19,s[ti])}function _v(e,t){xs(e)&&Nu(e,t)}function Nu(e,t){const s=e[rn],a=e[nr],l=e[24];let f=!!(0===t&&16&a);if(f||=!!(64&a&&0===t),f||=!!(1024&a),f||=!(!l?.dirty||!Rt(l)),f||=!1,l&&(l.dirty=!1),e[nr]&=-9217,f)iy(s,e,s.template,e[ti]);else if(8192&a){ef(e),jd(e,1);const _=s.components;null!==_&&vv(e,_,1),fv(e)}}function vv(e,t,r){for(let s=0;s<t.length;s++)Sw(e,t[s],r)}function ku(e,t){const r=wg()?64:1088;for(e[N].changeDetectionScheduler?.notify(t);e;){e[nr]|=r;const s=oa(e);if(Z(e)&&!s)return e;e=s}return null}function sy(e,t,r,s){return[e,!0,0,t,null,s,null,r,null,null]}function $d(e,t){if(e.length<=$i)return;const r=$i+t,s=e[r];if(s){const a=s[ji];null!==a&&a!==e&&Xh(a,s),t>0&&(e[r-1][Us]=s[Us]);const l=Io(e,$i+t);!function Qh(e,t){Op(e,t),t[Wr]=null,t[Wi]=null}(s[rn],s);const f=l[Is];null!==f&&f.detachView(l[rn]),s[fi]=null,s[Us]=null,s[nr]&=-129}return s}function Hp(e,t){const r=e[Sa],s=t[fi];(Yi(s)||t[ar]!==s[fi][ar])&&(e[nr]|=2),null===r?e[Sa]=[t]:r.push(t)}let Il=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const t=this._lView,r=t[rn];return Pu(r,t,r.firstChild,[])}constructor(t,r,s=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=s}get context(){return this._lView[ti]}set context(t){this._lView[ti]=t}get destroyed(){return w(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[fi];if(j(t)){const r=t[8],s=r?r.indexOf(this):-1;s>-1&&($d(t,s),Io(r,s))}this._attachedToViewContainer=!1}El(this._lView[rn],this._lView)}onDestroy(t){Ya(this._lView,t)}markForCheck(){ku(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[nr]&=-129}reattach(){ih(this._lView),this._lView[nr]|=128}detectChanges(){this._lView[nr]|=1024,Mu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ft(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Z(this._lView),r=this._lView[ji];null!==r&&!t&&Xh(r,this._lView),Op(this._lView[rn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ft(902,!1);this._appRef=t;const r=Z(this._lView),s=this._lView[ji];null!==s&&!r&&Hp(s,this._lView),ih(this._lView)}},nf=(()=>class e{static __NG_ELEMENT_ID__=oy})();const zp=nf,wv=class extends zp{_declarationLView;_declarationTContainer;elementRef;constructor(t,r,s){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,s){const a=function xa(e,t,r,s){const a=Ie(null);try{const l=t.tView,A=n(e,l,r,4096&e[nr]?4096:16,null,t,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);A[ji]=e[t.index];const W=e[Is];return null!==W&&(A[Is]=W.createEmbeddedView(l)),qh(l,A,r),A}finally{Ie(a)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:s});return new Il(a)}};function oy(){return xu(Ur(),Nt())}function xu(e,t){return 4&e.type?new wv(t,e,rl(e,t)):null}function kc(e,t,r,s,a){let l=e.data[t];if(null===l)l=function ly(e,t,r,s,a){const l=bf(),f=Fl(),A=e.data[t]=function Fw(e,t,r,s,a,l){let f=t?t.injectorIndex:-1,_=0;return function Ma(){return null!==Ir.skipHydrationRootTNode}()&&(_|=128),{type:r,index:s,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?l:l&&l.parent,r,t,s,a);return function Cv(e,t,r,s){null===e.firstChild&&(e.firstChild=t),null!==r&&(s?null==r.child&&null!==t.parent&&(r.child=t):null===r.next&&(r.next=t,t.prev=r))}(e,A,l,f),A}(e,t,r,s,a),function Ig(){return Ir.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=r,l.value=s,l.attrs=a;const f=function ca(){const e=Ir.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===f?-1:f.injectorIndex}return Qo(l,!0),l}let EC=class{},WT=class{};class wC{resolveComponentFactory(t){throw Error(`No component factory found for ${Be(t)}.`)}}let vy=class{static NULL=new wC};class Uw{}let IC=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function TC(){const e=Nt(),r=Co(Ur().index,e);return(Yi(r)?r:e)[z]}()})(),bC=(()=>{class e{static \u0275prov=Ve({token:e,providedIn:"root",factory:()=>null})}return e})();function hf(e){return!!Vs(e)}const jw={};class tg{injector;parentInjector;constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,s){s=so(s);const a=this.injector.get(t,jw,s);return a!==jw||r===jw?a:this.parentInjector.get(t,r,s)}}function $w(e,t,r){let s=r?e.styles:null,a=r?e.classes:null,l=0;if(null!==t)for(let f=0;f<t.length;f++){const _=t[f];"number"==typeof _?l=_:1==l?a=Dr(a,_):2==l&&(s=Dr(s,_+": "+t[++f]+";"))}r?e.styles=s:e.stylesWithoutHost=s,r?e.classes=a:e.classesWithoutHost=a}function ng(e,t=Ln.Default){const r=Nt();return null===r?Yr(e,t):Vf(Ur(),r,_n(e),t)}function KT(){throw new Error("invalid")}function Hw(e,t,r,s,a){const l=null===s?null:{"":-1},f=a(e,r);if(null!==f){let _,A=null,F=null;const W=function RC(e){let t=null,r=!1;for(let f=0;f<e.length;f++){const _=e[f];if(0===f&&V(_)&&(t=_),null!==_.findHostDirectiveDefs){r=!0;break}}if(!r)return null;let s=null,a=null,l=null;for(const f of e)null!==f.findHostDirectiveDefs&&(s??=[],a??=new Map,l??=new Map,PC(f,s,l,a)),f===t&&(s??=[],s.push(f));return null!==s?(s.push(...null===t?e:e.slice(1)),[s,a,l]):null}(f);null===W?_=f:[_,A,F]=W,function NC(e,t,r,s,a,l,f){const _=s.length;let A=!1;for(let Ae=0;Ae<_;Ae++){const he=s[Ae];!A&&V(he)&&(A=!0,MC(e,r,Ae)),gu(pu(r,t),e,he.type)}!function VC(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,_);for(let Ae=0;Ae<_;Ae++){const he=s[Ae];he.providersResolver&&he.providersResolver(he)}let F=!1,W=!1,ee=u(e,t,_,null);_>0&&(r.directiveToIndex=new Map);for(let Ae=0;Ae<_;Ae++){const he=s[Ae];if(r.mergedAttrs=Tc(r.mergedAttrs,he.hostAttrs),xC(e,r,t,ee,he),LC(ee,he,a),null!==f&&f.has(he)){const[Bt,fn]=f.get(he);r.directiveToIndex.set(he.type,[ee,Bt+r.directiveStart,fn+r.directiveStart])}else(null===l||!l.has(he))&&r.directiveToIndex.set(he.type,ee);null!==he.contentQueries&&(r.flags|=4),(null!==he.hostBindings||null!==he.hostAttrs||0!==he.hostVars)&&(r.flags|=64);const qe=he.type.prototype;!F&&(qe.ngOnChanges||qe.ngOnInit||qe.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),F=!0),!W&&(qe.ngOnChanges||qe.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),W=!0),ee++}!function kC(e,t,r){for(let s=t.directiveStart;s<t.directiveEnd;s++){const a=e.data[s];if(null!==r&&r.has(a)){const l=r.get(a);QT(0,t,l,s),QT(1,t,l,s),ZT(t,s,!0)}else qT(0,t,a,s),qT(1,t,a,s),ZT(t,s,!1)}}(e,r,l)}(e,t,r,_,l,A,F)}null!==l&&null!==s&&function SC(e,t,r){const s=e.localNames=[];for(let a=0;a<t.length;a+=2){const l=r[t[a+1]];if(null==l)throw new ft(-301,!1);s.push(t[a],l)}}(r,s,l)}function PC(e,t,r,s){const a=t.length;e.findHostDirectiveDefs(e,t,s),r.set(e,[a,t.length-1])}function MC(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function qT(e,t,r,s){const a=0===e?r.inputs:r.outputs;for(const l in a)if(a.hasOwnProperty(l)){let f;f=0===e?t.inputs??={}:t.outputs??={},f[l]??=[],f[l].push(s),XT(t,l)}}function QT(e,t,r,s){const a=0===e?r.inputs:r.outputs;for(const l in a)if(a.hasOwnProperty(l)){const f=a[l];let _;_=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},_[f]??=[],_[f].push(s,l),XT(t,f)}}function XT(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function ZT(e,t,r){const{attrs:s,inputs:a,hostDirectiveInputs:l}=e;if(null===s||!r&&null===a||r&&null===l||Hm(e))return e.initialInputs??=[],void e.initialInputs.push(null);let f=null,_=0;for(;_<s.length;){const A=s[_];if(0!==A)if(5!==A){if("number"==typeof A)break;if(!r&&a.hasOwnProperty(A)){const F=a[A];for(const W of F)if(W===t){f??=[],f.push(A,s[_+1]);break}}else if(r&&l.hasOwnProperty(A)){const F=l[A];for(let W=0;W<F.length;W+=2)if(F[W]===t){f??=[],f.push(F[W+1],s[_+1]);break}}_+=2}else _+=2;else _+=4}e.initialInputs??=[],e.initialInputs.push(f)}function xC(e,t,r,s,a){e.data[s]=a;const l=a.factory||(a.factory=wo(a.type)),f=new _a(l,V(a),ng);e.blueprint[s]=f,r[s]=f,function OC(e,t,r,s,a){const l=a.hostBindings;if(l){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const _=~t.index;(function FC(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(f)!=_&&f.push(_),f.push(r,s,l)}}(e,t,s,u(e,r,a.hostVars,Br),a)}function LC(e,t,r){if(r){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)r[t.exportAs[s]]=e;V(t)&&(r[""]=e)}}function YT(e,t,r,s,a,l,f,_){const A=t.consts,W=kc(t,e,2,s,sa(A,f));return l&&Hw(t,r,W,sa(A,_),a),W.mergedAttrs=Tc(W.mergedAttrs,W.attrs),null!==W.attrs&&$w(W,W.attrs,!1),null!==W.mergedAttrs&&$w(W,W.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,W),W}function JT(e,t){rc(e,t),E(t)&&e.queries.elementEnd(t)}class e0 extends vy{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=_r(t);return new Iy(r,this.ngModule)}}class Iy extends WT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function UC(e){return Object.keys(e).map(t=>{const[r,s,a]=e[t],l={propName:r,templateName:t,isSignal:!!(s&k.SignalBased)};return a&&(l.transform=a),l})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function BC(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function BT(e){return e.map(UT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!r}create(t,r,s,a){Vr(22);const l=Ie(null);try{const f=this.componentDef,_=s?["ng-version","19.2.14"]:function jT(e){const t=[],r=[];let s=1,a=2;for(;s<e.length;){let l=e[s];if("string"==typeof l)2===a?""!==l&&t.push(l,e[++s]):8===a&&r.push(l);else{if(!gc(a))break;a=l}s++}return r.length&&t.push(1,...r),t}(this.componentDef.selectors[0]),A=Gh(0,null,null,1,0,null,null,null,null,[_],null),F=function jC(e,t,r){let s=t instanceof ei?t:t?.injector;return s&&null!==e.getStandaloneInjector&&(s=e.getStandaloneInjector(s)||s),s?new tg(r,s):r}(f,a||this.ngModule,t),W=function $C(e){const t=e.get(Uw,null);if(null===t)throw new ft(407,!1);return{rendererFactory:t,sanitizer:e.get(bC,null),changeDetectionScheduler:e.get(mo,null)}}(F),ee=W.rendererFactory.createRenderer(null,f),Ae=s?function Dt(e,t,r,s){const l=s.get(m_,!1)||r===Rc.ShadowDom,f=e.selectRootElement(t,l);return function Wt(e){hn(e)}(f),f}(ee,s,f.encapsulation,F):function HC(e,t){const r=(e.selectors[0][0]||"div").toLowerCase();return Gm(t,r,"svg"===r?ki:"math"===r?"math":null)}(f,ee),he=n(null,A,null,512|o(f),null,null,W,ee,F,null,null);he[Nn]=Ae,jl(he);let qe=null;try{const Bt=YT(Nn,A,he,"#host",()=>[this.componentDef],!0,0);Ae&&(Tw(ee,Ae,Bt),va(Ae,he)),ue(A,he,Bt),$h(A,Bt,he),JT(A,Bt),void 0!==r&&function WC(e,t,r){const s=e.projection=[];for(let a=0;a<t.length;a++){const l=r[a];s.push(null!=l&&l.length?Array.from(l):null)}}(Bt,this.ngContentSelectors,r),qe=Co(Bt.index,he),he[ti]=qe[ti],qh(A,he,null)}catch(Bt){throw null!==qe&&al(qe),al(he),Bt}finally{Vr(23),ec()}return new zC(this.componentType,he)}finally{Ie(l)}}}class zC extends EC{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,r){super(),this._rootLView=r,this._tNode=qo(r[rn],Nn),this.location=rl(this._tNode,r),this.instance=Co(this._tNode.index,r)[ti],this.hostView=this.changeDetectorRef=new Il(r,void 0,!1),this.componentType=t}setInput(t,r){const s=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const a=this._rootLView;_l(s,a[rn],a,t,r),this.previousInputValues.set(t,r),ku(Co(s.index,a),1)}get injector(){return new Fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Xv=(()=>class e{static __NG_ELEMENT_ID__=GC})();function GC(){return r0(Ur(),Nt())}const KC=Xv,t0=class extends KC{_lContainer;_hostTNode;_hostLView;constructor(t,r,s){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=s}get element(){return rl(this._hostTNode,this._hostLView)}get injector(){return new Fs(this._hostTNode,this._hostLView)}get parentInjector(){const t=ic(this._hostTNode,this._hostLView);if(bc(t)){const r=lu(t,this._hostLView),s=Yu(t);return new Fs(r[rn].data[s+8],r)}return new Fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=n0(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-$i}createEmbeddedView(t,r,s){let a,l;"number"==typeof s?a=s:null!=s&&(a=s.index,l=s.injector);const _=t.createEmbeddedViewImpl(r||{},l,null);return this.insertImpl(_,a,eo(this._hostTNode,null)),_}createComponent(t,r,s,a,l){const f=t&&!function Lr(e){return"function"==typeof e}(t);let _;if(f)_=r;else{const qe=r||{};_=qe.index,s=qe.injector,a=qe.projectableNodes,l=qe.environmentInjector||qe.ngModuleRef}const A=f?t:new Iy(_r(t)),F=s||this.parentInjector;if(!l&&null==A.ngModule){const Bt=(f?F:this.parentInjector).get(ei,null);Bt&&(l=Bt)}_r(A.componentType??{});const he=A.create(F,a,null,l);return this.insertImpl(he.hostView,_,eo(this._hostTNode,null)),he}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,s){const a=t._lView;if(function pi(e){return j(e[fi])}(a)){const _=this.indexOf(t);if(-1!==_)this.detach(_);else{const A=a[fi],F=new t0(A,A[Wi],A[fi]);F.detach(F.indexOf(t))}}const l=this._adjustIndex(r),f=this._lContainer;return function tu(e,t,r,s=!0){const a=t[rn];if(function Ev(e,t,r,s){const a=$i+s,l=r.length;s>0&&(r[a-1][Us]=t),s<l-$i?(t[Us]=r[a],Qr(r,$i+s,t)):(r.push(t),t[Us]=null),t[fi]=r;const f=t[ji];null!==f&&r!==f&&Hp(f,t);const _=t[Is];null!==_&&_.insertView(e),ih(t),t[nr]|=128}(a,t,e,r),s){const f=Ud(r,e),_=t[z],A=_.parentNode(e[7]);null!==A&&function xp(e,t,r,s,a,l){s[Wr]=a,s[Wi]=t,Yh(e,s,r,1,a,l)}(a,e[Wi],_,t,A,f)}const l=t[Ks];null!==l&&null!==l.firstChild&&(l.firstChild=null)}(f,a,l,s),t.attachToViewContainerRef(),Qr(zw(f),l,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=n0(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),s=$d(this._lContainer,r);s&&(Io(zw(this._lContainer),r),El(s[rn],s))}detach(t){const r=this._adjustIndex(t,-1),s=$d(this._lContainer,r);return s&&null!=Io(zw(this._lContainer),r)?new Il(s):null}_adjustIndex(t,r=0){return t??this.length+r}};function n0(e){return e[8]}function zw(e){return e[8]||(e[8]=[])}function r0(e,t){let r;const s=t[e.index];return j(s)?r=s:(r=sy(s,t,null,e),t[e.index]=r,h(t,r)),s0(r,t,e,s),new t0(r,e,t)}let s0=function a0(e,t,r,s){if(e[7])return;let a;a=8&r.type?ci(s):function qC(e,t){const r=e[z],s=r.createComment(""),a=Di(t,e),l=r.parentNode(a);return xd(r,l,s,r.nextSibling(a),!1),s}(t,r),e[7]=a},Ww=()=>!1;class Gw{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Gw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kw{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const s=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let l=0;l<s;l++){const f=r.getByIndex(l);a.push(this.queries[f.indexInDeclarationView].clone())}return new Kw(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==Yw(t,r).matches&&this.queries[r].setDirty()}}class c0{flags;read;predicate;constructor(t,r,s=null){this.flags=r,this.read=s,this.predicate="string"==typeof t?function nS(e){return e.split(",").map(t=>t.trim())}(t):t}}class qw{queries;constructor(t=[]){this.queries=t}elementStart(t,r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let s=0;s<this.length;s++){const a=null!==r?r.length:0,l=this.getByIndex(s).embeddedTView(t,a);l&&(l.indexInDeclarationView=s,null!==r?r.push(l):r=[l])}return null!==r?new qw(r):null}template(t,r){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Qw{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,r=-1){this.metadata=t,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Qw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==r;)s=s.parent;return r===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const s=this.metadata.predicate;if(Array.isArray(s))for(let a=0;a<s.length;a++){const l=s[a];this.matchTNodeWithReadOption(t,r,YC(r,l)),this.matchTNodeWithReadOption(t,r,za(r,t,l,!1,!1))}else s===nf?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,za(r,t,s,!1,!1))}matchTNodeWithReadOption(t,r,s){if(null!==s){const a=this.metadata.read;if(null!==a)if(a===il||a===Xv||a===nf&&4&r.type)this.addMatch(r.index,-2);else{const l=za(r,t,a,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,s)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function YC(e,t){const r=e.localNames;if(null!==r)for(let s=0;s<r.length;s+=2)if(r[s]===t)return r[s+1];return null}function eS(e,t,r,s){return-1===r?function JC(e,t){return 11&e.type?rl(e,t):4&e.type?xu(e,t):null}(t,e):-2===r?function tS(e,t,r){return r===il?rl(t,e):r===nf?xu(t,e):r===Xv?r0(t,e):void 0}(e,t,s):sc(e,e[rn],r,t)}function u0(e,t,r,s){const a=t[Is].queries[s];if(null===a.matches){const l=e.data,f=r.matches,_=[];for(let A=0;null!==f&&A<f.length;A+=2){const F=f[A];_.push(F<0?null:eS(t,l[F],f[A+1],r.metadata.read))}a.matches=_}return a.matches}function Xw(e,t,r,s){const a=e.queries.getByIndex(r),l=a.matches;if(null!==l){const f=u0(e,t,a,r);for(let _=0;_<l.length;_+=2){const A=l[_];if(A>0)s.push(f[_/2]);else{const F=l[_+1],W=t[-A];for(let ee=$i;ee<W.length;ee++){const Ae=W[ee];Ae[ji]===Ae[fi]&&Xw(Ae[rn],Ae,F,s)}if(null!==W[Sa]){const ee=W[Sa];for(let Ae=0;Ae<ee.length;Ae++){const he=ee[Ae];Xw(he[rn],he,F,s)}}}}}return s}function h0(e,t,r,s){const a=vr();if(a.firstCreatePass){const l=Ur();(function f0(e,t,r){null===e.queries&&(e.queries=new qw),e.queries.track(new Qw(t,r))})(a,new c0(t,r,s),l.index),function rS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return function l0(e,t,r){const s=new n_(!(4&~r));return function If(e,t,r,s){const a=vc(t);a.push(r),e.firstCreatePass&&Nl(e).push(s,a.length-1)}(e,t,s,s.destroy),(t[Is]??=new Kw).queries.push(new Gw(s))-1}(a,Nt(),r)}function Yw(e,t){return e.queries.getByIndex(t)}function p0(e,t){const r=e[rn],s=Yw(r,t);return s.crossesNgTemplate?Xw(r,e,t,[]):u0(r,e,s,t)}let ff=class{},D0=class{};function fS(e,t){return new tI(e,t??null,[])}class tI extends ff{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new e0(this);constructor(t,r,s,a=!0){super(),this.ngModuleType=t,this._parent=r;const l=Vs(t);this._bootstrapComponents=eu(l.bootstrap),this._r3Injector=Yl(t,r,[{provide:ff,useValue:this},{provide:vy,useValue:this.componentFactoryResolver},...s],Be(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class nI extends D0{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new tI(this.moduleType,t,[])}}class A0 extends ff{injector;componentFactoryResolver=new e0(this);instance=null;constructor(t){super();const r=new ps([...t.providers,{provide:ff,useValue:this},{provide:vy,useValue:this.componentFactoryResolver}],t.parent||ws(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rI(e,t,r=null){return new A0({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let gS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const s=Xt(0,r.type),a=s.length>0?rI([s],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ve({token:e,providedIn:"environment",factory:()=>new e(Yr(ei))})}return e})();function C0(e){return Tr(()=>{const t=P0(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?a=>a.get(gS).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Rc.Emulated,styles:e.styles||yr,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&wa("NgStandalone"),M0(r);const s=e.dependencies;return r.directiveDefs=Zv(s,!1),r.pipeDefs=Zv(s,!0),r.id=function wS(e){let t=0;const s=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const l of s.join("|"))t=Math.imul(31,t)+l.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function mS(e){return _r(e)||q(e)}function yS(e){return null!==e}function iI(e){return Tr(()=>({type:e.type,bootstrap:e.bootstrap||yr,declarations:e.declarations||yr,imports:e.imports||yr,exports:e.exports||yr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function _S(e,t){if(null==e)return xr;const r={};for(const s in e)if(e.hasOwnProperty(s)){const a=e[s];let l,f,_,A;Array.isArray(a)?(_=a[0],l=a[1],f=a[2]??l,A=a[3]||null):(l=a,f=a,_=k.None,A=null),r[l]=[s,_,A],t[l]=f}return r}function vS(e){if(null==e)return xr;const t={};for(const r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function S0(e){return Tr(()=>{const t=P0(e);return M0(t),t})}function R0(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function P0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||xr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||yr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_S(e.inputs,t),outputs:vS(e.outputs),debugInfo:null}}function M0(e){e.features?.forEach(t=>t(e))}function Zv(e,t){if(!e)return null;const r=t?K:mS;return()=>("function"==typeof e?e():e).map(s=>r(s)).filter(yS)}function sI(e){let t=function N0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const s=[e];for(;t;){let a;if(V(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ft(903,!1);a=t.\u0275dir}if(a){if(r){s.push(a);const f=e;f.inputs=oI(e.inputs),f.declaredInputs=oI(e.declaredInputs),f.outputs=oI(e.outputs);const _=a.hostBindings;_&&AS(e,_);const A=a.viewQuery,F=a.contentQueries;if(A&&bS(e,A),F&&DS(e,F),IS(e,a),qi(e.outputs,a.outputs),V(a)&&a.data.animation){const W=e.data;W.animation=(W.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let f=0;f<l.length;f++){const _=l[f];_&&_.ngInherit&&_(e),_===sI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function TS(e){let t=0,r=null;for(let s=e.length-1;s>=0;s--){const a=e[s];a.hostVars=t+=a.hostVars,a.hostAttrs=Tc(a.hostAttrs,r=Tc(r,a.hostAttrs))}}(s)}function IS(e,t){for(const r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const s=t.inputs[r];void 0!==s&&(e.inputs[r]=s,e.declaredInputs[r]=t.declaredInputs[r])}}function oI(e){return e===xr?{}:e===yr?[]:e}function bS(e,t){const r=e.viewQuery;e.viewQuery=r?(s,a)=>{t(s,a),r(s,a)}:t}function DS(e,t){const r=e.contentQueries;e.contentQueries=r?(s,a,l)=>{t(s,a,l),r(s,a,l)}:t}function AS(e,t){const r=e.hostBindings;e.hostBindings=r?(s,a)=>{t(s,a),r(s,a)}:t}function Yv(e){return!!cI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function cI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Bu(e,t,r){return e[t]=r}function _o(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function pf(e,t,r,s){const a=_o(e,t,r);return _o(e,t+1,s)||a}function Dy(e,t,r,s,a,l,f,_,A,F){const W=r+Nn,ee=t.firstCreatePass?function OS(e,t,r,s,a,l,f,_,A){const F=t.consts,W=kc(t,e,4,f||null,_||null);Tf()&&Hw(t,r,W,sa(F,A),ct),W.mergedAttrs=Tc(W.mergedAttrs,W.attrs),rc(t,W);const ee=W.tView=Gh(2,W,s,a,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,F,null);return null!==t.queries&&(t.queries.template(t,W),ee.queries=t.queries.embeddedTView(W)),W}(W,t,e,s,a,l,f,_,A):t.data[W];Qo(ee,!1);const Ae=L0(t,e,ee,r);nc()&&Vd(t,e,Ae,ee),va(Ae,e);const he=sy(Ae,e,Ae,ee);return e[W]=he,h(e,he),function o0(e,t,r){return Ww(e,t,r)}(he,ee,e),M(ee)&&ue(t,e,ee),null!=A&&Le(e,ee,F),ee}function uI(e,t,r,s,a,l,f,_){const A=Nt(),F=vr();return Dy(A,F,e,t,r,s,a,sa(F.consts,l),f,_),uI}let L0=function V0(e,t,r,s){return $a(!0),t[z].createComment("")};let hI=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Z0=new Ee(""),Y0=new Ee("");let mI,kR=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(r,s,a){this._ngZone=r,this.registry=s,hi()&&(this._destroyRef=En(Fo,{optional:!0})??void 0),mI||(function xR(e){mI=e}(a),a.addToWindow(s)),this._watchAngularEvents(),r.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const r=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),s=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{gs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{r.unsubscribe(),s.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(r)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,s,a){let l=-1;s&&s>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==l),r()},s)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:a})}whenStable(r,s,a){if(a&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,s,a),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,s,a){return[]}static \u0275fac=function(s){return new(s||e)(Yr(gs),Yr(J0),Yr(Y0))};static \u0275prov=Ve({token:e,factory:e.\u0275fac})}return e})(),J0=(()=>{class e{_applications=new Map;registerApplication(r,s){this._applications.set(r,s)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,s=!0){return mI?.findTestabilityInTree(this,r,s)??null}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),eb=(()=>{class e{static \u0275prov=Ve({token:e,providedIn:"root",factory:()=>new OR})}return e})();class OR{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){const s=this.queues.get(t.zone);s.has(t)&&(s.delete(t),this.queuedEffectCount--)}enqueue(t){const r=t.zone;this.queues.has(r)||this.queues.set(r,new Set);const s=this.queues.get(r);s.has(t)||(this.queuedEffectCount++,s.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,r]of this.queues)null===t?this.flushQueue(r):t.run(()=>this.flushQueue(r))}flushQueue(t){for(const r of t)t.delete(r),this.queuedEffectCount--,r.run()}}function yI(e){return!!e&&"function"==typeof e.then}function tb(e){return!!e&&"function"==typeof e.subscribe}const nb=new Ee("");function FR(e){return Me([{provide:nb,multi:!0,useValue:e}])}let rb=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s});appInits=En(nb,{optional:!0})??[];injector=En(go);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const l=No(this.injector,a);if(yI(l))r.push(l);else if(tb(l)){const f=new Promise((_,A)=>{l.subscribe({complete:_,error:A})});r.push(f)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{s()}).catch(a=>{this.reject(a)}),0===r.length&&s(),this.initialized=!0}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Cy=new Ee("");let mc=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=En(CE);afterRenderManager=En(Sh);zonelessEnabled=En(Gc);rootEffectScheduler=En(eb);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new pn.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=En(Kc).hasPendingTasks.pipe((0,un.T)(r=>!r));constructor(){En(cd,{optional:!0})}whenStable(){let r;return new Promise(s=>{r=this.isStable.subscribe({next:a=>{a&&s()}})}).finally(()=>{r.unsubscribe()})}_injector=En(ei);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,s){return this.bootstrapImpl(r,s)}bootstrapImpl(r,s,a=go.NULL){Vr(10);const l=r instanceof WT;if(!this._injector.get(rb).done)throw new ft(405,"");let _;_=l?r:this._injector.get(vy).resolveComponentFactory(r),this.componentTypes.push(_.componentType);const A=function LR(e){return e.isBoundToModule}(_)?void 0:this._injector.get(ff),W=_.create(a,[],s||_.selector,A),ee=W.location.nativeElement,Ae=W.injector.get(Z0,null);return Ae?.registerApplication(ee),W.onDestroy(()=>{this.detachView(W.hostView),rE(this.components,W),Ae?.unregisterApplication(ee)}),this._loadComponent(W),Vr(11,W),W}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Vr(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(om.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ft(101,!1);const r=Ie(null);try{this._runningTick=!0,this.synchronize()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ie(r),this.afterTick.next(),Vr(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Uw,null,{optional:!0}));let r=0;for(;0!==this.dirtyFlags&&r++<10;)Vr(14),this.synchronizeOnce(),Vr(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s,notifyErrorHandler:a}of this.allViews)UR(s,a,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>au(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const s=r;this._views.push(s),s.attachToAppRef(this)}detachView(r){const s=r;rE(this._views,s),s.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Cy,[]).forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>rE(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ft(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function UR(e,t,r,s){(r||au(e))&&Mu(e,t,r&&!s?0:1)}function II(e,t,r,s){const a=Nt();return _o(a,Xo(),t)&&(vr(),lt(Mi(),a,e,t,r,s)),II}function ag(e,t,r,s){return _o(e,Xo(),r)?t+Ne(r)+s:Br}function cg(e,t,r,s,a,l){const _=pf(e,function ma(){return Ir.lFrame.bindingIndex}(),r,a);return ya(2),_?t+Ne(r)+s+Ne(a)+l:Br}function iE(e,t){return e<<17|t<<2}function mf(e){return e>>17&32767}function TI(e){return 2|e}function gg(e){return(131068&e)>>2}function bI(e,t){return-131069&e|t<<2}function DI(e){return 1|e}function Tb(e,t,r,s){const a=e[r+1],l=null===t;let f=s?mf(a):gg(a),_=!1;for(;0!==f&&(!1===_||l);){const F=e[f+1];DP(e[f],t)&&(_=!0,e[f+1]=s?DI(F):TI(F)),f=s?mf(F):gg(F)}_&&(e[r+1]=s?TI(a):DI(a))}function DP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Bo(e,t)>=0}const Uo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bb(e){return e.substring(Uo.key,Uo.keyEnd)}function Db(e,t){const r=Uo.textEnd;return r===t?-1:(t=Uo.keyEnd=function RP(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,Uo.key=t,r),mg(e,t,r))}function mg(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function AI(e,t,r){const s=Nt();return _o(s,Xo(),t)&&xn(vr(),Mi(),s,e,t,s[z],r,!1),AI}function CI(e,t,r,s,a){_l(t,e,r,a?"class":"style",s)}function SI(e,t,r){return iu(e,t,r,!1),SI}function RI(e,t){return iu(e,t,null,!0),RI}function Pb(e){su(VP,$u,e,!0)}function $u(e,t){for(let r=function CP(e){return function Cb(e){Uo.key=0,Uo.keyEnd=0,Uo.value=0,Uo.valueEnd=0,Uo.textEnd=e.length}(e),Db(e,mg(e,0,Uo.textEnd))}(t);r>=0;r=Db(t,r))Es(e,bb(t),!0)}function iu(e,t,r,s){const a=Nt(),l=vr(),f=ya(2);l.firstUpdatePass&&Nb(l,e,f,s),t!==Br&&_o(a,f,t)&&xb(l,l.data[bo()],a,a[z],e,a[f+1]=function BP(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Be(Jc(e)))),e}(t,r),s,f)}function su(e,t,r,s){const a=vr(),l=ya(2);a.firstUpdatePass&&Nb(a,null,l,s);const f=Nt();if(r!==Br&&_o(f,l,r)){const _=a.data[bo()];if(Fb(_,s)&&!Mb(a,l)){let A=s?_.classesWithoutHost:_.stylesWithoutHost;null!==A&&(r=Dr(A,r||"")),CI(a,_,f,r,s)}else!function UP(e,t,r,s,a,l,f,_){a===Br&&(a=yr);let A=0,F=0,W=0<a.length?a[0]:null,ee=0<l.length?l[0]:null;for(;null!==W||null!==ee;){const Ae=A<a.length?a[A+1]:void 0,he=F<l.length?l[F+1]:void 0;let Bt,qe=null;W===ee?(A+=2,F+=2,Ae!==he&&(qe=ee,Bt=he)):null===ee||null!==W&&W<ee?(A+=2,qe=W):(F+=2,qe=ee,Bt=he),null!==qe&&xb(e,t,r,s,qe,Bt,f,_),W=A<a.length?a[A]:null,ee=F<l.length?l[F]:null}}(a,_,f,f[z],f[l+1],f[l+1]=function LP(e,t,r){if(null==r||""===r)return yr;const s=[],a=Jc(r);if(Array.isArray(a))for(let l=0;l<a.length;l++)e(s,a[l],!0);else if("object"==typeof a)for(const l in a)a.hasOwnProperty(l)&&e(s,l,a[l]);else"string"==typeof a&&t(s,a);return s}(e,t,r),s,l)}}function Mb(e,t){return t>=e.expandoStartIndex}function Nb(e,t,r,s){const a=e.data;if(null===a[r+1]){const l=a[bo()],f=Mb(e,r);Fb(l,s)&&null===t&&!f&&(t=!1),t=function kP(e,t,r,s){const a=uu(e);let l=s?t.residualClasses:t.residualStyles;if(null===a)0===(s?t.classBindings:t.styleBindings)&&(r=Ry(r=PI(null,e,t,r,s),t.attrs,s),l=null);else{const f=t.directiveStylingLast;if(-1===f||e[f]!==a)if(r=PI(a,e,t,r,s),null===l){let A=function xP(e,t,r){const s=r?t.classBindings:t.styleBindings;if(0!==gg(s))return e[mf(s)]}(e,t,s);void 0!==A&&Array.isArray(A)&&(A=PI(null,e,t,A[1],s),A=Ry(A,t.attrs,s),function OP(e,t,r,s){e[mf(r?t.classBindings:t.styleBindings)]=s}(e,t,s,A))}else l=function FP(e,t,r){let s;const a=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<a;l++)s=Ry(s,e[l].hostAttrs,r);return Ry(s,t.attrs,r)}(e,t,s)}return void 0!==l&&(s?t.residualClasses=l:t.residualStyles=l),r}(a,l,t,s),function TP(e,t,r,s,a,l){let f=l?t.classBindings:t.styleBindings,_=mf(f),A=gg(f);e[s]=r;let W,F=!1;if(Array.isArray(r)?(W=r[1],(null===W||Bo(r,W)>0)&&(F=!0)):W=r,a)if(0!==A){const Ae=mf(e[_+1]);e[s+1]=iE(Ae,_),0!==Ae&&(e[Ae+1]=bI(e[Ae+1],s)),e[_+1]=function wP(e,t){return 131071&e|t<<17}(e[_+1],s)}else e[s+1]=iE(_,0),0!==_&&(e[_+1]=bI(e[_+1],s)),_=s;else e[s+1]=iE(A,0),0===_?_=s:e[A+1]=bI(e[A+1],s),A=s;F&&(e[s+1]=TI(e[s+1])),Tb(e,W,s,!0),Tb(e,W,s,!1),function bP(e,t,r,s,a){const l=a?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&Bo(l,t)>=0&&(r[s+1]=DI(r[s+1]))}(t,W,e,s,l),f=iE(_,A),l?t.classBindings=f:t.styleBindings=f}(a,l,t,r,f,s)}}function PI(e,t,r,s,a){let l=null;const f=r.directiveEnd;let _=r.directiveStylingLast;for(-1===_?_=r.directiveStart:_++;_<f&&(l=t[_],s=Ry(s,l.hostAttrs,a),l!==e);)_++;return null!==e&&(r.directiveStylingLast=_),s}function Ry(e,t,r){const s=r?1:2;let a=-1;if(null!==t)for(let l=0;l<t.length;l++){const f=t[l];"number"==typeof f?a=f:a===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Es(e,f,!!r||t[++l]))}return void 0===e?null:e}function VP(e,t,r){const s=String(t);""!==s&&!s.includes(" ")&&Es(e,s,r)}function xb(e,t,r,s,a,l,f,_){if(!(3&t.type))return;const A=e.data,F=A[_+1],W=function IP(e){return!(1&~e)}(F)?Ob(A,t,r,a,gg(F),f):void 0;sE(W)||(sE(l)||function EP(e){return!(2&~e)}(F)&&(l=Ob(A,null,r,a,_,f)),function hv(e,t,r,s,a){if(t)a?e.addClass(r,s):e.removeClass(r,s);else{let l=-1===s.indexOf("-")?void 0:Su.DashCase;null==a?e.removeStyle(r,s,l):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),l|=Su.Important),e.setStyle(r,s,a,l))}}(s,f,Ao(bo(),r),a,l))}function Ob(e,t,r,s,a,l){const f=null===t;let _;for(;a>0;){const A=e[a],F=Array.isArray(A),W=F?A[1]:A,ee=null===W;let Ae=r[a+1];Ae===Br&&(Ae=ee?yr:void 0);let he=ee?Ui(Ae,s):W===s?Ae:void 0;if(F&&!sE(he)&&(he=Ui(A,s)),sE(he)&&(_=he,f))return _;const qe=e[a+1];a=f?mf(qe):gg(qe)}if(null!==t){let A=l?t.residualClasses:t.residualStyles;null!=A&&(_=Ui(A,s))}return _}function sE(e){return void 0!==e}function Fb(e,t){return!!(e.flags&(t?8:16))}function Lb(e,t,r){su(Es,$u,ag(Nt(),e,t,r),!0)}function Vb(e,t,r,s,a){su(Es,$u,cg(Nt(),e,t,r,s,a),!0)}function aE(e,t,r,s){const a=Nt(),l=vr(),f=Nn+e,_=a[z],A=l.firstCreatePass?YT(f,l,a,t,ct,Tf(),r,s):l.data[f],F=$b(l,a,A,_,t,e);a[f]=F;const W=M(A);return Qo(A,!0),Tw(_,F,A),!Ru(A)&&nc()&&Vd(l,a,F,A),(0===function $y(){return Ir.lFrame.elementDepthCount}()||W)&&va(F,a),function Eg(){Ir.lFrame.elementDepthCount++}(),W&&(ue(l,a,A),$h(l,A,a)),null!==s&&Le(a,A),aE}function cE(){let e=Ur();Fl()?Ll():(e=e.parent,Qo(e,!1));const t=e;(function zu(e){return Ir.skipHydrationRootTNode===e})(t)&&function Wu(){Ir.skipHydrationRootTNode=null}(),function sh(){Ir.lFrame.elementDepthCount--}();const r=vr();return r.firstCreatePass&&JT(r,t),null!=t.classesWithoutHost&&function Zu(e){return!!(8&e.flags)}(t)&&CI(r,t,Nt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function kf(e){return!!(16&e.flags)}(t)&&CI(r,t,Nt(),t.stylesWithoutHost,!1),cE}function xI(e,t,r,s){return aE(e,t,r,s),cE(),xI}let $b=(e,t,r,s,a,l)=>($a(!0),Gm(s,a,function zl(){return Ir.lFrame.currentNamespace}()));function uE(e,t,r){const s=Nt(),a=vr(),l=e+Nn,f=a.firstCreatePass?function u1(e,t,r,s,a){const l=t.consts,f=sa(l,s),_=kc(t,e,8,"ng-container",f);null!==f&&$w(_,f,!0);const A=sa(l,a);return Tf()&&Hw(t,r,_,A,ct),_.mergedAttrs=Tc(_.mergedAttrs,_.attrs),null!==t.queries&&t.queries.elementStart(t,_),_}(l,a,s,t,r):a.data[l];Qo(f,!0);const _=zb(a,s,f,e);return s[l]=_,nc()&&Vd(a,s,_,f),va(_,s),M(f)&&(ue(a,s,f),$h(a,f,s)),null!=r&&Le(s,f),uE}function lE(){let e=Ur();const t=vr();return Fl()?Ll():(e=e.parent,Qo(e,!1)),t.firstCreatePass&&(rc(t,e),E(e)&&t.queries.elementEnd(e)),lE}let zb=(e,t,r,s)=>($a(!0),Wm(t[z],""));function Wb(){return Nt()}function OI(e,t,r){const s=Nt();if(_o(s,Xo(),t)){const l=vr(),f=Mi();xn(l,f,s,e,t,Fd(uu(l.data),f,s),r,!0)}return OI}const yf=void 0;var f1=["en",[["a","p"],["AM","PM"],yf],[["AM","PM"],yf,yf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yf,"{1} 'at' {0}",yf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function h1(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let yg={};function FI(e){const t=function p1(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=qb(t);if(r)return r;const s=t.split("-")[0];if(r=qb(s),r)return r;if("en"===s)return f1;throw new ft(701,!1)}function Kb(e){return FI(e)[_g.PluralCase]}function qb(e){return e in yg||(yg[e]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[e]),yg[e]}var _g=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(_g||{});const dE="en-US";let Qb=dE;function fD(e,t,r){return function s(a){if(a===Function)return r;ku(v(e)?Co(e.index,t):t,5);const f=t[ti];let _=pD(t,f,r,a),A=s.__ngNextListenerFn__;for(;A;)_=pD(t,f,A,a)&&_,A=A.__ngNextListenerFn__;return _}}function pD(e,t,r,s){const a=Ie(null);try{return Vr(6,t,r),!1!==r(s)}catch(l){return function nM(e,t){const r=e[P],s=r?r.get(uc,null):null;s&&s.handleError(t)}(e,l),!1}finally{Vr(7,t,r),Ie(a)}}function gD(e,t,r,s,a,l){const _=t[rn],W=t[r][_.data[r].outputs[s]],ee=_.firstCreatePass?Nl(_):null,Ae=vc(t),he=W.subscribe(l),qe=Ae.length;Ae.push(l,he),ee&&ee.push(a,e.index,qe,-(qe+1))}function UI(e,t,r,s){const a=Nt(),l=vr(),f=Ur();return BI(l,a,a[z],f,e,t,s),UI}function BI(e,t,r,s,a,l,f){const _=M(s),F=e.firstCreatePass?Nl(e):null,W=vc(t);let ee=!0;if(3&s.type||f){const Ae=Di(s,t),he=f?f(Ae):Ae,qe=W.length,Bt=f?yn=>f(ci(yn[s.index])):s.index;let fn=null;if(!f&&_&&(fn=function rM(e,t,r,s){const a=e.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const f=a[l];if(f===r&&a[l+1]===s){const _=t[fo],A=a[l+2];return _.length>A?_[A]:null}"string"==typeof f&&(l+=2)}return null}(e,t,a,s.index)),null!==fn)(fn.__ngLastListenerFn__||fn).__ngNextListenerFn__=l,fn.__ngLastListenerFn__=l,ee=!1;else{!function wm(e,t,r,s){Fh(e,t,r,s)}(t,he,a,l=fD(s,t,l));const yn=r.listen(he,a,l);W.push(l,yn),F&&F.push(a,Bt,qe,qe+1)}}else l=fD(s,t,l);if(ee){const Ae=s.outputs?.[a],he=s.hostDirectiveOutputs?.[a];if(he&&he.length)for(let qe=0;qe<he.length;qe+=2)gD(s,t,he[qe],he[qe+1],a,l);if(Ae&&Ae.length)for(const qe of Ae)gD(s,t,qe,a,a,l)}}function yD(e=1){return function Uc(e){return(Ir.lFrame.contextLView=function wf(e,t){for(;e>0;)t=t[Rn],e--;return t}(e,Ir.lFrame.contextLView))[ti]}(e)}function CD(e,t,r,s){h0(e,t,r,s)}function SD(e){const t=Nt(),r=vr(),s=Gu();Ul(s+1);const a=Yw(r,s);if(e.dirty&&function rh(e){return!(4&~e[nr])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const l=p0(t,s);e.reset(l,lc),e.notifyOnChanges()}return!0}return!1}function RD(){return function Zw(e,t){return e[Is].queries[t].queryList}(Nt(),Gu())}function PD(e){return ia(function Df(){return Ir.lFrame.contextLView}(),Nn+e)}function BD(e,t=""){const r=Nt(),s=vr(),a=e+Nn,l=s.firstCreatePass?kc(s,a,1,t,null):s.data[a],f=jD(s,r,l,t,e);r[a]=f,nc()&&Vd(s,r,f,l),Qo(l,!1)}let jD=(e,t,r,s,a)=>($a(!0),function cv(e,t){return e.createText(t)}(t[z],s));function $I(e){return gE("",e,""),$I}function gE(e,t,r){const s=Nt(),a=ag(s,e,t,r);return a!==Br&&Rl(s,bo(),a),gE}function HI(e,t,r,s,a){const l=Nt(),f=cg(l,e,t,r,s,a);return f!==Br&&Rl(l,bo(),f),HI}function Rl(e,t,r){const s=Ao(t,e);!function zm(e,t,r){e.setValue(t,r)}(e[z],s,r)}function zI(e,t,r){qf(t)&&(t=t());const s=Nt();return _o(s,Xo(),t)&&xn(vr(),Mi(),s,e,t,s[z],r,!1),zI}function QD(e,t){const r=qf(e);return r&&e.set(t),r}function WI(e,t){const r=Nt(),s=vr(),a=Ur();return BI(s,r,r[z],a,e,t),WI}function GI(e,t,r,s,a){if(e=_n(e),Array.isArray(e))for(let l=0;l<e.length;l++)GI(e[l],t,r,s,a);else{const l=vr(),f=Nt(),_=Ur();let A=Ri(e)?e:_n(e.provide);const F=ba(e),W=1048575&_.providerIndexes,ee=_.directiveStart,Ae=_.providerIndexes>>20;if(Ri(e)||!e.multi){const he=new _a(F,a,ng),qe=qI(A,t,a?W:W+Ae,ee);-1===qe?(gu(pu(_,f),l,A),KI(l,e,t.length),t.push(A),_.directiveStart++,_.directiveEnd++,a&&(_.providerIndexes+=1048576),r.push(he),f.push(he)):(r[qe]=he,f[qe]=he)}else{const he=qI(A,t,W+Ae,ee),qe=qI(A,t,W,W+Ae),fn=qe>=0&&r[qe];if(a&&!fn||!a&&!(he>=0&&r[he])){gu(pu(_,f),l,A);const yn=function RM(e,t,r,s,a){const l=new _a(e,r,ng);return l.multi=[],l.index=t,l.componentProviders=0,YD(l,a,s&&!r),l}(a?SM:CM,r.length,a,s,F);!a&&fn&&(r[qe].providerFactory=yn),KI(l,e,t.length,0),t.push(A),_.directiveStart++,_.directiveEnd++,a&&(_.providerIndexes+=1048576),r.push(yn),f.push(yn)}else KI(l,e,he>-1?he:qe,YD(r[a?qe:he],F,!a&&s));!a&&s&&fn&&r[qe].componentProviders++}}}function KI(e,t,r,s){const a=Ri(t),l=function Jr(e){return!!e.useClass}(t);if(a||l){const A=(l?_n(t.useClass):t).prototype.ngOnDestroy;if(A){const F=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const W=F.indexOf(r);-1===W?F.push(r,[s,A]):F[W+1].push(s,A)}else F.push(r,A)}}}function YD(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function qI(e,t,r,s){for(let a=r;a<s;a++)if(t[a]===e)return a;return-1}function CM(e,t,r,s,a){return QI(this.multi,[])}function SM(e,t,r,s,a){const l=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,A=sc(s,s[rn],this.providerFactory.index,a);f=A.slice(0,_),QI(l,f);for(let F=_;F<A.length;F++)f.push(A[F])}else f=[],QI(l,f);return f}function QI(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function JD(e,t=[]){return r=>{r.providersResolver=(s,a)=>function AM(e,t,r){const s=vr();if(s.firstCreatePass){const a=V(e);GI(r,s.data,s.blueprint,a,!0),GI(t,s.data,s.blueprint,a,!1)}}(s,a?a(e):e,t)}}function tA(e,t,r){const s=To()+e,a=Nt();return a[s]===Br?Bu(a,s,r?t.call(r):t()):function by(e,t){return e[t]}(a,s)}function nA(e,t,r,s){return function oA(e,t,r,s,a,l){const f=t+r;return _o(e,f,a)?Bu(e,f+1,l?s.call(l,a):s(a)):Oy(e,f+1)}(Nt(),To(),e,t,r,s)}function rA(e,t,r,s,a){return aA(Nt(),To(),e,t,r,s,a)}function iA(e,t,r,s,a,l){return function cA(e,t,r,s,a,l,f,_){const A=t+r;return function Jv(e,t,r,s,a){const l=pf(e,t,r,s);return _o(e,t+2,a)||l}(e,A,a,l,f)?Bu(e,A+3,_?s.call(_,a,l,f):s(a,l,f)):Oy(e,A+3)}(Nt(),To(),e,t,r,s,a,l)}function sA(e,t,r,s,a,l,f){return function uA(e,t,r,s,a,l,f,_,A){const F=t+r;return function xc(e,t,r,s,a,l){const f=pf(e,t,r,s);return pf(e,t+2,a,l)||f}(e,F,a,l,f,_)?Bu(e,F+4,A?s.call(A,a,l,f,_):s(a,l,f,_)):Oy(e,F+4)}(Nt(),To(),e,t,r,s,a,l,f)}function Oy(e,t){const r=e[t];return r===Br?void 0:r}function aA(e,t,r,s,a,l,f){const _=t+r;return pf(e,_,a,l)?Bu(e,_+2,f?s.call(f,a,l):s(a,l)):Oy(e,_+2)}function dA(e,t){const r=vr();let s;const a=e+Nn;r.firstCreatePass?(s=function VM(e,t){if(t)for(let r=t.length-1;r>=0;r--){const s=t[r];if(e===s.name)return s}}(t,r.pipeRegistry),r.data[a]=s,s.onDestroy&&(r.destroyHooks??=[]).push(a,s.onDestroy)):s=r.data[a];const l=s.factory||(s.factory=wo(s.type)),_=yi(ng);try{const A=ql(!1),F=l();return ql(A),function yc(e,t,r,s){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=s}(r,Nt(),a,F),F}finally{yi(_)}}function hA(e,t,r,s){const a=e+Nn,l=Nt(),f=ia(l,a);return function Fy(e,t){return e[rn].data[t].pure}(l,a)?aA(l,To(),t,f.transform,r,s,f):f.transform(r,s)}class PA{full;major;minor;patch;constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const yN=new PA("19.2.14");class _N{ngModuleFactory;componentFactories;constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let vN=(()=>{class e{compileModuleSync(r){return new nI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const s=this.compileModuleSync(r),l=eu(Vs(r).declarations).reduce((f,_)=>{const A=_r(_);return A&&f.push(new Iy(A)),f},[]);return new _N(s,l)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IN=(()=>{class e{zone=En(gs);changeDetectionScheduler=En(mo);applicationRef=En(mc);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new gs({...tT(),scheduleInRootZone:r}),[{provide:gs,useFactory:e},{provide:Zi,multi:!0,useFactory:()=>{const s=En(IN,{optional:!0});return()=>s.initialize()}},{provide:Zi,multi:!0,useFactory:()=>{const s=En(bN);return()=>{s.initialize()}}},!0===t?{provide:Bf,useValue:!0}:[],{provide:jf,useValue:r??mu}]}function tT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let bN=(()=>{class e{subscription=new dr.yU;initialized=!1;zone=En(gs);pendingTasks=En(Kc);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{gs.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{gs.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vy=(()=>{class e{appRef=En(mc);taskService=En(Kc);ngZone=En(gs);zonelessEnabled=En(Gc);tracing=En(cd,{optional:!0});disableScheduling=En(Bf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new dr.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(En(jf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof yu||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let s=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,s=!0;break;case 12:this.appRef.dirtyFlags|=16,s=!0;break;case 11:s=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(s))return;const a=this.useMicrotaskScheduler?Cg:Gy;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(r),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Ve({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const rT=new Ee("",{providedIn:"root",factory:()=>En(rT,Ln.Optional|Ln.SkipSelf)||function DN(){return typeof $localize<"u"&&$localize.locale||dE}()}),AN=new Ee("",{providedIn:"root",factory:()=>"USD"}),vE=new Ee(""),MN=new Ee("");function Uy(e){return!e.moduleRef}let th=null;function LN(){return!1}let jA=(()=>class e{static __NG_ELEMENT_ID__=VN})();function VN(e){return function UN(e,t,r){if(v(e)&&!r){const s=Co(e.index,t);return new Il(s,s)}return 175&e.type?new Il(t[ar],t):null}(Ur(),Nt(),!(16&~e))}class WA{constructor(){}supports(t){return Yv(t)}create(t){return new zN(t)}}const HN=(e,t)=>t;class zN{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||HN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,s=this._removalsHead,a=0,l=null;for(;r||s;){const f=!s||r&&r.currentIndex<KA(s,a,l)?r:s,_=KA(f,a,l),A=f.currentIndex;if(f===s)a--,s=s._nextRemoved;else if(r=r._next,null==f.previousIndex)a++;else{l||(l=[]);const F=_-a,W=A-a;if(F!=W){for(let Ae=0;Ae<F;Ae++){const he=Ae<l.length?l[Ae]:l[Ae]=0,qe=he+Ae;W<=qe&&qe<F&&(l[Ae]=he+1)}l[f.previousIndex]=W-F}}_!==A&&t(f,_,A)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Yv(t))throw new ft(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,l,f,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let _=0;_<this.length;_++)l=t[_],f=this._trackByFn(_,l),null!==r&&Object.is(r.trackById,f)?(s&&(r=this._verifyReinsertion(r,l,f,_)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,f,_),s=!0),r=r._next}else a=0,function kS(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let s;for(;!(s=r.next()).done;)t(s.value)}}(t,_=>{f=this._trackByFn(a,_),null!==r&&Object.is(r.trackById,f)?(s&&(r=this._verifyReinsertion(r,_,f,a)),Object.is(r.item,_)||this._addIdentityChange(r,_)):(r=this._mismatch(r,_,f,a),s=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,s,a){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,l,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,l,a)):t=this._addAfter(new WN(r,s),l,a),t}_verifyReinsertion(t,r,s,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==l?t=this._reinsertAfter(l,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,l=t._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(t,r,s),this._addToMoves(t,s),t}_moveAfter(t,r,s){return this._unlink(t),this._insertAfter(t,r,s),this._addToMoves(t,s),t}_addAfter(t,r,s){return this._insertAfter(t,r,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,s){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new GA),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,s=t._next;return null===r?this._itHead=s:r._next=s,null===s?this._itTail=r:s._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new GA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class WN{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,r){this.item=t,this.trackById=r}}class GN{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===r||r<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const r=t._prevDup,s=t._nextDup;return null===r?this._head=s:r._nextDup=s,null===s?this._tail=r:s._prevDup=r,null===this._head}}class GA{map=new Map;put(t){const r=t.trackById;let s=this.map.get(r);s||(s=new GN,this.map.set(r,s)),s.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KA(e,t,r){const s=e.previousIndex;if(null===s)return s;let a=0;return r&&s<r.length&&(a=r[s]),s+t+a}class qA{constructor(){}supports(t){return t instanceof Map||cI(t)}create(){return new KN}}class KN{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||cI(t)))throw new ft(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,s),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(a,s);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let s=r;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const s=t._prev;return r._next=t,r._prev=s,t._prev=r,s&&(s._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const l=a._prev,f=a._next;return l&&(l._next=f),f&&(f._prev=l),a._next=null,a._prev=null,a}const s=new qN(t);return this._records.set(t,s),s.currentValue=r,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(s=>r(t[s],s))}}class qN{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function QA(){return new cT([new WA])}let cT=(()=>{class e{factories;static \u0275prov=Ve({token:e,providedIn:"root",factory:QA});constructor(r){this.factories=r}static create(r,s){if(null!=s){const a=s.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:s=>e.create(r,s||QA()),deps:[[e,new fs,new kr]]}}find(r){const s=this.factories.find(a=>a.supports(r));if(null!=s)return s;throw new ft(901,!1)}}return e})();function XA(){return new uT([new qA])}let uT=(()=>{class e{static \u0275prov=Ve({token:e,providedIn:"root",factory:XA});factories;constructor(r){this.factories=r}static create(r,s){if(s){const a=s.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:s=>e.create(r,s||XA()),deps:[[e,new fs,new kr]]}}find(r){const s=this.factories.find(a=>a.supports(r));if(s)return s;throw new ft(901,!1)}}return e})();function ZN(e){Vr(8);try{const{rootComponent:t,appProviders:r,platformProviders:s}=e,a=function FN(e=[]){if(th)return th;const t=function VA(e=[],t){return go.create({name:t,providers:[{provide:Ni,useValue:"platform"},{provide:vE,useValue:new Set([()=>th=null])},...e]})}(e);return th=t,function ib(){!function Qe(e){sn=e}(()=>{throw new ft(600,!1)})}(),function UA(e){const t=e.get(Kg,null);No(e,()=>{t?.forEach(r=>r())})}(t),t}(s),l=[eT({}),{provide:mo,useExisting:Vy},...r||[]];return function OA(e){const t=Uy(e)?e.r3Injector:e.moduleRef.injector,r=t.get(gs);return r.run(()=>{Uy(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const s=t.get(uc,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:l=>{s.handleError(l)}})}),Uy(e)){const l=()=>t.destroy(),f=e.platformInjector.get(vE);f.add(l),t.onDestroy(()=>{a.unsubscribe(),f.delete(l)})}else{const l=()=>e.moduleRef.destroy(),f=e.platformInjector.get(vE);f.add(l),e.moduleRef.onDestroy(()=>{rE(e.allPlatformModules,e.moduleRef),a.unsubscribe(),f.delete(l)})}return function kN(e,t,r){try{const s=r();return yI(s)?s.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(s,r,()=>{const l=t.get(rb);return l.runInitializers(),l.donePromise.then(()=>{if(function _1(e){"string"==typeof e&&(Qb=e.toLowerCase().replace(/_/g,"-"))}(t.get(rT,dE)||dE),!t.get(MN,!0))return Uy(e)?t.get(mc):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Uy(e)){const A=t.get(mc);return void 0!==e.rootComponent&&A.bootstrap(e.rootComponent),A}return function NN(e,t){const r=e.injector.get(mc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new ft(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new A0({providers:l,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:a,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Vr(9)}}function vk(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function ou(e){return function zn(e){const t=Ie(null);try{return e()}finally{Ie(t)}}(e)}function jy(e,t){return function Un(e,t){const r=Object.create(In);r.computation=e,void 0!==t&&(r.equal=t);const s=()=>{if(ht(r),dt(r),r.value===gt)throw r.error;return r.value};return s[rt]=r,s}(e,t?.equal)}function Bk(e){const t=_r(e);if(!t)return null;const r=new Iy(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1362:(Dn,We,H)=>{"use strict";H.d(We,{h1:()=>De,uA:()=>Y});var b=H(467),O=H(6858);class Y{constructor(be,Te,dt){this.name=be,this.instanceFactory=Te,this.type=dt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(be){return this.instantiationMode=be,this}setMultipleInstances(be){return this.multipleInstances=be,this}setServiceProps(be){return this.serviceProps=be,this}setInstanceCreatedCallback(be){return this.onInstanceCreated=be,this}}const T="[DEFAULT]";class Pe{constructor(be,Te){this.name=be,this.container=Te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(be){const Te=this.normalizeInstanceIdentifier(be);if(!this.instancesDeferred.has(Te)){const dt=new O.cY;if(this.instancesDeferred.set(Te,dt),this.isInitialized(Te)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:Te});Xe&&dt.resolve(Xe)}catch{}}return this.instancesDeferred.get(Te).promise}getImmediate(be){var Te;const dt=this.normalizeInstanceIdentifier(be?.identifier),Xe=null!==(Te=be?.optional)&&void 0!==Te&&Te;if(!this.isInitialized(dt)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:dt})}catch(ht){if(Xe)return null;throw ht}}getComponent(){return this.component}setComponent(be){if(be.name!==this.name)throw Error(`Mismatching Component ${be.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=be,this.shouldAutoInitialize()){if(function Ie(Ge){return"EAGER"===Ge.instantiationMode}(be))try{this.getOrInitializeService({instanceIdentifier:T})}catch{}for(const[Te,dt]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(Te);try{const ht=this.getOrInitializeService({instanceIdentifier:Xe});dt.resolve(ht)}catch{}}}}clearInstance(be=T){this.instancesDeferred.delete(be),this.instancesOptions.delete(be),this.instances.delete(be)}delete(){var be=this;return(0,b.A)(function*(){const Te=Array.from(be.instances.values());yield Promise.all([...Te.filter(dt=>"INTERNAL"in dt).map(dt=>dt.INTERNAL.delete()),...Te.filter(dt=>"_delete"in dt).map(dt=>dt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(be=T){return this.instances.has(be)}getOptions(be=T){return this.instancesOptions.get(be)||{}}initialize(be={}){const{options:Te={}}=be,dt=this.normalizeInstanceIdentifier(be.instanceIdentifier);if(this.isInitialized(dt))throw Error(`${this.name}(${dt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:dt,options:Te});for(const[ht,Pt]of this.instancesDeferred.entries())dt===this.normalizeInstanceIdentifier(ht)&&Pt.resolve(Xe);return Xe}onInit(be,Te){var dt;const Xe=this.normalizeInstanceIdentifier(Te),ht=null!==(dt=this.onInitCallbacks.get(Xe))&&void 0!==dt?dt:new Set;ht.add(be),this.onInitCallbacks.set(Xe,ht);const Pt=this.instances.get(Xe);return Pt&&be(Pt,Xe),()=>{ht.delete(be)}}invokeOnInitCallbacks(be,Te){const dt=this.onInitCallbacks.get(Te);if(dt)for(const Xe of dt)try{Xe(be,Te)}catch{}}getOrInitializeService({instanceIdentifier:be,options:Te={}}){let dt=this.instances.get(be);if(!dt&&this.component&&(dt=this.component.instanceFactory(this.container,{instanceIdentifier:(Ge=be,Ge===T?void 0:Ge),options:Te}),this.instances.set(be,dt),this.instancesOptions.set(be,Te),this.invokeOnInitCallbacks(dt,be),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,be,dt)}catch{}var Ge;return dt||null}normalizeInstanceIdentifier(be=T){return this.component?this.component.multipleInstances?be:T:be}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(be){this.name=be,this.providers=new Map}addComponent(be){const Te=this.getProvider(be.name);if(Te.isComponentSet())throw new Error(`Component ${be.name} has already been registered with ${this.name}`);Te.setComponent(be)}addOrOverwriteComponent(be){this.getProvider(be.name).isComponentSet()&&this.providers.delete(be.name),this.addComponent(be)}getProvider(be){if(this.providers.has(be))return this.providers.get(be);const Te=new Pe(be,this);return this.providers.set(be,Te),Te}getProviders(){return Array.from(this.providers.values())}}},1397:(Dn,We,H)=>{"use strict";H.d(We,{Z:()=>De});var b=H(6354),O=H(8750),Y=H(9974),T=H(5225),Pe=H(4360),Ie=H(8071);function De(Ge,be,Te=1/0){return(0,Ie.T)(be)?De((dt,Xe)=>(0,b.T)((ht,Pt)=>be(dt,ht,Xe,Pt))((0,O.Tg)(Ge(dt,Xe))),Te):("number"==typeof be&&(Te=be),(0,Y.N)((dt,Xe)=>function rt(Ge,be,Te,dt,Xe,ht,Pt,zt){const jt=[];let en=0,_t=0,It=!1;const Rt=()=>{It&&!jt.length&&!en&&be.complete()},Oe=Je=>en<dt?st(Je):jt.push(Je),st=Je=>{ht&&be.next(Je),en++;let Tt=!1;(0,O.Tg)(Te(Je,_t++)).subscribe((0,Pe._)(be,Qt=>{Xe?.(Qt),ht?Oe(Qt):be.next(Qt)},()=>{Tt=!0},void 0,()=>{if(Tt)try{for(en--;jt.length&&en<dt;){const Qt=jt.shift();Pt?(0,T.N)(be,Pt,()=>st(Qt)):st(Qt)}Rt()}catch(Qt){be.error(Qt)}}))};return Ge.subscribe((0,Pe._)(be,Oe,()=>{It=!0,Rt()})),()=>{zt?.()}}(dt,Xe,Ge,Te)))}},1413:(Dn,We,H)=>{"use strict";H.d(We,{B:()=>Ie});var b=H(1985),O=H(8359);const T=(0,H(1853).L)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=H(7908),rt=H(9786);let Ie=(()=>{class Ge extends b.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Te){const dt=new De(this,this);return dt.operator=Te,dt}_throwIfClosed(){if(this.closed)throw new T}next(Te){(0,rt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const dt of this.currentObservers)dt.next(Te)}})}error(Te){(0,rt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Te;const{observers:dt}=this;for(;dt.length;)dt.shift().error(Te)}})}complete(){(0,rt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Te}=this;for(;Te.length;)Te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Te;return(null===(Te=this.observers)||void 0===Te?void 0:Te.length)>0}_trySubscribe(Te){return this._throwIfClosed(),super._trySubscribe(Te)}_subscribe(Te){return this._throwIfClosed(),this._checkFinalizedStatuses(Te),this._innerSubscribe(Te)}_innerSubscribe(Te){const{hasError:dt,isStopped:Xe,observers:ht}=this;return dt||Xe?O.Kn:(this.currentObservers=null,ht.push(Te),new O.yU(()=>{this.currentObservers=null,(0,Pe.o)(ht,Te)}))}_checkFinalizedStatuses(Te){const{hasError:dt,thrownError:Xe,isStopped:ht}=this;dt?Te.error(Xe):ht&&Te.complete()}asObservable(){const Te=new b.c;return Te.source=this,Te}}return Ge.create=(be,Te)=>new De(be,Te),Ge})();class De extends Ie{constructor(be,Te){super(),this.destination=be,this.source=Te}next(be){var Te,dt;null===(dt=null===(Te=this.destination)||void 0===Te?void 0:Te.next)||void 0===dt||dt.call(Te,be)}error(be){var Te,dt;null===(dt=null===(Te=this.destination)||void 0===Te?void 0:Te.error)||void 0===dt||dt.call(Te,be)}complete(){var be,Te;null===(Te=null===(be=this.destination)||void 0===be?void 0:be.complete)||void 0===Te||Te.call(be)}_subscribe(be){var Te,dt;return null!==(dt=null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(be))&&void 0!==dt?dt:O.Kn}}},1635:(Dn,We,H)=>{"use strict";function T(te,fe){var pe={};for(var ye in te)Object.prototype.hasOwnProperty.call(te,ye)&&fe.indexOf(ye)<0&&(pe[ye]=te[ye]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var oe=0;for(ye=Object.getOwnPropertySymbols(te);oe<ye.length;oe++)fe.indexOf(ye[oe])<0&&Object.prototype.propertyIsEnumerable.call(te,ye[oe])&&(pe[ye[oe]]=te[ye[oe]])}return pe}function dt(te,fe,pe,ye){return new(pe||(pe=Promise))(function(ge,Ze){function vt(Jn){try{tn(ye.next(Jn))}catch(qt){Ze(qt)}}function cn(Jn){try{tn(ye.throw(Jn))}catch(qt){Ze(qt)}}function tn(Jn){Jn.done?ge(Jn.value):function oe(ge){return ge instanceof pe?ge:new pe(function(Ze){Ze(ge)})}(Jn.value).then(vt,cn)}tn((ye=ye.apply(te,fe||[])).next())})}function Rt(te){return this instanceof Rt?(this.v=te,this):new Rt(te)}function Oe(te,fe,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ye=pe.apply(te,fe||[]),ge=[];return oe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),vt("next"),vt("throw"),vt("return",function Ze(zn){return function(Yt){return Promise.resolve(Yt).then(zn,qt)}}),oe[Symbol.asyncIterator]=function(){return this},oe;function vt(zn,Yt){ye[zn]&&(oe[zn]=function(Vn){return new Promise(function(er,An){ge.push([zn,Vn,er,An])>1||cn(zn,Vn)})},Yt&&(oe[zn]=Yt(oe[zn])))}function cn(zn,Yt){try{!function tn(zn){zn.value instanceof Rt?Promise.resolve(zn.value.v).then(Jn,qt):Xn(ge[0][2],zn)}(ye[zn](Yt))}catch(Vn){Xn(ge[0][3],Vn)}}function Jn(zn){cn("next",zn)}function qt(zn){cn("throw",zn)}function Xn(zn,Yt){zn(Yt),ge.shift(),ge.length&&cn(ge[0][0],ge[0][1])}}function Je(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,fe=te[Symbol.asyncIterator];return fe?fe.call(te):(te=function zt(te){var fe="function"==typeof Symbol&&Symbol.iterator,pe=fe&&te[fe],ye=0;if(pe)return pe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&ye>=te.length&&(te=void 0),{value:te&&te[ye++],done:!te}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),pe={},ye("next"),ye("throw"),ye("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function ye(ge){pe[ge]=te[ge]&&function(Ze){return new Promise(function(vt,cn){!function oe(ge,Ze,vt,cn){Promise.resolve(cn).then(function(tn){ge({value:tn,done:vt})},Ze)}(vt,cn,(Ze=te[ge](Ze)).done,Ze.value)})}}}H.d(We,{AQ:()=>Oe,N3:()=>Rt,Tt:()=>T,sH:()=>dt,xN:()=>Je}),"function"==typeof SuppressedError&&SuppressedError},1853:(Dn,We,H)=>{"use strict";function b(O){const T=O(Pe=>{Error.call(Pe),Pe.stack=(new Error).stack});return T.prototype=Object.create(Error.prototype),T.prototype.constructor=T,T}H.d(We,{L:()=>b})},1985:(Dn,We,H)=>{"use strict";H.d(We,{c:()=>De});var b=H(7707),O=H(8359),Y=H(3494),T=H(1203),Pe=H(1026),rt=H(8071),Ie=H(9786);let De=(()=>{class dt{constructor(ht){ht&&(this._subscribe=ht)}lift(ht){const Pt=new dt;return Pt.source=this,Pt.operator=ht,Pt}subscribe(ht,Pt,zt){const jt=function Te(dt){return dt&&dt instanceof b.vU||function be(dt){return dt&&(0,rt.T)(dt.next)&&(0,rt.T)(dt.error)&&(0,rt.T)(dt.complete)}(dt)&&(0,O.Uv)(dt)}(ht)?ht:new b.Ms(ht,Pt,zt);return(0,Ie.Y)(()=>{const{operator:en,source:_t}=this;jt.add(en?en.call(jt,_t):_t?this._subscribe(jt):this._trySubscribe(jt))}),jt}_trySubscribe(ht){try{return this._subscribe(ht)}catch(Pt){ht.error(Pt)}}forEach(ht,Pt){return new(Pt=Ge(Pt))((zt,jt)=>{const en=new b.Ms({next:_t=>{try{ht(_t)}catch(It){jt(It),en.unsubscribe()}},error:jt,complete:zt});this.subscribe(en)})}_subscribe(ht){var Pt;return null===(Pt=this.source)||void 0===Pt?void 0:Pt.subscribe(ht)}[Y.s](){return this}pipe(...ht){return(0,T.m)(ht)(this)}toPromise(ht){return new(ht=Ge(ht))((Pt,zt)=>{let jt;this.subscribe(en=>jt=en,en=>zt(en),()=>Pt(jt))})}}return dt.create=Xe=>new dt(Xe),dt})();function Ge(dt){var Xe;return null!==(Xe=dt??Pe.$.Promise)&&void 0!==Xe?Xe:Promise}},2107:(Dn,We,H)=>{"use strict";H.d(We,{wc:()=>Ss,c7:()=>Ms,Xm:()=>qr});var b=H(2967),O=H(1360),Y=H(7440),T=H(4125),Pe=H(6335),rt=H(2214),Ie=H(467),De=H(7852),Ge=H(6858),be=H(1362);const Te="firebasestorage.googleapis.com";class zt extends Ge.g{constructor(K,we,Me=0){super(en(K),`Firebase Storage: ${we} (${en(K)})`),this.status_=Me,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zt.prototype)}get status(){return this.status_}set status(K){this.status_=K}_codeEquals(K){return en(K)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(K){this.customData.serverResponse=K,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var jt=function(q){return q.UNKNOWN="unknown",q.OBJECT_NOT_FOUND="object-not-found",q.BUCKET_NOT_FOUND="bucket-not-found",q.PROJECT_NOT_FOUND="project-not-found",q.QUOTA_EXCEEDED="quota-exceeded",q.UNAUTHENTICATED="unauthenticated",q.UNAUTHORIZED="unauthorized",q.UNAUTHORIZED_APP="unauthorized-app",q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",q.INVALID_CHECKSUM="invalid-checksum",q.CANCELED="canceled",q.INVALID_EVENT_NAME="invalid-event-name",q.INVALID_URL="invalid-url",q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",q.NO_DEFAULT_BUCKET="no-default-bucket",q.CANNOT_SLICE_BLOB="cannot-slice-blob",q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",q.NO_DOWNLOAD_URL="no-download-url",q.INVALID_ARGUMENT="invalid-argument",q.INVALID_ARGUMENT_COUNT="invalid-argument-count",q.APP_DELETED="app-deleted",q.INVALID_ROOT_OPERATION="invalid-root-operation",q.INVALID_FORMAT="invalid-format",q.INTERNAL_ERROR="internal-error",q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",q}(jt||{});function en(q){return"storage/"+q}function et(q){return new zt(jt.INVALID_ARGUMENT,q)}function sn(){return new zt(jt.APP_DELETED,"The Firebase app was deleted.")}class fe{constructor(K,we){this.bucket=K,this.path_=we}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const K=encodeURIComponent;return"/b/"+K(this.bucket)+"/o/"+K(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(K,we){let Me;try{Me=fe.makeFromUrl(K,we)}catch{return new fe(K,"")}if(""===Me.path)return Me;throw function ut(q){return new zt(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+q+"'.")}(K)}static makeFromUrl(K,we){let Me=null;const ot="([A-Za-z0-9.\\-_]+)",bn=new RegExp("^gs://"+ot+"(/(.*))?$","i");function hr(Pi){Pi.path_=decodeURIComponent(Pi.path)}const Fr=we.replace(/[.]/g,"\\."),vi=[{regex:bn,indices:{bucket:1,path:3},postModify:function xt(Pi){"/"===Pi.path.charAt(Pi.path.length-1)&&(Pi.path_=Pi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Fr}/v[A-Za-z0-9_]+/b/${ot}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:hr},{regex:new RegExp(`^https?://${we===Te?"(?:storage.googleapis.com|storage.cloud.google.com)":we}/${ot}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:hr}];for(let Pi=0;Pi<vi.length;Pi++){const ws=vi[Pi],ei=ws.regex.exec(K);if(ei){let Ws=ei[ws.indices.path];Ws||(Ws=""),Me=new fe(ei[ws.indices.bucket],Ws),ws.postModify(Me);break}}if(null==Me)throw function bt(q){return new zt(jt.INVALID_URL,"Invalid URL '"+q+"'.")}(K);return Me}}class pe{constructor(K){this.promise_=Promise.reject(K)}getPromise(){return this.promise_}cancel(K=!1){}}function qt(q,K,we,Me){if(Me<K)throw et(`Invalid value for '${q}'. Expected ${K} or greater.`);if(Me>we)throw et(`Invalid value for '${q}'. Expected ${we} or less.`)}var Yt=function(q){return q[q.NO_ERROR=0]="NO_ERROR",q[q.NETWORK_ERROR=1]="NETWORK_ERROR",q[q.ABORT=2]="ABORT",q}(Yt||{});class er{constructor(K,we,Me,ot,xt,Xt,bn,gn,hr,Zn,Fr,Ii=!0,_i=!1){this.url_=K,this.method_=we,this.headers_=Me,this.body_=ot,this.successCodes_=xt,this.additionalRetryCodes_=Xt,this.callback_=bn,this.errorCallback_=gn,this.timeout_=hr,this.progressCallback_=Zn,this.connectionFactory_=Fr,this.retry=Ii,this.isUsingEmulator=_i,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Bi,Ri)=>{this.resolve_=Bi,this.reject_=Ri,this.start_()})}start_(){const we=(Me,ot)=>{const xt=this.resolve_,Xt=this.reject_,bn=ot.connection;if(ot.wasSuccessCode)try{const gn=this.callback_(bn,bn.getResponse());!function ge(q){return void 0!==q}(gn)?xt():xt(gn)}catch(gn){Xt(gn)}else if(null!==bn){const gn=function _t(){return new zt(jt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();gn.serverResponse=bn.getErrorText(),Xt(this.errorCallback_?this.errorCallback_(bn,gn):gn)}else Xt(ot.canceled?this.appDelete_?sn():function Qt(){return new zt(jt.CANCELED,"User canceled the upload/download.")}():function Tt(){return new zt(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?we(0,new An(!1,null,!0)):this.backoffId_=function ye(q,K,we){let Me=1,ot=null,xt=null,Xt=!1,bn=0;function gn(){return 2===bn}let hr=!1;function Zn(...Jr){hr||(hr=!0,K.apply(null,Jr))}function Fr(Jr){ot=setTimeout(()=>{ot=null,q(_i,gn())},Jr)}function Ii(){xt&&clearTimeout(xt)}function _i(Jr,...Ni){if(hr)return void Ii();if(Jr)return Ii(),void Zn.call(null,Jr,...Ni);if(gn()||Xt)return Ii(),void Zn.call(null,Jr,...Ni);let vi;Me<64&&(Me*=2),1===bn?(bn=2,vi=0):vi=1e3*(Me+Math.random()),Fr(vi)}let Bi=!1;function Ri(Jr){Bi||(Bi=!0,Ii(),!hr&&(null!==ot?(Jr||(bn=2),clearTimeout(ot),Fr(0)):Jr||(bn=1)))}return Fr(0),xt=setTimeout(()=>{Xt=!0,Ri(!0)},we),Ri}((Me,ot)=>{if(ot)return void Me(!1,new An(!1,null,!0));const xt=this.connectionFactory_();this.pendingConnection_=xt;const Xt=bn=>{null!==this.progressCallback_&&this.progressCallback_(bn.loaded,bn.lengthComputable?bn.total:-1)};null!==this.progressCallback_&&xt.addUploadProgressListener(Xt),xt.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&xt.removeUploadProgressListener(Xt),this.pendingConnection_=null;const bn=xt.getErrorCode()===Yt.NO_ERROR,gn=xt.getStatus();if(!bn||function Vn(q,K){const we=q>=500&&q<600,ot=-1!==[408,429].indexOf(q),xt=-1!==K.indexOf(q);return we||ot||xt}(gn,this.additionalRetryCodes_)&&this.retry){const Zn=xt.getErrorCode()===Yt.ABORT;return void Me(!1,new An(!1,null,Zn))}const hr=-1!==this.successCodes_.indexOf(gn);Me(!0,new An(hr,xt))})},we,this.timeout_)}getPromise(){return this.promise_}cancel(K){this.canceled_=!0,this.appDelete_=K||!1,null!==this.backoffId_&&function oe(q){q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class An{constructor(K,we,Me){this.wasSuccessCode=K,this.connection=we,this.canceled=!!Me}}class tr{constructor(K,we){this._service=K,this._location=we instanceof fe?we:fe.makeFromUrl(we,K.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(K,we){return new tr(K,we)}get root(){const K=new fe(this._location.bucket,"");return this._newRef(this._service,K)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function Sn(q){const K=q.lastIndexOf("/",q.length-2);return-1===K?q:q.slice(K+1)}(this._location.path)}get storage(){return this._service}get parent(){const K=function mi(q){if(0===q.length)return null;const K=q.lastIndexOf("/");return-1===K?"":q.slice(0,K)}(this._location.path);if(null===K)return null;const we=new fe(this._location.bucket,K);return new tr(this._service,we)}_throwIfRoot(K){if(""===this._location.path)throw function kt(q){return new zt(jt.INVALID_ROOT_OPERATION,"The operation '"+q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(K)}}function gr(q,K){const we=K?.storageBucket;return null==we?null:fe.makeFromBucketSpec(we,q)}class mr{constructor(K,we,Me,ot,xt,Xt=!1){this.app=K,this._authProvider=we,this._appCheckProvider=Me,this._url=ot,this._firebaseVersion=xt,this._isUsingEmulator=Xt,this._bucket=null,this._host=Te,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ot?fe.makeFromBucketSpec(ot,this._host):gr(this._host,this.app.options)}get host(){return this._host}set host(K){this._host=K,this._bucket=null!=this._url?fe.makeFromBucketSpec(this._url,K):gr(K,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(K){qt("time",0,Number.POSITIVE_INFINITY,K),this._maxUploadRetryTime=K}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(K){qt("time",0,Number.POSITIVE_INFINITY,K),this._maxOperationRetryTime=K}_getAuthToken(){var K=this;return(0,Ie.A)(function*(){if(K._overrideAuthToken)return K._overrideAuthToken;const we=K._authProvider.getImmediate({optional:!0});if(we){const Me=yield we.getToken();if(null!==Me)return Me.accessToken}return null})()}_getAppCheckToken(){var K=this;return(0,Ie.A)(function*(){if((0,De.xZ)(K.app)&&K.app.settings.appCheckToken)return K.app.settings.appCheckToken;const we=K._appCheckProvider.getImmediate({optional:!0});return we?(yield we.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(K=>K.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(K){return new tr(this,K)}_makeRequest(K,we,Me,ot,xt=!0){if(this._deleted)return new pe(sn());{const Xt=function dr(q,K,we,Me,ot,xt,Xt=!0,bn=!1){const gn=function zn(q){const K=encodeURIComponent;let we="?";for(const Me in q)q.hasOwnProperty(Me)&&(we=we+(K(Me)+"=")+K(q[Me])+"&");return we=we.slice(0,-1),we}(q.urlParams),hr=q.url+gn,Zn=Object.assign({},q.headers);return function Ci(q,K){K&&(q["X-Firebase-GMPID"]=K)}(Zn,K),function Pr(q,K){null!==K&&K.length>0&&(q.Authorization="Firebase "+K)}(Zn,we),function Rr(q,K){q["X-Firebase-Storage-Version"]="webjs/"+(K??"AppManager")}(Zn,xt),function pn(q,K){null!==K&&(q["X-Firebase-AppCheck"]=K)}(Zn,Me),new er(hr,q.method,Zn,q.body,q.successCodes,q.additionalRetryCodes,q.handler,q.errorHandler,q.timeout,q.progressCallback,ot,Xt,bn)}(K,this._appId,Me,ot,we,this._firebaseVersion,xt,this._isUsingEmulator);return this._requests.add(Xt),Xt.getPromise().then(()=>this._requests.delete(Xt),()=>this._requests.delete(Xt)),Xt}}makeRequestWithTokens(K,we){var Me=this;return(0,Ie.A)(function*(){const[ot,xt]=yield Promise.all([Me._getAuthToken(),Me._getAppCheckToken()]);return Me._makeRequest(K,we,ot,xt).getPromise()})()}}const zi="@firebase/storage",yi="0.13.12",_s="storage";function io(q=(0,De.Sx)(),K){q=(0,Ge.Ku)(q);const Me=(0,De.j6)(q,_s).getImmediate({identifier:K}),ot=(0,Ge.yU)("storage");return ot&&function En(q,K,we,Me={}){!function Ln(q,K,we,Me={}){q.host=`${K}:${we}`;const ot=(0,Ge.zJ)(K);ot&&((0,Ge.gE)(`https://${q.host}`),(0,Ge.P1)("Storage",!0)),q._isUsingEmulator=!0,q._protocol=ot?"https":"http";const{mockUserToken:xt}=Me;xt&&(q._overrideAuthToken="string"==typeof xt?xt:(0,Ge.Fy)(xt,q.app.options.projectId))}(q,K,we,Me)}(Me,...ot),Me}function Cs(q,{instanceIdentifier:K}){const we=q.getProvider("app").getImmediate(),Me=q.getProvider("auth-internal"),ot=q.getProvider("app-check-internal");return new mr(we,Me,ot,K,De.MF)}!function Qs(){(0,De.om)(new be.uA(_s,Cs,"PUBLIC").setMultipleInstances(!0)),(0,De.KO)(zi,yi,""),(0,De.KO)(zi,yi,"esm2017")}();class Ss{constructor(K){return K}}const Eo="storage",Hs=new O.nKC("angularfire2.storage-instances");function zs(q){return(K,we)=>{const Me=K.runOutsideAngular(()=>q(we));return new Ss(Me)}}const wo={provide:class oo{constructor(){return(0,b.CA)(Eo)}},deps:[[new O.Xx1,Hs]]},zr={provide:Ss,useFactory:function fs(q,K){const we=(0,b.lR)(Eo,q,K);return we&&new Ss(we)},deps:[[new O.Xx1,Hs],Y.XU]};function qr(q,...K){return(0,rt.KO)("angularfire",b.xv.full,"gcs"),(0,O.EmA)([zr,wo,{provide:Hs,useFactory:zs(q),multi:!0,deps:[O.SKi,O.zZn,b.u0,Y.gL,[new O.Xx1,Pe.DF],[new O.Xx1,T.kR],...K]}])}const Ms=(0,b.S3)(io,!0)},2214:(Dn,We,H)=>{"use strict";H.d(We,{Dk:()=>b.Dk,KO:()=>b.KO,Sx:()=>b.Sx,Wp:()=>b.Wp});var b=H(7852);(0,b.KO)("firebase","11.8.1","app")},2881:(Dn,We,H)=>{"use strict";H.d(We,{MD:()=>ts,Sq:()=>Li,YU:()=>_n,bT:()=>_e,fw:()=>Y,vh:()=>Ee});var b=H(1360),O=H(6048);let Y=(()=>{class $ extends O.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(Q,ie){super(),this._platformLocation=Q,null!=ie&&(this._baseHref=ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Q){this._removeListenerFns.push(this._platformLocation.onPopState(Q),this._platformLocation.onHashChange(Q))}getBaseHref(){return this._baseHref}path(Q=!1){const ie=this._platformLocation.hash??"#";return ie.length>0?ie.substring(1):ie}prepareExternalUrl(Q){const ie=(0,O.om)(this._baseHref,Q);return ie.length>0?"#"+ie:ie}pushState(Q,ie,Ne,Ct){const ln=this.prepareExternalUrl(Ne+(0,O.Q)(Ct))||this._platformLocation.pathname;this._platformLocation.pushState(Q,ie,ln)}replaceState(Q,ie,Ne,Ct){const ln=this.prepareExternalUrl(Ne+(0,O.Q)(Ct))||this._platformLocation.pathname;this._platformLocation.replaceState(Q,ie,ln)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Q=0){this._platformLocation.historyGo?.(Q)}static \u0275fac=function(ie){return new(ie||$)(b.KVO(O.Vw),b.KVO(O.kB,8))};static \u0275prov=b.jDH({token:$,factory:$.\u0275fac})}return $})();var Ie=function($){return $[$.Format=0]="Format",$[$.Standalone=1]="Standalone",$}(Ie||{}),De=function($){return $[$.Narrow=0]="Narrow",$[$.Abbreviated=1]="Abbreviated",$[$.Wide=2]="Wide",$[$.Short=3]="Short",$}(De||{}),Ge=function($){return $[$.Short=0]="Short",$[$.Medium=1]="Medium",$[$.Long=2]="Long",$[$.Full=3]="Full",$}(Ge||{});function _t($,me){return In((0,b.H5H)($)[b.KH2.DateFormat],me)}function It($,me){return In((0,b.H5H)($)[b.KH2.TimeFormat],me)}function Rt($,me){return In((0,b.H5H)($)[b.KH2.DateTimeFormat],me)}function Oe($,me){const Q=(0,b.H5H)($),ie=Q[b.KH2.NumberSymbols][me];if(typeof ie>"u"){if(12===me)return Q[b.KH2.NumberSymbols][0];if(13===me)return Q[b.KH2.NumberSymbols][1]}return ie}function Un($){if(!$[b.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${$[b.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function In($,me){for(let Q=me;Q>-1;Q--)if(typeof $[Q]<"u")return $[Q];throw new Error("Locale data API: locale data undefined")}function et($){const[me,Q]=$.split(":");return{hours:+me,minutes:+Q}}const te=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fe={},pe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ye($,me,Q,ie){let Ne=function Mr($){if(Er($))return $;if("number"==typeof $&&!isNaN($))return new Date($);if("string"==typeof $){if($=$.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test($)){const[Ne,Ct=1,ln=1]=$.split("-").map(On=>+On);return oe(Ne,Ct-1,ln)}const Q=parseFloat($);if(!isNaN($-Q))return new Date(Q);let ie;if(ie=$.match(te))return function ft($){const me=new Date(0);let Q=0,ie=0;const Ne=$[8]?me.setUTCFullYear:me.setFullYear,Ct=$[8]?me.setUTCHours:me.setHours;$[9]&&(Q=Number($[9]+$[10]),ie=Number($[9]+$[11])),Ne.call(me,Number($[1]),Number($[2])-1,Number($[3]));const ln=Number($[4]||0)-Q,On=Number($[5]||0)-ie,si=Number($[6]||0),Gr=Math.floor(1e3*parseFloat("0."+($[7]||0)));return Ct.call(me,ln,On,si,Gr),me}(ie)}const me=new Date($);if(!Er(me))throw new Error(`Unable to convert "${$}" into a date`);return me}($);me=ge(Q,me)||me;let On,ln=[];for(;me;){if(On=pe.exec(me),!On){ln.push(me);break}{ln=ln.concat(On.slice(1));const Kr=ln.pop();if(!Kr)break;me=Kr}}let si=Ne.getTimezoneOffset();ie&&(si=dr(ie,si),Ne=function Ki($,me){const Ne=$.getTimezoneOffset();return function un($,me){return($=new Date($.getTime())).setMinutes($.getMinutes()+me),$}($,-1*(dr(me,Ne)-Ne))}(Ne,ie));let Gr="";return ln.forEach(Kr=>{const gr=function pn($){if(Ci[$])return Ci[$];let me;switch($){case"G":case"GG":case"GGG":me=qt(3,De.Abbreviated);break;case"GGGG":me=qt(3,De.Wide);break;case"GGGGG":me=qt(3,De.Narrow);break;case"y":me=tn(0,1,0,!1,!0);break;case"yy":me=tn(0,2,0,!0,!0);break;case"yyy":me=tn(0,3,0,!1,!0);break;case"yyyy":me=tn(0,4,0,!1,!0);break;case"Y":me=Rr(1);break;case"YY":me=Rr(2,!0);break;case"YYY":me=Rr(3);break;case"YYYY":me=Rr(4);break;case"M":case"L":me=tn(1,1,1);break;case"MM":case"LL":me=tn(1,2,1);break;case"MMM":me=qt(2,De.Abbreviated);break;case"MMMM":me=qt(2,De.Wide);break;case"MMMMM":me=qt(2,De.Narrow);break;case"LLL":me=qt(2,De.Abbreviated,Ie.Standalone);break;case"LLLL":me=qt(2,De.Wide,Ie.Standalone);break;case"LLLLL":me=qt(2,De.Narrow,Ie.Standalone);break;case"w":me=Pr(1);break;case"ww":me=Pr(2);break;case"W":me=Pr(1,!0);break;case"d":me=tn(2,1);break;case"dd":me=tn(2,2);break;case"c":case"cc":me=tn(7,1);break;case"ccc":me=qt(1,De.Abbreviated,Ie.Standalone);break;case"cccc":me=qt(1,De.Wide,Ie.Standalone);break;case"ccccc":me=qt(1,De.Narrow,Ie.Standalone);break;case"cccccc":me=qt(1,De.Short,Ie.Standalone);break;case"E":case"EE":case"EEE":me=qt(1,De.Abbreviated);break;case"EEEE":me=qt(1,De.Wide);break;case"EEEEE":me=qt(1,De.Narrow);break;case"EEEEEE":me=qt(1,De.Short);break;case"a":case"aa":case"aaa":me=qt(0,De.Abbreviated);break;case"aaaa":me=qt(0,De.Wide);break;case"aaaaa":me=qt(0,De.Narrow);break;case"b":case"bb":case"bbb":me=qt(0,De.Abbreviated,Ie.Standalone,!0);break;case"bbbb":me=qt(0,De.Wide,Ie.Standalone,!0);break;case"bbbbb":me=qt(0,De.Narrow,Ie.Standalone,!0);break;case"B":case"BB":case"BBB":me=qt(0,De.Abbreviated,Ie.Format,!0);break;case"BBBB":me=qt(0,De.Wide,Ie.Format,!0);break;case"BBBBB":me=qt(0,De.Narrow,Ie.Format,!0);break;case"h":me=tn(3,1,-12);break;case"hh":me=tn(3,2,-12);break;case"H":me=tn(3,1);break;case"HH":me=tn(3,2);break;case"m":me=tn(4,1);break;case"mm":me=tn(4,2);break;case"s":me=tn(5,1);break;case"ss":me=tn(5,2);break;case"S":me=tn(6,1);break;case"SS":me=tn(6,2);break;case"SSS":me=tn(6,3);break;case"Z":case"ZZ":case"ZZZ":me=zn(0);break;case"ZZZZZ":me=zn(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":me=zn(1);break;case"OOOO":case"ZZZZ":case"zzzz":me=zn(2);break;default:return null}return Ci[$]=me,me}(Kr);Gr+=gr?gr(Ne,Q,si):"''"===Kr?"'":Kr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Gr}function oe($,me,Q){const ie=new Date(0);return ie.setFullYear($,me,Q),ie.setHours(0,0,0),ie}function ge($,me){const Q=function dt($){return(0,b.H5H)($)[b.KH2.LocaleId]}($);if(fe[Q]??={},fe[Q][me])return fe[Q][me];let ie="";switch(me){case"shortDate":ie=_t($,Ge.Short);break;case"mediumDate":ie=_t($,Ge.Medium);break;case"longDate":ie=_t($,Ge.Long);break;case"fullDate":ie=_t($,Ge.Full);break;case"shortTime":ie=It($,Ge.Short);break;case"mediumTime":ie=It($,Ge.Medium);break;case"longTime":ie=It($,Ge.Long);break;case"fullTime":ie=It($,Ge.Full);break;case"short":const Ne=ge($,"shortTime"),Ct=ge($,"shortDate");ie=Ze(Rt($,Ge.Short),[Ne,Ct]);break;case"medium":const ln=ge($,"mediumTime"),On=ge($,"mediumDate");ie=Ze(Rt($,Ge.Medium),[ln,On]);break;case"long":const si=ge($,"longTime"),Gr=ge($,"longDate");ie=Ze(Rt($,Ge.Long),[si,Gr]);break;case"full":const Kr=ge($,"fullTime"),gr=ge($,"fullDate");ie=Ze(Rt($,Ge.Full),[Kr,gr])}return ie&&(fe[Q][me]=ie),ie}function Ze($,me){return me&&($=$.replace(/\{([^}]+)}/g,function(Q,ie){return null!=me&&ie in me?me[ie]:Q})),$}function vt($,me,Q="-",ie,Ne){let Ct="";($<0||Ne&&$<=0)&&(Ne?$=1-$:($=-$,Ct=Q));let ln=String($);for(;ln.length<me;)ln="0"+ln;return ie&&(ln=ln.slice(ln.length-me)),Ct+ln}function tn($,me,Q=0,ie=!1,Ne=!1){return function(Ct,ln){let On=function Jn($,me){switch($){case 0:return me.getFullYear();case 1:return me.getMonth();case 2:return me.getDate();case 3:return me.getHours();case 4:return me.getMinutes();case 5:return me.getSeconds();case 6:return me.getMilliseconds();case 7:return me.getDay();default:throw new Error(`Unknown DateType value "${$}".`)}}($,Ct);if((Q>0||On>-Q)&&(On+=Q),3===$)0===On&&-12===Q&&(On=12);else if(6===$)return function cn($,me){return vt($,3).substring(0,me)}(On,me);const si=Oe(ln,5);return vt(On,me,si,ie,Ne)}}function qt($,me,Q=Ie.Format,ie=!1){return function(Ne,Ct){return function Xn($,me,Q,ie,Ne,Ct){switch(Q){case 2:return function Pt($,me,Q){const ie=(0,b.H5H)($),Ct=In([ie[b.KH2.MonthsFormat],ie[b.KH2.MonthsStandalone]],me);return In(Ct,Q)}(me,Ne,ie)[$.getMonth()];case 1:return function ht($,me,Q){const ie=(0,b.H5H)($),Ct=In([ie[b.KH2.DaysFormat],ie[b.KH2.DaysStandalone]],me);return In(Ct,Q)}(me,Ne,ie)[$.getDay()];case 0:const ln=$.getHours(),On=$.getMinutes();if(Ct){const Gr=function kn($){const me=(0,b.H5H)($);return Un(me),(me[b.KH2.ExtraData][2]||[]).map(ie=>"string"==typeof ie?et(ie):[et(ie[0]),et(ie[1])])}(me),Kr=function qn($,me,Q){const ie=(0,b.H5H)($);Un(ie);const Ct=In([ie[b.KH2.ExtraData][0],ie[b.KH2.ExtraData][1]],me)||[];return In(Ct,Q)||[]}(me,Ne,ie),gr=Gr.findIndex(Ln=>{if(Array.isArray(Ln)){const[mr,zi]=Ln,yi=ln>=mr.hours&&On>=mr.minutes,_s=ln<zi.hours||ln===zi.hours&&On<zi.minutes;if(mr.hours<zi.hours){if(yi&&_s)return!0}else if(yi||_s)return!0}else if(Ln.hours===ln&&Ln.minutes===On)return!0;return!1});if(-1!==gr)return Kr[gr]}return function Xe($,me,Q){const ie=(0,b.H5H)($),Ct=In([ie[b.KH2.DayPeriodsFormat],ie[b.KH2.DayPeriodsStandalone]],me);return In(Ct,Q)}(me,Ne,ie)[ln<12?0:1];case 3:return function zt($,me){return In((0,b.H5H)($)[b.KH2.Eras],me)}(me,ie)[$.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Q}`)}}(Ne,Ct,$,me,Q,ie)}}function zn($){return function(me,Q,ie){const Ne=-1*ie,Ct=Oe(Q,5),ln=Ne>0?Math.floor(Ne/60):Math.ceil(Ne/60);switch($){case 0:return(Ne>=0?"+":"")+vt(ln,2,Ct)+vt(Math.abs(Ne%60),2,Ct);case 1:return"GMT"+(Ne>=0?"+":"")+vt(ln,1,Ct);case 2:return"GMT"+(Ne>=0?"+":"")+vt(ln,2,Ct)+":"+vt(Math.abs(Ne%60),2,Ct);case 3:return 0===ie?"Z":(Ne>=0?"+":"")+vt(ln,2,Ct)+":"+vt(Math.abs(Ne%60),2,Ct);default:throw new Error(`Unknown zone width "${$}"`)}}}const Yt=0,Vn=4;function An($){const me=$.getDay(),Q=0===me?-3:Vn-me;return oe($.getFullYear(),$.getMonth(),$.getDate()+Q)}function Pr($,me=!1){return function(Q,ie){let Ne;if(me){const Ct=new Date(Q.getFullYear(),Q.getMonth(),1).getDay()-1,ln=Q.getDate();Ne=1+Math.floor((ln+Ct)/7)}else{const Ct=An(Q),ln=function er($){const me=oe($,Yt,1).getDay();return oe($,0,1+(me<=Vn?Vn:Vn+7)-me)}(Ct.getFullYear()),On=Ct.getTime()-ln.getTime();Ne=1+Math.round(On/6048e5)}return vt(Ne,$,Oe(ie,5))}}function Rr($,me=!1){return function(Q,ie){return vt(An(Q).getFullYear(),$,Oe(ie,5),me)}}const Ci={};function dr($,me){$=$.replace(/:/g,"");const Q=Date.parse("Jan 01, 1970 00:00:00 "+$)/6e4;return isNaN(Q)?me:Q}function Er($){return $ instanceof Date&&!isNaN($.valueOf())}const ii=/\s+/,Oi=[];let _n=(()=>{class ${_ngEl;_renderer;initialClasses=Oi;rawClass;stateMap=new Map;constructor(Q,ie){this._ngEl=Q,this._renderer=ie}set klass(Q){this.initialClasses=null!=Q?Q.trim().split(ii):Oi}set ngClass(Q){this.rawClass="string"==typeof Q?Q.trim().split(ii):Q}ngDoCheck(){for(const ie of this.initialClasses)this._updateState(ie,!0);const Q=this.rawClass;if(Array.isArray(Q)||Q instanceof Set)for(const ie of Q)this._updateState(ie,!0);else if(null!=Q)for(const ie of Object.keys(Q))this._updateState(ie,!!Q[ie]);this._applyStateDiff()}_updateState(Q,ie){const Ne=this.stateMap.get(Q);void 0!==Ne?(Ne.enabled!==ie&&(Ne.changed=!0,Ne.enabled=ie),Ne.touched=!0):this.stateMap.set(Q,{enabled:ie,changed:!0,touched:!0})}_applyStateDiff(){for(const Q of this.stateMap){const ie=Q[0],Ne=Q[1];Ne.changed?(this._toggleClass(ie,Ne.enabled),Ne.changed=!1):Ne.touched||(Ne.enabled&&this._toggleClass(ie,!1),this.stateMap.delete(ie)),Ne.touched=!1}}_toggleClass(Q,ie){(Q=Q.trim()).length>0&&Q.split(ii).forEach(Ne=>{ie?this._renderer.addClass(this._ngEl.nativeElement,Ne):this._renderer.removeClass(this._ngEl.nativeElement,Ne)})}static \u0275fac=function(ie){return new(ie||$)(b.rXU(b.aKT),b.rXU(b.sFG))};static \u0275dir=b.FsC({type:$,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return $})();class Fi{$implicit;ngForOf;index;count;constructor(me,Q,ie,Ne){this.$implicit=me,this.ngForOf=Q,this.index=ie,this.count=Ne}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class ${_viewContainer;_template;_differs;set ngForOf(Q){this._ngForOf=Q,this._ngForOfDirty=!0}set ngForTrackBy(Q){this._trackByFn=Q}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(Q,ie,Ne){this._viewContainer=Q,this._template=ie,this._differs=Ne}set ngForTemplate(Q){Q&&(this._template=Q)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Q=this._ngForOf;!this._differ&&Q&&(this._differ=this._differs.find(Q).create(this.ngForTrackBy))}if(this._differ){const Q=this._differ.diff(this._ngForOf);Q&&this._applyChanges(Q)}}_applyChanges(Q){const ie=this._viewContainer;Q.forEachOperation((Ne,Ct,ln)=>{if(null==Ne.previousIndex)ie.createEmbeddedView(this._template,new Fi(Ne.item,this._ngForOf,-1,-1),null===ln?void 0:ln);else if(null==ln)ie.remove(null===Ct?void 0:Ct);else if(null!==Ct){const On=ie.get(Ct);ie.move(On,ln),Vi(On,Ne)}});for(let Ne=0,Ct=ie.length;Ne<Ct;Ne++){const On=ie.get(Ne).context;On.index=Ne,On.count=Ct,On.ngForOf=this._ngForOf}Q.forEachIdentityChange(Ne=>{Vi(ie.get(Ne.currentIndex),Ne)})}static ngTemplateContextGuard(Q,ie){return!0}static \u0275fac=function(ie){return new(ie||$)(b.rXU(b.c1b),b.rXU(b.C4Q),b.rXU(b._q3))};static \u0275dir=b.FsC({type:$,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return $})();function Vi($,me){$.context.$implicit=me.item}let _e=(()=>{class ${_viewContainer;_context=new $e;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(Q,ie){this._viewContainer=Q,this._thenTemplateRef=ie}set ngIf(Q){this._context.$implicit=this._context.ngIf=Q,this._updateView()}set ngIfThen(Q){Vt(Q),this._thenTemplateRef=Q,this._thenViewRef=null,this._updateView()}set ngIfElse(Q){Vt(Q),this._elseTemplateRef=Q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(Q,ie){return!0}static \u0275fac=function(ie){return new(ie||$)(b.rXU(b.c1b),b.rXU(b.C4Q))};static \u0275dir=b.FsC({type:$,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return $})();class $e{$implicit=null;ngIf=null}function Vt($,me){if($&&!$.createEmbeddedView)throw new b.wOt(2020,!1)}const wi=new b.nKC(""),Si=new b.nKC("");let Ee=(()=>{class ${locale;defaultTimezone;defaultOptions;constructor(Q,ie,Ne){this.locale=Q,this.defaultTimezone=ie,this.defaultOptions=Ne}transform(Q,ie,Ne,Ct){if(null==Q||""===Q||Q!=Q)return null;try{return ye(Q,ie??this.defaultOptions?.dateFormat??"mediumDate",Ct||this.locale,Ne??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ln){throw function ve($,me){return new b.wOt(2100,!1)}()}}static \u0275fac=function(ie){return new(ie||$)(b.rXU(b.xe9,16),b.rXU(wi,24),b.rXU(Si,24))};static \u0275pipe=b.EJ8({name:"date",type:$,pure:!0})}return $})(),ts=(()=>{class ${static \u0275fac=function(ie){return new(ie||$)};static \u0275mod=b.$C({type:$});static \u0275inj=b.G2t({})}return $})()},2967:(Dn,We,H)=>{"use strict";H.d(We,{xv:()=>st,u0:()=>qn,CA:()=>Qt,lR:()=>Tt,S3:()=>Qe});var b=H(1360),O=H(2214),Y=H(1985);function dt(te){void 0===te&&((0,b.Af3)(dt),te=(0,b.WQX)(b.zZn));const fe=te.get(b.u5s);return pe=>new Y.c(ye=>{const oe=fe.add();let ge=!1;function Ze(){ge||(oe(),ge=!0)}const vt=pe.subscribe({next:cn=>{ye.next(cn),Ze()},complete:()=>{ye.complete(),Ze()},error:cn=>{ye.error(cn),Ze()}});return vt.add(()=>{ye.unsubscribe(),Ze()}),vt})}var ht=H(6780),zt=H(3604);const en=new class jt extends zt.q{}(class Pt extends ht.R{constructor(fe,pe){super(fe,pe),this.scheduler=fe,this.work=pe}schedule(fe,pe=0){return pe>0?super.schedule(fe,pe):(this.delay=pe,this.state=fe,this.scheduler.flush(this),this)}execute(fe,pe){return pe>0||this.closed?super.execute(fe,pe):this._execute(fe,pe)}requestAsyncId(fe,pe,ye=0){return null!=ye&&ye>0||null==ye&&this.delay>0?super.requestAsyncId(fe,pe,ye):(fe.flush(this),0)}});var It=H(3236),Rt=H(6745),Oe=H(941);const st=new b.RxE("ANGULARFIRE2_VERSION");function Tt(te,fe,pe){if(fe){if(1===fe.length)return fe[0];const ge=fe.filter(Ze=>Ze.app===pe);if(1===ge.length)return ge[0]}return pe.container.getProvider(te).getImmediate({optional:!0})}const Qt=(te,fe)=>{const pe=fe?[fe]:(0,O.Dk)(),ye=[];return pe.forEach(oe=>{oe.container.getProvider(te).instances.forEach(Ze=>{ye.includes(Ze)||ye.push(Ze)})}),ye};var bt=function(te){return te[te.SILENT=0]="SILENT",te[te.WARN=1]="WARN",te[te.VERBOSE=2]="VERBOSE",te}(bt||{}),ut=(0,b.naY)()&&typeof Zone<"u"?bt.WARN:bt.SILENT;class kn{zone;delegate;constructor(fe,pe=en){this.zone=fe,this.delegate=pe}now(){return this.delegate.now()}schedule(fe,pe,ye){const oe=this.zone;return this.delegate.schedule(function(Ze){oe?oe.runGuarded(()=>{fe.apply(this,[Ze])}):fe.apply(this,[Ze])},pe,ye)}}let qn=(()=>{class te{outsideAngular;insideAngular;constructor(){const pe=(0,b.WQX)(b.SKi);this.outsideAngular=pe.runOutsideAngular(()=>new kn(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=pe.run(()=>new kn(typeof Zone>"u"?void 0:Zone.current,It.E))}static \u0275fac=function(ye){return new(ye||te)};static \u0275prov=b.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();var gt=!1;function sn(te){const fe=(0,b.WQX)(b.SKi,{optional:!0});return fe?fe.run(()=>te()):te()}const kt=(te,fe,pe)=>(...ye)=>(fe&&setTimeout(fe,0),(0,b.N4e)(pe,()=>sn(()=>te.apply(void 0,ye)))),Qe=(te,fe,pe)=>(pe||=fe?bt.WARN:bt.VERBOSE,function(){let ye;const oe=arguments;let ge,Ze,vt;try{ge=(0,b.WQX)(qn),Ze=(0,b.WQX)(b.u5s),vt=(0,b.WQX)(b.uvJ)}catch{return function In(te,fe){!gt&&(ut>bt.SILENT||(0,b.naY)())&&(gt=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ut>=fe&&console.warn(`Firebase API called outside injection context: ${te.name}`)}(te,pe),te.apply(this,oe)}for(let tn=0;tn<arguments.length;tn++)"function"==typeof oe[tn]&&(fe&&(ye||=sn(()=>Ze.add())),oe[tn]=kt(oe[tn],ye,vt));const cn=function et(te){const fe=(0,b.WQX)(b.SKi,{optional:!0});return fe?fe.runOutsideAngular(()=>te()):te()}(()=>te.apply(this,oe));return fe?cn instanceof Y.c?cn.pipe((0,Rt._)(ge.outsideAngular),(0,Oe.Q)(ge.insideAngular),dt(vt)):cn instanceof Promise?sn(()=>new Promise((tn,Jn)=>{Ze.run(()=>cn).then(qt=>(0,b.N4e)(vt,()=>sn(()=>tn(qt))),qt=>(0,b.N4e)(vt,()=>sn(()=>Jn(qt))))})):"function"==typeof cn&&ye?function(){return setTimeout(ye,0),cn.apply(this,arguments)}:sn(()=>cn):cn instanceof Y.c?cn.pipe((0,Rt._)(ge.outsideAngular),(0,Oe.Q)(ge.insideAngular)):sn(()=>cn)})},3073:(Dn,We,H)=>{"use strict";H.d(We,{D:()=>Pe});const{isArray:b}=Array,{getPrototypeOf:O,prototype:Y,keys:T}=Object;function Pe(Ie){if(1===Ie.length){const De=Ie[0];if(b(De))return{args:De,keys:null};if(function rt(Ie){return Ie&&"object"==typeof Ie&&O(Ie)===Y}(De)){const Ge=T(De);return{args:Ge.map(be=>De[be]),keys:Ge}}}return{args:Ie,keys:null}}},3236:(Dn,We,H)=>{"use strict";H.d(We,{E:()=>Y,b:()=>T});var b=H(6780);const Y=new(H(3604).q)(b.R),T=Y},3273:(Dn,We,H)=>{"use strict";H.d(We,{Dc:()=>dr,rJ:()=>qE,kd:()=>iv,H9:()=>L_,x7:()=>CT,GG:()=>ST,aU:()=>Sm,aQ:()=>fw,P:()=>Z_,BN:()=>Np,mZ:()=>rv,_M:()=>rw});var De,Ge,b=H(467),O=H(7852),Y=H(1362),T=H(8041),Pe=H(6858),rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ie={};(function(){var c;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(at,Fe,ze){ze||(ze=0);var ct=Array(16);if("string"==typeof Fe)for(var lt=0;16>lt;++lt)ct[lt]=Fe.charCodeAt(ze++)|Fe.charCodeAt(ze++)<<8|Fe.charCodeAt(ze++)<<16|Fe.charCodeAt(ze++)<<24;else for(lt=0;16>lt;++lt)ct[lt]=Fe[ze++]|Fe[ze++]<<8|Fe[ze++]<<16|Fe[ze++]<<24;var St=at.g[3],He=(Fe=at.g[0])+(St^(ze=at.g[1])&((lt=at.g[2])^St))+ct[0]+3614090360&4294967295;He=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=(ze=(lt=(St=(Fe=ze+(He<<7&4294967295|He>>>25))+((He=St+(lt^Fe&(ze^lt))+ct[1]+3905402710&4294967295)<<12&4294967295|He>>>20))+((He=lt+(ze^St&(Fe^ze))+ct[2]+606105819&4294967295)<<17&4294967295|He>>>15))+((He=ze+(Fe^lt&(St^Fe))+ct[3]+3250441966&4294967295)<<22&4294967295|He>>>10))+((He=Fe+(St^ze&(lt^St))+ct[4]+4118548399&4294967295)<<7&4294967295|He>>>25))+((He=St+(lt^Fe&(ze^lt))+ct[5]+1200080426&4294967295)<<12&4294967295|He>>>20))+((He=lt+(ze^St&(Fe^ze))+ct[6]+2821735955&4294967295)<<17&4294967295|He>>>15))+((He=ze+(Fe^lt&(St^Fe))+ct[7]+4249261313&4294967295)<<22&4294967295|He>>>10))+((He=Fe+(St^ze&(lt^St))+ct[8]+1770035416&4294967295)<<7&4294967295|He>>>25))+((He=St+(lt^Fe&(ze^lt))+ct[9]+2336552879&4294967295)<<12&4294967295|He>>>20))+((He=lt+(ze^St&(Fe^ze))+ct[10]+4294925233&4294967295)<<17&4294967295|He>>>15))+((He=ze+(Fe^lt&(St^Fe))+ct[11]+2304563134&4294967295)<<22&4294967295|He>>>10))+((He=Fe+(St^ze&(lt^St))+ct[12]+1804603682&4294967295)<<7&4294967295|He>>>25))+((He=St+(lt^Fe&(ze^lt))+ct[13]+4254626195&4294967295)<<12&4294967295|He>>>20))+((He=lt+(ze^St&(Fe^ze))+ct[14]+2792965006&4294967295)<<17&4294967295|He>>>15))+((He=ze+(Fe^lt&(St^Fe))+ct[15]+1236535329&4294967295)<<22&4294967295|He>>>10))+((He=Fe+(lt^St&(ze^lt))+ct[1]+4129170786&4294967295)<<5&4294967295|He>>>27))+((He=St+(ze^lt&(Fe^ze))+ct[6]+3225465664&4294967295)<<9&4294967295|He>>>23))+((He=lt+(Fe^ze&(St^Fe))+ct[11]+643717713&4294967295)<<14&4294967295|He>>>18))+((He=ze+(St^Fe&(lt^St))+ct[0]+3921069994&4294967295)<<20&4294967295|He>>>12))+((He=Fe+(lt^St&(ze^lt))+ct[5]+3593408605&4294967295)<<5&4294967295|He>>>27))+((He=St+(ze^lt&(Fe^ze))+ct[10]+38016083&4294967295)<<9&4294967295|He>>>23))+((He=lt+(Fe^ze&(St^Fe))+ct[15]+3634488961&4294967295)<<14&4294967295|He>>>18))+((He=ze+(St^Fe&(lt^St))+ct[4]+3889429448&4294967295)<<20&4294967295|He>>>12))+((He=Fe+(lt^St&(ze^lt))+ct[9]+568446438&4294967295)<<5&4294967295|He>>>27))+((He=St+(ze^lt&(Fe^ze))+ct[14]+3275163606&4294967295)<<9&4294967295|He>>>23))+((He=lt+(Fe^ze&(St^Fe))+ct[3]+4107603335&4294967295)<<14&4294967295|He>>>18))+((He=ze+(St^Fe&(lt^St))+ct[8]+1163531501&4294967295)<<20&4294967295|He>>>12))+((He=Fe+(lt^St&(ze^lt))+ct[13]+2850285829&4294967295)<<5&4294967295|He>>>27))+((He=St+(ze^lt&(Fe^ze))+ct[2]+4243563512&4294967295)<<9&4294967295|He>>>23))+((He=lt+(Fe^ze&(St^Fe))+ct[7]+1735328473&4294967295)<<14&4294967295|He>>>18))+((He=ze+(St^Fe&(lt^St))+ct[12]+2368359562&4294967295)<<20&4294967295|He>>>12))+((He=Fe+(ze^lt^St)+ct[5]+4294588738&4294967295)<<4&4294967295|He>>>28))+((He=St+(Fe^ze^lt)+ct[8]+2272392833&4294967295)<<11&4294967295|He>>>21))+((He=lt+(St^Fe^ze)+ct[11]+1839030562&4294967295)<<16&4294967295|He>>>16))+((He=ze+(lt^St^Fe)+ct[14]+4259657740&4294967295)<<23&4294967295|He>>>9))+((He=Fe+(ze^lt^St)+ct[1]+2763975236&4294967295)<<4&4294967295|He>>>28))+((He=St+(Fe^ze^lt)+ct[4]+1272893353&4294967295)<<11&4294967295|He>>>21))+((He=lt+(St^Fe^ze)+ct[7]+4139469664&4294967295)<<16&4294967295|He>>>16))+((He=ze+(lt^St^Fe)+ct[10]+3200236656&4294967295)<<23&4294967295|He>>>9))+((He=Fe+(ze^lt^St)+ct[13]+681279174&4294967295)<<4&4294967295|He>>>28))+((He=St+(Fe^ze^lt)+ct[0]+3936430074&4294967295)<<11&4294967295|He>>>21))+((He=lt+(St^Fe^ze)+ct[3]+3572445317&4294967295)<<16&4294967295|He>>>16))+((He=ze+(lt^St^Fe)+ct[6]+76029189&4294967295)<<23&4294967295|He>>>9))+((He=Fe+(ze^lt^St)+ct[9]+3654602809&4294967295)<<4&4294967295|He>>>28))+((He=St+(Fe^ze^lt)+ct[12]+3873151461&4294967295)<<11&4294967295|He>>>21))+((He=lt+(St^Fe^ze)+ct[15]+530742520&4294967295)<<16&4294967295|He>>>16))+((He=ze+(lt^St^Fe)+ct[2]+3299628645&4294967295)<<23&4294967295|He>>>9))+((He=Fe+(lt^(ze|~St))+ct[0]+4096336452&4294967295)<<6&4294967295|He>>>26))+((He=St+(ze^(Fe|~lt))+ct[7]+1126891415&4294967295)<<10&4294967295|He>>>22))+((He=lt+(Fe^(St|~ze))+ct[14]+2878612391&4294967295)<<15&4294967295|He>>>17))+((He=ze+(St^(lt|~Fe))+ct[5]+4237533241&4294967295)<<21&4294967295|He>>>11))+((He=Fe+(lt^(ze|~St))+ct[12]+1700485571&4294967295)<<6&4294967295|He>>>26))+((He=St+(ze^(Fe|~lt))+ct[3]+2399980690&4294967295)<<10&4294967295|He>>>22))+((He=lt+(Fe^(St|~ze))+ct[10]+4293915773&4294967295)<<15&4294967295|He>>>17))+((He=ze+(St^(lt|~Fe))+ct[1]+2240044497&4294967295)<<21&4294967295|He>>>11))+((He=Fe+(lt^(ze|~St))+ct[8]+1873313359&4294967295)<<6&4294967295|He>>>26))+((He=St+(ze^(Fe|~lt))+ct[15]+4264355552&4294967295)<<10&4294967295|He>>>22))+((He=lt+(Fe^(St|~ze))+ct[6]+2734768916&4294967295)<<15&4294967295|He>>>17))+((He=ze+(St^(lt|~Fe))+ct[13]+1309151649&4294967295)<<21&4294967295|He>>>11))+((St=(Fe=ze+((He=Fe+(lt^(ze|~St))+ct[4]+4149444226&4294967295)<<6&4294967295|He>>>26))+((He=St+(ze^(Fe|~lt))+ct[11]+3174756917&4294967295)<<10&4294967295|He>>>22))^((lt=St+((He=lt+(Fe^(St|~ze))+ct[2]+718787259&4294967295)<<15&4294967295|He>>>17))|~Fe))+ct[9]+3951481745&4294967295,at.g[0]=at.g[0]+Fe&4294967295,at.g[1]=at.g[1]+(lt+(He<<21&4294967295|He>>>11))&4294967295,at.g[2]=at.g[2]+lt&4294967295,at.g[3]=at.g[3]+St&4294967295}function y(at,Fe){this.h=Fe;for(var ze=[],ct=!0,lt=at.length-1;0<=lt;lt--){var St=0|at[lt];ct&&St==Fe||(ze[lt]=St,ct=!1)}this.g=ze}(function n(at,Fe){function ze(){}ze.prototype=Fe.prototype,at.D=Fe.prototype,at.prototype=new ze,at.prototype.constructor=at,at.C=function(ct,lt,St){for(var He=Array(arguments.length-2),Cu=2;Cu<arguments.length;Cu++)He[Cu-2]=arguments[Cu];return Fe.prototype[lt].apply(ct,He)}})(o,function i(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(at,Fe){void 0===Fe&&(Fe=at.length);for(var ze=Fe-this.blockSize,ct=this.B,lt=this.h,St=0;St<Fe;){if(0==lt)for(;St<=ze;)u(this,at,St),St+=this.blockSize;if("string"==typeof at){for(;St<Fe;)if(ct[lt++]=at.charCodeAt(St++),lt==this.blockSize){u(this,ct),lt=0;break}}else for(;St<Fe;)if(ct[lt++]=at[St++],lt==this.blockSize){u(this,ct),lt=0;break}}this.h=lt,this.o+=Fe},o.prototype.v=function(){var at=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);at[0]=128;for(var Fe=1;Fe<at.length-8;++Fe)at[Fe]=0;var ze=8*this.o;for(Fe=at.length-8;Fe<at.length;++Fe)at[Fe]=255&ze,ze/=256;for(this.u(at),at=Array(16),Fe=ze=0;4>Fe;++Fe)for(var ct=0;32>ct;ct+=8)at[ze++]=this.g[Fe]>>>ct&255;return at};var R={};function k(at){return-128<=at&&128>at?function h(at,Fe){var ze=R;return Object.prototype.hasOwnProperty.call(ze,at)?ze[at]:ze[at]=Fe(at)}(at,function(Fe){return new y([0|Fe],0>Fe?-1:0)}):new y([0|at],0>at?-1:0)}function U(at){if(isNaN(at)||!isFinite(at))return ue;if(0>at)return an(U(-at));for(var Fe=[],ze=1,ct=0;at>=ze;ct++)Fe[ct]=at/ze|0,ze*=4294967296;return new y(Fe,0)}var ue=k(0),Le=k(1),Dt=k(16777216);function Wt(at){if(0!=at.h)return!1;for(var Fe=0;Fe<at.g.length;Fe++)if(0!=at.g[Fe])return!1;return!0}function hn(at){return-1==at.h}function an(at){for(var Fe=at.g.length,ze=[],ct=0;ct<Fe;ct++)ze[ct]=~at.g[ct];return new y(ze,~at.h).add(Le)}function Yn(at,Fe){return at.add(an(Fe))}function ir(at,Fe){for(;(65535&at[Fe])!=at[Fe];)at[Fe+1]+=at[Fe]>>>16,at[Fe]&=65535,Fe++}function xn(at,Fe){this.g=at,this.h=Fe}function Or(at,Fe){if(Wt(Fe))throw Error("division by zero");if(Wt(at))return new xn(ue,ue);if(hn(at))return Fe=Or(an(at),Fe),new xn(an(Fe.g),an(Fe.h));if(hn(Fe))return Fe=Or(at,an(Fe)),new xn(an(Fe.g),Fe.h);if(30<at.g.length){if(hn(at)||hn(Fe))throw Error("slowDivide_ only works with positive integers.");for(var ze=Le,ct=Fe;0>=ct.l(at);)ze=xi(ze),ct=xi(ct);var lt=ui(ze,1),St=ui(ct,1);for(ct=ui(ct,2),ze=ui(ze,2);!Wt(ct);){var He=St.add(ct);0>=He.l(at)&&(lt=lt.add(ze),St=He),ct=ui(ct,1),ze=ui(ze,1)}return Fe=Yn(at,lt.j(Fe)),new xn(lt,Fe)}for(lt=ue;0<=at.l(Fe);){for(ze=Math.max(1,Math.floor(at.m()/Fe.m())),ct=48>=(ct=Math.ceil(Math.log(ze)/Math.LN2))?1:Math.pow(2,ct-48),He=(St=U(ze)).j(Fe);hn(He)||0<He.l(at);)He=(St=U(ze-=ct)).j(Fe);Wt(St)&&(St=Le),lt=lt.add(St),at=Yn(at,He)}return new xn(lt,at)}function xi(at){for(var Fe=at.g.length+1,ze=[],ct=0;ct<Fe;ct++)ze[ct]=at.i(ct)<<1|at.i(ct-1)>>>31;return new y(ze,at.h)}function ui(at,Fe){var ze=Fe>>5;Fe%=32;for(var ct=at.g.length-ze,lt=[],St=0;St<ct;St++)lt[St]=0<Fe?at.i(St+ze)>>>Fe|at.i(St+ze+1)<<32-Fe:at.i(St+ze);return new y(lt,at.h)}(c=y.prototype).m=function(){if(hn(this))return-an(this).m();for(var at=0,Fe=1,ze=0;ze<this.g.length;ze++){var ct=this.i(ze);at+=(0<=ct?ct:4294967296+ct)*Fe,Fe*=4294967296}return at},c.toString=function(at){if(2>(at=at||10)||36<at)throw Error("radix out of range: "+at);if(Wt(this))return"0";if(hn(this))return"-"+an(this).toString(at);for(var Fe=U(Math.pow(at,6)),ze=this,ct="";;){var lt=Or(ze,Fe).g,St=((0<(ze=Yn(ze,lt.j(Fe))).g.length?ze.g[0]:ze.h)>>>0).toString(at);if(Wt(ze=lt))return St+ct;for(;6>St.length;)St="0"+St;ct=St+ct}},c.i=function(at){return 0>at?0:at<this.g.length?this.g[at]:this.h},c.l=function(at){return hn(at=Yn(this,at))?-1:Wt(at)?0:1},c.abs=function(){return hn(this)?an(this):this},c.add=function(at){for(var Fe=Math.max(this.g.length,at.g.length),ze=[],ct=0,lt=0;lt<=Fe;lt++){var St=ct+(65535&this.i(lt))+(65535&at.i(lt)),He=(St>>>16)+(this.i(lt)>>>16)+(at.i(lt)>>>16);ct=He>>>16,ze[lt]=(He&=65535)<<16|(St&=65535)}return new y(ze,-2147483648&ze[ze.length-1]?-1:0)},c.j=function(at){if(Wt(this)||Wt(at))return ue;if(hn(this))return hn(at)?an(this).j(an(at)):an(an(this).j(at));if(hn(at))return an(this.j(an(at)));if(0>this.l(Dt)&&0>at.l(Dt))return U(this.m()*at.m());for(var Fe=this.g.length+at.g.length,ze=[],ct=0;ct<2*Fe;ct++)ze[ct]=0;for(ct=0;ct<this.g.length;ct++)for(var lt=0;lt<at.g.length;lt++){var St=this.i(ct)>>>16,He=65535&this.i(ct),Cu=at.i(lt)>>>16,Fd=65535&at.i(lt);ze[2*ct+2*lt]+=He*Fd,ir(ze,2*ct+2*lt),ze[2*ct+2*lt+1]+=St*Fd,ir(ze,2*ct+2*lt+1),ze[2*ct+2*lt+1]+=He*Cu,ir(ze,2*ct+2*lt+1),ze[2*ct+2*lt+2]+=St*Cu,ir(ze,2*ct+2*lt+2)}for(ct=0;ct<Fe;ct++)ze[ct]=ze[2*ct+1]<<16|ze[2*ct];for(ct=Fe;ct<2*Fe;ct++)ze[ct]=0;return new y(ze,0)},c.A=function(at){return Or(this,at).h},c.and=function(at){for(var Fe=Math.max(this.g.length,at.g.length),ze=[],ct=0;ct<Fe;ct++)ze[ct]=this.i(ct)&at.i(ct);return new y(ze,this.h&at.h)},c.or=function(at){for(var Fe=Math.max(this.g.length,at.g.length),ze=[],ct=0;ct<Fe;ct++)ze[ct]=this.i(ct)|at.i(ct);return new y(ze,this.h|at.h)},c.xor=function(at){for(var Fe=Math.max(this.g.length,at.g.length),ze=[],ct=0;ct<Fe;ct++)ze[ct]=this.i(ct)^at.i(ct);return new y(ze,this.h^at.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Ge=Ie.Md5=o,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=U,y.fromString=function J(at,Fe){if(0==at.length)throw Error("number format error: empty string");if(2>(Fe=Fe||10)||36<Fe)throw Error("radix out of range: "+Fe);if("-"==at.charAt(0))return an(J(at.substring(1),Fe));if(0<=at.indexOf("-"))throw Error('number format error: interior "-" character');for(var ze=U(Math.pow(Fe,8)),ct=ue,lt=0;lt<at.length;lt+=8){var St=Math.min(8,at.length-lt),He=parseInt(at.substring(lt,lt+St),Fe);8>St?(St=U(Math.pow(Fe,St)),ct=ct.j(St).add(U(He))):ct=(ct=ct.j(ze)).add(U(He))}return ct},De=Ie.Integer=y}).apply(typeof rt<"u"?rt:typeof self<"u"?self:typeof window<"u"?window:{});var dt,ht,Pt,zt,jt,en,_t,It,be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Te={};(function(){var c,n="function"==typeof Object.defineProperties?Object.defineProperty:function(g,x,G){return g==Array.prototype||g==Object.prototype||(g[x]=G.value),g},o=function i(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof be&&be];for(var x=0;x<g.length;++x){var G=g[x];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}(this);!function u(g,x){if(x)e:{var G=o;g=g.split(".");for(var ae=0;ae<g.length-1;ae++){var Et=g[ae];if(!(Et in G))break e;G=G[Et]}(x=x(ae=G[g=g[g.length-1]]))!=ae&&null!=x&&n(G,g,{configurable:!0,writable:!0,value:x})}}("Array.prototype.values",function(g){return g||function(){return function h(g,x){g instanceof String&&(g+="");var G=0,ae=!1,Et={next:function(){if(!ae&&G<g.length){var Ut=G++;return{value:x(Ut,g[Ut]),done:!1}}return ae=!0,{done:!0,value:void 0}}};return Et[Symbol.iterator]=function(){return Et},Et}(this,function(x,G){return G})}});var y=y||{},R=this||self;function k(g){var x=typeof g;return"array"==(x="object"!=x?x:g?Array.isArray(g)?"array":x:"null")||"object"==x&&"number"==typeof g.length}function U(g){var x=typeof g;return"object"==x&&null!=g||"function"==x}function J(g,x,G){return g.call.apply(g.bind,arguments)}function ue(g,x,G){if(!g)throw Error();if(2<arguments.length){var ae=Array.prototype.slice.call(arguments,2);return function(){var Et=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Et,ae),g.apply(x,Et)}}return function(){return g.apply(x,arguments)}}function Le(g,x,G){return(Le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?J:ue).apply(null,arguments)}function Dt(g,x){var G=Array.prototype.slice.call(arguments,1);return function(){var ae=G.slice();return ae.push.apply(ae,arguments),g.apply(this,ae)}}function Wt(g,x){function G(){}G.prototype=x.prototype,g.aa=x.prototype,g.prototype=new G,g.prototype.constructor=g,g.Qb=function(ae,Et,Ut){for(var Mn=Array(arguments.length-2),ls=2;ls<arguments.length;ls++)Mn[ls-2]=arguments[ls];return x.prototype[Et].apply(ae,Mn)}}function hn(g){const x=g.length;if(0<x){const G=Array(x);for(let ae=0;ae<x;ae++)G[ae]=g[ae];return G}return[]}function an(g,x){for(let G=1;G<arguments.length;G++){const ae=arguments[G];if(k(ae)){const Et=g.length||0,Ut=ae.length||0;g.length=Et+Ut;for(let Mn=0;Mn<Ut;Mn++)g[Et+Mn]=ae[Mn]}else g.push(ae)}}function ir(g){return/^[\s\xa0]*$/.test(g)}function xn(){var g=R.navigator;return g&&(g=g.userAgent)?g:""}function Or(g){return Or[" "](g),g}Or[" "]=function(){};var xi=!(-1==xn().indexOf("Gecko")||-1!=xn().toLowerCase().indexOf("webkit")&&-1==xn().indexOf("Edge")||-1!=xn().indexOf("Trident")||-1!=xn().indexOf("MSIE")||-1!=xn().indexOf("Edge"));function ui(g,x,G){for(const ae in g)x.call(G,g[ae],ae,g)}function Fe(g){const x={};for(const G in g)x[G]=g[G];return x}const ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(g,x){let G,ae;for(let Et=1;Et<arguments.length;Et++){for(G in ae=arguments[Et],ae)g[G]=ae[G];for(let Ut=0;Ut<ze.length;Ut++)G=ze[Ut],Object.prototype.hasOwnProperty.call(ae,G)&&(g[G]=ae[G])}}function lt(g){var x=1;g=g.split(":");const G=[];for(;0<x&&g.length;)G.push(g.shift()),x--;return g.length&&G.push(g.join(":")),G}function St(g){R.setTimeout(()=>{throw g},0)}function He(){var g=Qm;let x=null;return g.g&&(x=g.g,g.g=g.g.next,g.g||(g.h=null),x.next=null),x}var Fd=new class Yn{constructor(x,G){this.i=x,this.j=G,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}(()=>new qm,g=>g.reset());class qm{constructor(){this.next=this.g=this.h=null}set(x,G){this.h=x,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let _l,Kh=!1,Qm=new class Cu{constructor(){this.h=this.g=null}add(x,G){const ae=Fd.get();ae.set(x,G),this.h?this.h.next=ae:this.g=ae,this.h=ae}},qh=()=>{const g=R.Promise.resolve(void 0);_l=()=>{g.then(bw)}};var bw=()=>{for(var g;g=He();){try{g.h.call(g.g)}catch(G){St(G)}var x=Fd;x.j(g),100>x.h&&(x.h++,g.next=x.g,x.g=g)}Kh=!1};function xa(){this.s=this.s,this.C=this.C}function eo(g,x){this.type=g,this.g=this.target=x,this.defaultPrevented=!1}xa.prototype.s=!1,xa.prototype.ma=function(){this.s||(this.s=!0,this.N())},xa.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},eo.prototype.h=function(){this.defaultPrevented=!0};var Xm=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var g=!1,x=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const G=()=>{};R.addEventListener("test",G,x),R.removeEventListener("test",G,x)}catch{}return g}();function vl(g,x){if(eo.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var G=this.type=g.type,ae=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=x,x=g.relatedTarget){if(xi){e:{try{Or(x.nodeName);var Et=!0;break e}catch{}Et=!1}Et||(x=null)}}else"mouseover"==G?x=g.fromElement:"mouseout"==G&&(x=g.toElement);this.relatedTarget=x,ae?(this.clientX=void 0!==ae.clientX?ae.clientX:ae.pageX,this.clientY=void 0!==ae.clientY?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=void 0!==g.clientX?g.clientX:g.pageX,this.clientY=void 0!==g.clientY?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType="string"==typeof g.pointerType?g.pointerType:Dw[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&vl.aa.h.call(this)}}Wt(vl,eo);var Dw={2:"touch",3:"pen",4:"mouse"};vl.prototype.h=function(){vl.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Su="closure_listenable_"+(1e6*Math.random()|0),Ru=0;function Ld(g,x,G,ae,Et){this.listener=g,this.proxy=null,this.src=x,this.type=G,this.capture=!!ae,this.ha=Et,this.key=++Ru,this.da=this.fa=!1}function Qh(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function xp(g){this.src=g,this.g={},this.h=0}function Op(g,x){var G=x.type;if(G in g.g){var Ut,ae=g.g[G],Et=Array.prototype.indexOf.call(ae,x,void 0);(Ut=0<=Et)&&Array.prototype.splice.call(ae,Et,1),Ut&&(Qh(x),0==g.g[G].length&&(delete g.g[G],g.h--))}}function Zm(g,x,G,ae){for(var Et=0;Et<g.length;++Et){var Ut=g[Et];if(!Ut.da&&Ut.listener==x&&Ut.capture==!!G&&Ut.ha==ae)return Et}return-1}xp.prototype.add=function(g,x,G,ae,Et){var Ut=g.toString();(g=this.g[Ut])||(g=this.g[Ut]=[],this.h++);var Mn=Zm(g,x,ae,Et);return-1<Mn?(x=g[Mn],G||(x.fa=!1)):((x=new Ld(x,this.src,Ut,!!ae,Et)).fa=G,g.push(x)),x};var Xh="closure_lm_"+(1e6*Math.random()|0),El={};function Fp(g,x,G,ae,Et){if(ae&&ae.once)return Lp(g,x,G,ae,Et);if(Array.isArray(x)){for(var Ut=0;Ut<x.length;Ut++)Fp(g,x[Ut],G,ae,Et);return null}return G=Vd(G),g&&g[Su]?g.K(x,G,U(ae)?!!ae.capture:!!ae,Et):uv(g,x,G,!1,ae,Et)}function uv(g,x,G,ae,Et,Ut){if(!x)throw Error("Invalid event type");var Mn=U(Et)?!!Et.capture:!!Et,ls=Zh(g);if(ls||(g[Xh]=ls=new xp(g)),(G=ls.add(x,G,ae,Mn,Ut)).proxy)return G;if(ae=function Aw(){const x=lv;return function g(G){return x.call(g.src,g.listener,G)}}(),G.proxy=ae,ae.src=g,ae.listener=G,g.addEventListener)Xm||(Et=Mn),void 0===Et&&(Et=!1),g.addEventListener(x.toString(),ae,Et);else if(g.attachEvent)g.attachEvent(Jm(x.toString()),ae);else{if(!g.addListener||!g.removeListener)throw Error("addEventListener and attachEvent are unavailable.");g.addListener(ae)}return G}function Lp(g,x,G,ae,Et){if(Array.isArray(x)){for(var Ut=0;Ut<x.length;Ut++)Lp(g,x[Ut],G,ae,Et);return null}return G=Vd(G),g&&g[Su]?g.L(x,G,U(ae)?!!ae.capture:!!ae,Et):uv(g,x,G,!0,ae,Et)}function Ym(g,x,G,ae,Et){if(Array.isArray(x))for(var Ut=0;Ut<x.length;Ut++)Ym(g,x[Ut],G,ae,Et);else ae=U(ae)?!!ae.capture:!!ae,G=Vd(G),g&&g[Su]?(g=g.i,(x=String(x).toString())in g.g&&-1<(G=Zm(Ut=g.g[x],G,ae,Et))&&(Qh(Ut[G]),Array.prototype.splice.call(Ut,G,1),0==Ut.length&&(delete g.g[x],g.h--))):g&&(g=Zh(g))&&(x=g.g[x.toString()],g=-1,x&&(g=Zm(x,G,ae,Et)),(G=-1<g?x[g]:null)&&Vp(G))}function Vp(g){if("number"!=typeof g&&g&&!g.da){var x=g.src;if(x&&x[Su])Op(x.i,g);else{var G=g.type,ae=g.proxy;x.removeEventListener?x.removeEventListener(G,ae,g.capture):x.detachEvent?x.detachEvent(Jm(G),ae):x.addListener&&x.removeListener&&x.removeListener(ae),(G=Zh(x))?(Op(G,g),0==G.h&&(G.src=null,x[Xh]=null)):Qh(g)}}}function Jm(g){return g in El?El[g]:El[g]="on"+g}function lv(g,x){if(g.da)g=!0;else{x=new vl(x,this);var G=g.listener,ae=g.ha||g.src;g.fa&&Vp(g),g=G.call(ae,x)}return g}function Zh(g){return(g=g[Xh])instanceof xp?g:null}var Up="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vd(g){return"function"==typeof g?g:(g[Up]||(g[Up]=function(x){return g.handleEvent(x)}),g[Up])}function to(){xa.call(this),this.i=new xp(this),this.M=this,this.F=null}function Jo(g,x){var G,ae=g.F;if(ae)for(G=[];ae;ae=ae.F)G.push(ae);if(g=g.M,ae=x.type||x,"string"==typeof x)x=new eo(x,g);else if(x instanceof eo)x.target=x.target||g;else{var Et=x;ct(x=new eo(ae,g),Et)}if(Et=!0,G)for(var Ut=G.length-1;0<=Ut;Ut--){var Mn=x.g=G[Ut];Et=Ud(Mn,ae,!0,x)&&Et}if(Et=Ud(Mn=x.g=g,ae,!0,x)&&Et,Et=Ud(Mn,ae,!1,x)&&Et,G)for(Ut=0;Ut<G.length;Ut++)Et=Ud(Mn=x.g=G[Ut],ae,!1,x)&&Et}function Ud(g,x,G,ae){if(!(x=g.i.g[String(x)]))return!0;x=x.concat();for(var Et=!0,Ut=0;Ut<x.length;++Ut){var Mn=x[Ut];if(Mn&&!Mn.da&&Mn.capture==G){var ls=Mn.listener,yo=Mn.ha||Mn.src;Mn.fa&&Op(g.i,Mn),Et=!1!==ls.call(yo,ae)&&Et}}return Et&&!ae.defaultPrevented}function Bp(g,x,G){if("function"==typeof g)G&&(g=Le(g,G));else{if(!g||"function"!=typeof g.handleEvent)throw Error("Invalid listener argument");g=Le(g.handleEvent,g)}return 2147483647<Number(x)?-1:R.setTimeout(g,x||0)}function Yh(g){g.g=Bp(()=>{g.g=null,g.i&&(g.i=!1,Yh(g))},g.l);const x=g.h;g.h=null,g.m.apply(null,x)}Wt(to,xa),to.prototype[Su]=!0,to.prototype.removeEventListener=function(g,x,G,ae){Ym(this,g,x,G,ae)},to.prototype.N=function(){if(to.aa.N.call(this),this.i){var x,g=this.i;for(x in g.g){for(var G=g.g[x],ae=0;ae<G.length;ae++)Qh(G[ae]);delete g.g[x],g.h--}}this.F=null},to.prototype.K=function(g,x,G,ae){return this.i.add(String(g),x,!1,G,ae)},to.prototype.L=function(g,x,G,ae){return this.i.add(String(g),x,!0,G,ae)};class Cw extends xa{constructor(x,G){super(),this.m=x,this.l=G,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Yh(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bd(g){xa.call(this),this.h=g,this.g={}}Wt(Bd,xa);var dv=[];function hv(g){ui(g.g,function(x,G){this.g.hasOwnProperty(G)&&Vp(x)},g),g.g={}}Bd.prototype.N=function(){Bd.aa.N.call(this),hv(this)},Bd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pu=R.JSON.stringify,ey=R.JSON.parse,fv=class{stringify(g){return R.JSON.stringify(g,void 0)}parse(g){return R.JSON.parse(g,void 0)}};function jp(){}function gv(){}jp.prototype.h=null;var Jh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ty(){eo.call(this,"d")}function ny(){eo.call(this,"c")}Wt(ty,eo),Wt(ny,eo);var wl={},ry=null;function ef(){return ry=ry||new to}function mv(g){eo.call(this,wl.La,g)}function Mu(g){const x=ef();Jo(x,new mv(x))}function yv(g,x){eo.call(this,wl.STAT_EVENT,g),this.stat=x}function ea(g){const x=ef();Jo(x,new yv(x,g))}function iy(g,x){eo.call(this,wl.Ma,g),this.size=x}function jd(g,x){if("function"!=typeof g)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){g()},x)}function tf(){this.g=!0}function Nu(g,x,G,ae){g.info(function(){return"XMLHTTP TEXT ("+x+"): "+function Rw(g,x){if(!g.g)return x;if(!x)return null;try{var G=JSON.parse(x);if(G)for(g=0;g<G.length;g++)if(Array.isArray(G[g])){var ae=G[g];if(!(2>ae.length)){var Et=ae[1];if(Array.isArray(Et)&&!(1>Et.length)){var Ut=Et[0];if("noop"!=Ut&&"stop"!=Ut&&"close"!=Ut)for(var Mn=1;Mn<Et.length;Mn++)Et[Mn]=""}}}return Pu(G)}catch{return x}}(g,G)+(ae?" "+ae:"")})}wl.La="serverreachability",Wt(mv,eo),wl.STAT_EVENT="statevent",Wt(yv,eo),wl.Ma="timingevent",Wt(iy,eo),tf.prototype.xa=function(){this.g=!1},tf.prototype.info=function(){};var $p,ku={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function tu(){}function Pc(g,x,G,ae){this.j=g,this.i=x,this.l=G,this.R=ae||1,this.U=new Bd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $d}function $d(){this.i=null,this.g="",this.h=!1}Wt(tu,jp),tu.prototype.g=function(){return new XMLHttpRequest},tu.prototype.i=function(){return{}},$p=new tu;var Ev={},Hp={};function Il(g,x,G){g.L=1,g.v=sf(Nc(x)),g.m=G,g.P=!0,Pw(g,null)}function Pw(g,x){g.F=Date.now(),zp(g),g.A=Nc(g.v);var G=g.A,ae=g.R;Array.isArray(ae)||(ae=[String(ae)]),Mv(G.i,"t",ae),g.C=0,G=g.j.J,g.h=new $d,g.g=Uu(g.j,G?x:null,!g.m),0<g.O&&(g.M=new Cw(Le(g.Y,g,g.g),g.O)),x=g.U,G=g.g,ae=g.ca;var Et="readystatechange";Array.isArray(Et)||(Et&&(dv[0]=Et.toString()),Et=dv);for(var Ut=0;Ut<Et.length;Ut++){var Mn=Fp(G,Et[Ut],ae||x.handleEvent,!1,x.h||x);if(!Mn)break;x.g[Mn.key]=Mn}x=g.H?Fe(g.H):{},g.m?(g.u||(g.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,x)):(g.u="GET",g.g.ea(g.A,g.u,null,x)),Mu(),function Sw(g,x,G,ae,Et,Ut){g.info(function(){if(g.g)if(Ut)for(var Mn="",ls=Ut.split("&"),yo=0;yo<ls.length;yo++){var Ai=ls[yo].split("=");if(1<Ai.length){var Vo=Ai[0];Ai=Ai[1];var ta=Vo.split("_");Mn=2<=ta.length&&"type"==ta[1]?Mn+(Vo+"=")+Ai+"&":Mn+(Vo+"=redacted&")}}else Mn=null;else Mn=Ut;return"XMLHTTP REQ ("+ae+") [attempt "+Et+"]: "+x+"\n"+G+"\n"+Mn})}(g.i,g.u,g.A,g.l,g.R,g.m)}function Mw(g){return!!g.g&&"GET"==g.u&&2!=g.L&&g.j.Ca}function nf(g,x){var G=g.C,ae=x.indexOf("\n",G);return-1==ae?Hp:(G=Number(x.substring(G,ae)),isNaN(G)?Ev:(ae+=1)+G>x.length?Hp:(x=x.slice(ae,ae+G),g.C=ae+G,x))}function zp(g){g.S=Date.now()+g.I,wv(g,g.I)}function wv(g,x){if(null!=g.B)throw Error("WatchDog timer not null");g.B=jd(Le(g.ba,g),x)}function oy(g){g.B&&(R.clearTimeout(g.B),g.B=null)}function xu(g){0==g.j.G||g.J||Wv(g.j,g)}function nu(g){oy(g);var x=g.M;x&&"function"==typeof x.ma&&x.ma(),g.M=null,hv(g.U),g.g&&(x=g.g,g.g=null,x.abort(),x.ma())}function ay(g,x){try{var G=g.j;if(0!=G.G&&(G.g==g||bv(G.h,g)))if(!g.K&&bv(G.h,g)&&3==G.G){try{var ae=G.Da.g.parse(x)}catch{ae=null}if(Array.isArray(ae)&&3==ae.length){var Et=ae;if(0==Et[0]){e:if(!G.u){if(G.g){if(!(G.g.F+3e3<g.F))break e;Zp(G),qp(G)}my(G),ea(18)}}else G.za=Et[1],0<G.za-G.T&&37500>Et[2]&&G.F&&0==G.v&&!G.C&&(G.C=jd(Le(G.Za,G),6e3));if(1>=Tv(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else Al(G,11)}else if((g.K||G.g==g)&&Zp(G),!ir(x))for(Et=G.Da.g.parse(x),x=0;x<Et.length;x++){let Ai=Et[x];if(G.T=Ai[0],Ai=Ai[1],2==G.G)if("c"==Ai[0]){G.K=Ai[1],G.ia=Ai[2];const Vo=Ai[3];null!=Vo&&(G.la=Vo,G.j.info("VER="+G.la));const ta=Ai[4];null!=ta&&(G.Aa=ta,G.j.info("SVER="+G.Aa));const Xd=Ai[5];null!=Xd&&"number"==typeof Xd&&0<Xd&&(G.L=ae=1.5*Xd,G.j.info("backChannelRequestTimeoutMs_="+ae)),ae=G;const Ga=g.g;if(Ga){const Jp=Ga.g?Ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jp){var Ut=ae.h;Ut.g||-1==Jp.indexOf("spdy")&&-1==Jp.indexOf("quic")&&-1==Jp.indexOf("h2")||(Ut.j=Ut.l,Ut.g=new Set,Ut.h&&(cy(Ut,Ut.h),Ut.h=null))}if(ae.D){const _y=Ga.g?Ga.g.getResponseHeader("X-HTTP-Session-Id"):null;_y&&(ae.ya=_y,is(ae.I,ae.D,_y))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-g.F,G.j.info("Handshake RTT: "+G.R+"ms"));var Mn=g;if((ae=G).qa=Kv(ae,ae.J?ae.ia:null,ae.W),Mn.K){kw(ae.h,Mn);var ls=Mn,yo=ae.L;yo&&(ls.I=yo),ls.B&&(oy(ls),zp(ls)),ae.g=Mn}else Hv(ae);0<G.i.length&&Qp(G)}else"stop"!=Ai[0]&&"close"!=Ai[0]||Al(G,7);else 3==G.G&&("stop"==Ai[0]||"close"==Ai[0]?"stop"==Ai[0]?Al(G,7):Kp(G):"noop"!=Ai[0]&&G.l&&G.l.ta(Ai),G.v=0)}Mu()}catch{}}Pc.prototype.ca=function(g){g=g.target;const x=this.M;x&&3==Vu(g)?x.j():this.Y(g)},Pc.prototype.Y=function(g){try{if(g==this.g)e:{const ta=Vu(this.g);var x=this.g.Ba();if(this.g.Z(),!(3>ta)&&(3!=ta||this.g&&(this.h.h||this.g.oa()||Vv(this.g)))){this.J||4!=ta||7==x||Mu(),oy(this);var G=this.g.Z();this.X=G;t:if(Mw(this)){var ae=Vv(this.g);g="";var Et=ae.length,Ut=4==Vu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){nu(this),xu(this);var Mn="";break t}this.h.i=new R.TextDecoder}for(x=0;x<Et;x++)this.h.h=!0,g+=this.h.i.decode(ae[x],{stream:!(Ut&&x==Et-1)});ae.length=0,this.h.g+=g,this.C=0,Mn=this.h.g}else Mn=this.g.oa();if(this.o=200==G,function _v(g,x,G,ae,Et,Ut,Mn){g.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+Et+"]: "+x+"\n"+G+"\n"+Ut+" "+Mn})}(this.i,this.u,this.A,this.l,this.R,ta,G),this.o){if(this.T&&!this.K){t:{if(this.g){var ls,yo=this.g;if((ls=yo.g?yo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ir(ls)){var Ai=ls;break t}}Ai=null}if(!(G=Ai)){this.o=!1,this.s=3,ea(12),nu(this),xu(this);break e}Nu(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ay(this,G)}if(this.P){let Ga;for(G=!0;!this.J&&this.C<Mn.length;){if(Ga=nf(this,Mn),Ga==Hp){4==ta&&(this.s=4,ea(14),G=!1),Nu(this.i,this.l,null,"[Incomplete Response]");break}if(Ga==Ev){this.s=4,ea(15),Nu(this.i,this.l,Mn,"[Invalid Chunk]"),G=!1;break}Nu(this.i,this.l,Ga,null),ay(this,Ga)}if(Mw(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ta||0!=Mn.length||this.h.h||(this.s=1,ea(16),G=!1),this.o=this.o&&G,G){if(0<Mn.length&&!this.W){this.W=!0;var Vo=this.j;Vo.g==this&&Vo.ba&&!Vo.M&&(Vo.j.info("Great, no buffering proxy detected. Bytes received: "+Mn.length),yy(Vo),Vo.M=!0,ea(11))}}else Nu(this.i,this.l,Mn,"[Invalid Chunked Response]"),nu(this),xu(this)}else Nu(this.i,this.l,Mn,null),ay(this,Mn);4==ta&&nu(this),this.o&&!this.J&&(4==ta?Wv(this.j,this):(this.o=!1,zp(this)))}else(function Uv(g){const x={};g=(g.g&&2<=Vu(g)&&g.g.getAllResponseHeaders()||"").split("\r\n");for(let ae=0;ae<g.length;ae++){if(ir(g[ae]))continue;var G=lt(g[ae]);const Et=G[0];if("string"!=typeof(G=G[1]))continue;G=G.trim();const Ut=x[Et]||[];x[Et]=Ut,Ut.push(G)}!function at(g,x){for(const G in g)x.call(void 0,g[G],G,g)}(x,function(ae){return ae.join(", ")})})(this.g),400==G&&0<Mn.indexOf("Unknown SID")?(this.s=3,ea(12)):(this.s=0,ea(13)),nu(this),xu(this)}}}catch{}},Pc.prototype.cancel=function(){this.J=!0,nu(this)},Pc.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(function vv(g,x){g.info(function(){return"TIMEOUT: "+x})}(this.i,this.A),2!=this.L&&(Mu(),ea(17)),nu(this),this.s=2,xu(this)):wv(this,this.S-g)};var zT=class{constructor(g,x){this.g=g,this.map=x}};function Nw(g){this.l=g||10,g=R.PerformanceNavigationTiming?0<(g=R.performance.getEntriesByType("navigation")).length&&("hq"==g[0].nextHopProtocol||"h2"==g[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Iv(g){return!!g.h||!!g.g&&g.g.size>=g.j}function Tv(g){return g.h?1:g.g?g.g.size:0}function bv(g,x){return g.h?g.h==x:!!g.g&&g.g.has(x)}function cy(g,x){g.g?g.g.add(x):g.h=x}function kw(g,x){g.h&&g.h==x?g.h=null:g.g&&g.g.has(x)&&g.g.delete(x)}function Dv(g){if(null!=g.h)return g.i.concat(g.h.D);if(null!=g.g&&0!==g.g.size){let x=g.i;for(const G of g.g.values())x=x.concat(G.D);return x}return hn(g.i)}function Wp(g,x){if(g.forEach&&"function"==typeof g.forEach)g.forEach(x,void 0);else if(k(g)||"string"==typeof g)Array.prototype.forEach.call(g,x,void 0);else for(var G=function Ow(g){if(g.na&&"function"==typeof g.na)return g.na();if(!g.V||"function"!=typeof g.V){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(k(g)||"string"==typeof g){var x=[];g=g.length;for(var G=0;G<g;G++)x.push(G);return x}x=[],G=0;for(const ae in g)x[G++]=ae;return x}}}(g),ae=function xw(g){if(g.V&&"function"==typeof g.V)return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if("string"==typeof g)return g.split("");if(k(g)){for(var x=[],G=g.length,ae=0;ae<G;ae++)x.push(g[ae]);return x}for(ae in x=[],G=0,g)x[G++]=g[ae];return x}(g),Et=ae.length,Ut=0;Ut<Et;Ut++)x.call(void 0,ae[Ut],G&&G[Ut],g)}Nw.prototype.cancel=function(){if(this.i=Dv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const g of this.g.values())g.cancel();this.g.clear()}};var Hd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Mc){this.h=g.h,Ou(this,g.j),this.o=g.o,this.g=g.g,rf(this,g.s),this.l=g.l;var x=g.i,G=new af;G.i=x.i,x.g&&(G.g=new Map(x.g),G.h=x.h),Av(this,G),this.m=g.m}else g&&(x=String(g).match(Hd))?(this.h=!1,Ou(this,x[1]||"",!0),this.o=zd(x[2]||""),this.g=zd(x[3]||"",!0),rf(this,x[4]),this.l=zd(x[5]||"",!0),Av(this,x[6]||"",!0),this.m=zd(x[7]||"")):(this.h=!1,this.i=new af(null,this.h))}function Nc(g){return new Mc(g)}function Ou(g,x,G){g.j=G?zd(x,!0):x,g.j&&(g.j=g.j.replace(/:$/,""))}function rf(g,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);g.s=x}else g.s=null}function Av(g,x,G){x instanceof af?(g.i=x,function Gp(g,x){x&&!g.j&&(Fu(g),g.i=null,g.g.forEach(function(G,ae){var Et=ae.toLowerCase();ae!=Et&&(Wd(this,ae),Mv(this,Et,G))},g)),g.j=x}(g.i,g.h)):(G||(x=kc(x,Rv)),g.i=new af(x,g.h))}function is(g,x,G){g.i.set(x,G)}function sf(g){return is(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function zd(g,x){return g?x?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function kc(g,x,G){return"string"==typeof g?(g=encodeURI(g).replace(x,ly),G&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function ly(g){return"%"+((g=g.charCodeAt(0))>>4&15).toString(16)+(15&g).toString(16)}Mc.prototype.toString=function(){var g=[],x=this.j;x&&g.push(kc(x,Cv,!0),":");var G=this.g;return(G||"file"==x)&&(g.push("//"),(x=this.o)&&g.push(kc(x,Cv,!0),"@"),g.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(G=this.s)&&g.push(":",String(G))),(G=this.l)&&(this.g&&"/"!=G.charAt(0)&&g.push("/"),g.push(kc(G,"/"==G.charAt(0)?Sv:Fw,!0))),(G=this.i.toString())&&g.push("?",G),(G=this.m)&&g.push("#",kc(G,Lw)),g.join("")};var Cv=/[#\/\?@]/g,Fw=/[#\?:]/g,Sv=/[#\?]/g,Rv=/[#\?@]/g,Lw=/#/g;function af(g,x){this.h=this.g=null,this.i=g||null,this.j=!!x}function Fu(g){g.g||(g.g=new Map,g.h=0,g.i&&function uy(g,x){if(g){g=g.split("&");for(var G=0;G<g.length;G++){var ae=g[G].indexOf("="),Et=null;if(0<=ae){var Ut=g[G].substring(0,ae);Et=g[G].substring(ae+1)}else Ut=g[G];x(Ut,Et?decodeURIComponent(Et.replace(/\+/g," ")):"")}}}(g.i,function(x,G){g.add(decodeURIComponent(x.replace(/\+/g," ")),G)}))}function Wd(g,x){Fu(g),x=Gd(g,x),g.g.has(x)&&(g.i=null,g.h-=g.g.get(x).length,g.g.delete(x))}function Pv(g,x){return Fu(g),x=Gd(g,x),g.g.has(x)}function Mv(g,x,G){Wd(g,x),0<G.length&&(g.i=null,g.g.set(Gd(g,x),hn(G)),g.h+=G.length)}function Gd(g,x){return x=String(x),g.j&&(x=x.toLowerCase()),x}function ru(g,x,G,ae,Et){try{Et&&(Et.onload=null,Et.onerror=null,Et.onabort=null,Et.ontimeout=null),ae(G)}catch{}}function Vw(){this.g=new fv}function xv(g,x,G){const ae=G||"";try{Wp(g,function(Et,Ut){let Mn=Et;U(Et)&&(Mn=Pu(Et)),x.push(ae+Ut+"="+encodeURIComponent(Mn))})}catch(Et){throw x.push(ae+"type="+encodeURIComponent("_badmap")),Et}}function Tl(g){this.l=g.Ub||null,this.j=g.eb||!1}function bl(g,x){to.call(this),this.D=g,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ov(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}function cf(g){g.readyState=4,g.l=null,g.j=null,g.v=null,uf(g)}function uf(g){g.onreadystatechange&&g.onreadystatechange.call(g)}function Fv(g){let x="";return ui(g,function(G,ae){x+=ae,x+=":",x+=G,x+="\r\n"}),x}function dy(g,x,G){e:{for(ae in G){var ae=!1;break e}ae=!0}ae||(G=Fv(G),"string"==typeof g?null!=G&&encodeURIComponent(String(G)):is(g,x,G))}function no(g){to.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=af.prototype).add=function(g,x){Fu(this),this.i=null,g=Gd(this,g);var G=this.g.get(g);return G||this.g.set(g,G=[]),G.push(x),this.h+=1,this},c.forEach=function(g,x){Fu(this),this.g.forEach(function(G,ae){G.forEach(function(Et){g.call(x,Et,ae,this)},this)},this)},c.na=function(){Fu(this);const g=Array.from(this.g.values()),x=Array.from(this.g.keys()),G=[];for(let ae=0;ae<x.length;ae++){const Et=g[ae];for(let Ut=0;Ut<Et.length;Ut++)G.push(x[ae])}return G},c.V=function(g){Fu(this);let x=[];if("string"==typeof g)Pv(this,g)&&(x=x.concat(this.g.get(Gd(this,g))));else{g=Array.from(this.g.values());for(let G=0;G<g.length;G++)x=x.concat(g[G])}return x},c.set=function(g,x){return Fu(this),this.i=null,Pv(this,g=Gd(this,g))&&(this.h-=this.g.get(g).length),this.g.set(g,[x]),this.h+=1,this},c.get=function(g,x){return g&&0<(g=this.V(g)).length?String(g[0]):x},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],x=Array.from(this.g.keys());for(var G=0;G<x.length;G++){var ae=x[G];const Ut=encodeURIComponent(String(ae)),Mn=this.V(ae);for(ae=0;ae<Mn.length;ae++){var Et=Ut;""!==Mn[ae]&&(Et+="="+encodeURIComponent(String(Mn[ae]))),g.push(Et)}}return this.i=g.join("&")},Wt(Tl,jp),Tl.prototype.g=function(){return new bl(this.l,this.j)},Tl.prototype.i=function(g){return function(){return g}}({}),Wt(bl,to),(c=bl.prototype).open=function(g,x){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=x,this.readyState=1,uf(this)},c.send=function(g){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(x.body=g),(this.D||R).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cf(this)),this.readyState=0},c.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,uf(this)),this.g&&(this.readyState=3,uf(this),this.g)))if("arraybuffer"===this.responseType)g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ov(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var x=g.value?g.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!g.done}))&&(this.response=this.responseText+=x)}g.done?cf(this):uf(this),3==this.readyState&&Ov(this)}},c.Ra=function(g){this.g&&(this.response=this.responseText=g,cf(this))},c.Qa=function(g){this.g&&(this.response=g,cf(this))},c.ga=function(){this.g&&cf(this)},c.setRequestHeader=function(g,x){this.u.append(g,x)},c.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],x=this.h.entries();for(var G=x.next();!G.done;)g.push((G=G.value)[0]+": "+G[1]),G=x.next();return g.join("\r\n")},Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(g){this.m=g?"include":"same-origin"}}),Wt(no,to);var hy=/^https?$/i,lf=["POST","PUT"];function fy(g,x){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=x,g.m=5,py(g),Lu(g)}function py(g){g.A||(g.A=!0,Jo(g,"complete"),Jo(g,"error"))}function Lv(g){if(g.h&&typeof y<"u"&&(!g.v[1]||4!=Vu(g)||2!=g.Z()))if(g.u&&4==Vu(g))Bp(g.Ea,0,g);else if(Jo(g,"readystatechange"),4==Vu(g)){g.h=!1;try{const Mn=g.Z();e:switch(Mn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var G;if(!(G=x)){var ae;if(ae=0===Mn){var Et=String(g.D).match(Hd)[1]||null;!Et&&R.self&&R.self.location&&(Et=R.self.location.protocol.slice(0,-1)),ae=!hy.test(Et?Et.toLowerCase():"")}G=ae}if(G)Jo(g,"complete"),Jo(g,"success");else{g.m=6;try{var Ut=2<Vu(g)?g.g.statusText:""}catch{Ut=""}g.l=Ut+" ["+g.Z()+"]",py(g)}}finally{Lu(g)}}}function Lu(g,x){if(g.g){df(g);const G=g.g,ae=g.v[0]?()=>{}:null;g.g=null,g.v=null,x||Jo(g,"ready");try{G.onreadystatechange=ae}catch{}}}function df(g){g.I&&(R.clearTimeout(g.I),g.I=null)}function Vu(g){return g.g?g.g.readyState:0}function Vv(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Dl(g,x,G){return G&&G.internalChannelParams&&G.internalChannelParams[g]||x}function Bv(g){this.Aa=0,this.i=[],this.j=new tf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dl("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dl("baseRetryDelayMs",5e3,g),this.cb=Dl("retryDelaySeedMs",1e4,g),this.Wa=Dl("forwardChannelMaxRetries",2,g),this.wa=Dl("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Nw(g&&g.concurrentRequestLimit),this.Da=new Vw,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kp(g){if(jv(g),3==g.G){var x=g.U++,G=Nc(g.I);if(is(G,"SID",g.K),is(G,"RID",x),is(G,"TYPE","terminate"),Kd(g,G),(x=new Pc(g,g.j,x)).L=2,x.v=sf(Nc(G)),G=!1,R.navigator&&R.navigator.sendBeacon)try{G=R.navigator.sendBeacon(x.v.toString(),"")}catch{}!G&&R.Image&&((new Image).src=x.v,G=!0),G||(x.g=Uu(x.j,null),x.g.ea(x.v)),x.F=Date.now(),zp(x)}Gv(g)}function qp(g){g.g&&(yy(g),g.g.cancel(),g.g=null)}function jv(g){qp(g),g.u&&(R.clearTimeout(g.u),g.u=null),Zp(g),g.h.cancel(),g.s&&("number"==typeof g.s&&R.clearTimeout(g.s),g.s=null)}function Qp(g){if(!Iv(g.h)&&!g.s){g.s=!0;var x=g.Ga;_l||qh(),Kh||(_l(),Kh=!0),Qm.add(x,g),g.B=0}}function gy(g,x){var G;G=x?x.l:g.U++;const ae=Nc(g.I);is(ae,"SID",g.K),is(ae,"RID",G),is(ae,"AID",g.T),Kd(g,ae),g.m&&g.o&&dy(ae,g.m,g.o),G=new Pc(g,g.j,G,g.B+1),null===g.m&&(G.H=g.o),x&&(g.i=x.D.concat(g.i)),x=Xp(g,G,1e3),G.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),cy(g.h,G),Il(G,ae,x)}function Kd(g,x){g.H&&ui(g.H,function(G,ae){is(x,ae,G)}),g.l&&Wp({},function(G,ae){is(x,ae,G)})}function Xp(g,x,G){G=Math.min(g.i.length,G);var ae=g.l?Le(g.l.Na,g.l,g):null;e:{var Et=g.i;let Ut=-1;for(;;){const Mn=["count="+G];-1==Ut?0<G?(Ut=Et[0].g,Mn.push("ofs="+Ut)):Ut=0:Mn.push("ofs="+Ut);let ls=!0;for(let yo=0;yo<G;yo++){let Ai=Et[yo].g;const Vo=Et[yo].map;if(Ai-=Ut,0>Ai)Ut=Math.max(0,Et[yo].g-100),ls=!1;else try{xv(Vo,Mn,"req"+Ai+"_")}catch{ae&&ae(Vo)}}if(ls){ae=Mn.join("&");break e}}}return g=g.i.splice(0,G),x.D=g,ae}function Hv(g){if(!g.g&&!g.u){g.Y=1;var x=g.Fa;_l||qh(),Kh||(_l(),Kh=!0),Qm.add(x,g),g.v=0}}function my(g){return!(g.g||g.u||3<=g.v||(g.Y++,g.u=jd(Le(g.Fa,g),Yp(g,g.v)),g.v++,0))}function yy(g){null!=g.A&&(R.clearTimeout(g.A),g.A=null)}function zv(g){g.g=new Pc(g,g.j,"rpc",g.Y),null===g.m&&(g.g.H=g.o),g.g.O=0;var x=Nc(g.qa);is(x,"RID","rpc"),is(x,"SID",g.K),is(x,"AID",g.T),is(x,"CI",g.F?"0":"1"),!g.F&&g.ja&&is(x,"TO",g.ja),is(x,"TYPE","xmlhttp"),Kd(g,x),g.m&&g.o&&dy(x,g.m,g.o),g.L&&(g.g.I=g.L);var G=g.g;g=g.ia,G.L=1,G.v=sf(Nc(x)),G.m=null,G.P=!0,Pw(G,g)}function Zp(g){null!=g.C&&(R.clearTimeout(g.C),g.C=null)}function Wv(g,x){var G=null;if(g.g==x){Zp(g),yy(g),g.g=null;var ae=2}else{if(!bv(g.h,x))return;G=x.D,kw(g.h,x),ae=1}if(0!=g.G)if(x.o)if(1==ae){G=x.m?x.m.length:0,x=Date.now()-x.F;var Et=g.B;Jo(ae=ef(),new iy(ae,G)),Qp(g)}else Hv(g);else if(3==(Et=x.s)||0==Et&&0<x.X||!(1==ae&&function $v(g,x){return!(Tv(g.h)>=g.h.j-(g.s?1:0)||(g.s?(g.i=x.D.concat(g.i),0):1==g.G||2==g.G||g.B>=(g.Va?0:g.Wa)||(g.s=jd(Le(g.Ga,g,x),Yp(g,g.B)),g.B++,0)))}(g,x)||2==ae&&my(g)))switch(G&&0<G.length&&(x=g.h,x.i=x.i.concat(G)),Et){case 1:Al(g,5);break;case 4:Al(g,10);break;case 3:Al(g,6);break;default:Al(g,2)}}function Yp(g,x){let G=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(G*=2),G*x}function Al(g,x){if(g.j.info("Error code "+x),2==x){var G=Le(g.fb,g),ae=g.Xa;const Et=!ae;ae=new Mc(ae||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Ou(ae,"https"),sf(ae),Et?function Nv(g,x){const G=new tf;if(R.Image){const ae=new Image;ae.onload=Dt(ru,G,"TestLoadImage: loaded",!0,x,ae),ae.onerror=Dt(ru,G,"TestLoadImage: error",!1,x,ae),ae.onabort=Dt(ru,G,"TestLoadImage: abort",!1,x,ae),ae.ontimeout=Dt(ru,G,"TestLoadImage: timeout",!1,x,ae),R.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=g}else x(!1)}(ae.toString(),G):function kv(g,x){new tf;const ae=new AbortController,Et=setTimeout(()=>{ae.abort(),ru(0,0,!1,x)},1e4);fetch(g,{signal:ae.signal}).then(Ut=>{clearTimeout(Et),ru(0,0,!!Ut.ok,x)}).catch(()=>{clearTimeout(Et),ru(0,0,!1,x)})}(ae.toString(),G)}else ea(2);g.G=0,g.l&&g.l.sa(x),Gv(g),jv(g)}function Gv(g){if(g.G=0,g.ka=[],g.l){const x=Dv(g.h);(0!=x.length||0!=g.i.length)&&(an(g.ka,x),an(g.ka,g.i),g.h.i.length=0,hn(g.i),g.i.length=0),g.l.ra()}}function Kv(g,x,G){var ae=G instanceof Mc?Nc(G):new Mc(G);if(""!=ae.g)x&&(ae.g=x+"."+ae.g),rf(ae,ae.s);else{var Et=R.location;ae=Et.protocol,x=x?x+"."+Et.hostname:Et.hostname,Et=+Et.port;var Ut=new Mc(null);ae&&Ou(Ut,ae),x&&(Ut.g=x),Et&&rf(Ut,Et),G&&(Ut.l=G),ae=Ut}return x=g.ya,(G=g.D)&&x&&is(ae,G,x),is(ae,"VER",g.la),Kd(g,ae),ae}function Uu(g,x,G){if(x&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return(x=new no(g.Ca&&!g.pa?new Tl({eb:G}):g.pa)).Ha(g.J),x}function qd(){}function Qd(){}function la(g,x){to.call(this),this.g=new Bv(x),this.l=g,this.h=x&&x.messageUrlParams||null,g=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(g?g["X-WebChannel-Content-Type"]=x.messageContentType:g={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(g?g["X-WebChannel-Client-Profile"]=x.va:g={"X-WebChannel-Client-Profile":x.va}),this.g.S=g,(g=x&&x.Sb)&&!ir(g)&&(this.g.m=g),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!ir(x)&&(this.g.D=x,null!==(g=this.h)&&x in g&&x in(g=this.h)&&delete g[x]),this.j=new Sl(this)}function qv(g){ty.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var x=g.__sm__;if(x){e:{for(const G in x){g=G;break e}g=void 0}(this.i=g)&&(g=this.i,x=null!==x&&g in x?x[g]:void 0),this.data=x}else this.data=g}function Cl(){ny.call(this),this.status=1}function Sl(g){this.g=g}(c=no.prototype).Ha=function(g){this.J=g},c.ea=function(g,x,G,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);x=x?x.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$p.g(),this.v=function pv(g){return g.h||(g.h=g.i())}(this.o?this.o:$p),this.g.onreadystatechange=Le(this.Ea,this);try{this.B=!0,this.g.open(x,String(g),!0),this.B=!1}catch(Ut){return void fy(this,Ut)}if(g=G||"",G=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var Et in ae)G.set(Et,ae[Et]);else{if("function"!=typeof ae.keys||"function"!=typeof ae.get)throw Error("Unknown input type for opt_headers: "+String(ae));for(const Ut of ae.keys())G.set(Ut,ae.get(Ut))}ae=Array.from(G.keys()).find(Ut=>"content-type"==Ut.toLowerCase()),Et=R.FormData&&g instanceof R.FormData,!(0<=Array.prototype.indexOf.call(lf,x,void 0))||ae||Et||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ut,Mn]of G)this.g.setRequestHeader(Ut,Mn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{df(this),this.u=!0,this.g.send(g),this.u=!1}catch(Ut){fy(this,Ut)}},c.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Jo(this,"complete"),Jo(this,"abort"),Lu(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lu(this,!0)),no.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?Lv(this):this.bb())},c.bb=function(){Lv(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<Vu(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(g){if(this.g){var x=this.g.responseText;return g&&0==x.indexOf(g)&&(x=x.substring(g.length)),ey(x)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=Bv.prototype).la=8,c.G=1,c.connect=function(g,x,G,ae){ea(0),this.W=g,this.H=x||{},G&&void 0!==ae&&(this.H.OSID=G,this.H.OAID=ae),this.F=this.X,this.I=Kv(this,null,this.W),Qp(this)},c.Ga=function(g){if(this.s)if(this.s=null,1==this.G){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Et=new Pc(this,this.j,g);let Ut=this.o;if(this.S&&(Ut?(Ut=Fe(Ut),ct(Ut,this.S)):Ut=this.S),null!==this.m||this.O||(Et.H=Ut,Ut=null),this.P)e:{for(var x=0,G=0;G<this.i.length;G++){var ae=this.i[G];if(void 0===(ae="__data__"in ae.map&&"string"==typeof(ae=ae.map.__data__)?ae.length:void 0))break;if(4096<(x+=ae)){x=G;break e}if(4096===x||G===this.i.length-1){x=G+1;break e}}x=1e3}else x=1e3;x=Xp(this,Et,x),is(G=Nc(this.I),"RID",g),is(G,"CVER",22),this.D&&is(G,"X-HTTP-Session-Id",this.D),Kd(this,G),Ut&&(this.O?x="headers="+encodeURIComponent(String(Fv(Ut)))+"&"+x:this.m&&dy(G,this.m,Ut)),cy(this.h,Et),this.Ua&&is(G,"TYPE","init"),this.P?(is(G,"$req",x),is(G,"SID","null"),Et.T=!0,Il(Et,G,null)):Il(Et,G,x),this.G=2}}else 3==this.G&&(g?gy(this,g):0==this.i.length||Iv(this.h)||gy(this))},c.Fa=function(){if(this.u=null,zv(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=jd(Le(this.ab,this),g)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ea(10),qp(this),zv(this))},c.Za=function(){null!=this.C&&(this.C=null,qp(this),my(this),ea(19))},c.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ea(2)):(this.j.info("Failed to ping google.com"),ea(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=qd.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Qd.prototype.g=function(g,x){return new la(g,x)},Wt(la,to),la.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},la.prototype.close=function(){Kp(this.g)},la.prototype.o=function(g){var x=this.g;if("string"==typeof g){var G={};G.__data__=g,g=G}else this.u&&((G={}).__data__=Pu(g),g=G);x.i.push(new zT(x.Ya++,g)),3==x.G&&Qp(x)},la.prototype.N=function(){this.g.l=null,delete this.j,Kp(this.g),delete this.g,la.aa.N.call(this)},Wt(qv,ty),Wt(Cl,ny),Wt(Sl,qd),Sl.prototype.ua=function(){Jo(this.g,"a")},Sl.prototype.ta=function(g){Jo(this.g,new qv(g))},Sl.prototype.sa=function(g){Jo(this.g,new Cl)},Sl.prototype.ra=function(){Jo(this.g,"b")},Qd.prototype.createWebChannel=Qd.prototype.g,la.prototype.send=la.prototype.o,la.prototype.open=la.prototype.m,la.prototype.close=la.prototype.close,It=Te.createWebChannelTransport=function(){return new Qd},_t=Te.getStatEventTarget=function(){return ef()},en=Te.Event=wl,jt=Te.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ku.NO_ERROR=0,ku.TIMEOUT=8,ku.HTTP_ERROR=6,zt=Te.ErrorCode=ku,sy.COMPLETE="complete",Pt=Te.EventType=sy,gv.EventType=Jh,Jh.OPEN="a",Jh.CLOSE="b",Jh.ERROR="c",Jh.MESSAGE="d",to.prototype.listen=to.prototype.K,ht=Te.WebChannel=gv,Te.FetchXmlHttpFactory=Tl,no.prototype.listenOnce=no.prototype.L,no.prototype.getLastError=no.prototype.Ka,no.prototype.getLastErrorCode=no.prototype.Ba,no.prototype.getStatus=no.prototype.Z,no.prototype.getResponseJson=no.prototype.Oa,no.prototype.getResponseText=no.prototype.oa,no.prototype.send=no.prototype.ea,no.prototype.setWithCredentials=no.prototype.Ha,dt=Te.XhrIo=no}).apply(typeof be<"u"?be:typeof self<"u"?self:typeof window<"u"?window:{});const Rt="@firebase/firestore";class st{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");let Je="11.8.1";const Tt=new T.Vy("@firebase/firestore");function Qt(){return Tt.logLevel}function ut(c,...n){if(Tt.logLevel<=T.$b.DEBUG){const i=n.map(qn);Tt.debug(`Firestore (${Je}): ${c}`,...i)}}function Un(c,...n){if(Tt.logLevel<=T.$b.ERROR){const i=n.map(qn);Tt.error(`Firestore (${Je}): ${c}`,...i)}}function kn(c,...n){if(Tt.logLevel<=T.$b.WARN){const i=n.map(qn);Tt.warn(`Firestore (${Je}): ${c}`,...i)}}function qn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function gt(c,n,i){let o="Unexpected state";"string"==typeof n?o=n:i=n,In(c,o,i)}function In(c,n,i){let o=`FIRESTORE (${Je}) INTERNAL ASSERTION FAILED: ${n} (ID: ${c.toString(16)})`;if(void 0!==i)try{o+=" CONTEXT: "+JSON.stringify(i)}catch{o+=" CONTEXT: "+i}throw Un(o),new Error(o)}function et(c,n,i,o){let u="Unexpected state";"string"==typeof i?u=i:o=i,c||In(n,u,o)}function kt(c,n){return c}const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Pe.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fe{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class pe{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class ye{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(st.UNAUTHENTICATED))}shutdown(){}}class oe{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ge{constructor(n){this.t=n,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var o=this;et(void 0===this.o,42304);let u=this.i;const h=U=>this.i!==u?(u=this.i,i(U)):Promise.resolve();let y=new fe;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new fe,n.enqueueRetryable(()=>h(this.currentUser))};const R=()=>{const U=y;n.enqueueRetryable((0,b.A)(function*(){yield U.promise,yield h(o.currentUser)}))},k=U=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(U=>k(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?k(U):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new fe)}},0),R()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==n?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(et("string"==typeof o.accessToken,31837,{l:o}),new pe(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return et(null===n||"string"==typeof n,2055,{h:n}),new st(n)}}class Ze{constructor(n,i,o){this.P=n,this.T=i,this.I=o,this.type="FirstParty",this.user=st.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vt{constructor(n,i,o){this.P=n,this.T=i,this.I=o}getToken(){return Promise.resolve(new Ze(this.P,this.T,this.I))}start(n,i){n.enqueueRetryable(()=>i(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cn{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tn{constructor(n,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,O.xZ)(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,i){et(void 0===this.o,3512);const o=h=>{null!=h.error&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const y=h.token!==this.m;return this.m=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?i(h.token):Promise.resolve()};this.o=h=>{n.enqueueRetryable(()=>o(h))};const u=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cn(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(et("string"==typeof i.token,44558,{tokenResult:i}),this.m=i.token,new cn(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function qt(c){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let o=0;o<c;o++)i[o]=Math.floor(256*Math.random());return i}function Xn(){return new TextEncoder}class zn{static newId(){const i=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const u=qt(40);for(let h=0;h<u.length;++h)o.length<20&&u[h]<i&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[h]%62))}return o}}function Yt(c,n){return c<n?-1:c>n?1:0}function Vn(c,n){let i=0;for(;i<c.length&&i<n.length;){const o=c.codePointAt(i),u=n.codePointAt(i);if(o!==u){if(o<128&&u<128)return Yt(o,u);{const h=Xn(),y=An(h.encode(er(c,i)),h.encode(er(n,i)));return 0!==y?y:Yt(o,u)}}i+=o>65535?2:1}return Yt(c.length,n.length)}function er(c,n){return c.codePointAt(n)>65535?c.substring(n,n+2):c.substring(n,n+1)}function An(c,n){for(let i=0;i<c.length&&i<n.length;++i)if(c[i]!==n[i])return Yt(c[i],n[i]);return Yt(c.length,n.length)}function Pr(c,n,i){return c.length===n.length&&c.every((o,u)=>i(o,n[u]))}const Ci=-62135596800;class dr{static now(){return dr.fromMillis(Date.now())}static fromDate(n){return dr.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),o=Math.floor(1e6*(n-1e3*i));return new dr(i,o)}constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new te(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new te(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<Ci)throw new te(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new te(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Yt(this.nanoseconds,n.nanoseconds):Yt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-Ci).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class un{static fromTimestamp(n){return new un(n)}static min(){return new un(new dr(0,0))}static max(){return new un(new dr(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ki="__name__";class Mr{constructor(n,i,o){void 0===i?i=0:i>n.length&&gt(637,{offset:i,range:n.length}),void 0===o?o=n.length-i:o>n.length-i&&gt(1746,{length:o,range:n.length-i}),this.segments=n,this.offset=i,this.len=o}get length(){return this.len}isEqual(n){return 0===Mr.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Mr?n.forEach(o=>{i.push(o)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,o=this.limit();i<o;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const o=Math.min(n.length,i.length);for(let u=0;u<o;u++){const h=Mr.compareSegments(n.get(u),i.get(u));if(0!==h)return h}return Yt(n.length,i.length)}static compareSegments(n,i){const o=Mr.isNumericId(n),u=Mr.isNumericId(i);return o&&!u?-1:!o&&u?1:o&&u?Mr.extractNumericId(n).compare(Mr.extractNumericId(i)):Vn(n,i)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return De.fromString(n.substring(4,n.length-2))}}class ft extends Mr{construct(n,i,o){return new ft(n,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const o of n){if(o.indexOf("//")>=0)throw new te(Qe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(u=>u.length>0))}return new ft(i)}static emptyPath(){return new ft([])}}const Er=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends Mr{construct(n,i,o){return new Qn(n,i,o)}static isValidIdentifier(n){return Er.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ki}static keyField(){return new Qn([Ki])}static fromServerFormat(n){const i=[];let o="",u=0;const h=()=>{if(0===o.length)throw new te(Qe.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let y=!1;for(;u<n.length;){const R=n[u];if("\\"===R){if(u+1===n.length)throw new te(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const k=n[u+1];if("\\"!==k&&"."!==k&&"`"!==k)throw new te(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=k,u+=2}else"`"===R?(y=!y,u++):"."!==R||y?(o+=R,u++):(h(),u++)}if(h(),y)throw new te(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Qn(i)}static emptyPath(){return new Qn([])}}class Zt{constructor(n){this.path=n}static fromPath(n){return new Zt(ft.fromString(n))}static fromName(n){return new Zt(ft.fromString(n).popFirst(5))}static empty(){return new Zt(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===ft.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return ft.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Zt(new ft(n.slice()))}}class lr{constructor(n,i,o){this.readTime=n,this.documentKey=i,this.largestBatchId=o}static min(){return new lr(un.min(),Zt.empty(),-1)}static max(){return new lr(un.max(),Zt.empty(),-1)}}function Sn(c,n){let i=c.readTime.compareTo(n.readTime);return 0!==i?i:(i=Zt.comparator(c.documentKey,n.documentKey),0!==i?i:Yt(c.largestBatchId,n.largestBatchId))}class Nr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Gn(c){return qi.apply(this,arguments)}function qi(){return(qi=(0,b.A)(function*(c){if(c.code!==Qe.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==c.message)throw c;ut("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Be{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new Be((o,u)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(o,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(o,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof Be?i:Be.resolve(i)}catch(i){return Be.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):Be.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):Be.reject(i)}static resolve(n){return new Be((i,o)=>{i(n)})}static reject(n){return new Be((i,o)=>{o(n)})}static waitFor(n){return new Be((i,o)=>{let u=0,h=0,y=!1;n.forEach(R=>{++u,R.next(()=>{++h,y&&h===u&&i()},k=>o(k))}),y=!0,h===u&&i()})}static or(n){let i=Be.resolve(!1);for(const o of n)i=i.next(u=>u?Be.resolve(u):o());return i}static forEach(n,i){const o=[];return n.forEach((u,h)=>{o.push(i.call(this,u,h))}),this.waitFor(o)}static mapArray(n,i){return new Be((o,u)=>{const h=n.length,y=new Array(h);let R=0;for(let k=0;k<h;k++){const U=k;i(n[U]).next(J=>{y[U]=J,++R,R===h&&o(y)},J=>u(J))}})}static doWhile(n,i){return new Be((o,u)=>{const h=()=>{!0===n()?i().next(()=>{h()},u):o()};h()})}}function wr(c){return"IndexedDbTransactionError"===c.name}let tt=(()=>{class c{constructor(i,o){this.previousValue=i,o&&(o.sequenceNumberHandler=u=>this.ue(u),this.ce=u=>o.writeSequenceNumber(u))}ue(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ce&&this.ce(i),i}}return c.le=-1,c})();function Pn(c){return null==c}function pr(c){return 0===c&&1/c==-1/0}function pt(c,n){let i=n;const o=c.length;for(let u=0;u<o;u++){const h=c.charAt(u);switch(h){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=h}}return i}function At(c){return c+"\x01\x01"}const wt="mutationQueues",Ft="mutations",Si="documentMutations",Fn="remoteDocumentGlobal",tr="targets",Cr="targetDocuments",$="targetGlobal",me="collectionParents",ie="clientMetadata",Ct="bundles",On="namedQueries";function Hs(c){let n=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n++;return n}function fs(c,n){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n(i,c[i])}function wo(c){for(const n in c)if(Object.prototype.hasOwnProperty.call(c,n))return!1;return!0}class zr{constructor(n,i){this.comparator=n,this.root=i||qr.EMPTY}insert(n,i){return new zr(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,qr.BLACK,null,null))}remove(n){return new zr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,qr.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(n,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(n){let i=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(n,o.key);if(0===u)return i+o.left.size;u<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,o)=>(n(i,o),!1))}toString(){const n=[];return this.inorderTraversal((i,o)=>(n.push(`${i}:${o}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new os(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new os(this.root,n,this.comparator,!1)}getReverseIterator(){return new os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new os(this.root,n,this.comparator,!0)}}class os{constructor(n,i,o,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=i?o(n.key,i):1,i&&u&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(0===h){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class qr{constructor(n,i,o,u,h){this.key=n,this.value=i,this.color=o??qr.RED,this.left=u??qr.EMPTY,this.right=h??qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,o,u,h){return new qr(n??this.key,i??this.value,o??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,o){let u=this;const h=o(n,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(n,i,o),null):0===h?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return qr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let o,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return qr.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw gt(27949);return n+(this.isRed()?0:1)}}qr.EMPTY=null,qr.RED=!0,qr.BLACK=!1,qr.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(n,i,o,u,h){return this}insert(n,i,o){return new qr(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qr{constructor(n){this.comparator=n,this.data=new zr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,o)=>(n(i),!1))}forEachInRange(n,i){const o=this.data.getIteratorFrom(n[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!n(o.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Io(this.data.getIterator())}getIteratorFrom(n){return new Io(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(o=>{i=i.add(o)}),i}isEqual(n){if(!(n instanceof Qr)||this.size!==n.size)return!1;const i=this.data.getIterator(),o=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=o.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Qr(this.comparator);return i.data=n,i}}class Io{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ps{constructor(n){this.fields=n,n.sort(Qn.comparator)}static empty(){return new Ps([])}unionWith(n){let i=new Qr(Qn.comparator);for(const o of this.fields)i=i.add(o);for(const o of n)i=i.add(o);return new Ps(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Pr(this.fields,n.fields,(i,o)=>i.isEqual(o))}}class uo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ui{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new uo("Invalid base64 string: "+h):h}}(n);return new Ui(i)}static fromUint8Array(n){const i=function(u){let h="";for(let y=0;y<u.length;++y)h+=String.fromCharCode(u[y]);return h}(n);return new Ui(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const o=new Uint8Array(i.length);for(let u=0;u<i.length;u++)o[u]=i.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Yt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const Bo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(c){if(et(!!c,39018),"string"==typeof c){let n=0;const i=Bo.exec(c);if(et(!!i,46558,{timestamp:c}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const o=new Date(c);return{seconds:Math.floor(o.getTime()/1e3),nanos:n}}return{seconds:xr(c.seconds),nanos:xr(c.nanos)}}function xr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function yr(c){return"string"==typeof c?Ui.fromBase64String(c):Ui.fromUint8Array(c)}const Zi="server_timestamp",na="__type__",Mo="__previous_value__",Ta="__local_write_time__";function Vs(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[na])||void 0===i?void 0:i.stringValue)===Zi}function _r(c){const n=c.mapValue.fields[Mo];return Vs(n)?_r(n):n}function q(c){const n=Ms(c.mapValue.fields[Ta].timestampValue);return new dr(n.seconds,n.nanos)}class K{constructor(n,i,o,u,h,y,R,k,U,J){this.databaseId=n,this.appId=i,this.persistenceKey=o,this.host=u,this.ssl=h,this.forceLongPolling=y,this.autoDetectLongPolling=R,this.longPollingOptions=k,this.useFetchStreams=U,this.isUsingEmulator=J}}const we="(default)";class Me{constructor(n,i){this.projectId=n,this.database=i||we}static empty(){return new Me("","")}get isDefaultDatabase(){return this.database===we}isEqual(n){return n instanceof Me&&n.projectId===this.projectId&&n.database===this.database}}const ot="__type__",xt="__max__",Xt_mapValue={fields:{__type__:{stringValue:xt}}},bn="__vector__",gn="value";function Zn(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?Vs(c)?4:ba(c)?9007199254740991:lo(c)?10:11:gt(28295,{value:c})}function Fr(c,n){if(c===n)return!0;const i=Zn(c);if(i!==Zn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===n.booleanValue;case 4:return q(c).isEqual(q(n));case 3:return function(u,h){if("string"==typeof u.timestampValue&&"string"==typeof h.timestampValue&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const y=Ms(u.timestampValue),R=Ms(h.timestampValue);return y.seconds===R.seconds&&y.nanos===R.nanos}(c,n);case 5:return c.stringValue===n.stringValue;case 6:return h=n,yr(c.bytesValue).isEqual(yr(h.bytesValue));case 7:return c.referenceValue===n.referenceValue;case 8:return function(u,h){return xr(u.geoPointValue.latitude)===xr(h.geoPointValue.latitude)&&xr(u.geoPointValue.longitude)===xr(h.geoPointValue.longitude)}(c,n);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return xr(u.integerValue)===xr(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const y=xr(u.doubleValue),R=xr(h.doubleValue);return y===R?pr(y)===pr(R):isNaN(y)&&isNaN(R)}return!1}(c,n);case 9:return Pr(c.arrayValue.values||[],n.arrayValue.values||[],Fr);case 10:case 11:return function(u,h){const y=u.mapValue.fields||{},R=h.mapValue.fields||{};if(Hs(y)!==Hs(R))return!1;for(const k in y)if(y.hasOwnProperty(k)&&(void 0===R[k]||!Fr(y[k],R[k])))return!1;return!0}(c,n);default:return gt(52216,{left:c})}var h}function Ii(c,n){return void 0!==(c.values||[]).find(i=>Fr(i,n))}function _i(c,n){if(c===n)return 0;const i=Zn(c),o=Zn(n);if(i!==o)return Yt(i,o);switch(i){case 0:case 9007199254740991:return 0;case 1:return Yt(c.booleanValue,n.booleanValue);case 2:return function(h,y){const R=xr(h.integerValue||h.doubleValue),k=xr(y.integerValue||y.doubleValue);return R<k?-1:R>k?1:R===k?0:isNaN(R)?isNaN(k)?0:-1:1}(c,n);case 3:return Bi(c.timestampValue,n.timestampValue);case 4:return Bi(q(c),q(n));case 5:return Vn(c.stringValue,n.stringValue);case 6:return function(h,y){const R=yr(h),k=yr(y);return R.compareTo(k)}(c.bytesValue,n.bytesValue);case 7:return function(h,y){const R=h.split("/"),k=y.split("/");for(let U=0;U<R.length&&U<k.length;U++){const J=Yt(R[U],k[U]);if(0!==J)return J}return Yt(R.length,k.length)}(c.referenceValue,n.referenceValue);case 8:return function(h,y){const R=Yt(xr(h.latitude),xr(y.latitude));return 0!==R?R:Yt(xr(h.longitude),xr(y.longitude))}(c.geoPointValue,n.geoPointValue);case 9:return Ri(c.arrayValue,n.arrayValue);case 10:return function(h,y){var R,k,U,J;const Dt=null===(R=(h.fields||{})[gn])||void 0===R?void 0:R.arrayValue,Wt=null===(k=(y.fields||{})[gn])||void 0===k?void 0:k.arrayValue,hn=Yt((null===(U=Dt?.values)||void 0===U?void 0:U.length)||0,(null===(J=Wt?.values)||void 0===J?void 0:J.length)||0);return 0!==hn?hn:Ri(Dt,Wt)}(c.mapValue,n.mapValue);case 11:return function(h,y){if(h===Xt_mapValue&&y===Xt_mapValue)return 0;if(h===Xt_mapValue)return 1;if(y===Xt_mapValue)return-1;const R=h.fields||{},k=Object.keys(R),U=y.fields||{},J=Object.keys(U);k.sort(),J.sort();for(let ue=0;ue<k.length&&ue<J.length;++ue){const Le=Vn(k[ue],J[ue]);if(0!==Le)return Le;const Dt=_i(R[k[ue]],U[J[ue]]);if(0!==Dt)return Dt}return Yt(k.length,J.length)}(c.mapValue,n.mapValue);default:throw gt(23264,{Pe:i})}}function Bi(c,n){if("string"==typeof c&&"string"==typeof n&&c.length===n.length)return Yt(c,n);const i=Ms(c),o=Ms(n),u=Yt(i.seconds,o.seconds);return 0!==u?u:Yt(i.nanos,o.nanos)}function Ri(c,n){const i=c.values||[],o=n.values||[];for(let u=0;u<i.length&&u<o.length;++u){const h=_i(i[u],o[u]);if(h)return h}return Yt(i.length,o.length)}function Jr(c){return Ni(c)}function Ni(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const o=Ms(i);return`time(${o.seconds},${o.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?yr(c.bytesValue).toBase64():"referenceValue"in c?Zt.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let o="[",u=!0;for(const h of i.values||[])u?u=!1:o+=",",o+=Ni(h);return o+"]"}(c.arrayValue):"mapValue"in c?function(i){const o=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const y of o)h?h=!1:u+=",",u+=`${y}:${Ni(i.fields[y])}`;return u+"}"}(c.mapValue):gt(61005,{value:c})}function as(c){switch(Zn(c)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=_r(c);return n?16+as(n):16;case 5:return 2*c.stringValue.length;case 6:return yr(c.bytesValue).approximateByteSize();case 7:return c.referenceValue.length;case 9:return(c.arrayValue.values||[]).reduce((u,h)=>u+as(h),0);case 10:case 11:return function(o){let u=0;return fs(o.fields,(h,y)=>{u+=h.length+as(y)}),u}(c.mapValue);default:throw gt(13486,{value:c})}}function vi(c,n){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${n.path.canonicalString()}`}}function Pi(c){return!!c&&"integerValue"in c}function ws(c){return!!c&&"arrayValue"in c}function ei(c){return!!c&&"nullValue"in c}function ps(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function Ws(c){return!!c&&"mapValue"in c}function lo(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[ot])||void 0===i?void 0:i.stringValue)===bn}function da(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const n={mapValue:{fields:{}}};return fs(c.mapValue.fields,(i,o)=>n.mapValue.fields[i]=da(o)),n}if(c.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=da(c.arrayValue.values[i]);return n}return Object.assign({},c)}function ba(c){return(((c.mapValue||{}).fields||{}).__type__||{}).stringValue===xt}class ns{constructor(n){this.value=n}static empty(){return new ns({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let o=0;o<n.length-1;++o)if(i=(i.mapValue.fields||{})[n.get(o)],!Ws(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=da(i)}setAll(n){let i=Qn.emptyPath(),o={},u=[];n.forEach((y,R)=>{if(!i.isImmediateParentOf(R)){const k=this.getFieldsMap(i);this.applyChanges(k,o,u),o={},u=[],i=R.popLast()}y?o[R.lastSegment()]=da(y):u.push(R.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,o,u)}delete(n){const i=this.field(n.popLast());Ws(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Fr(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<n.length;++o){let u=i.mapValue.fields[n.get(o)];Ws(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(o)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,o){fs(i,(u,h)=>n[u]=h);for(const u of o)delete n[u]}clone(){return new ns(da(this.value))}}function No(c){const n=[];return fs(c.fields,(i,o)=>{const u=new Qn([i]);if(Ws(o)){const h=No(o.mapValue).fields;if(0===h.length)n.push(u);else for(const y of h)n.push(u.child(y))}else n.push(u)}),new Ps(n)}class hi{constructor(n,i,o,u,h,y,R){this.key=n,this.documentType=i,this.version=o,this.readTime=u,this.createTime=h,this.data=y,this.documentState=R}static newInvalidDocument(n){return new hi(n,0,un.min(),un.min(),un.min(),ns.empty(),0)}static newFoundDocument(n,i,o,u){return new hi(n,1,i,un.min(),o,u,0)}static newNoDocument(n,i){return new hi(n,2,i,un.min(),un.min(),ns.empty(),0)}static newUnknownDocument(n,i){return new hi(n,3,i,un.min(),un.min(),ns.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(un.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=un.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof hi&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ns{constructor(n,i){this.position=n,this.inclusive=i}}function ko(c,n,i){let o=0;for(let u=0;u<c.position.length;u++){const h=n[u],y=c.position[u];if(o=h.field.isKeyField()?Zt.comparator(Zt.fromName(y.referenceValue),i.key):_i(y,i.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function Ho(c,n){if(null===c)return null===n;if(null===n||c.inclusive!==n.inclusive||c.position.length!==n.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!Fr(c.position[i],n.position[i]))return!1;return!0}class zo{constructor(n,i="asc"){this.field=n,this.dir=i}}function bi(c,n){return c.dir===n.dir&&c.field.isEqual(n.field)}class fa{}class Hr extends fa{constructor(n,i,o){super(),this.field=n,this.op=i,this.value=o}static create(n,i,o){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,o):new Wr(n,i,o):"array-contains"===i?new Us(n,o):"in"===i?new Wi(n,o):"not-in"===i?new Ks(n,o):"array-contains-any"===i?new fo(n,o):new Hr(n,i,o)}static createKeyFieldInFilter(n,i,o){return"in"===i?new rn(n,o):new nr(n,o)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&void 0===i.nullValue&&this.matchesComparison(_i(i,this.value)):null!==i&&Zn(this.value)===Zn(i)&&this.matchesComparison(_i(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends fa{constructor(n,i){super(),this.filters=n,this.op=i,this.Te=null}static create(n,i){return new Lr(n,i)}matches(n){return Da(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Da(c){return"and"===c.op}function qa(c){return function Aa(c){for(const n of c.filters)if(n instanceof Lr)return!1;return!0}(c)&&Da(c)}function Qa(c){if(c instanceof Hr)return c.field.canonicalString()+c.op.toString()+Jr(c.value);if(qa(c))return c.filters.map(n=>Qa(n)).join(",");{const n=c.filters.map(i=>Qa(i)).join(",");return`${c.op}(${n})`}}function La(c,n){return c instanceof Hr?(o=c,(u=n)instanceof Hr&&o.op===u.op&&o.field.isEqual(u.field)&&Fr(o.value,u.value)):c instanceof Lr?function(o,u){return u instanceof Lr&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((h,y,R)=>h&&La(y,u.filters[R]),!0)}(c,n):void gt(19439);var o,u}function Gs(c){return c instanceof Hr?`${(i=c).field.canonicalString()} ${i.op} ${Jr(i.value)}`:c instanceof Lr?function(i){return i.op.toString()+" {"+i.getFilters().map(Gs).join(" ,")+"}"}(c):"Filter";var i}class Wr extends Hr{constructor(n,i,o){super(n,i,o),this.key=Zt.fromName(o.referenceValue)}matches(n){const i=Zt.comparator(n.key,this.key);return this.matchesComparison(i)}}class rn extends Hr{constructor(n,i){super(n,"in",i),this.keys=fi(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class nr extends Hr{constructor(n,i){super(n,"not-in",i),this.keys=fi(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function fi(c,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>Zt.fromName(o.referenceValue))}class Us extends Hr{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return ws(i)&&Ii(i.arrayValue,this.value)}}class Wi extends Hr{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&Ii(this.value.arrayValue,i)}}class Ks extends Hr{constructor(n,i){super(n,"not-in",i)}matches(n){if(Ii(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&void 0===i.nullValue&&!Ii(this.value.arrayValue,i)}}class fo extends Hr{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!ws(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>Ii(this.value.arrayValue,o))}}class ti{constructor(n,i=null,o=[],u=[],h=null,y=null,R=null){this.path=n,this.collectionGroup=i,this.orderBy=o,this.filters=u,this.limit=h,this.startAt=y,this.endAt=R,this.Ie=null}}function P(c,n=null,i=[],o=[],u=null,h=null,y=null){return new ti(c,n,i,o,u,h,y)}function N(c){const n=kt(c);if(null===n.Ie){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(o=>Qa(o)).join(","),i+="|ob:",i+=n.orderBy.map(o=>{return(h=o).field.canonicalString()+h.dir;var h}).join(","),Pn(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Jr(o)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Jr(o)).join(",")),n.Ie=i}return n.Ie}function z(c,n){if(c.limit!==n.limit||c.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!bi(c.orderBy[i],n.orderBy[i]))return!1;if(c.filters.length!==n.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!La(c.filters[i],n.filters[i]))return!1;return c.collectionGroup===n.collectionGroup&&!!c.path.isEqual(n.path)&&!!Ho(c.startAt,n.startAt)&&Ho(c.endAt,n.endAt)}function Se(c){return Zt.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}class ji{constructor(n,i=null,o=[],u=[],h=null,y="F",R=null,k=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=u,this.limit=h,this.limitType=y,this.startAt=R,this.endAt=k,this.Ee=null,this.de=null,this.Ae=null}}function Is(c){return new ji(c)}function Go(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function Ca(c){return null!==c.collectionGroup}function ao(c){const n=kt(c);if(null===n.Ee){n.Ee=[];const i=new Set;for(const h of n.explicitOrderBy)n.Ee.push(h),i.add(h.field.canonicalString());const o=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(y){let R=new Qr(Qn.comparator);return y.filters.forEach(k=>{k.getFlattenedFilters().forEach(U=>{U.isInequality()&&(R=R.add(U.field))})}),R})(n).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||n.Ee.push(new zo(h,o))}),i.has(Qn.keyField().canonicalString())||n.Ee.push(new zo(Qn.keyField(),o))}return n.Ee}function Ts(c){const n=kt(c);return n.de||(n.de=function Xs(c,n){if("F"===c.limitType)return P(c.path,c.collectionGroup,n,c.filters,c.limit,c.startAt,c.endAt);{n=n.map(u=>new zo(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new Ns(c.endAt.position,c.endAt.inclusive):null,o=c.startAt?new Ns(c.startAt.position,c.startAt.inclusive):null;return P(c.path,c.collectionGroup,n,c.filters,c.limit,i,o)}}(n,ao(c))),n.de}function ra(c,n){const i=c.filters.concat([n]);return new ji(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function Nn(c,n,i){return new ji(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),n,i,c.startAt,c.endAt)}function pa(c,n){return z(Ts(c),Ts(n))&&c.limitType===n.limitType}function Do(c){return`${N(Ts(c))}|lt:${c.limitType}`}function po(c){return`Query(target=${function(i){let o=i.path.canonicalString();return null!==i.collectionGroup&&(o+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(o+=`, filters: [${i.filters.map(u=>Gs(u)).join(", ")}]`),Pn(i.limit)||(o+=", limit: "+i.limit),i.orderBy.length>0&&(o+=`, orderBy: [${i.orderBy.map(u=>{return`${(y=u).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),i.startAt&&(o+=", startAt: ",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map(u=>Jr(u)).join(",")),i.endAt&&(o+=", endAt: ",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map(u=>Jr(u)).join(",")),`Target(${o})`}(Ts(c))}; limitType=${c.limitType})`}function ga(c,n){return n.isFoundDocument()&&function(o,u){const h=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(h):Zt.isDocumentKey(o.path)?o.path.isEqual(h):o.path.isImmediateParentOf(h)}(c,n)&&function(o,u){for(const h of ao(o))if(!h.field.isKeyField()&&null===u.data.field(h.field))return!1;return!0}(c,n)&&function(o,u){for(const h of o.filters)if(!h.matches(u))return!1;return!0}(c,n)&&(u=n,!((o=c).startAt&&!function(y,R,k){const U=ko(y,R,k);return y.inclusive?U<=0:U<0}(o.startAt,ao(o),u)||o.endAt&&!function(y,R,k){const U=ko(y,R,k);return y.inclusive?U>=0:U>0}(o.endAt,ao(o),u)));var o,u}function $i(c){return(n,i)=>{let o=!1;for(const u of ao(c)){const h=Yi(u,n,i);if(0!==h)return h;o=o||u.field.isKeyField()}return 0}}function Yi(c,n,i){const o=c.field.isKeyField()?Zt.comparator(n.key,i.key):function(h,y,R){const k=y.data.field(h),U=R.data.field(h);return null!==k&&null!==U?_i(k,U):gt(42886)}(c.field,n,i);switch(c.dir){case"asc":return o;case"desc":return-1*o;default:return gt(19790,{direction:c.dir})}}class j{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),o=this.inner[i];if(void 0!==o)for(const[u,h]of o)if(this.equalsFn(u,n))return h}has(n){return void 0!==this.get(n)}set(n,i){const o=this.mapKeyFn(n),u=this.inner[o];if(void 0===u)return this.inner[o]=[[n,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],n))return void(u[h]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),o=this.inner[i];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],n))return 1===o.length?delete this.inner[i]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(n){fs(this.inner,(i,o)=>{for(const[u,h]of o)n(u,h)})}isEmpty(){return wo(this.inner)}size(){return this.innerSize}}const E=new zr(Zt.comparator);function v(){return E}const M=new zr(Zt.comparator);function V(...c){let n=M;for(const i of c)n=n.insert(i.key,i);return n}function Z(c){let n=M;return c.forEach((i,o)=>n=n.insert(i,o.overlayedDocument)),n}function m(){return w()}function I(){return w()}function w(){return new j(c=>c.toString(),(c,n)=>c.isEqual(n))}const C=new zr(Zt.comparator),L=new Qr(Zt.comparator);function X(...c){let n=L;for(const i of c)n=n.add(i);return n}const ne=new Qr(Yt);function Ke(c,n){if(c.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pr(n)?"-0":n}}function Ot(c){return{integerValue:""+c}}function $n(c,n){return function se(c){return"number"==typeof c&&Number.isInteger(c)&&!pr(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}(n)?Ot(n):Ke(c,n)}class br{constructor(){this._=void 0}}function oi(c,n,i){return c instanceof Bs?function(u,h){const y={fields:{[na]:{stringValue:Zi},[Ta]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Vs(h)&&(h=_r(h)),h&&(y.fields[Mo]=h),{mapValue:y}}(i,n):c instanceof rs?ks(c,n):c instanceof bs?Ko(c,n):function(u,h){const y=ni(u,h),R=nh(y)+nh(u.Re);return Pi(y)&&Pi(u.Re)?Ot(R):Ke(u.serializer,R)}(c,n)}function cs(c,n,i){return c instanceof rs?ks(c,n):c instanceof bs?Ko(c,n):i}function ni(c,n){return c instanceof Ra?Pi(o=n)||(h=o)&&"doubleValue"in h?n:{integerValue:0}:null;var o,h}class Bs extends br{}class rs extends br{constructor(n){super(),this.elements=n}}function ks(c,n){const i=Xa(n);for(const o of c.elements)i.some(u=>Fr(u,o))||i.push(o);return{arrayValue:{values:i}}}class bs extends br{constructor(n){super(),this.elements=n}}function Ko(c,n){let i=Xa(n);for(const o of c.elements)i=i.filter(u=>!Fr(u,o));return{arrayValue:{values:i}}}class Ra extends br{constructor(n,i){super(),this.serializer=n,this.Re=i}}function nh(c){return xr(c.integerValue||c.doubleValue)}function Xa(c){return ws(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class Ml{constructor(n,i){this.version=n,this.transformResults=i}}class wn{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new wn}static exists(n){return new wn(void 0,n)}static updateTime(n){return new wn(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function rr(c,n){return void 0!==c.updateTime?n.isFoundDocument()&&n.version.isEqual(c.updateTime):void 0===c.exists||c.exists===n.isFoundDocument()}class cr{}function Xr(c,n){if(!c.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return c.isNoDocument()?new Di(c.key,wn.none()):new ki(c.key,c.data,wn.none());{const i=c.data,o=ns.empty();let u=new Qr(Qn.comparator);for(let h of n.fields)if(!u.has(h)){let y=i.field(h);null===y&&h.length>1&&(h=h.popLast(),y=i.field(h)),null===y?o.delete(h):o.set(h,y),u=u.add(h)}return new Oo(c.key,o,new Ps(u.toArray()),wn.none())}}function Zs(c,n,i){c instanceof ki?function(u,h,y){const R=u.value.clone(),k=qs(u.fieldTransforms,h,y.transformResults);R.setAll(k),h.convertToFoundDocument(y.version,R).setHasCommittedMutations()}(c,n,i):c instanceof Oo?function(u,h,y){if(!rr(u.precondition,h))return void h.convertToUnknownDocument(y.version);const R=qs(u.fieldTransforms,h,y.transformResults),k=h.data;k.setAll(ci(u)),k.setAll(R),h.convertToFoundDocument(y.version,k).setHasCommittedMutations()}(c,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function ai(c,n,i,o){return c instanceof ki?function(h,y,R,k){if(!rr(h.precondition,y))return R;const U=h.value.clone(),J=Ao(h.fieldTransforms,k,y);return U.setAll(J),y.convertToFoundDocument(y.version,U).setHasLocalMutations(),null}(c,n,i,o):c instanceof Oo?function(h,y,R,k){if(!rr(h.precondition,y))return R;const U=Ao(h.fieldTransforms,k,y),J=y.data;return J.setAll(ci(h)),J.setAll(U),y.convertToFoundDocument(y.version,J).setHasLocalMutations(),null===R?null:R.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(ue=>ue.field))}(c,n,i,o):(R=i,rr(c.precondition,y=n)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):R);var y,R}function xo(c,n){let i=null;for(const o of c.fieldTransforms){const u=n.data.field(o.field),h=ni(o.transform,u||null);null!=h&&(null===i&&(i=ns.empty()),i.set(o.field,h))}return i||null}function Vr(c,n){return c.type===n.type&&!!c.key.isEqual(n.key)&&!!c.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(o=c.fieldTransforms)&&void 0===u||o&&u&&Pr(o,u,(h,y)=>function Pl(c,n){return c.field.isEqual(n.field)&&(u=n.transform,(o=c.transform)instanceof rs&&u instanceof rs||o instanceof bs&&u instanceof bs?Pr(o.elements,u.elements,Fr):o instanceof Ra&&u instanceof Ra?Fr(o.Re,u.Re):o instanceof Bs&&u instanceof Bs);var o,u}(h,y))))&&(0===c.type?c.value.isEqual(n.value):1!==c.type||c.data.isEqual(n.data)&&c.fieldMask.isEqual(n.fieldMask));var o,u}class ki extends cr{constructor(n,i,o,u=[]){super(),this.key=n,this.value=i,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Oo extends cr{constructor(n,i,o,u,h=[]){super(),this.key=n,this.data=i,this.fieldMask=o,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ci(c){const n=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=c.data.field(i);n.set(i,o)}}),n}function qs(c,n,i){const o=new Map;et(c.length===i.length,32656,{Ve:i.length,me:c.length});for(let u=0;u<i.length;u++){const h=c[u],y=h.transform,R=n.data.field(h.field);o.set(h.field,cs(y,R,i[u]))}return o}function Ao(c,n,i){const o=new Map;for(const u of c){const h=u.transform,y=i.data.field(u.field);o.set(u.field,oi(h,y,n))}return o}class Di extends cr{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pa extends cr{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qo{constructor(n,i,o,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(n,i){const o=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(n.key)&&Zs(h,n,o[u])}}applyToLocalView(n,i){for(const o of this.baseMutations)o.key.isEqual(n.key)&&(i=ai(o,n,i,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(n.key)&&(i=ai(o,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const o=I();return this.mutations.forEach(u=>{const h=n.get(u.key),y=h.overlayedDocument;let R=this.applyToLocalView(y,h.mutatedFields);R=i.has(u.key)?null:R;const k=Xr(y,R);null!==k&&o.set(u.key,k),y.isValidDocument()||y.convertToNoDocument(un.min())}),o}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),X())}isEqual(n){return this.batchId===n.batchId&&Pr(this.mutations,n.mutations,(i,o)=>Vr(i,o))&&Pr(this.baseMutations,n.baseMutations,(i,o)=>Vr(i,o))}}class ia{constructor(n,i,o,u){this.batch=n,this.commitVersion=i,this.mutationResults=o,this.docVersions=u}static from(n,i,o){et(n.mutations.length===o.length,58842,{fe:n.mutations.length,ge:o.length});let u=function(){return C}();const h=n.mutations;for(let y=0;y<h.length;y++)u=u.insert(h[y].key,o[y].version);return new ia(n,i,o,u)}}class yc{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rh{constructor(n,i){this.count=n,this.unchangedNames=i}}var xs,pi;function Hu(c){if(void 0===c)return Un("GRPC error has no .code"),Qe.UNKNOWN;switch(c){case xs.OK:return Qe.OK;case xs.CANCELLED:return Qe.CANCELLED;case xs.UNKNOWN:return Qe.UNKNOWN;case xs.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case xs.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case xs.INTERNAL:return Qe.INTERNAL;case xs.UNAVAILABLE:return Qe.UNAVAILABLE;case xs.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case xs.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case xs.NOT_FOUND:return Qe.NOT_FOUND;case xs.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case xs.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case xs.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case xs.ABORTED:return Qe.ABORTED;case xs.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case xs.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case xs.DATA_LOSS:return Qe.DATA_LOSS;default:return gt(39323,{code:c})}}(pi=xs||(xs={}))[pi.OK=0]="OK",pi[pi.CANCELLED=1]="CANCELLED",pi[pi.UNKNOWN=2]="UNKNOWN",pi[pi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pi[pi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pi[pi.NOT_FOUND=5]="NOT_FOUND",pi[pi.ALREADY_EXISTS=6]="ALREADY_EXISTS",pi[pi.PERMISSION_DENIED=7]="PERMISSION_DENIED",pi[pi.UNAUTHENTICATED=16]="UNAUTHENTICATED",pi[pi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pi[pi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pi[pi.ABORTED=10]="ABORTED",pi[pi.OUT_OF_RANGE=11]="OUT_OF_RANGE",pi[pi.UNIMPLEMENTED=12]="UNIMPLEMENTED",pi[pi.INTERNAL=13]="INTERNAL",pi[pi.UNAVAILABLE=14]="UNAVAILABLE",pi[pi.DATA_LOSS=15]="DATA_LOSS";const wf=new De([4294967295,4294967295],0);function au(c){const n=Xn().encode(c),i=new Ge;return i.update(n),new Uint8Array(i.digest())}function ih(c){const n=new DataView(c.buffer),i=n.getUint32(0,!0),o=n.getUint32(4,!0),u=n.getUint32(8,!0),h=n.getUint32(12,!0);return[new De([i,o],0),new De([u,h],0)]}class _c{constructor(n,i,o){if(this.bitmap=n,this.padding=i,this.hashCount=o,i<0||i>=8)throw new Ya(`Invalid padding: ${i}`);if(o<0)throw new Ya(`Invalid hash count: ${o}`);if(n.length>0&&0===this.hashCount)throw new Ya(`Invalid hash count: ${o}`);if(0===n.length&&0!==i)throw new Ya(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*n.length-i,this.ye=De.fromNumber(this.pe)}we(n,i,o){let u=n.add(i.multiply(De.fromNumber(o)));return 1===u.compare(wf)&&(u=new De([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.pe)return!1;const i=au(n),[o,u]=ih(i);for(let h=0;h<this.hashCount;h++){const y=this.we(o,u,h);if(!this.Se(y))return!1}return!0}static create(n,i,o){const u=n%8==0?0:8-n%8,h=new Uint8Array(Math.ceil(n/8)),y=new _c(h,u,i);return o.forEach(R=>y.insert(R)),y}insert(n){if(0===this.pe)return;const i=au(n),[o,u]=ih(i);for(let h=0;h<this.hashCount;h++){const y=this.we(o,u,h);this.be(y)}}be(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fc{constructor(n,i,o,u,h){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,i,o){const u=new Map;return u.set(n,oa.createSynthesizedTargetChangeForCurrentChange(n,i,o)),new Fc(un.min(),u,new zr(Yt),v(),X())}}class oa{constructor(n,i,o,u,h){this.resumeToken=n,this.current=i,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,i,o){return new oa(o,i,X(),X(),X())}}class vc{constructor(n,i,o,u){this.De=n,this.removedTargetIds=i,this.key=o,this.ve=u}}class Nl{constructor(n,i){this.targetId=n,this.Ce=i}}class If{constructor(n,i,o=Ui.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=o,this.cause=u}}class Ir{constructor(){this.Fe=0,this.Me=xl(),this.xe=Ui.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(n){n.approximateByteSize()>0&&(this.Ne=!0,this.xe=n)}qe(){let n=X(),i=X(),o=X();return this.Me.forEach((u,h)=>{switch(h){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:o=o.add(u);break;default:gt(38017,{changeType:h})}}),new oa(this.xe,this.Oe,n,i,o)}Qe(){this.Ne=!1,this.Me=xl()}$e(n,i){this.Ne=!0,this.Me=this.Me.insert(n,i)}Ue(n){this.Ne=!0,this.Me=this.Me.remove(n)}Ke(){this.Fe+=1}We(){this.Fe-=1,et(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class kl{constructor(n){this.ze=n,this.je=new Map,this.He=v(),this.Je=Ua(),this.Ye=Ua(),this.Ze=new zr(Yt)}Xe(n){for(const i of n.De)n.ve&&n.ve.isFoundDocument()?this.et(i,n.ve):this.tt(i,n.key,n.ve);for(const i of n.removedTargetIds)this.tt(i,n.key,n.ve)}nt(n){this.forEachTarget(n,i=>{const o=this.rt(i);switch(n.state){case 0:this.it(i)&&o.ke(n.resumeToken);break;case 1:o.We(),o.Be||o.Qe(),o.ke(n.resumeToken);break;case 2:o.We(),o.Be||this.removeTarget(i);break;case 3:this.it(i)&&(o.Ge(),o.ke(n.resumeToken));break;case 4:this.it(i)&&(this.st(i),o.ke(n.resumeToken));break;default:gt(56790,{state:n.state})}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.je.forEach((o,u)=>{this.it(u)&&i(u)})}ot(n){const i=n.targetId,o=n.Ce.count,u=this._t(i);if(u){const h=u.target;if(Se(h))if(0===o){const y=new Zt(h.path);this.tt(i,y,hi.newNoDocument(y,un.min()))}else et(1===o,20013,{expectedCount:o});else{const y=this.ut(i);if(y!==o){const R=this.ct(n),k=R?this.lt(R,n,y):1;0!==k&&(this.st(i),this.Ze=this.Ze.insert(i,2===k?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ct(n){const i=n.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:h=0}=i;let y,R;try{y=yr(o).toUint8Array()}catch(k){if(k instanceof uo)return kn("Decoding the base64 bloom filter in existence filter failed ("+k.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw k}try{R=new _c(y,u,h)}catch(k){return kn(k instanceof Ya?"BloomFilter error: ":"Applying bloom filter failed: ",k),null}return 0===R.pe?null:R}lt(n,i,o){return i.Ce.count===o-this.Tt(n,i.targetId)?0:2}Tt(n,i){const o=this.ze.getRemoteKeysForTarget(i);let u=0;return o.forEach(h=>{const y=this.ze.Pt(),R=`projects/${y.projectId}/databases/${y.database}/documents/${h.path.canonicalString()}`;n.mightContain(R)||(this.tt(i,h,null),u++)}),u}It(n){const i=new Map;this.je.forEach((h,y)=>{const R=this._t(y);if(R){if(h.current&&Se(R.target)){const k=new Zt(R.target.path);this.Et(k).has(y)||this.dt(y,k)||this.tt(y,k,hi.newNoDocument(k,n))}h.Le&&(i.set(y,h.qe()),h.Qe())}});let o=X();this.Ye.forEach((h,y)=>{let R=!0;y.forEachWhile(k=>{const U=this._t(k);return!U||"TargetPurposeLimboResolution"===U.purpose||(R=!1,!1)}),R&&(o=o.add(h))}),this.He.forEach((h,y)=>y.setReadTime(n));const u=new Fc(n,i,this.Ze,this.He,o);return this.He=v(),this.Je=Ua(),this.Ye=Ua(),this.Ze=new zr(Yt),u}et(n,i){if(!this.it(n))return;const o=this.dt(n,i.key)?2:0;this.rt(n).$e(i.key,o),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(n)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(n))}tt(n,i,o){if(!this.it(n))return;const u=this.rt(n);this.dt(n,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(n)),this.Ye=this.Ye.insert(i,this.At(i).add(n)),o&&(this.He=this.He.insert(i,o))}removeTarget(n){this.je.delete(n)}ut(n){const i=this.rt(n).qe();return this.ze.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}Ke(n){this.rt(n).Ke()}rt(n){let i=this.je.get(n);return i||(i=new Ir,this.je.set(n,i)),i}At(n){let i=this.Ye.get(n);return i||(i=new Qr(Yt),this.Ye=this.Ye.insert(n,i)),i}Et(n){let i=this.Je.get(n);return i||(i=new Qr(Yt),this.Je=this.Je.insert(n,i)),i}it(n){const i=null!==this._t(n);return i||ut("WatchChangeAggregator","Detected inactive target",n),i}_t(n){const i=this.je.get(n);return i&&i.Be?null:this.ze.Rt(n)}st(n){this.je.set(n,new Ir),this.ze.getRemoteKeysForTarget(n).forEach(i=>{this.tt(n,i,null)})}dt(n,i){return this.ze.getRemoteKeysForTarget(n).has(i)}}function Ua(){return new zr(Zt.comparator)}function xl(){return new zr(Zt.comparator)}const $y={asc:"ASCENDING",desc:"DESCENDING"},Eg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sh={and:"AND",or:"OR"};class Tf{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function Ma(c,n){return c.useProto3Json||Pn(n)?n:{value:n}}function zu(c,n){return c.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Ol(c,n){return c.useProto3Json?n.toBase64():n.toUint8Array()}function Hy(c,n){return zu(c,n.toTimestamp())}function Os(c){return et(!!c,49232),un.fromTimestamp(function(i){const o=Ms(i);return new dr(o.seconds,o.nanos)}(c))}function Wu(c,n){return Nt(c,n).canonicalString()}function Nt(c,n){const i=(u=c,new ft(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function vr(c){const n=ft.fromString(c);return et(Ul(n),10190,{key:n.toString()}),n}function Ec(c,n){return Wu(c.databaseId,n.path)}function aa(c,n){const i=vr(n);if(i.get(1)!==c.databaseId.projectId)throw new te(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new te(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new Zt(Qo(i))}function Ur(c,n){return Wu(c.databaseId,n)}function ca(c){return new ft(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Qo(c){return et(c.length>4&&"documents"===c.get(4),29091,{key:c.toString()}),c.popFirst(5)}function Fl(c,n,i){return{name:Ec(c,n),fields:i.value.mapValue.fields}}function Lc(c,n){return{documents:[Ur(c,n.path)]}}function To(c,n){const i={structuredQuery:{}},o=n.path;let u;null!==n.collectionGroup?(u=o,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=o.popLast(),i.structuredQuery.from=[{collectionId:o.lastSegment()}]),i.parent=Ur(c,u);const h=function(U){if(0!==U.length)return uu(Lr.create(U,"and"))}(n.filters);h&&(i.structuredQuery.where=h);const y=function(U){if(0!==U.length)return U.map(J=>{return{field:wc((Le=J).field),direction:Ig(Le.dir)};var Le})}(n.orderBy);y&&(i.structuredQuery.orderBy=y);const R=Ma(c,n.limit);return null!==R&&(i.structuredQuery.limit=R),n.startAt&&(i.structuredQuery.startAt={before:(U=n.startAt).inclusive,values:U.position}),n.endAt&&(i.structuredQuery.endAt=function(U){return{before:!U.inclusive,values:U.position}}(n.endAt)),{gt:i,parent:u};var U}function Cf(c){let n=function bf(c){const n=vr(c);return 4===n.length?ft.emptyPath():Qo(n)}(c.parent);const i=c.structuredQuery,o=i.from?i.from.length:0;let u=null;if(o>0){et(1===o,65062);const J=i.from[0];J.allDescendants?u=J.collectionId:n=n.child(J.collectionId)}let h=[];i.where&&(h=function(ue){const Le=ya(ue);return Le instanceof Lr&&qa(Le)?Le.getFilters():[Le]}(i.where));let y=[];i.orderBy&&(y=i.orderBy.map(Le=>{return new zo(Ba((Wt=Le).field),function(an){switch(an){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Wt.direction));var Wt}));let R=null;i.limit&&(R=function(ue){let Le;return Le="object"==typeof ue?ue.value:ue,Pn(Le)?null:Le}(i.limit));let k=null;var ue;i.startAt&&(k=new Ns((ue=i.startAt).values||[],!!ue.before));let U=null;return i.endAt&&(U=function(ue){return new Ns(ue.values||[],!ue.before)}(i.endAt)),function Gi(c,n,i,o,u,h,y,R){return new ji(c,n,i,o,u,h,y,R)}(n,u,y,h,R,"F",k,U)}function ya(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const o=Ba(i.unaryFilter.field);return Hr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Ba(i.unaryFilter.field);return Hr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ba(i.unaryFilter.field);return Hr.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=Ba(i.unaryFilter.field);return Hr.create(y,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(c):void 0!==c.fieldFilter?Hr.create(Ba((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return Lr.create(i.compositeFilter.filters.map(o=>ya(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(i.compositeFilter.op))}(c):gt(30097,{filter:c});var i}function Ig(c){return $y[c]}function cu(c){return Eg[c]}function Tg(c){return sh[c]}function wc(c){return{fieldPath:c.canonicalString()}}function Ba(c){return Qn.fromServerFormat(c.fieldPath)}function uu(c){return c instanceof Hr?function(i){if("=="===i.op){if(ps(i.value))return{unaryFilter:{field:wc(i.field),op:"IS_NAN"}};if(ei(i.value))return{unaryFilter:{field:wc(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(ps(i.value))return{unaryFilter:{field:wc(i.field),op:"IS_NOT_NAN"}};if(ei(i.value))return{unaryFilter:{field:wc(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(i.field),op:cu(i.op),value:i.value}}}(c):c instanceof Lr?function(i){const o=i.getFilters().map(u=>uu(u));return 1===o.length?o[0]:{compositeFilter:{op:Tg(i.op),filters:o}}}(c):gt(54877,{filter:c})}function Gu(c){const n=[];return c.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Ul(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class Ja{constructor(n,i,o,u,h=un.min(),y=un.min(),R=Ui.EMPTY_BYTE_STRING,k=null){this.target=n,this.targetId=i,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=R,this.expectedCount=k}withSequenceNumber(n){return new Ja(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class Bl{constructor(n){this.wt=n}}function tc(c){const n=Cf({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?Nn(n,n.limit,"L"):n}class Ic{constructor(){}vt(n,i){this.Ct(n,i),i.Ft()}Ct(n,i){if("nullValue"in n)this.Mt(i,5);else if("booleanValue"in n)this.Mt(i,10),i.xt(n.booleanValue?1:0);else if("integerValue"in n)this.Mt(i,15),i.xt(xr(n.integerValue));else if("doubleValue"in n){const o=xr(n.doubleValue);isNaN(o)?this.Mt(i,13):(this.Mt(i,15),pr(o)?i.xt(0):i.xt(o))}else if("timestampValue"in n){let o=n.timestampValue;this.Mt(i,20),"string"==typeof o&&(o=Ms(o)),i.Ot(`${o.seconds||""}`),i.xt(o.nanos||0)}else if("stringValue"in n)this.Nt(n.stringValue,i),this.Bt(i);else if("bytesValue"in n)this.Mt(i,30),i.Lt(yr(n.bytesValue)),this.Bt(i);else if("referenceValue"in n)this.kt(n.referenceValue,i);else if("geoPointValue"in n){const o=n.geoPointValue;this.Mt(i,45),i.xt(o.latitude||0),i.xt(o.longitude||0)}else"mapValue"in n?ba(n)?this.Mt(i,Number.MAX_SAFE_INTEGER):lo(n)?this.qt(n.mapValue,i):(this.Qt(n.mapValue,i),this.Bt(i)):"arrayValue"in n?(this.$t(n.arrayValue,i),this.Bt(i)):gt(19022,{Ut:n})}Nt(n,i){this.Mt(i,25),this.Kt(n,i)}Kt(n,i){i.Ot(n)}Qt(n,i){const o=n.fields||{};this.Mt(i,55);for(const u of Object.keys(o))this.Nt(u,i),this.Ct(o[u],i)}qt(n,i){var o,u;const h=n.fields||{};this.Mt(i,53);const y=gn,R=(null===(u=null===(o=h[y].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.length)||0;this.Mt(i,15),i.xt(xr(R)),this.Nt(y,i),this.Ct(h[y],i)}$t(n,i){const o=n.values||[];this.Mt(i,50);for(const u of o)this.Ct(u,i)}kt(n,i){this.Mt(i,37),Zt.fromName(n).path.forEach(o=>{this.Mt(i,60),this.Kt(o,i)})}Mt(n,i){n.xt(i)}Bt(n){n.xt(2)}}Ic.Wt=new Ic;class Yu{constructor(){this.Cn=new dh}addToCollectionParentIndex(n,i){return this.Cn.add(i),Be.resolve()}getCollectionParents(n,i){return Be.resolve(this.Cn.getEntries(i))}addFieldIndex(n,i){return Be.resolve()}deleteFieldIndex(n,i){return Be.resolve()}deleteAllFieldIndexes(n){return Be.resolve()}createTargetIndexes(n,i){return Be.resolve()}getDocumentsMatchingTarget(n,i){return Be.resolve(null)}getIndexType(n,i){return Be.resolve(0)}getFieldIndexes(n,i){return Be.resolve([])}getNextCollectionGroupToUpdate(n){return Be.resolve(null)}getMinOffset(n,i){return Be.resolve(lr.min())}getMinOffsetFromCollectionGroup(n,i){return Be.resolve(lr.min())}updateCollectionGroup(n,i,o){return Be.resolve()}updateIndexEntries(n,i){return Be.resolve()}}class dh{constructor(){this.index={}}add(n){const i=n.lastSegment(),o=n.popLast(),u=this.index[i]||new Qr(ft.comparator),h=!u.has(o);return this.index[i]=u.add(o),h}has(n){const i=n.lastSegment(),o=n.popLast(),u=this.index[i];return u&&u.has(o)}getEntries(n){return(this.index[n]||new Qr(ft.comparator)).toArray()}}new Uint8Array(0);const Ff={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ys{static withCacheSize(n){return new Ys(n,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,i,o){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}}Ys.DEFAULT_COLLECTION_PERCENTILE=10,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ys.DEFAULT=new Ys(41943040,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ys.DISABLED=new Ys(-1,0,0);class Hc{constructor(n){this.ur=n}next(){return this.ur+=2,this.ur}static cr(){return new Hc(0)}static lr(){return new Hc(-1)}}const Ql="LruGarbageCollector";function ac([c,n],[i,o]){const u=Yt(c,i);return 0===u?Yt(n,o):u}class zc{constructor(n){this.Er=n,this.buffer=new Qr(ac),this.dr=0}Ar(){return++this.dr}Rr(n){const i=[n,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();ac(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Fs{constructor(n,i,o){this.garbageCollector=n,this.asyncQueue=i,this.localStore=o,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(n){var i=this;ut(Ql,`Garbage collection scheduled in ${n}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,b.A)(function*(){i.Vr=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(o){wr(o)?ut(Ql,"Ignoring IndexedDB error during garbage collection: ",o):yield Gn(o)}yield i.mr(3e5)}))}}class bg{constructor(n,i){this.gr=n,this.params=i}calculateTargetCount(n,i){return this.gr.pr(n).next(o=>Math.floor(i/100*o))}nthSequenceNumber(n,i){if(0===i)return Be.resolve(tt.le);const o=new zc(i);return this.gr.forEachTarget(n,u=>o.Rr(u.sequenceNumber)).next(()=>this.gr.yr(n,u=>o.Rr(u))).next(()=>o.maxValue)}removeTargets(n,i,o){return this.gr.removeTargets(n,i,o)}removeOrphanedDocuments(n,i){return this.gr.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(Ff)):this.getCacheSize(n).next(o=>o<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ff):this.wr(n,i))}getCacheSize(n){return this.gr.getCacheSize(n)}wr(n,i){let o,u,h,y,R,k,U;const J=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(ue=>(ue>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ue}`),u=this.params.maximumSequenceNumbersToCollect):u=ue,y=Date.now(),this.nthSequenceNumber(n,u))).next(ue=>(o=ue,R=Date.now(),this.removeTargets(n,o,i))).next(ue=>(h=ue,k=Date.now(),this.removeOrphanedDocuments(n,o))).next(ue=>(U=Date.now(),Qt()<=T.$b.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-J}ms\n\tDetermined least recently used ${u} in `+(R-y)+`ms\n\tRemoved ${h} targets in `+(k-R)+`ms\n\tRemoved ${ue} documents in `+(U-k)+`ms\nTotal Duration: ${U-J}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:ue})))}}class mh{constructor(){this.changes=new j(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,hi.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?Be.resolve(o):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Ht{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class mn{constructor(n,i,o,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=o,this.indexManager=u}getDocument(n,i){let o=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(o=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==o&&ai(o.mutation,u,Ps.empty(),dr.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(o=>this.getLocalViewOfDocuments(n,o,X()).next(()=>o))}getLocalViewOfDocuments(n,i,o=X()){const u=m();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,o).next(h=>{let y=V();return h.forEach((R,k)=>{y=y.insert(R,k.overlayedDocument)}),y}))}getOverlayedDocuments(n,i){const o=m();return this.populateOverlays(n,o,i).next(()=>this.computeViews(n,i,o,X()))}populateOverlays(n,i,o){const u=[];return o.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(n,u).next(h=>{h.forEach((y,R)=>{i.set(y,R)})})}computeViews(n,i,o,u){let h=v();const y=w(),R=w();return i.forEach((k,U)=>{const J=o.get(U.key);u.has(U.key)&&(void 0===J||J.mutation instanceof Oo)?h=h.insert(U.key,U):void 0!==J?(y.set(U.key,J.mutation.getFieldMask()),ai(J.mutation,U,J.mutation.getFieldMask(),dr.now())):y.set(U.key,Ps.empty())}),this.recalculateAndSaveOverlays(n,h).next(k=>(k.forEach((U,J)=>y.set(U,J)),i.forEach((U,J)=>{var ue;return R.set(U,new Ht(J,null!==(ue=y.get(U))&&void 0!==ue?ue:null))}),R))}recalculateAndSaveOverlays(n,i){const o=w();let u=new zr((y,R)=>y-R),h=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(y=>{for(const R of y)R.keys().forEach(k=>{const U=i.get(k);if(null===U)return;let J=o.get(k)||Ps.empty();J=R.applyToLocalView(U,J),o.set(k,J);const ue=(u.get(R.batchId)||X()).add(k);u=u.insert(R.batchId,ue)})}).next(()=>{const y=[],R=u.getReverseIterator();for(;R.hasNext();){const k=R.getNext(),U=k.key,J=k.value,ue=I();J.forEach(Le=>{if(!h.has(Le)){const Dt=Xr(i.get(Le),o.get(Le));null!==Dt&&ue.set(Le,Dt),h=h.add(Le)}}),y.push(this.documentOverlayCache.saveOverlays(n,U,ue))}return Be.waitFor(y)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(o=>this.recalculateAndSaveOverlays(n,o))}getDocumentsMatchingQuery(n,i,o,u){return Zt.isDocumentKey((y=i).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Ca(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,o,u):this.getDocumentsMatchingCollectionQuery(n,i,o,u);var y}getNextDocuments(n,i,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,o,u).next(h=>{const y=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,o.largestBatchId,u-h.size):Be.resolve(m());let R=-1,k=h;return y.next(U=>Be.forEach(U,(J,ue)=>(R<ue.largestBatchId&&(R=ue.largestBatchId),h.get(J)?Be.resolve():this.remoteDocumentCache.getEntry(n,J).next(Le=>{k=k.insert(J,Le)}))).next(()=>this.populateOverlays(n,U,h)).next(()=>this.computeViews(n,k,U,X())).next(J=>({batchId:R,changes:Z(J)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Zt(i)).next(o=>{let u=V();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,o,u){const h=i.collectionGroup;let y=V();return this.indexManager.getCollectionParents(n,h).next(R=>Be.forEach(R,k=>{const U=(ue=i,Le=k.child(h),new ji(Le,null,ue.explicitOrderBy.slice(),ue.filters.slice(),ue.limit,ue.limitType,ue.startAt,ue.endAt));var ue,Le;return this.getDocumentsMatchingCollectionQuery(n,U,o,u).next(J=>{J.forEach((ue,Le)=>{y=y.insert(ue,Le)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(n,i,o,u){let h;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,o.largestBatchId).next(y=>(h=y,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,o,h,u))).next(y=>{h.forEach((k,U)=>{const J=U.getKey();null===y.get(J)&&(y=y.insert(J,hi.newInvalidDocument(J)))});let R=V();return y.forEach((k,U)=>{const J=h.get(k);void 0!==J&&ai(J.mutation,U,Ps.empty(),dr.now()),ga(i,U)&&(R=R.insert(k,U))}),R})}}class Hn{constructor(n){this.serializer=n,this.kr=new Map,this.qr=new Map}getBundleMetadata(n,i){return Be.resolve(this.kr.get(i))}saveBundleMetadata(n,i){return this.kr.set(i.id,{id:(u=i).id,version:u.version,createTime:Os(u.createTime)}),Be.resolve();var u}getNamedQuery(n,i){return Be.resolve(this.qr.get(i))}saveNamedQuery(n,i){return this.qr.set(i.name,{name:(u=i).name,query:tc(u.bundledQuery),readTime:Os(u.readTime)}),Be.resolve();var u}}class Wn{constructor(){this.overlays=new zr(Zt.comparator),this.Qr=new Map}getOverlay(n,i){return Be.resolve(this.overlays.get(i))}getOverlays(n,i){const o=m();return Be.forEach(i,u=>this.getOverlay(n,u).next(h=>{null!==h&&o.set(u,h)})).next(()=>o)}saveOverlays(n,i,o){return o.forEach((u,h)=>{this.bt(n,i,h)}),Be.resolve()}removeOverlaysForBatchId(n,i,o){const u=this.Qr.get(o);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(o)),Be.resolve()}getOverlaysForCollection(n,i,o){const u=m(),h=i.length+1,y=new Zt(i.child("")),R=this.overlays.getIteratorFrom(y);for(;R.hasNext();){const k=R.getNext().value,U=k.getKey();if(!i.isPrefixOf(U.path))break;U.path.length===h&&k.largestBatchId>o&&u.set(k.getKey(),k)}return Be.resolve(u)}getOverlaysForCollectionGroup(n,i,o,u){let h=new zr((U,J)=>U-J);const y=this.overlays.getIterator();for(;y.hasNext();){const U=y.getNext().value;if(U.getKey().getCollectionGroup()===i&&U.largestBatchId>o){let J=h.get(U.largestBatchId);null===J&&(J=m(),h=h.insert(U.largestBatchId,J)),J.set(U.getKey(),U)}}const R=m(),k=h.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach((U,J)=>R.set(U,J)),!(R.size()>=u)););return Be.resolve(R)}bt(n,i,o){const u=this.overlays.get(o.key);if(null!==u){const y=this.Qr.get(u.largestBatchId).delete(o.key);this.Qr.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(o.key,new yc(i,o));let h=this.Qr.get(i);void 0===h&&(h=X(),this.Qr.set(i,h)),this.Qr.set(i,h.add(o.key))}}class Sr{constructor(){this.sessionToken=Ui.EMPTY_BYTE_STRING}getSessionToken(n){return Be.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,Be.resolve()}}class Ds{constructor(){this.$r=new Qr(Ji.Ur),this.Kr=new Qr(Ji.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(n,i){const o=new Ji(n,i);this.$r=this.$r.add(o),this.Kr=this.Kr.add(o)}Gr(n,i){n.forEach(o=>this.addReference(o,i))}removeReference(n,i){this.zr(new Ji(n,i))}jr(n,i){n.forEach(o=>this.removeReference(o,i))}Hr(n){const i=new Zt(new ft([])),o=new Ji(i,n),u=new Ji(i,n+1),h=[];return this.Kr.forEachInRange([o,u],y=>{this.zr(y),h.push(y.key)}),h}Jr(){this.$r.forEach(n=>this.zr(n))}zr(n){this.$r=this.$r.delete(n),this.Kr=this.Kr.delete(n)}Yr(n){const i=new Zt(new ft([])),o=new Ji(i,n),u=new Ji(i,n+1);let h=X();return this.Kr.forEachInRange([o,u],y=>{h=h.add(y.key)}),h}containsKey(n){const i=new Ji(n,0),o=this.$r.firstAfterOrEqual(i);return null!==o&&n.isEqual(o.key)}}class Ji{constructor(n,i){this.key=n,this.Zr=i}static Ur(n,i){return Zt.comparator(n.key,i.key)||Yt(n.Zr,i.Zr)}static Wr(n,i){return Yt(n.Zr,i.Zr)||Zt.comparator(n.key,i.key)}}class Wc{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Qr(Ji.Ur)}checkEmpty(n){return Be.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,o,u){const h=this.nr;this.nr++;const y=new qo(h,i,o,u);this.mutationQueue.push(y);for(const R of u)this.Xr=this.Xr.add(new Ji(R.key,h)),this.indexManager.addToCollectionParentIndex(n,R.key.path.popLast());return Be.resolve(y)}lookupMutationBatch(n,i){return Be.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.ti(i+1),h=u<0?0:u;return Be.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(0===this.mutationQueue.length?-1:this.nr-1)}getAllMutationBatches(n){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const o=new Ji(i,0),u=new Ji(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([o,u],y=>{const R=this.ei(y.Zr);h.push(R)}),Be.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,i){let o=new Qr(Yt);return i.forEach(u=>{const h=new Ji(u,0),y=new Ji(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,y],R=>{o=o.add(R.Zr)})}),Be.resolve(this.ni(o))}getAllMutationBatchesAffectingQuery(n,i){const o=i.path,u=o.length+1;let h=o;Zt.isDocumentKey(h)||(h=h.child(""));const y=new Ji(new Zt(h),0);let R=new Qr(Yt);return this.Xr.forEachWhile(k=>{const U=k.key.path;return!!o.isPrefixOf(U)&&(U.length===u&&(R=R.add(k.Zr)),!0)},y),Be.resolve(this.ni(R))}ni(n){const i=[];return n.forEach(o=>{const u=this.ei(o);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){et(0===this.ri(i.batchId,"removed"),55003),this.mutationQueue.shift();let o=this.Xr;return Be.forEach(i.mutations,u=>{const h=new Ji(u.key,i.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.Xr=o})}sr(n){}containsKey(n,i){const o=new Ji(i,0),u=this.Xr.firstAfterOrEqual(o);return Be.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return Be.resolve()}ri(n,i){return this.ti(n)}ti(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}ei(n){const i=this.ti(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Yl{constructor(n){this.ii=n,this.docs=new zr(Zt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const o=i.key,u=this.docs.get(o),h=u?u.size:0,y=this.ii(i);return this.docs=this.docs.insert(o,{document:i.mutableCopy(),size:y}),this.size+=y-h,this.indexManager.addToCollectionParentIndex(n,o.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const o=this.docs.get(i);return Be.resolve(o?o.document.mutableCopy():hi.newInvalidDocument(i))}getEntries(n,i){let o=v();return i.forEach(u=>{const h=this.docs.get(u);o=o.insert(u,h?h.document.mutableCopy():hi.newInvalidDocument(u))}),Be.resolve(o)}getDocumentsMatchingQuery(n,i,o,u){let h=v();const y=i.path,R=new Zt(y.child("__id-9223372036854775808__")),k=this.docs.getIteratorFrom(R);for(;k.hasNext();){const{key:U,value:{document:J}}=k.getNext();if(!y.isPrefixOf(U.path))break;U.path.length>y.length+1||Sn(new lr((c=J).readTime,c.key,-1),o)<=0||(u.has(J.key)||ga(i,J))&&(h=h.insert(J.key,J.mutableCopy()))}var c;return Be.resolve(h)}getAllFromCollectionGroup(n,i,o,u){gt(9500)}si(n,i){return Be.forEach(this.docs,o=>i(o))}newChangeBuffer(n){return new go(this)}getSize(n){return Be.resolve(this.size)}}class go extends mh{constructor(n){super(),this.Br=n}applyChanges(n){const i=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(n,u)):this.Br.removeEntry(o)}),Be.waitFor(i)}getFromCache(n,i){return this.Br.getEntry(n,i)}getAllFromCache(n,i){return this.Br.getEntries(n,i)}}class Dg{constructor(n){this.persistence=n,this.oi=new j(i=>N(i),z),this.lastRemoteSnapshotVersion=un.min(),this.highestTargetId=0,this._i=0,this.ai=new Ds,this.targetCount=0,this.ui=Hc.cr()}forEachTarget(n,i){return this.oi.forEach((o,u)=>i(u)),Be.resolve()}getLastRemoteSnapshotVersion(n){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Be.resolve(this._i)}allocateTargetId(n){return this.highestTargetId=this.ui.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(n,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this._i&&(this._i=i),Be.resolve()}Tr(n){this.oi.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.ui=new Hc(i),this.highestTargetId=i),n.sequenceNumber>this._i&&(this._i=n.sequenceNumber)}addTargetData(n,i){return this.Tr(i),this.targetCount+=1,Be.resolve()}updateTargetData(n,i){return this.Tr(i),Be.resolve()}removeTargetData(n,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,Be.resolve()}removeTargets(n,i,o){let u=0;const h=[];return this.oi.forEach((y,R)=>{R.sequenceNumber<=i&&null===o.get(R.targetId)&&(this.oi.delete(y),h.push(this.removeMatchingKeysForTargetId(n,R.targetId)),u++)}),Be.waitFor(h).next(()=>u)}getTargetCount(n){return Be.resolve(this.targetCount)}getTargetData(n,i){const o=this.oi.get(i)||null;return Be.resolve(o)}addMatchingKeys(n,i,o){return this.ai.Gr(i,o),Be.resolve()}removeMatchingKeys(n,i,o){this.ai.jr(i,o);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(y=>{h.push(u.markPotentiallyOrphaned(n,y))}),Be.waitFor(h)}removeMatchingKeysForTargetId(n,i){return this.ai.Hr(i),Be.resolve()}getMatchingKeysForTargetId(n,i){const o=this.ai.Yr(i);return Be.resolve(o)}containsKey(n,i){return Be.resolve(this.ai.containsKey(i))}}class Ju{constructor(n,i){this.ci={},this.overlays={},this.li=new tt(0),this.hi=!1,this.hi=!0,this.Pi=new Sr,this.referenceDelegate=n(this),this.Ti=new Dg(this),this.indexManager=new Yu,this.remoteDocumentCache=new Yl(o=>this.referenceDelegate.Ii(o)),this.serializer=new Bl(i),this.Ei=new Hn(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new Wn,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let o=this.ci[n.toKey()];return o||(o=new Wc(i,this.referenceDelegate),this.ci[n.toKey()]=o),o}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(n,i,o){ut("MemoryPersistence","Starting transaction:",n);const u=new Ag(this.li.next());return this.referenceDelegate.di(),o(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(n,i){return Be.or(Object.values(this.ci).map(o=>()=>o.containsKey(n,i)))}}class Ag extends Nr{constructor(n){super(),this.currentSequenceNumber=n}}class mu{constructor(n){this.persistence=n,this.Vi=new Ds,this.mi=null}static fi(n){return new mu(n)}get gi(){if(this.mi)return this.mi;throw gt(60996)}addReference(n,i,o){return this.Vi.addReference(o,i),this.gi.delete(o.toString()),Be.resolve()}removeReference(n,i,o){return this.Vi.removeReference(o,i),this.gi.add(o.toString()),Be.resolve()}markPotentiallyOrphaned(n,i){return this.gi.add(i.toString()),Be.resolve()}removeTarget(n,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>o.removeTargetData(n,i))}di(){this.mi=new Set}Ai(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.gi,o=>{const u=Zt.fromPath(o);return this.pi(n,u).next(h=>{h||i.removeEntry(u,un.min())})}).next(()=>(this.mi=null,i.apply(n)))}updateLimboDocument(n,i){return this.pi(n,i).next(o=>{o?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(n){return 0}pi(n,i){return Be.or([()=>Be.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Ri(n,i)])}}class Fo{constructor(n,i){this.persistence=n,this.yi=new j(o=>function Re(c){let n="";for(let i=0;i<c.length;i++)n.length>0&&(n=At(n)),n=pt(c.get(i),n);return At(n)}(o.path),(o,u)=>o.isEqual(u)),this.garbageCollector=function Xl(c,n){return new bg(c,n)}(this,i)}static fi(n,i){return new Fo(n,i)}di(){}Ai(n){return Be.resolve()}forEachTarget(n,i){return this.persistence.getTargetCache().forEachTarget(n,i)}pr(n){const i=this.Sr(n);return this.persistence.getTargetCache().getTargetCount(n).next(o=>i.next(u=>o+u))}Sr(n){let i=0;return this.yr(n,o=>{i++}).next(()=>i)}yr(n,i){return Be.forEach(this.yi,(o,u)=>this.Dr(n,o,u).next(h=>h?Be.resolve():i(u)))}removeTargets(n,i,o){return this.persistence.getTargetCache().removeTargets(n,i,o)}removeOrphanedDocuments(n,i){let o=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(n,y=>this.Dr(n,y,i).next(R=>{R||(o++,h.removeEntry(y,un.min()))})).next(()=>h.apply(n)).next(()=>o)}markPotentiallyOrphaned(n,i){return this.yi.set(i,n.currentSequenceNumber),Be.resolve()}removeTarget(n,i){const o=i.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,o)}addReference(n,i,o){return this.yi.set(o,n.currentSequenceNumber),Be.resolve()}removeReference(n,i,o){return this.yi.set(o,n.currentSequenceNumber),Be.resolve()}updateLimboDocument(n,i){return this.yi.set(i,n.currentSequenceNumber),Be.resolve()}Ii(n){let i=n.key.toString().length;return n.isFoundDocument()&&(i+=as(n.data.value)),i}Dr(n,i,o){return Be.or([()=>this.persistence.Ri(n,i),()=>this.persistence.getTargetCache().containsKey(n,i),()=>{const u=this.yi.get(i);return Be.resolve(void 0!==u&&u>o)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}class tl{constructor(n,i,o,u){this.targetId=n,this.fromCache=i,this.ds=o,this.As=u}static Rs(n,i){let o=X(),u=X();for(const h of i.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new tl(n,i.fromCache,o,u)}}class Gy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Cg{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(0,Pe.nr)()?8:function Oi(c){const n=c.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}((0,Pe.ZQ)())>0?6:4}initialize(n,i){this.ys=n,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(n,i,o,u){const h={result:null};return this.ws(n,i).next(y=>{h.result=y}).next(()=>{if(!h.result)return this.Ss(n,i,u,o).next(y=>{h.result=y})}).next(()=>{if(h.result)return;const y=new Gy;return this.bs(n,i,y).next(R=>{if(h.result=R,this.fs)return this.Ds(n,i,y,R.size)})}).next(()=>h.result)}Ds(n,i,o,u){return o.documentReadCount<this.gs?(Qt()<=T.$b.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",po(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Be.resolve()):(Qt()<=T.$b.DEBUG&&ut("QueryEngine","Query:",po(i),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.ps*u?(Qt()<=T.$b.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",po(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Ts(i))):Be.resolve())}ws(n,i){if(Go(i))return Be.resolve(null);let o=Ts(i);return this.indexManager.getIndexType(n,o).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=Nn(i,null,"F"),o=Ts(i)),this.indexManager.getDocumentsMatchingTarget(n,o).next(h=>{const y=X(...h);return this.ys.getDocuments(n,y).next(R=>this.indexManager.getMinOffset(n,o).next(k=>{const U=this.vs(i,R);return this.Cs(i,U,y,k.readTime)?this.ws(n,Nn(i,null,"F")):this.Fs(n,U,i,k)}))})))}Ss(n,i,o,u){return Go(i)||u.isEqual(un.min())?Be.resolve(null):this.ys.getDocuments(n,o).next(h=>{const y=this.vs(i,h);return this.Cs(i,y,o,u)?Be.resolve(null):(Qt()<=T.$b.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),po(i)),this.Fs(n,y,i,function sr(c,n){const i=c.toTimestamp().seconds,o=c.toTimestamp().nanoseconds+1,u=un.fromTimestamp(1e9===o?new dr(i+1,0):new dr(i,o));return new lr(u,Zt.empty(),n)}(u,-1)).next(R=>R))})}vs(n,i){let o=new Qr($i(n));return i.forEach((u,h)=>{ga(n,h)&&(o=o.add(h))}),o}Cs(n,i,o,u){if(null===n.limit)return!1;if(o.size!==i.size)return!0;const h="F"===n.limitType?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}bs(n,i,o){return Qt()<=T.$b.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",po(i)),this.ys.getDocumentsMatchingQuery(n,i,lr.min(),o)}Fs(n,i,o,u){return this.ys.getDocumentsMatchingQuery(n,o,u).next(h=>(i.forEach(y=>{h=h.insert(y.key,y)}),h))}}const Ky="LocalStore";class Hf{constructor(n,i,o,u){this.persistence=n,this.Ms=i,this.serializer=u,this.xs=new zr(Yt),this.Os=new j(h=>N(h),z),this.Ns=new Map,this.Bs=n.getRemoteDocumentCache(),this.Ti=n.getTargetCache(),this.Ei=n.getBundleCache(),this.Ls(o)}Ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new mn(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.xs))}}function gs(c,n){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,b.A)(function*(c,n){const i=kt(c);return yield i.persistence.runTransaction("Handle user change","readonly",o=>{let u;return i.mutationQueue.getAllMutationBatches(o).next(h=>(u=h,i.Ls(n),i.mutationQueue.getAllMutationBatches(o))).next(h=>{const y=[],R=[];let k=X();for(const U of u){y.push(U.batchId);for(const J of U.mutations)k=k.add(J.key)}for(const U of h){R.push(U.batchId);for(const J of U.mutations)k=k.add(J.key)}return i.localDocuments.getDocuments(o,k).next(U=>({ks:U,removedBatchIds:y,addedBatchIds:R}))})})})).apply(this,arguments)}function Qy(c){const n=kt(c);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ti.getLastRemoteSnapshotVersion(i))}function Xy(c,n){const i=kt(c);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(o,n)))}function yu(c,n,i){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,b.A)(function*(c,n,i){const o=kt(c),u=o.xs.get(n),h=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",h,y=>o.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!wr(y))throw y;ut(Ky,`Failed to update sequence numbers for target ${n}: ${y}`)}o.xs=o.xs.remove(n),o.Os.delete(u.target)})).apply(this,arguments)}function Wf(c,n,i){const o=kt(c);let u=un.min(),h=X();return o.persistence.runTransaction("Execute query","readwrite",y=>function(k,U,J){const ue=kt(k),Le=ue.Os.get(J);return void 0!==Le?Be.resolve(ue.xs.get(Le)):ue.Ti.getTargetData(U,J)}(o,y,Ts(n)).next(R=>{if(R)return u=R.lastLimboFreeSnapshotVersion,o.Ti.getMatchingKeysForTargetId(y,R.targetId).next(k=>{h=k})}).next(()=>o.Ms.getDocumentsMatchingQuery(y,n,i?u:un.min(),i?h:X())).next(R=>(function uc(c,n,i){let o=c.Ns.get(n)||un.min();i.forEach((u,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),c.Ns.set(n,o)}(o,function Sa(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}(n),R),{documents:R,$s:h})))}class qf{constructor(){this.activeTargetIds=function xe(){return ne}()}js(n){this.activeTargetIds=this.activeTargetIds.add(n)}Hs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}zs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class n_{constructor(){this.xo=new qf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,o){}addLocalQueryTarget(n,i=!0){return i&&this.xo.js(n),this.Oo[n]||"not-current"}updateQueryState(n,i,o){this.Oo[n]=i}removeLocalQueryTarget(n){this.xo.Hs(n)}isLocalQueryTarget(n){return this.xo.activeTargetIds.has(n)}clearQueryState(n){delete this.Oo[n]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(n){return this.xo.activeTargetIds.has(n)}start(){return this.xo=new qf,Promise.resolve()}handleUserChange(n,i,o){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class vh{No(n){}shutdown(){}}const r_="ConnectivityMonitor";class Qf{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(n){this.Qo.push(n)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ut(r_,"Network connectivity changed: AVAILABLE");for(const n of this.Qo)n(0)}qo(){ut(r_,"Network connectivity changed: UNAVAILABLE");for(const n of this.Qo)n(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Eh=null;function sl(){return null===Eh?Eh=268435456+Math.round(2147483648*Math.random()):Eh++,"0x"+Eh.toString(16)}const ol="RestConnection",i_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xf{get Uo(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+n.host,this.Wo=`projects/${o}/databases/${u}`,this.Go=this.databaseId.database===we?`project_id=${o}`:`project_id=${o}&database_id=${u}`}zo(n,i,o,u,h){const y=sl(),R=this.jo(n,i.toUriEncodedString());ut(ol,`Sending RPC '${n}' ${y}:`,R,o);const k={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(k,u,h);const{host:U}=new URL(R),J=(0,Pe.zJ)(U);return this.Jo(n,R,k,o,J).then(ue=>(ut(ol,`Received RPC '${n}' ${y}: `,ue),ue),ue=>{throw kn(ol,`RPC '${n}' ${y} failed with error: `,ue,"url: ",R,"request:",o),ue})}Yo(n,i,o,u,h,y){return this.zo(n,i,o,u,h)}Ho(n,i,o){n["X-Goog-Api-Client"]="gl-js/ fire/"+Je,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>n[h]=u),o&&o.headers.forEach((u,h)=>n[h]=u)}jo(n,i){return`${this.Ko}/v1/${i}:${i_[n]}`}terminate(){}}class Zf{constructor(n){this.Zo=n.Zo,this.Xo=n.Xo}e_(n){this.t_=n}n_(n){this.r_=n}i_(n){this.s_=n}onMessage(n){this.o_=n}close(){this.Xo()}send(n){this.Zo(n)}__(){this.t_()}a_(){this.r_()}u_(n){this.s_(n)}c_(n){this.o_(n)}}const Yo="WebChannelConnection";class SE extends Xf{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,i,o,u,h){const y=sl();return new Promise((R,k)=>{const U=new dt;U.setWithCredentials(!0),U.listenOnce(Pt.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case zt.NO_ERROR:const ue=U.getResponseJson();ut(Yo,`XHR for RPC '${n}' ${y} received:`,JSON.stringify(ue)),R(ue);break;case zt.TIMEOUT:ut(Yo,`RPC '${n}' ${y} timed out`),k(new te(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case zt.HTTP_ERROR:const Le=U.getStatus();if(ut(Yo,`RPC '${n}' ${y} failed with status:`,Le,"response text:",U.getResponseText()),Le>0){let Dt=U.getResponseJson();Array.isArray(Dt)&&(Dt=Dt[0]);const Wt=Dt?.error;if(Wt&&Wt.status&&Wt.message){const hn=function(Yn){const ir=Yn.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(ir)>=0?ir:Qe.UNKNOWN}(Wt.status);k(new te(hn,Wt.message))}else k(new te(Qe.UNKNOWN,"Server responded with status "+U.getStatus()))}else k(new te(Qe.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:n,streamId:y,h_:U.getLastErrorCode(),P_:U.getLastError()})}}finally{ut(Yo,`RPC '${n}' ${y} completed.`)}});const J=JSON.stringify(u);ut(Yo,`RPC '${n}' ${y} sending request:`,u),U.send(i,"POST",J,o,15)})}T_(n,i,o){const u=sl(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",n,"/channel"],y=It(),R=_t(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(k.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(k.useFetchStreams=!0),this.Ho(k.initMessageHeaders,i,o),k.encodeInitMessageHeaders=!0;const J=h.join("");ut(Yo,`Creating RPC '${n}' stream ${u}: ${J}`,k);const ue=y.createWebChannel(J,k);let Le=!1,Dt=!1;const Wt=new Zf({Zo:an=>{Dt?ut(Yo,`Not sending because RPC '${n}' stream ${u} is closed:`,an):(Le||(ut(Yo,`Opening RPC '${n}' stream ${u} transport.`),ue.open(),Le=!0),ut(Yo,`RPC '${n}' stream ${u} sending:`,an),ue.send(an))},Xo:()=>ue.close()}),hn=(an,Yn,ir)=>{an.listen(Yn,xn=>{try{ir(xn)}catch(Or){setTimeout(()=>{throw Or},0)}})};return hn(ue,ht.EventType.OPEN,()=>{Dt||(ut(Yo,`RPC '${n}' stream ${u} transport opened.`),Wt.__())}),hn(ue,ht.EventType.CLOSE,()=>{Dt||(Dt=!0,ut(Yo,`RPC '${n}' stream ${u} transport closed`),Wt.u_())}),hn(ue,ht.EventType.ERROR,an=>{Dt||(Dt=!0,kn(Yo,`RPC '${n}' stream ${u} transport errored. Name:`,an.name,"Message:",an.message),Wt.u_(new te(Qe.UNAVAILABLE,"The operation could not be completed")))}),hn(ue,ht.EventType.MESSAGE,an=>{var Yn;if(!Dt){const ir=an.data[0];et(!!ir,16349);const xn=ir,Or=xn?.error||(null===(Yn=xn[0])||void 0===Yn?void 0:Yn.error);if(Or){ut(Yo,`RPC '${n}' stream ${u} received error:`,Or);const xi=Or.status;let ui=function(ze){const ct=xs[ze];if(void 0!==ct)return Hu(ct)}(xi),at=Or.message;void 0===ui&&(ui=Qe.INTERNAL,at="Unknown error status: "+xi+" with message "+Or.message),Dt=!0,Wt.u_(new te(ui,at)),ue.close()}else ut(Yo,`RPC '${n}' stream ${u} received:`,ir),Wt.c_(ir)}}),hn(R,en.STAT_EVENT,an=>{an.stat===jt.PROXY?ut(Yo,`RPC '${n}' stream ${u} detected buffering proxy`):an.stat===jt.NOPROXY&&ut(Yo,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Wt.a_()},0),Wt}}function wh(){return typeof document<"u"?document:null}function al(c){return new Tf(c,!0)}class Og{constructor(n,i,o=1e3,u=1.5,h=6e4){this.xi=n,this.timerId=i,this.I_=o,this.E_=u,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(n){this.cancel();const i=Math.floor(this.A_+this.g_()),o=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-o);u>0&&ut("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),n())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){null!==this.R_&&(this.R_.skipDelay(),this.R_=null)}cancel(){null!==this.R_&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}const o_="PersistentStream";class ua{constructor(n,i,o,u,h,y,R,k){this.xi=n,this.y_=o,this.w_=u,this.connection=h,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=R,this.listener=k,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Og(n,i)}F_(){return 1===this.state||5===this.state||this.M_()}M_(){return 2===this.state||3===this.state}start(){this.v_=0,4!==this.state?this.auth():this.x_()}stop(){var n=this;return(0,b.A)(function*(){n.F_()&&(yield n.close(0))})()}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&null===this.b_&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(n){this.k_(),this.stream.send(n)}B_(){var n=this;return(0,b.A)(function*(){if(n.M_())return n.close(0)})()}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(n,i){var o=this;return(0,b.A)(function*(){o.k_(),o.q_(),o.C_.cancel(),o.S_++,4!==n?o.C_.reset():i&&i.code===Qe.RESOURCE_EXHAUSTED?(Un(i.toString()),Un("Using maximum backoff delay to prevent overloading the backend."),o.C_.m_()):i&&i.code===Qe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Q_(),o.stream.close(),o.stream=null),o.state=n,yield o.listener.i_(i)})()}Q_(){}auth(){this.state=1;const n=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.S_===i&&this.K_(o,u)},o=>{n(()=>{const u=new te(Qe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.W_(u)})})}K_(n,i){const o=this.U_(this.S_);this.stream=this.G_(n,i),this.stream.e_(()=>{o(()=>this.listener.e_())}),this.stream.n_(()=>{o(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{o(()=>this.W_(u))}),this.stream.onMessage(u=>{o(()=>1==++this.v_?this.z_(u):this.onNext(u))})}x_(){var n=this;this.state=5,this.C_.f_((0,b.A)(function*(){n.state=0,n.start()}))}W_(n){return ut(o_,`close with error: ${n}`),this.stream=null,this.close(4,n)}U_(n){return i=>{this.xi.enqueueAndForget(()=>this.S_===n?i():(ut(o_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fg extends ua{constructor(n,i,o,u,h,y){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,o,u,y),this.serializer=h}G_(n,i){return this.connection.T_("Listen",n,i)}z_(n){return this.onNext(n)}onNext(n){this.C_.reset();const i=function Af(c,n){let i;if("targetChange"in n){const o="NO_CHANGE"===(U=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:gt(39313,{state:U}),u=n.targetChange.targetIds||[],h=function(U,J){return U.useProto3Json?(et(void 0===J||"string"==typeof J,58123),Ui.fromBase64String(J||"")):(et(void 0===J||J instanceof Buffer||J instanceof Uint8Array,16193),Ui.fromUint8Array(J||new Uint8Array))}(c,n.targetChange.resumeToken),y=n.targetChange.cause,R=y&&function(U){const J=void 0===U.code?Qe.UNKNOWN:Hu(U.code);return new te(J,U.message||"")}(y);i=new If(o,u,h,R||null)}else if("documentChange"in n){const o=n.documentChange,u=aa(c,o.document.name),h=Os(o.document.updateTime),y=o.document.createTime?Os(o.document.createTime):un.min(),R=new ns({mapValue:{fields:o.document.fields}}),k=hi.newFoundDocument(u,h,y,R);i=new vc(o.targetIds||[],o.removedTargetIds||[],k.key,k)}else if("documentDelete"in n){const o=n.documentDelete,u=aa(c,o.document),h=o.readTime?Os(o.readTime):un.min(),y=hi.newNoDocument(u,h);i=new vc([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in n){const o=n.documentRemove,u=aa(c,o.document);i=new vc([],o.removedTargetIds||[],u,null)}else{if(!("filter"in n))return gt(11601,{Vt:n});{const o=n.filter,{count:u=0,unchangedNames:h}=o,y=new rh(u,h);i=new Nl(o.targetId,y)}}var U;return i}(this.serializer,n),o=function(h){if(!("targetChange"in h))return un.min();const y=h.targetChange;return y.targetIds&&y.targetIds.length?un.min():y.readTime?Os(y.readTime):un.min()}(n);return this.listener.j_(i,o)}H_(n){const i={};i.database=ca(this.serializer),i.addTarget=function(h,y){let R;const k=y.target;if(R=Se(k)?{documents:Lc(h,k)}:{query:To(h,k).gt},R.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){R.resumeToken=Ol(h,y.resumeToken);const U=Ma(h,y.expectedCount);null!==U&&(R.expectedCount=U)}else if(y.snapshotVersion.compareTo(un.min())>0){R.readTime=zu(h,y.snapshotVersion.toTimestamp());const U=Ma(h,y.expectedCount);null!==U&&(R.expectedCount=U)}return R}(this.serializer,n);const o=function Xo(c,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:u})}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);o&&(i.labels=o),this.L_(i)}J_(n){const i={};i.database=ca(this.serializer),i.removeTarget=n,this.L_(i)}}class a_ extends ua{constructor(n,i,o,u,h,y){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,o,u,y),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(n,i){return this.connection.T_("Write",n,i)}z_(n){return et(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,et(!n.writeResults||0===n.writeResults.length,55816),this.listener.X_()}onNext(n){et(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.C_.reset();const i=function wg(c,n){return c&&c.length>0?(et(void 0!==n,14353),c.map(i=>function(u,h){let y=Os(u.updateTime?u.updateTime:h);return y.isEqual(un.min())&&(y=Os(h)),new Ml(y,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),o=Os(n.commitTime);return this.listener.ea(o,i)}ta(){const n={};n.database=ca(this.serializer),this.L_(n)}Z_(n){const i={streamToken:this.lastStreamToken,writes:n.map(o=>function Vl(c,n){let i;if(n instanceof ki)i={update:Fl(c,n.key,n.value)};else if(n instanceof Di)i={delete:Ec(c,n.key)};else if(n instanceof Oo)i={update:Fl(c,n.key,n.data),updateMask:Gu(n.fieldMask)};else{if(!(n instanceof Pa))return gt(16599,{ft:n.type});i={verify:Ec(c,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(o=>function(h,y){const R=y.transform;if(R instanceof Bs)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof rs)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof bs)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Ra)return{fieldPath:y.field.canonicalString(),increment:R.Re};throw gt(20930,{transform:y.transform})}(0,o))),n.precondition.isNone||(i.currentDocument=void 0!==(h=n.precondition).updateTime?{updateTime:Hy(c,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:gt(27497)),i;var h}(this.serializer,o))};this.L_(i)}}class Lg{}class va extends Lg{constructor(n,i,o,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=o,this.serializer=u,this.na=!1}ra(){if(this.na)throw new te(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(n,i,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,y])=>this.connection.zo(n,Nt(i,o),u,h,y)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new te(Qe.UNKNOWN,h.toString())})}Yo(n,i,o,u,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,R])=>this.connection.Yo(n,Nt(i,o),u,y,R,h)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new te(Qe.UNKNOWN,y.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Ih{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){0===this.ia&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(n){"Online"===this.state?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.aa("Offline")))}set(n){this.la(),this.ia=0,"Online"===n&&(this.oa=!1),this.aa(n)}aa(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ua(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Un(i),this.oa=!1):ut("OnlineStateTracker",i)}la(){null!==this.sa&&(this.sa.cancel(),this.sa=null)}}const Qc="RemoteStore";class c_{constructor(n,i,o,u,h){var y=this;this.localStore=n,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(R=>{o.enqueueAndForget((0,b.A)(function*(){var k;Xc(y)&&(ut(Qc,"Restarting streams for network reachability change."),yield(k=(0,b.A)(function*(J){const ue=kt(J);ue.Ta.add(4),yield ed(ue),ue.da.set("Unknown"),ue.Ta.delete(4),yield Th(ue)}),function U(J){return k.apply(this,arguments)})(y))}))}),this.da=new Ih(o,u)}}function Th(c){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,b.A)(function*(c){if(Xc(c))for(const n of c.Ia)yield n(!0)})).apply(this,arguments)}function ed(c){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,b.A)(function*(c){for(const n of c.Ia)yield n(!1)})).apply(this,arguments)}function ep(c,n){const i=kt(c);i.Pa.has(n.targetId)||(i.Pa.set(n.targetId,n),Bg(i)?Ug(i):nd(i).M_()&&Vg(i,n))}function cl(c,n){const i=kt(c),o=nd(i);i.Pa.delete(n),o.M_()&&u_(i,n),0===i.Pa.size&&(o.M_()?o.N_():Xc(i)&&i.da.set("Unknown"))}function Vg(c,n){if(c.Aa.Ke(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(un.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}nd(c).H_(n)}function u_(c,n){c.Aa.Ke(n),nd(c).J_(n)}function Ug(c){c.Aa=new kl({getRemoteKeysForTarget:n=>c.remoteSyncer.getRemoteKeysForTarget(n),Rt:n=>c.Pa.get(n)||null,Pt:()=>c.datastore.serializer.databaseId}),nd(c).start(),c.da._a()}function Bg(c){return Xc(c)&&!nd(c).F_()&&c.Pa.size>0}function Xc(c){return 0===kt(c).Ta.size}function jg(c){c.Aa=void 0}function l_(c){return td.apply(this,arguments)}function td(){return(td=(0,b.A)(function*(c){c.da.set("Online")})).apply(this,arguments)}function d_(c){return tp.apply(this,arguments)}function tp(){return(tp=(0,b.A)(function*(c){c.Pa.forEach((n,i)=>{Vg(c,n)})})).apply(this,arguments)}function h_(c,n){return np.apply(this,arguments)}function np(){return(np=(0,b.A)(function*(c,n){jg(c),Bg(c)?(c.da.ca(n),Ug(c)):c.da.set("Unknown")})).apply(this,arguments)}function RE(c,n,i){return $g.apply(this,arguments)}function $g(){return $g=(0,b.A)(function*(c,n,i){if(c.da.set("Online"),n instanceof If&&2===n.state&&n.cause)try{yield(o=(0,b.A)(function*(h,y){const R=y.cause;for(const k of y.targetIds)h.Pa.has(k)&&(yield h.remoteSyncer.rejectListen(k,R),h.Pa.delete(k),h.Aa.removeTarget(k))}),function u(h,y){return o.apply(this,arguments)})(c,n)}catch(o){ut(Qc,"Failed to remove targets %s: %s ",n.targetIds.join(","),o),yield rp(c,o)}else if(n instanceof vc?c.Aa.Xe(n):n instanceof Nl?c.Aa.ot(n):c.Aa.nt(n),!i.isEqual(un.min()))try{const o=yield Qy(c.localStore);i.compareTo(o)>=0&&(yield function(h,y){const R=h.Aa.It(y);return R.targetChanges.forEach((k,U)=>{if(k.resumeToken.approximateByteSize()>0){const J=h.Pa.get(U);J&&h.Pa.set(U,J.withResumeToken(k.resumeToken,y))}}),R.targetMismatches.forEach((k,U)=>{const J=h.Pa.get(k);if(!J)return;h.Pa.set(k,J.withResumeToken(Ui.EMPTY_BYTE_STRING,J.snapshotVersion)),u_(h,k);const ue=new Ja(J.target,k,U,J.sequenceNumber);Vg(h,ue)}),h.remoteSyncer.applyRemoteEvent(R)}(c,i))}catch(o){ut(Qc,"Failed to raise snapshot:",o),yield rp(c,o)}var o}),$g.apply(this,arguments)}function rp(c,n,i){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,b.A)(function*(c,n,i){if(!wr(n))throw n;c.Ta.add(1),yield ed(c),c.da.set("Offline"),i||(i=()=>Qy(c.localStore)),c.asyncQueue.enqueueRetryable((0,b.A)(function*(){ut(Qc,"Retrying IndexedDB access"),yield i(),c.Ta.delete(1),yield Th(c)}))})).apply(this,arguments)}function f_(c,n){return n().catch(i=>rp(c,i,n))}function ul(c){return zg.apply(this,arguments)}function zg(){return(zg=(0,b.A)(function*(c){const n=kt(c),i=Ea(n);let o=n.ha.length>0?n.ha[n.ha.length-1].batchId:-1;for(;PE(n);)try{const u=yield Xy(n.localStore,o);if(null===u){0===n.ha.length&&i.N_();break}o=u.batchId,ME(n,u)}catch(u){yield rp(n,u)}Wg(n)&&ip(n)})).apply(this,arguments)}function PE(c){return Xc(c)&&c.ha.length<10}function ME(c,n){c.ha.push(n);const i=Ea(c);i.M_()&&i.Y_&&i.Z_(n.mutations)}function Wg(c){return Xc(c)&&!Ea(c).F_()&&c.ha.length>0}function ip(c){Ea(c).start()}function NE(c){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,b.A)(function*(c){Ea(c).ta()})).apply(this,arguments)}function _u(c){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,b.A)(function*(c){const n=Ea(c);for(const i of c.ha)n.Z_(i.mutations)})).apply(this,arguments)}function Kg(c,n,i){return qg.apply(this,arguments)}function qg(){return(qg=(0,b.A)(function*(c,n,i){const o=c.ha.shift(),u=ia.from(o,n,i);yield f_(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield ul(c)})).apply(this,arguments)}function pT(c,n){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,b.A)(function*(c,n){var i;n&&Ea(c).Y_&&(yield(i=(0,b.A)(function*(u,h){if(function sa(c){switch(c){case Qe.OK:return gt(64938);case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0;default:return gt(15467,{code:c})}}(R=h.code)&&R!==Qe.ABORTED){const y=u.ha.shift();Ea(u).O_(),yield f_(u,()=>u.remoteSyncer.rejectFailedWrite(y.batchId,h)),yield ul(u)}var R}),function o(u,h){return i.apply(this,arguments)})(c,n)),Wg(c)&&ip(c)}),Qg.apply(this,arguments)}function p_(c,n){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,b.A)(function*(c,n){const i=kt(c);i.asyncQueue.verifyOperationInProgress(),ut(Qc,"RemoteStore received new credentials");const o=Xc(i);i.Ta.add(3),yield ed(i),o&&i.da.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.Ta.delete(3),yield Th(i)})).apply(this,arguments)}function g_(){return(g_=(0,b.A)(function*(c,n){const i=kt(c);n?(i.Ta.delete(2),yield Th(i)):n||(i.Ta.add(2),yield ed(i),i.da.set("Unknown"))})).apply(this,arguments)}function nd(c){return c.Ra||(c.Ra=function(i,o,u){const h=kt(i);return h.ra(),new Fg(o,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(c.datastore,c.asyncQueue,{e_:l_.bind(null,c),n_:d_.bind(null,c),i_:h_.bind(null,c),j_:RE.bind(null,c)}),c.Ia.push(function(){var n=(0,b.A)(function*(i){i?(c.Ra.O_(),Bg(c)?Ug(c):c.da.set("Unknown")):(yield c.Ra.stop(),jg(c))});return function(i){return n.apply(this,arguments)}}())),c.Ra}function Ea(c){return c.Va||(c.Va=function(i,o,u){const h=kt(i);return h.ra(),new a_(o,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(c.datastore,c.asyncQueue,{e_:()=>Promise.resolve(),n_:NE.bind(null,c),i_:pT.bind(null,c),X_:_u.bind(null,c),ea:Kg.bind(null,c)}),c.Ia.push(function(){var n=(0,b.A)(function*(i){i?(c.Va.O_(),yield ul(c)):(yield c.Va.stop(),c.ha.length>0&&(ut(Qc,`Stopping write stream with ${c.ha.length} pending writes`),c.ha=[]))});return function(i){return n.apply(this,arguments)}}())),c.Va}class Yg{constructor(n,i,o,u,h){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=o,this.op=u,this.removalCallback=h,this.deferred=new fe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,o,u,h){const y=Date.now()+o,R=new Yg(n,i,y,u,h);return R.start(o),R}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new te(Qe.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vu(c,n){if(Un("AsyncQueue",`${n}: ${c}`),wr(c))return new te(Qe.UNAVAILABLE,`${n}: ${c}`);throw c}class Eu{static emptySet(n){return new Eu(n.comparator)}constructor(n){this.comparator=n?(i,o)=>n(i,o)||Zt.comparator(i.key,o.key):(i,o)=>Zt.comparator(i.key,o.key),this.keyedMap=V(),this.sortedSet=new zr(this.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,o)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof Eu)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),o=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=o.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const o=new Eu;return o.comparator=this.comparator,o.keyedMap=n,o.sortedSet=i,o}}class sp{constructor(){this.ma=new zr(Zt.comparator)}track(n){const i=n.doc.key,o=this.ma.get(i);o?0!==n.type&&3===o.type?this.ma=this.ma.insert(i,n):3===n.type&&1!==o.type?this.ma=this.ma.insert(i,{type:o.type,doc:n.doc}):2===n.type&&2===o.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):2===n.type&&0===o.type?this.ma=this.ma.insert(i,{type:0,doc:n.doc}):1===n.type&&0===o.type?this.ma=this.ma.remove(i):1===n.type&&2===o.type?this.ma=this.ma.insert(i,{type:1,doc:o.doc}):0===n.type&&1===o.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):gt(63341,{Vt:n,fa:o}):this.ma=this.ma.insert(i,n)}ga(){const n=[];return this.ma.inorderTraversal((i,o)=>{n.push(o)}),n}}class ll{constructor(n,i,o,u,h,y,R,k,U){this.query=n,this.docs=i,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=h,this.fromCache=y,this.syncStateChanged=R,this.excludesMetadataChanges=k,this.hasCachedResults=U}static fromInitialDocuments(n,i,o,u,h){const y=[];return i.forEach(R=>{y.push({type:0,doc:R})}),new ll(n,i,Eu.emptySet(i),y,o,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&pa(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,o=n.docChanges;if(i.length!==o.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==o[u].type||!i[u].doc.isEqual(o[u].doc))return!1;return!0}}class op{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(n=>n.Sa())}}class Jg{constructor(){this.queries=rd(),this.onlineState="Unknown",this.ba=new Set}terminate(){!function(i,o){const u=kt(i),h=u.queries;u.queries=rd(),h.forEach((y,R)=>{for(const k of R.ya)k.onError(o)})}(this,new te(Qe.ABORTED,"Firestore shutting down"))}}function rd(){return new j(c=>Do(c),pa)}function id(c,n){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,b.A)(function*(c,n){const i=kt(c);let o=3;const u=n.query;let h=i.queries.get(u);h?!h.wa()&&n.Sa()&&(o=2):(h=new op,o=n.Sa()?0:1);try{switch(o){case 0:h.pa=yield i.onListen(u,!0);break;case 1:h.pa=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(y){const R=vu(y,`Initialization of query '${po(n.query)}' failed`);return void n.onError(R)}i.queries.set(u,h),h.ya.push(n),n.Da(i.onlineState),h.pa&&n.va(h.pa)&&Ah(i)})).apply(this,arguments)}function bh(c,n){return sd.apply(this,arguments)}function sd(){return(sd=(0,b.A)(function*(c,n){const i=kt(c),o=n.query;let u=3;const h=i.queries.get(o);if(h){const y=h.ya.indexOf(n);y>=0&&(h.ya.splice(y,1),0===h.ya.length?u=n.Sa()?0:1:!h.wa()&&n.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(o),i.onUnlisten(o,!0);case 1:return i.queries.delete(o),i.onUnlisten(o,!1);case 2:return i.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function Dh(c,n){const i=kt(c);let o=!1;for(const u of n){const y=i.queries.get(u.query);if(y){for(const R of y.ya)R.va(u)&&(o=!0);y.pa=u}}o&&Ah(i)}function em(c,n,i){const o=kt(c),u=o.queries.get(n);if(u)for(const h of u.ya)h.onError(i);o.queries.delete(n)}function Ah(c){c.ba.forEach(n=>{n.next()})}var od,tm;(tm=od||(od={})).Ca="default",tm.Cache="cache";class Ch{constructor(n,i,o){this.query=n,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=o||{}}va(n){if(!this.options.includeMetadataChanges){const o=[];for(const u of n.docChanges)3!==u.type&&o.push(u);n=new ll(n.query,n.docs,n.oldDocs,o,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.Ma?this.Oa(n)&&(this.Fa.next(n),i=!0):this.Na(n,this.onlineState)&&(this.Ba(n),i=!0),this.xa=n,i}onError(n){this.Fa.error(n)}Da(n){this.onlineState=n;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,n)&&(this.Ba(this.xa),i=!0),i}Na(n,i){return!n.fromCache||!this.Sa()||(!this.options.La||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}Oa(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.xa&&this.xa.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Ba(n){n=ll.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Ma=!0,this.Fa.next(n)}Sa(){return this.options.source!==od.Cache}}class ap{constructor(n){this.key=n}}class im{constructor(n){this.key=n}}class sm{constructor(n,i){this.query=n,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=X(),this.mutatedKeys=X(),this.Ha=$i(n),this.Ja=new Eu(this.Ha)}get Ya(){return this.Ga}Za(n,i){const o=i?i.Xa:new sp,u=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,y=u,R=!1;const k="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,U="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((J,ue)=>{const Le=u.get(J),Dt=ga(this.query,ue)?ue:null,Wt=!!Le&&this.mutatedKeys.has(Le.key),hn=!!Dt&&(Dt.hasLocalMutations||this.mutatedKeys.has(Dt.key)&&Dt.hasCommittedMutations);let an=!1;Le&&Dt?Le.data.isEqual(Dt.data)?Wt!==hn&&(o.track({type:3,doc:Dt}),an=!0):this.eu(Le,Dt)||(o.track({type:2,doc:Dt}),an=!0,(k&&this.Ha(Dt,k)>0||U&&this.Ha(Dt,U)<0)&&(R=!0)):!Le&&Dt?(o.track({type:0,doc:Dt}),an=!0):Le&&!Dt&&(o.track({type:1,doc:Le}),an=!0,(k||U)&&(R=!0)),an&&(Dt?(y=y.add(Dt),h=hn?h.add(J):h.delete(J)):(y=y.delete(J),h=h.delete(J)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const J="F"===this.query.limitType?y.last():y.first();y=y.delete(J.key),h=h.delete(J.key),o.track({type:1,doc:J})}return{Ja:y,Xa:o,Cs:R,mutatedKeys:h}}eu(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,o,u){const h=this.Ja;this.Ja=n.Ja,this.mutatedKeys=n.mutatedKeys;const y=n.Xa.ga();y.sort((J,ue)=>function(Dt,Wt){const hn=an=>{switch(an){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:an})}};return hn(Dt)-hn(Wt)}(J.type,ue.type)||this.Ha(J.doc,ue.doc)),this.tu(o),u=null!=u&&u;const R=i&&!u?this.nu():[],k=0===this.ja.size&&this.current&&!u?1:0,U=k!==this.za;return this.za=k,0!==y.length||U?{snapshot:new ll(this.query,n.Ja,h,y,n.mutatedKeys,0===k,U,!1,!!o&&o.resumeToken.approximateByteSize()>0),ru:R}:{ru:R}}Da(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new sp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(n){return!this.Ga.has(n)&&!!this.Ja.has(n)&&!this.Ja.get(n).hasLocalMutations}tu(n){n&&(n.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=n.current)}nu(){if(!this.current)return[];const n=this.ja;this.ja=X(),this.Ja.forEach(o=>{this.iu(o.key)&&(this.ja=this.ja.add(o.key))});const i=[];return n.forEach(o=>{this.ja.has(o)||i.push(new im(o))}),this.ja.forEach(o=>{n.has(o)||i.push(new ap(o))}),i}su(n){this.Ga=n.$s,this.ja=X();const i=this.Za(n.documents);return this.applyChanges(i,!0)}ou(){return ll.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,0===this.za,this.hasCachedResults)}}const Cc="SyncEngine";class om{constructor(n,i,o){this.query=n,this.targetId=i,this.view=o}}class cd{constructor(n){this.key=n,this._u=!1}}class y_{constructor(n,i,o,u,h,y){this.localStore=n,this.remoteStore=i,this.eventManager=o,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=y,this.au={},this.uu=new j(R=>Do(R),pa),this.cu=new Map,this.lu=new Set,this.hu=new zr(Zt.comparator),this.Pu=new Map,this.Tu=new Ds,this.Iu={},this.Eu=new Map,this.du=Hc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return!0===this.Au}}function wa(c,n){return __.apply(this,arguments)}function __(){return(__=(0,b.A)(function*(c,n,i=!0){const o=hl(c);let u;const h=o.uu.get(n);return h?(o.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.ou()):u=yield dl(o,n,i,!0),u})).apply(this,arguments)}function cp(c,n){return am.apply(this,arguments)}function am(){return(am=(0,b.A)(function*(c,n){const i=hl(c);yield dl(i,n,!0,!1)})).apply(this,arguments)}function dl(c,n,i,o){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,b.A)(function*(c,n,i,o){const u=yield function nl(c,n){const i=kt(c);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return i.Ti.getTargetData(o,n).next(h=>h?(u=h,Be.resolve(u)):i.Ti.allocateTargetId(o).next(y=>(u=new Ja(n,y,"TargetPurposeListen",o.currentSequenceNumber),i.Ti.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=i.xs.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(o.targetId,o),i.Os.set(n,o.targetId)),o})}(c.localStore,Ts(n)),h=u.targetId,y=c.sharedClientState.addLocalQueryTarget(h,i);let R;return o&&(R=yield function up(c,n,i,o,u){return lp.apply(this,arguments)}(c,n,h,"current"===y,u.resumeToken)),c.isPrimaryClient&&i&&ep(c.remoteStore,u),R})).apply(this,arguments)}function lp(){return lp=(0,b.A)(function*(c,n,i,o,u){c.Ru=(ue,Le,Dt)=>{return(Wt=(0,b.A)(function*(an,Yn,ir,xn){let Or=Yn.view.Za(ir);Or.Cs&&(Or=yield Wf(an.localStore,Yn.query,!1).then(({documents:Fe})=>Yn.view.Za(Fe,Or)));const xi=xn&&xn.targetChanges.get(Yn.targetId),ui=xn&&null!=xn.targetMismatches.get(Yn.targetId),at=Yn.view.applyChanges(Or,an.isPrimaryClient,xi,ui);return hp(an,Yn.targetId,at.ru),at.snapshot}),function hn(an,Yn,ir,xn){return Wt.apply(this,arguments)})(c,ue,Le,Dt);var Wt};const h=yield Wf(c.localStore,n,!0),y=new sm(n,h.$s),R=y.Za(h.documents),k=oa.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==c.onlineState,u),U=y.applyChanges(R,c.isPrimaryClient,k);hp(c,i,U.ru);const J=new om(n,i,y);return c.uu.set(n,J),c.cu.has(i)?c.cu.get(i).push(n):c.cu.set(i,[n]),U.snapshot}),lp.apply(this,arguments)}function v_(c,n,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,b.A)(function*(c,n,i){const o=kt(c),u=o.uu.get(n),h=o.cu.get(u.targetId);if(h.length>1)return o.cu.set(u.targetId,h.filter(y=>!pa(y,n))),void o.uu.delete(n);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield yu(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),i&&cl(o.remoteStore,u.targetId),hc(o,u.targetId)}).catch(Gn))):(hc(o,u.targetId),yield yu(o.localStore,u.targetId,!0))})).apply(this,arguments)}function cm(c,n){return um.apply(this,arguments)}function um(){return(um=(0,b.A)(function*(c,n){const i=kt(c),o=i.uu.get(n),u=i.cu.get(o.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(o.targetId),cl(i.remoteStore,o.targetId))})).apply(this,arguments)}function w_(){return(w_=(0,b.A)(function*(c,n,i){const o=function Tu(c){const n=kt(c);return n.remoteStore.remoteSyncer.applySuccessfulWrite=ld.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Rh.bind(null,n),n}(c);try{const u=yield function(y,R){const k=kt(y),U=dr.now(),J=R.reduce((Dt,Wt)=>Dt.add(Wt.key),X());let ue,Le;return k.persistence.runTransaction("Locally write mutations","readwrite",Dt=>{let Wt=v(),hn=X();return k.Bs.getEntries(Dt,J).next(an=>{Wt=an,Wt.forEach((Yn,ir)=>{ir.isValidDocument()||(hn=hn.add(Yn))})}).next(()=>k.localDocuments.getOverlayedDocuments(Dt,Wt)).next(an=>{ue=an;const Yn=[];for(const ir of R){const xn=xo(ir,ue.get(ir.key).overlayedDocument);null!=xn&&Yn.push(new Oo(ir.key,xn,No(xn.value.mapValue),wn.exists(!0)))}return k.mutationQueue.addMutationBatch(Dt,U,Yn,R)}).next(an=>{Le=an;const Yn=an.applyToLocalDocumentSet(ue,hn);return k.documentOverlayCache.saveOverlays(Dt,an.batchId,Yn)})}).then(()=>({batchId:Le.batchId,changes:Z(ue)}))}(o.localStore,n);o.sharedClientState.addPendingMutation(u.batchId),function(y,R,k){let U=y.Iu[y.currentUser.toKey()];U||(U=new zr(Yt)),U=U.insert(R,k),y.Iu[y.currentUser.toKey()]=U}(o,u.batchId,i),yield Sc(o,u.changes),yield ul(o.remoteStore)}catch(u){const h=vu(u,"Failed to persist write");i.reject(h)}})).apply(this,arguments)}function Js(c,n){return ud.apply(this,arguments)}function ud(){return(ud=(0,b.A)(function*(c,n){const i=kt(c);try{const o=yield function AE(c,n){const i=kt(c),o=n.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const y=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const R=[];n.targetChanges.forEach((J,ue)=>{const Le=u.get(ue);if(!Le)return;R.push(i.Ti.removeMatchingKeys(h,J.removedDocuments,ue).next(()=>i.Ti.addMatchingKeys(h,J.addedDocuments,ue)));let Dt=Le.withSequenceNumber(h.currentSequenceNumber);var hn,an,Yn;null!==n.targetMismatches.get(ue)?Dt=Dt.withResumeToken(Ui.EMPTY_BYTE_STRING,un.min()).withLastLimboFreeSnapshotVersion(un.min()):J.resumeToken.approximateByteSize()>0&&(Dt=Dt.withResumeToken(J.resumeToken,o)),u=u.insert(ue,Dt),an=Dt,Yn=J,(0===(hn=Le).resumeToken.approximateByteSize()||an.snapshotVersion.toMicroseconds()-hn.snapshotVersion.toMicroseconds()>=3e8||Yn.addedDocuments.size+Yn.modifiedDocuments.size+Yn.removedDocuments.size>0)&&R.push(i.Ti.updateTargetData(h,Dt))});let k=v(),U=X();if(n.documentUpdates.forEach(J=>{n.resolvedLimboDocuments.has(J)&&R.push(i.persistence.referenceDelegate.updateLimboDocument(h,J))}),R.push(function zf(c,n,i){let o=X(),u=X();return i.forEach(h=>o=o.add(h)),n.getEntries(c,o).next(h=>{let y=v();return i.forEach((R,k)=>{const U=h.get(R);k.isFoundDocument()!==U.isFoundDocument()&&(u=u.add(R)),k.isNoDocument()&&k.version.isEqual(un.min())?(n.removeEntry(R,k.readTime),y=y.insert(R,k)):!U.isValidDocument()||k.version.compareTo(U.version)>0||0===k.version.compareTo(U.version)&&U.hasPendingWrites?(n.addEntry(k),y=y.insert(R,k)):ut(Ky,"Ignoring outdated watch update for ",R,". Current version:",U.version," Watch version:",k.version)}),{qs:y,Qs:u}})}(h,y,n.documentUpdates).next(J=>{k=J.qs,U=J.Qs})),!o.isEqual(un.min())){const J=i.Ti.getLastRemoteSnapshotVersion(h).next(ue=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,o));R.push(J)}return Be.waitFor(R).next(()=>y.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,k,U)).next(()=>k)}).then(h=>(i.xs=u,h))}(i.localStore,n);n.targetChanges.forEach((u,h)=>{const y=i.Pu.get(h);y&&(et(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?y._u=!0:u.modifiedDocuments.size>0?et(y._u,14607):u.removedDocuments.size>0&&(et(y._u,42227),y._u=!1))}),yield Sc(i,o,n)}catch(o){yield Gn(o)}})).apply(this,arguments)}function lm(c,n,i){const o=kt(c);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const u=[];o.uu.forEach((h,y)=>{const R=y.view.Da(n);R.snapshot&&u.push(R.snapshot)}),function(y,R){const k=kt(y);k.onlineState=R;let U=!1;k.queries.forEach((J,ue)=>{for(const Le of ue.ya)Le.Da(R)&&(U=!0)}),U&&Ah(k)}(o.eventManager,n),u.length&&o.au.j_(u),o.onlineState=n,o.isPrimaryClient&&o.sharedClientState.setOnlineState(n)}}function us(c,n,i){return wu.apply(this,arguments)}function wu(){return(wu=(0,b.A)(function*(c,n,i){const o=kt(c);o.sharedClientState.updateQueryState(n,"rejected",i);const u=o.Pu.get(n),h=u&&u.key;if(h){let y=new zr(Zt.comparator);y=y.insert(h,hi.newNoDocument(h,un.min()));const R=X().add(h),k=new Fc(un.min(),new Map,new zr(Yt),y,R);yield Js(o,k),o.hu=o.hu.remove(h),o.Pu.delete(n),hd(o)}else yield yu(o.localStore,n,!1).then(()=>hc(o,n,i)).catch(Gn)})).apply(this,arguments)}function ld(c,n){return dc.apply(this,arguments)}function dc(){return(dc=(0,b.A)(function*(c,n){const i=kt(c),o=n.batch.batchId;try{const u=yield function Pg(c,n){const i=kt(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=n.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(R,k,U,J){const ue=U.batch,Le=ue.keys();let Dt=Be.resolve();return Le.forEach(Wt=>{Dt=Dt.next(()=>J.getEntry(k,Wt)).next(hn=>{const an=U.docVersions.get(Wt);et(null!==an,48541),hn.version.compareTo(an)<0&&(ue.applyToRemoteDocument(hn,U),hn.isValidDocument()&&(hn.setReadTime(U.commitVersion),J.addEntry(hn)))})}),Dt.next(()=>R.mutationQueue.removeMutationBatch(k,ue))}(i,o,n,h).next(()=>h.apply(o)).next(()=>i.mutationQueue.performConsistencyCheck(o)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(o,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(R){let k=X();for(let U=0;U<R.mutationResults.length;++U)R.mutationResults[U].transformResults.length>0&&(k=k.add(R.batch.mutations[U].key));return k}(n))).next(()=>i.localDocuments.getDocuments(o,u))})}(i.localStore,n);hm(i,o,null),Iu(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield Sc(i,u)}catch(u){yield Gn(u)}})).apply(this,arguments)}function Rh(c,n,i){return dd.apply(this,arguments)}function dd(){return(dd=(0,b.A)(function*(c,n,i){const o=kt(c);try{const u=yield function(y,R){const k=kt(y);return k.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let J;return k.mutationQueue.lookupMutationBatch(U,R).next(ue=>(et(null!==ue,37113),J=ue.keys(),k.mutationQueue.removeMutationBatch(U,ue))).next(()=>k.mutationQueue.performConsistencyCheck(U)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(U,J,R)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,J)).next(()=>k.localDocuments.getDocuments(U,J))})}(o.localStore,n);hm(o,n,i),Iu(o,n),o.sharedClientState.updateMutationState(n,"rejected",i),yield Sc(o,u)}catch(u){yield Gn(u)}})).apply(this,arguments)}function Iu(c,n){(c.Eu.get(n)||[]).forEach(i=>{i.resolve()}),c.Eu.delete(n)}function hm(c,n,i){const o=kt(c);let u=o.Iu[o.currentUser.toKey()];if(u){const h=u.get(n);h&&(i?h.reject(i):h.resolve(),u=u.remove(n)),o.Iu[o.currentUser.toKey()]=u}}function hc(c,n,i=null){c.sharedClientState.removeLocalQueryTarget(n);for(const o of c.cu.get(n))c.uu.delete(o),i&&c.au.Vu(o,i);c.cu.delete(n),c.isPrimaryClient&&c.Tu.Hr(n).forEach(o=>{c.Tu.containsKey(o)||I_(c,o)})}function I_(c,n){c.lu.delete(n.path.canonicalString());const i=c.hu.get(n);null!==i&&(cl(c.remoteStore,i),c.hu=c.hu.remove(n),c.Pu.delete(i),hd(c))}function hp(c,n,i){for(const o of i)o instanceof ap?(c.Tu.addReference(o.key,n),Ph(c,o)):o instanceof im?(ut(Cc,"Document no longer in limbo: "+o.key),c.Tu.removeReference(o.key,n),c.Tu.containsKey(o.key)||I_(c,o.key)):gt(19791,{mu:o})}function Ph(c,n){const i=n.key,o=i.path.canonicalString();c.hu.get(i)||c.lu.has(o)||(ut(Cc,"New document in limbo: "+i),c.lu.add(o),hd(c))}function hd(c){for(;c.lu.size>0&&c.hu.size<c.maxConcurrentLimboResolutions;){const n=c.lu.values().next().value;c.lu.delete(n);const i=new Zt(ft.fromString(n)),o=c.du.next();c.Pu.set(o,new cd(i)),c.hu=c.hu.insert(i,o),ep(c.remoteStore,new Ja(Ts(Is(i.path)),o,"TargetPurposeLimboResolution",tt.le))}}function Sc(c,n,i){return fp.apply(this,arguments)}function fp(){return fp=(0,b.A)(function*(c,n,i){const o=kt(c),u=[],h=[],y=[];var R;o.uu.isEmpty()||(o.uu.forEach((R,k)=>{y.push(o.Ru(k,n,i).then(U=>{var J;if((U||i)&&o.isPrimaryClient){const ue=U?!U.fromCache:null===(J=i?.targetChanges.get(k.targetId))||void 0===J?void 0:J.current;o.sharedClientState.updateQueryState(k.targetId,ue?"current":"not-current")}if(U){u.push(U);const ue=tl.Rs(k.targetId,U);h.push(ue)}}))}),yield Promise.all(y),o.au.j_(u),yield(R=(0,b.A)(function*(U,J){const ue=kt(U);try{yield ue.persistence.runTransaction("notifyLocalViewChanges","readwrite",Le=>Be.forEach(J,Dt=>Be.forEach(Dt.ds,Wt=>ue.persistence.referenceDelegate.addReference(Le,Dt.targetId,Wt)).next(()=>Be.forEach(Dt.As,Wt=>ue.persistence.referenceDelegate.removeReference(Le,Dt.targetId,Wt)))))}catch(Le){if(!wr(Le))throw Le;ut(Ky,"Failed to update sequence numbers: "+Le)}for(const Le of J){const Dt=Le.targetId;if(!Le.fromCache){const Wt=ue.xs.get(Dt),an=Wt.withLastLimboFreeSnapshotVersion(Wt.snapshotVersion);ue.xs=ue.xs.insert(Dt,an)}}}),function k(U,J){return R.apply(this,arguments)})(o.localStore,h))}),fp.apply(this,arguments)}function Mh(c,n){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,b.A)(function*(c,n){const i=kt(c);if(!i.currentUser.isEqual(n)){ut(Cc,"User change. New user:",n.toKey());const o=yield gs(i.localStore,n);i.currentUser=n,(h=i).Eu.forEach(R=>{R.forEach(k=>{k.reject(new te(Qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Eu.clear(),i.sharedClientState.handleUserChange(n,o.removedBatchIds,o.addedBatchIds),yield Sc(i,o.ks)}var h})).apply(this,arguments)}function xE(c,n){const i=kt(c),o=i.Pu.get(n);if(o&&o._u)return X().add(o.key);{let u=X();const h=i.cu.get(n);if(!h)return u;for(const y of h){const R=i.uu.get(y);u=u.unionWith(R.view.Ya)}return u}}function hl(c){const n=kt(c);return n.remoteStore.remoteSyncer.applyRemoteEvent=Js.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=xE.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=us.bind(null,n),n.au.j_=Dh.bind(null,n.eventManager),n.au.Vu=em.bind(null,n.eventManager),n}let gd=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var o=this;return(0,b.A)(function*(){o.serializer=al(i.databaseInfo.databaseId),o.sharedClientState=o.pu(i),o.persistence=o.yu(i),yield o.persistence.start(),o.localStore=o.wu(i),o.gcScheduler=o.Su(i,o.localStore),o.indexBackfillerScheduler=o.bu(i,o.localStore)})()}Su(i,o){return null}bu(i,o){return null}wu(i){return function qy(c,n,i,o){return new Hf(c,n,i,o)}(this.persistence,new Cg,i.initialUser,this.serializer)}yu(i){return new Ju(mu.fi,this.serializer)}pu(i){return new n_}terminate(){var i=this;return(0,b.A)(function*(){var o,u;null===(o=i.gcScheduler)||void 0===o||o.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class mp extends gd{constructor(n){super(),this.cacheSizeBytes=n}Su(n,i){return et(this.persistence.referenceDelegate instanceof Fo,46915),new Fs(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}yu(n){const i=void 0!==this.cacheSizeBytes?Ys.withCacheSize(this.cacheSizeBytes):Ys.DEFAULT;return new Ju(o=>Fo.fi(o,i),this.serializer)}}let md=(()=>{class c{initialize(i,o){var u=this;return(0,b.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(o),u.remoteStore=u.createRemoteStore(o),u.eventManager=u.createEventManager(o),u.syncEngine=u.createSyncEngine(o,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=h=>lm(u.syncEngine,h,1),u.remoteStore.remoteSyncer.handleCredentialChange=Mh.bind(null,u.syncEngine),yield function Zg(c,n){return g_.apply(this,arguments)}(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Jg}createDatastore(i){const o=al(i.databaseInfo.databaseId),u=new SE(i.databaseInfo);return new va(i.authCredentials,i.appCheckCredentials,u,o)}createRemoteStore(i){return u=this.localStore,h=this.datastore,y=i.asyncQueue,R=o=>lm(this.syncEngine,o,0),k=Qf.C()?new Qf:new vh,new c_(u,h,y,R,k);var u,h,y,R,k}createSyncEngine(i,o){return function(h,y,R,k,U,J,ue){const Le=new y_(h,y,R,k,U,J);return ue&&(Le.Au=!0),Le}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,o)}terminate(){var i=this;return(0,b.A)(function*(){var o,u,h;yield(h=(0,b.A)(function*(R){const k=kt(R);ut(Qc,"RemoteStore shutting down."),k.Ta.add(5),yield ed(k),k.Ea.shutdown(),k.da.set("Unknown")}),function y(R){return h.apply(this,arguments)})(i.remoteStore),null===(o=i.datastore)||void 0===o||o.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return c.provider={build:()=>new c},c})();class Zc{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.vu(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.vu(this.observer.error,n):Un("Uncaught Error in snapshot listener:",n.toString()))}Cu(){this.muted=!0}vu(n,i){setTimeout(()=>{this.muted||n(i)},0)}}const Yc="FirestoreClient";class gT{constructor(n,i,o,u,h){var y=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=o,this.databaseInfo=u,this.user=st.UNAUTHENTICATED,this.clientId=zn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(o,function(){var R=(0,b.A)(function*(k){ut(Yc,"Received user=",k.uid),yield y.authCredentialListener(k),y.user=k});return function(k){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(o,R=>(ut(Yc,"Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new fe;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,b.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(o){const u=vu(o,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function vp(c,n){return _m.apply(this,arguments)}function _m(){return _m=(0,b.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress(),ut(Yc,"Initializing OfflineComponentProvider");const i=c.configuration;yield n.initialize(i);let o=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,b.A)(function*(h){o.isEqual(h)||(yield gs(n.localStore,h),o=h)});return function(h){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=n}),_m.apply(this,arguments)}function vm(c,n){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,b.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress();const i=yield function Em(c){return Ep.apply(this,arguments)}(c);ut(Yc,"Initializing OnlineComponentProvider"),yield n.initialize(i,c.configuration),c.setCredentialChangeListener(o=>p_(n.remoteStore,o)),c.setAppCheckTokenChangeListener((o,u)=>p_(n.remoteStore,u)),c._onlineComponents=n})).apply(this,arguments)}function Ep(){return(Ep=(0,b.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){ut(Yc,"Using user provided OfflineComponentProvider");try{yield vp(c,c._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===Qe.FAILED_PRECONDITION||u.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;kn("Error using user provided cache. Falling back to memory cache: "+n),yield vp(c,new gd)}}else ut(Yc,"Using default OfflineComponentProvider"),yield vp(c,new mp(void 0));var u;return c._offlineComponents})).apply(this,arguments)}function Fh(c){return wm.apply(this,arguments)}function wm(){return(wm=(0,b.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(ut(Yc,"Using user provided OnlineComponentProvider"),yield vm(c,c._uninitializedComponentsProvider._online)):(ut(Yc,"Using default OnlineComponentProvider"),yield vm(c,new md))),c._onlineComponents})).apply(this,arguments)}function Lh(c){return yd.apply(this,arguments)}function yd(){return(yd=(0,b.A)(function*(c){const n=yield Fh(c),i=n.eventManager;return i.onListen=wa.bind(null,n.syncEngine),i.onUnlisten=v_.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=cp.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=cm.bind(null,n.syncEngine),i})).apply(this,arguments)}function zE(c){const n={};return void 0!==c.timeoutSeconds&&(n.timeoutSeconds=c.timeoutSeconds),n}const WE=new Map;function x_(c,n,i){if(!i)throw new te(Qe.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${n}.`)}function O_(c){if(!Zt.isDocumentKey(c))throw new te(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function jh(c){if(Zt.isDocumentKey(c))throw new te(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function _d(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const n=(o=c).constructor?o.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var o;return"function"==typeof c?"a function":gt(12329,{type:typeof c})}function Zr(c,n){if("_delegate"in c&&(c=c._delegate),!(c instanceof n)){if(n.name===c.constructor.name)throw new te(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_d(c);throw new te(Qe.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return c}const KE="firestore.googleapis.com";class F_{constructor(n){var i,o;if(void 0===n.host){if(void 0!==n.ssl)throw new te(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KE,this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.isUsingEmulator=void 0!==n.emulatorOptions,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new te(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}(function Bh(c,n,i,o){if(!0===n&&!0===o)throw new te(Qe.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)})("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=zE(null!==(o=n.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new te(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new te(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new te(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class vd{constructor(n,i,o,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new te(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(n),this._emulatorOptions=n.emulatorOptions||{},void 0!==n.credentials&&(this._authCredentials=function(o){if(!o)return new ye;switch(o.type){case"firstParty":return new vt(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new te(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,b.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const o=WE.get(i);o&&(ut("ComponentProvider","Removing Datastore"),WE.delete(i),o.terminate())}(this),Promise.resolve()}}class Ro{constructor(n,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=n}withConverter(n){return new Ro(this.firestore,n,this._query)}}class ms{constructor(n,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fc(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new ms(this.firestore,n,this._key)}}class fc extends Ro{constructor(n,i,o){super(n,i,Is(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new ms(this.firestore,null,new Zt(n))}withConverter(n){return new fc(this.firestore,n,this._path)}}function qE(c,n,...i){if(c=(0,Pe.Ku)(c),x_("collection","path",n),c instanceof vd){const o=ft.fromString(n,...i);return jh(o),new fc(c,null,o)}{if(!(c instanceof ms||c instanceof fc))throw new te(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=c._path.child(ft.fromString(n,...i));return jh(o),new fc(c.firestore,null,o)}}function L_(c,n,...i){if(c=(0,Pe.Ku)(c),1===arguments.length&&(n=zn.newId()),x_("doc","path",n),c instanceof vd){const o=ft.fromString(n,...i);return O_(o),new ms(c,null,new Zt(o))}{if(!(c instanceof ms||c instanceof fc))throw new te(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=c._path.child(ft.fromString(n,...i));return O_(o),new ms(c.firestore,c instanceof fc?c.converter:null,new Zt(o))}}const V_="AsyncQueue";class U_{constructor(n=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Og(this,"async_queue_retry"),this.ec=()=>{const o=wh();o&&ut(V_,"Visibility state changed to "+o.visibilityState),this.C_.p_()},this.tc=n;const i=wh();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.nc(),this.rc(n)}enterRestrictedMode(n){if(!this.ju){this.ju=!0,this.Zu=n||!1;const i=wh();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(n){if(this.nc(),this.ju)return new Promise(()=>{});const i=new fe;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.zu.push(n),this.sc()))}sc(){var n=this;return(0,b.A)(function*(){if(0!==n.zu.length){try{yield n.zu[0](),n.zu.shift(),n.C_.reset()}catch(i){if(!wr(i))throw i;ut(V_,"Operation failed with retryable error: "+i)}n.zu.length>0&&n.C_.f_(()=>n.sc())}})()}rc(n){const i=this.tc.then(()=>(this.Yu=!0,n().catch(o=>{throw this.Ju=o,this.Yu=!1,Un("INTERNAL UNHANDLED ERROR: ",B_(o)),o}).then(o=>(this.Yu=!1,o))));return this.tc=i,i}enqueueAfterDelay(n,i,o){this.nc(),this.Xu.indexOf(n)>-1&&(i=0);const u=Yg.createAndSchedule(this,n,i,o,h=>this.oc(h));return this.Hu.push(u),u}nc(){this.Ju&&gt(47125,{_c:B_(this.Ju)})}verifyOperationInProgress(){}ac(){var n=this;return(0,b.A)(function*(){let i;do{i=n.tc,yield i}while(i!==n.tc)})()}uc(n){for(const i of this.Hu)if(i.timerId===n)return!0;return!1}cc(n){return this.ac().then(()=>{this.Hu.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.ac()})}lc(n){this.Xu.push(n)}oc(n){const i=this.Hu.indexOf(n);this.Hu.splice(i,1)}}function B_(c){let n=c.message||"";return c.stack&&(n=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),n}function Cm(c){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const h of["next","error","complete"])if(h in u&&"function"==typeof u[h])return!0;return!1}(c)}class ys extends vd{constructor(n,i,o,u){super(n,i,o,u),this.type="firestore",this._queue=new U_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var n=this;return(0,b.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new U_(i),n._firestoreClient=void 0,yield i}})()}}function Sm(c,n){const i="object"==typeof c?c:(0,O.Sx)(),o="string"==typeof c?c:n||we,u=(0,O.j6)(i,"firestore").getImmediate({identifier:o});if(!u._initialized){const h=(0,Pe.yU)("firestore");h&&function Dm(c,n,i,o={}){var u;c=Zr(c,vd);const h=(0,Pe.zJ)(n),y=c._getSettings(),R=Object.assign(Object.assign({},y),{emulatorOptions:c._getEmulatorOptions()}),k=`${n}:${i}`;h&&((0,Pe.gE)(`https://${k}`),(0,Pe.P1)("Firestore",!0)),y.host!==KE&&y.host!==k&&kn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const U=Object.assign(Object.assign({},y),{host:k,ssl:h,emulatorOptions:o});if(!(0,Pe.bD)(U,R)&&(c._setSettings(U),o.mockUserToken)){let J,ue;if("string"==typeof o.mockUserToken)J=o.mockUserToken,ue=st.MOCK_USER;else{J=(0,Pe.Fy)(o.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const Le=o.mockUserToken.sub||o.mockUserToken.user_id;if(!Le)throw new te(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ue=new st(Le)}c._authCredentials=new oe(new pe(J,ue))}}(u,...h)}return u}function js(c){if(c._terminated)throw new te(Qe.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||function $_(c){var n,i,o;const u=c._freezeSettings(),h=(k=(null===(n=c._app)||void 0===n?void 0:n.options.appId)||"",new K(c._databaseId,k,c._persistenceKey,(J=u).host,J.ssl,J.experimentalForceLongPolling,J.experimentalAutoDetectLongPolling,zE(J.experimentalLongPollingOptions),J.useFetchStreams,J.isUsingEmulator));var k,J;c._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(o=u.localCache)||void 0===o)&&o._onlineComponentProvider&&(c._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),c._firestoreClient=new gT(c._authCredentials,c._appCheckCredentials,c._queue,h,c._componentsProvider&&function(R){const k=R?._online.build();return{_offline:R?._offline.build(k),_online:k}}(c._componentsProvider))}(c),c._firestoreClient}class ka{constructor(n){this._byteString=n}static fromBase64String(n){try{return new ka(Ui.fromBase64String(n))}catch(i){throw new te(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new ka(Ui.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class fl{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new te(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class wd{constructor(n){this._methodName=n}}class Mm{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new te(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new te(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Yt(this._lat,n._lat)||Yt(this._long,n._long)}}class Ip{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(o,u){if(o.length!==u.length)return!1;for(let h=0;h<o.length;++h)if(o[h]!==u[h])return!1;return!0}(this._values,n._values)}}const Jc=/^__.*__$/;class Id{constructor(n,i,o){this.data=n,this.fieldMask=i,this.fieldTransforms=o}toMutation(n,i){return null!==this.fieldMask?new Oo(n,this.data,this.fieldMask,i,this.fieldTransforms):new ki(n,this.data,i,this.fieldTransforms)}}class G_{constructor(n,i,o){this.data=n,this.fieldMask=i,this.fieldTransforms=o}toMutation(n,i){return new Oo(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function K_(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{hc:c})}}class Tp{constructor(n,i,o,u,h,y){this.settings=n,this.databaseId=i,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===h&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=y||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(n){return new Tp(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(n){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:o,Ec:!1});return u.dc(n),u}Ac(n){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:o,Ec:!1});return u.Pc(),u}Rc(n){return this.Tc({path:void 0,Ec:!0})}Vc(n){return Vm(n,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}Pc(){if(this.path)for(let n=0;n<this.path.length;n++)this.dc(this.path.get(n))}dc(n){if(0===n.length)throw this.Vc("Document fields must not be empty");if(K_(this.hc)&&Jc.test(n))throw this.Vc('Document fields cannot begin and end with "__"')}}class JE{constructor(n,i,o){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=o||al(n)}gc(n,i,o,u=!1){return new Tp({hc:n,methodName:i,fc:o,path:Qn.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pl(c){const n=c._freezeSettings(),i=al(c._databaseId);return new JE(c._databaseId,!!n.ignoreUndefinedProperties,i)}function bp(c,n,i,o,u,h={}){const y=c.gc(h.merge||h.mergeFields?2:0,n,i,u);Q_("Data must be an object, but it was:",y,o);const R=Fm(o,y);let k,U;if(h.merge)k=new Ps(y.fieldMask),U=y.fieldTransforms;else if(h.mergeFields){const J=[];for(const ue of h.mergeFields){const Le=Dp(n,ue,i);if(!y.contains(Le))throw new te(Qe.INVALID_ARGUMENT,`Field '${Le}' is specified in your field mask but missing from your input data.`);tw(J,Le)||J.push(Le)}k=new Ps(J),U=y.fieldTransforms.filter(ue=>k.covers(ue.field))}else k=null,U=y.fieldTransforms;return new Id(new ns(R),k,U)}class Td extends wd{_toFieldTransform(n){if(2!==n.hc)throw n.Vc(1===n.hc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Td}}function bu(c,n){if(ew(c=(0,Pe.Ku)(c)))return Q_("Unsupported field value:",n,c),Fm(c,n);if(c instanceof wd)return function(o,u){if(!K_(u.hc))throw u.Vc(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${o._methodName}() is not currently supported inside arrays`);const h=o._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(c,n),null;if(void 0===c&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),c instanceof Array){if(n.settings.Ec&&4!==n.hc)throw n.Vc("Nested arrays are not supported");return function(o,u){const h=[];let y=0;for(const R of o){let k=bu(R,u.Rc(y));null==k&&(k={nullValue:"NULL_VALUE"}),h.push(k),y++}return{arrayValue:{values:h}}}(c,n)}return function(o,u){if(null===(o=(0,Pe.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return $n(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const h=dr.fromDate(o);return{timestampValue:zu(u.serializer,h)}}if(o instanceof dr){const h=new dr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:zu(u.serializer,h)}}if(o instanceof Mm)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ka)return{bytesValue:Ol(u.serializer,o._byteString)};if(o instanceof ms){const h=u.databaseId,y=o.firestore._databaseId;if(!y.isEqual(h))throw u.Vc(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Wu(o.firestore._databaseId||u.databaseId,o._key.path)}}if(o instanceof Ip)return y=o,R=u,{mapValue:{fields:{[ot]:{stringValue:bn},[gn]:{arrayValue:{values:y.toArray().map(U=>{if("number"!=typeof U)throw R.Vc("VectorValues must only contain numeric values.");return Ke(R.serializer,U)})}}}}};var y,R;throw u.Vc(`Unsupported field value: ${_d(o)}`)}(c,n)}function Fm(c,n){const i={};return wo(c)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):fs(c,(o,u)=>{const h=bu(u,n.Ic(o));null!=h&&(i[o]=h)}),{mapValue:{fields:i}}}function ew(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof dr||c instanceof Mm||c instanceof ka||c instanceof ms||c instanceof wd||c instanceof Ip)}function Q_(c,n,i){if(!ew(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=_d(i);throw n.Vc("an object"===o?c+" a custom object":c+" "+o)}var u}function Dp(c,n,i){if((n=(0,Pe.Ku)(n))instanceof fl)return n._internalPath;if("string"==typeof n)return Dd(c,n);throw Vm("Field path arguments must be of type string or ",c,!1,void 0,i)}const Lm=new RegExp("[~\\*/\\[\\]]");function Dd(c,n,i){if(n.search(Lm)>=0)throw Vm(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new fl(...n.split("."))._internalPath}catch{throw Vm(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function Vm(c,n,i,o,u){const h=o&&!o.isEmpty(),y=void 0!==u;let R=`Function ${n}() called with invalid data`;i&&(R+=" (via `toFirestore()`)"),R+=". ";let k="";return(h||y)&&(k+=" (found",h&&(k+=` in field ${o}`),y&&(k+=` in document ${u}`),k+=")"),new te(Qe.INVALID_ARGUMENT,R+c+k)}function tw(c,n){return c.some(i=>i.isEqual(n))}class Ad{constructor(n,i,o,u,h){this._firestore=n,this._userDataWriter=i,this._key=o,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ms(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new nw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class nw extends Ad{data(){return super.data()}}function Ap(c,n){return"string"==typeof n?Dd(c,n):n instanceof fl?n._internalPath:n._delegate._internalPath}function X_(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new te(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class zh extends Um{}function Z_(c,n,...i){let o=[];n instanceof Um&&o.push(n),o=o.concat(i),function(h){const y=h.filter(k=>k instanceof Sd).length,R=h.filter(k=>k instanceof Cd).length;if(y>1||y>0&&R>0)throw new te(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)c=u._apply(c);return c}class Cd extends zh{constructor(n,i,o){super(),this._field=n,this._op=i,this._value=o,this.type="where"}static _create(n,i,o){return new Cd(n,i,o)}_apply(n){const i=this._parse(n);return cw(n._query,i),new Ro(n.firestore,n.converter,ra(n._query,i))}_parse(n){const i=pl(n.firestore);return function(h,y,R,k,U,J,ue){let Le;if(U.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new te(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){aw(ue,J);const Wt=[];for(const hn of ue)Wt.push(jm(k,h,hn));Le={arrayValue:{values:Wt}}}else Le=jm(k,h,ue)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||aw(ue,J),Le=function Om(c,n,i,o=!1){return bu(i,c.gc(o?4:3,n))}(R,"where",ue,"in"===J||"not-in"===J);return Hr.create(U,J,Le)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}function rw(c,n,i){const o=n,u=Ap("where",c);return Cd._create(u,o,i)}class Sd extends Um{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Sd(n,i)}_parse(n){const i=this._queryConstraints.map(o=>o._parse(n)).filter(o=>o.getFilters().length>0);return 1===i.length?i[0]:Lr.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,h){let y=u;const R=h.getFlattenedFilters();for(const k of R)cw(y,k),y=ra(y,k)}(n._query,i),new Ro(n.firestore,n.converter,ra(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function jm(c,n,i){if("string"==typeof(i=(0,Pe.Ku)(i))){if(""===i)throw new te(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ca(n)&&-1!==i.indexOf("/"))throw new te(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=n.path.child(ft.fromString(i));if(!Zt.isDocumentKey(o))throw new te(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return vi(c,new Zt(o))}if(i instanceof ms)return vi(c,i._key);throw new te(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(i)}.`)}function aw(c,n){if(!Array.isArray(c)||0===c.length)throw new te(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function cw(c,n){const i=function(u,h){for(const y of u)for(const R of y.getFlattenedFilters())if(h.indexOf(R.op)>=0)return R.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new te(Qe.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class tv{convertValue(n,i="none"){switch(Zn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return xr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(yr(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw gt(62114,{value:n})}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const o={};return fs(n,(u,h)=>{o[u]=this.convertValue(h,i)}),o}convertVectorValue(n){var i,o,u;const h=null===(u=null===(o=null===(i=n.fields)||void 0===i?void 0:i[gn].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.map(y=>xr(y.doubleValue));return new Ip(h)}convertGeoPoint(n){return new Mm(xr(n.latitude),xr(n.longitude))}convertArray(n,i){return(n.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(n,i){switch(i){case"previous":const o=_r(n);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(q(n));default:return null}}convertTimestamp(n){const i=Ms(n);return new dr(i.seconds,i.nanos)}convertDocumentKey(n,i){const o=ft.fromString(n);et(Ul(o),9688,{name:n});const u=new Me(o.get(1),o.get(3)),h=new Zt(o.popFirst(5));return u.isEqual(i)||Un(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class ml{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Md extends Ad{constructor(n,i,o,u,h,y){super(n,i,o,u,y),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const o=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class Nd extends Md{data(n={}){return super.data(n)}}class Wh{constructor(n,i,o,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new ml(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(o=>{n.call(i,new Nd(this._firestore,this._userDataWriter,o.key,o,new ml(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new te(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let y=0;return u._snapshot.docChanges.map(R=>({type:"added",doc:new Nd(u._firestore,u._userDataWriter,R.doc.key,R.doc,new ml(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:y++}))}{let y=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(R=>h||3!==R.type).map(R=>{const k=new Nd(u._firestore,u._userDataWriter,R.doc.key,R.doc,new ml(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter);let U=-1,J=-1;return 0!==R.type&&(U=y.indexOf(R.doc.key),y=y.delete(R.doc.key)),1!==R.type&&(y=y.add(R.doc),J=y.indexOf(R.doc.key)),{type:AT(R.type),doc:k,oldIndex:U,newIndex:J}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function AT(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:c})}}function CT(c){c=Zr(c,ms);const n=Zr(c.firestore,ys);return function M_(c,n,i={}){const o=new fe;return c.asyncQueue.enqueueAndForget((0,b.A)(function*(){return function(h,y,R,k,U){const J=new Zc({next:Le=>{J.Cu(),y.enqueueAndForget(()=>bh(h,ue));const Dt=Le.docs.has(R);!Dt&&Le.fromCache?U.reject(new te(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):Dt&&Le.fromCache&&k&&"server"===k.source?U.reject(new te(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(Le)},error:Le=>U.reject(Le)}),ue=new Ch(Is(R.path),J,{includeMetadataChanges:!0,La:!0});return id(h,ue)}(yield Lh(c),c.asyncQueue,n,i,o)})),o.promise}(js(n),c._key).then(i=>Du(n,c,i))}class yl extends tv{constructor(n){super(),this.firestore=n}convertBytes(n){return new ka(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new ms(this.firestore,null,i)}}function ST(c){c=Zr(c,Ro);const n=Zr(c.firestore,ys),i=js(n),o=new yl(n);return X_(c._query),function Im(c,n,i={}){const o=new fe;return c.asyncQueue.enqueueAndForget((0,b.A)(function*(){return function(h,y,R,k,U){const J=new Zc({next:Le=>{J.Cu(),y.enqueueAndForget(()=>bh(h,ue)),Le.fromCache&&"server"===k.source?U.reject(new te(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(Le)},error:Le=>U.reject(Le)}),ue=new Ch(R,J,{includeMetadataChanges:!0,La:!0});return id(h,ue)}(yield Lh(c),c.asyncQueue,n,i,o)})),o.promise}(i,c._query).then(u=>new Wh(n,o,c,u))}function Np(c,n,i){c=Zr(c,ms);const o=Zr(c.firestore,ys),u=function Mp(c,n,i){let o;return o=c?i&&(i.merge||i.mergeFields)?c.toFirestore(n,i):c.toFirestore(n):n,o}(c.converter,n,i);return kd(o,[bp(pl(o),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,wn.none())])}function rv(c,n,i,...o){c=Zr(c,ms);const u=Zr(c.firestore,ys),h=pl(u);let y;return y="string"==typeof(n=(0,Pe.Ku)(n))||n instanceof fl?function gl(c,n,i,o,u,h){const y=c.gc(1,n,i),R=[Dp(n,o,i)],k=[u];if(h.length%2!=0)throw new te(Qe.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Le=0;Le<h.length;Le+=2)R.push(Dp(n,h[Le])),k.push(h[Le+1]);const U=[],J=ns.empty();for(let Le=R.length-1;Le>=0;--Le)if(!tw(U,R[Le])){const Dt=R[Le];let Wt=k[Le];Wt=(0,Pe.Ku)(Wt);const hn=y.Ac(Dt);if(Wt instanceof Td)U.push(Dt);else{const an=bu(Wt,hn);null!=an&&(U.push(Dt),J.set(Dt,an))}}const ue=new Ps(U);return new G_(J,ue,y.fieldTransforms)}(h,"updateDoc",c._key,n,i,o):function pc(c,n,i,o){const u=c.gc(1,n,i);Q_("Data must be an object, but it was:",u,o);const h=[],y=ns.empty();fs(o,(k,U)=>{const J=Dd(n,k,i);U=(0,Pe.Ku)(U);const ue=u.Ac(J);if(U instanceof Td)h.push(J);else{const Le=bu(U,ue);null!=Le&&(h.push(J),y.set(J,Le))}});const R=new Ps(h);return new G_(y,R,u.fieldTransforms)}(h,"updateDoc",c._key,n),kd(u,[y.toMutation(c._key,wn.exists(!0))])}function iv(c){return kd(Zr(c.firestore,ys),[new Di(c._key,wn.none())])}function fw(c,...n){var i,o,u;c=(0,Pe.Ku)(c);let h={includeMetadataChanges:!1,source:"default"},y=0;"object"!=typeof n[y]||Cm(n[y])||(h=n[y],y++);const R={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(Cm(n[y])){const ue=n[y];n[y]=null===(i=ue.next)||void 0===i?void 0:i.bind(ue),n[y+1]=null===(o=ue.error)||void 0===o?void 0:o.bind(ue),n[y+2]=null===(u=ue.complete)||void 0===u?void 0:u.bind(ue)}let k,U,J;if(c instanceof ms)U=Zr(c.firestore,ys),J=Is(c._key.path),k={next:ue=>{n[y]&&n[y](Du(U,c,ue))},error:n[y+1],complete:n[y+2]};else{const ue=Zr(c,Ro);U=Zr(ue.firestore,ys),J=ue._query;const Le=new yl(U);k={next:Dt=>{n[y]&&n[y](new Wh(U,Le,ue,Dt))},error:n[y+1],complete:n[y+2]},X_(c._query)}return function(Le,Dt,Wt,hn){const an=new Zc(hn),Yn=new Ch(Dt,an,Wt);return Le.asyncQueue.enqueueAndForget((0,b.A)(function*(){return id(yield Lh(Le),Yn)})),()=>{an.Cu(),Le.asyncQueue.enqueueAndForget((0,b.A)(function*(){return bh(yield Lh(Le),Yn)}))}}(js(U),J,R,k)}function kd(c,n){return function(o,u){const h=new fe;return o.asyncQueue.enqueueAndForget((0,b.A)(function*(){return function E_(c,n,i){return w_.apply(this,arguments)}(yield function R_(c){return Fh(c).then(n=>n.syncEngine)}(o),u,h)})),h.promise}(js(c),n)}function Du(c,n,i){const o=i.docs.get(n._key),u=new yl(c);return new Md(c,u,n._key,o,new ml(i.hasPendingWrites,i.fromCache),n.converter)}!function(n,i=!0){Je=O.MF,(0,O.om)(new Y.uA("firestore",(o,{instanceIdentifier:u,options:h})=>{const y=o.getProvider("app").getImmediate(),R=new ys(new ge(o.getProvider("auth-internal")),new tn(y,o.getProvider("app-check-internal")),function(U,J){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new te(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Me(U.options.projectId,J)}(y,u),y);return h=Object.assign({useFetchStreams:i},h),R._setSettings(h),R},"PUBLIC").setMultipleInstances(!0)),(0,O.KO)(Rt,"4.7.16",n),(0,O.KO)(Rt,"4.7.16","esm2017")}()},3494:(Dn,We,H)=>{"use strict";H.d(We,{s:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},3604:(Dn,We,H)=>{"use strict";H.d(We,{q:()=>Y});const b={now:()=>(b.delegate||Date).now(),delegate:void 0};class O{constructor(Pe,rt=O.now){this.schedulerActionCtor=Pe,this.now=rt}schedule(Pe,rt=0,Ie){return new this.schedulerActionCtor(this,Pe).schedule(Ie,rt)}}O.now=b.now;class Y extends O{constructor(Pe,rt=O.now){super(Pe,rt),this.actions=[],this._active=!1}flush(Pe){const{actions:rt}=this;if(this._active)return void rt.push(Pe);let Ie;this._active=!0;do{if(Ie=Pe.execute(Pe.state,Pe.delay))break}while(Pe=rt.shift());if(this._active=!1,Ie){for(;Pe=rt.shift();)Pe.unsubscribe();throw Ie}}}},3669:(Dn,We,H)=>{"use strict";function b(O){return O}H.d(We,{D:()=>b})},4125:(Dn,We,H)=>{"use strict";H.d(We,{kR:()=>pt});var b=H(2967),Pe=(H(1360),H(7440),H(2214),H(467)),rt=H(7852),Ie=H(1362),De=H(6858),Ge=H(8041);const be=new Map,Te={activated:!1,tokenObservers:[]},dt={initialized:!1,enabled:!1};function Xe(Ee){return be.get(Ee)||Object.assign({},Te)}function Pt(){return dt}class Oe{constructor(je,Ye,$t,Kt,Tn){if(this.operation=je,this.retryPolicy=Ye,this.getWaitDuration=$t,this.lowerBound=Kt,this.upperBound=Tn,this.pending=null,this.nextErrorWaitInterval=Kt,Kt>Tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(je){var Ye=this;return(0,Pe.A)(function*(){Ye.stop();try{Ye.pending=new De.cY,Ye.pending.promise.catch($t=>{}),yield function st(Ee){return new Promise(je=>{setTimeout(je,Ee)})}(Ye.getNextRun(je)),Ye.pending.resolve(),yield Ye.pending.promise,Ye.pending=new De.cY,Ye.pending.promise.catch($t=>{}),yield Ye.operation(),Ye.pending.resolve(),yield Ye.pending.promise,Ye.process(!0).catch(()=>{})}catch($t){Ye.retryPolicy($t)?Ye.process(!1).catch(()=>{}):Ye.stop()}})()}getNextRun(je){if(je)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ye=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ye}}}const Tt=new De.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function bt(Ee){if(!Xe(Ee).activated)throw Tt.create("use-before-activation",{appName:Ee.name})}function kn(Ee,je){return qn.apply(this,arguments)}function qn(){return(qn=(0,Pe.A)(function*({url:Ee,body:je},Ye){const $t={"Content-Type":"application/json"},Kt=Ye.getImmediate({optional:!0});if(Kt){const Cr=yield Kt.getHeartbeatsHeader();Cr&&($t["X-Firebase-Client"]=Cr)}const Tn={method:"POST",body:JSON.stringify(je),headers:$t};let Fn,Cn;try{Fn=yield fetch(Ee,Tn)}catch(Cr){throw Tt.create("fetch-network-error",{originalErrorMessage:Cr?.message})}if(200!==Fn.status)throw Tt.create("fetch-status-error",{httpStatus:Fn.status});try{Cn=yield Fn.json()}catch(Cr){throw Tt.create("fetch-parse-error",{originalErrorMessage:Cr?.message})}const tr=Cn.ttl.match(/^([\d.]+)(s)$/);if(!tr||!tr[2]||isNaN(Number(tr[1])))throw Tt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Cn.ttl}`});const $r=1e3*Number(tr[1]),As=Date.now();return{token:Cn.token,expireTimeMillis:As+$r,issuedAtTimeMillis:As}})).apply(this,arguments)}function et(Ee,je){const{projectId:Ye,appId:$t,apiKey:Kt}=Ee.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ye}/apps/${$t}:exchangeDebugToken?key=${Kt}`,body:{debug_token:je}}}const Qe="firebase-app-check-store";let fe=null;function cn(){return(cn=(0,Pe.A)(function*(Ee,je){const $t=(yield function pe(){return fe||(fe=new Promise((Ee,je)=>{try{const Ye=indexedDB.open("firebase-app-check-database",1);Ye.onsuccess=$t=>{Ee($t.target.result)},Ye.onerror=$t=>{var Kt;je(Tt.create("storage-open",{originalErrorMessage:null===(Kt=$t.target.error)||void 0===Kt?void 0:Kt.message}))},Ye.onupgradeneeded=$t=>{0===$t.oldVersion&&$t.target.result.createObjectStore(Qe,{keyPath:"compositeKey"})}}catch(Ye){je(Tt.create("storage-open",{originalErrorMessage:Ye?.message}))}}),fe)}()).transaction(Qe,"readwrite"),Tn=$t.objectStore(Qe).put({compositeKey:Ee,value:je});return new Promise((Fn,Cn)=>{Tn.onsuccess=tr=>{Fn()},$t.onerror=tr=>{var $r;Cn(Tt.create("storage-set",{originalErrorMessage:null===($r=tr.target.error)||void 0===$r?void 0:$r.message}))}})})).apply(this,arguments)}const Xn=new Ge.Vy("@firebase/app-check");function Vn(Ee,je){return(0,De.zW)()?function oe(Ee,je){return function vt(Ee,je){return cn.apply(this,arguments)}(function qt(Ee){return`${Ee.options.appId}-${Ee.name}`}(Ee),je)}(Ee,je).catch(Ye=>{Xn.warn(`Failed to write token to IndexedDB. Error: ${Ye}`)}):Promise.resolve()}function Pr(){return Pt().enabled}function Rr(){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,Pe.A)(function*(){const Ee=Pt();if(Ee.enabled&&Ee.token)return Ee.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const dr={error:"UNKNOWN_ERROR"};function un(Ee){return De.K3.encodeString(JSON.stringify(Ee),!1)}function Ki(Ee){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,Pe.A)(function*(Ee,je=!1,Ye=!1){const $t=Ee.app;bt($t);const Kt=Xe($t);let Fn,Tn=Kt.token;if(Tn&&!Tr(Tn)&&(Kt.token=void 0,Tn=void 0),!Tn){const $r=yield Kt.cachedTokenPromise;$r&&(Tr($r)?Tn=$r:yield Vn($t,void 0))}if(!je&&Tn&&Tr(Tn))return{token:Tn.token};let tr,Cn=!1;if(Pr())try{Kt.exchangeTokenPromise||(Kt.exchangeTokenPromise=kn(et($t,yield Rr()),Ee.heartbeatServiceProvider).finally(()=>{Kt.exchangeTokenPromise=void 0}),Cn=!0);const $r=yield Kt.exchangeTokenPromise;return yield Vn($t,$r),Kt.token=$r,{token:$r.token}}catch($r){return"appCheck/throttled"===$r.code||"appCheck/initial-throttle"===$r.code?Xn.warn($r.message):Ye&&Xn.error($r),Ei($r)}try{Kt.exchangeTokenPromise||(Kt.exchangeTokenPromise=Kt.provider.getToken().finally(()=>{Kt.exchangeTokenPromise=void 0}),Cn=!0),Tn=yield Xe($t).exchangeTokenPromise}catch($r){"appCheck/throttled"===$r.code||"appCheck/initial-throttle"===$r.code?Xn.warn($r.message):Ye&&Xn.error($r),Fn=$r}return Tn?Fn?tr=Tr(Tn)?{token:Tn.token,internalError:Fn}:Ei(Fn):(tr={token:Tn.token},Kt.token=Tn,yield Vn($t,Tn)):tr=Ei(Fn),Cn&&function gi(Ee,je){const Ye=Xe(Ee).tokenObservers;for(const $t of Ye)try{"EXTERNAL"===$t.type&&null!=je.error?$t.error(je.error):$t.next(je)}catch{}}($t,tr),tr})).apply(this,arguments)}function Er(){return(Er=(0,Pe.A)(function*(Ee){const je=Ee.app;bt(je);const{provider:Ye}=Xe(je);if(Pr()){const $t=yield Rr(),{token:Kt}=yield kn(et(je,$t),Ee.heartbeatServiceProvider);return{token:Kt}}{const{token:$t}=yield Ye.getToken();return{token:$t}}})).apply(this,arguments)}function Zt(Ee,je){const Ye=Xe(Ee),$t=Ye.tokenObservers.filter(Kt=>Kt.next!==je);0===$t.length&&Ye.tokenRefresher&&Ye.tokenRefresher.isRunning()&&Ye.tokenRefresher.stop(),Ye.tokenObservers=$t}function ri(Ee){const{app:je}=Ee,Ye=Xe(je);let $t=Ye.tokenRefresher;$t||($t=function li(Ee){const{app:je}=Ee;return new Oe((0,Pe.A)(function*(){let $t;if($t=Xe(je).token?yield Ki(Ee,!0):yield Ki(Ee),$t.error)throw $t.error;if($t.internalError)throw $t.internalError}),()=>!0,()=>{const Ye=Xe(je);if(Ye.token){let $t=Ye.token.issuedAtTimeMillis+.5*(Ye.token.expireTimeMillis-Ye.token.issuedAtTimeMillis)+3e5;return $t=Math.min($t,Ye.token.expireTimeMillis-3e5),Math.max(0,$t-Date.now())}return 0},3e4,96e4)}(Ee),Ye.tokenRefresher=$t),!$t.isRunning()&&Ye.isTokenAutoRefreshEnabled&&$t.start()}function Tr(Ee){return Ee.expireTimeMillis-Date.now()>0}function Ei(Ee){return{token:un(dr),error:Ee}}class Ar{constructor(je,Ye){this.app=je,this.heartbeatServiceProvider=Ye}_delete(){const{tokenObservers:je}=Xe(this.app);for(const Ye of je)Zt(this.app,Ye.next);return Promise.resolve()}}const pr="app-check-internal";!function se(){(0,rt.om)(new Ie.uA("app-check",Ee=>function di(Ee,je){return new Ar(Ee,je)}(Ee.getProvider("app").getImmediate(),Ee.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ee,je,Ye)=>{Ee.getProvider(pr).initialize()})),(0,rt.om)(new Ie.uA(pr,Ee=>function ur(Ee){return{getToken:je=>Ki(Ee,je),getLimitedUseToken:()=>function ft(Ee){return Er.apply(this,arguments)}(Ee),addTokenListener:je=>function Qn(Ee,je,Ye,$t){const{app:Kt}=Ee,Tn=Xe(Kt);if(Tn.tokenObservers=[...Tn.tokenObservers,{next:Ye,error:$t,type:je}],Tn.token&&Tr(Tn.token)){const Cn=Tn.token;Promise.resolve().then(()=>{Ye({token:Cn.token}),ri(Ee)}).catch(()=>{})}Tn.cachedTokenPromise.then(()=>ri(Ee))}(Ee,"INTERNAL",je),removeTokenListener:je=>Zt(Ee.app,je)}}(Ee.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,rt.KO)("@firebase/app-check","0.10.0")}();class pt{constructor(){return(0,b.CA)("app-check")}}typeof window<"u"&&window},4360:(Dn,We,H)=>{"use strict";H.d(We,{_:()=>O});var b=H(7707);function O(T,Pe,rt,Ie,De){return new Y(T,Pe,rt,Ie,De)}class Y extends b.vU{constructor(Pe,rt,Ie,De,Ge,be){super(Pe),this.onFinalize=Ge,this.shouldUnsubscribe=be,this._next=rt?function(Te){try{rt(Te)}catch(dt){Pe.error(dt)}}:super._next,this._error=De?function(Te){try{De(Te)}catch(dt){Pe.error(dt)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(Te){Pe.error(Te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:rt}=this;super.unsubscribe(),!rt&&(null===(Pe=this.onFinalize)||void 0===Pe||Pe.call(this))}}}},4412:(Dn,We,H)=>{"use strict";H.d(We,{t:()=>O});var b=H(1413);class O extends b.B{constructor(T){super(),this._value=T}get value(){return this.getValue()}_subscribe(T){const Pe=super._subscribe(T);return!Pe.closed&&T.next(this._value),Pe}getValue(){const{hasError:T,thrownError:Pe,_value:rt}=this;if(T)throw Pe;return this._throwIfClosed(),rt}next(T){super.next(this._value=T)}}},4761:(Dn,We,H)=>{"use strict";H.d(We,{l:()=>O});const O=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4796:(Dn,We,H)=>{"use strict";H.d(We,{u:()=>T});var b=H(6335),O=H(5964),Y=H(1360);let T=(()=>{class Pe{auth;constructor(Ie){this.auth=Ie,console.log("%c<<< Start AUTH service >>>","background: #cff4fc; color: #055160; padding: 2px 5px;")}getAuthState(){return console.log("\u{1f441} Observando el estado de autenticaci\xf3n..."),(0,b.wh)(this.auth)}getCurrentUser(){return this.getAuthState().pipe((0,O.p)(Ie=>!!Ie))}login(Ie,De){return console.log("\u{1f510} Intentando iniciar sesi\xf3n con:",Ie),(0,b.x9)(this.auth,Ie,De)}register(Ie,De){return console.log("\u{1f4dd} Registrando nuevo usuario con:",Ie),(0,b.eJ)(this.auth,Ie,De)}logout(){return console.log("\u{1f6aa} Cerrando sesi\xf3n del usuario actual"),(0,b.CI)(this.auth)}resetPassword(Ie){return console.log("\u{1f4e7} Enviando enlace de recuperaci\xf3n a:",Ie),(0,b.J1)(this.auth,Ie)}static \u0275fac=function(De){return new(De||Pe)(Y.KVO(b.Nj))};static \u0275prov=Y.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})()},4843:(Dn,We,H)=>{"use strict";H.d(We,{_:()=>Y});var b=H(9350),O=H(7707);function Y(T,Pe){const rt="object"==typeof Pe;return new Promise((Ie,De)=>{const Ge=new O.Ms({next:be=>{Ie(be),Ge.unsubscribe()},error:De,complete:()=>{rt?Ie(Pe.defaultValue):De(new b.G)}});T.subscribe(Ge)})}},5055:(Dn,We,H)=>{"use strict";H.d(We,{l:()=>Y});var b=H(3494),O=H(8071);function Y(T){return(0,O.T)(T[b.s])}},5072:(Dn,We,H)=>{"use strict";H.d(We,{nX:()=>Cs,Pu:()=>Ts,Zp:()=>jn,nU:()=>Gn,c1:()=>qr,XR:()=>Nn,wF:()=>As,lW:()=>Ls,mo:()=>ss,Z:()=>$r,J2:()=>pa,J_:()=>Rn,bw:()=>ar,tD:()=>Qr,Ix:()=>M,D$:()=>ji,n3:()=>zr,OY:()=>gr,Sd:()=>Nr,bK:()=>co,gk:()=>j,Lg:()=>Xs,wO:()=>At,Us:()=>zi,we:()=>Io});var b=H(9361),O=H(6048),Y=H(1360),T=H(1985),Pe=H(8071),Ie=H(8455),De=H(7673),Ge=H(4412),be=H(3073),Te=H(3669),dt=H(6450),Xe=H(9326),ht=H(8496),Pt=H(4360),zt=H(5225);function jt(...m){const I=(0,Xe.lI)(m),w=(0,Xe.ms)(m),{args:C,keys:L}=(0,be.D)(m);if(0===C.length)return(0,Ie.H)([],I);const X=new T.c(function en(m,I,w=Te.D){return C=>{_t(I,()=>{const{length:L}=m,X=new Array(L);let ne=L,xe=L;for(let Ke=0;Ke<L;Ke++)_t(I,()=>{const Ot=(0,Ie.H)(m[Ke],I);let $n=!1;Ot.subscribe((0,Pt._)(C,br=>{X[Ke]=br,$n||($n=!0,xe--),xe||C.next(w(X.slice()))},()=>{--ne||C.complete()}))},C)},C)}}(C,I,L?ne=>(0,ht.e)(L,ne):Te.D));return w?X.pipe((0,dt.I)(w)):X}function _t(m,I,w){m?(0,zt.N)(w,m,I):I()}var It=H(9350),Rt=H(6365);function st(...m){return function Oe(){return(0,Rt.U)(1)}()((0,Ie.H)(m,(0,Xe.lI)(m)))}var Je=H(8750);function Tt(m){return new T.c(I=>{(0,Je.Tg)(m()).subscribe(I)})}var Qt=H(1203);function bt(m,I){const w=(0,Pe.T)(m)?m:()=>m,C=L=>L.error(w());return new T.c(I?L=>I.schedule(C,0,L):C)}var ut=H(983),Un=H(8359),kn=H(9974);function qn(){return(0,kn.N)((m,I)=>{let w=null;m._refCount++;const C=(0,Pt._)(I,void 0,void 0,void 0,()=>{if(!m||m._refCount<=0||0<--m._refCount)return void(w=null);const L=m._connection,X=w;w=null,L&&(!X||L===X)&&L.unsubscribe(),I.unsubscribe()});m.subscribe(C),C.closed||(w=m.connect())})}class gt extends T.c{constructor(I,w){super(),this.source=I,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,kn.S)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Un.yU;const w=this.getSubject();I.add(this.source.subscribe((0,Pt._)(w,void 0,()=>{this._teardown(),w.complete()},C=>{this._teardown(),w.error(C)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Un.yU.EMPTY)}return I}refCount(){return qn()(this)}}var In=H(1413),et=H(6354),sn=H(5558);function kt(m){return m<=0?()=>ut.w:(0,kn.N)((I,w)=>{let C=0;I.subscribe((0,Pt._)(w,L=>{++C<=m&&(w.next(L),m<=C&&w.complete())}))})}var te=H(5964),fe=H(1397);function pe(m){return(0,kn.N)((I,w)=>{let C=!1;I.subscribe((0,Pt._)(w,L=>{C=!0,w.next(L)},()=>{C||w.next(m),w.complete()}))})}function ye(m=oe){return(0,kn.N)((I,w)=>{let C=!1;I.subscribe((0,Pt._)(w,L=>{C=!0,w.next(L)},()=>C?w.complete():w.error(m())))})}function oe(){return new It.G}function ge(m,I){const w=arguments.length>=2;return C=>C.pipe(m?(0,te.p)((L,X)=>m(L,X,C)):Te.D,kt(1),w?pe(I):ye(()=>new It.G))}var Ze=H(274);function vt(m,I,w){const C=(0,Pe.T)(m)||I||w?{next:m,error:I,complete:w}:m;return C?(0,kn.N)((L,X)=>{var ne;null===(ne=C.subscribe)||void 0===ne||ne.call(C);let xe=!0;L.subscribe((0,Pt._)(X,Ke=>{var Ot;null===(Ot=C.next)||void 0===Ot||Ot.call(C,Ke),X.next(Ke)},()=>{var Ke;xe=!1,null===(Ke=C.complete)||void 0===Ke||Ke.call(C),X.complete()},Ke=>{var Ot;xe=!1,null===(Ot=C.error)||void 0===Ot||Ot.call(C,Ke),X.error(Ke)},()=>{var Ke,Ot;xe&&(null===(Ke=C.unsubscribe)||void 0===Ke||Ke.call(C)),null===(Ot=C.finalize)||void 0===Ot||Ot.call(C)}))}):Te.D}var cn=H(9437);function qt(m){return m<=0?()=>ut.w:(0,kn.N)((I,w)=>{let C=[];I.subscribe((0,Pt._)(w,L=>{C.push(L),m<C.length&&C.shift()},()=>{for(const L of C)w.next(L);w.complete()},void 0,()=>{C=null}))})}var zn=H(980),Yt=H(5343),er=H(345);const An="primary",Pr=Symbol("RouteTitle");class Rr{params;constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const w=this.params[I];return Array.isArray(w)?w[0]:w}return null}getAll(I){if(this.has(I)){const w=this.params[I];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Ci(m){return new Rr(m)}function pn(m,I,w){const C=w.path.split("/");if(C.length>m.length||"full"===w.pathMatch&&(I.hasChildren()||C.length<m.length))return null;const L={};for(let X=0;X<C.length;X++){const ne=C[X],xe=m[X];if(":"===ne[0])L[ne.substring(1)]=xe;else if(ne!==xe.path)return null}return{consumed:m.slice(0,C.length),posParams:L}}function un(m,I){const w=m?Ki(m):void 0,C=I?Ki(I):void 0;if(!w||!C||w.length!=C.length)return!1;let L;for(let X=0;X<w.length;X++)if(L=w[X],!Mr(m[L],I[L]))return!1;return!0}function Ki(m){return[...Object.keys(m),...Object.getOwnPropertySymbols(m)]}function Mr(m,I){if(Array.isArray(m)&&Array.isArray(I)){if(m.length!==I.length)return!1;const w=[...m].sort(),C=[...I].sort();return w.every((L,X)=>C[X]===L)}return m===I}function ft(m){return m.length>0?m[m.length-1]:null}function Er(m){return function rt(m){return!!m&&(m instanceof T.c||(0,Pe.T)(m.lift)&&(0,Pe.T)(m.subscribe))}(m)?m:(0,Y.jNT)(m)?(0,Ie.H)(Promise.resolve(m)):(0,De.of)(m)}const Qn={exact:function gi(m,I,w){if(!Sn(m.segments,I.segments)||!di(m.segments,I.segments,w)||m.numberOfChildren!==I.numberOfChildren)return!1;for(const C in I.children)if(!m.children[C]||!gi(m.children[C],I.children[C],w))return!1;return!0},subset:Ei},Zt={exact:function li(m,I){return un(m,I)},subset:function Tr(m,I){return Object.keys(I).length<=Object.keys(m).length&&Object.keys(I).every(w=>Mr(m[w],I[w]))},ignored:()=>!0};function ri(m,I,w){return Qn[w.paths](m.root,I.root,w.matrixParams)&&Zt[w.queryParams](m.queryParams,I.queryParams)&&!("exact"===w.fragment&&m.fragment!==I.fragment)}function Ei(m,I,w){return Ar(m,I,I.segments,w)}function Ar(m,I,w,C){if(m.segments.length>w.length){const L=m.segments.slice(0,w.length);return!(!Sn(L,w)||I.hasChildren()||!di(L,w,C))}if(m.segments.length===w.length){if(!Sn(m.segments,w)||!di(m.segments,w,C))return!1;for(const L in I.children)if(!m.children[L]||!Ei(m.children[L],I.children[L],C))return!1;return!0}{const L=w.slice(0,m.segments.length),X=w.slice(m.segments.length);return!!(Sn(m.segments,L)&&di(m.segments,L,C)&&m.children[An])&&Ar(m.children[An],I,X,C)}}function di(m,I,w){return I.every((C,L)=>Zt[w](m[L].parameters,C.parameters))}class ur{root;queryParams;fragment;_queryParamMap;constructor(I=new sr([],{}),w={},C=null){this.root=I,this.queryParams=w,this.fragment=C}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){return qi.serialize(this)}}class sr{segments;children;parent=null;constructor(I,w){this.segments=I,this.children=w,Object.values(w).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Be(this)}}class mi{path;parameters;_parameterMap;constructor(I,w){this.path=I,this.parameters=w}get parameterMap(){return this._parameterMap??=Ci(this.parameters),this._parameterMap}toString(){return Fi(this)}}function Sn(m,I){return m.length===I.length&&m.every((w,C)=>w.path===I[C].path)}let Nr=(()=>{class m{static \u0275fac=function(C){return new(C||m)};static \u0275prov=Y.jDH({token:m,factory:()=>new Gn,providedIn:"root"})}return m})();class Gn{parse(I){const w=new se(I);return new ur(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(I){const w=`/${Dr(I.root,!0)}`,C=function Vi(m){const I=Object.entries(m).map(([w,C])=>Array.isArray(C)?C.map(L=>`${ii(w)}=${ii(L)}`).join("&"):`${ii(w)}=${ii(C)}`).filter(w=>w);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${w}${C}${"string"==typeof I.fragment?`#${function Oi(m){return encodeURI(m)}(I.fragment)}`:""}`}}const qi=new Gn;function Be(m){return m.segments.map(I=>Fi(I)).join("/")}function Dr(m,I){if(!m.hasChildren())return Be(m);if(I){const w=m.children[An]?Dr(m.children[An],!1):"",C=[];return Object.entries(m.children).forEach(([L,X])=>{L!==An&&C.push(`${L}:${Dr(X,!1)}`)}),C.length>0?`${w}(${C.join("//")})`:w}{const w=function Ti(m,I){let w=[];return Object.entries(m.children).forEach(([C,L])=>{C===An&&(w=w.concat(I(L,C)))}),Object.entries(m.children).forEach(([C,L])=>{C!==An&&(w=w.concat(I(L,C)))}),w}(m,(C,L)=>L===An?[Dr(m.children[An],!1)]:[`${L}:${Dr(C,!1)}`]);return 1===Object.keys(m.children).length&&null!=m.children[An]?`${Be(m)}/${w[0]}`:`${Be(m)}/(${w.join("//")})`}}function Qi(m){return encodeURIComponent(m).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ii(m){return Qi(m).replace(/%3B/gi,";")}function _n(m){return Qi(m).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fr(m){return decodeURIComponent(m)}function wr(m){return fr(m.replace(/\+/g,"%20"))}function Fi(m){return`${_n(m.path)}${function Li(m){return Object.entries(m).map(([I,w])=>`;${_n(I)}=${_n(w)}`).join("")}(m.parameters)}`}const Ce=/^[^\/()?;#]+/;function _e(m){const I=m.match(Ce);return I?I[0]:""}const $e=/^[^\/()?;=#]+/,tt=/^[^=?&#]+/,Pn=/^[^&#]+/;class se{url;remaining;constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sr([],{}):new sr([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(I.length>0||Object.keys(w).length>0)&&(C[An]=new sr(I,w)),C}parseSegment(){const I=_e(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Y.wOt(4009,!1);return this.capture(I),new mi(fr(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const w=function Vt(m){const I=m.match($e);return I?I[0]:""}(this.remaining);if(!w)return;this.capture(w);let C="";if(this.consumeOptional("=")){const L=_e(this.remaining);L&&(C=L,this.capture(C))}I[fr(w)]=fr(C)}parseQueryParam(I){const w=function Jt(m){const I=m.match(tt);return I?I[0]:""}(this.remaining);if(!w)return;this.capture(w);let C="";if(this.consumeOptional("=")){const ne=function pr(m){const I=m.match(Pn);return I?I[0]:""}(this.remaining);ne&&(C=ne,this.capture(C))}const L=wr(w),X=wr(C);if(I.hasOwnProperty(L)){let ne=I[L];Array.isArray(ne)||(ne=[ne],I[L]=ne),ne.push(X)}else I[L]=X}parseParens(I){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=_e(this.remaining),L=this.remaining[C.length];if("/"!==L&&")"!==L&&";"!==L)throw new Y.wOt(4010,!1);let X;C.indexOf(":")>-1?(X=C.slice(0,C.indexOf(":")),this.capture(X),this.capture(":")):I&&(X=An);const ne=this.parseChildren();w[X]=1===Object.keys(ne).length?ne[An]:new sr([],ne),this.consumeOptional("//")}return w}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Y.wOt(4011,!1)}}function le(m){return m.segments.length>0?new sr([],{[An]:m}):m}function Re(m){const I={};for(const[C,L]of Object.entries(m.children)){const X=Re(L);if(C===An&&0===X.segments.length&&X.hasChildren())for(const[ne,xe]of Object.entries(X.children))I[ne]=xe;else(X.segments.length>0||X.hasChildren())&&(I[C]=X)}return function pt(m){if(1===m.numberOfChildren&&m.children[An]){const I=m.children[An];return new sr(m.segments.concat(I.segments),I.children)}return m}(new sr(m.segments,I))}function At(m){return m instanceof ur}function ve(m){let I;const L=le(function w(X){const ne={};for(const Ke of X.children){const Ot=w(Ke);ne[Ke.outlet]=Ot}const xe=new sr(X.url,ne);return X===m&&(I=xe),xe}(m.root));return I??L}function Ve(m,I,w,C){let L=m;for(;L.parent;)L=L.parent;if(0===I.length)return yt(L,L,L,w,C);const X=function Bn(m){if("string"==typeof m[0]&&1===m.length&&"/"===m[0])return new on(!0,0,m);let I=0,w=!1;const C=m.reduce((L,X,ne)=>{if("object"==typeof X&&null!=X){if(X.outlets){const xe={};return Object.entries(X.outlets).forEach(([Ke,Ot])=>{xe[Ke]="string"==typeof Ot?Ot.split("/"):Ot}),[...L,{outlets:xe}]}if(X.segmentPath)return[...L,X.segmentPath]}return"string"!=typeof X?[...L,X]:0===ne?(X.split("/").forEach((xe,Ke)=>{0==Ke&&"."===xe||(0==Ke&&""===xe?w=!0:".."===xe?I++:""!=xe&&L.push(xe))}),L):[...L,X]},[]);return new on(w,I,C)}(I);if(X.toRoot())return yt(L,L,new sr([],{}),w,C);const ne=function Kn(m,I,w){if(m.isAbsolute)return new dn(I,!0,0);if(!w)return new dn(I,!1,NaN);if(null===w.parent)return new dn(w,!0,0);const C=Mt(m.commands[0])?0:1;return function or(m,I,w){let C=m,L=I,X=w;for(;X>L;){if(X-=L,C=C.parent,!C)throw new Y.wOt(4005,!1);L=C.segments.length}return new dn(C,!1,L-X)}(w,w.segments.length-1+C,m.numberOfDoubleDots)}(X,L,m),xe=ne.processChildren?Ee(ne.segmentGroup,ne.index,X.commands):Si(ne.segmentGroup,ne.index,X.commands);return yt(L,ne.segmentGroup,xe,w,C)}function Mt(m){return"object"==typeof m&&null!=m&&!m.outlets&&!m.segmentPath}function wt(m){return"object"==typeof m&&null!=m&&m.outlets}function yt(m,I,w,C,L){let ne,X={};C&&Object.entries(C).forEach(([Ke,Ot])=>{X[Ke]=Array.isArray(Ot)?Ot.map($n=>`${$n}`):`${Ot}`}),ne=m===I?w:Ft(m,I,w);const xe=le(Re(ne));return new ur(xe,X,L)}function Ft(m,I,w){const C={};return Object.entries(m.children).forEach(([L,X])=>{C[L]=X===I?w:Ft(X,I,w)}),new sr(m.segments,C)}class on{isAbsolute;numberOfDoubleDots;commands;constructor(I,w,C){if(this.isAbsolute=I,this.numberOfDoubleDots=w,this.commands=C,I&&C.length>0&&Mt(C[0]))throw new Y.wOt(4003,!1);const L=C.find(wt);if(L&&L!==ft(C))throw new Y.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dn{segmentGroup;processChildren;index;constructor(I,w,C){this.segmentGroup=I,this.processChildren=w,this.index=C}}function Si(m,I,w){if(m??=new sr([],{}),0===m.segments.length&&m.hasChildren())return Ee(m,I,w);const C=function je(m,I,w){let C=0,L=I;const X={match:!1,pathIndex:0,commandIndex:0};for(;L<m.segments.length;){if(C>=w.length)return X;const ne=m.segments[L],xe=w[C];if(wt(xe))break;const Ke=`${xe}`,Ot=C<w.length-1?w[C+1]:null;if(L>0&&void 0===Ke)break;if(Ke&&Ot&&"object"==typeof Ot&&void 0===Ot.outlets){if(!Tn(Ke,Ot,ne))return X;C+=2}else{if(!Tn(Ke,{},ne))return X;C++}L++}return{match:!0,pathIndex:L,commandIndex:C}}(m,I,w),L=w.slice(C.commandIndex);if(C.match&&C.pathIndex<m.segments.length){const X=new sr(m.segments.slice(0,C.pathIndex),{});return X.children[An]=new sr(m.segments.slice(C.pathIndex),m.children),Ee(X,0,L)}return C.match&&0===L.length?new sr(m.segments,{}):C.match&&!m.hasChildren()?Ye(m,I,w):C.match?Ee(m,0,L):Ye(m,I,w)}function Ee(m,I,w){if(0===w.length)return new sr(m.segments,{});{const C=function wi(m){return wt(m[0])?m[0].outlets:{[An]:m}}(w),L={};if(Object.keys(C).some(X=>X!==An)&&m.children[An]&&1===m.numberOfChildren&&0===m.children[An].segments.length){const X=Ee(m.children[An],I,w);return new sr(m.segments,X.children)}return Object.entries(C).forEach(([X,ne])=>{"string"==typeof ne&&(ne=[ne]),null!==ne&&(L[X]=Si(m.children[X],I,ne))}),Object.entries(m.children).forEach(([X,ne])=>{void 0===C[X]&&(L[X]=ne)}),new sr(m.segments,L)}}function Ye(m,I,w){const C=m.segments.slice(0,I);let L=0;for(;L<w.length;){const X=w[L];if(wt(X)){const Ke=$t(X.outlets);return new sr(C,Ke)}if(0===L&&Mt(w[0])){C.push(new mi(m.segments[I].path,Kt(w[0]))),L++;continue}const ne=wt(X)?X.outlets[An]:`${X}`,xe=L<w.length-1?w[L+1]:null;ne&&xe&&Mt(xe)?(C.push(new mi(ne,Kt(xe))),L+=2):(C.push(new mi(ne,{})),L++)}return new sr(C,{})}function $t(m){const I={};return Object.entries(m).forEach(([w,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(I[w]=Ye(new sr([],{}),0,C))}),I}function Kt(m){const I={};return Object.entries(m).forEach(([w,C])=>I[w]=`${C}`),I}function Tn(m,I,w){return m==w.path&&un(I,w.parameters)}const Fn="imperative";var Cn=function(m){return m[m.NavigationStart=0]="NavigationStart",m[m.NavigationEnd=1]="NavigationEnd",m[m.NavigationCancel=2]="NavigationCancel",m[m.NavigationError=3]="NavigationError",m[m.RoutesRecognized=4]="RoutesRecognized",m[m.ResolveStart=5]="ResolveStart",m[m.ResolveEnd=6]="ResolveEnd",m[m.GuardsCheckStart=7]="GuardsCheckStart",m[m.GuardsCheckEnd=8]="GuardsCheckEnd",m[m.RouteConfigLoadStart=9]="RouteConfigLoadStart",m[m.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",m[m.ChildActivationStart=11]="ChildActivationStart",m[m.ChildActivationEnd=12]="ChildActivationEnd",m[m.ActivationStart=13]="ActivationStart",m[m.ActivationEnd=14]="ActivationEnd",m[m.Scroll=15]="Scroll",m[m.NavigationSkipped=16]="NavigationSkipped",m}(Cn||{});class tr{id;url;constructor(I,w){this.id=I,this.url=w}}class $r extends tr{type=Cn.NavigationStart;navigationTrigger;restoredState;constructor(I,w,C="imperative",L=null){super(I,w),this.navigationTrigger=C,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class As extends tr{urlAfterRedirects;type=Cn.NavigationEnd;constructor(I,w,C){super(I,w),this.urlAfterRedirects=C}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Cr=function(m){return m[m.Redirect=0]="Redirect",m[m.SupersededByNewNavigation=1]="SupersededByNewNavigation",m[m.NoDataFromResolver=2]="NoDataFromResolver",m[m.GuardRejected=3]="GuardRejected",m}(Cr||{}),ss=function(m){return m[m.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",m[m.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",m}(ss||{});class Hi extends tr{reason;code;type=Cn.NavigationCancel;constructor(I,w,C,L){super(I,w),this.reason=C,this.code=L}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ls extends tr{reason;code;type=Cn.NavigationSkipped;constructor(I,w,C,L){super(I,w),this.reason=C,this.code=L}}class ts extends tr{error;target;type=Cn.NavigationError;constructor(I,w,C,L){super(I,w),this.error=C,this.target=L}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $ extends tr{urlAfterRedirects;state;type=Cn.RoutesRecognized;constructor(I,w,C,L){super(I,w),this.urlAfterRedirects=C,this.state=L}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class me extends tr{urlAfterRedirects;state;type=Cn.GuardsCheckStart;constructor(I,w,C,L){super(I,w),this.urlAfterRedirects=C,this.state=L}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q extends tr{urlAfterRedirects;state;shouldActivate;type=Cn.GuardsCheckEnd;constructor(I,w,C,L,X){super(I,w),this.urlAfterRedirects=C,this.state=L,this.shouldActivate=X}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ie extends tr{urlAfterRedirects;state;type=Cn.ResolveStart;constructor(I,w,C,L){super(I,w),this.urlAfterRedirects=C,this.state=L}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ne extends tr{urlAfterRedirects;state;type=Cn.ResolveEnd;constructor(I,w,C,L){super(I,w),this.urlAfterRedirects=C,this.state=L}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ct{route;type=Cn.RouteConfigLoadStart;constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ln{route;type=Cn.RouteConfigLoadEnd;constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class On{snapshot;type=Cn.ChildActivationStart;constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class si{snapshot;type=Cn.ChildActivationEnd;constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gr{snapshot;type=Cn.ActivationStart;constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kr{snapshot;type=Cn.ActivationEnd;constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{routerEvent;position;anchor;type=Cn.Scroll;constructor(I,w,C){this.routerEvent=I,this.position=w,this.anchor=C}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ln{}class mr{url;navigationBehaviorOptions;constructor(I,w){this.url=I,this.navigationBehaviorOptions=w}}function zi(m){switch(m.type){case Cn.ActivationEnd:return`ActivationEnd(path: '${m.snapshot.routeConfig?.path||""}')`;case Cn.ActivationStart:return`ActivationStart(path: '${m.snapshot.routeConfig?.path||""}')`;case Cn.ChildActivationEnd:return`ChildActivationEnd(path: '${m.snapshot.routeConfig?.path||""}')`;case Cn.ChildActivationStart:return`ChildActivationStart(path: '${m.snapshot.routeConfig?.path||""}')`;case Cn.GuardsCheckEnd:return`GuardsCheckEnd(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state}, shouldActivate: ${m.shouldActivate})`;case Cn.GuardsCheckStart:return`GuardsCheckStart(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state})`;case Cn.NavigationCancel:return`NavigationCancel(id: ${m.id}, url: '${m.url}')`;case Cn.NavigationSkipped:return`NavigationSkipped(id: ${m.id}, url: '${m.url}')`;case Cn.NavigationEnd:return`NavigationEnd(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}')`;case Cn.NavigationError:return`NavigationError(id: ${m.id}, url: '${m.url}', error: ${m.error})`;case Cn.NavigationStart:return`NavigationStart(id: ${m.id}, url: '${m.url}')`;case Cn.ResolveEnd:return`ResolveEnd(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state})`;case Cn.ResolveStart:return`ResolveStart(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state})`;case Cn.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${m.route.path})`;case Cn.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${m.route.path})`;case Cn.RoutesRecognized:return`RoutesRecognized(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state})`;case Cn.Scroll:return`Scroll(anchor: '${m.anchor}', position: '${m.position?`${m.position[0]}, ${m.position[1]}`:null}')`}}function ke(m){return m.outlet||An}function nn(m){if(!m)return null;if(m.routeConfig?._injector)return m.routeConfig._injector;for(let I=m.parent;I;I=I.parent){const w=I.routeConfig;if(w?._loadedInjector)return w._loadedInjector;if(w?._injector)return w._injector}return null}class vn{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return nn(this.route?.snapshot)??this.rootInjector}constructor(I){this.rootInjector=I,this.children=new jn(this.rootInjector)}}let jn=(()=>{class m{rootInjector;contexts=new Map;constructor(w){this.rootInjector=w}onChildOutletCreated(w,C){const L=this.getOrCreateContext(w);L.outlet=C,this.contexts.set(w,L)}onChildOutletDestroyed(w){const C=this.getContext(w);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const w=this.contexts;return this.contexts=new Map,w}onOutletReAttached(w){this.contexts=w}getOrCreateContext(w){let C=this.getContext(w);return C||(C=new vn(this.rootInjector),this.contexts.set(w,C)),C}getContext(w){return this.contexts.get(w)||null}static \u0275fac=function(C){return new(C||m)(Y.KVO(Y.uvJ))};static \u0275prov=Y.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();class Xi{_root;constructor(I){this._root=I}get root(){return this._root.value}parent(I){const w=this.pathFromRoot(I);return w.length>1?w[w.length-2]:null}children(I){const w=hs(I,this._root);return w?w.children.map(C=>C.value):[]}firstChild(I){const w=hs(I,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(I){const w=Po(I,this._root);return w.length<2?[]:w[w.length-2].children.map(L=>L.value).filter(L=>L!==I)}pathFromRoot(I){return Po(I,this._root).map(w=>w.value)}}function hs(m,I){if(m===I.value)return I;for(const w of I.children){const C=hs(m,w);if(C)return C}return null}function Po(m,I){if(m===I.value)return[I];for(const w of I.children){const C=Po(m,w);if(C.length)return C.unshift(I),C}return[]}class Yr{value;children;constructor(I,w){this.value=I,this.children=w}toString(){return`TreeNode(${this.value})`}}function io(m){const I={};return m&&m.children.forEach(w=>I[w.value.outlet]=w),I}class En extends Xi{snapshot;constructor(I,w){super(I),this.snapshot=w,oo(this,I)}toString(){return this.snapshot.toString()}}function so(m){const I=function vs(m){const X=new Ss([],{},{},"",{},An,m,null,{});return new Eo("",new Yr(X,[]))}(m),w=new Ge.t([new mi("",{})]),C=new Ge.t({}),L=new Ge.t({}),X=new Ge.t({}),ne=new Ge.t(""),xe=new Cs(w,C,X,ne,L,An,m,I.root);return xe.snapshot=I.root,new En(new Yr(xe,[]),I)}class Cs{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(I,w,C,L,X,ne,xe,Ke){this.urlSubject=I,this.paramsSubject=w,this.queryParamsSubject=C,this.fragmentSubject=L,this.dataSubject=X,this.outlet=ne,this.component=xe,this._futureSnapshot=Ke,this.title=this.dataSubject?.pipe((0,et.T)(Ot=>Ot[Pr]))??(0,De.of)(void 0),this.url=I,this.params=w,this.queryParams=C,this.fragment=L,this.data=X}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,et.T)(I=>Ci(I))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,et.T)(I=>Ci(I))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qs(m,I,w="emptyOnly"){let C;const{routeConfig:L}=m;return C=null===I||"always"!==w&&""!==L?.path&&(I.component||I.routeConfig?.loadComponent)?{params:{...m.params},data:{...m.data},resolve:{...m.data,...m._resolvedData??{}}}:{params:{...I.params,...m.params},data:{...I.data,...m.data},resolve:{...m.data,...I.data,...L?.data,...m._resolvedData}},L&&zs(L)&&(C.resolve[Pr]=L.title),C}class Ss{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Pr]}constructor(I,w,C,L,X,ne,xe,Ke,Ot){this.url=I,this.params=w,this.queryParams=C,this.fragment=L,this.data=X,this.outlet=ne,this.component=xe,this.routeConfig=Ke,this._resolve=Ot}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ci(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Eo extends Xi{url;constructor(I,w){super(w),this.url=I,oo(this,w)}toString(){return kr(this._root)}}function oo(m,I){I.value._routerState=m,I.children.forEach(w=>oo(m,w))}function kr(m){const I=m.children.length>0?` { ${m.children.map(kr).join(", ")} } `:"";return`${m.value}${I}`}function Hs(m){if(m.snapshot){const I=m.snapshot,w=m._futureSnapshot;m.snapshot=w,un(I.queryParams,w.queryParams)||m.queryParamsSubject.next(w.queryParams),I.fragment!==w.fragment&&m.fragmentSubject.next(w.fragment),un(I.params,w.params)||m.paramsSubject.next(w.params),function dr(m,I){if(m.length!==I.length)return!1;for(let w=0;w<m.length;++w)if(!un(m[w],I[w]))return!1;return!0}(I.url,w.url)||m.urlSubject.next(w.url),un(I.data,w.data)||m.dataSubject.next(w.data)}else m.snapshot=m._futureSnapshot,m.dataSubject.next(m._futureSnapshot.data)}function fs(m,I){const w=un(m.params,I.params)&&function lr(m,I){return Sn(m,I)&&m.every((w,C)=>un(w.parameters,I[C].parameters))}(m.url,I.url);return w&&!(!m.parent!=!I.parent)&&(!m.parent||fs(m.parent,I.parent))}function zs(m){return"string"==typeof m.title||null===m.title}const wo=new Y.nKC("");let zr=(()=>{class m{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=An;activateEvents=new Y.bkB;deactivateEvents=new Y.bkB;attachEvents=new Y.bkB;detachEvents=new Y.bkB;routerOutletData=(0,Y.hFB)(void 0);parentContexts=(0,Y.WQX)(jn);location=(0,Y.WQX)(Y.c1b);changeDetector=(0,Y.WQX)(Y.gRc);inputBinder=(0,Y.WQX)(qr,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(w){if(w.name){const{firstChange:C,previousValue:L}=w.name;if(C)return;this.isTrackedInParentContexts(L)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(L)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(w){return this.parentContexts.getContext(w)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const w=this.parentContexts.getContext(this.name);w?.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y.wOt(4012,!1);this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,C){this.activated=w,this._activatedRoute=C,this.location.insert(w.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,C){if(this.isActivated)throw new Y.wOt(4013,!1);this._activatedRoute=w;const L=this.location,ne=w.snapshot.component,xe=this.parentContexts.getOrCreateContext(this.name).children,Ke=new os(w,xe,L.injector,this.routerOutletData);this.activated=L.createComponent(ne,{index:L.length,injector:Ke,environmentInjector:C}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(C){return new(C||m)};static \u0275dir=Y.FsC({type:m,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Y.OA$]})}return m})();class os{route;childContexts;parent;outletData;constructor(I,w,C,L){this.route=I,this.childContexts=w,this.parent=C,this.outletData=L}get(I,w){return I===Cs?this.route:I===jn?this.childContexts:I===wo?this.outletData:this.parent.get(I,w)}}const qr=new Y.nKC("");let Qr=(()=>{class m{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(w){this.unsubscribeFromRouteData(w),this.subscribeToRouteData(w)}unsubscribeFromRouteData(w){this.outletDataSubscriptions.get(w)?.unsubscribe(),this.outletDataSubscriptions.delete(w)}subscribeToRouteData(w){const{activatedRoute:C}=w,L=jt([C.queryParams,C.params,C.data]).pipe((0,sn.n)(([X,ne,xe],Ke)=>(xe={...X,...ne,...xe},0===Ke?(0,De.of)(xe):Promise.resolve(xe)))).subscribe(X=>{if(!w.isActivated||!w.activatedComponentRef||w.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(w);const ne=(0,Y.HJs)(C.component);if(ne)for(const{templateName:xe}of ne.inputs)w.activatedComponentRef.setInput(xe,X[xe]);else this.unsubscribeFromRouteData(w)});this.outletDataSubscriptions.set(w,L)}static \u0275fac=function(C){return new(C||m)};static \u0275prov=Y.jDH({token:m,factory:m.\u0275fac})}return m})(),Io=(()=>{class m{static \u0275fac=function(C){return new(C||m)};static \u0275cmp=Y.VBU({type:m,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(C,L){1&C&&Y.nrm(0,"router-outlet")},dependencies:[zr],encapsulation:2})}return m})();function Rs(m){const I=m.children&&m.children.map(Rs),w=I?{...m,children:I}:{...m};return!w.component&&!w.loadComponent&&(I||w.loadChildren)&&w.outlet&&w.outlet!==An&&(w.component=Io),w}function uo(m,I,w){if(w&&m.shouldReuseRoute(I.value,w.value.snapshot)){const C=w.value;C._futureSnapshot=I.value;const L=function Es(m,I,w){return I.children.map(C=>{for(const L of w.children)if(m.shouldReuseRoute(C.value,L.value.snapshot))return uo(m,C,L);return uo(m,C)})}(m,I,w);return new Yr(C,L)}{if(m.shouldAttach(I.value)){const X=m.retrieve(I.value);if(null!==X){const ne=X.route;return ne.value._futureSnapshot=I.value,ne.children=I.children.map(xe=>uo(m,xe)),ne}}const C=function Ui(m){return new Cs(new Ge.t(m.url),new Ge.t(m.params),new Ge.t(m.queryParams),new Ge.t(m.fragment),new Ge.t(m.data),m.outlet,m.component,m)}(I.value),L=I.children.map(X=>uo(m,X));return new Yr(C,L)}}class Bo{redirectTo;navigationBehaviorOptions;constructor(I,w){this.redirectTo=I,this.navigationBehaviorOptions=w}}const Ms="ngNavigationCancelingError";function xr(m,I){const{redirectTo:w,navigationBehaviorOptions:C}=At(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,L=yr(!1,Cr.Redirect);return L.url=w,L.navigationBehaviorOptions=C,L}function yr(m,I){const w=new Error(`NavigationCancelingError: ${m||""}`);return w[Ms]=!0,w.cancellationCode=I,w}function na(m){return!!m&&m[Ms]}class Vs{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(I,w,C,L,X){this.routeReuseStrategy=I,this.futureState=w,this.currState=C,this.forwardEvent=L,this.inputBindingEnabled=X}activate(I){const w=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,C,I),Hs(this.futureState.root),this.activateChildRoutes(w,C,I)}deactivateChildRoutes(I,w,C){const L=io(w);I.children.forEach(X=>{const ne=X.value.outlet;this.deactivateRoutes(X,L[ne],C),delete L[ne]}),Object.values(L).forEach(X=>{this.deactivateRouteAndItsChildren(X,C)})}deactivateRoutes(I,w,C){const L=I.value,X=w?w.value:null;if(L===X)if(L.component){const ne=C.getContext(L.outlet);ne&&this.deactivateChildRoutes(I,w,ne.children)}else this.deactivateChildRoutes(I,w,C);else X&&this.deactivateRouteAndItsChildren(w,C)}deactivateRouteAndItsChildren(I,w){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,w):this.deactivateRouteAndOutlet(I,w)}detachAndStoreRouteSubtree(I,w){const C=w.getContext(I.value.outlet),L=C&&I.value.component?C.children:w,X=io(I);for(const ne of Object.values(X))this.deactivateRouteAndItsChildren(ne,L);if(C&&C.outlet){const ne=C.outlet.detach(),xe=C.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:ne,route:I,contexts:xe})}}deactivateRouteAndOutlet(I,w){const C=w.getContext(I.value.outlet),L=C&&I.value.component?C.children:w,X=io(I);for(const ne of Object.values(X))this.deactivateRouteAndItsChildren(ne,L);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(I,w,C){const L=io(w);I.children.forEach(X=>{this.activateRoutes(X,L[X.value.outlet],C),this.forwardEvent(new Kr(X.value.snapshot))}),I.children.length&&this.forwardEvent(new si(I.value.snapshot))}activateRoutes(I,w,C){const L=I.value,X=w?w.value:null;if(Hs(L),L===X)if(L.component){const ne=C.getOrCreateContext(L.outlet);this.activateChildRoutes(I,w,ne.children)}else this.activateChildRoutes(I,w,C);else if(L.component){const ne=C.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const xe=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),ne.children.onOutletReAttached(xe.contexts),ne.attachRef=xe.componentRef,ne.route=xe.route.value,ne.outlet&&ne.outlet.attach(xe.componentRef,xe.route.value),Hs(xe.route.value),this.activateChildRoutes(I,null,ne.children)}else ne.attachRef=null,ne.route=L,ne.outlet&&ne.outlet.activateWith(L,ne.injector),this.activateChildRoutes(I,null,ne.children)}else this.activateChildRoutes(I,null,C)}}class _r{path;route;constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class q{component;route;constructor(I,w){this.component=I,this.route=w}}function K(m,I,w){const C=m._root;return ot(C,I?I._root:null,w,[C.value])}function Me(m,I){const w=Symbol(),C=I.get(m,w);return C===w?"function"!=typeof m||(0,Y.LfX)(m)?I.get(m):m:C}function ot(m,I,w,C,L={canDeactivateChecks:[],canActivateChecks:[]}){const X=io(I);return m.children.forEach(ne=>{(function xt(m,I,w,C,L={canDeactivateChecks:[],canActivateChecks:[]}){const X=m.value,ne=I?I.value:null,xe=w?w.getContext(m.value.outlet):null;if(ne&&X.routeConfig===ne.routeConfig){const Ke=function Xt(m,I,w){if("function"==typeof w)return w(m,I);switch(w){case"pathParamsChange":return!Sn(m.url,I.url);case"pathParamsOrQueryParamsChange":return!Sn(m.url,I.url)||!un(m.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fs(m,I)||!un(m.queryParams,I.queryParams);default:return!fs(m,I)}}(ne,X,X.routeConfig.runGuardsAndResolvers);Ke?L.canActivateChecks.push(new _r(C)):(X.data=ne.data,X._resolvedData=ne._resolvedData),ot(m,I,X.component?xe?xe.children:null:w,C,L),Ke&&xe&&xe.outlet&&xe.outlet.isActivated&&L.canDeactivateChecks.push(new q(xe.outlet.component,ne))}else ne&&bn(I,xe,L),L.canActivateChecks.push(new _r(C)),ot(m,null,X.component?xe?xe.children:null:w,C,L)})(ne,X[ne.value.outlet],w,C.concat([ne.value]),L),delete X[ne.value.outlet]}),Object.entries(X).forEach(([ne,xe])=>bn(xe,w.getContext(ne),L)),L}function bn(m,I,w){const C=io(m),L=m.value;Object.entries(C).forEach(([X,ne])=>{bn(ne,L.component?I?I.children.getContext(X):null:I,w)}),w.canDeactivateChecks.push(new q(L.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,L))}function gn(m){return"function"==typeof m}function Ri(m){return m instanceof It.G||"EmptyError"===m?.name}const Jr=Symbol("INITIAL_VALUE");function Ni(){return(0,sn.n)(m=>jt(m.map(I=>I.pipe(kt(1),function Qe(...m){const I=(0,Xe.lI)(m);return(0,kn.N)((w,C)=>{(I?st(m,w,I):st(m,w)).subscribe(C)})}(Jr)))).pipe((0,et.T)(I=>{for(const w of I)if(!0!==w){if(w===Jr)return Jr;if(!1===w||as(w))return w}return!0}),(0,te.p)(I=>I!==Jr),kt(1)))}function as(m){return At(m)||m instanceof Bo}function jo(m){return(0,Qt.F)(vt(I=>{if("boolean"!=typeof I)throw xr(0,I)}),(0,et.T)(I=>!0===I))}class Fa{segmentGroup;constructor(I){this.segmentGroup=I||null}}class ha extends Error{urlTree;constructor(I){super(),this.urlTree=I}}function $o(m){return bt(new Fa(m))}class hi{urlSerializer;urlTree;constructor(I,w){this.urlSerializer=I,this.urlTree=w}lineralizeSegments(I,w){let C=[],L=w.root;for(;;){if(C=C.concat(L.segments),0===L.numberOfChildren)return(0,De.of)(C);if(L.numberOfChildren>1||!L.children[An])return bt(new Y.wOt(4e3,!1));L=L.children[An]}}applyRedirectCommands(I,w,C,L,X){if("string"!=typeof w){const xe=w,{queryParams:Ke,fragment:Ot,routeConfig:$n,url:br,outlet:oi,params:cs,data:ni,title:Bs}=L,rs=(0,Y.N4e)(X,()=>xe({params:cs,data:ni,queryParams:Ke,fragment:Ot,routeConfig:$n,url:br,outlet:oi,title:Bs}));if(rs instanceof ur)throw new ha(rs);w=rs}const ne=this.applyRedirectCreateUrlTree(w,this.urlSerializer.parse(w),I,C);if("/"===w[0])throw new ha(ne);return ne}applyRedirectCreateUrlTree(I,w,C,L){const X=this.createSegmentGroup(I,w.root,C,L);return new ur(X,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(I,w){const C={};return Object.entries(I).forEach(([L,X])=>{if("string"==typeof X&&":"===X[0]){const xe=X.substring(1);C[L]=w[xe]}else C[L]=X}),C}createSegmentGroup(I,w,C,L){const X=this.createSegments(I,w.segments,C,L);let ne={};return Object.entries(w.children).forEach(([xe,Ke])=>{ne[xe]=this.createSegmentGroup(I,Ke,C,L)}),new sr(X,ne)}createSegments(I,w,C,L){return w.map(X=>":"===X.path[0]?this.findPosParam(I,X,L):this.findOrReturn(X,C))}findPosParam(I,w,C){const L=C[w.path.substring(1)];if(!L)throw new Y.wOt(4001,!1);return L}findOrReturn(I,w){let C=0;for(const L of w){if(L.path===I.path)return w.splice(C),L;C++}return I}}const Ns={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ko(m,I,w,C,L){const X=Ho(m,I,w);return X.matched?(C=function yi(m,I){return m.providers&&!m._injector&&(m._injector=(0,Y.Ol2)(m.providers,I,`Route: ${m.path}`)),m._injector??I}(I,C),function ho(m,I,w,C){const L=I.canMatch;if(!L||0===L.length)return(0,De.of)(!0);const X=L.map(ne=>{const xe=Me(ne,m);return Er(function Bi(m){return m&&gn(m.canMatch)}(xe)?xe.canMatch(I,w):(0,Y.N4e)(m,()=>xe(I,w)))});return(0,De.of)(X).pipe(Ni(),jo())}(C,I,w).pipe((0,et.T)(ne=>!0===ne?X:{...Ns}))):(0,De.of)(X)}function Ho(m,I,w){if("**"===I.path)return function zo(m){return{matched:!0,parameters:m.length>0?ft(m).parameters:{},consumedSegments:m,remainingSegments:[],positionalParamSegments:{}}}(w);if(""===I.path)return"full"===I.pathMatch&&(m.hasChildren()||w.length>0)?{...Ns}:{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const L=(I.matcher||pn)(w,m,I);if(!L)return{...Ns};const X={};Object.entries(L.posParams??{}).forEach(([xe,Ke])=>{X[xe]=Ke.path});const ne=L.consumed.length>0?{...X,...L.consumed[L.consumed.length-1].parameters}:X;return{matched:!0,consumedSegments:L.consumed,remainingSegments:w.slice(L.consumed.length),parameters:ne,positionalParamSegments:L.posParams??{}}}function bi(m,I,w,C){return w.length>0&&function Lr(m,I,w){return w.some(C=>Wo(m,I,C)&&ke(C)!==An)}(m,w,C)?{segmentGroup:new sr(I,Hr(C,new sr(w,m.children))),slicedSegments:[]}:0===w.length&&function Da(m,I,w){return w.some(C=>Wo(m,I,C))}(m,w,C)?{segmentGroup:new sr(m.segments,fa(m,w,C,m.children)),slicedSegments:w}:{segmentGroup:new sr(m.segments,m.children),slicedSegments:w}}function fa(m,I,w,C){const L={};for(const X of w)if(Wo(m,I,X)&&!C[ke(X)]){const ne=new sr([],{});L[ke(X)]=ne}return{...C,...L}}function Hr(m,I){const w={};w[An]=I;for(const C of m)if(""===C.path&&ke(C)!==An){const L=new sr([],{});w[ke(C)]=L}return w}function Wo(m,I,w){return(!(m.hasChildren()||I.length>0)||"full"!==w.pathMatch)&&""===w.path}class Aa{}class Va{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(I,w,C,L,X,ne,xe){this.injector=I,this.configLoader=w,this.rootComponentType=C,this.config=L,this.urlTree=X,this.paramsInheritanceStrategy=ne,this.urlSerializer=xe,this.applyRedirects=new hi(this.urlSerializer,this.urlTree)}noMatchError(I){return new Y.wOt(4002,`'${I.segmentGroup}'`)}recognize(){const I=bi(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(I).pipe((0,et.T)(({children:w,rootSnapshot:C})=>{const L=new Yr(C,w),X=new Eo("",L),ne=function ce(m,I,w=null,C=null){return Ve(ve(m),I,w,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return ne.queryParams=this.urlTree.queryParams,X.url=this.urlSerializer.serialize(ne),{state:X,tree:ne}}))}match(I){const w=new Ss([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),An,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,I,An,w).pipe((0,et.T)(C=>({children:C,rootSnapshot:w})),(0,cn.W)(C=>{if(C instanceof ha)return this.urlTree=C.urlTree,this.match(C.urlTree.root);throw C instanceof Fa?this.noMatchError(C):C}))}processSegmentGroup(I,w,C,L,X){return 0===C.segments.length&&C.hasChildren()?this.processChildren(I,w,C,X):this.processSegment(I,w,C,C.segments,L,!0,X).pipe((0,et.T)(ne=>ne instanceof Yr?[ne]:[]))}processChildren(I,w,C,L){const X=[];for(const ne of Object.keys(C.children))"primary"===ne?X.unshift(ne):X.push(ne);return(0,Ie.H)(X).pipe((0,Ze.H)(ne=>{const xe=C.children[ne],Ke=function mt(m,I){const w=m.filter(C=>ke(C)===I);return w.push(...m.filter(C=>ke(C)!==I)),w}(w,ne);return this.processSegmentGroup(I,Ke,xe,ne,L)}),function Jn(m,I){return(0,kn.N)(function tn(m,I,w,C,L){return(X,ne)=>{let xe=w,Ke=I,Ot=0;X.subscribe((0,Pt._)(ne,$n=>{const br=Ot++;Ke=xe?m(Ke,$n,br):(xe=!0,$n),C&&ne.next(Ke)},L&&(()=>{xe&&ne.next(Ke),ne.complete()})))}}(m,I,arguments.length>=2,!0))}((ne,xe)=>(ne.push(...xe),ne)),pe(null),function Xn(m,I){const w=arguments.length>=2;return C=>C.pipe(m?(0,te.p)((L,X)=>m(L,X,C)):Te.D,qt(1),w?pe(I):ye(()=>new It.G))}(),(0,fe.Z)(ne=>{if(null===ne)return $o(C);const xe=rn(ne);return function Gs(m){m.sort((I,w)=>I.value.outlet===An?-1:w.value.outlet===An?1:I.value.outlet.localeCompare(w.value.outlet))}(xe),(0,De.of)(xe)}))}processSegment(I,w,C,L,X,ne,xe){return(0,Ie.H)(w).pipe((0,Ze.H)(Ke=>this.processSegmentAgainstRoute(Ke._injector??I,w,Ke,C,L,X,ne,xe).pipe((0,cn.W)(Ot=>{if(Ot instanceof Fa)return(0,De.of)(null);throw Ot}))),ge(Ke=>!!Ke),(0,cn.W)(Ke=>{if(Ri(Ke))return function qa(m,I,w){return 0===I.length&&!m.children[w]}(C,L,X)?(0,De.of)(new Aa):$o(C);throw Ke}))}processSegmentAgainstRoute(I,w,C,L,X,ne,xe,Ke){return ke(C)===ne||ne!==An&&Wo(L,X,C)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(I,L,C,X,ne,Ke):this.allowRedirects&&xe?this.expandSegmentAgainstRouteUsingRedirect(I,L,w,C,X,ne,Ke):$o(L):$o(L)}expandSegmentAgainstRouteUsingRedirect(I,w,C,L,X,ne,xe){const{matched:Ke,parameters:Ot,consumedSegments:$n,positionalParamSegments:br,remainingSegments:oi}=Ho(w,L,X);if(!Ke)return $o(w);"string"==typeof L.redirectTo&&"/"===L.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const cs=new Ss(X,Ot,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fi(L),ke(L),L.component??L._loadedComponent??null,L,Us(L)),ni=Qs(cs,xe,this.paramsInheritanceStrategy);cs.params=Object.freeze(ni.params),cs.data=Object.freeze(ni.data);const Bs=this.applyRedirects.applyRedirectCommands($n,L.redirectTo,br,cs,I);return this.applyRedirects.lineralizeSegments(L,Bs).pipe((0,fe.Z)(rs=>this.processSegment(I,C,w,rs.concat(oi),ne,!1,xe)))}matchSegmentAgainstRoute(I,w,C,L,X,ne){const xe=ko(w,C,L,I);return"**"===C.path&&(w.children={}),xe.pipe((0,sn.n)(Ke=>Ke.matched?this.getChildConfig(I=C._injector??I,C,L).pipe((0,sn.n)(({routes:Ot})=>{const $n=C._loadedInjector??I,{parameters:br,consumedSegments:oi,remainingSegments:cs}=Ke,ni=new Ss(oi,br,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fi(C),ke(C),C.component??C._loadedComponent??null,C,Us(C)),Bs=Qs(ni,ne,this.paramsInheritanceStrategy);ni.params=Object.freeze(Bs.params),ni.data=Object.freeze(Bs.data);const{segmentGroup:rs,slicedSegments:ks}=bi(w,oi,cs,Ot);if(0===ks.length&&rs.hasChildren())return this.processChildren($n,Ot,rs,ni).pipe((0,et.T)(Ko=>new Yr(ni,Ko)));if(0===Ot.length&&0===ks.length)return(0,De.of)(new Yr(ni,[]));const bs=ke(C)===X;return this.processSegment($n,Ot,rs,ks,bs?An:X,!0,ni).pipe((0,et.T)(Ko=>new Yr(ni,Ko instanceof Yr?[Ko]:[])))})):$o(w)))}getChildConfig(I,w,C){return w.children?(0,De.of)({routes:w.children,injector:I}):w.loadChildren?void 0!==w._loadedRoutes?(0,De.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):function ba(m,I,w,C){const L=I.canLoad;if(void 0===L||0===L.length)return(0,De.of)(!0);const X=L.map(ne=>{const xe=Me(ne,m);return Er(function Zn(m){return m&&gn(m.canLoad)}(xe)?xe.canLoad(I,w):(0,Y.N4e)(m,()=>xe(I,w)))});return(0,De.of)(X).pipe(Ni(),jo())}(I,w,C).pipe((0,fe.Z)(L=>L?this.configLoader.loadChildren(I,w).pipe(vt(X=>{w._loadedRoutes=X.routes,w._loadedInjector=X.injector})):function No(){return bt(yr(!1,Cr.GuardRejected))}())):(0,De.of)({routes:[],injector:I})}}function Wr(m){const I=m.value.routeConfig;return I&&""===I.path}function rn(m){const I=[],w=new Set;for(const C of m){if(!Wr(C)){I.push(C);continue}const L=I.find(X=>C.value.routeConfig===X.value.routeConfig);void 0!==L?(L.children.push(...C.children),w.add(L)):I.push(C)}for(const C of w){const L=rn(C.children);I.push(new Yr(C.value,L))}return I.filter(C=>!w.has(C))}function fi(m){return m.data||{}}function Us(m){return m.resolve||{}}function fo(m){const I=m.children.map(w=>fo(w)).flat();return[m,...I]}function z(m){return(0,sn.n)(I=>{const w=m(I);return w?(0,Ie.H)(w).pipe((0,et.T)(()=>I)):(0,De.of)(I)})}let Se=(()=>{class m{buildTitle(w){let C,L=w.root;for(;void 0!==L;)C=this.getResolvedTitleForRoute(L)??C,L=L.children.find(X=>X.outlet===An);return C}getResolvedTitleForRoute(w){return w.data[Pr]}static \u0275fac=function(C){return new(C||m)};static \u0275prov=Y.jDH({token:m,factory:()=>(0,Y.WQX)(Lt),providedIn:"root"})}return m})(),Lt=(()=>{class m extends Se{title;constructor(w){super(),this.title=w}updateTitle(w){const C=this.buildTitle(w);void 0!==C&&this.title.setTitle(C)}static \u0275fac=function(C){return new(C||m)(Y.KVO(er.hE))};static \u0275prov=Y.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();const Rn=new Y.nKC("",{providedIn:"root",factory:()=>({})}),ar=new Y.nKC("");let ji=(()=>{class m{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,Y.WQX)(Y.Ql9);loadComponent(w){if(this.componentLoaders.get(w))return this.componentLoaders.get(w);if(w._loadedComponent)return(0,De.of)(w._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(w);const C=Er(w.loadComponent()).pipe((0,et.T)(Go),vt(X=>{this.onLoadEndListener&&this.onLoadEndListener(w),w._loadedComponent=X}),(0,zn.j)(()=>{this.componentLoaders.delete(w)})),L=new gt(C,()=>new In.B).pipe(qn());return this.componentLoaders.set(w,L),L}loadChildren(w,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,De.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const X=function Gi(m,I,w,C){return Er(m.loadChildren()).pipe((0,et.T)(Go),(0,fe.Z)(L=>L instanceof Y.Co$||Array.isArray(L)?(0,De.of)(L):(0,Ie.H)(I.compileModuleAsync(L))),(0,et.T)(L=>{C&&C(m);let X,ne,xe=!1;return Array.isArray(L)?(ne=L,!0):(X=L.create(w).injector,ne=X.get(ar,[],{optional:!0,self:!0}).flat()),{routes:ne.map(Rs),injector:X}}))}(C,this.compiler,w,this.onLoadEndListener).pipe((0,zn.j)(()=>{this.childrenLoaders.delete(C)})),ne=new gt(X,()=>new In.B).pipe(qn());return this.childrenLoaders.set(C,ne),ne}static \u0275fac=function(C){return new(C||m)};static \u0275prov=Y.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();function Go(m){return function Is(m){return m&&"object"==typeof m&&"default"in m}(m)?m.default:m}let Ca=(()=>{class m{static \u0275fac=function(C){return new(C||m)};static \u0275prov=Y.jDH({token:m,factory:()=>(0,Y.WQX)(ao),providedIn:"root"})}return m})(),ao=(()=>{class m{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,C){return w}static \u0275fac=function(C){return new(C||m)};static \u0275prov=Y.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();const Ts=new Y.nKC(""),co=new Y.nKC("");function Xs(m,I,w){const C=m.get(co),L=m.get(b.q);return m.get(Y.SKi).runOutsideAngular(()=>{if(!L.startViewTransition||C.skipNextTransition)return C.skipNextTransition=!1,new Promise(Ot=>setTimeout(Ot));let X;const ne=new Promise(Ot=>{X=Ot}),xe=L.startViewTransition(()=>(X(),function ra(m){return new Promise(I=>{(0,Y.mal)({read:()=>setTimeout(I)},{injector:m})})}(m))),{onViewTransitionCreated:Ke}=C;return Ke&&(0,Y.N4e)(m,()=>Ke({transition:xe,from:I,to:w})),ne})}const Nn=new Y.nKC("");let pa=(()=>{class m{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new In.B;transitionAbortSubject=new In.B;configLoader=(0,Y.WQX)(ji);environmentInjector=(0,Y.WQX)(Y.uvJ);destroyRef=(0,Y.WQX)(Y.abz);urlSerializer=(0,Y.WQX)(Nr);rootContexts=(0,Y.WQX)(jn);location=(0,Y.WQX)(O.aZ);inputBindingEnabled=null!==(0,Y.WQX)(qr,{optional:!0});titleStrategy=(0,Y.WQX)(Se);options=(0,Y.WQX)(Rn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,Y.WQX)(Ca);createViewTransition=(0,Y.WQX)(Ts,{optional:!0});navigationErrorHandler=(0,Y.WQX)(Nn,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,De.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=L=>this.events.next(new ln(L)),this.configLoader.onLoadStartListener=L=>this.events.next(new Ct(L)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(w){const C=++this.navigationId;this.transitions?.next({...w,extractedUrl:this.urlHandlingStrategy.extract(w.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:C})}setupNavigations(w){return this.transitions=new Ge.t(null),this.transitions.pipe((0,te.p)(C=>null!==C),(0,sn.n)(C=>{let L=!1,X=!1;return(0,De.of)(C).pipe((0,sn.n)(ne=>{if(this.navigationId>C.id)return this.cancelNavigationTransition(C,"",Cr.SupersededByNewNavigation),ut.w;this.currentTransition=C,this.currentNavigation={id:ne.id,initialUrl:ne.rawUrl,extractedUrl:ne.extractedUrl,targetBrowserUrl:"string"==typeof ne.extras.browserUrl?this.urlSerializer.parse(ne.extras.browserUrl):ne.extras.browserUrl,trigger:ne.source,extras:ne.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const xe=!w.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!xe&&"reload"!==(ne.extras.onSameUrlNavigation??w.onSameUrlNavigation)){const Ot="";return this.events.next(new Ls(ne.id,this.urlSerializer.serialize(ne.rawUrl),Ot,ss.IgnoredSameUrlNavigation)),ne.resolve(!1),ut.w}if(this.urlHandlingStrategy.shouldProcessUrl(ne.rawUrl))return(0,De.of)(ne).pipe((0,sn.n)(Ot=>(this.events.next(new $r(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),Ot.source,Ot.restoredState)),Ot.id!==this.navigationId?ut.w:Promise.resolve(Ot))),function Wi(m,I,w,C,L,X){return(0,fe.Z)(ne=>function Qa(m,I,w,C,L,X,ne="emptyOnly"){return new Va(m,I,w,C,L,ne,X).recognize()}(m,I,w,C,ne.extractedUrl,L,X).pipe((0,et.T)(({state:xe,tree:Ke})=>({...ne,targetSnapshot:xe,urlAfterRedirects:Ke}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,w.config,this.urlSerializer,this.paramsInheritanceStrategy),vt(Ot=>{C.targetSnapshot=Ot.targetSnapshot,C.urlAfterRedirects=Ot.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ot.urlAfterRedirects};const $n=new $(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),this.urlSerializer.serialize(Ot.urlAfterRedirects),Ot.targetSnapshot);this.events.next($n)}));if(xe&&this.urlHandlingStrategy.shouldProcessUrl(ne.currentRawUrl)){const{id:Ot,extractedUrl:$n,source:br,restoredState:oi,extras:cs}=ne,ni=new $r(Ot,this.urlSerializer.serialize($n),br,oi);this.events.next(ni);const Bs=so(this.rootComponentType).snapshot;return this.currentTransition=C={...ne,targetSnapshot:Bs,urlAfterRedirects:$n,extras:{...cs,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=$n,(0,De.of)(C)}{const Ot="";return this.events.next(new Ls(ne.id,this.urlSerializer.serialize(ne.extractedUrl),Ot,ss.IgnoredByUrlHandlingStrategy)),ne.resolve(!1),ut.w}}),vt(ne=>{const xe=new me(ne.id,this.urlSerializer.serialize(ne.extractedUrl),this.urlSerializer.serialize(ne.urlAfterRedirects),ne.targetSnapshot);this.events.next(xe)}),(0,et.T)(ne=>(this.currentTransition=C={...ne,guards:K(ne.targetSnapshot,ne.currentSnapshot,this.rootContexts)},C)),function vi(m,I){return(0,fe.Z)(w=>{const{targetSnapshot:C,currentSnapshot:L,guards:{canActivateChecks:X,canDeactivateChecks:ne}}=w;return 0===ne.length&&0===X.length?(0,De.of)({...w,guardsResult:!0}):function Pi(m,I,w,C){return(0,Ie.H)(m).pipe((0,fe.Z)(L=>function da(m,I,w,C,L){const X=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,De.of)(!0);const ne=X.map(xe=>{const Ke=nn(I)??L,Ot=Me(xe,Ke);return Er(function _i(m){return m&&gn(m.canDeactivate)}(Ot)?Ot.canDeactivate(m,I,w,C):(0,Y.N4e)(Ke,()=>Ot(m,I,w,C))).pipe(ge())});return(0,De.of)(ne).pipe(Ni())}(L.component,L.route,w,I,C)),ge(L=>!0!==L,!0))}(ne,C,L,m).pipe((0,fe.Z)(xe=>xe&&function hr(m){return"boolean"==typeof m}(xe)?function ws(m,I,w,C){return(0,Ie.H)(I).pipe((0,Ze.H)(L=>st(function ps(m,I){return null!==m&&I&&I(new On(m)),(0,De.of)(!0)}(L.route.parent,C),function ei(m,I){return null!==m&&I&&I(new Gr(m)),(0,De.of)(!0)}(L.route,C),function lo(m,I,w){const C=I[I.length-1],X=I.slice(0,I.length-1).reverse().map(ne=>function we(m){const I=m.routeConfig?m.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:m,guards:I}:null}(ne)).filter(ne=>null!==ne).map(ne=>Tt(()=>{const xe=ne.guards.map(Ke=>{const Ot=nn(ne.node)??w,$n=Me(Ke,Ot);return Er(function Ii(m){return m&&gn(m.canActivateChild)}($n)?$n.canActivateChild(C,m):(0,Y.N4e)(Ot,()=>$n(C,m))).pipe(ge())});return(0,De.of)(xe).pipe(Ni())}));return(0,De.of)(X).pipe(Ni())}(m,L.path,w),function Ws(m,I,w){const C=I.routeConfig?I.routeConfig.canActivate:null;if(!C||0===C.length)return(0,De.of)(!0);const L=C.map(X=>Tt(()=>{const ne=nn(I)??w,xe=Me(X,ne);return Er(function Fr(m){return m&&gn(m.canActivate)}(xe)?xe.canActivate(I,m):(0,Y.N4e)(ne,()=>xe(I,m))).pipe(ge())}));return(0,De.of)(L).pipe(Ni())}(m,L.route,w))),ge(L=>!0!==L,!0))}(C,X,m,I):(0,De.of)(xe)),(0,et.T)(xe=>({...w,guardsResult:xe})))})}(this.environmentInjector,ne=>this.events.next(ne)),vt(ne=>{if(C.guardsResult=ne.guardsResult,ne.guardsResult&&"boolean"!=typeof ne.guardsResult)throw xr(0,ne.guardsResult);const xe=new Q(ne.id,this.urlSerializer.serialize(ne.extractedUrl),this.urlSerializer.serialize(ne.urlAfterRedirects),ne.targetSnapshot,!!ne.guardsResult);this.events.next(xe)}),(0,te.p)(ne=>!!ne.guardsResult||(this.cancelNavigationTransition(ne,"",Cr.GuardRejected),!1)),z(ne=>{if(0!==ne.guards.canActivateChecks.length)return(0,De.of)(ne).pipe(vt(xe=>{const Ke=new ie(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot);this.events.next(Ke)}),(0,sn.n)(xe=>{let Ke=!1;return(0,De.of)(xe).pipe(function Ks(m,I){return(0,fe.Z)(w=>{const{targetSnapshot:C,guards:{canActivateChecks:L}}=w;if(!L.length)return(0,De.of)(w);const X=new Set(L.map(Ke=>Ke.route)),ne=new Set;for(const Ke of X)if(!ne.has(Ke))for(const Ot of fo(Ke))ne.add(Ot);let xe=0;return(0,Ie.H)(ne).pipe((0,Ze.H)(Ke=>X.has(Ke)?function ti(m,I,w,C){const L=m.routeConfig,X=m._resolve;return void 0!==L?.title&&!zs(L)&&(X[Pr]=L.title),function P(m,I,w,C){const L=Ki(m);if(0===L.length)return(0,De.of)({});const X={};return(0,Ie.H)(L).pipe((0,fe.Z)(ne=>function N(m,I,w,C){const L=nn(I)??C,X=Me(m,L);return Er(X.resolve?X.resolve(I,w):(0,Y.N4e)(L,()=>X(I,w)))}(m[ne],I,w,C).pipe(ge(),vt(xe=>{if(xe instanceof Bo)throw xr(new Gn,xe);X[ne]=xe}))),qt(1),(0,et.T)(()=>X),(0,cn.W)(ne=>Ri(ne)?ut.w:bt(ne)))}(X,m,I,C).pipe((0,et.T)(ne=>(m._resolvedData=ne,m.data=Qs(m,m.parent,w).resolve,null)))}(Ke,C,m,I):(Ke.data=Qs(Ke,Ke.parent,m).resolve,(0,De.of)(void 0))),vt(()=>xe++),qt(1),(0,fe.Z)(Ke=>xe===ne.size?(0,De.of)(w):ut.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),vt({next:()=>Ke=!0,complete:()=>{Ke||this.cancelNavigationTransition(xe,"",Cr.NoDataFromResolver)}}))}),vt(xe=>{const Ke=new Ne(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot);this.events.next(Ke)}))}),z(ne=>{const xe=Ke=>{const Ot=[];Ke.routeConfig?.loadComponent&&!Ke.routeConfig._loadedComponent&&Ot.push(this.configLoader.loadComponent(Ke.routeConfig).pipe(vt($n=>{Ke.component=$n}),(0,et.T)(()=>{})));for(const $n of Ke.children)Ot.push(...xe($n));return Ot};return jt(xe(ne.targetSnapshot.root)).pipe(pe(null),kt(1))}),z(()=>this.afterPreactivation()),(0,sn.n)(()=>{const{currentSnapshot:ne,targetSnapshot:xe}=C,Ke=this.createViewTransition?.(this.environmentInjector,ne.root,xe.root);return Ke?(0,Ie.H)(Ke).pipe((0,et.T)(()=>C)):(0,De.of)(C)}),(0,et.T)(ne=>{const xe=function Ps(m,I,w){const C=uo(m,I._root,w?w._root:void 0);return new En(C,I)}(w.routeReuseStrategy,ne.targetSnapshot,ne.currentRouterState);return this.currentTransition=C={...ne,targetRouterState:xe},this.currentNavigation.targetRouterState=xe,C}),vt(()=>{this.events.next(new Ln)}),((m,I,w,C)=>(0,et.T)(L=>(new Vs(I,L.targetRouterState,L.currentRouterState,w,C).activate(m),L)))(this.rootContexts,w.routeReuseStrategy,ne=>this.events.next(ne),this.inputBindingEnabled),kt(1),vt({next:ne=>{L=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new As(ne.id,this.urlSerializer.serialize(ne.extractedUrl),this.urlSerializer.serialize(ne.urlAfterRedirects))),this.titleStrategy?.updateTitle(ne.targetRouterState.snapshot),ne.resolve(!0)},complete:()=>{L=!0}}),function Vn(m){return(0,kn.N)((I,w)=>{(0,Je.Tg)(m).subscribe((0,Pt._)(w,()=>w.complete(),Yt.l)),!w.closed&&I.subscribe(w)})}(this.transitionAbortSubject.pipe(vt(ne=>{throw ne}))),(0,zn.j)(()=>{!L&&!X&&this.cancelNavigationTransition(C,"",Cr.SupersededByNewNavigation),this.currentTransition?.id===C.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,cn.W)(ne=>{if(this.destroyed)return C.resolve(!1),ut.w;if(X=!0,na(ne))this.events.next(new Hi(C.id,this.urlSerializer.serialize(C.extractedUrl),ne.message,ne.cancellationCode)),function Zi(m){return na(m)&&At(m.url)}(ne)?this.events.next(new mr(ne.url,ne.navigationBehaviorOptions)):C.resolve(!1);else{const xe=new ts(C.id,this.urlSerializer.serialize(C.extractedUrl),ne,C.targetSnapshot??void 0);try{const Ke=(0,Y.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(xe));if(!(Ke instanceof Bo))throw this.events.next(xe),ne;{const{message:Ot,cancellationCode:$n}=xr(0,Ke);this.events.next(new Hi(C.id,this.urlSerializer.serialize(C.extractedUrl),Ot,$n)),this.events.next(new mr(Ke.redirectTo,Ke.navigationBehaviorOptions))}}catch(Ke){this.options.resolveNavigationPromiseOnError?C.resolve(!1):C.reject(Ke)}}return ut.w}))}))}cancelNavigationTransition(w,C,L){const X=new Hi(w.id,this.urlSerializer.serialize(w.extractedUrl),C,L);this.events.next(X),w.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const w=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),C=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return w.toString()!==C?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(C){return new(C||m)};static \u0275prov=Y.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();function Do(m){return m!==Fn}let po=(()=>{class m{static \u0275fac=function(C){return new(C||m)};static \u0275prov=Y.jDH({token:m,factory:()=>(0,Y.WQX)(Sa),providedIn:"root"})}return m})();class ga{shouldDetach(I){return!1}store(I,w){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,w){return I.routeConfig===w.routeConfig}}let Sa=(()=>{class m extends ga{static \u0275fac=(()=>{let w;return function(L){return(w||(w=Y.xGo(m)))(L||m)}})();static \u0275prov=Y.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})(),$i=(()=>{class m{urlSerializer=(0,Y.WQX)(Nr);options=(0,Y.WQX)(Rn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,Y.WQX)(O.aZ);urlHandlingStrategy=(0,Y.WQX)(Ca);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ur;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:w,initialUrl:C,targetBrowserUrl:L}){const X=void 0!==w?this.urlHandlingStrategy.merge(w,C):C,ne=L??X;return ne instanceof ur?this.urlSerializer.serialize(ne):ne}commitTransition({targetRouterState:w,finalUrl:C,initialUrl:L}){C&&w?(this.currentUrlTree=C,this.rawUrlTree=this.urlHandlingStrategy.merge(C,L),this.routerState=w):this.rawUrlTree=L}routerState=so(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:w}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w??this.rawUrlTree)}static \u0275fac=function(C){return new(C||m)};static \u0275prov=Y.jDH({token:m,factory:()=>(0,Y.WQX)(Yi),providedIn:"root"})}return m})(),Yi=(()=>{class m extends $i{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(w){return this.location.subscribe(C=>{"popstate"===C.type&&setTimeout(()=>{w(C.url,C.state,"popstate")})})}handleRouterEvent(w,C){w instanceof $r?this.updateStateMemento():w instanceof Ls?this.commitTransition(C):w instanceof $?"eager"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(C),C)):w instanceof Ln?(this.commitTransition(C),"deferred"===this.urlUpdateStrategy&&!C.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(C),C)):w instanceof Hi&&(w.code===Cr.GuardRejected||w.code===Cr.NoDataFromResolver)?this.restoreHistory(C):w instanceof ts?this.restoreHistory(C,!0):w instanceof As&&(this.lastSuccessfulId=w.id,this.currentPageId=this.browserPageId)}setBrowserUrl(w,{extras:C,id:L}){const{replaceUrl:X,state:ne}=C;if(this.location.isCurrentPathEqualTo(w)||X){const xe=this.browserPageId,Ke={...ne,...this.generateNgRouterState(L,xe)};this.location.replaceState(w,"",Ke)}else{const xe={...ne,...this.generateNgRouterState(L,this.browserPageId+1)};this.location.go(w,"",xe)}}restoreHistory(w,C=!1){if("computed"===this.canceledNavigationResolution){const X=this.currentPageId-this.browserPageId;0!==X?this.location.historyGo(X):this.getCurrentUrlTree()===w.finalUrl&&0===X&&(this.resetInternalState(w),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(C&&this.resetInternalState(w),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(w,C){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:C}:{navigationId:w}}static \u0275fac=(()=>{let w;return function(L){return(w||(w=Y.xGo(m)))(L||m)}})();static \u0275prov=Y.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();function j(m,I){m.events.pipe((0,te.p)(w=>w instanceof As||w instanceof Hi||w instanceof ts||w instanceof Ls),(0,et.T)(w=>w instanceof As||w instanceof Ls?0:w instanceof Hi&&(w.code===Cr.Redirect||w.code===Cr.SupersededByNewNavigation)?2:1),(0,te.p)(w=>2!==w),kt(1)).subscribe(()=>{I()})}const E={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let M=(()=>{class m{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,Y.WQX)(Y.H3F);stateManager=(0,Y.WQX)($i);options=(0,Y.WQX)(Rn,{optional:!0})||{};pendingTasks=(0,Y.WQX)(Y.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,Y.WQX)(pa);urlSerializer=(0,Y.WQX)(Nr);location=(0,Y.WQX)(O.aZ);urlHandlingStrategy=(0,Y.WQX)(Ca);_events=new In.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,Y.WQX)(po);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,Y.WQX)(ar,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,Y.WQX)(qr,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:w=>{this.console.warn(w)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Un.yU;subscribeToNavigationEvents(){const w=this.navigationTransitions.events.subscribe(C=>{try{const L=this.navigationTransitions.currentTransition,X=this.navigationTransitions.currentNavigation;if(null!==L&&null!==X)if(this.stateManager.handleRouterEvent(C,X),C instanceof Hi&&C.code!==Cr.Redirect&&C.code!==Cr.SupersededByNewNavigation)this.navigated=!0;else if(C instanceof As)this.navigated=!0;else if(C instanceof mr){const ne=C.navigationBehaviorOptions,xe=this.urlHandlingStrategy.merge(C.url,L.currentRawUrl),Ke={browserUrl:L.extras.browserUrl,info:L.extras.info,skipLocationChange:L.extras.skipLocationChange,replaceUrl:L.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Do(L.source),...ne};this.scheduleNavigation(xe,Fn,null,Ke,{resolve:L.resolve,reject:L.reject,promise:L.promise})}(function Z(m){return!(m instanceof Ln||m instanceof mr)})(C)&&this._events.next(C)}catch(L){this.navigationTransitions.transitionAbortSubject.next(L)}});this.eventsSubscription.add(w)}resetRootComponentType(w){this.routerState.root.component=w,this.navigationTransitions.rootComponentType=w}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((w,C,L)=>{this.navigateToSyncWithBrowser(w,L,C)})}navigateToSyncWithBrowser(w,C,L){const X={replaceUrl:!0},ne=L?.navigationId?L:null;if(L){const Ke={...L};delete Ke.navigationId,delete Ke.\u0275routerPageId,0!==Object.keys(Ke).length&&(X.state=Ke)}const xe=this.parseUrl(w);this.scheduleNavigation(xe,C,ne,X)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(w){this.config=w.map(Rs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(w,C={}){const{relativeTo:L,queryParams:X,fragment:ne,queryParamsHandling:xe,preserveFragment:Ke}=C,Ot=Ke?this.currentUrlTree.fragment:ne;let br,$n=null;switch(xe??this.options.defaultQueryParamsHandling){case"merge":$n={...this.currentUrlTree.queryParams,...X};break;case"preserve":$n=this.currentUrlTree.queryParams;break;default:$n=X||null}null!==$n&&($n=this.removeEmptyProps($n));try{br=ve(L?L.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof w[0]||"/"!==w[0][0])&&(w=[]),br=this.currentUrlTree.root}return Ve(br,w,$n,Ot??null)}navigateByUrl(w,C={skipLocationChange:!1}){const L=At(w)?w:this.parseUrl(w),X=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(X,Fn,null,C)}navigate(w,C={skipLocationChange:!1}){return function V(m){for(let I=0;I<m.length;I++)if(null==m[I])throw new Y.wOt(4008,!1)}(w),this.navigateByUrl(this.createUrlTree(w,C),C)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){try{return this.urlSerializer.parse(w)}catch{return this.urlSerializer.parse("/")}}isActive(w,C){let L;if(L=!0===C?{...E}:!1===C?{...v}:C,At(w))return ri(this.currentUrlTree,w,L);const X=this.parseUrl(w);return ri(this.currentUrlTree,X,L)}removeEmptyProps(w){return Object.entries(w).reduce((C,[L,X])=>(null!=X&&(C[L]=X),C),{})}scheduleNavigation(w,C,L,X,ne){if(this.disposed)return Promise.resolve(!1);let xe,Ke,Ot;ne?(xe=ne.resolve,Ke=ne.reject,Ot=ne.promise):Ot=new Promise((br,oi)=>{xe=br,Ke=oi});const $n=this.pendingTasks.add();return j(this,()=>{queueMicrotask(()=>this.pendingTasks.remove($n))}),this.navigationTransitions.handleNavigationRequest({source:C,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:w,extras:X,resolve:xe,reject:Ke,promise:Ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ot.catch(br=>Promise.reject(br))}static \u0275fac=function(C){return new(C||m)};static \u0275prov=Y.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},5196:(Dn,We,H)=>{"use strict";H.d(We,{C:()=>Y,U:()=>T});var b=H(1635),O=H(8071);function Y(Pe){return(0,b.AQ)(this,arguments,function*(){const Ie=Pe.getReader();try{for(;;){const{value:De,done:Ge}=yield(0,b.N3)(Ie.read());if(Ge)return yield(0,b.N3)(void 0);yield yield(0,b.N3)(De)}}finally{Ie.releaseLock()}})}function T(Pe){return(0,O.T)(Pe?.getReader)}},5207:(Dn,We,H)=>{"use strict";H.d(We,{Wk:()=>Bn,iI:()=>Kr,lh:()=>$t});var b=H(6048),O=H(1360),Y=H(9361);let rt=(()=>{class de{static \u0275prov=(0,O.jDH)({token:de,providedIn:"root",factory:()=>new Ie((0,O.WQX)(Y.q),window)})}return de})();class Ie{document;window;offset=()=>[0,0];constructor(it,ke){this.document=it,this.window=ke}setOffset(it){this.offset=Array.isArray(it)?()=>it:it}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(it){this.window.scrollTo(it[0],it[1])}scrollToAnchor(it){const ke=function De(de,it){const ke=de.getElementById(it)||de.getElementsByName(it)[0];if(ke)return ke;if("function"==typeof de.createTreeWalker&&de.body&&"function"==typeof de.body.attachShadow){const mt=de.createTreeWalker(de.body,NodeFilter.SHOW_ELEMENT);let nn=mt.currentNode;for(;nn;){const vn=nn.shadowRoot;if(vn){const jn=vn.getElementById(it)||vn.querySelector(`[name="${it}"]`);if(jn)return jn}nn=mt.nextNode()}}return null}(this.document,it);ke&&(this.scrollToElement(ke),ke.focus())}setHistoryScrollRestoration(it){this.window.history.scrollRestoration=it}scrollToElement(it){const ke=it.getBoundingClientRect(),mt=ke.left+this.window.pageXOffset,nn=ke.top+this.window.pageYOffset,vn=this.offset();this.window.scrollTo(mt-vn[0],nn-vn[1])}}var At=H(2881),ce=H(5072),ve=H(1413),Ve=H(7673),Mt=H(8455),wt=H(6365),yt=H(5964),Ft=H(274),on=H(1397);let Bn=(()=>{class de{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ve.B;constructor(ke,mt,nn,vn,jn,Xi){this.router=ke,this.route=mt,this.tabIndexAttribute=nn,this.renderer=vn,this.el=jn,this.locationStrategy=Xi;const hs=jn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===hs||"area"===hs,this.isAnchorElement?this.subscription=ke.events.subscribe(Po=>{Po instanceof ce.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(ke){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",ke)}ngOnChanges(ke){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(ke){null==ke?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,ce.wO)(ke)||Array.isArray(ke)?ke:[ke],this.setTabIndexIfNotOnNativeEl("0"))}onClick(ke,mt,nn,vn,jn){const Xi=this.urlTree;return!!(null===Xi||this.isAnchorElement&&(0!==ke||mt||nn||vn||jn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Xi,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const ke=this.urlTree;this.href=null!==ke&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(ke)):null;const mt=null===this.href?null:(0,O.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",mt)}applyAttributeValue(ke,mt){const nn=this.renderer,vn=this.el.nativeElement;null!==mt?nn.setAttribute(vn,ke,mt):nn.removeAttribute(vn,ke)}get urlTree(){return null===this.routerLinkInput?null:(0,ce.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(mt){return new(mt||de)(O.rXU(ce.Ix),O.rXU(ce.nX),O.kS0("tabindex"),O.rXU(O.sFG),O.rXU(O.aKT),O.rXU(b.hb))};static \u0275dir=O.FsC({type:de,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(mt,nn){1&mt&&O.bIt("click",function(jn){return nn.onClick(jn.button,jn.ctrlKey,jn.shiftKey,jn.altKey,jn.metaKey)}),2&mt&&O.BMQ("target",nn.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",O.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",O.L39],replaceUrl:[2,"replaceUrl","replaceUrl",O.L39],routerLink:"routerLink"},features:[O.OA$]})}return de})();class or{}let Ee=(()=>{class de{router;injector;preloadingStrategy;loader;subscription;constructor(ke,mt,nn,vn){this.router=ke,this.injector=mt,this.preloadingStrategy=nn,this.loader=vn}setUpPreloading(){this.subscription=this.router.events.pipe((0,yt.p)(ke=>ke instanceof ce.wF),(0,Ft.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(ke,mt){const nn=[];for(const vn of mt){vn.providers&&!vn._injector&&(vn._injector=(0,O.Ol2)(vn.providers,ke,`Route: ${vn.path}`));const jn=vn._injector??ke,Xi=vn._loadedInjector??jn;(vn.loadChildren&&!vn._loadedRoutes&&void 0===vn.canLoad||vn.loadComponent&&!vn._loadedComponent)&&nn.push(this.preloadConfig(jn,vn)),(vn.children||vn._loadedRoutes)&&nn.push(this.processRoutes(Xi,vn.children??vn._loadedRoutes))}return(0,Mt.H)(nn).pipe((0,wt.U)())}preloadConfig(ke,mt){return this.preloadingStrategy.preload(mt,()=>{let nn;nn=mt.loadChildren&&void 0===mt.canLoad?this.loader.loadChildren(ke,mt):(0,Ve.of)(null);const vn=nn.pipe((0,on.Z)(jn=>null===jn?(0,Ve.of)(void 0):(mt._loadedRoutes=jn.routes,mt._loadedInjector=jn.injector,this.processRoutes(jn.injector??ke,jn.routes))));if(mt.loadComponent&&!mt._loadedComponent){const jn=this.loader.loadComponent(mt);return(0,Mt.H)([vn,jn]).pipe((0,wt.U)())}return vn})}static \u0275fac=function(mt){return new(mt||de)(O.KVO(ce.Ix),O.KVO(O.uvJ),O.KVO(or),O.KVO(ce.D$))};static \u0275prov=O.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const je=new O.nKC("");let Ye=(()=>{class de{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(ke,mt,nn,vn,jn={}){this.urlSerializer=ke,this.transitions=mt,this.viewportScroller=nn,this.zone=vn,this.options=jn,jn.scrollPositionRestoration||="disabled",jn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(ke=>{ke instanceof ce.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=ke.navigationTrigger,this.restoredId=ke.restoredState?ke.restoredState.navigationId:0):ke instanceof ce.wF?(this.lastId=ke.id,this.scheduleScrollEvent(ke,this.urlSerializer.parse(ke.urlAfterRedirects).fragment)):ke instanceof ce.lW&&ke.code===ce.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(ke,this.urlSerializer.parse(ke.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(ke=>{ke instanceof ce.OY&&(ke.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(ke.position):ke.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(ke.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(ke,mt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ce.OY(ke,"popstate"===this.lastSource?this.store[this.restoredId]:null,mt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(mt){O.QTQ()};static \u0275prov=O.jDH({token:de,factory:de.\u0275fac})}return de})();function $t(de,...it){return(0,O.EmA)([{provide:ce.bw,multi:!0,useValue:de},[],{provide:ce.nX,useFactory:Kt,deps:[ce.Ix]},{provide:O.iLQ,multi:!0,useFactory:As},it.map(ke=>ke.\u0275providers)])}function Kt(de){return de.routerState.root}function Tn(de,it){return{\u0275kind:de,\u0275providers:it}}function As(){const de=(0,O.WQX)(O.zZn);return it=>{const ke=de.get(O.o8S);if(it!==ke.components[0])return;const mt=de.get(ce.Ix),nn=de.get(Cr);1===de.get(ss)&&mt.initialNavigation(),de.get($,null,O.$GK.Optional)?.setUpPreloading(),de.get(je,null,O.$GK.Optional)?.init(),mt.resetRootComponentType(ke.componentTypes[0]),nn.closed||(nn.next(),nn.complete(),nn.unsubscribe())}}const Cr=new O.nKC("",{factory:()=>new ve.B}),ss=new O.nKC("",{providedIn:"root",factory:()=>1}),$=new O.nKC("");function me(de){return Tn(0,[{provide:$,useExisting:Ee},{provide:or,useExisting:de}])}function ln(de){return(0,O.ngT)("NgRouterViewTransitions"),Tn(9,[{provide:ce.Pu,useValue:ce.Lg},{provide:ce.bK,useValue:{skipNextTransition:!!de?.skipInitialTransition,...de}}])}const Gr=[b.aZ,{provide:ce.Sd,useClass:ce.nU},ce.Ix,ce.Zp,{provide:ce.nX,useFactory:Kt,deps:[ce.Ix]},ce.D$,[]];let Kr=(()=>{class de{constructor(){}static forRoot(ke,mt){return{ngModule:de,providers:[Gr,[],{provide:ce.bw,multi:!0,useValue:ke},[],mt?.errorHandler?{provide:ce.XR,useValue:mt.errorHandler}:[],{provide:ce.J_,useValue:mt||{}},mt?.useHash?{provide:b.hb,useClass:At.fw}:{provide:b.hb,useClass:b.Sm},{provide:je,useFactory:()=>{const de=(0,O.WQX)(rt),it=(0,O.WQX)(O.SKi),ke=(0,O.WQX)(ce.J_),mt=(0,O.WQX)(ce.J2),nn=(0,O.WQX)(ce.Sd);return ke.scrollOffset&&de.setOffset(ke.scrollOffset),new Ye(nn,mt,de,it,ke)}},mt?.preloadingStrategy?me(mt.preloadingStrategy).\u0275providers:[],mt?.initialNavigation?yi(mt):[],mt?.bindToComponentInputs?Tn(8,[ce.tD,{provide:ce.c1,useExisting:ce.tD}]).\u0275providers:[],mt?.enableViewTransitions?ln().\u0275providers:[],[{provide:_s,useFactory:As},{provide:O.iLQ,multi:!0,useExisting:_s}]]}}static forChild(ke){return{ngModule:de,providers:[{provide:ce.bw,multi:!0,useValue:ke}]}}static \u0275fac=function(mt){return new(mt||de)};static \u0275mod=O.$C({type:de});static \u0275inj=O.G2t({})}return de})();function yi(de){return["disabled"===de.initialNavigation?Tn(3,[(0,O.phd)(()=>{(0,O.WQX)(ce.Ix).setUpLocationChangeListener()}),{provide:ss,useValue:2}]).\u0275providers:[],"enabledBlocking"===de.initialNavigation?Tn(2,[{provide:ss,useValue:0},(0,O.phd)(()=>{const it=(0,O.WQX)(O.zZn);return it.get(b.hj,Promise.resolve()).then(()=>new Promise(mt=>{const nn=it.get(ce.Ix),vn=it.get(Cr);(0,ce.gk)(nn,()=>{mt(!0)}),it.get(ce.J2).afterPreactivation=()=>(mt(!0),vn.closed?(0,Ve.of)(void 0):vn),nn.initialNavigation()}))})]).\u0275providers:[]]}const _s=new O.nKC("")},5225:(Dn,We,H)=>{"use strict";function b(O,Y,T,Pe=0,rt=!1){const Ie=Y.schedule(function(){T(),rt?O.add(this.schedule(null,Pe)):this.unsubscribe()},Pe);if(O.add(Ie),!rt)return Ie}H.d(We,{N:()=>b})},5334:(Dn,We,H)=>{"use strict";H.d(We,{m:()=>Y});var b=H(1026),O=H(9270);function Y(T){O.f.setTimeout(()=>{const{onUnhandledError:Pe}=b.$;if(!Pe)throw T;Pe(T)})}},5343:(Dn,We,H)=>{"use strict";function b(){}H.d(We,{l:()=>b})},5397:(Dn,We,H)=>{"use strict";H.d(We,{x:()=>Y});var b=H(4761),O=H(8071);function Y(T){return(0,O.T)(T?.[b.l])}},5558:(Dn,We,H)=>{"use strict";H.d(We,{n:()=>T});var b=H(8750),O=H(9974),Y=H(4360);function T(Pe,rt){return(0,O.N)((Ie,De)=>{let Ge=null,be=0,Te=!1;const dt=()=>Te&&!Ge&&De.complete();Ie.subscribe((0,Y._)(De,Xe=>{Ge?.unsubscribe();let ht=0;const Pt=be++;(0,b.Tg)(Pe(Xe,Pt)).subscribe(Ge=(0,Y._)(De,zt=>De.next(rt?rt(Xe,zt,Pt,ht++):zt),()=>{Ge=null,dt()}))},()=>{Te=!0,dt()}))})}},5794:(Dn,We,H)=>{"use strict";H.d(We,{DP:()=>et,tw:()=>qn});var b=H(1360),O=H(969),Y=H(9361),T=H(2881),Pe=H(1413),rt=H(345);const Ie=["toast-component",""];function De(pe,ye){if(1&pe){const oe=b.RV6();b.j41(0,"button",5),b.bIt("click",function(){b.eBV(oe);const Ze=b.XpG();return b.Njj(Ze.remove())}),b.j41(1,"span",6),b.EFF(2,"\xd7"),b.k0s()()}}function Ge(pe,ye){if(1&pe&&(b.qex(0),b.EFF(1),b.bVm()),2&pe){const oe=b.XpG(2);b.R7$(),b.SpI("[",oe.duplicatesCount+1,"]")}}function be(pe,ye){if(1&pe&&(b.j41(0,"div"),b.EFF(1),b.DNE(2,Ge,2,1,"ng-container",4),b.k0s()),2&pe){const oe=b.XpG();b.HbH(oe.options.titleClass),b.BMQ("aria-label",oe.title),b.R7$(),b.SpI(" ",oe.title," "),b.R7$(),b.Y8G("ngIf",oe.duplicatesCount)}}function Te(pe,ye){if(1&pe&&b.nrm(0,"div",7),2&pe){const oe=b.XpG();b.HbH(oe.options.messageClass),b.Y8G("innerHTML",oe.message,b.npT)}}function dt(pe,ye){if(1&pe&&(b.j41(0,"div",8),b.EFF(1),b.k0s()),2&pe){const oe=b.XpG();b.HbH(oe.options.messageClass),b.BMQ("aria-label",oe.message),b.R7$(),b.SpI(" ",oe.message," ")}}function Xe(pe,ye){if(1&pe&&(b.j41(0,"div"),b.nrm(1,"div",9),b.k0s()),2&pe){const oe=b.XpG();b.R7$(),b.xc7("width",oe.width()+"%")}}class Rt{_attachedHost;component;viewContainerRef;injector;constructor(ye,oe){this.component=ye,this.injector=oe}attach(ye,oe){return this._attachedHost=ye,ye.attach(this,oe)}detach(){const ye=this._attachedHost;if(ye)return this._attachedHost=void 0,ye.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ye){this._attachedHost=ye}}class Oe{_attachedPortal;_disposeFn;attach(ye,oe){return this._attachedPortal=ye,this.attachComponentPortal(ye,oe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ye){this._disposeFn=ye}}class st{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Pe.B;_activate=new Pe.B;_manualClose=new Pe.B;_resetTimeout=new Pe.B;_countDuplicate=new Pe.B;constructor(ye){this._overlayRef=ye}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ye,oe){ye&&this._resetTimeout.next(),oe&&this._countDuplicate.next(++this.duplicatesCount)}}class Je{toastId;config;message;title;toastType;toastRef;_onTap=new Pe.B;_onAction=new Pe.B;constructor(ye,oe,ge,Ze,vt,cn){this.toastId=ye,this.config=oe,this.message=ge,this.title=Ze,this.toastType=vt,this.toastRef=cn,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ye){this._onAction.next(ye)}onAction(){return this._onAction.asObservable()}}const Qt=new b.nKC("ToastConfig");class bt extends Oe{_hostDomElement;_componentFactoryResolver;_appRef;constructor(ye,oe,ge){super(),this._hostDomElement=ye,this._componentFactoryResolver=oe,this._appRef=ge}attachComponentPortal(ye,oe){const ge=this._componentFactoryResolver.resolveComponentFactory(ye.component);let Ze;return Ze=ge.create(ye.injector),this._appRef.attachView(Ze.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ze.hostView),Ze.destroy()}),oe?this._hostDomElement.insertBefore(this._getComponentRootNode(Ze),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ze)),Ze}_getComponentRootNode(ye){return ye.hostView.rootNodes[0]}}let ut=(()=>{class pe{_document=(0,b.WQX)(Y.q);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const oe=this._document.createElement("div");oe.classList.add("overlay-container"),oe.setAttribute("aria-live","polite"),this._document.body.appendChild(oe),this._containerElement=oe}static \u0275fac=function(ge){return new(ge||pe)};static \u0275prov=b.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})();class Un{_portalHost;constructor(ye){this._portalHost=ye}attach(ye,oe=!0){return this._portalHost.attach(ye,oe)}detach(){return this._portalHost.detach()}}let kn=(()=>{class pe{_overlayContainer=(0,b.WQX)(ut);_componentFactoryResolver=(0,b.WQX)(b.OM3);_appRef=(0,b.WQX)(b.o8S);_document=(0,b.WQX)(Y.q);_paneElements=new Map;create(oe,ge){return this._createOverlayRef(this.getPaneElement(oe,ge))}getPaneElement(oe="",ge){return this._paneElements.get(ge)||this._paneElements.set(ge,{}),this._paneElements.get(ge)[oe]||(this._paneElements.get(ge)[oe]=this._createPaneElement(oe,ge)),this._paneElements.get(ge)[oe]}_createPaneElement(oe,ge){const Ze=this._document.createElement("div");return Ze.id="toast-container",Ze.classList.add(oe),Ze.classList.add("toast-container"),ge?ge.getContainerElement().appendChild(Ze):this._overlayContainer.getContainerElement().appendChild(Ze),Ze}_createPortalHost(oe){return new bt(oe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(oe){return new Un(this._createPortalHost(oe))}static \u0275fac=function(ge){return new(ge||pe)};static \u0275prov=b.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})(),qn=(()=>{class pe{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(oe,ge,Ze,vt,cn){this.overlay=ge,this._injector=Ze,this.sanitizer=vt,this.ngZone=cn,this.toastrConfig={...oe.default,...oe.config},oe.config.iconClasses&&(this.toastrConfig.iconClasses={...oe.default.iconClasses,...oe.config.iconClasses})}show(oe,ge,Ze={},vt=""){return this._preBuildNotification(vt,oe,ge,this.applyConfig(Ze))}success(oe,ge,Ze={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",oe,ge,this.applyConfig(Ze))}error(oe,ge,Ze={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",oe,ge,this.applyConfig(Ze))}info(oe,ge,Ze={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",oe,ge,this.applyConfig(Ze))}warning(oe,ge,Ze={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",oe,ge,this.applyConfig(Ze))}clear(oe){for(const ge of this.toasts)if(void 0!==oe){if(ge.toastId===oe)return void ge.toastRef.manualClose()}else ge.toastRef.manualClose()}remove(oe){const ge=this._findToast(oe);if(!ge||(ge.activeToast.toastRef.close(),this.toasts.splice(ge.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ze=this.toasts[this.currentlyActive].toastRef;Ze.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ze.activate())}return!0}findDuplicate(oe="",ge="",Ze,vt){const{includeTitleDuplicates:cn}=this.toastrConfig;for(const tn of this.toasts)if((!cn||cn&&tn.title===oe)&&tn.message===ge)return tn.toastRef.onDuplicate(Ze,vt),tn;return null}applyConfig(oe={}){return{...this.toastrConfig,...oe}}_findToast(oe){for(let ge=0;ge<this.toasts.length;ge++)if(this.toasts[ge].toastId===oe)return{index:ge,activeToast:this.toasts[ge]};return null}_preBuildNotification(oe,ge,Ze,vt){return vt.onActivateTick?this.ngZone.run(()=>this._buildNotification(oe,ge,Ze,vt)):this._buildNotification(oe,ge,Ze,vt)}_buildNotification(oe,ge,Ze,vt){if(!vt.toastComponent)throw new Error("toastComponent required");const cn=this.findDuplicate(Ze,ge,this.toastrConfig.resetTimeoutOnDuplicate&&vt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ze||ge)&&this.toastrConfig.preventDuplicates&&null!==cn)return cn;this.previousToastMessage=ge;let tn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(tn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Jn=this.overlay.create(vt.positionClass,this.overlayContainer);this.index=this.index+1;let qt=ge;ge&&vt.enableHtml&&(qt=this.sanitizer.sanitize(b.WPN.HTML,ge));const Xn=new st(Jn),zn=new Je(this.index,vt,qt,Ze,oe,Xn),Vn=b.zZn.create({providers:[{provide:Je,useValue:zn}],parent:this._injector}),er=new Rt(vt.toastComponent,Vn),An=Jn.attach(er,vt.newestOnTop);Xn.componentInstance=An.instance;const Pr={toastId:this.index,title:Ze||"",message:ge||"",toastRef:Xn,onShown:Xn.afterActivate(),onHidden:Xn.afterClosed(),onTap:zn.onTap(),onAction:zn.onAction(),portal:An};return tn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Pr.toastRef.activate()})),this.toasts.push(Pr),Pr}static \u0275fac=function(ge){return new(ge||pe)(b.KVO(Qt),b.KVO(kn),b.KVO(b.zZn),b.KVO(rt.up),b.KVO(b.SKi))};static \u0275prov=b.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})();const In={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class pe{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=(0,b.vPA)(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(oe,ge,Ze){this.toastrService=oe,this.toastPackage=ge,this.ngZone=Ze,this.message=ge.message,this.title=ge.title,this.options=ge.config,this.originalTimeout=ge.config.timeOut,this.toastClasses=`${ge.toastType} ${ge.config.toastClass}`,this.sub=ge.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ge.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ge.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ge.toastRef.countDuplicate().subscribe(vt=>{this.duplicatesCount=vt}),this.state=(0,b.vPA)({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(oe=>({...oe,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const oe=(new Date).getTime();this.width.set((this.hideTime-oe)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(Ze=>100-Ze),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(oe=>({...oe,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(oe=>({...oe,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(oe,ge){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(oe),ge)):this.timeout=setTimeout(()=>oe(),ge)}outsideInterval(oe,ge){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(oe),ge)):this.intervalId=setInterval(()=>oe(),ge)}runInsideAngular(oe){this.ngZone?this.ngZone.run(()=>oe()):oe()}static \u0275fac=function(ge){return new(ge||pe)(b.rXU(qn),b.rXU(Je),b.rXU(b.SKi))};static \u0275cmp=b.VBU({type:pe,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(ge,Ze){1&ge&&b.bIt("click",function(){return Ze.tapToast()})("mouseenter",function(){return Ze.stickAround()})("mouseleave",function(){return Ze.delayedHideToast()}),2&ge&&(b.zvX("@flyInOut",Ze._state),b.HbH(Ze.toastClasses),b.xc7("display",Ze.displayStyle))},attrs:Ie,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(ge,Ze){1&ge&&b.DNE(0,De,3,0,"button",0)(1,be,3,5,"div",1)(2,Te,1,3,"div",2)(3,dt,2,4,"div",3)(4,Xe,2,2,"div",4),2&ge&&(b.Y8G("ngIf",Ze.options.closeButton),b.R7$(),b.Y8G("ngIf",Ze.title),b.R7$(),b.Y8G("ngIf",Ze.message&&Ze.options.enableHtml),b.R7$(),b.Y8G("ngIf",Ze.message&&!Ze.options.enableHtml),b.R7$(),b.Y8G("ngIf",Ze.options.progressBar))},dependencies:[T.bT],encapsulation:2,data:{animation:[(0,O.hZ)("flyInOut",[(0,O.wk)("inactive",(0,O.iF)({opacity:0})),(0,O.wk)("active",(0,O.iF)({opacity:1})),(0,O.wk)("removed",(0,O.iF)({opacity:0})),(0,O.kY)("inactive => active",(0,O.i0)("{{ easeTime }}ms {{ easing }}")),(0,O.kY)("active => removed",(0,O.i0)("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return pe})()},et=(pe={})=>(0,b.EmA)([{provide:Qt,useValue:{default:In,config:pe}}])},5964:(Dn,We,H)=>{"use strict";H.d(We,{p:()=>Y});var b=H(9974),O=H(4360);function Y(T,Pe){return(0,b.N)((rt,Ie)=>{let De=0;rt.subscribe((0,O._)(Ie,Ge=>T.call(Pe,Ge,De++)&&Ie.next(Ge)))})}},6048:(Dn,We,H)=>{"use strict";H.d(We,{Q:()=>Xe,Sm:()=>zt,Vw:()=>De,aZ:()=>jt,hb:()=>ht,hj:()=>Ge,ig:()=>rt,kB:()=>Pt,om:()=>Te,qj:()=>Ie,rb:()=>Pe});var b=H(1360),O=H(1413),Y=H(9361);let T=null;function Pe(){return T}function rt(Oe){T??=Oe}class Ie{}let De=(()=>{class Oe{historyGo(Je){throw new Error("")}static \u0275fac=function(Tt){return new(Tt||Oe)};static \u0275prov=b.jDH({token:Oe,factory:()=>(0,b.WQX)(be),providedIn:"platform"})}return Oe})();const Ge=new b.nKC("");let be=(()=>{class Oe extends De{_location;_history;_doc=(0,b.WQX)(Y.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pe().getBaseHref(this._doc)}onPopState(Je){const Tt=Pe().getGlobalEventTarget(this._doc,"window");return Tt.addEventListener("popstate",Je,!1),()=>Tt.removeEventListener("popstate",Je)}onHashChange(Je){const Tt=Pe().getGlobalEventTarget(this._doc,"window");return Tt.addEventListener("hashchange",Je,!1),()=>Tt.removeEventListener("hashchange",Je)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Je){this._location.pathname=Je}pushState(Je,Tt,Qt){this._history.pushState(Je,Tt,Qt)}replaceState(Je,Tt,Qt){this._history.replaceState(Je,Tt,Qt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Je=0){this._history.go(Je)}getState(){return this._history.state}static \u0275fac=function(Tt){return new(Tt||Oe)};static \u0275prov=b.jDH({token:Oe,factory:()=>new Oe,providedIn:"platform"})}return Oe})();function Te(Oe,st){return Oe?st?Oe.endsWith("/")?st.startsWith("/")?Oe+st.slice(1):Oe+st:st.startsWith("/")?Oe+st:`${Oe}/${st}`:Oe:st}function dt(Oe){const st=Oe.search(/#|\?|$/);return"/"===Oe[st-1]?Oe.slice(0,st-1)+Oe.slice(st):Oe}function Xe(Oe){return Oe&&"?"!==Oe[0]?`?${Oe}`:Oe}let ht=(()=>{class Oe{historyGo(Je){throw new Error("")}static \u0275fac=function(Tt){return new(Tt||Oe)};static \u0275prov=b.jDH({token:Oe,factory:()=>(0,b.WQX)(zt),providedIn:"root"})}return Oe})();const Pt=new b.nKC("");let zt=(()=>{class Oe extends ht{_platformLocation;_baseHref;_removeListenerFns=[];constructor(Je,Tt){super(),this._platformLocation=Je,this._baseHref=Tt??this._platformLocation.getBaseHrefFromDOM()??(0,b.WQX)(Y.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Je){this._removeListenerFns.push(this._platformLocation.onPopState(Je),this._platformLocation.onHashChange(Je))}getBaseHref(){return this._baseHref}prepareExternalUrl(Je){return Te(this._baseHref,Je)}path(Je=!1){const Tt=this._platformLocation.pathname+Xe(this._platformLocation.search),Qt=this._platformLocation.hash;return Qt&&Je?`${Tt}${Qt}`:Tt}pushState(Je,Tt,Qt,bt){const ut=this.prepareExternalUrl(Qt+Xe(bt));this._platformLocation.pushState(Je,Tt,ut)}replaceState(Je,Tt,Qt,bt){const ut=this.prepareExternalUrl(Qt+Xe(bt));this._platformLocation.replaceState(Je,Tt,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Je=0){this._platformLocation.historyGo?.(Je)}static \u0275fac=function(Tt){return new(Tt||Oe)(b.KVO(De),b.KVO(Pt,8))};static \u0275prov=b.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}return Oe})(),jt=(()=>{class Oe{_subject=new O.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(Je){this._locationStrategy=Je;const Tt=this._locationStrategy.getBaseHref();this._basePath=function Rt(Oe){if(new RegExp("^(https?:)?//").test(Oe)){const[,Je]=Oe.split(/\/\/[^\/]+/);return Je}return Oe}(dt(It(Tt))),this._locationStrategy.onPopState(Qt=>{this._subject.next({url:this.path(!0),pop:!0,state:Qt.state,type:Qt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Je=!1){return this.normalize(this._locationStrategy.path(Je))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Je,Tt=""){return this.path()==this.normalize(Je+Xe(Tt))}normalize(Je){return Oe.stripTrailingSlash(function _t(Oe,st){if(!Oe||!st.startsWith(Oe))return st;const Je=st.substring(Oe.length);return""===Je||["/",";","?","#"].includes(Je[0])?Je:st}(this._basePath,It(Je)))}prepareExternalUrl(Je){return Je&&"/"!==Je[0]&&(Je="/"+Je),this._locationStrategy.prepareExternalUrl(Je)}go(Je,Tt="",Qt=null){this._locationStrategy.pushState(Qt,"",Je,Tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Je+Xe(Tt)),Qt)}replaceState(Je,Tt="",Qt=null){this._locationStrategy.replaceState(Qt,"",Je,Tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Je+Xe(Tt)),Qt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Je=0){this._locationStrategy.historyGo?.(Je)}onUrlChange(Je){return this._urlChangeListeners.push(Je),this._urlChangeSubscription??=this.subscribe(Tt=>{this._notifyUrlChangeListeners(Tt.url,Tt.state)}),()=>{const Tt=this._urlChangeListeners.indexOf(Je);this._urlChangeListeners.splice(Tt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Je="",Tt){this._urlChangeListeners.forEach(Qt=>Qt(Je,Tt))}subscribe(Je,Tt,Qt){return this._subject.subscribe({next:Je,error:Tt??void 0,complete:Qt??void 0})}static normalizeQueryParams=Xe;static joinWithSlash=Te;static stripTrailingSlash=dt;static \u0275fac=function(Tt){return new(Tt||Oe)(b.KVO(ht))};static \u0275prov=b.jDH({token:Oe,factory:()=>function en(){return new jt((0,b.KVO)(ht))}(),providedIn:"root"})}return Oe})();function It(Oe){return Oe.replace(/\/index.html$/,"")}},6335:(Dn,We,H)=>{"use strict";H.d(We,{Nj:()=>dt,DF:()=>Xe,wh:()=>Oe,eJ:()=>kn,xI:()=>et,_q:()=>Rt,J1:()=>Pr,x9:()=>Ki,CI:()=>Zt});var b=H(2967),O=H(1360),Y=H(7440),T=H(4125),Pe=H(2214),rt=H(520),Ie=H(1985);function De(lr){return new Ie.c(function(Sn){return{unsubscribe:(0,rt.hg)(lr,Sn.next.bind(Sn),Sn.error.bind(Sn),Sn.complete.bind(Sn))}})}class dt{constructor(Sn){return Sn}}class Xe{constructor(){return(0,b.CA)("auth")}}const Pt=new O.nKC("angularfire2.auth-instances");function jt(lr){return(Sn,Ti)=>{const Nr=Sn.runOutsideAngular(()=>lr(Ti));return new dt(Nr)}}const en={provide:Xe,deps:[[new O.Xx1,Pt]]},_t={provide:dt,useFactory:function zt(lr,Sn){const Ti=(0,b.lR)("auth",lr,Sn);return Ti&&new dt(Ti)},deps:[[new O.Xx1,Pt],Y.XU]};function Rt(lr,...Sn){return(0,Pe.KO)("angularfire",b.xv.full,"auth"),(0,O.EmA)([_t,en,{provide:Pt,useFactory:jt(lr),multi:!0,deps:[O.SKi,O.zZn,b.u0,Y.gL,[new O.Xx1,T.kR],...Sn]}])}const Oe=(0,b.S3)(De,!0),kn=(0,b.S3)(rt.eJ,!0,2),et=(0,b.S3)(rt.xI,!0),Pr=(0,b.S3)(rt.J1,!0,2),Ki=(0,b.S3)(rt.x9,!0,2),Zt=(0,b.S3)(rt.CI,!0,2)},6354:(Dn,We,H)=>{"use strict";H.d(We,{T:()=>Y});var b=H(9974),O=H(4360);function Y(T,Pe){return(0,b.N)((rt,Ie)=>{let De=0;rt.subscribe((0,O._)(Ie,Ge=>{Ie.next(T.call(Pe,Ge,De++))}))})}},6365:(Dn,We,H)=>{"use strict";H.d(We,{U:()=>Y});var b=H(1397),O=H(3669);function Y(T=1/0){return(0,b.Z)(O.D,T)}},6450:(Dn,We,H)=>{"use strict";H.d(We,{I:()=>T});var b=H(6354);const{isArray:O}=Array;function T(Pe){return(0,b.T)(rt=>function Y(Pe,rt){return O(rt)?Pe(...rt):Pe(rt)}(Pe,rt))}},6745:(Dn,We,H)=>{"use strict";H.d(We,{_:()=>O});var b=H(9974);function O(Y,T=0){return(0,b.N)((Pe,rt)=>{rt.add(Y.schedule(()=>Pe.subscribe(rt),T))})}},6780:(Dn,We,H)=>{"use strict";H.d(We,{R:()=>Pe});var b=H(8359);class O extends b.yU{constructor(Ie,De){super()}schedule(Ie,De=0){return this}}const Y={setInterval(rt,Ie,...De){const{delegate:Ge}=Y;return Ge?.setInterval?Ge.setInterval(rt,Ie,...De):setInterval(rt,Ie,...De)},clearInterval(rt){const{delegate:Ie}=Y;return(Ie?.clearInterval||clearInterval)(rt)},delegate:void 0};var T=H(7908);class Pe extends O{constructor(Ie,De){super(Ie,De),this.scheduler=Ie,this.work=De,this.pending=!1}schedule(Ie,De=0){var Ge;if(this.closed)return this;this.state=Ie;const be=this.id,Te=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(Te,be,De)),this.pending=!0,this.delay=De,this.id=null!==(Ge=this.id)&&void 0!==Ge?Ge:this.requestAsyncId(Te,this.id,De),this}requestAsyncId(Ie,De,Ge=0){return Y.setInterval(Ie.flush.bind(Ie,this),Ge)}recycleAsyncId(Ie,De,Ge=0){if(null!=Ge&&this.delay===Ge&&!1===this.pending)return De;null!=De&&Y.clearInterval(De)}execute(Ie,De){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(Ie,De);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,De){let be,Ge=!1;try{this.work(Ie)}catch(Te){Ge=!0,be=Te||new Error("Scheduled action threw falsy error")}if(Ge)return this.unsubscribe(),be}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:De}=this,{actions:Ge}=De;this.work=this.state=this.scheduler=null,this.pending=!1,(0,T.o)(Ge,this),null!=Ie&&(this.id=this.recycleAsyncId(De,Ie,null)),this.delay=null,super.unsubscribe()}}}},6810:(Dn,We,H)=>{"use strict";H.d(We,{y:()=>be});var b=H(467),O=H(9967),Y=H(3273),T=H(4843),Pe=H(5558),rt=H(6354),Ie=H(1360),De=H(6335),Ge=H(4796);let be=(()=>{class Te{firestore;auth;authService;constructor(Xe,ht,Pt){this.firestore=Xe,this.auth=ht,this.authService=Pt,console.log("%c<<< Start TODO service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}addTodo(Xe){var ht=this;return(0,b.A)(function*(){const Pt=yield(0,T._)(ht.authService.getCurrentUser());if(!Pt?.uid)throw new Error("Usuario no autenticado");const zt=(0,O.rJ)(ht.firestore,`users/${Pt.uid}/todos`),jt=(0,O.H9)(zt),en=new Date,_t={...Xe,id:jt.id,completed:!1,createdAt:en,updatedAt:en};console.log("\u{1f9fe} Creando tarea en:",`users/${Pt.uid}/todos/${jt.id}`),console.log("\u{1f4dd} Datos:",_t),yield(0,O.BN)(jt,_t)})()}getTodos(){return this.authService.getCurrentUser().pipe((0,Pe.n)(Xe=>{const ht=(0,O.rJ)(this.firestore,`users/${Xe.uid}/todos`);return(0,O.xs)(ht,{idField:"id"})}))}updateTodo(Xe,ht){var Pt=this;return(0,b.A)(function*(){const zt=yield(0,T._)(Pt.authService.getCurrentUser());if(!zt?.uid)throw new Error("Usuario no autenticado");const jt=(0,O.H9)(Pt.firestore,`users/${zt.uid}/todos/${Xe}`);yield(0,O.mZ)(jt,{...ht,updatedAt:Y.Dc.now()})})()}deleteTodo(Xe){var ht=this;return(0,b.A)(function*(){const Pt=yield(0,T._)(ht.authService.getCurrentUser());if(!Pt?.uid)throw new Error("Usuario no autenticado");const zt=(0,O.H9)(ht.firestore,`users/${Pt.uid}/todos/${Xe}`);yield(0,O.kd)(zt)})()}clearAllTodos(){var Xe=this;return(0,b.A)(function*(){const ht=yield(0,T._)(Xe.getTodos()),Pt=yield(0,T._)(Xe.authService.getCurrentUser());if(!Pt?.uid)throw new Error("Usuario no autenticado");const zt=ht.map(jt=>(0,O.kd)((0,O.H9)(Xe.firestore,`users/${Pt.uid}/todos/${jt.id}`)));yield Promise.all(zt)})()}getPendingTodosCount(){return this.authService.getCurrentUser().pipe((0,Pe.n)(Xe=>{const ht=(0,O.rJ)(this.firestore,`users/${Xe.uid}/todos`),Pt=(0,O.P)(ht,(0,O._M)("completed","==",!1));return(0,O.xs)(Pt).pipe((0,rt.T)(zt=>zt.length))}))}getTodoById(Xe){var ht=this;return(0,b.A)(function*(){const Pt=yield(0,T._)(ht.authService.getCurrentUser());if(!Pt?.uid)throw new Error("Usuario no autenticado");const zt=(0,O.H9)(ht.firestore,`users/${Pt.uid}/todos/${Xe}`),jt=yield(0,O.x7)(zt);if(!jt.exists())throw new Error("Tarea no encontrada");return jt.data()})()}static \u0275fac=function(ht){return new(ht||Te)(Ie.KVO(O._7),Ie.KVO(De.Nj),Ie.KVO(Ge.u))};static \u0275prov=Ie.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})()},6858:(Dn,We,H)=>{"use strict";H.d(We,{cY:()=>Tt,FA:()=>er,g:()=>Vn,K3:()=>De,u:()=>dt,Uj:()=>Te,Fy:()=>Un,tD:()=>ur,bD:()=>ri,hp:()=>Ar,T9:()=>st,Tj:()=>Rt,yU:()=>Oe,XA:()=>Je,mS:()=>zt,Ku:()=>Vi,ZQ:()=>sn,sr:()=>ye,zJ:()=>Qt,c1:()=>pe,Im:()=>Qn,lT:()=>Ze,zW:()=>qt,jZ:()=>kt,lV:()=>oe,nr:()=>tn,Ov:()=>Jn,gE:()=>bt,Am:()=>Tr,I9:()=>Ei,P1:()=>et,eX:()=>Xn});var b=H(467);const rt=function(Ce){const _e=[];let $e=0;for(let Vt=0;Vt<Ce.length;Vt++){let tt=Ce.charCodeAt(Vt);tt<128?_e[$e++]=tt:tt<2048?(_e[$e++]=tt>>6|192,_e[$e++]=63&tt|128):55296==(64512&tt)&&Vt+1<Ce.length&&56320==(64512&Ce.charCodeAt(Vt+1))?(tt=65536+((1023&tt)<<10)+(1023&Ce.charCodeAt(++Vt)),_e[$e++]=tt>>18|240,_e[$e++]=tt>>12&63|128,_e[$e++]=tt>>6&63|128,_e[$e++]=63&tt|128):(_e[$e++]=tt>>12|224,_e[$e++]=tt>>6&63|128,_e[$e++]=63&tt|128)}return _e},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ce,_e){if(!Array.isArray(Ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $e=_e?this.byteToCharMapWebSafe_:this.byteToCharMap_,Vt=[];for(let tt=0;tt<Ce.length;tt+=3){const Jt=Ce[tt],Pn=tt+1<Ce.length,pr=Pn?Ce[tt+1]:0,se=tt+2<Ce.length,le=se?Ce[tt+2]:0;let At=(15&pr)<<2|le>>6,ce=63&le;se||(ce=64,Pn||(At=64)),Vt.push($e[Jt>>2],$e[(3&Jt)<<4|pr>>4],$e[At],$e[ce])}return Vt.join("")},encodeString(Ce,_e){return this.HAS_NATIVE_SUPPORT&&!_e?btoa(Ce):this.encodeByteArray(rt(Ce),_e)},decodeString(Ce,_e){return this.HAS_NATIVE_SUPPORT&&!_e?atob(Ce):function(Ce){const _e=[];let $e=0,Vt=0;for(;$e<Ce.length;){const tt=Ce[$e++];if(tt<128)_e[Vt++]=String.fromCharCode(tt);else if(tt>191&&tt<224){const Jt=Ce[$e++];_e[Vt++]=String.fromCharCode((31&tt)<<6|63&Jt)}else if(tt>239&&tt<365){const se=((7&tt)<<18|(63&Ce[$e++])<<12|(63&Ce[$e++])<<6|63&Ce[$e++])-65536;_e[Vt++]=String.fromCharCode(55296+(se>>10)),_e[Vt++]=String.fromCharCode(56320+(1023&se))}else{const Jt=Ce[$e++],Pn=Ce[$e++];_e[Vt++]=String.fromCharCode((15&tt)<<12|(63&Jt)<<6|63&Pn)}}return _e.join("")}(this.decodeStringToByteArray(Ce,_e))},decodeStringToByteArray(Ce,_e){this.init_();const $e=_e?this.charToByteMapWebSafe_:this.charToByteMap_,Vt=[];for(let tt=0;tt<Ce.length;){const Jt=$e[Ce.charAt(tt++)],pr=tt<Ce.length?$e[Ce.charAt(tt)]:0;++tt;const le=tt<Ce.length?$e[Ce.charAt(tt)]:64;++tt;const pt=tt<Ce.length?$e[Ce.charAt(tt)]:64;if(++tt,null==Jt||null==pr||null==le||null==pt)throw new Ge;Vt.push(Jt<<2|pr>>4),64!==le&&(Vt.push(pr<<4&240|le>>2),64!==pt&&Vt.push(le<<6&192|pt))}return Vt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ce=0;Ce<this.ENCODED_VALS.length;Ce++)this.byteToCharMap_[Ce]=this.ENCODED_VALS.charAt(Ce),this.charToByteMap_[this.byteToCharMap_[Ce]]=Ce,this.byteToCharMapWebSafe_[Ce]=this.ENCODED_VALS_WEBSAFE.charAt(Ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ce]]=Ce,Ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ce)]=Ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ce)]=Ce)}}};class Ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Te=function(Ce){return function(Ce){const _e=rt(Ce);return De.encodeByteArray(_e,!0)}(Ce).replace(/\./g,"")},dt=function(Ce){try{return De.decodeString(Ce,!0)}catch(_e){console.error("base64Decode failed: ",_e)}return null};function zt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const It=()=>{try{return zt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ce=process.env.__FIREBASE_DEFAULTS__;return Ce?JSON.parse(Ce):void 0})()||(()=>{if(typeof document>"u")return;let Ce;try{Ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const _e=Ce&&dt(Ce[1]);return _e&&JSON.parse(_e)})()}catch(Ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ce}`)}},Rt=Ce=>{var _e,$e;return null===($e=null===(_e=It())||void 0===_e?void 0:_e.emulatorHosts)||void 0===$e?void 0:$e[Ce]},Oe=Ce=>{const _e=Rt(Ce);if(!_e)return;const $e=_e.lastIndexOf(":");if($e<=0||$e+1===_e.length)throw new Error(`Invalid host ${_e} with no separate hostname and port!`);const Vt=parseInt(_e.substring($e+1),10);return"["===_e[0]?[_e.substring(1,$e-1),Vt]:[_e.substring(0,$e),Vt]},st=()=>{var Ce;return null===(Ce=It())||void 0===Ce?void 0:Ce.config},Je=Ce=>{var _e;return null===(_e=It())||void 0===_e?void 0:_e[`_${Ce}`]};class Tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_e,$e)=>{this.resolve=_e,this.reject=$e})}wrapCallback(_e){return($e,Vt)=>{$e?this.reject($e):this.resolve(Vt),"function"==typeof _e&&(this.promise.catch(()=>{}),1===_e.length?_e($e):_e($e,Vt))}}}function Qt(Ce){return Ce.endsWith(".cloudworkstations.dev")}function bt(Ce){return ut.apply(this,arguments)}function ut(){return(ut=(0,b.A)(function*(Ce){return(yield fetch(Ce,{credentials:"include"})).ok})).apply(this,arguments)}function Un(Ce,_e){if(Ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Vt=_e||"demo-project",tt=Ce.iat||0,Jt=Ce.sub||Ce.user_id;if(!Jt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pn=Object.assign({iss:`https://securetoken.google.com/${Vt}`,aud:Vt,iat:tt,exp:tt+3600,auth_time:tt,sub:Jt,user_id:Jt,firebase:{sign_in_provider:"custom",identities:{}}},Ce);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(Pn)),""].join(".")}const kn={};let In=!1;function et(Ce,_e){if(typeof window>"u"||typeof document>"u"||!Qt(window.location.host)||kn[Ce]===_e||kn[Ce]||In)return;function $e(At){return`__firebase__banner__${At}`}kn[Ce]=_e;const Vt="__firebase__banner",Jt=function qn(){const Ce={prod:[],emulator:[]};for(const _e of Object.keys(kn))kn[_e]?Ce.emulator.push(_e):Ce.prod.push(_e);return Ce}().prod.length>0;function pt(){const At=function gt(Ce){let _e=document.getElementById(Ce),$e=!1;return _e||(_e=document.createElement("div"),_e.setAttribute("id",Ce),$e=!0),{created:$e,element:_e}}(Vt),ce=$e("text"),ve=document.getElementById(ce)||document.createElement("span"),Ve=$e("learnmore"),Mt=document.getElementById(Ve)||document.createElement("a"),wt=$e("preprendIcon"),yt=document.getElementById(wt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(At.created){const Ft=At.element;(function pr(At){At.style.display="flex",At.style.background="#7faaf0",At.style.position="fixed",At.style.bottom="5px",At.style.left="5px",At.style.padding=".5em",At.style.borderRadius="5px",At.style.alignItems="center"})(Ft),function Re(At,ce){At.setAttribute("id",ce),At.innerText="Learn more",At.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",At.setAttribute("target","__blank"),At.style.paddingLeft="5px",At.style.textDecoration="underline"}(Mt,Ve);const on=function le(){const At=document.createElement("span");return At.style.cursor="pointer",At.style.marginLeft="16px",At.style.fontSize="24px",At.innerHTML=" &times;",At.onclick=()=>{In=!0,function Pn(){const At=document.getElementById(Vt);At&&At.remove()}()},At}();(function se(At,ce){At.setAttribute("width","24"),At.setAttribute("id",ce),At.setAttribute("height","24"),At.setAttribute("viewBox","0 0 24 24"),At.setAttribute("fill","none"),At.style.marginLeft="-6px"})(yt,wt),Ft.append(yt,ve,Mt,on),document.body.appendChild(Ft)}Jt?(ve.innerText="Preview backend disconnected.",yt.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(yt.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',ve.innerText="Preview backend running in this workspace."),ve.setAttribute("id",ce)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",pt):pt()}function sn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function kt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function Qe(){var Ce;const _e=null===(Ce=It())||void 0===Ce?void 0:Ce.forceEnvironment;if("node"===_e)return!0;if("browser"===_e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function ye(){const Ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ce&&void 0!==Ce.id}function oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ze(){const Ce=sn();return Ce.indexOf("MSIE ")>=0||Ce.indexOf("Trident/")>=0}function tn(){return!Qe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jn(){return!Qe()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function qt(){try{return"object"==typeof indexedDB}catch{return!1}}function Xn(){return new Promise((Ce,_e)=>{try{let $e=!0;const Vt="validate-browser-context-for-indexeddb-analytics-module",tt=self.indexedDB.open(Vt);tt.onsuccess=()=>{tt.result.close(),$e||self.indexedDB.deleteDatabase(Vt),Ce(!0)},tt.onupgradeneeded=()=>{$e=!1},tt.onerror=()=>{var Jt;_e((null===(Jt=tt.error)||void 0===Jt?void 0:Jt.message)||"")}}catch($e){_e($e)}})}class Vn extends Error{constructor(_e,$e,Vt){super($e),this.code=_e,this.customData=Vt,this.name="FirebaseError",Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,er.prototype.create)}}class er{constructor(_e,$e,Vt){this.service=_e,this.serviceName=$e,this.errors=Vt}create(_e,...$e){const Vt=$e[0]||{},tt=`${this.service}/${_e}`,Jt=this.errors[_e],Pn=Jt?function An(Ce,_e){return Ce.replace(Pr,($e,Vt)=>{const tt=_e[Vt];return null!=tt?String(tt):`<${Vt}?>`})}(Jt,Vt):"Error";return new Vn(tt,`${this.serviceName}: ${Pn} (${tt}).`,Vt)}}const Pr=/\{\$([^}]+)}/g;function Qn(Ce){for(const _e in Ce)if(Object.prototype.hasOwnProperty.call(Ce,_e))return!1;return!0}function ri(Ce,_e){if(Ce===_e)return!0;const $e=Object.keys(Ce),Vt=Object.keys(_e);for(const tt of $e){if(!Vt.includes(tt))return!1;const Jt=Ce[tt],Pn=_e[tt];if(li(Jt)&&li(Pn)){if(!ri(Jt,Pn))return!1}else if(Jt!==Pn)return!1}for(const tt of Vt)if(!$e.includes(tt))return!1;return!0}function li(Ce){return null!==Ce&&"object"==typeof Ce}function Tr(Ce){const _e=[];for(const[$e,Vt]of Object.entries(Ce))Array.isArray(Vt)?Vt.forEach(tt=>{_e.push(encodeURIComponent($e)+"="+encodeURIComponent(tt))}):_e.push(encodeURIComponent($e)+"="+encodeURIComponent(Vt));return _e.length?"&"+_e.join("&"):""}function Ei(Ce){const _e={};return Ce.replace(/^\?/,"").split("&").forEach(Vt=>{if(Vt){const[tt,Jt]=Vt.split("=");_e[decodeURIComponent(tt)]=decodeURIComponent(Jt)}}),_e}function Ar(Ce){const _e=Ce.indexOf("?");if(!_e)return"";const $e=Ce.indexOf("#",_e);return Ce.substring(_e,$e>0?$e:void 0)}function ur(Ce,_e){const $e=new sr(Ce,_e);return $e.subscribe.bind($e)}class sr{constructor(_e,$e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$e,this.task.then(()=>{_e(this)}).catch(Vt=>{this.error(Vt)})}next(_e){this.forEachObserver($e=>{$e.next(_e)})}error(_e){this.forEachObserver($e=>{$e.error(_e)}),this.close(_e)}complete(){this.forEachObserver(_e=>{_e.complete()}),this.close()}subscribe(_e,$e,Vt){let tt;if(void 0===_e&&void 0===$e&&void 0===Vt)throw new Error("Missing Observer.");tt=function lr(Ce,_e){if("object"!=typeof Ce||null===Ce)return!1;for(const $e of _e)if($e in Ce&&"function"==typeof Ce[$e])return!0;return!1}(_e,["next","error","complete"])?_e:{next:_e,error:$e,complete:Vt},void 0===tt.next&&(tt.next=Sn),void 0===tt.error&&(tt.error=Sn),void 0===tt.complete&&(tt.complete=Sn);const Jt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?tt.error(this.finalError):tt.complete()}catch{}}),this.observers.push(tt),Jt}unsubscribeOne(_e){void 0===this.observers||void 0===this.observers[_e]||(delete this.observers[_e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(_e){if(!this.finalized)for(let $e=0;$e<this.observers.length;$e++)this.sendOne($e,_e)}sendOne(_e,$e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[_e])try{$e(this.observers[_e])}catch(Vt){typeof console<"u"&&console.error&&console.error(Vt)}})}close(_e){this.finalized||(this.finalized=!0,void 0!==_e&&(this.finalError=_e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sn(){}function Vi(Ce){return Ce&&Ce._delegate?Ce._delegate:Ce}},7440:(Dn,We,H)=>{"use strict";H.d(We,{MW:()=>Xe,Wp:()=>jt,XU:()=>T,gL:()=>Pe});var b=H(2214),O=H(1360),Y=H(2967);class T{constructor(st){return st}}class Pe{constructor(){return(0,b.Dk)()}}const De=new O.nKC("angularfire2._apps"),Ge={provide:T,useFactory:function Ie(Oe){return Oe&&1===Oe.length?Oe[0]:new T((0,b.Sx)())},deps:[[new O.Xx1,De]]},be={provide:Pe,deps:[[new O.Xx1,De]]};function Te(Oe){return(st,Je)=>{const Tt=Je.get(O.Agw);(0,b.KO)("angularfire",Y.xv.full,"core"),(0,b.KO)("angularfire",Y.xv.full,"app"),(0,b.KO)("angular",O.xvI.full,Tt.toString());const Qt=st.runOutsideAngular(()=>Oe(Je));return new T(Qt)}}function Xe(Oe,...st){return(0,O.EmA)([Ge,be,{provide:De,useFactory:Te(Oe),multi:!0,deps:[O.SKi,O.zZn,Y.u0,...st]}])}const jt=(0,Y.S3)(b.Wp,!0)},7441:(Dn,We,H)=>{"use strict";H.d(We,{X:()=>b});const b=O=>O&&"number"==typeof O.length&&"function"!=typeof O},7643:(Dn,We,H)=>{"use strict";H.d(We,{$R:()=>wr,Qq:()=>tn}),H(467);var O=H(1360),Y=H(274),T=H(5964),Pe=H(6354),rt=H(980),Ie=H(5558),De=H(7673),Ge=H(1985),be=H(8455),Te=H(9377),dt=H(9361);class Xe{}class ht{}class Pt{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(le){le?"string"==typeof le?this.lazyInit=()=>{this.headers=new Map,le.split("\n").forEach(Re=>{const pt=Re.indexOf(":");if(pt>0){const At=Re.slice(0,pt),ce=Re.slice(pt+1).trim();this.addHeaderEntry(At,ce)}})}:typeof Headers<"u"&&le instanceof Headers?(this.headers=new Map,le.forEach((Re,pt)=>{this.addHeaderEntry(pt,Re)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(le).forEach(([Re,pt])=>{this.setHeaderEntries(Re,pt)})}:this.headers=new Map}has(le){return this.init(),this.headers.has(le.toLowerCase())}get(le){this.init();const Re=this.headers.get(le.toLowerCase());return Re&&Re.length>0?Re[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(le){return this.init(),this.headers.get(le.toLowerCase())||null}append(le,Re){return this.clone({name:le,value:Re,op:"a"})}set(le,Re){return this.clone({name:le,value:Re,op:"s"})}delete(le,Re){return this.clone({name:le,value:Re,op:"d"})}maybeSetNormalizedName(le,Re){this.normalizedNames.has(Re)||this.normalizedNames.set(Re,le)}init(){this.lazyInit&&(this.lazyInit instanceof Pt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(le=>this.applyUpdate(le)),this.lazyUpdate=null))}copyFrom(le){le.init(),Array.from(le.headers.keys()).forEach(Re=>{this.headers.set(Re,le.headers.get(Re)),this.normalizedNames.set(Re,le.normalizedNames.get(Re))})}clone(le){const Re=new Pt;return Re.lazyInit=this.lazyInit&&this.lazyInit instanceof Pt?this.lazyInit:this,Re.lazyUpdate=(this.lazyUpdate||[]).concat([le]),Re}applyUpdate(le){const Re=le.name.toLowerCase();switch(le.op){case"a":case"s":let pt=le.value;if("string"==typeof pt&&(pt=[pt]),0===pt.length)return;this.maybeSetNormalizedName(le.name,Re);const At=("a"===le.op?this.headers.get(Re):void 0)||[];At.push(...pt),this.headers.set(Re,At);break;case"d":const ce=le.value;if(ce){let ve=this.headers.get(Re);if(!ve)return;ve=ve.filter(Ve=>-1===ce.indexOf(Ve)),0===ve.length?(this.headers.delete(Re),this.normalizedNames.delete(Re)):this.headers.set(Re,ve)}else this.headers.delete(Re),this.normalizedNames.delete(Re)}}addHeaderEntry(le,Re){const pt=le.toLowerCase();this.maybeSetNormalizedName(le,pt),this.headers.has(pt)?this.headers.get(pt).push(Re):this.headers.set(pt,[Re])}setHeaderEntries(le,Re){const pt=(Array.isArray(Re)?Re:[Re]).map(ce=>ce.toString()),At=le.toLowerCase();this.headers.set(At,pt),this.maybeSetNormalizedName(le,At)}forEach(le){this.init(),Array.from(this.normalizedNames.keys()).forEach(Re=>le(this.normalizedNames.get(Re),this.headers.get(Re)))}}class jt{encodeKey(le){return Rt(le)}encodeValue(le){return Rt(le)}decodeKey(le){return decodeURIComponent(le)}decodeValue(le){return decodeURIComponent(le)}}const _t=/%(\d[a-f0-9])/gi,It={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Rt(se){return encodeURIComponent(se).replace(_t,(le,Re)=>It[Re]??le)}function Oe(se){return`${se}`}class st{map;encoder;updates=null;cloneFrom=null;constructor(le={}){if(this.encoder=le.encoder||new jt,le.fromString){if(le.fromObject)throw new O.wOt(2805,!1);this.map=function en(se,le){const Re=new Map;return se.length>0&&se.replace(/^\?/,"").split("&").forEach(At=>{const ce=At.indexOf("="),[ve,Ve]=-1==ce?[le.decodeKey(At),""]:[le.decodeKey(At.slice(0,ce)),le.decodeValue(At.slice(ce+1))],Mt=Re.get(ve)||[];Mt.push(Ve),Re.set(ve,Mt)}),Re}(le.fromString,this.encoder)}else le.fromObject?(this.map=new Map,Object.keys(le.fromObject).forEach(Re=>{const pt=le.fromObject[Re],At=Array.isArray(pt)?pt.map(Oe):[Oe(pt)];this.map.set(Re,At)})):this.map=null}has(le){return this.init(),this.map.has(le)}get(le){this.init();const Re=this.map.get(le);return Re?Re[0]:null}getAll(le){return this.init(),this.map.get(le)||null}keys(){return this.init(),Array.from(this.map.keys())}append(le,Re){return this.clone({param:le,value:Re,op:"a"})}appendAll(le){const Re=[];return Object.keys(le).forEach(pt=>{const At=le[pt];Array.isArray(At)?At.forEach(ce=>{Re.push({param:pt,value:ce,op:"a"})}):Re.push({param:pt,value:At,op:"a"})}),this.clone(Re)}set(le,Re){return this.clone({param:le,value:Re,op:"s"})}delete(le,Re){return this.clone({param:le,value:Re,op:"d"})}toString(){return this.init(),this.keys().map(le=>{const Re=this.encoder.encodeKey(le);return this.map.get(le).map(pt=>Re+"="+this.encoder.encodeValue(pt)).join("&")}).filter(le=>""!==le).join("&")}clone(le){const Re=new st({encoder:this.encoder});return Re.cloneFrom=this.cloneFrom||this,Re.updates=(this.updates||[]).concat(le),Re}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(le=>this.map.set(le,this.cloneFrom.map.get(le))),this.updates.forEach(le=>{switch(le.op){case"a":case"s":const Re=("a"===le.op?this.map.get(le.param):void 0)||[];Re.push(Oe(le.value)),this.map.set(le.param,Re);break;case"d":if(void 0===le.value){this.map.delete(le.param);break}{let pt=this.map.get(le.param)||[];const At=pt.indexOf(Oe(le.value));-1!==At&&pt.splice(At,1),pt.length>0?this.map.set(le.param,pt):this.map.delete(le.param)}}}),this.cloneFrom=this.updates=null)}}class Tt{map=new Map;set(le,Re){return this.map.set(le,Re),this}get(le){return this.map.has(le)||this.map.set(le,le.defaultValue()),this.map.get(le)}delete(le){return this.map.delete(le),this}has(le){return this.map.has(le)}keys(){return this.map.keys()}}function bt(se){return typeof ArrayBuffer<"u"&&se instanceof ArrayBuffer}function ut(se){return typeof Blob<"u"&&se instanceof Blob}function Un(se){return typeof FormData<"u"&&se instanceof FormData}const qn="Content-Type",In="X-Request-URL",et="text/plain",sn="application/json",kt=`${sn}, ${et}, */*`;class Qe{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(le,Re,pt,At){let ce;if(this.url=Re,this.method=le.toUpperCase(),function Qt(se){switch(se){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||At?(this.body=void 0!==pt?pt:null,ce=At):ce=pt,ce&&(this.reportProgress=!!ce.reportProgress,this.withCredentials=!!ce.withCredentials,ce.responseType&&(this.responseType=ce.responseType),ce.headers&&(this.headers=ce.headers),ce.context&&(this.context=ce.context),ce.params&&(this.params=ce.params),this.transferCache=ce.transferCache),this.headers??=new Pt,this.context??=new Tt,this.params){const ve=this.params.toString();if(0===ve.length)this.urlWithParams=Re;else{const Ve=Re.indexOf("?");this.urlWithParams=Re+(-1===Ve?"?":Ve<Re.length-1?"&":"")+ve}}else this.params=new st,this.urlWithParams=Re}serializeBody(){return null===this.body?null:"string"==typeof this.body||bt(this.body)||ut(this.body)||Un(this.body)||function kn(se){return typeof URLSearchParams<"u"&&se instanceof URLSearchParams}(this.body)?this.body:this.body instanceof st?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Un(this.body)?null:ut(this.body)?this.body.type||null:bt(this.body)?null:"string"==typeof this.body?et:this.body instanceof st?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?sn:null}clone(le={}){const Re=le.method||this.method,pt=le.url||this.url,At=le.responseType||this.responseType,ce=le.transferCache??this.transferCache,ve=void 0!==le.body?le.body:this.body,Ve=le.withCredentials??this.withCredentials,Mt=le.reportProgress??this.reportProgress;let wt=le.headers||this.headers,yt=le.params||this.params;const Ft=le.context??this.context;return void 0!==le.setHeaders&&(wt=Object.keys(le.setHeaders).reduce((on,Bn)=>on.set(Bn,le.setHeaders[Bn]),wt)),le.setParams&&(yt=Object.keys(le.setParams).reduce((on,Bn)=>on.set(Bn,le.setParams[Bn]),yt)),new Qe(Re,pt,ve,{params:yt,headers:wt,context:Ft,reportProgress:Mt,responseType:At,withCredentials:Ve,transferCache:ce})}}var te=function(se){return se[se.Sent=0]="Sent",se[se.UploadProgress=1]="UploadProgress",se[se.ResponseHeader=2]="ResponseHeader",se[se.DownloadProgress=3]="DownloadProgress",se[se.Response=4]="Response",se[se.User=5]="User",se}(te||{});class fe{headers;status;statusText;url;ok;type;constructor(le,Re=200,pt="OK"){this.headers=le.headers||new Pt,this.status=void 0!==le.status?le.status:Re,this.statusText=le.statusText||pt,this.url=le.url||null,this.ok=this.status>=200&&this.status<300}}class pe extends fe{constructor(le={}){super(le)}type=te.ResponseHeader;clone(le={}){return new pe({headers:le.headers||this.headers,status:void 0!==le.status?le.status:this.status,statusText:le.statusText||this.statusText,url:le.url||this.url||void 0})}}class ye extends fe{body;constructor(le={}){super(le),this.body=void 0!==le.body?le.body:null}type=te.Response;clone(le={}){return new ye({body:void 0!==le.body?le.body:this.body,headers:le.headers||this.headers,status:void 0!==le.status?le.status:this.status,statusText:le.statusText||this.statusText,url:le.url||this.url||void 0})}}class oe extends fe{name="HttpErrorResponse";message;error;ok=!1;constructor(le){super(le,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${le.url||"(unknown url)"}`:`Http failure response for ${le.url||"(unknown url)"}: ${le.status} ${le.statusText}`,this.error=le.error||null}}function cn(se,le){return{body:le,headers:se.headers,context:se.context,observe:se.observe,params:se.params,reportProgress:se.reportProgress,responseType:se.responseType,withCredentials:se.withCredentials,transferCache:se.transferCache}}let tn=(()=>{class se{handler;constructor(Re){this.handler=Re}request(Re,pt,At={}){let ce;if(Re instanceof Qe)ce=Re;else{let Mt,wt;Mt=At.headers instanceof Pt?At.headers:new Pt(At.headers),At.params&&(wt=At.params instanceof st?At.params:new st({fromObject:At.params})),ce=new Qe(Re,pt,void 0!==At.body?At.body:null,{headers:Mt,context:At.context,params:wt,reportProgress:At.reportProgress,responseType:At.responseType||"json",withCredentials:At.withCredentials,transferCache:At.transferCache})}const ve=(0,De.of)(ce).pipe((0,Y.H)(Mt=>this.handler.handle(Mt)));if(Re instanceof Qe||"events"===At.observe)return ve;const Ve=ve.pipe((0,T.p)(Mt=>Mt instanceof ye));switch(At.observe||"body"){case"body":switch(ce.responseType){case"arraybuffer":return Ve.pipe((0,Pe.T)(Mt=>{if(null!==Mt.body&&!(Mt.body instanceof ArrayBuffer))throw new O.wOt(2806,!1);return Mt.body}));case"blob":return Ve.pipe((0,Pe.T)(Mt=>{if(null!==Mt.body&&!(Mt.body instanceof Blob))throw new O.wOt(2807,!1);return Mt.body}));case"text":return Ve.pipe((0,Pe.T)(Mt=>{if(null!==Mt.body&&"string"!=typeof Mt.body)throw new O.wOt(2808,!1);return Mt.body}));default:return Ve.pipe((0,Pe.T)(Mt=>Mt.body))}case"response":return Ve;default:throw new O.wOt(2809,!1)}}delete(Re,pt={}){return this.request("DELETE",Re,pt)}get(Re,pt={}){return this.request("GET",Re,pt)}head(Re,pt={}){return this.request("HEAD",Re,pt)}jsonp(Re,pt){return this.request("JSONP",Re,{params:(new st).append(pt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Re,pt={}){return this.request("OPTIONS",Re,pt)}patch(Re,pt,At={}){return this.request("PATCH",Re,cn(At,pt))}post(Re,pt,At={}){return this.request("POST",Re,cn(At,pt))}put(Re,pt,At={}){return this.request("PUT",Re,cn(At,pt))}static \u0275fac=function(pt){return new(pt||se)(O.KVO(Xe))};static \u0275prov=O.jDH({token:se,factory:se.\u0275fac})}return se})();const Xn=new O.nKC("");function An(se,le){return le(se)}const pn=new O.nKC(""),dr=new O.nKC(""),un=new O.nKC("",{providedIn:"root",factory:()=>!0});let ft=(()=>{class se extends Xe{backend;injector;chain=null;pendingTasks=(0,O.WQX)(O.Ua0);contributeToStability=(0,O.WQX)(un);constructor(Re,pt){super(),this.backend=Re,this.injector=pt}handle(Re){if(null===this.chain){const pt=Array.from(new Set([...this.injector.get(pn),...this.injector.get(dr,[])]));this.chain=pt.reduceRight((At,ce)=>function Rr(se,le,Re){return(pt,At)=>(0,O.N4e)(Re,()=>le(pt,ce=>se(ce,At)))}(At,ce,this.injector),An)}if(this.contributeToStability){const pt=this.pendingTasks.add();return this.chain(Re,At=>this.backend.handle(At)).pipe((0,rt.j)(()=>this.pendingTasks.remove(pt)))}return this.chain(Re,pt=>this.backend.handle(pt))}static \u0275fac=function(pt){return new(pt||se)(O.KVO(ht),O.KVO(O.uvJ))};static \u0275prov=O.jDH({token:se,factory:se.\u0275fac})}return se})();const sr=/^\)\]\}',?\n/,mi=RegExp(`^${In}:`,"m");let Sn=(()=>{class se{xhrFactory;constructor(Re){this.xhrFactory=Re}handle(Re){if("JSONP"===Re.method)throw new O.wOt(-2800,!1);const pt=this.xhrFactory;return(pt.\u0275loadImpl?(0,be.H)(pt.\u0275loadImpl()):(0,De.of)(null)).pipe((0,Ie.n)(()=>new Ge.c(ce=>{const ve=pt.build();if(ve.open(Re.method,Re.urlWithParams),Re.withCredentials&&(ve.withCredentials=!0),Re.headers.forEach((Kn,or)=>ve.setRequestHeader(Kn,or.join(","))),Re.headers.has("Accept")||ve.setRequestHeader("Accept",kt),!Re.headers.has(qn)){const Kn=Re.detectContentTypeHeader();null!==Kn&&ve.setRequestHeader(qn,Kn)}if(Re.responseType){const Kn=Re.responseType.toLowerCase();ve.responseType="json"!==Kn?Kn:"text"}const Ve=Re.serializeBody();let Mt=null;const wt=()=>{if(null!==Mt)return Mt;const Kn=ve.statusText||"OK",or=new Pt(ve.getAllResponseHeaders()),wi=function lr(se){return"responseURL"in se&&se.responseURL?se.responseURL:mi.test(se.getAllResponseHeaders())?se.getResponseHeader(In):null}(ve)||Re.url;return Mt=new pe({headers:or,status:ve.status,statusText:Kn,url:wi}),Mt},yt=()=>{let{headers:Kn,status:or,statusText:wi,url:Si}=wt(),Ee=null;204!==or&&(Ee=typeof ve.response>"u"?ve.responseText:ve.response),0===or&&(or=Ee?200:0);let je=or>=200&&or<300;if("json"===Re.responseType&&"string"==typeof Ee){const Ye=Ee;Ee=Ee.replace(sr,"");try{Ee=""!==Ee?JSON.parse(Ee):null}catch($t){Ee=Ye,je&&(je=!1,Ee={error:$t,text:Ee})}}je?(ce.next(new ye({body:Ee,headers:Kn,status:or,statusText:wi,url:Si||void 0})),ce.complete()):ce.error(new oe({error:Ee,headers:Kn,status:or,statusText:wi,url:Si||void 0}))},Ft=Kn=>{const{url:or}=wt(),wi=new oe({error:Kn,status:ve.status||0,statusText:ve.statusText||"Unknown Error",url:or||void 0});ce.error(wi)};let on=!1;const Bn=Kn=>{on||(ce.next(wt()),on=!0);let or={type:te.DownloadProgress,loaded:Kn.loaded};Kn.lengthComputable&&(or.total=Kn.total),"text"===Re.responseType&&ve.responseText&&(or.partialText=ve.responseText),ce.next(or)},dn=Kn=>{let or={type:te.UploadProgress,loaded:Kn.loaded};Kn.lengthComputable&&(or.total=Kn.total),ce.next(or)};return ve.addEventListener("load",yt),ve.addEventListener("error",Ft),ve.addEventListener("timeout",Ft),ve.addEventListener("abort",Ft),Re.reportProgress&&(ve.addEventListener("progress",Bn),null!==Ve&&ve.upload&&ve.upload.addEventListener("progress",dn)),ve.send(Ve),ce.next({type:te.Sent}),()=>{ve.removeEventListener("error",Ft),ve.removeEventListener("abort",Ft),ve.removeEventListener("load",yt),ve.removeEventListener("timeout",Ft),Re.reportProgress&&(ve.removeEventListener("progress",Bn),null!==Ve&&ve.upload&&ve.upload.removeEventListener("progress",dn)),ve.readyState!==ve.DONE&&ve.abort()}})))}static \u0275fac=function(pt){return new(pt||se)(O.KVO(Te.N0))};static \u0275prov=O.jDH({token:se,factory:se.\u0275fac})}return se})();const Ti=new O.nKC(""),Gn=new O.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Be=new O.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dr{}let Qi=(()=>{class se{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(Re,pt){this.doc=Re,this.cookieName=pt}getToken(){const Re=this.doc.cookie||"";return Re!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Te.bS)(Re,this.cookieName),this.lastCookieString=Re),this.lastToken}static \u0275fac=function(pt){return new(pt||se)(O.KVO(dt.q),O.KVO(Gn))};static \u0275prov=O.jDH({token:se,factory:se.\u0275fac})}return se})();function ii(se,le){const Re=se.url.toLowerCase();if(!(0,O.WQX)(Ti)||"GET"===se.method||"HEAD"===se.method||Re.startsWith("http://")||Re.startsWith("https://"))return le(se);const pt=(0,O.WQX)(Dr).getToken(),At=(0,O.WQX)(Be);return null!=pt&&!se.headers.has(At)&&(se=se.clone({headers:se.headers.set(At,pt)})),le(se)}function wr(...se){const le=[tn,Sn,ft,{provide:Xe,useExisting:ft},{provide:ht,useFactory:()=>(0,O.WQX)(Xn,{optional:!0})??(0,O.WQX)(Sn)},{provide:pn,useValue:ii,multi:!0},{provide:Ti,useValue:!0},{provide:Dr,useClass:Qi}];for(const Re of se)le.push(...Re.\u0275providers);return(0,O.EmA)(le)}},7673:(Dn,We,H)=>{"use strict";H.d(We,{of:()=>Y});var b=H(9326),O=H(8455);function Y(...T){const Pe=(0,b.lI)(T);return(0,O.H)(T,Pe)}},7707:(Dn,We,H)=>{"use strict";H.d(We,{Ms:()=>zt,vU:()=>dt});var b=H(8071),O=H(8359),Y=H(1026),T=H(5334),Pe=H(5343);const rt=Ge("C",void 0,void 0);function Ge(Rt,Oe,st){return{kind:Rt,value:Oe,error:st}}var be=H(9270),Te=H(9786);class dt extends O.yU{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,O.Uv)(Oe)&&Oe.add(this)):this.destination=It}static create(Oe,st,Je){return new zt(Oe,st,Je)}next(Oe){this.isStopped?_t(function De(Rt){return Ge("N",Rt,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?_t(function Ie(Rt){return Ge("E",void 0,Rt)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?_t(rt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function ht(Rt,Oe){return Xe.call(Rt,Oe)}class Pt{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:st}=this;if(st.next)try{st.next(Oe)}catch(Je){jt(Je)}}error(Oe){const{partialObserver:st}=this;if(st.error)try{st.error(Oe)}catch(Je){jt(Je)}else jt(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(st){jt(st)}}}class zt extends dt{constructor(Oe,st,Je){let Tt;if(super(),(0,b.T)(Oe)||!Oe)Tt={next:Oe??void 0,error:st??void 0,complete:Je??void 0};else{let Qt;this&&Y.$.useDeprecatedNextContext?(Qt=Object.create(Oe),Qt.unsubscribe=()=>this.unsubscribe(),Tt={next:Oe.next&&ht(Oe.next,Qt),error:Oe.error&&ht(Oe.error,Qt),complete:Oe.complete&&ht(Oe.complete,Qt)}):Tt=Oe}this.destination=new Pt(Tt)}}function jt(Rt){Y.$.useDeprecatedSynchronousErrorHandling?(0,Te.l)(Rt):(0,T.m)(Rt)}function _t(Rt,Oe){const{onStoppedNotification:st}=Y.$;st&&be.f.setTimeout(()=>st(Rt,Oe))}const It={closed:!0,next:Pe.l,error:function en(Rt){throw Rt},complete:Pe.l}},7759:(Dn,We,H)=>{"use strict";H.d(We,{I:()=>zt});var b=H(6354),O=H(7673),Y=H(9974),T=H(4360),Pe=H(3669),rt=H(1985),Ie=H(3236),De=H(9470);var Te=H(8750),Xe=H(9437),ht=H(1360),Pt=H(7643);let zt=(()=>{class jt{http;BASE_PATH="assets/data/";DATA_FILE="dashboard-data.json";constructor(_t){this.http=_t,console.log("%c<<< Start MOCK-DATA service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getDashboardMetrics(){return this.http.get(`${this.BASE_PATH}dashboard-data.json`)}getTicketGraph(){return this.http.get(`${this.BASE_PATH}${this.DATA_FILE}`).pipe((0,b.T)(_t=>_t.chartData.tickets))}getSatisfactionData(){return this.http.get(`${this.BASE_PATH}satisfaction.json`)}getChannelsData(){return this.http.get(`${this.BASE_PATH}channels.json`)}getNotifications(){return this.http.get(`${this.BASE_PATH}notifications.json`)}getReclamos(){return this.http.get(`${this.BASE_PATH}reclamos.json`).pipe(function dt(jt=1/0){let en;en=jt&&"object"==typeof jt?jt:{count:jt};const{count:_t=1/0,delay:It,resetOnSuccess:Rt=!1}=en;return _t<=0?Pe.D:(0,Y.N)((Oe,st)=>{let Tt,Je=0;const Qt=()=>{let bt=!1;Tt=Oe.subscribe((0,T._)(st,ut=>{Rt&&(Je=0),st.next(ut)},void 0,ut=>{if(Je++<_t){const Un=()=>{Tt?(Tt.unsubscribe(),Tt=null,Qt()):bt=!0};if(null!=It){const kn="number"==typeof It?function be(jt=0,en,_t=Ie.b){let It=-1;return null!=en&&((0,De.m)(en)?_t=en:It=en),new rt.c(Rt=>{let Oe=function Ge(jt){return jt instanceof Date&&!isNaN(jt)}(jt)?+jt-_t.now():jt;Oe<0&&(Oe=0);let st=0;return _t.schedule(function(){Rt.closed||(Rt.next(st++),0<=It?this.schedule(void 0,It):Rt.complete())},Oe)})}(It):(0,Te.Tg)(It(ut,Je)),qn=(0,T._)(st,()=>{qn.unsubscribe(),Un()},()=>{st.complete()});kn.subscribe(qn)}else Un()}else st.error(ut)})),bt&&(Tt.unsubscribe(),Tt=null,Qt())};Qt()})}(2),(0,Xe.W)(_t=>(console.error("\u274c Error al cargar reclamos:",_t),(0,O.of)([]))))}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(_t){const It=16*Math.random()|0;return("x"===_t?It:3&It|8).toString(16)})}static \u0275fac=function(It){return new(It||jt)(ht.KVO(Pt.Qq))};static \u0275prov=ht.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}return jt})()},7852:(Dn,We,H)=>{"use strict";H.d(We,{MF:()=>Sn,j6:()=>li,xZ:()=>Ei,om:()=>ri,Sx:()=>Gn,Dk:()=>qi,Wp:()=>Ti,KO:()=>Qi});var b=H(467),O=H(1362),Y=H(8041),T=H(6858);let rt,Ie;const be=new WeakMap,Te=new WeakMap,dt=new WeakMap,Xe=new WeakMap,ht=new WeakMap;let jt={get(ce,ve,Ve){if(ce instanceof IDBTransaction){if("done"===ve)return Te.get(ce);if("objectStoreNames"===ve)return ce.objectStoreNames||dt.get(ce);if("store"===ve)return Ve.objectStoreNames[1]?void 0:Ve.objectStore(Ve.objectStoreNames[0])}return Rt(ce[ve])},set:(ce,ve,Ve)=>(ce[ve]=Ve,!0),has:(ce,ve)=>ce instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in ce};function It(ce){return"function"==typeof ce?function _t(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ge(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...ve){return ce.apply(Oe(this),ve),Rt(be.get(this))}:function(...ve){return Rt(ce.apply(Oe(this),ve))}:function(ve,...Ve){const Mt=ce.call(Oe(this),ve,...Ve);return dt.set(Mt,ve.sort?ve.sort():[ve]),Rt(Mt)}}(ce):(ce instanceof IDBTransaction&&function zt(ce){if(Te.has(ce))return;const ve=new Promise((Ve,Mt)=>{const wt=()=>{ce.removeEventListener("complete",yt),ce.removeEventListener("error",Ft),ce.removeEventListener("abort",Ft)},yt=()=>{Ve(),wt()},Ft=()=>{Mt(ce.error||new DOMException("AbortError","AbortError")),wt()};ce.addEventListener("complete",yt),ce.addEventListener("error",Ft),ce.addEventListener("abort",Ft)});Te.set(ce,ve)}(ce),((ce,ve)=>ve.some(Ve=>ce instanceof Ve))(ce,function De(){return rt||(rt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,jt):ce)}function Rt(ce){if(ce instanceof IDBRequest)return function Pt(ce){const ve=new Promise((Ve,Mt)=>{const wt=()=>{ce.removeEventListener("success",yt),ce.removeEventListener("error",Ft)},yt=()=>{Ve(Rt(ce.result)),wt()},Ft=()=>{Mt(ce.error),wt()};ce.addEventListener("success",yt),ce.addEventListener("error",Ft)});return ve.then(Ve=>{Ve instanceof IDBCursor&&be.set(Ve,ce)}).catch(()=>{}),ht.set(ve,ce),ve}(ce);if(Xe.has(ce))return Xe.get(ce);const ve=It(ce);return ve!==ce&&(Xe.set(ce,ve),ht.set(ve,ce)),ve}const Oe=ce=>ht.get(ce),Tt=["get","getKey","getAll","getAllKeys","count"],Qt=["put","add","delete","clear"],bt=new Map;function ut(ce,ve){if(!(ce instanceof IDBDatabase)||ve in ce||"string"!=typeof ve)return;if(bt.get(ve))return bt.get(ve);const Ve=ve.replace(/FromIndex$/,""),Mt=ve!==Ve,wt=Qt.includes(Ve);if(!(Ve in(Mt?IDBIndex:IDBObjectStore).prototype)||!wt&&!Tt.includes(Ve))return;const yt=function(){var Ft=(0,b.A)(function*(on,...Bn){const dn=this.transaction(on,wt?"readwrite":"readonly");let Kn=dn.store;return Mt&&(Kn=Kn.index(Bn.shift())),(yield Promise.all([Kn[Ve](...Bn),wt&&dn.done]))[0]});return function(Bn){return Ft.apply(this,arguments)}}();return bt.set(ve,yt),yt}!function en(ce){jt=ce(jt)}(ce=>({...ce,get:(ve,Ve,Mt)=>ut(ve,Ve)||ce.get(ve,Ve,Mt),has:(ve,Ve)=>!!ut(ve,Ve)||ce.has(ve,Ve)}));class Un{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function kn(ce){const ve=ce.getComponent();return"VERSION"===ve?.type}(Ve)){const Mt=Ve.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(Ve=>Ve).join(" ")}}const qn="@firebase/app",In=new Y.Vy("@firebase/app"),et="@firebase/app-compat",sn="@firebase/analytics-compat",kt="@firebase/analytics",Qe="@firebase/app-check-compat",te="@firebase/app-check",fe="@firebase/auth",pe="@firebase/auth-compat",ye="@firebase/database",oe="@firebase/data-connect",ge="@firebase/database-compat",Ze="@firebase/functions",vt="@firebase/functions-compat",cn="@firebase/installations",tn="@firebase/installations-compat",Jn="@firebase/messaging",qt="@firebase/messaging-compat",Xn="@firebase/performance",zn="@firebase/performance-compat",Yt="@firebase/remote-config",Vn="@firebase/remote-config-compat",er="@firebase/storage",An="@firebase/storage-compat",Pr="@firebase/firestore",Rr="@firebase/ai",Ci="@firebase/firestore-compat",pn="firebase",un="[DEFAULT]",Ki={[qn]:"fire-core",[et]:"fire-core-compat",[kt]:"fire-analytics",[sn]:"fire-analytics-compat",[te]:"fire-app-check",[Qe]:"fire-app-check-compat",[fe]:"fire-auth",[pe]:"fire-auth-compat",[ye]:"fire-rtdb",[oe]:"fire-data-connect",[ge]:"fire-rtdb-compat",[Ze]:"fire-fn",[vt]:"fire-fn-compat",[cn]:"fire-iid",[tn]:"fire-iid-compat",[Jn]:"fire-fcm",[qt]:"fire-fcm-compat",[Xn]:"fire-perf",[zn]:"fire-perf-compat",[Yt]:"fire-rc",[Vn]:"fire-rc-compat",[er]:"fire-gcs",[An]:"fire-gcs-compat",[Pr]:"fire-fst",[Ci]:"fire-fst-compat",[Rr]:"fire-vertex","fire-js":"fire-js",[pn]:"fire-js-all"},Mr=new Map,ft=new Map,Er=new Map;function Qn(ce,ve){try{ce.container.addComponent(ve)}catch(Ve){In.debug(`Component ${ve.name} failed to register with FirebaseApp ${ce.name}`,Ve)}}function ri(ce){const ve=ce.name;if(Er.has(ve))return In.debug(`There were multiple attempts to register component ${ve}.`),!1;Er.set(ve,ce);for(const Ve of Mr.values())Qn(Ve,ce);for(const Ve of ft.values())Qn(Ve,ce);return!0}function li(ce,ve){const Ve=ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),ce.container.getProvider(ve)}function Ei(ce){return null!=ce&&void 0!==ce.settings}const ur=new T.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class sr{constructor(ve,Ve,Mt){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new O.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const Sn="11.8.0";function Ti(ce,ve={}){let Ve=ce;"object"!=typeof ve&&(ve={name:ve});const Mt=Object.assign({name:un,automaticDataCollectionEnabled:!0},ve),wt=Mt.name;if("string"!=typeof wt||!wt)throw ur.create("bad-app-name",{appName:String(wt)});if(Ve||(Ve=(0,T.T9)()),!Ve)throw ur.create("no-options");const yt=Mr.get(wt);if(yt){if((0,T.bD)(Ve,yt.options)&&(0,T.bD)(Mt,yt.config))return yt;throw ur.create("duplicate-app",{appName:wt})}const Ft=new O.h1(wt);for(const Bn of Er.values())Ft.addComponent(Bn);const on=new sr(Ve,Mt,Ft);return Mr.set(wt,on),on}function Gn(ce=un){const ve=Mr.get(ce);if(!ve&&ce===un&&(0,T.T9)())return Ti();if(!ve)throw ur.create("no-app",{appName:ce});return ve}function qi(){return Array.from(Mr.values())}function Qi(ce,ve,Ve){var Mt;let wt=null!==(Mt=Ki[ce])&&void 0!==Mt?Mt:ce;Ve&&(wt+=`-${Ve}`);const yt=wt.match(/\s|\//),Ft=ve.match(/\s|\//);if(yt||Ft){const on=[`Unable to register library "${wt}" with version "${ve}":`];return yt&&on.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),yt&&Ft&&on.push("and"),Ft&&on.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void In.warn(on.join(" "))}ri(new O.uA(`${wt}-version`,()=>({library:wt,version:ve}),"VERSION"))}const wr="firebase-heartbeat-store";let Fi=null;function Li(){return Fi||(Fi=function st(ce,ve,{blocked:Ve,upgrade:Mt,blocking:wt,terminated:yt}={}){const Ft=indexedDB.open(ce,ve),on=Rt(Ft);return Mt&&Ft.addEventListener("upgradeneeded",Bn=>{Mt(Rt(Ft.result),Bn.oldVersion,Bn.newVersion,Rt(Ft.transaction),Bn)}),Ve&&Ft.addEventListener("blocked",Bn=>Ve(Bn.oldVersion,Bn.newVersion,Bn)),on.then(Bn=>{yt&&Bn.addEventListener("close",()=>yt()),wt&&Bn.addEventListener("versionchange",dn=>wt(dn.oldVersion,dn.newVersion,dn))}).catch(()=>{}),on}("firebase-heartbeat-database",1,{upgrade:(ce,ve)=>{if(0===ve)try{ce.createObjectStore(wr)}catch(Ve){console.warn(Ve)}}}).catch(ce=>{throw ur.create("idb-open",{originalErrorMessage:ce.message})})),Fi}function Ce(){return(Ce=(0,b.A)(function*(ce){try{const Ve=(yield Li()).transaction(wr),Mt=yield Ve.objectStore(wr).get(Vt(ce));return yield Ve.done,Mt}catch(ve){if(ve instanceof T.g)In.warn(ve.message);else{const Ve=ur.create("idb-get",{originalErrorMessage:ve?.message});In.warn(Ve.message)}}})).apply(this,arguments)}function _e(ce,ve){return $e.apply(this,arguments)}function $e(){return($e=(0,b.A)(function*(ce,ve){try{const Mt=(yield Li()).transaction(wr,"readwrite");yield Mt.objectStore(wr).put(ve,Vt(ce)),yield Mt.done}catch(Ve){if(Ve instanceof T.g)In.warn(Ve.message);else{const Mt=ur.create("idb-set",{originalErrorMessage:Ve?.message});In.warn(Mt.message)}}})).apply(this,arguments)}function Vt(ce){return`${ce.name}!${ce.options.appId}`}class Pn{constructor(ve){this.container=ve,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new le(Ve),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var ve=this;return(0,b.A)(function*(){var Ve,Mt;try{const yt=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=pr();if(null==(null===(Ve=ve._heartbeatsCache)||void 0===Ve?void 0:Ve.heartbeats)&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise,null==(null===(Mt=ve._heartbeatsCache)||void 0===Mt?void 0:Mt.heartbeats))||ve._heartbeatsCache.lastSentHeartbeatDate===Ft||ve._heartbeatsCache.heartbeats.some(on=>on.date===Ft))return;if(ve._heartbeatsCache.heartbeats.push({date:Ft,agent:yt}),ve._heartbeatsCache.heartbeats.length>30){const on=function pt(ce){if(0===ce.length)return-1;let ve=0,Ve=ce[0].date;for(let Mt=1;Mt<ce.length;Mt++)ce[Mt].date<Ve&&(Ve=ce[Mt].date,ve=Mt);return ve}(ve._heartbeatsCache.heartbeats);ve._heartbeatsCache.heartbeats.splice(on,1)}return ve._storage.overwrite(ve._heartbeatsCache)}catch(wt){In.warn(wt)}})()}getHeartbeatsHeader(){var ve=this;return(0,b.A)(function*(){var Ve;try{if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null==(null===(Ve=ve._heartbeatsCache)||void 0===Ve?void 0:Ve.heartbeats)||0===ve._heartbeatsCache.heartbeats.length)return"";const Mt=pr(),{heartbeatsToSend:wt,unsentEntries:yt}=function se(ce,ve=1024){const Ve=[];let Mt=ce.slice();for(const wt of ce){const yt=Ve.find(Ft=>Ft.agent===wt.agent);if(yt){if(yt.dates.push(wt.date),Re(Ve)>ve){yt.dates.pop();break}}else if(Ve.push({agent:wt.agent,dates:[wt.date]}),Re(Ve)>ve){Ve.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:Mt}}(ve._heartbeatsCache.heartbeats),Ft=(0,T.Uj)(JSON.stringify({version:2,heartbeats:wt}));return ve._heartbeatsCache.lastSentHeartbeatDate=Mt,yt.length>0?(ve._heartbeatsCache.heartbeats=yt,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),Ft}catch(Mt){return In.warn(Mt),""}})()}}function pr(){return(new Date).toISOString().substring(0,10)}class le{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.A)(function*(){return!!(0,T.zW)()&&(0,T.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,b.A)(function*(){if(yield ve._canUseIndexedDBPromise){const Mt=yield function Vi(ce){return Ce.apply(this,arguments)}(ve.app);return Mt?.heartbeats?Mt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ve){var Ve=this;return(0,b.A)(function*(){var Mt;if(yield Ve._canUseIndexedDBPromise){const yt=yield Ve.read();return _e(Ve.app,{lastSentHeartbeatDate:null!==(Mt=ve.lastSentHeartbeatDate)&&void 0!==Mt?Mt:yt.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var Ve=this;return(0,b.A)(function*(){var Mt;if(yield Ve._canUseIndexedDBPromise){const yt=yield Ve.read();return _e(Ve.app,{lastSentHeartbeatDate:null!==(Mt=ve.lastSentHeartbeatDate)&&void 0!==Mt?Mt:yt.lastSentHeartbeatDate,heartbeats:[...yt.heartbeats,...ve.heartbeats]})}})()}}function Re(ce){return(0,T.Uj)(JSON.stringify({version:2,heartbeats:ce})).length}!function At(ce){ri(new O.uA("platform-logger",ve=>new Un(ve),"PRIVATE")),ri(new O.uA("heartbeat",ve=>new Pn(ve),"PRIVATE")),Qi(qn,"0.13.0",ce),Qi(qn,"0.13.0","esm2017"),Qi("fire-js","")}("")},7908:(Dn,We,H)=>{"use strict";function b(O,Y){if(O){const T=O.indexOf(Y);0<=T&&O.splice(T,1)}}H.d(We,{o:()=>b})},7953:(Dn,We,H)=>{"use strict";H.d(We,{T:()=>O});var b=H(8071);function O(Y){return Symbol.asyncIterator&&(0,b.T)(Y?.[Symbol.asyncIterator])}},8032:function(Dn){Dn.exports=function(){"use strict";var We={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const b=P=>{const N={};for(const z in P)N[P[z]]="swal2-"+P[z];return N},O=b(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Y=b(["success","warning","info","question","error"]),T="SweetAlert2:",rt=P=>P.charAt(0).toUpperCase()+P.slice(1),Ie=P=>{console.warn(`${T} ${"object"==typeof P?P.join(" "):P}`)},De=P=>{console.error(`${T} ${P}`)},Ge=[],Te=(P,N)=>{(P=>{Ge.includes(P)||(Ge.push(P),Ie(P))})(`"${P}" is deprecated and will be removed in the next major release. Please use "${N}" instead.`)},dt=P=>"function"==typeof P?P():P,Xe=P=>P&&"function"==typeof P.toPromise,ht=P=>Xe(P)?P.toPromise():Promise.resolve(P),Pt=P=>P&&Promise.resolve(P)===P,zt=()=>document.body.querySelector(`.${O.container}`),jt=P=>{const N=zt();return N?N.querySelector(P):null},en=P=>jt(`.${P}`),_t=()=>en(O.popup),It=()=>en(O.icon),Oe=()=>en(O.title),st=()=>en(O["html-container"]),Je=()=>en(O.image),Tt=()=>en(O["progress-steps"]),Qt=()=>en(O["validation-message"]),bt=()=>jt(`.${O.actions} .${O.confirm}`),ut=()=>jt(`.${O.actions} .${O.deny}`),kn=()=>jt(`.${O.loader}`),qn=()=>jt(`.${O.actions} .${O.cancel}`),gt=()=>en(O.actions),In=()=>en(O.footer),et=()=>en(O["timer-progress-bar"]),sn=()=>en(O.close),Qe=()=>{const P=Array.from(_t().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((z,Se)=>{const Lt=parseInt(z.getAttribute("tabindex")),Rn=parseInt(Se.getAttribute("tabindex"));return Lt>Rn?1:Lt<Rn?-1:0}),N=Array.from(_t().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(z=>"-1"!==z.getAttribute("tabindex"));return(P=>{const N=[];for(let z=0;z<P.length;z++)-1===N.indexOf(P[z])&&N.push(P[z]);return N})(P.concat(N)).filter(z=>Rr(z))},te=()=>ge(document.body,O.shown)&&!ge(document.body,O["toast-shown"])&&!ge(document.body,O["no-backdrop"]),fe=()=>_t()&&ge(_t(),O.toast),ye={previousBodyPadding:null},oe=(P,N)=>{if(P.textContent="",N){const Se=(new DOMParser).parseFromString(N,"text/html");Array.from(Se.querySelector("head").childNodes).forEach(Lt=>{P.appendChild(Lt)}),Array.from(Se.querySelector("body").childNodes).forEach(Lt=>{Lt instanceof HTMLVideoElement||Lt instanceof HTMLAudioElement?P.appendChild(Lt.cloneNode(!0)):P.appendChild(Lt)})}},ge=(P,N)=>{if(!N)return!1;const z=N.split(/\s+/);for(let Se=0;Se<z.length;Se++)if(!P.classList.contains(z[Se]))return!1;return!0},vt=(P,N,z)=>{if(((P,N)=>{Array.from(P.classList).forEach(z=>{!Object.values(O).includes(z)&&!Object.values(Y).includes(z)&&!Object.values(N.showClass).includes(z)&&P.classList.remove(z)})})(P,N),N.customClass&&N.customClass[z]){if("string"!=typeof N.customClass[z]&&!N.customClass[z].forEach)return void Ie(`Invalid type of customClass.${z}! Expected string or iterable object, got "${typeof N.customClass[z]}"`);qt(P,N.customClass[z])}},cn=(P,N)=>{if(!N)return null;switch(N){case"select":case"textarea":case"file":return P.querySelector(`.${O.popup} > .${O[N]}`);case"checkbox":return P.querySelector(`.${O.popup} > .${O.checkbox} input`);case"radio":return P.querySelector(`.${O.popup} > .${O.radio} input:checked`)||P.querySelector(`.${O.popup} > .${O.radio} input:first-child`);case"range":return P.querySelector(`.${O.popup} > .${O.range} input`);default:return P.querySelector(`.${O.popup} > .${O.input}`)}},tn=P=>{if(P.focus(),"file"!==P.type){const N=P.value;P.value="",P.value=N}},Jn=(P,N,z)=>{!P||!N||("string"==typeof N&&(N=N.split(/\s+/).filter(Boolean)),N.forEach(Se=>{Array.isArray(P)?P.forEach(Lt=>{z?Lt.classList.add(Se):Lt.classList.remove(Se)}):z?P.classList.add(Se):P.classList.remove(Se)}))},qt=(P,N)=>{Jn(P,N,!0)},Xn=(P,N)=>{Jn(P,N,!1)},zn=(P,N)=>{const z=Array.from(P.children);for(let Se=0;Se<z.length;Se++){const Lt=z[Se];if(Lt instanceof HTMLElement&&ge(Lt,N))return Lt}},Yt=(P,N,z)=>{z===`${parseInt(z)}`&&(z=parseInt(z)),z||0===parseInt(z)?P.style[N]="number"==typeof z?`${z}px`:z:P.style.removeProperty(N)},Vn=function(P){P.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},er=P=>{P.style.display="none"},An=(P,N,z,Se)=>{const Lt=P.querySelector(N);Lt&&(Lt.style[z]=Se)},Pr=function(P,N){N?Vn(P,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):er(P)},Rr=P=>!(!P||!(P.offsetWidth||P.offsetHeight||P.getClientRects().length)),pn=P=>P.scrollHeight>P.clientHeight,dr=P=>{const N=window.getComputedStyle(P),z=parseFloat(N.getPropertyValue("animation-duration")||"0"),Se=parseFloat(N.getPropertyValue("transition-duration")||"0");return z>0||Se>0},un=function(P){let N=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const z=et();Rr(z)&&(N&&(z.style.transition="none",z.style.width="100%"),setTimeout(()=>{z.style.transition=`width ${P/1e3}s linear`,z.style.width="0%"},10))},ft={},Qn=P=>new Promise(N=>{if(!P)return N();const z=window.scrollX,Se=window.scrollY;ft.restoreFocusTimeout=setTimeout(()=>{ft.previousActiveElement instanceof HTMLElement?(ft.previousActiveElement.focus(),ft.previousActiveElement=null):document.body&&document.body.focus(),N()},100),window.scrollTo(z,Se)}),Zt=()=>typeof window>"u"||typeof document>"u",ri=`\n <div aria-labelledby="${O.title}" aria-describedby="${O["html-container"]}" class="${O.popup}" tabindex="-1">\n   <button type="button" class="${O.close}"></button>\n   <ul class="${O["progress-steps"]}"></ul>\n   <div class="${O.icon}"></div>\n   <img class="${O.image}" />\n   <h2 class="${O.title}" id="${O.title}"></h2>\n   <div class="${O["html-container"]}" id="${O["html-container"]}"></div>\n   <input class="${O.input}" />\n   <input type="file" class="${O.file}" />\n   <div class="${O.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${O.select}"></select>\n   <div class="${O.radio}"></div>\n   <label for="${O.checkbox}" class="${O.checkbox}">\n     <input type="checkbox" />\n     <span class="${O.label}"></span>\n   </label>\n   <textarea class="${O.textarea}"></textarea>\n   <div class="${O["validation-message"]}" id="${O["validation-message"]}"></div>\n   <div class="${O.actions}">\n     <div class="${O.loader}"></div>\n     <button type="button" class="${O.confirm}"></button>\n     <button type="button" class="${O.deny}"></button>\n     <button type="button" class="${O.cancel}"></button>\n   </div>\n   <div class="${O.footer}"></div>\n   <div class="${O["timer-progress-bar-container"]}">\n     <div class="${O["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),gi=()=>{ft.currentInstance.resetValidationMessage()},ur=P=>{const N=(()=>{const P=zt();return!!P&&(P.remove(),Xn([document.documentElement,document.body],[O["no-backdrop"],O["toast-shown"],O["has-column"]]),!0)})();if(Zt())return void De("SweetAlert2 requires document to initialize");const z=document.createElement("div");z.className=O.container,N&&qt(z,O["no-transition"]),oe(z,ri);const Se=(P=>"string"==typeof P?document.querySelector(P):P)(P.target);Se.appendChild(z),(P=>{const N=_t();N.setAttribute("role",P.toast?"alert":"dialog"),N.setAttribute("aria-live",P.toast?"polite":"assertive"),P.toast||N.setAttribute("aria-modal","true")})(P),(P=>{"rtl"===window.getComputedStyle(P).direction&&qt(zt(),O.rtl)})(Se),(()=>{const P=_t(),N=zn(P,O.input),z=zn(P,O.file),Se=P.querySelector(`.${O.range} input`),Lt=P.querySelector(`.${O.range} output`),Rn=zn(P,O.select),ar=P.querySelector(`.${O.checkbox} input`),ji=zn(P,O.textarea);N.oninput=gi,z.onchange=gi,Rn.onchange=gi,ar.onchange=gi,ji.oninput=gi,Se.oninput=()=>{gi(),Lt.value=Se.value},Se.onchange=()=>{gi(),Lt.value=Se.value}})()},sr=(P,N)=>{P instanceof HTMLElement?N.appendChild(P):"object"==typeof P?mi(P,N):P&&oe(N,P)},mi=(P,N)=>{P.jquery?lr(N,P):oe(N,P.toString())},lr=(P,N)=>{if(P.textContent="",0 in N)for(let z=0;z in N;z++)P.appendChild(N[z].cloneNode(!0));else P.appendChild(N.cloneNode(!0))},Sn=(()=>{if(Zt())return!1;const P=document.createElement("div"),N={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const z in N)if(Object.prototype.hasOwnProperty.call(N,z)&&typeof P.style[z]<"u")return N[z];return!1})(),Nr=(P,N)=>{const z=gt(),Se=kn();N.showConfirmButton||N.showDenyButton||N.showCancelButton?Vn(z):er(z),vt(z,N,"actions"),function Gn(P,N,z){const Se=bt(),Lt=ut(),Rn=qn();Be(Se,"confirm",z),Be(Lt,"deny",z),Be(Rn,"cancel",z),function qi(P,N,z,Se){Se.buttonsStyling?(qt([P,N,z],O.styled),Se.confirmButtonColor&&(P.style.backgroundColor=Se.confirmButtonColor,qt(P,O["default-outline"])),Se.denyButtonColor&&(N.style.backgroundColor=Se.denyButtonColor,qt(N,O["default-outline"])),Se.cancelButtonColor&&(z.style.backgroundColor=Se.cancelButtonColor,qt(z,O["default-outline"]))):Xn([P,N,z],O.styled)}(Se,Lt,Rn,z),z.reverseButtons&&(z.toast?(P.insertBefore(Rn,Se),P.insertBefore(Lt,Se)):(P.insertBefore(Rn,N),P.insertBefore(Lt,N),P.insertBefore(Se,N)))}(z,Se,N),oe(Se,N.loaderHtml),vt(Se,N,"loader")};function Be(P,N,z){Pr(P,z[`show${rt(N)}Button`],"inline-block"),oe(P,z[`${N}ButtonText`]),P.setAttribute("aria-label",z[`${N}ButtonAriaLabel`]),P.className=O[N],vt(P,z,`${N}Button`),qt(P,z[`${N}ButtonClass`])}const Qi=(P,N)=>{const z=zt();z&&(function ii(P,N){"string"==typeof N?P.style.background=N:N||qt([document.documentElement,document.body],O["no-backdrop"])}(z,N.backdrop),function Oi(P,N){N in O?qt(P,O[N]):(Ie('The "position" parameter is not valid, defaulting to "center"'),qt(P,O.center))}(z,N.position),function _n(P,N){if(N&&"string"==typeof N){const z=`grow-${N}`;z in O&&qt(P,O[z])}}(z,N.grow),vt(z,N,"container"))};const fr=["input","file","range","select","radio","checkbox","textarea"],Fi=P=>{if(!Jt[P.input])return void De(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${P.input}"`);const N=Vt(P.input),z=Jt[P.input](N,P);Vn(N),setTimeout(()=>{tn(z)})},Vi=(P,N)=>{const z=cn(_t(),P);if(z){(P=>{for(let N=0;N<P.attributes.length;N++){const z=P.attributes[N].name;["type","value","style"].includes(z)||P.removeAttribute(z)}})(z);for(const Se in N)z.setAttribute(Se,N[Se])}},Ce=P=>{const N=Vt(P.input);"object"==typeof P.customClass&&qt(N,P.customClass.input)},_e=(P,N)=>{(!P.placeholder||N.inputPlaceholder)&&(P.placeholder=N.inputPlaceholder)},$e=(P,N,z)=>{if(z.inputLabel){P.id=O.input;const Se=document.createElement("label"),Lt=O["input-label"];Se.setAttribute("for",P.id),Se.className=Lt,"object"==typeof z.customClass&&qt(Se,z.customClass.inputLabel),Se.innerText=z.inputLabel,N.insertAdjacentElement("beforebegin",Se)}},Vt=P=>zn(_t(),O[P]||O.input),tt=(P,N)=>{["string","number"].includes(typeof N)?P.value=`${N}`:Pt(N)||Ie(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof N}"`)},Jt={};Jt.text=Jt.email=Jt.password=Jt.number=Jt.tel=Jt.url=(P,N)=>(tt(P,N.inputValue),$e(P,P,N),_e(P,N),P.type=N.input,P),Jt.file=(P,N)=>($e(P,P,N),_e(P,N),P),Jt.range=(P,N)=>{const z=P.querySelector("input"),Se=P.querySelector("output");return tt(z,N.inputValue),z.type=N.input,tt(Se,N.inputValue),$e(z,P,N),P},Jt.select=(P,N)=>{if(P.textContent="",N.inputPlaceholder){const z=document.createElement("option");oe(z,N.inputPlaceholder),z.value="",z.disabled=!0,z.selected=!0,P.appendChild(z)}return $e(P,P,N),P},Jt.radio=P=>(P.textContent="",P),Jt.checkbox=(P,N)=>{const z=cn(_t(),"checkbox");z.value="1",z.id=O.checkbox,z.checked=!!N.inputValue;const Se=P.querySelector("span");return oe(Se,N.inputPlaceholder),z},Jt.textarea=(P,N)=>{tt(P,N.inputValue),_e(P,N),$e(P,P,N);return setTimeout(()=>{if("MutationObserver"in window){const Se=parseInt(window.getComputedStyle(_t()).width);new MutationObserver(()=>{const Rn=P.offsetWidth+(Se=>parseInt(window.getComputedStyle(Se).marginLeft)+parseInt(window.getComputedStyle(Se).marginRight))(P);_t().style.width=Rn>Se?`${Rn}px`:null}).observe(P,{attributes:!0,attributeFilter:["style"]})}}),P};const Pn=(P,N)=>{const z=st();vt(z,N,"htmlContainer"),N.html?(sr(N.html,z),Vn(z,"block")):N.text?(z.textContent=N.text,Vn(z,"block")):er(z),((P,N)=>{const z=_t(),Se=We.innerParams.get(P),Lt=!Se||N.input!==Se.input;fr.forEach(Rn=>{const ar=zn(z,O[Rn]);Vi(Rn,N.inputAttributes),ar.className=O[Rn],Lt&&er(ar)}),N.input&&(Lt&&Fi(N),Ce(N))})(P,N)},le=(P,N)=>{for(const z in Y)N.icon!==z&&Xn(P,Y[z]);qt(P,Y[N.icon]),ve(P,N),Re(),vt(P,N,"icon")},Re=()=>{const P=_t(),N=window.getComputedStyle(P).getPropertyValue("background-color"),z=P.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Se=0;Se<z.length;Se++)z[Se].style.backgroundColor=N},ce=(P,N)=>{let Se,z=P.innerHTML;N.iconHtml?Se=Ve(N.iconHtml):"success"===N.icon?(Se='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',z=z.replace(/ style=".*?"/g,"")):Se="error"===N.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Ve({question:"?",warning:"!",info:"i"}[N.icon]),z.trim()!==Se.trim()&&oe(P,Se)},ve=(P,N)=>{if(N.iconColor){P.style.color=N.iconColor,P.style.borderColor=N.iconColor;for(const z of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])An(P,z,"backgroundColor",N.iconColor);An(P,".swal2-success-ring","borderColor",N.iconColor)}},Ve=P=>`<div class="${O["icon-content"]}">${P}</div>`,yt=(P,N)=>{P.className=`${O.popup} ${Rr(P)?N.showClass.popup:""}`,N.toast?(qt([document.documentElement,document.body],O["toast-shown"]),qt(P,O.toast)):qt(P,O.modal),vt(P,N,"popup"),"string"==typeof N.customClass&&qt(P,N.customClass),N.icon&&qt(P,O[`icon-${N.icon}`])},on=P=>{const N=document.createElement("li");return qt(N,O["progress-step"]),oe(N,P),N},Bn=P=>{const N=document.createElement("li");return qt(N,O["progress-step-line"]),P.progressStepsDistance&&Yt(N,"width",P.progressStepsDistance),N},Kn=(P,N)=>{((P,N)=>{const z=zt(),Se=_t();N.toast?(Yt(z,"width",N.width),Se.style.width="100%",Se.insertBefore(kn(),It())):Yt(Se,"width",N.width),Yt(Se,"padding",N.padding),N.color&&(Se.style.color=N.color),N.background&&(Se.style.background=N.background),er(Qt()),yt(Se,N)})(0,N),Qi(0,N),((P,N)=>{const z=Tt();N.progressSteps&&0!==N.progressSteps.length?(Vn(z),z.textContent="",N.currentProgressStep>=N.progressSteps.length&&Ie("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),N.progressSteps.forEach((Se,Lt)=>{const Rn=on(Se);if(z.appendChild(Rn),Lt===N.currentProgressStep&&qt(Rn,O["active-progress-step"]),Lt!==N.progressSteps.length-1){const ar=Bn(N);z.appendChild(ar)}})):er(z)})(0,N),((P,N)=>{const z=We.innerParams.get(P),Se=It();z&&N.icon===z.icon?(ce(Se,N),le(Se,N)):N.icon||N.iconHtml?N.icon&&-1===Object.keys(Y).indexOf(N.icon)?(De(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${N.icon}"`),er(Se)):(Vn(Se),ce(Se,N),le(Se,N),qt(Se,N.showClass.icon)):er(Se)})(P,N),((P,N)=>{const z=Je();N.imageUrl?(Vn(z,""),z.setAttribute("src",N.imageUrl),z.setAttribute("alt",N.imageAlt),Yt(z,"width",N.imageWidth),Yt(z,"height",N.imageHeight),z.className=O.image,vt(z,N,"image")):er(z)})(0,N),((P,N)=>{const z=Oe();Pr(z,N.title||N.titleText,"block"),N.title&&sr(N.title,z),N.titleText&&(z.innerText=N.titleText),vt(z,N,"title")})(0,N),((P,N)=>{const z=sn();oe(z,N.closeButtonHtml),vt(z,N,"closeButton"),Pr(z,N.showCloseButton),z.setAttribute("aria-label",N.closeButtonAriaLabel)})(0,N),Pn(P,N),Nr(0,N),((P,N)=>{const z=In();Pr(z,N.footer),N.footer&&sr(N.footer,z),vt(z,N,"footer")})(0,N),"function"==typeof N.didRender&&N.didRender(_t())};function or(){const P=We.innerParams.get(this);if(!P)return;const N=We.domCache.get(this);er(N.loader),fe()?P.icon&&Vn(It()):wi(N),Xn([N.popup,N.actions],O.loading),N.popup.removeAttribute("aria-busy"),N.popup.removeAttribute("data-loading"),N.confirmButton.disabled=!1,N.denyButton.disabled=!1,N.cancelButton.disabled=!1}const wi=P=>{const N=P.popup.getElementsByClassName(P.loader.getAttribute("data-button-to-replace"));N.length?Vn(N[0],"inline-block"):!Rr(bt())&&!Rr(ut())&&!Rr(qn())&&er(P.actions)};const je=()=>bt()&&bt().click(),Kt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Tn=P=>{P.keydownTarget&&P.keydownHandlerAdded&&(P.keydownTarget.removeEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!1)},Cn=(P,N,z)=>{const Se=Qe();if(Se.length)return(N+=z)===Se.length?N=0:-1===N&&(N=Se.length-1),Se[N].focus();_t().focus()},tr=["ArrowRight","ArrowDown"],$r=["ArrowLeft","ArrowUp"],As=(P,N,z)=>{const Se=We.innerParams.get(P);Se&&(N.isComposing||229===N.keyCode||(Se.stopKeydownPropagation&&N.stopPropagation(),"Enter"===N.key?Cr(P,N,Se):"Tab"===N.key?ss(N,Se):[...tr,...$r].includes(N.key)?Hi(N.key):"Escape"===N.key&&Ls(N,Se,z)))},Cr=(P,N,z)=>{if(dt(z.allowEnterKey)&&N.target&&P.getInput()&&N.target instanceof HTMLElement&&N.target.outerHTML===P.getInput().outerHTML){if(["textarea","file"].includes(z.input))return;je(),N.preventDefault()}},ss=(P,N)=>{const z=P.target,Se=Qe();let Lt=-1;for(let Rn=0;Rn<Se.length;Rn++)if(z===Se[Rn]){Lt=Rn;break}Cn(0,Lt,P.shiftKey?-1:1),P.stopPropagation(),P.preventDefault()},Hi=P=>{const N=bt(),z=ut(),Se=qn();if(document.activeElement instanceof HTMLElement&&![N,z,Se].includes(document.activeElement))return;const Lt=tr.includes(P)?"nextElementSibling":"previousElementSibling";let Rn=document.activeElement;for(let ar=0;ar<gt().children.length;ar++){if(Rn=Rn[Lt],!Rn)return;if(Rn instanceof HTMLButtonElement&&Rr(Rn))break}Rn instanceof HTMLButtonElement&&Rn.focus()},Ls=(P,N,z)=>{dt(N.allowEscapeKey)&&(P.preventDefault(),z(Kt.esc))};var ts={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const me=()=>{Array.from(document.body.children).forEach(N=>{N.hasAttribute("data-previous-aria-hidden")?(N.setAttribute("aria-hidden",N.getAttribute("data-previous-aria-hidden")),N.removeAttribute("data-previous-aria-hidden")):N.removeAttribute("aria-hidden")})},ie=()=>{const P=navigator.userAgent,N=!!P.match(/iPad/i)||!!P.match(/iPhone/i),z=!!P.match(/WebKit/i);N&&z&&!P.match(/CriOS/i)&&_t().scrollHeight>window.innerHeight-44&&(zt().style.paddingBottom="44px")},Ne=()=>{const P=zt();let N;P.ontouchstart=z=>{N=Ct(z)},P.ontouchmove=z=>{N&&(z.preventDefault(),z.stopPropagation())}},Ct=P=>{const N=P.target,z=zt();return!ln(P)&&!On(P)&&(N===z||!pn(z)&&N instanceof HTMLElement&&"INPUT"!==N.tagName&&"TEXTAREA"!==N.tagName&&!(pn(st())&&st().contains(N)))},ln=P=>P.touches&&P.touches.length&&"stylus"===P.touches[0].touchType,On=P=>P.touches&&P.touches.length>1,Gr=()=>{null===ye.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(ye.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ye.previousBodyPadding+(()=>{const P=document.createElement("div");P.className=O["scrollbar-measure"],document.body.appendChild(P);const N=P.getBoundingClientRect().width-P.clientWidth;return document.body.removeChild(P),N})()}px`)};function gr(P,N,z,Se){fe()?mt(P,Se):(Qn(z).then(()=>mt(P,Se)),Tn(ft)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(N.setAttribute("style","display:none !important"),N.removeAttribute("class"),N.innerHTML=""):N.remove(),te()&&(null!==ye.previousBodyPadding&&(document.body.style.paddingRight=`${ye.previousBodyPadding}px`,ye.previousBodyPadding=null),(()=>{if(ge(document.body,O.iosfix)){const P=parseInt(document.body.style.top,10);Xn(document.body,O.iosfix),document.body.style.top="",document.body.scrollTop=-1*P}})(),me()),function Ln(){Xn([document.documentElement,document.body],[O.shown,O["height-auto"],O["no-backdrop"],O["toast-shown"]])}()}function mr(P){P=de(P);const N=ts.swalPromiseResolve.get(this),z=yi(this);this.isAwaitingPromise()?P.isDismissed||($s(this),N(P)):z&&N(P)}const yi=P=>{const N=_t();if(!N)return!1;const z=We.innerParams.get(P);if(!z||ge(N,z.hideClass.popup))return!1;Xn(N,z.showClass.popup),qt(N,z.hideClass.popup);const Se=zt();return Xn(Se,z.showClass.backdrop),qt(Se,z.hideClass.backdrop),it(P,N,z),!0};const $s=P=>{P.isAwaitingPromise()&&(We.awaitingPromise.delete(P),We.innerParams.get(P)||P._destroy())},de=P=>typeof P>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},P),it=(P,N,z)=>{const Se=zt(),Lt=Sn&&dr(N);"function"==typeof z.willClose&&z.willClose(N),Lt?ke(P,N,Se,z.returnFocus,z.didClose):gr(P,Se,z.returnFocus,z.didClose)},ke=(P,N,z,Se,Lt)=>{ft.swalCloseEventFinishedCallback=gr.bind(null,P,z,Se,Lt),N.addEventListener(Sn,function(Rn){Rn.target===N&&(ft.swalCloseEventFinishedCallback(),delete ft.swalCloseEventFinishedCallback)})},mt=(P,N)=>{setTimeout(()=>{"function"==typeof N&&N.bind(P.params)(),P._destroy()})};function nn(P,N,z){const Se=We.domCache.get(P);N.forEach(Lt=>{Se[Lt].disabled=z})}function vn(P,N){if(P)if("radio"===P.type){const Se=P.parentNode.parentNode.querySelectorAll("input");for(let Lt=0;Lt<Se.length;Lt++)Se[Lt].disabled=N}else P.disabled=N}const En={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},so=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],vs={},Cs=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Qs=P=>Object.prototype.hasOwnProperty.call(En,P),Ss=P=>-1!==so.indexOf(P),Eo=P=>vs[P],oo=P=>{Qs(P)||Ie(`Unknown parameter "${P}"`)},kr=P=>{Cs.includes(P)&&Ie(`The parameter "${P}" is incompatible with toasts`)},Hs=P=>{Eo(P)&&Te(P,Eo(P))};const wo=P=>{const N={};return Object.keys(P).forEach(z=>{Ss(z)?N[z]=P[z]:Ie(`Invalid parameter to update: ${z}`)}),N};const os=P=>{qr(P),delete P.params,delete ft.keydownHandler,delete ft.keydownTarget,delete ft.currentInstance},qr=P=>{P.isAwaitingPromise()?(Qr(We,P),We.awaitingPromise.set(P,!0)):(Qr(ts,P),Qr(We,P))},Qr=(P,N)=>{for(const z in P)P[z].delete(N)};var Io=Object.freeze({__proto__:null,hideLoading:or,disableLoading:or,getInput:function Si(P){const N=We.innerParams.get(P||this),z=We.domCache.get(P||this);return z?cn(z.popup,N.input):null},close:mr,isAwaitingPromise:function zi(){return!!We.awaitingPromise.get(this)},rejectPromise:function _s(P){const N=ts.swalPromiseReject.get(this);$s(this),N&&N(P)},handleAwaitingPromise:$s,closePopup:mr,closeModal:mr,closeToast:mr,enableButtons:function jn(){nn(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Xi(){nn(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function hs(){vn(this.getInput(),!1)},disableInput:function Po(){vn(this.getInput(),!0)},showValidationMessage:function Yr(P){const N=We.domCache.get(this),z=We.innerParams.get(this);oe(N.validationMessage,P),N.validationMessage.className=O["validation-message"],z.customClass&&z.customClass.validationMessage&&qt(N.validationMessage,z.customClass.validationMessage),Vn(N.validationMessage);const Se=this.getInput();Se&&(Se.setAttribute("aria-invalid",!0),Se.setAttribute("aria-describedby",O["validation-message"]),tn(Se),qt(Se,O.inputerror))},resetValidationMessage:function io(){const P=We.domCache.get(this);P.validationMessage&&er(P.validationMessage);const N=this.getInput();N&&(N.removeAttribute("aria-invalid"),N.removeAttribute("aria-describedby"),Xn(N,O.inputerror))},update:function zs(P){const N=_t(),z=We.innerParams.get(this);if(!N||ge(N,z.hideClass.popup))return void Ie("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Se=wo(P),Lt=Object.assign({},z,Se);Kn(this,Lt),We.innerParams.set(this,Lt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,P),writable:!1,enumerable:!0}})},_destroy:function zr(){const P=We.domCache.get(this),N=We.innerParams.get(this);N?(P.popup&&ft.swalCloseEventFinishedCallback&&(ft.swalCloseEventFinishedCallback(),delete ft.swalCloseEventFinishedCallback),"function"==typeof N.didDestroy&&N.didDestroy(),os(this)):qr(this)}});const Rs=P=>{let N=_t();N||new ti,N=_t();const z=kn();fe()?er(It()):Ps(N,P),Vn(z),N.setAttribute("data-loading","true"),N.setAttribute("aria-busy","true"),N.focus()},Ps=(P,N)=>{const z=gt(),Se=kn();!N&&Rr(bt())&&(N=bt()),Vn(z),N&&(er(N),Se.setAttribute("data-button-to-replace",N.className)),Se.parentNode.insertBefore(Se,N),qt([P,z],O.loading)},Ui=P=>P.checked?1:0,Bo=P=>P.checked?P.value:null,Ms=P=>P.files.length?null!==P.getAttribute("multiple")?P.files:P.files[0]:null,xr=(P,N)=>{const z=_t(),Se=Lt=>{Zi[N.input](z,na(Lt),N)};Xe(N.inputOptions)||Pt(N.inputOptions)?(Rs(bt()),ht(N.inputOptions).then(Lt=>{P.hideLoading(),Se(Lt)})):"object"==typeof N.inputOptions?Se(N.inputOptions):De("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof N.inputOptions)},yr=(P,N)=>{const z=P.getInput();er(z),ht(N.inputValue).then(Se=>{z.value="number"===N.input?`${parseFloat(Se)||0}`:`${Se}`,Vn(z),z.focus(),P.hideLoading()}).catch(Se=>{De(`Error in inputValue promise: ${Se}`),z.value="",Vn(z),z.focus(),P.hideLoading()})},Zi={select:(P,N,z)=>{const Se=zn(P,O.select),Lt=(Rn,ar,ji)=>{const Gi=document.createElement("option");Gi.value=ji,oe(Gi,ar),Gi.selected=Mo(ji,z.inputValue),Rn.appendChild(Gi)};N.forEach(Rn=>{const ar=Rn[0],ji=Rn[1];if(Array.isArray(ji)){const Gi=document.createElement("optgroup");Gi.label=ar,Gi.disabled=!1,Se.appendChild(Gi),ji.forEach(Is=>Lt(Gi,Is[1],Is[0]))}else Lt(Se,ji,ar)}),Se.focus()},radio:(P,N,z)=>{const Se=zn(P,O.radio);N.forEach(Rn=>{const ar=Rn[0],ji=Rn[1],Gi=document.createElement("input"),Is=document.createElement("label");Gi.type="radio",Gi.name=O.radio,Gi.value=ar,Mo(ar,z.inputValue)&&(Gi.checked=!0);const Go=document.createElement("span");oe(Go,ji),Go.className=O.label,Is.appendChild(Gi),Is.appendChild(Go),Se.appendChild(Is)});const Lt=Se.querySelectorAll("input");Lt.length&&Lt[0].focus()}},na=P=>{const N=[];return typeof Map<"u"&&P instanceof Map?P.forEach((z,Se)=>{let Lt=z;"object"==typeof Lt&&(Lt=na(Lt)),N.push([Se,Lt])}):Object.keys(P).forEach(z=>{let Se=P[z];"object"==typeof Se&&(Se=na(Se)),N.push([z,Se])}),N},Mo=(P,N)=>N&&N.toString()===P.toString(),q=(P,N)=>{const z=We.innerParams.get(P);if(!z.input)return void De(`The "input" parameter is needed to be set when using returnInputValueOn${rt(N)}`);const Se=((P,N)=>{const z=P.getInput();if(!z)return null;switch(N.input){case"checkbox":return Ui(z);case"radio":return Bo(z);case"file":return Ms(z);default:return N.inputAutoTrim?z.value.trim():z.value}})(P,z);z.inputValidator?K(P,Se,N):P.getInput().checkValidity()?"deny"===N?we(P,Se):xt(P,Se):(P.enableButtons(),P.showValidationMessage(z.validationMessage))},K=(P,N,z)=>{const Se=We.innerParams.get(P);P.disableInput(),Promise.resolve().then(()=>ht(Se.inputValidator(N,Se.validationMessage))).then(Rn=>{P.enableButtons(),P.enableInput(),Rn?P.showValidationMessage(Rn):"deny"===z?we(P,N):xt(P,N)})},we=(P,N)=>{const z=We.innerParams.get(P||void 0);z.showLoaderOnDeny&&Rs(ut()),z.preDeny?(We.awaitingPromise.set(P||void 0,!0),Promise.resolve().then(()=>ht(z.preDeny(N,z.validationMessage))).then(Lt=>{!1===Lt?(P.hideLoading(),$s(P)):P.close({isDenied:!0,value:typeof Lt>"u"?N:Lt})}).catch(Lt=>ot(P||void 0,Lt))):P.close({isDenied:!0,value:N})},Me=(P,N)=>{P.close({isConfirmed:!0,value:N})},ot=(P,N)=>{P.rejectPromise(N)},xt=(P,N)=>{const z=We.innerParams.get(P||void 0);z.showLoaderOnConfirm&&Rs(),z.preConfirm?(P.resetValidationMessage(),We.awaitingPromise.set(P||void 0,!0),Promise.resolve().then(()=>ht(z.preConfirm(N,z.validationMessage))).then(Lt=>{Rr(Qt())||!1===Lt?(P.hideLoading(),$s(P)):Me(P,typeof Lt>"u"?N:Lt)}).catch(Lt=>ot(P||void 0,Lt))):Me(P,N)},bn=(P,N,z)=>{N.popup.onclick=()=>{const Se=We.innerParams.get(P);Se&&(gn(Se)||Se.timer||Se.input)||z(Kt.close)}},gn=P=>P.showConfirmButton||P.showDenyButton||P.showCancelButton||P.showCloseButton;let hr=!1;const Zn=P=>{P.popup.onmousedown=()=>{P.container.onmouseup=function(N){P.container.onmouseup=void 0,N.target===P.container&&(hr=!0)}}},Fr=P=>{P.container.onmousedown=()=>{P.popup.onmouseup=function(N){P.popup.onmouseup=void 0,(N.target===P.popup||P.popup.contains(N.target))&&(hr=!0)}}},Ii=(P,N,z)=>{N.container.onclick=Se=>{const Lt=We.innerParams.get(P);hr?hr=!1:Se.target===N.container&&dt(Lt.allowOutsideClick)&&z(Kt.backdrop)}},Bi=P=>P instanceof Element||(P=>"object"==typeof P&&P.jquery)(P);const vi=()=>{if(ft.timeout)return(()=>{const P=et(),N=parseInt(window.getComputedStyle(P).width);P.style.removeProperty("transition"),P.style.width="100%";const Se=N/parseInt(window.getComputedStyle(P).width)*100;P.style.removeProperty("transition"),P.style.width=`${Se}%`})(),ft.timeout.stop()},Pi=()=>{if(ft.timeout){const P=ft.timeout.start();return un(P),P}};let Ws=!1;const lo={};const ba=P=>{for(let N=P.target;N&&N!==document;N=N.parentNode)for(const z in lo){const Se=N.getAttribute(z);if(Se)return void lo[z].fire({template:Se})}};var jo=Object.freeze({__proto__:null,isValidParameter:Qs,isUpdatableParameter:Ss,isDeprecatedParameter:Eo,argsToParams:P=>{const N={};return"object"!=typeof P[0]||Bi(P[0])?["title","html","icon"].forEach((z,Se)=>{const Lt=P[Se];"string"==typeof Lt||Bi(Lt)?N[z]=Lt:void 0!==Lt&&De(`Unexpected type of ${z}! Expected "string" or "Element", got ${typeof Lt}`)}):Object.assign(N,P[0]),N},getContainer:zt,getPopup:_t,getTitle:Oe,getHtmlContainer:st,getImage:Je,getIcon:It,getIconContent:()=>en(O["icon-content"]),getInputLabel:()=>en(O["input-label"]),getCloseButton:sn,getActions:gt,getConfirmButton:bt,getDenyButton:ut,getCancelButton:qn,getLoader:kn,getFooter:In,getTimerProgressBar:et,getFocusableElements:Qe,getValidationMessage:Qt,getProgressSteps:Tt,isLoading:()=>_t().hasAttribute("data-loading"),isVisible:()=>Rr(_t()),clickConfirm:je,clickDeny:()=>ut()&&ut().click(),clickCancel:()=>qn()&&qn().click(),fire:function Jr(){for(var N=arguments.length,z=new Array(N),Se=0;Se<N;Se++)z[Se]=arguments[Se];return new this(...z)},mixin:function Ni(P){return class N extends(this){_main(Se,Lt){return super._main(Se,Object.assign({},P,Lt))}}},showLoading:Rs,enableLoading:Rs,getTimerLeft:()=>ft.timeout&&ft.timeout.getTimerLeft(),stopTimer:vi,resumeTimer:Pi,toggleTimer:()=>{const P=ft.timeout;return P&&(P.running?vi():Pi())},increaseTimer:P=>{if(ft.timeout){const N=ft.timeout.increase(P);return un(N,!0),N}},isTimerRunning:()=>ft.timeout&&ft.timeout.isRunning(),bindClickHandler:function da(){lo[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ws||(document.body.addEventListener("click",ba),Ws=!0)}});class ho{constructor(N,z){this.callback=N,this.remaining=z,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(N){const z=this.running;return z&&this.stop(),this.remaining+=N,z&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Fa=["swal-title","swal-html","swal-footer"],$o=P=>{const N={};return Array.from(P.querySelectorAll("swal-param")).forEach(Se=>{bi(Se,["name","value"]);const Lt=Se.getAttribute("name"),Rn=Se.getAttribute("value");N[Lt]="boolean"==typeof En[Lt]?"false"!==Rn:"object"==typeof En[Lt]?JSON.parse(Rn):Rn}),N},ns=P=>{const N={};return Array.from(P.querySelectorAll("swal-function-param")).forEach(Se=>{const Lt=Se.getAttribute("name"),Rn=Se.getAttribute("value");N[Lt]=new Function(`return ${Rn}`)()}),N},No=P=>{const N={};return Array.from(P.querySelectorAll("swal-button")).forEach(Se=>{bi(Se,["type","color","aria-label"]);const Lt=Se.getAttribute("type");N[`${Lt}ButtonText`]=Se.innerHTML,N[`show${rt(Lt)}Button`]=!0,Se.hasAttribute("color")&&(N[`${Lt}ButtonColor`]=Se.getAttribute("color")),Se.hasAttribute("aria-label")&&(N[`${Lt}ButtonAriaLabel`]=Se.getAttribute("aria-label"))}),N},hi=P=>{const N={},z=P.querySelector("swal-image");return z&&(bi(z,["src","width","height","alt"]),z.hasAttribute("src")&&(N.imageUrl=z.getAttribute("src")),z.hasAttribute("width")&&(N.imageWidth=z.getAttribute("width")),z.hasAttribute("height")&&(N.imageHeight=z.getAttribute("height")),z.hasAttribute("alt")&&(N.imageAlt=z.getAttribute("alt"))),N},Ns=P=>{const N={},z=P.querySelector("swal-icon");return z&&(bi(z,["type","color"]),z.hasAttribute("type")&&(N.icon=z.getAttribute("type")),z.hasAttribute("color")&&(N.iconColor=z.getAttribute("color")),N.iconHtml=z.innerHTML),N},ko=P=>{const N={},z=P.querySelector("swal-input");z&&(bi(z,["type","label","placeholder","value"]),N.input=z.getAttribute("type")||"text",z.hasAttribute("label")&&(N.inputLabel=z.getAttribute("label")),z.hasAttribute("placeholder")&&(N.inputPlaceholder=z.getAttribute("placeholder")),z.hasAttribute("value")&&(N.inputValue=z.getAttribute("value")));const Se=Array.from(P.querySelectorAll("swal-input-option"));return Se.length&&(N.inputOptions={},Se.forEach(Lt=>{bi(Lt,["value"]);const Rn=Lt.getAttribute("value");N.inputOptions[Rn]=Lt.innerHTML})),N},Ho=(P,N)=>{const z={};for(const Se in N){const Lt=N[Se],Rn=P.querySelector(Lt);Rn&&(bi(Rn,[]),z[Lt.replace(/^swal-/,"")]=Rn.innerHTML.trim())}return z},zo=P=>{const N=Fa.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(P.children).forEach(z=>{const Se=z.tagName.toLowerCase();N.includes(Se)||Ie(`Unrecognized element <${Se}>`)})},bi=(P,N)=>{Array.from(P.attributes).forEach(z=>{-1===N.indexOf(z.name)&&Ie([`Unrecognized attribute "${z.name}" on <${P.tagName.toLowerCase()}>.`,N.length?`Allowed attributes are: ${N.join(", ")}`:"To set the value, use HTML within the element."])})},Hr=P=>{const N=zt(),z=_t();"function"==typeof P.willOpen&&P.willOpen(z);const Lt=window.getComputedStyle(document.body).overflowY;qa(N,z,P),setTimeout(()=>{Da(N,z)},10),te()&&(Wo(N,P.scrollbarPadding,Lt),Array.from(document.body.children).forEach(N=>{N===zt()||N.contains(zt())||(N.hasAttribute("aria-hidden")&&N.setAttribute("data-previous-aria-hidden",N.getAttribute("aria-hidden")),N.setAttribute("aria-hidden","true"))})),!fe()&&!ft.previousActiveElement&&(ft.previousActiveElement=document.activeElement),"function"==typeof P.didOpen&&setTimeout(()=>P.didOpen(z)),Xn(N,O["no-transition"])},Lr=P=>{const N=_t();if(P.target!==N)return;const z=zt();N.removeEventListener(Sn,Lr),z.style.overflowY="auto"},Da=(P,N)=>{Sn&&dr(N)?(P.style.overflowY="hidden",N.addEventListener(Sn,Lr)):P.style.overflowY="auto"},Wo=(P,N,z)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!ge(document.body,O.iosfix)){const N=document.body.scrollTop;document.body.style.top=-1*N+"px",qt(document.body,O.iosfix),Ne(),ie()}})(),N&&"hidden"!==z&&Gr(),setTimeout(()=>{P.scrollTop=0})},qa=(P,N,z)=>{qt(P,z.showClass.backdrop),N.style.setProperty("opacity","0","important"),Vn(N,"grid"),setTimeout(()=>{qt(N,z.showClass.popup),N.style.removeProperty("opacity")},10),qt([document.documentElement,document.body],O.shown),z.heightAuto&&z.backdrop&&!z.toast&&qt([document.documentElement,document.body],O["height-auto"])};var Aa={email:(P,N)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(P)?Promise.resolve():Promise.resolve(N||"Invalid email address"),url:(P,N)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(P)?Promise.resolve():Promise.resolve(N||"Invalid URL")};function Va(P){(function Qa(P){P.inputValidator||Object.keys(Aa).forEach(N=>{P.input===N&&(P.inputValidator=Aa[N])})})(P),P.showLoaderOnConfirm&&!P.preConfirm&&Ie("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function La(P){(!P.target||"string"==typeof P.target&&!document.querySelector(P.target)||"string"!=typeof P.target&&!P.target.appendChild)&&(Ie('Target parameter is not valid, defaulting to "body"'),P.target="body")}(P),"string"==typeof P.title&&(P.title=P.title.split("\n").join("<br />")),ur(P)}let Gs;class Wr{constructor(){if(typeof window>"u")return;Gs=this;for(var N=arguments.length,z=new Array(N),Se=0;Se<N;Se++)z[Se]=arguments[Se];const Lt=Object.freeze(this.constructor.argsToParams(z));Object.defineProperties(this,{params:{value:Lt,writable:!1,enumerable:!0,configurable:!0}});const Rn=Gs._main(Gs.params);We.promise.set(this,Rn)}_main(N){let z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(P=>{!1===P.backdrop&&P.allowOutsideClick&&Ie('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const N in P)oo(N),P.toast&&kr(N),Hs(N)})(Object.assign({},z,N)),ft.currentInstance&&(ft.currentInstance._destroy(),te()&&me()),ft.currentInstance=Gs;const Se=nr(N,z);Va(Se),Object.freeze(Se),ft.timeout&&(ft.timeout.stop(),delete ft.timeout),clearTimeout(ft.restoreFocusTimeout);const Lt=fi(Gs);return Kn(Gs,Se),We.innerParams.set(Gs,Se),rn(Gs,Lt,Se)}then(N){return We.promise.get(this).then(N)}finally(N){return We.promise.get(this).finally(N)}}const rn=(P,N,z)=>new Promise((Se,Lt)=>{const Rn=ar=>{P.close({isDismissed:!0,dismiss:ar})};ts.swalPromiseResolve.set(P,Se),ts.swalPromiseReject.set(P,Lt),N.confirmButton.onclick=()=>{(P=>{const N=We.innerParams.get(P);P.disableButtons(),N.input?q(P,"confirm"):xt(P,!0)})(P)},N.denyButton.onclick=()=>{(P=>{const N=We.innerParams.get(P);P.disableButtons(),N.returnInputValueOnDeny?q(P,"deny"):we(P,!1)})(P)},N.cancelButton.onclick=()=>{((P,N)=>{P.disableButtons(),N(Kt.cancel)})(P,Rn)},N.closeButton.onclick=()=>{Rn(Kt.close)},((P,N,z)=>{We.innerParams.get(P).toast?bn(P,N,z):(Zn(N),Fr(N),Ii(P,N,z))})(P,N,Rn),((P,N,z,Se)=>{Tn(N),z.toast||(N.keydownHandler=Lt=>As(P,Lt,Se),N.keydownTarget=z.keydownListenerCapture?window:_t(),N.keydownListenerCapture=z.keydownListenerCapture,N.keydownTarget.addEventListener("keydown",N.keydownHandler,{capture:N.keydownListenerCapture}),N.keydownHandlerAdded=!0)})(P,ft,z,Rn),((P,N)=>{"select"===N.input||"radio"===N.input?xr(P,N):["text","email","number","tel","textarea"].includes(N.input)&&(Xe(N.inputValue)||Pt(N.inputValue))&&(Rs(bt()),yr(P,N))})(P,z),Hr(z),Us(ft,z,Rn),Wi(N,z),setTimeout(()=>{N.container.scrollTop=0})}),nr=(P,N)=>{const z=(P=>{const N="string"==typeof P.template?document.querySelector(P.template):P.template;if(!N)return{};const z=N.content;return zo(z),Object.assign($o(z),ns(z),No(z),hi(z),Ns(z),ko(z),Ho(z,Fa))})(P),Se=Object.assign({},En,N,z,P);return Se.showClass=Object.assign({},En.showClass,Se.showClass),Se.hideClass=Object.assign({},En.hideClass,Se.hideClass),Se},fi=P=>{const N={popup:_t(),container:zt(),actions:gt(),confirmButton:bt(),denyButton:ut(),cancelButton:qn(),loader:kn(),closeButton:sn(),validationMessage:Qt(),progressSteps:Tt()};return We.domCache.set(P,N),N},Us=(P,N,z)=>{const Se=et();er(Se),N.timer&&(P.timeout=new ho(()=>{z("timer"),delete P.timeout},N.timer),N.timerProgressBar&&(Vn(Se),vt(Se,N,"timerProgressBar"),setTimeout(()=>{P.timeout&&P.timeout.running&&un(N.timer)})))},Wi=(P,N)=>{if(!N.toast){if(!dt(N.allowEnterKey))return void fo();Ks(P,N)||Cn(0,-1,1)}},Ks=(P,N)=>N.focusDeny&&Rr(P.denyButton)?(P.denyButton.focus(),!0):N.focusCancel&&Rr(P.cancelButton)?(P.cancelButton.focus(),!0):!(!N.focusConfirm||!Rr(P.confirmButton)||(P.confirmButton.focus(),0)),fo=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const P=new Date,N=localStorage.getItem("swal-initiation");N?(P.getTime()-Date.parse(N))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const z=document.createElement("audio");z.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",z.loop=!0,document.body.appendChild(z),setTimeout(()=>{z.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${P}`)}Object.assign(Wr.prototype,Io),Object.assign(Wr,jo),Object.keys(Io).forEach(P=>{Wr[P]=function(){if(Gs)return Gs[P](...arguments)}}),Wr.DismissReason=Kt,Wr.version="11.6.13";const ti=Wr;return ti.default=ti,ti}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(We,H){var b=We.createElement("style");if(We.getElementsByTagName("head")[0].appendChild(b),b.styleSheet)b.styleSheet.disabled||(b.styleSheet.cssText=H);else try{b.innerHTML=H}catch{b.innerText=H}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8041:(Dn,We,H)=>{"use strict";H.d(We,{$b:()=>O,Vy:()=>Ie});const b=[];var O=function(be){return be[be.DEBUG=0]="DEBUG",be[be.VERBOSE=1]="VERBOSE",be[be.INFO=2]="INFO",be[be.WARN=3]="WARN",be[be.ERROR=4]="ERROR",be[be.SILENT=5]="SILENT",be}(O||{});const Y={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},T=O.INFO,Pe={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},rt=(be,Te,...dt)=>{if(Te<be.logLevel)return;const Xe=(new Date).toISOString(),ht=Pe[Te];if(!ht)throw new Error(`Attempted to log a message with an invalid logType (value: ${Te})`);console[ht](`[${Xe}]  ${be.name}:`,...dt)};class Ie{constructor(Te){this.name=Te,this._logLevel=T,this._logHandler=rt,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(Te){if(!(Te in O))throw new TypeError(`Invalid value "${Te}" assigned to \`logLevel\``);this._logLevel=Te}setLogLevel(Te){this._logLevel="string"==typeof Te?Y[Te]:Te}get logHandler(){return this._logHandler}set logHandler(Te){if("function"!=typeof Te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Te}get userLogHandler(){return this._userLogHandler}set userLogHandler(Te){this._userLogHandler=Te}debug(...Te){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...Te),this._logHandler(this,O.DEBUG,...Te)}log(...Te){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...Te),this._logHandler(this,O.VERBOSE,...Te)}info(...Te){this._userLogHandler&&this._userLogHandler(this,O.INFO,...Te),this._logHandler(this,O.INFO,...Te)}warn(...Te){this._userLogHandler&&this._userLogHandler(this,O.WARN,...Te),this._logHandler(this,O.WARN,...Te)}error(...Te){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...Te),this._logHandler(this,O.ERROR,...Te)}}},8071:(Dn,We,H)=>{"use strict";function b(O){return"function"==typeof O}H.d(We,{T:()=>b})},8359:(Dn,We,H)=>{"use strict";H.d(We,{Kn:()=>rt,yU:()=>Pe,Uv:()=>Ie});var b=H(8071);const Y=(0,H(1853).L)(Ge=>function(Te){Ge(this),this.message=Te?`${Te.length} errors occurred during unsubscription:\n${Te.map((dt,Xe)=>`${Xe+1}) ${dt.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Te});var T=H(7908);class Pe{constructor(be){this.initialTeardown=be,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let be;if(!this.closed){this.closed=!0;const{_parentage:Te}=this;if(Te)if(this._parentage=null,Array.isArray(Te))for(const ht of Te)ht.remove(this);else Te.remove(this);const{initialTeardown:dt}=this;if((0,b.T)(dt))try{dt()}catch(ht){be=ht instanceof Y?ht.errors:[ht]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const ht of Xe)try{De(ht)}catch(Pt){be=be??[],Pt instanceof Y?be=[...be,...Pt.errors]:be.push(Pt)}}if(be)throw new Y(be)}}add(be){var Te;if(be&&be!==this)if(this.closed)De(be);else{if(be instanceof Pe){if(be.closed||be._hasParent(this))return;be._addParent(this)}(this._finalizers=null!==(Te=this._finalizers)&&void 0!==Te?Te:[]).push(be)}}_hasParent(be){const{_parentage:Te}=this;return Te===be||Array.isArray(Te)&&Te.includes(be)}_addParent(be){const{_parentage:Te}=this;this._parentage=Array.isArray(Te)?(Te.push(be),Te):Te?[Te,be]:be}_removeParent(be){const{_parentage:Te}=this;Te===be?this._parentage=null:Array.isArray(Te)&&(0,T.o)(Te,be)}remove(be){const{_finalizers:Te}=this;Te&&(0,T.o)(Te,be),be instanceof Pe&&be._removeParent(this)}}Pe.EMPTY=(()=>{const Ge=new Pe;return Ge.closed=!0,Ge})();const rt=Pe.EMPTY;function Ie(Ge){return Ge instanceof Pe||Ge&&"closed"in Ge&&(0,b.T)(Ge.remove)&&(0,b.T)(Ge.add)&&(0,b.T)(Ge.unsubscribe)}function De(Ge){(0,b.T)(Ge)?Ge():Ge.unsubscribe()}},8399:(Dn,We,H)=>{"use strict";var b=H(6048),O=H(9377),Y=H(9361),T=H(1360);const Pe=new T.nKC("");let rt=(()=>{class j{_zone;_plugins;_eventNameToPlugin=new Map;constructor(v,M){this._zone=M,v.forEach(V=>{V.manager=this}),this._plugins=v.slice().reverse()}addEventListener(v,M,V,Z){return this._findPluginFor(M).addEventListener(v,M,V,Z)}getZone(){return this._zone}_findPluginFor(v){let M=this._eventNameToPlugin.get(v);if(M)return M;if(M=this._plugins.find(Z=>Z.supports(v)),!M)throw new T.wOt(5101,!1);return this._eventNameToPlugin.set(v,M),M}static \u0275fac=function(M){return new(M||j)(T.KVO(Pe),T.KVO(T.SKi))};static \u0275prov=T.jDH({token:j,factory:j.\u0275fac})}return j})();class Ie{_doc;constructor(E){this._doc=E}manager}const De="ng-app-id";function Ge(j){for(const E of j)E.remove()}function be(j,E){const v=E.createElement("style");return v.textContent=j,v}function dt(j,E){const v=E.createElement("link");return v.setAttribute("rel","stylesheet"),v.setAttribute("href",j),v}let Xe=(()=>{class j{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(v,M,V,Z={}){this.doc=v,this.appId=M,this.nonce=V,this.isServer=(0,O.Vy)(Z),function Te(j,E,v,M){const V=j.head?.querySelectorAll(`style[${De}="${E}"],link[${De}="${E}"]`);if(V)for(const Z of V)Z.removeAttribute(De),Z instanceof HTMLLinkElement?M.set(Z.href.slice(Z.href.lastIndexOf("/")+1),{usage:0,elements:[Z]}):Z.textContent&&v.set(Z.textContent,{usage:0,elements:[Z]})}(v,M,this.inline,this.external),this.hosts.add(v.head)}addStyles(v,M){for(const V of v)this.addUsage(V,this.inline,be);M?.forEach(V=>this.addUsage(V,this.external,dt))}removeStyles(v,M){for(const V of v)this.removeUsage(V,this.inline);M?.forEach(V=>this.removeUsage(V,this.external))}addUsage(v,M,V){const Z=M.get(v);Z?Z.usage++:M.set(v,{usage:1,elements:[...this.hosts].map(m=>this.addElement(m,V(v,this.doc)))})}removeUsage(v,M){const V=M.get(v);V&&(V.usage--,V.usage<=0&&(Ge(V.elements),M.delete(v)))}ngOnDestroy(){for(const[,{elements:v}]of[...this.inline,...this.external])Ge(v);this.hosts.clear()}addHost(v){this.hosts.add(v);for(const[M,{elements:V}]of this.inline)V.push(this.addElement(v,be(M,this.doc)));for(const[M,{elements:V}]of this.external)V.push(this.addElement(v,dt(M,this.doc)))}removeHost(v){this.hosts.delete(v)}addElement(v,M){return this.nonce&&M.setAttribute("nonce",this.nonce),this.isServer&&M.setAttribute(De,this.appId),v.appendChild(M)}static \u0275fac=function(M){return new(M||j)(T.KVO(Y.q),T.KVO(T.sZ2),T.KVO(T.BIS,8),T.KVO(T.Agw))};static \u0275prov=T.jDH({token:j,factory:j.\u0275fac})}return j})();const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Pt=/%COMP%/g,Oe=new T.nKC("",{providedIn:"root",factory:()=>!0});function Tt(j,E){return E.map(v=>v.replace(Pt,j))}let bt=(()=>{class j{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(v,M,V,Z,m,I,w,C=null,L=null){this.eventManager=v,this.sharedStylesHost=M,this.appId=V,this.removeStylesOnCompDestroy=Z,this.doc=m,this.platformId=I,this.ngZone=w,this.nonce=C,this.tracingService=L,this.platformIsServer=(0,O.Vy)(I),this.defaultRenderer=new ut(v,m,w,this.platformIsServer,this.tracingService)}createRenderer(v,M){if(!v||!M)return this.defaultRenderer;this.platformIsServer&&M.encapsulation===T.gXe.ShadowDom&&(M={...M,encapsulation:T.gXe.Emulated});const V=this.getOrCreateRenderer(v,M);return V instanceof et?V.applyToHost(v):V instanceof In&&V.applyStyles(),V}getOrCreateRenderer(v,M){const V=this.rendererByCompId;let Z=V.get(M.id);if(!Z){const m=this.doc,I=this.ngZone,w=this.eventManager,C=this.sharedStylesHost,L=this.removeStylesOnCompDestroy,X=this.platformIsServer,ne=this.tracingService;switch(M.encapsulation){case T.gXe.Emulated:Z=new et(w,C,M,this.appId,L,m,I,X,ne);break;case T.gXe.ShadowDom:return new gt(w,C,v,M,m,I,this.nonce,X,ne);default:Z=new In(w,C,M,L,m,I,X,ne)}V.set(M.id,Z)}return Z}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(v){this.rendererByCompId.delete(v)}static \u0275fac=function(M){return new(M||j)(T.KVO(rt),T.KVO(Xe),T.KVO(T.sZ2),T.KVO(Oe),T.KVO(Y.q),T.KVO(T.Agw),T.KVO(T.SKi),T.KVO(T.BIS),T.KVO(T.Lf2,8))};static \u0275prov=T.jDH({token:j,factory:j.\u0275fac})}return j})();class ut{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(E,v,M,V,Z){this.eventManager=E,this.doc=v,this.ngZone=M,this.platformIsServer=V,this.tracingService=Z}destroy(){}destroyNode=null;createElement(E,v){return v?this.doc.createElementNS(ht[v]||v,E):this.doc.createElement(E)}createComment(E){return this.doc.createComment(E)}createText(E){return this.doc.createTextNode(E)}appendChild(E,v){(qn(E)?E.content:E).appendChild(v)}insertBefore(E,v,M){E&&(qn(E)?E.content:E).insertBefore(v,M)}removeChild(E,v){v.remove()}selectRootElement(E,v){let M="string"==typeof E?this.doc.querySelector(E):E;if(!M)throw new T.wOt(-5104,!1);return v||(M.textContent=""),M}parentNode(E){return E.parentNode}nextSibling(E){return E.nextSibling}setAttribute(E,v,M,V){if(V){v=V+":"+v;const Z=ht[V];Z?E.setAttributeNS(Z,v,M):E.setAttribute(v,M)}else E.setAttribute(v,M)}removeAttribute(E,v,M){if(M){const V=ht[M];V?E.removeAttributeNS(V,v):E.removeAttribute(`${M}:${v}`)}else E.removeAttribute(v)}addClass(E,v){E.classList.add(v)}removeClass(E,v){E.classList.remove(v)}setStyle(E,v,M,V){V&(T.czy.DashCase|T.czy.Important)?E.style.setProperty(v,M,V&T.czy.Important?"important":""):E.style[v]=M}removeStyle(E,v,M){M&T.czy.DashCase?E.style.removeProperty(v):E.style[v]=""}setProperty(E,v,M){null!=E&&(E[v]=M)}setValue(E,v){E.nodeValue=v}listen(E,v,M,V){if("string"==typeof E&&!(E=(0,b.rb)().getGlobalEventTarget(this.doc,E)))throw new T.wOt(5102,!1);let Z=this.decoratePreventDefault(M);return this.tracingService?.wrapEventListener&&(Z=this.tracingService.wrapEventListener(E,v,Z)),this.eventManager.addEventListener(E,v,Z,V)}decoratePreventDefault(E){return v=>{if("__ngUnwrap__"===v)return E;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>E(v)):E(v))&&v.preventDefault()}}}function qn(j){return"TEMPLATE"===j.tagName&&void 0!==j.content}class gt extends ut{sharedStylesHost;hostEl;shadowRoot;constructor(E,v,M,V,Z,m,I,w,C){super(E,Z,m,w,C),this.sharedStylesHost=v,this.hostEl=M,this.shadowRoot=M.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let L=V.styles;L=Tt(V.id,L);for(const ne of L){const xe=document.createElement("style");I&&xe.setAttribute("nonce",I),xe.textContent=ne,this.shadowRoot.appendChild(xe)}const X=V.getExternalStyles?.();if(X)for(const ne of X){const xe=dt(ne,Z);I&&xe.setAttribute("nonce",I),this.shadowRoot.appendChild(xe)}}nodeOrShadowRoot(E){return E===this.hostEl?this.shadowRoot:E}appendChild(E,v){return super.appendChild(this.nodeOrShadowRoot(E),v)}insertBefore(E,v,M){return super.insertBefore(this.nodeOrShadowRoot(E),v,M)}removeChild(E,v){return super.removeChild(null,v)}parentNode(E){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(E)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class In extends ut{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(E,v,M,V,Z,m,I,w,C){super(E,Z,m,I,w),this.sharedStylesHost=v,this.removeStylesOnCompDestroy=V;let L=M.styles;this.styles=C?Tt(C,L):L,this.styleUrls=M.getExternalStyles?.(C)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class et extends In{contentAttr;hostAttr;constructor(E,v,M,V,Z,m,I,w,C){const L=V+"-"+M.id;super(E,v,M,Z,m,I,w,C,L),this.contentAttr=function st(j){return"_ngcontent-%COMP%".replace(Pt,j)}(L),this.hostAttr=function Je(j){return"_nghost-%COMP%".replace(Pt,j)}(L)}applyToHost(E){this.applyStyles(),this.setAttribute(E,this.hostAttr,"")}createElement(E,v){const M=super.createElement(E,v);return super.setAttribute(M,this.contentAttr,""),M}}class sn extends b.qj{supportsDOMEvents=!0;static makeCurrent(){(0,b.ig)(new sn)}onAndCancel(E,v,M,V){return E.addEventListener(v,M,V),()=>{E.removeEventListener(v,M,V)}}dispatchEvent(E,v){E.dispatchEvent(v)}remove(E){E.remove()}createElement(E,v){return(v=v||this.getDefaultDocument()).createElement(E)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(E){return E.nodeType===Node.ELEMENT_NODE}isShadowRoot(E){return E instanceof DocumentFragment}getGlobalEventTarget(E,v){return"window"===v?window:"document"===v?E:"body"===v?E.body:null}getBaseHref(E){const v=function Qe(){return kt=kt||document.head.querySelector("base"),kt?kt.getAttribute("href"):null}();return null==v?null:function te(j){return new URL(j,document.baseURI).pathname}(v)}resetBaseElement(){kt=null}getUserAgent(){return window.navigator.userAgent}getCookie(E){return(0,O.bS)(document.cookie,E)}}let kt=null,pe=(()=>{class j{build(){return new XMLHttpRequest}static \u0275fac=function(M){return new(M||j)};static \u0275prov=T.jDH({token:j,factory:j.\u0275fac})}return j})(),ye=(()=>{class j extends Ie{constructor(v){super(v)}supports(v){return!0}addEventListener(v,M,V,Z){return v.addEventListener(M,V,Z),()=>this.removeEventListener(v,M,V,Z)}removeEventListener(v,M,V,Z){return v.removeEventListener(M,V,Z)}static \u0275fac=function(M){return new(M||j)(T.KVO(Y.q))};static \u0275prov=T.jDH({token:j,factory:j.\u0275fac})}return j})();const oe=["alt","control","meta","shift"],ge={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ze={alt:j=>j.altKey,control:j=>j.ctrlKey,meta:j=>j.metaKey,shift:j=>j.shiftKey};let vt=(()=>{class j extends Ie{constructor(v){super(v)}supports(v){return null!=j.parseEventName(v)}addEventListener(v,M,V,Z){const m=j.parseEventName(M),I=j.eventCallback(m.fullKey,V,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.rb)().onAndCancel(v,m.domEventName,I,Z))}static parseEventName(v){const M=v.toLowerCase().split("."),V=M.shift();if(0===M.length||"keydown"!==V&&"keyup"!==V)return null;const Z=j._normalizeKey(M.pop());let m="",I=M.indexOf("code");if(I>-1&&(M.splice(I,1),m="code."),oe.forEach(C=>{const L=M.indexOf(C);L>-1&&(M.splice(L,1),m+=C+".")}),m+=Z,0!=M.length||0===Z.length)return null;const w={};return w.domEventName=V,w.fullKey=m,w}static matchEventFullKeyCode(v,M){let V=ge[v.key]||v.key,Z="";return M.indexOf("code.")>-1&&(V=v.code,Z="code."),!(null==V||!V)&&(V=V.toLowerCase()," "===V?V="space":"."===V&&(V="dot"),oe.forEach(m=>{m!==V&&(0,Ze[m])(v)&&(Z+=m+".")}),Z+=V,Z===M)}static eventCallback(v,M,V){return Z=>{j.matchEventFullKeyCode(Z,v)&&V.runGuarded(()=>M(Z))}}static _normalizeKey(v){return"esc"===v?"escape":v}static \u0275fac=function(M){return new(M||j)(T.KVO(Y.q))};static \u0275prov=T.jDH({token:j,factory:j.\u0275fac})}return j})();function Jn(j){return{appProviders:[...Rr,...j?.providers??[]],platformProviders:Vn}}const Vn=[{provide:T.Agw,useValue:O.Zn},{provide:T.PLl,useValue:function Xn(){sn.makeCurrent()},multi:!0},{provide:Y.q,useFactory:function Yt(){return(0,T.TL$)(document),document}}],Rr=[{provide:T.H8p,useValue:"root"},{provide:T.zcH,useFactory:function zn(){return new T.zcH}},{provide:Pe,useClass:ye,multi:!0,deps:[Y.q]},{provide:Pe,useClass:vt,multi:!0,deps:[Y.q]},bt,Xe,rt,{provide:T._9s,useExisting:bt},{provide:O.N0,useClass:pe},[]];var pn=H(969);function un(j){return new T.wOt(3e3,!1)}function _e(j){switch(j.length){case 0:return new pn.sf;case 1:return j[0];default:return new pn.PZ(j)}}function $e(j,E,v=new Map,M=new Map){const V=[],Z=[];let m=-1,I=null;if(E.forEach(w=>{const C=w.get("offset"),L=C==m,X=L&&I||new Map;w.forEach((ne,xe)=>{let Ke=xe,Ot=ne;if("offset"!==xe)switch(Ke=j.normalizePropertyName(Ke,V),Ot){case pn.FX:Ot=v.get(xe);break;case pn.kp:Ot=M.get(xe);break;default:Ot=j.normalizeStyleValue(xe,Ke,Ot,V)}X.set(Ke,Ot)}),L||Z.push(X),I=X,m=C}),V.length)throw function Be(){return new T.wOt(3502,!1)}();return Z}function Vt(j,E,v,M){switch(E){case"start":j.onStart(()=>M(v&&tt(v,"start",j)));break;case"done":j.onDone(()=>M(v&&tt(v,"done",j)));break;case"destroy":j.onDestroy(()=>M(v&&tt(v,"destroy",j)))}}function tt(j,E,v){const Z=Jt(j.element,j.triggerName,j.fromState,j.toState,E||j.phaseName,v.totalTime??j.totalTime,!!v.disabled),m=j._data;return null!=m&&(Z._data=m),Z}function Jt(j,E,v,M,V="",Z=0,m){return{element:j,triggerName:E,fromState:v,toState:M,phaseName:V,totalTime:Z,disabled:!!m}}function Pn(j,E,v){let M=j.get(E);return M||j.set(E,M=v),M}function pr(j){const E=j.indexOf(":");return[j.substring(1,E),j.slice(E+1)]}const se=typeof document>"u"?null:document.documentElement;function le(j){const E=j.parentNode||j.host||null;return E===se?null:E}let pt=null,At=!1;function Mt(j,E){for(;E;){if(E===j)return!0;E=le(E)}return!1}function wt(j,E,v){if(v)return Array.from(j.querySelectorAll(E));const M=j.querySelector(E);return M?[M]:[]}const Bn="ng-enter",dn="ng-leave",Kn="ng-trigger",or=".ng-trigger",wi="ng-animating",Si=".ng-animating";function Ee(j){if("number"==typeof j)return j;const E=j.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:je(parseFloat(E[1]),E[2])}function je(j,E){return"s"===E?1e3*j:j}function Ye(j,E,v){return j.hasOwnProperty("duration")?j:function $t(j,E,v){let V,Z=0,m="";if("string"==typeof j){const I=j.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===I)return E.push(un()),{duration:0,delay:0,easing:""};V=je(parseFloat(I[1]),I[2]);const w=I[3];null!=w&&(Z=je(parseFloat(w),I[4]));const C=I[5];C&&(m=C)}else V=j;if(!v){let I=!1,w=E.length;V<0&&(E.push(function Ki(){return new T.wOt(3100,!1)}()),I=!0),Z<0&&(E.push(function Mr(){return new T.wOt(3101,!1)}()),I=!0),I&&E.splice(w,0,un())}return{duration:V,delay:Z,easing:m}}(j,E,v)}function Fn(j,E,v){E.forEach((M,V)=>{const Z=Ls(V);v&&!v.has(V)&&v.set(V,j.style[Z]),j.style[Z]=M})}function Cn(j,E){E.forEach((v,M)=>{const V=Ls(M);j.style[V]=""})}function tr(j){return Array.isArray(j)?1==j.length?j[0]:(0,pn.K2)(j):j}const As=new RegExp("{{\\s*(.+?)\\s*}}","g");function Cr(j){let E=[];if("string"==typeof j){let v;for(;v=As.exec(j);)E.push(v[1]);As.lastIndex=0}return E}function ss(j,E,v){const M=`${j}`,V=M.replace(As,(Z,m)=>{let I=E[m];return null==I&&(v.push(function Er(){return new T.wOt(3003,!1)}()),I=""),I.toString()});return V==M?j:V}const Hi=/-+([a-z0-9])/g;function Ls(j){return j.replace(Hi,(...E)=>E[1].toUpperCase())}function Q(j,E,v){switch(E.type){case pn.If.Trigger:return j.visitTrigger(E,v);case pn.If.State:return j.visitState(E,v);case pn.If.Transition:return j.visitTransition(E,v);case pn.If.Sequence:return j.visitSequence(E,v);case pn.If.Group:return j.visitGroup(E,v);case pn.If.Animate:return j.visitAnimate(E,v);case pn.If.Keyframes:return j.visitKeyframes(E,v);case pn.If.Style:return j.visitStyle(E,v);case pn.If.Reference:return j.visitReference(E,v);case pn.If.AnimateChild:return j.visitAnimateChild(E,v);case pn.If.AnimateRef:return j.visitAnimateRef(E,v);case pn.If.Query:return j.visitQuery(E,v);case pn.If.Stagger:return j.visitStagger(E,v);default:throw function Qn(){return new T.wOt(3004,!1)}()}}function ie(j,E){return window.getComputedStyle(j)[E]}let Ne=(()=>{class j{validateStyleProperty(v){return function ce(j){pt||(pt=function Ve(){return typeof document<"u"?document.body:null}()||{},At=!!pt.style&&"WebkitAppearance"in pt.style);let E=!0;return pt.style&&!function Re(j){return"ebkit"==j.substring(1,6)}(j)&&(E=j in pt.style,!E&&At&&(E="Webkit"+j.charAt(0).toUpperCase()+j.slice(1)in pt.style)),E}(v)}containsElement(v,M){return Mt(v,M)}getParentElement(v){return le(v)}query(v,M,V){return wt(v,M,V)}computeStyle(v,M,V){return V||""}animate(v,M,V,Z,m,I=[],w){return new pn.sf(V,Z)}static \u0275fac=function(M){return new(M||j)};static \u0275prov=T.jDH({token:j,factory:j.\u0275fac})}return j})();class Ct{static NOOP=new Ne}class ln{}const si=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gr extends ln{normalizePropertyName(E,v){return Ls(E)}normalizeStyleValue(E,v,M,V){let Z="";const m=M.toString().trim();if(si.has(v)&&0!==M&&"0"!==M)if("number"==typeof M)Z="px";else{const I=M.match(/^[+-]?[\d\.]+([a-z]*)$/);I&&0==I[1].length&&V.push(function Zt(){return new T.wOt(3005,!1)}())}return m+Z}}const it=new Set(["true","1"]),ke=new Set(["false","0"]);function mt(j,E){const v=it.has(j)||ke.has(j),M=it.has(E)||ke.has(E);return(V,Z)=>{let m="*"==j||j==V,I="*"==E||E==Z;return!m&&v&&"boolean"==typeof V&&(m=V?it.has(j):ke.has(j)),!I&&M&&"boolean"==typeof Z&&(I=Z?it.has(E):ke.has(E)),m&&I}}const vn=new RegExp("s*:selfs*,?","g");function jn(j,E,v,M){return new hs(j).build(E,v,M)}class hs{_driver;constructor(E){this._driver=E}build(E,v,M){const V=new io(v);return this._resetContextStyleTimingState(V),Q(this,tr(E),V)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,v){let M=v.queryCount=0,V=v.depCount=0;const Z=[],m=[];return"@"==E.name.charAt(0)&&v.errors.push(function ri(){return new T.wOt(3006,!1)}()),E.definitions.forEach(I=>{if(this._resetContextStyleTimingState(v),I.type==pn.If.State){const w=I,C=w.name;C.toString().split(/\s*,\s*/).forEach(L=>{w.name=L,Z.push(this.visitState(w,v))}),w.name=C}else if(I.type==pn.If.Transition){const w=this.visitTransition(I,v);M+=w.queryCount,V+=w.depCount,m.push(w)}else v.errors.push(function li(){return new T.wOt(3007,!1)}())}),{type:pn.If.Trigger,name:E.name,states:Z,transitions:m,queryCount:M,depCount:V,options:null}}visitState(E,v){const M=this.visitStyle(E.styles,v),V=E.options&&E.options.params||null;if(M.containsDynamicStyles){const Z=new Set,m=V||{};M.styles.forEach(I=>{I instanceof Map&&I.forEach(w=>{Cr(w).forEach(C=>{m.hasOwnProperty(C)||Z.add(C)})})}),Z.size&&v.errors.push(function gi(){return new T.wOt(3008,!1)}(0,Z.values()))}return{type:pn.If.State,name:E.name,style:M,options:V?{params:V}:null}}visitTransition(E,v){v.queryCount=0,v.depCount=0;const M=Q(this,tr(E.animation),v),V=function _s(j,E){const v=[];return"string"==typeof j?j.split(/\s*,\s*/).forEach(M=>function $s(j,E,v){if(":"==j[0]){const w=function de(j,E){switch(j){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,M)=>parseFloat(M)>parseFloat(v);case":decrement":return(v,M)=>parseFloat(M)<parseFloat(v);default:return E.push(function Ti(){return new T.wOt(3016,!1)}()),"* => *"}}(j,v);if("function"==typeof w)return void E.push(w);j=w}const M=j.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return v.push(function Sn(){return new T.wOt(3015,!1)}()),E;const V=M[1],Z=M[2],m=M[3];E.push(mt(V,m)),"<"==Z[0]&&("*"!=V||"*"!=m)&&E.push(mt(m,V))}(M,v,E)):v.push(j),v}(E.expr,v.errors);return{type:pn.If.Transition,matchers:V,animation:M,queryCount:v.queryCount,depCount:v.depCount,options:vs(E.options)}}visitSequence(E,v){return{type:pn.If.Sequence,steps:E.steps.map(M=>Q(this,M,v)),options:vs(E.options)}}visitGroup(E,v){const M=v.currentTime;let V=0;const Z=E.steps.map(m=>{v.currentTime=M;const I=Q(this,m,v);return V=Math.max(V,v.currentTime),I});return v.currentTime=V,{type:pn.If.Group,steps:Z,options:vs(E.options)}}visitAnimate(E,v){const M=function so(j,E){if(j.hasOwnProperty("duration"))return j;if("number"==typeof j)return Cs(Ye(j,E).duration,0,"");const v=j;if(v.split(/\s+/).some(Z=>"{"==Z.charAt(0)&&"{"==Z.charAt(1))){const Z=Cs(0,0,"");return Z.dynamic=!0,Z.strValue=v,Z}const V=Ye(v,E);return Cs(V.duration,V.delay,V.easing)}(E.timings,v.errors);v.currentAnimateTimings=M;let V,Z=E.styles?E.styles:(0,pn.iF)({});if(Z.type==pn.If.Keyframes)V=this.visitKeyframes(Z,v);else{let m=E.styles,I=!1;if(!m){I=!0;const C={};M.easing&&(C.easing=M.easing),m=(0,pn.iF)(C)}v.currentTime+=M.duration+M.delay;const w=this.visitStyle(m,v);w.isEmptyStep=I,V=w}return v.currentAnimateTimings=null,{type:pn.If.Animate,timings:M,style:V,options:null}}visitStyle(E,v){const M=this._makeStyleAst(E,v);return this._validateStyleAst(M,v),M}_makeStyleAst(E,v){const M=[],V=Array.isArray(E.styles)?E.styles:[E.styles];for(let I of V)"string"==typeof I?I===pn.kp?M.push(I):v.errors.push(new T.wOt(3002,!1)):M.push(new Map(Object.entries(I)));let Z=!1,m=null;return M.forEach(I=>{if(I instanceof Map&&(I.has("easing")&&(m=I.get("easing"),I.delete("easing")),!Z))for(let w of I.values())if(w.toString().indexOf("{{")>=0){Z=!0;break}}),{type:pn.If.Style,styles:M,easing:m,offset:E.offset,containsDynamicStyles:Z,options:null}}_validateStyleAst(E,v){const M=v.currentAnimateTimings;let V=v.currentTime,Z=v.currentTime;M&&Z>0&&(Z-=M.duration+M.delay),E.styles.forEach(m=>{"string"!=typeof m&&m.forEach((I,w)=>{const C=v.collectedStyles.get(v.currentQuerySelector),L=C.get(w);let X=!0;L&&(Z!=V&&Z>=L.startTime&&V<=L.endTime&&(v.errors.push(function Ei(){return new T.wOt(3010,!1)}()),X=!1),Z=L.startTime),X&&C.set(w,{startTime:Z,endTime:V}),v.options&&function $r(j,E,v){const M=E.params||{},V=Cr(j);V.length&&V.forEach(Z=>{M.hasOwnProperty(Z)||v.push(function ft(){return new T.wOt(3001,!1)}())})}(I,v.options,v.errors)})})}visitKeyframes(E,v){const M={type:pn.If.Keyframes,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function Ar(){return new T.wOt(3011,!1)}()),M;let Z=0;const m=[];let I=!1,w=!1,C=0;const L=E.steps.map(br=>{const oi=this._makeStyleAst(br,v);let cs=null!=oi.offset?oi.offset:function En(j){if("string"==typeof j)return null;let E=null;if(Array.isArray(j))j.forEach(v=>{if(v instanceof Map&&v.has("offset")){const M=v;E=parseFloat(M.get("offset")),M.delete("offset")}});else if(j instanceof Map&&j.has("offset")){const v=j;E=parseFloat(v.get("offset")),v.delete("offset")}return E}(oi.styles),ni=0;return null!=cs&&(Z++,ni=oi.offset=cs),w=w||ni<0||ni>1,I=I||ni<C,C=ni,m.push(ni),oi});w&&v.errors.push(function di(){return new T.wOt(3012,!1)}()),I&&v.errors.push(function ur(){return new T.wOt(3200,!1)}());const X=E.steps.length;let ne=0;Z>0&&Z<X?v.errors.push(function sr(){return new T.wOt(3202,!1)}()):0==Z&&(ne=1/(X-1));const xe=X-1,Ke=v.currentTime,Ot=v.currentAnimateTimings,$n=Ot.duration;return L.forEach((br,oi)=>{const cs=ne>0?oi==xe?1:ne*oi:m[oi],ni=cs*$n;v.currentTime=Ke+Ot.delay+ni,Ot.duration=ni,this._validateStyleAst(br,v),br.offset=cs,M.styles.push(br)}),M}visitReference(E,v){return{type:pn.If.Reference,animation:Q(this,tr(E.animation),v),options:vs(E.options)}}visitAnimateChild(E,v){return v.depCount++,{type:pn.If.AnimateChild,options:vs(E.options)}}visitAnimateRef(E,v){return{type:pn.If.AnimateRef,animation:this.visitReference(E.animation,v),options:vs(E.options)}}visitQuery(E,v){const M=v.currentQuerySelector,V=E.options||{};v.queryCount++,v.currentQuery=E;const[Z,m]=function Po(j){const E=!!j.split(/\s*,\s*/).find(v=>":self"==v);return E&&(j=j.replace(vn,"")),j=j.replace(/@\*/g,or).replace(/@\w+/g,v=>or+"-"+v.slice(1)).replace(/:animating/g,Si),[j,E]}(E.selector);v.currentQuerySelector=M.length?M+" "+Z:Z,Pn(v.collectedStyles,v.currentQuerySelector,new Map);const I=Q(this,tr(E.animation),v);return v.currentQuery=null,v.currentQuerySelector=M,{type:pn.If.Query,selector:Z,limit:V.limit||0,optional:!!V.optional,includeSelf:m,animation:I,originalSelector:E.selector,options:vs(E.options)}}visitStagger(E,v){v.currentQuery||v.errors.push(function mi(){return new T.wOt(3013,!1)}());const M="full"===E.timings?{duration:0,delay:0,easing:"full"}:Ye(E.timings,v.errors,!0);return{type:pn.If.Stagger,animation:Q(this,tr(E.animation),v),timings:M,options:null}}}class io{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(E){this.errors=E}}function vs(j){return j?(j={...j}).params&&(j.params=function Yr(j){return j?{...j}:null}(j.params)):j={},j}function Cs(j,E,v){return{duration:j,delay:E,easing:v}}function Qs(j,E,v,M,V,Z,m=null,I=!1){return{type:1,element:j,keyframes:E,preStyleProps:v,postStyleProps:M,duration:V,delay:Z,totalTime:V+Z,easing:m,subTimeline:I}}class Ss{_map=new Map;get(E){return this._map.get(E)||[]}append(E,v){let M=this._map.get(E);M||this._map.set(E,M=[]),M.push(...v)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const kr=new RegExp(":enter","g"),fs=new RegExp(":leave","g");function zs(j,E,v,M,V,Z=new Map,m=new Map,I,w,C=[]){return(new wo).buildKeyframes(j,E,v,M,V,Z,m,I,w,C)}class wo{buildKeyframes(E,v,M,V,Z,m,I,w,C,L=[]){C=C||new Ss;const X=new os(E,v,C,V,Z,L,[]);X.options=w;const ne=w.delay?Ee(w.delay):0;X.currentTimeline.delayNextStep(ne),X.currentTimeline.setStyles([m],null,X.errors,w),Q(this,M,X);const xe=X.timelines.filter(Ke=>Ke.containsAnimation());if(xe.length&&I.size){let Ke;for(let Ot=xe.length-1;Ot>=0;Ot--){const $n=xe[Ot];if($n.element===v){Ke=$n;break}}Ke&&!Ke.allowOnlyTimelineStyles()&&Ke.setStyles([I],null,X.errors,w)}return xe.length?xe.map(Ke=>Ke.buildKeyframes()):[Qs(v,[],[],[],0,ne,"",!1)]}visitTrigger(E,v){}visitState(E,v){}visitTransition(E,v){}visitAnimateChild(E,v){const M=v.subInstructions.get(v.element);if(M){const V=v.createSubContext(E.options),Z=v.currentTimeline.currentTime,m=this._visitSubInstructions(M,V,V.options);Z!=m&&v.transformIntoNewTimeline(m)}v.previousNode=E}visitAnimateRef(E,v){const M=v.createSubContext(E.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],v,M),this.visitReference(E.animation,M),v.transformIntoNewTimeline(M.currentTimeline.currentTime),v.previousNode=E}_applyAnimationRefDelays(E,v,M){for(const V of E){const Z=V?.delay;if(Z){const m="number"==typeof Z?Z:Ee(ss(Z,V?.params??{},v.errors));M.delayNextStep(m)}}}_visitSubInstructions(E,v,M){let Z=v.currentTimeline.currentTime;const m=null!=M.duration?Ee(M.duration):null,I=null!=M.delay?Ee(M.delay):null;return 0!==m&&E.forEach(w=>{const C=v.appendInstructionToTimeline(w,m,I);Z=Math.max(Z,C.duration+C.delay)}),Z}visitReference(E,v){v.updateOptions(E.options,!0),Q(this,E.animation,v),v.previousNode=E}visitSequence(E,v){const M=v.subContextCount;let V=v;const Z=E.options;if(Z&&(Z.params||Z.delay)&&(V=v.createSubContext(Z),V.transformIntoNewTimeline(),null!=Z.delay)){V.previousNode.type==pn.If.Style&&(V.currentTimeline.snapshotCurrentStyles(),V.previousNode=zr);const m=Ee(Z.delay);V.delayNextStep(m)}E.steps.length&&(E.steps.forEach(m=>Q(this,m,V)),V.currentTimeline.applyStylesToKeyframe(),V.subContextCount>M&&V.transformIntoNewTimeline()),v.previousNode=E}visitGroup(E,v){const M=[];let V=v.currentTimeline.currentTime;const Z=E.options&&E.options.delay?Ee(E.options.delay):0;E.steps.forEach(m=>{const I=v.createSubContext(E.options);Z&&I.delayNextStep(Z),Q(this,m,I),V=Math.max(V,I.currentTimeline.currentTime),M.push(I.currentTimeline)}),M.forEach(m=>v.currentTimeline.mergeTimelineCollectedStyles(m)),v.transformIntoNewTimeline(V),v.previousNode=E}_visitTiming(E,v){if(E.dynamic){const M=E.strValue;return Ye(v.params?ss(M,v.params,v.errors):M,v.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,v){const M=v.currentAnimateTimings=this._visitTiming(E.timings,v),V=v.currentTimeline;M.delay&&(v.incrementTime(M.delay),V.snapshotCurrentStyles());const Z=E.style;Z.type==pn.If.Keyframes?this.visitKeyframes(Z,v):(v.incrementTime(M.duration),this.visitStyle(Z,v),V.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=E}visitStyle(E,v){const M=v.currentTimeline,V=v.currentAnimateTimings;!V&&M.hasCurrentStyleProperties()&&M.forwardFrame();const Z=V&&V.easing||E.easing;E.isEmptyStep?M.applyEmptyStep(Z):M.setStyles(E.styles,Z,v.errors,v.options),v.previousNode=E}visitKeyframes(E,v){const M=v.currentAnimateTimings,V=v.currentTimeline.duration,Z=M.duration,I=v.createSubContext().currentTimeline;I.easing=M.easing,E.styles.forEach(w=>{I.forwardTime((w.offset||0)*Z),I.setStyles(w.styles,w.easing,v.errors,v.options),I.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(I),v.transformIntoNewTimeline(V+Z),v.previousNode=E}visitQuery(E,v){const M=v.currentTimeline.currentTime,V=E.options||{},Z=V.delay?Ee(V.delay):0;Z&&(v.previousNode.type===pn.If.Style||0==M&&v.currentTimeline.hasCurrentStyleProperties())&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=zr);let m=M;const I=v.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!V.optional,v.errors);v.currentQueryTotal=I.length;let w=null;I.forEach((C,L)=>{v.currentQueryIndex=L;const X=v.createSubContext(E.options,C);Z&&X.delayNextStep(Z),C===v.element&&(w=X.currentTimeline),Q(this,E.animation,X),X.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,X.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(m),w&&(v.currentTimeline.mergeTimelineCollectedStyles(w),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=E}visitStagger(E,v){const M=v.parentContext,V=v.currentTimeline,Z=E.timings,m=Math.abs(Z.duration),I=m*(v.currentQueryTotal-1);let w=m*v.currentQueryIndex;switch(Z.duration<0?"reverse":Z.easing){case"reverse":w=I-w;break;case"full":w=M.currentStaggerTime}const L=v.currentTimeline;w&&L.delayNextStep(w);const X=L.currentTime;Q(this,E.animation,v),v.previousNode=E,M.currentStaggerTime=V.currentTime-X+(V.startTime-M.currentTimeline.startTime)}}const zr={};class os{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=zr;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(E,v,M,V,Z,m,I,w){this._driver=E,this.element=v,this.subInstructions=M,this._enterClassName=V,this._leaveClassName=Z,this.errors=m,this.timelines=I,this.currentTimeline=w||new qr(this._driver,v,0),I.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,v){if(!E)return;const M=E;let V=this.options;null!=M.duration&&(V.duration=Ee(M.duration)),null!=M.delay&&(V.delay=Ee(M.delay));const Z=M.params;if(Z){let m=V.params;m||(m=this.options.params={}),Object.keys(Z).forEach(I=>{(!v||!m.hasOwnProperty(I))&&(m[I]=ss(Z[I],m,this.errors))})}}_copyOptions(){const E={};if(this.options){const v=this.options.params;if(v){const M=E.params={};Object.keys(v).forEach(V=>{M[V]=v[V]})}}return E}createSubContext(E=null,v,M){const V=v||this.element,Z=new os(this._driver,V,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(V,M||0));return Z.previousNode=this.previousNode,Z.currentAnimateTimings=this.currentAnimateTimings,Z.options=this._copyOptions(),Z.updateOptions(E),Z.currentQueryIndex=this.currentQueryIndex,Z.currentQueryTotal=this.currentQueryTotal,Z.parentContext=this,this.subContextCount++,Z}transformIntoNewTimeline(E){return this.previousNode=zr,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,v,M){const V={duration:v??E.duration,delay:this.currentTimeline.currentTime+(M??0)+E.delay,easing:""},Z=new Qr(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,V,E.stretchStartingKeyframe);return this.timelines.push(Z),V}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,v,M,V,Z,m){let I=[];if(V&&I.push(this.element),E.length>0){E=(E=E.replace(kr,"."+this._enterClassName)).replace(fs,"."+this._leaveClassName);let C=this._driver.query(this.element,E,1!=M);0!==M&&(C=M<0?C.slice(C.length+M,C.length):C.slice(0,M)),I.push(...C)}return!Z&&0==I.length&&m.push(function lr(){return new T.wOt(3014,!1)}()),I}}class qr{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(E,v,M,V){this._driver=E,this.element=v,this.startTime=M,this._elementTimelineStylesLookup=V,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const v=1===this._keyframes.size&&this._pendingStyles.size;this.duration||v?(this.forwardTime(this.currentTime+E),v&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,v){return this.applyStylesToKeyframe(),new qr(this._driver,E,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,v){this._localTimelineStyles.set(E,v),this._globalTimelineStyles.set(E,v),this._styleSummary.set(E,{time:this.currentTime,value:v})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[v,M]of this._globalTimelineStyles)this._backFill.set(v,M||pn.kp),this._currentKeyframe.set(v,pn.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,v,M,V){v&&this._previousKeyframe.set("easing",v);const Z=V&&V.params||{},m=function Rs(j,E){const v=new Map;let M;return j.forEach(V=>{if("*"===V){M??=E.keys();for(let Z of M)v.set(Z,pn.kp)}else for(let[Z,m]of V)v.set(Z,m)}),v}(E,this._globalTimelineStyles);for(let[I,w]of m){const C=ss(w,Z,M);this._pendingStyles.set(I,C),this._localTimelineStyles.has(I)||this._backFill.set(I,this._globalTimelineStyles.get(I)??pn.kp),this._updateStyle(I,C)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,v)=>{this._currentKeyframe.set(v,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,v)=>{this._currentKeyframe.has(v)||this._currentKeyframe.set(v,E)}))}snapshotCurrentStyles(){for(let[E,v]of this._localTimelineStyles)this._pendingStyles.set(E,v),this._updateStyle(E,v)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let v in this._currentKeyframe)E.push(v);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((v,M)=>{const V=this._styleSummary.get(M);(!V||v.time>V.time)&&this._updateStyle(M,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,v=new Set,M=1===this._keyframes.size&&0===this.duration;let V=[];this._keyframes.forEach((I,w)=>{const C=new Map([...this._backFill,...I]);C.forEach((L,X)=>{L===pn.FX?E.add(X):L===pn.kp&&v.add(X)}),M||C.set("offset",w/this.duration),V.push(C)});const Z=[...E.values()],m=[...v.values()];if(M){const I=V[0],w=new Map(I);I.set("offset",0),w.set("offset",1),V=[I,w]}return Qs(this.element,V,Z,m,this.duration,this.startTime,this.easing,!1)}}class Qr extends qr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(E,v,M,V,Z,m,I=!1){super(E,v,m.delay),this.keyframes=M,this.preStyleProps=V,this.postStyleProps=Z,this._stretchStartingKeyframe=I,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:v,duration:M,easing:V}=this.timings;if(this._stretchStartingKeyframe&&v){const Z=[],m=M+v,I=v/m,w=new Map(E[0]);w.set("offset",0),Z.push(w);const C=new Map(E[0]);C.set("offset",Io(I)),Z.push(C);const L=E.length-1;for(let X=1;X<=L;X++){let ne=new Map(E[X]);const xe=ne.get("offset");ne.set("offset",Io((v+xe*M)/m)),Z.push(ne)}M=m,v=0,V="",E=Z}return Qs(this.element,E,this.preStyleProps,this.postStyleProps,M,v,V,!0)}}function Io(j,E=3){const v=Math.pow(10,E-1);return Math.round(j*v)/v}function Ps(j,E,v,M,V,Z,m,I,w,C,L,X,ne){return{type:0,element:j,triggerName:E,isRemovalTransition:V,fromState:v,fromStyles:Z,toState:M,toStyles:m,timelines:I,queriedElements:w,preStyleProps:C,postStyleProps:L,totalTime:X,errors:ne}}const uo={};class Es{_triggerName;ast;_stateStyles;constructor(E,v,M){this._triggerName=E,this.ast=v,this._stateStyles=M}match(E,v,M,V){return function Bo(j,E,v,M,V){return j.some(Z=>Z(E,v,M,V))}(this.ast.matchers,E,v,M,V)}buildStyles(E,v,M){let V=this._stateStyles.get("*");return void 0!==E&&(V=this._stateStyles.get(E?.toString())||V),V?V.buildStyles(v,M):new Map}build(E,v,M,V,Z,m,I,w,C,L){const X=[],ne=this.ast.options&&this.ast.options.params||uo,Ke=this.buildStyles(M,I&&I.params||uo,X),Ot=w&&w.params||uo,$n=this.buildStyles(V,Ot,X),br=new Set,oi=new Map,cs=new Map,ni="void"===V,Bs={params:Ms(Ot,ne),delay:this.ast.options?.delay},rs=L?[]:zs(E,v,this.ast.animation,Z,m,Ke,$n,Bs,C,X);let ks=0;return rs.forEach(bs=>{ks=Math.max(bs.duration+bs.delay,ks)}),X.length?Ps(v,this._triggerName,M,V,ni,Ke,$n,[],[],oi,cs,ks,X):(rs.forEach(bs=>{const Ko=bs.element,Ra=Pn(oi,Ko,new Set);bs.preStyleProps.forEach(Xa=>Ra.add(Xa));const nh=Pn(cs,Ko,new Set);bs.postStyleProps.forEach(Xa=>nh.add(Xa)),Ko!==v&&br.add(Ko)}),Ps(v,this._triggerName,M,V,ni,Ke,$n,rs,[...br.values()],oi,cs,ks))}}function Ms(j,E){const v={...E};return Object.entries(j).forEach(([M,V])=>{null!=V&&(v[M]=V)}),v}class xr{styles;defaultParams;normalizer;constructor(E,v,M){this.styles=E,this.defaultParams=v,this.normalizer=M}buildStyles(E,v){const M=new Map,V=Ms(E,this.defaultParams);return this.styles.styles.forEach(Z=>{"string"!=typeof Z&&Z.forEach((m,I)=>{m&&(m=ss(m,V,v));const w=this.normalizer.normalizePropertyName(I,v);m=this.normalizer.normalizeStyleValue(I,w,m,v),M.set(I,m)})}),M}}class Zi{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(E,v,M){this.name=E,this.ast=v,this._normalizer=M,v.states.forEach(V=>{this.states.set(V.name,new xr(V.style,V.options&&V.options.params||{},M))}),Mo(this.states,"true","1"),Mo(this.states,"false","0"),v.transitions.forEach(V=>{this.transitionFactories.push(new Es(E,V,this.states))}),this.fallbackTransition=function na(j,E){return new Es(j,{type:pn.If.Transition,animation:{type:pn.If.Sequence,steps:[],options:null},matchers:[(m,I)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,v,M,V){return this.transitionFactories.find(m=>m.match(E,v,M,V))||null}matchStyles(E,v,M){return this.fallbackTransition.buildStyles(E,v,M)}}function Mo(j,E,v){j.has(E)?j.has(v)||j.set(v,j.get(E)):j.has(v)&&j.set(E,j.get(v))}const Ta=new Ss;class Vs{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(E,v,M){this.bodyNode=E,this._driver=v,this._normalizer=M}register(E,v){const M=[],Z=jn(this._driver,v,M,[]);if(M.length)throw function Dr(){return new T.wOt(3503,!1)}();this._animations.set(E,Z)}_buildPlayer(E,v,M){const V=E.element,Z=$e(this._normalizer,E.keyframes,v,M);return this._driver.animate(V,Z,E.duration,E.delay,E.easing,[],!0)}create(E,v,M={}){const V=[],Z=this._animations.get(E);let m;const I=new Map;if(Z?(m=zs(this._driver,v,Z,Bn,dn,new Map,new Map,M,Ta,V),m.forEach(L=>{const X=Pn(I,L.element,new Map);L.postStyleProps.forEach(ne=>X.set(ne,null))})):(V.push(function Qi(){return new T.wOt(3300,!1)}()),m=[]),V.length)throw function ii(){return new T.wOt(3504,!1)}();I.forEach((L,X)=>{L.forEach((ne,xe)=>{L.set(xe,this._driver.computeStyle(X,xe,pn.kp))})});const C=_e(m.map(L=>{const X=I.get(L.element);return this._buildPlayer(L,new Map,X)}));return this._playersById.set(E,C),C.onDestroy(()=>this.destroy(E)),this.players.push(C),C}destroy(E){const v=this._getPlayer(E);v.destroy(),this._playersById.delete(E);const M=this.players.indexOf(v);M>=0&&this.players.splice(M,1)}_getPlayer(E){const v=this._playersById.get(E);if(!v)throw function Oi(){return new T.wOt(3301,!1)}();return v}listen(E,v,M,V){const Z=Jt(v,"","","");return Vt(this._getPlayer(E),M,Z,V),()=>{}}command(E,v,M,V){if("register"==M)return void this.register(E,V[0]);if("create"==M)return void this.create(E,v,V[0]||{});const Z=this._getPlayer(E);switch(M){case"play":Z.play();break;case"pause":Z.pause();break;case"reset":Z.reset();break;case"restart":Z.restart();break;case"finish":Z.finish();break;case"init":Z.init();break;case"setPosition":Z.setPosition(parseFloat(V[0]));break;case"destroy":this.destroy(E)}}}const _r="ng-animate-queued",K="ng-animate-disabled",xt=[],Xt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gn="__ng_removed";class hr{namespaceId;value;options;get params(){return this.options.params}constructor(E,v=""){this.namespaceId=v;const M=E&&E.hasOwnProperty("value");if(this.value=function Jr(j){return j??null}(M?E.value:E),M){const{value:Z,...m}=E;this.options=m}else this.options={};this.options.params||(this.options.params={})}absorbOptions(E){const v=E.params;if(v){const M=this.options.params;Object.keys(v).forEach(V=>{null==M[V]&&(M[V]=v[V])})}}}const Zn="void",Fr=new hr(Zn);class Ii{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(E,v,M){this.id=E,this.hostElement=v,this._engine=M,this._hostClassName="ng-tns-"+E,ei(v,this._hostClassName)}listen(E,v,M,V){if(!this._triggers.has(v))throw function _n(){return new T.wOt(3302,!1)}();if(null==M||0==M.length)throw function fr(){return new T.wOt(3303,!1)}();if(!function as(j){return"start"==j||"done"==j}(M))throw function wr(){return new T.wOt(3400,!1)}();const Z=Pn(this._elementListeners,E,[]),m={name:v,phase:M,callback:V};Z.push(m);const I=Pn(this._engine.statesByElement,E,new Map);return I.has(v)||(ei(E,Kn),ei(E,Kn+"-"+v),I.set(v,Fr)),()=>{this._engine.afterFlush(()=>{const w=Z.indexOf(m);w>=0&&Z.splice(w,1),this._triggers.has(v)||I.delete(v)})}}register(E,v){return!this._triggers.has(E)&&(this._triggers.set(E,v),!0)}_getTrigger(E){const v=this._triggers.get(E);if(!v)throw function Fi(){return new T.wOt(3401,!1)}();return v}trigger(E,v,M,V=!0){const Z=this._getTrigger(v),m=new Bi(this.id,v,E);let I=this._engine.statesByElement.get(E);I||(ei(E,Kn),ei(E,Kn+"-"+v),this._engine.statesByElement.set(E,I=new Map));let w=I.get(v);const C=new hr(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&w&&C.absorbOptions(w.options),I.set(v,C),w||(w=Fr),C.value!==Zn&&w.value===C.value){if(!function ba(j,E){const v=Object.keys(j),M=Object.keys(E);if(v.length!=M.length)return!1;for(let V=0;V<v.length;V++){const Z=v[V];if(!E.hasOwnProperty(Z)||j[Z]!==E[Z])return!1}return!0}(w.params,C.params)){const Ot=[],$n=Z.matchStyles(w.value,w.params,Ot),br=Z.matchStyles(C.value,C.params,Ot);Ot.length?this._engine.reportError(Ot):this._engine.afterFlush(()=>{Cn(E,$n),Fn(E,br)})}return}const ne=Pn(this._engine.playersByElement,E,[]);ne.forEach(Ot=>{Ot.namespaceId==this.id&&Ot.triggerName==v&&Ot.queued&&Ot.destroy()});let xe=Z.matchTransition(w.value,C.value,E,C.params),Ke=!1;if(!xe){if(!V)return;xe=Z.fallbackTransition,Ke=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:v,transition:xe,fromState:w,toState:C,player:m,isFallbackTransition:Ke}),Ke||(ei(E,_r),m.onStart(()=>{ps(E,_r)})),m.onDone(()=>{let Ot=this.players.indexOf(m);Ot>=0&&this.players.splice(Ot,1);const $n=this._engine.playersByElement.get(E);if($n){let br=$n.indexOf(m);br>=0&&$n.splice(br,1)}}),this.players.push(m),ne.push(m),m}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(v=>v.delete(E)),this._elementListeners.forEach((v,M)=>{this._elementListeners.set(M,v.filter(V=>V.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const v=this._engine.playersByElement.get(E);v&&(v.forEach(M=>M.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,v){const M=this._engine.driver.query(E,or,!0);M.forEach(V=>{if(V[gn])return;const Z=this._engine.fetchNamespacesByElement(V);Z.size?Z.forEach(m=>m.triggerLeaveAnimation(V,v,!1,!0)):this.clearElementCache(V)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(V=>this.clearElementCache(V)))}triggerLeaveAnimation(E,v,M,V){const Z=this._engine.statesByElement.get(E),m=new Map;if(Z){const I=[];if(Z.forEach((w,C)=>{if(m.set(C,w.value),this._triggers.has(C)){const L=this.trigger(E,C,Zn,V);L&&I.push(L)}}),I.length)return this._engine.markElementAsRemoved(this.id,E,!0,v,m),M&&_e(I).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const v=this._elementListeners.get(E),M=this._engine.statesByElement.get(E);if(v&&M){const V=new Set;v.forEach(Z=>{const m=Z.name;if(V.has(m))return;V.add(m);const w=this._triggers.get(m).fallbackTransition,C=M.get(m)||Fr,L=new hr(Zn),X=new Bi(this.id,m,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:m,transition:w,fromState:C,toState:L,player:X,isFallbackTransition:!0})})}}removeNode(E,v){const M=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,v),this.triggerLeaveAnimation(E,v,!0))return;let V=!1;if(M.totalAnimations){const Z=M.players.length?M.playersByQueriedElement.get(E):[];if(Z&&Z.length)V=!0;else{let m=E;for(;m=m.parentNode;)if(M.statesByElement.get(m)){V=!0;break}}}if(this.prepareLeaveAnimationListeners(E),V)M.markElementAsRemoved(this.id,E,!1,v);else{const Z=E[gn];(!Z||Z===Xt)&&(M.afterFlush(()=>this.clearElementCache(E)),M.destroyInnerAnimations(E),M._onRemovalComplete(E,v))}}insertNode(E,v){ei(E,this._hostClassName)}drainQueuedTransitions(E){const v=[];return this._queue.forEach(M=>{const V=M.player;if(V.destroyed)return;const Z=M.element,m=this._elementListeners.get(Z);m&&m.forEach(I=>{if(I.name==M.triggerName){const w=Jt(Z,M.triggerName,M.fromState.value,M.toState.value);w._data=E,Vt(M.player,I.phase,w,I.callback)}}),V.markedForDestroy?this._engine.afterFlush(()=>{V.destroy()}):v.push(M)}),this._queue=[],v.sort((M,V)=>{const Z=M.transition.ast.depCount,m=V.transition.ast.depCount;return 0==Z||0==m?Z-m:this._engine.driver.containsElement(M.element,V.element)?1:-1})}destroy(E){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}}class _i{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(E,v)=>{};_onRemovalComplete(E,v){this.onRemovalComplete(E,v)}constructor(E,v,M){this.bodyNode=E,this.driver=v,this._normalizer=M}get queuedPlayers(){const E=[];return this._namespaceList.forEach(v=>{v.players.forEach(M=>{M.queued&&E.push(M)})}),E}createNamespace(E,v){const M=new Ii(E,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(M,v):(this.newHostElements.set(v,M),this.collectEnterElement(v)),this._namespaceLookup[E]=M}_balanceNamespaceList(E,v){const M=this._namespaceList,V=this.namespacesByHostElement;if(M.length-1>=0){let m=!1,I=this.driver.getParentElement(v);for(;I;){const w=V.get(I);if(w){const C=M.indexOf(w);M.splice(C+1,0,E),m=!0;break}I=this.driver.getParentElement(I)}m||M.unshift(E)}else M.push(E);return V.set(v,E),E}register(E,v){let M=this._namespaceLookup[E];return M||(M=this.createNamespace(E,v)),M}registerTrigger(E,v,M){let V=this._namespaceLookup[E];V&&V.register(v,M)&&this.totalAnimations++}destroy(E,v){E&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const M=this._fetchNamespace(E);this.namespacesByHostElement.delete(M.hostElement);const V=this._namespaceList.indexOf(M);V>=0&&this._namespaceList.splice(V,1),M.destroy(v),delete this._namespaceLookup[E]}))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const v=new Set,M=this.statesByElement.get(E);if(M)for(let V of M.values())if(V.namespaceId){const Z=this._fetchNamespace(V.namespaceId);Z&&v.add(Z)}return v}trigger(E,v,M,V){if(Ni(v)){const Z=this._fetchNamespace(E);if(Z)return Z.trigger(v,M,V),!0}return!1}insertNode(E,v,M,V){if(!Ni(v))return;const Z=v[gn];if(Z&&Z.setForRemoval){Z.setForRemoval=!1,Z.setForMove=!0;const m=this.collectedLeaveElements.indexOf(v);m>=0&&this.collectedLeaveElements.splice(m,1)}if(E){const m=this._fetchNamespace(E);m&&m.insertNode(v,M)}V&&this.collectEnterElement(v)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,v){v?this.disabledNodes.has(E)||(this.disabledNodes.add(E),ei(E,K)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),ps(E,K))}removeNode(E,v,M){if(Ni(v)){const V=E?this._fetchNamespace(E):null;V?V.removeNode(v,M):this.markElementAsRemoved(E,v,!1,M);const Z=this.namespacesByHostElement.get(v);Z&&Z.id!==E&&Z.removeNode(v,M)}else this._onRemovalComplete(v,M)}markElementAsRemoved(E,v,M,V,Z){this.collectedLeaveElements.push(v),v[gn]={namespaceId:E,setForRemoval:V,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:Z}}listen(E,v,M,V,Z){return Ni(v)?this._fetchNamespace(E).listen(v,M,V,Z):()=>{}}_buildInstruction(E,v,M,V,Z){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,M,V,E.fromState.options,E.toState.options,v,Z)}destroyInnerAnimations(E){let v=this.driver.query(E,or,!0);v.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(E,Si,!0),v.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(E){const v=this.playersByElement.get(E);v&&v.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(E){const v=this.playersByQueriedElement.get(E);v&&v.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return _e(this.players).onDone(()=>E());E()})}processLeaveNode(E){const v=E[gn];if(v&&v.setForRemoval){if(E[gn]=Xt,v.namespaceId){this.destroyInnerAnimations(E);const M=this._fetchNamespace(v.namespaceId);M&&M.clearElementCache(E)}this._onRemovalComplete(E,v.setForRemoval)}E.classList?.contains(K)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(E=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,V)=>this._balanceNamespaceList(M,V)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)ei(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{v=this._flushAnimations(M,E)}finally{for(let V=0;V<M.length;V++)M[V]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],v.length?_e(v).onDone(()=>{M.forEach(V=>V())}):M.forEach(V=>V())}}reportError(E){throw function Li(){return new T.wOt(3402,!1)}()}_flushAnimations(E,v){const M=new Ss,V=[],Z=new Map,m=[],I=new Map,w=new Map,C=new Map,L=new Set;this.disabledNodes.forEach(wn=>{L.add(wn);const rr=this.driver.query(wn,".ng-animate-queued",!0);for(let cr=0;cr<rr.length;cr++)L.add(rr[cr])});const X=this.bodyNode,ne=Array.from(this.statesByElement.keys()),xe=ws(ne,this.collectedEnterElements),Ke=new Map;let Ot=0;xe.forEach((wn,rr)=>{const cr=Bn+Ot++;Ke.set(rr,cr),wn.forEach(Xr=>ei(Xr,cr))});const $n=[],br=new Set,oi=new Set;for(let wn=0;wn<this.collectedLeaveElements.length;wn++){const rr=this.collectedLeaveElements[wn],cr=rr[gn];cr&&cr.setForRemoval&&($n.push(rr),br.add(rr),cr.hasAnimation?this.driver.query(rr,".ng-star-inserted",!0).forEach(Xr=>br.add(Xr)):oi.add(rr))}const cs=new Map,ni=ws(ne,Array.from(br));ni.forEach((wn,rr)=>{const cr=dn+Ot++;cs.set(rr,cr),wn.forEach(Xr=>ei(Xr,cr))}),E.push(()=>{xe.forEach((wn,rr)=>{const cr=Ke.get(rr);wn.forEach(Xr=>ps(Xr,cr))}),ni.forEach((wn,rr)=>{const cr=cs.get(rr);wn.forEach(Xr=>ps(Xr,cr))}),$n.forEach(wn=>{this.processLeaveNode(wn)})});const Bs=[],rs=[];for(let wn=this._namespaceList.length-1;wn>=0;wn--)this._namespaceList[wn].drainQueuedTransitions(v).forEach(cr=>{const Xr=cr.player,Zs=cr.element;if(Bs.push(Xr),this.collectedEnterElements.length){const qs=Zs[gn];if(qs&&qs.setForMove){if(qs.previousTriggersValues&&qs.previousTriggersValues.has(cr.triggerName)){const Ao=qs.previousTriggersValues.get(cr.triggerName),Di=this.statesByElement.get(cr.element);if(Di&&Di.has(cr.triggerName)){const Pa=Di.get(cr.triggerName);Pa.value=Ao,Di.set(cr.triggerName,Pa)}}return void Xr.destroy()}}const ai=!X||!this.driver.containsElement(X,Zs),xo=cs.get(Zs),Vr=Ke.get(Zs),ki=this._buildInstruction(cr,M,Vr,xo,ai);if(ki.errors&&ki.errors.length)return void rs.push(ki);if(ai)return Xr.onStart(()=>Cn(Zs,ki.fromStyles)),Xr.onDestroy(()=>Fn(Zs,ki.toStyles)),void V.push(Xr);if(cr.isFallbackTransition)return Xr.onStart(()=>Cn(Zs,ki.fromStyles)),Xr.onDestroy(()=>Fn(Zs,ki.toStyles)),void V.push(Xr);const Oo=[];ki.timelines.forEach(qs=>{qs.stretchStartingKeyframe=!0,this.disabledNodes.has(qs.element)||Oo.push(qs)}),ki.timelines=Oo,M.append(Zs,ki.timelines),m.push({instruction:ki,player:Xr,element:Zs}),ki.queriedElements.forEach(qs=>Pn(I,qs,[]).push(Xr)),ki.preStyleProps.forEach((qs,Ao)=>{if(qs.size){let Di=w.get(Ao);Di||w.set(Ao,Di=new Set),qs.forEach((Pa,qo)=>Di.add(qo))}}),ki.postStyleProps.forEach((qs,Ao)=>{let Di=C.get(Ao);Di||C.set(Ao,Di=new Set),qs.forEach((Pa,qo)=>Di.add(qo))})});if(rs.length){const wn=[];rs.forEach(rr=>{wn.push(function Vi(){return new T.wOt(3505,!1)}())}),Bs.forEach(rr=>rr.destroy()),this.reportError(wn)}const ks=new Map,bs=new Map;m.forEach(wn=>{const rr=wn.element;M.has(rr)&&(bs.set(rr,rr),this._beforeAnimationBuild(wn.player.namespaceId,wn.instruction,ks))}),V.forEach(wn=>{const rr=wn.element;this._getPreviousPlayers(rr,!1,wn.namespaceId,wn.triggerName,null).forEach(Xr=>{Pn(ks,rr,[]).push(Xr),Xr.destroy()})});const Ko=$n.filter(wn=>jo(wn,w,C)),Ra=new Map;Pi(Ra,this.driver,oi,C,pn.kp).forEach(wn=>{jo(wn,w,C)&&Ko.push(wn)});const Xa=new Map;xe.forEach((wn,rr)=>{Pi(Xa,this.driver,new Set(wn),w,pn.FX)}),Ko.forEach(wn=>{const rr=Ra.get(wn),cr=Xa.get(wn);Ra.set(wn,new Map([...rr?.entries()??[],...cr?.entries()??[]]))});const Za=[],Pl=[],Ml={};m.forEach(wn=>{const{element:rr,player:cr,instruction:Xr}=wn;if(M.has(rr)){if(L.has(rr))return cr.onDestroy(()=>Fn(rr,Xr.toStyles)),cr.disabled=!0,cr.overrideTotalTime(Xr.totalTime),void V.push(cr);let Zs=Ml;if(bs.size>1){let xo=rr;const Vr=[];for(;xo=xo.parentNode;){const ki=bs.get(xo);if(ki){Zs=ki;break}Vr.push(xo)}Vr.forEach(ki=>bs.set(ki,Zs))}const ai=this._buildAnimation(cr.namespaceId,Xr,ks,Z,Xa,Ra);if(cr.setRealPlayer(ai),Zs===Ml)Za.push(cr);else{const xo=this.playersByElement.get(Zs);xo&&xo.length&&(cr.parentPlayer=_e(xo)),V.push(cr)}}else Cn(rr,Xr.fromStyles),cr.onDestroy(()=>Fn(rr,Xr.toStyles)),Pl.push(cr),L.has(rr)&&V.push(cr)}),Pl.forEach(wn=>{const rr=Z.get(wn.element);if(rr&&rr.length){const cr=_e(rr);wn.setRealPlayer(cr)}}),V.forEach(wn=>{wn.parentPlayer?wn.syncPlayerEvents(wn.parentPlayer):wn.destroy()});for(let wn=0;wn<$n.length;wn++){const rr=$n[wn],cr=rr[gn];if(ps(rr,dn),cr&&cr.hasAnimation)continue;let Xr=[];if(I.size){let ai=I.get(rr);ai&&ai.length&&Xr.push(...ai);let xo=this.driver.query(rr,Si,!0);for(let Vr=0;Vr<xo.length;Vr++){let ki=I.get(xo[Vr]);ki&&ki.length&&Xr.push(...ki)}}const Zs=Xr.filter(ai=>!ai.destroyed);Zs.length?Ws(this,rr,Zs):this.processLeaveNode(rr)}return $n.length=0,Za.forEach(wn=>{this.players.push(wn),wn.onDone(()=>{wn.destroy();const rr=this.players.indexOf(wn);this.players.splice(rr,1)}),wn.play()}),Za}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,v,M,V,Z){let m=[];if(v){const I=this.playersByQueriedElement.get(E);I&&(m=I)}else{const I=this.playersByElement.get(E);if(I){const w=!Z||Z==Zn;I.forEach(C=>{C.queued||!w&&C.triggerName!=V||m.push(C)})}}return(M||V)&&(m=m.filter(I=>!(M&&M!=I.namespaceId||V&&V!=I.triggerName))),m}_beforeAnimationBuild(E,v,M){const Z=v.element,m=v.isRemovalTransition?void 0:E,I=v.isRemovalTransition?void 0:v.triggerName;for(const w of v.timelines){const C=w.element,L=C!==Z,X=Pn(M,C,[]);this._getPreviousPlayers(C,L,m,I,v.toState).forEach(xe=>{const Ke=xe.getRealPlayer();Ke.beforeDestroy&&Ke.beforeDestroy(),xe.destroy(),X.push(xe)})}Cn(Z,v.fromStyles)}_buildAnimation(E,v,M,V,Z,m){const I=v.triggerName,w=v.element,C=[],L=new Set,X=new Set,ne=v.timelines.map(Ke=>{const Ot=Ke.element;L.add(Ot);const $n=Ot[gn];if($n&&$n.removedBeforeQueried)return new pn.sf(Ke.duration,Ke.delay);const br=Ot!==w,oi=function lo(j){const E=[];return da(j,E),E}((M.get(Ot)||xt).map(ks=>ks.getRealPlayer())).filter(ks=>!!ks.element&&ks.element===Ot),cs=Z.get(Ot),ni=m.get(Ot),Bs=$e(this._normalizer,Ke.keyframes,cs,ni),rs=this._buildPlayer(Ke,Bs,oi);if(Ke.subTimeline&&V&&X.add(Ot),br){const ks=new Bi(E,I,Ot);ks.setRealPlayer(rs),C.push(ks)}return rs});C.forEach(Ke=>{Pn(this.playersByQueriedElement,Ke.element,[]).push(Ke),Ke.onDone(()=>function Ri(j,E,v){let M=j.get(E);if(M){if(M.length){const V=M.indexOf(v);M.splice(V,1)}0==M.length&&j.delete(E)}return M}(this.playersByQueriedElement,Ke.element,Ke))}),L.forEach(Ke=>ei(Ke,wi));const xe=_e(ne);return xe.onDestroy(()=>{L.forEach(Ke=>ps(Ke,wi)),Fn(w,v.toStyles)}),X.forEach(Ke=>{Pn(V,Ke,[]).push(xe)}),xe}_buildPlayer(E,v,M){return v.length>0?this.driver.animate(E.element,v,E.duration,E.delay,E.easing,M):new pn.sf(E.duration,E.delay)}}class Bi{namespaceId;triggerName;element;_player=new pn.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(E,v,M){this.namespaceId=E,this.triggerName=v,this.element=M}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((v,M)=>{v.forEach(V=>Vt(E,M,void 0,V))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const v=this._player;v.triggerCallback&&E.onStart(()=>v.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,v){Pn(this._queuedCallbacks,E,[]).push(v)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const v=this._player;v.triggerCallback&&v.triggerCallback(E)}}function Ni(j){return j&&1===j.nodeType}function vi(j,E){const v=j.style.display;return j.style.display=E??"none",v}function Pi(j,E,v,M,V){const Z=[];v.forEach(w=>Z.push(vi(w)));const m=[];M.forEach((w,C)=>{const L=new Map;w.forEach(X=>{const ne=E.computeStyle(C,X,V);L.set(X,ne),(!ne||0==ne.length)&&(C[gn]=bn,m.push(C))}),j.set(C,L)});let I=0;return v.forEach(w=>vi(w,Z[I++])),m}function ws(j,E){const v=new Map;if(j.forEach(I=>v.set(I,[])),0==E.length)return v;const V=new Set(E),Z=new Map;function m(I){if(!I)return 1;let w=Z.get(I);if(w)return w;const C=I.parentNode;return w=v.has(C)?C:V.has(C)?1:m(C),Z.set(I,w),w}return E.forEach(I=>{const w=m(I);1!==w&&v.get(w).push(I)}),v}function ei(j,E){j.classList?.add(E)}function ps(j,E){j.classList?.remove(E)}function Ws(j,E,v){_e(v).onDone(()=>j.processLeaveNode(E))}function da(j,E){for(let v=0;v<j.length;v++){const M=j[v];M instanceof pn.PZ?da(M.players,E):E.push(M)}}function jo(j,E,v){const M=v.get(j);if(!M)return!1;let V=E.get(j);return V?M.forEach(Z=>V.add(Z)):E.set(j,M),v.delete(j),!0}class ho{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(E,v)=>{};constructor(E,v,M){this._driver=v,this._normalizer=M,this._transitionEngine=new _i(E.body,v,M),this._timelineEngine=new Vs(E.body,v,M),this._transitionEngine.onRemovalComplete=(V,Z)=>this.onRemovalComplete(V,Z)}registerTrigger(E,v,M,V,Z){const m=E+"-"+V;let I=this._triggerCache[m];if(!I){const w=[],L=jn(this._driver,Z,w,[]);if(w.length)throw function qi(){return new T.wOt(3404,!1)}();I=function yr(j,E,v){return new Zi(j,E,v)}(V,L,this._normalizer),this._triggerCache[m]=I}this._transitionEngine.registerTrigger(v,V,I)}register(E,v){this._transitionEngine.register(E,v)}destroy(E,v){this._transitionEngine.destroy(E,v)}onInsert(E,v,M,V){this._transitionEngine.insertNode(E,v,M,V)}onRemove(E,v,M){this._transitionEngine.removeNode(E,v,M)}disableAnimations(E,v){this._transitionEngine.markElementAsDisabled(E,v)}process(E,v,M,V){if("@"==M.charAt(0)){const[Z,m]=pr(M);this._timelineEngine.command(Z,v,m,V)}else this._transitionEngine.trigger(E,v,M,V)}listen(E,v,M,V,Z){if("@"==M.charAt(0)){const[m,I]=pr(M);return this._timelineEngine.listen(m,v,I,Z)}return this._transitionEngine.listen(E,v,M,V,Z)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(E){this._transitionEngine.afterFlushAnimationsDone(E)}}let ha=(()=>{class j{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(v,M,V){this._element=v,this._startStyles=M,this._endStyles=V;let Z=j.initialStylesByElement.get(v);Z||j.initialStylesByElement.set(v,Z=new Map),this._initialStyles=Z}start(){this._state<1&&(this._startStyles&&Fn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fn(this._element,this._initialStyles),this._endStyles&&(Fn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(j.initialStylesByElement.delete(this._element),this._startStyles&&(Cn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cn(this._element,this._endStyles),this._endStyles=null),Fn(this._element,this._initialStyles),this._state=3)}}return j})();function $o(j){let E=null;return j.forEach((v,M)=>{(function ns(j){return"display"===j||"position"===j})(M)&&(E=E||new Map,E.set(M,v))}),E}class No{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(E,v,M,V){this.element=E,this.keyframes=v,this.options=M,this._specialStyles=V,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map;const v=()=>this._onFinish();this.domPlayer.addEventListener("finish",v),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",v)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const v=[];return E.forEach(M=>{v.push(Object.fromEntries(M))}),v}_triggerWebAnimation(E,v,M){return E.animate(this._convertKeyframesToObject(v),M)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,V)=>{"offset"!==V&&E.set(V,this._finished?M:ie(this.element,V))}),this.currentSnapshot=E}triggerCallback(E){const v="start"===E?this._onStartFns:this._onDoneFns;v.forEach(M=>M()),v.length=0}}class hi{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}containsElement(E,v){return Mt(E,v)}getParentElement(E){return le(E)}query(E,v,M){return wt(E,v,M)}computeStyle(E,v,M){return ie(E,v)}animate(E,v,M,V,Z,m=[]){const w={duration:M,delay:V,fill:0==V?"both":"forwards"};Z&&(w.easing=Z);const C=new Map,L=m.filter(xe=>xe instanceof No);(function $(j,E){return 0===j||0===E})(M,V)&&L.forEach(xe=>{xe.currentSnapshot.forEach((Ke,Ot)=>C.set(Ot,Ke))});let X=function Kt(j){return j.length?j[0]instanceof Map?j:j.map(E=>new Map(Object.entries(E))):[]}(v).map(xe=>new Map(xe));X=function me(j,E,v){if(v.size&&E.length){let M=E[0],V=[];if(v.forEach((Z,m)=>{M.has(m)||V.push(m),M.set(m,Z)}),V.length)for(let Z=1;Z<E.length;Z++){let m=E[Z];V.forEach(I=>m.set(I,ie(j,I)))}}return E}(E,X,C);const ne=function Fa(j,E){let v=null,M=null;return Array.isArray(E)&&E.length?(v=$o(E[0]),E.length>1&&(M=$o(E[E.length-1]))):E instanceof Map&&(v=$o(E)),v||M?new ha(j,v,M):null}(E,X);return new No(E,X,w,ne)}}const zo="@.disabled";class bi{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(E,v,M,V){this.namespaceId=E,this.delegate=v,this.engine=M,this._onDestroy=V}get data(){return this.delegate.data}destroyNode(E){this.delegate.destroyNode?.(E)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(E,v){return this.delegate.createElement(E,v)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,v){this.delegate.appendChild(E,v),this.engine.onInsert(this.namespaceId,v,E,!1)}insertBefore(E,v,M,V=!0){this.delegate.insertBefore(E,v,M),this.engine.onInsert(this.namespaceId,v,E,V)}removeChild(E,v,M){this.parentNode(v)&&this.engine.onRemove(this.namespaceId,v,this.delegate)}selectRootElement(E,v){return this.delegate.selectRootElement(E,v)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,v,M,V){this.delegate.setAttribute(E,v,M,V)}removeAttribute(E,v,M){this.delegate.removeAttribute(E,v,M)}addClass(E,v){this.delegate.addClass(E,v)}removeClass(E,v){this.delegate.removeClass(E,v)}setStyle(E,v,M,V){this.delegate.setStyle(E,v,M,V)}removeStyle(E,v,M){this.delegate.removeStyle(E,v,M)}setProperty(E,v,M){"@"==v.charAt(0)&&v==zo?this.disableAnimations(E,!!M):this.delegate.setProperty(E,v,M)}setValue(E,v){this.delegate.setValue(E,v)}listen(E,v,M,V){return this.delegate.listen(E,v,M,V)}disableAnimations(E,v){this.engine.disableAnimations(E,v)}}class fa extends bi{factory;constructor(E,v,M,V,Z){super(v,M,V,Z),this.factory=E,this.namespaceId=v}setProperty(E,v,M){"@"==v.charAt(0)?"."==v.charAt(1)&&v==zo?this.disableAnimations(E,M=void 0===M||!!M):this.engine.process(this.namespaceId,E,v.slice(1),M):this.delegate.setProperty(E,v,M)}listen(E,v,M,V){if("@"==v.charAt(0)){const Z=function Hr(j){switch(j){case"body":return document.body;case"document":return document;case"window":return window;default:return j}}(E);let m=v.slice(1),I="";return"@"!=m.charAt(0)&&([m,I]=function Lr(j){const E=j.indexOf(".");return[j.substring(0,E),j.slice(E+1)]}(m)),this.engine.listen(this.namespaceId,Z,m,I,w=>{this.factory.scheduleListenerCallback(w._data||-1,M,w)})}return this.delegate.listen(E,v,M,V)}}class Da{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(E,v,M){this.delegate=E,this.engine=v,this._zone=M,v.onRemovalComplete=(V,Z)=>{Z?.removeChild(null,V)}}createRenderer(E,v){const V=this.delegate.createRenderer(E,v);if(!E||!v?.data?.animation){const C=this._rendererCache;let L=C.get(V);return L||(L=new bi("",V,this.engine,()=>C.delete(V)),C.set(V,L)),L}const Z=v.id,m=v.id+"-"+this._currentId;this._currentId++,this.engine.register(m,E);const I=C=>{Array.isArray(C)?C.forEach(I):this.engine.registerTrigger(Z,m,E,C.name,C)};return v.data.animation.forEach(I),new fa(this,m,V,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,v,M){if(E>=0&&E<this._microtaskId)return void this._zone.run(()=>v(M));const V=this._animationCallbacksBuffer;0==V.length&&queueMicrotask(()=>{this._zone.run(()=>{V.forEach(Z=>{const[m,I]=Z;m(I)}),this._animationCallbacksBuffer=[]})}),V.push([v,M])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(E){this.engine.flush(),this.delegate.componentReplaced?.(E)}}const Qa=[{provide:ln,useFactory:function qa(){return new Gr}},{provide:ho,useClass:(()=>{class j extends ho{constructor(v,M,V){super(v,M,V)}ngOnDestroy(){this.flush()}static \u0275fac=function(M){return new(M||j)(T.KVO(Y.q),T.KVO(Ct),T.KVO(ln))};static \u0275prov=T.jDH({token:j,factory:j.\u0275fac})}return j})()},{provide:T._9s,useFactory:function Aa(j,E,v){return new Da(j,E,v)},deps:[bt,ho,T.SKi]}],Va=[{provide:Ct,useFactory:()=>new hi},{provide:T.bc$,useFactory:()=>"BrowserAnimations"},...Qa];var fi=H(5072);let Us=(()=>{class j{title="todo-app";static \u0275fac=function(M){return new(M||j)};static \u0275cmp=T.VBU({type:j,selectors:[["app-root"]],decls:1,vars:0,template:function(M,V){1&M&&T.nrm(0,"router-outlet")},dependencies:[fi.n3],encapsulation:2})}return j})();var Wi=H(5207),Ks=H(467),fo=H(2881);let ti=(()=>{class j{static \u0275fac=function(M){return new(M||j)};static \u0275cmp=T.VBU({type:j,selectors:[["app-components"]],decls:335,vars:0,consts:[[1,"container","border-2"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title","fw-semibold","mb-4"],[1,"card-body","p-4"],["type","button",1,"btn","btn-full","--primary","m-1"],["type","button",1,"btn","btn-full","--secondary","m-1"],["type","button",1,"btn","btn-full","--success","m-1"],["type","button",1,"btn","btn-full","--danger","m-1"],["type","button",1,"btn","btn-full","--warning","m-1"],["type","button",1,"btn","btn-full","--info","m-1"],["type","button",1,"btn","btn-full","--light","m-1"],["type","button",1,"btn","btn-full","--dark","m-1"],["type","button",1,"btn","btn-full","--link","m-1"],[1,"card","mb-0"],["type","button",1,"btn","btn-border","--primary","m-1"],["type","button",1,"btn","btn-border","--secondary","m-1"],["type","button",1,"btn","btn-border","--success","m-1"],["type","button",1,"btn","btn-border","--danger","m-1"],["type","button",1,"btn","btn-border","--warning","m-1"],["type","button",1,"btn","btn-border","--info","m-1"],["type","button",1,"btn","btn-border","--light","m-1"],["type","button",1,"btn","btn-border","--dark","m-1"],["type","button",1,"btn","btn-border","--link","m-1"],["id","tables",1,"min-vh-100","d-flex","align-items-center","py-5"],[1,"container"],[1,"display-5","fw-bold","font-raleway","mb-3"],[1,"col-sm-12","col-md-6","py-2","grid-margin","stretch-card"],[1,"card-title"],[1,"card-description"],[1,"table-responsive"],[1,"table"],[1,"badge","badge-type","badge-outline-danger"],[1,"badge","badge-type","badge-outline-success"],[1,"badge","badge-type","badge-outline-info"],[1,"badge","badge-type","badge-outline-warning"],[1,"table","table-hover"],[1,"text-danger"],[1,"ti-arrow-down"],[1,"text-success"],[1,"ti-arrow-up"],[1,"col-12","py-2","grid-margin","stretch-card"],[1,"table","table-light","table-hover"],[1,"py-1"],["src","https://randomuser.me/api/portraits/thumb/men/20.jpg","alt","image"],[1,"progress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","25%"],[1,"badge","badge-full-success"],["src","https://randomuser.me/api/portraits/thumb/men/7.jpg","alt","image"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","75%"],[1,"badge","badge-full-danger"],["src","https://randomuser.me/api/portraits/thumb/men/2.jpg","alt","image"],["role","progressbar","aria-valuenow","90","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning",2,"width","90%"],[1,"badge","badge-full-warning"],["src","https://randomuser.me/api/portraits/thumb/women/1.jpg","alt","image"],["role","progressbar","aria-valuenow","50","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","50%"],[1,"badge","badge-full-primary"],["src","https://randomuser.me/api/portraits/thumb/women/3.jpg","alt","image"],["role","progressbar","aria-valuenow","35","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","35%"],[1,"badge","badge-full-secondary"],["src","https://randomuser.me/api/portraits/thumb/women/6.jpg","alt","image"],["role","progressbar","aria-valuenow","65","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","65%"],[1,"badge","badge-full-info"],["src","https://randomuser.me/api/portraits/thumb/men/12.jpg","alt","image"],["role","progressbar","aria-valuenow","20","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning",2,"width","20%"]],template:function(M,V){1&M&&(T.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),T.EFF(6,"Buttons"),T.k0s(),T.j41(7,"div",3)(8,"div",6)(9,"button",7),T.EFF(10,"Primary"),T.k0s(),T.j41(11,"button",8),T.EFF(12,"Secondary"),T.k0s(),T.j41(13,"button",9),T.EFF(14,"Success"),T.k0s(),T.j41(15,"button",10),T.EFF(16,"Danger"),T.k0s(),T.j41(17,"button",11),T.EFF(18,"Warning"),T.k0s(),T.j41(19,"button",12),T.EFF(20,"Info"),T.k0s(),T.j41(21,"button",13),T.EFF(22,"Light"),T.k0s(),T.j41(23,"button",14),T.EFF(24,"Dark"),T.k0s(),T.j41(25,"button",15),T.EFF(26,"Link"),T.k0s()()(),T.j41(27,"h5",5),T.EFF(28,"Outline buttons"),T.k0s(),T.j41(29,"div",16)(30,"div",6)(31,"button",17),T.EFF(32,"Primary"),T.k0s(),T.j41(33,"button",18),T.EFF(34,"Secondary"),T.k0s(),T.j41(35,"button",19),T.EFF(36,"Success"),T.k0s(),T.j41(37,"button",20),T.EFF(38,"Danger"),T.k0s(),T.j41(39,"button",21),T.EFF(40,"Warning"),T.k0s(),T.j41(41,"button",22),T.EFF(42,"Info"),T.k0s(),T.j41(43,"button",23),T.EFF(44,"Light"),T.k0s(),T.j41(45,"button",24),T.EFF(46,"Dark"),T.k0s(),T.j41(47,"button",25),T.EFF(48,"Link"),T.k0s()()()()()()()(),T.j41(49,"section",26)(50,"div",27)(51,"div",1)(52,"div",2)(53,"h2",28),T.EFF(54,"Tables"),T.k0s()(),T.j41(55,"div",29)(56,"div",3)(57,"div",4)(58,"h4",30),T.EFF(59,"Basic Table"),T.k0s(),T.j41(60,"p",31),T.EFF(61," Add class "),T.j41(62,"code"),T.EFF(63,".table"),T.k0s()(),T.j41(64,"div",32)(65,"table",33)(66,"thead")(67,"tr")(68,"th"),T.EFF(69,"Profile"),T.k0s(),T.j41(70,"th"),T.EFF(71,"VatNo."),T.k0s(),T.j41(72,"th"),T.EFF(73,"Created"),T.k0s(),T.j41(74,"th"),T.EFF(75,"Status"),T.k0s()()(),T.j41(76,"tbody")(77,"tr")(78,"td"),T.EFF(79,"Jacob"),T.k0s(),T.j41(80,"td"),T.EFF(81,"53275531"),T.k0s(),T.j41(82,"td"),T.EFF(83,"12 May 2017"),T.k0s(),T.j41(84,"td")(85,"label",34),T.EFF(86,"Pending"),T.k0s()()(),T.j41(87,"tr")(88,"td"),T.EFF(89,"Messsy"),T.k0s(),T.j41(90,"td"),T.EFF(91,"53275532"),T.k0s(),T.j41(92,"td"),T.EFF(93,"15 May 2017"),T.k0s(),T.j41(94,"td")(95,"label",35),T.EFF(96,"In progress"),T.k0s()()(),T.j41(97,"tr")(98,"td"),T.EFF(99,"John"),T.k0s(),T.j41(100,"td"),T.EFF(101,"53275533"),T.k0s(),T.j41(102,"td"),T.EFF(103,"14 May 2017"),T.k0s(),T.j41(104,"td")(105,"label",36),T.EFF(106,"Fixed"),T.k0s()()(),T.j41(107,"tr")(108,"td"),T.EFF(109,"Peter"),T.k0s(),T.j41(110,"td"),T.EFF(111,"53275534"),T.k0s(),T.j41(112,"td"),T.EFF(113,"16 May 2017"),T.k0s(),T.j41(114,"td")(115,"label",35),T.EFF(116,"Completed"),T.k0s()()(),T.j41(117,"tr")(118,"td"),T.EFF(119,"Dave"),T.k0s(),T.j41(120,"td"),T.EFF(121,"53275535"),T.k0s(),T.j41(122,"td"),T.EFF(123,"20 May 2017"),T.k0s(),T.j41(124,"td")(125,"label",37),T.EFF(126,"In progress"),T.k0s()()()()()()()()(),T.j41(127,"div",29)(128,"div",3)(129,"div",4)(130,"h4",30),T.EFF(131,"Hoverable Table"),T.k0s(),T.j41(132,"p",31),T.EFF(133," Add class "),T.j41(134,"code"),T.EFF(135,".table-hover"),T.k0s()(),T.j41(136,"div",32)(137,"table",38)(138,"thead")(139,"tr")(140,"th"),T.EFF(141,"User"),T.k0s(),T.j41(142,"th"),T.EFF(143,"Product"),T.k0s(),T.j41(144,"th"),T.EFF(145,"Sale"),T.k0s(),T.j41(146,"th"),T.EFF(147,"Status"),T.k0s()()(),T.j41(148,"tbody")(149,"tr")(150,"td"),T.EFF(151,"Jacob"),T.k0s(),T.j41(152,"td"),T.EFF(153,"Photoshop"),T.k0s(),T.j41(154,"td",39),T.EFF(155," 28.76% "),T.nrm(156,"i",40),T.k0s(),T.j41(157,"td")(158,"label",34),T.EFF(159,"Pending"),T.k0s()()(),T.j41(160,"tr")(161,"td"),T.EFF(162,"Messsy"),T.k0s(),T.j41(163,"td"),T.EFF(164,"Flash"),T.k0s(),T.j41(165,"td",39),T.EFF(166," 21.06% "),T.nrm(167,"i",40),T.k0s(),T.j41(168,"td")(169,"label",37),T.EFF(170,"In progress"),T.k0s()()(),T.j41(171,"tr")(172,"td"),T.EFF(173,"John"),T.k0s(),T.j41(174,"td"),T.EFF(175,"Premier"),T.k0s(),T.j41(176,"td",39),T.EFF(177," 35.00% "),T.nrm(178,"i",40),T.k0s(),T.j41(179,"td")(180,"label",36),T.EFF(181,"Fixed"),T.k0s()()(),T.j41(182,"tr")(183,"td"),T.EFF(184,"Peter"),T.k0s(),T.j41(185,"td"),T.EFF(186,"After effects"),T.k0s(),T.j41(187,"td",41),T.EFF(188," 82.00% "),T.nrm(189,"i",42),T.k0s(),T.j41(190,"td")(191,"label",35),T.EFF(192,"Completed"),T.k0s()()(),T.j41(193,"tr")(194,"td"),T.EFF(195,"Dave"),T.k0s(),T.j41(196,"td"),T.EFF(197,"53275535"),T.k0s(),T.j41(198,"td",41),T.EFF(199," 98.05% "),T.nrm(200,"i",42),T.k0s(),T.j41(201,"td")(202,"label",37),T.EFF(203,"In progress"),T.k0s()()()()()()()()(),T.j41(204,"div",43)(205,"div",3)(206,"div",4)(207,"h4",30),T.EFF(208,"Striped Table"),T.k0s(),T.j41(209,"p",31),T.EFF(210," Add class "),T.j41(211,"code"),T.EFF(212,".table-striped"),T.k0s()(),T.j41(213,"div",32)(214,"table",44)(215,"thead")(216,"tr")(217,"th"),T.EFF(218," User "),T.k0s(),T.j41(219,"th"),T.EFF(220," First name "),T.k0s(),T.j41(221,"th"),T.EFF(222," Progress "),T.k0s(),T.j41(223,"th"),T.EFF(224," Amount "),T.k0s(),T.j41(225,"th"),T.EFF(226," Deadline "),T.k0s(),T.j41(227,"th"),T.EFF(228," Status "),T.k0s()()(),T.j41(229,"tbody")(230,"tr")(231,"td",45),T.nrm(232,"img",46),T.k0s(),T.j41(233,"td"),T.EFF(234," Herman Beck "),T.k0s(),T.j41(235,"td")(236,"div",47),T.nrm(237,"div",48),T.k0s()(),T.j41(238,"td"),T.EFF(239," $ 77.99 "),T.k0s(),T.j41(240,"td"),T.EFF(241," May 15, 2015 "),T.k0s(),T.j41(242,"td")(243,"label",49),T.EFF(244,"In progress"),T.k0s()()(),T.j41(245,"tr")(246,"td",45),T.nrm(247,"img",50),T.k0s(),T.j41(248,"td"),T.EFF(249," Messsy Adam "),T.k0s(),T.j41(250,"td")(251,"div",47),T.nrm(252,"div",51),T.k0s()(),T.j41(253,"td"),T.EFF(254," $245.30 "),T.k0s(),T.j41(255,"td"),T.EFF(256," July 1, 2015 "),T.k0s(),T.j41(257,"td")(258,"label",52),T.EFF(259,"In progress"),T.k0s()()(),T.j41(260,"tr")(261,"td",45),T.nrm(262,"img",53),T.k0s(),T.j41(263,"td"),T.EFF(264," John Richards "),T.k0s(),T.j41(265,"td")(266,"div",47),T.nrm(267,"div",54),T.k0s()(),T.j41(268,"td"),T.EFF(269," $138.00 "),T.k0s(),T.j41(270,"td"),T.EFF(271," Apr 12, 2015 "),T.k0s(),T.j41(272,"td")(273,"label",55),T.EFF(274,"In progress"),T.k0s()()(),T.j41(275,"tr")(276,"td",45),T.nrm(277,"img",56),T.k0s(),T.j41(278,"td"),T.EFF(279," Peter Meggik "),T.k0s(),T.j41(280,"td")(281,"div",47),T.nrm(282,"div",57),T.k0s()(),T.j41(283,"td"),T.EFF(284," $ 77.99 "),T.k0s(),T.j41(285,"td"),T.EFF(286," May 15, 2015 "),T.k0s(),T.j41(287,"td")(288,"label",58),T.EFF(289,"In progress"),T.k0s()()(),T.j41(290,"tr")(291,"td",45),T.nrm(292,"img",59),T.k0s(),T.j41(293,"td"),T.EFF(294," Edward "),T.k0s(),T.j41(295,"td")(296,"div",47),T.nrm(297,"div",60),T.k0s()(),T.j41(298,"td"),T.EFF(299," $ 160.25 "),T.k0s(),T.j41(300,"td"),T.EFF(301," May 03, 2015 "),T.k0s(),T.j41(302,"td")(303,"label",61),T.EFF(304,"In progress"),T.k0s()()(),T.j41(305,"tr")(306,"td",45),T.nrm(307,"img",62),T.k0s(),T.j41(308,"td"),T.EFF(309," John Doe "),T.k0s(),T.j41(310,"td")(311,"div",47),T.nrm(312,"div",63),T.k0s()(),T.j41(313,"td"),T.EFF(314," $ 123.21 "),T.k0s(),T.j41(315,"td"),T.EFF(316," April 05, 2015 "),T.k0s(),T.j41(317,"td")(318,"label",64),T.EFF(319,"In progress"),T.k0s()()(),T.j41(320,"tr")(321,"td",45),T.nrm(322,"img",65),T.k0s(),T.j41(323,"td"),T.EFF(324," Henry Tom "),T.k0s(),T.j41(325,"td")(326,"div",47),T.nrm(327,"div",66),T.k0s()(),T.j41(328,"td"),T.EFF(329," $ 150.00 "),T.k0s(),T.j41(330,"td"),T.EFF(331," June 16, 2015 "),T.k0s(),T.j41(332,"td")(333,"label",55),T.EFF(334,"In progress"),T.k0s()()()()()()()()()()()())},encapsulation:2})}return j})();var P=H(6335),N=H(9885),z=H(4796),Se=H(6810),Lt=H(9332),Rn=H(7759);const ar=j=>["/dashboard/profile",j],ji=()=>["/dashboard/claims"],Gi=()=>["/dashboard/admin-users"];function Is(j,E){if(1&j&&(T.j41(0,"span",43),T.EFF(1),T.k0s()),2&j){const v=T.XpG();T.R7$(),T.JRh(v.pendingCount)}}function Go(j,E){1&j&&(T.j41(0,"li")(1,"a",21),T.EFF(2," Admin Usuarios "),T.k0s()()),2&j&&(T.R7$(),T.Y8G("routerLink",T.lJ4(1,Gi)))}let Ca=(()=>{class j{route;auth;userService;authService;router;todoService;alertaService;mockService;userData=null;isLoading=!0;imagePath="assets/images/isotipo-webmain.svg";imageDefault="https://maxuber79.github.io/gsaforce/assets/images/face28.jpg";apodoUser="perrito";user=null;uid=null;profilePhotoURL="";pendingCount=0;todos=[];metrics="";tickets;satisfaction;channels;channelLabels=["Web","App","WhatsApp","Call Center"];channelData=[40,25,20,15];notifications=[];channelsData=[];perfil=null;userRol="";constructor(v,M,V,Z,m,I,w,C){this.route=v,this.auth=M,this.userService=V,this.authService=Z,this.router=m,this.todoService=I,this.alertaService=w,this.mockService=C,console.log("%c<<< Start DashboardComponent >>>","background: #0d6efd; color: #ffffff; padding: 2px 5px;")}ngOnInit(){console.log("\u{1f4e6} Iniciando carga de usuario en dashboard..."),this.authService.getCurrentUser().subscribe(v=>{v&&(this.uid=v.uid,console.log(`%c \u{1f4e6} Usuario autenticado: ${v.uid}:`,"background: #d1e7dd; color: #0f5132; padding: 2px 5px;",v),this.userService.getUserData(v.uid).subscribe(M=>{console.log(`%c \u{1f4e6} Usuario autenticado ----\x3e ${v.uid}:`,"background: #d1e7dd; color: #0f5132; padding: 2px 5px;",M),this.userData=M,this.uid=M?.uid||"",this.perfil=M,this.userRol=M?.rol||"Usuario",console.log("Rol del usuario:",this.userRol)}))})}onLogout(){var v=this;return(0,Ks.A)(function*(){try{yield v.authService.logout(),v.router.navigate(["/"])}catch(M){console.error("\u274c Error al cerrar sesi\xf3n:",M)}})()}goToProfile(){this.userData?.uid?this.router.navigate(["/dashboard/profile",this.userData.uid]):console.error("\u274c No se encontr\xf3 UID para navegar al perfil")}static \u0275fac=function(M){return new(M||j)(T.rXU(fi.nX),T.rXU(P.Nj),T.rXU(N.D),T.rXU(z.u),T.rXU(fi.Ix),T.rXU(Se.y),T.rXU(Lt.u),T.rXU(Rn.I))};static \u0275cmp=T.VBU({type:j,selectors:[["app-dashboard"]],decls:76,vars:9,consts:[[1,"d-flex","flex-column","min-vh-100","dashboard"],[1,"px-3","text-bg-dark"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["alt","","width","50",1,"",3,"src"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"navbar-nav","flex-row","d-none","d-md-flex"],[1,"nav-item","me-3","me-lg-1","active"],["href","#",1,"nav-link"],[1,"bi","bi-gear-fill"],[1,"nav-item","me-3","me-lg-1"],[1,"bi","bi-bell-fill"],["class","badge rounded-pill badge-notification bg-danger",4,"ngIf"],[1,"dropdown","text-end"],["href","#","data-bs-toggle","dropdown","aria-expanded","false",1,"text-decoration-none","dropdown-toggle"],["alt","mdo","width","32","height","32",1,"border","border-light-subtle","border-2","object-fit-cover","rounded-circle",3,"src"],[1,"dropdown-menu","dropdown-menu-end","text-small"],[1,"dropdown-item",3,"routerLink"],[4,"ngIf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"flex-grow-1","container","py-4"],[1,"container"],["data-bs-theme","dark",1,"py-4","bg-dark"],[1,"d-lg-flex","justify-content-between","py-3","py-lg-2"],[1,"small","mb-2","mb-lg-0"],[1,"text-muted","mb-0","me-5"],[1,"d-flex","small","align-items-end","justify-content-between"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3","mb-2","mb-lg-0"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3"],[1,"d-none","d-lg-block","ms-3"],["href","",1,"me-2"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-pinterest","text-primary"],["d","M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-twitter","text-primary"],["d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-facebook","text-primary"],["d","M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"],[1,"d-lg-none"],[1,"badge","rounded-pill","badge-notification","bg-danger"]],template:function(M,V){1&M&&(T.j41(0,"div",0)(1,"header",1)(2,"nav",2)(3,"div",3)(4,"a",4),T.nrm(5,"img",5),T.k0s(),T.j41(6,"button",6),T.nrm(7,"span",7),T.k0s(),T.j41(8,"div",8),T.nrm(9,"ul",9),T.j41(10,"ul",10)(11,"li",11)(12,"a",12)(13,"span"),T.nrm(14,"i",13),T.k0s()()(),T.j41(15,"li",14)(16,"a",12)(17,"span"),T.nrm(18,"i",15),T.k0s(),T.DNE(19,Is,2,1,"span",16),T.k0s()()(),T.j41(20,"div",17)(21,"a",18),T.nrm(22,"img",19),T.k0s(),T.j41(23,"ul",20)(24,"li")(25,"a",21),T.EFF(26,"Mi perfil"),T.k0s()(),T.j41(27,"li")(28,"a",21),T.EFF(29,"Mis Reclamos"),T.k0s()(),T.DNE(30,Go,3,2,"li",22),T.j41(31,"li"),T.nrm(32,"hr",23),T.k0s(),T.j41(33,"li")(34,"a",24),T.bIt("click",function(){return V.onLogout()}),T.EFF(35,"Sign out"),T.k0s()()()()()()()(),T.j41(36,"main",25)(37,"section",26),T.nrm(38,"router-outlet"),T.k0s(),T.nrm(39,"app-components"),T.k0s(),T.j41(40,"footer",27)(41,"div",26)(42,"div",28)(43,"div",29)(44,"p",30),T.EFF(45,"\xa9 2023 FreeFrontend.dev. All rights reserved."),T.k0s()(),T.j41(46,"div",31)(47,"div")(48,"a",32),T.EFF(49,"Privacy Policy"),T.k0s(),T.j41(50,"a",32),T.EFF(51,"Terms"),T.k0s(),T.j41(52,"a",32),T.EFF(53,"Cookies"),T.k0s(),T.j41(54,"a",33),T.EFF(55,"Sitemap"),T.k0s()(),T.j41(56,"div",34)(57,"a",35),T.qSk(),T.j41(58,"svg",36),T.nrm(59,"path",37),T.k0s()(),T.joV(),T.j41(60,"a",35),T.qSk(),T.j41(61,"svg",38),T.nrm(62,"path",39),T.k0s()(),T.joV(),T.j41(63,"a",35),T.qSk(),T.j41(64,"svg",40),T.nrm(65,"path",41),T.k0s()()(),T.joV(),T.j41(66,"div",42)(67,"a",35),T.qSk(),T.j41(68,"svg",36),T.nrm(69,"path",37),T.k0s()(),T.joV(),T.j41(70,"a",35),T.qSk(),T.j41(71,"svg",38),T.nrm(72,"path",39),T.k0s()(),T.joV(),T.j41(73,"a",35),T.qSk(),T.j41(74,"svg",40),T.nrm(75,"path",41),T.k0s()()()()()()()()),2&M&&(T.R7$(5),T.Y8G("src",V.imagePath,T.B4B),T.R7$(14),T.Y8G("ngIf",V.pendingCount>0),T.R7$(3),T.Y8G("src",(null==V.userData?null:V.userData.photoURL)||V.imageDefault,T.B4B),T.R7$(3),T.Y8G("routerLink",T.eq3(6,ar,V.uid)),T.R7$(3),T.Y8G("routerLink",T.lJ4(8,ji)),T.R7$(2),T.Y8G("ngIf","Administrador"===V.userRol))},dependencies:[fo.MD,fo.bT,Wi.iI,fi.n3,Wi.Wk,ti],styles:["[data-card=border][_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid var(--bs-border-color);box-shadow:none}.card[_ngcontent-%COMP%]{margin-bottom:var(--bs-gutter-x)}.card-title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px;color:var(--bs-card-title-color)}.card-subtitle[_ngcontent-%COMP%]{font-size:14px;line-height:24px;color:var(--bs-card-subtitle-color)}.card-hover[_ngcontent-%COMP%]{transition:.2s ease-in}.card-hover[_ngcontent-%COMP%]:hover{transform:translate3d(0,-5px,0)}.cardwithborder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid var(--bs-border-color)}.card-fullscreen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;overflow:auto}.draggable-cards[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{cursor:move}.card-moved[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:var(--bs-info);color:var(--bs-white)}"]})}return j})();function ao(j,E){1&j&&(T.j41(0,"div",5)(1,"div",6)(2,"span",7),T.EFF(3,"Cargando..."),T.k0s()(),T.j41(4,"p",8),T.EFF(5,"Procesando..."),T.k0s()())}let Ts=(()=>{class j{router;userName="Nuevo Usuario";isLoading=!1;constructor(v){this.router=v}goToDashboard(){setTimeout(()=>{this.isLoading=!1,this.router.navigate(["/dashboard"])},2e3)}static \u0275fac=function(M){return new(M||j)(T.rXU(fi.Ix))};static \u0275cmp=T.VBU({type:j,selectors:[["app-welcome"]],decls:8,vars:2,consts:[[1,"welcome-container"],[1,"welcome-title"],[1,"welcome-subtitle"],["class","text-center my-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"text-center","my-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"]],template:function(M,V){1&M&&(T.j41(0,"section",0)(1,"h1",1),T.EFF(2),T.k0s(),T.j41(3,"p",2),T.EFF(4," Gracias por registrarte en nuestra aplicaci\xf3n To-Do. Desde aqu\xed puedes acceder a tu panel de control. "),T.k0s(),T.DNE(5,ao,6,0,"div",3),T.j41(6,"button",4),T.bIt("click",function(){return V.goToDashboard()}),T.EFF(7,"Ir al Dashboard"),T.k0s()()),2&M&&(T.R7$(2),T.SpI("\xa1Bienvenido, ",V.userName,"! \u{1f44b}"),T.R7$(3),T.Y8G("ngIf",V.isLoading))},dependencies:[fo.MD,fo.bT],styles:[".welcome-container[_ngcontent-%COMP%]{text-align:center;padding:2rem}.welcome-container[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.welcome-container[_ngcontent-%COMP%]   .welcome-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:#555}.welcome-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1.5rem}"]})}return j})();var co=H(520),Xs=H(1985);const ra=(j,E)=>{const v=(0,T.WQX)(P.Nj),M=(0,T.WQX)(fi.Ix);return new Xs.c(V=>{const Z=(0,co.hg)(v,m=>{m?V.next(!0):(M.navigate(["/"]),V.next(!1)),V.complete(),Z()})})},Nn=(j,E)=>{const v=(0,T.WQX)(P.Nj),M=(0,T.WQX)(fi.Ix);return new Xs.c(V=>{const Z=(0,co.hg)(v,m=>{m?(M.navigate(["/dashboard"]),V.next(!1)):V.next(!0),V.complete(),Z()})})},pa=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>Promise.all([H.e(341),H.e(195)]).then(H.bind(H,7195)).then(j=>j.LoginComponent),canActivate:[Nn]},{path:"register",loadComponent:()=>Promise.all([H.e(341),H.e(739)]).then(H.bind(H,2739)).then(j=>j.RegisterComponent),canActivate:[Nn]},{path:"forgot",loadComponent:()=>Promise.all([H.e(341),H.e(439)]).then(H.bind(H,6439)).then(j=>j.ForgotPasswordComponent),canActivate:[Nn]},{path:"dashboard",component:Ca,canActivate:[ra],loadChildren:()=>Promise.all([H.e(341),H.e(69)]).then(H.bind(H,9069)).then(j=>j.routes)},{path:"welcome",component:Ts,canActivate:[ra]},{path:"**",loadComponent:()=>H.e(887).then(H.bind(H,8887)).then(j=>j.NotFoundComponent)}];var Do=H(7643);const po_firebaseConfig={apiKey:"AIzaSyCbOayfHpIwogvguhehOdr1JZO5IW1ELwA",authDomain:"to-do-app-2a154.firebaseapp.com",projectId:"to-do-app-2a154",storageBucket:"to-do-app-2a154.firebasestorage.app",messagingSenderId:"772395492262",appId:"1:772395492262:web:902eddb2ce4a22857da567"};var ga=H(7440),Sa=H(9967),$i=H(2107),Yi=H(5794);(function cn(j,E){return(0,T.TL3)({rootComponent:j,...Jn(E)})})(Us,{providers:[(0,Wi.lh)(pa),(0,Do.$R)(),function Wr(){return(0,T.ngT)("NgEagerAnimations"),[...Va]}(),(0,ga.MW)(()=>(0,ga.Wp)(po_firebaseConfig)),(0,P._q)(()=>(0,P.xI)()),(0,Sa.hV)(()=>(0,Sa.aU)()),(0,$i.Xm)(()=>(0,$i.c7)()),(0,Yi.DP)({positionClass:"toast-bottom-right",timeOut:3e3,closeButton:!0,progressBar:!0})]}).catch(j=>console.error(j))},8455:(Dn,We,H)=>{"use strict";H.d(We,{H:()=>Oe});var b=H(8750),O=H(941),Y=H(6745),rt=H(1985),De=H(4761),Ge=H(8071),be=H(5225);function dt(st,Je){if(!st)throw new Error("Iterable cannot be null");return new rt.c(Tt=>{(0,be.N)(Tt,Je,()=>{const Qt=st[Symbol.asyncIterator]();(0,be.N)(Tt,Je,()=>{Qt.next().then(bt=>{bt.done?Tt.complete():Tt.next(bt.value)})},0,!0)})})}var Xe=H(5055),ht=H(9858),Pt=H(7441),zt=H(5397),jt=H(7953),en=H(591),_t=H(5196);function Oe(st,Je){return Je?function Rt(st,Je){if(null!=st){if((0,Xe.l)(st))return function T(st,Je){return(0,b.Tg)(st).pipe((0,Y._)(Je),(0,O.Q)(Je))}(st,Je);if((0,Pt.X)(st))return function Ie(st,Je){return new rt.c(Tt=>{let Qt=0;return Je.schedule(function(){Qt===st.length?Tt.complete():(Tt.next(st[Qt++]),Tt.closed||this.schedule())})})}(st,Je);if((0,ht.y)(st))return function Pe(st,Je){return(0,b.Tg)(st).pipe((0,Y._)(Je),(0,O.Q)(Je))}(st,Je);if((0,jt.T)(st))return dt(st,Je);if((0,zt.x)(st))return function Te(st,Je){return new rt.c(Tt=>{let Qt;return(0,be.N)(Tt,Je,()=>{Qt=st[De.l](),(0,be.N)(Tt,Je,()=>{let bt,ut;try{({value:bt,done:ut}=Qt.next())}catch(Un){return void Tt.error(Un)}ut?Tt.complete():Tt.next(bt)},0,!0)}),()=>(0,Ge.T)(Qt?.return)&&Qt.return()})}(st,Je);if((0,_t.U)(st))return function It(st,Je){return dt((0,_t.C)(st),Je)}(st,Je)}throw(0,en.L)(st)}(st,Je):(0,b.Tg)(st)}},8496:(Dn,We,H)=>{"use strict";function b(O,Y){return O.reduce((T,Pe,rt)=>(T[Pe]=Y[rt],T),{})}H.d(We,{e:()=>b})},8750:(Dn,We,H)=>{"use strict";H.d(We,{Tg:()=>Xe});var b=H(1635),O=H(7441),Y=H(9858),T=H(1985),Pe=H(5055),rt=H(7953),Ie=H(591),De=H(5397),Ge=H(5196),be=H(8071),Te=H(5334),dt=H(3494);function Xe(Rt){if(Rt instanceof T.c)return Rt;if(null!=Rt){if((0,Pe.l)(Rt))return function ht(Rt){return new T.c(Oe=>{const st=Rt[dt.s]();if((0,be.T)(st.subscribe))return st.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Rt);if((0,O.X)(Rt))return function Pt(Rt){return new T.c(Oe=>{for(let st=0;st<Rt.length&&!Oe.closed;st++)Oe.next(Rt[st]);Oe.complete()})}(Rt);if((0,Y.y)(Rt))return function zt(Rt){return new T.c(Oe=>{Rt.then(st=>{Oe.closed||(Oe.next(st),Oe.complete())},st=>Oe.error(st)).then(null,Te.m)})}(Rt);if((0,rt.T)(Rt))return en(Rt);if((0,De.x)(Rt))return function jt(Rt){return new T.c(Oe=>{for(const st of Rt)if(Oe.next(st),Oe.closed)return;Oe.complete()})}(Rt);if((0,Ge.U)(Rt))return function _t(Rt){return en((0,Ge.C)(Rt))}(Rt)}throw(0,Ie.L)(Rt)}function en(Rt){return new T.c(Oe=>{(function It(Rt,Oe){var st,Je,Tt,Qt;return(0,b.sH)(this,void 0,void 0,function*(){try{for(st=(0,b.xN)(Rt);!(Je=yield st.next()).done;)if(Oe.next(Je.value),Oe.closed)return}catch(bt){Tt={error:bt}}finally{try{Je&&!Je.done&&(Qt=st.return)&&(yield Qt.call(st))}finally{if(Tt)throw Tt.error}}Oe.complete()})})(Rt,Oe).catch(st=>Oe.error(st))})}},9270:(Dn,We,H)=>{"use strict";H.d(We,{f:()=>b});const b={setTimeout(O,Y,...T){const{delegate:Pe}=b;return Pe?.setTimeout?Pe.setTimeout(O,Y,...T):setTimeout(O,Y,...T)},clearTimeout(O){const{delegate:Y}=b;return(Y?.clearTimeout||clearTimeout)(O)},delegate:void 0}},9326:(Dn,We,H)=>{"use strict";H.d(We,{lI:()=>Pe,ms:()=>T});var b=H(8071),O=H(9470);function Y(Ie){return Ie[Ie.length-1]}function T(Ie){return(0,b.T)(Y(Ie))?Ie.pop():void 0}function Pe(Ie){return(0,O.m)(Y(Ie))?Ie.pop():void 0}},9332:(Dn,We,H)=>{"use strict";H.d(We,{u:()=>Pe});var b=H(8032),O=H.n(b),Y=H(1360),T=H(5794);let Pe=(()=>{class rt{toastr;constructor(De){this.toastr=De}success(De,Ge="\xc9xito"){O().fire({icon:"success",title:Ge,text:De,timer:2e3,showConfirmButton:!1})}error(De,Ge="Error"){O().fire({icon:"error",title:Ge,text:De})}warning(De,Ge="Atenci\xf3n"){O().fire({icon:"warning",title:Ge,text:De})}info(De,Ge="Informaci\xf3n"){O().fire({icon:"info",title:Ge,text:De})}confirm(De,Ge="\xbfEst\xe1s seguro?"){return O().fire({icon:"question",title:Ge,text:De,showCancelButton:!0,confirmButtonText:"S\xed",cancelButtonText:"No"})}showToastSuccess(De,Ge="\xc9xito"){this.toastr.success(De,Ge)}showToastError(De,Ge="Error"){this.toastr.error(De,Ge)}showToastInfo(De,Ge="Info"){this.toastr.info(De,Ge)}showToastWarning(De,Ge="Atenci\xf3n"){this.toastr.warning(De,Ge)}static \u0275fac=function(Ge){return new(Ge||rt)(Y.KVO(T.tw))};static \u0275prov=Y.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})()},9350:(Dn,We,H)=>{"use strict";H.d(We,{G:()=>O});const O=(0,H(1853).L)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},9361:(Dn,We,H)=>{"use strict";H.d(We,{q:()=>O});const O=new(H(1360).nKC)("")},9377:(Dn,We,H)=>{"use strict";function b(Ie,De){De=encodeURIComponent(De);for(const Ge of Ie.split(";")){const be=Ge.indexOf("="),[Te,dt]=-1==be?[Ge,""]:[Ge.slice(0,be),Ge.slice(be+1)];if(Te.trim()===De)return decodeURIComponent(dt)}return null}H.d(We,{N0:()=>rt,Vy:()=>Pe,Zn:()=>O,bS:()=>b});const O="browser",Y="server";function Pe(Ie){return Ie===Y}class rt{}},9437:(Dn,We,H)=>{"use strict";H.d(We,{W:()=>T});var b=H(8750),O=H(4360),Y=H(9974);function T(Pe){return(0,Y.N)((rt,Ie)=>{let be,De=null,Ge=!1;De=rt.subscribe((0,O._)(Ie,void 0,void 0,Te=>{be=(0,b.Tg)(Pe(Te,T(Pe)(rt))),De?(De.unsubscribe(),De=null,be.subscribe(Ie)):Ge=!0})),Ge&&(De.unsubscribe(),De=null,be.subscribe(Ie))})}},9470:(Dn,We,H)=>{"use strict";H.d(We,{m:()=>O});var b=H(8071);function O(Y){return Y&&(0,b.T)(Y.schedule)}},9786:(Dn,We,H)=>{"use strict";H.d(We,{Y:()=>Y,l:()=>T});var b=H(1026);let O=null;function Y(Pe){if(b.$.useDeprecatedSynchronousErrorHandling){const rt=!O;if(rt&&(O={errorThrown:!1,error:null}),Pe(),rt){const{errorThrown:Ie,error:De}=O;if(O=null,Ie)throw De}}else Pe()}function T(Pe){b.$.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=Pe)}},9858:(Dn,We,H)=>{"use strict";H.d(We,{y:()=>O});var b=H(8071);function O(Y){return(0,b.T)(Y?.then)}},9885:(Dn,We,H)=>{"use strict";H.d(We,{D:()=>be});var b=H(9967),O=H(7673),Y=H(8455),T=H(6354),Pe=H(9437),rt=H(5558),Ie=H(1360),De=H(7643),Ge=H(4796);let be=(()=>{class Te{http;authService;firestore;usersCollectionName="users";constructor(Xe,ht,Pt){this.http=Xe,this.authService=ht,this.firestore=Pt,console.log("%c<<< Start USER service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getUserProfile(Xe){if(!Xe)return console.warn("\u26a0\ufe0f getUserProfile: UID no proporcionado."),(0,O.of)(void 0);const ht=(0,b.H9)(this.firestore,`${this.usersCollectionName}/${Xe}`);return console.log("\u{1f4c4} Obteniendo perfil para UID:",Xe),(0,b.Bg)(ht).pipe((0,T.T)(Pt=>{if(Pt)return console.log("\u2705 Perfil obtenido:",Pt),{...Pt,uid:Xe};console.warn("\u26a0\ufe0f No se encontr\xf3 perfil para UID:",Xe)}),(0,Pe.W)(Pt=>(console.error("\u274c Error al obtener el perfil del usuario:",Pt),(0,O.of)(void 0))))}createUserProfile(Xe){if(!Xe.uid)return(0,Y.H)(Promise.reject("\u274c createUserProfile: UID del usuario es requerido."));const ht=new Date,Pt={...Xe,created_at:ht,createdDate:ht},zt=(0,b.H9)(this.firestore,`${this.usersCollectionName}/${Xe.uid}`);return console.log("\u{1f4dd} Creando perfil para usuario:",Pt),(0,Y.H)((0,b.BN)(zt,Pt))}updateUserProfile(Xe,ht){if(!Xe)return(0,Y.H)(Promise.reject("\u274c updateUserProfile: UID no proporcionado."));const Pt=(0,b.H9)(this.firestore,`${this.usersCollectionName}/${Xe}`);return console.log("\u{1f504} Actualizando perfil UID:",Xe,"con datos:",ht),(0,Y.H)((0,b.mZ)(Pt,ht))}deleteUserProfile(Xe){if(!Xe)return(0,Y.H)(Promise.reject("\u274c deleteUserProfile: UID no proporcionado."));const ht=(0,b.H9)(this.firestore,`${this.usersCollectionName}/${Xe}`);return console.log("\u{1f5d1} Eliminando perfil UID:",Xe),(0,Y.H)((0,b.kd)(ht))}getUserData(Xe){return this.authService.getAuthState().pipe((0,rt.n)(ht=>{if(console.log("\u{1f4e1} authService.getAuthState() emiti\xf3:",ht),ht&&ht.uid){const Pt=(0,b.H9)(this.firestore,`${this.usersCollectionName}/${ht.uid}`);return(0,b.Bg)(Pt).pipe((0,T.T)(zt=>({...zt,uid:ht.uid})))}return console.warn("\u26a0\ufe0f Usuario no autenticado o sesi\xf3n expirada"),(0,O.of)(null)}))}getAllUsers(){const Xe=(0,b.rJ)(this.firestore,"users");return(0,b.xs)(Xe,{idField:"uid"})}toggleUserStatus(Xe,ht){const Pt=(0,b.H9)(this.firestore,`users/${Xe}`);return(0,b.mZ)(Pt,{activo:ht})}updateUserRole(Xe,ht){const Pt=(0,b.H9)(this.firestore,`users/${Xe}`);return(0,b.mZ)(Pt,{rol:ht})}getCurrentUserUid(){return this.authService.getAuthState().pipe((0,T.T)(Xe=>Xe?.uid||null))}getCurrentUserRole(){return this.authService.getAuthState().pipe((0,rt.n)(Xe=>{if(Xe&&Xe.uid){const ht=(0,b.H9)(this.firestore,`${this.usersCollectionName}/${Xe.uid}`);return(0,b.Bg)(ht).pipe((0,T.T)(Pt=>Pt.rol||null))}return console.warn("\u26a0\ufe0f No hay usuario autenticado"),(0,O.of)(null)}),(0,Pe.W)(Xe=>(console.error("\u274c Error al obtener el rol:",Xe),(0,O.of)(null))))}getExecutives(){const Xe=(0,b.P)((0,b.rJ)(this.firestore,this.usersCollectionName),(0,b._M)("rol","==","Ejecutivo"));return(0,b.xs)(Xe,{idField:"uid"})}static \u0275fac=function(ht){return new(ht||Te)(Ie.KVO(De.Qq),Ie.KVO(Ge.u),Ie.KVO(b._7))};static \u0275prov=Ie.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})()},9967:(Dn,We,H)=>{"use strict";H.d(We,{_7:()=>gt,rJ:()=>pn,xs:()=>Jn,kd:()=>Mr,H9:()=>Zt,Bg:()=>Xn,x7:()=>mi,aU:()=>qi,hV:()=>oe,P:()=>Ce,BN:()=>tt,mZ:()=>At,_M:()=>Ve});var b=H(2967),O=H(1360),Y=H(7440),T=H(4125),Pe=H(6335),rt=H(2214),Ie=H(3273),De=H(1985),Ge=H(6354),be=function(){return be=Object.assign||function(yt){for(var Ft,on=1,Bn=arguments.length;on<Bn;on++)for(var dn in Ft=arguments[on])Object.prototype.hasOwnProperty.call(Ft,dn)&&(yt[dn]=Ft[dn]);return yt},be.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var dt={includeMetadataChanges:!1};function Xe(wt,yt){return void 0===yt&&(yt=dt),new De.c(function(Ft){return{unsubscribe:(0,Ie.aQ)(wt,yt,{next:Ft.next.bind(Ft),error:Ft.error.bind(Ft),complete:Ft.complete.bind(Ft)})}})}function Pt(wt,yt){return void 0===yt&&(yt={}),function ht(wt){return Xe(wt,{includeMetadataChanges:!0})}(wt).pipe((0,Ge.T)(function(Ft){return zt(Ft,yt)}))}function zt(wt,yt){var Ft;void 0===yt&&(yt={});var on=wt.data(yt);return wt.exists()&&"object"==typeof on&&null!==on&&yt.idField?be(be({},on),((Ft={})[yt.idField]=wt.id,Ft)):on}function Un(wt,yt){return void 0===yt&&(yt={}),function Qt(wt){return Xe(wt,{includeMetadataChanges:!0}).pipe((0,Ge.T)(function(yt){return yt.docs}))}(wt).pipe((0,Ge.T)(function(Ft){return Ft.map(function(on){return zt(on,yt)})}))}class gt{constructor(yt){return yt}}const In="firestore",kt=new O.nKC("angularfire2.firestore-instances");function te(wt){return(yt,Ft)=>{const on=yt.runOutsideAngular(()=>wt(Ft));return new gt(on)}}const fe={provide:class et{constructor(){return(0,b.CA)(In)}},deps:[[new O.Xx1,kt]]},pe={provide:gt,useFactory:function Qe(wt,yt){const Ft=(0,b.lR)(In,wt,yt);return Ft&&new gt(Ft)},deps:[[new O.Xx1,kt],Y.XU]};function oe(wt,...yt){return(0,rt.KO)("angularfire",b.xv.full,"fst"),(0,O.EmA)([pe,fe,{provide:kt,useFactory:te(wt),multi:!0,deps:[O.SKi,O.zZn,b.u0,Y.gL,[new O.Xx1,Pe.DF],[new O.Xx1,T.kR],...yt]}])}const Jn=(0,b.S3)(Un,!0),Xn=(0,b.S3)(Pt,!0),pn=(0,b.S3)(Ie.rJ,!0,2),Mr=(0,b.S3)(Ie.kd,!0,2),Zt=(0,b.S3)(Ie.H9,!0,2),mi=(0,b.S3)(Ie.x7,!0),qi=(0,b.S3)(Ie.aU,!0),Ce=(0,b.S3)(Ie.P,!0,2),tt=(0,b.S3)(Ie.BN,!0,2),At=(0,b.S3)(Ie.mZ,!0,2),Ve=(0,b.S3)(Ie._M,!0,2)},9974:(Dn,We,H)=>{"use strict";H.d(We,{N:()=>Y,S:()=>O});var b=H(8071);function O(T){return(0,b.T)(T?.lift)}function Y(T){return Pe=>{if(O(Pe))return Pe.lift(function(rt){try{return T(rt,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}}},Dn=>{Dn(Dn.s=8399)}]);