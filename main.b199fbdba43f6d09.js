(self.webpackChunkclaims_app=self.webpackChunkclaims_app||[]).push([[792],{274:(vn,je,U)=>{"use strict";U.d(je,{H:()=>q});var T=U(1397),N=U(8071);function q(F,Ae){return(0,N.T)(Ae)?(0,T.Z)(F,Ae,1):(0,T.Z)(F,1)}},345:(vn,je,U)=>{"use strict";U.d(je,{hE:()=>Ae,up:()=>yt});var T=U(9361),N=U(1360);let Ae=(()=>{class lt{_doc;constructor(Xe){this._doc=Xe}getTitle(){return this._doc.title}setTitle(Xe){this._doc.title=Xe||""}static \u0275fac=function(Jt){return new(Jt||lt)(N.KVO(T.q))};static \u0275prov=N.jDH({token:lt,factory:lt.\u0275fac,providedIn:"root"})}return lt})(),yt=(()=>{class lt{static \u0275fac=function(Jt){return new(Jt||lt)};static \u0275prov=N.jDH({token:lt,factory:function(Jt){let St=null;return St=Jt?new(Jt||lt):N.KVO(bt),St},providedIn:"root"})}return lt})(),bt=(()=>{class lt extends yt{_doc;constructor(Xe){super(),this._doc=Xe}sanitize(Xe,Jt){if(null==Jt)return null;switch(Xe){case N.WPN.NONE:return Jt;case N.WPN.HTML:return(0,N.ZF7)(Jt,"HTML")?(0,N.rcV)(Jt):(0,N.h9k)(this._doc,String(Jt)).toString();case N.WPN.STYLE:return(0,N.ZF7)(Jt,"Style")?(0,N.rcV)(Jt):Jt;case N.WPN.SCRIPT:if((0,N.ZF7)(Jt,"Script"))return(0,N.rcV)(Jt);throw new N.wOt(5200,!1);case N.WPN.URL:return(0,N.ZF7)(Jt,"URL")?(0,N.rcV)(Jt):(0,N.$MX)(String(Jt));case N.WPN.RESOURCE_URL:if((0,N.ZF7)(Jt,"ResourceURL"))return(0,N.rcV)(Jt);throw new N.wOt(5201,!1);default:throw new N.wOt(5202,!1)}}bypassSecurityTrustHtml(Xe){return(0,N.Kcf)(Xe)}bypassSecurityTrustStyle(Xe){return(0,N.cWb)(Xe)}bypassSecurityTrustScript(Xe){return(0,N.UyX)(Xe)}bypassSecurityTrustUrl(Xe){return(0,N.osQ)(Xe)}bypassSecurityTrustResourceUrl(Xe){return(0,N.e5t)(Xe)}static \u0275fac=function(Jt){return new(Jt||lt)(N.KVO(T.q))};static \u0275prov=N.jDH({token:lt,factory:lt.\u0275fac,providedIn:"root"})}return lt})()},467:(vn,je,U)=>{"use strict";function T(q,F,Ae,qe,Ee,fe,ke){try{var me=q[fe](ke),pe=me.value}catch(Je){return void Ae(Je)}me.done?F(pe):Promise.resolve(pe).then(qe,Ee)}function N(q){return function(){var F=this,Ae=arguments;return new Promise(function(qe,Ee){var fe=q.apply(F,Ae);function ke(pe){T(fe,qe,Ee,ke,me,"next",pe)}function me(pe){T(fe,qe,Ee,ke,me,"throw",pe)}ke(void 0)})}}U.d(je,{A:()=>N})},520:(vn,je,U)=>{"use strict";U.d(je,{eJ:()=>Va,xI:()=>Jl,hg:()=>Hi,J1:()=>vi,x9:()=>Gr,CI:()=>qs});var T=U(467),N=U(7852),q=U(6858),F=U(8041),Ae=U(1635),qe=U(1362);const Dt=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ut=new q.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qt=new F.Vy("@firebase/auth");function yt(b,...p){Qt.logLevel<=F.$b.ERROR&&Qt.error(`Auth (${N.MF}): ${b}`,...p)}function bt(b,...p){throw zt(b,...p)}function Me(b,...p){return zt(b,...p)}function tt(b,p,_){const A=Object.assign(Object.assign({},Dt()),{[p]:_});return new q.FA("auth","Firebase",A).create(p,{appName:b.name})}function Qe(b){return tt(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zt(b,...p){if("string"!=typeof b){const _=p[0],A=[...p.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(_,...A)}return Ut.create(b,...p)}function vt(b,p,..._){if(!b)throw zt(p,..._)}function ot(b){const p="INTERNAL ASSERTION FAILED: "+b;throw yt(p),new Error(p)}function Fn(b,p){b||ot(p)}function Sn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function lt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Jt{constructor(p,_){this.shortDelay=p,this.longDelay=_,Fn(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,q.jZ)()||(0,q.lV)()}get(){return function yn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Gn(){return"http:"===lt()||"https:"===lt()}()||(0,q.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function St(b,p){Fn(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class We{static initialize(p,_,A){this.fetchImpl=p,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ue=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],le=new Jt(3e4,6e4);function ge(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function te(b,p,_,A){return de.apply(this,arguments)}function de(){return(de=(0,T.A)(function*(b,p,_,A,V={}){return Ge(b,V,(0,T.A)(function*(){let Y={},Fe={};A&&("GET"===p?Fe=A:Y={body:JSON.stringify(A)});const Ye=(0,q.Am)(Object.assign({key:b.config.apiKey},Fe)).slice(1),Vt=yield b._getAdditionalHeaders();Vt["Content-Type"]="application/json",b.languageCode&&(Vt["X-Firebase-Locale"]=b.languageCode);const hn=Object.assign({method:p,headers:Vt},Y);return(0,q.c1)()||(hn.referrerPolicy="no-referrer"),b.emulatorConfig&&(0,q.zJ)(b.emulatorConfig.host)&&(hn.credentials="include"),We.fetch()(yield er(b,b.config.apiHost,_,Ye),hn)}))})).apply(this,arguments)}function Ge(b,p,_){return pt.apply(this,arguments)}function pt(){return(pt=(0,T.A)(function*(b,p,_){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},Z),p);try{const V=new Bn(b),Y=yield Promise.race([_(),V.promise]);V.clearNetworkTimeout();const Fe=yield Y.json();if("needConfirmation"in Fe)throw Kt(b,"account-exists-with-different-credential",Fe);if(Y.ok&&!("errorMessage"in Fe))return Fe;{const Ye=Y.ok?Fe.errorMessage:Fe.error.message,[Vt,hn]=Ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Vt)throw Kt(b,"credential-already-in-use",Fe);if("EMAIL_EXISTS"===Vt)throw Kt(b,"email-already-in-use",Fe);if("USER_DISABLED"===Vt)throw Kt(b,"user-disabled",Fe);const Un=A[Vt]||Vt.toLowerCase().replace(/[_\s]+/g,"-");if(hn)throw tt(b,Un,hn);bt(b,Un)}}catch(V){if(V instanceof q.g)throw V;bt(b,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function rn(b,p,_,A){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,T.A)(function*(b,p,_,A,V={}){const Y=yield te(b,p,_,A,V);return"mfaPendingCredential"in Y&&bt(b,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function er(b,p,_,A){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,T.A)(function*(b,p,_,A){const V=`${p}${_}?${A}`,Y=b,Fe=Y.config.emulator?St(b.config,V):`${b.config.apiScheme}://${V}`;return ue.includes(_)&&(yield Y._persistenceManagerAvailable,"COOKIE"===Y._getPersistenceType())?Y._getPersistence()._getFinalTarget(Fe).toString():Fe})).apply(this,arguments)}function qn(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(Me(this.auth,"network-request-failed")),le.get())})}}function Kt(b,p,_){const A={appName:b.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const V=Me(b,p,A);return V.customData._tokenResponse=_,V}function Jn(b){return void 0!==b&&void 0!==b.enterprise}class In{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===p)return qn(_.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function ln(){return(ln=(0,T.A)(function*(b,p){return te(b,"GET","/v2/recaptchaConfig",ge(b,p))})).apply(this,arguments)}function on(){return(on=(0,T.A)(function*(b,p){return te(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ct(b,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,T.A)(function*(b,p){return te(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Kn(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function si(){return(si=(0,T.A)(function*(b,p=!1){const _=(0,q.Ku)(b),A=yield _.getIdToken(p),V=Tr(A);vt(V&&V.exp&&V.auth_time&&V.iat,_.auth,"internal-error");const Y="object"==typeof V.firebase?V.firebase:void 0,Fe=Y?.sign_in_provider;return{claims:V,token:A,authTime:Kn(li(V.auth_time)),issuedAtTime:Kn(li(V.iat)),expirationTime:Kn(li(V.exp)),signInProvider:Fe||null,signInSecondFactor:Y?.sign_in_second_factor||null}})).apply(this,arguments)}function li(b){return 1e3*Number(b)}function Tr(b){const[p,_,A]=b.split(".");if(void 0===p||void 0===_||void 0===A)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,q.u)(_);return V?JSON.parse(V):(yt("Failed to decode base64 JWT payload"),null)}catch(V){return yt("Caught error parsing JWT payload as JSON",V?.toString()),null}}function gi(b){const p=Tr(b);return vt(p,"internal-error"),vt(typeof p.exp<"u","internal-error"),vt(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function Ar(b,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,T.A)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(A){throw A instanceof q.g&&function cr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}class ir{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const V=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(p);this.timerId=setTimeout((0,T.A)(function*(){yield _.iteration()}),A)}iteration(){var p=this;return(0,T.A)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class di{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kn(this.lastLoginAt),this.creationTime=Kn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function lr(b){return bn.apply(this,arguments)}function bn(){return(bn=(0,T.A)(function*(b){var p;const _=b.auth,A=yield b.getIdToken(),V=yield Ar(b,ct(_,{idToken:A}));vt(V?.users.length,_,"internal-error");const Y=V.users[0];b._notifyReloadListener(Y);const Fe=null!==(p=Y.providerUserInfo)&&void 0!==p&&p.length?Ki(Y.providerUserInfo):[],Ye=function $n(b,p){return[...b.filter(A=>!p.some(V=>V.providerId===A.providerId)),...p]}(b.providerData,Fe),Un=!!b.isAnonymous&&!(b.email&&Y.passwordHash||Ye?.length),jn={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:Ye,metadata:new di(Y.createdAt,Y.lastLoginAt),isAnonymous:Un};Object.assign(b,jn)})).apply(this,arguments)}function Nr(){return(Nr=(0,T.A)(function*(b){const p=(0,q.Ku)(b);yield lr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ki(b){return b.map(p=>{var{providerId:_}=p,A=(0,Ae.Tt)(p,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function br(){return(br=(0,T.A)(function*(b,p){const _=yield Ge(b,{},(0,T.A)(function*(){const A=(0,q.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:V,apiKey:Y}=b.config,Fe=yield er(b,V,"/v1/token",`key=${Y}`),Ye=yield b._getAdditionalHeaders();return Ye["Content-Type"]="application/x-www-form-urlencoded",We.fetch()(Fe,{method:"POST",headers:Ye,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function ri(){return(ri=(0,T.A)(function*(b,p){return te(b,"POST","/v2/accounts:revokeToken",ge(b,p))})).apply(this,arguments)}class Ni{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){vt(p.idToken,"internal-error"),vt(typeof p.idToken<"u","internal-error"),vt(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):gi(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}updateFromIdToken(p){vt(0!==p.length,"internal-error");const _=gi(p);this.updateTokensAndExpiration(p,null,_)}getToken(p){var _=this;return(0,T.A)(function*(A,V=!1){return V||!_.accessToken||_.isExpired?(vt(_.refreshToken,A,"user-token-expired"),_.refreshToken?(yield _.refresh(A,_.refreshToken),_.accessToken):null):_.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var A=this;return(0,T.A)(function*(){const{accessToken:V,refreshToken:Y,expiresIn:Fe}=yield function Le(b,p){return br.apply(this,arguments)}(p,_);A.updateTokensAndExpiration(V,Y,Number(Fe))})()}updateTokensAndExpiration(p,_,A){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(p,_){const{refreshToken:A,accessToken:V,expirationTime:Y}=_,Fe=new Ni;return A&&(vt("string"==typeof A,"internal-error",{appName:p}),Fe.refreshToken=A),V&&(vt("string"==typeof V,"internal-error",{appName:p}),Fe.accessToken=V),Y&&(vt("number"==typeof Y,"internal-error",{appName:p}),Fe.expirationTime=Y),Fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ni,this.toJSON())}_performRefresh(){return ot("not implemented")}}function pn(b,p){vt("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class fr{constructor(p){var{uid:_,auth:A,stsTokenManager:V}=p,Y=(0,Ae.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new di(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,T.A)(function*(){const A=yield Ar(_,_.stsTokenManager.getToken(_.auth,p));return vt(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(p){return function ni(b){return si.apply(this,arguments)}(this,p)}reload(){return function _i(b){return Nr.apply(this,arguments)}(this)}_assign(p){this!==p&&(vt(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new fr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p){var _=this;return(0,T.A)(function*(A,V=!1){let Y=!1;A.idToken&&A.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(A),Y=!0),V&&(yield lr(_)),yield _.auth._persistUserIfCurrent(_),Y&&_.auth._notifyListenersIfCurrent(_)}).apply(this,arguments)}delete(){var p=this;return(0,T.A)(function*(){if((0,N.xZ)(p.auth.app))return Promise.reject(Qe(p.auth));const _=yield p.getIdToken();return yield Ar(p,function dr(b,p){return on.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var A,V,Y,Fe,Ye,Vt,hn,Un;const jn=null!==(A=_.displayName)&&void 0!==A?A:void 0,Sr=null!==(V=_.email)&&void 0!==V?V:void 0,Co=null!==(Y=_.phoneNumber)&&void 0!==Y?Y:void 0,eo=null!==(Fe=_.photoURL)&&void 0!==Fe?Fe:void 0,qc=null!==(Ye=_.tenantId)&&void 0!==Ye?Ye:void 0,ed=null!==(Vt=_._redirectEventId)&&void 0!==Vt?Vt:void 0,ms=null!==(hn=_.createdAt)&&void 0!==hn?hn:void 0,Dg=null!==(Un=_.lastLoginAt)&&void 0!==Un?Un:void 0,{uid:nl,emailVerified:Ag,isAnonymous:vu,providerData:Ls,stsTokenManager:yh}=_;vt(nl&&yh,p,"internal-error");const Uf=Ni.fromJSON(this.name,yh);vt("string"==typeof nl,p,"internal-error"),pn(jn,p.name),pn(Sr,p.name),vt("boolean"==typeof Ag,p,"internal-error"),vt("boolean"==typeof vu,p,"internal-error"),pn(Co,p.name),pn(eo,p.name),pn(qc,p.name),pn(ed,p.name),pn(ms,p.name),pn(Dg,p.name);const ys=new fr({uid:nl,auth:p,email:Sr,emailVerified:Ag,displayName:jn,isAnonymous:vu,photoURL:eo,phoneNumber:Co,tenantId:qc,stsTokenManager:Uf,createdAt:ms,lastLoginAt:Dg});return Ls&&Array.isArray(Ls)&&(ys.providerData=Ls.map(Qc=>Object.assign({},Qc))),ed&&(ys._redirectEventId=ed),ys}static _fromIdTokenResponse(p,_){return(0,T.A)(function*(A,V,Y=!1){const Fe=new Ni;Fe.updateFromServerResponse(V);const Ye=new fr({uid:V.localId,auth:A,stsTokenManager:Fe,isAnonymous:Y});return yield lr(Ye),Ye}).apply(this,arguments)}static _fromGetAccountInfoResponse(p,_,A){return(0,T.A)(function*(){const V=_.users[0];vt(void 0!==V.localId,"internal-error");const Y=void 0!==V.providerUserInfo?Ki(V.providerUserInfo):[],Fe=!(V.email&&V.passwordHash||Y?.length),Ye=new Ni;Ye.updateFromIdToken(A);const Vt=new fr({uid:V.localId,auth:p,stsTokenManager:Ye,isAnonymous:Fe}),hn={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:Y,metadata:new di(V.createdAt,V.lastLoginAt),isAnonymous:!(V.email&&V.passwordHash||Y?.length)};return Object.assign(Vt,hn),Vt})()}}const wr=new Map;function xi(b){Fn(b instanceof Function,"Expected a class definition");let p=wr.get(b);return p?(Fn(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,wr.set(b,p),p)}const Si=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,T.A)(function*(){return!0})()}_set(_,A){var V=this;return(0,T.A)(function*(){V.storage[_]=A})()}_get(_){var A=this;return(0,T.A)(function*(){const V=A.storage[_];return void 0===V?null:V})()}_remove(_){var A=this;return(0,T.A)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return b.type="NONE",b})();function Te(b,p,_){return`firebase:${b}:${p}:${_}`}class ye{constructor(p,_,A){this.persistence=p,this.auth=_,this.userKey=A;const{config:V,name:Y}=this.auth;this.fullUserKey=Te(this.userKey,V.apiKey,Y),this.fullPersistenceKey=Te("persistence",V.apiKey,Y),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,T.A)(function*(){const _=yield p.persistence._get(p.fullUserKey);if(!_)return null;if("string"==typeof _){const A=yield ct(p.auth,{idToken:_}).catch(()=>{});return A?fr._fromGetAccountInfoResponse(p.auth,A,_):null}return fr._fromJSON(p.auth,_)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,T.A)(function*(){if(_.persistence===p)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_){return(0,T.A)(function*(A,V,Y="authUser"){if(!V.length)return new ye(xi(Si),A,Y);const Fe=(yield Promise.all(V.map(function(){var jn=(0,T.A)(function*(Sr){if(yield Sr._isAvailable())return Sr});return function(Sr){return jn.apply(this,arguments)}}()))).filter(jn=>jn);let Ye=Fe[0]||xi(Si);const Vt=Te(Y,A.config.apiKey,A.name);let hn=null;for(const jn of V)try{const Sr=yield jn._get(Vt);if(Sr){let Co;if("string"==typeof Sr){const eo=yield ct(A,{idToken:Sr}).catch(()=>{});if(!eo)break;Co=yield fr._fromGetAccountInfoResponse(A,eo,Sr)}else Co=fr._fromJSON(A,Sr);jn!==Ye&&(hn=Co),Ye=jn;break}}catch{}const Un=Fe.filter(jn=>jn._shouldAllowMigration);return Ye._shouldAllowMigration&&Un.length?(Ye=Un[0],hn&&(yield Ye._set(Vt,hn.toJSON())),yield Promise.all(V.map(function(){var jn=(0,T.A)(function*(Sr){if(Sr!==Ye)try{yield Sr._remove(Vt)}catch{}});return function(Sr){return jn.apply(this,arguments)}}())),new ye(Ye,A,Y)):new ye(Ye,A,Y)}).apply(this,arguments)}}function Ue(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(An(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Nt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ee(p))return"Blackberry";if(se(p))return"Webos";if(Ze(p))return"Safari";if((p.includes("chrome/")||qt(p))&&!p.includes("edge/"))return"Chrome";if(pr(p))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function Nt(b=(0,q.ZQ)()){return/firefox\//i.test(b)}function Ze(b=(0,q.ZQ)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function qt(b=(0,q.ZQ)()){return/crios\//i.test(b)}function An(b=(0,q.ZQ)()){return/iemobile/i.test(b)}function pr(b=(0,q.ZQ)()){return/android/i.test(b)}function ee(b=(0,q.ZQ)()){return/blackberry/i.test(b)}function se(b=(0,q.ZQ)()){return/webos/i.test(b)}function De(b=(0,q.ZQ)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function _e(b=(0,q.ZQ)()){return De(b)||pr(b)||se(b)||ee(b)||/windows phone/i.test(b)||An(b)}function Oe(b,p=[]){let _;switch(b){case"Browser":_=Ue((0,q.ZQ)());break;case"Worker":_=`${Ue((0,q.ZQ)())}-${b}`;break;default:_=b}const A=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${N.MF}/${A}`}class At{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const A=Y=>new Promise((Fe,Ye)=>{try{Fe(p(Y))}catch(Vt){Ye(Vt)}});A.onAbort=_,this.queue.push(A);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,T.A)(function*(){if(_.auth.currentUser===p)return;const A=[];try{for(const V of _.queue)yield V(p),V.onAbort&&A.push(V.onAbort)}catch(V){A.reverse();for(const Y of A)try{Y()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:V?.message})}})()}}function ht(){return(ht=(0,T.A)(function*(b,p={}){return te(b,"GET","/v2/passwordPolicy",ge(b,p))})).apply(this,arguments)}class en{constructor(p){var _,A,V,Y;const Fe=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=Fe.minPasswordLength)&&void 0!==_?_:6,Fe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Fe.maxPasswordLength),void 0!==Fe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Fe.containsLowercaseCharacter),void 0!==Fe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Fe.containsUppercaseCharacter),void 0!==Fe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Fe.containsNumericCharacter),void 0!==Fe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Fe.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(V=null===(A=p.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==V?V:"",this.forceUpgradeOnSignin=null!==(Y=p.forceUpgradeOnSignin)&&void 0!==Y&&Y,this.schemaVersion=p.schemaVersion}validatePassword(p){var _,A,V,Y,Fe,Ye;const Vt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,Vt),this.validatePasswordCharacterOptions(p,Vt),Vt.isValid&&(Vt.isValid=null===(_=Vt.meetsMinPasswordLength)||void 0===_||_),Vt.isValid&&(Vt.isValid=null===(A=Vt.meetsMaxPasswordLength)||void 0===A||A),Vt.isValid&&(Vt.isValid=null===(V=Vt.containsLowercaseLetter)||void 0===V||V),Vt.isValid&&(Vt.isValid=null===(Y=Vt.containsUppercaseLetter)||void 0===Y||Y),Vt.isValid&&(Vt.isValid=null===(Fe=Vt.containsNumericCharacter)||void 0===Fe||Fe),Vt.isValid&&(Vt.isValid=null===(Ye=Vt.containsNonAlphanumericCharacter)||void 0===Ye||Ye),Vt}validatePasswordLengthOptions(p,_){const A=this.customStrengthOptions.minPasswordLength,V=this.customStrengthOptions.maxPasswordLength;A&&(_.meetsMinPasswordLength=p.length>=A),V&&(_.meetsMaxPasswordLength=p.length<=V)}validatePasswordCharacterOptions(p,_){let A;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let V=0;V<p.length;V++)A=p.charAt(V),this.updatePasswordCharacterOptionsStatuses(_,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(p,_,A,V,Y){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=V)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=Y))}}class Ln{constructor(p,_,A,V){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=A,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hn(this),this.idTokenSubscription=new Hn(this),this.beforeStateQueue=new At(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ut,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=V.sdkClientVersion,this._persistenceManagerAvailable=new Promise(Y=>this._resolvePersistenceManagerAvailable=Y)}_initializeWithPersistence(p,_){var A=this;return _&&(this._popupRedirectResolver=xi(_)),this._initializationPromise=this.queue((0,T.A)(function*(){var V,Y,Fe;if(!A._deleted&&(A.persistenceManager=yield ye.create(A,p),null===(V=A._resolvePersistenceManagerAvailable)||void 0===V||V.call(A),!A._deleted)){if(null!==(Y=A._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(Fe=A.currentUser)||void 0===Fe?void 0:Fe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,T.A)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(p){var _=this;return(0,T.A)(function*(){try{const A=yield ct(_,{idToken:p}),V=yield fr._fromGetAccountInfoResponse(_,A,p);yield _.directlySetCurrentUser(V)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var _=this;return(0,T.A)(function*(){var A;if((0,N.xZ)(_.app)){const Ye=_.app.settings.authIdToken;return Ye?new Promise(Vt=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(Ye).then(Vt,Vt))}):_.directlySetCurrentUser(null)}const V=yield _.assertedPersistence.getCurrentUser();let Y=V,Fe=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ye=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,Vt=Y?._redirectEventId,hn=yield _.tryRedirectSignIn(p);(!Ye||Ye===Vt)&&hn?.user&&(Y=hn.user,Fe=!0)}if(!Y)return _.directlySetCurrentUser(null);if(!Y._redirectEventId){if(Fe)try{yield _.beforeStateQueue.runMiddleware(Y)}catch(Ye){Y=V,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ye))}return Y?_.reloadAndSetCurrentUserOrClear(Y):_.directlySetCurrentUser(null)}return vt(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===Y._redirectEventId?_.directlySetCurrentUser(Y):_.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(p){var _=this;return(0,T.A)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,T.A)(function*(){try{yield lr(p)}catch(A){if("auth/network-request-failed"!==A?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Xe(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,T.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,T.A)(function*(){if((0,N.xZ)(_.app))return Promise.reject(Qe(_));const A=p?(0,q.Ku)(p):null;return A&&vt(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(p){var _=this;return(0,T.A)(function*(A,V=!1){if(!_._deleted)return A&&vt(_.tenantId===A.tenantId,_,"tenant-id-mismatch"),V||(yield _.beforeStateQueue.runMiddleware(A)),_.queue((0,T.A)(function*(){yield _.directlySetCurrentUser(A),_.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var p=this;return(0,T.A)(function*(){return(0,N.xZ)(p.app)?Promise.reject(Qe(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var _=this;return(0,N.xZ)(this.app)?Promise.reject(Qe(this)):this.queue((0,T.A)(function*(){yield _.assertedPersistence.setPersistence(xi(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var _=this;return(0,T.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const A=_._getPasswordPolicyInternal();return A.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,T.A)(function*(){const _=yield function mt(b){return ht.apply(this,arguments)}(p),A=new en(_);null===p.tenantId?p._projectPasswordPolicy=A:p._tenantPasswordPolicies[p.tenantId]=A})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(p){this._errorFactory=new q.FA("auth","Firebase",p())}onAuthStateChanged(p,_,A){return this.registerStateListener(this.authStateSubscription,p,_,A)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,A){return this.registerStateListener(this.idTokenSubscription,p,_,A)}authStateReady(){return new Promise((p,_)=>{if(this.currentUser)p();else{const A=this.onAuthStateChanged(()=>{A(),p()},_)}})}revokeAccessToken(p){var _=this;return(0,T.A)(function*(){if(_.currentUser){const A=yield _.currentUser.getIdToken(),V={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:A};null!=_.tenantId&&(V.tenantId=_.tenantId),yield function qi(b,p){return ri.apply(this,arguments)}(_,V)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var A=this;return(0,T.A)(function*(){const V=yield A.getOrInitRedirectPersistenceManager(_);return null===p?V.removeCurrentUser():V.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,T.A)(function*(){if(!_.redirectPersistenceManager){const A=p&&xi(p)||_._popupRedirectResolver;vt(A,_,"argument-error"),_.redirectPersistenceManager=yield ye.create(_,[xi(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,T.A)(function*(){var A,V;return _._isInitialized&&(yield _.queue((0,T.A)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===p?_._currentUser:(null===(V=_.redirectUser)||void 0===V?void 0:V._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,T.A)(function*(){if(p===_.currentUser)return _.queue((0,T.A)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,A,V){if(this._deleted)return()=>{};const Y="function"==typeof _?_:_.next.bind(_);let Fe=!1;const Ye=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(Ye,this,"internal-error"),Ye.then(()=>{Fe||Y(this.currentUser)}),"function"==typeof _){const Vt=p.addObserver(_,A,V);return()=>{Fe=!0,Vt()}}{const Vt=p.addObserver(_);return()=>{Fe=!0,Vt()}}}directlySetCurrentUser(p){var _=this;return(0,T.A)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Oe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,T.A)(function*(){var _;const A={"X-Client-Version":p.clientVersion};p.app.options.appId&&(A["X-Firebase-gmpid"]=p.app.options.appId);const V=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();V&&(A["X-Firebase-Client"]=V);const Y=yield p._getAppCheckToken();return Y&&(A["X-Firebase-AppCheck"]=Y),A})()}_getAppCheckToken(){var p=this;return(0,T.A)(function*(){var _;if((0,N.xZ)(p.app)&&p.app.settings.appCheckToken)return p.app.settings.appCheckToken;const A=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return A?.error&&function ft(b,...p){Qt.logLevel<=F.$b.WARN&&Qt.warn(`Auth (${N.MF}): ${b}`,...p)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function an(b){return(0,q.Ku)(b)}class Hn{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,q.tD)(_=>this.observer=_)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sr={loadJS:()=>(0,T.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ii(b){return sr.loadJS(b)}function Lt(b){return`__${b}${Math.floor(1e6*Math.random())}`}class tr{constructor(){this.enterprise=new $r}ready(p){p()}execute(p,_){return Promise.resolve("token")}render(p,_){return""}}class $r{ready(p){p()}execute(p,_){return Promise.resolve("token")}render(p,_){return""}}const Ui="NO_RECAPTCHA";class Lo{constructor(p){this.type="recaptcha-enterprise",this.auth=an(p)}verify(){var p=this;return(0,T.A)(function*(_="verify",A=!1){function Y(){return Y=(0,T.A)(function*(Ye){if(!A){if(null==Ye.tenantId&&null!=Ye._agentRecaptchaConfig)return Ye._agentRecaptchaConfig.siteKey;if(null!=Ye.tenantId&&void 0!==Ye._tenantRecaptchaConfigs[Ye.tenantId])return Ye._tenantRecaptchaConfigs[Ye.tenantId].siteKey}return new Promise(function(){var Vt=(0,T.A)(function*(hn,Un){(function wi(b,p){return ln.apply(this,arguments)})(Ye,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(jn=>{if(void 0!==jn.recaptchaKey){const Sr=new In(jn);return null==Ye.tenantId?Ye._agentRecaptchaConfig=Sr:Ye._tenantRecaptchaConfigs[Ye.tenantId]=Sr,hn(Sr.siteKey)}Un(new Error("recaptcha Enterprise site key undefined"))}).catch(jn=>{Un(jn)})});return function(hn,Un){return Vt.apply(this,arguments)}}())}),Y.apply(this,arguments)}function Fe(Ye,Vt,hn){const Un=window.grecaptcha;Jn(Un)?Un.enterprise.ready(()=>{Un.enterprise.execute(Ye,{action:_}).then(jn=>{Vt(jn)}).catch(()=>{Vt(Ui)})}):hn(Error("No reCAPTCHA enterprise script loaded."))}return p.auth.settings.appVerificationDisabledForTesting?(new tr).execute("siteKey",{action:"verify"}):new Promise((Ye,Vt)=>{(function V(Ye){return Y.apply(this,arguments)})(p.auth).then(hn=>{if(!A&&Jn(window.grecaptcha))Fe(hn,Ye,Vt);else{if(typeof window>"u")return void Vt(new Error("RecaptchaVerifier is only supported in browser"));let Un=function Ve(){return sr.recaptchaEnterpriseScript}();0!==Un.length&&(Un+=hn),Ii(Un).then(()=>{Fe(hn,Ye,Vt)}).catch(jn=>{Vt(jn)})}}).catch(hn=>{Vt(hn)})})}).apply(this,arguments)}}function no(b,p,_){return B.apply(this,arguments)}function B(){return(B=(0,T.A)(function*(b,p,_,A=!1,V=!1){const Y=new Lo(b);let Fe;if(V)Fe=Ui;else try{Fe=yield Y.verify(_)}catch{Fe=yield Y.verify(_,!0)}const Ye=Object.assign({},p);return"mfaSmsEnrollment"===_||"mfaSmsSignIn"===_?("phoneEnrollmentInfo"in Ye?Object.assign(Ye,{phoneEnrollmentInfo:{phoneNumber:Ye.phoneEnrollmentInfo.phoneNumber,recaptchaToken:Ye.phoneEnrollmentInfo.recaptchaToken,captchaResponse:Fe,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in Ye&&Object.assign(Ye,{phoneSignInInfo:{recaptchaToken:Ye.phoneSignInInfo.recaptchaToken,captchaResponse:Fe,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),Ye):(Object.assign(Ye,A?{captchaResp:Fe}:{captchaResponse:Fe}),Object.assign(Ye,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ye,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ye)})).apply(this,arguments)}function he(b,p,_,A,V){return K.apply(this,arguments)}function K(){return K=(0,T.A)(function*(b,p,_,A,V){var Y,Fe;if("EMAIL_PASSWORD_PROVIDER"===V){if(null!==(Y=b._getRecaptchaConfig())&&void 0!==Y&&Y.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ye=yield no(b,p,_,"getOobCode"===_);return A(b,Ye)}return A(b,p).catch(function(){var Ye=(0,T.A)(function*(Vt){if("auth/missing-recaptcha-token"===Vt.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const hn=yield no(b,p,_,"getOobCode"===_);return A(b,hn)}return Promise.reject(Vt)});return function(Vt){return Ye.apply(this,arguments)}}())}if("PHONE_PROVIDER"===V){if(null!==(Fe=b._getRecaptchaConfig())&&void 0!==Fe&&Fe.isProviderEnabled("PHONE_PROVIDER")){const Ye=yield no(b,p,_);return A(b,Ye).catch(function(){var Vt=(0,T.A)(function*(hn){var Un;if("AUDIT"===(null===(Un=b._getRecaptchaConfig())||void 0===Un?void 0:Un.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===hn.code||"auth/invalid-app-credential"===hn.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${_} flow.`);const jn=yield no(b,p,_,!1,!0);return A(b,jn)}return Promise.reject(hn)});return function(hn){return Vt.apply(this,arguments)}}())}{const Ye=yield no(b,p,_,!1,!0);return A(b,Ye)}}return Promise.reject(V+" provider is not supported.")}),K.apply(this,arguments)}function ii(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Qr(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class kn{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return ot("not implemented")}_getIdTokenResponse(p){return ot("not implemented")}_linkToIdToken(p,_){return ot("not implemented")}_getReauthenticationResolver(p){return ot("not implemented")}}function zo(b,p){return ae.apply(this,arguments)}function ae(){return(ae=(0,T.A)(function*(b,p){return te(b,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function dt(b,p){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,T.A)(function*(b,p){return rn(b,"POST","/v1/accounts:signInWithPassword",ge(b,p))})).apply(this,arguments)}function Vn(){return(Vn=(0,T.A)(function*(b,p){return te(b,"POST","/v1/accounts:sendOobCode",ge(b,p))})).apply(this,arguments)}function Ms(b,p){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,T.A)(function*(b,p){return function gn(b,p){return Vn.apply(this,arguments)}(b,p)})).apply(this,arguments)}function Yo(){return(Yo=(0,T.A)(function*(b,p){return rn(b,"POST","/v1/accounts:signInWithEmailLink",ge(b,p))})).apply(this,arguments)}function ws(){return(ws=(0,T.A)(function*(b,p){return rn(b,"POST","/v1/accounts:signInWithEmailLink",ge(b,p))})).apply(this,arguments)}class cs extends kn{constructor(p,_,A,V=null){super("password",A),this._email=p,this._password=_,this._tenantId=V}static _fromEmailAndPassword(p,_){return new cs(p,_,"password")}static _fromEmailAndCode(p,_,A=null){return new cs(p,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,T.A)(function*(){switch(_.signInMethod){case"password":return he(p,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",dt,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Ro(b,p){return Yo.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:bt(p,"internal-error")}})()}_linkToIdToken(p,_){var A=this;return(0,T.A)(function*(){switch(A.signInMethod){case"password":return he(p,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zo,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Po(b,p){return ws.apply(this,arguments)}(p,{idToken:_,email:A._email,oobCode:A._password});default:bt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function xr(b,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,T.A)(function*(b,p){return rn(b,"POST","/v1/accounts:signInWithIdp",ge(b,p))})).apply(this,arguments)}class xo{constructor(p){var _,A,V,Y,Fe,Ye;const Vt=(0,q.I9)((0,q.hp)(p)),hn=null!==(_=Vt.apiKey)&&void 0!==_?_:null,Un=null!==(A=Vt.oobCode)&&void 0!==A?A:null,jn=function Oi(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=Vt.mode)&&void 0!==V?V:null);vt(hn&&Un&&jn,"argument-error"),this.apiKey=hn,this.operation=jn,this.code=Un,this.continueUrl=null!==(Y=Vt.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(Fe=Vt.lang)&&void 0!==Fe?Fe:null,this.tenantId=null!==(Ye=Vt.tenantId)&&void 0!==Ye?Ye:null}static parseLink(p){const _=function js(b){const p=(0,q.I9)((0,q.hp)(b)).link,_=p?(0,q.I9)((0,q.hp)(p)).deep_link_id:null,A=(0,q.I9)((0,q.hp)(b)).deep_link_id;return(A?(0,q.I9)((0,q.hp)(A)).link:null)||A||_||p||b}(p);try{return new xo(_)}catch{return null}}}let yr=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,A){return cs._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const V=xo.parseLink(A);return vt(V,"argument-error"),cs._fromEmailAndCode(_,V.code,V.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Xi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class na extends Xi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}function Rt(b,p){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,T.A)(function*(b,p){return rn(b,"POST","/v1/accounts:signUp",ge(b,p))})).apply(this,arguments)}class wn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,A){return(0,T.A)(function*(V,Y,Fe,Ye=!1){const Vt=yield fr._fromIdTokenResponse(V,Fe,Ye),hn=dn(Fe);return new wn({user:Vt,providerId:hn,_tokenResponse:Fe,operationType:Y})}).apply(this,arguments)}static _forOperation(p,_,A){return(0,T.A)(function*(){yield p._updateTokensIfNecessary(A,!0);const V=dn(A);return new wn({user:p,providerId:V,_tokenResponse:A,operationType:_})})()}}function dn(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}class Lr extends q.g{constructor(p,_,A,V){var Y;super(_.code,_.message),this.operationType=A,this.user=V,Object.setPrototypeOf(this,Lr.prototype),this.customData={appName:p.name,tenantId:null!==(Y=p.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(p,_,A,V){return new Lr(p,_,A,V)}}function yi(b,p,_,A){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?Lr._fromErrorAndOperation(b,Y,p,A):Y})}function Ri(){return(Ri=(0,T.A)(function*(b,p,_=!1){const A=yield Ar(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return wn._forOperation(b,"link",A)})).apply(this,arguments)}function To(){return(To=(0,T.A)(function*(b,p,_=!1){const{auth:A}=b;if((0,N.xZ)(A.app))return Promise.reject(Qe(A));const V="reauthenticate";try{const Y=yield Ar(b,yi(A,V,p,b),_);vt(Y.idToken,A,"internal-error");const Fe=Tr(Y.idToken);vt(Fe,A,"internal-error");const{sub:Ye}=Fe;return vt(b.uid===Ye,A,"user-mismatch"),wn._forOperation(b,V,Y)}catch(Y){throw"auth/user-not-found"===Y?.code&&bt(A,"user-mismatch"),Y}})).apply(this,arguments)}function ti(b,p){return go.apply(this,arguments)}function go(){return(go=(0,T.A)(function*(b,p,_=!1){if((0,N.xZ)(b.app))return Promise.reject(Qe(b));const A="signIn",V=yield yi(b,A,p),Y=yield wn._fromIdTokenResponse(b,A,V);return _||(yield b._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function fs(){return(fs=(0,T.A)(function*(b,p){return ti(an(b),p)})).apply(this,arguments)}function zs(b){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,T.A)(function*(b){const p=an(b);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function vi(b,p,_){return fa.apply(this,arguments)}function fa(){return(fa=(0,T.A)(function*(b,p,_){const A=an(b),V={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};_&&function ks(b,p,_){var A;vt((null===(A=_.url)||void 0===A?void 0:A.length)>0,b,"invalid-continue-uri"),vt(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),vt(typeof _.linkDomain>"u"||_.linkDomain.length>0,b,"invalid-hosting-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.linkDomain=_.linkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(vt(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(vt(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}(A,V,_),yield he(A,V,"getOobCode",Ms,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function Va(b,p,_){return qo.apply(this,arguments)}function qo(){return(qo=(0,T.A)(function*(b,p,_){if((0,N.xZ)(b.app))return Promise.reject(Qe(b));const A=an(b),Fe=yield he(A,{returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rt,"EMAIL_PASSWORD_PROVIDER").catch(Vt=>{throw"auth/password-does-not-meet-requirements"===Vt.code&&zs(b),Vt}),Ye=yield wn._fromIdTokenResponse(A,"signIn",Fe);return yield A._updateCurrentUser(Ye.user),Ye})).apply(this,arguments)}function Gr(b,p,_){return(0,N.xZ)(b.app)?Promise.reject(Qe(b)):function Ko(b,p){return fs.apply(this,arguments)}((0,q.Ku)(b),yr.credential(p,_)).catch(function(){var A=(0,T.A)(function*(V){throw"auth/password-does-not-meet-requirements"===V.code&&zs(b),V});return function(V){return A.apply(this,arguments)}}())}function Hi(b,p,_,A){return(0,q.Ku)(b).onAuthStateChanged(p,_,A)}function qs(b){return(0,q.Ku)(b).signOut()}const Pn="__sak";class Xn{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Pn,"1"),this.storage.removeItem(Pn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bo=(()=>{class b extends Xn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_e(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const V=this.storage.getItem(A),Y=this.localCache[A];V!==Y&&_(A,Y,V)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((Ye,Vt,hn)=>{this.notifyListeners(Ye,hn)});const V=_.key;A?this.detachListener():this.stopPolling();const Y=()=>{const Ye=this.storage.getItem(V);!A&&this.localCache[V]===Ye||this.notifyListeners(V,Ye)},Fe=this.storage.getItem(V);!function ie(){return(0,q.lT)()&&10===document.documentMode}()||Fe===_.newValue||_.newValue===_.oldValue?Y():setTimeout(Y,10)}notifyListeners(_,A){this.localCache[_]=A;const V=this.listeners[_];if(V)for(const Y of Array.from(V))Y(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var V=()=>super._set,Y=this;return(0,T.A)(function*(){yield V().call(Y,_,A),Y.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,V=this;return(0,T.A)(function*(){const Y=yield A().call(V,_);return V.localCache[_]=JSON.stringify(Y),Y})()}_remove(_){var A=()=>super._remove,V=this;return(0,T.A)(function*(){yield A().call(V,_),delete V.localCache[_]})()}}return b.type="LOCAL",b})(),Ai=(()=>{class b extends Xn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return b.type="SESSION",b})();let ra=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(Y=>Y.isListeningto(_));if(A)return A;const V=new b(_);return this.receivers.push(V),V}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,T.A)(function*(){const V=_,{eventId:Y,eventType:Fe,data:Ye}=V.data,Vt=A.handlersMap[Fe];if(!Vt?.size)return;V.ports[0].postMessage({status:"ack",eventId:Y,eventType:Fe});const hn=Array.from(Vt).map(function(){var jn=(0,T.A)(function*(Sr){return Sr(V.origin,Ye)});return function(Sr){return jn.apply(this,arguments)}}()),Un=yield function Lc(b){return Promise.all(b.map(function(){var p=(0,T.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return p.apply(this,arguments)}}()))}(hn);V.ports[0].postMessage({status:"done",eventId:Y,eventType:Fe,response:Un})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Ya(b="",p=10){let _="";for(let A=0;A<p;A++)_+=Math.floor(10*Math.random());return b+_}class xl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_){var A=this;return(0,T.A)(function*(V,Y,Fe=50){const Ye=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ye)throw new Error("connection_unavailable");let Vt,hn;return new Promise((Un,jn)=>{const Sr=Ya("",20);Ye.port1.start();const Co=setTimeout(()=>{jn(new Error("unsupported_event"))},Fe);hn={messageChannel:Ye,onMessage(eo){const qc=eo;if(qc.data.eventId===Sr)switch(qc.data.status){case"ack":clearTimeout(Co),Vt=setTimeout(()=>{jn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Vt),Un(qc.data.response);break;default:clearTimeout(Co),clearTimeout(Vt),jn(new Error("invalid_response"))}}},A.handlers.add(hn),Ye.port1.addEventListener("message",hn.onMessage),A.target.postMessage({eventType:V,eventId:Sr,data:Y},[Ye.port2])}).finally(()=>{hn&&A.removeMessageHandler(hn)})}).apply(this,arguments)}}function zi(){return window}function _n(){return typeof zi().WorkerGlobalScope<"u"&&"function"==typeof zi().importScripts}function Dr(){return(Dr=(0,T.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $o="firebaseLocalStorageDb",Vi="firebaseLocalStorage",ia="fbase_key";class Fs{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function mo(b,p){return b.transaction([Vi],p?"readwrite":"readonly").objectStore(Vi)}function Ss(){const b=indexedDB.open($o,1);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(Vi,{keyPath:ia})}catch(V){_(V)}}),b.addEventListener("success",(0,T.A)(function*(){const A=b.result;A.objectStoreNames.contains(Vi)?p(A):(A.close(),yield function Ao(){const b=indexedDB.deleteDatabase($o);return new Fs(b).toPromise()}(),p(yield Ss()))}))})}function Ji(b,p,_){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,T.A)(function*(b,p,_){const A=mo(b,!0).put({[ia]:p,value:_});return new Fs(A).toPromise()})).apply(this,arguments)}function Gu(){return(Gu=(0,T.A)(function*(b,p){const _=mo(b,!1).get(p),A=yield new Fs(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Vc(b,p){const _=mo(b,!0).delete(p);return new Fs(_).toPromise()}const _c=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,T.A)(function*(){return _.db||(_.db=yield Ss()),_.db})()}_withRetries(_){var A=this;return(0,T.A)(function*(){let V=0;for(;;)try{const Y=yield A._openDb();return yield _(Y)}catch(Y){if(V++>3)throw Y;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,T.A)(function*(){return _n()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,T.A)(function*(){_.receiver=ra._getInstance(function Os(){return _n()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,T.A)(function*(V,Y){return{keyProcessed:(yield _._poll()).includes(Y.key)}});return function(V,Y){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,T.A)(function*(V,Y){return["keyChanged"]});return function(V,Y){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,T.A)(function*(){var A,V;if(_.activeServiceWorker=yield function or(){return Dr.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new xl(_.activeServiceWorker);const Y=yield _.sender._send("ping",{},800);Y&&null!==(A=Y[0])&&void 0!==A&&A.fulfilled&&null!==(V=Y[0])&&void 0!==V&&V.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,T.A)(function*(){if(A.sender&&A.activeServiceWorker&&function ur(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,T.A)(function*(){try{if(!indexedDB)return!1;const _=yield Ss();return yield Ji(_,Pn,"1"),yield Vc(_,Pn),!0}catch{}return!1})()}_withPendingWrite(_){var A=this;return(0,T.A)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var V=this;return(0,T.A)(function*(){return V._withPendingWrite((0,T.A)(function*(){return yield V._withRetries(Y=>Ji(Y,_,A)),V.localCache[_]=A,V.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,T.A)(function*(){const V=yield A._withRetries(Y=>function oa(b,p){return Gu.apply(this,arguments)}(Y,_));return A.localCache[_]=V,V})()}_remove(_){var A=this;return(0,T.A)(function*(){return A._withPendingWrite((0,T.A)(function*(){return yield A._withRetries(V=>Vc(V,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,T.A)(function*(){const A=yield _._withRetries(Fe=>{const Ye=mo(Fe,!1).getAll();return new Fs(Ye).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const V=[],Y=new Set;if(0!==A.length)for(const{fbase_key:Fe,value:Ye}of A)Y.add(Fe),JSON.stringify(_.localCache[Fe])!==JSON.stringify(Ye)&&(_.notifyListeners(Fe,Ye),V.push(Fe));for(const Fe of Object.keys(_.localCache))_.localCache[Fe]&&!Y.has(Fe)&&(_.notifyListeners(Fe,null),V.push(Fe));return V})()}notifyListeners(_,A){this.localCache[_]=A;const V=this.listeners[_];if(V)for(const Y of Array.from(V))Y(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,T.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();Lt("rcb"),new Jt(3e4,6e4);class Qs extends kn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return xr(p,this._buildIdpRequest())}_linkToIdToken(p,_){return xr(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return xr(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Vl(b){return ti(b.auth,new Qs(b),b.bypassAuthState)}function Ul(b){const{auth:p,user:_}=b;return vt(_,p,"internal-error"),function bi(b,p){return To.apply(this,arguments)}(_,new Qs(b),b.bypassAuthState)}function Df(b){return Af.apply(this,arguments)}function Af(){return(Af=(0,T.A)(function*(b){const{auth:p,user:_}=b;return vt(_,p,"internal-error"),function ei(b,p){return Ri.apply(this,arguments)}(_,new Qs(b),b.bypassAuthState)})).apply(this,arguments)}class Bl{constructor(p,_,A,V,Y=!1){this.auth=p,this.resolver=A,this.user=V,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,T.A)(function*(A,V){p.pendingPromise={resolve:A,reject:V};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Y){p.reject(Y)}});return function(A,V){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,T.A)(function*(){const{urlResponse:A,sessionId:V,postBody:Y,tenantId:Fe,error:Ye,type:Vt}=p;if(Ye)return void _.reject(Ye);const hn={auth:_.auth,requestUri:A,sessionId:V,tenantId:Fe||void 0,postBody:Y||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Vt)(hn))}catch(Un){_.reject(Un)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Vl;case"linkViaPopup":case"linkViaRedirect":return Df;case"reauthViaPopup":case"reauthViaRedirect":return Ul;default:bt(this.auth,"internal-error")}}resolve(p){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Jt(2e3,1e4);const du=new Map;class Tg extends Bl{constructor(p,_,A=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,T.A)(function*(){let A=du.get(_.auth._key());if(!A){try{const Y=(yield function wc(b,p){return Ba.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;A=()=>Promise.resolve(Y)}catch(V){A=()=>Promise.reject(V)}du.set(_.auth._key(),A)}return _.bypassAuthState||du.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,A=this;return(0,T.A)(function*(){if("signInViaRedirect"===p.type)return _().call(A,p);if("unknown"!==p.type){if(p.eventId){const V=yield A.auth._redirectUserForId(p.eventId);if(V)return A.user=V,_().call(A,p);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,T.A)(function*(){})()}cleanUp(){}}function Ba(){return(Ba=(0,T.A)(function*(b,p){const _=function Hl(b){return Te("pendingRedirect",b.config.apiKey,b.name)}(p),A=function $l(b){return xi(b._redirectPersistence)}(b);if(!(yield A._isAvailable()))return!1;const V="true"===(yield A._get(_));return yield A._remove(_),V})).apply(this,arguments)}function ec(b,p){du.set(b._key(),p)}function ah(b,p){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,T.A)(function*(b,p,_=!1){if((0,N.xZ)(b.app))return Promise.reject(Qe(b));const A=an(b),V=function ca(b,p){return p?xi(p):(vt(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}(A,p),Fe=yield new Tg(A,V,_).execute();return Fe&&!_&&(delete Fe.user._redirectEventId,yield A._persistUserIfCurrent(Fe.user),yield A._setRedirectUser(null,p)),Fe})).apply(this,arguments)}class $a{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(p,A)&&(_=!0,this.sendToConsumer(p,A),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Kl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ic(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var A;if(p.error&&!ic(p)){const V=(null===(A=p.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(Me(this.auth,V))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const A=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&A}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ic(p))}saveEventToCache(p){this.cachedEventUids.add(Ic(p)),this.lastProcessedEventTime=Date.now()}}function Ic(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function ic({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function Yu(){return(Yu=(0,T.A)(function*(b,p={}){return te(b,"GET","/v1/projects",p)})).apply(this,arguments)}const Pf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mf=/^https?/;function Zs(){return Zs=(0,T.A)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield function Zu(b){return Yu.apply(this,arguments)}(b);for(const _ of p)try{if(Ea(_))return}catch{}bt(b,"unauthorized-domain")}),Zs.apply(this,arguments)}function Ea(b){const p=Sn(),{protocol:_,hostname:A}=new URL(p);if(b.startsWith("chrome-extension://")){const Fe=new URL(b);return""===Fe.hostname&&""===A?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Fe.hostname===A}if(!Mf.test(_))return!1;if(Pf.test(b))return A===b;const V=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(A)}const ql=new Jt(3e4,6e4);function zc(){const b=zi().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let el=null;const Wy=new Jt(5e3,15e3),uh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ql=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tc(b){const p=b.config;vt(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?St(p,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,A={apiKey:p.apiKey,appName:b.name,v:N.MF},V=Ql.get(b.config.apiHost);V&&(A.eid=V);const Y=b._getFrameworks();return Y.length&&(A.fw=Y.join(",")),`${_}?${(0,q.Am)(A).slice(1)}`}function bc(){return bc=(0,T.A)(function*(b){const p=yield function xf(b){return el=el||function Nf(b){return new Promise((p,_)=>{var A,V,Y;function Fe(){zc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{zc(),_(Me(b,"network-request-failed"))},timeout:ql.get()})}if(null!==(V=null===(A=zi().gapi)||void 0===A?void 0:A.iframes)&&void 0!==V&&V.Iframe)p(gapi.iframes.getContext());else{if(null===(Y=zi().gapi)||void 0===Y||!Y.load){const Ye=Lt("iframefcb");return zi()[Ye]=()=>{gapi.load?Fe():_(Me(b,"network-request-failed"))},Ii(`${function Ke(){return sr.gapiScript}()}?onload=${Ye}`).catch(Vt=>_(Vt))}Fe()}}).catch(p=>{throw el=null,p})}(b),el}(b),_=zi().gapi;return vt(_,b,"internal-error"),p.open({where:document.body,url:Tc(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uh,dontclear:!0},A=>new Promise(function(){var V=(0,T.A)(function*(Y,Fe){yield A.restyle({setHideOnLeave:!1});const Ye=Me(b,"network-request-failed"),Vt=zi().setTimeout(()=>{Fe(Ye)},Wy.get());function hn(){zi().clearTimeout(Vt),Y(A)}A.ping(hn).then(hn,()=>{Fe(Ye)})});return function(Y,Fe){return V.apply(this,arguments)}}()))}),bc.apply(this,arguments)}const tl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Of{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ff=encodeURIComponent("fac");function yu(b,p,_,A,V,Y){return es.apply(this,arguments)}function es(){return(es=(0,T.A)(function*(b,p,_,A,V,Y){vt(b.config.authDomain,b,"auth-domain-config-required"),vt(b.config.apiKey,b,"invalid-api-key");const Fe={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:A,v:N.MF,eventId:V};if(p instanceof Xi){p.setDefaultLanguage(b.languageCode),Fe.providerId=p.providerId||"",(0,q.Im)(p.getCustomParameters())||(Fe.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Un,jn]of Object.entries(Y||{}))Fe[Un]=jn}if(p instanceof na){const Un=p.getScopes().filter(jn=>""!==jn);Un.length>0&&(Fe.scopes=Un.join(","))}b.tenantId&&(Fe.tid=b.tenantId);const Ye=Fe;for(const Un of Object.keys(Ye))void 0===Ye[Un]&&delete Ye[Un];const Vt=yield b._getAppCheckToken(),hn=Vt?`#${Ff}=${encodeURIComponent(Vt)}`:"";return`${function hh({config:b}){return b.emulator?St(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,q.Am)(Ye).slice(1)}${hn}`})).apply(this,arguments)}const oc="webStorageSupport",Lf=class _u{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ai,this._completeRedirectFn=ah,this._overrideRedirectResult=ec}_openPopup(p,_,A,V){var Y=this;return(0,T.A)(function*(){var Fe;Fn(null===(Fe=Y.eventManagers[p._key()])||void 0===Fe?void 0:Fe.manager,"_initialize() not called before _openPopup()");const Ye=yield yu(p,_,A,Sn(),V);return function Wc(b,p,_,A=500,V=600){const Y=Math.max((window.screen.availHeight-V)/2,0).toString(),Fe=Math.max((window.screen.availWidth-A)/2,0).toString();let Ye="";const Vt=Object.assign(Object.assign({},tl),{width:A.toString(),height:V.toString(),top:Y,left:Fe}),hn=(0,q.ZQ)().toLowerCase();_&&(Ye=qt(hn)?"_blank":_),Nt(hn)&&(p=p||"http://localhost",Vt.scrollbars="yes");const Un=Object.entries(Vt).reduce((Sr,[Co,eo])=>`${Sr}${Co}=${eo},`,"");if(function wt(b=(0,q.ZQ)()){var p;return De(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(hn)&&"_self"!==Ye)return function gu(b,p){const _=document.createElement("a");_.href=b,_.target=p;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(p||"",Ye),new Of(null);const jn=window.open(p||"",Ye,Un);vt(jn,b,"popup-blocked");try{jn.focus()}catch{}return new Of(jn)}(p,Ye,Ya())})()}_openRedirect(p,_,A,V){var Y=this;return(0,T.A)(function*(){return yield Y._originValidation(p),function Wn(b){zi().location.href=b}(yield yu(p,_,A,Sn(),V)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:V,promise:Y}=this.eventManagers[_];return V?Promise.resolve(V):(Fn(Y,"If manager is not set, promise should be"),Y)}const A=this.initAndGetManager(p);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(p){var _=this;return(0,T.A)(function*(){const A=yield function lh(b){return bc.apply(this,arguments)}(p),V=new $a(p);return A.register("authEvent",Y=>(vt(Y?.authEvent,p,"invalid-auth-event"),{status:V.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:V},_.iframes[p._key()]=A,V})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(oc,{type:oc},V=>{var Y;const Fe=null===(Y=V?.[0])||void 0===Y?void 0:Y[oc];void 0!==Fe&&_(!!Fe),bt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ju(b){return Zs.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return _e()||Ze()||De()}};var ac="@firebase/auth";class ph{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,T.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(A=>{p(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bg=(0,q.XA)("authIdTokenMaxAge")||300;let Yl=null;const gh=b=>function(){var p=(0,T.A)(function*(_){const A=_&&(yield _.getIdTokenResult()),V=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(V&&V>bg)return;const Y=A?.token;Yl!==Y&&(Yl=Y,yield fetch(b,{method:Y?"POST":"DELETE",headers:Y?{Authorization:`Bearer ${Y}`}:{}}))});return function(_){return p.apply(this,arguments)}}();function Jl(b=(0,N.Sx)()){const p=(0,N.j6)(b,"auth");if(p.isInitialized())return p.getImmediate();const _=function It(b,p){const _=(0,N.j6)(b,"auth");if(_.isInitialized()){const V=_.getImmediate(),Y=_.getOptions();if((0,q.bD)(Y,p??{}))return V;bt(V,"already-initialized")}return _.initialize({options:p})}(b,{popupRedirectResolver:Lf,persistence:[_c,Bo,Ai]}),A=(0,q.XA)("authTokenSyncURL");if(A&&"boolean"==typeof isSecureContext&&isSecureContext){const Y=new URL(A,location.origin);if(location.origin===Y.origin){const Fe=gh(Y.toString());(function Oc(b,p,_){(0,q.Ku)(b).beforeAuthStateChanged(p,_)})(_,Fe,()=>Fe(_.currentUser)),function Di(b,p,_,A){(0,q.Ku)(b).onIdTokenChanged(p,_,A)}(_,Ye=>Fe(Ye))}}const V=(0,q.Tj)("auth");return V&&function Nn(b,p,_){const A=an(b);vt(/^https?:\/\//.test(p),A,"invalid-emulator-scheme");const V=!!_?.disableWarnings,Y=ii(p),{host:Fe,port:Ye}=function qr(b){const p=ii(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(A);if(V){const Y=V[1];return{host:Y,port:Qr(A.substr(Y.length+1))}}{const[Y,Fe]=A.split(":");return{host:Y,port:Qr(Fe)}}}(p),Vt=null===Ye?"":`:${Ye}`,hn={url:`${Y}//${Fe}${Vt}/`},Un=Object.freeze({host:Fe,port:Ye,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:V})});if(!A._canInitEmulator)return vt(A.config.emulator&&A.emulatorConfig,A,"emulator-config-failed"),void vt((0,q.bD)(hn,A.config.emulator)&&(0,q.bD)(Un,A.emulatorConfig),A,"emulator-config-failed");A.config.emulator=hn,A.emulatorConfig=Un,A.settings.appVerificationDisabledForTesting=!0,(0,q.zJ)(Fe)?((0,q.gE)(`${Y}//${Fe}${Vt}`),(0,q.P1)("Auth",!0)):V||function gr(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(_,`http://${V}`),_}(function mi(b){sr=b})({loadJS:b=>new Promise((p,_)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=p,A.onerror=V=>{const Y=Me("internal-error");Y.customData=V,_(Y)},A.type="text/javascript",A.charset="UTF-8",function mh(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Kc(b){(0,N.om)(new qe.uA("auth",(p,{options:_})=>{const A=p.getProvider("app").getImmediate(),V=p.getProvider("heartbeat"),Y=p.getProvider("app-check-internal"),{apiKey:Fe,authDomain:Ye}=A.options;vt(Fe&&!Fe.includes(":"),"invalid-api-key",{appName:A.name});const Vt={apiKey:Fe,authDomain:Ye,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Oe(b)},hn=new Ln(A,V,Y,Vt);return function sn(b,p){const _=p?.persistence||[],A=(Array.isArray(_)?_:[_]).map(xi);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(A,p?.popupRedirectResolver)}(hn,_),hn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,A)=>{p.getProvider("auth-internal").initialize()})),(0,N.om)(new qe.uA("auth-internal",p=>{const _=an(p.getProvider("auth").getImmediate());return new ph(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.KO)(ac,"1.10.6",function cc(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,N.KO)(ac,"1.10.6","esm2017")}("Browser")},591:(vn,je,U)=>{"use strict";function T(N){return new TypeError(`You provided ${null!==N&&"object"==typeof N?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(je,{L:()=>T})},941:(vn,je,U)=>{"use strict";U.d(je,{Q:()=>F});var T=U(5225),N=U(9974),q=U(4360);function F(Ae,qe=0){return(0,N.N)((Ee,fe)=>{Ee.subscribe((0,q._)(fe,ke=>(0,T.N)(fe,Ae,()=>fe.next(ke),qe),()=>(0,T.N)(fe,Ae,()=>fe.complete(),qe),ke=>(0,T.N)(fe,Ae,()=>fe.error(ke),qe)))})}},969:(vn,je,U)=>{"use strict";U.d(je,{FX:()=>Qt,If:()=>T,K2:()=>qe,PZ:()=>Ft,hZ:()=>q,i0:()=>F,iF:()=>Ee,kY:()=>me,kp:()=>N,sf:()=>Ut,wk:()=>fe});var T=function(ft){return ft[ft.State=0]="State",ft[ft.Transition=1]="Transition",ft[ft.Sequence=2]="Sequence",ft[ft.Group=3]="Group",ft[ft.Animate=4]="Animate",ft[ft.Keyframes=5]="Keyframes",ft[ft.Style=6]="Style",ft[ft.Trigger=7]="Trigger",ft[ft.Reference=8]="Reference",ft[ft.AnimateChild=9]="AnimateChild",ft[ft.AnimateRef=10]="AnimateRef",ft[ft.Query=11]="Query",ft[ft.Stagger=12]="Stagger",ft}(T||{});const N="*";function q(ft,yt){return{type:T.Trigger,name:ft,definitions:yt,options:{}}}function F(ft,yt=null){return{type:T.Animate,styles:yt,timings:ft}}function qe(ft,yt=null){return{type:T.Sequence,steps:ft,options:yt}}function Ee(ft){return{type:T.Style,styles:ft,offset:null}}function fe(ft,yt,bt){return{type:T.State,name:ft,styles:yt,options:bt}}function me(ft,yt,bt=null){return{type:T.Transition,expr:ft,animation:yt,options:bt}}class Ut{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(yt=0,bt=0){this.totalTime=yt+bt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(yt=>yt()),this._onDoneFns=[])}onStart(yt){this._originalOnStartFns.push(yt),this._onStartFns.push(yt)}onDone(yt){this._originalOnDoneFns.push(yt),this._onDoneFns.push(yt)}onDestroy(yt){this._onDestroyFns.push(yt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(yt=>yt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(yt=>yt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(yt){this._position=this.totalTime?yt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(yt){const bt="start"==yt?this._onStartFns:this._onDoneFns;bt.forEach(Me=>Me()),bt.length=0}}class Ft{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(yt){this.players=yt;let bt=0,Me=0,tt=0;const Qe=this.players.length;0==Qe?queueMicrotask(()=>this._onFinish()):this.players.forEach(_t=>{_t.onDone(()=>{++bt==Qe&&this._onFinish()}),_t.onDestroy(()=>{++Me==Qe&&this._onDestroy()}),_t.onStart(()=>{++tt==Qe&&this._onStart()})}),this.totalTime=this.players.reduce((_t,zt)=>Math.max(_t,zt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(yt=>yt()),this._onDoneFns=[])}init(){this.players.forEach(yt=>yt.init())}onStart(yt){this._onStartFns.push(yt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(yt=>yt()),this._onStartFns=[])}onDone(yt){this._onDoneFns.push(yt)}onDestroy(yt){this._onDestroyFns.push(yt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(yt=>yt.play())}pause(){this.players.forEach(yt=>yt.pause())}restart(){this.players.forEach(yt=>yt.restart())}finish(){this._onFinish(),this.players.forEach(yt=>yt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(yt=>yt.destroy()),this._onDestroyFns.forEach(yt=>yt()),this._onDestroyFns=[])}reset(){this.players.forEach(yt=>yt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(yt){const bt=yt*this.totalTime;this.players.forEach(Me=>{const tt=Me.totalTime?Math.min(1,bt/Me.totalTime):1;Me.setPosition(tt)})}getPosition(){const yt=this.players.reduce((bt,Me)=>null===bt||Me.totalTime>bt.totalTime?Me:bt,null);return null!=yt?yt.getPosition():0}beforeDestroy(){this.players.forEach(yt=>{yt.beforeDestroy&&yt.beforeDestroy()})}triggerCallback(yt){const bt="start"==yt?this._onStartFns:this._onDoneFns;bt.forEach(Me=>Me()),bt.length=0}}const Qt="!"},980:(vn,je,U)=>{"use strict";U.d(je,{j:()=>N});var T=U(9974);function N(q){return(0,T.N)((F,Ae)=>{try{F.subscribe(Ae)}finally{Ae.add(q)}})}},983:(vn,je,U)=>{"use strict";U.d(je,{w:()=>N});const N=new(U(1985).c)(Ae=>Ae.complete())},1026:(vn,je,U)=>{"use strict";U.d(je,{$:()=>T});const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(vn,je,U)=>{"use strict";U.d(je,{F:()=>N,m:()=>q});var T=U(3669);function N(...F){return q(F)}function q(F){return 0===F.length?T.D:1===F.length?F[0]:function(qe){return F.reduce((Ee,fe)=>fe(Ee),qe)}}},1360:(vn,je,U)=>{"use strict";U.d(je,{bc$:()=>Qg,iLQ:()=>Sy,sZ2:()=>wu,o8S:()=>yc,BIS:()=>g_,gRc:()=>$A,Ql9:()=>vN,OM3:()=>Ey,Ocv:()=>AN,abz:()=>Ls,Z63:()=>Xi,aKT:()=>al,uvJ:()=>ti,zcH:()=>lc,bkB:()=>uc,$GK:()=>kn,nKC:()=>ve,zZn:()=>ms,_q3:()=>cT,MKu:()=>uT,xe9:()=>rT,Co$:()=>D0,Vns:()=>ff,SKi:()=>yo,Xx1:()=>xr,Agw:()=>qg,PLl:()=>Kg,u5s:()=>rl,sFG:()=>TC,_9s:()=>Uw,czy:()=>Mu,WPN:()=>Md,kdw:()=>po,C4Q:()=>nf,NYb:()=>kR,giA:()=>J0,xvI:()=>yN,RxE:()=>MA,c1b:()=>Zv,gXe:()=>Rc,mal:()=>cm,Af3:()=>ko,L39:()=>vx,EWP:()=>$y,Ol2:()=>rI,w6W:()=>pS,Rfq:()=>Ni,WQX:()=>mn,hFB:()=>t_,naY:()=>LN,QuC:()=>we,EmA:()=>Ce,phd:()=>LR,HJs:()=>Bx,N4e:()=>xs,vPA:()=>Zc,O8t:()=>uu,H3F:()=>hI,H8p:()=>Ri,KH2:()=>_g,Ua0:()=>Xc,wOt:()=>ct,WHO:()=>Z0,e01:()=>Y0,Lf2:()=>ld,lNU:()=>Mr,h9k:()=>Cp,$MX:()=>Ad,ZF7:()=>bd,Kcf:()=>q_,e5t:()=>bp,UyX:()=>ew,cWb:()=>Tp,osQ:()=>yl,H5H:()=>FI,Zy3:()=>Kn,mq5:()=>Kb,JZv:()=>bn,TL3:()=>ZN,LfX:()=>Pt,plB:()=>hf,jNT:()=>yI,zjR:()=>tb,ngT:()=>Ta,TL$:()=>xE,Tbb:()=>Le,rcV:()=>nu,Vt3:()=>oI,OA$:()=>Cs,Jv_:()=>JD,R7$:()=>E,BMQ:()=>II,HbH:()=>Pb,ZvI:()=>Lb,STu:()=>Vb,AVh:()=>RI,wni:()=>CD,VBU:()=>C0,FsC:()=>S0,jDH:()=>Oe,G2t:()=>mt,$C:()=>iI,EJ8:()=>R0,rXU:()=>ng,nrm:()=>kI,bVm:()=>dE,qex:()=>lE,k0s:()=>uE,j41:()=>cE,RV6:()=>Wb,xGo:()=>Yl,KVO:()=>Jr,kS0:()=>b,QTQ:()=>KT,bIt:()=>UI,lsd:()=>RD,joV:()=>ah,qSk:()=>Rf,XpG:()=>yD,nI1:()=>dA,i5U:()=>hA,Y8G:()=>AI,lJ4:()=>tA,eq3:()=>nA,l_i:()=>rA,sMw:()=>iA,ziG:()=>oA,mGM:()=>SD,sdS:()=>PD,Njj:()=>aa,eBV:()=>Ec,npT:()=>sw,B4B:()=>J_,n$t:()=>$m,xc7:()=>SI,zvX:()=>OI,DNE:()=>uI,C5r:()=>fA,EFF:()=>BD,JRh:()=>$I,SpI:()=>mE,Lme:()=>HI,DH7:()=>QD,mxI:()=>WI,R50:()=>zI});var T=U(467);function N(e,t){return Object.is(e,t)}let q=null,F=!1,Ae=1;const qe=Symbol("SIGNAL");function Ee(e){const t=q;return q=e,t}const pe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Je(e){if(F)throw new Error("");if(null===q)return;q.consumerOnSignalRead(e);const t=q.nextProducerIndex++;zt(q),t<q.producerNode.length&&q.producerNode[t]!==e&&_t(q)&&Qe(q.producerNode[t],q.producerIndexOfThis[t]),q.producerNode[t]!==e&&(q.producerNode[t]=e,q.producerIndexOfThis[t]=_t(q)?tt(e,q,t):0),q.producerLastReadVersion[t]=e.version}function st(e){if((!_t(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Ae)){if(!e.producerMustRecompute(e)&&!bt(e))return void Qt(e);e.producerRecomputeValue(e),Qt(e)}}function Dt(e){if(void 0===e.liveConsumerNode)return;const t=F;F=!0;try{for(const r of e.liveConsumerNode)r.dirty||Ft(r)}finally{F=t}}function Ut(){return!1!==q?.consumerAllowSignalWrites}function Ft(e){e.dirty=!0,Dt(e),e.consumerMarkedDirty?.(e)}function Qt(e){e.dirty=!1,e.lastCleanEpoch=Ae}function ft(e){return e&&(e.nextProducerIndex=0),Ee(e)}function yt(e,t){if(Ee(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(_t(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Qe(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function bt(e){zt(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(st(r),o!==r.version))return!0}return!1}function Me(e){if(zt(e),_t(e))for(let t=0;t<e.producerNode.length;t++)Qe(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function tt(e,t,r){if(vt(e),0===e.liveConsumerNode.length&&ot(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=tt(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Qe(e,t){if(vt(e),1===e.liveConsumerNode.length&&ot(e))for(let o=0;o<e.producerNode.length;o++)Qe(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];zt(a),a.producerIndexOfThis[o]=t}}function _t(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function zt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function vt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ot(e){return void 0!==e.producerNode}const Sn=Symbol("UNSET"),Gn=Symbol("COMPUTING"),lt=Symbol("ERRORED"),yn={...pe,value:Sn,dirty:!0,error:null,equal:N,kind:"computed",producerMustRecompute:e=>e.value===Sn||e.value===Gn,producerRecomputeValue(e){if(e.value===Gn)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Gn;const r=ft(e);let o,a=!1;try{o=e.computation(),Ee(null),a=t!==Sn&&t!==lt&&o!==lt&&e.equal(t,o)}catch(d){o=lt,e.error=d}finally{yt(e,r)}a?e.value=t:(e.value=o,e.version++)}};let Jt=function Xe(){throw new Error};function St(e){Jt(e)}let Z=null;function ge(e,t){Ut()||St(e),e.equal(e.value,t)||(e.value=t,function pt(e){e.version++,function He(){Ae++}(),Dt(e),Z?.()}(e))}const Ge={...pe,equal:N,value:void 0,kind:"signal"};let Kt;function On(){return Kt}function Jn(e){const t=Kt;return Kt=e,t}const In=Symbol("NotFound");Error;var wi=U(4412),ln=U(1413),dr=U(8359),on=U(6354);const Mr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class ct extends Error{code;constructor(t,r){super(Kn(t,r)),this.code=t}}function Kn(e,t){return`${function Er(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const Gt=Symbol("InputSignalNode#UNSET"),ni={...Ge,transformFn:void 0,applyValueToInputSignal(e,t){ge(e,t)}};function li(e,t){const r=Object.create(ni);function o(){if(Je(r),r.value===Gt)throw new ct(-950,null);return r.value}return r.value=e,r.transformFn=t?.transform,o[qe]=r,o}function Tr(e){return{toString:e}.toString()}const Ar="__parameters__";function di(e,t,r){return Tr(()=>{const o=function ir(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...d){if(this instanceof a)return o.apply(this,d),this;const y=new a(...d);return I.annotation=y,I;function I(D,k,$){const X=D.hasOwnProperty(Ar)?D[Ar]:Object.defineProperty(D,Ar,{value:[]})[Ar];for(;X.length<=$;)X.push(null);return(X[$]=X[$]||[]).push(y),D}}return a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const bn=globalThis;function $n(e){for(let t in e)if(e[t]===$n)return t;throw Error("Could not find renamed property on target object.")}function Ki(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Le(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Le).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const r=e.toString();if(null==r)return""+r;const o=r.indexOf("\n");return o>=0?r.slice(0,o):r}function br(e,t){return e?t?`${e} ${t}`:e:t||""}const ri=$n({__forward_ref__:$n});function Ni(e){return e.__forward_ref__=Ni,e.toString=function(){return Le(this())},e}function pn(e){return fr(e)?e():e}function fr(e){return"function"==typeof e&&e.hasOwnProperty(ri)&&e.__forward_ref__===Ni}function Oe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function mt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ht(e){return en(e,Hn)||en(e,mi)}function Pt(e){return null!==ht(e)}function en(e,t){return e.hasOwnProperty(t)?e[t]:null}function an(e){return e&&(e.hasOwnProperty(sr)||e.hasOwnProperty(Ii))?e[sr]:null}const Hn=$n({\u0275prov:$n}),sr=$n({\u0275inj:$n}),mi=$n({ngInjectableDef:$n}),Ii=$n({ngInjectorDef:$n});class ve{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,r){this._desc=t,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Oe({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function so(e){return e&&!!e.\u0275providers}const Ui=$n({\u0275cmp:$n}),Lo=$n({\u0275dir:$n}),no=$n({\u0275pipe:$n}),B=$n({\u0275mod:$n}),he=$n({\u0275fac:$n}),K=$n({__NG_ELEMENT_ID__:$n}),J=$n({__NG_ENV_ID__:$n});function Re(e){return"string"==typeof e?e:null==e?"":String(e)}function ii(e,t){throw new ct(-200,e)}function gr(e,t){throw new ct(-201,!1)}var kn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(kn||{});let mr;function Bi(){return mr}function hi(e){const t=mr;return mr=e,t}function Eo(e,t,r){const o=ht(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&kn.Optional?null:void 0!==t?t:void gr()}const et={},Pe="__NG_DI_FLAG__";class dt{injector;constructor(t){this.injector=t}retrieve(t,r){return this.injector.get(t,r.optional?In:et,r)}}const Zt="ngTempTokenPath",Vn=/\n/gm,fo="__source";function Ms(e,t=kn.Default){if(void 0===On())throw new ct(-203,!1);if(null===On())return Eo(e,void 0,t);{const r=On();let o;return o=r instanceof dt?r.injector:r,o.get(e,t&kn.Optional?null:void 0,t)}}function Jr(e,t=kn.Default){return(Bi()||Ms)(pn(e),t)}function mn(e,t=kn.Default){return Jr(e,as(t))}function as(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function wo(e){const t=[];for(let r=0;r<e.length;r++){const o=pn(e[r]);if(Array.isArray(o)){if(0===o.length)throw new ct(900,!1);let a,d=kn.Default;for(let y=0;y<o.length;y++){const I=o[y],D=Yo(I);"number"==typeof D?-1===D?a=I.token:d|=D:a=I}t.push(Jr(a,d))}else t.push(Jr(o))}return t}function Ro(e,t){return e[Pe]=t,e.prototype[Pe]=t,e}function Yo(e){return e[Pe]}const xr=Ro(di("Optional"),8),po=Ro(di("SkipSelf"),4);function Is(e,t){return e.hasOwnProperty(he)?e[he]:null}function Xr(e,t){e.forEach(r=>Array.isArray(r)?Xr(r,t):t(r))}function Zr(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Ts(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Io(e,t,r){let o=js(e,t);return o>=0?e[1|o]=r:(o=~o,function hs(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Oi(e,t){const r=js(e,t);if(r>=0)return e[1|r]}function js(e,t){return function xo(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const d=o+(a-o>>1),y=e[d<<r];if(t===y)return d<<r;y>t?a=d:o=d+1}return~(a<<r)}(e,t,1)}const kr={},yr=[],Xi=new ve(""),na=new ve("",-1),Ns=new ve("");class Da{get(t,r=et){if(r===et){const o=new Error(`NullInjectorError: No provider for ${Le(t)}!`);throw o.name="NullInjectorError",o}return r}}function Vo(e,t){const r=e[B]||null;if(!r&&!0===t)throw new Error(`Type ${Le(e)} does not have '\u0275mod' property.`);return r}function _r(e){return e[Ui]||null}function W(e){return e[Lo]||null}function z(e){return e[no]||null}function we(e){const t=_r(e)||W(e)||z(e);return null!==t&&t.standalone}function Ce(e){return{\u0275providers:e}}function Rt(...e){return{\u0275providers:Wt(0,e),\u0275fromNgModule:!0}}function Wt(e,...t){const r=[],o=new Set;let a;const d=y=>{r.push(y)};return Xr(t,y=>{const I=y;dn(I,d,[],o)&&(a||=[],a.push(I))}),void 0!==a&&wn(a,d),r}function wn(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];Qn(a,d=>{t(d,o)})}}function dn(e,t,r,o){if(!(e=pn(e)))return!1;let a=null,d=an(e);const y=!d&&_r(e);if(d||y){if(y&&!y.standalone)return!1;a=e}else{const D=e.ngModule;if(d=an(D),!d)return!1;a=D}const I=o.has(a);if(y){if(I)return!1;if(o.add(a),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const k of D)dn(k,t,r,o)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let k;o.add(a);try{Xr(d.imports,$=>{dn($,t,r,o)&&(k||=[],k.push($))})}finally{}void 0!==k&&wn(k,t)}if(!I){const k=Is(a)||(()=>new a);t({provide:a,useFactory:k,deps:yr},a),t({provide:Ns,useValue:a,multi:!0},a),t({provide:Xi,useValue:()=>Jr(a),multi:!0},a)}const D=d.providers;if(null!=D&&!I){const k=e;Qn(D,$=>{t($,k)})}}}return a!==e&&void 0!==e.providers}function Qn(e,t){for(let r of e)so(r)&&(r=r.\u0275providers),Array.isArray(r)?Qn(r,t):t(r)}const Lr=$n({provide:String,useValue:$n});function yi(e){return null!==e&&"object"==typeof e&&Lr in e}function Ti(e){return"function"==typeof e}const Ri=new ve(""),co={},pi={};let bi;function To(){return void 0===bi&&(bi=new Da),bi}class ti{}class go extends ti{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,ro(t,y=>this.processProvider(y)),this.records.set(na,ps(void 0,this)),a.has("environment")&&this.records.set(ti,ps(void 0,this));const d=this.records.get(Ri);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Ns,yr,kn.Self))}retrieve(t,r){return this.get(t,r.optional?In:et,r)}destroy(){$s(this),this._destroyed=!0;const t=Ee(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(t)}}onDestroy(t){return $s(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){$s(this);const r=Jn(this),o=hi(void 0);try{return t()}finally{Jn(r),hi(o)}}get(t,r=et,o=kn.Default){if($s(this),t.hasOwnProperty(J))return t[J](this);o=as(o);const d=Jn(this),y=hi(void 0);try{if(!(o&kn.SkipSelf)){let D=this.records.get(t);if(void 0===D){const k=function Hs(e){return"function"==typeof e||"object"==typeof e&&e instanceof ve}(t)&&ht(t);D=k&&this.injectableDefInScope(k)?ps(Ko(t),co):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D,o)}return(o&kn.Self?To():this.parent).get(t,r=o&kn.Optional&&r===et?null:r)}catch(I){if("NullInjectorError"===I.name){if((I[Zt]=I[Zt]||[]).unshift(Le(t)),d)throw I;return function Po(e,t,r,o){const a=e[Zt];throw t[fo]&&a.unshift(t[fo]),e.message=function ws(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Le(t);if(Array.isArray(t))a=t.map(Le).join(" -> ");else if("object"==typeof t){let d=[];for(let y in t)if(t.hasOwnProperty(y)){let I=t[y];d.push(y+":"+("string"==typeof I?JSON.stringify(I):Le(I)))}a=`{${d.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(Vn,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[Zt]=null,e}(I,t,"R3InjectorError",this.source)}throw I}finally{hi(y),Jn(d)}}resolveInjectorInitializers(){const t=Ee(null),r=Jn(this),o=hi(void 0);try{const d=this.get(Xi,yr,kn.Self);for(const y of d)y()}finally{Jn(r),hi(o),Ee(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(Le(o));return`R3Injector[${t.join(", ")}]`}processProvider(t){let r=Ti(t=pn(t))?t:pn(t&&t.provide);const o=function da(e){return yi(e)?ps(void 0,e.useValue):ps(Aa(e),co)}(t);if(!Ti(t)&&!0===t.multi){let a=this.records.get(r);a||(a=ps(void 0,co,!0),a.factory=()=>wo(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r,o){const a=Ee(null);try{return r.value===pi?ii(Le(t)):r.value===co&&(r.value=pi,r.value=r.factory(void 0,o)),"object"==typeof r.value&&r.value&&function ha(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Ee(a)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=pn(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Ko(e){const t=ht(e),r=null!==t?t.factory:Is(e);if(null!==r)return r;if(e instanceof ve)throw new ct(204,!1);if(e instanceof Function)return function fs(e){if(e.length>0)throw new ct(204,!1);const r=function Ln(e){return e&&(e[Hn]||e[mi])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new ct(204,!1)}function Aa(e,t,r){let o;if(Ti(e)){const a=pn(e);return Is(a)||Ko(a)}if(yi(e))o=()=>pn(e.useValue);else if(function Fi(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...wo(e.deps||[]));else if(function fi(e){return!(!e||!e.useExisting)}(e))o=(a,d)=>Jr(pn(e.useExisting),void 0!==d&&d&kn.Optional?kn.Optional:void 0);else{const a=pn(e&&(e.useClass||e.provide));if(!function Fa(e){return!!e.deps}(e))return Is(a)||Ko(a);o=()=>new a(...wo(e.deps))}return o}function $s(e){if(e.destroyed)throw new ct(205,!1)}function ps(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function ro(e,t){for(const r of e)Array.isArray(r)?ro(r,t):r&&so(r)?ro(r.\u0275providers,t):t(r)}function xs(e,t){let r;e instanceof go?($s(e),r=e):r=new dt(e);const a=Jn(r),d=hi(void 0);try{return t()}finally{Jn(a),hi(d)}}function ci(){return void 0!==Bi()||null!=On()}function ko(e){if(!ci())throw new ct(-203,!1)}const Gr=0,Yt=1,nr=2,ui=3,Uo=4,ji=5,Qo=6,Jo=7,Ur=8,R=9,P=10,j=11,be=12,Mt=13,Dn=14,ar=15,Li=16,$i=17,bo=18,Ks=19,Ra=20,Rn=26,ga=1,Pa=9,Pi=10;function Zi(e){return Array.isArray(e)&&"object"==typeof e[ga]}function Di(e){return Array.isArray(e)&&!0===e[ga]}function Oc(e){return!!(4&e.flags)}function Hi(e){return e.componentOffset>-1}function Xa(e){return!(1&~e.flags)}function Xo(e){return!!e.template}function qs(e){return!!(512&e[nr])}function l(e){return!(256&~e[nr])}class ya{previousValue;currentValue;firstChange;constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Zo(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}const Cs=(()=>{const e=()=>Za;return e.ngInherit=!0,e})();function Za(e){return e.type.prototype.ngOnChanges&&(e.setInput=Lc),Ai}function Ai(){const e=Ya(this),t=e?.current;if(t){const r=e.previous;if(r===kr)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Lc(e,t,r,o,a){const d=this.declaredInputs[o],y=Ya(e)||function xl(e,t){return e[ra]=t}(e,{previous:kr,current:null}),I=y.current||(y.current={}),D=y.previous,k=D[d];I[d]=new ya(k&&k.currentValue,r,D===kr),Zo(e,t,a,r)}const ra="__ngSimpleChanges__";function Ya(e){return e[ra]||null}const _n=function(e,t=null,r){},or="svg";function ur(e){for(;Array.isArray(e);)e=e[Gr];return e}function $o(e,t){return ur(t[e])}function Wi(e,t){return ur(t[e.index])}function ia(e,t){return e.data[t]}function Fs(e,t){return e[t]}function Ao(e,t){const r=t[e];return Zi(r)?r:r[Gr]}function Ji(e){return!(128&~e[nr])}function oa(e,t){return null==t?null:e[t]}function Gu(e){e[$i]=0}function Vc(e){1024&e[nr]||(e[nr]|=1024,Ji(e)&&_c(e))}function lu(e){return!!(9216&e[nr]||e[24]?.dirty)}function ih(e){e[P].changeDetectionScheduler?.notify(8),64&e[nr]&&(e[nr]|=1024),lu(e)&&_c(e)}function _c(e){e[P].changeDetectionScheduler?.notify(0);let t=sa(e);for(;null!==t&&!(8192&t[nr])&&(t[nr]|=8192,Ji(t));)t=sa(t)}function Ja(e,t){if(l(e))throw new ct(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function sa(e){const t=e[ui];return Di(t)?t[ui]:t}function vc(e){return e[Jo]??=[]}function kl(e){return e.cleanup??=[]}const Ir={lFrame:Xu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Fl=!1;function Tf(){return Ir.bindingsEnabled}function Ct(){return Ir.lFrame.lView}function vr(){return Ir.lFrame.tView}function Ec(e){return Ir.lFrame.contextLView=e,e[Ur]}function aa(e){return Ir.lFrame.contextLView=null,e}function Br(){let e=bf();for(;null!==e&&64===e.type;)e=e.parent;return e}function bf(){return Ir.lFrame.currentTNode}function Qs(e,t){const r=Ir.lFrame;r.currentTNode=e,r.isParent=t}function Vl(){return Ir.lFrame.isParent}function Ul(){Ir.lFrame.isParent=!1}function wg(){return Fl}function Bc(e){const t=Fl;return Fl=e,t}function bs(){const e=Ir.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Xs(){return Ir.lFrame.bindingIndex++}function va(e){const t=Ir.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Tg(e,t){const r=Ir.lFrame;r.bindingIndex=r.bindingRootIndex=e,Ba(t)}function Ba(e){Ir.lFrame.currentDirectiveIndex=e}function hu(e){const t=Ir.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Qu(){return Ir.lFrame.currentQueryIndex}function jl(e){Ir.lFrame.currentQueryIndex=e}function ec(e){const t=e[Yt];return 2===t.type?t.declTNode:1===t.type?e[ji]:null}function $l(e,t,r){if(r&kn.SkipSelf){let a=t,d=e;for(;!(a=a.parent,null!==a||r&kn.Host||(a=ec(d),null===a||(d=d[Dn],10&a.type))););if(null===a)return!1;t=a,e=d}const o=Ir.lFrame=Sf();return o.currentTNode=t,o.lView=e,!0}function Hl(e){const t=Sf(),r=e[Yt];Ir.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Sf(){const e=Ir.lFrame,t=null===e?null:e.child;return null===t?Xu(e):t}function Xu(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ja(){const e=Ir.lFrame;return Ir.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const jc=ja;function tc(){const e=ja();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ds(){return Ir.lFrame.selectedIndex}function nc(e){Ir.lFrame.selectedIndex=e}function Ci(){const e=Ir.lFrame;return ia(e.tView,e.selectedIndex)}function Rf(){Ir.lFrame.currentNamespace=or}function ah(){!function Wl(){Ir.lFrame.currentNamespace=null}()}let Hc=!0;function rc(){return Hc}function $a(e){Hc=e}function ic(e,t){for(let r=t.directiveStart,o=t.directiveEnd;r<o;r++){const d=e.data[r].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:D,ngAfterViewChecked:k,ngOnDestroy:$}=d;y&&(e.contentHooks??=[]).push(-r,y),I&&((e.contentHooks??=[]).push(r,I),(e.contentCheckHooks??=[]).push(r,I)),D&&(e.viewHooks??=[]).push(-r,D),k&&((e.viewHooks??=[]).push(r,k),(e.viewCheckHooks??=[]).push(r,k)),null!=$&&(e.destroyHooks??=[]).push(r,$)}}function Kl(e,t,r){Pf(e,t,3,r)}function Zu(e,t,r,o){(3&e[nr])===r&&Pf(e,t,r,o)}function Yu(e,t){let r=e[nr];(3&r)===t&&(r&=16383,r+=1,e[nr]=r)}function Pf(e,t,r,o){const d=o??-1,y=t.length-1;let I=0;for(let D=void 0!==o?65535&e[$i]:0;D<y;D++)if("number"==typeof t[D+1]){if(I=t[D],null!=o&&I>=o)break}else t[D]<0&&(e[$i]+=65536),(I<d||-1==d)&&(Ju(e,r,t,D),e[$i]=(4294901760&e[$i])+D+2),D++}function Mf(e,t){_n(4,e,t);const r=Ee(null);try{t.call(e)}finally{Ee(r),_n(5,e,t)}}function Ju(e,t,r,o){const a=r[o]<0,d=r[o+1],I=e[a?-r[o]:r[o]];a?e[nr]>>14<e[$i]>>16&&(3&e[nr])===t&&(e[nr]+=16384,Mf(I,d)):Mf(I,d)}const Zs=-1;class Ea{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,r,o){this.factory=t,this.canSeeViewProviders=r,this.injectImpl=o}}function uh(e){return 3===e||4===e||6===e}function Ql(e){return 64===e.charCodeAt(0)}function Tc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||lh(e,r,a,0,-1===r||2===r?t[++o]:null)}}return e}function lh(e,t,r,o,a){let d=0,y=e.length;if(-1===t)y=-1;else for(;d<e.length;){const I=e[d++];if("number"==typeof I){if(I===t){y=-1;break}if(I>t){y=d-1;break}}}for(;d<e.length;){const I=e[d];if("number"==typeof I)break;if(I===r)return void(null!==a&&(e[d+1]=a));d++,null!==a&&d++}-1!==y&&(e.splice(y,0,t),d=y+1),e.splice(d++,0,r),null!==a&&e.splice(d++,0,a)}function bc(e){return e!==Zs}function tl(e){return 32767&e}function fu(e,t){let r=function dh(e){return e>>16}(e),o=t;for(;r>0;)o=o[Dn],r--;return o}let pu=!0;function Xl(e){const t=pu;return pu=e,t}const Wc=255,gu=5;let mu=0;const Na={};function yu(e,t){const r=hh(e,t);if(-1!==r)return r;const o=t[Yt];o.firstCreatePass&&(e.injectorIndex=t.length,es(o.data,e),es(t,null),es(o.blueprint,null));const a=oc(e,t),d=e.injectorIndex;if(bc(a)){const y=tl(a),I=fu(a,t),D=I[Yt].data;for(let k=0;k<8;k++)t[d+k]=I[y+k]|D[y+k]}return t[d+8]=a,d}function es(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function oc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=mh(a),null===o)return Zs;if(r++,a=a[Dn],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Zs}function _u(e,t,r){!function Ff(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(K)&&(o=r[K]),null==o&&(o=r[K]=mu++);const a=o&Wc;t.data[e+(a>>gu)]|=1<<a}(e,t,r)}function Ha(e,t,r){if(r&kn.Optional||void 0!==e)return e;gr()}function Dc(e,t,r,o){if(r&kn.Optional&&void 0===o&&(o=null),!(r&(kn.Self|kn.Host))){const a=e[R],d=hi(void 0);try{return a?a.get(t,o,r&kn.Optional):Eo(t,o,r&kn.Optional)}finally{hi(d)}}return Ha(o,0,r)}function Vf(e,t,r,o=kn.Default,a){if(null!==e){if(2048&t[nr]&&!(o&kn.Self)){const y=function Jl(e,t,r,o,a){let d=e,y=t;for(;null!==d&&null!==y&&2048&y[nr]&&!qs(y);){const I=Gc(d,y,r,o|kn.Self,Na);if(I!==Na)return I;let D=d.parent;if(!D){const k=y[Ra];if(k){const $=k.get(r,Na,o);if($!==Na)return $}D=mh(y),y=y[Dn]}d=D}return a}(e,t,r,o,Na);if(y!==Na)return y}const d=Gc(e,t,r,o,Na);if(d!==Na)return d}return Dc(t,r,o,a)}function Gc(e,t,r,o,a){const d=function ac(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(K)?e[K]:void 0;return"number"==typeof t?t>=0?t&Wc:bg:t}(r);if("function"==typeof d){if(!$l(t,e,o))return o&kn.Host?Ha(a,0,o):Dc(t,r,o,a);try{let y;if(y=d(o),null!=y||o&kn.Optional)return y;gr()}finally{jc()}}else if("number"==typeof d){let y=null,I=hh(e,t),D=Zs,k=o&kn.Host?t[ar][ji]:null;for((-1===I||o&kn.SkipSelf)&&(D=-1===I?oc(e,t):t[I+8],D!==Zs&&ph(o,!1)?(y=t[Yt],I=tl(D),t=fu(D,t)):I=-1);-1!==I;){const $=t[Yt];if(Zl(d,I,$.data)){const X=fh(I,t,r,y,o,k);if(X!==Na)return X}D=t[I+8],D!==Zs&&ph(o,t[Yt].data[I+8]===k)&&Zl(d,I,t)?(y=$,I=tl(D),t=fu(D,t)):I=-1}}return a}function fh(e,t,r,o,a,d){const y=t[Yt],I=y.data[e+8],$=za(I,y,r,null==o?Hi(I)&&pu:o!=y&&!!(3&I.type),a&kn.Host&&d===I);return null!==$?sc(t,y,$,I,a):Na}function za(e,t,r,o,a){const d=e.providerIndexes,y=t.data,I=1048575&d,D=e.directiveStart,$=d>>20,Ie=a?I+$:e.directiveEnd;for(let ce=o?I:I+$;ce<Ie;ce++){const ze=y[ce];if(ce<D&&r===ze||ce>=D&&ze.type===r)return ce}if(a){const ce=y[D];if(ce&&Xo(ce)&&ce.type===r)return D}return null}function sc(e,t,r,o,a){let d=e[r];const y=t.data;if(d instanceof Ea){const I=d;I.resolving&&ii(function It(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Re(e)}(y[r]));const D=Xl(I.canSeeViewProviders);I.resolving=!0;const $=I.injectImpl?hi(I.injectImpl):null;$l(e,o,kn.Default);try{d=e[r]=I.factory(void 0,a,y,e,o),t.firstCreatePass&&r>=o.directiveStart&&function Ic(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:d}=t.type.prototype;if(o){const y=Za(t);(r.preOrderHooks??=[]).push(e,y),(r.preOrderCheckHooks??=[]).push(e,y)}a&&(r.preOrderHooks??=[]).push(0-e,a),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}(r,y[r],t)}finally{null!==$&&hi($),Xl(D),I.resolving=!1,jc()}}return d}function Zl(e,t,r){return!!(r[t+(e>>gu)]&1<<e)}function ph(e,t){return!(e&kn.Self||e&kn.Host&&t)}class Fo{_tNode;_lView;constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Vf(this._tNode,this._lView,t,as(o),r)}}function bg(){return new Fo(Br(),Ct())}function Yl(e){return Tr(()=>{const t=e.prototype.constructor,r=t[he]||gh(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const d=a[he]||gh(a);if(d&&d!==r)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function gh(e){return fr(e)?()=>{const t=gh(pn(e));return t&&t()}:Is(e)}function mh(e){const t=e[Yt],r=t.type;return 2===r?t.declTNode:1===r?e[ji]:null}function b(e){return function Lf(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const d=r[a];if(uh(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(d===t)return r[a+1];a+=2}}}return null}(Br(),e)}function qc(e,t=null,r=null,o){const a=ed(e,t,r,o);return a.resolveInjectorInitializers(),a}function ed(e,t=null,r=null,o,a=new Set){const d=[r||yr,Rt(e)];return o=o||("object"==typeof e?void 0:Le(e)),new go(d,t||To(),o||null,a)}class ms{static THROW_IF_NOT_FOUND=et;static NULL=new Da;static create(t,r){if(Array.isArray(t))return qc({name:""},r,t,"");{const o=t.name??"";return qc({name:o},t.parent,t.providers,o)}}static \u0275prov=Oe({token:ms,providedIn:"any",factory:()=>Jr(na)});static __NG_ELEMENT_ID__=-1}new ve("").__NG_ELEMENT_ID__=e=>{const t=Br();if(null===t)throw new ct(204,!1);if(2&t.type)return t.value;if(e&kn.Optional)return null;throw new ct(204,!1)};const vu=!1;let Ls=(()=>class e{static __NG_ELEMENT_ID__=Uf;static __NG_ENV_ID__=r=>r})();class yh extends Ls{_lView;constructor(t){super(),this._lView=t}onDestroy(t){const r=this._lView;return l(r)?(t(),()=>{}):(Ja(r,t),()=>function Uc(e,t){if(null===e[21])return;const r=e[21].indexOf(t);-1!==r&&e[21].splice(r,1)}(r,t))}}function Uf(){return new yh(Ct())}class ys{}const Qc=new ve("",{providedIn:"root",factory:()=>!1}),Bf=new ve(""),jf=new ve("");let Xc=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new wi.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})(),rl=(()=>{class e{internalPendingTasks=mn(Xc);scheduler=mn(ys);add(){const r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r))}}run(r){var o=this;return(0,T.A)(function*(){const a=o.add();try{return yield r()}finally{a()}})()}static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})();const uc=class $f extends ln.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,ci()&&(this.destroyRef=mn(Ls,{optional:!0})??void 0,this.pendingTasks=mn(Xc,{optional:!0})??void 0)}emit(t){const r=Ee(null);try{super.next(t)}finally{Ee(r)}}subscribe(t,r,o){let a=t,d=r||(()=>null),y=o;if(t&&"object"==typeof t){const D=t;a=D.next?.bind(D),d=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(d=this.wrapInTimeout(d),a&&(a=this.wrapInTimeout(a)),y&&(y=this.wrapInTimeout(y)));const I=super.subscribe({next:a,error:d,complete:y});return t instanceof dr.yU&&t.add(I),I}wrapInTimeout(t){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{try{t(r)}finally{void 0!==o&&this.pendingTasks?.remove(o)}})}}};function il(...e){}function Ky(e){let t,r;function o(){e=il;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Cg(e){return queueMicrotask(()=>e()),()=>{e=il}}const Sg="isAngularZone",Hf=Sg+"_ID";let Qy=0;class yo{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new uc(!1);onMicrotaskEmpty=new uc(!1);onStable=new uc(!1);onError=new uc(!1);constructor(t){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:d=vu}=t;if(typeof Zone>"u")throw new ct(908,!1);Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!a&&o,y.shouldCoalesceRunChangeDetection=a,y.callbackScheduled=!1,y.scheduleInRootZone=d,function CE(e){const t=()=>{!function Xy(e){function t(){Ky(()=>{e.callbackScheduled=!1,zf(e),e.isCheckStableRunning=!0,Pg(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),zf(e))}(e)},r=Qy++;e._inner=e._inner.fork({name:"angular",properties:{[Sg]:!0,[Hf]:r,[Hf+r]:!0},onInvokeTask:(o,a,d,y,I,D)=>{if(function Mg(e){return Ng(e,"__ignore_ng_zone__")}(D))return o.invokeTask(d,y,I,D);try{return Zy(e),o.invokeTask(d,y,I,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||e.shouldCoalesceRunChangeDetection)&&t(),ol(e)}},onInvoke:(o,a,d,y,I,D,k)=>{try{return Zy(e),o.invoke(d,y,I,D,k)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Wf(e){return Ng(e,"__scheduler_tick__")}(D)&&t(),ol(e)}},onHasTask:(o,a,d,y)=>{o.hasTask(d,y),a===d&&("microTask"==y.change?(e._hasPendingMicrotasks=y.microTask,zf(e),Pg(e)):"macroTask"==y.change&&(e.hasPendingMacrotasks=y.macroTask))},onHandleError:(o,a,d,y)=>(o.handleError(d,y),e.runOutsideAngular(()=>e.onError.emit(y)),!1)})}(y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Sg)}static assertInAngularZone(){if(!yo.isInAngularZone())throw new ct(909,!1)}static assertNotInAngularZone(){if(yo.isInAngularZone())throw new ct(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const d=this._inner,y=d.scheduleEventTask("NgZoneEvent: "+a,t,Rg,il,il);try{return d.runTask(y,r,o)}finally{d.cancelTask(y)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const Rg={};function Pg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function zf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Zy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ol(e){e._nesting--,Pg(e)}class Eu{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new uc;onMicrotaskEmpty=new uc;onStable=new uc;onError=new uc;run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function Ng(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class lc{_console=console;handleError(t){this._console.error("ERROR",t)}}const SE=new ve("",{providedIn:"root",factory:()=>{const e=mn(yo),t=mn(lc);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function xg(e,t){return li(e,t)}const t_=(xg.required=function e_(e){return li(Gt,e)},xg);function n_(){return sl(Br(),Ct())}function sl(e,t){return new al(Wi(e,t))}let al=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=n_})();function dc(e){return e instanceof al?e.nativeElement:e}function Zc(e,t){const r=function ue(e,t){const r=Object.create(Ge);r.value=e,void 0!==t&&(r.equal=t);const o=()=>(Je(r),r.value);return o[qe]=r,o}(e,t?.equal),o=r[qe];return r.set=a=>ge(o,a),r.update=a=>function te(e,t){Ut()||St(e),ge(e,t(e.value))}(o,a),r.asReadonly=td.bind(r),r}function td(){const e=this[qe];if(void 0===e.readonlyFn){const t=()=>this();t[qe]=e,e.readonlyFn=t}return e.readonlyFn}function qf(e){return function _h(e){return"function"==typeof e&&void 0!==e[qe]}(e)&&"function"==typeof e.set}function kg(){return this._results[Symbol.iterator]()}class r_{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ln.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function ao(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Wr(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],d=t[o];if(r&&(a=r(a),d=r(d)),d!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=kg}function cl(e){return!(128&~e.flags)}var Xf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Xf||{});const Zf=new Map;let Ys=0;function ll(e){Zf.delete(e[Ks])}const Lg="__ngContext__";function wa(e,t){Zi(t)?(e[Lg]=t[Ks],function s_(e){Zf.set(e[Ks],e)}(t)):e[Lg]=t}function Jc(e){return d_(e[be])}function jg(e){return d_(e[Uo])}function d_(e){for(;null!==e&&!Di(e);)e=e[Uo];return e}let ip;function xE(e){ip=e}function Wa(){if(void 0!==ip)return ip;if(typeof document<"u")return document;throw new ct(210,!1)}const wu=new ve("",{providedIn:"root",factory:()=>Gg}),Gg="ng",Kg=new ve(""),qg=new ve("",{providedIn:"platform",factory:()=>"unknown"}),Qg=new ve(""),g_=new ve("",{providedIn:"root",factory:()=>Wa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),y_=new ve("",{providedIn:"root",factory:()=>!1});var sm=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(sm||{});const ld=new ve(""),__=new Set;function Ta(e){__.has(e)||(__.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let cp=(()=>class e{view;node;constructor(r,o){this.view=r,this.node=o}static __NG_ELEMENT_ID__=am})();function am(){return new cp(Ct(),Br())}var pl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(pl||{});let Sh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})();const up=[pl.EarlyRead,pl.Write,pl.MixedReadWrite,pl.Read];let lp=(()=>{class e{ngZone=mn(yo);scheduler=mn(ys);errorHandler=mn(lc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){mn(ld,{optional:!0})}execute(){const r=this.sequences.size>0;r&&_n(16),this.executing=!0;for(const o of up)for(const a of this.sequences)if(!a.erroredOrDestroyed&&a.hooks[o])try{a.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,a.hooks[o])(a.pipelinedValue),a.snapshot))}catch(d){a.erroredOrDestroyed=!0,this.errorHandler?.handleError(d)}this.executing=!1;for(const o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(const o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&_n(17)}register(r){const{view:o}=r;void 0!==o?((o[25]??=[]).push(r),_c(o),o[nr]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,o){return o?o.run(sm.AFTER_NEXT_RENDER,r):r()}static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})();class E_{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,r,o,a,d,y=null){this.impl=t,this.hooks=r,this.view=o,this.once=a,this.snapshot=y,this.unregisterOnDestroy=d?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(r=>r!==this))}}function cm(e,t){!t?.injector&&ko();const r=t?.injector??mn(ms);return Ta("NgAfterNextRender"),function w_(e,t,r,o){const a=t.get(Sh);a.impl??=t.get(lp);const d=t.get(ld,null,{optional:!0}),y=r?.phase??pl.MixedReadWrite,I=!0!==r?.manualCleanup?t.get(Ls):null,D=t.get(cp,null,{optional:!0}),k=new E_(a.impl,function um(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,y),D?.view,o,I,d?.snapshot(null));return a.impl.register(k),k}(e,r,t,!0)}let Fh=(e,t,r,o)=>{};function ZE(e,t){const r=e.contentQueries;if(null!==r){const o=Ee(null);try{for(let a=0;a<r.length;a+=2){const y=r[a+1];if(-1!==y){const I=e.data[y];jl(r[a]),I.contentQueries(2,t[y],y)}}}finally{Ee(o)}}}function z_(e,t,r){jl(0);const o=Ee(null);try{t(e,r)}finally{Ee(o)}}function $h(e,t,r){if(Oc(t)){const o=Ee(null);try{const d=t.directiveEnd;for(let y=t.directiveStart;y<d;y++){const I=e.data[y];I.contentQueries&&I.contentQueries(1,r[y],y)}}finally{Ee(o)}}}var Rc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Rc||{});let Rm,Pm;function Hh(e){return function YE(){if(void 0===Rm&&(Rm=null,bn.trustedTypes))try{Rm=bn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Rm}()?.createHTML(e)||e}function W_(){if(void 0===Pm&&(Pm=null,bn.trustedTypes))try{Pm=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pm}function JE(e){return W_()?.createHTML(e)||e}function G_(e){return W_()?.createScriptURL(e)||e}class xa{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mr})`}}class ml extends xa{getTypeName(){return"HTML"}}class ET extends xa{getTypeName(){return"Style"}}class Td extends xa{getTypeName(){return"Script"}}class Mm extends xa{getTypeName(){return"URL"}}class Ip extends xa{getTypeName(){return"ResourceURL"}}function nu(e){return e instanceof xa?e.changingThisBreaksApplicationSecurity:e}function bd(e,t){const r=function K_(e){return e instanceof xa&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Mr})`)}return r===t}function q_(e){return new ml(e)}function Tp(e){return new ET(e)}function ew(e){return new Td(e)}function yl(e){return new Mm(e)}function bp(e){return new Ip(e)}class Q_{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Hh(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.firstChild?.remove(),r)}catch{return null}}}class Nm{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Hh(t),r}}const km=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ad(e){return(e=String(e)).match(km)?e:"unsafe:"+e}function gc(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function _l(...e){const t={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(t[o]=!0);return t}const Om=gc("area,br,col,hr,img,wbr"),Cu=gc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fm=gc("rp,rt"),Lm=_l(Om,_l(Cu,gc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_l(Fm,gc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_l(Fm,Cu)),Cd=gc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sd=_l(Cd,gc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rw=gc("script,style,template");class Ap{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let r=t.firstChild,o=!0,a=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)a.push(r),r=zh(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let d=Um(r);if(d){r=d;break}r=a.pop()}return this.buf.join("")}startElement(t){const r=Y_(t).toLowerCase();if(!Lm.hasOwnProperty(r))return this.sanitizedSomething=!0,!rw.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=t.attributes;for(let a=0;a<o.length;a++){const d=o.item(a),y=d.name,I=y.toLowerCase();if(!Sd.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let D=d.value;Cd[I]&&(D=Ad(D)),this.buf.push(" ",y,'="',ow(D),'"')}return this.buf.push(">"),!0}endElement(t){const r=Y_(t).toLowerCase();Lm.hasOwnProperty(r)&&!Om.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(ow(t))}}function Um(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Rd(t);return t}function zh(e){const t=e.firstChild;if(t&&function Z_(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Rd(t);return t}function Y_(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Rd(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const iw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pd=/([^\#-~ |!])/g;function ow(e){return e.replace(/&/g,"&amp;").replace(iw,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Pd,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bm;function Cp(e,t){let r=null;try{Bm=Bm||function Dd(e){const t=new Nm(e);return function xm(){try{return!!(new window.DOMParser).parseFromString(Hh(""),"text/html")}catch{return!1}}()?new Q_(t):t}(e);let o=t?String(t):"";r=Bm.getInertBodyElement(o);let a=5,d=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=d,d=r.innerHTML,r=Bm.getInertBodyElement(o)}while(o!==d);return Hh((new Ap).sanitizeChildren(jm(r)||r))}finally{if(r){const o=jm(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function jm(e){return"content"in e&&function Sp(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Md=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Md||{});function sw(e){const t=Nd();return t?JE(t.sanitize(Md.HTML,e)||""):bd(e,"HTML")?JE(nu(e)):Cp(Wa(),Re(e))}function J_(e){const t=Nd();return t?t.sanitize(Md.URL,e)||"":bd(e,"URL")?nu(e):Ad(Re(e))}function aw(e){const t=Nd();if(t)return G_(t.sanitize(Md.RESOURCE_URL,e)||"");if(bd(e,"ResourceURL"))return G_(nu(e));throw new ct(904,!1)}function $m(e,t,r){return function ev(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?aw:J_}(t,r)(e)}function Nd(){const e=Ct();return e&&e[P].sanitizer}const tv=/^>|^->|<!--|-->|--!>|<!-$/g,Mp=/(<|>)/g;function ru(e){return e instanceof Function?e():e}function kT(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=t.length;if(a+d===o||e.charCodeAt(a+d)<=32)return a}r=a+1}}const av="ng-template";function yw(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==kT(t[a+1].toLowerCase(),r,0))return!0}else if(zm(e))return!1;if(a=t.indexOf(1,a),a>-1){let d;for(;++a<t.length&&"string"==typeof(d=t[a]);)if(d.toLowerCase()===r)return!0}return!1}function zm(e){return 4===e.type&&e.value!==av}function OT(e,t,r){return t===(4!==e.type||r?e.value:av)}function _w(e,t,r){let o=4;const a=e.attrs,d=null!==a?function FT(e){for(let t=0;t<e.length;t++)if(uh(e[t]))return t;return e.length}(a):0;let y=!1;for(let I=0;I<t.length;I++){const D=t[I];if("number"!=typeof D){if(!y)if(4&o){if(o=2|1&o,""!==D&&!OT(e,D,r)||""===D&&1===t.length){if(mc(o))return!1;y=!0}}else if(8&o){if(null===a||!yw(e,a,D,r)){if(mc(o))return!1;y=!0}}else{const k=t[++I],$=Ru(D,a,zm(e),r);if(-1===$){if(mc(o))return!1;y=!0;continue}if(""!==k){let X;if(X=$>d?"":a[$+1].toLowerCase(),2&o&&k!==X){if(mc(o))return!1;y=!0}}}}else{if(!y&&!mc(o)&&!mc(D))return!1;if(y&&mc(D))continue;y=!1,o=D|1&o}}return mc(o)||y}function mc(e){return!(1&e)}function Ru(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let d=!1;for(;a<t.length;){const y=t[a];if(y===e)return a;if(3===y||6===y)d=!0;else{if(1===y||2===y){let I=t[++a];for(;"string"==typeof I;)I=t[++a];continue}if(4===y)break;if(0===y){a+=4;continue}}a+=d?1:2}return-1}return function LT(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function cv(e,t,r=!1){for(let o=0;o<t.length;o++)if(_w(e,t[o],r))return!0;return!1}function Ew(e,t){return e?":not("+t.trim()+")":t}function UT(e){let t=e[0],r=1,o=2,a="",d=!1;for(;r<e.length;){let y=e[r];if("string"==typeof y)if(2&o){const I=e[++r];a+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&o?a+="."+y:4&o&&(a+=" "+y);else""!==a&&!mc(y)&&(t+=Ew(d,a),a=""),o=y,d=d||!mc(o);r++}return""!==a&&(t+=Ew(d,a)),t}const Or={};function Gm(e,t){return e.createComment(function dw(e){return e.replace(tv,t=>t.replace(Mp,"\u200b$1\u200b"))}(t))}function Km(e,t,r){return e.createElement(t,r)}function Fd(e,t,r,o,a){e.insertBefore(t,r,o,a)}function ww(e,t,r){e.appendChild(t,r)}function Iw(e,t,r,o,a){null!==o?Fd(e,t,r,o,a):ww(e,t,r)}function Tw(e,t,r){const{mergedAttrs:o,classes:a,styles:d}=r;null!==o&&function ch(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const d=r[o++],y=r[o++],I=r[o++];e.setAttribute(t,y,I,d)}else{const d=a,y=r[++o];Ql(d)?e.setProperty(t,d,y):e.setAttribute(t,d,y),o++}}}(e,t,o),null!==a&&function HT(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}(e,t,a),null!==d&&function $T(e,t,r){e.setAttribute(t,"style",r)}(e,t,d)}function Gh(e,t,r,o,a,d,y,I,D,k,$){const X=Rn+o,Ie=X+a,ce=function xp(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:Or);return r}(X,Ie),ze="function"==typeof k?k():k;return ce[Yt]={type:e,blueprint:ce,template:r,queries:null,viewQuery:I,declTNode:t,data:ce.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:Ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:ze,incompleteFirstPass:!1,ssrId:$}}function n(e,t,r,o,a,d,y,I,D,k,$){const X=t.blueprint.slice();return X[Gr]=a,X[nr]=1228|o,(null!==k||e&&2048&e[nr])&&(X[nr]|=2048),Gu(X),X[ui]=X[Dn]=e,X[Ur]=r,X[P]=y||e&&e[P],X[j]=I||e&&e[j],X[R]=D||e&&e[R]||null,X[ji]=d,X[Ks]=function RE(){return Ys++}(),X[Qo]=$,X[Ra]=k,X[ar]=2==t.type?e[ar]:X,X}function s(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function u(e,t,r,o){if(0===r)return-1;const a=t.length;for(let d=0;d<r;d++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function g(e,t){return e[be]?e[Mt][Uo]=t:e[be]=t,e[Mt]=t,t}function E(e=1){C(vr(),Ct(),Ds()+e,!1)}function C(e,t,r,o){if(!o)if(3&~t[nr]){const d=e.preOrderHooks;null!==d&&Zu(t,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&Kl(t,d,r)}nc(r)}var M=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(M||{});function L(e,t,r,o){const a=Ee(null);try{const[d,y,I]=e.inputs[r];let D=null;!!(y&M.SignalBased)&&(D=t[d][qe]),null!==D&&void 0!==D.transformFn?o=D.transformFn(o):null!==I&&(o=I.call(t,o)),null!==e.setInput?e.setInput(t,D,o,r,d):Zo(t,D,d,o)}finally{Ee(a)}}function Q(e,t,r,o,a){const d=Ds(),y=2&o;try{nc(-1),y&&t.length>Rn&&C(e,t,Rn,!1),_n(y?2:0,a),r(o,a)}finally{nc(d),_n(y?3:1,a)}}function oe(e,t,r){(function rt(e,t,r){const o=r.directiveStart,a=r.directiveEnd;Hi(r)&&function i(e,t,r){const o=Wi(t,e),a=function c(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(r),d=e[P].rendererFactory,y=g(e,n(e,a,null,s(r),o,t,null,d.createRenderer(o,r),null,null,null));e[t.index]=y}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||yu(r,t);const d=r.initialInputs;for(let y=o;y<a;y++){const I=e.data[y],D=sc(t,e,y,r);wa(D,t),null!==d&&Be(0,y-o,D,I,0,d),Xo(I)&&(Ao(r.index,t)[Ur]=sc(t,e,y,r))}})(e,t,r),!(64&~r.flags)&&function Ne(e,t,r){const o=r.directiveStart,a=r.directiveEnd,d=r.index,y=function wc(){return Ir.lFrame.currentDirectiveIndex}();try{nc(d);for(let I=o;I<a;I++){const D=e.data[I],k=t[I];Ba(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&$e(D,k)}}finally{nc(-1),Ba(y)}}(e,t,r)}function xe(e,t,r=Wi){const o=t.localNames;if(null!==o){let a=t.index+1;for(let d=0;d<o.length;d+=2){const y=o[d+1],I=-1===y?r(t,e):e[y];e[a++]=I}}}let cn=()=>null;function Mn(e,t,r,o,a,d,y,I){if(I||!wl(t,e,r,o,a)){if(3&t.type){const D=Wi(t,r);o=function rr(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=y?y(a,t.value||"",o):a,d.setProperty(D,o,a)}}else Hi(t)&&function Fr(e,t){const r=Ao(t,e);16&r[nr]||(r[nr]|=64)}(r,t.index)}function $e(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function it(e,t){const r=e.directiveRegistry;let o=null;if(r)for(let a=0;a<r.length;a++){const d=r[a];cv(t,d.selectors,!1)&&(o??=[],Xo(d)?o.unshift(d):o.push(d))}return o}function at(e,t,r,o,a,d){const y=Wi(e,t);!function Tt(e,t,r,o,a,d,y){if(null==d)e.removeAttribute(t,a,r);else{const I=null==y?Re(d):y(d,o||"",a);e.setAttribute(t,a,I,r)}}(t[j],y,d,e.value,r,o,a)}function Be(e,t,r,o,a,d){const y=d[t];if(null!==y)for(let I=0;I<y.length;I+=2)L(o,r,y[I],y[I+1])}function Vd(e,t,r){return(null===e||Xo(e))&&(r=function Os(e){for(;Array.isArray(e);){if("object"==typeof e[ga])return e;e=e[Gr]}return null}(r[t.index])),r[j]}function wl(e,t,r,o,a){const d=e.inputs?.[o],y=e.hostDirectiveInputs?.[o];let I=!1;if(y)for(let D=0;D<y.length;D+=2){const k=y[D];L(t.data[k],r[k],y[D+1],a),I=!0}if(d)for(const D of d)L(t.data[D],r[D],o,a),I=!0;return I}function Kh(e,t){const r=Ao(t,e),o=r[Yt];!function Xm(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[Gr];null!==a&&null===r[Qo]&&(r[Qo]=null),_n(18),qh(o,r,r[Ur]),_n(19,r[Ur])}function qh(e,t,r){Hl(t);try{const o=e.viewQuery;null!==o&&z_(1,o,r);const a=e.template;null!==a&&Q(e,t,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[bo]?.finishViewCreation(e),e.staticContentQueries&&ZE(e,t),e.staticViewQueries&&z_(2,e.viewQuery,r);const d=e.components;null!==d&&function bw(e,t){for(let r=0;r<t.length;r++)Kh(e,t[r])}(t,d)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[nr]&=-5,tc()}}function ns(e,t){return!t||null===t.firstChild||cl(e)}function Il(e,t){return undefined(e,t)}var Mu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Mu||{});function Nu(e){return!(32&~e.flags)}function Ud(e,t,r,o,a){if(null!=o){let d,y=!1;Di(o)?d=o:Zi(o)&&(y=!0,o=o[Gr]);const I=ur(o);0===e&&null!==r?null==a?ww(t,r,I):Fd(t,r,I,a||null,!0):1===e&&null!==r?Fd(t,r,I,a||null,!0):2===e?function Ld(e,t,r){e.removeChild(null,t,r)}(t,I,y):3===e&&t.destroyNode(I),null!=d&&function hv(e,t,r,o,a){const d=r[7];d!==ur(r)&&Ud(t,e,o,d,a);for(let I=Pi;I<r.length;I++){const D=r[I];Yh(D[Yt],D,e,t,o,d)}}(t,e,d,r,a)}}function Op(e,t){t[P].changeDetectionScheduler?.notify(9),Yh(e,t,t[j],2,null,null)}function Xh(e,t){const r=e[Pa],o=r.indexOf(t);r.splice(o,1)}function Tl(e,t){if(l(t))return;const r=t[j];r.destroyNode&&Yh(e,t,r,3,null,null),function Ym(e){let t=e[be];if(!t)return Fp(e[Yt],e);for(;t;){let r=null;if(Zi(t))r=t[be];else{const o=t[Pi];o&&(r=o)}if(!r){for(;t&&!t[Uo]&&t!==e;)Zi(t)&&Fp(t[Yt],t),t=t[ui];null===t&&(t=e),Zi(t)&&Fp(t[Yt],t),r=t&&t[Uo]}t=r}}(t)}function Fp(e,t){if(l(t))return;const r=Ee(null);try{t[nr]&=-129,t[nr]|=256,t[24]&&Me(t[24]),function Aw(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof Ea)){const d=r[o+1];if(Array.isArray(d))for(let y=0;y<d.length;y+=2){const I=a[d[y]],D=d[y+1];_n(4,I,D);try{D.call(I)}finally{_n(5,I,D)}}else{_n(4,a,d);try{d.call(a)}finally{_n(5,a,d)}}}}}(e,t),function lv(e,t){const r=e.cleanup,o=t[Jo];if(null!==r)for(let y=0;y<r.length-1;y+=2)if("string"==typeof r[y]){const I=r[y+3];I>=0?o[I]():o[-I].unsubscribe(),y+=2}else r[y].call(o[r[y+1]]);null!==o&&(t[Jo]=null);const a=t[21];if(null!==a){t[21]=null;for(let y=0;y<a.length;y++)(0,a[y])()}const d=t[23];if(null!==d){t[23]=null;for(const y of d)y.destroy()}}(e,t),1===t[Yt].type&&t[j].destroy();const o=t[Li];if(null!==o&&Di(t[ui])){o!==t[ui]&&Xh(o,t);const a=t[bo];null!==a&&a.detachView(e)}ll(t)}finally{Ee(r)}}function Lp(e,t,r){return function Jm(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[Gr];if(Hi(o)){const{encapsulation:a}=e.data[o.directiveStart+o.componentOffset];if(a===Rc.None||a===Rc.Emulated)return null}return Wi(o,r)}(e,t.parent,r)}let Zh,dv=function ey(e,t,r){return 40&e.type?Wi(e,r):null};function Bd(e,t,r,o){const a=Lp(e,o,t),d=t[j],I=function Vp(e,t,r){return dv(e,t,r)}(o.parent||t[ji],o,t);if(null!=a)if(Array.isArray(r))for(let D=0;D<r.length;D++)Iw(d,a,r[D],I,!1);else Iw(d,a,r,I,!1);void 0!==Zh&&Zh(d,o,t,r,a)}function rs(e,t){if(null!==t){const r=t.type;if(3&r)return Wi(t,e);if(4&r)return jd(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return rs(e,o);{const a=e[t.index];return Di(a)?jd(-1,a):ur(a)}}if(128&r)return rs(e,t.next);if(32&r)return Il(t,e)()||ur(e[t.index]);{const o=Js(e,t);return null!==o?Array.isArray(o)?o[0]:rs(sa(e[ar]),o):rs(e,t.next)}}return null}function Js(e,t){return null!==t?e[ar][ji].projection[t.projection]:null}function jd(e,t){const r=Pi+e+1;if(r<t.length){const o=t[r],a=o[Yt].firstChild;if(null!==a)return rs(o,a)}return t[7]}function Bp(e,t,r,o,a,d,y){for(;null!=r;){if(128===r.type){r=r.next;continue}const I=o[r.index],D=r.type;if(y&&0===t&&(I&&wa(ur(I),o),r.flags|=2),!Nu(r))if(8&D)Bp(e,t,r.child,o,a,d,!1),Ud(t,e,a,I,d);else if(32&D){const k=Il(r,o);let $;for(;$=k();)Ud(t,e,a,$,d);Ud(t,e,a,I,d)}else 16&D?$d(e,t,o,r,a,d):Ud(t,e,a,I,d);r=y?r.projectionNext:r.next}}function Yh(e,t,r,o,a,d){Bp(r,o,e.firstChild,t,a,d,!1)}function $d(e,t,r,o,a,d){const y=r[ar],D=y[ji].projection[o.projection];if(Array.isArray(D))for(let k=0;k<D.length;k++)Ud(t,e,a,D[k],d);else{let k=D;const $=y[ui];cl(o)&&(k.flags|=128),Bp(e,t,k,$,a,d,!0)}}function xu(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const d=t[r.index];null!==d&&o.push(ur(d)),Di(d)&&ty(d,o);const y=r.type;if(8&y)xu(e,t,r.child,o);else if(32&y){const I=Il(r,t);let D;for(;D=I();)o.push(D)}else if(16&y){const I=Js(t,r);if(Array.isArray(I))o.push(...I);else{const D=sa(t[ar]);xu(D[Yt],D,I,o,!0)}}r=a?r.projectionNext:r.next}return o}function ty(e,t){for(let r=Pi;r<e.length;r++){const o=e[r],a=o[Yt].firstChild;null!==a&&xu(o[Yt],o,a,t)}e[7]!==e[Gr]&&t.push(e[7])}function pv(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let jp=[];const ny={...pe,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{_c(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},bl={...pe,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=sa(e.lView);for(;t&&!iy(t[Yt]);)t=sa(t);t&&Vc(t)},consumerOnSignalRead(){this.lView[24]=this}};function iy(e){return 2!==e.type}function ef(e){if(null===e[23])return;let t=!0;for(;t;){let r=!1;for(const o of e[23])o.dirty&&(r=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));t=r&&!!(8192&e[nr])}}function ku(e,t=!0,r=0){const a=e[P].rendererFactory;a.begin?.();try{!function _v(e,t){const r=wg();try{Bc(!0),Ou(e,t);let o=0;for(;lu(e);){if(100===o)throw new ct(103,!1);o++,Ou(e,1)}}finally{Bc(r)}}(e,r)}catch(y){throw t&&function Qm(e,t){const r=e[R],o=r?r.get(lc,null):null;o&&o.handleError(t)}(e,y),y}finally{a.end?.()}}function oy(e,t,r,o){if(l(t))return;const a=t[nr];Hl(t);let I=!0,D=null,k=null;iy(e)?(k=function gv(e){return e[24]??function mv(e){const t=jp.pop()??Object.create(ny);return t.lView=e,t}(e)}(t),D=ft(k)):null===function fe(){return q}()?(I=!1,k=function ry(e){const t=e[24]??Object.create(bl);return t.lView=e,t}(t),D=ft(k)):t[24]&&(Me(t[24]),t[24]=null);try{Gu(t),function Cf(e){return Ir.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Q(e,t,r,2,o);const $=!(3&~a);if($){const ce=e.preOrderCheckHooks;null!==ce&&Kl(t,ce,null)}else{const ce=e.preOrderHooks;null!==ce&&Zu(t,ce,0,null),Yu(t,0)}if(function tf(e){for(let t=Jc(e);null!==t;t=jg(t)){if(!(2&t[nr]))continue;const r=t[Pa];for(let o=0;o<r.length;o++)Vc(r[o])}}(t),ef(t),Hd(t,0),null!==e.contentQueries&&ZE(e,t),$){const ce=e.contentCheckHooks;null!==ce&&Kl(t,ce)}else{const ce=e.contentHooks;null!==ce&&Zu(t,ce,1),Yu(t,1)}!function Rw(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)nc(~a);else{const d=a,y=r[++o],I=r[++o];Tg(y,d);const D=t[d];_n(24,D),I(2,D),_n(25,D)}}}finally{nc(-1)}}(e,t);const X=e.components;null!==X&&Ev(t,X,0);const Ie=e.viewQuery;if(null!==Ie&&z_(2,Ie,o),$){const ce=e.viewCheckHooks;null!==ce&&Kl(t,ce)}else{const ce=e.viewHooks;null!==ce&&Zu(t,ce,2),Yu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const ce of t[22])ce();t[22]=null}pv(t),t[nr]&=-73}catch($){throw _c(t),$}finally{null!==k&&(yt(k,D),I&&function Jh(e){e.lView[24]!==e&&(e.lView=null,jp.push(e))}(k)),tc()}}function Hd(e,t){for(let r=Jc(e);null!==r;r=jg(r))for(let o=Pi;o<r.length;o++)vv(r[o],t)}function Sw(e,t,r){_n(18);const o=Ao(t,e);vv(o,r),_n(19,o[Ur])}function vv(e,t){Ji(e)&&Ou(e,t)}function Ou(e,t){const o=e[Yt],a=e[nr],d=e[24];let y=!!(0===t&&16&a);if(y||=!!(64&a&&0===t),y||=!!(1024&a),y||=!(!d?.dirty||!bt(d)),y||=!1,d&&(d.dirty=!1),e[nr]&=-9217,y)oy(o,e,o.template,e[Ur]);else if(8192&a){ef(e),Hd(e,1);const I=o.components;null!==I&&Ev(e,I,1),pv(e)}}function Ev(e,t,r){for(let o=0;o<t.length;o++)Sw(e,t[o],r)}function Fu(e,t){const r=wg()?64:1088;for(e[P].changeDetectionScheduler?.notify(t);e;){e[nr]|=r;const o=sa(e);if(qs(e)&&!o)return e;e=o}return null}function sy(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function zd(e,t){if(e.length<=Pi)return;const r=Pi+t,o=e[r];if(o){const a=o[Li];null!==a&&a!==e&&Xh(a,o),t>0&&(e[r-1][Uo]=o[Uo]);const d=Ts(e,Pi+t);!function Qh(e,t){Op(e,t),t[Gr]=null,t[ji]=null}(o[Yt],o);const y=d[bo];null!==y&&y.detachView(d[Yt]),o[ui]=null,o[Uo]=null,o[nr]&=-129}return o}function Hp(e,t){const r=e[Pa],o=t[ui];(Zi(o)||t[ar]!==o[ui][ar])&&(e[nr]|=2),null===r?e[Pa]=[t]:r.push(t)}let Dl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const t=this._lView,r=t[Yt];return xu(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[Ur]}set context(t){this._lView[Ur]=t}get destroyed(){return l(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ui];if(Di(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(zd(t,o),Ts(r,o))}this._attachedToViewContainer=!1}Tl(this._lView[Yt],this._lView)}onDestroy(t){Ja(this._lView,t)}markForCheck(){Fu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[nr]&=-129}reattach(){ih(this._lView),this._lView[nr]|=128}detectChanges(){this._lView[nr]|=1024,ku(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=qs(this._lView),r=this._lView[Li];null!==r&&!t&&Xh(r,this._lView),Op(this._lView[Yt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ct(902,!1);this._appRef=t;const r=qs(this._lView),o=this._lView[Li];null!==o&&!r&&Hp(o,this._lView),ih(this._lView)}},nf=(()=>class e{static __NG_ELEMENT_ID__=ay})();const zp=nf,Iv=class extends zp{_declarationLView;_declarationTContainer;elementRef;constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=function ka(e,t,r,o){const a=Ee(null);try{const d=t.tView,D=n(e,d,r,4096&e[nr]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);D[Li]=e[t.index];const $=e[bo];return null!==$&&(D[bo]=$.createEmbeddedView(d)),qh(d,D,r),D}finally{Ee(a)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Dl(a)}};function ay(){return Lu(Br(),Ct())}function Lu(e,t){return 4&e.type?new Iv(t,e,sl(e,t)):null}function xc(e,t,r,o,a){let d=e.data[t];if(null===d)d=function dy(e,t,r,o,a){const d=bf(),y=Vl(),D=e.data[t]=function Fw(e,t,r,o,a,d){let y=t?t.injectorIndex:-1,I=0;return function Ma(){return null!==Ir.skipHydrationRootTNode}()&&(I|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?d:d&&d.parent,r,t,o,a);return function Sv(e,t,r,o){null===e.firstChild&&(e.firstChild=t),null!==r&&(o?null==r.child&&null!==t.parent&&(r.child=t):null===r.next&&(r.next=t,t.prev=r))}(e,D,d,y),D}(e,t,r,o,a),function Ig(){return Ir.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=o,d.attrs=a;const y=function ca(){const e=Ir.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===y?-1:y.injectorIndex}return Qs(d,!0),d}let wC=class{},WT=class{};class IC{resolveComponentFactory(t){throw Error(`No component factory found for ${Le(t)}.`)}}let Ey=class{static NULL=new IC};class Uw{}let TC=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function bC(){const e=Ct(),r=Ao(Br().index,e);return(Zi(r)?r:e)[j]}()})(),DC=(()=>{class e{static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>null})}return e})();function hf(e){return!!Vo(e)}const jw={};class tg{injector;parentInjector;constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=as(o);const a=this.injector.get(t,jw,o);return a!==jw||r===jw?a:this.parentInjector.get(t,r,o)}}function $w(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,d=0;if(null!==t)for(let y=0;y<t.length;y++){const I=t[y];"number"==typeof I?d=I:1==d?a=br(a,I):2==d&&(o=br(o,I+": "+t[++y]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}function ng(e,t=kn.Default){const r=Ct();return null===r?Jr(e,t):Vf(Br(),r,pn(e),t)}function KT(){throw new Error("invalid")}function Hw(e,t,r,o,a){const d=null===o?null:{"":-1},y=a(e,r);if(null!==y){let I,D=null,k=null;const $=function PC(e){let t=null,r=!1;for(let y=0;y<e.length;y++){const I=e[y];if(0===y&&Xo(I)&&(t=I),null!==I.findHostDirectiveDefs){r=!0;break}}if(!r)return null;let o=null,a=null,d=null;for(const y of e)null!==y.findHostDirectiveDefs&&(o??=[],a??=new Map,d??=new Map,MC(y,o,d,a)),y===t&&(o??=[],o.push(y));return null!==o?(o.push(...null===t?e:e.slice(1)),[o,a,d]):null}(y);null===$?I=y:[I,D,k]=$,function xC(e,t,r,o,a,d,y){const I=o.length;let D=!1;for(let Ie=0;Ie<I;Ie++){const ce=o[Ie];!D&&Xo(ce)&&(D=!0,NC(e,r,Ie)),_u(yu(r,t),e,ce.type)}!function UC(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,I);for(let Ie=0;Ie<I;Ie++){const ce=o[Ie];ce.providersResolver&&ce.providersResolver(ce)}let k=!1,$=!1,X=u(e,t,I,null);I>0&&(r.directiveToIndex=new Map);for(let Ie=0;Ie<I;Ie++){const ce=o[Ie];if(r.mergedAttrs=Tc(r.mergedAttrs,ce.hostAttrs),OC(e,r,t,X,ce),VC(X,ce,a),null!==y&&y.has(ce)){const[kt,un]=y.get(ce);r.directiveToIndex.set(ce.type,[X,kt+r.directiveStart,un+r.directiveStart])}else(null===d||!d.has(ce))&&r.directiveToIndex.set(ce.type,X);null!==ce.contentQueries&&(r.flags|=4),(null!==ce.hostBindings||null!==ce.hostAttrs||0!==ce.hostVars)&&(r.flags|=64);const ze=ce.type.prototype;!k&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),k=!0),!$&&(ze.ngOnChanges||ze.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),$=!0),X++}!function kC(e,t,r){for(let o=t.directiveStart;o<t.directiveEnd;o++){const a=e.data[o];if(null!==r&&r.has(a)){const d=r.get(a);QT(0,t,d,o),QT(1,t,d,o),ZT(t,o,!0)}else qT(0,t,a,o),qT(1,t,a,o),ZT(t,o,!1)}}(e,r,d)}(e,t,r,I,d,D,k)}null!==d&&null!==o&&function RC(e,t,r){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const d=r[t[a+1]];if(null==d)throw new ct(-301,!1);o.push(t[a],d)}}(r,o,d)}function MC(e,t,r,o){const a=t.length;e.findHostDirectiveDefs(e,t,o),r.set(e,[a,t.length-1])}function NC(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function qT(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const d in a)if(a.hasOwnProperty(d)){let y;y=0===e?t.inputs??={}:t.outputs??={},y[d]??=[],y[d].push(o),XT(t,d)}}function QT(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const d in a)if(a.hasOwnProperty(d)){const y=a[d];let I;I=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},I[y]??=[],I[y].push(o,d),XT(t,y)}}function XT(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function ZT(e,t,r){const{attrs:o,inputs:a,hostDirectiveInputs:d}=e;if(null===o||!r&&null===a||r&&null===d||zm(e))return e.initialInputs??=[],void e.initialInputs.push(null);let y=null,I=0;for(;I<o.length;){const D=o[I];if(0!==D)if(5!==D){if("number"==typeof D)break;if(!r&&a.hasOwnProperty(D)){const k=a[D];for(const $ of k)if($===t){y??=[],y.push(D,o[I+1]);break}}else if(r&&d.hasOwnProperty(D)){const k=d[D];for(let $=0;$<k.length;$+=2)if(k[$]===t){y??=[],y.push(k[$+1],o[I+1]);break}}I+=2}else I+=2;else I+=4}e.initialInputs??=[],e.initialInputs.push(y)}function OC(e,t,r,o,a){e.data[o]=a;const d=a.factory||(a.factory=Is(a.type)),y=new Ea(d,Xo(a),ng);e.blueprint[o]=y,r[o]=y,function FC(e,t,r,o,a){const d=a.hostBindings;if(d){let y=e.hostBindingOpCodes;null===y&&(y=e.hostBindingOpCodes=[]);const I=~t.index;(function LC(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(y)!=I&&y.push(I),y.push(r,o,d)}}(e,t,o,u(e,r,a.hostVars,Or),a)}function VC(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;Xo(t)&&(r[""]=e)}}function YT(e,t,r,o,a,d,y,I){const D=t.consts,$=xc(t,e,2,o,oa(D,y));return d&&Hw(t,r,$,oa(D,I),a),$.mergedAttrs=Tc($.mergedAttrs,$.attrs),null!==$.attrs&&$w($,$.attrs,!1),null!==$.mergedAttrs&&$w($,$.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,$),$}function JT(e,t){ic(e,t),Oc(t)&&e.queries.elementEnd(t)}class e0 extends Ey{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=_r(t);return new Ty(r,this.ngModule)}}class Ty extends WT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function BC(e){return Object.keys(e).map(t=>{const[r,o,a]=e[t],d={propName:r,templateName:t,isSignal:!!(o&M.SignalBased)};return a&&(d.transform=a),d})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function jC(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function BT(e){return e.map(UT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!r}create(t,r,o,a){_n(22);const d=Ee(null);try{const y=this.componentDef,I=o?["ng-version","19.2.14"]:function jT(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===a?""!==d&&t.push(d,e[++o]):8===a&&r.push(d);else{if(!mc(a))break;a=d}o++}return r.length&&t.push(1,...r),t}(this.componentDef.selectors[0]),D=Gh(0,null,null,1,0,null,null,null,null,[I],null),k=function $C(e,t,r){let o=t instanceof ti?t:t?.injector;return o&&null!==e.getStandaloneInjector&&(o=e.getStandaloneInjector(o)||o),o?new tg(r,o):r}(y,a||this.ngModule,t),$=function HC(e){const t=e.get(Uw,null);if(null===t)throw new ct(407,!1);return{rendererFactory:t,sanitizer:e.get(DC,null),changeDetectionScheduler:e.get(ys,null)}}(k),X=$.rendererFactory.createRenderer(null,y),Ie=o?function Et(e,t,r,o){const d=o.get(y_,!1)||r===Rc.ShadowDom,y=e.selectRootElement(t,d);return function Bt(e){cn(e)}(y),y}(X,o,y.encapsulation,k):function zC(e,t){const r=(e.selectors[0][0]||"div").toLowerCase();return Km(t,r,"svg"===r?or:"math"===r?"math":null)}(y,X),ce=n(null,D,null,512|s(y),null,null,$,X,k,null,null);ce[Rn]=Ie,Hl(ce);let ze=null;try{const kt=YT(Rn,D,ce,"#host",()=>[this.componentDef],!0,0);Ie&&(Tw(X,Ie,kt),wa(Ie,ce)),oe(D,ce,kt),$h(D,kt,ce),JT(D,kt),void 0!==r&&function GC(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const d=r[a];o.push(null!=d&&d.length?Array.from(d):null)}}(kt,this.ngContentSelectors,r),ze=Ao(kt.index,ce),ce[Ur]=ze[Ur],qh(D,ce,null)}catch(kt){throw null!==ze&&ll(ze),ll(ce),kt}finally{_n(23),tc()}return new WC(this.componentType,ce)}finally{Ee(d)}}}class WC extends wC{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,r){super(),this._rootLView=r,this._tNode=ia(r[Yt],Rn),this.location=sl(this._tNode,r),this.instance=Ao(this._tNode.index,r)[Ur],this.hostView=this.changeDetectorRef=new Dl(r,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const a=this._rootLView;wl(o,a[Yt],a,t,r),this.previousInputValues.set(t,r),Fu(Ao(o.index,a),1)}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Zv=(()=>class e{static __NG_ELEMENT_ID__=KC})();function KC(){return r0(Br(),Ct())}const qC=Zv,t0=class extends qC{_lContainer;_hostTNode;_hostLView;constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return sl(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const t=oc(this._hostTNode,this._hostLView);if(bc(t)){const r=fu(t,this._hostLView),o=tl(t);return new Fo(r[Yt].data[o+8],r)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=n0(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Pi}createEmbeddedView(t,r,o){let a,d;"number"==typeof o?a=o:null!=o&&(a=o.index,d=o.injector);const I=t.createEmbeddedViewImpl(r||{},d,null);return this.insertImpl(I,a,ns(this._hostTNode,null)),I}createComponent(t,r,o,a,d){const y=t&&!function Vr(e){return"function"==typeof e}(t);let I;if(y)I=r;else{const ze=r||{};I=ze.index,o=ze.injector,a=ze.projectableNodes,d=ze.environmentInjector||ze.ngModuleRef}const D=y?t:new Ty(_r(t)),k=o||this.parentInjector;if(!d&&null==D.ngModule){const kt=(y?k:this.parentInjector).get(ti,null);kt&&(d=kt)}_r(D.componentType??{});const ce=D.create(k,a,null,d);return this.insertImpl(ce.hostView,I,ns(this._hostTNode,null)),ce}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function Kr(e){return Di(e[ui])}(a)){const I=this.indexOf(t);if(-1!==I)this.detach(I);else{const D=a[ui],k=new t0(D,D[ji],D[ui]);k.detach(k.indexOf(t))}}const d=this._adjustIndex(r),y=this._lContainer;return function iu(e,t,r,o=!0){const a=t[Yt];if(function wv(e,t,r,o){const a=Pi+o,d=r.length;o>0&&(r[a-1][Uo]=t),o<d-Pi?(t[Uo]=r[a],Zr(r,Pi+o,t)):(r.push(t),t[Uo]=null),t[ui]=r;const y=t[Li];null!==y&&r!==y&&Hp(y,t);const I=t[bo];null!==I&&I.insertView(e),ih(t),t[nr]|=128}(a,t,e,r),o){const y=jd(r,e),I=t[j],D=I.parentNode(e[7]);null!==D&&function kp(e,t,r,o,a,d){o[Gr]=a,o[ji]=t,Yh(e,o,r,1,a,d)}(a,e[ji],I,t,D,y)}const d=t[Qo];null!==d&&null!==d.firstChild&&(d.firstChild=null)}(y,a,d,o),t.attachToViewContainerRef(),Zr(zw(y),d,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=n0(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=zd(this._lContainer,r);o&&(Ts(zw(this._lContainer),r),Tl(o[Yt],o))}detach(t){const r=this._adjustIndex(t,-1),o=zd(this._lContainer,r);return o&&null!=Ts(zw(this._lContainer),r)?new Dl(o):null}_adjustIndex(t,r=0){return t??this.length+r}};function n0(e){return e[8]}function zw(e){return e[8]||(e[8]=[])}function r0(e,t){let r;const o=t[e.index];return Di(o)?r=o:(r=sy(o,t,null,e),t[e.index]=r,g(t,r)),o0(r,t,e,o),new t0(r,e,t)}let o0=function a0(e,t,r,o){if(e[7])return;let a;a=8&r.type?ur(o):function QC(e,t){const r=e[j],o=r.createComment(""),a=Wi(t,e),d=r.parentNode(a);return Fd(r,d,o,r.nextSibling(a),!1),o}(t,r),e[7]=a},Ww=()=>!1;class Gw{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Gw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kw{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let d=0;d<o;d++){const y=r.getByIndex(d);a.push(this.queries[y.indexInDeclarationView].clone())}return new Kw(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==Yw(t,r).matches&&this.queries[r].setDirty()}}class c0{flags;read;predicate;constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function rS(e){return e.split(",").map(t=>t.trim())}(t):t}}class qw{queries;constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,d=this.getByIndex(o).embeddedTView(t,a);d&&(d.indexInDeclarationView=o,null!==r?r.push(d):r=[d])}return null!==r?new qw(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Qw{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,r=-1){this.metadata=t,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Qw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const d=o[a];this.matchTNodeWithReadOption(t,r,JC(r,d)),this.matchTNodeWithReadOption(t,r,za(r,t,d,!1,!1))}else o===nf?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,za(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===al||a===Zv||a===nf&&4&r.type)this.addMatch(r.index,-2);else{const d=za(r,t,a,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function JC(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function tS(e,t,r,o){return-1===r?function eS(e,t){return 11&e.type?sl(e,t):4&e.type?Lu(e,t):null}(t,e):-2===r?function nS(e,t,r){return r===al?sl(t,e):r===nf?Lu(t,e):r===Zv?r0(t,e):void 0}(e,t,o):sc(e,e[Yt],r,t)}function u0(e,t,r,o){const a=t[bo].queries[o];if(null===a.matches){const d=e.data,y=r.matches,I=[];for(let D=0;null!==y&&D<y.length;D+=2){const k=y[D];I.push(k<0?null:tS(t,d[k],y[D+1],r.metadata.read))}a.matches=I}return a.matches}function Xw(e,t,r,o){const a=e.queries.getByIndex(r),d=a.matches;if(null!==d){const y=u0(e,t,a,r);for(let I=0;I<d.length;I+=2){const D=d[I];if(D>0)o.push(y[I/2]);else{const k=d[I+1],$=t[-D];for(let X=Pi;X<$.length;X++){const Ie=$[X];Ie[Li]===Ie[ui]&&Xw(Ie[Yt],Ie,k,o)}if(null!==$[Pa]){const X=$[Pa];for(let Ie=0;Ie<X.length;Ie++){const ce=X[Ie];Xw(ce[Yt],ce,k,o)}}}}}return o}function h0(e,t,r,o){const a=vr();if(a.firstCreatePass){const d=Br();(function f0(e,t,r){null===e.queries&&(e.queries=new qw),e.queries.track(new Qw(t,r))})(a,new c0(t,r,o),d.index),function iS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return function l0(e,t,r){const o=new r_(!(4&~r));return function If(e,t,r,o){const a=vc(t);a.push(r),e.firstCreatePass&&kl(e).push(o,a.length-1)}(e,t,o,o.destroy),(t[bo]??=new Kw).queries.push(new Gw(o))-1}(a,Ct(),r)}function Yw(e,t){return e.queries.getByIndex(t)}function p0(e,t){const r=e[Yt],o=Yw(r,t);return o.crossesNgTemplate?Xw(r,e,t,[]):u0(r,e,o,t)}let ff=class{},D0=class{};function pS(e,t){return new tI(e,t??null,[])}class tI extends ff{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new e0(this);constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r;const d=Vo(t);this._bootstrapComponents=ru(d.bootstrap),this._r3Injector=ed(t,r,[{provide:ff,useValue:this},{provide:Ey,useValue:this.componentFactoryResolver},...o],Le(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class nI extends D0{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new tI(this.moduleType,t,[])}}class A0 extends ff{injector;componentFactoryResolver=new e0(this);instance=null;constructor(t){super();const r=new go([...t.providers,{provide:ff,useValue:this},{provide:Ey,useValue:this.componentFactoryResolver}],t.parent||To(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rI(e,t,r=null){return new A0({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let mS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Wt(0,r.type),a=o.length>0?rI([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Oe({token:e,providedIn:"environment",factory:()=>new e(Jr(ti))})}return e})();function C0(e){return Tr(()=>{const t=P0(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?a=>a.get(mS).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Rc.Emulated,styles:e.styles||yr,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&Ta("NgStandalone"),M0(r);const o=e.dependencies;return r.directiveDefs=Yv(o,!1),r.pipeDefs=Yv(o,!0),r.id=function IS(e){let t=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const d of o.join("|"))t=Math.imul(31,t)+d.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function yS(e){return _r(e)||W(e)}function _S(e){return null!==e}function iI(e){return Tr(()=>({type:e.type,bootstrap:e.bootstrap||yr,declarations:e.declarations||yr,imports:e.imports||yr,exports:e.exports||yr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function vS(e,t){if(null==e)return kr;const r={};for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];let d,y,I,D;Array.isArray(a)?(I=a[0],d=a[1],y=a[2]??d,D=a[3]||null):(d=a,y=a,I=M.None,D=null),r[d]=[o,I,D],t[d]=y}return r}function ES(e){if(null==e)return kr;const t={};for(const r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function S0(e){return Tr(()=>{const t=P0(e);return M0(t),t})}function R0(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function P0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||kr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||yr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vS(e.inputs,t),outputs:ES(e.outputs),debugInfo:null}}function M0(e){e.features?.forEach(t=>t(e))}function Yv(e,t){if(!e)return null;const r=t?z:yS;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(_S)}function oI(e){let t=function N0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(Xo(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ct(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const y=e;y.inputs=sI(e.inputs),y.declaredInputs=sI(e.declaredInputs),y.outputs=sI(e.outputs);const I=a.hostBindings;I&&CS(e,I);const D=a.viewQuery,k=a.contentQueries;if(D&&DS(e,D),k&&AS(e,k),TS(e,a),Ki(e.outputs,a.outputs),Xo(a)&&a.data.animation){const $=e.data;$.animation=($.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let y=0;y<d.length;y++){const I=d[y];I&&I.ngInherit&&I(e),I===oI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function bS(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Tc(a.hostAttrs,r=Tc(r,a.hostAttrs))}}(o)}function TS(e,t){for(const r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=t.inputs[r];void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=t.declaredInputs[r])}}function sI(e){return e===kr?{}:e===yr?[]:e}function DS(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function AS(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,d)=>{t(o,a,d),r(o,a,d)}:t}function CS(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function Jv(e){return!!cI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function cI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Hu(e,t,r){return e[t]=r}function vs(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function pf(e,t,r,o){const a=vs(e,t,r);return vs(e,t+1,o)||a}function Ay(e,t,r,o,a,d,y,I,D,k){const $=r+Rn,X=t.firstCreatePass?function FS(e,t,r,o,a,d,y,I,D){const k=t.consts,$=xc(t,e,4,y||null,I||null);Tf()&&Hw(t,r,$,oa(k,D),it),$.mergedAttrs=Tc($.mergedAttrs,$.attrs),ic(t,$);const X=$.tView=Gh(2,$,o,a,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,k,null);return null!==t.queries&&(t.queries.template(t,$),X.queries=t.queries.embeddedTView($)),$}($,t,e,o,a,d,y,I,D):t.data[$];Qs(X,!1);const Ie=L0(t,e,X,r);rc()&&Bd(t,e,Ie,X),wa(Ie,e);const ce=sy(Ie,e,Ie,X);return e[$]=ce,g(e,ce),function s0(e,t,r){return Ww(e,t,r)}(ce,X,e),Xa(X)&&oe(t,e,X),null!=D&&xe(e,X,k),X}function uI(e,t,r,o,a,d,y,I){const D=Ct(),k=vr();return Ay(D,k,e,t,r,o,a,oa(k.consts,d),y,I),uI}let L0=function V0(e,t,r,o){return $a(!0),t[j].createComment("")};let hI=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Z0=new ve(""),Y0=new ve("");let mI,kR=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(r,o,a){this._ngZone=r,this.registry=o,ci()&&(this._destroyRef=mn(Ls,{optional:!0})??void 0),mI||(function OR(e){mI=e}(a),a.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const r=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),o=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{yo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{r.unsubscribe(),o.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,a){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==d),r()},o)),this._callbacks.push({doneCb:r,timeoutId:d,updateCb:a})}whenStable(r,o,a){if(a&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,a),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,a){return[]}static \u0275fac=function(o){return new(o||e)(Jr(yo),Jr(J0),Jr(Y0))};static \u0275prov=Oe({token:e,factory:e.\u0275fac})}return e})(),J0=(()=>{class e{_applications=new Map;registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return mI?.findTestabilityInTree(this,r,o)??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),eb=(()=>{class e{static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new FR})}return e})();class FR{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){const o=this.queues.get(t.zone);o.has(t)&&(o.delete(t),this.queuedEffectCount--)}enqueue(t){const r=t.zone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,r]of this.queues)null===t?this.flushQueue(r):t.run(()=>this.flushQueue(r))}flushQueue(t){for(const r of t)t.delete(r),this.queuedEffectCount--,r.run()}}function yI(e){return!!e&&"function"==typeof e.then}function tb(e){return!!e&&"function"==typeof e.subscribe}const nb=new ve("");function LR(e){return Ce([{provide:nb,multi:!0,useValue:e}])}let rb=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o});appInits=mn(nb,{optional:!0})??[];injector=mn(ms);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const d=xs(this.injector,a);if(yI(d))r.push(d);else if(tb(d)){const y=new Promise((I,D)=>{d.subscribe({complete:I,error:D})});r.push(y)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(a=>{this.reject(a)}),0===r.length&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Sy=new ve("");let yc=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=mn(SE);afterRenderManager=mn(Sh);zonelessEnabled=mn(Qc);rootEffectScheduler=mn(eb);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ln.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=mn(Xc).hasPendingTasks.pipe((0,on.T)(r=>!r));constructor(){mn(ld,{optional:!0})}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:a=>{a&&o()}})}).finally(()=>{r.unsubscribe()})}_injector=mn(ti);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,o){return this.bootstrapImpl(r,o)}bootstrapImpl(r,o,a=ms.NULL){_n(10);const d=r instanceof WT;if(!this._injector.get(rb).done)throw new ct(405,"");let I;I=d?r:this._injector.get(Ey).resolveComponentFactory(r),this.componentTypes.push(I.componentType);const D=function VR(e){return e.isBoundToModule}(I)?void 0:this._injector.get(ff),$=I.create(a,[],o||I.selector,D),X=$.location.nativeElement,Ie=$.injector.get(Z0,null);return Ie?.registerApplication(X),$.onDestroy(()=>{this.detachView($.hostView),iE(this.components,$),Ie?.unregisterApplication(X)}),this._loadComponent($),_n(11,$),$}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_n(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(sm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ct(101,!1);const r=Ee(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ee(r),this.afterTick.next(),_n(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Uw,null,{optional:!0}));let r=0;for(;0!==this.dirtyFlags&&r++<10;)_n(14),this.synchronizeOnce(),_n(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:a}of this.allViews)BR(o,a,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>lu(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;iE(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Sy,[]).forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>iE(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ct(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function BR(e,t,r,o){(r||lu(e))&&ku(e,t,r&&!o?0:1)}function II(e,t,r,o){const a=Ct();return vs(a,Xs(),t)&&(vr(),at(Ci(),a,e,t,r,o)),II}function ag(e,t,r,o){return vs(e,Xs(),r)?t+Re(r)+o:Or}function cg(e,t,r,o,a,d){const I=pf(e,function _a(){return Ir.lFrame.bindingIndex}(),r,a);return va(2),I?t+Re(r)+o+Re(a)+d:Or}function oE(e,t){return e<<17|t<<2}function mf(e){return e>>17&32767}function TI(e){return 2|e}function gg(e){return(131068&e)>>2}function bI(e,t){return-131069&e|t<<2}function DI(e){return 1|e}function Tb(e,t,r,o){const a=e[r+1],d=null===t;let y=o?mf(a):gg(a),I=!1;for(;0!==y&&(!1===I||d);){const k=e[y+1];AP(e[y],t)&&(I=!0,e[y+1]=o?DI(k):TI(k)),y=o?mf(k):gg(k)}I&&(e[r+1]=o?TI(a):DI(a))}function AP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&js(e,t)>=0}const Bs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bb(e){return e.substring(Bs.key,Bs.keyEnd)}function Db(e,t){const r=Bs.textEnd;return r===t?-1:(t=Bs.keyEnd=function PP(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,Bs.key=t,r),mg(e,t,r))}function mg(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function AI(e,t,r){const o=Ct();return vs(o,Xs(),t)&&Mn(vr(),Ci(),o,e,t,o[j],r,!1),AI}function CI(e,t,r,o,a){wl(t,e,r,a?"class":"style",o)}function SI(e,t,r){return au(e,t,r,!1),SI}function RI(e,t){return au(e,t,null,!0),RI}function Pb(e){cu(UP,Wu,e,!0)}function Wu(e,t){for(let r=function SP(e){return function Cb(e){Bs.key=0,Bs.keyEnd=0,Bs.value=0,Bs.valueEnd=0,Bs.textEnd=e.length}(e),Db(e,mg(e,0,Bs.textEnd))}(t);r>=0;r=Db(t,r))Io(e,bb(t),!0)}function au(e,t,r,o){const a=Ct(),d=vr(),y=va(2);d.firstUpdatePass&&Nb(d,e,y,o),t!==Or&&vs(a,y,t)&&kb(d,d.data[Ds()],a,a[j],e,a[y+1]=function jP(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Le(nu(e)))),e}(t,r),o,y)}function cu(e,t,r,o){const a=vr(),d=va(2);a.firstUpdatePass&&Nb(a,null,d,o);const y=Ct();if(r!==Or&&vs(y,d,r)){const I=a.data[Ds()];if(Fb(I,o)&&!Mb(a,d)){let D=o?I.classesWithoutHost:I.stylesWithoutHost;null!==D&&(r=br(D,r||"")),CI(a,I,y,r,o)}else!function BP(e,t,r,o,a,d,y,I){a===Or&&(a=yr);let D=0,k=0,$=0<a.length?a[0]:null,X=0<d.length?d[0]:null;for(;null!==$||null!==X;){const Ie=D<a.length?a[D+1]:void 0,ce=k<d.length?d[k+1]:void 0;let kt,ze=null;$===X?(D+=2,k+=2,Ie!==ce&&(ze=X,kt=ce)):null===X||null!==$&&$<X?(D+=2,ze=$):(k+=2,ze=X,kt=ce),null!==ze&&kb(e,t,r,o,ze,kt,y,I),$=D<a.length?a[D]:null,X=k<d.length?d[k]:null}}(a,I,y,y[j],y[d+1],y[d+1]=function VP(e,t,r){if(null==r||""===r)return yr;const o=[],a=nu(r);if(Array.isArray(a))for(let d=0;d<a.length;d++)e(o,a[d],!0);else if("object"==typeof a)for(const d in a)a.hasOwnProperty(d)&&e(o,d,a[d]);else"string"==typeof a&&t(o,a);return o}(e,t,r),o,d)}}function Mb(e,t){return t>=e.expandoStartIndex}function Nb(e,t,r,o){const a=e.data;if(null===a[r+1]){const d=a[Ds()],y=Mb(e,r);Fb(d,o)&&null===t&&!y&&(t=!1),t=function kP(e,t,r,o){const a=hu(e);let d=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=Py(r=PI(null,e,t,r,o),t.attrs,o),d=null);else{const y=t.directiveStylingLast;if(-1===y||e[y]!==a)if(r=PI(a,e,t,r,o),null===d){let D=function OP(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==gg(o))return e[mf(o)]}(e,t,o);void 0!==D&&Array.isArray(D)&&(D=PI(null,e,t,D[1],o),D=Py(D,t.attrs,o),function FP(e,t,r,o){e[mf(r?t.classBindings:t.styleBindings)]=o}(e,t,o,D))}else d=function LP(e,t,r){let o;const a=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<a;d++)o=Py(o,e[d].hostAttrs,r);return Py(o,t.attrs,r)}(e,t,o)}return void 0!==d&&(o?t.residualClasses=d:t.residualStyles=d),r}(a,d,t,o),function bP(e,t,r,o,a,d){let y=d?t.classBindings:t.styleBindings,I=mf(y),D=gg(y);e[o]=r;let $,k=!1;if(Array.isArray(r)?($=r[1],(null===$||js(r,$)>0)&&(k=!0)):$=r,a)if(0!==D){const Ie=mf(e[I+1]);e[o+1]=oE(Ie,I),0!==Ie&&(e[Ie+1]=bI(e[Ie+1],o)),e[I+1]=function IP(e,t){return 131071&e|t<<17}(e[I+1],o)}else e[o+1]=oE(I,0),0!==I&&(e[I+1]=bI(e[I+1],o)),I=o;else e[o+1]=oE(D,0),0===I?I=o:e[D+1]=bI(e[D+1],o),D=o;k&&(e[o+1]=TI(e[o+1])),Tb(e,$,o,!0),Tb(e,$,o,!1),function DP(e,t,r,o,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&js(d,t)>=0&&(r[o+1]=DI(r[o+1]))}(t,$,e,o,d),y=oE(I,D),d?t.classBindings=y:t.styleBindings=y}(a,d,t,r,y,o)}}function PI(e,t,r,o,a){let d=null;const y=r.directiveEnd;let I=r.directiveStylingLast;for(-1===I?I=r.directiveStart:I++;I<y&&(d=t[I],o=Py(o,d.hostAttrs,a),d!==e);)I++;return null!==e&&(r.directiveStylingLast=I),o}function Py(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let d=0;d<t.length;d++){const y=t[d];"number"==typeof y?a=y:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Io(e,y,!!r||t[++d]))}return void 0===e?null:e}function UP(e,t,r){const o=String(t);""!==o&&!o.includes(" ")&&Io(e,o,r)}function kb(e,t,r,o,a,d,y,I){if(!(3&t.type))return;const D=e.data,k=D[I+1],$=function TP(e){return!(1&~e)}(k)?Ob(D,t,r,a,gg(k),y):void 0;sE($)||(sE(d)||function wP(e){return!(2&~e)}(k)&&(d=Ob(D,null,r,a,I,y)),function fv(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let d=-1===o.indexOf("-")?void 0:Mu.DashCase;null==a?e.removeStyle(r,o,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=Mu.Important),e.setStyle(r,o,a,d))}}(o,y,$o(Ds(),r),a,d))}function Ob(e,t,r,o,a,d){const y=null===t;let I;for(;a>0;){const D=e[a],k=Array.isArray(D),$=k?D[1]:D,X=null===$;let Ie=r[a+1];Ie===Or&&(Ie=X?yr:void 0);let ce=X?Oi(Ie,o):$===o?Ie:void 0;if(k&&!sE(ce)&&(ce=Oi(D,o)),sE(ce)&&(I=ce,y))return I;const ze=e[a+1];a=y?mf(ze):gg(ze)}if(null!==t){let D=d?t.residualClasses:t.residualStyles;null!=D&&(I=Oi(D,o))}return I}function sE(e){return void 0!==e}function Fb(e,t){return!!(e.flags&(t?8:16))}function Lb(e,t,r){cu(Io,Wu,ag(Ct(),e,t,r),!0)}function Vb(e,t,r,o,a){cu(Io,Wu,cg(Ct(),e,t,r,o,a),!0)}function cE(e,t,r,o){const a=Ct(),d=vr(),y=Rn+e,I=a[j],D=d.firstCreatePass?YT(y,d,a,t,it,Tf(),r,o):d.data[y],k=$b(d,a,D,I,t,e);a[y]=k;const $=Xa(D);return Qs(D,!0),Tw(I,k,D),!Nu(D)&&rc()&&Bd(d,a,k,D),(0===function Hy(){return Ir.lFrame.elementDepthCount}()||$)&&wa(k,a),function Eg(){Ir.lFrame.elementDepthCount++}(),$&&(oe(d,a,D),$h(d,D,a)),null!==o&&xe(a,D),cE}function uE(){let e=Br();Vl()?Ul():(e=e.parent,Qs(e,!1));const t=e;(function Ku(e){return Ir.skipHydrationRootTNode===e})(t)&&function qu(){Ir.skipHydrationRootTNode=null}(),function oh(){Ir.lFrame.elementDepthCount--}();const r=vr();return r.firstCreatePass&&JT(r,t),null!=t.classesWithoutHost&&function el(e){return!!(8&e.flags)}(t)&&CI(r,t,Ct(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function xf(e){return!!(16&e.flags)}(t)&&CI(r,t,Ct(),t.stylesWithoutHost,!1),uE}function kI(e,t,r,o){return cE(e,t,r,o),uE(),kI}let $b=(e,t,r,o,a,d)=>($a(!0),Km(o,a,function Gl(){return Ir.lFrame.currentNamespace}()));function lE(e,t,r){const o=Ct(),a=vr(),d=e+Rn,y=a.firstCreatePass?function lM(e,t,r,o,a){const d=t.consts,y=oa(d,o),I=xc(t,e,8,"ng-container",y);null!==y&&$w(I,y,!0);const D=oa(d,a);return Tf()&&Hw(t,r,I,D,it),I.mergedAttrs=Tc(I.mergedAttrs,I.attrs),null!==t.queries&&t.queries.elementStart(t,I),I}(d,a,o,t,r):a.data[d];Qs(y,!0);const I=zb(a,o,y,e);return o[d]=I,rc()&&Bd(a,o,I,y),wa(I,o),Xa(y)&&(oe(a,o,y),$h(a,y,o)),null!=r&&xe(o,y),lE}function dE(){let e=Br();const t=vr();return Vl()?Ul():(e=e.parent,Qs(e,!1)),t.firstCreatePass&&(ic(t,e),Oc(e)&&t.queries.elementEnd(e)),dE}let zb=(e,t,r,o)=>($a(!0),Gm(t[j],""));function Wb(){return Ct()}function OI(e,t,r){const o=Ct();if(vs(o,Xs(),t)){const d=vr(),y=Ci();Mn(d,y,o,e,t,Vd(hu(d.data),y,o),r,!0)}return OI}const yf=void 0;var pM=["en",[["a","p"],["AM","PM"],yf],[["AM","PM"],yf,yf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yf,"{1} 'at' {0}",yf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fM(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let yg={};function FI(e){const t=function gM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=qb(t);if(r)return r;const o=t.split("-")[0];if(r=qb(o),r)return r;if("en"===o)return pM;throw new ct(701,!1)}function Kb(e){return FI(e)[_g.PluralCase]}function qb(e){return e in yg||(yg[e]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[e]),yg[e]}var _g=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(_g||{});const hE="en-US";let Qb=hE;function fD(e,t,r){return function o(a){if(a===Function)return r;Fu(Hi(e)?Ao(e.index,t):t,5);const y=t[Ur];let I=pD(t,y,r,a),D=o.__ngNextListenerFn__;for(;D;)I=pD(t,y,D,a)&&I,D=D.__ngNextListenerFn__;return I}}function pD(e,t,r,o){const a=Ee(null);try{return _n(6,t,r),!1!==r(o)}catch(d){return function r1(e,t){const r=e[R],o=r?r.get(lc,null):null;o&&o.handleError(t)}(e,d),!1}finally{_n(7,t,r),Ee(a)}}function gD(e,t,r,o,a,d){const I=t[Yt],$=t[r][I.data[r].outputs[o]],X=I.firstCreatePass?kl(I):null,Ie=vc(t),ce=$.subscribe(d),ze=Ie.length;Ie.push(d,ce),X&&X.push(a,e.index,ze,-(ze+1))}function UI(e,t,r,o){const a=Ct(),d=vr(),y=Br();return BI(d,a,a[j],y,e,t,o),UI}function BI(e,t,r,o,a,d,y){const I=Xa(o),k=e.firstCreatePass?kl(e):null,$=vc(t);let X=!0;if(3&o.type||y){const Ie=Wi(o,t),ce=y?y(Ie):Ie,ze=$.length,kt=y?fn=>y(ur(fn[o.index])):o.index;let un=null;if(!y&&I&&(un=function i1(e,t,r,o){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const y=a[d];if(y===r&&a[d+1]===o){const I=t[Jo],D=a[d+2];return I.length>D?I[D]:null}"string"==typeof y&&(d+=2)}return null}(e,t,a,o.index)),null!==un)(un.__ngLastListenerFn__||un).__ngNextListenerFn__=d,un.__ngLastListenerFn__=d,X=!1;else{!function wm(e,t,r,o){Fh(e,t,r,o)}(t,ce,a,d=fD(o,t,d));const fn=r.listen(ce,a,d);$.push(d,fn),k&&k.push(a,kt,ze,ze+1)}}else d=fD(o,t,d);if(X){const Ie=o.outputs?.[a],ce=o.hostDirectiveOutputs?.[a];if(ce&&ce.length)for(let ze=0;ze<ce.length;ze+=2)gD(o,t,ce[ze],ce[ze+1],a,d);if(Ie&&Ie.length)for(const ze of Ie)gD(o,t,ze,a,a,d)}}function yD(e=1){return function $c(e){return(Ir.lFrame.contextLView=function wf(e,t){for(;e>0;)t=t[Dn],e--;return t}(e,Ir.lFrame.contextLView))[Ur]}(e)}function CD(e,t,r,o){h0(e,t,r,o)}function SD(e){const t=Ct(),r=vr(),o=Qu();jl(o+1);const a=Yw(r,o);if(e.dirty&&function Ss(e){return!(4&~e[nr])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const d=p0(t,o);e.reset(d,dc),e.notifyOnChanges()}return!0}return!1}function RD(){return function Zw(e,t){return e[bo].queries[t].queryList}(Ct(),Qu())}function PD(e){return Fs(function Df(){return Ir.lFrame.contextLView}(),Rn+e)}function BD(e,t=""){const r=Ct(),o=vr(),a=e+Rn,d=o.firstCreatePass?xc(o,a,1,t,null):o.data[a],y=jD(o,r,d,t,e);r[a]=y,rc()&&Bd(o,r,y,d),Qs(d,!1)}let jD=(e,t,r,o,a)=>($a(!0),function uv(e,t){return e.createText(t)}(t[j],o));function $I(e){return mE("",e,""),$I}function mE(e,t,r){const o=Ct(),a=ag(o,e,t,r);return a!==Or&&Nl(o,Ds(),a),mE}function HI(e,t,r,o,a){const d=Ct(),y=cg(d,e,t,r,o,a);return y!==Or&&Nl(d,Ds(),y),HI}function Nl(e,t,r){const o=$o(t,e);!function Wm(e,t,r){e.setValue(t,r)}(e[j],o,r)}function zI(e,t,r){qf(t)&&(t=t());const o=Ct();return vs(o,Xs(),t)&&Mn(vr(),Ci(),o,e,t,o[j],r,!1),zI}function QD(e,t){const r=qf(e);return r&&e.set(t),r}function WI(e,t){const r=Ct(),o=vr(),a=Br();return BI(o,r,r[j],a,e,t),WI}function GI(e,t,r,o,a){if(e=pn(e),Array.isArray(e))for(let d=0;d<e.length;d++)GI(e[d],t,r,o,a);else{const d=vr(),y=Ct(),I=Br();let D=Ti(e)?e:pn(e.provide);const k=Aa(e),$=1048575&I.providerIndexes,X=I.directiveStart,Ie=I.providerIndexes>>20;if(Ti(e)||!e.multi){const ce=new Ea(k,a,ng),ze=qI(D,t,a?$:$+Ie,X);-1===ze?(_u(yu(I,y),d,D),KI(d,e,t.length),t.push(D),I.directiveStart++,I.directiveEnd++,a&&(I.providerIndexes+=1048576),r.push(ce),y.push(ce)):(r[ze]=ce,y[ze]=ce)}else{const ce=qI(D,t,$+Ie,X),ze=qI(D,t,$,$+Ie),un=ze>=0&&r[ze];if(a&&!un||!a&&!(ce>=0&&r[ce])){_u(yu(I,y),d,D);const fn=function P1(e,t,r,o,a){const d=new Ea(e,r,ng);return d.multi=[],d.index=t,d.componentProviders=0,YD(d,a,o&&!r),d}(a?R1:S1,r.length,a,o,k);!a&&un&&(r[ze].providerFactory=fn),KI(d,e,t.length,0),t.push(D),I.directiveStart++,I.directiveEnd++,a&&(I.providerIndexes+=1048576),r.push(fn),y.push(fn)}else KI(d,e,ce>-1?ce:ze,YD(r[a?ze:ce],k,!a&&o));!a&&o&&un&&r[ze].componentProviders++}}}function KI(e,t,r,o){const a=Ti(t),d=function ei(e){return!!e.useClass}(t);if(a||d){const D=(d?pn(t.useClass):t).prototype.ngOnDestroy;if(D){const k=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const $=k.indexOf(r);-1===$?k.push(r,[o,D]):k[$+1].push(o,D)}else k.push(r,D)}}}function YD(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function qI(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function S1(e,t,r,o,a){return QI(this.multi,[])}function R1(e,t,r,o,a){const d=this.multi;let y;if(this.providerFactory){const I=this.providerFactory.componentProviders,D=sc(o,o[Yt],this.providerFactory.index,a);y=D.slice(0,I),QI(d,y);for(let k=I;k<D.length;k++)y.push(D[k])}else y=[],QI(d,y);return y}function QI(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function JD(e,t=[]){return r=>{r.providersResolver=(o,a)=>function C1(e,t,r){const o=vr();if(o.firstCreatePass){const a=Xo(e);GI(r,o.data,o.blueprint,a,!0),GI(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}function tA(e,t,r){const o=bs()+e,a=Ct();return a[o]===Or?Hu(a,o,r?t.call(r):t()):function Dy(e,t){return e[t]}(a,o)}function nA(e,t,r,o){return function sA(e,t,r,o,a,d){const y=t+r;return vs(e,y,a)?Hu(e,y+1,d?o.call(d,a):o(a)):Fy(e,y+1)}(Ct(),bs(),e,t,r,o)}function rA(e,t,r,o,a){return aA(Ct(),bs(),e,t,r,o,a)}function iA(e,t,r,o,a,d){return function cA(e,t,r,o,a,d,y,I){const D=t+r;return function eE(e,t,r,o,a){const d=pf(e,t,r,o);return vs(e,t+2,a)||d}(e,D,a,d,y)?Hu(e,D+3,I?o.call(I,a,d,y):o(a,d,y)):Fy(e,D+3)}(Ct(),bs(),e,t,r,o,a,d)}function oA(e,t,r,o,a,d,y){return function uA(e,t,r,o,a,d,y,I,D){const k=t+r;return function kc(e,t,r,o,a,d){const y=pf(e,t,r,o);return pf(e,t+2,a,d)||y}(e,k,a,d,y,I)?Hu(e,k+4,D?o.call(D,a,d,y,I):o(a,d,y,I)):Fy(e,k+4)}(Ct(),bs(),e,t,r,o,a,d,y)}function Fy(e,t){const r=e[t];return r===Or?void 0:r}function aA(e,t,r,o,a,d,y){const I=t+r;return pf(e,I,a,d)?Hu(e,I+2,y?o.call(y,a,d):o(a,d)):Fy(e,I+2)}function dA(e,t){const r=vr();let o;const a=e+Rn;r.firstCreatePass?(o=function U1(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}}(t,r.pipeRegistry),r.data[a]=o,o.onDestroy&&(r.destroyHooks??=[]).push(a,o.onDestroy)):o=r.data[a];const d=o.factory||(o.factory=Is(o.type)),I=hi(ng);try{const D=Xl(!1),k=d();return Xl(D),function mo(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,Ct(),a,k),k}finally{hi(I)}}function hA(e,t,r,o){const a=e+Rn,d=Ct(),y=Fs(d,a);return function Ly(e,t){return e[Yt].data[t].pure}(d,a)?aA(d,bs(),t,y.transform,r,o,y):y.transform(r,o)}function fA(e,t){return Lu(e,t)}class MA{full;major;minor;patch;constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const yN=new MA("19.2.14");class _N{ngModuleFactory;componentFactories;constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let vN=(()=>{class e{compileModuleSync(r){return new nI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),d=ru(Vo(r).declarations).reduce((y,I)=>{const D=_r(I);return D&&y.push(new Ty(D)),y},[]);return new _N(o,d)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IN=(()=>{class e{zone=mn(yo);changeDetectionScheduler=mn(ys);applicationRef=mn(yc);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new yo({...tT(),scheduleInRootZone:r}),[{provide:yo,useFactory:e},{provide:Xi,multi:!0,useFactory:()=>{const o=mn(IN,{optional:!0});return()=>o.initialize()}},{provide:Xi,multi:!0,useFactory:()=>{const o=mn(bN);return()=>{o.initialize()}}},!0===t?{provide:Bf,useValue:!0}:[],{provide:jf,useValue:r??vu}]}function tT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let bN=(()=>{class e{subscription=new dr.yU;initialized=!1;zone=mn(yo);pendingTasks=mn(Xc);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{yo.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{yo.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uy=(()=>{class e{appRef=mn(yc);taskService=mn(Xc);ngZone=mn(yo);zonelessEnabled=mn(Qc);tracing=mn(ld,{optional:!0});disableScheduling=mn(Bf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new dr.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(mn(jf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Eu||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let o=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,o=!0;break;case 12:this.appRef.dirtyFlags|=16,o=!0;break;case 11:o=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;const a=this.useMicrotaskScheduler?Cg:Ky;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const rT=new ve("",{providedIn:"root",factory:()=>mn(rT,kn.Optional|kn.SkipSelf)||function DN(){return typeof $localize<"u"&&$localize.locale||hE}()}),AN=new ve("",{providedIn:"root",factory:()=>"USD"}),EE=new ve(""),MN=new ve("");function By(e){return!e.moduleRef}let rh=null;function LN(){return!1}let $A=(()=>class e{static __NG_ELEMENT_ID__=VN})();function VN(e){return function UN(e,t,r){if(Hi(e)&&!r){const o=Ao(e.index,t);return new Dl(o,o)}return 175&e.type?new Dl(t[ar],t):null}(Br(),Ct(),!(16&~e))}class GA{constructor(){}supports(t){return Jv(t)}create(t){return new zN(t)}}const HN=(e,t)=>t;class zN{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||HN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,d=null;for(;r||o;){const y=!o||r&&r.currentIndex<qA(o,a,d)?r:o,I=qA(y,a,d),D=y.currentIndex;if(y===o)a--,o=o._nextRemoved;else if(r=r._next,null==y.previousIndex)a++;else{d||(d=[]);const k=I-a,$=D-a;if(k!=$){for(let Ie=0;Ie<k;Ie++){const ce=Ie<d.length?d[Ie]:d[Ie]=0,ze=ce+Ie;$<=ze&&ze<k&&(d[Ie]=ce+1)}d[y.previousIndex]=$-k}}I!==D&&t(y,I,D)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Jv(t))throw new ct(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,d,y,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let I=0;I<this.length;I++)d=t[I],y=this._trackByFn(I,d),null!==r&&Object.is(r.trackById,y)?(o&&(r=this._verifyReinsertion(r,d,y,I)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,y,I),o=!0),r=r._next}else a=0,function kS(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,I=>{y=this._trackByFn(a,I),null!==r&&Object.is(r.trackById,y)?(o&&(r=this._verifyReinsertion(r,I,y,a)),Object.is(r.item,I)||this._addIdentityChange(r,I)):(r=this._mismatch(r,I,y,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,d,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,d,a)):t=this._addAfter(new WN(r,o),d,a),t}_verifyReinsertion(t,r,o,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?t=this._reinsertAfter(d,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,d=t._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new KA),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class WN{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,r){this.item=t,this.trackById=r}}class GN{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class KA{map=new Map;put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new GN,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qA(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class QA{constructor(){}supports(t){return t instanceof Map||cI(t)}create(){return new KN}}class KN{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||cI(t)))throw new ct(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const d=a._prev,y=a._next;return d&&(d._next=y),y&&(y._prev=d),a._next=null,a._prev=null,a}const o=new qN(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class qN{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function XA(){return new cT([new GA])}let cT=(()=>{class e{factories;static \u0275prov=Oe({token:e,providedIn:"root",factory:XA});constructor(r){this.factories=r}static create(r,o){if(null!=o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||XA()),deps:[[e,new po,new xr]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(null!=o)return o;throw new ct(901,!1)}}return e})();function ZA(){return new uT([new QA])}let uT=(()=>{class e{static \u0275prov=Oe({token:e,providedIn:"root",factory:ZA});factories;constructor(r){this.factories=r}static create(r,o){if(o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||ZA()),deps:[[e,new po,new xr]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(o)return o;throw new ct(901,!1)}}return e})();function ZN(e){_n(8);try{const{rootComponent:t,appProviders:r,platformProviders:o}=e,a=function FN(e=[]){if(rh)return rh;const t=function UA(e=[],t){return ms.create({name:t,providers:[{provide:Ri,useValue:"platform"},{provide:EE,useValue:new Set([()=>rh=null])},...e]})}(e);return rh=t,function ib(){!function We(e){Jt=e}(()=>{throw new ct(600,!1)})}(),function BA(e){const t=e.get(Kg,null);xs(e,()=>{t?.forEach(r=>r())})}(t),t}(o),d=[eT({}),{provide:ys,useExisting:Uy},...r||[]];return function FA(e){const t=By(e)?e.r3Injector:e.moduleRef.injector,r=t.get(yo);return r.run(()=>{By(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(lc,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:d=>{o.handleError(d)}})}),By(e)){const d=()=>t.destroy(),y=e.platformInjector.get(EE);y.add(d),t.onDestroy(()=>{a.unsubscribe(),y.delete(d)})}else{const d=()=>e.moduleRef.destroy(),y=e.platformInjector.get(EE);y.add(d),e.moduleRef.onDestroy(()=>{iE(e.allPlatformModules,e.moduleRef),a.unsubscribe(),y.delete(d)})}return function xN(e,t,r){try{const o=r();return yI(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const d=t.get(rb);return d.runInitializers(),d.donePromise.then(()=>{if(function vM(e){"string"==typeof e&&(Qb=e.toLowerCase().replace(/_/g,"-"))}(t.get(rT,hE)||hE),!t.get(MN,!0))return By(e)?t.get(yc):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(By(e)){const D=t.get(yc);return void 0!==e.rootComponent&&D.bootstrap(e.rootComponent),D}return function NN(e,t){const r=e.injector.get(yc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new ct(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new A0({providers:d,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:a,rootComponent:t})}catch(t){return Promise.reject(t)}finally{_n(9)}}function vx(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function uu(e){return function Bn(e){const t=Ee(null);try{return e()}finally{Ee(t)}}(e)}function $y(e,t){return function Fn(e,t){const r=Object.create(yn);r.computation=e,void 0!==t&&(r.equal=t);const o=()=>{if(st(r),Je(r),r.value===lt)throw r.error;return r.value};return o[qe]=r,o}(e,t?.equal)}function Bx(e){const t=_r(e);if(!t)return null;const r=new Ty(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1362:(vn,je,U)=>{"use strict";U.d(je,{h1:()=>fe,uA:()=>q});var T=U(467),N=U(6858);class q{constructor(me,pe,Je){this.name=me,this.instanceFactory=pe,this.type=Je,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(me){return this.instantiationMode=me,this}setMultipleInstances(me){return this.multipleInstances=me,this}setServiceProps(me){return this.serviceProps=me,this}setInstanceCreatedCallback(me){return this.onInstanceCreated=me,this}}const F="[DEFAULT]";class Ae{constructor(me,pe){this.name=me,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(me){const pe=this.normalizeInstanceIdentifier(me);if(!this.instancesDeferred.has(pe)){const Je=new N.cY;if(this.instancesDeferred.set(pe,Je),this.isInitialized(pe)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:pe});He&&Je.resolve(He)}catch{}}return this.instancesDeferred.get(pe).promise}getImmediate(me){var pe;const Je=this.normalizeInstanceIdentifier(me?.identifier),He=null!==(pe=me?.optional)&&void 0!==pe&&pe;if(!this.isInitialized(Je)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Je})}catch(st){if(He)return null;throw st}}getComponent(){return this.component}setComponent(me){if(me.name!==this.name)throw Error(`Mismatching Component ${me.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=me,this.shouldAutoInitialize()){if(function Ee(ke){return"EAGER"===ke.instantiationMode}(me))try{this.getOrInitializeService({instanceIdentifier:F})}catch{}for(const[pe,Je]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(pe);try{const st=this.getOrInitializeService({instanceIdentifier:He});Je.resolve(st)}catch{}}}}clearInstance(me=F){this.instancesDeferred.delete(me),this.instancesOptions.delete(me),this.instances.delete(me)}delete(){var me=this;return(0,T.A)(function*(){const pe=Array.from(me.instances.values());yield Promise.all([...pe.filter(Je=>"INTERNAL"in Je).map(Je=>Je.INTERNAL.delete()),...pe.filter(Je=>"_delete"in Je).map(Je=>Je._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(me=F){return this.instances.has(me)}getOptions(me=F){return this.instancesOptions.get(me)||{}}initialize(me={}){const{options:pe={}}=me,Je=this.normalizeInstanceIdentifier(me.instanceIdentifier);if(this.isInitialized(Je))throw Error(`${this.name}(${Je}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:Je,options:pe});for(const[st,Dt]of this.instancesDeferred.entries())Je===this.normalizeInstanceIdentifier(st)&&Dt.resolve(He);return He}onInit(me,pe){var Je;const He=this.normalizeInstanceIdentifier(pe),st=null!==(Je=this.onInitCallbacks.get(He))&&void 0!==Je?Je:new Set;st.add(me),this.onInitCallbacks.set(He,st);const Dt=this.instances.get(He);return Dt&&me(Dt,He),()=>{st.delete(me)}}invokeOnInitCallbacks(me,pe){const Je=this.onInitCallbacks.get(pe);if(Je)for(const He of Je)try{He(me,pe)}catch{}}getOrInitializeService({instanceIdentifier:me,options:pe={}}){let Je=this.instances.get(me);if(!Je&&this.component&&(Je=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=me,ke===F?void 0:ke),options:pe}),this.instances.set(me,Je),this.instancesOptions.set(me,pe),this.invokeOnInitCallbacks(Je,me),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,me,Je)}catch{}var ke;return Je||null}normalizeInstanceIdentifier(me=F){return this.component?this.component.multipleInstances?me:F:me}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(me){this.name=me,this.providers=new Map}addComponent(me){const pe=this.getProvider(me.name);if(pe.isComponentSet())throw new Error(`Component ${me.name} has already been registered with ${this.name}`);pe.setComponent(me)}addOrOverwriteComponent(me){this.getProvider(me.name).isComponentSet()&&this.providers.delete(me.name),this.addComponent(me)}getProvider(me){if(this.providers.has(me))return this.providers.get(me);const pe=new Ae(me,this);return this.providers.set(me,pe),pe}getProviders(){return Array.from(this.providers.values())}}},1397:(vn,je,U)=>{"use strict";U.d(je,{Z:()=>fe});var T=U(6354),N=U(8750),q=U(9974),F=U(5225),Ae=U(4360),Ee=U(8071);function fe(ke,me,pe=1/0){return(0,Ee.T)(me)?fe((Je,He)=>(0,T.T)((st,Dt)=>me(Je,st,He,Dt))((0,N.Tg)(ke(Je,He))),pe):("number"==typeof me&&(pe=me),(0,q.N)((Je,He)=>function qe(ke,me,pe,Je,He,st,Dt,Ut){const Ft=[];let Qt=0,ft=0,yt=!1;const bt=()=>{yt&&!Ft.length&&!Qt&&me.complete()},Me=Qe=>Qt<Je?tt(Qe):Ft.push(Qe),tt=Qe=>{st&&me.next(Qe),Qt++;let _t=!1;(0,N.Tg)(pe(Qe,ft++)).subscribe((0,Ae._)(me,zt=>{He?.(zt),st?Me(zt):me.next(zt)},()=>{_t=!0},void 0,()=>{if(_t)try{for(Qt--;Ft.length&&Qt<Je;){const zt=Ft.shift();Dt?(0,F.N)(me,Dt,()=>tt(zt)):tt(zt)}bt()}catch(zt){me.error(zt)}}))};return ke.subscribe((0,Ae._)(me,Me,()=>{yt=!0,bt()})),()=>{Ut?.()}}(Je,He,ke,pe)))}},1413:(vn,je,U)=>{"use strict";U.d(je,{B:()=>Ee});var T=U(1985),N=U(8359);const F=(0,U(1853).L)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=U(7908),qe=U(9786);let Ee=(()=>{class ke extends T.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const Je=new fe(this,this);return Je.operator=pe,Je}_throwIfClosed(){if(this.closed)throw new F}next(pe){(0,qe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Je of this.currentObservers)Je.next(pe)}})}error(pe){(0,qe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:Je}=this;for(;Je.length;)Je.shift().error(pe)}})}complete(){(0,qe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:Je,isStopped:He,observers:st}=this;return Je||He?N.Kn:(this.currentObservers=null,st.push(pe),new N.yU(()=>{this.currentObservers=null,(0,Ae.o)(st,pe)}))}_checkFinalizedStatuses(pe){const{hasError:Je,thrownError:He,isStopped:st}=this;Je?pe.error(He):st&&pe.complete()}asObservable(){const pe=new T.c;return pe.source=this,pe}}return ke.create=(me,pe)=>new fe(me,pe),ke})();class fe extends Ee{constructor(me,pe){super(),this.destination=me,this.source=pe}next(me){var pe,Je;null===(Je=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===Je||Je.call(pe,me)}error(me){var pe,Je;null===(Je=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===Je||Je.call(pe,me)}complete(){var me,pe;null===(pe=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===pe||pe.call(me)}_subscribe(me){var pe,Je;return null!==(Je=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(me))&&void 0!==Je?Je:N.Kn}}},1635:(vn,je,U)=>{"use strict";function F(Z,ue){var le={};for(var ge in Z)Object.prototype.hasOwnProperty.call(Z,ge)&&ue.indexOf(ge)<0&&(le[ge]=Z[ge]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(ge=Object.getOwnPropertySymbols(Z);te<ge.length;te++)ue.indexOf(ge[te])<0&&Object.prototype.propertyIsEnumerable.call(Z,ge[te])&&(le[ge[te]]=Z[ge[te]])}return le}function Je(Z,ue,le,ge){return new(le||(le=Promise))(function(de,Ge){function pt(er){try{Xt(ge.next(er))}catch(Ht){Ge(Ht)}}function rn(er){try{Xt(ge.throw(er))}catch(Ht){Ge(Ht)}}function Xt(er){er.done?de(er.value):function te(de){return de instanceof le?de:new le(function(Ge){Ge(de)})}(er.value).then(pt,rn)}Xt((ge=ge.apply(Z,ue||[])).next())})}function bt(Z){return this instanceof bt?(this.v=Z,this):new bt(Z)}function Me(Z,ue,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,ge=le.apply(Z,ue||[]),de=[];return te=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),pt("next"),pt("throw"),pt("return",function Ge(Bn){return function(Kt){return Promise.resolve(Kt).then(Bn,Ht)}}),te[Symbol.asyncIterator]=function(){return this},te;function pt(Bn,Kt){ge[Bn]&&(te[Bn]=function(On){return new Promise(function(Jn,In){de.push([Bn,On,Jn,In])>1||rn(Bn,On)})},Kt&&(te[Bn]=Kt(te[Bn])))}function rn(Bn,Kt){try{!function Xt(Bn){Bn.value instanceof bt?Promise.resolve(Bn.value.v).then(er,Ht):qn(de[0][2],Bn)}(ge[Bn](Kt))}catch(On){qn(de[0][3],On)}}function er(Bn){rn("next",Bn)}function Ht(Bn){rn("throw",Bn)}function qn(Bn,Kt){Bn(Kt),de.shift(),de.length&&rn(de[0][0],de[0][1])}}function Qe(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ue=Z[Symbol.asyncIterator];return ue?ue.call(Z):(Z=function Ut(Z){var ue="function"==typeof Symbol&&Symbol.iterator,le=ue&&Z[ue],ge=0;if(le)return le.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&ge>=Z.length&&(Z=void 0),{value:Z&&Z[ge++],done:!Z}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),le={},ge("next"),ge("throw"),ge("return"),le[Symbol.asyncIterator]=function(){return this},le);function ge(de){le[de]=Z[de]&&function(Ge){return new Promise(function(pt,rn){!function te(de,Ge,pt,rn){Promise.resolve(rn).then(function(Xt){de({value:Xt,done:pt})},Ge)}(pt,rn,(Ge=Z[de](Ge)).done,Ge.value)})}}}U.d(je,{AQ:()=>Me,N3:()=>bt,Tt:()=>F,sH:()=>Je,xN:()=>Qe}),"function"==typeof SuppressedError&&SuppressedError},1853:(vn,je,U)=>{"use strict";function T(N){const F=N(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return F.prototype=Object.create(Error.prototype),F.prototype.constructor=F,F}U.d(je,{L:()=>T})},1985:(vn,je,U)=>{"use strict";U.d(je,{c:()=>fe});var T=U(7707),N=U(8359),q=U(3494),F=U(1203),Ae=U(1026),qe=U(8071),Ee=U(9786);let fe=(()=>{class Je{constructor(st){st&&(this._subscribe=st)}lift(st){const Dt=new Je;return Dt.source=this,Dt.operator=st,Dt}subscribe(st,Dt,Ut){const Ft=function pe(Je){return Je&&Je instanceof T.vU||function me(Je){return Je&&(0,qe.T)(Je.next)&&(0,qe.T)(Je.error)&&(0,qe.T)(Je.complete)}(Je)&&(0,N.Uv)(Je)}(st)?st:new T.Ms(st,Dt,Ut);return(0,Ee.Y)(()=>{const{operator:Qt,source:ft}=this;Ft.add(Qt?Qt.call(Ft,ft):ft?this._subscribe(Ft):this._trySubscribe(Ft))}),Ft}_trySubscribe(st){try{return this._subscribe(st)}catch(Dt){st.error(Dt)}}forEach(st,Dt){return new(Dt=ke(Dt))((Ut,Ft)=>{const Qt=new T.Ms({next:ft=>{try{st(ft)}catch(yt){Ft(yt),Qt.unsubscribe()}},error:Ft,complete:Ut});this.subscribe(Qt)})}_subscribe(st){var Dt;return null===(Dt=this.source)||void 0===Dt?void 0:Dt.subscribe(st)}[q.s](){return this}pipe(...st){return(0,F.m)(st)(this)}toPromise(st){return new(st=ke(st))((Dt,Ut)=>{let Ft;this.subscribe(Qt=>Ft=Qt,Qt=>Ut(Qt),()=>Dt(Ft))})}}return Je.create=He=>new Je(He),Je})();function ke(Je){var He;return null!==(He=Je??Ae.$.Promise)&&void 0!==He?He:Promise}},2107:(vn,je,U)=>{"use strict";U.d(je,{wc:()=>Po,c7:()=>xo,Xm:()=>Xr});var T=U(2967),N=U(1360),q=U(7440),F=U(4125),Ae=U(6335),qe=U(2214),Ee=U(467),fe=U(7852),ke=U(6858),me=U(1362);const pe="firebasestorage.googleapis.com";class Ut extends ke.g{constructor(z,we,Ce=0){super(Qt(z),`Firebase Storage: ${we} (${Qt(z)})`),this.status_=Ce,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ut.prototype)}get status(){return this.status_}set status(z){this.status_=z}_codeEquals(z){return Qt(z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(z){this.customData.serverResponse=z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ft=function(W){return W.UNKNOWN="unknown",W.OBJECT_NOT_FOUND="object-not-found",W.BUCKET_NOT_FOUND="bucket-not-found",W.PROJECT_NOT_FOUND="project-not-found",W.QUOTA_EXCEEDED="quota-exceeded",W.UNAUTHENTICATED="unauthenticated",W.UNAUTHORIZED="unauthorized",W.UNAUTHORIZED_APP="unauthorized-app",W.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",W.INVALID_CHECKSUM="invalid-checksum",W.CANCELED="canceled",W.INVALID_EVENT_NAME="invalid-event-name",W.INVALID_URL="invalid-url",W.INVALID_DEFAULT_BUCKET="invalid-default-bucket",W.NO_DEFAULT_BUCKET="no-default-bucket",W.CANNOT_SLICE_BLOB="cannot-slice-blob",W.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",W.NO_DOWNLOAD_URL="no-download-url",W.INVALID_ARGUMENT="invalid-argument",W.INVALID_ARGUMENT_COUNT="invalid-argument-count",W.APP_DELETED="app-deleted",W.INVALID_ROOT_OPERATION="invalid-root-operation",W.INVALID_FORMAT="invalid-format",W.INTERNAL_ERROR="internal-error",W.UNSUPPORTED_ENVIRONMENT="unsupported-environment",W}(Ft||{});function Qt(W){return"storage/"+W}function Xe(W){return new Ut(Ft.INVALID_ARGUMENT,W)}function Jt(){return new Ut(Ft.APP_DELETED,"The Firebase app was deleted.")}class ue{constructor(z,we){this.bucket=z,this.path_=we}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const z=encodeURIComponent;return"/b/"+z(this.bucket)+"/o/"+z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(z,we){let Ce;try{Ce=ue.makeFromUrl(z,we)}catch{return new ue(z,"")}if(""===Ce.path)return Ce;throw function ot(W){return new Ut(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+W+"'.")}(z)}static makeFromUrl(z,we){let Ce=null;const nt="([A-Za-z0-9.\\-_]+)",wn=new RegExp("^gs://"+nt+"(/(.*))?$","i");function hr(bi){bi.path_=decodeURIComponent(bi.path)}const Lr=we.replace(/[.]/g,"\\."),pi=[{regex:wn,indices:{bucket:1,path:3},postModify:function Rt(bi){"/"===bi.path.charAt(bi.path.length-1)&&(bi.path_=bi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Lr}/v[A-Za-z0-9_]+/b/${nt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:hr},{regex:new RegExp(`^https?://${we===pe?"(?:storage.googleapis.com|storage.cloud.google.com)":we}/${nt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:hr}];for(let bi=0;bi<pi.length;bi++){const To=pi[bi],ti=To.regex.exec(z);if(ti){let Ko=ti[To.indices.path];Ko||(Ko=""),Ce=new ue(ti[To.indices.bucket],Ko),To.postModify(Ce);break}}if(null==Ce)throw function vt(W){return new Ut(Ft.INVALID_URL,"Invalid URL '"+W+"'.")}(z);return Ce}}class le{constructor(z){this.promise_=Promise.reject(z)}getPromise(){return this.promise_}cancel(z=!1){}}function Ht(W,z,we,Ce){if(Ce<z)throw Xe(`Invalid value for '${W}'. Expected ${z} or greater.`);if(Ce>we)throw Xe(`Invalid value for '${W}'. Expected ${we} or less.`)}var Kt=function(W){return W[W.NO_ERROR=0]="NO_ERROR",W[W.NETWORK_ERROR=1]="NETWORK_ERROR",W[W.ABORT=2]="ABORT",W}(Kt||{});class Jn{constructor(z,we,Ce,nt,Rt,Wt,wn,dn,hr,Qn,Lr,yi=!0,fi=!1){this.url_=z,this.method_=we,this.headers_=Ce,this.body_=nt,this.successCodes_=Rt,this.additionalRetryCodes_=Wt,this.callback_=wn,this.errorCallback_=dn,this.timeout_=hr,this.progressCallback_=Qn,this.connectionFactory_=Lr,this.retry=yi,this.isUsingEmulator=fi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Fi,Ti)=>{this.resolve_=Fi,this.reject_=Ti,this.start_()})}start_(){const we=(Ce,nt)=>{const Rt=this.resolve_,Wt=this.reject_,wn=nt.connection;if(nt.wasSuccessCode)try{const dn=this.callback_(wn,wn.getResponse());!function de(W){return void 0!==W}(dn)?Rt():Rt(dn)}catch(dn){Wt(dn)}else if(null!==wn){const dn=function ft(){return new Ut(Ft.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();dn.serverResponse=wn.getErrorText(),Wt(this.errorCallback_?this.errorCallback_(wn,dn):dn)}else Wt(nt.canceled?this.appDelete_?Jt():function zt(){return new Ut(Ft.CANCELED,"User canceled the upload/download.")}():function _t(){return new Ut(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?we(0,new In(!1,null,!0)):this.backoffId_=function ge(W,z,we){let Ce=1,nt=null,Rt=null,Wt=!1,wn=0;function dn(){return 2===wn}let hr=!1;function Qn(...ei){hr||(hr=!0,z.apply(null,ei))}function Lr(ei){nt=setTimeout(()=>{nt=null,W(fi,dn())},ei)}function yi(){Rt&&clearTimeout(Rt)}function fi(ei,...Ri){if(hr)return void yi();if(ei)return yi(),void Qn.call(null,ei,...Ri);if(dn()||Wt)return yi(),void Qn.call(null,ei,...Ri);let pi;Ce<64&&(Ce*=2),1===wn?(wn=2,pi=0):pi=1e3*(Ce+Math.random()),Lr(pi)}let Fi=!1;function Ti(ei){Fi||(Fi=!0,yi(),!hr&&(null!==nt?(ei||(wn=2),clearTimeout(nt),Lr(0)):ei||(wn=1)))}return Lr(0),Rt=setTimeout(()=>{Wt=!0,Ti(!0)},we),Ti}((Ce,nt)=>{if(nt)return void Ce(!1,new In(!1,null,!0));const Rt=this.connectionFactory_();this.pendingConnection_=Rt;const Wt=wn=>{null!==this.progressCallback_&&this.progressCallback_(wn.loaded,wn.lengthComputable?wn.total:-1)};null!==this.progressCallback_&&Rt.addUploadProgressListener(Wt),Rt.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Rt.removeUploadProgressListener(Wt),this.pendingConnection_=null;const wn=Rt.getErrorCode()===Kt.NO_ERROR,dn=Rt.getStatus();if(!wn||function On(W,z){const we=W>=500&&W<600,nt=-1!==[408,429].indexOf(W),Rt=-1!==z.indexOf(W);return we||nt||Rt}(dn,this.additionalRetryCodes_)&&this.retry){const Qn=Rt.getErrorCode()===Kt.ABORT;return void Ce(!1,new In(!1,null,Qn))}const hr=-1!==this.successCodes_.indexOf(dn);Ce(!0,new In(hr,Rt))})},we,this.timeout_)}getPromise(){return this.promise_}cancel(z){this.canceled_=!0,this.appDelete_=z||!1,null!==this.backoffId_&&function te(W){W(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class In{constructor(z,we,Ce){this.wasSuccessCode=z,this.connection=we,this.canceled=!!Ce}}class tr{constructor(z,we){this._service=z,this._location=we instanceof ue?we:ue.makeFromUrl(we,z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(z,we){return new tr(z,we)}get root(){const z=new ue(this._location.bucket,"");return this._newRef(this._service,z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function bn(W){const z=W.lastIndexOf("/",W.length-2);return-1===z?W:W.slice(z+1)}(this._location.path)}get storage(){return this._service}get parent(){const z=function di(W){if(0===W.length)return null;const z=W.lastIndexOf("/");return-1===z?"":W.slice(0,z)}(this._location.path);if(null===z)return null;const we=new ue(this._location.bucket,z);return new tr(this._service,we)}_throwIfRoot(z){if(""===this._location.path)throw function St(W){return new Ut(Ft.INVALID_ROOT_OPERATION,"The operation '"+W+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(z)}}function gr(W,z){const we=z?.storageBucket;return null==we?null:ue.makeFromBucketSpec(we,W)}class mr{constructor(z,we,Ce,nt,Rt,Wt=!1){this.app=z,this._authProvider=we,this._appCheckProvider=Ce,this._url=nt,this._firebaseVersion=Rt,this._isUsingEmulator=Wt,this._bucket=null,this._host=pe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=nt?ue.makeFromBucketSpec(nt,this._host):gr(this._host,this.app.options)}get host(){return this._host}set host(z){this._host=z,this._bucket=null!=this._url?ue.makeFromBucketSpec(this._url,z):gr(z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(z){Ht("time",0,Number.POSITIVE_INFINITY,z),this._maxUploadRetryTime=z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(z){Ht("time",0,Number.POSITIVE_INFINITY,z),this._maxOperationRetryTime=z}_getAuthToken(){var z=this;return(0,Ee.A)(function*(){if(z._overrideAuthToken)return z._overrideAuthToken;const we=z._authProvider.getImmediate({optional:!0});if(we){const Ce=yield we.getToken();if(null!==Ce)return Ce.accessToken}return null})()}_getAppCheckToken(){var z=this;return(0,Ee.A)(function*(){if((0,fe.xZ)(z.app)&&z.app.settings.appCheckToken)return z.app.settings.appCheckToken;const we=z._appCheckProvider.getImmediate({optional:!0});return we?(yield we.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(z=>z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(z){return new tr(this,z)}_makeRequest(z,we,Ce,nt,Rt=!0){if(this._deleted)return new le(Jt());{const Wt=function dr(W,z,we,Ce,nt,Rt,Wt=!0,wn=!1){const dn=function Bn(W){const z=encodeURIComponent;let we="?";for(const Ce in W)W.hasOwnProperty(Ce)&&(we=we+(z(Ce)+"=")+z(W[Ce])+"&");return we=we.slice(0,-1),we}(W.urlParams),hr=W.url+dn,Qn=Object.assign({},W.headers);return function wi(W,z){z&&(W["X-Firebase-GMPID"]=z)}(Qn,z),function Pr(W,z){null!==z&&z.length>0&&(W.Authorization="Firebase "+z)}(Qn,we),function Rr(W,z){W["X-Firebase-Storage-Version"]="webjs/"+(z??"AppManager")}(Qn,Rt),function ln(W,z){null!==z&&(W["X-Firebase-AppCheck"]=z)}(Qn,Ce),new Jn(hr,W.method,Qn,W.body,W.successCodes,W.additionalRetryCodes,W.handler,W.errorHandler,W.timeout,W.progressCallback,nt,Wt,wn)}(z,this._appId,Ce,nt,we,this._firebaseVersion,Rt,this._isUsingEmulator);return this._requests.add(Wt),Wt.getPromise().then(()=>this._requests.delete(Wt),()=>this._requests.delete(Wt)),Wt}}makeRequestWithTokens(z,we){var Ce=this;return(0,Ee.A)(function*(){const[nt,Rt]=yield Promise.all([Ce._getAuthToken(),Ce._getAppCheckToken()]);return Ce._makeRequest(z,we,nt,Rt).getPromise()})()}}const Bi="@firebase/storage",hi="0.13.12",Eo="storage";function ss(W=(0,fe.Sx)(),z){W=(0,ke.Ku)(W);const Ce=(0,fe.j6)(W,Eo).getImmediate({identifier:z}),nt=(0,ke.yU)("storage");return nt&&function mn(W,z,we,Ce={}){!function kn(W,z,we,Ce={}){W.host=`${z}:${we}`;const nt=(0,ke.zJ)(z);nt&&((0,ke.gE)(`https://${W.host}`),(0,ke.P1)("Storage",!0)),W._isUsingEmulator=!0,W._protocol=nt?"https":"http";const{mockUserToken:Rt}=Ce;Rt&&(W._overrideAuthToken="string"==typeof Rt?Rt:(0,ke.Fy)(Rt,W.app.options.projectId))}(W,z,we,Ce)}(Ce,...nt),Ce}function Ro(W,{instanceIdentifier:z}){const we=W.getProvider("app").getImmediate(),Ce=W.getProvider("auth-internal"),nt=W.getProvider("app-check-internal");return new mr(we,Ce,nt,z,fe.MF)}!function Yo(){(0,fe.om)(new me.uA(Eo,Ro,"PUBLIC").setMultipleInstances(!0)),(0,fe.KO)(Bi,hi,""),(0,fe.KO)(Bi,hi,"esm2017")}();class Po{constructor(z){return z}}const ws="storage",Wo=new N.nKC("angularfire2.storage-instances");function Go(W){return(z,we)=>{const Ce=z.runOutsideAngular(()=>W(we));return new Po(Ce)}}const Is={provide:class cs{constructor(){return(0,T.CA)(ws)}},deps:[[new N.Xx1,Wo]]},Wr={provide:Po,useFactory:function po(W,z){const we=(0,T.lR)(ws,W,z);return we&&new Po(we)},deps:[[new N.Xx1,Wo],q.XU]};function Xr(W,...z){return(0,qe.KO)("angularfire",T.xv.full,"gcs"),(0,N.EmA)([Wr,Is,{provide:Wo,useFactory:Go(W),multi:!0,deps:[N.SKi,N.zZn,T.u0,q.gL,[new N.Xx1,Ae.DF],[new N.Xx1,F.kR],...z]}])}const xo=(0,T.S3)(ss,!0)},2214:(vn,je,U)=>{"use strict";U.d(je,{Dk:()=>T.Dk,KO:()=>T.KO,Sx:()=>T.Sx,Wp:()=>T.Wp});var T=U(7852);(0,T.KO)("firebase","11.8.1","app")},2881:(vn,je,U)=>{"use strict";U.d(je,{MD:()=>no,Sq:()=>ki,YU:()=>pn,bT:()=>ye,fw:()=>q,vh:()=>ve});var T=U(1360),N=U(6048);let q=(()=>{class B extends N.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(K,J){super(),this._platformLocation=K,null!=J&&(this._baseHref=J)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}path(K=!1){const J=this._platformLocation.hash??"#";return J.length>0?J.substring(1):J}prepareExternalUrl(K){const J=(0,N.om)(this._baseHref,K);return J.length>0?"#"+J:J}pushState(K,J,Re,It){const sn=this.prepareExternalUrl(Re+(0,N.Q)(It))||this._platformLocation.pathname;this._platformLocation.pushState(K,J,sn)}replaceState(K,J,Re,It){const sn=this.prepareExternalUrl(Re+(0,N.Q)(It))||this._platformLocation.pathname;this._platformLocation.replaceState(K,J,sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(K=0){this._platformLocation.historyGo?.(K)}static \u0275fac=function(J){return new(J||B)(T.KVO(N.Vw),T.KVO(N.kB,8))};static \u0275prov=T.jDH({token:B,factory:B.\u0275fac})}return B})();var Ee=function(B){return B[B.Format=0]="Format",B[B.Standalone=1]="Standalone",B}(Ee||{}),fe=function(B){return B[B.Narrow=0]="Narrow",B[B.Abbreviated=1]="Abbreviated",B[B.Wide=2]="Wide",B[B.Short=3]="Short",B}(fe||{}),ke=function(B){return B[B.Short=0]="Short",B[B.Medium=1]="Medium",B[B.Long=2]="Long",B[B.Full=3]="Full",B}(ke||{});function ft(B,he){return yn((0,T.H5H)(B)[T.KH2.DateFormat],he)}function yt(B,he){return yn((0,T.H5H)(B)[T.KH2.TimeFormat],he)}function bt(B,he){return yn((0,T.H5H)(B)[T.KH2.DateTimeFormat],he)}function Me(B,he){const K=(0,T.H5H)(B),J=K[T.KH2.NumberSymbols][he];if(typeof J>"u"){if(12===he)return K[T.KH2.NumberSymbols][0];if(13===he)return K[T.KH2.NumberSymbols][1]}return J}function Fn(B){if(!B[T.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${B[T.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yn(B,he){for(let K=he;K>-1;K--)if(typeof B[K]<"u")return B[K];throw new Error("Locale data API: locale data undefined")}function Xe(B){const[he,K]=B.split(":");return{hours:+he,minutes:+K}}const Z=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ue={},le=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ge(B,he,K,J){let Re=function Mr(B){if(Er(B))return B;if("number"==typeof B&&!isNaN(B))return new Date(B);if("string"==typeof B){if(B=B.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(B)){const[Re,It=1,sn=1]=B.split("-").map(Nn=>+Nn);return te(Re,It-1,sn)}const K=parseFloat(B);if(!isNaN(B-K))return new Date(K);let J;if(J=B.match(Z))return function ct(B){const he=new Date(0);let K=0,J=0;const Re=B[8]?he.setUTCFullYear:he.setFullYear,It=B[8]?he.setUTCHours:he.setHours;B[9]&&(K=Number(B[9]+B[10]),J=Number(B[9]+B[11])),Re.call(he,Number(B[1]),Number(B[2])-1,Number(B[3]));const sn=Number(B[4]||0)-K,Nn=Number(B[5]||0)-J,ii=Number(B[6]||0),qr=Math.floor(1e3*parseFloat("0."+(B[7]||0)));return It.call(he,sn,Nn,ii,qr),he}(J)}const he=new Date(B);if(!Er(he))throw new Error(`Unable to convert "${B}" into a date`);return he}(B);he=de(K,he)||he;let Nn,sn=[];for(;he;){if(Nn=le.exec(he),!Nn){sn.push(he);break}{sn=sn.concat(Nn.slice(1));const Qr=sn.pop();if(!Qr)break;he=Qr}}let ii=Re.getTimezoneOffset();J&&(ii=dr(J,ii),Re=function Gi(B,he){const Re=B.getTimezoneOffset();return function on(B,he){return(B=new Date(B.getTime())).setMinutes(B.getMinutes()+he),B}(B,-1*(dr(he,Re)-Re))}(Re,J));let qr="";return sn.forEach(Qr=>{const gr=function ln(B){if(wi[B])return wi[B];let he;switch(B){case"G":case"GG":case"GGG":he=Ht(3,fe.Abbreviated);break;case"GGGG":he=Ht(3,fe.Wide);break;case"GGGGG":he=Ht(3,fe.Narrow);break;case"y":he=Xt(0,1,0,!1,!0);break;case"yy":he=Xt(0,2,0,!0,!0);break;case"yyy":he=Xt(0,3,0,!1,!0);break;case"yyyy":he=Xt(0,4,0,!1,!0);break;case"Y":he=Rr(1);break;case"YY":he=Rr(2,!0);break;case"YYY":he=Rr(3);break;case"YYYY":he=Rr(4);break;case"M":case"L":he=Xt(1,1,1);break;case"MM":case"LL":he=Xt(1,2,1);break;case"MMM":he=Ht(2,fe.Abbreviated);break;case"MMMM":he=Ht(2,fe.Wide);break;case"MMMMM":he=Ht(2,fe.Narrow);break;case"LLL":he=Ht(2,fe.Abbreviated,Ee.Standalone);break;case"LLLL":he=Ht(2,fe.Wide,Ee.Standalone);break;case"LLLLL":he=Ht(2,fe.Narrow,Ee.Standalone);break;case"w":he=Pr(1);break;case"ww":he=Pr(2);break;case"W":he=Pr(1,!0);break;case"d":he=Xt(2,1);break;case"dd":he=Xt(2,2);break;case"c":case"cc":he=Xt(7,1);break;case"ccc":he=Ht(1,fe.Abbreviated,Ee.Standalone);break;case"cccc":he=Ht(1,fe.Wide,Ee.Standalone);break;case"ccccc":he=Ht(1,fe.Narrow,Ee.Standalone);break;case"cccccc":he=Ht(1,fe.Short,Ee.Standalone);break;case"E":case"EE":case"EEE":he=Ht(1,fe.Abbreviated);break;case"EEEE":he=Ht(1,fe.Wide);break;case"EEEEE":he=Ht(1,fe.Narrow);break;case"EEEEEE":he=Ht(1,fe.Short);break;case"a":case"aa":case"aaa":he=Ht(0,fe.Abbreviated);break;case"aaaa":he=Ht(0,fe.Wide);break;case"aaaaa":he=Ht(0,fe.Narrow);break;case"b":case"bb":case"bbb":he=Ht(0,fe.Abbreviated,Ee.Standalone,!0);break;case"bbbb":he=Ht(0,fe.Wide,Ee.Standalone,!0);break;case"bbbbb":he=Ht(0,fe.Narrow,Ee.Standalone,!0);break;case"B":case"BB":case"BBB":he=Ht(0,fe.Abbreviated,Ee.Format,!0);break;case"BBBB":he=Ht(0,fe.Wide,Ee.Format,!0);break;case"BBBBB":he=Ht(0,fe.Narrow,Ee.Format,!0);break;case"h":he=Xt(3,1,-12);break;case"hh":he=Xt(3,2,-12);break;case"H":he=Xt(3,1);break;case"HH":he=Xt(3,2);break;case"m":he=Xt(4,1);break;case"mm":he=Xt(4,2);break;case"s":he=Xt(5,1);break;case"ss":he=Xt(5,2);break;case"S":he=Xt(6,1);break;case"SS":he=Xt(6,2);break;case"SSS":he=Xt(6,3);break;case"Z":case"ZZ":case"ZZZ":he=Bn(0);break;case"ZZZZZ":he=Bn(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":he=Bn(1);break;case"OOOO":case"ZZZZ":case"zzzz":he=Bn(2);break;default:return null}return wi[B]=he,he}(Qr);qr+=gr?gr(Re,K,ii):"''"===Qr?"'":Qr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),qr}function te(B,he,K){const J=new Date(0);return J.setFullYear(B,he,K),J.setHours(0,0,0),J}function de(B,he){const K=function Je(B){return(0,T.H5H)(B)[T.KH2.LocaleId]}(B);if(ue[K]??={},ue[K][he])return ue[K][he];let J="";switch(he){case"shortDate":J=ft(B,ke.Short);break;case"mediumDate":J=ft(B,ke.Medium);break;case"longDate":J=ft(B,ke.Long);break;case"fullDate":J=ft(B,ke.Full);break;case"shortTime":J=yt(B,ke.Short);break;case"mediumTime":J=yt(B,ke.Medium);break;case"longTime":J=yt(B,ke.Long);break;case"fullTime":J=yt(B,ke.Full);break;case"short":const Re=de(B,"shortTime"),It=de(B,"shortDate");J=Ge(bt(B,ke.Short),[Re,It]);break;case"medium":const sn=de(B,"mediumTime"),Nn=de(B,"mediumDate");J=Ge(bt(B,ke.Medium),[sn,Nn]);break;case"long":const ii=de(B,"longTime"),qr=de(B,"longDate");J=Ge(bt(B,ke.Long),[ii,qr]);break;case"full":const Qr=de(B,"fullTime"),gr=de(B,"fullDate");J=Ge(bt(B,ke.Full),[Qr,gr])}return J&&(ue[K][he]=J),J}function Ge(B,he){return he&&(B=B.replace(/\{([^}]+)}/g,function(K,J){return null!=he&&J in he?he[J]:K})),B}function pt(B,he,K="-",J,Re){let It="";(B<0||Re&&B<=0)&&(Re?B=1-B:(B=-B,It=K));let sn=String(B);for(;sn.length<he;)sn="0"+sn;return J&&(sn=sn.slice(sn.length-he)),It+sn}function Xt(B,he,K=0,J=!1,Re=!1){return function(It,sn){let Nn=function er(B,he){switch(B){case 0:return he.getFullYear();case 1:return he.getMonth();case 2:return he.getDate();case 3:return he.getHours();case 4:return he.getMinutes();case 5:return he.getSeconds();case 6:return he.getMilliseconds();case 7:return he.getDay();default:throw new Error(`Unknown DateType value "${B}".`)}}(B,It);if((K>0||Nn>-K)&&(Nn+=K),3===B)0===Nn&&-12===K&&(Nn=12);else if(6===B)return function rn(B,he){return pt(B,3).substring(0,he)}(Nn,he);const ii=Me(sn,5);return pt(Nn,he,ii,J,Re)}}function Ht(B,he,K=Ee.Format,J=!1){return function(Re,It){return function qn(B,he,K,J,Re,It){switch(K){case 2:return function Dt(B,he,K){const J=(0,T.H5H)(B),It=yn([J[T.KH2.MonthsFormat],J[T.KH2.MonthsStandalone]],he);return yn(It,K)}(he,Re,J)[B.getMonth()];case 1:return function st(B,he,K){const J=(0,T.H5H)(B),It=yn([J[T.KH2.DaysFormat],J[T.KH2.DaysStandalone]],he);return yn(It,K)}(he,Re,J)[B.getDay()];case 0:const sn=B.getHours(),Nn=B.getMinutes();if(It){const qr=function Sn(B){const he=(0,T.H5H)(B);return Fn(he),(he[T.KH2.ExtraData][2]||[]).map(J=>"string"==typeof J?Xe(J):[Xe(J[0]),Xe(J[1])])}(he),Qr=function Gn(B,he,K){const J=(0,T.H5H)(B);Fn(J);const It=yn([J[T.KH2.ExtraData][0],J[T.KH2.ExtraData][1]],he)||[];return yn(It,K)||[]}(he,Re,J),gr=qr.findIndex(kn=>{if(Array.isArray(kn)){const[mr,Bi]=kn,hi=sn>=mr.hours&&Nn>=mr.minutes,Eo=sn<Bi.hours||sn===Bi.hours&&Nn<Bi.minutes;if(mr.hours<Bi.hours){if(hi&&Eo)return!0}else if(hi||Eo)return!0}else if(kn.hours===sn&&kn.minutes===Nn)return!0;return!1});if(-1!==gr)return Qr[gr]}return function He(B,he,K){const J=(0,T.H5H)(B),It=yn([J[T.KH2.DayPeriodsFormat],J[T.KH2.DayPeriodsStandalone]],he);return yn(It,K)}(he,Re,J)[sn<12?0:1];case 3:return function Ut(B,he){return yn((0,T.H5H)(B)[T.KH2.Eras],he)}(he,J)[B.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${K}`)}}(Re,It,B,he,K,J)}}function Bn(B){return function(he,K,J){const Re=-1*J,It=Me(K,5),sn=Re>0?Math.floor(Re/60):Math.ceil(Re/60);switch(B){case 0:return(Re>=0?"+":"")+pt(sn,2,It)+pt(Math.abs(Re%60),2,It);case 1:return"GMT"+(Re>=0?"+":"")+pt(sn,1,It);case 2:return"GMT"+(Re>=0?"+":"")+pt(sn,2,It)+":"+pt(Math.abs(Re%60),2,It);case 3:return 0===J?"Z":(Re>=0?"+":"")+pt(sn,2,It)+":"+pt(Math.abs(Re%60),2,It);default:throw new Error(`Unknown zone width "${B}"`)}}}const Kt=0,On=4;function In(B){const he=B.getDay(),K=0===he?-3:On-he;return te(B.getFullYear(),B.getMonth(),B.getDate()+K)}function Pr(B,he=!1){return function(K,J){let Re;if(he){const It=new Date(K.getFullYear(),K.getMonth(),1).getDay()-1,sn=K.getDate();Re=1+Math.floor((sn+It)/7)}else{const It=In(K),sn=function Jn(B){const he=te(B,Kt,1).getDay();return te(B,0,1+(he<=On?On:On+7)-he)}(It.getFullYear()),Nn=It.getTime()-sn.getTime();Re=1+Math.round(Nn/6048e5)}return pt(Re,B,Me(J,5))}}function Rr(B,he=!1){return function(K,J){return pt(In(K).getFullYear(),B,Me(J,5),he)}}const wi={};function dr(B,he){B=B.replace(/:/g,"");const K=Date.parse("Jan 01, 1970 00:00:00 "+B)/6e4;return isNaN(K)?he:K}function Er(B){return B instanceof Date&&!isNaN(B.valueOf())}const ri=/\s+/,Ni=[];let pn=(()=>{class B{_ngEl;_renderer;initialClasses=Ni;rawClass;stateMap=new Map;constructor(K,J){this._ngEl=K,this._renderer=J}set klass(K){this.initialClasses=null!=K?K.trim().split(ri):Ni}set ngClass(K){this.rawClass="string"==typeof K?K.trim().split(ri):K}ngDoCheck(){for(const J of this.initialClasses)this._updateState(J,!0);const K=this.rawClass;if(Array.isArray(K)||K instanceof Set)for(const J of K)this._updateState(J,!0);else if(null!=K)for(const J of Object.keys(K))this._updateState(J,!!K[J]);this._applyStateDiff()}_updateState(K,J){const Re=this.stateMap.get(K);void 0!==Re?(Re.enabled!==J&&(Re.changed=!0,Re.enabled=J),Re.touched=!0):this.stateMap.set(K,{enabled:J,changed:!0,touched:!0})}_applyStateDiff(){for(const K of this.stateMap){const J=K[0],Re=K[1];Re.changed?(this._toggleClass(J,Re.enabled),Re.changed=!1):Re.touched||(Re.enabled&&this._toggleClass(J,!1),this.stateMap.delete(J)),Re.touched=!1}}_toggleClass(K,J){(K=K.trim()).length>0&&K.split(ri).forEach(Re=>{J?this._renderer.addClass(this._ngEl.nativeElement,Re):this._renderer.removeClass(this._ngEl.nativeElement,Re)})}static \u0275fac=function(J){return new(J||B)(T.rXU(T.aKT),T.rXU(T.sFG))};static \u0275dir=T.FsC({type:B,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return B})();class xi{$implicit;ngForOf;index;count;constructor(he,K,J,Re){this.$implicit=he,this.ngForOf=K,this.index=J,this.count=Re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ki=(()=>{class B{_viewContainer;_template;_differs;set ngForOf(K){this._ngForOf=K,this._ngForOfDirty=!0}set ngForTrackBy(K){this._trackByFn=K}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(K,J,Re){this._viewContainer=K,this._template=J,this._differs=Re}set ngForTemplate(K){K&&(this._template=K)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const K=this._ngForOf;!this._differ&&K&&(this._differ=this._differs.find(K).create(this.ngForTrackBy))}if(this._differ){const K=this._differ.diff(this._ngForOf);K&&this._applyChanges(K)}}_applyChanges(K){const J=this._viewContainer;K.forEachOperation((Re,It,sn)=>{if(null==Re.previousIndex)J.createEmbeddedView(this._template,new xi(Re.item,this._ngForOf,-1,-1),null===sn?void 0:sn);else if(null==sn)J.remove(null===It?void 0:It);else if(null!==It){const Nn=J.get(It);J.move(Nn,sn),Si(Nn,Re)}});for(let Re=0,It=J.length;Re<It;Re++){const Nn=J.get(Re).context;Nn.index=Re,Nn.count=It,Nn.ngForOf=this._ngForOf}K.forEachIdentityChange(Re=>{Si(J.get(Re.currentIndex),Re)})}static ngTemplateContextGuard(K,J){return!0}static \u0275fac=function(J){return new(J||B)(T.rXU(T.c1b),T.rXU(T.C4Q),T.rXU(T._q3))};static \u0275dir=T.FsC({type:B,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return B})();function Si(B,he){B.context.$implicit=he.item}let ye=(()=>{class B{_viewContainer;_context=new Ue;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(K,J){this._viewContainer=K,this._thenTemplateRef=J}set ngIf(K){this._context.$implicit=this._context.ngIf=K,this._updateView()}set ngIfThen(K){Nt(K),this._thenTemplateRef=K,this._thenViewRef=null,this._updateView()}set ngIfElse(K){Nt(K),this._elseTemplateRef=K,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(K,J){return!0}static \u0275fac=function(J){return new(J||B)(T.rXU(T.c1b),T.rXU(T.C4Q))};static \u0275dir=T.FsC({type:B,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return B})();class Ue{$implicit=null;ngIf=null}function Nt(B,he){if(B&&!B.createEmbeddedView)throw new T.wOt(2020,!1)}const mi=new T.nKC(""),Ii=new T.nKC("");let ve=(()=>{class B{locale;defaultTimezone;defaultOptions;constructor(K,J,Re){this.locale=K,this.defaultTimezone=J,this.defaultOptions=Re}transform(K,J,Re,It){if(null==K||""===K||K!=K)return null;try{return ge(K,J??this.defaultOptions?.dateFormat??"mediumDate",It||this.locale,Re??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(sn){throw function _e(B,he){return new T.wOt(2100,!1)}()}}static \u0275fac=function(J){return new(J||B)(T.rXU(T.xe9,16),T.rXU(mi,24),T.rXU(Ii,24))};static \u0275pipe=T.EJ8({name:"date",type:B,pure:!0})}return B})(),no=(()=>{class B{static \u0275fac=function(J){return new(J||B)};static \u0275mod=T.$C({type:B});static \u0275inj=T.G2t({})}return B})()},2967:(vn,je,U)=>{"use strict";U.d(je,{xv:()=>tt,u0:()=>Gn,CA:()=>zt,lR:()=>_t,S3:()=>We});var T=U(1360),N=U(2214),q=U(1985);function Je(Z){void 0===Z&&((0,T.Af3)(Je),Z=(0,T.WQX)(T.zZn));const ue=Z.get(T.u5s);return le=>new q.c(ge=>{const te=ue.add();let de=!1;function Ge(){de||(te(),de=!0)}const pt=le.subscribe({next:rn=>{ge.next(rn),Ge()},complete:()=>{ge.complete(),Ge()},error:rn=>{ge.error(rn),Ge()}});return pt.add(()=>{ge.unsubscribe(),Ge()}),pt})}var st=U(6780),Ut=U(3604);const Qt=new class Ft extends Ut.q{}(class Dt extends st.R{constructor(ue,le){super(ue,le),this.scheduler=ue,this.work=le}schedule(ue,le=0){return le>0?super.schedule(ue,le):(this.delay=le,this.state=ue,this.scheduler.flush(this),this)}execute(ue,le){return le>0||this.closed?super.execute(ue,le):this._execute(ue,le)}requestAsyncId(ue,le,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(ue,le,ge):(ue.flush(this),0)}});var yt=U(3236),bt=U(6745),Me=U(941);const tt=new T.RxE("ANGULARFIRE2_VERSION");function _t(Z,ue,le){if(ue){if(1===ue.length)return ue[0];const de=ue.filter(Ge=>Ge.app===le);if(1===de.length)return de[0]}return le.container.getProvider(Z).getImmediate({optional:!0})}const zt=(Z,ue)=>{const le=ue?[ue]:(0,N.Dk)(),ge=[];return le.forEach(te=>{te.container.getProvider(Z).instances.forEach(Ge=>{ge.includes(Ge)||ge.push(Ge)})}),ge};var vt=function(Z){return Z[Z.SILENT=0]="SILENT",Z[Z.WARN=1]="WARN",Z[Z.VERBOSE=2]="VERBOSE",Z}(vt||{}),ot=(0,T.naY)()&&typeof Zone<"u"?vt.WARN:vt.SILENT;class Sn{zone;delegate;constructor(ue,le=Qt){this.zone=ue,this.delegate=le}now(){return this.delegate.now()}schedule(ue,le,ge){const te=this.zone;return this.delegate.schedule(function(Ge){te?te.runGuarded(()=>{ue.apply(this,[Ge])}):ue.apply(this,[Ge])},le,ge)}}let Gn=(()=>{class Z{outsideAngular;insideAngular;constructor(){const le=(0,T.WQX)(T.SKi);this.outsideAngular=le.runOutsideAngular(()=>new Sn(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=le.run(()=>new Sn(typeof Zone>"u"?void 0:Zone.current,yt.E))}static \u0275fac=function(ge){return new(ge||Z)};static \u0275prov=T.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})();var lt=!1;function Jt(Z){const ue=(0,T.WQX)(T.SKi,{optional:!0});return ue?ue.run(()=>Z()):Z()}const St=(Z,ue,le)=>(...ge)=>(ue&&setTimeout(ue,0),(0,T.N4e)(le,()=>Jt(()=>Z.apply(void 0,ge)))),We=(Z,ue,le)=>(le||=ue?vt.WARN:vt.VERBOSE,function(){let ge;const te=arguments;let de,Ge,pt;try{de=(0,T.WQX)(Gn),Ge=(0,T.WQX)(T.u5s),pt=(0,T.WQX)(T.uvJ)}catch{return function yn(Z,ue){!lt&&(ot>vt.SILENT||(0,T.naY)())&&(lt=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ot>=ue&&console.warn(`Firebase API called outside injection context: ${Z.name}`)}(Z,le),Z.apply(this,te)}for(let Xt=0;Xt<arguments.length;Xt++)"function"==typeof te[Xt]&&(ue&&(ge||=Jt(()=>Ge.add())),te[Xt]=St(te[Xt],ge,pt));const rn=function Xe(Z){const ue=(0,T.WQX)(T.SKi,{optional:!0});return ue?ue.runOutsideAngular(()=>Z()):Z()}(()=>Z.apply(this,te));return ue?rn instanceof q.c?rn.pipe((0,bt._)(de.outsideAngular),(0,Me.Q)(de.insideAngular),Je(pt)):rn instanceof Promise?Jt(()=>new Promise((Xt,er)=>{Ge.run(()=>rn).then(Ht=>(0,T.N4e)(pt,()=>Jt(()=>Xt(Ht))),Ht=>(0,T.N4e)(pt,()=>Jt(()=>er(Ht))))})):"function"==typeof rn&&ge?function(){return setTimeout(ge,0),rn.apply(this,arguments)}:Jt(()=>rn):rn instanceof q.c?rn.pipe((0,bt._)(de.outsideAngular),(0,Me.Q)(de.insideAngular)):Jt(()=>rn)})},3073:(vn,je,U)=>{"use strict";U.d(je,{D:()=>Ae});const{isArray:T}=Array,{getPrototypeOf:N,prototype:q,keys:F}=Object;function Ae(Ee){if(1===Ee.length){const fe=Ee[0];if(T(fe))return{args:fe,keys:null};if(function qe(Ee){return Ee&&"object"==typeof Ee&&N(Ee)===q}(fe)){const ke=F(fe);return{args:ke.map(me=>fe[me]),keys:ke}}}return{args:Ee,keys:null}}},3236:(vn,je,U)=>{"use strict";U.d(je,{E:()=>q,b:()=>F});var T=U(6780);const q=new(U(3604).q)(T.R),F=q},3273:(vn,je,U)=>{"use strict";U.d(je,{Dc:()=>dr,gS:()=>ov,rJ:()=>QE,kd:()=>iv,H9:()=>V_,x7:()=>CT,GG:()=>ST,aU:()=>Sm,aQ:()=>fw,My:()=>jm,P:()=>Y_,BN:()=>Np,mZ:()=>rv,_M:()=>iw,wP:()=>Or});var fe,ke,T=U(467),N=U(7852),q=U(1362),F=U(8041),Ae=U(6858),qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ee={};(function(){var c;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(rt,Ne,$e){$e||($e=0);var it=Array(16);if("string"==typeof Ne)for(var at=0;16>at;++at)it[at]=Ne.charCodeAt($e++)|Ne.charCodeAt($e++)<<8|Ne.charCodeAt($e++)<<16|Ne.charCodeAt($e++)<<24;else for(at=0;16>at;++at)it[at]=Ne[$e++]|Ne[$e++]<<8|Ne[$e++]<<16|Ne[$e++]<<24;var Tt=rt.g[3],Be=(Ne=rt.g[0])+(Tt^($e=rt.g[1])&((at=rt.g[2])^Tt))+it[0]+3614090360&4294967295;Be=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=($e=(at=(Tt=(Ne=$e+(Be<<7&4294967295|Be>>>25))+((Be=Tt+(at^Ne&($e^at))+it[1]+3905402710&4294967295)<<12&4294967295|Be>>>20))+((Be=at+($e^Tt&(Ne^$e))+it[2]+606105819&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Ne^at&(Tt^Ne))+it[3]+3250441966&4294967295)<<22&4294967295|Be>>>10))+((Be=Ne+(Tt^$e&(at^Tt))+it[4]+4118548399&4294967295)<<7&4294967295|Be>>>25))+((Be=Tt+(at^Ne&($e^at))+it[5]+1200080426&4294967295)<<12&4294967295|Be>>>20))+((Be=at+($e^Tt&(Ne^$e))+it[6]+2821735955&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Ne^at&(Tt^Ne))+it[7]+4249261313&4294967295)<<22&4294967295|Be>>>10))+((Be=Ne+(Tt^$e&(at^Tt))+it[8]+1770035416&4294967295)<<7&4294967295|Be>>>25))+((Be=Tt+(at^Ne&($e^at))+it[9]+2336552879&4294967295)<<12&4294967295|Be>>>20))+((Be=at+($e^Tt&(Ne^$e))+it[10]+4294925233&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Ne^at&(Tt^Ne))+it[11]+2304563134&4294967295)<<22&4294967295|Be>>>10))+((Be=Ne+(Tt^$e&(at^Tt))+it[12]+1804603682&4294967295)<<7&4294967295|Be>>>25))+((Be=Tt+(at^Ne&($e^at))+it[13]+4254626195&4294967295)<<12&4294967295|Be>>>20))+((Be=at+($e^Tt&(Ne^$e))+it[14]+2792965006&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Ne^at&(Tt^Ne))+it[15]+1236535329&4294967295)<<22&4294967295|Be>>>10))+((Be=Ne+(at^Tt&($e^at))+it[1]+4129170786&4294967295)<<5&4294967295|Be>>>27))+((Be=Tt+($e^at&(Ne^$e))+it[6]+3225465664&4294967295)<<9&4294967295|Be>>>23))+((Be=at+(Ne^$e&(Tt^Ne))+it[11]+643717713&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(Tt^Ne&(at^Tt))+it[0]+3921069994&4294967295)<<20&4294967295|Be>>>12))+((Be=Ne+(at^Tt&($e^at))+it[5]+3593408605&4294967295)<<5&4294967295|Be>>>27))+((Be=Tt+($e^at&(Ne^$e))+it[10]+38016083&4294967295)<<9&4294967295|Be>>>23))+((Be=at+(Ne^$e&(Tt^Ne))+it[15]+3634488961&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(Tt^Ne&(at^Tt))+it[4]+3889429448&4294967295)<<20&4294967295|Be>>>12))+((Be=Ne+(at^Tt&($e^at))+it[9]+568446438&4294967295)<<5&4294967295|Be>>>27))+((Be=Tt+($e^at&(Ne^$e))+it[14]+3275163606&4294967295)<<9&4294967295|Be>>>23))+((Be=at+(Ne^$e&(Tt^Ne))+it[3]+4107603335&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(Tt^Ne&(at^Tt))+it[8]+1163531501&4294967295)<<20&4294967295|Be>>>12))+((Be=Ne+(at^Tt&($e^at))+it[13]+2850285829&4294967295)<<5&4294967295|Be>>>27))+((Be=Tt+($e^at&(Ne^$e))+it[2]+4243563512&4294967295)<<9&4294967295|Be>>>23))+((Be=at+(Ne^$e&(Tt^Ne))+it[7]+1735328473&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(Tt^Ne&(at^Tt))+it[12]+2368359562&4294967295)<<20&4294967295|Be>>>12))+((Be=Ne+($e^at^Tt)+it[5]+4294588738&4294967295)<<4&4294967295|Be>>>28))+((Be=Tt+(Ne^$e^at)+it[8]+2272392833&4294967295)<<11&4294967295|Be>>>21))+((Be=at+(Tt^Ne^$e)+it[11]+1839030562&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(at^Tt^Ne)+it[14]+4259657740&4294967295)<<23&4294967295|Be>>>9))+((Be=Ne+($e^at^Tt)+it[1]+2763975236&4294967295)<<4&4294967295|Be>>>28))+((Be=Tt+(Ne^$e^at)+it[4]+1272893353&4294967295)<<11&4294967295|Be>>>21))+((Be=at+(Tt^Ne^$e)+it[7]+4139469664&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(at^Tt^Ne)+it[10]+3200236656&4294967295)<<23&4294967295|Be>>>9))+((Be=Ne+($e^at^Tt)+it[13]+681279174&4294967295)<<4&4294967295|Be>>>28))+((Be=Tt+(Ne^$e^at)+it[0]+3936430074&4294967295)<<11&4294967295|Be>>>21))+((Be=at+(Tt^Ne^$e)+it[3]+3572445317&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(at^Tt^Ne)+it[6]+76029189&4294967295)<<23&4294967295|Be>>>9))+((Be=Ne+($e^at^Tt)+it[9]+3654602809&4294967295)<<4&4294967295|Be>>>28))+((Be=Tt+(Ne^$e^at)+it[12]+3873151461&4294967295)<<11&4294967295|Be>>>21))+((Be=at+(Tt^Ne^$e)+it[15]+530742520&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(at^Tt^Ne)+it[2]+3299628645&4294967295)<<23&4294967295|Be>>>9))+((Be=Ne+(at^($e|~Tt))+it[0]+4096336452&4294967295)<<6&4294967295|Be>>>26))+((Be=Tt+($e^(Ne|~at))+it[7]+1126891415&4294967295)<<10&4294967295|Be>>>22))+((Be=at+(Ne^(Tt|~$e))+it[14]+2878612391&4294967295)<<15&4294967295|Be>>>17))+((Be=$e+(Tt^(at|~Ne))+it[5]+4237533241&4294967295)<<21&4294967295|Be>>>11))+((Be=Ne+(at^($e|~Tt))+it[12]+1700485571&4294967295)<<6&4294967295|Be>>>26))+((Be=Tt+($e^(Ne|~at))+it[3]+2399980690&4294967295)<<10&4294967295|Be>>>22))+((Be=at+(Ne^(Tt|~$e))+it[10]+4293915773&4294967295)<<15&4294967295|Be>>>17))+((Be=$e+(Tt^(at|~Ne))+it[1]+2240044497&4294967295)<<21&4294967295|Be>>>11))+((Be=Ne+(at^($e|~Tt))+it[8]+1873313359&4294967295)<<6&4294967295|Be>>>26))+((Be=Tt+($e^(Ne|~at))+it[15]+4264355552&4294967295)<<10&4294967295|Be>>>22))+((Be=at+(Ne^(Tt|~$e))+it[6]+2734768916&4294967295)<<15&4294967295|Be>>>17))+((Be=$e+(Tt^(at|~Ne))+it[13]+1309151649&4294967295)<<21&4294967295|Be>>>11))+((Tt=(Ne=$e+((Be=Ne+(at^($e|~Tt))+it[4]+4149444226&4294967295)<<6&4294967295|Be>>>26))+((Be=Tt+($e^(Ne|~at))+it[11]+3174756917&4294967295)<<10&4294967295|Be>>>22))^((at=Tt+((Be=at+(Ne^(Tt|~$e))+it[2]+718787259&4294967295)<<15&4294967295|Be>>>17))|~Ne))+it[9]+3951481745&4294967295,rt.g[0]=rt.g[0]+Ne&4294967295,rt.g[1]=rt.g[1]+(at+(Be<<21&4294967295|Be>>>11))&4294967295,rt.g[2]=rt.g[2]+at&4294967295,rt.g[3]=rt.g[3]+Tt&4294967295}function E(rt,Ne){this.h=Ne;for(var $e=[],it=!0,at=rt.length-1;0<=at;at--){var Tt=0|rt[at];it&&Tt==Ne||($e[at]=Tt,it=!1)}this.g=$e}(function n(rt,Ne){function $e(){}$e.prototype=Ne.prototype,rt.D=Ne.prototype,rt.prototype=new $e,rt.prototype.constructor=rt,rt.C=function(it,at,Tt){for(var Be=Array(arguments.length-2),Pu=2;Pu<arguments.length;Pu++)Be[Pu-2]=arguments[Pu];return Ne.prototype[at].apply(it,Be)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(rt,Ne){void 0===Ne&&(Ne=rt.length);for(var $e=Ne-this.blockSize,it=this.B,at=this.h,Tt=0;Tt<Ne;){if(0==at)for(;Tt<=$e;)u(this,rt,Tt),Tt+=this.blockSize;if("string"==typeof rt){for(;Tt<Ne;)if(it[at++]=rt.charCodeAt(Tt++),at==this.blockSize){u(this,it),at=0;break}}else for(;Tt<Ne;)if(it[at++]=rt[Tt++],at==this.blockSize){u(this,it),at=0;break}}this.h=at,this.o+=Ne},s.prototype.v=function(){var rt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);rt[0]=128;for(var Ne=1;Ne<rt.length-8;++Ne)rt[Ne]=0;var $e=8*this.o;for(Ne=rt.length-8;Ne<rt.length;++Ne)rt[Ne]=255&$e,$e/=256;for(this.u(rt),rt=Array(16),Ne=$e=0;4>Ne;++Ne)for(var it=0;32>it;it+=8)rt[$e++]=this.g[Ne]>>>it&255;return rt};var C={};function M(rt){return-128<=rt&&128>rt?function g(rt,Ne){var $e=C;return Object.prototype.hasOwnProperty.call($e,rt)?$e[rt]:$e[rt]=Ne(rt)}(rt,function(Ne){return new E([0|Ne],0>Ne?-1:0)}):new E([0|rt],0>rt?-1:0)}function L(rt){if(isNaN(rt)||!isFinite(rt))return oe;if(0>rt)return nn(L(-rt));for(var Ne=[],$e=1,it=0;rt>=$e;it++)Ne[it]=rt/$e|0,$e*=4294967296;return new E(Ne,0)}var oe=M(0),xe=M(1),Et=M(16777216);function Bt(rt){if(0!=rt.h)return!1;for(var Ne=0;Ne<rt.g.length;Ne++)if(0!=rt.g[Ne])return!1;return!0}function cn(rt){return-1==rt.h}function nn(rt){for(var Ne=rt.g.length,$e=[],it=0;it<Ne;it++)$e[it]=~rt.g[it];return new E($e,~rt.h).add(xe)}function Zn(rt,Ne){return rt.add(nn(Ne))}function rr(rt,Ne){for(;(65535&rt[Ne])!=rt[Ne];)rt[Ne+1]+=rt[Ne]>>>16,rt[Ne]&=65535,Ne++}function Mn(rt,Ne){this.g=rt,this.h=Ne}function Fr(rt,Ne){if(Bt(Ne))throw Error("division by zero");if(Bt(rt))return new Mn(oe,oe);if(cn(rt))return Ne=Fr(nn(rt),Ne),new Mn(nn(Ne.g),nn(Ne.h));if(cn(Ne))return Ne=Fr(rt,nn(Ne)),new Mn(nn(Ne.g),Ne.h);if(30<rt.g.length){if(cn(rt)||cn(Ne))throw Error("slowDivide_ only works with positive integers.");for(var $e=xe,it=Ne;0>=it.l(rt);)$e=Mi($e),it=Mi(it);var at=oi($e,1),Tt=oi(it,1);for(it=oi(it,2),$e=oi($e,2);!Bt(it);){var Be=Tt.add(it);0>=Be.l(rt)&&(at=at.add($e),Tt=Be),it=oi(it,1),$e=oi($e,1)}return Ne=Zn(rt,at.j(Ne)),new Mn(at,Ne)}for(at=oe;0<=rt.l(Ne);){for($e=Math.max(1,Math.floor(rt.m()/Ne.m())),it=48>=(it=Math.ceil(Math.log($e)/Math.LN2))?1:Math.pow(2,it-48),Be=(Tt=L($e)).j(Ne);cn(Be)||0<Be.l(rt);)Be=(Tt=L($e-=it)).j(Ne);Bt(Tt)&&(Tt=xe),at=at.add(Tt),rt=Zn(rt,Be)}return new Mn(at,rt)}function Mi(rt){for(var Ne=rt.g.length+1,$e=[],it=0;it<Ne;it++)$e[it]=rt.i(it)<<1|rt.i(it-1)>>>31;return new E($e,rt.h)}function oi(rt,Ne){var $e=Ne>>5;Ne%=32;for(var it=rt.g.length-$e,at=[],Tt=0;Tt<it;Tt++)at[Tt]=0<Ne?rt.i(Tt+$e)>>>Ne|rt.i(Tt+$e+1)<<32-Ne:rt.i(Tt+$e);return new E(at,rt.h)}(c=E.prototype).m=function(){if(cn(this))return-nn(this).m();for(var rt=0,Ne=1,$e=0;$e<this.g.length;$e++){var it=this.i($e);rt+=(0<=it?it:4294967296+it)*Ne,Ne*=4294967296}return rt},c.toString=function(rt){if(2>(rt=rt||10)||36<rt)throw Error("radix out of range: "+rt);if(Bt(this))return"0";if(cn(this))return"-"+nn(this).toString(rt);for(var Ne=L(Math.pow(rt,6)),$e=this,it="";;){var at=Fr($e,Ne).g,Tt=((0<($e=Zn($e,at.j(Ne))).g.length?$e.g[0]:$e.h)>>>0).toString(rt);if(Bt($e=at))return Tt+it;for(;6>Tt.length;)Tt="0"+Tt;it=Tt+it}},c.i=function(rt){return 0>rt?0:rt<this.g.length?this.g[rt]:this.h},c.l=function(rt){return cn(rt=Zn(this,rt))?-1:Bt(rt)?0:1},c.abs=function(){return cn(this)?nn(this):this},c.add=function(rt){for(var Ne=Math.max(this.g.length,rt.g.length),$e=[],it=0,at=0;at<=Ne;at++){var Tt=it+(65535&this.i(at))+(65535&rt.i(at)),Be=(Tt>>>16)+(this.i(at)>>>16)+(rt.i(at)>>>16);it=Be>>>16,$e[at]=(Be&=65535)<<16|(Tt&=65535)}return new E($e,-2147483648&$e[$e.length-1]?-1:0)},c.j=function(rt){if(Bt(this)||Bt(rt))return oe;if(cn(this))return cn(rt)?nn(this).j(nn(rt)):nn(nn(this).j(rt));if(cn(rt))return nn(this.j(nn(rt)));if(0>this.l(Et)&&0>rt.l(Et))return L(this.m()*rt.m());for(var Ne=this.g.length+rt.g.length,$e=[],it=0;it<2*Ne;it++)$e[it]=0;for(it=0;it<this.g.length;it++)for(var at=0;at<rt.g.length;at++){var Tt=this.i(it)>>>16,Be=65535&this.i(it),Pu=rt.i(at)>>>16,Vd=65535&rt.i(at);$e[2*it+2*at]+=Be*Vd,rr($e,2*it+2*at),$e[2*it+2*at+1]+=Tt*Vd,rr($e,2*it+2*at+1),$e[2*it+2*at+1]+=Be*Pu,rr($e,2*it+2*at+1),$e[2*it+2*at+2]+=Tt*Pu,rr($e,2*it+2*at+2)}for(it=0;it<Ne;it++)$e[it]=$e[2*it+1]<<16|$e[2*it];for(it=Ne;it<2*Ne;it++)$e[it]=0;return new E($e,0)},c.A=function(rt){return Fr(this,rt).h},c.and=function(rt){for(var Ne=Math.max(this.g.length,rt.g.length),$e=[],it=0;it<Ne;it++)$e[it]=this.i(it)&rt.i(it);return new E($e,this.h&rt.h)},c.or=function(rt){for(var Ne=Math.max(this.g.length,rt.g.length),$e=[],it=0;it<Ne;it++)$e[it]=this.i(it)|rt.i(it);return new E($e,this.h|rt.h)},c.xor=function(rt){for(var Ne=Math.max(this.g.length,rt.g.length),$e=[],it=0;it<Ne;it++)$e[it]=this.i(it)^rt.i(it);return new E($e,this.h^rt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ke=Ee.Md5=s,E.prototype.add=E.prototype.add,E.prototype.multiply=E.prototype.j,E.prototype.modulo=E.prototype.A,E.prototype.compare=E.prototype.l,E.prototype.toNumber=E.prototype.m,E.prototype.toString=E.prototype.toString,E.prototype.getBits=E.prototype.i,E.fromNumber=L,E.fromString=function Q(rt,Ne){if(0==rt.length)throw Error("number format error: empty string");if(2>(Ne=Ne||10)||36<Ne)throw Error("radix out of range: "+Ne);if("-"==rt.charAt(0))return nn(Q(rt.substring(1),Ne));if(0<=rt.indexOf("-"))throw Error('number format error: interior "-" character');for(var $e=L(Math.pow(Ne,8)),it=oe,at=0;at<rt.length;at+=8){var Tt=Math.min(8,rt.length-at),Be=parseInt(rt.substring(at,at+Tt),Ne);8>Tt?(Tt=L(Math.pow(Ne,Tt)),it=it.j(Tt).add(L(Be))):it=(it=it.j($e)).add(L(Be))}return it},fe=Ee.Integer=E}).apply(typeof qe<"u"?qe:typeof self<"u"?self:typeof window<"u"?window:{});var Je,st,Dt,Ut,Ft,Qt,ft,yt,me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pe={};(function(){var c,n="function"==typeof Object.defineProperties?Object.defineProperty:function(v,x,H){return v==Array.prototype||v==Object.prototype||(v[x]=H.value),v},s=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof me&&me];for(var x=0;x<v.length;++x){var H=v[x];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}(this);!function u(v,x){if(x)e:{var H=s;v=v.split(".");for(var re=0;re<v.length-1;re++){var gt=v[re];if(!(gt in H))break e;H=H[gt]}(x=x(re=H[v=v[v.length-1]]))!=re&&null!=x&&n(H,v,{configurable:!0,writable:!0,value:x})}}("Array.prototype.values",function(v){return v||function(){return function g(v,x){v instanceof String&&(v+="");var H=0,re=!1,gt={next:function(){if(!re&&H<v.length){var xt=H++;return{value:x(xt,v[xt]),done:!1}}return re=!0,{done:!0,value:void 0}}};return gt[Symbol.iterator]=function(){return gt},gt}(this,function(x,H){return H})}});var E=E||{},C=this||self;function M(v){var x=typeof v;return"array"==(x="object"!=x?x:v?Array.isArray(v)?"array":x:"null")||"object"==x&&"number"==typeof v.length}function L(v){var x=typeof v;return"object"==x&&null!=v||"function"==x}function Q(v,x,H){return v.call.apply(v.bind,arguments)}function oe(v,x,H){if(!v)throw Error();if(2<arguments.length){var re=Array.prototype.slice.call(arguments,2);return function(){var gt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(gt,re),v.apply(x,gt)}}return function(){return v.apply(x,arguments)}}function xe(v,x,H){return(xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Q:oe).apply(null,arguments)}function Et(v,x){var H=Array.prototype.slice.call(arguments,1);return function(){var re=H.slice();return re.push.apply(re,arguments),v.apply(this,re)}}function Bt(v,x){function H(){}H.prototype=x.prototype,v.aa=x.prototype,v.prototype=new H,v.prototype.constructor=v,v.Qb=function(re,gt,xt){for(var Cn=Array(arguments.length-2),lo=2;lo<arguments.length;lo++)Cn[lo-2]=arguments[lo];return x.prototype[gt].apply(re,Cn)}}function cn(v){const x=v.length;if(0<x){const H=Array(x);for(let re=0;re<x;re++)H[re]=v[re];return H}return[]}function nn(v,x){for(let H=1;H<arguments.length;H++){const re=arguments[H];if(M(re)){const gt=v.length||0,xt=re.length||0;v.length=gt+xt;for(let Cn=0;Cn<xt;Cn++)v[gt+Cn]=re[Cn]}else v.push(re)}}function rr(v){return/^[\s\xa0]*$/.test(v)}function Mn(){var v=C.navigator;return v&&(v=v.userAgent)?v:""}function Fr(v){return Fr[" "](v),v}Fr[" "]=function(){};var Mi=!(-1==Mn().indexOf("Gecko")||-1!=Mn().toLowerCase().indexOf("webkit")&&-1==Mn().indexOf("Edge")||-1!=Mn().indexOf("Trident")||-1!=Mn().indexOf("MSIE")||-1!=Mn().indexOf("Edge"));function oi(v,x,H){for(const re in v)x.call(H,v[re],re,v)}function Ne(v){const x={};for(const H in v)x[H]=v[H];return x}const $e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(v,x){let H,re;for(let gt=1;gt<arguments.length;gt++){for(H in re=arguments[gt],re)v[H]=re[H];for(let xt=0;xt<$e.length;xt++)H=$e[xt],Object.prototype.hasOwnProperty.call(re,H)&&(v[H]=re[H])}}function at(v){var x=1;v=v.split(":");const H=[];for(;0<x&&v.length;)H.push(v.shift()),x--;return v.length&&H.push(v.join(":")),H}function Tt(v){C.setTimeout(()=>{throw v},0)}function Be(){var v=Xm;let x=null;return v.g&&(x=v.g,v.g=v.g.next,v.g||(v.h=null),x.next=null),x}var Vd=new class Zn{constructor(x,H){this.i=x,this.j=H,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}(()=>new Qm,v=>v.reset());class Qm{constructor(){this.next=this.g=this.h=null}set(x,H){this.h=x,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let wl,Kh=!1,Xm=new class Pu{constructor(){this.h=this.g=null}add(x,H){const re=Vd.get();re.set(x,H),this.h?this.h.next=re:this.g=re,this.h=re}},qh=()=>{const v=C.Promise.resolve(void 0);wl=()=>{v.then(bw)}};var bw=()=>{for(var v;v=Be();){try{v.h.call(v.g)}catch(H){Tt(H)}var x=Vd;x.j(v),100>x.h&&(x.h++,v.next=x.g,x.g=v)}Kh=!1};function ka(){this.s=this.s,this.C=this.C}function ns(v,x){this.type=v,this.g=this.target=x,this.defaultPrevented=!1}ka.prototype.s=!1,ka.prototype.ma=function(){this.s||(this.s=!0,this.N())},ka.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ns.prototype.h=function(){this.defaultPrevented=!0};var Zm=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var v=!1,x=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const H=()=>{};C.addEventListener("test",H,x),C.removeEventListener("test",H,x)}catch{}return v}();function Il(v,x){if(ns.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var H=this.type=v.type,re=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=x,x=v.relatedTarget){if(Mi){e:{try{Fr(x.nodeName);var gt=!0;break e}catch{}gt=!1}gt||(x=null)}}else"mouseover"==H?x=v.fromElement:"mouseout"==H&&(x=v.toElement);this.relatedTarget=x,re?(this.clientX=void 0!==re.clientX?re.clientX:re.pageX,this.clientY=void 0!==re.clientY?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:Dw[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Il.aa.h.call(this)}}Bt(Il,ns);var Dw={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Mu="closure_listenable_"+(1e6*Math.random()|0),Nu=0;function Ud(v,x,H,re,gt){this.listener=v,this.proxy=null,this.src=x,this.type=H,this.capture=!!re,this.ha=gt,this.key=++Nu,this.da=this.fa=!1}function Qh(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function kp(v){this.src=v,this.g={},this.h=0}function Op(v,x){var H=x.type;if(H in v.g){var xt,re=v.g[H],gt=Array.prototype.indexOf.call(re,x,void 0);(xt=0<=gt)&&Array.prototype.splice.call(re,gt,1),xt&&(Qh(x),0==v.g[H].length&&(delete v.g[H],v.h--))}}function Ym(v,x,H,re){for(var gt=0;gt<v.length;++gt){var xt=v[gt];if(!xt.da&&xt.listener==x&&xt.capture==!!H&&xt.ha==re)return gt}return-1}kp.prototype.add=function(v,x,H,re,gt){var xt=v.toString();(v=this.g[xt])||(v=this.g[xt]=[],this.h++);var Cn=Ym(v,x,re,gt);return-1<Cn?(x=v[Cn],H||(x.fa=!1)):((x=new Ud(x,this.src,xt,!!re,gt)).fa=H,v.push(x)),x};var Xh="closure_lm_"+(1e6*Math.random()|0),Tl={};function Fp(v,x,H,re,gt){if(re&&re.once)return Lp(v,x,H,re,gt);if(Array.isArray(x)){for(var xt=0;xt<x.length;xt++)Fp(v,x[xt],H,re,gt);return null}return H=Bd(H),v&&v[Mu]?v.K(x,H,L(re)?!!re.capture:!!re,gt):lv(v,x,H,!1,re,gt)}function lv(v,x,H,re,gt,xt){if(!x)throw Error("Invalid event type");var Cn=L(gt)?!!gt.capture:!!gt,lo=Zh(v);if(lo||(v[Xh]=lo=new kp(v)),(H=lo.add(x,H,re,Cn,xt)).proxy)return H;if(re=function Aw(){const x=dv;return function v(H){return x.call(v.src,v.listener,H)}}(),H.proxy=re,re.src=v,re.listener=H,v.addEventListener)Zm||(gt=Cn),void 0===gt&&(gt=!1),v.addEventListener(x.toString(),re,gt);else if(v.attachEvent)v.attachEvent(ey(x.toString()),re);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(re)}return H}function Lp(v,x,H,re,gt){if(Array.isArray(x)){for(var xt=0;xt<x.length;xt++)Lp(v,x[xt],H,re,gt);return null}return H=Bd(H),v&&v[Mu]?v.L(x,H,L(re)?!!re.capture:!!re,gt):lv(v,x,H,!0,re,gt)}function Jm(v,x,H,re,gt){if(Array.isArray(x))for(var xt=0;xt<x.length;xt++)Jm(v,x[xt],H,re,gt);else re=L(re)?!!re.capture:!!re,H=Bd(H),v&&v[Mu]?(v=v.i,(x=String(x).toString())in v.g&&-1<(H=Ym(xt=v.g[x],H,re,gt))&&(Qh(xt[H]),Array.prototype.splice.call(xt,H,1),0==xt.length&&(delete v.g[x],v.h--))):v&&(v=Zh(v))&&(x=v.g[x.toString()],v=-1,x&&(v=Ym(x,H,re,gt)),(H=-1<v?x[v]:null)&&Vp(H))}function Vp(v){if("number"!=typeof v&&v&&!v.da){var x=v.src;if(x&&x[Mu])Op(x.i,v);else{var H=v.type,re=v.proxy;x.removeEventListener?x.removeEventListener(H,re,v.capture):x.detachEvent?x.detachEvent(ey(H),re):x.addListener&&x.removeListener&&x.removeListener(re),(H=Zh(x))?(Op(H,v),0==H.h&&(H.src=null,x[Xh]=null)):Qh(v)}}}function ey(v){return v in Tl?Tl[v]:Tl[v]="on"+v}function dv(v,x){if(v.da)v=!0;else{x=new Il(x,this);var H=v.listener,re=v.ha||v.src;v.fa&&Vp(v),v=H.call(re,x)}return v}function Zh(v){return(v=v[Xh])instanceof kp?v:null}var Up="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bd(v){return"function"==typeof v?v:(v[Up]||(v[Up]=function(x){return v.handleEvent(x)}),v[Up])}function rs(){ka.call(this),this.i=new kp(this),this.M=this,this.F=null}function Js(v,x){var H,re=v.F;if(re)for(H=[];re;re=re.F)H.push(re);if(v=v.M,re=x.type||x,"string"==typeof x)x=new ns(x,v);else if(x instanceof ns)x.target=x.target||v;else{var gt=x;it(x=new ns(re,v),gt)}if(gt=!0,H)for(var xt=H.length-1;0<=xt;xt--){var Cn=x.g=H[xt];gt=jd(Cn,re,!0,x)&&gt}if(gt=jd(Cn=x.g=v,re,!0,x)&&gt,gt=jd(Cn,re,!1,x)&&gt,H)for(xt=0;xt<H.length;xt++)gt=jd(Cn=x.g=H[xt],re,!1,x)&&gt}function jd(v,x,H,re){if(!(x=v.i.g[String(x)]))return!0;x=x.concat();for(var gt=!0,xt=0;xt<x.length;++xt){var Cn=x[xt];if(Cn&&!Cn.da&&Cn.capture==H){var lo=Cn.listener,_s=Cn.ha||Cn.src;Cn.fa&&Op(v.i,Cn),gt=!1!==lo.call(_s,re)&&gt}}return gt&&!re.defaultPrevented}function Bp(v,x,H){if("function"==typeof v)H&&(v=xe(v,H));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=xe(v.handleEvent,v)}return 2147483647<Number(x)?-1:C.setTimeout(v,x||0)}function Yh(v){v.g=Bp(()=>{v.g=null,v.i&&(v.i=!1,Yh(v))},v.l);const x=v.h;v.h=null,v.m.apply(null,x)}Bt(rs,ka),rs.prototype[Mu]=!0,rs.prototype.removeEventListener=function(v,x,H,re){Jm(this,v,x,H,re)},rs.prototype.N=function(){if(rs.aa.N.call(this),this.i){var x,v=this.i;for(x in v.g){for(var H=v.g[x],re=0;re<H.length;re++)Qh(H[re]);delete v.g[x],v.h--}}this.F=null},rs.prototype.K=function(v,x,H,re){return this.i.add(String(v),x,!1,H,re)},rs.prototype.L=function(v,x,H,re){return this.i.add(String(v),x,!0,H,re)};class Cw extends ka{constructor(x,H){super(),this.m=x,this.l=H,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Yh(this)}N(){super.N(),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $d(v){ka.call(this),this.h=v,this.g={}}Bt($d,ka);var hv=[];function fv(v){oi(v.g,function(x,H){this.g.hasOwnProperty(H)&&Vp(x)},v),v.g={}}$d.prototype.N=function(){$d.aa.N.call(this),fv(this)},$d.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xu=C.JSON.stringify,ty=C.JSON.parse,pv=class{stringify(v){return C.JSON.stringify(v,void 0)}parse(v){return C.JSON.parse(v,void 0)}};function jp(){}function mv(){}jp.prototype.h=null;var Jh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ny(){ns.call(this,"d")}function ry(){ns.call(this,"c")}Bt(ny,ns),Bt(ry,ns);var bl={},iy=null;function ef(){return iy=iy||new rs}function yv(v){ns.call(this,bl.La,v)}function ku(v){const x=ef();Js(x,new yv(x))}function _v(v,x){ns.call(this,bl.STAT_EVENT,v),this.stat=x}function ea(v){const x=ef();Js(x,new _v(x,v))}function oy(v,x){ns.call(this,bl.Ma,v),this.size=x}function Hd(v,x){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){v()},x)}function tf(){this.g=!0}function Ou(v,x,H,re){v.info(function(){return"XMLHTTP TEXT ("+x+"): "+function Rw(v,x){if(!v.g)return x;if(!x)return null;try{var H=JSON.parse(x);if(H)for(v=0;v<H.length;v++)if(Array.isArray(H[v])){var re=H[v];if(!(2>re.length)){var gt=re[1];if(Array.isArray(gt)&&!(1>gt.length)){var xt=gt[0];if("noop"!=xt&&"stop"!=xt&&"close"!=xt)for(var Cn=1;Cn<gt.length;Cn++)gt[Cn]=""}}}return xu(H)}catch{return x}}(v,H)+(re?" "+re:"")})}bl.La="serverreachability",Bt(yv,ns),bl.STAT_EVENT="statevent",Bt(_v,ns),bl.Ma="timingevent",Bt(oy,ns),tf.prototype.xa=function(){this.g=!1},tf.prototype.info=function(){};var $p,Fu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function iu(){}function Pc(v,x,H,re){this.j=v,this.i=x,this.l=H,this.R=re||1,this.U=new $d(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zd}function zd(){this.i=null,this.g="",this.h=!1}Bt(iu,jp),iu.prototype.g=function(){return new XMLHttpRequest},iu.prototype.i=function(){return{}},$p=new iu;var wv={},Hp={};function Dl(v,x,H){v.L=1,v.v=sf(Nc(x)),v.m=H,v.P=!0,Pw(v,null)}function Pw(v,x){v.F=Date.now(),zp(v),v.A=Nc(v.v);var H=v.A,re=v.R;Array.isArray(re)||(re=[String(re)]),Nv(H.i,"t",re),v.C=0,H=v.j.J,v.h=new zd,v.g=$u(v.j,H?x:null,!v.m),0<v.O&&(v.M=new Cw(xe(v.Y,v,v.g),v.O)),x=v.U,H=v.g,re=v.ca;var gt="readystatechange";Array.isArray(gt)||(gt&&(hv[0]=gt.toString()),gt=hv);for(var xt=0;xt<gt.length;xt++){var Cn=Fp(H,gt[xt],re||x.handleEvent,!1,x.h||x);if(!Cn)break;x.g[Cn.key]=Cn}x=v.H?Ne(v.H):{},v.m?(v.u||(v.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,x)):(v.u="GET",v.g.ea(v.A,v.u,null,x)),ku(),function Sw(v,x,H,re,gt,xt){v.info(function(){if(v.g)if(xt)for(var Cn="",lo=xt.split("&"),_s=0;_s<lo.length;_s++){var Ei=lo[_s].split("=");if(1<Ei.length){var Us=Ei[0];Ei=Ei[1];var ta=Us.split("_");Cn=2<=ta.length&&"type"==ta[1]?Cn+(Us+"=")+Ei+"&":Cn+(Us+"=redacted&")}}else Cn=null;else Cn=xt;return"XMLHTTP REQ ("+re+") [attempt "+gt+"]: "+x+"\n"+H+"\n"+Cn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function Mw(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function nf(v,x){var H=v.C,re=x.indexOf("\n",H);return-1==re?Hp:(H=Number(x.substring(H,re)),isNaN(H)?wv:(re+=1)+H>x.length?Hp:(x=x.slice(re,re+H),v.C=re+H,x))}function zp(v){v.S=Date.now()+v.I,Iv(v,v.I)}function Iv(v,x){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Hd(xe(v.ba,v),x)}function ay(v){v.B&&(C.clearTimeout(v.B),v.B=null)}function Lu(v){0==v.j.G||v.J||Gv(v.j,v)}function ou(v){ay(v);var x=v.M;x&&"function"==typeof x.ma&&x.ma(),v.M=null,fv(v.U),v.g&&(x=v.g,v.g=null,x.abort(),x.ma())}function cy(v,x){try{var H=v.j;if(0!=H.G&&(H.g==v||Dv(H.h,v)))if(!v.K&&Dv(H.h,v)&&3==H.G){try{var re=H.Da.g.parse(x)}catch{re=null}if(Array.isArray(re)&&3==re.length){var gt=re;if(0==gt[0]){e:if(!H.u){if(H.g){if(!(H.g.F+3e3<v.F))break e;Zp(H),qp(H)}yy(H),ea(18)}}else H.za=gt[1],0<H.za-H.T&&37500>gt[2]&&H.F&&0==H.v&&!H.C&&(H.C=Hd(xe(H.Za,H),6e3));if(1>=bv(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Rl(H,11)}else if((v.K||H.g==v)&&Zp(H),!rr(x))for(gt=H.Da.g.parse(x),x=0;x<gt.length;x++){let Ei=gt[x];if(H.T=Ei[0],Ei=Ei[1],2==H.G)if("c"==Ei[0]){H.K=Ei[1],H.ia=Ei[2];const Us=Ei[3];null!=Us&&(H.la=Us,H.j.info("VER="+H.la));const ta=Ei[4];null!=ta&&(H.Aa=ta,H.j.info("SVER="+H.Aa));const Yd=Ei[5];null!=Yd&&"number"==typeof Yd&&0<Yd&&(H.L=re=1.5*Yd,H.j.info("backChannelRequestTimeoutMs_="+re)),re=H;const Ga=v.g;if(Ga){const Jp=Ga.g?Ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jp){var xt=re.h;xt.g||-1==Jp.indexOf("spdy")&&-1==Jp.indexOf("quic")&&-1==Jp.indexOf("h2")||(xt.j=xt.l,xt.g=new Set,xt.h&&(uy(xt,xt.h),xt.h=null))}if(re.D){const vy=Ga.g?Ga.g.getResponseHeader("X-HTTP-Session-Id"):null;vy&&(re.ya=vy,oo(re.I,re.D,vy))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-v.F,H.j.info("Handshake RTT: "+H.R+"ms"));var Cn=v;if((re=H).qa=qv(re,re.J?re.ia:null,re.W),Cn.K){xw(re.h,Cn);var lo=Cn,_s=re.L;_s&&(lo.I=_s),lo.B&&(ay(lo),zp(lo)),re.g=Cn}else zv(re);0<H.i.length&&Qp(H)}else"stop"!=Ei[0]&&"close"!=Ei[0]||Rl(H,7);else 3==H.G&&("stop"==Ei[0]||"close"==Ei[0]?"stop"==Ei[0]?Rl(H,7):Kp(H):"noop"!=Ei[0]&&H.l&&H.l.ta(Ei),H.v=0)}ku()}catch{}}Pc.prototype.ca=function(v){v=v.target;const x=this.M;x&&3==ju(v)?x.j():this.Y(v)},Pc.prototype.Y=function(v){try{if(v==this.g)e:{const ta=ju(this.g);var x=this.g.Ba();if(this.g.Z(),!(3>ta)&&(3!=ta||this.g&&(this.h.h||this.g.oa()||Uv(this.g)))){this.J||4!=ta||7==x||ku(),ay(this);var H=this.g.Z();this.X=H;t:if(Mw(this)){var re=Uv(this.g);v="";var gt=re.length,xt=4==ju(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ou(this),Lu(this);var Cn="";break t}this.h.i=new C.TextDecoder}for(x=0;x<gt;x++)this.h.h=!0,v+=this.h.i.decode(re[x],{stream:!(xt&&x==gt-1)});re.length=0,this.h.g+=v,this.C=0,Cn=this.h.g}else Cn=this.g.oa();if(this.o=200==H,function vv(v,x,H,re,gt,xt,Cn){v.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+gt+"]: "+x+"\n"+H+"\n"+xt+" "+Cn})}(this.i,this.u,this.A,this.l,this.R,ta,H),this.o){if(this.T&&!this.K){t:{if(this.g){var lo,_s=this.g;if((lo=_s.g?_s.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rr(lo)){var Ei=lo;break t}}Ei=null}if(!(H=Ei)){this.o=!1,this.s=3,ea(12),ou(this),Lu(this);break e}Ou(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cy(this,H)}if(this.P){let Ga;for(H=!0;!this.J&&this.C<Cn.length;){if(Ga=nf(this,Cn),Ga==Hp){4==ta&&(this.s=4,ea(14),H=!1),Ou(this.i,this.l,null,"[Incomplete Response]");break}if(Ga==wv){this.s=4,ea(15),Ou(this.i,this.l,Cn,"[Invalid Chunk]"),H=!1;break}Ou(this.i,this.l,Ga,null),cy(this,Ga)}if(Mw(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ta||0!=Cn.length||this.h.h||(this.s=1,ea(16),H=!1),this.o=this.o&&H,H){if(0<Cn.length&&!this.W){this.W=!0;var Us=this.j;Us.g==this&&Us.ba&&!Us.M&&(Us.j.info("Great, no buffering proxy detected. Bytes received: "+Cn.length),_y(Us),Us.M=!0,ea(11))}}else Ou(this.i,this.l,Cn,"[Invalid Chunked Response]"),ou(this),Lu(this)}else Ou(this.i,this.l,Cn,null),cy(this,Cn);4==ta&&ou(this),this.o&&!this.J&&(4==ta?Gv(this.j,this):(this.o=!1,zp(this)))}else(function Bv(v){const x={};v=(v.g&&2<=ju(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let re=0;re<v.length;re++){if(rr(v[re]))continue;var H=at(v[re]);const gt=H[0];if("string"!=typeof(H=H[1]))continue;H=H.trim();const xt=x[gt]||[];x[gt]=xt,xt.push(H)}!function rt(v,x){for(const H in v)x.call(void 0,v[H],H,v)}(x,function(re){return re.join(", ")})})(this.g),400==H&&0<Cn.indexOf("Unknown SID")?(this.s=3,ea(12)):(this.s=0,ea(13)),ou(this),Lu(this)}}}catch{}},Pc.prototype.cancel=function(){this.J=!0,ou(this)},Pc.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function Ev(v,x){v.info(function(){return"TIMEOUT: "+x})}(this.i,this.A),2!=this.L&&(ku(),ea(17)),ou(this),this.s=2,Lu(this)):Iv(this,this.S-v)};var zT=class{constructor(v,x){this.g=v,this.map=x}};function Nw(v){this.l=v||10,v=C.PerformanceNavigationTiming?0<(v=C.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(C.chrome&&C.chrome.loadTimes&&C.chrome.loadTimes()&&C.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tv(v){return!!v.h||!!v.g&&v.g.size>=v.j}function bv(v){return v.h?1:v.g?v.g.size:0}function Dv(v,x){return v.h?v.h==x:!!v.g&&v.g.has(x)}function uy(v,x){v.g?v.g.add(x):v.h=x}function xw(v,x){v.h&&v.h==x?v.h=null:v.g&&v.g.has(x)&&v.g.delete(x)}function Av(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let x=v.i;for(const H of v.g.values())x=x.concat(H.D);return x}return cn(v.i)}function Wp(v,x){if(v.forEach&&"function"==typeof v.forEach)v.forEach(x,void 0);else if(M(v)||"string"==typeof v)Array.prototype.forEach.call(v,x,void 0);else for(var H=function Ow(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(M(v)||"string"==typeof v){var x=[];v=v.length;for(var H=0;H<v;H++)x.push(H);return x}x=[],H=0;for(const re in v)x[H++]=re;return x}}}(v),re=function kw(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(M(v)){for(var x=[],H=v.length,re=0;re<H;re++)x.push(v[re]);return x}for(re in x=[],H=0,v)x[H++]=v[re];return x}(v),gt=re.length,xt=0;xt<gt;xt++)x.call(void 0,re[xt],H&&H[xt],v)}Nw.prototype.cancel=function(){if(this.i=Av(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var Wd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Mc){this.h=v.h,Vu(this,v.j),this.o=v.o,this.g=v.g,rf(this,v.s),this.l=v.l;var x=v.i,H=new af;H.i=x.i,x.g&&(H.g=new Map(x.g),H.h=x.h),Cv(this,H),this.m=v.m}else v&&(x=String(v).match(Wd))?(this.h=!1,Vu(this,x[1]||"",!0),this.o=Gd(x[2]||""),this.g=Gd(x[3]||"",!0),rf(this,x[4]),this.l=Gd(x[5]||"",!0),Cv(this,x[6]||"",!0),this.m=Gd(x[7]||"")):(this.h=!1,this.i=new af(null,this.h))}function Nc(v){return new Mc(v)}function Vu(v,x,H){v.j=H?Gd(x,!0):x,v.j&&(v.j=v.j.replace(/:$/,""))}function rf(v,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);v.s=x}else v.s=null}function Cv(v,x,H){x instanceof af?(v.i=x,function Gp(v,x){x&&!v.j&&(Uu(v),v.i=null,v.g.forEach(function(H,re){var gt=re.toLowerCase();re!=gt&&(Kd(this,re),Nv(this,gt,H))},v)),v.j=x}(v.i,v.h)):(H||(x=xc(x,Pv)),v.i=new af(x,v.h))}function oo(v,x,H){v.i.set(x,H)}function sf(v){return oo(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Gd(v,x){return v?x?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function xc(v,x,H){return"string"==typeof v?(v=encodeURI(v).replace(x,dy),H&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function dy(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}Mc.prototype.toString=function(){var v=[],x=this.j;x&&v.push(xc(x,Sv,!0),":");var H=this.g;return(H||"file"==x)&&(v.push("//"),(x=this.o)&&v.push(xc(x,Sv,!0),"@"),v.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(H=this.s)&&v.push(":",String(H))),(H=this.l)&&(this.g&&"/"!=H.charAt(0)&&v.push("/"),v.push(xc(H,"/"==H.charAt(0)?Rv:Fw,!0))),(H=this.i.toString())&&v.push("?",H),(H=this.m)&&v.push("#",xc(H,Lw)),v.join("")};var Sv=/[#\/\?@]/g,Fw=/[#\?:]/g,Rv=/[#\?]/g,Pv=/[#\?@]/g,Lw=/#/g;function af(v,x){this.h=this.g=null,this.i=v||null,this.j=!!x}function Uu(v){v.g||(v.g=new Map,v.h=0,v.i&&function ly(v,x){if(v){v=v.split("&");for(var H=0;H<v.length;H++){var re=v[H].indexOf("="),gt=null;if(0<=re){var xt=v[H].substring(0,re);gt=v[H].substring(re+1)}else xt=v[H];x(xt,gt?decodeURIComponent(gt.replace(/\+/g," ")):"")}}}(v.i,function(x,H){v.add(decodeURIComponent(x.replace(/\+/g," ")),H)}))}function Kd(v,x){Uu(v),x=qd(v,x),v.g.has(x)&&(v.i=null,v.h-=v.g.get(x).length,v.g.delete(x))}function Mv(v,x){return Uu(v),x=qd(v,x),v.g.has(x)}function Nv(v,x,H){Kd(v,x),0<H.length&&(v.i=null,v.g.set(qd(v,x),cn(H)),v.h+=H.length)}function qd(v,x){return x=String(x),v.j&&(x=x.toLowerCase()),x}function su(v,x,H,re,gt){try{gt&&(gt.onload=null,gt.onerror=null,gt.onabort=null,gt.ontimeout=null),re(H)}catch{}}function Vw(){this.g=new pv}function Ov(v,x,H){const re=H||"";try{Wp(v,function(gt,xt){let Cn=gt;L(gt)&&(Cn=xu(gt)),x.push(re+xt+"="+encodeURIComponent(Cn))})}catch(gt){throw x.push(re+"type="+encodeURIComponent("_badmap")),gt}}function Al(v){this.l=v.Ub||null,this.j=v.eb||!1}function Cl(v,x){rs.call(this),this.D=v,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Fv(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function cf(v){v.readyState=4,v.l=null,v.j=null,v.v=null,uf(v)}function uf(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function Lv(v){let x="";return oi(v,function(H,re){x+=re,x+=":",x+=H,x+="\r\n"}),x}function hy(v,x,H){e:{for(re in H){var re=!1;break e}re=!0}re||(H=Lv(H),"string"==typeof v?null!=H&&encodeURIComponent(String(H)):oo(v,x,H))}function is(v){rs.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=af.prototype).add=function(v,x){Uu(this),this.i=null,v=qd(this,v);var H=this.g.get(v);return H||this.g.set(v,H=[]),H.push(x),this.h+=1,this},c.forEach=function(v,x){Uu(this),this.g.forEach(function(H,re){H.forEach(function(gt){v.call(x,gt,re,this)},this)},this)},c.na=function(){Uu(this);const v=Array.from(this.g.values()),x=Array.from(this.g.keys()),H=[];for(let re=0;re<x.length;re++){const gt=v[re];for(let xt=0;xt<gt.length;xt++)H.push(x[re])}return H},c.V=function(v){Uu(this);let x=[];if("string"==typeof v)Mv(this,v)&&(x=x.concat(this.g.get(qd(this,v))));else{v=Array.from(this.g.values());for(let H=0;H<v.length;H++)x=x.concat(v[H])}return x},c.set=function(v,x){return Uu(this),this.i=null,Mv(this,v=qd(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[x]),this.h+=1,this},c.get=function(v,x){return v&&0<(v=this.V(v)).length?String(v[0]):x},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],x=Array.from(this.g.keys());for(var H=0;H<x.length;H++){var re=x[H];const xt=encodeURIComponent(String(re)),Cn=this.V(re);for(re=0;re<Cn.length;re++){var gt=xt;""!==Cn[re]&&(gt+="="+encodeURIComponent(String(Cn[re]))),v.push(gt)}}return this.i=v.join("&")},Bt(Al,jp),Al.prototype.g=function(){return new Cl(this.l,this.j)},Al.prototype.i=function(v){return function(){return v}}({}),Bt(Cl,rs),(c=Cl.prototype).open=function(v,x){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=x,this.readyState=1,uf(this)},c.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(x.body=v),(this.D||C).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cf(this)),this.readyState=0},c.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,uf(this)),this.g&&(this.readyState=3,uf(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof C.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fv(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var x=v.value?v.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!v.done}))&&(this.response=this.responseText+=x)}v.done?cf(this):uf(this),3==this.readyState&&Fv(this)}},c.Ra=function(v){this.g&&(this.response=this.responseText=v,cf(this))},c.Qa=function(v){this.g&&(this.response=v,cf(this))},c.ga=function(){this.g&&cf(this)},c.setRequestHeader=function(v,x){this.u.append(v,x)},c.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],x=this.h.entries();for(var H=x.next();!H.done;)v.push((H=H.value)[0]+": "+H[1]),H=x.next();return v.join("\r\n")},Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),Bt(is,rs);var fy=/^https?$/i,lf=["POST","PUT"];function py(v,x){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=x,v.m=5,gy(v),Bu(v)}function gy(v){v.A||(v.A=!0,Js(v,"complete"),Js(v,"error"))}function Vv(v){if(v.h&&typeof E<"u"&&(!v.v[1]||4!=ju(v)||2!=v.Z()))if(v.u&&4==ju(v))Bp(v.Ea,0,v);else if(Js(v,"readystatechange"),4==ju(v)){v.h=!1;try{const Cn=v.Z();e:switch(Cn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var H;if(!(H=x)){var re;if(re=0===Cn){var gt=String(v.D).match(Wd)[1]||null;!gt&&C.self&&C.self.location&&(gt=C.self.location.protocol.slice(0,-1)),re=!fy.test(gt?gt.toLowerCase():"")}H=re}if(H)Js(v,"complete"),Js(v,"success");else{v.m=6;try{var xt=2<ju(v)?v.g.statusText:""}catch{xt=""}v.l=xt+" ["+v.Z()+"]",gy(v)}}finally{Bu(v)}}}function Bu(v,x){if(v.g){df(v);const H=v.g,re=v.v[0]?()=>{}:null;v.g=null,v.v=null,x||Js(v,"ready");try{H.onreadystatechange=re}catch{}}}function df(v){v.I&&(C.clearTimeout(v.I),v.I=null)}function ju(v){return v.g?v.g.readyState:0}function Uv(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Sl(v,x,H){return H&&H.internalChannelParams&&H.internalChannelParams[v]||x}function jv(v){this.Aa=0,this.i=[],this.j=new tf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sl("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sl("baseRetryDelayMs",5e3,v),this.cb=Sl("retryDelaySeedMs",1e4,v),this.Wa=Sl("forwardChannelMaxRetries",2,v),this.wa=Sl("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Nw(v&&v.concurrentRequestLimit),this.Da=new Vw,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kp(v){if($v(v),3==v.G){var x=v.U++,H=Nc(v.I);if(oo(H,"SID",v.K),oo(H,"RID",x),oo(H,"TYPE","terminate"),Qd(v,H),(x=new Pc(v,v.j,x)).L=2,x.v=sf(Nc(H)),H=!1,C.navigator&&C.navigator.sendBeacon)try{H=C.navigator.sendBeacon(x.v.toString(),"")}catch{}!H&&C.Image&&((new Image).src=x.v,H=!0),H||(x.g=$u(x.j,null),x.g.ea(x.v)),x.F=Date.now(),zp(x)}Kv(v)}function qp(v){v.g&&(_y(v),v.g.cancel(),v.g=null)}function $v(v){qp(v),v.u&&(C.clearTimeout(v.u),v.u=null),Zp(v),v.h.cancel(),v.s&&("number"==typeof v.s&&C.clearTimeout(v.s),v.s=null)}function Qp(v){if(!Tv(v.h)&&!v.s){v.s=!0;var x=v.Ga;wl||qh(),Kh||(wl(),Kh=!0),Xm.add(x,v),v.B=0}}function my(v,x){var H;H=x?x.l:v.U++;const re=Nc(v.I);oo(re,"SID",v.K),oo(re,"RID",H),oo(re,"AID",v.T),Qd(v,re),v.m&&v.o&&hy(re,v.m,v.o),H=new Pc(v,v.j,H,v.B+1),null===v.m&&(H.H=v.o),x&&(v.i=x.D.concat(v.i)),x=Xp(v,H,1e3),H.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),uy(v.h,H),Dl(H,re,x)}function Qd(v,x){v.H&&oi(v.H,function(H,re){oo(x,re,H)}),v.l&&Wp({},function(H,re){oo(x,re,H)})}function Xp(v,x,H){H=Math.min(v.i.length,H);var re=v.l?xe(v.l.Na,v.l,v):null;e:{var gt=v.i;let xt=-1;for(;;){const Cn=["count="+H];-1==xt?0<H?(xt=gt[0].g,Cn.push("ofs="+xt)):xt=0:Cn.push("ofs="+xt);let lo=!0;for(let _s=0;_s<H;_s++){let Ei=gt[_s].g;const Us=gt[_s].map;if(Ei-=xt,0>Ei)xt=Math.max(0,gt[_s].g-100),lo=!1;else try{Ov(Us,Cn,"req"+Ei+"_")}catch{re&&re(Us)}}if(lo){re=Cn.join("&");break e}}}return v=v.i.splice(0,H),x.D=v,re}function zv(v){if(!v.g&&!v.u){v.Y=1;var x=v.Fa;wl||qh(),Kh||(wl(),Kh=!0),Xm.add(x,v),v.v=0}}function yy(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Hd(xe(v.Fa,v),Yp(v,v.v)),v.v++,0))}function _y(v){null!=v.A&&(C.clearTimeout(v.A),v.A=null)}function Wv(v){v.g=new Pc(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var x=Nc(v.qa);oo(x,"RID","rpc"),oo(x,"SID",v.K),oo(x,"AID",v.T),oo(x,"CI",v.F?"0":"1"),!v.F&&v.ja&&oo(x,"TO",v.ja),oo(x,"TYPE","xmlhttp"),Qd(v,x),v.m&&v.o&&hy(x,v.m,v.o),v.L&&(v.g.I=v.L);var H=v.g;v=v.ia,H.L=1,H.v=sf(Nc(x)),H.m=null,H.P=!0,Pw(H,v)}function Zp(v){null!=v.C&&(C.clearTimeout(v.C),v.C=null)}function Gv(v,x){var H=null;if(v.g==x){Zp(v),_y(v),v.g=null;var re=2}else{if(!Dv(v.h,x))return;H=x.D,xw(v.h,x),re=1}if(0!=v.G)if(x.o)if(1==re){H=x.m?x.m.length:0,x=Date.now()-x.F;var gt=v.B;Js(re=ef(),new oy(re,H)),Qp(v)}else zv(v);else if(3==(gt=x.s)||0==gt&&0<x.X||!(1==re&&function Hv(v,x){return!(bv(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=x.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Hd(xe(v.Ga,v,x),Yp(v,v.B)),v.B++,0)))}(v,x)||2==re&&yy(v)))switch(H&&0<H.length&&(x=v.h,x.i=x.i.concat(H)),gt){case 1:Rl(v,5);break;case 4:Rl(v,10);break;case 3:Rl(v,6);break;default:Rl(v,2)}}function Yp(v,x){let H=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(H*=2),H*x}function Rl(v,x){if(v.j.info("Error code "+x),2==x){var H=xe(v.fb,v),re=v.Xa;const gt=!re;re=new Mc(re||"//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||Vu(re,"https"),sf(re),gt?function xv(v,x){const H=new tf;if(C.Image){const re=new Image;re.onload=Et(su,H,"TestLoadImage: loaded",!0,x,re),re.onerror=Et(su,H,"TestLoadImage: error",!1,x,re),re.onabort=Et(su,H,"TestLoadImage: abort",!1,x,re),re.ontimeout=Et(su,H,"TestLoadImage: timeout",!1,x,re),C.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=v}else x(!1)}(re.toString(),H):function kv(v,x){new tf;const re=new AbortController,gt=setTimeout(()=>{re.abort(),su(0,0,!1,x)},1e4);fetch(v,{signal:re.signal}).then(xt=>{clearTimeout(gt),su(0,0,!!xt.ok,x)}).catch(()=>{clearTimeout(gt),su(0,0,!1,x)})}(re.toString(),H)}else ea(2);v.G=0,v.l&&v.l.sa(x),Kv(v),$v(v)}function Kv(v){if(v.G=0,v.ka=[],v.l){const x=Av(v.h);(0!=x.length||0!=v.i.length)&&(nn(v.ka,x),nn(v.ka,v.i),v.h.i.length=0,cn(v.i),v.i.length=0),v.l.ra()}}function qv(v,x,H){var re=H instanceof Mc?Nc(H):new Mc(H);if(""!=re.g)x&&(re.g=x+"."+re.g),rf(re,re.s);else{var gt=C.location;re=gt.protocol,x=x?x+"."+gt.hostname:gt.hostname,gt=+gt.port;var xt=new Mc(null);re&&Vu(xt,re),x&&(xt.g=x),gt&&rf(xt,gt),H&&(xt.l=H),re=xt}return x=v.ya,(H=v.D)&&x&&oo(re,H,x),oo(re,"VER",v.la),Qd(v,re),re}function $u(v,x,H){if(x&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(x=new is(v.Ca&&!v.pa?new Al({eb:H}):v.pa)).Ha(v.J),x}function Xd(){}function Zd(){}function la(v,x){rs.call(this),this.g=new jv(x),this.l=v,this.h=x&&x.messageUrlParams||null,v=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(v?v["X-WebChannel-Content-Type"]=x.messageContentType:v={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(v?v["X-WebChannel-Client-Profile"]=x.va:v={"X-WebChannel-Client-Profile":x.va}),this.g.S=v,(v=x&&x.Sb)&&!rr(v)&&(this.g.m=v),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!rr(x)&&(this.g.D=x,null!==(v=this.h)&&x in v&&x in(v=this.h)&&delete v[x]),this.j=new Ml(this)}function Qv(v){ny.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var x=v.__sm__;if(x){e:{for(const H in x){v=H;break e}v=void 0}(this.i=v)&&(v=this.i,x=null!==x&&v in x?x[v]:void 0),this.data=x}else this.data=v}function Pl(){ry.call(this),this.status=1}function Ml(v){this.g=v}(c=is.prototype).Ha=function(v){this.J=v},c.ea=function(v,x,H,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);x=x?x.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$p.g(),this.v=function gv(v){return v.h||(v.h=v.i())}(this.o?this.o:$p),this.g.onreadystatechange=xe(this.Ea,this);try{this.B=!0,this.g.open(x,String(v),!0),this.B=!1}catch(xt){return void py(this,xt)}if(v=H||"",H=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var gt in re)H.set(gt,re[gt]);else{if("function"!=typeof re.keys||"function"!=typeof re.get)throw Error("Unknown input type for opt_headers: "+String(re));for(const xt of re.keys())H.set(xt,re.get(xt))}re=Array.from(H.keys()).find(xt=>"content-type"==xt.toLowerCase()),gt=C.FormData&&v instanceof C.FormData,!(0<=Array.prototype.indexOf.call(lf,x,void 0))||re||gt||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xt,Cn]of H)this.g.setRequestHeader(xt,Cn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{df(this),this.u=!0,this.g.send(v),this.u=!1}catch(xt){py(this,xt)}},c.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Js(this,"complete"),Js(this,"abort"),Bu(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bu(this,!0)),is.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?Vv(this):this.bb())},c.bb=function(){Vv(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<ju(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(v){if(this.g){var x=this.g.responseText;return v&&0==x.indexOf(v)&&(x=x.substring(v.length)),ty(x)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=jv.prototype).la=8,c.G=1,c.connect=function(v,x,H,re){ea(0),this.W=v,this.H=x||{},H&&void 0!==re&&(this.H.OSID=H,this.H.OAID=re),this.F=this.X,this.I=qv(this,null,this.W),Qp(this)},c.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const gt=new Pc(this,this.j,v);let xt=this.o;if(this.S&&(xt?(xt=Ne(xt),it(xt,this.S)):xt=this.S),null!==this.m||this.O||(gt.H=xt,xt=null),this.P)e:{for(var x=0,H=0;H<this.i.length;H++){var re=this.i[H];if(void 0===(re="__data__"in re.map&&"string"==typeof(re=re.map.__data__)?re.length:void 0))break;if(4096<(x+=re)){x=H;break e}if(4096===x||H===this.i.length-1){x=H+1;break e}}x=1e3}else x=1e3;x=Xp(this,gt,x),oo(H=Nc(this.I),"RID",v),oo(H,"CVER",22),this.D&&oo(H,"X-HTTP-Session-Id",this.D),Qd(this,H),xt&&(this.O?x="headers="+encodeURIComponent(String(Lv(xt)))+"&"+x:this.m&&hy(H,this.m,xt)),uy(this.h,gt),this.Ua&&oo(H,"TYPE","init"),this.P?(oo(H,"$req",x),oo(H,"SID","null"),gt.T=!0,Dl(gt,H,null)):Dl(gt,H,x),this.G=2}}else 3==this.G&&(v?my(this,v):0==this.i.length||Tv(this.h)||my(this))},c.Fa=function(){if(this.u=null,Wv(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Hd(xe(this.ab,this),v)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ea(10),qp(this),Wv(this))},c.Za=function(){null!=this.C&&(this.C=null,qp(this),yy(this),ea(19))},c.fb=function(v){v?(this.j.info("Successfully pinged google.com"),ea(2)):(this.j.info("Failed to ping google.com"),ea(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=Xd.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Zd.prototype.g=function(v,x){return new la(v,x)},Bt(la,rs),la.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},la.prototype.close=function(){Kp(this.g)},la.prototype.o=function(v){var x=this.g;if("string"==typeof v){var H={};H.__data__=v,v=H}else this.u&&((H={}).__data__=xu(v),v=H);x.i.push(new zT(x.Ya++,v)),3==x.G&&Qp(x)},la.prototype.N=function(){this.g.l=null,delete this.j,Kp(this.g),delete this.g,la.aa.N.call(this)},Bt(Qv,ny),Bt(Pl,ry),Bt(Ml,Xd),Ml.prototype.ua=function(){Js(this.g,"a")},Ml.prototype.ta=function(v){Js(this.g,new Qv(v))},Ml.prototype.sa=function(v){Js(this.g,new Pl)},Ml.prototype.ra=function(){Js(this.g,"b")},Zd.prototype.createWebChannel=Zd.prototype.g,la.prototype.send=la.prototype.o,la.prototype.open=la.prototype.m,la.prototype.close=la.prototype.close,yt=pe.createWebChannelTransport=function(){return new Zd},ft=pe.getStatEventTarget=function(){return ef()},Qt=pe.Event=bl,Ft=pe.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fu.NO_ERROR=0,Fu.TIMEOUT=8,Fu.HTTP_ERROR=6,Ut=pe.ErrorCode=Fu,sy.COMPLETE="complete",Dt=pe.EventType=sy,mv.EventType=Jh,Jh.OPEN="a",Jh.CLOSE="b",Jh.ERROR="c",Jh.MESSAGE="d",rs.prototype.listen=rs.prototype.K,st=pe.WebChannel=mv,pe.FetchXmlHttpFactory=Al,is.prototype.listenOnce=is.prototype.L,is.prototype.getLastError=is.prototype.Ka,is.prototype.getLastErrorCode=is.prototype.Ba,is.prototype.getStatus=is.prototype.Z,is.prototype.getResponseJson=is.prototype.Oa,is.prototype.getResponseText=is.prototype.oa,is.prototype.send=is.prototype.ea,is.prototype.setWithCredentials=is.prototype.Ha,Je=pe.XhrIo=is}).apply(typeof me<"u"?me:typeof self<"u"?self:typeof window<"u"?window:{});const bt="@firebase/firestore";class tt{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");let Qe="11.8.1";const _t=new F.Vy("@firebase/firestore");function zt(){return _t.logLevel}function ot(c,...n){if(_t.logLevel<=F.$b.DEBUG){const i=n.map(Gn);_t.debug(`Firestore (${Qe}): ${c}`,...i)}}function Fn(c,...n){if(_t.logLevel<=F.$b.ERROR){const i=n.map(Gn);_t.error(`Firestore (${Qe}): ${c}`,...i)}}function Sn(c,...n){if(_t.logLevel<=F.$b.WARN){const i=n.map(Gn);_t.warn(`Firestore (${Qe}): ${c}`,...i)}}function Gn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function lt(c,n,i){let s="Unexpected state";"string"==typeof n?s=n:i=n,yn(c,s,i)}function yn(c,n,i){let s=`FIRESTORE (${Qe}) INTERNAL ASSERTION FAILED: ${n} (ID: ${c.toString(16)})`;if(void 0!==i)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Fn(s),new Error(s)}function Xe(c,n,i,s){let u="Unexpected state";"string"==typeof i?u=i:s=i,c||yn(n,u,s)}function St(c,n){return c}const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Ae.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ue{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class le{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class ge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(tt.UNAUTHENTICATED))}shutdown(){}}class te{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class de{constructor(n){this.t=n,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;Xe(void 0===this.o,42304);let u=this.i;const g=L=>this.i!==u?(u=this.i,i(L)):Promise.resolve();let E=new ue;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new ue,n.enqueueRetryable(()=>g(this.currentUser))};const C=()=>{const L=E;n.enqueueRetryable((0,T.A)(function*(){yield L.promise,yield g(s.currentUser)}))},M=L=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=L,this.o&&(this.auth.addAuthTokenListener(this.o),C())};this.t.onInit(L=>M(L)),setTimeout(()=>{if(!this.auth){const L=this.t.getImmediate({optional:!0});L?M(L):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new ue)}},0),C()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe("string"==typeof s.accessToken,31837,{l:s}),new le(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Xe(null===n||"string"==typeof n,2055,{h:n}),new tt(n)}}class Ge{constructor(n,i,s){this.P=n,this.T=i,this.I=s,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pt{constructor(n,i,s){this.P=n,this.T=i,this.I=s}getToken(){return Promise.resolve(new Ge(this.P,this.T,this.I))}start(n,i){n.enqueueRetryable(()=>i(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rn{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xt{constructor(n,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,N.xZ)(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,i){Xe(void 0===this.o,3512);const s=g=>{null!=g.error&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const E=g.token!==this.m;return this.m=g.token,ot("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?i(g.token):Promise.resolve()};this.o=g=>{n.enqueueRetryable(()=>s(g))};const u=g=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(g=>u(g)),setTimeout(()=>{if(!this.appCheck){const g=this.V.getImmediate({optional:!0});g?u(g):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rn(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Xe("string"==typeof i.token,44558,{tokenResult:i}),this.m=i.token,new rn(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ht(c){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<c;s++)i[s]=Math.floor(256*Math.random());return i}function qn(){return new TextEncoder}class Bn{static newId(){const i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=Ht(40);for(let g=0;g<u.length;++g)s.length<20&&u[g]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[g]%62))}return s}}function Kt(c,n){return c<n?-1:c>n?1:0}function On(c,n){let i=0;for(;i<c.length&&i<n.length;){const s=c.codePointAt(i),u=n.codePointAt(i);if(s!==u){if(s<128&&u<128)return Kt(s,u);{const g=qn(),E=In(g.encode(Jn(c,i)),g.encode(Jn(n,i)));return 0!==E?E:Kt(s,u)}}i+=s>65535?2:1}return Kt(c.length,n.length)}function Jn(c,n){return c.codePointAt(n)>65535?c.substring(n,n+2):c.substring(n,n+1)}function In(c,n){for(let i=0;i<c.length&&i<n.length;++i)if(c[i]!==n[i])return Kt(c[i],n[i]);return Kt(c.length,n.length)}function Pr(c,n,i){return c.length===n.length&&c.every((s,u)=>i(s,n[u]))}const wi=-62135596800;class dr{static now(){return dr.fromMillis(Date.now())}static fromDate(n){return dr.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new dr(i,s)}constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Z(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Z(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<wi)throw new Z(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Z(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Kt(this.nanoseconds,n.nanoseconds):Kt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-wi).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class on{static fromTimestamp(n){return new on(n)}static min(){return new on(new dr(0,0))}static max(){return new on(new dr(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gi="__name__";class Mr{constructor(n,i,s){void 0===i?i=0:i>n.length&&lt(637,{offset:i,range:n.length}),void 0===s?s=n.length-i:s>n.length-i&&lt(1746,{length:s,range:n.length-i}),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===Mr.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Mr?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const g=Mr.compareSegments(n.get(u),i.get(u));if(0!==g)return g}return Kt(n.length,i.length)}static compareSegments(n,i){const s=Mr.isNumericId(n),u=Mr.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?Mr.extractNumericId(n).compare(Mr.extractNumericId(i)):On(n,i)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return fe.fromString(n.substring(4,n.length-2))}}class ct extends Mr{construct(n,i,s){return new ct(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new Z(We.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new ct(i)}static emptyPath(){return new ct([])}}const Er=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends Mr{construct(n,i,s){return new Kn(n,i,s)}static isValidIdentifier(n){return Er.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Gi}static keyField(){return new Kn([Gi])}static fromServerFormat(n){const i=[];let s="",u=0;const g=()=>{if(0===s.length)throw new Z(We.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let E=!1;for(;u<n.length;){const C=n[u];if("\\"===C){if(u+1===n.length)throw new Z(We.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const M=n[u+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new Z(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=M,u+=2}else"`"===C?(E=!E,u++):"."!==C||E?(s+=C,u++):(g(),u++)}if(g(),E)throw new Z(We.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Kn(i)}static emptyPath(){return new Kn([])}}class Gt{constructor(n){this.path=n}static fromPath(n){return new Gt(ct.fromString(n))}static fromName(n){return new Gt(ct.fromString(n).popFirst(5))}static empty(){return new Gt(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===ct.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return ct.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Gt(new ct(n.slice()))}}class lr{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new lr(on.min(),Gt.empty(),-1)}static max(){return new lr(on.max(),Gt.empty(),-1)}}function bn(c,n){let i=c.readTime.compareTo(n.readTime);return 0!==i?i:(i=Gt.comparator(c.documentKey,n.documentKey),0!==i?i:Kt(c.largestBatchId,n.largestBatchId))}class Nr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function $n(c){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,T.A)(function*(c){if(c.code!==We.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==c.message)throw c;ot("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Le{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new Le((s,u)=>{this.nextCallback=g=>{this.wrapSuccess(n,g).next(s,u)},this.catchCallback=g=>{this.wrapFailure(i,g).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof Le?i:Le.resolve(i)}catch(i){return Le.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):Le.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):Le.reject(i)}static resolve(n){return new Le((i,s)=>{i(n)})}static reject(n){return new Le((i,s)=>{s(n)})}static waitFor(n){return new Le((i,s)=>{let u=0,g=0,E=!1;n.forEach(C=>{++u,C.next(()=>{++g,E&&g===u&&i()},M=>s(M))}),E=!0,g===u&&i()})}static or(n){let i=Le.resolve(!1);for(const s of n)i=i.next(u=>u?Le.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,g)=>{s.push(i.call(this,u,g))}),this.waitFor(s)}static mapArray(n,i){return new Le((s,u)=>{const g=n.length,E=new Array(g);let C=0;for(let M=0;M<g;M++){const L=M;i(n[L]).next(Q=>{E[L]=Q,++C,C===g&&s(E)},Q=>u(Q))}})}static doWhile(n,i){return new Le((s,u)=>{const g=()=>{!0===n()?i().next(()=>{g()},u):s()};g()})}}function wr(c){return"IndexedDbTransactionError"===c.name}let Ze=(()=>{class c{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ue(u),this.ce=u=>s.writeSequenceNumber(u))}ue(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ce&&this.ce(i),i}}return c.le=-1,c})();function An(c){return null==c}function pr(c){return 0===c&&1/c==-1/0}function ut(c,n){let i=n;const s=c.length;for(let u=0;u<s;u++){const g=c.charAt(u);switch(g){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=g}}return i}function wt(c){return c+"\x01\x01"}const mt="mutationQueues",Pt="mutations",Ii="documentMutations",xn="remoteDocumentGlobal",tr="targets",Cr="targetDocuments",B="targetGlobal",he="collectionParents",J="clientMetadata",It="bundles",Nn="namedQueries";function Wo(c){let n=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n++;return n}function po(c,n){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n(i,c[i])}function Is(c){for(const n in c)if(Object.prototype.hasOwnProperty.call(c,n))return!1;return!0}class Wr{constructor(n,i){this.comparator=n,this.root=i||Xr.EMPTY}insert(n,i){return new Wr(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(n){return new Wr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new ao(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new ao(this.root,n,this.comparator,!1)}getReverseIterator(){return new ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new ao(this.root,n,this.comparator,!0)}}class ao{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let g=1;for(;!n.isEmpty();)if(g=i?s(n.key,i):1,i&&u&&(g*=-1),g<0)n=this.isReverse?n.left:n.right;else{if(0===g){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Xr{constructor(n,i,s,u,g){this.key=n,this.value=i,this.color=s??Xr.RED,this.left=u??Xr.EMPTY,this.right=g??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,g){return new Xr(n??this.key,i??this.value,s??this.color,u??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const g=s(n,u.key);return u=g<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===g?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return Xr.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw lt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw lt(27949);return n+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw lt(57766)}get value(){throw lt(16141)}get color(){throw lt(16727)}get left(){throw lt(29726)}get right(){throw lt(36894)}copy(n,i,s,u,g){return this}insert(n,i,s){return new Xr(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zr{constructor(n){this.comparator=n,this.data=new Wr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ts(this.data.getIterator())}getIteratorFrom(n){return new Ts(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof Zr)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,g=s.getNext().key;if(0!==this.comparator(u,g))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Zr(this.comparator);return i.data=n,i}}class Ts{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class No{constructor(n){this.fields=n,n.sort(Kn.comparator)}static empty(){return new No([])}unionWith(n){let i=new Zr(Kn.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new No(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Pr(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class hs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Oi{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(g){throw typeof DOMException<"u"&&g instanceof DOMException?new hs("Invalid base64 string: "+g):g}}(n);return new Oi(i)}static fromUint8Array(n){const i=function(u){let g="";for(let E=0;E<u.length;++E)g+=String.fromCharCode(u[E]);return g}(n);return new Oi(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Kt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Oi.EMPTY_BYTE_STRING=new Oi("");const js=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(c){if(Xe(!!c,39018),"string"==typeof c){let n=0;const i=js.exec(c);if(Xe(!!i,46558,{timestamp:c}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(c);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:kr(c.seconds),nanos:kr(c.nanos)}}function kr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function yr(c){return"string"==typeof c?Oi.fromBase64String(c):Oi.fromUint8Array(c)}const Xi="server_timestamp",na="__type__",Ns="__previous_value__",Da="__local_write_time__";function Vo(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[na])||void 0===i?void 0:i.stringValue)===Xi}function _r(c){const n=c.mapValue.fields[Ns];return Vo(n)?_r(n):n}function W(c){const n=xo(c.mapValue.fields[Da].timestampValue);return new dr(n.seconds,n.nanos)}class z{constructor(n,i,s,u,g,E,C,M,L,Q){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=g,this.forceLongPolling=E,this.autoDetectLongPolling=C,this.longPollingOptions=M,this.useFetchStreams=L,this.isUsingEmulator=Q}}const we="(default)";class Ce{constructor(n,i){this.projectId=n,this.database=i||we}static empty(){return new Ce("","")}get isDefaultDatabase(){return this.database===we}isEqual(n){return n instanceof Ce&&n.projectId===this.projectId&&n.database===this.database}}const nt="__type__",Rt="__max__",Wt_mapValue={fields:{__type__:{stringValue:Rt}}},wn="__vector__",dn="value";function Qn(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?Vo(c)?4:Aa(c)?9007199254740991:fs(c)?10:11:lt(28295,{value:c})}function Lr(c,n){if(c===n)return!0;const i=Qn(c);if(i!==Qn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===n.booleanValue;case 4:return W(c).isEqual(W(n));case 3:return function(u,g){if("string"==typeof u.timestampValue&&"string"==typeof g.timestampValue&&u.timestampValue.length===g.timestampValue.length)return u.timestampValue===g.timestampValue;const E=xo(u.timestampValue),C=xo(g.timestampValue);return E.seconds===C.seconds&&E.nanos===C.nanos}(c,n);case 5:return c.stringValue===n.stringValue;case 6:return g=n,yr(c.bytesValue).isEqual(yr(g.bytesValue));case 7:return c.referenceValue===n.referenceValue;case 8:return function(u,g){return kr(u.geoPointValue.latitude)===kr(g.geoPointValue.latitude)&&kr(u.geoPointValue.longitude)===kr(g.geoPointValue.longitude)}(c,n);case 2:return function(u,g){if("integerValue"in u&&"integerValue"in g)return kr(u.integerValue)===kr(g.integerValue);if("doubleValue"in u&&"doubleValue"in g){const E=kr(u.doubleValue),C=kr(g.doubleValue);return E===C?pr(E)===pr(C):isNaN(E)&&isNaN(C)}return!1}(c,n);case 9:return Pr(c.arrayValue.values||[],n.arrayValue.values||[],Lr);case 10:case 11:return function(u,g){const E=u.mapValue.fields||{},C=g.mapValue.fields||{};if(Wo(E)!==Wo(C))return!1;for(const M in E)if(E.hasOwnProperty(M)&&(void 0===C[M]||!Lr(E[M],C[M])))return!1;return!0}(c,n);default:return lt(52216,{left:c})}var g}function yi(c,n){return void 0!==(c.values||[]).find(i=>Lr(i,n))}function fi(c,n){if(c===n)return 0;const i=Qn(c),s=Qn(n);if(i!==s)return Kt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Kt(c.booleanValue,n.booleanValue);case 2:return function(g,E){const C=kr(g.integerValue||g.doubleValue),M=kr(E.integerValue||E.doubleValue);return C<M?-1:C>M?1:C===M?0:isNaN(C)?isNaN(M)?0:-1:1}(c,n);case 3:return Fi(c.timestampValue,n.timestampValue);case 4:return Fi(W(c),W(n));case 5:return On(c.stringValue,n.stringValue);case 6:return function(g,E){const C=yr(g),M=yr(E);return C.compareTo(M)}(c.bytesValue,n.bytesValue);case 7:return function(g,E){const C=g.split("/"),M=E.split("/");for(let L=0;L<C.length&&L<M.length;L++){const Q=Kt(C[L],M[L]);if(0!==Q)return Q}return Kt(C.length,M.length)}(c.referenceValue,n.referenceValue);case 8:return function(g,E){const C=Kt(kr(g.latitude),kr(E.latitude));return 0!==C?C:Kt(kr(g.longitude),kr(E.longitude))}(c.geoPointValue,n.geoPointValue);case 9:return Ti(c.arrayValue,n.arrayValue);case 10:return function(g,E){var C,M,L,Q;const Et=null===(C=(g.fields||{})[dn])||void 0===C?void 0:C.arrayValue,Bt=null===(M=(E.fields||{})[dn])||void 0===M?void 0:M.arrayValue,cn=Kt((null===(L=Et?.values)||void 0===L?void 0:L.length)||0,(null===(Q=Bt?.values)||void 0===Q?void 0:Q.length)||0);return 0!==cn?cn:Ti(Et,Bt)}(c.mapValue,n.mapValue);case 11:return function(g,E){if(g===Wt_mapValue&&E===Wt_mapValue)return 0;if(g===Wt_mapValue)return 1;if(E===Wt_mapValue)return-1;const C=g.fields||{},M=Object.keys(C),L=E.fields||{},Q=Object.keys(L);M.sort(),Q.sort();for(let oe=0;oe<M.length&&oe<Q.length;++oe){const xe=On(M[oe],Q[oe]);if(0!==xe)return xe;const Et=fi(C[M[oe]],L[Q[oe]]);if(0!==Et)return Et}return Kt(M.length,Q.length)}(c.mapValue,n.mapValue);default:throw lt(23264,{Pe:i})}}function Fi(c,n){if("string"==typeof c&&"string"==typeof n&&c.length===n.length)return Kt(c,n);const i=xo(c),s=xo(n),u=Kt(i.seconds,s.seconds);return 0!==u?u:Kt(i.nanos,s.nanos)}function Ti(c,n){const i=c.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const g=fi(i[u],s[u]);if(g)return g}return Kt(i.length,s.length)}function ei(c){return Ri(c)}function Ri(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const s=xo(i);return`time(${s.seconds},${s.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?yr(c.bytesValue).toBase64():"referenceValue"in c?Gt.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let s="[",u=!0;for(const g of i.values||[])u?u=!1:s+=",",s+=Ri(g);return s+"]"}(c.arrayValue):"mapValue"in c?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",g=!0;for(const E of s)g?g=!1:u+=",",u+=`${E}:${Ri(i.fields[E])}`;return u+"}"}(c.mapValue):lt(61005,{value:c})}function co(c){switch(Qn(c)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=_r(c);return n?16+co(n):16;case 5:return 2*c.stringValue.length;case 6:return yr(c.bytesValue).approximateByteSize();case 7:return c.referenceValue.length;case 9:return(c.arrayValue.values||[]).reduce((u,g)=>u+co(g),0);case 10:case 11:return function(s){let u=0;return po(s.fields,(g,E)=>{u+=g.length+co(E)}),u}(c.mapValue);default:throw lt(13486,{value:c})}}function pi(c,n){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${n.path.canonicalString()}`}}function bi(c){return!!c&&"integerValue"in c}function To(c){return!!c&&"arrayValue"in c}function ti(c){return!!c&&"nullValue"in c}function go(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function Ko(c){return!!c&&"mapValue"in c}function fs(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[nt])||void 0===i?void 0:i.stringValue)===wn}function da(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const n={mapValue:{fields:{}}};return po(c.mapValue.fields,(i,s)=>n.mapValue.fields[i]=da(s)),n}if(c.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=da(c.arrayValue.values[i]);return n}return Object.assign({},c)}function Aa(c){return(((c.mapValue||{}).fields||{}).__type__||{}).stringValue===Rt}class ro{constructor(n){this.value=n}static empty(){return new ro({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!Ko(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=da(i)}setAll(n){let i=Kn.emptyPath(),s={},u=[];n.forEach((E,C)=>{if(!i.isImmediateParentOf(C)){const M=this.getFieldsMap(i);this.applyChanges(M,s,u),s={},u=[],i=C.popLast()}E?s[C.lastSegment()]=da(E):u.push(C.lastSegment())});const g=this.getFieldsMap(i);this.applyChanges(g,s,u)}delete(n){const i=this.field(n.popLast());Ko(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Lr(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];Ko(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){po(i,(u,g)=>n[u]=g);for(const u of s)delete n[u]}clone(){return new ro(da(this.value))}}function xs(c){const n=[];return po(c.fields,(i,s)=>{const u=new Kn([i]);if(Ko(s)){const g=xs(s.mapValue).fields;if(0===g.length)n.push(u);else for(const E of g)n.push(u.child(E))}else n.push(u)}),new No(n)}class ci{constructor(n,i,s,u,g,E,C){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=g,this.data=E,this.documentState=C}static newInvalidDocument(n){return new ci(n,0,on.min(),on.min(),on.min(),ro.empty(),0)}static newFoundDocument(n,i,s,u){return new ci(n,1,i,on.min(),s,u,0)}static newNoDocument(n,i){return new ci(n,2,i,on.min(),on.min(),ro.empty(),0)}static newUnknownDocument(n,i){return new ci(n,3,i,on.min(),on.min(),ro.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(on.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=ro.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=ro.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=on.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof ci&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ko{constructor(n,i){this.position=n,this.inclusive=i}}function ks(c,n,i){let s=0;for(let u=0;u<c.position.length;u++){const g=n[u],E=c.position[u];if(s=g.field.isKeyField()?Gt.comparator(Gt.fromName(E.referenceValue),i.key):fi(E,i.data.field(g.field)),"desc"===g.dir&&(s*=-1),0!==s)break}return s}function zs(c,n){if(null===c)return null===n;if(null===n||c.inclusive!==n.inclusive||c.position.length!==n.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!Lr(c.position[i],n.position[i]))return!1;return!0}class Ws{constructor(n,i="asc"){this.field=n,this.dir=i}}function vi(c,n){return c.dir===n.dir&&c.field.isEqual(n.field)}class fa{}class Hr extends fa{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new Gr(n,i,s):"array-contains"===i?new Uo(n,s):"in"===i?new ji(n,s):"not-in"===i?new Qo(n,s):"array-contains-any"===i?new Jo(n,s):new Hr(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new Yt(n,s):new nr(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&void 0===i.nullValue&&this.matchesComparison(fi(i,this.value)):null!==i&&Qn(this.value)===Qn(i)&&this.matchesComparison(fi(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends fa{constructor(n,i){super(),this.filters=n,this.op=i,this.Te=null}static create(n,i){return new Vr(n,i)}matches(n){return Ca(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ca(c){return"and"===c.op}function qa(c){return function Sa(c){for(const n of c.filters)if(n instanceof Vr)return!1;return!0}(c)&&Ca(c)}function Qa(c){if(c instanceof Hr)return c.field.canonicalString()+c.op.toString()+ei(c.value);if(qa(c))return c.filters.map(n=>Qa(n)).join(",");{const n=c.filters.map(i=>Qa(i)).join(",");return`${c.op}(${n})`}}function La(c,n){return c instanceof Hr?(s=c,(u=n)instanceof Hr&&s.op===u.op&&s.field.isEqual(u.field)&&Lr(s.value,u.value)):c instanceof Vr?function(s,u){return u instanceof Vr&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((g,E,C)=>g&&La(E,u.filters[C]),!0)}(c,n):void lt(19439);var s,u}function qo(c){return c instanceof Hr?`${(i=c).field.canonicalString()} ${i.op} ${ei(i.value)}`:c instanceof Vr?function(i){return i.op.toString()+" {"+i.getFilters().map(qo).join(" ,")+"}"}(c):"Filter";var i}class Gr extends Hr{constructor(n,i,s){super(n,i,s),this.key=Gt.fromName(s.referenceValue)}matches(n){const i=Gt.comparator(n.key,this.key);return this.matchesComparison(i)}}class Yt extends Hr{constructor(n,i){super(n,"in",i),this.keys=ui(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class nr extends Hr{constructor(n,i){super(n,"not-in",i),this.keys=ui(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function ui(c,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>Gt.fromName(s.referenceValue))}class Uo extends Hr{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return To(i)&&yi(i.arrayValue,this.value)}}class ji extends Hr{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&yi(this.value.arrayValue,i)}}class Qo extends Hr{constructor(n,i){super(n,"not-in",i)}matches(n){if(yi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&void 0===i.nullValue&&!yi(this.value.arrayValue,i)}}class Jo extends Hr{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!To(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>yi(this.value.arrayValue,s))}}class Ur{constructor(n,i=null,s=[],u=[],g=null,E=null,C=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=g,this.startAt=E,this.endAt=C,this.Ie=null}}function R(c,n=null,i=[],s=[],u=null,g=null,E=null){return new Ur(c,n,i,s,u,g,E)}function P(c){const n=St(c);if(null===n.Ie){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>Qa(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(g=s).field.canonicalString()+g.dir;var g}).join(","),An(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>ei(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>ei(s)).join(",")),n.Ie=i}return n.Ie}function j(c,n){if(c.limit!==n.limit||c.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!vi(c.orderBy[i],n.orderBy[i]))return!1;if(c.filters.length!==n.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!La(c.filters[i],n.filters[i]))return!1;return c.collectionGroup===n.collectionGroup&&!!c.path.isEqual(n.path)&&!!zs(c.startAt,n.startAt)&&zs(c.endAt,n.endAt)}function be(c){return Gt.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}class Li{constructor(n,i=null,s=[],u=[],g=null,E="F",C=null,M=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=g,this.limitType=E,this.startAt=C,this.endAt=M,this.Ee=null,this.de=null,this.Ae=null}}function bo(c){return new Li(c)}function Ks(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function Ra(c){return null!==c.collectionGroup}function us(c){const n=St(c);if(null===n.Ee){n.Ee=[];const i=new Set;for(const g of n.explicitOrderBy)n.Ee.push(g),i.add(g.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(E){let C=new Zr(Kn.comparator);return E.filters.forEach(M=>{M.getFlattenedFilters().forEach(L=>{L.isInequality()&&(C=C.add(L.field))})}),C})(n).forEach(g=>{i.has(g.canonicalString())||g.isKeyField()||n.Ee.push(new Ws(g,s))}),i.has(Kn.keyField().canonicalString())||n.Ee.push(new Ws(Kn.keyField(),s))}return n.Ee}function Do(c){const n=St(c);return n.de||(n.de=function ls(c,n){if("F"===c.limitType)return R(c.path,c.collectionGroup,n,c.filters,c.limit,c.startAt,c.endAt);{n=n.map(u=>new Ws(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new ko(c.endAt.position,c.endAt.inclusive):null,s=c.startAt?new ko(c.startAt.position,c.startAt.inclusive):null;return R(c.path,c.collectionGroup,n,c.filters,c.limit,i,s)}}(n,us(c))),n.de}function pa(c,n){const i=c.filters.concat([n]);return new Li(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function Rn(c,n,i){return new Li(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),n,i,c.startAt,c.endAt)}function ga(c,n){return j(Do(c),Do(n))&&c.limitType===n.limitType}function As(c){return`${P(Do(c))}|lt:${c.limitType}`}function ds(c){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>qo(u)).join(", ")}]`),An(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(E=u).field.canonicalString()} (${E.dir})`;var E}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>ei(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>ei(u)).join(",")),`Target(${s})`}(Do(c))}; limitType=${c.limitType})`}function ma(c,n){return n.isFoundDocument()&&function(s,u){const g=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(g):Gt.isDocumentKey(s.path)?s.path.isEqual(g):s.path.isImmediateParentOf(g)}(c,n)&&function(s,u){for(const g of us(s))if(!g.field.isKeyField()&&null===u.data.field(g.field))return!1;return!0}(c,n)&&function(s,u){for(const g of s.filters)if(!g.matches(u))return!1;return!0}(c,n)&&(u=n,!((s=c).startAt&&!function(E,C,M){const L=ks(E,C,M);return E.inclusive?L<=0:L<0}(s.startAt,us(s),u)||s.endAt&&!function(E,C,M){const L=ks(E,C,M);return E.inclusive?L>=0:L>0}(s.endAt,us(s),u)));var s,u}function Pi(c){return(n,i)=>{let s=!1;for(const u of us(c)){const g=Zi(u,n,i);if(0!==g)return g;s=s||u.field.isKeyField()}return 0}}function Zi(c,n,i){const s=c.field.isKeyField()?Gt.comparator(n.key,i.key):function(g,E,C){const M=E.data.field(g),L=C.data.field(g);return null!==M&&null!==L?fi(M,L):lt(42886)}(c.field,n,i);switch(c.dir){case"asc":return s;case"desc":return-1*s;default:return lt(19790,{direction:c.dir})}}class Di{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,g]of s)if(this.equalsFn(u,n))return g}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let g=0;g<u.length;g++)if(this.equalsFn(u[g][0],n))return void(u[g]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){po(this.inner,(i,s)=>{for(const[u,g]of s)n(u,g)})}isEmpty(){return Is(this.inner)}size(){return this.innerSize}}const Oc=new Wr(Gt.comparator);function Hi(){return Oc}const Xa=new Wr(Gt.comparator);function Xo(...c){let n=Xa;for(const i of c)n=n.insert(i.key,i);return n}function qs(c){let n=Xa;return c.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function m(){return l()}function h(){return l()}function l(){return new Di(c=>c.toString(),(c,n)=>c.isEqual(n))}const f=new Wr(Gt.comparator),w=new Zr(Gt.comparator);function S(...c){let n=w;for(const i of c)n=n.add(i);return n}const O=new Zr(Kt);function ne(c,n){if(c.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pr(n)?"-0":n}}function Se(c){return{integerValue:""+c}}function Ot(c,n){return function ee(c){return"number"==typeof c&&Number.isInteger(c)&&!pr(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}(n)?Se(n):ne(c,n)}class tn{constructor(){this._=void 0}}function zn(c,n,i){return c instanceof Xn?function(u,g){const E={fields:{[na]:{stringValue:Xi},[Da]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return g&&Vo(g)&&(g=_r(g)),g&&(E.fields[Ns]=g),{mapValue:E}}(i,n):c instanceof zr?io(c,n):c instanceof Yi?Bo(c,n):function(u,g){const E=Pn(u,g),C=Fc(E)+Fc(u.Re);return bi(E)&&bi(u.Re)?Se(C):ne(u.serializer,C)}(c,n)}function Yn(c,n,i){return c instanceof zr?io(c,n):c instanceof Yi?Bo(c,n):i}function Pn(c,n){return c instanceof jo?bi(s=n)||(g=s)&&"doubleValue"in g?n:{integerValue:0}:null;var s,g}class Xn extends tn{}class zr extends tn{constructor(n){super(),this.elements=n}}function io(c,n){const i=ya(n);for(const s of c.elements)i.some(u=>Lr(u,s))||i.push(s);return{arrayValue:{values:i}}}class Yi extends tn{constructor(n){super(),this.elements=n}}function Bo(c,n){let i=ya(n);for(const s of c.elements)i=i.filter(u=>!Lr(u,s));return{arrayValue:{values:i}}}class jo extends tn{constructor(n,i){super(),this.serializer=n,this.Re=i}}function Fc(c){return kr(c.integerValue||c.doubleValue)}function ya(c){return To(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class Za{constructor(n,i){this.version=n,this.transformResults=i}}class Ai{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new Ai}static exists(n){return new Ai(void 0,n)}static updateTime(n){return new Ai(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Lc(c,n){return void 0!==c.updateTime?n.isFoundDocument()&&n.version.isEqual(c.updateTime):void 0===c.exists||c.exists===n.isFoundDocument()}class ra{}function Ya(c,n){if(!c.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return c.isNoDocument()?new Wi(c.key,Ai.none()):new or(c.key,c.data,Ai.none());{const i=c.data,s=ro.empty();let u=new Zr(Kn.comparator);for(let g of n.fields)if(!u.has(g)){let E=i.field(g);null===E&&g.length>1&&(g=g.popLast(),E=i.field(g)),null===E?s.delete(g):s.set(g,E),u=u.add(g)}return new Dr(c.key,s,new No(u.toArray()),Ai.none())}}function xl(c,n,i){c instanceof or?function(u,g,E){const C=u.value.clone(),M=Os(u.fieldTransforms,g,E.transformResults);C.setAll(M),g.convertToFoundDocument(E.version,C).setHasCommittedMutations()}(c,n,i):c instanceof Dr?function(u,g,E){if(!Lc(u.precondition,g))return void g.convertToUnknownDocument(E.version);const C=Os(u.fieldTransforms,g,E.transformResults),M=g.data;M.setAll(ur(u)),M.setAll(C),g.convertToFoundDocument(E.version,M).setHasCommittedMutations()}(c,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function zi(c,n,i,s){return c instanceof or?function(g,E,C,M){if(!Lc(g.precondition,E))return C;const L=g.value.clone(),Q=$o(g.fieldTransforms,M,E);return L.setAll(Q),E.convertToFoundDocument(E.version,L).setHasLocalMutations(),null}(c,n,i,s):c instanceof Dr?function(g,E,C,M){if(!Lc(g.precondition,E))return C;const L=$o(g.fieldTransforms,M,E),Q=E.data;return Q.setAll(ur(g)),Q.setAll(L),E.convertToFoundDocument(E.version,Q).setHasLocalMutations(),null===C?null:C.unionWith(g.fieldMask.fields).unionWith(g.fieldTransforms.map(oe=>oe.field))}(c,n,i,s):(C=i,Lc(c.precondition,E=n)?(E.convertToNoDocument(E.version).setHasLocalMutations(),null):C);var E,C}function Wn(c,n){let i=null;for(const s of c.fieldTransforms){const u=n.data.field(s.field),g=Pn(s.transform,u||null);null!=g&&(null===i&&(i=ro.empty()),i.set(s.field,g))}return i||null}function _n(c,n){return c.type===n.type&&!!c.key.isEqual(n.key)&&!!c.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=c.fieldTransforms)&&void 0===u||s&&u&&Pr(s,u,(g,E)=>function Cs(c,n){return c.field.isEqual(n.field)&&(u=n.transform,(s=c.transform)instanceof zr&&u instanceof zr||s instanceof Yi&&u instanceof Yi?Pr(s.elements,u.elements,Lr):s instanceof jo&&u instanceof jo?Lr(s.Re,u.Re):s instanceof Xn&&u instanceof Xn);var s,u}(g,E))))&&(0===c.type?c.value.isEqual(n.value):1!==c.type||c.data.isEqual(n.data)&&c.fieldMask.isEqual(n.fieldMask));var s,u}class or extends ra{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Dr extends ra{constructor(n,i,s,u,g=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function ur(c){const n=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=c.data.field(i);n.set(i,s)}}),n}function Os(c,n,i){const s=new Map;Xe(c.length===i.length,32656,{Ve:i.length,me:c.length});for(let u=0;u<i.length;u++){const g=c[u],E=g.transform,C=n.data.field(g.field);s.set(g.field,Yn(E,C,i[u]))}return s}function $o(c,n,i){const s=new Map;for(const u of c){const g=u.transform,E=i.data.field(u.field);s.set(u.field,zn(g,E,n))}return s}class Wi extends ra{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vi extends ra{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ia{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const g=this.mutations[u];g.key.isEqual(n.key)&&xl(g,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=zi(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=zi(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=h();return this.mutations.forEach(u=>{const g=n.get(u.key),E=g.overlayedDocument;let C=this.applyToLocalView(E,g.mutatedFields);C=i.has(u.key)?null:C;const M=Ya(E,C);null!==M&&s.set(u.key,M),E.isValidDocument()||E.convertToNoDocument(on.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),S())}isEqual(n){return this.batchId===n.batchId&&Pr(this.mutations,n.mutations,(i,s)=>_n(i,s))&&Pr(this.baseMutations,n.baseMutations,(i,s)=>_n(i,s))}}class Fs{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){Xe(n.mutations.length===s.length,58842,{fe:n.mutations.length,ge:s.length});let u=function(){return f}();const g=n.mutations;for(let E=0;E<g.length;E++)u=u.insert(g[E].key,s[E].version);return new Fs(n,i,s,u)}}class mo{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ss{constructor(n,i){this.count=n,this.unchangedNames=i}}var Ji,Kr;function Gu(c){if(void 0===c)return Fn("GRPC error has no .code"),We.UNKNOWN;switch(c){case Ji.OK:return We.OK;case Ji.CANCELLED:return We.CANCELLED;case Ji.UNKNOWN:return We.UNKNOWN;case Ji.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case Ji.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case Ji.INTERNAL:return We.INTERNAL;case Ji.UNAVAILABLE:return We.UNAVAILABLE;case Ji.UNAUTHENTICATED:return We.UNAUTHENTICATED;case Ji.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case Ji.NOT_FOUND:return We.NOT_FOUND;case Ji.ALREADY_EXISTS:return We.ALREADY_EXISTS;case Ji.PERMISSION_DENIED:return We.PERMISSION_DENIED;case Ji.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case Ji.ABORTED:return We.ABORTED;case Ji.OUT_OF_RANGE:return We.OUT_OF_RANGE;case Ji.UNIMPLEMENTED:return We.UNIMPLEMENTED;case Ji.DATA_LOSS:return We.DATA_LOSS;default:return lt(39323,{code:c})}}(Kr=Ji||(Ji={}))[Kr.OK=0]="OK",Kr[Kr.CANCELLED=1]="CANCELLED",Kr[Kr.UNKNOWN=2]="UNKNOWN",Kr[Kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kr[Kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kr[Kr.NOT_FOUND=5]="NOT_FOUND",Kr[Kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kr[Kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kr[Kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kr[Kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kr[Kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kr[Kr.ABORTED=10]="ABORTED",Kr[Kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kr[Kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kr[Kr.INTERNAL=13]="INTERNAL",Kr[Kr.UNAVAILABLE=14]="UNAVAILABLE",Kr[Kr.DATA_LOSS=15]="DATA_LOSS";const wf=new fe([4294967295,4294967295],0);function lu(c){const n=qn().encode(c),i=new ke;return i.update(n),new Uint8Array(i.digest())}function ih(c){const n=new DataView(c.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),g=n.getUint32(12,!0);return[new fe([i,s],0),new fe([u,g],0)]}class _c{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ja(`Invalid padding: ${i}`);if(s<0)throw new Ja(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new Ja(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new Ja(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*n.length-i,this.ye=fe.fromNumber(this.pe)}we(n,i,s){let u=n.add(i.multiply(fe.fromNumber(s)));return 1===u.compare(wf)&&(u=new fe([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.pe)return!1;const i=lu(n),[s,u]=ih(i);for(let g=0;g<this.hashCount;g++){const E=this.we(s,u,g);if(!this.Se(E))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,g=new Uint8Array(Math.ceil(n/8)),E=new _c(g,u,i);return s.forEach(C=>E.insert(C)),E}insert(n){if(0===this.pe)return;const i=lu(n),[s,u]=ih(i);for(let g=0;g<this.hashCount;g++){const E=this.we(s,u,g);this.be(E)}}be(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uc{constructor(n,i,s,u,g){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,sa.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new Uc(on.min(),u,new Wr(Kt),Hi(),S())}}class sa{constructor(n,i,s,u,g){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new sa(s,i,S(),S(),S())}}class vc{constructor(n,i,s,u){this.De=n,this.removedTargetIds=i,this.key=s,this.ve=u}}class kl{constructor(n,i){this.targetId=n,this.Ce=i}}class If{constructor(n,i,s=Oi.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Ir{constructor(){this.Fe=0,this.Me=Fl(),this.xe=Oi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(n){n.approximateByteSize()>0&&(this.Ne=!0,this.xe=n)}qe(){let n=S(),i=S(),s=S();return this.Me.forEach((u,g)=>{switch(g){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:lt(38017,{changeType:g})}}),new sa(this.xe,this.Oe,n,i,s)}Qe(){this.Ne=!1,this.Me=Fl()}$e(n,i){this.Ne=!0,this.Me=this.Me.insert(n,i)}Ue(n){this.Ne=!0,this.Me=this.Me.remove(n)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ol{constructor(n){this.ze=n,this.je=new Map,this.He=Hi(),this.Je=Ua(),this.Ye=Ua(),this.Ze=new Wr(Kt)}Xe(n){for(const i of n.De)n.ve&&n.ve.isFoundDocument()?this.et(i,n.ve):this.tt(i,n.key,n.ve);for(const i of n.removedTargetIds)this.tt(i,n.key,n.ve)}nt(n){this.forEachTarget(n,i=>{const s=this.rt(i);switch(n.state){case 0:this.it(i)&&s.ke(n.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(n.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(n.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(n.resumeToken));break;default:lt(56790,{state:n.state})}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.je.forEach((s,u)=>{this.it(u)&&i(u)})}ot(n){const i=n.targetId,s=n.Ce.count,u=this._t(i);if(u){const g=u.target;if(be(g))if(0===s){const E=new Gt(g.path);this.tt(i,E,ci.newNoDocument(E,on.min()))}else Xe(1===s,20013,{expectedCount:s});else{const E=this.ut(i);if(E!==s){const C=this.ct(n),M=C?this.lt(C,n,E):1;0!==M&&(this.st(i),this.Ze=this.Ze.insert(i,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ct(n){const i=n.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:g=0}=i;let E,C;try{E=yr(s).toUint8Array()}catch(M){if(M instanceof hs)return Sn("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{C=new _c(E,u,g)}catch(M){return Sn(M instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===C.pe?null:C}lt(n,i,s){return i.Ce.count===s-this.Tt(n,i.targetId)?0:2}Tt(n,i){const s=this.ze.getRemoteKeysForTarget(i);let u=0;return s.forEach(g=>{const E=this.ze.Pt(),C=`projects/${E.projectId}/databases/${E.database}/documents/${g.path.canonicalString()}`;n.mightContain(C)||(this.tt(i,g,null),u++)}),u}It(n){const i=new Map;this.je.forEach((g,E)=>{const C=this._t(E);if(C){if(g.current&&be(C.target)){const M=new Gt(C.target.path);this.Et(M).has(E)||this.dt(E,M)||this.tt(E,M,ci.newNoDocument(M,n))}g.Le&&(i.set(E,g.qe()),g.Qe())}});let s=S();this.Ye.forEach((g,E)=>{let C=!0;E.forEachWhile(M=>{const L=this._t(M);return!L||"TargetPurposeLimboResolution"===L.purpose||(C=!1,!1)}),C&&(s=s.add(g))}),this.He.forEach((g,E)=>E.setReadTime(n));const u=new Uc(n,i,this.Ze,this.He,s);return this.He=Hi(),this.Je=Ua(),this.Ye=Ua(),this.Ze=new Wr(Kt),u}et(n,i){if(!this.it(n))return;const s=this.dt(n,i.key)?2:0;this.rt(n).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(n)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(n))}tt(n,i,s){if(!this.it(n))return;const u=this.rt(n);this.dt(n,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(n)),this.Ye=this.Ye.insert(i,this.At(i).add(n)),s&&(this.He=this.He.insert(i,s))}removeTarget(n){this.je.delete(n)}ut(n){const i=this.rt(n).qe();return this.ze.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}Ke(n){this.rt(n).Ke()}rt(n){let i=this.je.get(n);return i||(i=new Ir,this.je.set(n,i)),i}At(n){let i=this.Ye.get(n);return i||(i=new Zr(Kt),this.Ye=this.Ye.insert(n,i)),i}Et(n){let i=this.Je.get(n);return i||(i=new Zr(Kt),this.Je=this.Je.insert(n,i)),i}it(n){const i=null!==this._t(n);return i||ot("WatchChangeAggregator","Detected inactive target",n),i}_t(n){const i=this.je.get(n);return i&&i.Be?null:this.ze.Rt(n)}st(n){this.je.set(n,new Ir),this.ze.getRemoteKeysForTarget(n).forEach(i=>{this.tt(n,i,null)})}dt(n,i){return this.ze.getRemoteKeysForTarget(n).has(i)}}function Ua(){return new Wr(Gt.comparator)}function Fl(){return new Wr(Gt.comparator)}const Hy={asc:"ASCENDING",desc:"DESCENDING"},Eg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oh={and:"AND",or:"OR"};class Tf{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function Ma(c,n){return c.useProto3Json||An(n)?n:{value:n}}function Ku(c,n){return c.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Ll(c,n){return c.useProto3Json?n.toBase64():n.toUint8Array()}function zy(c,n){return Ku(c,n.toTimestamp())}function Oo(c){return Xe(!!c,49232),on.fromTimestamp(function(i){const s=xo(i);return new dr(s.seconds,s.nanos)}(c))}function qu(c,n){return Ct(c,n).canonicalString()}function Ct(c,n){const i=(u=c,new ct(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function vr(c){const n=ct.fromString(c);return Xe(jl(n),10190,{key:n.toString()}),n}function Ec(c,n){return qu(c.databaseId,n.path)}function aa(c,n){const i=vr(n);if(i.get(1)!==c.databaseId.projectId)throw new Z(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new Z(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new Gt(Qs(i))}function Br(c,n){return qu(c.databaseId,n)}function ca(c){return new ct(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Qs(c){return Xe(c.length>4&&"documents"===c.get(4),29091,{key:c.toString()}),c.popFirst(5)}function Vl(c,n,i){return{name:Ec(c,n),fields:i.value.mapValue.fields}}function Bc(c,n){return{documents:[Br(c,n.path)]}}function bs(c,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Br(c,u);const g=function(L){if(0!==L.length)return hu(Vr.create(L,"and"))}(n.filters);g&&(i.structuredQuery.where=g);const E=function(L){if(0!==L.length)return L.map(Q=>{return{field:wc((xe=Q).field),direction:Ig(xe.dir)};var xe})}(n.orderBy);E&&(i.structuredQuery.orderBy=E);const C=Ma(c,n.limit);return null!==C&&(i.structuredQuery.limit=C),n.startAt&&(i.structuredQuery.startAt={before:(L=n.startAt).inclusive,values:L.position}),n.endAt&&(i.structuredQuery.endAt=function(L){return{before:!L.inclusive,values:L.position}}(n.endAt)),{gt:i,parent:u};var L}function Cf(c){let n=function bf(c){const n=vr(c);return 4===n.length?ct.emptyPath():Qs(n)}(c.parent);const i=c.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Xe(1===s,65062);const Q=i.from[0];Q.allDescendants?u=Q.collectionId:n=n.child(Q.collectionId)}let g=[];i.where&&(g=function(oe){const xe=va(oe);return xe instanceof Vr&&qa(xe)?xe.getFilters():[xe]}(i.where));let E=[];i.orderBy&&(E=i.orderBy.map(xe=>{return new Ws(Ba((Bt=xe).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Bt.direction));var Bt}));let C=null;i.limit&&(C=function(oe){let xe;return xe="object"==typeof oe?oe.value:oe,An(xe)?null:xe}(i.limit));let M=null;var oe;i.startAt&&(M=new ko((oe=i.startAt).values||[],!!oe.before));let L=null;return i.endAt&&(L=function(oe){return new ko(oe.values||[],!oe.before)}(i.endAt)),function $i(c,n,i,s,u,g,E,C){return new Li(c,n,i,s,u,g,E,C)}(n,u,E,g,C,"F",M,L)}function va(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ba(i.unaryFilter.field);return Hr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Ba(i.unaryFilter.field);return Hr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const g=Ba(i.unaryFilter.field);return Hr.create(g,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const E=Ba(i.unaryFilter.field);return Hr.create(E,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return lt(61313);default:return lt(60726)}}(c):void 0!==c.fieldFilter?Hr.create(Ba((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return lt(58110);default:return lt(50506)}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return Vr.create(i.compositeFilter.filters.map(s=>va(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return lt(1026)}}(i.compositeFilter.op))}(c):lt(30097,{filter:c});var i}function Ig(c){return Hy[c]}function du(c){return Eg[c]}function Tg(c){return oh[c]}function wc(c){return{fieldPath:c.canonicalString()}}function Ba(c){return Kn.fromServerFormat(c.fieldPath)}function hu(c){return c instanceof Hr?function(i){if("=="===i.op){if(go(i.value))return{unaryFilter:{field:wc(i.field),op:"IS_NAN"}};if(ti(i.value))return{unaryFilter:{field:wc(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(go(i.value))return{unaryFilter:{field:wc(i.field),op:"IS_NOT_NAN"}};if(ti(i.value))return{unaryFilter:{field:wc(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(i.field),op:du(i.op),value:i.value}}}(c):c instanceof Vr?function(i){const s=i.getFilters().map(u=>hu(u));return 1===s.length?s[0]:{compositeFilter:{op:Tg(i.op),filters:s}}}(c):lt(54877,{filter:c})}function Qu(c){const n=[];return c.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function jl(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class ec{constructor(n,i,s,u,g=on.min(),E=on.min(),C=Oi.EMPTY_BYTE_STRING,M=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=C,this.expectedCount=M}withSequenceNumber(n){return new ec(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class $l{constructor(n){this.wt=n}}function nc(c){const n=Cf({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?Rn(n,n.limit,"L"):n}class Ic{constructor(){}vt(n,i){this.Ct(n,i),i.Ft()}Ct(n,i){if("nullValue"in n)this.Mt(i,5);else if("booleanValue"in n)this.Mt(i,10),i.xt(n.booleanValue?1:0);else if("integerValue"in n)this.Mt(i,15),i.xt(kr(n.integerValue));else if("doubleValue"in n){const s=kr(n.doubleValue);isNaN(s)?this.Mt(i,13):(this.Mt(i,15),pr(s)?i.xt(0):i.xt(s))}else if("timestampValue"in n){let s=n.timestampValue;this.Mt(i,20),"string"==typeof s&&(s=xo(s)),i.Ot(`${s.seconds||""}`),i.xt(s.nanos||0)}else if("stringValue"in n)this.Nt(n.stringValue,i),this.Bt(i);else if("bytesValue"in n)this.Mt(i,30),i.Lt(yr(n.bytesValue)),this.Bt(i);else if("referenceValue"in n)this.kt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.Mt(i,45),i.xt(s.latitude||0),i.xt(s.longitude||0)}else"mapValue"in n?Aa(n)?this.Mt(i,Number.MAX_SAFE_INTEGER):fs(n)?this.qt(n.mapValue,i):(this.Qt(n.mapValue,i),this.Bt(i)):"arrayValue"in n?(this.$t(n.arrayValue,i),this.Bt(i)):lt(19022,{Ut:n})}Nt(n,i){this.Mt(i,25),this.Kt(n,i)}Kt(n,i){i.Ot(n)}Qt(n,i){const s=n.fields||{};this.Mt(i,55);for(const u of Object.keys(s))this.Nt(u,i),this.Ct(s[u],i)}qt(n,i){var s,u;const g=n.fields||{};this.Mt(i,53);const E=dn,C=(null===(u=null===(s=g[E].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.Mt(i,15),i.xt(kr(C)),this.Nt(E,i),this.Ct(g[E],i)}$t(n,i){const s=n.values||[];this.Mt(i,50);for(const u of s)this.Ct(u,i)}kt(n,i){this.Mt(i,37),Gt.fromName(n).path.forEach(s=>{this.Mt(i,60),this.Kt(s,i)})}Mt(n,i){n.xt(i)}Bt(n){n.xt(2)}}Ic.Wt=new Ic;class tl{constructor(){this.Cn=new dh}addToCollectionParentIndex(n,i){return this.Cn.add(i),Le.resolve()}getCollectionParents(n,i){return Le.resolve(this.Cn.getEntries(i))}addFieldIndex(n,i){return Le.resolve()}deleteFieldIndex(n,i){return Le.resolve()}deleteAllFieldIndexes(n){return Le.resolve()}createTargetIndexes(n,i){return Le.resolve()}getDocumentsMatchingTarget(n,i){return Le.resolve(null)}getIndexType(n,i){return Le.resolve(0)}getFieldIndexes(n,i){return Le.resolve([])}getNextCollectionGroupToUpdate(n){return Le.resolve(null)}getMinOffset(n,i){return Le.resolve(lr.min())}getMinOffsetFromCollectionGroup(n,i){return Le.resolve(lr.min())}updateCollectionGroup(n,i,s){return Le.resolve()}updateIndexEntries(n,i){return Le.resolve()}}class dh{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new Zr(ct.comparator),g=!u.has(s);return this.index[i]=u.add(s),g}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new Zr(ct.comparator)).toArray()}}new Uint8Array(0);const Ff={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class es{static withCacheSize(n){return new es(n,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(41943040,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);class Gc{constructor(n){this.ur=n}next(){return this.ur+=2,this.ur}static cr(){return new Gc(0)}static lr(){return new Gc(-1)}}const Zl="LruGarbageCollector";function cc([c,n],[i,s]){const u=Kt(c,i);return 0===u?Kt(n,s):u}class Kc{constructor(n){this.Er=n,this.buffer=new Zr(cc),this.dr=0}Ar(){return++this.dr}Rr(n){const i=[n,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();cc(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Fo{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(n){var i=this;ot(Zl,`Garbage collection scheduled in ${n}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,T.A)(function*(){i.Vr=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){wr(s)?ot(Zl,"Ignoring IndexedDB error during garbage collection: ",s):yield $n(s)}yield i.mr(3e5)}))}}class bg{constructor(n,i){this.gr=n,this.params=i}calculateTargetCount(n,i){return this.gr.pr(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return Le.resolve(Ze.le);const s=new Kc(i);return this.gr.forEachTarget(n,u=>s.Rr(u.sequenceNumber)).next(()=>this.gr.yr(n,u=>s.Rr(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.gr.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.gr.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Le.resolve(Ff)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ff):this.wr(n,i))}getCacheSize(n){return this.gr.getCacheSize(n)}wr(n,i){let s,u,g,E,C,M,L;const Q=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(oe=>(oe>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${oe}`),u=this.params.maximumSequenceNumbersToCollect):u=oe,E=Date.now(),this.nthSequenceNumber(n,u))).next(oe=>(s=oe,C=Date.now(),this.removeTargets(n,s,i))).next(oe=>(g=oe,M=Date.now(),this.removeOrphanedDocuments(n,s))).next(oe=>(L=Date.now(),zt()<=F.$b.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-Q}ms\n\tDetermined least recently used ${u} in `+(C-E)+`ms\n\tRemoved ${g} targets in `+(M-C)+`ms\n\tRemoved ${oe} documents in `+(L-M)+`ms\nTotal Duration: ${L-Q}ms`),Le.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:g,documentsRemoved:oe})))}}class mh{constructor(){this.changes=new Di(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,ci.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?Le.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Vt{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class hn{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&zi(s.mutation,u,No.empty(),dr.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,S()).next(()=>s))}getLocalViewOfDocuments(n,i,s=S()){const u=m();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(g=>{let E=Xo();return g.forEach((C,M)=>{E=E.insert(C,M.overlayedDocument)}),E}))}getOverlayedDocuments(n,i){const s=m();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,S()))}populateOverlays(n,i,s){const u=[];return s.forEach(g=>{i.has(g)||u.push(g)}),this.documentOverlayCache.getOverlays(n,u).next(g=>{g.forEach((E,C)=>{i.set(E,C)})})}computeViews(n,i,s,u){let g=Hi();const E=l(),C=l();return i.forEach((M,L)=>{const Q=s.get(L.key);u.has(L.key)&&(void 0===Q||Q.mutation instanceof Dr)?g=g.insert(L.key,L):void 0!==Q?(E.set(L.key,Q.mutation.getFieldMask()),zi(Q.mutation,L,Q.mutation.getFieldMask(),dr.now())):E.set(L.key,No.empty())}),this.recalculateAndSaveOverlays(n,g).next(M=>(M.forEach((L,Q)=>E.set(L,Q)),i.forEach((L,Q)=>{var oe;return C.set(L,new Vt(Q,null!==(oe=E.get(L))&&void 0!==oe?oe:null))}),C))}recalculateAndSaveOverlays(n,i){const s=l();let u=new Wr((E,C)=>E-C),g=S();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(E=>{for(const C of E)C.keys().forEach(M=>{const L=i.get(M);if(null===L)return;let Q=s.get(M)||No.empty();Q=C.applyToLocalView(L,Q),s.set(M,Q);const oe=(u.get(C.batchId)||S()).add(M);u=u.insert(C.batchId,oe)})}).next(()=>{const E=[],C=u.getReverseIterator();for(;C.hasNext();){const M=C.getNext(),L=M.key,Q=M.value,oe=h();Q.forEach(xe=>{if(!g.has(xe)){const Et=Ya(i.get(xe),s.get(xe));null!==Et&&oe.set(xe,Et),g=g.add(xe)}}),E.push(this.documentOverlayCache.saveOverlays(n,L,oe))}return Le.waitFor(E)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return Gt.isDocumentKey((E=i).path)&&null===E.collectionGroup&&0===E.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Ra(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var E}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(g=>{const E=u-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-g.size):Le.resolve(m());let C=-1,M=g;return E.next(L=>Le.forEach(L,(Q,oe)=>(C<oe.largestBatchId&&(C=oe.largestBatchId),g.get(Q)?Le.resolve():this.remoteDocumentCache.getEntry(n,Q).next(xe=>{M=M.insert(Q,xe)}))).next(()=>this.populateOverlays(n,L,g)).next(()=>this.computeViews(n,M,L,S())).next(Q=>({batchId:C,changes:qs(Q)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Gt(i)).next(s=>{let u=Xo();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const g=i.collectionGroup;let E=Xo();return this.indexManager.getCollectionParents(n,g).next(C=>Le.forEach(C,M=>{const L=(oe=i,xe=M.child(g),new Li(xe,null,oe.explicitOrderBy.slice(),oe.filters.slice(),oe.limit,oe.limitType,oe.startAt,oe.endAt));var oe,xe;return this.getDocumentsMatchingCollectionQuery(n,L,s,u).next(Q=>{Q.forEach((oe,xe)=>{E=E.insert(oe,xe)})})}).next(()=>E))}getDocumentsMatchingCollectionQuery(n,i,s,u){let g;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(E=>(g=E,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,g,u))).next(E=>{g.forEach((M,L)=>{const Q=L.getKey();null===E.get(Q)&&(E=E.insert(Q,ci.newInvalidDocument(Q)))});let C=Xo();return E.forEach((M,L)=>{const Q=g.get(M);void 0!==Q&&zi(Q.mutation,L,No.empty(),dr.now()),ma(i,L)&&(C=C.insert(M,L))}),C})}}class Un{constructor(n){this.serializer=n,this.kr=new Map,this.qr=new Map}getBundleMetadata(n,i){return Le.resolve(this.kr.get(i))}saveBundleMetadata(n,i){return this.kr.set(i.id,{id:(u=i).id,version:u.version,createTime:Oo(u.createTime)}),Le.resolve();var u}getNamedQuery(n,i){return Le.resolve(this.qr.get(i))}saveNamedQuery(n,i){return this.qr.set(i.name,{name:(u=i).name,query:nc(u.bundledQuery),readTime:Oo(u.readTime)}),Le.resolve();var u}}class jn{constructor(){this.overlays=new Wr(Gt.comparator),this.Qr=new Map}getOverlay(n,i){return Le.resolve(this.overlays.get(i))}getOverlays(n,i){const s=m();return Le.forEach(i,u=>this.getOverlay(n,u).next(g=>{null!==g&&s.set(u,g)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,g)=>{this.bt(n,i,g)}),Le.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.Qr.get(s);return void 0!==u&&(u.forEach(g=>this.overlays=this.overlays.remove(g)),this.Qr.delete(s)),Le.resolve()}getOverlaysForCollection(n,i,s){const u=m(),g=i.length+1,E=new Gt(i.child("")),C=this.overlays.getIteratorFrom(E);for(;C.hasNext();){const M=C.getNext().value,L=M.getKey();if(!i.isPrefixOf(L.path))break;L.path.length===g&&M.largestBatchId>s&&u.set(M.getKey(),M)}return Le.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let g=new Wr((L,Q)=>L-Q);const E=this.overlays.getIterator();for(;E.hasNext();){const L=E.getNext().value;if(L.getKey().getCollectionGroup()===i&&L.largestBatchId>s){let Q=g.get(L.largestBatchId);null===Q&&(Q=m(),g=g.insert(L.largestBatchId,Q)),Q.set(L.getKey(),L)}}const C=m(),M=g.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((L,Q)=>C.set(L,Q)),!(C.size()>=u)););return Le.resolve(C)}bt(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const E=this.Qr.get(u.largestBatchId).delete(s.key);this.Qr.set(u.largestBatchId,E)}this.overlays=this.overlays.insert(s.key,new mo(i,s));let g=this.Qr.get(i);void 0===g&&(g=S(),this.Qr.set(i,g)),this.Qr.set(i,g.add(s.key))}}class Sr{constructor(){this.sessionToken=Oi.EMPTY_BYTE_STRING}getSessionToken(n){return Le.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,Le.resolve()}}class Co{constructor(){this.$r=new Zr(eo.Ur),this.Kr=new Zr(eo.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(n,i){const s=new eo(n,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.zr(new eo(n,i))}jr(n,i){n.forEach(s=>this.removeReference(s,i))}Hr(n){const i=new Gt(new ct([])),s=new eo(i,n),u=new eo(i,n+1),g=[];return this.Kr.forEachInRange([s,u],E=>{this.zr(E),g.push(E.key)}),g}Jr(){this.$r.forEach(n=>this.zr(n))}zr(n){this.$r=this.$r.delete(n),this.Kr=this.Kr.delete(n)}Yr(n){const i=new Gt(new ct([])),s=new eo(i,n),u=new eo(i,n+1);let g=S();return this.Kr.forEachInRange([s,u],E=>{g=g.add(E.key)}),g}containsKey(n){const i=new eo(n,0),s=this.$r.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class eo{constructor(n,i){this.key=n,this.Zr=i}static Ur(n,i){return Gt.comparator(n.key,i.key)||Kt(n.Zr,i.Zr)}static Wr(n,i){return Kt(n.Zr,i.Zr)||Gt.comparator(n.key,i.key)}}class qc{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Zr(eo.Ur)}checkEmpty(n){return Le.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const g=this.nr;this.nr++;const E=new ia(g,i,s,u);this.mutationQueue.push(E);for(const C of u)this.Xr=this.Xr.add(new eo(C.key,g)),this.indexManager.addToCollectionParentIndex(n,C.key.path.popLast());return Le.resolve(E)}lookupMutationBatch(n,i){return Le.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.ti(i+1),g=u<0?0:u;return Le.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(0===this.mutationQueue.length?-1:this.nr-1)}getAllMutationBatches(n){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new eo(i,0),u=new eo(i,Number.POSITIVE_INFINITY),g=[];return this.Xr.forEachInRange([s,u],E=>{const C=this.ei(E.Zr);g.push(C)}),Le.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Zr(Kt);return i.forEach(u=>{const g=new eo(u,0),E=new eo(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([g,E],C=>{s=s.add(C.Zr)})}),Le.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let g=s;Gt.isDocumentKey(g)||(g=g.child(""));const E=new eo(new Gt(g),0);let C=new Zr(Kt);return this.Xr.forEachWhile(M=>{const L=M.key.path;return!!s.isPrefixOf(L)&&(L.length===u&&(C=C.add(M.Zr)),!0)},E),Le.resolve(this.ni(C))}ni(n){const i=[];return n.forEach(s=>{const u=this.ei(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){Xe(0===this.ri(i.batchId,"removed"),55003),this.mutationQueue.shift();let s=this.Xr;return Le.forEach(i.mutations,u=>{const g=new eo(u.key,i.batchId);return s=s.delete(g),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.Xr=s})}sr(n){}containsKey(n,i){const s=new eo(i,0),u=this.Xr.firstAfterOrEqual(s);return Le.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return Le.resolve()}ri(n,i){return this.ti(n)}ti(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}ei(n){const i=this.ti(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ed{constructor(n){this.ii=n,this.docs=new Wr(Gt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),g=u?u.size:0,E=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:E}),this.size+=E-g,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return Le.resolve(s?s.document.mutableCopy():ci.newInvalidDocument(i))}getEntries(n,i){let s=Hi();return i.forEach(u=>{const g=this.docs.get(u);s=s.insert(u,g?g.document.mutableCopy():ci.newInvalidDocument(u))}),Le.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let g=Hi();const E=i.path,C=new Gt(E.child("__id-9223372036854775808__")),M=this.docs.getIteratorFrom(C);for(;M.hasNext();){const{key:L,value:{document:Q}}=M.getNext();if(!E.isPrefixOf(L.path))break;L.path.length>E.length+1||bn(new lr((c=Q).readTime,c.key,-1),s)<=0||(u.has(Q.key)||ma(i,Q))&&(g=g.insert(Q.key,Q.mutableCopy()))}var c;return Le.resolve(g)}getAllFromCollectionGroup(n,i,s,u){lt(9500)}si(n,i){return Le.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new ms(this)}getSize(n){return Le.resolve(this.size)}}class ms extends mh{constructor(n){super(),this.Br=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(n,u)):this.Br.removeEntry(s)}),Le.waitFor(i)}getFromCache(n,i){return this.Br.getEntry(n,i)}getAllFromCache(n,i){return this.Br.getEntries(n,i)}}class Dg{constructor(n){this.persistence=n,this.oi=new Di(i=>P(i),j),this.lastRemoteSnapshotVersion=on.min(),this.highestTargetId=0,this._i=0,this.ai=new Co,this.targetCount=0,this.ui=Gc.cr()}forEachTarget(n,i){return this.oi.forEach((s,u)=>i(u)),Le.resolve()}getLastRemoteSnapshotVersion(n){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Le.resolve(this._i)}allocateTargetId(n){return this.highestTargetId=this.ui.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),Le.resolve()}Tr(n){this.oi.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.ui=new Gc(i),this.highestTargetId=i),n.sequenceNumber>this._i&&(this._i=n.sequenceNumber)}addTargetData(n,i){return this.Tr(i),this.targetCount+=1,Le.resolve()}updateTargetData(n,i){return this.Tr(i),Le.resolve()}removeTargetData(n,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,Le.resolve()}removeTargets(n,i,s){let u=0;const g=[];return this.oi.forEach((E,C)=>{C.sequenceNumber<=i&&null===s.get(C.targetId)&&(this.oi.delete(E),g.push(this.removeMatchingKeysForTargetId(n,C.targetId)),u++)}),Le.waitFor(g).next(()=>u)}getTargetCount(n){return Le.resolve(this.targetCount)}getTargetData(n,i){const s=this.oi.get(i)||null;return Le.resolve(s)}addMatchingKeys(n,i,s){return this.ai.Gr(i,s),Le.resolve()}removeMatchingKeys(n,i,s){this.ai.jr(i,s);const u=this.persistence.referenceDelegate,g=[];return u&&i.forEach(E=>{g.push(u.markPotentiallyOrphaned(n,E))}),Le.waitFor(g)}removeMatchingKeysForTargetId(n,i){return this.ai.Hr(i),Le.resolve()}getMatchingKeysForTargetId(n,i){const s=this.ai.Yr(i);return Le.resolve(s)}containsKey(n,i){return Le.resolve(this.ai.containsKey(i))}}class nl{constructor(n,i){this.ci={},this.overlays={},this.li=new Ze(0),this.hi=!1,this.hi=!0,this.Pi=new Sr,this.referenceDelegate=n(this),this.Ti=new Dg(this),this.indexManager=new tl,this.remoteDocumentCache=new ed(s=>this.referenceDelegate.Ii(s)),this.serializer=new $l(i),this.Ei=new Un(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new jn,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.ci[n.toKey()];return s||(s=new qc(i,this.referenceDelegate),this.ci[n.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(n,i,s){ot("MemoryPersistence","Starting transaction:",n);const u=new Ag(this.li.next());return this.referenceDelegate.di(),s(u).next(g=>this.referenceDelegate.Ai(u).next(()=>g)).toPromise().then(g=>(u.raiseOnCommittedEvent(),g))}Ri(n,i){return Le.or(Object.values(this.ci).map(s=>()=>s.containsKey(n,i)))}}class Ag extends Nr{constructor(n){super(),this.currentSequenceNumber=n}}class vu{constructor(n){this.persistence=n,this.Vi=new Co,this.mi=null}static fi(n){return new vu(n)}get gi(){if(this.mi)return this.mi;throw lt(60996)}addReference(n,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),Le.resolve()}removeReference(n,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),Le.resolve()}markPotentiallyOrphaned(n,i){return this.gi.add(i.toString()),Le.resolve()}removeTarget(n,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(g=>this.gi.add(g.toString()))}).next(()=>s.removeTargetData(n,i))}di(){this.mi=new Set}Ai(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.gi,s=>{const u=Gt.fromPath(s);return this.pi(n,u).next(g=>{g||i.removeEntry(u,on.min())})}).next(()=>(this.mi=null,i.apply(n)))}updateLimboDocument(n,i){return this.pi(n,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(n){return 0}pi(n,i){return Le.or([()=>Le.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Ri(n,i)])}}class Ls{constructor(n,i){this.persistence=n,this.yi=new Di(s=>function De(c){let n="";for(let i=0;i<c.length;i++)n.length>0&&(n=wt(n)),n=ut(c.get(i),n);return wt(n)}(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=function Yl(c,n){return new bg(c,n)}(this,i)}static fi(n,i){return new Ls(n,i)}di(){}Ai(n){return Le.resolve()}forEachTarget(n,i){return this.persistence.getTargetCache().forEachTarget(n,i)}pr(n){const i=this.Sr(n);return this.persistence.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}Sr(n){let i=0;return this.yr(n,s=>{i++}).next(()=>i)}yr(n,i){return Le.forEach(this.yi,(s,u)=>this.Dr(n,s,u).next(g=>g?Le.resolve():i(u)))}removeTargets(n,i,s){return this.persistence.getTargetCache().removeTargets(n,i,s)}removeOrphanedDocuments(n,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),g=u.newChangeBuffer();return u.si(n,E=>this.Dr(n,E,i).next(C=>{C||(s++,g.removeEntry(E,on.min()))})).next(()=>g.apply(n)).next(()=>s)}markPotentiallyOrphaned(n,i){return this.yi.set(i,n.currentSequenceNumber),Le.resolve()}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,s)}addReference(n,i,s){return this.yi.set(s,n.currentSequenceNumber),Le.resolve()}removeReference(n,i,s){return this.yi.set(s,n.currentSequenceNumber),Le.resolve()}updateLimboDocument(n,i){return this.yi.set(i,n.currentSequenceNumber),Le.resolve()}Ii(n){let i=n.key.toString().length;return n.isFoundDocument()&&(i+=co(n.data.value)),i}Dr(n,i,s){return Le.or([()=>this.persistence.Ri(n,i),()=>this.persistence.getTargetCache().containsKey(n,i),()=>{const u=this.yi.get(i);return Le.resolve(void 0!==u&&u>s)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}class il{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.ds=s,this.As=u}static Rs(n,i){let s=S(),u=S();for(const g of i.docChanges)switch(g.type){case 0:s=s.add(g.doc.key);break;case 1:u=u.add(g.doc.key)}return new il(n,i.fromCache,s,u)}}class Ky{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Cg{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(0,Ae.nr)()?8:function Ni(c){const n=c.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}((0,Ae.ZQ)())>0?6:4}initialize(n,i){this.ys=n,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(n,i,s,u){const g={result:null};return this.ws(n,i).next(E=>{g.result=E}).next(()=>{if(!g.result)return this.Ss(n,i,u,s).next(E=>{g.result=E})}).next(()=>{if(g.result)return;const E=new Ky;return this.bs(n,i,E).next(C=>{if(g.result=C,this.fs)return this.Ds(n,i,E,C.size)})}).next(()=>g.result)}Ds(n,i,s,u){return s.documentReadCount<this.gs?(zt()<=F.$b.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Le.resolve()):(zt()<=F.$b.DEBUG&&ot("QueryEngine","Query:",ds(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ps*u?(zt()<=F.$b.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Do(i))):Le.resolve())}ws(n,i){if(Ks(i))return Le.resolve(null);let s=Do(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=Rn(i,null,"F"),s=Do(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(g=>{const E=S(...g);return this.ys.getDocuments(n,E).next(C=>this.indexManager.getMinOffset(n,s).next(M=>{const L=this.vs(i,C);return this.Cs(i,L,E,M.readTime)?this.ws(n,Rn(i,null,"F")):this.Fs(n,L,i,M)}))})))}Ss(n,i,s,u){return Ks(i)||u.isEqual(on.min())?Le.resolve(null):this.ys.getDocuments(n,s).next(g=>{const E=this.vs(i,g);return this.Cs(i,E,s,u)?Le.resolve(null):(zt()<=F.$b.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ds(i)),this.Fs(n,E,i,function ir(c,n){const i=c.toTimestamp().seconds,s=c.toTimestamp().nanoseconds+1,u=on.fromTimestamp(1e9===s?new dr(i+1,0):new dr(i,s));return new lr(u,Gt.empty(),n)}(u,-1)).next(C=>C))})}vs(n,i){let s=new Zr(Pi(n));return i.forEach((u,g)=>{ma(n,g)&&(s=s.add(g))}),s}Cs(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const g="F"===n.limitType?i.last():i.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(u)>0)}bs(n,i,s){return zt()<=F.$b.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",ds(i)),this.ys.getDocumentsMatchingQuery(n,i,lr.min(),s)}Fs(n,i,s,u){return this.ys.getDocumentsMatchingQuery(n,s,u).next(g=>(i.forEach(E=>{g=g.insert(E.key,E)}),g))}}const qy="LocalStore";class Hf{constructor(n,i,s,u){this.persistence=n,this.Ms=i,this.serializer=u,this.xs=new Wr(Kt),this.Os=new Di(g=>P(g),j),this.Ns=new Map,this.Bs=n.getRemoteDocumentCache(),this.Ti=n.getTargetCache(),this.Ei=n.getBundleCache(),this.Ls(s)}Ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new hn(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.xs))}}function yo(c,n){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,T.A)(function*(c,n){const i=St(c);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(g=>(u=g,i.Ls(n),i.mutationQueue.getAllMutationBatches(s))).next(g=>{const E=[],C=[];let M=S();for(const L of u){E.push(L.batchId);for(const Q of L.mutations)M=M.add(Q.key)}for(const L of g){C.push(L.batchId);for(const Q of L.mutations)M=M.add(Q.key)}return i.localDocuments.getDocuments(s,M).next(L=>({ks:L,removedBatchIds:E,addedBatchIds:C}))})})})).apply(this,arguments)}function Xy(c){const n=St(c);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ti.getLastRemoteSnapshotVersion(i))}function Zy(c,n){const i=St(c);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function Eu(c,n,i){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,T.A)(function*(c,n,i){const s=St(c),u=s.xs.get(n),g=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",g,E=>s.persistence.referenceDelegate.removeTarget(E,u)))}catch(E){if(!wr(E))throw E;ot(qy,`Failed to update sequence numbers for target ${n}: ${E}`)}s.xs=s.xs.remove(n),s.Os.delete(u.target)})).apply(this,arguments)}function Wf(c,n,i){const s=St(c);let u=on.min(),g=S();return s.persistence.runTransaction("Execute query","readwrite",E=>function(M,L,Q){const oe=St(M),xe=oe.Os.get(Q);return void 0!==xe?Le.resolve(oe.xs.get(xe)):oe.Ti.getTargetData(L,Q)}(s,E,Do(n)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(E,C.targetId).next(M=>{g=M})}).next(()=>s.Ms.getDocumentsMatchingQuery(E,n,i?u:on.min(),i?g:S())).next(C=>(function lc(c,n,i){let s=c.Ns.get(n)||on.min();i.forEach((u,g)=>{g.readTime.compareTo(s)>0&&(s=g.readTime)}),c.Ns.set(n,s)}(s,function Pa(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}(n),C),{documents:C,$s:g})))}class qf{constructor(){this.activeTargetIds=function G(){return O}()}js(n){this.activeTargetIds=this.activeTargetIds.add(n)}Hs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}zs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class r_{constructor(){this.xo=new qf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n,i=!0){return i&&this.xo.js(n),this.Oo[n]||"not-current"}updateQueryState(n,i,s){this.Oo[n]=i}removeLocalQueryTarget(n){this.xo.Hs(n)}isLocalQueryTarget(n){return this.xo.activeTargetIds.has(n)}clearQueryState(n){delete this.Oo[n]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(n){return this.xo.activeTargetIds.has(n)}start(){return this.xo=new qf,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class vh{No(n){}shutdown(){}}const i_="ConnectivityMonitor";class Qf{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(n){this.Qo.push(n)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ot(i_,"Network connectivity changed: AVAILABLE");for(const n of this.Qo)n(0)}qo(){ot(i_,"Network connectivity changed: UNAVAILABLE");for(const n of this.Qo)n(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Eh=null;function cl(){return null===Eh?Eh=268435456+Math.round(2147483648*Math.random()):Eh++,"0x"+Eh.toString(16)}const ul="RestConnection",o_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xf{get Uo(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+n.host,this.Wo=`projects/${s}/databases/${u}`,this.Go=this.databaseId.database===we?`project_id=${s}`:`project_id=${s}&database_id=${u}`}zo(n,i,s,u,g){const E=cl(),C=this.jo(n,i.toUriEncodedString());ot(ul,`Sending RPC '${n}' ${E}:`,C,s);const M={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(M,u,g);const{host:L}=new URL(C),Q=(0,Ae.zJ)(L);return this.Jo(n,C,M,s,Q).then(oe=>(ot(ul,`Received RPC '${n}' ${E}: `,oe),oe),oe=>{throw Sn(ul,`RPC '${n}' ${E} failed with error: `,oe,"url: ",C,"request:",s),oe})}Yo(n,i,s,u,g,E){return this.zo(n,i,s,u,g)}Ho(n,i,s){n["X-Goog-Api-Client"]="gl-js/ fire/"+Qe,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,g)=>n[g]=u),s&&s.headers.forEach((u,g)=>n[g]=u)}jo(n,i){return`${this.Ko}/v1/${i}:${o_[n]}`}terminate(){}}class Zf{constructor(n){this.Zo=n.Zo,this.Xo=n.Xo}e_(n){this.t_=n}n_(n){this.r_=n}i_(n){this.s_=n}onMessage(n){this.o_=n}close(){this.Xo()}send(n){this.Zo(n)}__(){this.t_()}a_(){this.r_()}u_(n){this.s_(n)}c_(n){this.o_(n)}}const Ys="WebChannelConnection";class RE extends Xf{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,i,s,u,g){const E=cl();return new Promise((C,M)=>{const L=new Je;L.setWithCredentials(!0),L.listenOnce(Dt.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Ut.NO_ERROR:const oe=L.getResponseJson();ot(Ys,`XHR for RPC '${n}' ${E} received:`,JSON.stringify(oe)),C(oe);break;case Ut.TIMEOUT:ot(Ys,`RPC '${n}' ${E} timed out`),M(new Z(We.DEADLINE_EXCEEDED,"Request time out"));break;case Ut.HTTP_ERROR:const xe=L.getStatus();if(ot(Ys,`RPC '${n}' ${E} failed with status:`,xe,"response text:",L.getResponseText()),xe>0){let Et=L.getResponseJson();Array.isArray(Et)&&(Et=Et[0]);const Bt=Et?.error;if(Bt&&Bt.status&&Bt.message){const cn=function(Zn){const rr=Zn.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(rr)>=0?rr:We.UNKNOWN}(Bt.status);M(new Z(cn,Bt.message))}else M(new Z(We.UNKNOWN,"Server responded with status "+L.getStatus()))}else M(new Z(We.UNAVAILABLE,"Connection failed."));break;default:lt(9055,{l_:n,streamId:E,h_:L.getLastErrorCode(),P_:L.getLastError()})}}finally{ot(Ys,`RPC '${n}' ${E} completed.`)}});const Q=JSON.stringify(u);ot(Ys,`RPC '${n}' ${E} sending request:`,u),L.send(i,"POST",Q,s,15)})}T_(n,i,s){const u=cl(),g=[this.Ko,"/","google.firestore.v1.Firestore","/",n,"/channel"],E=yt(),C=ft(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},L=this.longPollingOptions.timeoutSeconds;void 0!==L&&(M.longPollingTimeout=Math.round(1e3*L)),this.useFetchStreams&&(M.useFetchStreams=!0),this.Ho(M.initMessageHeaders,i,s),M.encodeInitMessageHeaders=!0;const Q=g.join("");ot(Ys,`Creating RPC '${n}' stream ${u}: ${Q}`,M);const oe=E.createWebChannel(Q,M);let xe=!1,Et=!1;const Bt=new Zf({Zo:nn=>{Et?ot(Ys,`Not sending because RPC '${n}' stream ${u} is closed:`,nn):(xe||(ot(Ys,`Opening RPC '${n}' stream ${u} transport.`),oe.open(),xe=!0),ot(Ys,`RPC '${n}' stream ${u} sending:`,nn),oe.send(nn))},Xo:()=>oe.close()}),cn=(nn,Zn,rr)=>{nn.listen(Zn,Mn=>{try{rr(Mn)}catch(Fr){setTimeout(()=>{throw Fr},0)}})};return cn(oe,st.EventType.OPEN,()=>{Et||(ot(Ys,`RPC '${n}' stream ${u} transport opened.`),Bt.__())}),cn(oe,st.EventType.CLOSE,()=>{Et||(Et=!0,ot(Ys,`RPC '${n}' stream ${u} transport closed`),Bt.u_())}),cn(oe,st.EventType.ERROR,nn=>{Et||(Et=!0,Sn(Ys,`RPC '${n}' stream ${u} transport errored. Name:`,nn.name,"Message:",nn.message),Bt.u_(new Z(We.UNAVAILABLE,"The operation could not be completed")))}),cn(oe,st.EventType.MESSAGE,nn=>{var Zn;if(!Et){const rr=nn.data[0];Xe(!!rr,16349);const Mn=rr,Fr=Mn?.error||(null===(Zn=Mn[0])||void 0===Zn?void 0:Zn.error);if(Fr){ot(Ys,`RPC '${n}' stream ${u} received error:`,Fr);const Mi=Fr.status;let oi=function($e){const it=Ji[$e];if(void 0!==it)return Gu(it)}(Mi),rt=Fr.message;void 0===oi&&(oi=We.INTERNAL,rt="Unknown error status: "+Mi+" with message "+Fr.message),Et=!0,Bt.u_(new Z(oi,rt)),oe.close()}else ot(Ys,`RPC '${n}' stream ${u} received:`,rr),Bt.c_(rr)}}),cn(C,Qt.STAT_EVENT,nn=>{nn.stat===Ft.PROXY?ot(Ys,`RPC '${n}' stream ${u} detected buffering proxy`):nn.stat===Ft.NOPROXY&&ot(Ys,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Bt.a_()},0),Bt}}function wh(){return typeof document<"u"?document:null}function ll(c){return new Tf(c,!0)}class Og{constructor(n,i,s=1e3,u=1.5,g=6e4){this.xi=n,this.timerId=i,this.I_=s,this.E_=u,this.d_=g,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(n){this.cancel();const i=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-s);u>0&&ot("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),n())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){null!==this.R_&&(this.R_.skipDelay(),this.R_=null)}cancel(){null!==this.R_&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}const a_="PersistentStream";class ua{constructor(n,i,s,u,g,E,C,M){this.xi=n,this.y_=s,this.w_=u,this.connection=g,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=C,this.listener=M,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Og(n,i)}F_(){return 1===this.state||5===this.state||this.M_()}M_(){return 2===this.state||3===this.state}start(){this.v_=0,4!==this.state?this.auth():this.x_()}stop(){var n=this;return(0,T.A)(function*(){n.F_()&&(yield n.close(0))})()}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&null===this.b_&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(n){this.k_(),this.stream.send(n)}B_(){var n=this;return(0,T.A)(function*(){if(n.M_())return n.close(0)})()}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(n,i){var s=this;return(0,T.A)(function*(){s.k_(),s.q_(),s.C_.cancel(),s.S_++,4!==n?s.C_.reset():i&&i.code===We.RESOURCE_EXHAUSTED?(Fn(i.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),s.C_.m_()):i&&i.code===We.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Q_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.i_(i)})()}Q_(){}auth(){this.state=1;const n=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.S_===i&&this.K_(s,u)},s=>{n(()=>{const u=new Z(We.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(u)})})}K_(n,i){const s=this.U_(this.S_);this.stream=this.G_(n,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{s(()=>this.W_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.v_?this.z_(u):this.onNext(u))})}x_(){var n=this;this.state=5,this.C_.f_((0,T.A)(function*(){n.state=0,n.start()}))}W_(n){return ot(a_,`close with error: ${n}`),this.stream=null,this.close(4,n)}U_(n){return i=>{this.xi.enqueueAndForget(()=>this.S_===n?i():(ot(a_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fg extends ua{constructor(n,i,s,u,g,E){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,E),this.serializer=g}G_(n,i){return this.connection.T_("Listen",n,i)}z_(n){return this.onNext(n)}onNext(n){this.C_.reset();const i=function Af(c,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(L=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:lt(39313,{state:L}),u=n.targetChange.targetIds||[],g=function(L,Q){return L.useProto3Json?(Xe(void 0===Q||"string"==typeof Q,58123),Oi.fromBase64String(Q||"")):(Xe(void 0===Q||Q instanceof Buffer||Q instanceof Uint8Array,16193),Oi.fromUint8Array(Q||new Uint8Array))}(c,n.targetChange.resumeToken),E=n.targetChange.cause,C=E&&function(L){const Q=void 0===L.code?We.UNKNOWN:Gu(L.code);return new Z(Q,L.message||"")}(E);i=new If(s,u,g,C||null)}else if("documentChange"in n){const s=n.documentChange,u=aa(c,s.document.name),g=Oo(s.document.updateTime),E=s.document.createTime?Oo(s.document.createTime):on.min(),C=new ro({mapValue:{fields:s.document.fields}}),M=ci.newFoundDocument(u,g,E,C);i=new vc(s.targetIds||[],s.removedTargetIds||[],M.key,M)}else if("documentDelete"in n){const s=n.documentDelete,u=aa(c,s.document),g=s.readTime?Oo(s.readTime):on.min(),E=ci.newNoDocument(u,g);i=new vc([],s.removedTargetIds||[],E.key,E)}else if("documentRemove"in n){const s=n.documentRemove,u=aa(c,s.document);i=new vc([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return lt(11601,{Vt:n});{const s=n.filter,{count:u=0,unchangedNames:g}=s,E=new Ss(u,g);i=new kl(s.targetId,E)}}var L;return i}(this.serializer,n),s=function(g){if(!("targetChange"in g))return on.min();const E=g.targetChange;return E.targetIds&&E.targetIds.length?on.min():E.readTime?Oo(E.readTime):on.min()}(n);return this.listener.j_(i,s)}H_(n){const i={};i.database=ca(this.serializer),i.addTarget=function(g,E){let C;const M=E.target;if(C=be(M)?{documents:Bc(g,M)}:{query:bs(g,M).gt},C.targetId=E.targetId,E.resumeToken.approximateByteSize()>0){C.resumeToken=Ll(g,E.resumeToken);const L=Ma(g,E.expectedCount);null!==L&&(C.expectedCount=L)}else if(E.snapshotVersion.compareTo(on.min())>0){C.readTime=Ku(g,E.snapshotVersion.toTimestamp());const L=Ma(g,E.expectedCount);null!==L&&(C.expectedCount=L)}return C}(this.serializer,n);const s=function Xs(c,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt(28987,{purpose:u})}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.L_(i)}J_(n){const i={};i.database=ca(this.serializer),i.removeTarget=n,this.L_(i)}}class c_ extends ua{constructor(n,i,s,u,g,E){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,E),this.serializer=g}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(n,i){return this.connection.T_("Write",n,i)}z_(n){return Xe(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,Xe(!n.writeResults||0===n.writeResults.length,55816),this.listener.X_()}onNext(n){Xe(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.C_.reset();const i=function wg(c,n){return c&&c.length>0?(Xe(void 0!==n,14353),c.map(i=>function(u,g){let E=Oo(u.updateTime?u.updateTime:g);return E.isEqual(on.min())&&(E=Oo(g)),new Za(E,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=Oo(n.commitTime);return this.listener.ea(s,i)}ta(){const n={};n.database=ca(this.serializer),this.L_(n)}Z_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>function Bl(c,n){let i;if(n instanceof or)i={update:Vl(c,n.key,n.value)};else if(n instanceof Wi)i={delete:Ec(c,n.key)};else if(n instanceof Dr)i={update:Vl(c,n.key,n.data),updateMask:Qu(n.fieldMask)};else{if(!(n instanceof Vi))return lt(16599,{ft:n.type});i={verify:Ec(c,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(g,E){const C=E.transform;if(C instanceof Xn)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof zr)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Yi)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof jo)return{fieldPath:E.field.canonicalString(),increment:C.Re};throw lt(20930,{transform:E.transform})}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(g=n.precondition).updateTime?{updateTime:zy(c,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:lt(27497)),i;var g}(this.serializer,s))};this.L_(i)}}class Lg{}class wa extends Lg{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.na=!1}ra(){if(this.na)throw new Z(We.FAILED_PRECONDITION,"The client has already been terminated.")}zo(n,i,s,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,E])=>this.connection.zo(n,Ct(i,s),u,g,E)).catch(g=>{throw"FirebaseError"===g.name?(g.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Z(We.UNKNOWN,g.toString())})}Yo(n,i,s,u,g){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([E,C])=>this.connection.Yo(n,Ct(i,s),u,E,C,g)).catch(E=>{throw"FirebaseError"===E.name?(E.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),E):new Z(We.UNKNOWN,E.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Ih{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){0===this.ia&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(n){"Online"===this.state?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.aa("Offline")))}set(n){this.la(),this.ia=0,"Online"===n&&(this.oa=!1),this.aa(n)}aa(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ua(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Fn(i),this.oa=!1):ot("OnlineStateTracker",i)}la(){null!==this.sa&&(this.sa.cancel(),this.sa=null)}}const Yc="RemoteStore";class u_{constructor(n,i,s,u,g){var E=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=g,this.Ea.No(C=>{s.enqueueAndForget((0,T.A)(function*(){var M;Jc(E)&&(ot(Yc,"Restarting streams for network reachability change."),yield(M=(0,T.A)(function*(Q){const oe=St(Q);oe.Ta.add(4),yield nd(oe),oe.da.set("Unknown"),oe.Ta.delete(4),yield Th(oe)}),function L(Q){return M.apply(this,arguments)})(E))}))}),this.da=new Ih(s,u)}}function Th(c){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,T.A)(function*(c){if(Jc(c))for(const n of c.Ia)yield n(!0)})).apply(this,arguments)}function nd(c){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,T.A)(function*(c){for(const n of c.Ia)yield n(!1)})).apply(this,arguments)}function ep(c,n){const i=St(c);i.Pa.has(n.targetId)||(i.Pa.set(n.targetId,n),Bg(i)?Ug(i):id(i).M_()&&Vg(i,n))}function dl(c,n){const i=St(c),s=id(i);i.Pa.delete(n),s.M_()&&l_(i,n),0===i.Pa.size&&(s.M_()?s.N_():Jc(i)&&i.da.set("Unknown"))}function Vg(c,n){if(c.Aa.Ke(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(on.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}id(c).H_(n)}function l_(c,n){c.Aa.Ke(n),id(c).J_(n)}function Ug(c){c.Aa=new Ol({getRemoteKeysForTarget:n=>c.remoteSyncer.getRemoteKeysForTarget(n),Rt:n=>c.Pa.get(n)||null,Pt:()=>c.datastore.serializer.databaseId}),id(c).start(),c.da._a()}function Bg(c){return Jc(c)&&!id(c).F_()&&c.Pa.size>0}function Jc(c){return 0===St(c).Ta.size}function jg(c){c.Aa=void 0}function d_(c){return rd.apply(this,arguments)}function rd(){return(rd=(0,T.A)(function*(c){c.da.set("Online")})).apply(this,arguments)}function h_(c){return tp.apply(this,arguments)}function tp(){return(tp=(0,T.A)(function*(c){c.Pa.forEach((n,i)=>{Vg(c,n)})})).apply(this,arguments)}function f_(c,n){return np.apply(this,arguments)}function np(){return(np=(0,T.A)(function*(c,n){jg(c),Bg(c)?(c.da.ca(n),Ug(c)):c.da.set("Unknown")})).apply(this,arguments)}function PE(c,n,i){return $g.apply(this,arguments)}function $g(){return $g=(0,T.A)(function*(c,n,i){if(c.da.set("Online"),n instanceof If&&2===n.state&&n.cause)try{yield(s=(0,T.A)(function*(g,E){const C=E.cause;for(const M of E.targetIds)g.Pa.has(M)&&(yield g.remoteSyncer.rejectListen(M,C),g.Pa.delete(M),g.Aa.removeTarget(M))}),function u(g,E){return s.apply(this,arguments)})(c,n)}catch(s){ot(Yc,"Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield rp(c,s)}else if(n instanceof vc?c.Aa.Xe(n):n instanceof kl?c.Aa.ot(n):c.Aa.nt(n),!i.isEqual(on.min()))try{const s=yield Xy(c.localStore);i.compareTo(s)>=0&&(yield function(g,E){const C=g.Aa.It(E);return C.targetChanges.forEach((M,L)=>{if(M.resumeToken.approximateByteSize()>0){const Q=g.Pa.get(L);Q&&g.Pa.set(L,Q.withResumeToken(M.resumeToken,E))}}),C.targetMismatches.forEach((M,L)=>{const Q=g.Pa.get(M);if(!Q)return;g.Pa.set(M,Q.withResumeToken(Oi.EMPTY_BYTE_STRING,Q.snapshotVersion)),l_(g,M);const oe=new ec(Q.target,M,L,Q.sequenceNumber);Vg(g,oe)}),g.remoteSyncer.applyRemoteEvent(C)}(c,i))}catch(s){ot(Yc,"Failed to raise snapshot:",s),yield rp(c,s)}var s}),$g.apply(this,arguments)}function rp(c,n,i){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,T.A)(function*(c,n,i){if(!wr(n))throw n;c.Ta.add(1),yield nd(c),c.da.set("Offline"),i||(i=()=>Xy(c.localStore)),c.asyncQueue.enqueueRetryable((0,T.A)(function*(){ot(Yc,"Retrying IndexedDB access"),yield i(),c.Ta.delete(1),yield Th(c)}))})).apply(this,arguments)}function p_(c,n){return n().catch(i=>rp(c,i,n))}function hl(c){return zg.apply(this,arguments)}function zg(){return(zg=(0,T.A)(function*(c){const n=St(c),i=Ia(n);let s=n.ha.length>0?n.ha[n.ha.length-1].batchId:-1;for(;ME(n);)try{const u=yield Zy(n.localStore,s);if(null===u){0===n.ha.length&&i.N_();break}s=u.batchId,NE(n,u)}catch(u){yield rp(n,u)}Wg(n)&&ip(n)})).apply(this,arguments)}function ME(c){return Jc(c)&&c.ha.length<10}function NE(c,n){c.ha.push(n);const i=Ia(c);i.M_()&&i.Y_&&i.Z_(n.mutations)}function Wg(c){return Jc(c)&&!Ia(c).F_()&&c.ha.length>0}function ip(c){Ia(c).start()}function xE(c){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,T.A)(function*(c){Ia(c).ta()})).apply(this,arguments)}function wu(c){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,T.A)(function*(c){const n=Ia(c);for(const i of c.ha)n.Z_(i.mutations)})).apply(this,arguments)}function Kg(c,n,i){return qg.apply(this,arguments)}function qg(){return(qg=(0,T.A)(function*(c,n,i){const s=c.ha.shift(),u=Fs.from(s,n,i);yield p_(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield hl(c)})).apply(this,arguments)}function pT(c,n){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,T.A)(function*(c,n){var i;n&&Ia(c).Y_&&(yield(i=(0,T.A)(function*(u,g){if(function oa(c){switch(c){case We.OK:return lt(64938);case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0;default:return lt(15467,{code:c})}}(C=g.code)&&C!==We.ABORTED){const E=u.ha.shift();Ia(u).O_(),yield p_(u,()=>u.remoteSyncer.rejectFailedWrite(E.batchId,g)),yield hl(u)}var C}),function s(u,g){return i.apply(this,arguments)})(c,n)),Wg(c)&&ip(c)}),Qg.apply(this,arguments)}function g_(c,n){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,T.A)(function*(c,n){const i=St(c);i.asyncQueue.verifyOperationInProgress(),ot(Yc,"RemoteStore received new credentials");const s=Jc(i);i.Ta.add(3),yield nd(i),s&&i.da.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.Ta.delete(3),yield Th(i)})).apply(this,arguments)}function m_(){return(m_=(0,T.A)(function*(c,n){const i=St(c);n?(i.Ta.delete(2),yield Th(i)):n||(i.Ta.add(2),yield nd(i),i.da.set("Unknown"))})).apply(this,arguments)}function id(c){return c.Ra||(c.Ra=function(i,s,u){const g=St(i);return g.ra(),new Fg(s,g.connection,g.authCredentials,g.appCheckCredentials,g.serializer,u)}(c.datastore,c.asyncQueue,{e_:d_.bind(null,c),n_:h_.bind(null,c),i_:f_.bind(null,c),j_:PE.bind(null,c)}),c.Ia.push(function(){var n=(0,T.A)(function*(i){i?(c.Ra.O_(),Bg(c)?Ug(c):c.da.set("Unknown")):(yield c.Ra.stop(),jg(c))});return function(i){return n.apply(this,arguments)}}())),c.Ra}function Ia(c){return c.Va||(c.Va=function(i,s,u){const g=St(i);return g.ra(),new c_(s,g.connection,g.authCredentials,g.appCheckCredentials,g.serializer,u)}(c.datastore,c.asyncQueue,{e_:()=>Promise.resolve(),n_:xE.bind(null,c),i_:pT.bind(null,c),X_:wu.bind(null,c),ea:Kg.bind(null,c)}),c.Ia.push(function(){var n=(0,T.A)(function*(i){i?(c.Va.O_(),yield hl(c)):(yield c.Va.stop(),c.ha.length>0&&(ot(Yc,`Stopping write stream with ${c.ha.length} pending writes`),c.ha=[]))});return function(i){return n.apply(this,arguments)}}())),c.Va}class Yg{constructor(n,i,s,u,g){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=g,this.deferred=new ue,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,g){const E=Date.now()+s,C=new Yg(n,i,E,u,g);return C.start(s),C}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Z(We.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iu(c,n){if(Fn("AsyncQueue",`${n}: ${c}`),wr(c))return new Z(We.UNAVAILABLE,`${n}: ${c}`);throw c}class Tu{static emptySet(n){return new Tu(n.comparator)}constructor(n){this.comparator=n?(i,s)=>n(i,s)||Gt.comparator(i.key,s.key):(i,s)=>Gt.comparator(i.key,s.key),this.keyedMap=Xo(),this.sortedSet=new Wr(this.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof Tu)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,g=s.getNext().key;if(!u.isEqual(g))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new Tu;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class op{constructor(){this.ma=new Wr(Gt.comparator)}track(n){const i=n.doc.key,s=this.ma.get(i);s?0!==n.type&&3===s.type?this.ma=this.ma.insert(i,n):3===n.type&&1!==s.type?this.ma=this.ma.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.ma=this.ma.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.ma=this.ma.remove(i):1===n.type&&2===s.type?this.ma=this.ma.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):lt(63341,{Vt:n,fa:s}):this.ma=this.ma.insert(i,n)}ga(){const n=[];return this.ma.inorderTraversal((i,s)=>{n.push(s)}),n}}class fl{constructor(n,i,s,u,g,E,C,M,L){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=g,this.fromCache=E,this.syncStateChanged=C,this.excludesMetadataChanges=M,this.hasCachedResults=L}static fromInitialDocuments(n,i,s,u,g){const E=[];return i.forEach(C=>{E.push({type:0,doc:C})}),new fl(n,i,Tu.emptySet(i),E,s,u,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&ga(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class sp{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(n=>n.Sa())}}class Jg{constructor(){this.queries=od(),this.onlineState="Unknown",this.ba=new Set}terminate(){!function(i,s){const u=St(i),g=u.queries;u.queries=od(),g.forEach((E,C)=>{for(const M of C.ya)M.onError(s)})}(this,new Z(We.ABORTED,"Firestore shutting down"))}}function od(){return new Di(c=>As(c),ga)}function sd(c,n){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,T.A)(function*(c,n){const i=St(c);let s=3;const u=n.query;let g=i.queries.get(u);g?!g.wa()&&n.Sa()&&(s=2):(g=new sp,s=n.Sa()?0:1);try{switch(s){case 0:g.pa=yield i.onListen(u,!0);break;case 1:g.pa=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(E){const C=Iu(E,`Initialization of query '${ds(n.query)}' failed`);return void n.onError(C)}i.queries.set(u,g),g.ya.push(n),n.Da(i.onlineState),g.pa&&n.va(g.pa)&&Ah(i)})).apply(this,arguments)}function bh(c,n){return ad.apply(this,arguments)}function ad(){return(ad=(0,T.A)(function*(c,n){const i=St(c),s=n.query;let u=3;const g=i.queries.get(s);if(g){const E=g.ya.indexOf(n);E>=0&&(g.ya.splice(E,1),0===g.ya.length?u=n.Sa()?0:1:!g.wa()&&n.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Dh(c,n){const i=St(c);let s=!1;for(const u of n){const E=i.queries.get(u.query);if(E){for(const C of E.ya)C.va(u)&&(s=!0);E.pa=u}}s&&Ah(i)}function em(c,n,i){const s=St(c),u=s.queries.get(n);if(u)for(const g of u.ya)g.onError(i);s.queries.delete(n)}function Ah(c){c.ba.forEach(n=>{n.next()})}var cd,tm;(tm=cd||(cd={})).Ca="default",tm.Cache="cache";class Ch{constructor(n,i,s){this.query=n,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new fl(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.Ma?this.Oa(n)&&(this.Fa.next(n),i=!0):this.Na(n,this.onlineState)&&(this.Ba(n),i=!0),this.xa=n,i}onError(n){this.Fa.error(n)}Da(n){this.onlineState=n;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,n)&&(this.Ba(this.xa),i=!0),i}Na(n,i){return!n.fromCache||!this.Sa()||(!this.options.La||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}Oa(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.xa&&this.xa.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Ba(n){n=fl.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Ma=!0,this.Fa.next(n)}Sa(){return this.options.source!==cd.Cache}}class ap{constructor(n){this.key=n}}class im{constructor(n){this.key=n}}class om{constructor(n,i){this.query=n,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=S(),this.mutatedKeys=S(),this.Ha=Pi(n),this.Ja=new Tu(this.Ha)}get Ya(){return this.Ga}Za(n,i){const s=i?i.Xa:new op,u=i?i.Ja:this.Ja;let g=i?i.mutatedKeys:this.mutatedKeys,E=u,C=!1;const M="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,L="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((Q,oe)=>{const xe=u.get(Q),Et=ma(this.query,oe)?oe:null,Bt=!!xe&&this.mutatedKeys.has(xe.key),cn=!!Et&&(Et.hasLocalMutations||this.mutatedKeys.has(Et.key)&&Et.hasCommittedMutations);let nn=!1;xe&&Et?xe.data.isEqual(Et.data)?Bt!==cn&&(s.track({type:3,doc:Et}),nn=!0):this.eu(xe,Et)||(s.track({type:2,doc:Et}),nn=!0,(M&&this.Ha(Et,M)>0||L&&this.Ha(Et,L)<0)&&(C=!0)):!xe&&Et?(s.track({type:0,doc:Et}),nn=!0):xe&&!Et&&(s.track({type:1,doc:xe}),nn=!0,(M||L)&&(C=!0)),nn&&(Et?(E=E.add(Et),g=cn?g.add(Q):g.delete(Q)):(E=E.delete(Q),g=g.delete(Q)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const Q="F"===this.query.limitType?E.last():E.first();E=E.delete(Q.key),g=g.delete(Q.key),s.track({type:1,doc:Q})}return{Ja:E,Xa:s,Cs:C,mutatedKeys:g}}eu(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const g=this.Ja;this.Ja=n.Ja,this.mutatedKeys=n.mutatedKeys;const E=n.Xa.ga();E.sort((Q,oe)=>function(Et,Bt){const cn=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt(20277,{Vt:nn})}};return cn(Et)-cn(Bt)}(Q.type,oe.type)||this.Ha(Q.doc,oe.doc)),this.tu(s),u=null!=u&&u;const C=i&&!u?this.nu():[],M=0===this.ja.size&&this.current&&!u?1:0,L=M!==this.za;return this.za=M,0!==E.length||L?{snapshot:new fl(this.query,n.Ja,g,E,n.mutatedKeys,0===M,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:C}:{ru:C}}Da(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new op,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(n){return!this.Ga.has(n)&&!!this.Ja.has(n)&&!this.Ja.get(n).hasLocalMutations}tu(n){n&&(n.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=n.current)}nu(){if(!this.current)return[];const n=this.ja;this.ja=S(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const i=[];return n.forEach(s=>{this.ja.has(s)||i.push(new im(s))}),this.ja.forEach(s=>{n.has(s)||i.push(new ap(s))}),i}su(n){this.Ga=n.$s,this.ja=S();const i=this.Za(n.documents);return this.applyChanges(i,!0)}ou(){return fl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,0===this.za,this.hasCachedResults)}}const Cc="SyncEngine";class sm{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class ld{constructor(n){this.key=n,this._u=!1}}class __{constructor(n,i,s,u,g,E){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=g,this.maxConcurrentLimboResolutions=E,this.au={},this.uu=new Di(C=>As(C),ga),this.cu=new Map,this.lu=new Set,this.hu=new Wr(Gt.comparator),this.Pu=new Map,this.Tu=new Co,this.Iu={},this.Eu=new Map,this.du=Gc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return!0===this.Au}}function Ta(c,n){return v_.apply(this,arguments)}function v_(){return(v_=(0,T.A)(function*(c,n,i=!0){const s=gl(c);let u;const g=s.uu.get(n);return g?(s.sharedClientState.addLocalQueryTarget(g.targetId),u=g.view.ou()):u=yield pl(s,n,i,!0),u})).apply(this,arguments)}function cp(c,n){return am.apply(this,arguments)}function am(){return(am=(0,T.A)(function*(c,n){const i=gl(c);yield pl(i,n,!0,!1)})).apply(this,arguments)}function pl(c,n,i,s){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,T.A)(function*(c,n,i,s){const u=yield function ol(c,n){const i=St(c);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ti.getTargetData(s,n).next(g=>g?(u=g,Le.resolve(u)):i.Ti.allocateTargetId(s).next(E=>(u=new ec(n,E,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.xs.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(n,s.targetId)),s})}(c.localStore,Do(n)),g=u.targetId,E=c.sharedClientState.addLocalQueryTarget(g,i);let C;return s&&(C=yield function up(c,n,i,s,u){return lp.apply(this,arguments)}(c,n,g,"current"===E,u.resumeToken)),c.isPrimaryClient&&i&&ep(c.remoteStore,u),C})).apply(this,arguments)}function lp(){return lp=(0,T.A)(function*(c,n,i,s,u){c.Ru=(oe,xe,Et)=>{return(Bt=(0,T.A)(function*(nn,Zn,rr,Mn){let Fr=Zn.view.Za(rr);Fr.Cs&&(Fr=yield Wf(nn.localStore,Zn.query,!1).then(({documents:Ne})=>Zn.view.Za(Ne,Fr)));const Mi=Mn&&Mn.targetChanges.get(Zn.targetId),oi=Mn&&null!=Mn.targetMismatches.get(Zn.targetId),rt=Zn.view.applyChanges(Fr,nn.isPrimaryClient,Mi,oi);return hp(nn,Zn.targetId,rt.ru),rt.snapshot}),function cn(nn,Zn,rr,Mn){return Bt.apply(this,arguments)})(c,oe,xe,Et);var Bt};const g=yield Wf(c.localStore,n,!0),E=new om(n,g.$s),C=E.Za(g.documents),M=sa.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==c.onlineState,u),L=E.applyChanges(C,c.isPrimaryClient,M);hp(c,i,L.ru);const Q=new sm(n,i,E);return c.uu.set(n,Q),c.cu.has(i)?c.cu.get(i).push(n):c.cu.set(i,[n]),L.snapshot}),lp.apply(this,arguments)}function E_(c,n,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,T.A)(function*(c,n,i){const s=St(c),u=s.uu.get(n),g=s.cu.get(u.targetId);if(g.length>1)return s.cu.set(u.targetId,g.filter(E=>!ga(E,n))),void s.uu.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Eu(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&dl(s.remoteStore,u.targetId),fc(s,u.targetId)}).catch($n))):(fc(s,u.targetId),yield Eu(s.localStore,u.targetId,!0))})).apply(this,arguments)}function cm(c,n){return um.apply(this,arguments)}function um(){return(um=(0,T.A)(function*(c,n){const i=St(c),s=i.uu.get(n),u=i.cu.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),dl(i.remoteStore,s.targetId))})).apply(this,arguments)}function I_(){return(I_=(0,T.A)(function*(c,n,i){const s=function Au(c){const n=St(c);return n.remoteStore.remoteSyncer.applySuccessfulWrite=hd.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Rh.bind(null,n),n}(c);try{const u=yield function(E,C){const M=St(E),L=dr.now(),Q=C.reduce((Et,Bt)=>Et.add(Bt.key),S());let oe,xe;return M.persistence.runTransaction("Locally write mutations","readwrite",Et=>{let Bt=Hi(),cn=S();return M.Bs.getEntries(Et,Q).next(nn=>{Bt=nn,Bt.forEach((Zn,rr)=>{rr.isValidDocument()||(cn=cn.add(Zn))})}).next(()=>M.localDocuments.getOverlayedDocuments(Et,Bt)).next(nn=>{oe=nn;const Zn=[];for(const rr of C){const Mn=Wn(rr,oe.get(rr.key).overlayedDocument);null!=Mn&&Zn.push(new Dr(rr.key,Mn,xs(Mn.value.mapValue),Ai.exists(!0)))}return M.mutationQueue.addMutationBatch(Et,L,Zn,C)}).next(nn=>{xe=nn;const Zn=nn.applyToLocalDocumentSet(oe,cn);return M.documentOverlayCache.saveOverlays(Et,nn.batchId,Zn)})}).then(()=>({batchId:xe.batchId,changes:qs(oe)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(E,C,M){let L=E.Iu[E.currentUser.toKey()];L||(L=new Wr(Kt)),L=L.insert(C,M),E.Iu[E.currentUser.toKey()]=L}(s,u.batchId,i),yield Sc(s,u.changes),yield hl(s.remoteStore)}catch(u){const g=Iu(u,"Failed to persist write");i.reject(g)}})).apply(this,arguments)}function ts(c,n){return dd.apply(this,arguments)}function dd(){return(dd=(0,T.A)(function*(c,n){const i=St(c);try{const s=yield function CE(c,n){const i=St(c),s=n.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const E=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const C=[];n.targetChanges.forEach((Q,oe)=>{const xe=u.get(oe);if(!xe)return;C.push(i.Ti.removeMatchingKeys(g,Q.removedDocuments,oe).next(()=>i.Ti.addMatchingKeys(g,Q.addedDocuments,oe)));let Et=xe.withSequenceNumber(g.currentSequenceNumber);var cn,nn,Zn;null!==n.targetMismatches.get(oe)?Et=Et.withResumeToken(Oi.EMPTY_BYTE_STRING,on.min()).withLastLimboFreeSnapshotVersion(on.min()):Q.resumeToken.approximateByteSize()>0&&(Et=Et.withResumeToken(Q.resumeToken,s)),u=u.insert(oe,Et),nn=Et,Zn=Q,(0===(cn=xe).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-cn.snapshotVersion.toMicroseconds()>=3e8||Zn.addedDocuments.size+Zn.modifiedDocuments.size+Zn.removedDocuments.size>0)&&C.push(i.Ti.updateTargetData(g,Et))});let M=Hi(),L=S();if(n.documentUpdates.forEach(Q=>{n.resolvedLimboDocuments.has(Q)&&C.push(i.persistence.referenceDelegate.updateLimboDocument(g,Q))}),C.push(function zf(c,n,i){let s=S(),u=S();return i.forEach(g=>s=s.add(g)),n.getEntries(c,s).next(g=>{let E=Hi();return i.forEach((C,M)=>{const L=g.get(C);M.isFoundDocument()!==L.isFoundDocument()&&(u=u.add(C)),M.isNoDocument()&&M.version.isEqual(on.min())?(n.removeEntry(C,M.readTime),E=E.insert(C,M)):!L.isValidDocument()||M.version.compareTo(L.version)>0||0===M.version.compareTo(L.version)&&L.hasPendingWrites?(n.addEntry(M),E=E.insert(C,M)):ot(qy,"Ignoring outdated watch update for ",C,". Current version:",L.version," Watch version:",M.version)}),{qs:E,Qs:u}})}(g,E,n.documentUpdates).next(Q=>{M=Q.qs,L=Q.Qs})),!s.isEqual(on.min())){const Q=i.Ti.getLastRemoteSnapshotVersion(g).next(oe=>i.Ti.setTargetsMetadata(g,g.currentSequenceNumber,s));C.push(Q)}return Le.waitFor(C).next(()=>E.apply(g)).next(()=>i.localDocuments.getLocalViewOfDocuments(g,M,L)).next(()=>M)}).then(g=>(i.xs=u,g))}(i.localStore,n);n.targetChanges.forEach((u,g)=>{const E=i.Pu.get(g);E&&(Xe(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?E._u=!0:u.modifiedDocuments.size>0?Xe(E._u,14607):u.removedDocuments.size>0&&(Xe(E._u,42227),E._u=!1))}),yield Sc(i,s,n)}catch(s){yield $n(s)}})).apply(this,arguments)}function lm(c,n,i){const s=St(c);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.uu.forEach((g,E)=>{const C=E.view.Da(n);C.snapshot&&u.push(C.snapshot)}),function(E,C){const M=St(E);M.onlineState=C;let L=!1;M.queries.forEach((Q,oe)=>{for(const xe of oe.ya)xe.Da(C)&&(L=!0)}),L&&Ah(M)}(s.eventManager,n),u.length&&s.au.j_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function uo(c,n,i){return bu.apply(this,arguments)}function bu(){return(bu=(0,T.A)(function*(c,n,i){const s=St(c);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Pu.get(n),g=u&&u.key;if(g){let E=new Wr(Gt.comparator);E=E.insert(g,ci.newNoDocument(g,on.min()));const C=S().add(g),M=new Uc(on.min(),new Map,new Wr(Kt),E,C);yield ts(s,M),s.hu=s.hu.remove(g),s.Pu.delete(n),pd(s)}else yield Eu(s.localStore,n,!1).then(()=>fc(s,n,i)).catch($n)})).apply(this,arguments)}function hd(c,n){return hc.apply(this,arguments)}function hc(){return(hc=(0,T.A)(function*(c,n){const i=St(c),s=n.batch.batchId;try{const u=yield function Pg(c,n){const i=St(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),g=i.Bs.newChangeBuffer({trackRemovals:!0});return function(C,M,L,Q){const oe=L.batch,xe=oe.keys();let Et=Le.resolve();return xe.forEach(Bt=>{Et=Et.next(()=>Q.getEntry(M,Bt)).next(cn=>{const nn=L.docVersions.get(Bt);Xe(null!==nn,48541),cn.version.compareTo(nn)<0&&(oe.applyToRemoteDocument(cn,L),cn.isValidDocument()&&(cn.setReadTime(L.commitVersion),Q.addEntry(cn)))})}),Et.next(()=>C.mutationQueue.removeMutationBatch(M,oe))}(i,s,n,g).next(()=>g.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(C){let M=S();for(let L=0;L<C.mutationResults.length;++L)C.mutationResults[L].transformResults.length>0&&(M=M.add(C.batch.mutations[L].key));return M}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);hm(i,s,null),Du(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Sc(i,u)}catch(u){yield $n(u)}})).apply(this,arguments)}function Rh(c,n,i){return fd.apply(this,arguments)}function fd(){return(fd=(0,T.A)(function*(c,n,i){const s=St(c);try{const u=yield function(E,C){const M=St(E);return M.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let Q;return M.mutationQueue.lookupMutationBatch(L,C).next(oe=>(Xe(null!==oe,37113),Q=oe.keys(),M.mutationQueue.removeMutationBatch(L,oe))).next(()=>M.mutationQueue.performConsistencyCheck(L)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(L,Q,C)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,Q)).next(()=>M.localDocuments.getDocuments(L,Q))})}(s.localStore,n);hm(s,n,i),Du(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield Sc(s,u)}catch(u){yield $n(u)}})).apply(this,arguments)}function Du(c,n){(c.Eu.get(n)||[]).forEach(i=>{i.resolve()}),c.Eu.delete(n)}function hm(c,n,i){const s=St(c);let u=s.Iu[s.currentUser.toKey()];if(u){const g=u.get(n);g&&(i?g.reject(i):g.resolve(),u=u.remove(n)),s.Iu[s.currentUser.toKey()]=u}}function fc(c,n,i=null){c.sharedClientState.removeLocalQueryTarget(n);for(const s of c.cu.get(n))c.uu.delete(s),i&&c.au.Vu(s,i);c.cu.delete(n),c.isPrimaryClient&&c.Tu.Hr(n).forEach(s=>{c.Tu.containsKey(s)||T_(c,s)})}function T_(c,n){c.lu.delete(n.path.canonicalString());const i=c.hu.get(n);null!==i&&(dl(c.remoteStore,i),c.hu=c.hu.remove(n),c.Pu.delete(i),pd(c))}function hp(c,n,i){for(const s of i)s instanceof ap?(c.Tu.addReference(s.key,n),Ph(c,s)):s instanceof im?(ot(Cc,"Document no longer in limbo: "+s.key),c.Tu.removeReference(s.key,n),c.Tu.containsKey(s.key)||T_(c,s.key)):lt(19791,{mu:s})}function Ph(c,n){const i=n.key,s=i.path.canonicalString();c.hu.get(i)||c.lu.has(s)||(ot(Cc,"New document in limbo: "+i),c.lu.add(s),pd(c))}function pd(c){for(;c.lu.size>0&&c.hu.size<c.maxConcurrentLimboResolutions;){const n=c.lu.values().next().value;c.lu.delete(n);const i=new Gt(ct.fromString(n)),s=c.du.next();c.Pu.set(s,new ld(i)),c.hu=c.hu.insert(i,s),ep(c.remoteStore,new ec(Do(bo(i.path)),s,"TargetPurposeLimboResolution",Ze.le))}}function Sc(c,n,i){return fp.apply(this,arguments)}function fp(){return fp=(0,T.A)(function*(c,n,i){const s=St(c),u=[],g=[],E=[];var C;s.uu.isEmpty()||(s.uu.forEach((C,M)=>{E.push(s.Ru(M,n,i).then(L=>{var Q;if((L||i)&&s.isPrimaryClient){const oe=L?!L.fromCache:null===(Q=i?.targetChanges.get(M.targetId))||void 0===Q?void 0:Q.current;s.sharedClientState.updateQueryState(M.targetId,oe?"current":"not-current")}if(L){u.push(L);const oe=il.Rs(M.targetId,L);g.push(oe)}}))}),yield Promise.all(E),s.au.j_(u),yield(C=(0,T.A)(function*(L,Q){const oe=St(L);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",xe=>Le.forEach(Q,Et=>Le.forEach(Et.ds,Bt=>oe.persistence.referenceDelegate.addReference(xe,Et.targetId,Bt)).next(()=>Le.forEach(Et.As,Bt=>oe.persistence.referenceDelegate.removeReference(xe,Et.targetId,Bt)))))}catch(xe){if(!wr(xe))throw xe;ot(qy,"Failed to update sequence numbers: "+xe)}for(const xe of Q){const Et=xe.targetId;if(!xe.fromCache){const Bt=oe.xs.get(Et),nn=Bt.withLastLimboFreeSnapshotVersion(Bt.snapshotVersion);oe.xs=oe.xs.insert(Et,nn)}}}),function M(L,Q){return C.apply(this,arguments)})(s.localStore,g))}),fp.apply(this,arguments)}function Mh(c,n){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,T.A)(function*(c,n){const i=St(c);if(!i.currentUser.isEqual(n)){ot(Cc,"User change. New user:",n.toKey());const s=yield yo(i.localStore,n);i.currentUser=n,(g=i).Eu.forEach(C=>{C.forEach(M=>{M.reject(new Z(We.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.Eu.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield Sc(i,s.ks)}var g})).apply(this,arguments)}function OE(c,n){const i=St(c),s=i.Pu.get(n);if(s&&s._u)return S().add(s.key);{let u=S();const g=i.cu.get(n);if(!g)return u;for(const E of g){const C=i.uu.get(E);u=u.unionWith(C.view.Ya)}return u}}function gl(c){const n=St(c);return n.remoteStore.remoteSyncer.applyRemoteEvent=ts.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=OE.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=uo.bind(null,n),n.au.j_=Dh.bind(null,n.eventManager),n.au.Vu=em.bind(null,n.eventManager),n}let yd=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,T.A)(function*(){s.serializer=ll(i.databaseInfo.databaseId),s.sharedClientState=s.pu(i),s.persistence=s.yu(i),yield s.persistence.start(),s.localStore=s.wu(i),s.gcScheduler=s.Su(i,s.localStore),s.indexBackfillerScheduler=s.bu(i,s.localStore)})()}Su(i,s){return null}bu(i,s){return null}wu(i){return function Qy(c,n,i,s){return new Hf(c,n,i,s)}(this.persistence,new Cg,i.initialUser,this.serializer)}yu(i){return new nl(vu.fi,this.serializer)}pu(i){return new r_}terminate(){var i=this;return(0,T.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class mp extends yd{constructor(n){super(),this.cacheSizeBytes=n}Su(n,i){return Xe(this.persistence.referenceDelegate instanceof Ls,46915),new Fo(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}yu(n){const i=void 0!==this.cacheSizeBytes?es.withCacheSize(this.cacheSizeBytes):es.DEFAULT;return new nl(s=>Ls.fi(s,i),this.serializer)}}let _d=(()=>{class c{initialize(i,s){var u=this;return(0,T.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=g=>lm(u.syncEngine,g,1),u.remoteStore.remoteSyncer.handleCredentialChange=Mh.bind(null,u.syncEngine),yield function Zg(c,n){return m_.apply(this,arguments)}(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Jg}createDatastore(i){const s=ll(i.databaseInfo.databaseId),u=new RE(i.databaseInfo);return new wa(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,g=this.datastore,E=i.asyncQueue,C=s=>lm(this.syncEngine,s,0),M=Qf.C()?new Qf:new vh,new u_(u,g,E,C,M);var u,g,E,C,M}createSyncEngine(i,s){return function(g,E,C,M,L,Q,oe){const xe=new __(g,E,C,M,L,Q);return oe&&(xe.Au=!0),xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,T.A)(function*(){var s,u,g;yield(g=(0,T.A)(function*(C){const M=St(C);ot(Yc,"RemoteStore shutting down."),M.Ta.add(5),yield nd(M),M.Ea.shutdown(),M.da.set("Unknown")}),function E(C){return g.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return c.provider={build:()=>new c},c})();class eu{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.vu(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.vu(this.observer.error,n):Fn("Uncaught Error in snapshot listener:",n.toString()))}Cu(){this.muted=!0}vu(n,i){setTimeout(()=>{this.muted||n(i)},0)}}const tu="FirestoreClient";class gT{constructor(n,i,s,u,g){var E=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=tt.UNAUTHENTICATED,this.clientId=Bn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=g,this.authCredentials.start(s,function(){var C=(0,T.A)(function*(M){ot(tu,"Received user=",M.uid),yield E.authCredentialListener(M),E.user=M});return function(M){return C.apply(this,arguments)}}()),this.appCheckCredentials.start(s,C=>(ot(tu,"Received new app check token=",C),this.appCheckCredentialListener(C,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new ue;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,T.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=Iu(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function vp(c,n){return _m.apply(this,arguments)}function _m(){return _m=(0,T.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress(),ot(tu,"Initializing OfflineComponentProvider");const i=c.configuration;yield n.initialize(i);let s=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,T.A)(function*(g){s.isEqual(g)||(yield yo(n.localStore,g),s=g)});return function(g){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=n}),_m.apply(this,arguments)}function vm(c,n){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,T.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress();const i=yield function Em(c){return Ep.apply(this,arguments)}(c);ot(tu,"Initializing OnlineComponentProvider"),yield n.initialize(i,c.configuration),c.setCredentialChangeListener(s=>g_(n.remoteStore,s)),c.setAppCheckTokenChangeListener((s,u)=>g_(n.remoteStore,u)),c._onlineComponents=n})).apply(this,arguments)}function Ep(){return(Ep=(0,T.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){ot(tu,"Using user provided OfflineComponentProvider");try{yield vp(c,c._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===We.FAILED_PRECONDITION||u.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;Sn("Error using user provided cache. Falling back to memory cache: "+n),yield vp(c,new yd)}}else ot(tu,"Using default OfflineComponentProvider"),yield vp(c,new mp(void 0));var u;return c._offlineComponents})).apply(this,arguments)}function Fh(c){return wm.apply(this,arguments)}function wm(){return(wm=(0,T.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(ot(tu,"Using user provided OnlineComponentProvider"),yield vm(c,c._uninitializedComponentsProvider._online)):(ot(tu,"Using default OnlineComponentProvider"),yield vm(c,new _d))),c._onlineComponents})).apply(this,arguments)}function Lh(c){return vd.apply(this,arguments)}function vd(){return(vd=(0,T.A)(function*(c){const n=yield Fh(c),i=n.eventManager;return i.onListen=Ta.bind(null,n.syncEngine),i.onUnlisten=E_.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=cp.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=cm.bind(null,n.syncEngine),i})).apply(this,arguments)}function WE(c){const n={};return void 0!==c.timeoutSeconds&&(n.timeoutSeconds=c.timeoutSeconds),n}const GE=new Map;function O_(c,n,i){if(!i)throw new Z(We.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${n}.`)}function F_(c){if(!Gt.isDocumentKey(c))throw new Z(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function jh(c){if(Gt.isDocumentKey(c))throw new Z(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function Ed(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const n=(s=c).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof c?"a function":lt(12329,{type:typeof c})}function Yr(c,n){if("_delegate"in c&&(c=c._delegate),!(c instanceof n)){if(n.name===c.constructor.name)throw new Z(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ed(c);throw new Z(We.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return c}const qE="firestore.googleapis.com";class L_{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new Z(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qE,this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.isUsingEmulator=void 0!==n.emulatorOptions,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Z(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}(function Bh(c,n,i,s){if(!0===n&&!0===s)throw new Z(We.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)})("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=WE(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(g){if(void 0!==g.timeoutSeconds){if(isNaN(g.timeoutSeconds))throw new Z(We.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (must not be NaN)`);if(g.timeoutSeconds<5)throw new Z(We.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (minimum allowed value is 5)`);if(g.timeoutSeconds>30)throw new Z(We.INVALID_ARGUMENT,`invalid long polling timeout: ${g.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class wd{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Z(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(n),this._emulatorOptions=n.emulatorOptions||{},void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new ge;switch(s.type){case"firstParty":return new pt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Z(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,T.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=GE.get(i);s&&(ot("ComponentProvider","Removing Datastore"),GE.delete(i),s.terminate())}(this),Promise.resolve()}}class Ps{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Ps(this.firestore,n,this._query)}}class _o{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pc(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new _o(this.firestore,n,this._key)}}class pc extends Ps{constructor(n,i,s){super(n,i,bo(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new _o(this.firestore,null,new Gt(n))}withConverter(n){return new pc(this.firestore,n,this._path)}}function QE(c,n,...i){if(c=(0,Ae.Ku)(c),O_("collection","path",n),c instanceof wd){const s=ct.fromString(n,...i);return jh(s),new pc(c,null,s)}{if(!(c instanceof _o||c instanceof pc))throw new Z(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(ct.fromString(n,...i));return jh(s),new pc(c.firestore,null,s)}}function V_(c,n,...i){if(c=(0,Ae.Ku)(c),1===arguments.length&&(n=Bn.newId()),O_("doc","path",n),c instanceof wd){const s=ct.fromString(n,...i);return F_(s),new _o(c,null,new Gt(s))}{if(!(c instanceof _o||c instanceof pc))throw new Z(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(ct.fromString(n,...i));return F_(s),new _o(c.firestore,c instanceof pc?c.converter:null,new Gt(s))}}const U_="AsyncQueue";class B_{constructor(n=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Og(this,"async_queue_retry"),this.ec=()=>{const s=wh();s&&ot(U_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=n;const i=wh();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.nc(),this.rc(n)}enterRestrictedMode(n){if(!this.ju){this.ju=!0,this.Zu=n||!1;const i=wh();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(n){if(this.nc(),this.ju)return new Promise(()=>{});const i=new ue;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.zu.push(n),this.sc()))}sc(){var n=this;return(0,T.A)(function*(){if(0!==n.zu.length){try{yield n.zu[0](),n.zu.shift(),n.C_.reset()}catch(i){if(!wr(i))throw i;ot(U_,"Operation failed with retryable error: "+i)}n.zu.length>0&&n.C_.f_(()=>n.sc())}})()}rc(n){const i=this.tc.then(()=>(this.Yu=!0,n().catch(s=>{throw this.Ju=s,this.Yu=!1,Fn("INTERNAL UNHANDLED ERROR: ",j_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=i,i}enqueueAfterDelay(n,i,s){this.nc(),this.Xu.indexOf(n)>-1&&(i=0);const u=Yg.createAndSchedule(this,n,i,s,g=>this.oc(g));return this.Hu.push(u),u}nc(){this.Ju&&lt(47125,{_c:j_(this.Ju)})}verifyOperationInProgress(){}ac(){var n=this;return(0,T.A)(function*(){let i;do{i=n.tc,yield i}while(i!==n.tc)})()}uc(n){for(const i of this.Hu)if(i.timerId===n)return!0;return!1}cc(n){return this.ac().then(()=>{this.Hu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.ac()})}lc(n){this.Xu.push(n)}oc(n){const i=this.Hu.indexOf(n);this.Hu.splice(i,1)}}function j_(c){let n=c.message||"";return c.stack&&(n=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),n}function Cm(c){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const g of["next","error","complete"])if(g in u&&"function"==typeof u[g])return!0;return!1}(c)}class vo extends wd{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new B_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var n=this;return(0,T.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new B_(i),n._firestoreClient=void 0,yield i}})()}}function Sm(c,n){const i="object"==typeof c?c:(0,N.Sx)(),s="string"==typeof c?c:n||we,u=(0,N.j6)(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const g=(0,Ae.yU)("firestore");g&&function Dm(c,n,i,s={}){var u;c=Yr(c,wd);const g=(0,Ae.zJ)(n),E=c._getSettings(),C=Object.assign(Object.assign({},E),{emulatorOptions:c._getEmulatorOptions()}),M=`${n}:${i}`;g&&((0,Ae.gE)(`https://${M}`),(0,Ae.P1)("Firestore",!0)),E.host!==qE&&E.host!==M&&Sn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const L=Object.assign(Object.assign({},E),{host:M,ssl:g,emulatorOptions:s});if(!(0,Ae.bD)(L,C)&&(c._setSettings(L),s.mockUserToken)){let Q,oe;if("string"==typeof s.mockUserToken)Q=s.mockUserToken,oe=tt.MOCK_USER;else{Q=(0,Ae.Fy)(s.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const xe=s.mockUserToken.sub||s.mockUserToken.user_id;if(!xe)throw new Z(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");oe=new tt(xe)}c._authCredentials=new te(new le(Q,oe))}}(u,...g)}return u}function Ho(c){if(c._terminated)throw new Z(We.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||function H_(c){var n,i,s;const u=c._freezeSettings(),g=(M=(null===(n=c._app)||void 0===n?void 0:n.options.appId)||"",new z(c._databaseId,M,c._persistenceKey,(Q=u).host,Q.ssl,Q.experimentalForceLongPolling,Q.experimentalAutoDetectLongPolling,WE(Q.experimentalLongPollingOptions),Q.useFetchStreams,Q.isUsingEmulator));var M,Q;c._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(c._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),c._firestoreClient=new gT(c._authCredentials,c._appCheckCredentials,c._queue,g,c._componentsProvider&&function(C){const M=C?._online.build();return{_offline:C?._offline.build(M),_online:M}}(c._componentsProvider))}(c),c._firestoreClient}class xa{constructor(n){this._byteString=n}static fromBase64String(n){try{return new xa(Oi.fromBase64String(n))}catch(i){throw new Z(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new xa(Oi.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ml{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Z(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Td{constructor(n){this._methodName=n}}class Mm{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Z(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Z(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Kt(this._lat,n._lat)||Kt(this._long,n._long)}}class Ip{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let g=0;g<s.length;++g)if(s[g]!==u[g])return!1;return!0}(this._values,n._values)}}const nu=/^__.*__$/;class bd{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new Dr(n,this.data,this.fieldMask,i,this.fieldTransforms):new or(n,this.data,i,this.fieldTransforms)}}class K_{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new Dr(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function q_(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt(40011,{hc:c})}}class Tp{constructor(n,i,s,u,g,E){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===g&&this.Pc(),this.fieldTransforms=g||[],this.fieldMask=E||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(n){return new Tp(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:s,Ec:!1});return u.dc(n),u}Ac(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:s,Ec:!1});return u.Pc(),u}Rc(n){return this.Tc({path:void 0,Ec:!0})}Vc(n){return Vm(n,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}Pc(){if(this.path)for(let n=0;n<this.path.length;n++)this.dc(this.path.get(n))}dc(n){if(0===n.length)throw this.Vc("Document fields must not be empty");if(q_(this.hc)&&nu.test(n))throw this.Vc('Document fields cannot begin and end with "__"')}}class ew{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||ll(n)}gc(n,i,s,u=!1){return new Tp({hc:n,methodName:i,fc:s,path:Kn.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yl(c){const n=c._freezeSettings(),i=ll(c._databaseId);return new ew(c._databaseId,!!n.ignoreUndefinedProperties,i)}function bp(c,n,i,s,u,g={}){const E=c.gc(g.merge||g.mergeFields?2:0,n,i,u);X_("Data must be an object, but it was:",E,s);const C=Fm(s,E);let M,L;if(g.merge)M=new No(E.fieldMask),L=E.fieldTransforms;else if(g.mergeFields){const Q=[];for(const oe of g.mergeFields){const xe=Dp(n,oe,i);if(!E.contains(xe))throw new Z(We.INVALID_ARGUMENT,`Field '${xe}' is specified in your field mask but missing from your input data.`);nw(Q,xe)||Q.push(xe)}M=new No(Q),L=E.fieldTransforms.filter(oe=>M.covers(oe.field))}else M=null,L=E.fieldTransforms;return new bd(new ro(C),M,L)}class Dd extends Td{_toFieldTransform(n){if(2!==n.hc)throw n.Vc(1===n.hc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Dd}}function gc(c,n,i,s){const u=c.gc(1,n,i);X_("Data must be an object, but it was:",u,s);const g=[],E=ro.empty();po(s,(M,L)=>{const Q=Cd(n,M,i);L=(0,Ae.Ku)(L);const oe=u.Ac(Q);if(L instanceof Dd)g.push(Q);else{const xe=Cu(L,oe);null!=xe&&(g.push(Q),E.set(Q,xe))}});const C=new No(g);return new K_(E,C,u.fieldTransforms)}function _l(c,n,i,s,u,g){const E=c.gc(1,n,i),C=[Dp(n,s,i)],M=[u];if(g.length%2!=0)throw new Z(We.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xe=0;xe<g.length;xe+=2)C.push(Dp(n,g[xe])),M.push(g[xe+1]);const L=[],Q=ro.empty();for(let xe=C.length-1;xe>=0;--xe)if(!nw(L,C[xe])){const Et=C[xe];let Bt=M[xe];Bt=(0,Ae.Ku)(Bt);const cn=E.Ac(Et);if(Bt instanceof Dd)L.push(Et);else{const nn=Cu(Bt,cn);null!=nn&&(L.push(Et),Q.set(Et,nn))}}const oe=new No(L);return new K_(Q,oe,E.fieldTransforms)}function Cu(c,n){if(tw(c=(0,Ae.Ku)(c)))return X_("Unsupported field value:",n,c),Fm(c,n);if(c instanceof Td)return function(s,u){if(!q_(u.hc))throw u.Vc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${s._methodName}() is not currently supported inside arrays`);const g=s._toFieldTransform(u);g&&u.fieldTransforms.push(g)}(c,n),null;if(void 0===c&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),c instanceof Array){if(n.settings.Ec&&4!==n.hc)throw n.Vc("Nested arrays are not supported");return function(s,u){const g=[];let E=0;for(const C of s){let M=Cu(C,u.Rc(E));null==M&&(M={nullValue:"NULL_VALUE"}),g.push(M),E++}return{arrayValue:{values:g}}}(c,n)}return function(s,u){if(null===(s=(0,Ae.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ot(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const g=dr.fromDate(s);return{timestampValue:Ku(u.serializer,g)}}if(s instanceof dr){const g=new dr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ku(u.serializer,g)}}if(s instanceof Mm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xa)return{bytesValue:Ll(u.serializer,s._byteString)};if(s instanceof _o){const g=u.databaseId,E=s.firestore._databaseId;if(!E.isEqual(g))throw u.Vc(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:qu(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ip)return E=s,C=u,{mapValue:{fields:{[nt]:{stringValue:wn},[dn]:{arrayValue:{values:E.toArray().map(L=>{if("number"!=typeof L)throw C.Vc("VectorValues must only contain numeric values.");return ne(C.serializer,L)})}}}}};var E,C;throw u.Vc(`Unsupported field value: ${Ed(s)}`)}(c,n)}function Fm(c,n){const i={};return Is(c)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):po(c,(s,u)=>{const g=Cu(u,n.Ic(s));null!=g&&(i[s]=g)}),{mapValue:{fields:i}}}function tw(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof dr||c instanceof Mm||c instanceof xa||c instanceof _o||c instanceof Td||c instanceof Ip)}function X_(c,n,i){if(!tw(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Ed(i);throw n.Vc("an object"===s?c+" a custom object":c+" "+s)}var u}function Dp(c,n,i){if((n=(0,Ae.Ku)(n))instanceof ml)return n._internalPath;if("string"==typeof n)return Cd(c,n);throw Vm("Field path arguments must be of type string or ",c,!1,void 0,i)}const Lm=new RegExp("[~\\*/\\[\\]]");function Cd(c,n,i){if(n.search(Lm)>=0)throw Vm(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new ml(...n.split("."))._internalPath}catch{throw Vm(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function Vm(c,n,i,s,u){const g=s&&!s.isEmpty(),E=void 0!==u;let C=`Function ${n}() called with invalid data`;i&&(C+=" (via `toFirestore()`)"),C+=". ";let M="";return(g||E)&&(M+=" (found",g&&(M+=` in field ${s}`),E&&(M+=` in document ${u}`),M+=")"),new Z(We.INVALID_ARGUMENT,C+c+M)}function nw(c,n){return c.some(i=>i.isEqual(n))}class Sd{constructor(n,i,s,u,g){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new _o(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new rw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class rw extends Sd{data(){return super.data()}}function Ap(c,n){return"string"==typeof n?Cd(c,n):n instanceof ml?n._internalPath:n._delegate._internalPath}function Z_(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new Z(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class zh extends Um{}function Y_(c,n,...i){let s=[];n instanceof Um&&s.push(n),s=s.concat(i),function(g){const E=g.filter(M=>M instanceof Pd).length,C=g.filter(M=>M instanceof Rd).length;if(E>1||E>0&&C>0)throw new Z(We.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)c=u._apply(c);return c}class Rd extends zh{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new Rd(n,i,s)}_apply(n){const i=this._parse(n);return uw(n._query,i),new Ps(n.firestore,n.converter,pa(n._query,i))}_parse(n){const i=yl(n.firestore);return function(g,E,C,M,L,Q,oe){let xe;if(L.isKeyField()){if("array-contains"===Q||"array-contains-any"===Q)throw new Z(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Q}' queries on documentId().`);if("in"===Q||"not-in"===Q){cw(oe,Q);const Bt=[];for(const cn of oe)Bt.push($m(M,g,cn));xe={arrayValue:{values:Bt}}}else xe=$m(M,g,oe)}else"in"!==Q&&"not-in"!==Q&&"array-contains-any"!==Q||cw(oe,Q),xe=function Om(c,n,i,s=!1){return Cu(i,c.gc(s?4:3,n))}(C,"where",oe,"in"===Q||"not-in"===Q);return Hr.create(L,Q,xe)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}function iw(c,n,i){const s=n,u=Ap("where",c);return Rd._create(u,s,i)}class Pd extends Um{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Pd(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:Vr.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,g){let E=u;const C=g.getFlattenedFilters();for(const M of C)uw(E,M),E=pa(E,M)}(n._query,i),new Ps(n.firestore,n.converter,pa(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cp extends zh{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new Cp(n,i)}_apply(n){const i=function(u,g,E){if(null!==u.startAt)throw new Z(We.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Z(We.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ws(g,E)}(n._query,this._field,this._direction);return new Ps(n.firestore,n.converter,function(u,g){const E=u.explicitOrderBy.concat([g]);return new Li(u.path,u.collectionGroup,E,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}function jm(c,n="asc"){const i=n,s=Ap("orderBy",c);return Cp._create(s,i)}function $m(c,n,i){if("string"==typeof(i=(0,Ae.Ku)(i))){if(""===i)throw new Z(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ra(n)&&-1!==i.indexOf("/"))throw new Z(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(ct.fromString(i));if(!Gt.isDocumentKey(s))throw new Z(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pi(c,new Gt(s))}if(i instanceof _o)return pi(c,i._key);throw new Z(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(i)}.`)}function cw(c,n){if(!Array.isArray(c)||0===c.length)throw new Z(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function uw(c,n){const i=function(u,g){for(const E of u)for(const C of E.getFlattenedFilters())if(g.indexOf(C.op)>=0)return C.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Z(We.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class tv{convertValue(n,i="none"){switch(Qn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return kr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(yr(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw lt(62114,{value:n})}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return po(n,(u,g)=>{s[u]=this.convertValue(g,i)}),s}convertVectorValue(n){var i,s,u;const g=null===(u=null===(s=null===(i=n.fields)||void 0===i?void 0:i[dn].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(E=>kr(E.doubleValue));return new Ip(g)}convertGeoPoint(n){return new Mm(kr(n.latitude),kr(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=_r(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(W(n));default:return null}}convertTimestamp(n){const i=xo(n);return new dr(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=ct.fromString(n);Xe(jl(s),9688,{name:n});const u=new Ce(s.get(1),s.get(3)),g=new Gt(s.popFirst(5));return u.isEqual(i)||Fn(`Document ${g} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),g}}function Mp(c,n,i){let s;return s=c?i&&(i.merge||i.mergeFields)?c.toFirestore(n,i):c.toFirestore(n):n,s}class vl{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class xd extends Sd{constructor(n,i,s,u,g,E){super(n,i,s,u,E),this._firestore=n,this._firestoreImpl=n,this.metadata=g}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class kd extends xd{data(n={}){return super.data(n)}}class Wh{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new vl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new kd(this._firestore,this._userDataWriter,s.key,s,new vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Z(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,g){if(u._snapshot.oldDocs.isEmpty()){let E=0;return u._snapshot.docChanges.map(C=>({type:"added",doc:new kd(u._firestore,u._userDataWriter,C.doc.key,C.doc,new vl(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:E++}))}{let E=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(C=>g||3!==C.type).map(C=>{const M=new kd(u._firestore,u._userDataWriter,C.doc.key,C.doc,new vl(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter);let L=-1,Q=-1;return 0!==C.type&&(L=E.indexOf(C.doc.key),E=E.delete(C.doc.key)),1!==C.type&&(E=E.add(C.doc),Q=E.indexOf(C.doc.key)),{type:AT(C.type),doc:M,oldIndex:L,newIndex:Q}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function AT(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt(61501,{type:c})}}function CT(c){c=Yr(c,_o);const n=Yr(c.firestore,vo);return function N_(c,n,i={}){const s=new ue;return c.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function(g,E,C,M,L){const Q=new eu({next:xe=>{Q.Cu(),E.enqueueAndForget(()=>bh(g,oe));const Et=xe.docs.has(C);!Et&&xe.fromCache?L.reject(new Z(We.UNAVAILABLE,"Failed to get document because the client is offline.")):Et&&xe.fromCache&&M&&"server"===M.source?L.reject(new Z(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(xe)},error:xe=>L.reject(xe)}),oe=new Ch(bo(C.path),Q,{includeMetadataChanges:!0,La:!0});return sd(g,oe)}(yield Lh(c),c.asyncQueue,n,i,s)})),s.promise}(Ho(n),c._key).then(i=>Su(n,c,i))}class El extends tv{constructor(n){super(),this.firestore=n}convertBytes(n){return new xa(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new _o(this.firestore,null,i)}}function ST(c){c=Yr(c,Ps);const n=Yr(c.firestore,vo),i=Ho(n),s=new El(n);return Z_(c._query),function Im(c,n,i={}){const s=new ue;return c.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function(g,E,C,M,L){const Q=new eu({next:xe=>{Q.Cu(),E.enqueueAndForget(()=>bh(g,oe)),xe.fromCache&&"server"===M.source?L.reject(new Z(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(xe)},error:xe=>L.reject(xe)}),oe=new Ch(C,Q,{includeMetadataChanges:!0,La:!0});return sd(g,oe)}(yield Lh(c),c.asyncQueue,n,i,s)})),s.promise}(i,c._query).then(u=>new Wh(n,s,c,u))}function Np(c,n,i){c=Yr(c,_o);const s=Yr(c.firestore,vo),u=Mp(c.converter,n,i);return Od(s,[bp(yl(s),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,Ai.none())])}function rv(c,n,i,...s){c=Yr(c,_o);const u=Yr(c.firestore,vo),g=yl(u);let E;return E="string"==typeof(n=(0,Ae.Ku)(n))||n instanceof ml?_l(g,"updateDoc",c._key,n,i,s):gc(g,"updateDoc",c._key,n),Od(u,[E.toMutation(c._key,Ai.exists(!0))])}function iv(c){return Od(Yr(c.firestore,vo),[new Wi(c._key,Ai.none())])}function ov(c,n){const i=Yr(c.firestore,vo),s=V_(c),u=Mp(c.converter,n);return Od(i,[bp(yl(c.firestore),"addDoc",s._key,u,null!==c.converter,{}).toMutation(s._key,Ai.exists(!1))]).then(()=>s)}function fw(c,...n){var i,s,u;c=(0,Ae.Ku)(c);let g={includeMetadataChanges:!1,source:"default"},E=0;"object"!=typeof n[E]||Cm(n[E])||(g=n[E],E++);const C={includeMetadataChanges:g.includeMetadataChanges,source:g.source};if(Cm(n[E])){const oe=n[E];n[E]=null===(i=oe.next)||void 0===i?void 0:i.bind(oe),n[E+1]=null===(s=oe.error)||void 0===s?void 0:s.bind(oe),n[E+2]=null===(u=oe.complete)||void 0===u?void 0:u.bind(oe)}let M,L,Q;if(c instanceof _o)L=Yr(c.firestore,vo),Q=bo(c._key.path),M={next:oe=>{n[E]&&n[E](Su(L,c,oe))},error:n[E+1],complete:n[E+2]};else{const oe=Yr(c,Ps);L=Yr(oe.firestore,vo),Q=oe._query;const xe=new El(L);M={next:Et=>{n[E]&&n[E](new Wh(L,xe,oe,Et))},error:n[E+1],complete:n[E+2]},Z_(c._query)}return function(xe,Et,Bt,cn){const nn=new eu(cn),Zn=new Ch(Et,nn,Bt);return xe.asyncQueue.enqueueAndForget((0,T.A)(function*(){return sd(yield Lh(xe),Zn)})),()=>{nn.Cu(),xe.asyncQueue.enqueueAndForget((0,T.A)(function*(){return bh(yield Lh(xe),Zn)}))}}(Ho(L),Q,C,M)}function Od(c,n){return function(s,u){const g=new ue;return s.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function w_(c,n,i){return I_.apply(this,arguments)}(yield function P_(c){return Fh(c).then(n=>n.syncEngine)}(s),u,g)})),g.promise}(Ho(c),n)}function Su(c,n,i){const s=i.docs.get(n._key),u=new El(c);return new xd(c,u,n._key,s,new vl(i.hasPendingWrites,i.fromCache),n.converter)}class mc{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=yl(n)}set(n,i,s){this._verifyNotCommitted();const u=Ru(n,this._firestore),g=Mp(u.converter,i,s),E=bp(this._dataReader,"WriteBatch.set",u._key,g,null!==u.converter,s);return this._mutations.push(E.toMutation(u._key,Ai.none())),this}update(n,i,s,...u){this._verifyNotCommitted();const g=Ru(n,this._firestore);let E;return E="string"==typeof(i=(0,Ae.Ku)(i))||i instanceof ml?_l(this._dataReader,"WriteBatch.update",g._key,i,s,u):gc(this._dataReader,"WriteBatch.update",g._key,i),this._mutations.push(E.toMutation(g._key,Ai.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Ru(n,this._firestore);return this._mutations=this._mutations.concat(new Wi(i._key,Ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Z(We.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ru(c,n){if((c=(0,Ae.Ku)(c)).firestore!==n)throw new Z(We.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}function Or(c){return Ho(c=Yr(c,vo)),new mc(c,n=>Od(c,n))}!function(n,i=!0){Qe=N.MF,(0,N.om)(new q.uA("firestore",(s,{instanceIdentifier:u,options:g})=>{const E=s.getProvider("app").getImmediate(),C=new vo(new de(s.getProvider("auth-internal")),new Xt(E,s.getProvider("app-check-internal")),function(L,Q){if(!Object.prototype.hasOwnProperty.apply(L.options,["projectId"]))throw new Z(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ce(L.options.projectId,Q)}(E,u),E);return g=Object.assign({useFetchStreams:i},g),C._setSettings(g),C},"PUBLIC").setMultipleInstances(!0)),(0,N.KO)(bt,"4.7.16",n),(0,N.KO)(bt,"4.7.16","esm2017")}()},3494:(vn,je,U)=>{"use strict";U.d(je,{s:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},3604:(vn,je,U)=>{"use strict";U.d(je,{q:()=>q});const T={now:()=>(T.delegate||Date).now(),delegate:void 0};class N{constructor(Ae,qe=N.now){this.schedulerActionCtor=Ae,this.now=qe}schedule(Ae,qe=0,Ee){return new this.schedulerActionCtor(this,Ae).schedule(Ee,qe)}}N.now=T.now;class q extends N{constructor(Ae,qe=N.now){super(Ae,qe),this.actions=[],this._active=!1}flush(Ae){const{actions:qe}=this;if(this._active)return void qe.push(Ae);let Ee;this._active=!0;do{if(Ee=Ae.execute(Ae.state,Ae.delay))break}while(Ae=qe.shift());if(this._active=!1,Ee){for(;Ae=qe.shift();)Ae.unsubscribe();throw Ee}}}},3669:(vn,je,U)=>{"use strict";function T(N){return N}U.d(je,{D:()=>T})},4125:(vn,je,U)=>{"use strict";U.d(je,{kR:()=>ut});var T=U(2967),Ae=(U(1360),U(7440),U(2214),U(467)),qe=U(7852),Ee=U(1362),fe=U(6858),ke=U(8041);const me=new Map,pe={activated:!1,tokenObservers:[]},Je={initialized:!1,enabled:!1};function He(ve){return me.get(ve)||Object.assign({},pe)}function Dt(){return Je}class Me{constructor(Ve,Ke,Lt,$t,En){if(this.operation=Ve,this.retryPolicy=Ke,this.getWaitDuration=Lt,this.lowerBound=$t,this.upperBound=En,this.pending=null,this.nextErrorWaitInterval=$t,$t>En)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ve){var Ke=this;return(0,Ae.A)(function*(){Ke.stop();try{Ke.pending=new fe.cY,Ke.pending.promise.catch(Lt=>{}),yield function tt(ve){return new Promise(Ve=>{setTimeout(Ve,ve)})}(Ke.getNextRun(Ve)),Ke.pending.resolve(),yield Ke.pending.promise,Ke.pending=new fe.cY,Ke.pending.promise.catch(Lt=>{}),yield Ke.operation(),Ke.pending.resolve(),yield Ke.pending.promise,Ke.process(!0).catch(()=>{})}catch(Lt){Ke.retryPolicy(Lt)?Ke.process(!1).catch(()=>{}):Ke.stop()}})()}getNextRun(Ve){if(Ve)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ke=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ke}}}const _t=new fe.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function vt(ve){if(!He(ve).activated)throw _t.create("use-before-activation",{appName:ve.name})}function Sn(ve,Ve){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,Ae.A)(function*({url:ve,body:Ve},Ke){const Lt={"Content-Type":"application/json"},$t=Ke.getImmediate({optional:!0});if($t){const Cr=yield $t.getHeartbeatsHeader();Cr&&(Lt["X-Firebase-Client"]=Cr)}const En={method:"POST",body:JSON.stringify(Ve),headers:Lt};let xn,Tn;try{xn=yield fetch(ve,En)}catch(Cr){throw _t.create("fetch-network-error",{originalErrorMessage:Cr?.message})}if(200!==xn.status)throw _t.create("fetch-status-error",{httpStatus:xn.status});try{Tn=yield xn.json()}catch(Cr){throw _t.create("fetch-parse-error",{originalErrorMessage:Cr?.message})}const tr=Tn.ttl.match(/^([\d.]+)(s)$/);if(!tr||!tr[2]||isNaN(Number(tr[1])))throw _t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Tn.ttl}`});const $r=1e3*Number(tr[1]),So=Date.now();return{token:Tn.token,expireTimeMillis:So+$r,issuedAtTimeMillis:So}})).apply(this,arguments)}function Xe(ve,Ve){const{projectId:Ke,appId:Lt,apiKey:$t}=ve.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ke}/apps/${Lt}:exchangeDebugToken?key=${$t}`,body:{debug_token:Ve}}}const We="firebase-app-check-store";let ue=null;function rn(){return(rn=(0,Ae.A)(function*(ve,Ve){const Lt=(yield function le(){return ue||(ue=new Promise((ve,Ve)=>{try{const Ke=indexedDB.open("firebase-app-check-database",1);Ke.onsuccess=Lt=>{ve(Lt.target.result)},Ke.onerror=Lt=>{var $t;Ve(_t.create("storage-open",{originalErrorMessage:null===($t=Lt.target.error)||void 0===$t?void 0:$t.message}))},Ke.onupgradeneeded=Lt=>{0===Lt.oldVersion&&Lt.target.result.createObjectStore(We,{keyPath:"compositeKey"})}}catch(Ke){Ve(_t.create("storage-open",{originalErrorMessage:Ke?.message}))}}),ue)}()).transaction(We,"readwrite"),En=Lt.objectStore(We).put({compositeKey:ve,value:Ve});return new Promise((xn,Tn)=>{En.onsuccess=tr=>{xn()},Lt.onerror=tr=>{var $r;Tn(_t.create("storage-set",{originalErrorMessage:null===($r=tr.target.error)||void 0===$r?void 0:$r.message}))}})})).apply(this,arguments)}const qn=new ke.Vy("@firebase/app-check");function On(ve,Ve){return(0,fe.zW)()?function te(ve,Ve){return function pt(ve,Ve){return rn.apply(this,arguments)}(function Ht(ve){return`${ve.options.appId}-${ve.name}`}(ve),Ve)}(ve,Ve).catch(Ke=>{qn.warn(`Failed to write token to IndexedDB. Error: ${Ke}`)}):Promise.resolve()}function Pr(){return Dt().enabled}function Rr(){return wi.apply(this,arguments)}function wi(){return(wi=(0,Ae.A)(function*(){const ve=Dt();if(ve.enabled&&ve.token)return ve.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const dr={error:"UNKNOWN_ERROR"};function on(ve){return fe.K3.encodeString(JSON.stringify(ve),!1)}function Gi(ve){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,Ae.A)(function*(ve,Ve=!1,Ke=!1){const Lt=ve.app;vt(Lt);const $t=He(Lt);let xn,En=$t.token;if(En&&!Tr(En)&&($t.token=void 0,En=void 0),!En){const $r=yield $t.cachedTokenPromise;$r&&(Tr($r)?En=$r:yield On(Lt,void 0))}if(!Ve&&En&&Tr(En))return{token:En.token};let tr,Tn=!1;if(Pr())try{$t.exchangeTokenPromise||($t.exchangeTokenPromise=Sn(Xe(Lt,yield Rr()),ve.heartbeatServiceProvider).finally(()=>{$t.exchangeTokenPromise=void 0}),Tn=!0);const $r=yield $t.exchangeTokenPromise;return yield On(Lt,$r),$t.token=$r,{token:$r.token}}catch($r){return"appCheck/throttled"===$r.code||"appCheck/initial-throttle"===$r.code?qn.warn($r.message):Ke&&qn.error($r),gi($r)}try{$t.exchangeTokenPromise||($t.exchangeTokenPromise=$t.provider.getToken().finally(()=>{$t.exchangeTokenPromise=void 0}),Tn=!0),En=yield He(Lt).exchangeTokenPromise}catch($r){"appCheck/throttled"===$r.code||"appCheck/initial-throttle"===$r.code?qn.warn($r.message):Ke&&qn.error($r),xn=$r}return En?xn?tr=Tr(En)?{token:En.token,internalError:xn}:gi(xn):(tr={token:En.token},$t.token=En,yield On(Lt,En)):tr=gi(xn),Tn&&function li(ve,Ve){const Ke=He(ve).tokenObservers;for(const Lt of Ke)try{"EXTERNAL"===Lt.type&&null!=Ve.error?Lt.error(Ve.error):Lt.next(Ve)}catch{}}(Lt,tr),tr})).apply(this,arguments)}function Er(){return(Er=(0,Ae.A)(function*(ve){const Ve=ve.app;vt(Ve);const{provider:Ke}=He(Ve);if(Pr()){const Lt=yield Rr(),{token:$t}=yield Sn(Xe(Ve,Lt),ve.heartbeatServiceProvider);return{token:$t}}{const{token:Lt}=yield Ke.getToken();return{token:Lt}}})).apply(this,arguments)}function Gt(ve,Ve){const Ke=He(ve),Lt=Ke.tokenObservers.filter($t=>$t.next!==Ve);0===Lt.length&&Ke.tokenRefresher&&Ke.tokenRefresher.isRunning()&&Ke.tokenRefresher.stop(),Ke.tokenObservers=Lt}function ni(ve){const{app:Ve}=ve,Ke=He(Ve);let Lt=Ke.tokenRefresher;Lt||(Lt=function si(ve){const{app:Ve}=ve;return new Me((0,Ae.A)(function*(){let Lt;if(Lt=He(Ve).token?yield Gi(ve,!0):yield Gi(ve),Lt.error)throw Lt.error;if(Lt.internalError)throw Lt.internalError}),()=>!0,()=>{const Ke=He(Ve);if(Ke.token){let Lt=Ke.token.issuedAtTimeMillis+.5*(Ke.token.expireTimeMillis-Ke.token.issuedAtTimeMillis)+3e5;return Lt=Math.min(Lt,Ke.token.expireTimeMillis-3e5),Math.max(0,Lt-Date.now())}return 0},3e4,96e4)}(ve),Ke.tokenRefresher=Lt),!Lt.isRunning()&&Ke.isTokenAutoRefreshEnabled&&Lt.start()}function Tr(ve){return ve.expireTimeMillis-Date.now()>0}function gi(ve){return{token:on(dr),error:ve}}class Ar{constructor(Ve,Ke){this.app=Ve,this.heartbeatServiceProvider=Ke}_delete(){const{tokenObservers:Ve}=He(this.app);for(const Ke of Ve)Gt(this.app,Ke.next);return Promise.resolve()}}const pr="app-check-internal";!function ee(){(0,qe.om)(new Ee.uA("app-check",ve=>function ai(ve,Ve){return new Ar(ve,Ve)}(ve.getProvider("app").getImmediate(),ve.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ve,Ve,Ke)=>{ve.getProvider(pr).initialize()})),(0,qe.om)(new Ee.uA(pr,ve=>function cr(ve){return{getToken:Ve=>Gi(ve,Ve),getLimitedUseToken:()=>function ct(ve){return Er.apply(this,arguments)}(ve),addTokenListener:Ve=>function Kn(ve,Ve,Ke,Lt){const{app:$t}=ve,En=He($t);if(En.tokenObservers=[...En.tokenObservers,{next:Ke,error:Lt,type:Ve}],En.token&&Tr(En.token)){const Tn=En.token;Promise.resolve().then(()=>{Ke({token:Tn.token}),ni(ve)}).catch(()=>{})}En.cachedTokenPromise.then(()=>ni(ve))}(ve,"INTERNAL",Ve),removeTokenListener:Ve=>Gt(ve.app,Ve)}}(ve.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qe.KO)("@firebase/app-check","0.10.0")}();class ut{constructor(){return(0,T.CA)("app-check")}}typeof window<"u"&&window},4360:(vn,je,U)=>{"use strict";U.d(je,{_:()=>N});var T=U(7707);function N(F,Ae,qe,Ee,fe){return new q(F,Ae,qe,Ee,fe)}class q extends T.vU{constructor(Ae,qe,Ee,fe,ke,me){super(Ae),this.onFinalize=ke,this.shouldUnsubscribe=me,this._next=qe?function(pe){try{qe(pe)}catch(Je){Ae.error(Je)}}:super._next,this._error=fe?function(pe){try{fe(pe)}catch(Je){Ae.error(Je)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(pe){Ae.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:qe}=this;super.unsubscribe(),!qe&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},4412:(vn,je,U)=>{"use strict";U.d(je,{t:()=>N});var T=U(1413);class N extends T.B{constructor(F){super(),this._value=F}get value(){return this.getValue()}_subscribe(F){const Ae=super._subscribe(F);return!Ae.closed&&F.next(this._value),Ae}getValue(){const{hasError:F,thrownError:Ae,_value:qe}=this;if(F)throw Ae;return this._throwIfClosed(),qe}next(F){super.next(this._value=F)}}},4761:(vn,je,U)=>{"use strict";U.d(je,{l:()=>N});const N=function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4796:(vn,je,U)=>{"use strict";U.d(je,{u:()=>F});var T=U(6335),N=U(5964),q=U(1360);let F=(()=>{class Ae{auth;constructor(Ee){this.auth=Ee,console.log("%c<<< Start AUTH service >>>","background: #cff4fc; color: #055160; padding: 2px 5px;")}getAuthState(){return console.log("\u{1f441} Observando el estado de autenticaci\xf3n..."),(0,T.wh)(this.auth)}getCurrentUser(){return this.getAuthState().pipe((0,N.p)(Ee=>!!Ee))}login(Ee,fe){return console.log("\u{1f510} Intentando iniciar sesi\xf3n con:",Ee),(0,T.x9)(this.auth,Ee,fe)}register(Ee,fe){return console.log("\u{1f4dd} Registrando nuevo usuario con:",Ee),(0,T.eJ)(this.auth,Ee,fe)}logout(){return console.log("\u{1f6aa} Cerrando sesi\xf3n del usuario actual"),(0,T.CI)(this.auth)}resetPassword(Ee){return console.log("\u{1f4e7} Enviando enlace de recuperaci\xf3n a:",Ee),(0,T.J1)(this.auth,Ee)}static \u0275fac=function(fe){return new(fe||Ae)(q.KVO(T.Nj))};static \u0275prov=q.jDH({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}return Ae})()},4843:(vn,je,U)=>{"use strict";U.d(je,{_:()=>q});var T=U(9350),N=U(7707);function q(F,Ae){const qe="object"==typeof Ae;return new Promise((Ee,fe)=>{const ke=new N.Ms({next:me=>{Ee(me),ke.unsubscribe()},error:fe,complete:()=>{qe?Ee(Ae.defaultValue):fe(new T.G)}});F.subscribe(ke)})}},5055:(vn,je,U)=>{"use strict";U.d(je,{l:()=>q});var T=U(3494),N=U(8071);function q(F){return(0,N.T)(F[T.s])}},5072:(vn,je,U)=>{"use strict";U.d(je,{nX:()=>Ro,Pu:()=>Do,Zp:()=>Vn,nU:()=>$n,c1:()=>Xr,XR:()=>Rn,wF:()=>So,lW:()=>Lo,mo:()=>so,Z:()=>$r,J2:()=>ga,J_:()=>Dn,bw:()=>ar,tD:()=>Zr,Ix:()=>Xa,D$:()=>Li,n3:()=>Wr,OY:()=>gr,Sd:()=>Nr,bK:()=>gs,gk:()=>Di,Lg:()=>ls,wO:()=>wt,Us:()=>Bi,we:()=>Ts});var T=U(9361),N=U(6048),q=U(1360),F=U(1985),Ae=U(8071),Ee=U(8455),fe=U(7673),ke=U(4412),me=U(3073),pe=U(3669),Je=U(6450),He=U(9326),st=U(8496),Dt=U(4360),Ut=U(5225);function Ft(...m){const h=(0,He.lI)(m),l=(0,He.ms)(m),{args:f,keys:w}=(0,me.D)(m);if(0===f.length)return(0,Ee.H)([],h);const S=new F.c(function Qt(m,h,l=pe.D){return f=>{ft(h,()=>{const{length:w}=m,S=new Array(w);let O=w,G=w;for(let ne=0;ne<w;ne++)ft(h,()=>{const Se=(0,Ee.H)(m[ne],h);let Ot=!1;Se.subscribe((0,Dt._)(f,tn=>{S[ne]=tn,Ot||(Ot=!0,G--),G||f.next(l(S.slice()))},()=>{--O||f.complete()}))},f)},f)}}(f,h,w?O=>(0,st.e)(w,O):pe.D));return l?S.pipe((0,Je.I)(l)):S}function ft(m,h,l){m?(0,Ut.N)(l,m,h):h()}var yt=U(9350),bt=U(6365);function tt(...m){return function Me(){return(0,bt.U)(1)}()((0,Ee.H)(m,(0,He.lI)(m)))}var Qe=U(8750);function _t(m){return new F.c(h=>{(0,Qe.Tg)(m()).subscribe(h)})}var zt=U(1203);function vt(m,h){const l=(0,Ae.T)(m)?m:()=>m,f=w=>w.error(l());return new F.c(h?w=>h.schedule(f,0,w):f)}var ot=U(983),Fn=U(8359),Sn=U(9974);function Gn(){return(0,Sn.N)((m,h)=>{let l=null;m._refCount++;const f=(0,Dt._)(h,void 0,void 0,void 0,()=>{if(!m||m._refCount<=0||0<--m._refCount)return void(l=null);const w=m._connection,S=l;l=null,w&&(!S||w===S)&&w.unsubscribe(),h.unsubscribe()});m.subscribe(f),f.closed||(l=m.connect())})}class lt extends F.c{constructor(h,l){super(),this.source=h,this.subjectFactory=l,this._subject=null,this._refCount=0,this._connection=null,(0,Sn.S)(h)&&(this.lift=h.lift)}_subscribe(h){return this.getSubject().subscribe(h)}getSubject(){const h=this._subject;return(!h||h.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:h}=this;this._subject=this._connection=null,h?.unsubscribe()}connect(){let h=this._connection;if(!h){h=this._connection=new Fn.yU;const l=this.getSubject();h.add(this.source.subscribe((0,Dt._)(l,void 0,()=>{this._teardown(),l.complete()},f=>{this._teardown(),l.error(f)},()=>this._teardown()))),h.closed&&(this._connection=null,h=Fn.yU.EMPTY)}return h}refCount(){return Gn()(this)}}var yn=U(1413),Xe=U(6354),Jt=U(5558);function St(m){return m<=0?()=>ot.w:(0,Sn.N)((h,l)=>{let f=0;h.subscribe((0,Dt._)(l,w=>{++f<=m&&(l.next(w),m<=f&&l.complete())}))})}var Z=U(5964),ue=U(1397);function le(m){return(0,Sn.N)((h,l)=>{let f=!1;h.subscribe((0,Dt._)(l,w=>{f=!0,l.next(w)},()=>{f||l.next(m),l.complete()}))})}function ge(m=te){return(0,Sn.N)((h,l)=>{let f=!1;h.subscribe((0,Dt._)(l,w=>{f=!0,l.next(w)},()=>f?l.complete():l.error(m())))})}function te(){return new yt.G}function de(m,h){const l=arguments.length>=2;return f=>f.pipe(m?(0,Z.p)((w,S)=>m(w,S,f)):pe.D,St(1),l?le(h):ge(()=>new yt.G))}var Ge=U(274);function pt(m,h,l){const f=(0,Ae.T)(m)||h||l?{next:m,error:h,complete:l}:m;return f?(0,Sn.N)((w,S)=>{var O;null===(O=f.subscribe)||void 0===O||O.call(f);let G=!0;w.subscribe((0,Dt._)(S,ne=>{var Se;null===(Se=f.next)||void 0===Se||Se.call(f,ne),S.next(ne)},()=>{var ne;G=!1,null===(ne=f.complete)||void 0===ne||ne.call(f),S.complete()},ne=>{var Se;G=!1,null===(Se=f.error)||void 0===Se||Se.call(f,ne),S.error(ne)},()=>{var ne,Se;G&&(null===(ne=f.unsubscribe)||void 0===ne||ne.call(f)),null===(Se=f.finalize)||void 0===Se||Se.call(f)}))}):pe.D}var rn=U(9437);function Ht(m){return m<=0?()=>ot.w:(0,Sn.N)((h,l)=>{let f=[];h.subscribe((0,Dt._)(l,w=>{f.push(w),m<f.length&&f.shift()},()=>{for(const w of f)l.next(w);l.complete()},void 0,()=>{f=null}))})}var Bn=U(980),Kt=U(5343),Jn=U(345);const In="primary",Pr=Symbol("RouteTitle");class Rr{params;constructor(h){this.params=h||{}}has(h){return Object.prototype.hasOwnProperty.call(this.params,h)}get(h){if(this.has(h)){const l=this.params[h];return Array.isArray(l)?l[0]:l}return null}getAll(h){if(this.has(h)){const l=this.params[h];return Array.isArray(l)?l:[l]}return[]}get keys(){return Object.keys(this.params)}}function wi(m){return new Rr(m)}function ln(m,h,l){const f=l.path.split("/");if(f.length>m.length||"full"===l.pathMatch&&(h.hasChildren()||f.length<m.length))return null;const w={};for(let S=0;S<f.length;S++){const O=f[S],G=m[S];if(":"===O[0])w[O.substring(1)]=G;else if(O!==G.path)return null}return{consumed:m.slice(0,f.length),posParams:w}}function on(m,h){const l=m?Gi(m):void 0,f=h?Gi(h):void 0;if(!l||!f||l.length!=f.length)return!1;let w;for(let S=0;S<l.length;S++)if(w=l[S],!Mr(m[w],h[w]))return!1;return!0}function Gi(m){return[...Object.keys(m),...Object.getOwnPropertySymbols(m)]}function Mr(m,h){if(Array.isArray(m)&&Array.isArray(h)){if(m.length!==h.length)return!1;const l=[...m].sort(),f=[...h].sort();return l.every((w,S)=>f[S]===w)}return m===h}function ct(m){return m.length>0?m[m.length-1]:null}function Er(m){return function qe(m){return!!m&&(m instanceof F.c||(0,Ae.T)(m.lift)&&(0,Ae.T)(m.subscribe))}(m)?m:(0,q.jNT)(m)?(0,Ee.H)(Promise.resolve(m)):(0,fe.of)(m)}const Kn={exact:function li(m,h,l){if(!bn(m.segments,h.segments)||!ai(m.segments,h.segments,l)||m.numberOfChildren!==h.numberOfChildren)return!1;for(const f in h.children)if(!m.children[f]||!li(m.children[f],h.children[f],l))return!1;return!0},subset:gi},Gt={exact:function si(m,h){return on(m,h)},subset:function Tr(m,h){return Object.keys(h).length<=Object.keys(m).length&&Object.keys(h).every(l=>Mr(m[l],h[l]))},ignored:()=>!0};function ni(m,h,l){return Kn[l.paths](m.root,h.root,l.matrixParams)&&Gt[l.queryParams](m.queryParams,h.queryParams)&&!("exact"===l.fragment&&m.fragment!==h.fragment)}function gi(m,h,l){return Ar(m,h,h.segments,l)}function Ar(m,h,l,f){if(m.segments.length>l.length){const w=m.segments.slice(0,l.length);return!(!bn(w,l)||h.hasChildren()||!ai(w,l,f))}if(m.segments.length===l.length){if(!bn(m.segments,l)||!ai(m.segments,l,f))return!1;for(const w in h.children)if(!m.children[w]||!gi(m.children[w],h.children[w],f))return!1;return!0}{const w=l.slice(0,m.segments.length),S=l.slice(m.segments.length);return!!(bn(m.segments,w)&&ai(m.segments,w,f)&&m.children[In])&&Ar(m.children[In],h,S,f)}}function ai(m,h,l){return h.every((f,w)=>Gt[l](m[w].parameters,f.parameters))}class cr{root;queryParams;fragment;_queryParamMap;constructor(h=new ir([],{}),l={},f=null){this.root=h,this.queryParams=l,this.fragment=f}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){return Ki.serialize(this)}}class ir{segments;children;parent=null;constructor(h,l){this.segments=h,this.children=l,Object.values(l).forEach(f=>f.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Le(this)}}class di{path;parameters;_parameterMap;constructor(h,l){this.path=h,this.parameters=l}get parameterMap(){return this._parameterMap??=wi(this.parameters),this._parameterMap}toString(){return xi(this)}}function bn(m,h){return m.length===h.length&&m.every((l,f)=>l.path===h[f].path)}let Nr=(()=>{class m{static \u0275fac=function(f){return new(f||m)};static \u0275prov=q.jDH({token:m,factory:()=>new $n,providedIn:"root"})}return m})();class $n{parse(h){const l=new ee(h);return new cr(l.parseRootSegment(),l.parseQueryParams(),l.parseFragment())}serialize(h){const l=`/${br(h.root,!0)}`,f=function Si(m){const h=Object.entries(m).map(([l,f])=>Array.isArray(f)?f.map(w=>`${ri(l)}=${ri(w)}`).join("&"):`${ri(l)}=${ri(f)}`).filter(l=>l);return h.length?`?${h.join("&")}`:""}(h.queryParams);return`${l}${f}${"string"==typeof h.fragment?`#${function Ni(m){return encodeURI(m)}(h.fragment)}`:""}`}}const Ki=new $n;function Le(m){return m.segments.map(h=>xi(h)).join("/")}function br(m,h){if(!m.hasChildren())return Le(m);if(h){const l=m.children[In]?br(m.children[In],!1):"",f=[];return Object.entries(m.children).forEach(([w,S])=>{w!==In&&f.push(`${w}:${br(S,!1)}`)}),f.length>0?`${l}(${f.join("//")})`:l}{const l=function _i(m,h){let l=[];return Object.entries(m.children).forEach(([f,w])=>{f===In&&(l=l.concat(h(w,f)))}),Object.entries(m.children).forEach(([f,w])=>{f!==In&&(l=l.concat(h(w,f)))}),l}(m,(f,w)=>w===In?[br(m.children[In],!1)]:[`${w}:${br(f,!1)}`]);return 1===Object.keys(m.children).length&&null!=m.children[In]?`${Le(m)}/${l[0]}`:`${Le(m)}/(${l.join("//")})`}}function qi(m){return encodeURIComponent(m).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ri(m){return qi(m).replace(/%3B/gi,";")}function pn(m){return qi(m).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fr(m){return decodeURIComponent(m)}function wr(m){return fr(m.replace(/\+/g,"%20"))}function xi(m){return`${pn(m.path)}${function ki(m){return Object.entries(m).map(([h,l])=>`;${pn(h)}=${pn(l)}`).join("")}(m.parameters)}`}const Te=/^[^\/()?;#]+/;function ye(m){const h=m.match(Te);return h?h[0]:""}const Ue=/^[^\/()?;=#]+/,Ze=/^[^=?&#]+/,An=/^[^&#]+/;class ee{url;remaining;constructor(h){this.url=h,this.remaining=h}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ir([],{}):new ir([],this.parseChildren())}parseQueryParams(){const h={};if(this.consumeOptional("?"))do{this.parseQueryParam(h)}while(this.consumeOptional("&"));return h}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const h=[];for(this.peekStartsWith("(")||h.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),h.push(this.parseSegment());let l={};this.peekStartsWith("/(")&&(this.capture("/"),l=this.parseParens(!0));let f={};return this.peekStartsWith("(")&&(f=this.parseParens(!1)),(h.length>0||Object.keys(l).length>0)&&(f[In]=new ir(h,l)),f}parseSegment(){const h=ye(this.remaining);if(""===h&&this.peekStartsWith(";"))throw new q.wOt(4009,!1);return this.capture(h),new di(fr(h),this.parseMatrixParams())}parseMatrixParams(){const h={};for(;this.consumeOptional(";");)this.parseParam(h);return h}parseParam(h){const l=function Nt(m){const h=m.match(Ue);return h?h[0]:""}(this.remaining);if(!l)return;this.capture(l);let f="";if(this.consumeOptional("=")){const w=ye(this.remaining);w&&(f=w,this.capture(f))}h[fr(l)]=fr(f)}parseQueryParam(h){const l=function qt(m){const h=m.match(Ze);return h?h[0]:""}(this.remaining);if(!l)return;this.capture(l);let f="";if(this.consumeOptional("=")){const O=function pr(m){const h=m.match(An);return h?h[0]:""}(this.remaining);O&&(f=O,this.capture(f))}const w=wr(l),S=wr(f);if(h.hasOwnProperty(w)){let O=h[w];Array.isArray(O)||(O=[O],h[w]=O),O.push(S)}else h[w]=S}parseParens(h){const l={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const f=ye(this.remaining),w=this.remaining[f.length];if("/"!==w&&")"!==w&&";"!==w)throw new q.wOt(4010,!1);let S;f.indexOf(":")>-1?(S=f.slice(0,f.indexOf(":")),this.capture(S),this.capture(":")):h&&(S=In);const O=this.parseChildren();l[S]=1===Object.keys(O).length?O[In]:new ir([],O),this.consumeOptional("//")}return l}peekStartsWith(h){return this.remaining.startsWith(h)}consumeOptional(h){return!!this.peekStartsWith(h)&&(this.remaining=this.remaining.substring(h.length),!0)}capture(h){if(!this.consumeOptional(h))throw new q.wOt(4011,!1)}}function se(m){return m.segments.length>0?new ir([],{[In]:m}):m}function De(m){const h={};for(const[f,w]of Object.entries(m.children)){const S=De(w);if(f===In&&0===S.segments.length&&S.hasChildren())for(const[O,G]of Object.entries(S.children))h[O]=G;else(S.segments.length>0||S.hasChildren())&&(h[f]=S)}return function ut(m){if(1===m.numberOfChildren&&m.children[In]){const h=m.children[In];return new ir(m.segments.concat(h.segments),h.children)}return m}(new ir(m.segments,h))}function wt(m){return m instanceof cr}function _e(m){let h;const w=se(function l(S){const O={};for(const ne of S.children){const Se=l(ne);O[ne.outlet]=Se}const G=new ir(S.url,O);return S===m&&(h=G),G}(m.root));return h??w}function Oe(m,h,l,f){let w=m;for(;w.parent;)w=w.parent;if(0===h.length)return ht(w,w,w,l,f);const S=function Ln(m){if("string"==typeof m[0]&&1===m.length&&"/"===m[0])return new en(!0,0,m);let h=0,l=!1;const f=m.reduce((w,S,O)=>{if("object"==typeof S&&null!=S){if(S.outlets){const G={};return Object.entries(S.outlets).forEach(([ne,Se])=>{G[ne]="string"==typeof Se?Se.split("/"):Se}),[...w,{outlets:G}]}if(S.segmentPath)return[...w,S.segmentPath]}return"string"!=typeof S?[...w,S]:0===O?(S.split("/").forEach((G,ne)=>{0==ne&&"."===G||(0==ne&&""===G?l=!0:".."===G?h++:""!=G&&w.push(G))}),w):[...w,S]},[]);return new en(l,h,f)}(h);if(S.toRoot())return ht(w,w,new ir([],{}),l,f);const O=function Hn(m,h,l){if(m.isAbsolute)return new an(h,!0,0);if(!l)return new an(h,!1,NaN);if(null===l.parent)return new an(l,!0,0);const f=At(m.commands[0])?0:1;return function sr(m,h,l){let f=m,w=h,S=l;for(;S>w;){if(S-=w,f=f.parent,!f)throw new q.wOt(4005,!1);w=f.segments.length}return new an(f,!1,w-S)}(l,l.segments.length-1+f,m.numberOfDoubleDots)}(S,w,m),G=O.processChildren?ve(O.segmentGroup,O.index,S.commands):Ii(O.segmentGroup,O.index,S.commands);return ht(w,O.segmentGroup,G,l,f)}function At(m){return"object"==typeof m&&null!=m&&!m.outlets&&!m.segmentPath}function mt(m){return"object"==typeof m&&null!=m&&m.outlets}function ht(m,h,l,f,w){let O,S={};f&&Object.entries(f).forEach(([ne,Se])=>{S[ne]=Array.isArray(Se)?Se.map(Ot=>`${Ot}`):`${Se}`}),O=m===h?l:Pt(m,h,l);const G=se(De(O));return new cr(G,S,w)}function Pt(m,h,l){const f={};return Object.entries(m.children).forEach(([w,S])=>{f[w]=S===h?l:Pt(S,h,l)}),new ir(m.segments,f)}class en{isAbsolute;numberOfDoubleDots;commands;constructor(h,l,f){if(this.isAbsolute=h,this.numberOfDoubleDots=l,this.commands=f,h&&f.length>0&&At(f[0]))throw new q.wOt(4003,!1);const w=f.find(mt);if(w&&w!==ct(f))throw new q.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class an{segmentGroup;processChildren;index;constructor(h,l,f){this.segmentGroup=h,this.processChildren=l,this.index=f}}function Ii(m,h,l){if(m??=new ir([],{}),0===m.segments.length&&m.hasChildren())return ve(m,h,l);const f=function Ve(m,h,l){let f=0,w=h;const S={match:!1,pathIndex:0,commandIndex:0};for(;w<m.segments.length;){if(f>=l.length)return S;const O=m.segments[w],G=l[f];if(mt(G))break;const ne=`${G}`,Se=f<l.length-1?l[f+1]:null;if(w>0&&void 0===ne)break;if(ne&&Se&&"object"==typeof Se&&void 0===Se.outlets){if(!En(ne,Se,O))return S;f+=2}else{if(!En(ne,{},O))return S;f++}w++}return{match:!0,pathIndex:w,commandIndex:f}}(m,h,l),w=l.slice(f.commandIndex);if(f.match&&f.pathIndex<m.segments.length){const S=new ir(m.segments.slice(0,f.pathIndex),{});return S.children[In]=new ir(m.segments.slice(f.pathIndex),m.children),ve(S,0,w)}return f.match&&0===w.length?new ir(m.segments,{}):f.match&&!m.hasChildren()?Ke(m,h,l):f.match?ve(m,0,w):Ke(m,h,l)}function ve(m,h,l){if(0===l.length)return new ir(m.segments,{});{const f=function mi(m){return mt(m[0])?m[0].outlets:{[In]:m}}(l),w={};if(Object.keys(f).some(S=>S!==In)&&m.children[In]&&1===m.numberOfChildren&&0===m.children[In].segments.length){const S=ve(m.children[In],h,l);return new ir(m.segments,S.children)}return Object.entries(f).forEach(([S,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(w[S]=Ii(m.children[S],h,O))}),Object.entries(m.children).forEach(([S,O])=>{void 0===f[S]&&(w[S]=O)}),new ir(m.segments,w)}}function Ke(m,h,l){const f=m.segments.slice(0,h);let w=0;for(;w<l.length;){const S=l[w];if(mt(S)){const ne=Lt(S.outlets);return new ir(f,ne)}if(0===w&&At(l[0])){f.push(new di(m.segments[h].path,$t(l[0]))),w++;continue}const O=mt(S)?S.outlets[In]:`${S}`,G=w<l.length-1?l[w+1]:null;O&&G&&At(G)?(f.push(new di(O,$t(G))),w+=2):(f.push(new di(O,{})),w++)}return new ir(f,{})}function Lt(m){const h={};return Object.entries(m).forEach(([l,f])=>{"string"==typeof f&&(f=[f]),null!==f&&(h[l]=Ke(new ir([],{}),0,f))}),h}function $t(m){const h={};return Object.entries(m).forEach(([l,f])=>h[l]=`${f}`),h}function En(m,h,l){return m==l.path&&on(h,l.parameters)}const xn="imperative";var Tn=function(m){return m[m.NavigationStart=0]="NavigationStart",m[m.NavigationEnd=1]="NavigationEnd",m[m.NavigationCancel=2]="NavigationCancel",m[m.NavigationError=3]="NavigationError",m[m.RoutesRecognized=4]="RoutesRecognized",m[m.ResolveStart=5]="ResolveStart",m[m.ResolveEnd=6]="ResolveEnd",m[m.GuardsCheckStart=7]="GuardsCheckStart",m[m.GuardsCheckEnd=8]="GuardsCheckEnd",m[m.RouteConfigLoadStart=9]="RouteConfigLoadStart",m[m.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",m[m.ChildActivationStart=11]="ChildActivationStart",m[m.ChildActivationEnd=12]="ChildActivationEnd",m[m.ActivationStart=13]="ActivationStart",m[m.ActivationEnd=14]="ActivationEnd",m[m.Scroll=15]="Scroll",m[m.NavigationSkipped=16]="NavigationSkipped",m}(Tn||{});class tr{id;url;constructor(h,l){this.id=h,this.url=l}}class $r extends tr{type=Tn.NavigationStart;navigationTrigger;restoredState;constructor(h,l,f="imperative",w=null){super(h,l),this.navigationTrigger=f,this.restoredState=w}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class So extends tr{urlAfterRedirects;type=Tn.NavigationEnd;constructor(h,l,f){super(h,l),this.urlAfterRedirects=f}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Cr=function(m){return m[m.Redirect=0]="Redirect",m[m.SupersededByNewNavigation=1]="SupersededByNewNavigation",m[m.NoDataFromResolver=2]="NoDataFromResolver",m[m.GuardRejected=3]="GuardRejected",m}(Cr||{}),so=function(m){return m[m.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",m[m.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",m}(so||{});class Ui extends tr{reason;code;type=Tn.NavigationCancel;constructor(h,l,f,w){super(h,l),this.reason=f,this.code=w}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lo extends tr{reason;code;type=Tn.NavigationSkipped;constructor(h,l,f,w){super(h,l),this.reason=f,this.code=w}}class no extends tr{error;target;type=Tn.NavigationError;constructor(h,l,f,w){super(h,l),this.error=f,this.target=w}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class B extends tr{urlAfterRedirects;state;type=Tn.RoutesRecognized;constructor(h,l,f,w){super(h,l),this.urlAfterRedirects=f,this.state=w}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class he extends tr{urlAfterRedirects;state;type=Tn.GuardsCheckStart;constructor(h,l,f,w){super(h,l),this.urlAfterRedirects=f,this.state=w}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K extends tr{urlAfterRedirects;state;shouldActivate;type=Tn.GuardsCheckEnd;constructor(h,l,f,w,S){super(h,l),this.urlAfterRedirects=f,this.state=w,this.shouldActivate=S}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class J extends tr{urlAfterRedirects;state;type=Tn.ResolveStart;constructor(h,l,f,w){super(h,l),this.urlAfterRedirects=f,this.state=w}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends tr{urlAfterRedirects;state;type=Tn.ResolveEnd;constructor(h,l,f,w){super(h,l),this.urlAfterRedirects=f,this.state=w}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class It{route;type=Tn.RouteConfigLoadStart;constructor(h){this.route=h}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sn{route;type=Tn.RouteConfigLoadEnd;constructor(h){this.route=h}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nn{snapshot;type=Tn.ChildActivationStart;constructor(h){this.snapshot=h}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ii{snapshot;type=Tn.ChildActivationEnd;constructor(h){this.snapshot=h}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{snapshot;type=Tn.ActivationStart;constructor(h){this.snapshot=h}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qr{snapshot;type=Tn.ActivationEnd;constructor(h){this.snapshot=h}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{routerEvent;position;anchor;type=Tn.Scroll;constructor(h,l,f){this.routerEvent=h,this.position=l,this.anchor=f}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kn{}class mr{url;navigationBehaviorOptions;constructor(h,l){this.url=h,this.navigationBehaviorOptions=l}}function Bi(m){switch(m.type){case Tn.ActivationEnd:return`ActivationEnd(path: '${m.snapshot.routeConfig?.path||""}')`;case Tn.ActivationStart:return`ActivationStart(path: '${m.snapshot.routeConfig?.path||""}')`;case Tn.ChildActivationEnd:return`ChildActivationEnd(path: '${m.snapshot.routeConfig?.path||""}')`;case Tn.ChildActivationStart:return`ChildActivationStart(path: '${m.snapshot.routeConfig?.path||""}')`;case Tn.GuardsCheckEnd:return`GuardsCheckEnd(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state}, shouldActivate: ${m.shouldActivate})`;case Tn.GuardsCheckStart:return`GuardsCheckStart(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state})`;case Tn.NavigationCancel:return`NavigationCancel(id: ${m.id}, url: '${m.url}')`;case Tn.NavigationSkipped:return`NavigationSkipped(id: ${m.id}, url: '${m.url}')`;case Tn.NavigationEnd:return`NavigationEnd(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}')`;case Tn.NavigationError:return`NavigationError(id: ${m.id}, url: '${m.url}', error: ${m.error})`;case Tn.NavigationStart:return`NavigationStart(id: ${m.id}, url: '${m.url}')`;case Tn.ResolveEnd:return`ResolveEnd(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state})`;case Tn.ResolveStart:return`ResolveStart(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state})`;case Tn.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${m.route.path})`;case Tn.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${m.route.path})`;case Tn.RoutesRecognized:return`RoutesRecognized(id: ${m.id}, url: '${m.url}', urlAfterRedirects: '${m.urlAfterRedirects}', state: ${m.state})`;case Tn.Scroll:return`Scroll(anchor: '${m.anchor}', position: '${m.position?`${m.position[0]}, ${m.position[1]}`:null}')`}}function Pe(m){return m.outlet||In}function Zt(m){if(!m)return null;if(m.routeConfig?._injector)return m.routeConfig._injector;for(let h=m.parent;h;h=h.parent){const l=h.routeConfig;if(l?._loadedInjector)return l._loadedInjector;if(l?._injector)return l._injector}return null}class gn{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Zt(this.route?.snapshot)??this.rootInjector}constructor(h){this.rootInjector=h,this.children=new Vn(this.rootInjector)}}let Vn=(()=>{class m{rootInjector;contexts=new Map;constructor(l){this.rootInjector=l}onChildOutletCreated(l,f){const w=this.getOrCreateContext(l);w.outlet=f,this.contexts.set(l,w)}onChildOutletDestroyed(l){const f=this.getContext(l);f&&(f.outlet=null,f.attachRef=null)}onOutletDeactivated(){const l=this.contexts;return this.contexts=new Map,l}onOutletReAttached(l){this.contexts=l}getOrCreateContext(l){let f=this.getContext(l);return f||(f=new gn(this.rootInjector),this.contexts.set(l,f)),f}getContext(l){return this.contexts.get(l)||null}static \u0275fac=function(f){return new(f||m)(q.KVO(q.uvJ))};static \u0275prov=q.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();class Qi{_root;constructor(h){this._root=h}get root(){return this._root.value}parent(h){const l=this.pathFromRoot(h);return l.length>1?l[l.length-2]:null}children(h){const l=fo(h,this._root);return l?l.children.map(f=>f.value):[]}firstChild(h){const l=fo(h,this._root);return l&&l.children.length>0?l.children[0].value:null}siblings(h){const l=Ms(h,this._root);return l.length<2?[]:l[l.length-2].children.map(w=>w.value).filter(w=>w!==h)}pathFromRoot(h){return Ms(h,this._root).map(l=>l.value)}}function fo(m,h){if(m===h.value)return h;for(const l of h.children){const f=fo(m,l);if(f)return f}return null}function Ms(m,h){if(m===h.value)return[h];for(const l of h.children){const f=Ms(m,l);if(f.length)return f.unshift(h),f}return[]}class Jr{value;children;constructor(h,l){this.value=h,this.children=l}toString(){return`TreeNode(${this.value})`}}function ss(m){const h={};return m&&m.children.forEach(l=>h[l.value.outlet]=l),h}class mn extends Qi{snapshot;constructor(h,l){super(h),this.snapshot=l,cs(this,h)}toString(){return this.snapshot.toString()}}function as(m){const h=function wo(m){const S=new Po([],{},{},"",{},In,m,null,{});return new ws("",new Jr(S,[]))}(m),l=new ke.t([new di("",{})]),f=new ke.t({}),w=new ke.t({}),S=new ke.t({}),O=new ke.t(""),G=new Ro(l,f,S,O,w,In,m,h.root);return G.snapshot=h.root,new mn(new Jr(G,[]),h)}class Ro{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(h,l,f,w,S,O,G,ne){this.urlSubject=h,this.paramsSubject=l,this.queryParamsSubject=f,this.fragmentSubject=w,this.dataSubject=S,this.outlet=O,this.component=G,this._futureSnapshot=ne,this.title=this.dataSubject?.pipe((0,Xe.T)(Se=>Se[Pr]))??(0,fe.of)(void 0),this.url=h,this.params=l,this.queryParams=f,this.fragment=w,this.data=S}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Xe.T)(h=>wi(h))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Xe.T)(h=>wi(h))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yo(m,h,l="emptyOnly"){let f;const{routeConfig:w}=m;return f=null===h||"always"!==l&&""!==w?.path&&(h.component||h.routeConfig?.loadComponent)?{params:{...m.params},data:{...m.data},resolve:{...m.data,...m._resolvedData??{}}}:{params:{...h.params,...m.params},data:{...h.data,...m.data},resolve:{...m.data,...h.data,...w?.data,...m._resolvedData}},w&&Go(w)&&(f.resolve[Pr]=w.title),f}class Po{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Pr]}constructor(h,l,f,w,S,O,G,ne,Se){this.url=h,this.params=l,this.queryParams=f,this.fragment=w,this.data=S,this.outlet=O,this.component=G,this.routeConfig=ne,this._resolve=Se}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(f=>f.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ws extends Qi{url;constructor(h,l){super(l),this.url=h,cs(this,l)}toString(){return xr(this._root)}}function cs(m,h){h.value._routerState=m,h.children.forEach(l=>cs(m,l))}function xr(m){const h=m.children.length>0?` { ${m.children.map(xr).join(", ")} } `:"";return`${m.value}${h}`}function Wo(m){if(m.snapshot){const h=m.snapshot,l=m._futureSnapshot;m.snapshot=l,on(h.queryParams,l.queryParams)||m.queryParamsSubject.next(l.queryParams),h.fragment!==l.fragment&&m.fragmentSubject.next(l.fragment),on(h.params,l.params)||m.paramsSubject.next(l.params),function dr(m,h){if(m.length!==h.length)return!1;for(let l=0;l<m.length;++l)if(!on(m[l],h[l]))return!1;return!0}(h.url,l.url)||m.urlSubject.next(l.url),on(h.data,l.data)||m.dataSubject.next(l.data)}else m.snapshot=m._futureSnapshot,m.dataSubject.next(m._futureSnapshot.data)}function po(m,h){const l=on(m.params,h.params)&&function lr(m,h){return bn(m,h)&&m.every((l,f)=>on(l.parameters,h[f].parameters))}(m.url,h.url);return l&&!(!m.parent!=!h.parent)&&(!m.parent||po(m.parent,h.parent))}function Go(m){return"string"==typeof m.title||null===m.title}const Is=new q.nKC("");let Wr=(()=>{class m{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=In;activateEvents=new q.bkB;deactivateEvents=new q.bkB;attachEvents=new q.bkB;detachEvents=new q.bkB;routerOutletData=(0,q.hFB)(void 0);parentContexts=(0,q.WQX)(Vn);location=(0,q.WQX)(q.c1b);changeDetector=(0,q.WQX)(q.gRc);inputBinder=(0,q.WQX)(Xr,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(l){if(l.name){const{firstChange:f,previousValue:w}=l.name;if(f)return;this.isTrackedInParentContexts(w)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(w)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(l){return this.parentContexts.getContext(l)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const l=this.parentContexts.getContext(this.name);l?.route&&(l.attachRef?this.attach(l.attachRef,l.route):this.activateWith(l.route,l.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q.wOt(4012,!1);this.location.detach();const l=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(l.instance),l}attach(l,f){this.activated=l,this._activatedRoute=f,this.location.insert(l.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(l.instance)}deactivate(){if(this.activated){const l=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(l)}}activateWith(l,f){if(this.isActivated)throw new q.wOt(4013,!1);this._activatedRoute=l;const w=this.location,O=l.snapshot.component,G=this.parentContexts.getOrCreateContext(this.name).children,ne=new ao(l,G,w.injector,this.routerOutletData);this.activated=w.createComponent(O,{index:w.length,injector:ne,environmentInjector:f}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(f){return new(f||m)};static \u0275dir=q.FsC({type:m,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[q.OA$]})}return m})();class ao{route;childContexts;parent;outletData;constructor(h,l,f,w){this.route=h,this.childContexts=l,this.parent=f,this.outletData=w}get(h,l){return h===Ro?this.route:h===Vn?this.childContexts:h===Is?this.outletData:this.parent.get(h,l)}}const Xr=new q.nKC("");let Zr=(()=>{class m{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(l){this.unsubscribeFromRouteData(l),this.subscribeToRouteData(l)}unsubscribeFromRouteData(l){this.outletDataSubscriptions.get(l)?.unsubscribe(),this.outletDataSubscriptions.delete(l)}subscribeToRouteData(l){const{activatedRoute:f}=l,w=Ft([f.queryParams,f.params,f.data]).pipe((0,Jt.n)(([S,O,G],ne)=>(G={...S,...O,...G},0===ne?(0,fe.of)(G):Promise.resolve(G)))).subscribe(S=>{if(!l.isActivated||!l.activatedComponentRef||l.activatedRoute!==f||null===f.component)return void this.unsubscribeFromRouteData(l);const O=(0,q.HJs)(f.component);if(O)for(const{templateName:G}of O.inputs)l.activatedComponentRef.setInput(G,S[G]);else this.unsubscribeFromRouteData(l)});this.outletDataSubscriptions.set(l,w)}static \u0275fac=function(f){return new(f||m)};static \u0275prov=q.jDH({token:m,factory:m.\u0275fac})}return m})(),Ts=(()=>{class m{static \u0275fac=function(f){return new(f||m)};static \u0275cmp=q.VBU({type:m,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(f,w){1&f&&q.nrm(0,"router-outlet")},dependencies:[Wr],encapsulation:2})}return m})();function Mo(m){const h=m.children&&m.children.map(Mo),l=h?{...m,children:h}:{...m};return!l.component&&!l.loadComponent&&(h||l.loadChildren)&&l.outlet&&l.outlet!==In&&(l.component=Ts),l}function hs(m,h,l){if(l&&m.shouldReuseRoute(h.value,l.value.snapshot)){const f=l.value;f._futureSnapshot=h.value;const w=function Io(m,h,l){return h.children.map(f=>{for(const w of l.children)if(m.shouldReuseRoute(f.value,w.value.snapshot))return hs(m,f,w);return hs(m,f)})}(m,h,l);return new Jr(f,w)}{if(m.shouldAttach(h.value)){const S=m.retrieve(h.value);if(null!==S){const O=S.route;return O.value._futureSnapshot=h.value,O.children=h.children.map(G=>hs(m,G)),O}}const f=function Oi(m){return new Ro(new ke.t(m.url),new ke.t(m.params),new ke.t(m.queryParams),new ke.t(m.fragment),new ke.t(m.data),m.outlet,m.component,m)}(h.value),w=h.children.map(S=>hs(m,S));return new Jr(f,w)}}class js{redirectTo;navigationBehaviorOptions;constructor(h,l){this.redirectTo=h,this.navigationBehaviorOptions=l}}const xo="ngNavigationCancelingError";function kr(m,h){const{redirectTo:l,navigationBehaviorOptions:f}=wt(h)?{redirectTo:h,navigationBehaviorOptions:void 0}:h,w=yr(!1,Cr.Redirect);return w.url=l,w.navigationBehaviorOptions=f,w}function yr(m,h){const l=new Error(`NavigationCancelingError: ${m||""}`);return l[xo]=!0,l.cancellationCode=h,l}function na(m){return!!m&&m[xo]}class Vo{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(h,l,f,w,S){this.routeReuseStrategy=h,this.futureState=l,this.currState=f,this.forwardEvent=w,this.inputBindingEnabled=S}activate(h){const l=this.futureState._root,f=this.currState?this.currState._root:null;this.deactivateChildRoutes(l,f,h),Wo(this.futureState.root),this.activateChildRoutes(l,f,h)}deactivateChildRoutes(h,l,f){const w=ss(l);h.children.forEach(S=>{const O=S.value.outlet;this.deactivateRoutes(S,w[O],f),delete w[O]}),Object.values(w).forEach(S=>{this.deactivateRouteAndItsChildren(S,f)})}deactivateRoutes(h,l,f){const w=h.value,S=l?l.value:null;if(w===S)if(w.component){const O=f.getContext(w.outlet);O&&this.deactivateChildRoutes(h,l,O.children)}else this.deactivateChildRoutes(h,l,f);else S&&this.deactivateRouteAndItsChildren(l,f)}deactivateRouteAndItsChildren(h,l){h.value.component&&this.routeReuseStrategy.shouldDetach(h.value.snapshot)?this.detachAndStoreRouteSubtree(h,l):this.deactivateRouteAndOutlet(h,l)}detachAndStoreRouteSubtree(h,l){const f=l.getContext(h.value.outlet),w=f&&h.value.component?f.children:l,S=ss(h);for(const O of Object.values(S))this.deactivateRouteAndItsChildren(O,w);if(f&&f.outlet){const O=f.outlet.detach(),G=f.children.onOutletDeactivated();this.routeReuseStrategy.store(h.value.snapshot,{componentRef:O,route:h,contexts:G})}}deactivateRouteAndOutlet(h,l){const f=l.getContext(h.value.outlet),w=f&&h.value.component?f.children:l,S=ss(h);for(const O of Object.values(S))this.deactivateRouteAndItsChildren(O,w);f&&(f.outlet&&(f.outlet.deactivate(),f.children.onOutletDeactivated()),f.attachRef=null,f.route=null)}activateChildRoutes(h,l,f){const w=ss(l);h.children.forEach(S=>{this.activateRoutes(S,w[S.value.outlet],f),this.forwardEvent(new Qr(S.value.snapshot))}),h.children.length&&this.forwardEvent(new ii(h.value.snapshot))}activateRoutes(h,l,f){const w=h.value,S=l?l.value:null;if(Wo(w),w===S)if(w.component){const O=f.getOrCreateContext(w.outlet);this.activateChildRoutes(h,l,O.children)}else this.activateChildRoutes(h,l,f);else if(w.component){const O=f.getOrCreateContext(w.outlet);if(this.routeReuseStrategy.shouldAttach(w.snapshot)){const G=this.routeReuseStrategy.retrieve(w.snapshot);this.routeReuseStrategy.store(w.snapshot,null),O.children.onOutletReAttached(G.contexts),O.attachRef=G.componentRef,O.route=G.route.value,O.outlet&&O.outlet.attach(G.componentRef,G.route.value),Wo(G.route.value),this.activateChildRoutes(h,null,O.children)}else O.attachRef=null,O.route=w,O.outlet&&O.outlet.activateWith(w,O.injector),this.activateChildRoutes(h,null,O.children)}else this.activateChildRoutes(h,null,f)}}class _r{path;route;constructor(h){this.path=h,this.route=this.path[this.path.length-1]}}class W{component;route;constructor(h,l){this.component=h,this.route=l}}function z(m,h,l){const f=m._root;return nt(f,h?h._root:null,l,[f.value])}function Ce(m,h){const l=Symbol(),f=h.get(m,l);return f===l?"function"!=typeof m||(0,q.LfX)(m)?h.get(m):m:f}function nt(m,h,l,f,w={canDeactivateChecks:[],canActivateChecks:[]}){const S=ss(h);return m.children.forEach(O=>{(function Rt(m,h,l,f,w={canDeactivateChecks:[],canActivateChecks:[]}){const S=m.value,O=h?h.value:null,G=l?l.getContext(m.value.outlet):null;if(O&&S.routeConfig===O.routeConfig){const ne=function Wt(m,h,l){if("function"==typeof l)return l(m,h);switch(l){case"pathParamsChange":return!bn(m.url,h.url);case"pathParamsOrQueryParamsChange":return!bn(m.url,h.url)||!on(m.queryParams,h.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!po(m,h)||!on(m.queryParams,h.queryParams);default:return!po(m,h)}}(O,S,S.routeConfig.runGuardsAndResolvers);ne?w.canActivateChecks.push(new _r(f)):(S.data=O.data,S._resolvedData=O._resolvedData),nt(m,h,S.component?G?G.children:null:l,f,w),ne&&G&&G.outlet&&G.outlet.isActivated&&w.canDeactivateChecks.push(new W(G.outlet.component,O))}else O&&wn(h,G,w),w.canActivateChecks.push(new _r(f)),nt(m,null,S.component?G?G.children:null:l,f,w)})(O,S[O.value.outlet],l,f.concat([O.value]),w),delete S[O.value.outlet]}),Object.entries(S).forEach(([O,G])=>wn(G,l.getContext(O),w)),w}function wn(m,h,l){const f=ss(m),w=m.value;Object.entries(f).forEach(([S,O])=>{wn(O,w.component?h?h.children.getContext(S):null:h,l)}),l.canDeactivateChecks.push(new W(w.component&&h&&h.outlet&&h.outlet.isActivated?h.outlet.component:null,w))}function dn(m){return"function"==typeof m}function Ti(m){return m instanceof yt.G||"EmptyError"===m?.name}const ei=Symbol("INITIAL_VALUE");function Ri(){return(0,Jt.n)(m=>Ft(m.map(h=>h.pipe(St(1),function We(...m){const h=(0,He.lI)(m);return(0,Sn.N)((l,f)=>{(h?tt(m,l,h):tt(m,l)).subscribe(f)})}(ei)))).pipe((0,Xe.T)(h=>{for(const l of h)if(!0!==l){if(l===ei)return ei;if(!1===l||co(l))return l}return!0}),(0,Z.p)(h=>h!==ei),St(1)))}function co(m){return wt(m)||m instanceof js}function $s(m){return(0,zt.F)(pt(h=>{if("boolean"!=typeof h)throw kr(0,h)}),(0,Xe.T)(h=>!0===h))}class Fa{segmentGroup;constructor(h){this.segmentGroup=h||null}}class ha extends Error{urlTree;constructor(h){super(),this.urlTree=h}}function Hs(m){return vt(new Fa(m))}class ci{urlSerializer;urlTree;constructor(h,l){this.urlSerializer=h,this.urlTree=l}lineralizeSegments(h,l){let f=[],w=l.root;for(;;){if(f=f.concat(w.segments),0===w.numberOfChildren)return(0,fe.of)(f);if(w.numberOfChildren>1||!w.children[In])return vt(new q.wOt(4e3,!1));w=w.children[In]}}applyRedirectCommands(h,l,f,w,S){if("string"!=typeof l){const G=l,{queryParams:ne,fragment:Se,routeConfig:Ot,url:tn,outlet:zn,params:Yn,data:Pn,title:Xn}=w,zr=(0,q.N4e)(S,()=>G({params:Yn,data:Pn,queryParams:ne,fragment:Se,routeConfig:Ot,url:tn,outlet:zn,title:Xn}));if(zr instanceof cr)throw new ha(zr);l=zr}const O=this.applyRedirectCreateUrlTree(l,this.urlSerializer.parse(l),h,f);if("/"===l[0])throw new ha(O);return O}applyRedirectCreateUrlTree(h,l,f,w){const S=this.createSegmentGroup(h,l.root,f,w);return new cr(S,this.createQueryParams(l.queryParams,this.urlTree.queryParams),l.fragment)}createQueryParams(h,l){const f={};return Object.entries(h).forEach(([w,S])=>{if("string"==typeof S&&":"===S[0]){const G=S.substring(1);f[w]=l[G]}else f[w]=S}),f}createSegmentGroup(h,l,f,w){const S=this.createSegments(h,l.segments,f,w);let O={};return Object.entries(l.children).forEach(([G,ne])=>{O[G]=this.createSegmentGroup(h,ne,f,w)}),new ir(S,O)}createSegments(h,l,f,w){return l.map(S=>":"===S.path[0]?this.findPosParam(h,S,w):this.findOrReturn(S,f))}findPosParam(h,l,f){const w=f[l.path.substring(1)];if(!w)throw new q.wOt(4001,!1);return w}findOrReturn(h,l){let f=0;for(const w of l){if(w.path===h.path)return l.splice(f),w;f++}return h}}const ko={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ks(m,h,l,f,w){const S=zs(m,h,l);return S.matched?(f=function hi(m,h){return m.providers&&!m._injector&&(m._injector=(0,q.Ol2)(m.providers,h,`Route: ${m.path}`)),m._injector??h}(h,f),function ps(m,h,l,f){const w=h.canMatch;if(!w||0===w.length)return(0,fe.of)(!0);const S=w.map(O=>{const G=Ce(O,m);return Er(function Fi(m){return m&&dn(m.canMatch)}(G)?G.canMatch(h,l):(0,q.N4e)(m,()=>G(h,l)))});return(0,fe.of)(S).pipe(Ri(),$s())}(f,h,l).pipe((0,Xe.T)(O=>!0===O?S:{...ko}))):(0,fe.of)(S)}function zs(m,h,l){if("**"===h.path)return function Ws(m){return{matched:!0,parameters:m.length>0?ct(m).parameters:{},consumedSegments:m,remainingSegments:[],positionalParamSegments:{}}}(l);if(""===h.path)return"full"===h.pathMatch&&(m.hasChildren()||l.length>0)?{...ko}:{matched:!0,consumedSegments:[],remainingSegments:l,parameters:{},positionalParamSegments:{}};const w=(h.matcher||ln)(l,m,h);if(!w)return{...ko};const S={};Object.entries(w.posParams??{}).forEach(([G,ne])=>{S[G]=ne.path});const O=w.consumed.length>0?{...S,...w.consumed[w.consumed.length-1].parameters}:S;return{matched:!0,consumedSegments:w.consumed,remainingSegments:l.slice(w.consumed.length),parameters:O,positionalParamSegments:w.posParams??{}}}function vi(m,h,l,f){return l.length>0&&function Vr(m,h,l){return l.some(f=>Gs(m,h,f)&&Pe(f)!==In)}(m,l,f)?{segmentGroup:new ir(h,Hr(f,new ir(l,m.children))),slicedSegments:[]}:0===l.length&&function Ca(m,h,l){return l.some(f=>Gs(m,h,f))}(m,l,f)?{segmentGroup:new ir(m.segments,fa(m,l,f,m.children)),slicedSegments:l}:{segmentGroup:new ir(m.segments,m.children),slicedSegments:l}}function fa(m,h,l,f){const w={};for(const S of l)if(Gs(m,h,S)&&!f[Pe(S)]){const O=new ir([],{});w[Pe(S)]=O}return{...f,...w}}function Hr(m,h){const l={};l[In]=h;for(const f of m)if(""===f.path&&Pe(f)!==In){const w=new ir([],{});l[Pe(f)]=w}return l}function Gs(m,h,l){return(!(m.hasChildren()||h.length>0)||"full"!==l.pathMatch)&&""===l.path}class Sa{}class Va{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(h,l,f,w,S,O,G){this.injector=h,this.configLoader=l,this.rootComponentType=f,this.config=w,this.urlTree=S,this.paramsInheritanceStrategy=O,this.urlSerializer=G,this.applyRedirects=new ci(this.urlSerializer,this.urlTree)}noMatchError(h){return new q.wOt(4002,`'${h.segmentGroup}'`)}recognize(){const h=vi(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(h).pipe((0,Xe.T)(({children:l,rootSnapshot:f})=>{const w=new Jr(f,l),S=new ws("",w),O=function ie(m,h,l=null,f=null){return Oe(_e(m),h,l,f)}(f,[],this.urlTree.queryParams,this.urlTree.fragment);return O.queryParams=this.urlTree.queryParams,S.url=this.urlSerializer.serialize(O),{state:S,tree:O}}))}match(h){const l=new Po([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),In,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,h,In,l).pipe((0,Xe.T)(f=>({children:f,rootSnapshot:l})),(0,rn.W)(f=>{if(f instanceof ha)return this.urlTree=f.urlTree,this.match(f.urlTree.root);throw f instanceof Fa?this.noMatchError(f):f}))}processSegmentGroup(h,l,f,w,S){return 0===f.segments.length&&f.hasChildren()?this.processChildren(h,l,f,S):this.processSegment(h,l,f,f.segments,w,!0,S).pipe((0,Xe.T)(O=>O instanceof Jr?[O]:[]))}processChildren(h,l,f,w){const S=[];for(const O of Object.keys(f.children))"primary"===O?S.unshift(O):S.push(O);return(0,Ee.H)(S).pipe((0,Ge.H)(O=>{const G=f.children[O],ne=function dt(m,h){const l=m.filter(f=>Pe(f)===h);return l.push(...m.filter(f=>Pe(f)!==h)),l}(l,O);return this.processSegmentGroup(h,ne,G,O,w)}),function er(m,h){return(0,Sn.N)(function Xt(m,h,l,f,w){return(S,O)=>{let G=l,ne=h,Se=0;S.subscribe((0,Dt._)(O,Ot=>{const tn=Se++;ne=G?m(ne,Ot,tn):(G=!0,Ot),f&&O.next(ne)},w&&(()=>{G&&O.next(ne),O.complete()})))}}(m,h,arguments.length>=2,!0))}((O,G)=>(O.push(...G),O)),le(null),function qn(m,h){const l=arguments.length>=2;return f=>f.pipe(m?(0,Z.p)((w,S)=>m(w,S,f)):pe.D,Ht(1),l?le(h):ge(()=>new yt.G))}(),(0,ue.Z)(O=>{if(null===O)return Hs(f);const G=Yt(O);return function qo(m){m.sort((h,l)=>h.value.outlet===In?-1:l.value.outlet===In?1:h.value.outlet.localeCompare(l.value.outlet))}(G),(0,fe.of)(G)}))}processSegment(h,l,f,w,S,O,G){return(0,Ee.H)(l).pipe((0,Ge.H)(ne=>this.processSegmentAgainstRoute(ne._injector??h,l,ne,f,w,S,O,G).pipe((0,rn.W)(Se=>{if(Se instanceof Fa)return(0,fe.of)(null);throw Se}))),de(ne=>!!ne),(0,rn.W)(ne=>{if(Ti(ne))return function qa(m,h,l){return 0===h.length&&!m.children[l]}(f,w,S)?(0,fe.of)(new Sa):Hs(f);throw ne}))}processSegmentAgainstRoute(h,l,f,w,S,O,G,ne){return Pe(f)===O||O!==In&&Gs(w,S,f)?void 0===f.redirectTo?this.matchSegmentAgainstRoute(h,w,f,S,O,ne):this.allowRedirects&&G?this.expandSegmentAgainstRouteUsingRedirect(h,w,l,f,S,O,ne):Hs(w):Hs(w)}expandSegmentAgainstRouteUsingRedirect(h,l,f,w,S,O,G){const{matched:ne,parameters:Se,consumedSegments:Ot,positionalParamSegments:tn,remainingSegments:zn}=zs(l,w,S);if(!ne)return Hs(l);"string"==typeof w.redirectTo&&"/"===w.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Yn=new Po(S,Se,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ui(w),Pe(w),w.component??w._loadedComponent??null,w,Uo(w)),Pn=Yo(Yn,G,this.paramsInheritanceStrategy);Yn.params=Object.freeze(Pn.params),Yn.data=Object.freeze(Pn.data);const Xn=this.applyRedirects.applyRedirectCommands(Ot,w.redirectTo,tn,Yn,h);return this.applyRedirects.lineralizeSegments(w,Xn).pipe((0,ue.Z)(zr=>this.processSegment(h,f,l,zr.concat(zn),O,!1,G)))}matchSegmentAgainstRoute(h,l,f,w,S,O){const G=ks(l,f,w,h);return"**"===f.path&&(l.children={}),G.pipe((0,Jt.n)(ne=>ne.matched?this.getChildConfig(h=f._injector??h,f,w).pipe((0,Jt.n)(({routes:Se})=>{const Ot=f._loadedInjector??h,{parameters:tn,consumedSegments:zn,remainingSegments:Yn}=ne,Pn=new Po(zn,tn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ui(f),Pe(f),f.component??f._loadedComponent??null,f,Uo(f)),Xn=Yo(Pn,O,this.paramsInheritanceStrategy);Pn.params=Object.freeze(Xn.params),Pn.data=Object.freeze(Xn.data);const{segmentGroup:zr,slicedSegments:io}=vi(l,zn,Yn,Se);if(0===io.length&&zr.hasChildren())return this.processChildren(Ot,Se,zr,Pn).pipe((0,Xe.T)(Bo=>new Jr(Pn,Bo)));if(0===Se.length&&0===io.length)return(0,fe.of)(new Jr(Pn,[]));const Yi=Pe(f)===S;return this.processSegment(Ot,Se,zr,io,Yi?In:S,!0,Pn).pipe((0,Xe.T)(Bo=>new Jr(Pn,Bo instanceof Jr?[Bo]:[])))})):Hs(l)))}getChildConfig(h,l,f){return l.children?(0,fe.of)({routes:l.children,injector:h}):l.loadChildren?void 0!==l._loadedRoutes?(0,fe.of)({routes:l._loadedRoutes,injector:l._loadedInjector}):function Aa(m,h,l,f){const w=h.canLoad;if(void 0===w||0===w.length)return(0,fe.of)(!0);const S=w.map(O=>{const G=Ce(O,m);return Er(function Qn(m){return m&&dn(m.canLoad)}(G)?G.canLoad(h,l):(0,q.N4e)(m,()=>G(h,l)))});return(0,fe.of)(S).pipe(Ri(),$s())}(h,l,f).pipe((0,ue.Z)(w=>w?this.configLoader.loadChildren(h,l).pipe(pt(S=>{l._loadedRoutes=S.routes,l._loadedInjector=S.injector})):function xs(){return vt(yr(!1,Cr.GuardRejected))}())):(0,fe.of)({routes:[],injector:h})}}function Gr(m){const h=m.value.routeConfig;return h&&""===h.path}function Yt(m){const h=[],l=new Set;for(const f of m){if(!Gr(f)){h.push(f);continue}const w=h.find(S=>f.value.routeConfig===S.value.routeConfig);void 0!==w?(w.children.push(...f.children),l.add(w)):h.push(f)}for(const f of l){const w=Yt(f.children);h.push(new Jr(f.value,w))}return h.filter(f=>!l.has(f))}function ui(m){return m.data||{}}function Uo(m){return m.resolve||{}}function Jo(m){const h=m.children.map(l=>Jo(l)).flat();return[m,...h]}function j(m){return(0,Jt.n)(h=>{const l=m(h);return l?(0,Ee.H)(l).pipe((0,Xe.T)(()=>h)):(0,fe.of)(h)})}let be=(()=>{class m{buildTitle(l){let f,w=l.root;for(;void 0!==w;)f=this.getResolvedTitleForRoute(w)??f,w=w.children.find(S=>S.outlet===In);return f}getResolvedTitleForRoute(l){return l.data[Pr]}static \u0275fac=function(f){return new(f||m)};static \u0275prov=q.jDH({token:m,factory:()=>(0,q.WQX)(Mt),providedIn:"root"})}return m})(),Mt=(()=>{class m extends be{title;constructor(l){super(),this.title=l}updateTitle(l){const f=this.buildTitle(l);void 0!==f&&this.title.setTitle(f)}static \u0275fac=function(f){return new(f||m)(q.KVO(Jn.hE))};static \u0275prov=q.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();const Dn=new q.nKC("",{providedIn:"root",factory:()=>({})}),ar=new q.nKC("");let Li=(()=>{class m{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,q.WQX)(q.Ql9);loadComponent(l){if(this.componentLoaders.get(l))return this.componentLoaders.get(l);if(l._loadedComponent)return(0,fe.of)(l._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(l);const f=Er(l.loadComponent()).pipe((0,Xe.T)(Ks),pt(S=>{this.onLoadEndListener&&this.onLoadEndListener(l),l._loadedComponent=S}),(0,Bn.j)(()=>{this.componentLoaders.delete(l)})),w=new lt(f,()=>new yn.B).pipe(Gn());return this.componentLoaders.set(l,w),w}loadChildren(l,f){if(this.childrenLoaders.get(f))return this.childrenLoaders.get(f);if(f._loadedRoutes)return(0,fe.of)({routes:f._loadedRoutes,injector:f._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(f);const S=function $i(m,h,l,f){return Er(m.loadChildren()).pipe((0,Xe.T)(Ks),(0,ue.Z)(w=>w instanceof q.Co$||Array.isArray(w)?(0,fe.of)(w):(0,Ee.H)(h.compileModuleAsync(w))),(0,Xe.T)(w=>{f&&f(m);let S,O,G=!1;return Array.isArray(w)?(O=w,!0):(S=w.create(l).injector,O=S.get(ar,[],{optional:!0,self:!0}).flat()),{routes:O.map(Mo),injector:S}}))}(f,this.compiler,l,this.onLoadEndListener).pipe((0,Bn.j)(()=>{this.childrenLoaders.delete(f)})),O=new lt(S,()=>new yn.B).pipe(Gn());return this.childrenLoaders.set(f,O),O}static \u0275fac=function(f){return new(f||m)};static \u0275prov=q.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();function Ks(m){return function bo(m){return m&&"object"==typeof m&&"default"in m}(m)?m.default:m}let Ra=(()=>{class m{static \u0275fac=function(f){return new(f||m)};static \u0275prov=q.jDH({token:m,factory:()=>(0,q.WQX)(us),providedIn:"root"})}return m})(),us=(()=>{class m{shouldProcessUrl(l){return!0}extract(l){return l}merge(l,f){return l}static \u0275fac=function(f){return new(f||m)};static \u0275prov=q.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();const Do=new q.nKC(""),gs=new q.nKC("");function ls(m,h,l){const f=m.get(gs),w=m.get(T.q);return m.get(q.SKi).runOutsideAngular(()=>{if(!w.startViewTransition||f.skipNextTransition)return f.skipNextTransition=!1,new Promise(Se=>setTimeout(Se));let S;const O=new Promise(Se=>{S=Se}),G=w.startViewTransition(()=>(S(),function pa(m){return new Promise(h=>{(0,q.mal)({read:()=>setTimeout(h)},{injector:m})})}(m))),{onViewTransitionCreated:ne}=f;return ne&&(0,q.N4e)(m,()=>ne({transition:G,from:h,to:l})),O})}const Rn=new q.nKC("");let ga=(()=>{class m{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new yn.B;transitionAbortSubject=new yn.B;configLoader=(0,q.WQX)(Li);environmentInjector=(0,q.WQX)(q.uvJ);destroyRef=(0,q.WQX)(q.abz);urlSerializer=(0,q.WQX)(Nr);rootContexts=(0,q.WQX)(Vn);location=(0,q.WQX)(N.aZ);inputBindingEnabled=null!==(0,q.WQX)(Xr,{optional:!0});titleStrategy=(0,q.WQX)(be);options=(0,q.WQX)(Dn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,q.WQX)(Ra);createViewTransition=(0,q.WQX)(Do,{optional:!0});navigationErrorHandler=(0,q.WQX)(Rn,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,fe.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=w=>this.events.next(new sn(w)),this.configLoader.onLoadStartListener=w=>this.events.next(new It(w)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(l){const f=++this.navigationId;this.transitions?.next({...l,extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:f})}setupNavigations(l){return this.transitions=new ke.t(null),this.transitions.pipe((0,Z.p)(f=>null!==f),(0,Jt.n)(f=>{let w=!1,S=!1;return(0,fe.of)(f).pipe((0,Jt.n)(O=>{if(this.navigationId>f.id)return this.cancelNavigationTransition(f,"",Cr.SupersededByNewNavigation),ot.w;this.currentTransition=f,this.currentNavigation={id:O.id,initialUrl:O.rawUrl,extractedUrl:O.extractedUrl,targetBrowserUrl:"string"==typeof O.extras.browserUrl?this.urlSerializer.parse(O.extras.browserUrl):O.extras.browserUrl,trigger:O.source,extras:O.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const G=!l.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!G&&"reload"!==(O.extras.onSameUrlNavigation??l.onSameUrlNavigation)){const Se="";return this.events.next(new Lo(O.id,this.urlSerializer.serialize(O.rawUrl),Se,so.IgnoredSameUrlNavigation)),O.resolve(!1),ot.w}if(this.urlHandlingStrategy.shouldProcessUrl(O.rawUrl))return(0,fe.of)(O).pipe((0,Jt.n)(Se=>(this.events.next(new $r(Se.id,this.urlSerializer.serialize(Se.extractedUrl),Se.source,Se.restoredState)),Se.id!==this.navigationId?ot.w:Promise.resolve(Se))),function ji(m,h,l,f,w,S){return(0,ue.Z)(O=>function Qa(m,h,l,f,w,S,O="emptyOnly"){return new Va(m,h,l,f,w,O,S).recognize()}(m,h,l,f,O.extractedUrl,w,S).pipe((0,Xe.T)(({state:G,tree:ne})=>({...O,targetSnapshot:G,urlAfterRedirects:ne}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,l.config,this.urlSerializer,this.paramsInheritanceStrategy),pt(Se=>{f.targetSnapshot=Se.targetSnapshot,f.urlAfterRedirects=Se.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Se.urlAfterRedirects};const Ot=new B(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot);this.events.next(Ot)}));if(G&&this.urlHandlingStrategy.shouldProcessUrl(O.currentRawUrl)){const{id:Se,extractedUrl:Ot,source:tn,restoredState:zn,extras:Yn}=O,Pn=new $r(Se,this.urlSerializer.serialize(Ot),tn,zn);this.events.next(Pn);const Xn=as(this.rootComponentType).snapshot;return this.currentTransition=f={...O,targetSnapshot:Xn,urlAfterRedirects:Ot,extras:{...Yn,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ot,(0,fe.of)(f)}{const Se="";return this.events.next(new Lo(O.id,this.urlSerializer.serialize(O.extractedUrl),Se,so.IgnoredByUrlHandlingStrategy)),O.resolve(!1),ot.w}}),pt(O=>{const G=new he(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot);this.events.next(G)}),(0,Xe.T)(O=>(this.currentTransition=f={...O,guards:z(O.targetSnapshot,O.currentSnapshot,this.rootContexts)},f)),function pi(m,h){return(0,ue.Z)(l=>{const{targetSnapshot:f,currentSnapshot:w,guards:{canActivateChecks:S,canDeactivateChecks:O}}=l;return 0===O.length&&0===S.length?(0,fe.of)({...l,guardsResult:!0}):function bi(m,h,l,f){return(0,Ee.H)(m).pipe((0,ue.Z)(w=>function da(m,h,l,f,w){const S=h&&h.routeConfig?h.routeConfig.canDeactivate:null;if(!S||0===S.length)return(0,fe.of)(!0);const O=S.map(G=>{const ne=Zt(h)??w,Se=Ce(G,ne);return Er(function fi(m){return m&&dn(m.canDeactivate)}(Se)?Se.canDeactivate(m,h,l,f):(0,q.N4e)(ne,()=>Se(m,h,l,f))).pipe(de())});return(0,fe.of)(O).pipe(Ri())}(w.component,w.route,l,h,f)),de(w=>!0!==w,!0))}(O,f,w,m).pipe((0,ue.Z)(G=>G&&function hr(m){return"boolean"==typeof m}(G)?function To(m,h,l,f){return(0,Ee.H)(h).pipe((0,Ge.H)(w=>tt(function go(m,h){return null!==m&&h&&h(new Nn(m)),(0,fe.of)(!0)}(w.route.parent,f),function ti(m,h){return null!==m&&h&&h(new qr(m)),(0,fe.of)(!0)}(w.route,f),function fs(m,h,l){const f=h[h.length-1],S=h.slice(0,h.length-1).reverse().map(O=>function we(m){const h=m.routeConfig?m.routeConfig.canActivateChild:null;return h&&0!==h.length?{node:m,guards:h}:null}(O)).filter(O=>null!==O).map(O=>_t(()=>{const G=O.guards.map(ne=>{const Se=Zt(O.node)??l,Ot=Ce(ne,Se);return Er(function yi(m){return m&&dn(m.canActivateChild)}(Ot)?Ot.canActivateChild(f,m):(0,q.N4e)(Se,()=>Ot(f,m))).pipe(de())});return(0,fe.of)(G).pipe(Ri())}));return(0,fe.of)(S).pipe(Ri())}(m,w.path,l),function Ko(m,h,l){const f=h.routeConfig?h.routeConfig.canActivate:null;if(!f||0===f.length)return(0,fe.of)(!0);const w=f.map(S=>_t(()=>{const O=Zt(h)??l,G=Ce(S,O);return Er(function Lr(m){return m&&dn(m.canActivate)}(G)?G.canActivate(h,m):(0,q.N4e)(O,()=>G(h,m))).pipe(de())}));return(0,fe.of)(w).pipe(Ri())}(m,w.route,l))),de(w=>!0!==w,!0))}(f,S,m,h):(0,fe.of)(G)),(0,Xe.T)(G=>({...l,guardsResult:G})))})}(this.environmentInjector,O=>this.events.next(O)),pt(O=>{if(f.guardsResult=O.guardsResult,O.guardsResult&&"boolean"!=typeof O.guardsResult)throw kr(0,O.guardsResult);const G=new K(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot,!!O.guardsResult);this.events.next(G)}),(0,Z.p)(O=>!!O.guardsResult||(this.cancelNavigationTransition(O,"",Cr.GuardRejected),!1)),j(O=>{if(0!==O.guards.canActivateChecks.length)return(0,fe.of)(O).pipe(pt(G=>{const ne=new J(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(ne)}),(0,Jt.n)(G=>{let ne=!1;return(0,fe.of)(G).pipe(function Qo(m,h){return(0,ue.Z)(l=>{const{targetSnapshot:f,guards:{canActivateChecks:w}}=l;if(!w.length)return(0,fe.of)(l);const S=new Set(w.map(ne=>ne.route)),O=new Set;for(const ne of S)if(!O.has(ne))for(const Se of Jo(ne))O.add(Se);let G=0;return(0,Ee.H)(O).pipe((0,Ge.H)(ne=>S.has(ne)?function Ur(m,h,l,f){const w=m.routeConfig,S=m._resolve;return void 0!==w?.title&&!Go(w)&&(S[Pr]=w.title),function R(m,h,l,f){const w=Gi(m);if(0===w.length)return(0,fe.of)({});const S={};return(0,Ee.H)(w).pipe((0,ue.Z)(O=>function P(m,h,l,f){const w=Zt(h)??f,S=Ce(m,w);return Er(S.resolve?S.resolve(h,l):(0,q.N4e)(w,()=>S(h,l)))}(m[O],h,l,f).pipe(de(),pt(G=>{if(G instanceof js)throw kr(new $n,G);S[O]=G}))),Ht(1),(0,Xe.T)(()=>S),(0,rn.W)(O=>Ti(O)?ot.w:vt(O)))}(S,m,h,f).pipe((0,Xe.T)(O=>(m._resolvedData=O,m.data=Yo(m,m.parent,l).resolve,null)))}(ne,f,m,h):(ne.data=Yo(ne,ne.parent,m).resolve,(0,fe.of)(void 0))),pt(()=>G++),Ht(1),(0,ue.Z)(ne=>G===O.size?(0,fe.of)(l):ot.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>ne=!0,complete:()=>{ne||this.cancelNavigationTransition(G,"",Cr.NoDataFromResolver)}}))}),pt(G=>{const ne=new Re(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(ne)}))}),j(O=>{const G=ne=>{const Se=[];ne.routeConfig?.loadComponent&&!ne.routeConfig._loadedComponent&&Se.push(this.configLoader.loadComponent(ne.routeConfig).pipe(pt(Ot=>{ne.component=Ot}),(0,Xe.T)(()=>{})));for(const Ot of ne.children)Se.push(...G(Ot));return Se};return Ft(G(O.targetSnapshot.root)).pipe(le(null),St(1))}),j(()=>this.afterPreactivation()),(0,Jt.n)(()=>{const{currentSnapshot:O,targetSnapshot:G}=f,ne=this.createViewTransition?.(this.environmentInjector,O.root,G.root);return ne?(0,Ee.H)(ne).pipe((0,Xe.T)(()=>f)):(0,fe.of)(f)}),(0,Xe.T)(O=>{const G=function No(m,h,l){const f=hs(m,h._root,l?l._root:void 0);return new mn(f,h)}(l.routeReuseStrategy,O.targetSnapshot,O.currentRouterState);return this.currentTransition=f={...O,targetRouterState:G},this.currentNavigation.targetRouterState=G,f}),pt(()=>{this.events.next(new kn)}),((m,h,l,f)=>(0,Xe.T)(w=>(new Vo(h,w.targetRouterState,w.currentRouterState,l,f).activate(m),w)))(this.rootContexts,l.routeReuseStrategy,O=>this.events.next(O),this.inputBindingEnabled),St(1),pt({next:O=>{w=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new So(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects))),this.titleStrategy?.updateTitle(O.targetRouterState.snapshot),O.resolve(!0)},complete:()=>{w=!0}}),function On(m){return(0,Sn.N)((h,l)=>{(0,Qe.Tg)(m).subscribe((0,Dt._)(l,()=>l.complete(),Kt.l)),!l.closed&&h.subscribe(l)})}(this.transitionAbortSubject.pipe(pt(O=>{throw O}))),(0,Bn.j)(()=>{!w&&!S&&this.cancelNavigationTransition(f,"",Cr.SupersededByNewNavigation),this.currentTransition?.id===f.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,rn.W)(O=>{if(this.destroyed)return f.resolve(!1),ot.w;if(S=!0,na(O))this.events.next(new Ui(f.id,this.urlSerializer.serialize(f.extractedUrl),O.message,O.cancellationCode)),function Xi(m){return na(m)&&wt(m.url)}(O)?this.events.next(new mr(O.url,O.navigationBehaviorOptions)):f.resolve(!1);else{const G=new no(f.id,this.urlSerializer.serialize(f.extractedUrl),O,f.targetSnapshot??void 0);try{const ne=(0,q.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(G));if(!(ne instanceof js))throw this.events.next(G),O;{const{message:Se,cancellationCode:Ot}=kr(0,ne);this.events.next(new Ui(f.id,this.urlSerializer.serialize(f.extractedUrl),Se,Ot)),this.events.next(new mr(ne.redirectTo,ne.navigationBehaviorOptions))}}catch(ne){this.options.resolveNavigationPromiseOnError?f.resolve(!1):f.reject(ne)}}return ot.w}))}))}cancelNavigationTransition(l,f,w){const S=new Ui(l.id,this.urlSerializer.serialize(l.extractedUrl),f,w);this.events.next(S),l.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const l=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),f=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return l.toString()!==f?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(f){return new(f||m)};static \u0275prov=q.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();function As(m){return m!==xn}let ds=(()=>{class m{static \u0275fac=function(f){return new(f||m)};static \u0275prov=q.jDH({token:m,factory:()=>(0,q.WQX)(Pa),providedIn:"root"})}return m})();class ma{shouldDetach(h){return!1}store(h,l){}shouldAttach(h){return!1}retrieve(h){return null}shouldReuseRoute(h,l){return h.routeConfig===l.routeConfig}}let Pa=(()=>{class m extends ma{static \u0275fac=(()=>{let l;return function(w){return(l||(l=q.xGo(m)))(w||m)}})();static \u0275prov=q.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})(),Pi=(()=>{class m{urlSerializer=(0,q.WQX)(Nr);options=(0,q.WQX)(Dn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,q.WQX)(N.aZ);urlHandlingStrategy=(0,q.WQX)(Ra);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new cr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:l,initialUrl:f,targetBrowserUrl:w}){const S=void 0!==l?this.urlHandlingStrategy.merge(l,f):f,O=w??S;return O instanceof cr?this.urlSerializer.serialize(O):O}commitTransition({targetRouterState:l,finalUrl:f,initialUrl:w}){f&&l?(this.currentUrlTree=f,this.rawUrlTree=this.urlHandlingStrategy.merge(f,w),this.routerState=l):this.rawUrlTree=w}routerState=as(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:l}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,l??this.rawUrlTree)}static \u0275fac=function(f){return new(f||m)};static \u0275prov=q.jDH({token:m,factory:()=>(0,q.WQX)(Zi),providedIn:"root"})}return m})(),Zi=(()=>{class m extends Pi{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(l){return this.location.subscribe(f=>{"popstate"===f.type&&setTimeout(()=>{l(f.url,f.state,"popstate")})})}handleRouterEvent(l,f){l instanceof $r?this.updateStateMemento():l instanceof Lo?this.commitTransition(f):l instanceof B?"eager"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(f),f)):l instanceof kn?(this.commitTransition(f),"deferred"===this.urlUpdateStrategy&&!f.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(f),f)):l instanceof Ui&&(l.code===Cr.GuardRejected||l.code===Cr.NoDataFromResolver)?this.restoreHistory(f):l instanceof no?this.restoreHistory(f,!0):l instanceof So&&(this.lastSuccessfulId=l.id,this.currentPageId=this.browserPageId)}setBrowserUrl(l,{extras:f,id:w}){const{replaceUrl:S,state:O}=f;if(this.location.isCurrentPathEqualTo(l)||S){const G=this.browserPageId,ne={...O,...this.generateNgRouterState(w,G)};this.location.replaceState(l,"",ne)}else{const G={...O,...this.generateNgRouterState(w,this.browserPageId+1)};this.location.go(l,"",G)}}restoreHistory(l,f=!1){if("computed"===this.canceledNavigationResolution){const S=this.currentPageId-this.browserPageId;0!==S?this.location.historyGo(S):this.getCurrentUrlTree()===l.finalUrl&&0===S&&(this.resetInternalState(l),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(f&&this.resetInternalState(l),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(l,f){return"computed"===this.canceledNavigationResolution?{navigationId:l,\u0275routerPageId:f}:{navigationId:l}}static \u0275fac=(()=>{let l;return function(w){return(l||(l=q.xGo(m)))(w||m)}})();static \u0275prov=q.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();function Di(m,h){m.events.pipe((0,Z.p)(l=>l instanceof So||l instanceof Ui||l instanceof no||l instanceof Lo),(0,Xe.T)(l=>l instanceof So||l instanceof Lo?0:l instanceof Ui&&(l.code===Cr.Redirect||l.code===Cr.SupersededByNewNavigation)?2:1),(0,Z.p)(l=>2!==l),St(1)).subscribe(()=>{h()})}const Oc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xa=(()=>{class m{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,q.WQX)(q.H3F);stateManager=(0,q.WQX)(Pi);options=(0,q.WQX)(Dn,{optional:!0})||{};pendingTasks=(0,q.WQX)(q.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,q.WQX)(ga);urlSerializer=(0,q.WQX)(Nr);location=(0,q.WQX)(N.aZ);urlHandlingStrategy=(0,q.WQX)(Ra);_events=new yn.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,q.WQX)(ds);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,q.WQX)(ar,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,q.WQX)(Xr,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:l=>{this.console.warn(l)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fn.yU;subscribeToNavigationEvents(){const l=this.navigationTransitions.events.subscribe(f=>{try{const w=this.navigationTransitions.currentTransition,S=this.navigationTransitions.currentNavigation;if(null!==w&&null!==S)if(this.stateManager.handleRouterEvent(f,S),f instanceof Ui&&f.code!==Cr.Redirect&&f.code!==Cr.SupersededByNewNavigation)this.navigated=!0;else if(f instanceof So)this.navigated=!0;else if(f instanceof mr){const O=f.navigationBehaviorOptions,G=this.urlHandlingStrategy.merge(f.url,w.currentRawUrl),ne={browserUrl:w.extras.browserUrl,info:w.extras.info,skipLocationChange:w.extras.skipLocationChange,replaceUrl:w.extras.replaceUrl||"eager"===this.urlUpdateStrategy||As(w.source),...O};this.scheduleNavigation(G,xn,null,ne,{resolve:w.resolve,reject:w.reject,promise:w.promise})}(function qs(m){return!(m instanceof kn||m instanceof mr)})(f)&&this._events.next(f)}catch(w){this.navigationTransitions.transitionAbortSubject.next(w)}});this.eventsSubscription.add(l)}resetRootComponentType(l){this.routerState.root.component=l,this.navigationTransitions.rootComponentType=l}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((l,f,w)=>{this.navigateToSyncWithBrowser(l,w,f)})}navigateToSyncWithBrowser(l,f,w){const S={replaceUrl:!0},O=w?.navigationId?w:null;if(w){const ne={...w};delete ne.navigationId,delete ne.\u0275routerPageId,0!==Object.keys(ne).length&&(S.state=ne)}const G=this.parseUrl(l);this.scheduleNavigation(G,f,O,S)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(l){this.config=l.map(Mo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(l,f={}){const{relativeTo:w,queryParams:S,fragment:O,queryParamsHandling:G,preserveFragment:ne}=f,Se=ne?this.currentUrlTree.fragment:O;let tn,Ot=null;switch(G??this.options.defaultQueryParamsHandling){case"merge":Ot={...this.currentUrlTree.queryParams,...S};break;case"preserve":Ot=this.currentUrlTree.queryParams;break;default:Ot=S||null}null!==Ot&&(Ot=this.removeEmptyProps(Ot));try{tn=_e(w?w.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof l[0]||"/"!==l[0][0])&&(l=[]),tn=this.currentUrlTree.root}return Oe(tn,l,Ot,Se??null)}navigateByUrl(l,f={skipLocationChange:!1}){const w=wt(l)?l:this.parseUrl(l),S=this.urlHandlingStrategy.merge(w,this.rawUrlTree);return this.scheduleNavigation(S,xn,null,f)}navigate(l,f={skipLocationChange:!1}){return function Xo(m){for(let h=0;h<m.length;h++)if(null==m[h])throw new q.wOt(4008,!1)}(l),this.navigateByUrl(this.createUrlTree(l,f),f)}serializeUrl(l){return this.urlSerializer.serialize(l)}parseUrl(l){try{return this.urlSerializer.parse(l)}catch{return this.urlSerializer.parse("/")}}isActive(l,f){let w;if(w=!0===f?{...Oc}:!1===f?{...Hi}:f,wt(l))return ni(this.currentUrlTree,l,w);const S=this.parseUrl(l);return ni(this.currentUrlTree,S,w)}removeEmptyProps(l){return Object.entries(l).reduce((f,[w,S])=>(null!=S&&(f[w]=S),f),{})}scheduleNavigation(l,f,w,S,O){if(this.disposed)return Promise.resolve(!1);let G,ne,Se;O?(G=O.resolve,ne=O.reject,Se=O.promise):Se=new Promise((tn,zn)=>{G=tn,ne=zn});const Ot=this.pendingTasks.add();return Di(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ot))}),this.navigationTransitions.handleNavigationRequest({source:f,restoredState:w,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:l,extras:S,resolve:G,reject:ne,promise:Se,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Se.catch(tn=>Promise.reject(tn))}static \u0275fac=function(f){return new(f||m)};static \u0275prov=q.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},5196:(vn,je,U)=>{"use strict";U.d(je,{C:()=>q,U:()=>F});var T=U(1635),N=U(8071);function q(Ae){return(0,T.AQ)(this,arguments,function*(){const Ee=Ae.getReader();try{for(;;){const{value:fe,done:ke}=yield(0,T.N3)(Ee.read());if(ke)return yield(0,T.N3)(void 0);yield yield(0,T.N3)(fe)}}finally{Ee.releaseLock()}})}function F(Ae){return(0,N.T)(Ae?.getReader)}},5207:(vn,je,U)=>{"use strict";U.d(je,{Wk:()=>Ln,iI:()=>Qr,lh:()=>Lt});var T=U(6048),N=U(1360),q=U(9361);let qe=(()=>{class ae{static \u0275prov=(0,N.jDH)({token:ae,providedIn:"root",factory:()=>new Ee((0,N.WQX)(q.q),window)})}return ae})();class Ee{document;window;offset=()=>[0,0];constructor(et,Pe){this.document=et,this.window=Pe}setOffset(et){this.offset=Array.isArray(et)?()=>et:et}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(et){this.window.scrollTo(et[0],et[1])}scrollToAnchor(et){const Pe=function fe(ae,et){const Pe=ae.getElementById(et)||ae.getElementsByName(et)[0];if(Pe)return Pe;if("function"==typeof ae.createTreeWalker&&ae.body&&"function"==typeof ae.body.attachShadow){const dt=ae.createTreeWalker(ae.body,NodeFilter.SHOW_ELEMENT);let Zt=dt.currentNode;for(;Zt;){const gn=Zt.shadowRoot;if(gn){const Vn=gn.getElementById(et)||gn.querySelector(`[name="${et}"]`);if(Vn)return Vn}Zt=dt.nextNode()}}return null}(this.document,et);Pe&&(this.scrollToElement(Pe),Pe.focus())}setHistoryScrollRestoration(et){this.window.history.scrollRestoration=et}scrollToElement(et){const Pe=et.getBoundingClientRect(),dt=Pe.left+this.window.pageXOffset,Zt=Pe.top+this.window.pageYOffset,gn=this.offset();this.window.scrollTo(dt-gn[0],Zt-gn[1])}}var wt=U(2881),ie=U(5072),_e=U(1413),Oe=U(7673),At=U(8455),mt=U(6365),ht=U(5964),Pt=U(274),en=U(1397);let Ln=(()=>{class ae{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new _e.B;constructor(Pe,dt,Zt,gn,Vn,Qi){this.router=Pe,this.route=dt,this.tabIndexAttribute=Zt,this.renderer=gn,this.el=Vn,this.locationStrategy=Qi;const fo=Vn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===fo||"area"===fo,this.isAnchorElement?this.subscription=Pe.events.subscribe(Ms=>{Ms instanceof ie.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(Pe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Pe)}ngOnChanges(Pe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(Pe){null==Pe?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,ie.wO)(Pe)||Array.isArray(Pe)?Pe:[Pe],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Pe,dt,Zt,gn,Vn){const Qi=this.urlTree;return!!(null===Qi||this.isAnchorElement&&(0!==Pe||dt||Zt||gn||Vn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Qi,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Pe=this.urlTree;this.href=null!==Pe&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Pe)):null;const dt=null===this.href?null:(0,N.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",dt)}applyAttributeValue(Pe,dt){const Zt=this.renderer,gn=this.el.nativeElement;null!==dt?Zt.setAttribute(gn,Pe,dt):Zt.removeAttribute(gn,Pe)}get urlTree(){return null===this.routerLinkInput?null:(0,ie.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(dt){return new(dt||ae)(N.rXU(ie.Ix),N.rXU(ie.nX),N.kS0("tabindex"),N.rXU(N.sFG),N.rXU(N.aKT),N.rXU(T.hb))};static \u0275dir=N.FsC({type:ae,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(dt,Zt){1&dt&&N.bIt("click",function(Vn){return Zt.onClick(Vn.button,Vn.ctrlKey,Vn.shiftKey,Vn.altKey,Vn.metaKey)}),2&dt&&N.BMQ("target",Zt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",N.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",N.L39],replaceUrl:[2,"replaceUrl","replaceUrl",N.L39],routerLink:"routerLink"},features:[N.OA$]})}return ae})();class sr{}let ve=(()=>{class ae{router;injector;preloadingStrategy;loader;subscription;constructor(Pe,dt,Zt,gn){this.router=Pe,this.injector=dt,this.preloadingStrategy=Zt,this.loader=gn}setUpPreloading(){this.subscription=this.router.events.pipe((0,ht.p)(Pe=>Pe instanceof ie.wF),(0,Pt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Pe,dt){const Zt=[];for(const gn of dt){gn.providers&&!gn._injector&&(gn._injector=(0,N.Ol2)(gn.providers,Pe,`Route: ${gn.path}`));const Vn=gn._injector??Pe,Qi=gn._loadedInjector??Vn;(gn.loadChildren&&!gn._loadedRoutes&&void 0===gn.canLoad||gn.loadComponent&&!gn._loadedComponent)&&Zt.push(this.preloadConfig(Vn,gn)),(gn.children||gn._loadedRoutes)&&Zt.push(this.processRoutes(Qi,gn.children??gn._loadedRoutes))}return(0,At.H)(Zt).pipe((0,mt.U)())}preloadConfig(Pe,dt){return this.preloadingStrategy.preload(dt,()=>{let Zt;Zt=dt.loadChildren&&void 0===dt.canLoad?this.loader.loadChildren(Pe,dt):(0,Oe.of)(null);const gn=Zt.pipe((0,en.Z)(Vn=>null===Vn?(0,Oe.of)(void 0):(dt._loadedRoutes=Vn.routes,dt._loadedInjector=Vn.injector,this.processRoutes(Vn.injector??Pe,Vn.routes))));if(dt.loadComponent&&!dt._loadedComponent){const Vn=this.loader.loadComponent(dt);return(0,At.H)([gn,Vn]).pipe((0,mt.U)())}return gn})}static \u0275fac=function(dt){return new(dt||ae)(N.KVO(ie.Ix),N.KVO(N.uvJ),N.KVO(sr),N.KVO(ie.D$))};static \u0275prov=N.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const Ve=new N.nKC("");let Ke=(()=>{class ae{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(Pe,dt,Zt,gn,Vn={}){this.urlSerializer=Pe,this.transitions=dt,this.viewportScroller=Zt,this.zone=gn,this.options=Vn,Vn.scrollPositionRestoration||="disabled",Vn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Pe=>{Pe instanceof ie.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Pe.navigationTrigger,this.restoredId=Pe.restoredState?Pe.restoredState.navigationId:0):Pe instanceof ie.wF?(this.lastId=Pe.id,this.scheduleScrollEvent(Pe,this.urlSerializer.parse(Pe.urlAfterRedirects).fragment)):Pe instanceof ie.lW&&Pe.code===ie.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Pe,this.urlSerializer.parse(Pe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Pe=>{Pe instanceof ie.OY&&(Pe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Pe.position):Pe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Pe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Pe,dt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ie.OY(Pe,"popstate"===this.lastSource?this.store[this.restoredId]:null,dt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(dt){N.QTQ()};static \u0275prov=N.jDH({token:ae,factory:ae.\u0275fac})}return ae})();function Lt(ae,...et){return(0,N.EmA)([{provide:ie.bw,multi:!0,useValue:ae},[],{provide:ie.nX,useFactory:$t,deps:[ie.Ix]},{provide:N.iLQ,multi:!0,useFactory:So},et.map(Pe=>Pe.\u0275providers)])}function $t(ae){return ae.routerState.root}function En(ae,et){return{\u0275kind:ae,\u0275providers:et}}function So(){const ae=(0,N.WQX)(N.zZn);return et=>{const Pe=ae.get(N.o8S);if(et!==Pe.components[0])return;const dt=ae.get(ie.Ix),Zt=ae.get(Cr);1===ae.get(so)&&dt.initialNavigation(),ae.get(B,null,N.$GK.Optional)?.setUpPreloading(),ae.get(Ve,null,N.$GK.Optional)?.init(),dt.resetRootComponentType(Pe.componentTypes[0]),Zt.closed||(Zt.next(),Zt.complete(),Zt.unsubscribe())}}const Cr=new N.nKC("",{factory:()=>new _e.B}),so=new N.nKC("",{providedIn:"root",factory:()=>1}),B=new N.nKC("");function he(ae){return En(0,[{provide:B,useExisting:ve},{provide:sr,useExisting:ae}])}function sn(ae){return(0,N.ngT)("NgRouterViewTransitions"),En(9,[{provide:ie.Pu,useValue:ie.Lg},{provide:ie.bK,useValue:{skipNextTransition:!!ae?.skipInitialTransition,...ae}}])}const qr=[T.aZ,{provide:ie.Sd,useClass:ie.nU},ie.Ix,ie.Zp,{provide:ie.nX,useFactory:$t,deps:[ie.Ix]},ie.D$,[]];let Qr=(()=>{class ae{constructor(){}static forRoot(Pe,dt){return{ngModule:ae,providers:[qr,[],{provide:ie.bw,multi:!0,useValue:Pe},[],dt?.errorHandler?{provide:ie.XR,useValue:dt.errorHandler}:[],{provide:ie.J_,useValue:dt||{}},dt?.useHash?{provide:T.hb,useClass:wt.fw}:{provide:T.hb,useClass:T.Sm},{provide:Ve,useFactory:()=>{const ae=(0,N.WQX)(qe),et=(0,N.WQX)(N.SKi),Pe=(0,N.WQX)(ie.J_),dt=(0,N.WQX)(ie.J2),Zt=(0,N.WQX)(ie.Sd);return Pe.scrollOffset&&ae.setOffset(Pe.scrollOffset),new Ke(Zt,dt,ae,et,Pe)}},dt?.preloadingStrategy?he(dt.preloadingStrategy).\u0275providers:[],dt?.initialNavigation?hi(dt):[],dt?.bindToComponentInputs?En(8,[ie.tD,{provide:ie.c1,useExisting:ie.tD}]).\u0275providers:[],dt?.enableViewTransitions?sn().\u0275providers:[],[{provide:Eo,useFactory:So},{provide:N.iLQ,multi:!0,useExisting:Eo}]]}}static forChild(Pe){return{ngModule:ae,providers:[{provide:ie.bw,multi:!0,useValue:Pe}]}}static \u0275fac=function(dt){return new(dt||ae)};static \u0275mod=N.$C({type:ae});static \u0275inj=N.G2t({})}return ae})();function hi(ae){return["disabled"===ae.initialNavigation?En(3,[(0,N.phd)(()=>{(0,N.WQX)(ie.Ix).setUpLocationChangeListener()}),{provide:so,useValue:2}]).\u0275providers:[],"enabledBlocking"===ae.initialNavigation?En(2,[{provide:so,useValue:0},(0,N.phd)(()=>{const et=(0,N.WQX)(N.zZn);return et.get(T.hj,Promise.resolve()).then(()=>new Promise(dt=>{const Zt=et.get(ie.Ix),gn=et.get(Cr);(0,ie.gk)(Zt,()=>{dt(!0)}),et.get(ie.J2).afterPreactivation=()=>(dt(!0),gn.closed?(0,Oe.of)(void 0):gn),Zt.initialNavigation()}))})]).\u0275providers:[]]}const Eo=new N.nKC("")},5225:(vn,je,U)=>{"use strict";function T(N,q,F,Ae=0,qe=!1){const Ee=q.schedule(function(){F(),qe?N.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(N.add(Ee),!qe)return Ee}U.d(je,{N:()=>T})},5334:(vn,je,U)=>{"use strict";U.d(je,{m:()=>q});var T=U(1026),N=U(9270);function q(F){N.f.setTimeout(()=>{const{onUnhandledError:Ae}=T.$;if(!Ae)throw F;Ae(F)})}},5343:(vn,je,U)=>{"use strict";function T(){}U.d(je,{l:()=>T})},5397:(vn,je,U)=>{"use strict";U.d(je,{x:()=>q});var T=U(4761),N=U(8071);function q(F){return(0,N.T)(F?.[T.l])}},5558:(vn,je,U)=>{"use strict";U.d(je,{n:()=>F});var T=U(8750),N=U(9974),q=U(4360);function F(Ae,qe){return(0,N.N)((Ee,fe)=>{let ke=null,me=0,pe=!1;const Je=()=>pe&&!ke&&fe.complete();Ee.subscribe((0,q._)(fe,He=>{ke?.unsubscribe();let st=0;const Dt=me++;(0,T.Tg)(Ae(He,Dt)).subscribe(ke=(0,q._)(fe,Ut=>fe.next(qe?qe(He,Ut,Dt,st++):Ut),()=>{ke=null,Je()}))},()=>{pe=!0,Je()}))})}},5794:(vn,je,U)=>{"use strict";U.d(je,{DP:()=>Xe,tw:()=>Gn});var T=U(1360),N=U(969),q=U(9361),F=U(2881),Ae=U(1413),qe=U(345);const Ee=["toast-component",""];function fe(le,ge){if(1&le){const te=T.RV6();T.j41(0,"button",5),T.bIt("click",function(){T.eBV(te);const Ge=T.XpG();return T.Njj(Ge.remove())}),T.j41(1,"span",6),T.EFF(2,"\xd7"),T.k0s()()}}function ke(le,ge){if(1&le&&(T.qex(0),T.EFF(1),T.bVm()),2&le){const te=T.XpG(2);T.R7$(),T.SpI("[",te.duplicatesCount+1,"]")}}function me(le,ge){if(1&le&&(T.j41(0,"div"),T.EFF(1),T.DNE(2,ke,2,1,"ng-container",4),T.k0s()),2&le){const te=T.XpG();T.HbH(te.options.titleClass),T.BMQ("aria-label",te.title),T.R7$(),T.SpI(" ",te.title," "),T.R7$(),T.Y8G("ngIf",te.duplicatesCount)}}function pe(le,ge){if(1&le&&T.nrm(0,"div",7),2&le){const te=T.XpG();T.HbH(te.options.messageClass),T.Y8G("innerHTML",te.message,T.npT)}}function Je(le,ge){if(1&le&&(T.j41(0,"div",8),T.EFF(1),T.k0s()),2&le){const te=T.XpG();T.HbH(te.options.messageClass),T.BMQ("aria-label",te.message),T.R7$(),T.SpI(" ",te.message," ")}}function He(le,ge){if(1&le&&(T.j41(0,"div"),T.nrm(1,"div",9),T.k0s()),2&le){const te=T.XpG();T.R7$(),T.xc7("width",te.width()+"%")}}class bt{_attachedHost;component;viewContainerRef;injector;constructor(ge,te){this.component=ge,this.injector=te}attach(ge,te){return this._attachedHost=ge,ge.attach(this,te)}detach(){const ge=this._attachedHost;if(ge)return this._attachedHost=void 0,ge.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ge){this._attachedHost=ge}}class Me{_attachedPortal;_disposeFn;attach(ge,te){return this._attachedPortal=ge,this.attachComponentPortal(ge,te)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ge){this._disposeFn=ge}}class tt{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Ae.B;_activate=new Ae.B;_manualClose=new Ae.B;_resetTimeout=new Ae.B;_countDuplicate=new Ae.B;constructor(ge){this._overlayRef=ge}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ge,te){ge&&this._resetTimeout.next(),te&&this._countDuplicate.next(++this.duplicatesCount)}}class Qe{toastId;config;message;title;toastType;toastRef;_onTap=new Ae.B;_onAction=new Ae.B;constructor(ge,te,de,Ge,pt,rn){this.toastId=ge,this.config=te,this.message=de,this.title=Ge,this.toastType=pt,this.toastRef=rn,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ge){this._onAction.next(ge)}onAction(){return this._onAction.asObservable()}}const zt=new T.nKC("ToastConfig");class vt extends Me{_hostDomElement;_componentFactoryResolver;_appRef;constructor(ge,te,de){super(),this._hostDomElement=ge,this._componentFactoryResolver=te,this._appRef=de}attachComponentPortal(ge,te){const de=this._componentFactoryResolver.resolveComponentFactory(ge.component);let Ge;return Ge=de.create(ge.injector),this._appRef.attachView(Ge.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ge.hostView),Ge.destroy()}),te?this._hostDomElement.insertBefore(this._getComponentRootNode(Ge),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ge)),Ge}_getComponentRootNode(ge){return ge.hostView.rootNodes[0]}}let ot=(()=>{class le{_document=(0,T.WQX)(q.q);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const te=this._document.createElement("div");te.classList.add("overlay-container"),te.setAttribute("aria-live","polite"),this._document.body.appendChild(te),this._containerElement=te}static \u0275fac=function(de){return new(de||le)};static \u0275prov=T.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();class Fn{_portalHost;constructor(ge){this._portalHost=ge}attach(ge,te=!0){return this._portalHost.attach(ge,te)}detach(){return this._portalHost.detach()}}let Sn=(()=>{class le{_overlayContainer=(0,T.WQX)(ot);_componentFactoryResolver=(0,T.WQX)(T.OM3);_appRef=(0,T.WQX)(T.o8S);_document=(0,T.WQX)(q.q);_paneElements=new Map;create(te,de){return this._createOverlayRef(this.getPaneElement(te,de))}getPaneElement(te="",de){return this._paneElements.get(de)||this._paneElements.set(de,{}),this._paneElements.get(de)[te]||(this._paneElements.get(de)[te]=this._createPaneElement(te,de)),this._paneElements.get(de)[te]}_createPaneElement(te,de){const Ge=this._document.createElement("div");return Ge.id="toast-container",Ge.classList.add(te),Ge.classList.add("toast-container"),de?de.getContainerElement().appendChild(Ge):this._overlayContainer.getContainerElement().appendChild(Ge),Ge}_createPortalHost(te){return new vt(te,this._componentFactoryResolver,this._appRef)}_createOverlayRef(te){return new Fn(this._createPortalHost(te))}static \u0275fac=function(de){return new(de||le)};static \u0275prov=T.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),Gn=(()=>{class le{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(te,de,Ge,pt,rn){this.overlay=de,this._injector=Ge,this.sanitizer=pt,this.ngZone=rn,this.toastrConfig={...te.default,...te.config},te.config.iconClasses&&(this.toastrConfig.iconClasses={...te.default.iconClasses,...te.config.iconClasses})}show(te,de,Ge={},pt=""){return this._preBuildNotification(pt,te,de,this.applyConfig(Ge))}success(te,de,Ge={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",te,de,this.applyConfig(Ge))}error(te,de,Ge={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",te,de,this.applyConfig(Ge))}info(te,de,Ge={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",te,de,this.applyConfig(Ge))}warning(te,de,Ge={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",te,de,this.applyConfig(Ge))}clear(te){for(const de of this.toasts)if(void 0!==te){if(de.toastId===te)return void de.toastRef.manualClose()}else de.toastRef.manualClose()}remove(te){const de=this._findToast(te);if(!de||(de.activeToast.toastRef.close(),this.toasts.splice(de.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ge=this.toasts[this.currentlyActive].toastRef;Ge.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ge.activate())}return!0}findDuplicate(te="",de="",Ge,pt){const{includeTitleDuplicates:rn}=this.toastrConfig;for(const Xt of this.toasts)if((!rn||rn&&Xt.title===te)&&Xt.message===de)return Xt.toastRef.onDuplicate(Ge,pt),Xt;return null}applyConfig(te={}){return{...this.toastrConfig,...te}}_findToast(te){for(let de=0;de<this.toasts.length;de++)if(this.toasts[de].toastId===te)return{index:de,activeToast:this.toasts[de]};return null}_preBuildNotification(te,de,Ge,pt){return pt.onActivateTick?this.ngZone.run(()=>this._buildNotification(te,de,Ge,pt)):this._buildNotification(te,de,Ge,pt)}_buildNotification(te,de,Ge,pt){if(!pt.toastComponent)throw new Error("toastComponent required");const rn=this.findDuplicate(Ge,de,this.toastrConfig.resetTimeoutOnDuplicate&&pt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ge||de)&&this.toastrConfig.preventDuplicates&&null!==rn)return rn;this.previousToastMessage=de;let Xt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Xt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const er=this.overlay.create(pt.positionClass,this.overlayContainer);this.index=this.index+1;let Ht=de;de&&pt.enableHtml&&(Ht=this.sanitizer.sanitize(T.WPN.HTML,de));const qn=new tt(er),Bn=new Qe(this.index,pt,Ht,Ge,te,qn),On=T.zZn.create({providers:[{provide:Qe,useValue:Bn}],parent:this._injector}),Jn=new bt(pt.toastComponent,On),In=er.attach(Jn,pt.newestOnTop);qn.componentInstance=In.instance;const Pr={toastId:this.index,title:Ge||"",message:de||"",toastRef:qn,onShown:qn.afterActivate(),onHidden:qn.afterClosed(),onTap:Bn.onTap(),onAction:Bn.onAction(),portal:In};return Xt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Pr.toastRef.activate()})),this.toasts.push(Pr),Pr}static \u0275fac=function(de){return new(de||le)(T.KVO(zt),T.KVO(Sn),T.KVO(T.zZn),T.KVO(qe.up),T.KVO(T.SKi))};static \u0275prov=T.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const yn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class le{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=(0,T.vPA)(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(te,de,Ge){this.toastrService=te,this.toastPackage=de,this.ngZone=Ge,this.message=de.message,this.title=de.title,this.options=de.config,this.originalTimeout=de.config.timeOut,this.toastClasses=`${de.toastType} ${de.config.toastClass}`,this.sub=de.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=de.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=de.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=de.toastRef.countDuplicate().subscribe(pt=>{this.duplicatesCount=pt}),this.state=(0,T.vPA)({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(te=>({...te,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const te=(new Date).getTime();this.width.set((this.hideTime-te)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(Ge=>100-Ge),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(te=>({...te,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(te=>({...te,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(te,de){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(te),de)):this.timeout=setTimeout(()=>te(),de)}outsideInterval(te,de){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(te),de)):this.intervalId=setInterval(()=>te(),de)}runInsideAngular(te){this.ngZone?this.ngZone.run(()=>te()):te()}static \u0275fac=function(de){return new(de||le)(T.rXU(Gn),T.rXU(Qe),T.rXU(T.SKi))};static \u0275cmp=T.VBU({type:le,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(de,Ge){1&de&&T.bIt("click",function(){return Ge.tapToast()})("mouseenter",function(){return Ge.stickAround()})("mouseleave",function(){return Ge.delayedHideToast()}),2&de&&(T.zvX("@flyInOut",Ge._state),T.HbH(Ge.toastClasses),T.xc7("display",Ge.displayStyle))},attrs:Ee,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(de,Ge){1&de&&T.DNE(0,fe,3,0,"button",0)(1,me,3,5,"div",1)(2,pe,1,3,"div",2)(3,Je,2,4,"div",3)(4,He,2,2,"div",4),2&de&&(T.Y8G("ngIf",Ge.options.closeButton),T.R7$(),T.Y8G("ngIf",Ge.title),T.R7$(),T.Y8G("ngIf",Ge.message&&Ge.options.enableHtml),T.R7$(),T.Y8G("ngIf",Ge.message&&!Ge.options.enableHtml),T.R7$(),T.Y8G("ngIf",Ge.options.progressBar))},dependencies:[F.bT],encapsulation:2,data:{animation:[(0,N.hZ)("flyInOut",[(0,N.wk)("inactive",(0,N.iF)({opacity:0})),(0,N.wk)("active",(0,N.iF)({opacity:1})),(0,N.wk)("removed",(0,N.iF)({opacity:0})),(0,N.kY)("inactive => active",(0,N.i0)("{{ easeTime }}ms {{ easing }}")),(0,N.kY)("active => removed",(0,N.i0)("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return le})()},Xe=(le={})=>(0,T.EmA)([{provide:zt,useValue:{default:yn,config:le}}])},5961:(vn,je,U)=>{"use strict";var T=U(6048),N=U(9377),q=U(9361),F=U(1360);const Ae=new F.nKC("");let qe=(()=>{class m{_zone;_plugins;_eventNameToPlugin=new Map;constructor(l,f){this._zone=f,l.forEach(w=>{w.manager=this}),this._plugins=l.slice().reverse()}addEventListener(l,f,w,S){return this._findPluginFor(f).addEventListener(l,f,w,S)}getZone(){return this._zone}_findPluginFor(l){let f=this._eventNameToPlugin.get(l);if(f)return f;if(f=this._plugins.find(S=>S.supports(l)),!f)throw new F.wOt(5101,!1);return this._eventNameToPlugin.set(l,f),f}static \u0275fac=function(f){return new(f||m)(F.KVO(Ae),F.KVO(F.SKi))};static \u0275prov=F.jDH({token:m,factory:m.\u0275fac})}return m})();class Ee{_doc;constructor(h){this._doc=h}manager}const fe="ng-app-id";function ke(m){for(const h of m)h.remove()}function me(m,h){const l=h.createElement("style");return l.textContent=m,l}function Je(m,h){const l=h.createElement("link");return l.setAttribute("rel","stylesheet"),l.setAttribute("href",m),l}let He=(()=>{class m{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(l,f,w,S={}){this.doc=l,this.appId=f,this.nonce=w,this.isServer=(0,N.Vy)(S),function pe(m,h,l,f){const w=m.head?.querySelectorAll(`style[${fe}="${h}"],link[${fe}="${h}"]`);if(w)for(const S of w)S.removeAttribute(fe),S instanceof HTMLLinkElement?f.set(S.href.slice(S.href.lastIndexOf("/")+1),{usage:0,elements:[S]}):S.textContent&&l.set(S.textContent,{usage:0,elements:[S]})}(l,f,this.inline,this.external),this.hosts.add(l.head)}addStyles(l,f){for(const w of l)this.addUsage(w,this.inline,me);f?.forEach(w=>this.addUsage(w,this.external,Je))}removeStyles(l,f){for(const w of l)this.removeUsage(w,this.inline);f?.forEach(w=>this.removeUsage(w,this.external))}addUsage(l,f,w){const S=f.get(l);S?S.usage++:f.set(l,{usage:1,elements:[...this.hosts].map(O=>this.addElement(O,w(l,this.doc)))})}removeUsage(l,f){const w=f.get(l);w&&(w.usage--,w.usage<=0&&(ke(w.elements),f.delete(l)))}ngOnDestroy(){for(const[,{elements:l}]of[...this.inline,...this.external])ke(l);this.hosts.clear()}addHost(l){this.hosts.add(l);for(const[f,{elements:w}]of this.inline)w.push(this.addElement(l,me(f,this.doc)));for(const[f,{elements:w}]of this.external)w.push(this.addElement(l,Je(f,this.doc)))}removeHost(l){this.hosts.delete(l)}addElement(l,f){return this.nonce&&f.setAttribute("nonce",this.nonce),this.isServer&&f.setAttribute(fe,this.appId),l.appendChild(f)}static \u0275fac=function(f){return new(f||m)(F.KVO(q.q),F.KVO(F.sZ2),F.KVO(F.BIS,8),F.KVO(F.Agw))};static \u0275prov=F.jDH({token:m,factory:m.\u0275fac})}return m})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dt=/%COMP%/g,Me=new F.nKC("",{providedIn:"root",factory:()=>!0});function _t(m,h){return h.map(l=>l.replace(Dt,m))}let vt=(()=>{class m{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(l,f,w,S,O,G,ne,Se=null,Ot=null){this.eventManager=l,this.sharedStylesHost=f,this.appId=w,this.removeStylesOnCompDestroy=S,this.doc=O,this.platformId=G,this.ngZone=ne,this.nonce=Se,this.tracingService=Ot,this.platformIsServer=(0,N.Vy)(G),this.defaultRenderer=new ot(l,O,ne,this.platformIsServer,this.tracingService)}createRenderer(l,f){if(!l||!f)return this.defaultRenderer;this.platformIsServer&&f.encapsulation===F.gXe.ShadowDom&&(f={...f,encapsulation:F.gXe.Emulated});const w=this.getOrCreateRenderer(l,f);return w instanceof Xe?w.applyToHost(l):w instanceof yn&&w.applyStyles(),w}getOrCreateRenderer(l,f){const w=this.rendererByCompId;let S=w.get(f.id);if(!S){const O=this.doc,G=this.ngZone,ne=this.eventManager,Se=this.sharedStylesHost,Ot=this.removeStylesOnCompDestroy,tn=this.platformIsServer,zn=this.tracingService;switch(f.encapsulation){case F.gXe.Emulated:S=new Xe(ne,Se,f,this.appId,Ot,O,G,tn,zn);break;case F.gXe.ShadowDom:return new lt(ne,Se,l,f,O,G,this.nonce,tn,zn);default:S=new yn(ne,Se,f,Ot,O,G,tn,zn)}w.set(f.id,S)}return S}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(l){this.rendererByCompId.delete(l)}static \u0275fac=function(f){return new(f||m)(F.KVO(qe),F.KVO(He),F.KVO(F.sZ2),F.KVO(Me),F.KVO(q.q),F.KVO(F.Agw),F.KVO(F.SKi),F.KVO(F.BIS),F.KVO(F.Lf2,8))};static \u0275prov=F.jDH({token:m,factory:m.\u0275fac})}return m})();class ot{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(h,l,f,w,S){this.eventManager=h,this.doc=l,this.ngZone=f,this.platformIsServer=w,this.tracingService=S}destroy(){}destroyNode=null;createElement(h,l){return l?this.doc.createElementNS(st[l]||l,h):this.doc.createElement(h)}createComment(h){return this.doc.createComment(h)}createText(h){return this.doc.createTextNode(h)}appendChild(h,l){(Gn(h)?h.content:h).appendChild(l)}insertBefore(h,l,f){h&&(Gn(h)?h.content:h).insertBefore(l,f)}removeChild(h,l){l.remove()}selectRootElement(h,l){let f="string"==typeof h?this.doc.querySelector(h):h;if(!f)throw new F.wOt(-5104,!1);return l||(f.textContent=""),f}parentNode(h){return h.parentNode}nextSibling(h){return h.nextSibling}setAttribute(h,l,f,w){if(w){l=w+":"+l;const S=st[w];S?h.setAttributeNS(S,l,f):h.setAttribute(l,f)}else h.setAttribute(l,f)}removeAttribute(h,l,f){if(f){const w=st[f];w?h.removeAttributeNS(w,l):h.removeAttribute(`${f}:${l}`)}else h.removeAttribute(l)}addClass(h,l){h.classList.add(l)}removeClass(h,l){h.classList.remove(l)}setStyle(h,l,f,w){w&(F.czy.DashCase|F.czy.Important)?h.style.setProperty(l,f,w&F.czy.Important?"important":""):h.style[l]=f}removeStyle(h,l,f){f&F.czy.DashCase?h.style.removeProperty(l):h.style[l]=""}setProperty(h,l,f){null!=h&&(h[l]=f)}setValue(h,l){h.nodeValue=l}listen(h,l,f,w){if("string"==typeof h&&!(h=(0,T.rb)().getGlobalEventTarget(this.doc,h)))throw new F.wOt(5102,!1);let S=this.decoratePreventDefault(f);return this.tracingService?.wrapEventListener&&(S=this.tracingService.wrapEventListener(h,l,S)),this.eventManager.addEventListener(h,l,S,w)}decoratePreventDefault(h){return l=>{if("__ngUnwrap__"===l)return h;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>h(l)):h(l))&&l.preventDefault()}}}function Gn(m){return"TEMPLATE"===m.tagName&&void 0!==m.content}class lt extends ot{sharedStylesHost;hostEl;shadowRoot;constructor(h,l,f,w,S,O,G,ne,Se){super(h,S,O,ne,Se),this.sharedStylesHost=l,this.hostEl=f,this.shadowRoot=f.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Ot=w.styles;Ot=_t(w.id,Ot);for(const zn of Ot){const Yn=document.createElement("style");G&&Yn.setAttribute("nonce",G),Yn.textContent=zn,this.shadowRoot.appendChild(Yn)}const tn=w.getExternalStyles?.();if(tn)for(const zn of tn){const Yn=Je(zn,S);G&&Yn.setAttribute("nonce",G),this.shadowRoot.appendChild(Yn)}}nodeOrShadowRoot(h){return h===this.hostEl?this.shadowRoot:h}appendChild(h,l){return super.appendChild(this.nodeOrShadowRoot(h),l)}insertBefore(h,l,f){return super.insertBefore(this.nodeOrShadowRoot(h),l,f)}removeChild(h,l){return super.removeChild(null,l)}parentNode(h){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(h)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yn extends ot{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(h,l,f,w,S,O,G,ne,Se){super(h,S,O,G,ne),this.sharedStylesHost=l,this.removeStylesOnCompDestroy=w;let Ot=f.styles;this.styles=Se?_t(Se,Ot):Ot,this.styleUrls=f.getExternalStyles?.(Se)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Xe extends yn{contentAttr;hostAttr;constructor(h,l,f,w,S,O,G,ne,Se){const Ot=w+"-"+f.id;super(h,l,f,S,O,G,ne,Se,Ot),this.contentAttr=function tt(m){return"_ngcontent-%COMP%".replace(Dt,m)}(Ot),this.hostAttr=function Qe(m){return"_nghost-%COMP%".replace(Dt,m)}(Ot)}applyToHost(h){this.applyStyles(),this.setAttribute(h,this.hostAttr,"")}createElement(h,l){const f=super.createElement(h,l);return super.setAttribute(f,this.contentAttr,""),f}}class Jt extends T.qj{supportsDOMEvents=!0;static makeCurrent(){(0,T.ig)(new Jt)}onAndCancel(h,l,f,w){return h.addEventListener(l,f,w),()=>{h.removeEventListener(l,f,w)}}dispatchEvent(h,l){h.dispatchEvent(l)}remove(h){h.remove()}createElement(h,l){return(l=l||this.getDefaultDocument()).createElement(h)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(h){return h.nodeType===Node.ELEMENT_NODE}isShadowRoot(h){return h instanceof DocumentFragment}getGlobalEventTarget(h,l){return"window"===l?window:"document"===l?h:"body"===l?h.body:null}getBaseHref(h){const l=function We(){return St=St||document.head.querySelector("base"),St?St.getAttribute("href"):null}();return null==l?null:function Z(m){return new URL(m,document.baseURI).pathname}(l)}resetBaseElement(){St=null}getUserAgent(){return window.navigator.userAgent}getCookie(h){return(0,N.bS)(document.cookie,h)}}let St=null,le=(()=>{class m{build(){return new XMLHttpRequest}static \u0275fac=function(f){return new(f||m)};static \u0275prov=F.jDH({token:m,factory:m.\u0275fac})}return m})(),ge=(()=>{class m extends Ee{constructor(l){super(l)}supports(l){return!0}addEventListener(l,f,w,S){return l.addEventListener(f,w,S),()=>this.removeEventListener(l,f,w,S)}removeEventListener(l,f,w,S){return l.removeEventListener(f,w,S)}static \u0275fac=function(f){return new(f||m)(F.KVO(q.q))};static \u0275prov=F.jDH({token:m,factory:m.\u0275fac})}return m})();const te=["alt","control","meta","shift"],de={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ge={alt:m=>m.altKey,control:m=>m.ctrlKey,meta:m=>m.metaKey,shift:m=>m.shiftKey};let pt=(()=>{class m extends Ee{constructor(l){super(l)}supports(l){return null!=m.parseEventName(l)}addEventListener(l,f,w,S){const O=m.parseEventName(f),G=m.eventCallback(O.fullKey,w,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.rb)().onAndCancel(l,O.domEventName,G,S))}static parseEventName(l){const f=l.toLowerCase().split("."),w=f.shift();if(0===f.length||"keydown"!==w&&"keyup"!==w)return null;const S=m._normalizeKey(f.pop());let O="",G=f.indexOf("code");if(G>-1&&(f.splice(G,1),O="code."),te.forEach(Se=>{const Ot=f.indexOf(Se);Ot>-1&&(f.splice(Ot,1),O+=Se+".")}),O+=S,0!=f.length||0===S.length)return null;const ne={};return ne.domEventName=w,ne.fullKey=O,ne}static matchEventFullKeyCode(l,f){let w=de[l.key]||l.key,S="";return f.indexOf("code.")>-1&&(w=l.code,S="code."),!(null==w||!w)&&(w=w.toLowerCase()," "===w?w="space":"."===w&&(w="dot"),te.forEach(O=>{O!==w&&(0,Ge[O])(l)&&(S+=O+".")}),S+=w,S===f)}static eventCallback(l,f,w){return S=>{m.matchEventFullKeyCode(S,l)&&w.runGuarded(()=>f(S))}}static _normalizeKey(l){return"esc"===l?"escape":l}static \u0275fac=function(f){return new(f||m)(F.KVO(q.q))};static \u0275prov=F.jDH({token:m,factory:m.\u0275fac})}return m})();function er(m){return{appProviders:[...Rr,...m?.providers??[]],platformProviders:On}}const On=[{provide:F.Agw,useValue:N.Zn},{provide:F.PLl,useValue:function qn(){Jt.makeCurrent()},multi:!0},{provide:q.q,useFactory:function Kt(){return(0,F.TL$)(document),document}}],Rr=[{provide:F.H8p,useValue:"root"},{provide:F.zcH,useFactory:function Bn(){return new F.zcH}},{provide:Ae,useClass:ge,multi:!0,deps:[q.q]},{provide:Ae,useClass:pt,multi:!0,deps:[q.q]},vt,He,qe,{provide:F._9s,useExisting:vt},{provide:N.N0,useClass:le},[]];var ln=U(969);function on(m){return new F.wOt(3e3,!1)}function ye(m){switch(m.length){case 0:return new ln.sf;case 1:return m[0];default:return new ln.PZ(m)}}function Ue(m,h,l=new Map,f=new Map){const w=[],S=[];let O=-1,G=null;if(h.forEach(ne=>{const Se=ne.get("offset"),Ot=Se==O,tn=Ot&&G||new Map;ne.forEach((zn,Yn)=>{let Pn=Yn,Xn=zn;if("offset"!==Yn)switch(Pn=m.normalizePropertyName(Pn,w),Xn){case ln.FX:Xn=l.get(Yn);break;case ln.kp:Xn=f.get(Yn);break;default:Xn=m.normalizeStyleValue(Yn,Pn,Xn,w)}tn.set(Pn,Xn)}),Ot||S.push(tn),G=tn,O=Se}),w.length)throw function Le(){return new F.wOt(3502,!1)}();return S}function Nt(m,h,l,f){switch(h){case"start":m.onStart(()=>f(l&&Ze(l,"start",m)));break;case"done":m.onDone(()=>f(l&&Ze(l,"done",m)));break;case"destroy":m.onDestroy(()=>f(l&&Ze(l,"destroy",m)))}}function Ze(m,h,l){const S=qt(m.element,m.triggerName,m.fromState,m.toState,h||m.phaseName,l.totalTime??m.totalTime,!!l.disabled),O=m._data;return null!=O&&(S._data=O),S}function qt(m,h,l,f,w="",S=0,O){return{element:m,triggerName:h,fromState:l,toState:f,phaseName:w,totalTime:S,disabled:!!O}}function An(m,h,l){let f=m.get(h);return f||m.set(h,f=l),f}function pr(m){const h=m.indexOf(":");return[m.substring(1,h),m.slice(h+1)]}const ee=typeof document>"u"?null:document.documentElement;function se(m){const h=m.parentNode||m.host||null;return h===ee?null:h}let ut=null,wt=!1;function At(m,h){for(;h;){if(h===m)return!0;h=se(h)}return!1}function mt(m,h,l){if(l)return Array.from(m.querySelectorAll(h));const f=m.querySelector(h);return f?[f]:[]}const Ln="ng-enter",an="ng-leave",Hn="ng-trigger",sr=".ng-trigger",mi="ng-animating",Ii=".ng-animating";function ve(m){if("number"==typeof m)return m;const h=m.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:Ve(parseFloat(h[1]),h[2])}function Ve(m,h){return"s"===h?1e3*m:m}function Ke(m,h,l){return m.hasOwnProperty("duration")?m:function Lt(m,h,l){let w,S=0,O="";if("string"==typeof m){const G=m.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===G)return h.push(on()),{duration:0,delay:0,easing:""};w=Ve(parseFloat(G[1]),G[2]);const ne=G[3];null!=ne&&(S=Ve(parseFloat(ne),G[4]));const Se=G[5];Se&&(O=Se)}else w=m;if(!l){let G=!1,ne=h.length;w<0&&(h.push(function Gi(){return new F.wOt(3100,!1)}()),G=!0),S<0&&(h.push(function Mr(){return new F.wOt(3101,!1)}()),G=!0),G&&h.splice(ne,0,on())}return{duration:w,delay:S,easing:O}}(m,h,l)}function xn(m,h,l){h.forEach((f,w)=>{const S=Lo(w);l&&!l.has(w)&&l.set(w,m.style[S]),m.style[S]=f})}function Tn(m,h){h.forEach((l,f)=>{const w=Lo(f);m.style[w]=""})}function tr(m){return Array.isArray(m)?1==m.length?m[0]:(0,ln.K2)(m):m}const So=new RegExp("{{\\s*(.+?)\\s*}}","g");function Cr(m){let h=[];if("string"==typeof m){let l;for(;l=So.exec(m);)h.push(l[1]);So.lastIndex=0}return h}function so(m,h,l){const f=`${m}`,w=f.replace(So,(S,O)=>{let G=h[O];return null==G&&(l.push(function Er(){return new F.wOt(3003,!1)}()),G=""),G.toString()});return w==f?m:w}const Ui=/-+([a-z0-9])/g;function Lo(m){return m.replace(Ui,(...h)=>h[1].toUpperCase())}function K(m,h,l){switch(h.type){case ln.If.Trigger:return m.visitTrigger(h,l);case ln.If.State:return m.visitState(h,l);case ln.If.Transition:return m.visitTransition(h,l);case ln.If.Sequence:return m.visitSequence(h,l);case ln.If.Group:return m.visitGroup(h,l);case ln.If.Animate:return m.visitAnimate(h,l);case ln.If.Keyframes:return m.visitKeyframes(h,l);case ln.If.Style:return m.visitStyle(h,l);case ln.If.Reference:return m.visitReference(h,l);case ln.If.AnimateChild:return m.visitAnimateChild(h,l);case ln.If.AnimateRef:return m.visitAnimateRef(h,l);case ln.If.Query:return m.visitQuery(h,l);case ln.If.Stagger:return m.visitStagger(h,l);default:throw function Kn(){return new F.wOt(3004,!1)}()}}function J(m,h){return window.getComputedStyle(m)[h]}let Re=(()=>{class m{validateStyleProperty(l){return function ie(m){ut||(ut=function Oe(){return typeof document<"u"?document.body:null}()||{},wt=!!ut.style&&"WebkitAppearance"in ut.style);let h=!0;return ut.style&&!function De(m){return"ebkit"==m.substring(1,6)}(m)&&(h=m in ut.style,!h&&wt&&(h="Webkit"+m.charAt(0).toUpperCase()+m.slice(1)in ut.style)),h}(l)}containsElement(l,f){return At(l,f)}getParentElement(l){return se(l)}query(l,f,w){return mt(l,f,w)}computeStyle(l,f,w){return w||""}animate(l,f,w,S,O,G=[],ne){return new ln.sf(w,S)}static \u0275fac=function(f){return new(f||m)};static \u0275prov=F.jDH({token:m,factory:m.\u0275fac})}return m})();class It{static NOOP=new Re}class sn{}const ii=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class qr extends sn{normalizePropertyName(h,l){return Lo(h)}normalizeStyleValue(h,l,f,w){let S="";const O=f.toString().trim();if(ii.has(l)&&0!==f&&"0"!==f)if("number"==typeof f)S="px";else{const G=f.match(/^[+-]?[\d\.]+([a-z]*)$/);G&&0==G[1].length&&w.push(function Gt(){return new F.wOt(3005,!1)}())}return O+S}}const et=new Set(["true","1"]),Pe=new Set(["false","0"]);function dt(m,h){const l=et.has(m)||Pe.has(m),f=et.has(h)||Pe.has(h);return(w,S)=>{let O="*"==m||m==w,G="*"==h||h==S;return!O&&l&&"boolean"==typeof w&&(O=w?et.has(m):Pe.has(m)),!G&&f&&"boolean"==typeof S&&(G=S?et.has(h):Pe.has(h)),O&&G}}const gn=new RegExp("s*:selfs*,?","g");function Vn(m,h,l,f){return new fo(m).build(h,l,f)}class fo{_driver;constructor(h){this._driver=h}build(h,l,f){const w=new ss(l);return this._resetContextStyleTimingState(w),K(this,tr(h),w)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,l){let f=l.queryCount=0,w=l.depCount=0;const S=[],O=[];return"@"==h.name.charAt(0)&&l.errors.push(function ni(){return new F.wOt(3006,!1)}()),h.definitions.forEach(G=>{if(this._resetContextStyleTimingState(l),G.type==ln.If.State){const ne=G,Se=ne.name;Se.toString().split(/\s*,\s*/).forEach(Ot=>{ne.name=Ot,S.push(this.visitState(ne,l))}),ne.name=Se}else if(G.type==ln.If.Transition){const ne=this.visitTransition(G,l);f+=ne.queryCount,w+=ne.depCount,O.push(ne)}else l.errors.push(function si(){return new F.wOt(3007,!1)}())}),{type:ln.If.Trigger,name:h.name,states:S,transitions:O,queryCount:f,depCount:w,options:null}}visitState(h,l){const f=this.visitStyle(h.styles,l),w=h.options&&h.options.params||null;if(f.containsDynamicStyles){const S=new Set,O=w||{};f.styles.forEach(G=>{G instanceof Map&&G.forEach(ne=>{Cr(ne).forEach(Se=>{O.hasOwnProperty(Se)||S.add(Se)})})}),S.size&&l.errors.push(function li(){return new F.wOt(3008,!1)}(0,S.values()))}return{type:ln.If.State,name:h.name,style:f,options:w?{params:w}:null}}visitTransition(h,l){l.queryCount=0,l.depCount=0;const f=K(this,tr(h.animation),l),w=function Eo(m,h){const l=[];return"string"==typeof m?m.split(/\s*,\s*/).forEach(f=>function zo(m,h,l){if(":"==m[0]){const ne=function ae(m,h){switch(m){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,f)=>parseFloat(f)>parseFloat(l);case":decrement":return(l,f)=>parseFloat(f)<parseFloat(l);default:return h.push(function _i(){return new F.wOt(3016,!1)}()),"* => *"}}(m,l);if("function"==typeof ne)return void h.push(ne);m=ne}const f=m.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==f||f.length<4)return l.push(function bn(){return new F.wOt(3015,!1)}()),h;const w=f[1],S=f[2],O=f[3];h.push(dt(w,O)),"<"==S[0]&&("*"!=w||"*"!=O)&&h.push(dt(O,w))}(f,l,h)):l.push(m),l}(h.expr,l.errors);return{type:ln.If.Transition,matchers:w,animation:f,queryCount:l.queryCount,depCount:l.depCount,options:wo(h.options)}}visitSequence(h,l){return{type:ln.If.Sequence,steps:h.steps.map(f=>K(this,f,l)),options:wo(h.options)}}visitGroup(h,l){const f=l.currentTime;let w=0;const S=h.steps.map(O=>{l.currentTime=f;const G=K(this,O,l);return w=Math.max(w,l.currentTime),G});return l.currentTime=w,{type:ln.If.Group,steps:S,options:wo(h.options)}}visitAnimate(h,l){const f=function as(m,h){if(m.hasOwnProperty("duration"))return m;if("number"==typeof m)return Ro(Ke(m,h).duration,0,"");const l=m;if(l.split(/\s+/).some(S=>"{"==S.charAt(0)&&"{"==S.charAt(1))){const S=Ro(0,0,"");return S.dynamic=!0,S.strValue=l,S}const w=Ke(l,h);return Ro(w.duration,w.delay,w.easing)}(h.timings,l.errors);l.currentAnimateTimings=f;let w,S=h.styles?h.styles:(0,ln.iF)({});if(S.type==ln.If.Keyframes)w=this.visitKeyframes(S,l);else{let O=h.styles,G=!1;if(!O){G=!0;const Se={};f.easing&&(Se.easing=f.easing),O=(0,ln.iF)(Se)}l.currentTime+=f.duration+f.delay;const ne=this.visitStyle(O,l);ne.isEmptyStep=G,w=ne}return l.currentAnimateTimings=null,{type:ln.If.Animate,timings:f,style:w,options:null}}visitStyle(h,l){const f=this._makeStyleAst(h,l);return this._validateStyleAst(f,l),f}_makeStyleAst(h,l){const f=[],w=Array.isArray(h.styles)?h.styles:[h.styles];for(let G of w)"string"==typeof G?G===ln.kp?f.push(G):l.errors.push(new F.wOt(3002,!1)):f.push(new Map(Object.entries(G)));let S=!1,O=null;return f.forEach(G=>{if(G instanceof Map&&(G.has("easing")&&(O=G.get("easing"),G.delete("easing")),!S))for(let ne of G.values())if(ne.toString().indexOf("{{")>=0){S=!0;break}}),{type:ln.If.Style,styles:f,easing:O,offset:h.offset,containsDynamicStyles:S,options:null}}_validateStyleAst(h,l){const f=l.currentAnimateTimings;let w=l.currentTime,S=l.currentTime;f&&S>0&&(S-=f.duration+f.delay),h.styles.forEach(O=>{"string"!=typeof O&&O.forEach((G,ne)=>{const Se=l.collectedStyles.get(l.currentQuerySelector),Ot=Se.get(ne);let tn=!0;Ot&&(S!=w&&S>=Ot.startTime&&w<=Ot.endTime&&(l.errors.push(function gi(){return new F.wOt(3010,!1)}()),tn=!1),S=Ot.startTime),tn&&Se.set(ne,{startTime:S,endTime:w}),l.options&&function $r(m,h,l){const f=h.params||{},w=Cr(m);w.length&&w.forEach(S=>{f.hasOwnProperty(S)||l.push(function ct(){return new F.wOt(3001,!1)}())})}(G,l.options,l.errors)})})}visitKeyframes(h,l){const f={type:ln.If.Keyframes,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function Ar(){return new F.wOt(3011,!1)}()),f;let S=0;const O=[];let G=!1,ne=!1,Se=0;const Ot=h.steps.map(io=>{const Yi=this._makeStyleAst(io,l);let Bo=null!=Yi.offset?Yi.offset:function mn(m){if("string"==typeof m)return null;let h=null;if(Array.isArray(m))m.forEach(l=>{if(l instanceof Map&&l.has("offset")){const f=l;h=parseFloat(f.get("offset")),f.delete("offset")}});else if(m instanceof Map&&m.has("offset")){const l=m;h=parseFloat(l.get("offset")),l.delete("offset")}return h}(Yi.styles),jo=0;return null!=Bo&&(S++,jo=Yi.offset=Bo),ne=ne||jo<0||jo>1,G=G||jo<Se,Se=jo,O.push(jo),Yi});ne&&l.errors.push(function ai(){return new F.wOt(3012,!1)}()),G&&l.errors.push(function cr(){return new F.wOt(3200,!1)}());const tn=h.steps.length;let zn=0;S>0&&S<tn?l.errors.push(function ir(){return new F.wOt(3202,!1)}()):0==S&&(zn=1/(tn-1));const Yn=tn-1,Pn=l.currentTime,Xn=l.currentAnimateTimings,zr=Xn.duration;return Ot.forEach((io,Yi)=>{const Bo=zn>0?Yi==Yn?1:zn*Yi:O[Yi],jo=Bo*zr;l.currentTime=Pn+Xn.delay+jo,Xn.duration=jo,this._validateStyleAst(io,l),io.offset=Bo,f.styles.push(io)}),f}visitReference(h,l){return{type:ln.If.Reference,animation:K(this,tr(h.animation),l),options:wo(h.options)}}visitAnimateChild(h,l){return l.depCount++,{type:ln.If.AnimateChild,options:wo(h.options)}}visitAnimateRef(h,l){return{type:ln.If.AnimateRef,animation:this.visitReference(h.animation,l),options:wo(h.options)}}visitQuery(h,l){const f=l.currentQuerySelector,w=h.options||{};l.queryCount++,l.currentQuery=h;const[S,O]=function Ms(m){const h=!!m.split(/\s*,\s*/).find(l=>":self"==l);return h&&(m=m.replace(gn,"")),m=m.replace(/@\*/g,sr).replace(/@\w+/g,l=>sr+"-"+l.slice(1)).replace(/:animating/g,Ii),[m,h]}(h.selector);l.currentQuerySelector=f.length?f+" "+S:S,An(l.collectedStyles,l.currentQuerySelector,new Map);const G=K(this,tr(h.animation),l);return l.currentQuery=null,l.currentQuerySelector=f,{type:ln.If.Query,selector:S,limit:w.limit||0,optional:!!w.optional,includeSelf:O,animation:G,originalSelector:h.selector,options:wo(h.options)}}visitStagger(h,l){l.currentQuery||l.errors.push(function di(){return new F.wOt(3013,!1)}());const f="full"===h.timings?{duration:0,delay:0,easing:"full"}:Ke(h.timings,l.errors,!0);return{type:ln.If.Stagger,animation:K(this,tr(h.animation),l),timings:f,options:null}}}class ss{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(h){this.errors=h}}function wo(m){return m?(m={...m}).params&&(m.params=function Jr(m){return m?{...m}:null}(m.params)):m={},m}function Ro(m,h,l){return{duration:m,delay:h,easing:l}}function Yo(m,h,l,f,w,S,O=null,G=!1){return{type:1,element:m,keyframes:h,preStyleProps:l,postStyleProps:f,duration:w,delay:S,totalTime:w+S,easing:O,subTimeline:G}}class Po{_map=new Map;get(h){return this._map.get(h)||[]}append(h,l){let f=this._map.get(h);f||this._map.set(h,f=[]),f.push(...l)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const xr=new RegExp(":enter","g"),po=new RegExp(":leave","g");function Go(m,h,l,f,w,S=new Map,O=new Map,G,ne,Se=[]){return(new Is).buildKeyframes(m,h,l,f,w,S,O,G,ne,Se)}class Is{buildKeyframes(h,l,f,w,S,O,G,ne,Se,Ot=[]){Se=Se||new Po;const tn=new ao(h,l,Se,w,S,Ot,[]);tn.options=ne;const zn=ne.delay?ve(ne.delay):0;tn.currentTimeline.delayNextStep(zn),tn.currentTimeline.setStyles([O],null,tn.errors,ne),K(this,f,tn);const Yn=tn.timelines.filter(Pn=>Pn.containsAnimation());if(Yn.length&&G.size){let Pn;for(let Xn=Yn.length-1;Xn>=0;Xn--){const zr=Yn[Xn];if(zr.element===l){Pn=zr;break}}Pn&&!Pn.allowOnlyTimelineStyles()&&Pn.setStyles([G],null,tn.errors,ne)}return Yn.length?Yn.map(Pn=>Pn.buildKeyframes()):[Yo(l,[],[],[],0,zn,"",!1)]}visitTrigger(h,l){}visitState(h,l){}visitTransition(h,l){}visitAnimateChild(h,l){const f=l.subInstructions.get(l.element);if(f){const w=l.createSubContext(h.options),S=l.currentTimeline.currentTime,O=this._visitSubInstructions(f,w,w.options);S!=O&&l.transformIntoNewTimeline(O)}l.previousNode=h}visitAnimateRef(h,l){const f=l.createSubContext(h.options);f.transformIntoNewTimeline(),this._applyAnimationRefDelays([h.options,h.animation.options],l,f),this.visitReference(h.animation,f),l.transformIntoNewTimeline(f.currentTimeline.currentTime),l.previousNode=h}_applyAnimationRefDelays(h,l,f){for(const w of h){const S=w?.delay;if(S){const O="number"==typeof S?S:ve(so(S,w?.params??{},l.errors));f.delayNextStep(O)}}}_visitSubInstructions(h,l,f){let S=l.currentTimeline.currentTime;const O=null!=f.duration?ve(f.duration):null,G=null!=f.delay?ve(f.delay):null;return 0!==O&&h.forEach(ne=>{const Se=l.appendInstructionToTimeline(ne,O,G);S=Math.max(S,Se.duration+Se.delay)}),S}visitReference(h,l){l.updateOptions(h.options,!0),K(this,h.animation,l),l.previousNode=h}visitSequence(h,l){const f=l.subContextCount;let w=l;const S=h.options;if(S&&(S.params||S.delay)&&(w=l.createSubContext(S),w.transformIntoNewTimeline(),null!=S.delay)){w.previousNode.type==ln.If.Style&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=Wr);const O=ve(S.delay);w.delayNextStep(O)}h.steps.length&&(h.steps.forEach(O=>K(this,O,w)),w.currentTimeline.applyStylesToKeyframe(),w.subContextCount>f&&w.transformIntoNewTimeline()),l.previousNode=h}visitGroup(h,l){const f=[];let w=l.currentTimeline.currentTime;const S=h.options&&h.options.delay?ve(h.options.delay):0;h.steps.forEach(O=>{const G=l.createSubContext(h.options);S&&G.delayNextStep(S),K(this,O,G),w=Math.max(w,G.currentTimeline.currentTime),f.push(G.currentTimeline)}),f.forEach(O=>l.currentTimeline.mergeTimelineCollectedStyles(O)),l.transformIntoNewTimeline(w),l.previousNode=h}_visitTiming(h,l){if(h.dynamic){const f=h.strValue;return Ke(l.params?so(f,l.params,l.errors):f,l.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,l){const f=l.currentAnimateTimings=this._visitTiming(h.timings,l),w=l.currentTimeline;f.delay&&(l.incrementTime(f.delay),w.snapshotCurrentStyles());const S=h.style;S.type==ln.If.Keyframes?this.visitKeyframes(S,l):(l.incrementTime(f.duration),this.visitStyle(S,l),w.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=h}visitStyle(h,l){const f=l.currentTimeline,w=l.currentAnimateTimings;!w&&f.hasCurrentStyleProperties()&&f.forwardFrame();const S=w&&w.easing||h.easing;h.isEmptyStep?f.applyEmptyStep(S):f.setStyles(h.styles,S,l.errors,l.options),l.previousNode=h}visitKeyframes(h,l){const f=l.currentAnimateTimings,w=l.currentTimeline.duration,S=f.duration,G=l.createSubContext().currentTimeline;G.easing=f.easing,h.styles.forEach(ne=>{G.forwardTime((ne.offset||0)*S),G.setStyles(ne.styles,ne.easing,l.errors,l.options),G.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(G),l.transformIntoNewTimeline(w+S),l.previousNode=h}visitQuery(h,l){const f=l.currentTimeline.currentTime,w=h.options||{},S=w.delay?ve(w.delay):0;S&&(l.previousNode.type===ln.If.Style||0==f&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Wr);let O=f;const G=l.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!w.optional,l.errors);l.currentQueryTotal=G.length;let ne=null;G.forEach((Se,Ot)=>{l.currentQueryIndex=Ot;const tn=l.createSubContext(h.options,Se);S&&tn.delayNextStep(S),Se===l.element&&(ne=tn.currentTimeline),K(this,h.animation,tn),tn.currentTimeline.applyStylesToKeyframe(),O=Math.max(O,tn.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(O),ne&&(l.currentTimeline.mergeTimelineCollectedStyles(ne),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=h}visitStagger(h,l){const f=l.parentContext,w=l.currentTimeline,S=h.timings,O=Math.abs(S.duration),G=O*(l.currentQueryTotal-1);let ne=O*l.currentQueryIndex;switch(S.duration<0?"reverse":S.easing){case"reverse":ne=G-ne;break;case"full":ne=f.currentStaggerTime}const Ot=l.currentTimeline;ne&&Ot.delayNextStep(ne);const tn=Ot.currentTime;K(this,h.animation,l),l.previousNode=h,f.currentStaggerTime=w.currentTime-tn+(w.startTime-f.currentTimeline.startTime)}}const Wr={};class ao{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Wr;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(h,l,f,w,S,O,G,ne){this._driver=h,this.element=l,this.subInstructions=f,this._enterClassName=w,this._leaveClassName=S,this.errors=O,this.timelines=G,this.currentTimeline=ne||new Xr(this._driver,l,0),G.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,l){if(!h)return;const f=h;let w=this.options;null!=f.duration&&(w.duration=ve(f.duration)),null!=f.delay&&(w.delay=ve(f.delay));const S=f.params;if(S){let O=w.params;O||(O=this.options.params={}),Object.keys(S).forEach(G=>{(!l||!O.hasOwnProperty(G))&&(O[G]=so(S[G],O,this.errors))})}}_copyOptions(){const h={};if(this.options){const l=this.options.params;if(l){const f=h.params={};Object.keys(l).forEach(w=>{f[w]=l[w]})}}return h}createSubContext(h=null,l,f){const w=l||this.element,S=new ao(this._driver,w,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(w,f||0));return S.previousNode=this.previousNode,S.currentAnimateTimings=this.currentAnimateTimings,S.options=this._copyOptions(),S.updateOptions(h),S.currentQueryIndex=this.currentQueryIndex,S.currentQueryTotal=this.currentQueryTotal,S.parentContext=this,this.subContextCount++,S}transformIntoNewTimeline(h){return this.previousNode=Wr,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,l,f){const w={duration:l??h.duration,delay:this.currentTimeline.currentTime+(f??0)+h.delay,easing:""},S=new Zr(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,w,h.stretchStartingKeyframe);return this.timelines.push(S),w}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,l,f,w,S,O){let G=[];if(w&&G.push(this.element),h.length>0){h=(h=h.replace(xr,"."+this._enterClassName)).replace(po,"."+this._leaveClassName);let Se=this._driver.query(this.element,h,1!=f);0!==f&&(Se=f<0?Se.slice(Se.length+f,Se.length):Se.slice(0,f)),G.push(...Se)}return!S&&0==G.length&&O.push(function lr(){return new F.wOt(3014,!1)}()),G}}class Xr{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(h,l,f,w){this._driver=h,this.element=l,this.startTime=f,this._elementTimelineStylesLookup=w,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+h),l&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,l){return this.applyStylesToKeyframe(),new Xr(this._driver,h,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,l){this._localTimelineStyles.set(h,l),this._globalTimelineStyles.set(h,l),this._styleSummary.set(h,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[l,f]of this._globalTimelineStyles)this._backFill.set(l,f||ln.kp),this._currentKeyframe.set(l,ln.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,l,f,w){l&&this._previousKeyframe.set("easing",l);const S=w&&w.params||{},O=function Mo(m,h){const l=new Map;let f;return m.forEach(w=>{if("*"===w){f??=h.keys();for(let S of f)l.set(S,ln.kp)}else for(let[S,O]of w)l.set(S,O)}),l}(h,this._globalTimelineStyles);for(let[G,ne]of O){const Se=so(ne,S,f);this._pendingStyles.set(G,Se),this._localTimelineStyles.has(G)||this._backFill.set(G,this._globalTimelineStyles.get(G)??ln.kp),this._updateStyle(G,Se)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,l)=>{this._currentKeyframe.set(l,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,h)}))}snapshotCurrentStyles(){for(let[h,l]of this._localTimelineStyles)this._pendingStyles.set(h,l),this._updateStyle(h,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let l in this._currentKeyframe)h.push(l);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((l,f)=>{const w=this._styleSummary.get(f);(!w||l.time>w.time)&&this._updateStyle(f,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,l=new Set,f=1===this._keyframes.size&&0===this.duration;let w=[];this._keyframes.forEach((G,ne)=>{const Se=new Map([...this._backFill,...G]);Se.forEach((Ot,tn)=>{Ot===ln.FX?h.add(tn):Ot===ln.kp&&l.add(tn)}),f||Se.set("offset",ne/this.duration),w.push(Se)});const S=[...h.values()],O=[...l.values()];if(f){const G=w[0],ne=new Map(G);G.set("offset",0),ne.set("offset",1),w=[G,ne]}return Yo(this.element,w,S,O,this.duration,this.startTime,this.easing,!1)}}class Zr extends Xr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(h,l,f,w,S,O,G=!1){super(h,l,O.delay),this.keyframes=f,this.preStyleProps=w,this.postStyleProps=S,this._stretchStartingKeyframe=G,this.timings={duration:O.duration,delay:O.delay,easing:O.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:l,duration:f,easing:w}=this.timings;if(this._stretchStartingKeyframe&&l){const S=[],O=f+l,G=l/O,ne=new Map(h[0]);ne.set("offset",0),S.push(ne);const Se=new Map(h[0]);Se.set("offset",Ts(G)),S.push(Se);const Ot=h.length-1;for(let tn=1;tn<=Ot;tn++){let zn=new Map(h[tn]);const Yn=zn.get("offset");zn.set("offset",Ts((l+Yn*f)/O)),S.push(zn)}f=O,l=0,w="",h=S}return Yo(this.element,h,this.preStyleProps,this.postStyleProps,f,l,w,!0)}}function Ts(m,h=3){const l=Math.pow(10,h-1);return Math.round(m*l)/l}function No(m,h,l,f,w,S,O,G,ne,Se,Ot,tn,zn){return{type:0,element:m,triggerName:h,isRemovalTransition:w,fromState:l,fromStyles:S,toState:f,toStyles:O,timelines:G,queriedElements:ne,preStyleProps:Se,postStyleProps:Ot,totalTime:tn,errors:zn}}const hs={};class Io{_triggerName;ast;_stateStyles;constructor(h,l,f){this._triggerName=h,this.ast=l,this._stateStyles=f}match(h,l,f,w){return function js(m,h,l,f,w){return m.some(S=>S(h,l,f,w))}(this.ast.matchers,h,l,f,w)}buildStyles(h,l,f){let w=this._stateStyles.get("*");return void 0!==h&&(w=this._stateStyles.get(h?.toString())||w),w?w.buildStyles(l,f):new Map}build(h,l,f,w,S,O,G,ne,Se,Ot){const tn=[],zn=this.ast.options&&this.ast.options.params||hs,Pn=this.buildStyles(f,G&&G.params||hs,tn),Xn=ne&&ne.params||hs,zr=this.buildStyles(w,Xn,tn),io=new Set,Yi=new Map,Bo=new Map,jo="void"===w,Fc={params:xo(Xn,zn),delay:this.ast.options?.delay},ya=Ot?[]:Go(h,l,this.ast.animation,S,O,Pn,zr,Fc,Se,tn);let Zo=0;return ya.forEach(Cs=>{Zo=Math.max(Cs.duration+Cs.delay,Zo)}),tn.length?No(l,this._triggerName,f,w,jo,Pn,zr,[],[],Yi,Bo,Zo,tn):(ya.forEach(Cs=>{const Za=Cs.element,Ai=An(Yi,Za,new Set);Cs.preStyleProps.forEach(ra=>Ai.add(ra));const Lc=An(Bo,Za,new Set);Cs.postStyleProps.forEach(ra=>Lc.add(ra)),Za!==l&&io.add(Za)}),No(l,this._triggerName,f,w,jo,Pn,zr,ya,[...io.values()],Yi,Bo,Zo))}}function xo(m,h){const l={...h};return Object.entries(m).forEach(([f,w])=>{null!=w&&(l[f]=w)}),l}class kr{styles;defaultParams;normalizer;constructor(h,l,f){this.styles=h,this.defaultParams=l,this.normalizer=f}buildStyles(h,l){const f=new Map,w=xo(h,this.defaultParams);return this.styles.styles.forEach(S=>{"string"!=typeof S&&S.forEach((O,G)=>{O&&(O=so(O,w,l));const ne=this.normalizer.normalizePropertyName(G,l);O=this.normalizer.normalizeStyleValue(G,ne,O,l),f.set(G,O)})}),f}}class Xi{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(h,l,f){this.name=h,this.ast=l,this._normalizer=f,l.states.forEach(w=>{this.states.set(w.name,new kr(w.style,w.options&&w.options.params||{},f))}),Ns(this.states,"true","1"),Ns(this.states,"false","0"),l.transitions.forEach(w=>{this.transitionFactories.push(new Io(h,w,this.states))}),this.fallbackTransition=function na(m,h){return new Io(m,{type:ln.If.Transition,animation:{type:ln.If.Sequence,steps:[],options:null},matchers:[(O,G)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,l,f,w){return this.transitionFactories.find(O=>O.match(h,l,f,w))||null}matchStyles(h,l,f){return this.fallbackTransition.buildStyles(h,l,f)}}function Ns(m,h,l){m.has(h)?m.has(l)||m.set(l,m.get(h)):m.has(l)&&m.set(h,m.get(l))}const Da=new Po;class Vo{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(h,l,f){this.bodyNode=h,this._driver=l,this._normalizer=f}register(h,l){const f=[],S=Vn(this._driver,l,f,[]);if(f.length)throw function br(){return new F.wOt(3503,!1)}();this._animations.set(h,S)}_buildPlayer(h,l,f){const w=h.element,S=Ue(this._normalizer,h.keyframes,l,f);return this._driver.animate(w,S,h.duration,h.delay,h.easing,[],!0)}create(h,l,f={}){const w=[],S=this._animations.get(h);let O;const G=new Map;if(S?(O=Go(this._driver,l,S,Ln,an,new Map,new Map,f,Da,w),O.forEach(Ot=>{const tn=An(G,Ot.element,new Map);Ot.postStyleProps.forEach(zn=>tn.set(zn,null))})):(w.push(function qi(){return new F.wOt(3300,!1)}()),O=[]),w.length)throw function ri(){return new F.wOt(3504,!1)}();G.forEach((Ot,tn)=>{Ot.forEach((zn,Yn)=>{Ot.set(Yn,this._driver.computeStyle(tn,Yn,ln.kp))})});const Se=ye(O.map(Ot=>{const tn=G.get(Ot.element);return this._buildPlayer(Ot,new Map,tn)}));return this._playersById.set(h,Se),Se.onDestroy(()=>this.destroy(h)),this.players.push(Se),Se}destroy(h){const l=this._getPlayer(h);l.destroy(),this._playersById.delete(h);const f=this.players.indexOf(l);f>=0&&this.players.splice(f,1)}_getPlayer(h){const l=this._playersById.get(h);if(!l)throw function Ni(){return new F.wOt(3301,!1)}();return l}listen(h,l,f,w){const S=qt(l,"","","");return Nt(this._getPlayer(h),f,S,w),()=>{}}command(h,l,f,w){if("register"==f)return void this.register(h,w[0]);if("create"==f)return void this.create(h,l,w[0]||{});const S=this._getPlayer(h);switch(f){case"play":S.play();break;case"pause":S.pause();break;case"reset":S.reset();break;case"restart":S.restart();break;case"finish":S.finish();break;case"init":S.init();break;case"setPosition":S.setPosition(parseFloat(w[0]));break;case"destroy":this.destroy(h)}}}const _r="ng-animate-queued",z="ng-animate-disabled",Rt=[],Wt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dn="__ng_removed";class hr{namespaceId;value;options;get params(){return this.options.params}constructor(h,l=""){this.namespaceId=l;const f=h&&h.hasOwnProperty("value");if(this.value=function ei(m){return m??null}(f?h.value:h),f){const{value:S,...O}=h;this.options=O}else this.options={};this.options.params||(this.options.params={})}absorbOptions(h){const l=h.params;if(l){const f=this.options.params;Object.keys(l).forEach(w=>{null==f[w]&&(f[w]=l[w])})}}}const Qn="void",Lr=new hr(Qn);class yi{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(h,l,f){this.id=h,this.hostElement=l,this._engine=f,this._hostClassName="ng-tns-"+h,ti(l,this._hostClassName)}listen(h,l,f,w){if(!this._triggers.has(l))throw function pn(){return new F.wOt(3302,!1)}();if(null==f||0==f.length)throw function fr(){return new F.wOt(3303,!1)}();if(!function co(m){return"start"==m||"done"==m}(f))throw function wr(){return new F.wOt(3400,!1)}();const S=An(this._elementListeners,h,[]),O={name:l,phase:f,callback:w};S.push(O);const G=An(this._engine.statesByElement,h,new Map);return G.has(l)||(ti(h,Hn),ti(h,Hn+"-"+l),G.set(l,Lr)),()=>{this._engine.afterFlush(()=>{const ne=S.indexOf(O);ne>=0&&S.splice(ne,1),this._triggers.has(l)||G.delete(l)})}}register(h,l){return!this._triggers.has(h)&&(this._triggers.set(h,l),!0)}_getTrigger(h){const l=this._triggers.get(h);if(!l)throw function xi(){return new F.wOt(3401,!1)}();return l}trigger(h,l,f,w=!0){const S=this._getTrigger(l),O=new Fi(this.id,l,h);let G=this._engine.statesByElement.get(h);G||(ti(h,Hn),ti(h,Hn+"-"+l),this._engine.statesByElement.set(h,G=new Map));let ne=G.get(l);const Se=new hr(f,this.id);if(!(f&&f.hasOwnProperty("value"))&&ne&&Se.absorbOptions(ne.options),G.set(l,Se),ne||(ne=Lr),Se.value!==Qn&&ne.value===Se.value){if(!function Aa(m,h){const l=Object.keys(m),f=Object.keys(h);if(l.length!=f.length)return!1;for(let w=0;w<l.length;w++){const S=l[w];if(!h.hasOwnProperty(S)||m[S]!==h[S])return!1}return!0}(ne.params,Se.params)){const Xn=[],zr=S.matchStyles(ne.value,ne.params,Xn),io=S.matchStyles(Se.value,Se.params,Xn);Xn.length?this._engine.reportError(Xn):this._engine.afterFlush(()=>{Tn(h,zr),xn(h,io)})}return}const zn=An(this._engine.playersByElement,h,[]);zn.forEach(Xn=>{Xn.namespaceId==this.id&&Xn.triggerName==l&&Xn.queued&&Xn.destroy()});let Yn=S.matchTransition(ne.value,Se.value,h,Se.params),Pn=!1;if(!Yn){if(!w)return;Yn=S.fallbackTransition,Pn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:l,transition:Yn,fromState:ne,toState:Se,player:O,isFallbackTransition:Pn}),Pn||(ti(h,_r),O.onStart(()=>{go(h,_r)})),O.onDone(()=>{let Xn=this.players.indexOf(O);Xn>=0&&this.players.splice(Xn,1);const zr=this._engine.playersByElement.get(h);if(zr){let io=zr.indexOf(O);io>=0&&zr.splice(io,1)}}),this.players.push(O),zn.push(O),O}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(l=>l.delete(h)),this._elementListeners.forEach((l,f)=>{this._elementListeners.set(f,l.filter(w=>w.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const l=this._engine.playersByElement.get(h);l&&(l.forEach(f=>f.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,l){const f=this._engine.driver.query(h,sr,!0);f.forEach(w=>{if(w[dn])return;const S=this._engine.fetchNamespacesByElement(w);S.size?S.forEach(O=>O.triggerLeaveAnimation(w,l,!1,!0)):this.clearElementCache(w)}),this._engine.afterFlushAnimationsDone(()=>f.forEach(w=>this.clearElementCache(w)))}triggerLeaveAnimation(h,l,f,w){const S=this._engine.statesByElement.get(h),O=new Map;if(S){const G=[];if(S.forEach((ne,Se)=>{if(O.set(Se,ne.value),this._triggers.has(Se)){const Ot=this.trigger(h,Se,Qn,w);Ot&&G.push(Ot)}}),G.length)return this._engine.markElementAsRemoved(this.id,h,!0,l,O),f&&ye(G).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const l=this._elementListeners.get(h),f=this._engine.statesByElement.get(h);if(l&&f){const w=new Set;l.forEach(S=>{const O=S.name;if(w.has(O))return;w.add(O);const ne=this._triggers.get(O).fallbackTransition,Se=f.get(O)||Lr,Ot=new hr(Qn),tn=new Fi(this.id,O,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:O,transition:ne,fromState:Se,toState:Ot,player:tn,isFallbackTransition:!0})})}}removeNode(h,l){const f=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,l),this.triggerLeaveAnimation(h,l,!0))return;let w=!1;if(f.totalAnimations){const S=f.players.length?f.playersByQueriedElement.get(h):[];if(S&&S.length)w=!0;else{let O=h;for(;O=O.parentNode;)if(f.statesByElement.get(O)){w=!0;break}}}if(this.prepareLeaveAnimationListeners(h),w)f.markElementAsRemoved(this.id,h,!1,l);else{const S=h[dn];(!S||S===Wt)&&(f.afterFlush(()=>this.clearElementCache(h)),f.destroyInnerAnimations(h),f._onRemovalComplete(h,l))}}insertNode(h,l){ti(h,this._hostClassName)}drainQueuedTransitions(h){const l=[];return this._queue.forEach(f=>{const w=f.player;if(w.destroyed)return;const S=f.element,O=this._elementListeners.get(S);O&&O.forEach(G=>{if(G.name==f.triggerName){const ne=qt(S,f.triggerName,f.fromState.value,f.toState.value);ne._data=h,Nt(f.player,G.phase,ne,G.callback)}}),w.markedForDestroy?this._engine.afterFlush(()=>{w.destroy()}):l.push(f)}),this._queue=[],l.sort((f,w)=>{const S=f.transition.ast.depCount,O=w.transition.ast.depCount;return 0==S||0==O?S-O:this._engine.driver.containsElement(f.element,w.element)?1:-1})}destroy(h){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}}class fi{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(h,l)=>{};_onRemovalComplete(h,l){this.onRemovalComplete(h,l)}constructor(h,l,f){this.bodyNode=h,this.driver=l,this._normalizer=f}get queuedPlayers(){const h=[];return this._namespaceList.forEach(l=>{l.players.forEach(f=>{f.queued&&h.push(f)})}),h}createNamespace(h,l){const f=new yi(h,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(f,l):(this.newHostElements.set(l,f),this.collectEnterElement(l)),this._namespaceLookup[h]=f}_balanceNamespaceList(h,l){const f=this._namespaceList,w=this.namespacesByHostElement;if(f.length-1>=0){let O=!1,G=this.driver.getParentElement(l);for(;G;){const ne=w.get(G);if(ne){const Se=f.indexOf(ne);f.splice(Se+1,0,h),O=!0;break}G=this.driver.getParentElement(G)}O||f.unshift(h)}else f.push(h);return w.set(l,h),h}register(h,l){let f=this._namespaceLookup[h];return f||(f=this.createNamespace(h,l)),f}registerTrigger(h,l,f){let w=this._namespaceLookup[h];w&&w.register(l,f)&&this.totalAnimations++}destroy(h,l){h&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const f=this._fetchNamespace(h);this.namespacesByHostElement.delete(f.hostElement);const w=this._namespaceList.indexOf(f);w>=0&&this._namespaceList.splice(w,1),f.destroy(l),delete this._namespaceLookup[h]}))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const l=new Set,f=this.statesByElement.get(h);if(f)for(let w of f.values())if(w.namespaceId){const S=this._fetchNamespace(w.namespaceId);S&&l.add(S)}return l}trigger(h,l,f,w){if(Ri(l)){const S=this._fetchNamespace(h);if(S)return S.trigger(l,f,w),!0}return!1}insertNode(h,l,f,w){if(!Ri(l))return;const S=l[dn];if(S&&S.setForRemoval){S.setForRemoval=!1,S.setForMove=!0;const O=this.collectedLeaveElements.indexOf(l);O>=0&&this.collectedLeaveElements.splice(O,1)}if(h){const O=this._fetchNamespace(h);O&&O.insertNode(l,f)}w&&this.collectEnterElement(l)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,l){l?this.disabledNodes.has(h)||(this.disabledNodes.add(h),ti(h,z)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),go(h,z))}removeNode(h,l,f){if(Ri(l)){const w=h?this._fetchNamespace(h):null;w?w.removeNode(l,f):this.markElementAsRemoved(h,l,!1,f);const S=this.namespacesByHostElement.get(l);S&&S.id!==h&&S.removeNode(l,f)}else this._onRemovalComplete(l,f)}markElementAsRemoved(h,l,f,w,S){this.collectedLeaveElements.push(l),l[dn]={namespaceId:h,setForRemoval:w,hasAnimation:f,removedBeforeQueried:!1,previousTriggersValues:S}}listen(h,l,f,w,S){return Ri(l)?this._fetchNamespace(h).listen(l,f,w,S):()=>{}}_buildInstruction(h,l,f,w,S){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,f,w,h.fromState.options,h.toState.options,l,S)}destroyInnerAnimations(h){let l=this.driver.query(h,sr,!0);l.forEach(f=>this.destroyActiveAnimationsForElement(f)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(h,Ii,!0),l.forEach(f=>this.finishActiveQueriedAnimationOnElement(f)))}destroyActiveAnimationsForElement(h){const l=this.playersByElement.get(h);l&&l.forEach(f=>{f.queued?f.markedForDestroy=!0:f.destroy()})}finishActiveQueriedAnimationOnElement(h){const l=this.playersByQueriedElement.get(h);l&&l.forEach(f=>f.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return ye(this.players).onDone(()=>h());h()})}processLeaveNode(h){const l=h[dn];if(l&&l.setForRemoval){if(h[dn]=Wt,l.namespaceId){this.destroyInnerAnimations(h);const f=this._fetchNamespace(l.namespaceId);f&&f.clearElementCache(h)}this._onRemovalComplete(h,l.setForRemoval)}h.classList?.contains(z)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(f=>{this.markElementAsDisabled(f,!1)})}flush(h=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((f,w)=>this._balanceNamespaceList(f,w)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let f=0;f<this.collectedEnterElements.length;f++)ti(this.collectedEnterElements[f],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const f=[];try{l=this._flushAnimations(f,h)}finally{for(let w=0;w<f.length;w++)f[w]()}}else for(let f=0;f<this.collectedLeaveElements.length;f++)this.processLeaveNode(this.collectedLeaveElements[f]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(f=>f()),this._flushFns=[],this._whenQuietFns.length){const f=this._whenQuietFns;this._whenQuietFns=[],l.length?ye(l).onDone(()=>{f.forEach(w=>w())}):f.forEach(w=>w())}}reportError(h){throw function ki(){return new F.wOt(3402,!1)}()}_flushAnimations(h,l){const f=new Po,w=[],S=new Map,O=[],G=new Map,ne=new Map,Se=new Map,Ot=new Set;this.disabledNodes.forEach(Wn=>{Ot.add(Wn);const _n=this.driver.query(Wn,".ng-animate-queued",!0);for(let or=0;or<_n.length;or++)Ot.add(_n[or])});const tn=this.bodyNode,zn=Array.from(this.statesByElement.keys()),Yn=To(zn,this.collectedEnterElements),Pn=new Map;let Xn=0;Yn.forEach((Wn,_n)=>{const or=Ln+Xn++;Pn.set(_n,or),Wn.forEach(Dr=>ti(Dr,or))});const zr=[],io=new Set,Yi=new Set;for(let Wn=0;Wn<this.collectedLeaveElements.length;Wn++){const _n=this.collectedLeaveElements[Wn],or=_n[dn];or&&or.setForRemoval&&(zr.push(_n),io.add(_n),or.hasAnimation?this.driver.query(_n,".ng-star-inserted",!0).forEach(Dr=>io.add(Dr)):Yi.add(_n))}const Bo=new Map,jo=To(zn,Array.from(io));jo.forEach((Wn,_n)=>{const or=an+Xn++;Bo.set(_n,or),Wn.forEach(Dr=>ti(Dr,or))}),h.push(()=>{Yn.forEach((Wn,_n)=>{const or=Pn.get(_n);Wn.forEach(Dr=>go(Dr,or))}),jo.forEach((Wn,_n)=>{const or=Bo.get(_n);Wn.forEach(Dr=>go(Dr,or))}),zr.forEach(Wn=>{this.processLeaveNode(Wn)})});const Fc=[],ya=[];for(let Wn=this._namespaceList.length-1;Wn>=0;Wn--)this._namespaceList[Wn].drainQueuedTransitions(l).forEach(or=>{const Dr=or.player,ur=or.element;if(Fc.push(Dr),this.collectedEnterElements.length){const mo=ur[dn];if(mo&&mo.setForMove){if(mo.previousTriggersValues&&mo.previousTriggersValues.has(or.triggerName)){const Ao=mo.previousTriggersValues.get(or.triggerName),Ss=this.statesByElement.get(or.element);if(Ss&&Ss.has(or.triggerName)){const Ji=Ss.get(or.triggerName);Ji.value=Ao,Ss.set(or.triggerName,Ji)}}return void Dr.destroy()}}const Os=!tn||!this.driver.containsElement(tn,ur),$o=Bo.get(ur),Wi=Pn.get(ur),Vi=this._buildInstruction(or,f,Wi,$o,Os);if(Vi.errors&&Vi.errors.length)return void ya.push(Vi);if(Os)return Dr.onStart(()=>Tn(ur,Vi.fromStyles)),Dr.onDestroy(()=>xn(ur,Vi.toStyles)),void w.push(Dr);if(or.isFallbackTransition)return Dr.onStart(()=>Tn(ur,Vi.fromStyles)),Dr.onDestroy(()=>xn(ur,Vi.toStyles)),void w.push(Dr);const ia=[];Vi.timelines.forEach(mo=>{mo.stretchStartingKeyframe=!0,this.disabledNodes.has(mo.element)||ia.push(mo)}),Vi.timelines=ia,f.append(ur,Vi.timelines),O.push({instruction:Vi,player:Dr,element:ur}),Vi.queriedElements.forEach(mo=>An(G,mo,[]).push(Dr)),Vi.preStyleProps.forEach((mo,Ao)=>{if(mo.size){let Ss=ne.get(Ao);Ss||ne.set(Ao,Ss=new Set),mo.forEach((Ji,Kr)=>Ss.add(Kr))}}),Vi.postStyleProps.forEach((mo,Ao)=>{let Ss=Se.get(Ao);Ss||Se.set(Ao,Ss=new Set),mo.forEach((Ji,Kr)=>Ss.add(Kr))})});if(ya.length){const Wn=[];ya.forEach(_n=>{Wn.push(function Si(){return new F.wOt(3505,!1)}())}),Fc.forEach(_n=>_n.destroy()),this.reportError(Wn)}const Zo=new Map,Cs=new Map;O.forEach(Wn=>{const _n=Wn.element;f.has(_n)&&(Cs.set(_n,_n),this._beforeAnimationBuild(Wn.player.namespaceId,Wn.instruction,Zo))}),w.forEach(Wn=>{const _n=Wn.element;this._getPreviousPlayers(_n,!1,Wn.namespaceId,Wn.triggerName,null).forEach(Dr=>{An(Zo,_n,[]).push(Dr),Dr.destroy()})});const Za=zr.filter(Wn=>$s(Wn,ne,Se)),Ai=new Map;bi(Ai,this.driver,Yi,Se,ln.kp).forEach(Wn=>{$s(Wn,ne,Se)&&Za.push(Wn)});const ra=new Map;Yn.forEach((Wn,_n)=>{bi(ra,this.driver,new Set(Wn),ne,ln.FX)}),Za.forEach(Wn=>{const _n=Ai.get(Wn),or=ra.get(Wn);Ai.set(Wn,new Map([..._n?.entries()??[],...or?.entries()??[]]))});const Ya=[],xl=[],zi={};O.forEach(Wn=>{const{element:_n,player:or,instruction:Dr}=Wn;if(f.has(_n)){if(Ot.has(_n))return or.onDestroy(()=>xn(_n,Dr.toStyles)),or.disabled=!0,or.overrideTotalTime(Dr.totalTime),void w.push(or);let ur=zi;if(Cs.size>1){let $o=_n;const Wi=[];for(;$o=$o.parentNode;){const Vi=Cs.get($o);if(Vi){ur=Vi;break}Wi.push($o)}Wi.forEach(Vi=>Cs.set(Vi,ur))}const Os=this._buildAnimation(or.namespaceId,Dr,Zo,S,ra,Ai);if(or.setRealPlayer(Os),ur===zi)Ya.push(or);else{const $o=this.playersByElement.get(ur);$o&&$o.length&&(or.parentPlayer=ye($o)),w.push(or)}}else Tn(_n,Dr.fromStyles),or.onDestroy(()=>xn(_n,Dr.toStyles)),xl.push(or),Ot.has(_n)&&w.push(or)}),xl.forEach(Wn=>{const _n=S.get(Wn.element);if(_n&&_n.length){const or=ye(_n);Wn.setRealPlayer(or)}}),w.forEach(Wn=>{Wn.parentPlayer?Wn.syncPlayerEvents(Wn.parentPlayer):Wn.destroy()});for(let Wn=0;Wn<zr.length;Wn++){const _n=zr[Wn],or=_n[dn];if(go(_n,an),or&&or.hasAnimation)continue;let Dr=[];if(G.size){let Os=G.get(_n);Os&&Os.length&&Dr.push(...Os);let $o=this.driver.query(_n,Ii,!0);for(let Wi=0;Wi<$o.length;Wi++){let Vi=G.get($o[Wi]);Vi&&Vi.length&&Dr.push(...Vi)}}const ur=Dr.filter(Os=>!Os.destroyed);ur.length?Ko(this,_n,ur):this.processLeaveNode(_n)}return zr.length=0,Ya.forEach(Wn=>{this.players.push(Wn),Wn.onDone(()=>{Wn.destroy();const _n=this.players.indexOf(Wn);this.players.splice(_n,1)}),Wn.play()}),Ya}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,l,f,w,S){let O=[];if(l){const G=this.playersByQueriedElement.get(h);G&&(O=G)}else{const G=this.playersByElement.get(h);if(G){const ne=!S||S==Qn;G.forEach(Se=>{Se.queued||!ne&&Se.triggerName!=w||O.push(Se)})}}return(f||w)&&(O=O.filter(G=>!(f&&f!=G.namespaceId||w&&w!=G.triggerName))),O}_beforeAnimationBuild(h,l,f){const S=l.element,O=l.isRemovalTransition?void 0:h,G=l.isRemovalTransition?void 0:l.triggerName;for(const ne of l.timelines){const Se=ne.element,Ot=Se!==S,tn=An(f,Se,[]);this._getPreviousPlayers(Se,Ot,O,G,l.toState).forEach(Yn=>{const Pn=Yn.getRealPlayer();Pn.beforeDestroy&&Pn.beforeDestroy(),Yn.destroy(),tn.push(Yn)})}Tn(S,l.fromStyles)}_buildAnimation(h,l,f,w,S,O){const G=l.triggerName,ne=l.element,Se=[],Ot=new Set,tn=new Set,zn=l.timelines.map(Pn=>{const Xn=Pn.element;Ot.add(Xn);const zr=Xn[dn];if(zr&&zr.removedBeforeQueried)return new ln.sf(Pn.duration,Pn.delay);const io=Xn!==ne,Yi=function fs(m){const h=[];return da(m,h),h}((f.get(Xn)||Rt).map(Zo=>Zo.getRealPlayer())).filter(Zo=>!!Zo.element&&Zo.element===Xn),Bo=S.get(Xn),jo=O.get(Xn),Fc=Ue(this._normalizer,Pn.keyframes,Bo,jo),ya=this._buildPlayer(Pn,Fc,Yi);if(Pn.subTimeline&&w&&tn.add(Xn),io){const Zo=new Fi(h,G,Xn);Zo.setRealPlayer(ya),Se.push(Zo)}return ya});Se.forEach(Pn=>{An(this.playersByQueriedElement,Pn.element,[]).push(Pn),Pn.onDone(()=>function Ti(m,h,l){let f=m.get(h);if(f){if(f.length){const w=f.indexOf(l);f.splice(w,1)}0==f.length&&m.delete(h)}return f}(this.playersByQueriedElement,Pn.element,Pn))}),Ot.forEach(Pn=>ti(Pn,mi));const Yn=ye(zn);return Yn.onDestroy(()=>{Ot.forEach(Pn=>go(Pn,mi)),xn(ne,l.toStyles)}),tn.forEach(Pn=>{An(w,Pn,[]).push(Yn)}),Yn}_buildPlayer(h,l,f){return l.length>0?this.driver.animate(h.element,l,h.duration,h.delay,h.easing,f):new ln.sf(h.duration,h.delay)}}class Fi{namespaceId;triggerName;element;_player=new ln.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(h,l,f){this.namespaceId=h,this.triggerName=l,this.element=f}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((l,f)=>{l.forEach(w=>Nt(h,f,void 0,w))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const l=this._player;l.triggerCallback&&h.onStart(()=>l.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,l){An(this._queuedCallbacks,h,[]).push(l)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const l=this._player;l.triggerCallback&&l.triggerCallback(h)}}function Ri(m){return m&&1===m.nodeType}function pi(m,h){const l=m.style.display;return m.style.display=h??"none",l}function bi(m,h,l,f,w){const S=[];l.forEach(ne=>S.push(pi(ne)));const O=[];f.forEach((ne,Se)=>{const Ot=new Map;ne.forEach(tn=>{const zn=h.computeStyle(Se,tn,w);Ot.set(tn,zn),(!zn||0==zn.length)&&(Se[dn]=wn,O.push(Se))}),m.set(Se,Ot)});let G=0;return l.forEach(ne=>pi(ne,S[G++])),O}function To(m,h){const l=new Map;if(m.forEach(G=>l.set(G,[])),0==h.length)return l;const w=new Set(h),S=new Map;function O(G){if(!G)return 1;let ne=S.get(G);if(ne)return ne;const Se=G.parentNode;return ne=l.has(Se)?Se:w.has(Se)?1:O(Se),S.set(G,ne),ne}return h.forEach(G=>{const ne=O(G);1!==ne&&l.get(ne).push(G)}),l}function ti(m,h){m.classList?.add(h)}function go(m,h){m.classList?.remove(h)}function Ko(m,h,l){ye(l).onDone(()=>m.processLeaveNode(h))}function da(m,h){for(let l=0;l<m.length;l++){const f=m[l];f instanceof ln.PZ?da(f.players,h):h.push(f)}}function $s(m,h,l){const f=l.get(m);if(!f)return!1;let w=h.get(m);return w?f.forEach(S=>w.add(S)):h.set(m,f),l.delete(m),!0}class ps{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(h,l)=>{};constructor(h,l,f){this._driver=l,this._normalizer=f,this._transitionEngine=new fi(h.body,l,f),this._timelineEngine=new Vo(h.body,l,f),this._transitionEngine.onRemovalComplete=(w,S)=>this.onRemovalComplete(w,S)}registerTrigger(h,l,f,w,S){const O=h+"-"+w;let G=this._triggerCache[O];if(!G){const ne=[],Ot=Vn(this._driver,S,ne,[]);if(ne.length)throw function Ki(){return new F.wOt(3404,!1)}();G=function yr(m,h,l){return new Xi(m,h,l)}(w,Ot,this._normalizer),this._triggerCache[O]=G}this._transitionEngine.registerTrigger(l,w,G)}register(h,l){this._transitionEngine.register(h,l)}destroy(h,l){this._transitionEngine.destroy(h,l)}onInsert(h,l,f,w){this._transitionEngine.insertNode(h,l,f,w)}onRemove(h,l,f){this._transitionEngine.removeNode(h,l,f)}disableAnimations(h,l){this._transitionEngine.markElementAsDisabled(h,l)}process(h,l,f,w){if("@"==f.charAt(0)){const[S,O]=pr(f);this._timelineEngine.command(S,l,O,w)}else this._transitionEngine.trigger(h,l,f,w)}listen(h,l,f,w,S){if("@"==f.charAt(0)){const[O,G]=pr(f);return this._timelineEngine.listen(O,l,G,S)}return this._transitionEngine.listen(h,l,f,w,S)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(h){this._transitionEngine.afterFlushAnimationsDone(h)}}let ha=(()=>{class m{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(l,f,w){this._element=l,this._startStyles=f,this._endStyles=w;let S=m.initialStylesByElement.get(l);S||m.initialStylesByElement.set(l,S=new Map),this._initialStyles=S}start(){this._state<1&&(this._startStyles&&xn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xn(this._element,this._initialStyles),this._endStyles&&(xn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(m.initialStylesByElement.delete(this._element),this._startStyles&&(Tn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tn(this._element,this._endStyles),this._endStyles=null),xn(this._element,this._initialStyles),this._state=3)}}return m})();function Hs(m){let h=null;return m.forEach((l,f)=>{(function ro(m){return"display"===m||"position"===m})(f)&&(h=h||new Map,h.set(f,l))}),h}class xs{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(h,l,f,w){this.element=h,this.keyframes=l,this.options=f,this._specialStyles=w,this._duration=f.duration,this._delay=f.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const l=[];return h.forEach(f=>{l.push(Object.fromEntries(f))}),l}_triggerWebAnimation(h,l,f){return h.animate(this._convertKeyframesToObject(l),f)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((f,w)=>{"offset"!==w&&h.set(w,this._finished?f:J(this.element,w))}),this.currentSnapshot=h}triggerCallback(h){const l="start"===h?this._onStartFns:this._onDoneFns;l.forEach(f=>f()),l.length=0}}class ci{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}containsElement(h,l){return At(h,l)}getParentElement(h){return se(h)}query(h,l,f){return mt(h,l,f)}computeStyle(h,l,f){return J(h,l)}animate(h,l,f,w,S,O=[]){const ne={duration:f,delay:w,fill:0==w?"both":"forwards"};S&&(ne.easing=S);const Se=new Map,Ot=O.filter(Yn=>Yn instanceof xs);(function B(m,h){return 0===m||0===h})(f,w)&&Ot.forEach(Yn=>{Yn.currentSnapshot.forEach((Pn,Xn)=>Se.set(Xn,Pn))});let tn=function $t(m){return m.length?m[0]instanceof Map?m:m.map(h=>new Map(Object.entries(h))):[]}(l).map(Yn=>new Map(Yn));tn=function he(m,h,l){if(l.size&&h.length){let f=h[0],w=[];if(l.forEach((S,O)=>{f.has(O)||w.push(O),f.set(O,S)}),w.length)for(let S=1;S<h.length;S++){let O=h[S];w.forEach(G=>O.set(G,J(m,G)))}}return h}(h,tn,Se);const zn=function Fa(m,h){let l=null,f=null;return Array.isArray(h)&&h.length?(l=Hs(h[0]),h.length>1&&(f=Hs(h[h.length-1]))):h instanceof Map&&(l=Hs(h)),l||f?new ha(m,l,f):null}(h,tn);return new xs(h,tn,ne,zn)}}const Ws="@.disabled";class vi{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(h,l,f,w){this.namespaceId=h,this.delegate=l,this.engine=f,this._onDestroy=w}get data(){return this.delegate.data}destroyNode(h){this.delegate.destroyNode?.(h)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(h,l){return this.delegate.createElement(h,l)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,l){this.delegate.appendChild(h,l),this.engine.onInsert(this.namespaceId,l,h,!1)}insertBefore(h,l,f,w=!0){this.delegate.insertBefore(h,l,f),this.engine.onInsert(this.namespaceId,l,h,w)}removeChild(h,l,f){this.parentNode(l)&&this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(h,l){return this.delegate.selectRootElement(h,l)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,l,f,w){this.delegate.setAttribute(h,l,f,w)}removeAttribute(h,l,f){this.delegate.removeAttribute(h,l,f)}addClass(h,l){this.delegate.addClass(h,l)}removeClass(h,l){this.delegate.removeClass(h,l)}setStyle(h,l,f,w){this.delegate.setStyle(h,l,f,w)}removeStyle(h,l,f){this.delegate.removeStyle(h,l,f)}setProperty(h,l,f){"@"==l.charAt(0)&&l==Ws?this.disableAnimations(h,!!f):this.delegate.setProperty(h,l,f)}setValue(h,l){this.delegate.setValue(h,l)}listen(h,l,f,w){return this.delegate.listen(h,l,f,w)}disableAnimations(h,l){this.engine.disableAnimations(h,l)}}class fa extends vi{factory;constructor(h,l,f,w,S){super(l,f,w,S),this.factory=h,this.namespaceId=l}setProperty(h,l,f){"@"==l.charAt(0)?"."==l.charAt(1)&&l==Ws?this.disableAnimations(h,f=void 0===f||!!f):this.engine.process(this.namespaceId,h,l.slice(1),f):this.delegate.setProperty(h,l,f)}listen(h,l,f,w){if("@"==l.charAt(0)){const S=function Hr(m){switch(m){case"body":return document.body;case"document":return document;case"window":return window;default:return m}}(h);let O=l.slice(1),G="";return"@"!=O.charAt(0)&&([O,G]=function Vr(m){const h=m.indexOf(".");return[m.substring(0,h),m.slice(h+1)]}(O)),this.engine.listen(this.namespaceId,S,O,G,ne=>{this.factory.scheduleListenerCallback(ne._data||-1,f,ne)})}return this.delegate.listen(h,l,f,w)}}class Ca{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(h,l,f){this.delegate=h,this.engine=l,this._zone=f,l.onRemovalComplete=(w,S)=>{S?.removeChild(null,w)}}createRenderer(h,l){const w=this.delegate.createRenderer(h,l);if(!h||!l?.data?.animation){const Se=this._rendererCache;let Ot=Se.get(w);return Ot||(Ot=new vi("",w,this.engine,()=>Se.delete(w)),Se.set(w,Ot)),Ot}const S=l.id,O=l.id+"-"+this._currentId;this._currentId++,this.engine.register(O,h);const G=Se=>{Array.isArray(Se)?Se.forEach(G):this.engine.registerTrigger(S,O,h,Se.name,Se)};return l.data.animation.forEach(G),new fa(this,O,w,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(h,l,f){if(h>=0&&h<this._microtaskId)return void this._zone.run(()=>l(f));const w=this._animationCallbacksBuffer;0==w.length&&queueMicrotask(()=>{this._zone.run(()=>{w.forEach(S=>{const[O,G]=S;O(G)}),this._animationCallbacksBuffer=[]})}),w.push([l,f])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(h){this.engine.flush(),this.delegate.componentReplaced?.(h)}}const Qa=[{provide:sn,useFactory:function qa(){return new qr}},{provide:ps,useClass:(()=>{class m extends ps{constructor(l,f,w){super(l,f,w)}ngOnDestroy(){this.flush()}static \u0275fac=function(f){return new(f||m)(F.KVO(q.q),F.KVO(It),F.KVO(sn))};static \u0275prov=F.jDH({token:m,factory:m.\u0275fac})}return m})()},{provide:F._9s,useFactory:function Sa(m,h,l){return new Ca(m,h,l)},deps:[vt,ps,F.SKi]}],Va=[{provide:It,useFactory:()=>new ci},{provide:F.bc$,useFactory:()=>"BrowserAnimations"},...Qa];var ui=U(5072);let Uo=(()=>{class m{title="todo-app";static \u0275fac=function(f){return new(f||m)};static \u0275cmp=F.VBU({type:m,selectors:[["app-root"]],decls:1,vars:0,template:function(f,w){1&f&&F.nrm(0,"router-outlet")},dependencies:[ui.n3],encapsulation:2})}return m})();var ji=U(5207),Qo=U(467),Jo=U(2881),Ur=U(6335),R=U(9885),P=U(4796),j=U(6810),be=U(9332),Mt=U(7759),Dn=U(7473);const ar=m=>["/dashboard/profile",m],Li=()=>["/dashboard/claims"],$i=m=>({"bg-dark bg-opacity-15":m}),bo=(m,h,l,f)=>({"bi-bell-fill text-warning":m,"bi-exclamation-circle-fill text-danger":h,"bi-pencil-fill text-primary":l,"bi-check-circle-fill text-success":f}),Ks=(m,h,l,f)=>({"bg-warning text-dark":m,"bg-danger":h,"bg-primary":l,"bg-success":f}),Ra=()=>["/dashboard/admin-users"];function us(m,h){if(1&m&&(F.j41(0,"span",48),F.EFF(1),F.k0s()),2&m){const l=F.XpG();F.R7$(),F.SpI(" ",l.unreadCount," ")}}function Do(m,h){if(1&m){const l=F.RV6();F.j41(0,"a",53),F.bIt("click",function(){const w=F.eBV(l).$implicit,S=F.XpG(2);return F.Njj(S.marcarComoLeida(w))}),F.j41(1,"div",54),F.nrm(2,"i",55),F.j41(3,"span",56),F.EFF(4),F.k0s()(),F.j41(5,"span",57),F.EFF(6),F.k0s()()}if(2&m){const l=h.$implicit;F.Y8G("ngClass",F.eq3(5,$i,l.read)),F.R7$(2),F.Y8G("ngClass",F.ziG(7,bo,"asignado"===l.type,"urgente"===l.type,"editado"===l.type,"cerrado"===l.type)),F.R7$(2),F.JRh(l.message),F.R7$(),F.Y8G("ngClass",F.ziG(12,Ks,"asignado"===l.type,"urgente"===l.type,"editado"===l.type,"cerrado"===l.type)),F.R7$(),F.SpI(" ","asignado"===l.type?"Asignado":"urgente"===l.type?"Urgente":"editado"===l.type?"Editado":l.message.includes("cerrado")?"Cerrado":"Info"," ")}}function gs(m,h){if(1&m){const l=F.RV6();F.qex(0),F.DNE(1,Do,7,17,"a",49),F.j41(2,"div",50)(3,"button",51),F.bIt("click",function(){F.eBV(l);const w=F.XpG();return F.Njj(w.marcarTodasComoLeidas())}),F.nrm(4,"i",52),F.EFF(5," Marcar todas como le\xeddas "),F.k0s()(),F.bVm()}if(2&m){const l=F.XpG();F.R7$(),F.Y8G("ngForOf",l.unreadNotifications)}}function ls(m,h){1&m&&(F.j41(0,"div",58),F.nrm(1,"i",59),F.EFF(2," Sin notificaciones "),F.k0s())}function pa(m,h){1&m&&(F.j41(0,"li")(1,"a",26),F.EFF(2," Admin Usuarios "),F.k0s()()),2&m&&(F.R7$(),F.Y8G("routerLink",F.lJ4(1,Ra)))}let Rn=(()=>{class m{route;auth;userService;authService;router;todoService;alertaService;mockService;notificationService;userData=null;isLoading=!0;imagePath="assets/images/isotipo-webmain.svg";imageDefault="https://maxuber79.github.io/gsaforce/assets/images/face28.jpg";apodoUser="perrito";user=null;uid=null;profilePhotoURL="";pendingCount=0;todos=[];metrics="";tickets;satisfaction;channels;channelLabels=["Web","App","WhatsApp","Call Center"];channelData=[40,25,20,15];channelsData=[];perfil=null;userRol="";notifications=[];pendingCountNotification=0;uidNotification="";showNotiDropdown=!1;currentUid="";unreadCount=0;constructor(l,f,w,S,O,G,ne,Se,Ot){this.route=l,this.auth=f,this.userService=w,this.authService=S,this.router=O,this.todoService=G,this.alertaService=ne,this.mockService=Se,this.notificationService=Ot,console.log("%c<<< Start DashboardComponent >>>","background: #0d6efd; color: #ffffff; padding: 2px 5px;")}ngOnInit(){console.log("\u{1f4e6} Iniciando carga de usuario en dashboard..."),this.authService.getCurrentUser().subscribe(l=>{l&&(this.uid=l.uid,console.log(`%c \u{1f4e6} Usuario autenticado: ${l.uid}:`,"background: #d1e7dd; color: #0f5132; padding: 2px 5px;",l),this.userService.getUserData(l.uid).subscribe(f=>{console.log(`%c \u{1f4e6} Usuario autenticado ----\x3e ${l.uid}:`,"background: #d1e7dd; color: #0f5132; padding: 2px 5px;",f),this.userData=f,this.uid=f?.uid||"",this.perfil=f,this.userRol=f?.rol||"Usuario",console.log("Rol del usuario:",this.userRol)}),this.notificationService.getUserNotifications(l.uid).subscribe(f=>{this.notifications=f,this.unreadCount=f.filter(w=>!w.read).length,console.log("\u{1f514} --- Notificaciones del usuario:",this.notifications),console.log("\u{1f514} ::: Todas las notificaciones:",f),console.log("\u{1f4ec} Cantidad de no le\xeddas:",this.unreadCount),f.forEach(w=>console.log(`\u{1f4c4} ${w.message} | Le\xedda: ${w.read}`)),console.log("\u{1f4ec} Cantidad de no le\xeddas ----\x3e",this.unreadCount),this.notifications.forEach(w=>{console.log(`\u{1f538} Mensaje: ${w.message} | Le\xedda: ${w.read}`)})}))})}toggleNotiDropdown(){this.showNotiDropdown=!this.showNotiDropdown}listenToNotifications(){this.notificationService.getUserNotifications(this.uidNotification).subscribe(l=>{this.notifications=l,this.pendingCountNotification=l.filter(f=>!f.read).length,console.log("\u{1f514} Notificaciones para",this.uidNotification,":",this.notifications),console.log("\u{1f4ec} No le\xeddas:",this.pendingCountNotification)})}marcarComoLeida(l){console.log("\u{1f514} Marcando como le\xedda la notificaci\xf3n:",l),!l.read&&l.id&&this.uid&&this.notificationService.markAsRead(this.uid,l.id).then(()=>console.log(`\u{1f4ec} Notificaci\xf3n marcada como le\xedda: ${l.message}`)).catch(f=>console.error("\u274c Error al marcar como le\xedda:",f))}marcarTodasComoLeidas(){this.uid&&this.notificationService.markAllAsRead(this.uid).then(()=>console.log("\u{1f4ec} Todas las notificaciones marcadas como le\xeddas")).catch(l=>console.error("\u274c Error al marcar todas como le\xeddas:",l))}eliminarNotificacion(l){!l.id||!this.uid||!confirm("\xbfEst\xe1s seguro de eliminar esta notificaci\xf3n?")||this.notificationService.deleteNotification(this.uid,l.id).then(()=>console.log(`\u{1f5d1}\ufe0f Notificaci\xf3n eliminada: ${l.message}`)).catch(w=>console.error("\u274c Error al eliminar notificaci\xf3n:",w))}onLogout(){var l=this;return(0,Qo.A)(function*(){try{yield l.authService.logout(),l.router.navigate(["/"])}catch(f){console.error("\u274c Error al cerrar sesi\xf3n:",f)}})()}goToProfile(){this.userData?.uid?this.router.navigate(["/dashboard/profile",this.userData.uid]):console.error("\u274c No se encontr\xf3 UID para navegar al perfil")}get unreadNotificationsCount(){const l=this.notifications?.filter(f=>!f.read).length||0;return console.log("\u{1f534} Notificaciones no le\xeddas:",l),l}get unreadNotifications(){return this.notifications.filter(l=>!l.read).slice(0,5)}static \u0275fac=function(f){return new(f||m)(F.rXU(ui.nX),F.rXU(Ur.Nj),F.rXU(R.D),F.rXU(P.u),F.rXU(ui.Ix),F.rXU(j.y),F.rXU(be.u),F.rXU(Mt.I),F.rXU(Dn.J))};static \u0275cmp=F.VBU({type:m,selectors:[["app-dashboard"]],decls:79,vars:11,consts:[["noNotifications",""],[1,"d-flex","flex-column","min-vh-100","dashboard"],[1,"px-3","text-bg-dark"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["alt","","width","50",1,"",3,"src"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"navbar-nav","flex-row","d-none","d-md-flex"],[1,"nav-item","me-3","me-lg-1","active"],["href","#",1,"nav-link"],[1,"bi","bi-gear-fill"],[1,"nav-item","me-3","me-lg-1","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","position-relative"],[1,"bi","bi-bell-fill"],["class","position-absolute translate-middle badge rounded-pill bg-danger","style","top: 6px; right: -1px;",4,"ngIf"],[1,"dropdown-menu","dropdown-menu-end","p-0","shadow",2,"width","360px"],[1,"list-group","list-group-flush"],[4,"ngIf","ngIfElse"],[1,"dropdown","text-end"],["href","#","data-bs-toggle","dropdown","aria-expanded","false",1,"text-decoration-none","dropdown-toggle"],["alt","mdo","width","32","height","32",1,"border","border-light-subtle","border-2","object-fit-cover","rounded-circle",3,"src"],[1,"dropdown-menu","dropdown-menu-end","text-small"],[1,"dropdown-item",3,"routerLink"],[4,"ngIf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"flex-grow-1","container","py-4"],[1,"container"],["data-bs-theme","dark",1,"py-4","bg-dark"],[1,"d-lg-flex","justify-content-between","py-3","py-lg-2"],[1,"small","mb-2","mb-lg-0"],[1,"text-muted","mb-0","me-5"],[1,"d-flex","small","align-items-end","justify-content-between"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3","mb-2","mb-lg-0"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3"],[1,"d-none","d-lg-block","ms-3"],["href","",1,"me-2"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-pinterest","text-primary"],["d","M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-twitter","text-primary"],["d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-facebook","text-primary"],["d","M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"],[1,"d-lg-none"],[1,"position-absolute","translate-middle","badge","rounded-pill","bg-danger",2,"top","6px","right","-1px"],["href","#","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center","style","min-height: 65px;",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"text-center","p-3","border-top"],[1,"btn","btn-full","--success","m-1","w-100",3,"click"],[1,"bi","bi-check-circle-fill"],["href","#",1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"min-height","65px",3,"click","ngClass"],[1,"d-flex","align-items-center"],[1,"bi","me-3",3,"ngClass"],[1,"text-wrap","lh-sm"],[1,"badge","rounded-pill","ms-3",3,"ngClass"],[1,"list-group-item","text-center","text-warning-emphasis","p-3"],[1,"bi","bi-bell-slash"]],template:function(f,w){if(1&f){const S=F.RV6();F.j41(0,"div",1)(1,"header",2)(2,"nav",3)(3,"div",4)(4,"a",5),F.nrm(5,"img",6),F.k0s(),F.j41(6,"button",7),F.nrm(7,"span",8),F.k0s(),F.j41(8,"div",9),F.nrm(9,"ul",10),F.j41(10,"ul",11)(11,"li",12)(12,"a",13)(13,"span"),F.nrm(14,"i",14),F.k0s()()(),F.j41(15,"li",15)(16,"a",16),F.nrm(17,"i",17),F.DNE(18,us,2,1,"span",18),F.k0s(),F.j41(19,"div",19)(20,"div",20),F.DNE(21,gs,6,1,"ng-container",21)(22,ls,3,0,"ng-template",null,0,F.C5r),F.k0s()()()(),F.j41(24,"div",22)(25,"a",23),F.nrm(26,"img",24),F.k0s(),F.j41(27,"ul",25)(28,"li")(29,"a",26),F.EFF(30,"Mi perfil"),F.k0s()(),F.j41(31,"li")(32,"a",26),F.EFF(33,"Mis Reclamos"),F.k0s()(),F.DNE(34,pa,3,2,"li",27),F.j41(35,"li"),F.nrm(36,"hr",28),F.k0s(),F.j41(37,"li")(38,"a",29),F.bIt("click",function(){return F.eBV(S),F.Njj(w.onLogout())}),F.EFF(39,"Sign out"),F.k0s()()()()()()()(),F.j41(40,"main",30)(41,"section",31),F.nrm(42,"router-outlet"),F.k0s()(),F.j41(43,"footer",32)(44,"div",31)(45,"div",33)(46,"div",34)(47,"p",35),F.EFF(48,"\xa9 2023 FreeFrontend.dev. All rights reserved."),F.k0s()(),F.j41(49,"div",36)(50,"div")(51,"a",37),F.EFF(52,"Privacy Policy"),F.k0s(),F.j41(53,"a",37),F.EFF(54,"Terms"),F.k0s(),F.j41(55,"a",37),F.EFF(56,"Cookies"),F.k0s(),F.j41(57,"a",38),F.EFF(58,"Sitemap"),F.k0s()(),F.j41(59,"div",39)(60,"a",40),F.qSk(),F.j41(61,"svg",41),F.nrm(62,"path",42),F.k0s()(),F.joV(),F.j41(63,"a",40),F.qSk(),F.j41(64,"svg",43),F.nrm(65,"path",44),F.k0s()(),F.joV(),F.j41(66,"a",40),F.qSk(),F.j41(67,"svg",45),F.nrm(68,"path",46),F.k0s()()(),F.joV(),F.j41(69,"div",47)(70,"a",40),F.qSk(),F.j41(71,"svg",41),F.nrm(72,"path",42),F.k0s()(),F.joV(),F.j41(73,"a",40),F.qSk(),F.j41(74,"svg",43),F.nrm(75,"path",44),F.k0s()(),F.joV(),F.j41(76,"a",40),F.qSk(),F.j41(77,"svg",45),F.nrm(78,"path",46),F.k0s()()()()()()()()}if(2&f){const S=F.sdS(23);F.R7$(5),F.Y8G("src",w.imagePath,F.B4B),F.R7$(13),F.Y8G("ngIf",w.unreadCount>0),F.R7$(3),F.Y8G("ngIf",w.unreadNotifications.length>0)("ngIfElse",S),F.R7$(5),F.Y8G("src",(null==w.userData?null:w.userData.photoURL)||w.imageDefault,F.B4B),F.R7$(3),F.Y8G("routerLink",F.eq3(8,ar,w.uid)),F.R7$(3),F.Y8G("routerLink",F.lJ4(10,Li)),F.R7$(2),F.Y8G("ngIf","Administrador"===w.userRol)}},dependencies:[Jo.MD,Jo.YU,Jo.Sq,Jo.bT,ji.iI,ui.n3,ji.Wk],styles:["[data-card=border][_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid var(--bs-border-color);box-shadow:none}.card[_ngcontent-%COMP%]{margin-bottom:var(--bs-gutter-x)}.card-title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px;color:var(--bs-card-title-color)}.card-subtitle[_ngcontent-%COMP%]{font-size:14px;line-height:24px;color:var(--bs-card-subtitle-color)}.card-hover[_ngcontent-%COMP%]{transition:.2s ease-in}.card-hover[_ngcontent-%COMP%]:hover{transform:translate3d(0,-5px,0)}.cardwithborder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid var(--bs-border-color)}.card-fullscreen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;overflow:auto}.draggable-cards[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{cursor:move}.card-moved[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:var(--bs-info);color:var(--bs-white)}"]})}return m})();function ga(m,h){1&m&&(F.j41(0,"div",5)(1,"div",6)(2,"span",7),F.EFF(3,"Cargando..."),F.k0s()(),F.j41(4,"p",8),F.EFF(5,"Procesando..."),F.k0s()())}let As=(()=>{class m{router;userName="Nuevo Usuario";isLoading=!1;constructor(l){this.router=l}goToDashboard(){setTimeout(()=>{this.isLoading=!1,this.router.navigate(["/dashboard"])},2e3)}static \u0275fac=function(f){return new(f||m)(F.rXU(ui.Ix))};static \u0275cmp=F.VBU({type:m,selectors:[["app-welcome"]],decls:8,vars:2,consts:[[1,"welcome-container"],[1,"welcome-title"],[1,"welcome-subtitle"],["class","text-center my-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"text-center","my-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"]],template:function(f,w){1&f&&(F.j41(0,"section",0)(1,"h1",1),F.EFF(2),F.k0s(),F.j41(3,"p",2),F.EFF(4," Gracias por registrarte en nuestra aplicaci\xf3n To-Do. Desde aqu\xed puedes acceder a tu panel de control. "),F.k0s(),F.DNE(5,ga,6,0,"div",3),F.j41(6,"button",4),F.bIt("click",function(){return w.goToDashboard()}),F.EFF(7,"Ir al Dashboard"),F.k0s()()),2&f&&(F.R7$(2),F.SpI("\xa1Bienvenido, ",w.userName,"! \u{1f44b}"),F.R7$(3),F.Y8G("ngIf",w.isLoading))},dependencies:[Jo.MD,Jo.bT],styles:[".welcome-container[_ngcontent-%COMP%]{text-align:center;padding:2rem}.welcome-container[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.welcome-container[_ngcontent-%COMP%]   .welcome-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:#555}.welcome-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1.5rem}"]})}return m})();var ds=U(520),ma=U(1985);const Pa=(m,h)=>{const l=(0,F.WQX)(Ur.Nj),f=(0,F.WQX)(ui.Ix);return new ma.c(w=>{const S=(0,ds.hg)(l,O=>{O?w.next(!0):(f.navigate(["/"]),w.next(!1)),w.complete(),S()})})},Pi=(m,h)=>{const l=(0,F.WQX)(Ur.Nj),f=(0,F.WQX)(ui.Ix);return new ma.c(w=>{const S=(0,ds.hg)(l,O=>{O?(f.navigate(["/dashboard"]),w.next(!1)):w.next(!0),w.complete(),S()})})},Zi=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>Promise.all([U.e(341),U.e(195)]).then(U.bind(U,7195)).then(m=>m.LoginComponent),canActivate:[Pi]},{path:"register",loadComponent:()=>Promise.all([U.e(341),U.e(739)]).then(U.bind(U,2739)).then(m=>m.RegisterComponent),canActivate:[Pi]},{path:"forgot",loadComponent:()=>Promise.all([U.e(341),U.e(439)]).then(U.bind(U,6439)).then(m=>m.ForgotPasswordComponent),canActivate:[Pi]},{path:"dashboard",component:Rn,canActivate:[Pa],loadChildren:()=>Promise.all([U.e(341),U.e(69)]).then(U.bind(U,9069)).then(m=>m.routes)},{path:"welcome",component:As,canActivate:[Pa]},{path:"**",loadComponent:()=>U.e(887).then(U.bind(U,8887)).then(m=>m.NotFoundComponent)}];var Di=U(7643);const Oc_firebaseConfig={apiKey:"AIzaSyCbOayfHpIwogvguhehOdr1JZO5IW1ELwA",authDomain:"to-do-app-2a154.firebaseapp.com",projectId:"to-do-app-2a154",storageBucket:"to-do-app-2a154.firebasestorage.app",messagingSenderId:"772395492262",appId:"1:772395492262:web:902eddb2ce4a22857da567"};var Hi=U(7440),Xa=U(9967),Xo=U(2107),qs=U(5794);(function rn(m,h){return(0,F.TL3)({rootComponent:m,...er(h)})})(Uo,{providers:[(0,ji.lh)(Zi),(0,Di.$R)(),function Gr(){return(0,F.ngT)("NgEagerAnimations"),[...Va]}(),(0,Hi.MW)(()=>(0,Hi.Wp)(Oc_firebaseConfig)),(0,Ur._q)(()=>(0,Ur.xI)()),(0,Xa.hV)(()=>(0,Xa.aU)()),(0,Xo.Xm)(()=>(0,Xo.c7)()),(0,qs.DP)({positionClass:"toast-bottom-right",timeOut:3e3,closeButton:!0,progressBar:!0})]}).catch(m=>console.error(m))},5964:(vn,je,U)=>{"use strict";U.d(je,{p:()=>q});var T=U(9974),N=U(4360);function q(F,Ae){return(0,T.N)((qe,Ee)=>{let fe=0;qe.subscribe((0,N._)(Ee,ke=>F.call(Ae,ke,fe++)&&Ee.next(ke)))})}},6048:(vn,je,U)=>{"use strict";U.d(je,{Q:()=>He,Sm:()=>Ut,Vw:()=>fe,aZ:()=>Ft,hb:()=>st,hj:()=>ke,ig:()=>qe,kB:()=>Dt,om:()=>pe,qj:()=>Ee,rb:()=>Ae});var T=U(1360),N=U(1413),q=U(9361);let F=null;function Ae(){return F}function qe(Me){F??=Me}class Ee{}let fe=(()=>{class Me{historyGo(Qe){throw new Error("")}static \u0275fac=function(_t){return new(_t||Me)};static \u0275prov=T.jDH({token:Me,factory:()=>(0,T.WQX)(me),providedIn:"platform"})}return Me})();const ke=new T.nKC("");let me=(()=>{class Me extends fe{_location;_history;_doc=(0,T.WQX)(q.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ae().getBaseHref(this._doc)}onPopState(Qe){const _t=Ae().getGlobalEventTarget(this._doc,"window");return _t.addEventListener("popstate",Qe,!1),()=>_t.removeEventListener("popstate",Qe)}onHashChange(Qe){const _t=Ae().getGlobalEventTarget(this._doc,"window");return _t.addEventListener("hashchange",Qe,!1),()=>_t.removeEventListener("hashchange",Qe)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Qe){this._location.pathname=Qe}pushState(Qe,_t,zt){this._history.pushState(Qe,_t,zt)}replaceState(Qe,_t,zt){this._history.replaceState(Qe,_t,zt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Qe=0){this._history.go(Qe)}getState(){return this._history.state}static \u0275fac=function(_t){return new(_t||Me)};static \u0275prov=T.jDH({token:Me,factory:()=>new Me,providedIn:"platform"})}return Me})();function pe(Me,tt){return Me?tt?Me.endsWith("/")?tt.startsWith("/")?Me+tt.slice(1):Me+tt:tt.startsWith("/")?Me+tt:`${Me}/${tt}`:Me:tt}function Je(Me){const tt=Me.search(/#|\?|$/);return"/"===Me[tt-1]?Me.slice(0,tt-1)+Me.slice(tt):Me}function He(Me){return Me&&"?"!==Me[0]?`?${Me}`:Me}let st=(()=>{class Me{historyGo(Qe){throw new Error("")}static \u0275fac=function(_t){return new(_t||Me)};static \u0275prov=T.jDH({token:Me,factory:()=>(0,T.WQX)(Ut),providedIn:"root"})}return Me})();const Dt=new T.nKC("");let Ut=(()=>{class Me extends st{_platformLocation;_baseHref;_removeListenerFns=[];constructor(Qe,_t){super(),this._platformLocation=Qe,this._baseHref=_t??this._platformLocation.getBaseHrefFromDOM()??(0,T.WQX)(q.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Qe){this._removeListenerFns.push(this._platformLocation.onPopState(Qe),this._platformLocation.onHashChange(Qe))}getBaseHref(){return this._baseHref}prepareExternalUrl(Qe){return pe(this._baseHref,Qe)}path(Qe=!1){const _t=this._platformLocation.pathname+He(this._platformLocation.search),zt=this._platformLocation.hash;return zt&&Qe?`${_t}${zt}`:_t}pushState(Qe,_t,zt,vt){const ot=this.prepareExternalUrl(zt+He(vt));this._platformLocation.pushState(Qe,_t,ot)}replaceState(Qe,_t,zt,vt){const ot=this.prepareExternalUrl(zt+He(vt));this._platformLocation.replaceState(Qe,_t,ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Qe=0){this._platformLocation.historyGo?.(Qe)}static \u0275fac=function(_t){return new(_t||Me)(T.KVO(fe),T.KVO(Dt,8))};static \u0275prov=T.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})(),Ft=(()=>{class Me{_subject=new N.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(Qe){this._locationStrategy=Qe;const _t=this._locationStrategy.getBaseHref();this._basePath=function bt(Me){if(new RegExp("^(https?:)?//").test(Me)){const[,Qe]=Me.split(/\/\/[^\/]+/);return Qe}return Me}(Je(yt(_t))),this._locationStrategy.onPopState(zt=>{this._subject.next({url:this.path(!0),pop:!0,state:zt.state,type:zt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Qe=!1){return this.normalize(this._locationStrategy.path(Qe))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Qe,_t=""){return this.path()==this.normalize(Qe+He(_t))}normalize(Qe){return Me.stripTrailingSlash(function ft(Me,tt){if(!Me||!tt.startsWith(Me))return tt;const Qe=tt.substring(Me.length);return""===Qe||["/",";","?","#"].includes(Qe[0])?Qe:tt}(this._basePath,yt(Qe)))}prepareExternalUrl(Qe){return Qe&&"/"!==Qe[0]&&(Qe="/"+Qe),this._locationStrategy.prepareExternalUrl(Qe)}go(Qe,_t="",zt=null){this._locationStrategy.pushState(zt,"",Qe,_t),this._notifyUrlChangeListeners(this.prepareExternalUrl(Qe+He(_t)),zt)}replaceState(Qe,_t="",zt=null){this._locationStrategy.replaceState(zt,"",Qe,_t),this._notifyUrlChangeListeners(this.prepareExternalUrl(Qe+He(_t)),zt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Qe=0){this._locationStrategy.historyGo?.(Qe)}onUrlChange(Qe){return this._urlChangeListeners.push(Qe),this._urlChangeSubscription??=this.subscribe(_t=>{this._notifyUrlChangeListeners(_t.url,_t.state)}),()=>{const _t=this._urlChangeListeners.indexOf(Qe);this._urlChangeListeners.splice(_t,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Qe="",_t){this._urlChangeListeners.forEach(zt=>zt(Qe,_t))}subscribe(Qe,_t,zt){return this._subject.subscribe({next:Qe,error:_t??void 0,complete:zt??void 0})}static normalizeQueryParams=He;static joinWithSlash=pe;static stripTrailingSlash=Je;static \u0275fac=function(_t){return new(_t||Me)(T.KVO(st))};static \u0275prov=T.jDH({token:Me,factory:()=>function Qt(){return new Ft((0,T.KVO)(st))}(),providedIn:"root"})}return Me})();function yt(Me){return Me.replace(/\/index.html$/,"")}},6335:(vn,je,U)=>{"use strict";U.d(je,{Nj:()=>Je,DF:()=>He,wh:()=>Me,eJ:()=>Sn,xI:()=>Xe,_q:()=>bt,J1:()=>Pr,x9:()=>Gi,CI:()=>Gt});var T=U(2967),N=U(1360),q=U(7440),F=U(4125),Ae=U(2214),qe=U(520),Ee=U(1985);function fe(lr){return new Ee.c(function(bn){return{unsubscribe:(0,qe.hg)(lr,bn.next.bind(bn),bn.error.bind(bn),bn.complete.bind(bn))}})}class Je{constructor(bn){return bn}}class He{constructor(){return(0,T.CA)("auth")}}const Dt=new N.nKC("angularfire2.auth-instances");function Ft(lr){return(bn,_i)=>{const Nr=bn.runOutsideAngular(()=>lr(_i));return new Je(Nr)}}const Qt={provide:He,deps:[[new N.Xx1,Dt]]},ft={provide:Je,useFactory:function Ut(lr,bn){const _i=(0,T.lR)("auth",lr,bn);return _i&&new Je(_i)},deps:[[new N.Xx1,Dt],q.XU]};function bt(lr,...bn){return(0,Ae.KO)("angularfire",T.xv.full,"auth"),(0,N.EmA)([ft,Qt,{provide:Dt,useFactory:Ft(lr),multi:!0,deps:[N.SKi,N.zZn,T.u0,q.gL,[new N.Xx1,F.kR],...bn]}])}const Me=(0,T.S3)(fe,!0),Sn=(0,T.S3)(qe.eJ,!0,2),Xe=(0,T.S3)(qe.xI,!0),Pr=(0,T.S3)(qe.J1,!0,2),Gi=(0,T.S3)(qe.x9,!0,2),Gt=(0,T.S3)(qe.CI,!0,2)},6354:(vn,je,U)=>{"use strict";U.d(je,{T:()=>q});var T=U(9974),N=U(4360);function q(F,Ae){return(0,T.N)((qe,Ee)=>{let fe=0;qe.subscribe((0,N._)(Ee,ke=>{Ee.next(F.call(Ae,ke,fe++))}))})}},6365:(vn,je,U)=>{"use strict";U.d(je,{U:()=>q});var T=U(1397),N=U(3669);function q(F=1/0){return(0,T.Z)(N.D,F)}},6450:(vn,je,U)=>{"use strict";U.d(je,{I:()=>F});var T=U(6354);const{isArray:N}=Array;function F(Ae){return(0,T.T)(qe=>function q(Ae,qe){return N(qe)?Ae(...qe):Ae(qe)}(Ae,qe))}},6745:(vn,je,U)=>{"use strict";U.d(je,{_:()=>N});var T=U(9974);function N(q,F=0){return(0,T.N)((Ae,qe)=>{qe.add(q.schedule(()=>Ae.subscribe(qe),F))})}},6780:(vn,je,U)=>{"use strict";U.d(je,{R:()=>Ae});var T=U(8359);class N extends T.yU{constructor(Ee,fe){super()}schedule(Ee,fe=0){return this}}const q={setInterval(qe,Ee,...fe){const{delegate:ke}=q;return ke?.setInterval?ke.setInterval(qe,Ee,...fe):setInterval(qe,Ee,...fe)},clearInterval(qe){const{delegate:Ee}=q;return(Ee?.clearInterval||clearInterval)(qe)},delegate:void 0};var F=U(7908);class Ae extends N{constructor(Ee,fe){super(Ee,fe),this.scheduler=Ee,this.work=fe,this.pending=!1}schedule(Ee,fe=0){var ke;if(this.closed)return this;this.state=Ee;const me=this.id,pe=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(pe,me,fe)),this.pending=!0,this.delay=fe,this.id=null!==(ke=this.id)&&void 0!==ke?ke:this.requestAsyncId(pe,this.id,fe),this}requestAsyncId(Ee,fe,ke=0){return q.setInterval(Ee.flush.bind(Ee,this),ke)}recycleAsyncId(Ee,fe,ke=0){if(null!=ke&&this.delay===ke&&!1===this.pending)return fe;null!=fe&&q.clearInterval(fe)}execute(Ee,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(Ee,fe);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,fe){let me,ke=!1;try{this.work(Ee)}catch(pe){ke=!0,me=pe||new Error("Scheduled action threw falsy error")}if(ke)return this.unsubscribe(),me}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:fe}=this,{actions:ke}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,F.o)(ke,this),null!=Ee&&(this.id=this.recycleAsyncId(fe,Ee,null)),this.delay=null,super.unsubscribe()}}}},6810:(vn,je,U)=>{"use strict";U.d(je,{y:()=>me});var T=U(467),N=U(9967),q=U(3273),F=U(4843),Ae=U(5558),qe=U(6354),Ee=U(1360),fe=U(6335),ke=U(4796);let me=(()=>{class pe{firestore;auth;authService;constructor(He,st,Dt){this.firestore=He,this.auth=st,this.authService=Dt,console.log("%c<<< Start TODO service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}addTodo(He){var st=this;return(0,T.A)(function*(){const Dt=yield(0,F._)(st.authService.getCurrentUser());if(!Dt?.uid)throw new Error("Usuario no autenticado");const Ut=(0,N.rJ)(st.firestore,`users/${Dt.uid}/todos`),Ft=(0,N.H9)(Ut),Qt=new Date,ft={...He,id:Ft.id,completed:!1,createdAt:Qt,updatedAt:Qt};console.log("\u{1f9fe} Creando tarea en:",`users/${Dt.uid}/todos/${Ft.id}`),console.log("\u{1f4dd} Datos:",ft),yield(0,N.BN)(Ft,ft)})()}getTodos(){return this.authService.getCurrentUser().pipe((0,Ae.n)(He=>{const st=(0,N.rJ)(this.firestore,`users/${He.uid}/todos`);return(0,N.xs)(st,{idField:"id"})}))}updateTodo(He,st){var Dt=this;return(0,T.A)(function*(){const Ut=yield(0,F._)(Dt.authService.getCurrentUser());if(!Ut?.uid)throw new Error("Usuario no autenticado");const Ft=(0,N.H9)(Dt.firestore,`users/${Ut.uid}/todos/${He}`);yield(0,N.mZ)(Ft,{...st,updatedAt:q.Dc.now()})})()}deleteTodo(He){var st=this;return(0,T.A)(function*(){const Dt=yield(0,F._)(st.authService.getCurrentUser());if(!Dt?.uid)throw new Error("Usuario no autenticado");const Ut=(0,N.H9)(st.firestore,`users/${Dt.uid}/todos/${He}`);yield(0,N.kd)(Ut)})()}clearAllTodos(){var He=this;return(0,T.A)(function*(){const st=yield(0,F._)(He.getTodos()),Dt=yield(0,F._)(He.authService.getCurrentUser());if(!Dt?.uid)throw new Error("Usuario no autenticado");const Ut=st.map(Ft=>(0,N.kd)((0,N.H9)(He.firestore,`users/${Dt.uid}/todos/${Ft.id}`)));yield Promise.all(Ut)})()}getPendingTodosCount(){return this.authService.getCurrentUser().pipe((0,Ae.n)(He=>{const st=(0,N.rJ)(this.firestore,`users/${He.uid}/todos`),Dt=(0,N.P)(st,(0,N._M)("completed","==",!1));return(0,N.xs)(Dt).pipe((0,qe.T)(Ut=>Ut.length))}))}getTodoById(He){var st=this;return(0,T.A)(function*(){const Dt=yield(0,F._)(st.authService.getCurrentUser());if(!Dt?.uid)throw new Error("Usuario no autenticado");const Ut=(0,N.H9)(st.firestore,`users/${Dt.uid}/todos/${He}`),Ft=yield(0,N.x7)(Ut);if(!Ft.exists())throw new Error("Tarea no encontrada");return Ft.data()})()}static \u0275fac=function(st){return new(st||pe)(Ee.KVO(N._7),Ee.KVO(fe.Nj),Ee.KVO(ke.u))};static \u0275prov=Ee.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})()},6858:(vn,je,U)=>{"use strict";U.d(je,{cY:()=>_t,FA:()=>Jn,g:()=>On,K3:()=>fe,u:()=>Je,Uj:()=>pe,Fy:()=>Fn,tD:()=>cr,bD:()=>ni,hp:()=>Ar,T9:()=>tt,Tj:()=>bt,yU:()=>Me,XA:()=>Qe,mS:()=>Ut,Ku:()=>Si,ZQ:()=>Jt,sr:()=>ge,zJ:()=>zt,c1:()=>le,Im:()=>Kn,lT:()=>Ge,zW:()=>Ht,jZ:()=>St,lV:()=>te,nr:()=>Xt,Ov:()=>er,gE:()=>vt,Am:()=>Tr,I9:()=>gi,P1:()=>Xe,eX:()=>qn});var T=U(467);const qe=function(Te){const ye=[];let Ue=0;for(let Nt=0;Nt<Te.length;Nt++){let Ze=Te.charCodeAt(Nt);Ze<128?ye[Ue++]=Ze:Ze<2048?(ye[Ue++]=Ze>>6|192,ye[Ue++]=63&Ze|128):55296==(64512&Ze)&&Nt+1<Te.length&&56320==(64512&Te.charCodeAt(Nt+1))?(Ze=65536+((1023&Ze)<<10)+(1023&Te.charCodeAt(++Nt)),ye[Ue++]=Ze>>18|240,ye[Ue++]=Ze>>12&63|128,ye[Ue++]=Ze>>6&63|128,ye[Ue++]=63&Ze|128):(ye[Ue++]=Ze>>12|224,ye[Ue++]=Ze>>6&63|128,ye[Ue++]=63&Ze|128)}return ye},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Te,ye){if(!Array.isArray(Te))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ue=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,Nt=[];for(let Ze=0;Ze<Te.length;Ze+=3){const qt=Te[Ze],An=Ze+1<Te.length,pr=An?Te[Ze+1]:0,ee=Ze+2<Te.length,se=ee?Te[Ze+2]:0;let wt=(15&pr)<<2|se>>6,ie=63&se;ee||(ie=64,An||(wt=64)),Nt.push(Ue[qt>>2],Ue[(3&qt)<<4|pr>>4],Ue[wt],Ue[ie])}return Nt.join("")},encodeString(Te,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(Te):this.encodeByteArray(qe(Te),ye)},decodeString(Te,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(Te):function(Te){const ye=[];let Ue=0,Nt=0;for(;Ue<Te.length;){const Ze=Te[Ue++];if(Ze<128)ye[Nt++]=String.fromCharCode(Ze);else if(Ze>191&&Ze<224){const qt=Te[Ue++];ye[Nt++]=String.fromCharCode((31&Ze)<<6|63&qt)}else if(Ze>239&&Ze<365){const ee=((7&Ze)<<18|(63&Te[Ue++])<<12|(63&Te[Ue++])<<6|63&Te[Ue++])-65536;ye[Nt++]=String.fromCharCode(55296+(ee>>10)),ye[Nt++]=String.fromCharCode(56320+(1023&ee))}else{const qt=Te[Ue++],An=Te[Ue++];ye[Nt++]=String.fromCharCode((15&Ze)<<12|(63&qt)<<6|63&An)}}return ye.join("")}(this.decodeStringToByteArray(Te,ye))},decodeStringToByteArray(Te,ye){this.init_();const Ue=ye?this.charToByteMapWebSafe_:this.charToByteMap_,Nt=[];for(let Ze=0;Ze<Te.length;){const qt=Ue[Te.charAt(Ze++)],pr=Ze<Te.length?Ue[Te.charAt(Ze)]:0;++Ze;const se=Ze<Te.length?Ue[Te.charAt(Ze)]:64;++Ze;const ut=Ze<Te.length?Ue[Te.charAt(Ze)]:64;if(++Ze,null==qt||null==pr||null==se||null==ut)throw new ke;Nt.push(qt<<2|pr>>4),64!==se&&(Nt.push(pr<<4&240|se>>2),64!==ut&&Nt.push(se<<6&192|ut))}return Nt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Te=0;Te<this.ENCODED_VALS.length;Te++)this.byteToCharMap_[Te]=this.ENCODED_VALS.charAt(Te),this.charToByteMap_[this.byteToCharMap_[Te]]=Te,this.byteToCharMapWebSafe_[Te]=this.ENCODED_VALS_WEBSAFE.charAt(Te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Te]]=Te,Te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Te)]=Te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Te)]=Te)}}};class ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function(Te){return function(Te){const ye=qe(Te);return fe.encodeByteArray(ye,!0)}(Te).replace(/\./g,"")},Je=function(Te){try{return fe.decodeString(Te,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function Ut(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const yt=()=>{try{return Ut().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Te=process.env.__FIREBASE_DEFAULTS__;return Te?JSON.parse(Te):void 0})()||(()=>{if(typeof document>"u")return;let Te;try{Te=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ye=Te&&Je(Te[1]);return ye&&JSON.parse(ye)})()}catch(Te){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Te}`)}},bt=Te=>{var ye,Ue;return null===(Ue=null===(ye=yt())||void 0===ye?void 0:ye.emulatorHosts)||void 0===Ue?void 0:Ue[Te]},Me=Te=>{const ye=bt(Te);if(!ye)return;const Ue=ye.lastIndexOf(":");if(Ue<=0||Ue+1===ye.length)throw new Error(`Invalid host ${ye} with no separate hostname and port!`);const Nt=parseInt(ye.substring(Ue+1),10);return"["===ye[0]?[ye.substring(1,Ue-1),Nt]:[ye.substring(0,Ue),Nt]},tt=()=>{var Te;return null===(Te=yt())||void 0===Te?void 0:Te.config},Qe=Te=>{var ye;return null===(ye=yt())||void 0===ye?void 0:ye[`_${Te}`]};class _t{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,Ue)=>{this.resolve=ye,this.reject=Ue})}wrapCallback(ye){return(Ue,Nt)=>{Ue?this.reject(Ue):this.resolve(Nt),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(Ue):ye(Ue,Nt))}}}function zt(Te){return Te.endsWith(".cloudworkstations.dev")}function vt(Te){return ot.apply(this,arguments)}function ot(){return(ot=(0,T.A)(function*(Te){return(yield fetch(Te,{credentials:"include"})).ok})).apply(this,arguments)}function Fn(Te,ye){if(Te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Nt=ye||"demo-project",Ze=Te.iat||0,qt=Te.sub||Te.user_id;if(!qt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const An=Object.assign({iss:`https://securetoken.google.com/${Nt}`,aud:Nt,iat:Ze,exp:Ze+3600,auth_time:Ze,sub:qt,user_id:qt,firebase:{sign_in_provider:"custom",identities:{}}},Te);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(An)),""].join(".")}const Sn={};let yn=!1;function Xe(Te,ye){if(typeof window>"u"||typeof document>"u"||!zt(window.location.host)||Sn[Te]===ye||Sn[Te]||yn)return;function Ue(wt){return`__firebase__banner__${wt}`}Sn[Te]=ye;const Nt="__firebase__banner",qt=function Gn(){const Te={prod:[],emulator:[]};for(const ye of Object.keys(Sn))Sn[ye]?Te.emulator.push(ye):Te.prod.push(ye);return Te}().prod.length>0;function ut(){const wt=function lt(Te){let ye=document.getElementById(Te),Ue=!1;return ye||(ye=document.createElement("div"),ye.setAttribute("id",Te),Ue=!0),{created:Ue,element:ye}}(Nt),ie=Ue("text"),_e=document.getElementById(ie)||document.createElement("span"),Oe=Ue("learnmore"),At=document.getElementById(Oe)||document.createElement("a"),mt=Ue("preprendIcon"),ht=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(wt.created){const Pt=wt.element;(function pr(wt){wt.style.display="flex",wt.style.background="#7faaf0",wt.style.position="fixed",wt.style.bottom="5px",wt.style.left="5px",wt.style.padding=".5em",wt.style.borderRadius="5px",wt.style.alignItems="center"})(Pt),function De(wt,ie){wt.setAttribute("id",ie),wt.innerText="Learn more",wt.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",wt.setAttribute("target","__blank"),wt.style.paddingLeft="5px",wt.style.textDecoration="underline"}(At,Oe);const en=function se(){const wt=document.createElement("span");return wt.style.cursor="pointer",wt.style.marginLeft="16px",wt.style.fontSize="24px",wt.innerHTML=" &times;",wt.onclick=()=>{yn=!0,function An(){const wt=document.getElementById(Nt);wt&&wt.remove()}()},wt}();(function ee(wt,ie){wt.setAttribute("width","24"),wt.setAttribute("id",ie),wt.setAttribute("height","24"),wt.setAttribute("viewBox","0 0 24 24"),wt.setAttribute("fill","none"),wt.style.marginLeft="-6px"})(ht,mt),Pt.append(ht,_e,At,en),document.body.appendChild(Pt)}qt?(_e.innerText="Preview backend disconnected.",ht.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(ht.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',_e.innerText="Preview backend running in this workspace."),_e.setAttribute("id",ie)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",ut):ut()}function Jt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function St(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function We(){var Te;const ye=null===(Te=yt())||void 0===Te?void 0:Te.forceEnvironment;if("node"===ye)return!0;if("browser"===ye)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function le(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function ge(){const Te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Te&&void 0!==Te.id}function te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){const Te=Jt();return Te.indexOf("MSIE ")>=0||Te.indexOf("Trident/")>=0}function Xt(){return!We()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function er(){return!We()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Ht(){try{return"object"==typeof indexedDB}catch{return!1}}function qn(){return new Promise((Te,ye)=>{try{let Ue=!0;const Nt="validate-browser-context-for-indexeddb-analytics-module",Ze=self.indexedDB.open(Nt);Ze.onsuccess=()=>{Ze.result.close(),Ue||self.indexedDB.deleteDatabase(Nt),Te(!0)},Ze.onupgradeneeded=()=>{Ue=!1},Ze.onerror=()=>{var qt;ye((null===(qt=Ze.error)||void 0===qt?void 0:qt.message)||"")}}catch(Ue){ye(Ue)}})}class On extends Error{constructor(ye,Ue,Nt){super(Ue),this.code=ye,this.customData=Nt,this.name="FirebaseError",Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jn.prototype.create)}}class Jn{constructor(ye,Ue,Nt){this.service=ye,this.serviceName=Ue,this.errors=Nt}create(ye,...Ue){const Nt=Ue[0]||{},Ze=`${this.service}/${ye}`,qt=this.errors[ye],An=qt?function In(Te,ye){return Te.replace(Pr,(Ue,Nt)=>{const Ze=ye[Nt];return null!=Ze?String(Ze):`<${Nt}?>`})}(qt,Nt):"Error";return new On(Ze,`${this.serviceName}: ${An} (${Ze}).`,Nt)}}const Pr=/\{\$([^}]+)}/g;function Kn(Te){for(const ye in Te)if(Object.prototype.hasOwnProperty.call(Te,ye))return!1;return!0}function ni(Te,ye){if(Te===ye)return!0;const Ue=Object.keys(Te),Nt=Object.keys(ye);for(const Ze of Ue){if(!Nt.includes(Ze))return!1;const qt=Te[Ze],An=ye[Ze];if(si(qt)&&si(An)){if(!ni(qt,An))return!1}else if(qt!==An)return!1}for(const Ze of Nt)if(!Ue.includes(Ze))return!1;return!0}function si(Te){return null!==Te&&"object"==typeof Te}function Tr(Te){const ye=[];for(const[Ue,Nt]of Object.entries(Te))Array.isArray(Nt)?Nt.forEach(Ze=>{ye.push(encodeURIComponent(Ue)+"="+encodeURIComponent(Ze))}):ye.push(encodeURIComponent(Ue)+"="+encodeURIComponent(Nt));return ye.length?"&"+ye.join("&"):""}function gi(Te){const ye={};return Te.replace(/^\?/,"").split("&").forEach(Nt=>{if(Nt){const[Ze,qt]=Nt.split("=");ye[decodeURIComponent(Ze)]=decodeURIComponent(qt)}}),ye}function Ar(Te){const ye=Te.indexOf("?");if(!ye)return"";const Ue=Te.indexOf("#",ye);return Te.substring(ye,Ue>0?Ue:void 0)}function cr(Te,ye){const Ue=new ir(Te,ye);return Ue.subscribe.bind(Ue)}class ir{constructor(ye,Ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ue,this.task.then(()=>{ye(this)}).catch(Nt=>{this.error(Nt)})}next(ye){this.forEachObserver(Ue=>{Ue.next(ye)})}error(ye){this.forEachObserver(Ue=>{Ue.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,Ue,Nt){let Ze;if(void 0===ye&&void 0===Ue&&void 0===Nt)throw new Error("Missing Observer.");Ze=function lr(Te,ye){if("object"!=typeof Te||null===Te)return!1;for(const Ue of ye)if(Ue in Te&&"function"==typeof Te[Ue])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:Ue,complete:Nt},void 0===Ze.next&&(Ze.next=bn),void 0===Ze.error&&(Ze.error=bn),void 0===Ze.complete&&(Ze.complete=bn);const qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ze.error(this.finalError):Ze.complete()}catch{}}),this.observers.push(Ze),qt}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let Ue=0;Ue<this.observers.length;Ue++)this.sendOne(Ue,ye)}sendOne(ye,Ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{Ue(this.observers[ye])}catch(Nt){typeof console<"u"&&console.error&&console.error(Nt)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bn(){}function Si(Te){return Te&&Te._delegate?Te._delegate:Te}},7440:(vn,je,U)=>{"use strict";U.d(je,{MW:()=>He,Wp:()=>Ft,XU:()=>F,gL:()=>Ae});var T=U(2214),N=U(1360),q=U(2967);class F{constructor(tt){return tt}}class Ae{constructor(){return(0,T.Dk)()}}const fe=new N.nKC("angularfire2._apps"),ke={provide:F,useFactory:function Ee(Me){return Me&&1===Me.length?Me[0]:new F((0,T.Sx)())},deps:[[new N.Xx1,fe]]},me={provide:Ae,deps:[[new N.Xx1,fe]]};function pe(Me){return(tt,Qe)=>{const _t=Qe.get(N.Agw);(0,T.KO)("angularfire",q.xv.full,"core"),(0,T.KO)("angularfire",q.xv.full,"app"),(0,T.KO)("angular",N.xvI.full,_t.toString());const zt=tt.runOutsideAngular(()=>Me(Qe));return new F(zt)}}function He(Me,...tt){return(0,N.EmA)([ke,me,{provide:fe,useFactory:pe(Me),multi:!0,deps:[N.SKi,N.zZn,q.u0,...tt]}])}const Ft=(0,q.S3)(T.Wp,!0)},7441:(vn,je,U)=>{"use strict";U.d(je,{X:()=>T});const T=N=>N&&"number"==typeof N.length&&"function"!=typeof N},7473:(vn,je,U)=>{"use strict";U.d(je,{J:()=>Ae});var T=U(467),N=U(9967),q=U(3273),F=U(1360);let Ae=(()=>{class qe{firestore;constructor(fe){this.firestore=fe,console.log("%c<<< Start NOTIFICATION service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}sendToUser(fe,ke,me){var pe=this;return(0,T.A)(function*(){try{const Je={message:ke,type:me,timestamp:q.Dc.now(),read:!1},He=(0,N.rJ)(pe.firestore,`users/${fe}/notifications`),st=yield(0,N.gS)(He,Je);console.log("\u2705 Notificaci\xf3n enviada:",{uid:fe,message:ke,docId:st.id})}catch(Je){throw console.error("\u274c Error al enviar notificaci\xf3n:",Je),Je}})()}getUserNotifications(fe){const ke=(0,N.rJ)(this.firestore,`users/${fe}/notifications`),me=(0,N.P)(ke,(0,N.My)("timestamp","desc"));return(0,N.xs)(me,{idField:"id"})}markAsRead(fe,ke){var me=this;return(0,T.A)(function*(){try{const pe=(0,q.H9)(me.firestore,`users/${fe}/notifications/${ke}`);yield(0,q.mZ)(pe,{read:!0}),console.log("\u2705 Notificaci\xf3n marcada como le\xedda:",ke)}catch(pe){console.error("\u274c Error al marcar notificaci\xf3n como le\xedda:",pe)}})()}markAllAsRead(fe){var ke=this;return(0,T.A)(function*(){const me=(0,N.rJ)(ke.firestore,`users/${fe}/notifications`),pe=yield(0,q.GG)(me),Je=(0,q.wP)(ke.firestore);pe.forEach(He=>{He.data().read||Je.update(He.ref,{read:!0})}),yield Je.commit(),console.log(`\u2705 Todas las notificaciones del usuario ${fe} marcadas como le\xeddas.`)})()}deleteNotification(fe,ke){const me=(0,q.H9)(this.firestore,`users/${fe}/notifications/${ke}`);return(0,q.kd)(me).then(()=>console.log(`\u{1f9f9} Notificaci\xf3n ${ke} eliminada de Firestore`)).catch(pe=>console.error("\u274c Error al eliminar notificaci\xf3n:",pe))}static \u0275fac=function(ke){return new(ke||qe)(F.KVO(N._7))};static \u0275prov=F.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})()},7643:(vn,je,U)=>{"use strict";U.d(je,{$R:()=>wr,Qq:()=>Xt}),U(467);var N=U(1360),q=U(274),F=U(5964),Ae=U(6354),qe=U(980),Ee=U(5558),fe=U(7673),ke=U(1985),me=U(8455),pe=U(9377),Je=U(9361);class He{}class st{}class Dt{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(se){se?"string"==typeof se?this.lazyInit=()=>{this.headers=new Map,se.split("\n").forEach(De=>{const ut=De.indexOf(":");if(ut>0){const wt=De.slice(0,ut),ie=De.slice(ut+1).trim();this.addHeaderEntry(wt,ie)}})}:typeof Headers<"u"&&se instanceof Headers?(this.headers=new Map,se.forEach((De,ut)=>{this.addHeaderEntry(ut,De)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(se).forEach(([De,ut])=>{this.setHeaderEntries(De,ut)})}:this.headers=new Map}has(se){return this.init(),this.headers.has(se.toLowerCase())}get(se){this.init();const De=this.headers.get(se.toLowerCase());return De&&De.length>0?De[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(se){return this.init(),this.headers.get(se.toLowerCase())||null}append(se,De){return this.clone({name:se,value:De,op:"a"})}set(se,De){return this.clone({name:se,value:De,op:"s"})}delete(se,De){return this.clone({name:se,value:De,op:"d"})}maybeSetNormalizedName(se,De){this.normalizedNames.has(De)||this.normalizedNames.set(De,se)}init(){this.lazyInit&&(this.lazyInit instanceof Dt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(se=>this.applyUpdate(se)),this.lazyUpdate=null))}copyFrom(se){se.init(),Array.from(se.headers.keys()).forEach(De=>{this.headers.set(De,se.headers.get(De)),this.normalizedNames.set(De,se.normalizedNames.get(De))})}clone(se){const De=new Dt;return De.lazyInit=this.lazyInit&&this.lazyInit instanceof Dt?this.lazyInit:this,De.lazyUpdate=(this.lazyUpdate||[]).concat([se]),De}applyUpdate(se){const De=se.name.toLowerCase();switch(se.op){case"a":case"s":let ut=se.value;if("string"==typeof ut&&(ut=[ut]),0===ut.length)return;this.maybeSetNormalizedName(se.name,De);const wt=("a"===se.op?this.headers.get(De):void 0)||[];wt.push(...ut),this.headers.set(De,wt);break;case"d":const ie=se.value;if(ie){let _e=this.headers.get(De);if(!_e)return;_e=_e.filter(Oe=>-1===ie.indexOf(Oe)),0===_e.length?(this.headers.delete(De),this.normalizedNames.delete(De)):this.headers.set(De,_e)}else this.headers.delete(De),this.normalizedNames.delete(De)}}addHeaderEntry(se,De){const ut=se.toLowerCase();this.maybeSetNormalizedName(se,ut),this.headers.has(ut)?this.headers.get(ut).push(De):this.headers.set(ut,[De])}setHeaderEntries(se,De){const ut=(Array.isArray(De)?De:[De]).map(ie=>ie.toString()),wt=se.toLowerCase();this.headers.set(wt,ut),this.maybeSetNormalizedName(se,wt)}forEach(se){this.init(),Array.from(this.normalizedNames.keys()).forEach(De=>se(this.normalizedNames.get(De),this.headers.get(De)))}}class Ft{encodeKey(se){return bt(se)}encodeValue(se){return bt(se)}decodeKey(se){return decodeURIComponent(se)}decodeValue(se){return decodeURIComponent(se)}}const ft=/%(\d[a-f0-9])/gi,yt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bt(ee){return encodeURIComponent(ee).replace(ft,(se,De)=>yt[De]??se)}function Me(ee){return`${ee}`}class tt{map;encoder;updates=null;cloneFrom=null;constructor(se={}){if(this.encoder=se.encoder||new Ft,se.fromString){if(se.fromObject)throw new N.wOt(2805,!1);this.map=function Qt(ee,se){const De=new Map;return ee.length>0&&ee.replace(/^\?/,"").split("&").forEach(wt=>{const ie=wt.indexOf("="),[_e,Oe]=-1==ie?[se.decodeKey(wt),""]:[se.decodeKey(wt.slice(0,ie)),se.decodeValue(wt.slice(ie+1))],At=De.get(_e)||[];At.push(Oe),De.set(_e,At)}),De}(se.fromString,this.encoder)}else se.fromObject?(this.map=new Map,Object.keys(se.fromObject).forEach(De=>{const ut=se.fromObject[De],wt=Array.isArray(ut)?ut.map(Me):[Me(ut)];this.map.set(De,wt)})):this.map=null}has(se){return this.init(),this.map.has(se)}get(se){this.init();const De=this.map.get(se);return De?De[0]:null}getAll(se){return this.init(),this.map.get(se)||null}keys(){return this.init(),Array.from(this.map.keys())}append(se,De){return this.clone({param:se,value:De,op:"a"})}appendAll(se){const De=[];return Object.keys(se).forEach(ut=>{const wt=se[ut];Array.isArray(wt)?wt.forEach(ie=>{De.push({param:ut,value:ie,op:"a"})}):De.push({param:ut,value:wt,op:"a"})}),this.clone(De)}set(se,De){return this.clone({param:se,value:De,op:"s"})}delete(se,De){return this.clone({param:se,value:De,op:"d"})}toString(){return this.init(),this.keys().map(se=>{const De=this.encoder.encodeKey(se);return this.map.get(se).map(ut=>De+"="+this.encoder.encodeValue(ut)).join("&")}).filter(se=>""!==se).join("&")}clone(se){const De=new tt({encoder:this.encoder});return De.cloneFrom=this.cloneFrom||this,De.updates=(this.updates||[]).concat(se),De}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(se=>this.map.set(se,this.cloneFrom.map.get(se))),this.updates.forEach(se=>{switch(se.op){case"a":case"s":const De=("a"===se.op?this.map.get(se.param):void 0)||[];De.push(Me(se.value)),this.map.set(se.param,De);break;case"d":if(void 0===se.value){this.map.delete(se.param);break}{let ut=this.map.get(se.param)||[];const wt=ut.indexOf(Me(se.value));-1!==wt&&ut.splice(wt,1),ut.length>0?this.map.set(se.param,ut):this.map.delete(se.param)}}}),this.cloneFrom=this.updates=null)}}class _t{map=new Map;set(se,De){return this.map.set(se,De),this}get(se){return this.map.has(se)||this.map.set(se,se.defaultValue()),this.map.get(se)}delete(se){return this.map.delete(se),this}has(se){return this.map.has(se)}keys(){return this.map.keys()}}function vt(ee){return typeof ArrayBuffer<"u"&&ee instanceof ArrayBuffer}function ot(ee){return typeof Blob<"u"&&ee instanceof Blob}function Fn(ee){return typeof FormData<"u"&&ee instanceof FormData}const Gn="Content-Type",yn="X-Request-URL",Xe="text/plain",Jt="application/json",St=`${Jt}, ${Xe}, */*`;class We{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(se,De,ut,wt){let ie;if(this.url=De,this.method=se.toUpperCase(),function zt(ee){switch(ee){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||wt?(this.body=void 0!==ut?ut:null,ie=wt):ie=ut,ie&&(this.reportProgress=!!ie.reportProgress,this.withCredentials=!!ie.withCredentials,ie.responseType&&(this.responseType=ie.responseType),ie.headers&&(this.headers=ie.headers),ie.context&&(this.context=ie.context),ie.params&&(this.params=ie.params),this.transferCache=ie.transferCache),this.headers??=new Dt,this.context??=new _t,this.params){const _e=this.params.toString();if(0===_e.length)this.urlWithParams=De;else{const Oe=De.indexOf("?");this.urlWithParams=De+(-1===Oe?"?":Oe<De.length-1?"&":"")+_e}}else this.params=new tt,this.urlWithParams=De}serializeBody(){return null===this.body?null:"string"==typeof this.body||vt(this.body)||ot(this.body)||Fn(this.body)||function Sn(ee){return typeof URLSearchParams<"u"&&ee instanceof URLSearchParams}(this.body)?this.body:this.body instanceof tt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Fn(this.body)?null:ot(this.body)?this.body.type||null:vt(this.body)?null:"string"==typeof this.body?Xe:this.body instanceof tt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Jt:null}clone(se={}){const De=se.method||this.method,ut=se.url||this.url,wt=se.responseType||this.responseType,ie=se.transferCache??this.transferCache,_e=void 0!==se.body?se.body:this.body,Oe=se.withCredentials??this.withCredentials,At=se.reportProgress??this.reportProgress;let mt=se.headers||this.headers,ht=se.params||this.params;const Pt=se.context??this.context;return void 0!==se.setHeaders&&(mt=Object.keys(se.setHeaders).reduce((en,Ln)=>en.set(Ln,se.setHeaders[Ln]),mt)),se.setParams&&(ht=Object.keys(se.setParams).reduce((en,Ln)=>en.set(Ln,se.setParams[Ln]),ht)),new We(De,ut,_e,{params:ht,headers:mt,context:Pt,reportProgress:At,responseType:wt,withCredentials:Oe,transferCache:ie})}}var Z=function(ee){return ee[ee.Sent=0]="Sent",ee[ee.UploadProgress=1]="UploadProgress",ee[ee.ResponseHeader=2]="ResponseHeader",ee[ee.DownloadProgress=3]="DownloadProgress",ee[ee.Response=4]="Response",ee[ee.User=5]="User",ee}(Z||{});class ue{headers;status;statusText;url;ok;type;constructor(se,De=200,ut="OK"){this.headers=se.headers||new Dt,this.status=void 0!==se.status?se.status:De,this.statusText=se.statusText||ut,this.url=se.url||null,this.ok=this.status>=200&&this.status<300}}class le extends ue{constructor(se={}){super(se)}type=Z.ResponseHeader;clone(se={}){return new le({headers:se.headers||this.headers,status:void 0!==se.status?se.status:this.status,statusText:se.statusText||this.statusText,url:se.url||this.url||void 0})}}class ge extends ue{body;constructor(se={}){super(se),this.body=void 0!==se.body?se.body:null}type=Z.Response;clone(se={}){return new ge({body:void 0!==se.body?se.body:this.body,headers:se.headers||this.headers,status:void 0!==se.status?se.status:this.status,statusText:se.statusText||this.statusText,url:se.url||this.url||void 0})}}class te extends ue{name="HttpErrorResponse";message;error;ok=!1;constructor(se){super(se,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${se.url||"(unknown url)"}`:`Http failure response for ${se.url||"(unknown url)"}: ${se.status} ${se.statusText}`,this.error=se.error||null}}function rn(ee,se){return{body:se,headers:ee.headers,context:ee.context,observe:ee.observe,params:ee.params,reportProgress:ee.reportProgress,responseType:ee.responseType,withCredentials:ee.withCredentials,transferCache:ee.transferCache}}let Xt=(()=>{class ee{handler;constructor(De){this.handler=De}request(De,ut,wt={}){let ie;if(De instanceof We)ie=De;else{let At,mt;At=wt.headers instanceof Dt?wt.headers:new Dt(wt.headers),wt.params&&(mt=wt.params instanceof tt?wt.params:new tt({fromObject:wt.params})),ie=new We(De,ut,void 0!==wt.body?wt.body:null,{headers:At,context:wt.context,params:mt,reportProgress:wt.reportProgress,responseType:wt.responseType||"json",withCredentials:wt.withCredentials,transferCache:wt.transferCache})}const _e=(0,fe.of)(ie).pipe((0,q.H)(At=>this.handler.handle(At)));if(De instanceof We||"events"===wt.observe)return _e;const Oe=_e.pipe((0,F.p)(At=>At instanceof ge));switch(wt.observe||"body"){case"body":switch(ie.responseType){case"arraybuffer":return Oe.pipe((0,Ae.T)(At=>{if(null!==At.body&&!(At.body instanceof ArrayBuffer))throw new N.wOt(2806,!1);return At.body}));case"blob":return Oe.pipe((0,Ae.T)(At=>{if(null!==At.body&&!(At.body instanceof Blob))throw new N.wOt(2807,!1);return At.body}));case"text":return Oe.pipe((0,Ae.T)(At=>{if(null!==At.body&&"string"!=typeof At.body)throw new N.wOt(2808,!1);return At.body}));default:return Oe.pipe((0,Ae.T)(At=>At.body))}case"response":return Oe;default:throw new N.wOt(2809,!1)}}delete(De,ut={}){return this.request("DELETE",De,ut)}get(De,ut={}){return this.request("GET",De,ut)}head(De,ut={}){return this.request("HEAD",De,ut)}jsonp(De,ut){return this.request("JSONP",De,{params:(new tt).append(ut,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(De,ut={}){return this.request("OPTIONS",De,ut)}patch(De,ut,wt={}){return this.request("PATCH",De,rn(wt,ut))}post(De,ut,wt={}){return this.request("POST",De,rn(wt,ut))}put(De,ut,wt={}){return this.request("PUT",De,rn(wt,ut))}static \u0275fac=function(ut){return new(ut||ee)(N.KVO(He))};static \u0275prov=N.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const qn=new N.nKC("");function In(ee,se){return se(ee)}const ln=new N.nKC(""),dr=new N.nKC(""),on=new N.nKC("",{providedIn:"root",factory:()=>!0});let ct=(()=>{class ee extends He{backend;injector;chain=null;pendingTasks=(0,N.WQX)(N.Ua0);contributeToStability=(0,N.WQX)(on);constructor(De,ut){super(),this.backend=De,this.injector=ut}handle(De){if(null===this.chain){const ut=Array.from(new Set([...this.injector.get(ln),...this.injector.get(dr,[])]));this.chain=ut.reduceRight((wt,ie)=>function Rr(ee,se,De){return(ut,wt)=>(0,N.N4e)(De,()=>se(ut,ie=>ee(ie,wt)))}(wt,ie,this.injector),In)}if(this.contributeToStability){const ut=this.pendingTasks.add();return this.chain(De,wt=>this.backend.handle(wt)).pipe((0,qe.j)(()=>this.pendingTasks.remove(ut)))}return this.chain(De,ut=>this.backend.handle(ut))}static \u0275fac=function(ut){return new(ut||ee)(N.KVO(st),N.KVO(N.uvJ))};static \u0275prov=N.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const ir=/^\)\]\}',?\n/,di=RegExp(`^${yn}:`,"m");let bn=(()=>{class ee{xhrFactory;constructor(De){this.xhrFactory=De}handle(De){if("JSONP"===De.method)throw new N.wOt(-2800,!1);const ut=this.xhrFactory;return(ut.\u0275loadImpl?(0,me.H)(ut.\u0275loadImpl()):(0,fe.of)(null)).pipe((0,Ee.n)(()=>new ke.c(ie=>{const _e=ut.build();if(_e.open(De.method,De.urlWithParams),De.withCredentials&&(_e.withCredentials=!0),De.headers.forEach((Hn,sr)=>_e.setRequestHeader(Hn,sr.join(","))),De.headers.has("Accept")||_e.setRequestHeader("Accept",St),!De.headers.has(Gn)){const Hn=De.detectContentTypeHeader();null!==Hn&&_e.setRequestHeader(Gn,Hn)}if(De.responseType){const Hn=De.responseType.toLowerCase();_e.responseType="json"!==Hn?Hn:"text"}const Oe=De.serializeBody();let At=null;const mt=()=>{if(null!==At)return At;const Hn=_e.statusText||"OK",sr=new Dt(_e.getAllResponseHeaders()),mi=function lr(ee){return"responseURL"in ee&&ee.responseURL?ee.responseURL:di.test(ee.getAllResponseHeaders())?ee.getResponseHeader(yn):null}(_e)||De.url;return At=new le({headers:sr,status:_e.status,statusText:Hn,url:mi}),At},ht=()=>{let{headers:Hn,status:sr,statusText:mi,url:Ii}=mt(),ve=null;204!==sr&&(ve=typeof _e.response>"u"?_e.responseText:_e.response),0===sr&&(sr=ve?200:0);let Ve=sr>=200&&sr<300;if("json"===De.responseType&&"string"==typeof ve){const Ke=ve;ve=ve.replace(ir,"");try{ve=""!==ve?JSON.parse(ve):null}catch(Lt){ve=Ke,Ve&&(Ve=!1,ve={error:Lt,text:ve})}}Ve?(ie.next(new ge({body:ve,headers:Hn,status:sr,statusText:mi,url:Ii||void 0})),ie.complete()):ie.error(new te({error:ve,headers:Hn,status:sr,statusText:mi,url:Ii||void 0}))},Pt=Hn=>{const{url:sr}=mt(),mi=new te({error:Hn,status:_e.status||0,statusText:_e.statusText||"Unknown Error",url:sr||void 0});ie.error(mi)};let en=!1;const Ln=Hn=>{en||(ie.next(mt()),en=!0);let sr={type:Z.DownloadProgress,loaded:Hn.loaded};Hn.lengthComputable&&(sr.total=Hn.total),"text"===De.responseType&&_e.responseText&&(sr.partialText=_e.responseText),ie.next(sr)},an=Hn=>{let sr={type:Z.UploadProgress,loaded:Hn.loaded};Hn.lengthComputable&&(sr.total=Hn.total),ie.next(sr)};return _e.addEventListener("load",ht),_e.addEventListener("error",Pt),_e.addEventListener("timeout",Pt),_e.addEventListener("abort",Pt),De.reportProgress&&(_e.addEventListener("progress",Ln),null!==Oe&&_e.upload&&_e.upload.addEventListener("progress",an)),_e.send(Oe),ie.next({type:Z.Sent}),()=>{_e.removeEventListener("error",Pt),_e.removeEventListener("abort",Pt),_e.removeEventListener("load",ht),_e.removeEventListener("timeout",Pt),De.reportProgress&&(_e.removeEventListener("progress",Ln),null!==Oe&&_e.upload&&_e.upload.removeEventListener("progress",an)),_e.readyState!==_e.DONE&&_e.abort()}})))}static \u0275fac=function(ut){return new(ut||ee)(N.KVO(pe.N0))};static \u0275prov=N.jDH({token:ee,factory:ee.\u0275fac})}return ee})();const _i=new N.nKC(""),$n=new N.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Le=new N.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class br{}let qi=(()=>{class ee{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(De,ut){this.doc=De,this.cookieName=ut}getToken(){const De=this.doc.cookie||"";return De!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,pe.bS)(De,this.cookieName),this.lastCookieString=De),this.lastToken}static \u0275fac=function(ut){return new(ut||ee)(N.KVO(Je.q),N.KVO($n))};static \u0275prov=N.jDH({token:ee,factory:ee.\u0275fac})}return ee})();function ri(ee,se){const De=ee.url.toLowerCase();if(!(0,N.WQX)(_i)||"GET"===ee.method||"HEAD"===ee.method||De.startsWith("http://")||De.startsWith("https://"))return se(ee);const ut=(0,N.WQX)(br).getToken(),wt=(0,N.WQX)(Le);return null!=ut&&!ee.headers.has(wt)&&(ee=ee.clone({headers:ee.headers.set(wt,ut)})),se(ee)}function wr(...ee){const se=[Xt,bn,ct,{provide:He,useExisting:ct},{provide:st,useFactory:()=>(0,N.WQX)(qn,{optional:!0})??(0,N.WQX)(bn)},{provide:ln,useValue:ri,multi:!0},{provide:_i,useValue:!0},{provide:br,useClass:qi}];for(const De of ee)se.push(...De.\u0275providers);return(0,N.EmA)(se)}},7673:(vn,je,U)=>{"use strict";U.d(je,{of:()=>q});var T=U(9326),N=U(8455);function q(...F){const Ae=(0,T.lI)(F);return(0,N.H)(F,Ae)}},7707:(vn,je,U)=>{"use strict";U.d(je,{Ms:()=>Ut,vU:()=>Je});var T=U(8071),N=U(8359),q=U(1026),F=U(5334),Ae=U(5343);const qe=ke("C",void 0,void 0);function ke(bt,Me,tt){return{kind:bt,value:Me,error:tt}}var me=U(9270),pe=U(9786);class Je extends N.yU{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,N.Uv)(Me)&&Me.add(this)):this.destination=yt}static create(Me,tt,Qe){return new Ut(Me,tt,Qe)}next(Me){this.isStopped?ft(function fe(bt){return ke("N",bt,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?ft(function Ee(bt){return ke("E",void 0,bt)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?ft(qe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function st(bt,Me){return He.call(bt,Me)}class Dt{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:tt}=this;if(tt.next)try{tt.next(Me)}catch(Qe){Ft(Qe)}}error(Me){const{partialObserver:tt}=this;if(tt.error)try{tt.error(Me)}catch(Qe){Ft(Qe)}else Ft(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(tt){Ft(tt)}}}class Ut extends Je{constructor(Me,tt,Qe){let _t;if(super(),(0,T.T)(Me)||!Me)_t={next:Me??void 0,error:tt??void 0,complete:Qe??void 0};else{let zt;this&&q.$.useDeprecatedNextContext?(zt=Object.create(Me),zt.unsubscribe=()=>this.unsubscribe(),_t={next:Me.next&&st(Me.next,zt),error:Me.error&&st(Me.error,zt),complete:Me.complete&&st(Me.complete,zt)}):_t=Me}this.destination=new Dt(_t)}}function Ft(bt){q.$.useDeprecatedSynchronousErrorHandling?(0,pe.l)(bt):(0,F.m)(bt)}function ft(bt,Me){const{onStoppedNotification:tt}=q.$;tt&&me.f.setTimeout(()=>tt(bt,Me))}const yt={closed:!0,next:Ae.l,error:function Qt(bt){throw bt},complete:Ae.l}},7759:(vn,je,U)=>{"use strict";U.d(je,{I:()=>Ut});var T=U(6354),N=U(7673),q=U(9974),F=U(4360),Ae=U(3669),qe=U(1985),Ee=U(3236),fe=U(9470);var pe=U(8750),He=U(9437),st=U(1360),Dt=U(7643);let Ut=(()=>{class Ft{http;BASE_PATH="assets/data/";DATA_FILE="dashboard-data.json";constructor(ft){this.http=ft,console.log("%c<<< Start MOCK-DATA service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getDashboardMetrics(){return this.http.get(`${this.BASE_PATH}dashboard-data.json`)}getTicketGraph(){return this.http.get(`${this.BASE_PATH}${this.DATA_FILE}`).pipe((0,T.T)(ft=>ft.chartData.tickets))}getSatisfactionData(){return this.http.get(`${this.BASE_PATH}satisfaction.json`)}getChannelsData(){return this.http.get(`${this.BASE_PATH}channels.json`)}getNotifications(){return this.http.get(`${this.BASE_PATH}notifications.json`)}getReclamos(){return this.http.get(`${this.BASE_PATH}reclamos.json`).pipe(function Je(Ft=1/0){let Qt;Qt=Ft&&"object"==typeof Ft?Ft:{count:Ft};const{count:ft=1/0,delay:yt,resetOnSuccess:bt=!1}=Qt;return ft<=0?Ae.D:(0,q.N)((Me,tt)=>{let _t,Qe=0;const zt=()=>{let vt=!1;_t=Me.subscribe((0,F._)(tt,ot=>{bt&&(Qe=0),tt.next(ot)},void 0,ot=>{if(Qe++<ft){const Fn=()=>{_t?(_t.unsubscribe(),_t=null,zt()):vt=!0};if(null!=yt){const Sn="number"==typeof yt?function me(Ft=0,Qt,ft=Ee.b){let yt=-1;return null!=Qt&&((0,fe.m)(Qt)?ft=Qt:yt=Qt),new qe.c(bt=>{let Me=function ke(Ft){return Ft instanceof Date&&!isNaN(Ft)}(Ft)?+Ft-ft.now():Ft;Me<0&&(Me=0);let tt=0;return ft.schedule(function(){bt.closed||(bt.next(tt++),0<=yt?this.schedule(void 0,yt):bt.complete())},Me)})}(yt):(0,pe.Tg)(yt(ot,Qe)),Gn=(0,F._)(tt,()=>{Gn.unsubscribe(),Fn()},()=>{tt.complete()});Sn.subscribe(Gn)}else Fn()}else tt.error(ot)})),vt&&(_t.unsubscribe(),_t=null,zt())};zt()})}(2),(0,He.W)(ft=>(console.error("\u274c Error al cargar reclamos:",ft),(0,N.of)([]))))}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ft){const yt=16*Math.random()|0;return("x"===ft?yt:3&yt|8).toString(16)})}static \u0275fac=function(yt){return new(yt||Ft)(st.KVO(Dt.Qq))};static \u0275prov=st.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}return Ft})()},7852:(vn,je,U)=>{"use strict";U.d(je,{MF:()=>bn,j6:()=>si,xZ:()=>gi,om:()=>ni,Sx:()=>$n,Dk:()=>Ki,Wp:()=>_i,KO:()=>qi});var T=U(467),N=U(1362),q=U(8041),F=U(6858);let qe,Ee;const me=new WeakMap,pe=new WeakMap,Je=new WeakMap,He=new WeakMap,st=new WeakMap;let Ft={get(ie,_e,Oe){if(ie instanceof IDBTransaction){if("done"===_e)return pe.get(ie);if("objectStoreNames"===_e)return ie.objectStoreNames||Je.get(ie);if("store"===_e)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return bt(ie[_e])},set:(ie,_e,Oe)=>(ie[_e]=Oe,!0),has:(ie,_e)=>ie instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in ie};function yt(ie){return"function"==typeof ie?function ft(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ke(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(..._e){return ie.apply(Me(this),_e),bt(me.get(this))}:function(..._e){return bt(ie.apply(Me(this),_e))}:function(_e,...Oe){const At=ie.call(Me(this),_e,...Oe);return Je.set(At,_e.sort?_e.sort():[_e]),bt(At)}}(ie):(ie instanceof IDBTransaction&&function Ut(ie){if(pe.has(ie))return;const _e=new Promise((Oe,At)=>{const mt=()=>{ie.removeEventListener("complete",ht),ie.removeEventListener("error",Pt),ie.removeEventListener("abort",Pt)},ht=()=>{Oe(),mt()},Pt=()=>{At(ie.error||new DOMException("AbortError","AbortError")),mt()};ie.addEventListener("complete",ht),ie.addEventListener("error",Pt),ie.addEventListener("abort",Pt)});pe.set(ie,_e)}(ie),((ie,_e)=>_e.some(Oe=>ie instanceof Oe))(ie,function fe(){return qe||(qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,Ft):ie)}function bt(ie){if(ie instanceof IDBRequest)return function Dt(ie){const _e=new Promise((Oe,At)=>{const mt=()=>{ie.removeEventListener("success",ht),ie.removeEventListener("error",Pt)},ht=()=>{Oe(bt(ie.result)),mt()},Pt=()=>{At(ie.error),mt()};ie.addEventListener("success",ht),ie.addEventListener("error",Pt)});return _e.then(Oe=>{Oe instanceof IDBCursor&&me.set(Oe,ie)}).catch(()=>{}),st.set(_e,ie),_e}(ie);if(He.has(ie))return He.get(ie);const _e=yt(ie);return _e!==ie&&(He.set(ie,_e),st.set(_e,ie)),_e}const Me=ie=>st.get(ie),_t=["get","getKey","getAll","getAllKeys","count"],zt=["put","add","delete","clear"],vt=new Map;function ot(ie,_e){if(!(ie instanceof IDBDatabase)||_e in ie||"string"!=typeof _e)return;if(vt.get(_e))return vt.get(_e);const Oe=_e.replace(/FromIndex$/,""),At=_e!==Oe,mt=zt.includes(Oe);if(!(Oe in(At?IDBIndex:IDBObjectStore).prototype)||!mt&&!_t.includes(Oe))return;const ht=function(){var Pt=(0,T.A)(function*(en,...Ln){const an=this.transaction(en,mt?"readwrite":"readonly");let Hn=an.store;return At&&(Hn=Hn.index(Ln.shift())),(yield Promise.all([Hn[Oe](...Ln),mt&&an.done]))[0]});return function(Ln){return Pt.apply(this,arguments)}}();return vt.set(_e,ht),ht}!function Qt(ie){Ft=ie(Ft)}(ie=>({...ie,get:(_e,Oe,At)=>ot(_e,Oe)||ie.get(_e,Oe,At),has:(_e,Oe)=>!!ot(_e,Oe)||ie.has(_e,Oe)}));class Fn{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function Sn(ie){const _e=ie.getComponent();return"VERSION"===_e?.type}(Oe)){const At=Oe.getImmediate();return`${At.library}/${At.version}`}return null}).filter(Oe=>Oe).join(" ")}}const Gn="@firebase/app",yn=new q.Vy("@firebase/app"),Xe="@firebase/app-compat",Jt="@firebase/analytics-compat",St="@firebase/analytics",We="@firebase/app-check-compat",Z="@firebase/app-check",ue="@firebase/auth",le="@firebase/auth-compat",ge="@firebase/database",te="@firebase/data-connect",de="@firebase/database-compat",Ge="@firebase/functions",pt="@firebase/functions-compat",rn="@firebase/installations",Xt="@firebase/installations-compat",er="@firebase/messaging",Ht="@firebase/messaging-compat",qn="@firebase/performance",Bn="@firebase/performance-compat",Kt="@firebase/remote-config",On="@firebase/remote-config-compat",Jn="@firebase/storage",In="@firebase/storage-compat",Pr="@firebase/firestore",Rr="@firebase/ai",wi="@firebase/firestore-compat",ln="firebase",on="[DEFAULT]",Gi={[Gn]:"fire-core",[Xe]:"fire-core-compat",[St]:"fire-analytics",[Jt]:"fire-analytics-compat",[Z]:"fire-app-check",[We]:"fire-app-check-compat",[ue]:"fire-auth",[le]:"fire-auth-compat",[ge]:"fire-rtdb",[te]:"fire-data-connect",[de]:"fire-rtdb-compat",[Ge]:"fire-fn",[pt]:"fire-fn-compat",[rn]:"fire-iid",[Xt]:"fire-iid-compat",[er]:"fire-fcm",[Ht]:"fire-fcm-compat",[qn]:"fire-perf",[Bn]:"fire-perf-compat",[Kt]:"fire-rc",[On]:"fire-rc-compat",[Jn]:"fire-gcs",[In]:"fire-gcs-compat",[Pr]:"fire-fst",[wi]:"fire-fst-compat",[Rr]:"fire-vertex","fire-js":"fire-js",[ln]:"fire-js-all"},Mr=new Map,ct=new Map,Er=new Map;function Kn(ie,_e){try{ie.container.addComponent(_e)}catch(Oe){yn.debug(`Component ${_e.name} failed to register with FirebaseApp ${ie.name}`,Oe)}}function ni(ie){const _e=ie.name;if(Er.has(_e))return yn.debug(`There were multiple attempts to register component ${_e}.`),!1;Er.set(_e,ie);for(const Oe of Mr.values())Kn(Oe,ie);for(const Oe of ct.values())Kn(Oe,ie);return!0}function si(ie,_e){const Oe=ie.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),ie.container.getProvider(_e)}function gi(ie){return null!=ie&&void 0!==ie.settings}const cr=new F.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ir{constructor(_e,Oe,At){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new N.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const bn="11.8.0";function _i(ie,_e={}){let Oe=ie;"object"!=typeof _e&&(_e={name:_e});const At=Object.assign({name:on,automaticDataCollectionEnabled:!0},_e),mt=At.name;if("string"!=typeof mt||!mt)throw cr.create("bad-app-name",{appName:String(mt)});if(Oe||(Oe=(0,F.T9)()),!Oe)throw cr.create("no-options");const ht=Mr.get(mt);if(ht){if((0,F.bD)(Oe,ht.options)&&(0,F.bD)(At,ht.config))return ht;throw cr.create("duplicate-app",{appName:mt})}const Pt=new N.h1(mt);for(const Ln of Er.values())Pt.addComponent(Ln);const en=new ir(Oe,At,Pt);return Mr.set(mt,en),en}function $n(ie=on){const _e=Mr.get(ie);if(!_e&&ie===on&&(0,F.T9)())return _i();if(!_e)throw cr.create("no-app",{appName:ie});return _e}function Ki(){return Array.from(Mr.values())}function qi(ie,_e,Oe){var At;let mt=null!==(At=Gi[ie])&&void 0!==At?At:ie;Oe&&(mt+=`-${Oe}`);const ht=mt.match(/\s|\//),Pt=_e.match(/\s|\//);if(ht||Pt){const en=[`Unable to register library "${mt}" with version "${_e}":`];return ht&&en.push(`library name "${mt}" contains illegal characters (whitespace or "/")`),ht&&Pt&&en.push("and"),Pt&&en.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void yn.warn(en.join(" "))}ni(new N.uA(`${mt}-version`,()=>({library:mt,version:_e}),"VERSION"))}const wr="firebase-heartbeat-store";let xi=null;function ki(){return xi||(xi=function tt(ie,_e,{blocked:Oe,upgrade:At,blocking:mt,terminated:ht}={}){const Pt=indexedDB.open(ie,_e),en=bt(Pt);return At&&Pt.addEventListener("upgradeneeded",Ln=>{At(bt(Pt.result),Ln.oldVersion,Ln.newVersion,bt(Pt.transaction),Ln)}),Oe&&Pt.addEventListener("blocked",Ln=>Oe(Ln.oldVersion,Ln.newVersion,Ln)),en.then(Ln=>{ht&&Ln.addEventListener("close",()=>ht()),mt&&Ln.addEventListener("versionchange",an=>mt(an.oldVersion,an.newVersion,an))}).catch(()=>{}),en}("firebase-heartbeat-database",1,{upgrade:(ie,_e)=>{if(0===_e)try{ie.createObjectStore(wr)}catch(Oe){console.warn(Oe)}}}).catch(ie=>{throw cr.create("idb-open",{originalErrorMessage:ie.message})})),xi}function Te(){return(Te=(0,T.A)(function*(ie){try{const Oe=(yield ki()).transaction(wr),At=yield Oe.objectStore(wr).get(Nt(ie));return yield Oe.done,At}catch(_e){if(_e instanceof F.g)yn.warn(_e.message);else{const Oe=cr.create("idb-get",{originalErrorMessage:_e?.message});yn.warn(Oe.message)}}})).apply(this,arguments)}function ye(ie,_e){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,T.A)(function*(ie,_e){try{const At=(yield ki()).transaction(wr,"readwrite");yield At.objectStore(wr).put(_e,Nt(ie)),yield At.done}catch(Oe){if(Oe instanceof F.g)yn.warn(Oe.message);else{const At=cr.create("idb-set",{originalErrorMessage:Oe?.message});yn.warn(At.message)}}})).apply(this,arguments)}function Nt(ie){return`${ie.name}!${ie.options.appId}`}class An{constructor(_e){this.container=_e,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new se(Oe),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var _e=this;return(0,T.A)(function*(){var Oe,At;try{const ht=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=pr();if(null==(null===(Oe=_e._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise,null==(null===(At=_e._heartbeatsCache)||void 0===At?void 0:At.heartbeats))||_e._heartbeatsCache.lastSentHeartbeatDate===Pt||_e._heartbeatsCache.heartbeats.some(en=>en.date===Pt))return;if(_e._heartbeatsCache.heartbeats.push({date:Pt,agent:ht}),_e._heartbeatsCache.heartbeats.length>30){const en=function ut(ie){if(0===ie.length)return-1;let _e=0,Oe=ie[0].date;for(let At=1;At<ie.length;At++)ie[At].date<Oe&&(Oe=ie[At].date,_e=At);return _e}(_e._heartbeatsCache.heartbeats);_e._heartbeatsCache.heartbeats.splice(en,1)}return _e._storage.overwrite(_e._heartbeatsCache)}catch(mt){yn.warn(mt)}})()}getHeartbeatsHeader(){var _e=this;return(0,T.A)(function*(){var Oe;try{if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null==(null===(Oe=_e._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)||0===_e._heartbeatsCache.heartbeats.length)return"";const At=pr(),{heartbeatsToSend:mt,unsentEntries:ht}=function ee(ie,_e=1024){const Oe=[];let At=ie.slice();for(const mt of ie){const ht=Oe.find(Pt=>Pt.agent===mt.agent);if(ht){if(ht.dates.push(mt.date),De(Oe)>_e){ht.dates.pop();break}}else if(Oe.push({agent:mt.agent,dates:[mt.date]}),De(Oe)>_e){Oe.pop();break}At=At.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:At}}(_e._heartbeatsCache.heartbeats),Pt=(0,F.Uj)(JSON.stringify({version:2,heartbeats:mt}));return _e._heartbeatsCache.lastSentHeartbeatDate=At,ht.length>0?(_e._heartbeatsCache.heartbeats=ht,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),Pt}catch(At){return yn.warn(At),""}})()}}function pr(){return(new Date).toISOString().substring(0,10)}class se{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.A)(function*(){return!!(0,F.zW)()&&(0,F.eX)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,T.A)(function*(){if(yield _e._canUseIndexedDBPromise){const At=yield function Si(ie){return Te.apply(this,arguments)}(_e.app);return At?.heartbeats?At:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(_e){var Oe=this;return(0,T.A)(function*(){var At;if(yield Oe._canUseIndexedDBPromise){const ht=yield Oe.read();return ye(Oe.app,{lastSentHeartbeatDate:null!==(At=_e.lastSentHeartbeatDate)&&void 0!==At?At:ht.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var Oe=this;return(0,T.A)(function*(){var At;if(yield Oe._canUseIndexedDBPromise){const ht=yield Oe.read();return ye(Oe.app,{lastSentHeartbeatDate:null!==(At=_e.lastSentHeartbeatDate)&&void 0!==At?At:ht.lastSentHeartbeatDate,heartbeats:[...ht.heartbeats,..._e.heartbeats]})}})()}}function De(ie){return(0,F.Uj)(JSON.stringify({version:2,heartbeats:ie})).length}!function wt(ie){ni(new N.uA("platform-logger",_e=>new Fn(_e),"PRIVATE")),ni(new N.uA("heartbeat",_e=>new An(_e),"PRIVATE")),qi(Gn,"0.13.0",ie),qi(Gn,"0.13.0","esm2017"),qi("fire-js","")}("")},7908:(vn,je,U)=>{"use strict";function T(N,q){if(N){const F=N.indexOf(q);0<=F&&N.splice(F,1)}}U.d(je,{o:()=>T})},7953:(vn,je,U)=>{"use strict";U.d(je,{T:()=>N});var T=U(8071);function N(q){return Symbol.asyncIterator&&(0,T.T)(q?.[Symbol.asyncIterator])}},8032:function(vn){vn.exports=function(){"use strict";var je={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const T=R=>{const P={};for(const j in R)P[R[j]]="swal2-"+R[j];return P},N=T(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),q=T(["success","warning","info","question","error"]),F="SweetAlert2:",qe=R=>R.charAt(0).toUpperCase()+R.slice(1),Ee=R=>{console.warn(`${F} ${"object"==typeof R?R.join(" "):R}`)},fe=R=>{console.error(`${F} ${R}`)},ke=[],pe=(R,P)=>{(R=>{ke.includes(R)||(ke.push(R),Ee(R))})(`"${R}" is deprecated and will be removed in the next major release. Please use "${P}" instead.`)},Je=R=>"function"==typeof R?R():R,He=R=>R&&"function"==typeof R.toPromise,st=R=>He(R)?R.toPromise():Promise.resolve(R),Dt=R=>R&&Promise.resolve(R)===R,Ut=()=>document.body.querySelector(`.${N.container}`),Ft=R=>{const P=Ut();return P?P.querySelector(R):null},Qt=R=>Ft(`.${R}`),ft=()=>Qt(N.popup),yt=()=>Qt(N.icon),Me=()=>Qt(N.title),tt=()=>Qt(N["html-container"]),Qe=()=>Qt(N.image),_t=()=>Qt(N["progress-steps"]),zt=()=>Qt(N["validation-message"]),vt=()=>Ft(`.${N.actions} .${N.confirm}`),ot=()=>Ft(`.${N.actions} .${N.deny}`),Sn=()=>Ft(`.${N.loader}`),Gn=()=>Ft(`.${N.actions} .${N.cancel}`),lt=()=>Qt(N.actions),yn=()=>Qt(N.footer),Xe=()=>Qt(N["timer-progress-bar"]),Jt=()=>Qt(N.close),We=()=>{const R=Array.from(ft().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((j,be)=>{const Mt=parseInt(j.getAttribute("tabindex")),Dn=parseInt(be.getAttribute("tabindex"));return Mt>Dn?1:Mt<Dn?-1:0}),P=Array.from(ft().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(j=>"-1"!==j.getAttribute("tabindex"));return(R=>{const P=[];for(let j=0;j<R.length;j++)-1===P.indexOf(R[j])&&P.push(R[j]);return P})(R.concat(P)).filter(j=>Rr(j))},Z=()=>de(document.body,N.shown)&&!de(document.body,N["toast-shown"])&&!de(document.body,N["no-backdrop"]),ue=()=>ft()&&de(ft(),N.toast),ge={previousBodyPadding:null},te=(R,P)=>{if(R.textContent="",P){const be=(new DOMParser).parseFromString(P,"text/html");Array.from(be.querySelector("head").childNodes).forEach(Mt=>{R.appendChild(Mt)}),Array.from(be.querySelector("body").childNodes).forEach(Mt=>{Mt instanceof HTMLVideoElement||Mt instanceof HTMLAudioElement?R.appendChild(Mt.cloneNode(!0)):R.appendChild(Mt)})}},de=(R,P)=>{if(!P)return!1;const j=P.split(/\s+/);for(let be=0;be<j.length;be++)if(!R.classList.contains(j[be]))return!1;return!0},pt=(R,P,j)=>{if(((R,P)=>{Array.from(R.classList).forEach(j=>{!Object.values(N).includes(j)&&!Object.values(q).includes(j)&&!Object.values(P.showClass).includes(j)&&R.classList.remove(j)})})(R,P),P.customClass&&P.customClass[j]){if("string"!=typeof P.customClass[j]&&!P.customClass[j].forEach)return void Ee(`Invalid type of customClass.${j}! Expected string or iterable object, got "${typeof P.customClass[j]}"`);Ht(R,P.customClass[j])}},rn=(R,P)=>{if(!P)return null;switch(P){case"select":case"textarea":case"file":return R.querySelector(`.${N.popup} > .${N[P]}`);case"checkbox":return R.querySelector(`.${N.popup} > .${N.checkbox} input`);case"radio":return R.querySelector(`.${N.popup} > .${N.radio} input:checked`)||R.querySelector(`.${N.popup} > .${N.radio} input:first-child`);case"range":return R.querySelector(`.${N.popup} > .${N.range} input`);default:return R.querySelector(`.${N.popup} > .${N.input}`)}},Xt=R=>{if(R.focus(),"file"!==R.type){const P=R.value;R.value="",R.value=P}},er=(R,P,j)=>{!R||!P||("string"==typeof P&&(P=P.split(/\s+/).filter(Boolean)),P.forEach(be=>{Array.isArray(R)?R.forEach(Mt=>{j?Mt.classList.add(be):Mt.classList.remove(be)}):j?R.classList.add(be):R.classList.remove(be)}))},Ht=(R,P)=>{er(R,P,!0)},qn=(R,P)=>{er(R,P,!1)},Bn=(R,P)=>{const j=Array.from(R.children);for(let be=0;be<j.length;be++){const Mt=j[be];if(Mt instanceof HTMLElement&&de(Mt,P))return Mt}},Kt=(R,P,j)=>{j===`${parseInt(j)}`&&(j=parseInt(j)),j||0===parseInt(j)?R.style[P]="number"==typeof j?`${j}px`:j:R.style.removeProperty(P)},On=function(R){R.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Jn=R=>{R.style.display="none"},In=(R,P,j,be)=>{const Mt=R.querySelector(P);Mt&&(Mt.style[j]=be)},Pr=function(R,P){P?On(R,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Jn(R)},Rr=R=>!(!R||!(R.offsetWidth||R.offsetHeight||R.getClientRects().length)),ln=R=>R.scrollHeight>R.clientHeight,dr=R=>{const P=window.getComputedStyle(R),j=parseFloat(P.getPropertyValue("animation-duration")||"0"),be=parseFloat(P.getPropertyValue("transition-duration")||"0");return j>0||be>0},on=function(R){let P=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const j=Xe();Rr(j)&&(P&&(j.style.transition="none",j.style.width="100%"),setTimeout(()=>{j.style.transition=`width ${R/1e3}s linear`,j.style.width="0%"},10))},ct={},Kn=R=>new Promise(P=>{if(!R)return P();const j=window.scrollX,be=window.scrollY;ct.restoreFocusTimeout=setTimeout(()=>{ct.previousActiveElement instanceof HTMLElement?(ct.previousActiveElement.focus(),ct.previousActiveElement=null):document.body&&document.body.focus(),P()},100),window.scrollTo(j,be)}),Gt=()=>typeof window>"u"||typeof document>"u",ni=`\n <div aria-labelledby="${N.title}" aria-describedby="${N["html-container"]}" class="${N.popup}" tabindex="-1">\n   <button type="button" class="${N.close}"></button>\n   <ul class="${N["progress-steps"]}"></ul>\n   <div class="${N.icon}"></div>\n   <img class="${N.image}" />\n   <h2 class="${N.title}" id="${N.title}"></h2>\n   <div class="${N["html-container"]}" id="${N["html-container"]}"></div>\n   <input class="${N.input}" />\n   <input type="file" class="${N.file}" />\n   <div class="${N.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${N.select}"></select>\n   <div class="${N.radio}"></div>\n   <label for="${N.checkbox}" class="${N.checkbox}">\n     <input type="checkbox" />\n     <span class="${N.label}"></span>\n   </label>\n   <textarea class="${N.textarea}"></textarea>\n   <div class="${N["validation-message"]}" id="${N["validation-message"]}"></div>\n   <div class="${N.actions}">\n     <div class="${N.loader}"></div>\n     <button type="button" class="${N.confirm}"></button>\n     <button type="button" class="${N.deny}"></button>\n     <button type="button" class="${N.cancel}"></button>\n   </div>\n   <div class="${N.footer}"></div>\n   <div class="${N["timer-progress-bar-container"]}">\n     <div class="${N["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),li=()=>{ct.currentInstance.resetValidationMessage()},cr=R=>{const P=(()=>{const R=Ut();return!!R&&(R.remove(),qn([document.documentElement,document.body],[N["no-backdrop"],N["toast-shown"],N["has-column"]]),!0)})();if(Gt())return void fe("SweetAlert2 requires document to initialize");const j=document.createElement("div");j.className=N.container,P&&Ht(j,N["no-transition"]),te(j,ni);const be=(R=>"string"==typeof R?document.querySelector(R):R)(R.target);be.appendChild(j),(R=>{const P=ft();P.setAttribute("role",R.toast?"alert":"dialog"),P.setAttribute("aria-live",R.toast?"polite":"assertive"),R.toast||P.setAttribute("aria-modal","true")})(R),(R=>{"rtl"===window.getComputedStyle(R).direction&&Ht(Ut(),N.rtl)})(be),(()=>{const R=ft(),P=Bn(R,N.input),j=Bn(R,N.file),be=R.querySelector(`.${N.range} input`),Mt=R.querySelector(`.${N.range} output`),Dn=Bn(R,N.select),ar=R.querySelector(`.${N.checkbox} input`),Li=Bn(R,N.textarea);P.oninput=li,j.onchange=li,Dn.onchange=li,ar.onchange=li,Li.oninput=li,be.oninput=()=>{li(),Mt.value=be.value},be.onchange=()=>{li(),Mt.value=be.value}})()},ir=(R,P)=>{R instanceof HTMLElement?P.appendChild(R):"object"==typeof R?di(R,P):R&&te(P,R)},di=(R,P)=>{R.jquery?lr(P,R):te(P,R.toString())},lr=(R,P)=>{if(R.textContent="",0 in P)for(let j=0;j in P;j++)R.appendChild(P[j].cloneNode(!0));else R.appendChild(P.cloneNode(!0))},bn=(()=>{if(Gt())return!1;const R=document.createElement("div"),P={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const j in P)if(Object.prototype.hasOwnProperty.call(P,j)&&typeof R.style[j]<"u")return P[j];return!1})(),Nr=(R,P)=>{const j=lt(),be=Sn();P.showConfirmButton||P.showDenyButton||P.showCancelButton?On(j):Jn(j),pt(j,P,"actions"),function $n(R,P,j){const be=vt(),Mt=ot(),Dn=Gn();Le(be,"confirm",j),Le(Mt,"deny",j),Le(Dn,"cancel",j),function Ki(R,P,j,be){be.buttonsStyling?(Ht([R,P,j],N.styled),be.confirmButtonColor&&(R.style.backgroundColor=be.confirmButtonColor,Ht(R,N["default-outline"])),be.denyButtonColor&&(P.style.backgroundColor=be.denyButtonColor,Ht(P,N["default-outline"])),be.cancelButtonColor&&(j.style.backgroundColor=be.cancelButtonColor,Ht(j,N["default-outline"]))):qn([R,P,j],N.styled)}(be,Mt,Dn,j),j.reverseButtons&&(j.toast?(R.insertBefore(Dn,be),R.insertBefore(Mt,be)):(R.insertBefore(Dn,P),R.insertBefore(Mt,P),R.insertBefore(be,P)))}(j,be,P),te(be,P.loaderHtml),pt(be,P,"loader")};function Le(R,P,j){Pr(R,j[`show${qe(P)}Button`],"inline-block"),te(R,j[`${P}ButtonText`]),R.setAttribute("aria-label",j[`${P}ButtonAriaLabel`]),R.className=N[P],pt(R,j,`${P}Button`),Ht(R,j[`${P}ButtonClass`])}const qi=(R,P)=>{const j=Ut();j&&(function ri(R,P){"string"==typeof P?R.style.background=P:P||Ht([document.documentElement,document.body],N["no-backdrop"])}(j,P.backdrop),function Ni(R,P){P in N?Ht(R,N[P]):(Ee('The "position" parameter is not valid, defaulting to "center"'),Ht(R,N.center))}(j,P.position),function pn(R,P){if(P&&"string"==typeof P){const j=`grow-${P}`;j in N&&Ht(R,N[j])}}(j,P.grow),pt(j,P,"container"))};const fr=["input","file","range","select","radio","checkbox","textarea"],xi=R=>{if(!qt[R.input])return void fe(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${R.input}"`);const P=Nt(R.input),j=qt[R.input](P,R);On(P),setTimeout(()=>{Xt(j)})},Si=(R,P)=>{const j=rn(ft(),R);if(j){(R=>{for(let P=0;P<R.attributes.length;P++){const j=R.attributes[P].name;["type","value","style"].includes(j)||R.removeAttribute(j)}})(j);for(const be in P)j.setAttribute(be,P[be])}},Te=R=>{const P=Nt(R.input);"object"==typeof R.customClass&&Ht(P,R.customClass.input)},ye=(R,P)=>{(!R.placeholder||P.inputPlaceholder)&&(R.placeholder=P.inputPlaceholder)},Ue=(R,P,j)=>{if(j.inputLabel){R.id=N.input;const be=document.createElement("label"),Mt=N["input-label"];be.setAttribute("for",R.id),be.className=Mt,"object"==typeof j.customClass&&Ht(be,j.customClass.inputLabel),be.innerText=j.inputLabel,P.insertAdjacentElement("beforebegin",be)}},Nt=R=>Bn(ft(),N[R]||N.input),Ze=(R,P)=>{["string","number"].includes(typeof P)?R.value=`${P}`:Dt(P)||Ee(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof P}"`)},qt={};qt.text=qt.email=qt.password=qt.number=qt.tel=qt.url=(R,P)=>(Ze(R,P.inputValue),Ue(R,R,P),ye(R,P),R.type=P.input,R),qt.file=(R,P)=>(Ue(R,R,P),ye(R,P),R),qt.range=(R,P)=>{const j=R.querySelector("input"),be=R.querySelector("output");return Ze(j,P.inputValue),j.type=P.input,Ze(be,P.inputValue),Ue(j,R,P),R},qt.select=(R,P)=>{if(R.textContent="",P.inputPlaceholder){const j=document.createElement("option");te(j,P.inputPlaceholder),j.value="",j.disabled=!0,j.selected=!0,R.appendChild(j)}return Ue(R,R,P),R},qt.radio=R=>(R.textContent="",R),qt.checkbox=(R,P)=>{const j=rn(ft(),"checkbox");j.value="1",j.id=N.checkbox,j.checked=!!P.inputValue;const be=R.querySelector("span");return te(be,P.inputPlaceholder),j},qt.textarea=(R,P)=>{Ze(R,P.inputValue),ye(R,P),Ue(R,R,P);return setTimeout(()=>{if("MutationObserver"in window){const be=parseInt(window.getComputedStyle(ft()).width);new MutationObserver(()=>{const Dn=R.offsetWidth+(be=>parseInt(window.getComputedStyle(be).marginLeft)+parseInt(window.getComputedStyle(be).marginRight))(R);ft().style.width=Dn>be?`${Dn}px`:null}).observe(R,{attributes:!0,attributeFilter:["style"]})}}),R};const An=(R,P)=>{const j=tt();pt(j,P,"htmlContainer"),P.html?(ir(P.html,j),On(j,"block")):P.text?(j.textContent=P.text,On(j,"block")):Jn(j),((R,P)=>{const j=ft(),be=je.innerParams.get(R),Mt=!be||P.input!==be.input;fr.forEach(Dn=>{const ar=Bn(j,N[Dn]);Si(Dn,P.inputAttributes),ar.className=N[Dn],Mt&&Jn(ar)}),P.input&&(Mt&&xi(P),Te(P))})(R,P)},se=(R,P)=>{for(const j in q)P.icon!==j&&qn(R,q[j]);Ht(R,q[P.icon]),_e(R,P),De(),pt(R,P,"icon")},De=()=>{const R=ft(),P=window.getComputedStyle(R).getPropertyValue("background-color"),j=R.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let be=0;be<j.length;be++)j[be].style.backgroundColor=P},ie=(R,P)=>{let be,j=R.innerHTML;P.iconHtml?be=Oe(P.iconHtml):"success"===P.icon?(be='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',j=j.replace(/ style=".*?"/g,"")):be="error"===P.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Oe({question:"?",warning:"!",info:"i"}[P.icon]),j.trim()!==be.trim()&&te(R,be)},_e=(R,P)=>{if(P.iconColor){R.style.color=P.iconColor,R.style.borderColor=P.iconColor;for(const j of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])In(R,j,"backgroundColor",P.iconColor);In(R,".swal2-success-ring","borderColor",P.iconColor)}},Oe=R=>`<div class="${N["icon-content"]}">${R}</div>`,ht=(R,P)=>{R.className=`${N.popup} ${Rr(R)?P.showClass.popup:""}`,P.toast?(Ht([document.documentElement,document.body],N["toast-shown"]),Ht(R,N.toast)):Ht(R,N.modal),pt(R,P,"popup"),"string"==typeof P.customClass&&Ht(R,P.customClass),P.icon&&Ht(R,N[`icon-${P.icon}`])},en=R=>{const P=document.createElement("li");return Ht(P,N["progress-step"]),te(P,R),P},Ln=R=>{const P=document.createElement("li");return Ht(P,N["progress-step-line"]),R.progressStepsDistance&&Kt(P,"width",R.progressStepsDistance),P},Hn=(R,P)=>{((R,P)=>{const j=Ut(),be=ft();P.toast?(Kt(j,"width",P.width),be.style.width="100%",be.insertBefore(Sn(),yt())):Kt(be,"width",P.width),Kt(be,"padding",P.padding),P.color&&(be.style.color=P.color),P.background&&(be.style.background=P.background),Jn(zt()),ht(be,P)})(0,P),qi(0,P),((R,P)=>{const j=_t();P.progressSteps&&0!==P.progressSteps.length?(On(j),j.textContent="",P.currentProgressStep>=P.progressSteps.length&&Ee("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),P.progressSteps.forEach((be,Mt)=>{const Dn=en(be);if(j.appendChild(Dn),Mt===P.currentProgressStep&&Ht(Dn,N["active-progress-step"]),Mt!==P.progressSteps.length-1){const ar=Ln(P);j.appendChild(ar)}})):Jn(j)})(0,P),((R,P)=>{const j=je.innerParams.get(R),be=yt();j&&P.icon===j.icon?(ie(be,P),se(be,P)):P.icon||P.iconHtml?P.icon&&-1===Object.keys(q).indexOf(P.icon)?(fe(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${P.icon}"`),Jn(be)):(On(be),ie(be,P),se(be,P),Ht(be,P.showClass.icon)):Jn(be)})(R,P),((R,P)=>{const j=Qe();P.imageUrl?(On(j,""),j.setAttribute("src",P.imageUrl),j.setAttribute("alt",P.imageAlt),Kt(j,"width",P.imageWidth),Kt(j,"height",P.imageHeight),j.className=N.image,pt(j,P,"image")):Jn(j)})(0,P),((R,P)=>{const j=Me();Pr(j,P.title||P.titleText,"block"),P.title&&ir(P.title,j),P.titleText&&(j.innerText=P.titleText),pt(j,P,"title")})(0,P),((R,P)=>{const j=Jt();te(j,P.closeButtonHtml),pt(j,P,"closeButton"),Pr(j,P.showCloseButton),j.setAttribute("aria-label",P.closeButtonAriaLabel)})(0,P),An(R,P),Nr(0,P),((R,P)=>{const j=yn();Pr(j,P.footer),P.footer&&ir(P.footer,j),pt(j,P,"footer")})(0,P),"function"==typeof P.didRender&&P.didRender(ft())};function sr(){const R=je.innerParams.get(this);if(!R)return;const P=je.domCache.get(this);Jn(P.loader),ue()?R.icon&&On(yt()):mi(P),qn([P.popup,P.actions],N.loading),P.popup.removeAttribute("aria-busy"),P.popup.removeAttribute("data-loading"),P.confirmButton.disabled=!1,P.denyButton.disabled=!1,P.cancelButton.disabled=!1}const mi=R=>{const P=R.popup.getElementsByClassName(R.loader.getAttribute("data-button-to-replace"));P.length?On(P[0],"inline-block"):!Rr(vt())&&!Rr(ot())&&!Rr(Gn())&&Jn(R.actions)};const Ve=()=>vt()&&vt().click(),$t=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),En=R=>{R.keydownTarget&&R.keydownHandlerAdded&&(R.keydownTarget.removeEventListener("keydown",R.keydownHandler,{capture:R.keydownListenerCapture}),R.keydownHandlerAdded=!1)},Tn=(R,P,j)=>{const be=We();if(be.length)return(P+=j)===be.length?P=0:-1===P&&(P=be.length-1),be[P].focus();ft().focus()},tr=["ArrowRight","ArrowDown"],$r=["ArrowLeft","ArrowUp"],So=(R,P,j)=>{const be=je.innerParams.get(R);be&&(P.isComposing||229===P.keyCode||(be.stopKeydownPropagation&&P.stopPropagation(),"Enter"===P.key?Cr(R,P,be):"Tab"===P.key?so(P,be):[...tr,...$r].includes(P.key)?Ui(P.key):"Escape"===P.key&&Lo(P,be,j)))},Cr=(R,P,j)=>{if(Je(j.allowEnterKey)&&P.target&&R.getInput()&&P.target instanceof HTMLElement&&P.target.outerHTML===R.getInput().outerHTML){if(["textarea","file"].includes(j.input))return;Ve(),P.preventDefault()}},so=(R,P)=>{const j=R.target,be=We();let Mt=-1;for(let Dn=0;Dn<be.length;Dn++)if(j===be[Dn]){Mt=Dn;break}Tn(0,Mt,R.shiftKey?-1:1),R.stopPropagation(),R.preventDefault()},Ui=R=>{const P=vt(),j=ot(),be=Gn();if(document.activeElement instanceof HTMLElement&&![P,j,be].includes(document.activeElement))return;const Mt=tr.includes(R)?"nextElementSibling":"previousElementSibling";let Dn=document.activeElement;for(let ar=0;ar<lt().children.length;ar++){if(Dn=Dn[Mt],!Dn)return;if(Dn instanceof HTMLButtonElement&&Rr(Dn))break}Dn instanceof HTMLButtonElement&&Dn.focus()},Lo=(R,P,j)=>{Je(P.allowEscapeKey)&&(R.preventDefault(),j($t.esc))};var no={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const he=()=>{Array.from(document.body.children).forEach(P=>{P.hasAttribute("data-previous-aria-hidden")?(P.setAttribute("aria-hidden",P.getAttribute("data-previous-aria-hidden")),P.removeAttribute("data-previous-aria-hidden")):P.removeAttribute("aria-hidden")})},J=()=>{const R=navigator.userAgent,P=!!R.match(/iPad/i)||!!R.match(/iPhone/i),j=!!R.match(/WebKit/i);P&&j&&!R.match(/CriOS/i)&&ft().scrollHeight>window.innerHeight-44&&(Ut().style.paddingBottom="44px")},Re=()=>{const R=Ut();let P;R.ontouchstart=j=>{P=It(j)},R.ontouchmove=j=>{P&&(j.preventDefault(),j.stopPropagation())}},It=R=>{const P=R.target,j=Ut();return!sn(R)&&!Nn(R)&&(P===j||!ln(j)&&P instanceof HTMLElement&&"INPUT"!==P.tagName&&"TEXTAREA"!==P.tagName&&!(ln(tt())&&tt().contains(P)))},sn=R=>R.touches&&R.touches.length&&"stylus"===R.touches[0].touchType,Nn=R=>R.touches&&R.touches.length>1,qr=()=>{null===ge.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(ge.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ge.previousBodyPadding+(()=>{const R=document.createElement("div");R.className=N["scrollbar-measure"],document.body.appendChild(R);const P=R.getBoundingClientRect().width-R.clientWidth;return document.body.removeChild(R),P})()}px`)};function gr(R,P,j,be){ue()?dt(R,be):(Kn(j).then(()=>dt(R,be)),En(ct)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(P.setAttribute("style","display:none !important"),P.removeAttribute("class"),P.innerHTML=""):P.remove(),Z()&&(null!==ge.previousBodyPadding&&(document.body.style.paddingRight=`${ge.previousBodyPadding}px`,ge.previousBodyPadding=null),(()=>{if(de(document.body,N.iosfix)){const R=parseInt(document.body.style.top,10);qn(document.body,N.iosfix),document.body.style.top="",document.body.scrollTop=-1*R}})(),he()),function kn(){qn([document.documentElement,document.body],[N.shown,N["height-auto"],N["no-backdrop"],N["toast-shown"]])}()}function mr(R){R=ae(R);const P=no.swalPromiseResolve.get(this),j=hi(this);this.isAwaitingPromise()?R.isDismissed||(zo(this),P(R)):j&&P(R)}const hi=R=>{const P=ft();if(!P)return!1;const j=je.innerParams.get(R);if(!j||de(P,j.hideClass.popup))return!1;qn(P,j.showClass.popup),Ht(P,j.hideClass.popup);const be=Ut();return qn(be,j.showClass.backdrop),Ht(be,j.hideClass.backdrop),et(R,P,j),!0};const zo=R=>{R.isAwaitingPromise()&&(je.awaitingPromise.delete(R),je.innerParams.get(R)||R._destroy())},ae=R=>typeof R>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},R),et=(R,P,j)=>{const be=Ut(),Mt=bn&&dr(P);"function"==typeof j.willClose&&j.willClose(P),Mt?Pe(R,P,be,j.returnFocus,j.didClose):gr(R,be,j.returnFocus,j.didClose)},Pe=(R,P,j,be,Mt)=>{ct.swalCloseEventFinishedCallback=gr.bind(null,R,j,be,Mt),P.addEventListener(bn,function(Dn){Dn.target===P&&(ct.swalCloseEventFinishedCallback(),delete ct.swalCloseEventFinishedCallback)})},dt=(R,P)=>{setTimeout(()=>{"function"==typeof P&&P.bind(R.params)(),R._destroy()})};function Zt(R,P,j){const be=je.domCache.get(R);P.forEach(Mt=>{be[Mt].disabled=j})}function gn(R,P){if(R)if("radio"===R.type){const be=R.parentNode.parentNode.querySelectorAll("input");for(let Mt=0;Mt<be.length;Mt++)be[Mt].disabled=P}else R.disabled=P}const mn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},as=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],wo={},Ro=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Yo=R=>Object.prototype.hasOwnProperty.call(mn,R),Po=R=>-1!==as.indexOf(R),ws=R=>wo[R],cs=R=>{Yo(R)||Ee(`Unknown parameter "${R}"`)},xr=R=>{Ro.includes(R)&&Ee(`The parameter "${R}" is incompatible with toasts`)},Wo=R=>{ws(R)&&pe(R,ws(R))};const Is=R=>{const P={};return Object.keys(R).forEach(j=>{Po(j)?P[j]=R[j]:Ee(`Invalid parameter to update: ${j}`)}),P};const ao=R=>{Xr(R),delete R.params,delete ct.keydownHandler,delete ct.keydownTarget,delete ct.currentInstance},Xr=R=>{R.isAwaitingPromise()?(Zr(je,R),je.awaitingPromise.set(R,!0)):(Zr(no,R),Zr(je,R))},Zr=(R,P)=>{for(const j in R)R[j].delete(P)};var Ts=Object.freeze({__proto__:null,hideLoading:sr,disableLoading:sr,getInput:function Ii(R){const P=je.innerParams.get(R||this),j=je.domCache.get(R||this);return j?rn(j.popup,P.input):null},close:mr,isAwaitingPromise:function Bi(){return!!je.awaitingPromise.get(this)},rejectPromise:function Eo(R){const P=no.swalPromiseReject.get(this);zo(this),P&&P(R)},handleAwaitingPromise:zo,closePopup:mr,closeModal:mr,closeToast:mr,enableButtons:function Vn(){Zt(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Qi(){Zt(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function fo(){gn(this.getInput(),!1)},disableInput:function Ms(){gn(this.getInput(),!0)},showValidationMessage:function Jr(R){const P=je.domCache.get(this),j=je.innerParams.get(this);te(P.validationMessage,R),P.validationMessage.className=N["validation-message"],j.customClass&&j.customClass.validationMessage&&Ht(P.validationMessage,j.customClass.validationMessage),On(P.validationMessage);const be=this.getInput();be&&(be.setAttribute("aria-invalid",!0),be.setAttribute("aria-describedby",N["validation-message"]),Xt(be),Ht(be,N.inputerror))},resetValidationMessage:function ss(){const R=je.domCache.get(this);R.validationMessage&&Jn(R.validationMessage);const P=this.getInput();P&&(P.removeAttribute("aria-invalid"),P.removeAttribute("aria-describedby"),qn(P,N.inputerror))},update:function Go(R){const P=ft(),j=je.innerParams.get(this);if(!P||de(P,j.hideClass.popup))return void Ee("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const be=Is(R),Mt=Object.assign({},j,be);Hn(this,Mt),je.innerParams.set(this,Mt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,R),writable:!1,enumerable:!0}})},_destroy:function Wr(){const R=je.domCache.get(this),P=je.innerParams.get(this);P?(R.popup&&ct.swalCloseEventFinishedCallback&&(ct.swalCloseEventFinishedCallback(),delete ct.swalCloseEventFinishedCallback),"function"==typeof P.didDestroy&&P.didDestroy(),ao(this)):Xr(this)}});const Mo=R=>{let P=ft();P||new Ur,P=ft();const j=Sn();ue()?Jn(yt()):No(P,R),On(j),P.setAttribute("data-loading","true"),P.setAttribute("aria-busy","true"),P.focus()},No=(R,P)=>{const j=lt(),be=Sn();!P&&Rr(vt())&&(P=vt()),On(j),P&&(Jn(P),be.setAttribute("data-button-to-replace",P.className)),be.parentNode.insertBefore(be,P),Ht([R,j],N.loading)},Oi=R=>R.checked?1:0,js=R=>R.checked?R.value:null,xo=R=>R.files.length?null!==R.getAttribute("multiple")?R.files:R.files[0]:null,kr=(R,P)=>{const j=ft(),be=Mt=>{Xi[P.input](j,na(Mt),P)};He(P.inputOptions)||Dt(P.inputOptions)?(Mo(vt()),st(P.inputOptions).then(Mt=>{R.hideLoading(),be(Mt)})):"object"==typeof P.inputOptions?be(P.inputOptions):fe("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof P.inputOptions)},yr=(R,P)=>{const j=R.getInput();Jn(j),st(P.inputValue).then(be=>{j.value="number"===P.input?`${parseFloat(be)||0}`:`${be}`,On(j),j.focus(),R.hideLoading()}).catch(be=>{fe(`Error in inputValue promise: ${be}`),j.value="",On(j),j.focus(),R.hideLoading()})},Xi={select:(R,P,j)=>{const be=Bn(R,N.select),Mt=(Dn,ar,Li)=>{const $i=document.createElement("option");$i.value=Li,te($i,ar),$i.selected=Ns(Li,j.inputValue),Dn.appendChild($i)};P.forEach(Dn=>{const ar=Dn[0],Li=Dn[1];if(Array.isArray(Li)){const $i=document.createElement("optgroup");$i.label=ar,$i.disabled=!1,be.appendChild($i),Li.forEach(bo=>Mt($i,bo[1],bo[0]))}else Mt(be,Li,ar)}),be.focus()},radio:(R,P,j)=>{const be=Bn(R,N.radio);P.forEach(Dn=>{const ar=Dn[0],Li=Dn[1],$i=document.createElement("input"),bo=document.createElement("label");$i.type="radio",$i.name=N.radio,$i.value=ar,Ns(ar,j.inputValue)&&($i.checked=!0);const Ks=document.createElement("span");te(Ks,Li),Ks.className=N.label,bo.appendChild($i),bo.appendChild(Ks),be.appendChild(bo)});const Mt=be.querySelectorAll("input");Mt.length&&Mt[0].focus()}},na=R=>{const P=[];return typeof Map<"u"&&R instanceof Map?R.forEach((j,be)=>{let Mt=j;"object"==typeof Mt&&(Mt=na(Mt)),P.push([be,Mt])}):Object.keys(R).forEach(j=>{let be=R[j];"object"==typeof be&&(be=na(be)),P.push([j,be])}),P},Ns=(R,P)=>P&&P.toString()===R.toString(),W=(R,P)=>{const j=je.innerParams.get(R);if(!j.input)return void fe(`The "input" parameter is needed to be set when using returnInputValueOn${qe(P)}`);const be=((R,P)=>{const j=R.getInput();if(!j)return null;switch(P.input){case"checkbox":return Oi(j);case"radio":return js(j);case"file":return xo(j);default:return P.inputAutoTrim?j.value.trim():j.value}})(R,j);j.inputValidator?z(R,be,P):R.getInput().checkValidity()?"deny"===P?we(R,be):Rt(R,be):(R.enableButtons(),R.showValidationMessage(j.validationMessage))},z=(R,P,j)=>{const be=je.innerParams.get(R);R.disableInput(),Promise.resolve().then(()=>st(be.inputValidator(P,be.validationMessage))).then(Dn=>{R.enableButtons(),R.enableInput(),Dn?R.showValidationMessage(Dn):"deny"===j?we(R,P):Rt(R,P)})},we=(R,P)=>{const j=je.innerParams.get(R||void 0);j.showLoaderOnDeny&&Mo(ot()),j.preDeny?(je.awaitingPromise.set(R||void 0,!0),Promise.resolve().then(()=>st(j.preDeny(P,j.validationMessage))).then(Mt=>{!1===Mt?(R.hideLoading(),zo(R)):R.close({isDenied:!0,value:typeof Mt>"u"?P:Mt})}).catch(Mt=>nt(R||void 0,Mt))):R.close({isDenied:!0,value:P})},Ce=(R,P)=>{R.close({isConfirmed:!0,value:P})},nt=(R,P)=>{R.rejectPromise(P)},Rt=(R,P)=>{const j=je.innerParams.get(R||void 0);j.showLoaderOnConfirm&&Mo(),j.preConfirm?(R.resetValidationMessage(),je.awaitingPromise.set(R||void 0,!0),Promise.resolve().then(()=>st(j.preConfirm(P,j.validationMessage))).then(Mt=>{Rr(zt())||!1===Mt?(R.hideLoading(),zo(R)):Ce(R,typeof Mt>"u"?P:Mt)}).catch(Mt=>nt(R||void 0,Mt))):Ce(R,P)},wn=(R,P,j)=>{P.popup.onclick=()=>{const be=je.innerParams.get(R);be&&(dn(be)||be.timer||be.input)||j($t.close)}},dn=R=>R.showConfirmButton||R.showDenyButton||R.showCancelButton||R.showCloseButton;let hr=!1;const Qn=R=>{R.popup.onmousedown=()=>{R.container.onmouseup=function(P){R.container.onmouseup=void 0,P.target===R.container&&(hr=!0)}}},Lr=R=>{R.container.onmousedown=()=>{R.popup.onmouseup=function(P){R.popup.onmouseup=void 0,(P.target===R.popup||R.popup.contains(P.target))&&(hr=!0)}}},yi=(R,P,j)=>{P.container.onclick=be=>{const Mt=je.innerParams.get(R);hr?hr=!1:be.target===P.container&&Je(Mt.allowOutsideClick)&&j($t.backdrop)}},Fi=R=>R instanceof Element||(R=>"object"==typeof R&&R.jquery)(R);const pi=()=>{if(ct.timeout)return(()=>{const R=Xe(),P=parseInt(window.getComputedStyle(R).width);R.style.removeProperty("transition"),R.style.width="100%";const be=P/parseInt(window.getComputedStyle(R).width)*100;R.style.removeProperty("transition"),R.style.width=`${be}%`})(),ct.timeout.stop()},bi=()=>{if(ct.timeout){const R=ct.timeout.start();return on(R),R}};let Ko=!1;const fs={};const Aa=R=>{for(let P=R.target;P&&P!==document;P=P.parentNode)for(const j in fs){const be=P.getAttribute(j);if(be)return void fs[j].fire({template:be})}};var $s=Object.freeze({__proto__:null,isValidParameter:Yo,isUpdatableParameter:Po,isDeprecatedParameter:ws,argsToParams:R=>{const P={};return"object"!=typeof R[0]||Fi(R[0])?["title","html","icon"].forEach((j,be)=>{const Mt=R[be];"string"==typeof Mt||Fi(Mt)?P[j]=Mt:void 0!==Mt&&fe(`Unexpected type of ${j}! Expected "string" or "Element", got ${typeof Mt}`)}):Object.assign(P,R[0]),P},getContainer:Ut,getPopup:ft,getTitle:Me,getHtmlContainer:tt,getImage:Qe,getIcon:yt,getIconContent:()=>Qt(N["icon-content"]),getInputLabel:()=>Qt(N["input-label"]),getCloseButton:Jt,getActions:lt,getConfirmButton:vt,getDenyButton:ot,getCancelButton:Gn,getLoader:Sn,getFooter:yn,getTimerProgressBar:Xe,getFocusableElements:We,getValidationMessage:zt,getProgressSteps:_t,isLoading:()=>ft().hasAttribute("data-loading"),isVisible:()=>Rr(ft()),clickConfirm:Ve,clickDeny:()=>ot()&&ot().click(),clickCancel:()=>Gn()&&Gn().click(),fire:function ei(){for(var P=arguments.length,j=new Array(P),be=0;be<P;be++)j[be]=arguments[be];return new this(...j)},mixin:function Ri(R){return class P extends(this){_main(be,Mt){return super._main(be,Object.assign({},R,Mt))}}},showLoading:Mo,enableLoading:Mo,getTimerLeft:()=>ct.timeout&&ct.timeout.getTimerLeft(),stopTimer:pi,resumeTimer:bi,toggleTimer:()=>{const R=ct.timeout;return R&&(R.running?pi():bi())},increaseTimer:R=>{if(ct.timeout){const P=ct.timeout.increase(R);return on(P,!0),P}},isTimerRunning:()=>ct.timeout&&ct.timeout.isRunning(),bindClickHandler:function da(){fs[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ko||(document.body.addEventListener("click",Aa),Ko=!0)}});class ps{constructor(P,j){this.callback=P,this.remaining=j,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(P){const j=this.running;return j&&this.stop(),this.remaining+=P,j&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Fa=["swal-title","swal-html","swal-footer"],Hs=R=>{const P={};return Array.from(R.querySelectorAll("swal-param")).forEach(be=>{vi(be,["name","value"]);const Mt=be.getAttribute("name"),Dn=be.getAttribute("value");P[Mt]="boolean"==typeof mn[Mt]?"false"!==Dn:"object"==typeof mn[Mt]?JSON.parse(Dn):Dn}),P},ro=R=>{const P={};return Array.from(R.querySelectorAll("swal-function-param")).forEach(be=>{const Mt=be.getAttribute("name"),Dn=be.getAttribute("value");P[Mt]=new Function(`return ${Dn}`)()}),P},xs=R=>{const P={};return Array.from(R.querySelectorAll("swal-button")).forEach(be=>{vi(be,["type","color","aria-label"]);const Mt=be.getAttribute("type");P[`${Mt}ButtonText`]=be.innerHTML,P[`show${qe(Mt)}Button`]=!0,be.hasAttribute("color")&&(P[`${Mt}ButtonColor`]=be.getAttribute("color")),be.hasAttribute("aria-label")&&(P[`${Mt}ButtonAriaLabel`]=be.getAttribute("aria-label"))}),P},ci=R=>{const P={},j=R.querySelector("swal-image");return j&&(vi(j,["src","width","height","alt"]),j.hasAttribute("src")&&(P.imageUrl=j.getAttribute("src")),j.hasAttribute("width")&&(P.imageWidth=j.getAttribute("width")),j.hasAttribute("height")&&(P.imageHeight=j.getAttribute("height")),j.hasAttribute("alt")&&(P.imageAlt=j.getAttribute("alt"))),P},ko=R=>{const P={},j=R.querySelector("swal-icon");return j&&(vi(j,["type","color"]),j.hasAttribute("type")&&(P.icon=j.getAttribute("type")),j.hasAttribute("color")&&(P.iconColor=j.getAttribute("color")),P.iconHtml=j.innerHTML),P},ks=R=>{const P={},j=R.querySelector("swal-input");j&&(vi(j,["type","label","placeholder","value"]),P.input=j.getAttribute("type")||"text",j.hasAttribute("label")&&(P.inputLabel=j.getAttribute("label")),j.hasAttribute("placeholder")&&(P.inputPlaceholder=j.getAttribute("placeholder")),j.hasAttribute("value")&&(P.inputValue=j.getAttribute("value")));const be=Array.from(R.querySelectorAll("swal-input-option"));return be.length&&(P.inputOptions={},be.forEach(Mt=>{vi(Mt,["value"]);const Dn=Mt.getAttribute("value");P.inputOptions[Dn]=Mt.innerHTML})),P},zs=(R,P)=>{const j={};for(const be in P){const Mt=P[be],Dn=R.querySelector(Mt);Dn&&(vi(Dn,[]),j[Mt.replace(/^swal-/,"")]=Dn.innerHTML.trim())}return j},Ws=R=>{const P=Fa.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(R.children).forEach(j=>{const be=j.tagName.toLowerCase();P.includes(be)||Ee(`Unrecognized element <${be}>`)})},vi=(R,P)=>{Array.from(R.attributes).forEach(j=>{-1===P.indexOf(j.name)&&Ee([`Unrecognized attribute "${j.name}" on <${R.tagName.toLowerCase()}>.`,P.length?`Allowed attributes are: ${P.join(", ")}`:"To set the value, use HTML within the element."])})},Hr=R=>{const P=Ut(),j=ft();"function"==typeof R.willOpen&&R.willOpen(j);const Mt=window.getComputedStyle(document.body).overflowY;qa(P,j,R),setTimeout(()=>{Ca(P,j)},10),Z()&&(Gs(P,R.scrollbarPadding,Mt),Array.from(document.body.children).forEach(P=>{P===Ut()||P.contains(Ut())||(P.hasAttribute("aria-hidden")&&P.setAttribute("data-previous-aria-hidden",P.getAttribute("aria-hidden")),P.setAttribute("aria-hidden","true"))})),!ue()&&!ct.previousActiveElement&&(ct.previousActiveElement=document.activeElement),"function"==typeof R.didOpen&&setTimeout(()=>R.didOpen(j)),qn(P,N["no-transition"])},Vr=R=>{const P=ft();if(R.target!==P)return;const j=Ut();P.removeEventListener(bn,Vr),j.style.overflowY="auto"},Ca=(R,P)=>{bn&&dr(P)?(R.style.overflowY="hidden",P.addEventListener(bn,Vr)):R.style.overflowY="auto"},Gs=(R,P,j)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!de(document.body,N.iosfix)){const P=document.body.scrollTop;document.body.style.top=-1*P+"px",Ht(document.body,N.iosfix),Re(),J()}})(),P&&"hidden"!==j&&qr(),setTimeout(()=>{R.scrollTop=0})},qa=(R,P,j)=>{Ht(R,j.showClass.backdrop),P.style.setProperty("opacity","0","important"),On(P,"grid"),setTimeout(()=>{Ht(P,j.showClass.popup),P.style.removeProperty("opacity")},10),Ht([document.documentElement,document.body],N.shown),j.heightAuto&&j.backdrop&&!j.toast&&Ht([document.documentElement,document.body],N["height-auto"])};var Sa={email:(R,P)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(R)?Promise.resolve():Promise.resolve(P||"Invalid email address"),url:(R,P)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(R)?Promise.resolve():Promise.resolve(P||"Invalid URL")};function Va(R){(function Qa(R){R.inputValidator||Object.keys(Sa).forEach(P=>{R.input===P&&(R.inputValidator=Sa[P])})})(R),R.showLoaderOnConfirm&&!R.preConfirm&&Ee("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function La(R){(!R.target||"string"==typeof R.target&&!document.querySelector(R.target)||"string"!=typeof R.target&&!R.target.appendChild)&&(Ee('Target parameter is not valid, defaulting to "body"'),R.target="body")}(R),"string"==typeof R.title&&(R.title=R.title.split("\n").join("<br />")),cr(R)}let qo;class Gr{constructor(){if(typeof window>"u")return;qo=this;for(var P=arguments.length,j=new Array(P),be=0;be<P;be++)j[be]=arguments[be];const Mt=Object.freeze(this.constructor.argsToParams(j));Object.defineProperties(this,{params:{value:Mt,writable:!1,enumerable:!0,configurable:!0}});const Dn=qo._main(qo.params);je.promise.set(this,Dn)}_main(P){let j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(R=>{!1===R.backdrop&&R.allowOutsideClick&&Ee('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const P in R)cs(P),R.toast&&xr(P),Wo(P)})(Object.assign({},j,P)),ct.currentInstance&&(ct.currentInstance._destroy(),Z()&&he()),ct.currentInstance=qo;const be=nr(P,j);Va(be),Object.freeze(be),ct.timeout&&(ct.timeout.stop(),delete ct.timeout),clearTimeout(ct.restoreFocusTimeout);const Mt=ui(qo);return Hn(qo,be),je.innerParams.set(qo,be),Yt(qo,Mt,be)}then(P){return je.promise.get(this).then(P)}finally(P){return je.promise.get(this).finally(P)}}const Yt=(R,P,j)=>new Promise((be,Mt)=>{const Dn=ar=>{R.close({isDismissed:!0,dismiss:ar})};no.swalPromiseResolve.set(R,be),no.swalPromiseReject.set(R,Mt),P.confirmButton.onclick=()=>{(R=>{const P=je.innerParams.get(R);R.disableButtons(),P.input?W(R,"confirm"):Rt(R,!0)})(R)},P.denyButton.onclick=()=>{(R=>{const P=je.innerParams.get(R);R.disableButtons(),P.returnInputValueOnDeny?W(R,"deny"):we(R,!1)})(R)},P.cancelButton.onclick=()=>{((R,P)=>{R.disableButtons(),P($t.cancel)})(R,Dn)},P.closeButton.onclick=()=>{Dn($t.close)},((R,P,j)=>{je.innerParams.get(R).toast?wn(R,P,j):(Qn(P),Lr(P),yi(R,P,j))})(R,P,Dn),((R,P,j,be)=>{En(P),j.toast||(P.keydownHandler=Mt=>So(R,Mt,be),P.keydownTarget=j.keydownListenerCapture?window:ft(),P.keydownListenerCapture=j.keydownListenerCapture,P.keydownTarget.addEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!0)})(R,ct,j,Dn),((R,P)=>{"select"===P.input||"radio"===P.input?kr(R,P):["text","email","number","tel","textarea"].includes(P.input)&&(He(P.inputValue)||Dt(P.inputValue))&&(Mo(vt()),yr(R,P))})(R,j),Hr(j),Uo(ct,j,Dn),ji(P,j),setTimeout(()=>{P.container.scrollTop=0})}),nr=(R,P)=>{const j=(R=>{const P="string"==typeof R.template?document.querySelector(R.template):R.template;if(!P)return{};const j=P.content;return Ws(j),Object.assign(Hs(j),ro(j),xs(j),ci(j),ko(j),ks(j),zs(j,Fa))})(R),be=Object.assign({},mn,P,j,R);return be.showClass=Object.assign({},mn.showClass,be.showClass),be.hideClass=Object.assign({},mn.hideClass,be.hideClass),be},ui=R=>{const P={popup:ft(),container:Ut(),actions:lt(),confirmButton:vt(),denyButton:ot(),cancelButton:Gn(),loader:Sn(),closeButton:Jt(),validationMessage:zt(),progressSteps:_t()};return je.domCache.set(R,P),P},Uo=(R,P,j)=>{const be=Xe();Jn(be),P.timer&&(R.timeout=new ps(()=>{j("timer"),delete R.timeout},P.timer),P.timerProgressBar&&(On(be),pt(be,P,"timerProgressBar"),setTimeout(()=>{R.timeout&&R.timeout.running&&on(P.timer)})))},ji=(R,P)=>{if(!P.toast){if(!Je(P.allowEnterKey))return void Jo();Qo(R,P)||Tn(0,-1,1)}},Qo=(R,P)=>P.focusDeny&&Rr(R.denyButton)?(R.denyButton.focus(),!0):P.focusCancel&&Rr(R.cancelButton)?(R.cancelButton.focus(),!0):!(!P.focusConfirm||!Rr(R.confirmButton)||(R.confirmButton.focus(),0)),Jo=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const R=new Date,P=localStorage.getItem("swal-initiation");P?(R.getTime()-Date.parse(P))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const j=document.createElement("audio");j.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",j.loop=!0,document.body.appendChild(j),setTimeout(()=>{j.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${R}`)}Object.assign(Gr.prototype,Ts),Object.assign(Gr,$s),Object.keys(Ts).forEach(R=>{Gr[R]=function(){if(qo)return qo[R](...arguments)}}),Gr.DismissReason=$t,Gr.version="11.6.13";const Ur=Gr;return Ur.default=Ur,Ur}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(je,U){var T=je.createElement("style");if(je.getElementsByTagName("head")[0].appendChild(T),T.styleSheet)T.styleSheet.disabled||(T.styleSheet.cssText=U);else try{T.innerHTML=U}catch{T.innerText=U}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8041:(vn,je,U)=>{"use strict";U.d(je,{$b:()=>N,Vy:()=>Ee});const T=[];var N=function(me){return me[me.DEBUG=0]="DEBUG",me[me.VERBOSE=1]="VERBOSE",me[me.INFO=2]="INFO",me[me.WARN=3]="WARN",me[me.ERROR=4]="ERROR",me[me.SILENT=5]="SILENT",me}(N||{});const q={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},F=N.INFO,Ae={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},qe=(me,pe,...Je)=>{if(pe<me.logLevel)return;const He=(new Date).toISOString(),st=Ae[pe];if(!st)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[st](`[${He}]  ${me.name}:`,...Je)};class Ee{constructor(pe){this.name=pe,this._logLevel=F,this._logHandler=qe,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in N))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?q[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...pe),this._logHandler(this,N.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...pe),this._logHandler(this,N.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,N.INFO,...pe),this._logHandler(this,N.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,N.WARN,...pe),this._logHandler(this,N.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...pe),this._logHandler(this,N.ERROR,...pe)}}},8071:(vn,je,U)=>{"use strict";function T(N){return"function"==typeof N}U.d(je,{T:()=>T})},8359:(vn,je,U)=>{"use strict";U.d(je,{Kn:()=>qe,yU:()=>Ae,Uv:()=>Ee});var T=U(8071);const q=(0,U(1853).L)(ke=>function(pe){ke(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((Je,He)=>`${He+1}) ${Je.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var F=U(7908);class Ae{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const st of pe)st.remove(this);else pe.remove(this);const{initialTeardown:Je}=this;if((0,T.T)(Je))try{Je()}catch(st){me=st instanceof q?st.errors:[st]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const st of He)try{fe(st)}catch(Dt){me=me??[],Dt instanceof q?me=[...me,...Dt.errors]:me.push(Dt)}}if(me)throw new q(me)}}add(me){var pe;if(me&&me!==this)if(this.closed)fe(me);else{if(me instanceof Ae){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(me)}}_hasParent(me){const{_parentage:pe}=this;return pe===me||Array.isArray(pe)&&pe.includes(me)}_addParent(me){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(me),pe):pe?[pe,me]:me}_removeParent(me){const{_parentage:pe}=this;pe===me?this._parentage=null:Array.isArray(pe)&&(0,F.o)(pe,me)}remove(me){const{_finalizers:pe}=this;pe&&(0,F.o)(pe,me),me instanceof Ae&&me._removeParent(this)}}Ae.EMPTY=(()=>{const ke=new Ae;return ke.closed=!0,ke})();const qe=Ae.EMPTY;function Ee(ke){return ke instanceof Ae||ke&&"closed"in ke&&(0,T.T)(ke.remove)&&(0,T.T)(ke.add)&&(0,T.T)(ke.unsubscribe)}function fe(ke){(0,T.T)(ke)?ke():ke.unsubscribe()}},8455:(vn,je,U)=>{"use strict";U.d(je,{H:()=>Me});var T=U(8750),N=U(941),q=U(6745),qe=U(1985),fe=U(4761),ke=U(8071),me=U(5225);function Je(tt,Qe){if(!tt)throw new Error("Iterable cannot be null");return new qe.c(_t=>{(0,me.N)(_t,Qe,()=>{const zt=tt[Symbol.asyncIterator]();(0,me.N)(_t,Qe,()=>{zt.next().then(vt=>{vt.done?_t.complete():_t.next(vt.value)})},0,!0)})})}var He=U(5055),st=U(9858),Dt=U(7441),Ut=U(5397),Ft=U(7953),Qt=U(591),ft=U(5196);function Me(tt,Qe){return Qe?function bt(tt,Qe){if(null!=tt){if((0,He.l)(tt))return function F(tt,Qe){return(0,T.Tg)(tt).pipe((0,q._)(Qe),(0,N.Q)(Qe))}(tt,Qe);if((0,Dt.X)(tt))return function Ee(tt,Qe){return new qe.c(_t=>{let zt=0;return Qe.schedule(function(){zt===tt.length?_t.complete():(_t.next(tt[zt++]),_t.closed||this.schedule())})})}(tt,Qe);if((0,st.y)(tt))return function Ae(tt,Qe){return(0,T.Tg)(tt).pipe((0,q._)(Qe),(0,N.Q)(Qe))}(tt,Qe);if((0,Ft.T)(tt))return Je(tt,Qe);if((0,Ut.x)(tt))return function pe(tt,Qe){return new qe.c(_t=>{let zt;return(0,me.N)(_t,Qe,()=>{zt=tt[fe.l](),(0,me.N)(_t,Qe,()=>{let vt,ot;try{({value:vt,done:ot}=zt.next())}catch(Fn){return void _t.error(Fn)}ot?_t.complete():_t.next(vt)},0,!0)}),()=>(0,ke.T)(zt?.return)&&zt.return()})}(tt,Qe);if((0,ft.U)(tt))return function yt(tt,Qe){return Je((0,ft.C)(tt),Qe)}(tt,Qe)}throw(0,Qt.L)(tt)}(tt,Qe):(0,T.Tg)(tt)}},8496:(vn,je,U)=>{"use strict";function T(N,q){return N.reduce((F,Ae,qe)=>(F[Ae]=q[qe],F),{})}U.d(je,{e:()=>T})},8750:(vn,je,U)=>{"use strict";U.d(je,{Tg:()=>He});var T=U(1635),N=U(7441),q=U(9858),F=U(1985),Ae=U(5055),qe=U(7953),Ee=U(591),fe=U(5397),ke=U(5196),me=U(8071),pe=U(5334),Je=U(3494);function He(bt){if(bt instanceof F.c)return bt;if(null!=bt){if((0,Ae.l)(bt))return function st(bt){return new F.c(Me=>{const tt=bt[Je.s]();if((0,me.T)(tt.subscribe))return tt.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(bt);if((0,N.X)(bt))return function Dt(bt){return new F.c(Me=>{for(let tt=0;tt<bt.length&&!Me.closed;tt++)Me.next(bt[tt]);Me.complete()})}(bt);if((0,q.y)(bt))return function Ut(bt){return new F.c(Me=>{bt.then(tt=>{Me.closed||(Me.next(tt),Me.complete())},tt=>Me.error(tt)).then(null,pe.m)})}(bt);if((0,qe.T)(bt))return Qt(bt);if((0,fe.x)(bt))return function Ft(bt){return new F.c(Me=>{for(const tt of bt)if(Me.next(tt),Me.closed)return;Me.complete()})}(bt);if((0,ke.U)(bt))return function ft(bt){return Qt((0,ke.C)(bt))}(bt)}throw(0,Ee.L)(bt)}function Qt(bt){return new F.c(Me=>{(function yt(bt,Me){var tt,Qe,_t,zt;return(0,T.sH)(this,void 0,void 0,function*(){try{for(tt=(0,T.xN)(bt);!(Qe=yield tt.next()).done;)if(Me.next(Qe.value),Me.closed)return}catch(vt){_t={error:vt}}finally{try{Qe&&!Qe.done&&(zt=tt.return)&&(yield zt.call(tt))}finally{if(_t)throw _t.error}}Me.complete()})})(bt,Me).catch(tt=>Me.error(tt))})}},9270:(vn,je,U)=>{"use strict";U.d(je,{f:()=>T});const T={setTimeout(N,q,...F){const{delegate:Ae}=T;return Ae?.setTimeout?Ae.setTimeout(N,q,...F):setTimeout(N,q,...F)},clearTimeout(N){const{delegate:q}=T;return(q?.clearTimeout||clearTimeout)(N)},delegate:void 0}},9326:(vn,je,U)=>{"use strict";U.d(je,{lI:()=>Ae,ms:()=>F});var T=U(8071),N=U(9470);function q(Ee){return Ee[Ee.length-1]}function F(Ee){return(0,T.T)(q(Ee))?Ee.pop():void 0}function Ae(Ee){return(0,N.m)(q(Ee))?Ee.pop():void 0}},9332:(vn,je,U)=>{"use strict";U.d(je,{u:()=>Ae});var T=U(8032),N=U.n(T),q=U(1360),F=U(5794);let Ae=(()=>{class qe{toastr;constructor(fe){this.toastr=fe}success(fe,ke="\xc9xito"){N().fire({icon:"success",title:ke,text:fe,timer:2e3,showConfirmButton:!1})}error(fe,ke="Error"){N().fire({icon:"error",title:ke,text:fe})}warning(fe,ke="Atenci\xf3n"){N().fire({icon:"warning",title:ke,text:fe})}info(fe,ke="Informaci\xf3n"){N().fire({icon:"info",title:ke,text:fe})}confirm(fe,ke="\xbfEst\xe1s seguro?"){return N().fire({icon:"question",title:ke,text:fe,showCancelButton:!0,confirmButtonText:"S\xed",cancelButtonText:"No"})}showToastSuccess(fe,ke="\xc9xito"){this.toastr.success(fe,ke)}showToastError(fe,ke="Error"){this.toastr.error(fe,ke)}showToastInfo(fe,ke="Info"){this.toastr.info(fe,ke)}showToastWarning(fe,ke="Atenci\xf3n"){this.toastr.warning(fe,ke)}static \u0275fac=function(ke){return new(ke||qe)(q.KVO(F.tw))};static \u0275prov=q.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})()},9350:(vn,je,U)=>{"use strict";U.d(je,{G:()=>N});const N=(0,U(1853).L)(q=>function(){q(this),this.name="EmptyError",this.message="no elements in sequence"})},9361:(vn,je,U)=>{"use strict";U.d(je,{q:()=>N});const N=new(U(1360).nKC)("")},9377:(vn,je,U)=>{"use strict";function T(Ee,fe){fe=encodeURIComponent(fe);for(const ke of Ee.split(";")){const me=ke.indexOf("="),[pe,Je]=-1==me?[ke,""]:[ke.slice(0,me),ke.slice(me+1)];if(pe.trim()===fe)return decodeURIComponent(Je)}return null}U.d(je,{N0:()=>qe,Vy:()=>Ae,Zn:()=>N,bS:()=>T});const N="browser",q="server";function Ae(Ee){return Ee===q}class qe{}},9437:(vn,je,U)=>{"use strict";U.d(je,{W:()=>F});var T=U(8750),N=U(4360),q=U(9974);function F(Ae){return(0,q.N)((qe,Ee)=>{let me,fe=null,ke=!1;fe=qe.subscribe((0,N._)(Ee,void 0,void 0,pe=>{me=(0,T.Tg)(Ae(pe,F(Ae)(qe))),fe?(fe.unsubscribe(),fe=null,me.subscribe(Ee)):ke=!0})),ke&&(fe.unsubscribe(),fe=null,me.subscribe(Ee))})}},9470:(vn,je,U)=>{"use strict";U.d(je,{m:()=>N});var T=U(8071);function N(q){return q&&(0,T.T)(q.schedule)}},9786:(vn,je,U)=>{"use strict";U.d(je,{Y:()=>q,l:()=>F});var T=U(1026);let N=null;function q(Ae){if(T.$.useDeprecatedSynchronousErrorHandling){const qe=!N;if(qe&&(N={errorThrown:!1,error:null}),Ae(),qe){const{errorThrown:Ee,error:fe}=N;if(N=null,Ee)throw fe}}else Ae()}function F(Ae){T.$.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=Ae)}},9858:(vn,je,U)=>{"use strict";U.d(je,{y:()=>N});var T=U(8071);function N(q){return(0,T.T)(q?.then)}},9885:(vn,je,U)=>{"use strict";U.d(je,{D:()=>me});var T=U(9967),N=U(7673),q=U(8455),F=U(6354),Ae=U(9437),qe=U(5558),Ee=U(1360),fe=U(7643),ke=U(4796);let me=(()=>{class pe{http;authService;firestore;usersCollectionName="users";constructor(He,st,Dt){this.http=He,this.authService=st,this.firestore=Dt,console.log("%c<<< Start USER service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getUserProfile(He){if(!He)return console.warn("\u26a0\ufe0f getUserProfile: UID no proporcionado."),(0,N.of)(void 0);const st=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${He}`);return console.log("\u{1f4c4} Obteniendo perfil para UID:",He),(0,T.Bg)(st).pipe((0,F.T)(Dt=>{if(Dt)return console.log("\u2705 Perfil obtenido:",Dt),{...Dt,uid:He};console.warn("\u26a0\ufe0f No se encontr\xf3 perfil para UID:",He)}),(0,Ae.W)(Dt=>(console.error("\u274c Error al obtener el perfil del usuario:",Dt),(0,N.of)(void 0))))}createUserProfile(He){if(!He.uid)return(0,q.H)(Promise.reject("\u274c createUserProfile: UID del usuario es requerido."));const st=new Date,Dt={...He,created_at:st,createdDate:st},Ut=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${He.uid}`);return console.log("\u{1f4dd} Creando perfil para usuario:",Dt),(0,q.H)((0,T.BN)(Ut,Dt))}updateUserProfile(He,st){if(!He)return(0,q.H)(Promise.reject("\u274c updateUserProfile: UID no proporcionado."));const Dt=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${He}`);return console.log("\u{1f504} Actualizando perfil UID:",He,"con datos:",st),(0,q.H)((0,T.mZ)(Dt,st))}deleteUserProfile(He){if(!He)return(0,q.H)(Promise.reject("\u274c deleteUserProfile: UID no proporcionado."));const st=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${He}`);return console.log("\u{1f5d1} Eliminando perfil UID:",He),(0,q.H)((0,T.kd)(st))}getUserData(He){return this.authService.getAuthState().pipe((0,qe.n)(st=>{if(console.log("\u{1f4e1} authService.getAuthState() emiti\xf3:",st),st&&st.uid){const Dt=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${st.uid}`);return(0,T.Bg)(Dt).pipe((0,F.T)(Ut=>({...Ut,uid:st.uid})))}return console.warn("\u26a0\ufe0f Usuario no autenticado o sesi\xf3n expirada"),(0,N.of)(null)}))}getAllUsers(){const He=(0,T.rJ)(this.firestore,"users");return(0,T.xs)(He,{idField:"uid"})}toggleUserStatus(He,st){const Dt=(0,T.H9)(this.firestore,`users/${He}`);return(0,T.mZ)(Dt,{activo:st})}updateUserRole(He,st){const Dt=(0,T.H9)(this.firestore,`users/${He}`);return(0,T.mZ)(Dt,{rol:st})}getCurrentUserUid(){return this.authService.getAuthState().pipe((0,F.T)(He=>He?.uid||null))}getCurrentUserRole(){return this.authService.getAuthState().pipe((0,qe.n)(He=>{if(He&&He.uid){const st=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${He.uid}`);return(0,T.Bg)(st).pipe((0,F.T)(Dt=>Dt.rol||null))}return console.warn("\u26a0\ufe0f No hay usuario autenticado"),(0,N.of)(null)}),(0,Ae.W)(He=>(console.error("\u274c Error al obtener el rol:",He),(0,N.of)(null))))}getExecutives(){const He=(0,T.P)((0,T.rJ)(this.firestore,this.usersCollectionName),(0,T._M)("rol","==","Ejecutivo"));return(0,T.xs)(He,{idField:"uid"})}static \u0275fac=function(st){return new(st||pe)(Ee.KVO(fe.Qq),Ee.KVO(ke.u),Ee.KVO(T._7))};static \u0275prov=Ee.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})()},9967:(vn,je,U)=>{"use strict";U.d(je,{_7:()=>lt,gS:()=>Jn,rJ:()=>ln,xs:()=>er,kd:()=>Mr,H9:()=>Gt,Bg:()=>qn,x7:()=>di,aU:()=>Ki,My:()=>Si,hV:()=>te,P:()=>Te,BN:()=>Ze,mZ:()=>wt,_M:()=>Oe});var T=U(2967),N=U(1360),q=U(7440),F=U(4125),Ae=U(6335),qe=U(2214),Ee=U(3273),fe=U(1985),ke=U(6354),me=function(){return me=Object.assign||function(ht){for(var Pt,en=1,Ln=arguments.length;en<Ln;en++)for(var an in Pt=arguments[en])Object.prototype.hasOwnProperty.call(Pt,an)&&(ht[an]=Pt[an]);return ht},me.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Je={includeMetadataChanges:!1};function He(mt,ht){return void 0===ht&&(ht=Je),new fe.c(function(Pt){return{unsubscribe:(0,Ee.aQ)(mt,ht,{next:Pt.next.bind(Pt),error:Pt.error.bind(Pt),complete:Pt.complete.bind(Pt)})}})}function Dt(mt,ht){return void 0===ht&&(ht={}),function st(mt){return He(mt,{includeMetadataChanges:!0})}(mt).pipe((0,ke.T)(function(Pt){return Ut(Pt,ht)}))}function Ut(mt,ht){var Pt;void 0===ht&&(ht={});var en=mt.data(ht);return mt.exists()&&"object"==typeof en&&null!==en&&ht.idField?me(me({},en),((Pt={})[ht.idField]=mt.id,Pt)):en}function Fn(mt,ht){return void 0===ht&&(ht={}),function zt(mt){return He(mt,{includeMetadataChanges:!0}).pipe((0,ke.T)(function(ht){return ht.docs}))}(mt).pipe((0,ke.T)(function(Pt){return Pt.map(function(en){return Ut(en,ht)})}))}class lt{constructor(ht){return ht}}const yn="firestore",St=new N.nKC("angularfire2.firestore-instances");function Z(mt){return(ht,Pt)=>{const en=ht.runOutsideAngular(()=>mt(Pt));return new lt(en)}}const ue={provide:class Xe{constructor(){return(0,T.CA)(yn)}},deps:[[new N.Xx1,St]]},le={provide:lt,useFactory:function We(mt,ht){const Pt=(0,T.lR)(yn,mt,ht);return Pt&&new lt(Pt)},deps:[[new N.Xx1,St],q.XU]};function te(mt,...ht){return(0,qe.KO)("angularfire",T.xv.full,"fst"),(0,N.EmA)([le,ue,{provide:St,useFactory:Z(mt),multi:!0,deps:[N.SKi,N.zZn,T.u0,q.gL,[new N.Xx1,Ae.DF],[new N.Xx1,F.kR],...ht]}])}const er=(0,T.S3)(Fn,!0),qn=(0,T.S3)(Dt,!0),Jn=(0,T.S3)(Ee.gS,!0,2),ln=(0,T.S3)(Ee.rJ,!0,2),Mr=(0,T.S3)(Ee.kd,!0,2),Gt=(0,T.S3)(Ee.H9,!0,2),di=(0,T.S3)(Ee.x7,!0),Ki=(0,T.S3)(Ee.aU,!0),Si=(0,T.S3)(Ee.My,!0,2),Te=(0,T.S3)(Ee.P,!0,2),Ze=(0,T.S3)(Ee.BN,!0,2),wt=(0,T.S3)(Ee.mZ,!0,2),Oe=(0,T.S3)(Ee._M,!0,2)},9974:(vn,je,U)=>{"use strict";U.d(je,{N:()=>q,S:()=>N});var T=U(8071);function N(F){return(0,T.T)(F?.lift)}function q(F){return Ae=>{if(N(Ae))return Ae.lift(function(qe){try{return F(qe,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}}},vn=>{vn(vn.s=5961)}]);