(self.webpackChunkclaims_app=self.webpackChunkclaims_app||[]).push([[792],{274:(En,Be,L)=>{"use strict";L.d(Be,{H:()=>q});var T=L(1397),O=L(8071);function q(I,Ce){return(0,O.T)(Ce)?(0,T.Z)(I,Ce,1):(0,T.Z)(I,1)}},345:(En,Be,L)=>{"use strict";L.d(Be,{hE:()=>Ce,up:()=>gt});var T=L(9361),O=L(1360);let Ce=(()=>{class nt{_doc;constructor(mt){this._doc=mt}getTitle(){return this._doc.title}setTitle(mt){this._doc.title=mt||""}static \u0275fac=function(an){return new(an||nt)(O.KVO(T.q))};static \u0275prov=O.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})(),gt=(()=>{class nt{static \u0275fac=function(an){return new(an||nt)};static \u0275prov=O.jDH({token:nt,factory:function(an){let Ot=null;return Ot=an?new(an||nt):O.KVO(_t),Ot},providedIn:"root"})}return nt})(),_t=(()=>{class nt extends gt{_doc;constructor(mt){super(),this._doc=mt}sanitize(mt,an){if(null==an)return null;switch(mt){case O.WPN.NONE:return an;case O.WPN.HTML:return(0,O.ZF7)(an,"HTML")?(0,O.rcV)(an):(0,O.h9k)(this._doc,String(an)).toString();case O.WPN.STYLE:return(0,O.ZF7)(an,"Style")?(0,O.rcV)(an):an;case O.WPN.SCRIPT:if((0,O.ZF7)(an,"Script"))return(0,O.rcV)(an);throw new O.wOt(5200,!1);case O.WPN.URL:return(0,O.ZF7)(an,"URL")?(0,O.rcV)(an):(0,O.$MX)(String(an));case O.WPN.RESOURCE_URL:if((0,O.ZF7)(an,"ResourceURL"))return(0,O.rcV)(an);throw new O.wOt(5201,!1);default:throw new O.wOt(5202,!1)}}bypassSecurityTrustHtml(mt){return(0,O.Kcf)(mt)}bypassSecurityTrustStyle(mt){return(0,O.cWb)(mt)}bypassSecurityTrustScript(mt){return(0,O.UyX)(mt)}bypassSecurityTrustUrl(mt){return(0,O.osQ)(mt)}bypassSecurityTrustResourceUrl(mt){return(0,O.e5t)(mt)}static \u0275fac=function(an){return new(an||nt)(O.KVO(T.q))};static \u0275prov=O.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})()},467:(En,Be,L)=>{"use strict";function T(q,I,Ce,Xe,ge,Ee,je){try{var we=q[Ee](je),ve=we.value}catch(it){return void Ce(it)}we.done?I(ve):Promise.resolve(ve).then(Xe,ge)}function O(q){return function(){var I=this,Ce=arguments;return new Promise(function(Xe,ge){var Ee=q.apply(I,Ce);function je(ve){T(Ee,Xe,ge,je,we,"next",ve)}function we(ve){T(Ee,Xe,ge,je,we,"throw",ve)}je(void 0)})}}L.d(Be,{A:()=>O})},520:(En,Be,L)=>{"use strict";L.d(Be,{eJ:()=>Ca,xI:()=>Yl,hg:()=>l,J1:()=>Di,x9:()=>Wr,CI:()=>C});var T=L(467),O=L(7852),q=L(6858),I=L(8041),Ce=L(1635),Xe=L(1362);const At=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Lt=new q.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gt=new I.Vy("@firebase/auth");function gt(b,...f){Gt.logLevel<=I.$b.ERROR&&Gt.error(`Auth (${O.MF}): ${b}`,...f)}function _t(b,...f){throw Wt(b,...f)}function Re(b,...f){return Wt(b,...f)}function Qe(b,f,y){const S=Object.assign(Object.assign({},At()),{[f]:y});return new q.FA("auth","Firebase",S).create(f,{appName:b.name})}function qe(b){return Qe(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wt(b,...f){if("string"!=typeof b){const y=f[0],S=[...f.slice(1)];return S[0]&&(S[0].appName=b.name),b._errorFactory.create(y,...S)}return Lt.create(b,...f)}function st(b,f,...y){if(!b)throw Wt(f,...y)}function ct(b){const f="INTERNAL ASSERTION FAILED: "+b;throw gt(f),new Error(f)}function Pn(b,f){b||ct(f)}function xn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function nt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class an{constructor(f,y){this.shortDelay=f,this.longDelay=y,Pn(y>f,"Short delay should be less than long delay!"),this.isMobile=(0,q.jZ)()||(0,q.lV)()}get(){return function _n(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function On(){return"http:"===nt()||"https:"===nt()}()||(0,q.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ot(b,f){Pn(b.emulator,"Emulator should always be set here");const{url:y}=b.emulator;return f?`${y}${f.startsWith("/")?f.slice(1):f}`:y}class He{static initialize(f,y,S){this.fetchImpl=f,y&&(this.headersImpl=y),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ce=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],le=new an(3e4,6e4);function fe(b,f){return b.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:b.tenantId}):f}function ne(b,f,y,S){return he.apply(this,arguments)}function he(){return(he=(0,T.A)(function*(b,f,y,S,U={}){return Ye(b,U,(0,T.A)(function*(){let J={},Oe={};S&&("GET"===f?Oe=S:J={body:JSON.stringify(S)});const et=(0,q.Am)(Object.assign({key:b.config.apiKey},Oe)).slice(1),jt=yield b._getAdditionalHeaders();jt["Content-Type"]="application/json",b.languageCode&&(jt["X-Firebase-Locale"]=b.languageCode);const pn=Object.assign({method:f,headers:jt},J);return(0,q.c1)()||(pn.referrerPolicy="no-referrer"),b.emulatorConfig&&(0,q.zJ)(b.emulatorConfig.host)&&(pn.credentials="include"),He.fetch()(yield Jn(b,b.config.apiHost,y,et),pn)}))})).apply(this,arguments)}function Ye(b,f,y){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,T.A)(function*(b,f,y){b._canInitEmulator=!1;const S=Object.assign(Object.assign({},Y),f);try{const U=new Hn(b),J=yield Promise.race([y(),U.promise]);U.clearNetworkTimeout();const Oe=yield J.json();if("needConfirmation"in Oe)throw Kt(b,"account-exists-with-different-credential",Oe);if(J.ok&&!("errorMessage"in Oe))return Oe;{const et=J.ok?Oe.errorMessage:Oe.error.message,[jt,pn]=et.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===jt)throw Kt(b,"credential-already-in-use",Oe);if("EMAIL_EXISTS"===jt)throw Kt(b,"email-already-in-use",Oe);if("USER_DISABLED"===jt)throw Kt(b,"user-disabled",Oe);const Un=S[jt]||jt.toLowerCase().replace(/[_\s]+/g,"-");if(pn)throw Qe(b,Un,pn);_t(b,Un)}}catch(U){if(U instanceof q.g)throw U;_t(b,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function rn(b,f,y,S){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,T.A)(function*(b,f,y,S,U={}){const J=yield ne(b,f,y,S,U);return"mfaPendingCredential"in J&&_t(b,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Jn(b,f,y,S){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,T.A)(function*(b,f,y,S){const U=`${f}${y}?${S}`,J=b,Oe=J.config.emulator?Ot(b.config,U):`${b.config.apiScheme}://${U}`;return ce.includes(y)&&(yield J._persistenceManagerAvailable,"COOKIE"===J._getPersistenceType())?J._getPersistence()._getFinalTarget(Oe).toString():Oe})).apply(this,arguments)}function $n(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((y,S)=>{this.timer=setTimeout(()=>S(Re(this.auth,"network-request-failed")),le.get())})}}function Kt(b,f,y){const S={appName:b.name};y.email&&(S.email=y.email),y.phoneNumber&&(S.phoneNumber=y.phoneNumber);const U=Re(b,f,S);return U.customData._tokenResponse=y,U}function er(b){return void 0!==b&&void 0!==b.enterprise}class ur{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const y of this.recaptchaEnforcementState)if(y.provider&&y.provider===f)return $n(y.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function sn(){return(sn=(0,T.A)(function*(b,f){return ne(b,"GET","/v2/recaptchaConfig",fe(b,f))})).apply(this,arguments)}function dn(){return(dn=(0,T.A)(function*(b,f){return ne(b,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ht(b,f){return jr.apply(this,arguments)}function jr(){return(jr=(0,T.A)(function*(b,f){return ne(b,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Gn(b){if(b)try{const f=new Date(Number(b));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function xr(){return(xr=(0,T.A)(function*(b,f=!1){const y=(0,q.Ku)(b),S=yield y.getIdToken(f),U=lr(S);st(U&&U.exp&&U.auth_time&&U.iat,y.auth,"internal-error");const J="object"==typeof U.firebase?U.firebase:void 0,Oe=J?.sign_in_provider;return{claims:U,token:S,authTime:Gn(qn(U.auth_time)),issuedAtTime:Gn(qn(U.iat)),expirationTime:Gn(qn(U.exp)),signInProvider:Oe||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function qn(b){return 1e3*Number(b)}function lr(b){const[f,y,S]=b.split(".");if(void 0===f||void 0===y||void 0===S)return gt("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,q.u)(y);return U?JSON.parse(U):(gt("Failed to decode base64 JWT payload"),null)}catch(U){return gt("Caught error parsing JWT payload as JSON",U?.toString()),null}}function _i(b){const f=lr(b);return st(f,"internal-error"),st(typeof f.exp<"u","internal-error"),st(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}function pr(b,f){return vi.apply(this,arguments)}function vi(){return(vi=(0,T.A)(function*(b,f,y=!1){if(y)return f;try{return yield f}catch(S){throw S instanceof q.g&&function dr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(S)&&b.auth.currentUser===b&&(yield b.auth.signOut()),S}})).apply(this,arguments)}class Ei{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var y;if(f){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const U=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(f=!1){var y=this;if(!this.isRunning)return;const S=this.getInterval(f);this.timerId=setTimeout((0,T.A)(function*(){yield y.iteration()}),S)}iteration(){var f=this;return(0,T.A)(function*(){try{yield f.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&f.schedule(!0))}f.schedule()})()}}class Ci{constructor(f,y){this.createdAt=f,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gn(this.lastLoginAt),this.creationTime=Gn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function or(b){return In.apply(this,arguments)}function In(){return(In=(0,T.A)(function*(b){var f;const y=b.auth,S=yield b.getIdToken(),U=yield pr(b,ht(y,{idToken:S}));st(U?.users.length,y,"internal-error");const J=U.users[0];b._notifyReloadListener(J);const Oe=null!==(f=J.providerUserInfo)&&void 0!==f&&f.length?xi(J.providerUserInfo):[],et=function Kn(b,f){return[...b.filter(S=>!f.some(U=>U.providerId===S.providerId)),...f]}(b.providerData,Oe),Un=!!b.isAnonymous&&!(b.email&&J.passwordHash||et?.length),jn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:et,metadata:new Ci(J.createdAt,J.lastLoginAt),isAnonymous:Un};Object.assign(b,jn)})).apply(this,arguments)}function Pr(){return(Pr=(0,T.A)(function*(b){const f=(0,q.Ku)(b);yield or(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function xi(b){return b.map(f=>{var{providerId:y}=f,S=(0,Ce.Tt)(f,["providerId"]);return{providerId:y,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function Mr(){return(Mr=(0,T.A)(function*(b,f){const y=yield Ye(b,{},(0,T.A)(function*(){const S=(0,q.Am)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:U,apiKey:J}=b.config,Oe=yield Jn(b,U,"/v1/token",`key=${J}`),et=yield b._getAdditionalHeaders();return et["Content-Type"]="application/x-www-form-urlencoded",He.fetch()(Oe,{method:"POST",headers:et,body:S})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}function gi(){return(gi=(0,T.A)(function*(b,f){return ne(b,"POST","/v2/accounts:revokeToken",fe(b,f))})).apply(this,arguments)}class Oi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){st(f.idToken,"internal-error"),st(typeof f.idToken<"u","internal-error"),st(typeof f.refreshToken<"u","internal-error");const y="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):_i(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,y)}updateFromIdToken(f){st(0!==f.length,"internal-error");const y=_i(f);this.updateTokensAndExpiration(f,null,y)}getToken(f){var y=this;return(0,T.A)(function*(S,U=!1){return U||!y.accessToken||y.isExpired?(st(y.refreshToken,S,"user-token-expired"),y.refreshToken?(yield y.refresh(S,y.refreshToken),y.accessToken):null):y.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(f,y){var S=this;return(0,T.A)(function*(){const{accessToken:U,refreshToken:J,expiresIn:Oe}=yield function Fe(b,f){return Mr.apply(this,arguments)}(f,y);S.updateTokensAndExpiration(U,J,Number(Oe))})()}updateTokensAndExpiration(f,y,S){this.refreshToken=y||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(f,y){const{refreshToken:S,accessToken:U,expirationTime:J}=y,Oe=new Oi;return S&&(st("string"==typeof S,"internal-error",{appName:f}),Oe.refreshToken=S),U&&(st("string"==typeof U,"internal-error",{appName:f}),Oe.accessToken=U),J&&(st("number"==typeof J,"internal-error",{appName:f}),Oe.expirationTime=J),Oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Oi,this.toJSON())}_performRefresh(){return ct("not implemented")}}function vn(b,f){st("string"==typeof b||typeof b>"u","internal-error",{appName:f})}class _r{constructor(f){var{uid:y,auth:S,stsTokenManager:U}=f,J=(0,Ce.Tt)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=S,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new Ci(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(f){var y=this;return(0,T.A)(function*(){const S=yield pr(y,y.stsTokenManager.getToken(y.auth,f));return st(S,y.auth,"internal-error"),y.accessToken!==S&&(y.accessToken=S,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),S})()}getIdTokenResult(f){return function Gr(b){return xr.apply(this,arguments)}(this,f)}reload(){return function pi(b){return Pr.apply(this,arguments)}(this)}_assign(f){this!==f&&(st(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(y=>Object.assign({},y)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const y=new _r(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(f){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f){var y=this;return(0,T.A)(function*(S,U=!1){let J=!1;S.idToken&&S.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(S),J=!0),U&&(yield or(y)),yield y.auth._persistUserIfCurrent(y),J&&y.auth._notifyListenersIfCurrent(y)}).apply(this,arguments)}delete(){var f=this;return(0,T.A)(function*(){if((0,O.xZ)(f.auth.app))return Promise.reject(qe(f.auth));const y=yield f.getIdToken();return yield pr(f,function fr(b,f){return dn.apply(this,arguments)}(f.auth,{idToken:y})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,y){var S,U,J,Oe,et,jt,pn,Un;const jn=null!==(S=y.displayName)&&void 0!==S?S:void 0,Rr=null!==(U=y.email)&&void 0!==U?U:void 0,ws=null!==(J=y.phoneNumber)&&void 0!==J?J:void 0,Zi=null!==(Oe=y.photoURL)&&void 0!==Oe?Oe:void 0,zc=null!==(et=y.tenantId)&&void 0!==et?et:void 0,Jl=null!==(jt=y._redirectEventId)&&void 0!==jt?jt:void 0,lo=null!==(pn=y.createdAt)&&void 0!==pn?pn:void 0,Dg=null!==(Un=y.lastLoginAt)&&void 0!==Un?Un:void 0,{uid:el,emailVerified:Ag,isAnonymous:mu,providerData:Uo,stsTokenManager:yh}=y;st(el&&yh,f,"internal-error");const Uf=Oi.fromJSON(this.name,yh);st("string"==typeof el,f,"internal-error"),vn(jn,f.name),vn(Rr,f.name),st("boolean"==typeof Ag,f,"internal-error"),st("boolean"==typeof mu,f,"internal-error"),vn(ws,f.name),vn(Zi,f.name),vn(zc,f.name),vn(Jl,f.name),vn(lo,f.name),vn(Dg,f.name);const ho=new _r({uid:el,auth:f,email:Rr,emailVerified:Ag,displayName:jn,isAnonymous:mu,photoURL:Zi,phoneNumber:ws,tenantId:zc,stsTokenManager:Uf,createdAt:lo,lastLoginAt:Dg});return Uo&&Array.isArray(Uo)&&(ho.providerData=Uo.map(Wc=>Object.assign({},Wc))),Jl&&(ho._redirectEventId=Jl),ho}static _fromIdTokenResponse(f,y){return(0,T.A)(function*(S,U,J=!1){const Oe=new Oi;Oe.updateFromServerResponse(U);const et=new _r({uid:U.localId,auth:S,stsTokenManager:Oe,isAnonymous:J});return yield or(et),et}).apply(this,arguments)}static _fromGetAccountInfoResponse(f,y,S){return(0,T.A)(function*(){const U=y.users[0];st(void 0!==U.localId,"internal-error");const J=void 0!==U.providerUserInfo?xi(U.providerUserInfo):[],Oe=!(U.email&&U.passwordHash||J?.length),et=new Oi;et.updateFromIdToken(S);const jt=new _r({uid:U.localId,auth:f,stsTokenManager:et,isAnonymous:Oe}),pn={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:J,metadata:new Ci(U.createdAt,U.lastLoginAt),isAnonymous:!(U.email&&U.passwordHash||J?.length)};return Object.assign(jt,pn),jt})()}}const Ir=new Map;function $i(b){Pn(b instanceof Function,"Expected a class definition");let f=Ir.get(b);return f?(Pn(f instanceof b,"Instance stored in cache mismatched with class"),f):(f=new b,Ir.set(b,f),f)}const Li=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,T.A)(function*(){return!0})()}_set(y,S){var U=this;return(0,T.A)(function*(){U.storage[y]=S})()}_get(y){var S=this;return(0,T.A)(function*(){const U=S.storage[y];return void 0===U?null:U})()}_remove(y){var S=this;return(0,T.A)(function*(){delete S.storage[y]})()}_addListener(y,S){}_removeListener(y,S){}}return b.type="NONE",b})();function be(b,f,y){return`firebase:${b}:${f}:${y}`}class ye{constructor(f,y,S){this.persistence=f,this.auth=y,this.userKey=S;const{config:U,name:J}=this.auth;this.fullUserKey=be(this.userKey,U.apiKey,J),this.fullPersistenceKey=be("persistence",U.apiKey,J),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,T.A)(function*(){const y=yield f.persistence._get(f.fullUserKey);if(!y)return null;if("string"==typeof y){const S=yield ht(f.auth,{idToken:y}).catch(()=>{});return S?_r._fromGetAccountInfoResponse(f.auth,S,y):null}return _r._fromJSON(f.auth,y)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var y=this;return(0,T.A)(function*(){if(y.persistence===f)return;const S=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=f,S?y.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,y){return(0,T.A)(function*(S,U,J="authUser"){if(!U.length)return new ye($i(Li),S,J);const Oe=(yield Promise.all(U.map(function(){var jn=(0,T.A)(function*(Rr){if(yield Rr._isAvailable())return Rr});return function(Rr){return jn.apply(this,arguments)}}()))).filter(jn=>jn);let et=Oe[0]||$i(Li);const jt=be(J,S.config.apiKey,S.name);let pn=null;for(const jn of U)try{const Rr=yield jn._get(jt);if(Rr){let ws;if("string"==typeof Rr){const Zi=yield ht(S,{idToken:Rr}).catch(()=>{});if(!Zi)break;ws=yield _r._fromGetAccountInfoResponse(S,Zi,Rr)}else ws=_r._fromJSON(S,Rr);jn!==et&&(pn=ws),et=jn;break}}catch{}const Un=Oe.filter(jn=>jn._shouldAllowMigration);return et._shouldAllowMigration&&Un.length?(et=Un[0],pn&&(yield et._set(jt,pn.toJSON())),yield Promise.all(U.map(function(){var jn=(0,T.A)(function*(Rr){if(Rr!==et)try{yield Rr._remove(jt)}catch{}});return function(Rr){return jn.apply(this,arguments)}}())),new ye(et,S,J)):new ye(et,S,J)}).apply(this,arguments)}}function Ve(b){const f=b.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(wn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(xt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(te(f))return"Blackberry";if(oe(f))return"Webos";if(Ze(f))return"Safari";if((f.includes("chrome/")||Zt(f))&&!f.includes("edge/"))return"Chrome";if(gr(f))return"Android";{const S=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function xt(b=(0,q.ZQ)()){return/firefox\//i.test(b)}function Ze(b=(0,q.ZQ)()){const f=b.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Zt(b=(0,q.ZQ)()){return/crios\//i.test(b)}function wn(b=(0,q.ZQ)()){return/iemobile/i.test(b)}function gr(b=(0,q.ZQ)()){return/android/i.test(b)}function te(b=(0,q.ZQ)()){return/blackberry/i.test(b)}function oe(b=(0,q.ZQ)()){return/webos/i.test(b)}function De(b=(0,q.ZQ)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function me(b=(0,q.ZQ)()){return De(b)||gr(b)||oe(b)||te(b)||/windows phone/i.test(b)||wn(b)}function Le(b,f=[]){let y;switch(b){case"Browser":y=Ve((0,q.ZQ)());break;case"Worker":y=`${Ve((0,q.ZQ)())}-${b}`;break;default:y=b}const S=f.length?f.join(","):"FirebaseCore-web";return`${y}/JsCore/${O.MF}/${S}`}class St{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,y){const S=J=>new Promise((Oe,et)=>{try{Oe(f(J))}catch(jt){et(jt)}});S.onAbort=y,this.queue.push(S);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(f){var y=this;return(0,T.A)(function*(){if(y.auth.currentUser===f)return;const S=[];try{for(const U of y.queue)yield U(f),U.onAbort&&S.push(U.onAbort)}catch(U){S.reverse();for(const J of S)try{J()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}function pt(){return(pt=(0,T.A)(function*(b,f={}){return ne(b,"GET","/v2/passwordPolicy",fe(b,f))})).apply(this,arguments)}class en{constructor(f){var y,S,U,J;const Oe=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=Oe.minPasswordLength)&&void 0!==y?y:6,Oe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Oe.maxPasswordLength),void 0!==Oe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Oe.containsLowercaseCharacter),void 0!==Oe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Oe.containsUppercaseCharacter),void 0!==Oe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Oe.containsNumericCharacter),void 0!==Oe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Oe.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(U=null===(S=f.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==U?U:"",this.forceUpgradeOnSignin=null!==(J=f.forceUpgradeOnSignin)&&void 0!==J&&J,this.schemaVersion=f.schemaVersion}validatePassword(f){var y,S,U,J,Oe,et;const jt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,jt),this.validatePasswordCharacterOptions(f,jt),jt.isValid&&(jt.isValid=null===(y=jt.meetsMinPasswordLength)||void 0===y||y),jt.isValid&&(jt.isValid=null===(S=jt.meetsMaxPasswordLength)||void 0===S||S),jt.isValid&&(jt.isValid=null===(U=jt.containsLowercaseLetter)||void 0===U||U),jt.isValid&&(jt.isValid=null===(J=jt.containsUppercaseLetter)||void 0===J||J),jt.isValid&&(jt.isValid=null===(Oe=jt.containsNumericCharacter)||void 0===Oe||Oe),jt.isValid&&(jt.isValid=null===(et=jt.containsNonAlphanumericCharacter)||void 0===et||et),jt}validatePasswordLengthOptions(f,y){const S=this.customStrengthOptions.minPasswordLength,U=this.customStrengthOptions.maxPasswordLength;S&&(y.meetsMinPasswordLength=f.length>=S),U&&(y.meetsMaxPasswordLength=f.length<=U)}validatePasswordCharacterOptions(f,y){let S;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let U=0;U<f.length;U++)S=f.charAt(U),this.updatePasswordCharacterOptionsStatuses(y,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(f,y,S,U,J){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=U)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=J))}}class Rn{constructor(f,y,S,U){this.app=f,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=S,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fn(this),this.idTokenSubscription=new Fn(this),this.beforeStateQueue=new St(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=U.sdkClientVersion,this._persistenceManagerAvailable=new Promise(J=>this._resolvePersistenceManagerAvailable=J)}_initializeWithPersistence(f,y){var S=this;return y&&(this._popupRedirectResolver=$i(y)),this._initializationPromise=this.queue((0,T.A)(function*(){var U,J,Oe;if(!S._deleted&&(S.persistenceManager=yield ye.create(S,f),null===(U=S._resolvePersistenceManagerAvailable)||void 0===U||U.call(S),!S._deleted)){if(null!==(J=S._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(y),S.lastNotifiedUid=(null===(Oe=S.currentUser)||void 0===Oe?void 0:Oe.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,T.A)(function*(){if(f._deleted)return;const y=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||y){if(f.currentUser&&y&&f.currentUser.uid===y.uid)return f._currentUser._assign(y),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(y,!0)}})()}initializeCurrentUserFromIdToken(f){var y=this;return(0,T.A)(function*(){try{const S=yield ht(y,{idToken:f}),U=yield _r._fromGetAccountInfoResponse(y,S,f);yield y.directlySetCurrentUser(U)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield y.directlySetCurrentUser(null)}})()}initializeCurrentUser(f){var y=this;return(0,T.A)(function*(){var S;if((0,O.xZ)(y.app)){const et=y.app.settings.authIdToken;return et?new Promise(jt=>{setTimeout(()=>y.initializeCurrentUserFromIdToken(et).then(jt,jt))}):y.directlySetCurrentUser(null)}const U=yield y.assertedPersistence.getCurrentUser();let J=U,Oe=!1;if(f&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const et=null===(S=y.redirectUser)||void 0===S?void 0:S._redirectEventId,jt=J?._redirectEventId,pn=yield y.tryRedirectSignIn(f);(!et||et===jt)&&pn?.user&&(J=pn.user,Oe=!0)}if(!J)return y.directlySetCurrentUser(null);if(!J._redirectEventId){if(Oe)try{yield y.beforeStateQueue.runMiddleware(J)}catch(et){J=U,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(et))}return J?y.reloadAndSetCurrentUserOrClear(J):y.directlySetCurrentUser(null)}return st(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===J._redirectEventId?y.directlySetCurrentUser(J):y.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(f){var y=this;return(0,T.A)(function*(){let S=null;try{S=yield y._popupRedirectResolver._completeRedirectFn(y,f,!0)}catch{yield y._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(f){var y=this;return(0,T.A)(function*(){try{yield or(f)}catch(S){if("auth/network-request-failed"!==S?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function mt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var f=this;return(0,T.A)(function*(){f._deleted=!0})()}updateCurrentUser(f){var y=this;return(0,T.A)(function*(){if((0,O.xZ)(y.app))return Promise.reject(qe(y));const S=f?(0,q.Ku)(f):null;return S&&st(S.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(S&&S._clone(y))})()}_updateCurrentUser(f){var y=this;return(0,T.A)(function*(S,U=!1){if(!y._deleted)return S&&st(y.tenantId===S.tenantId,y,"tenant-id-mismatch"),U||(yield y.beforeStateQueue.runMiddleware(S)),y.queue((0,T.A)(function*(){yield y.directlySetCurrentUser(S),y.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var f=this;return(0,T.A)(function*(){return(0,O.xZ)(f.app)?Promise.reject(qe(f)):(yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0))})()}setPersistence(f){var y=this;return(0,O.xZ)(this.app)?Promise.reject(qe(this)):this.queue((0,T.A)(function*(){yield y.assertedPersistence.setPersistence($i(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var y=this;return(0,T.A)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const S=y._getPasswordPolicyInternal();return S.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,T.A)(function*(){const y=yield function wt(b){return pt.apply(this,arguments)}(f),S=new en(y);null===f.tenantId?f._projectPasswordPolicy=S:f._tenantPasswordPolicies[f.tenantId]=S})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(f){this._errorFactory=new q.FA("auth","Firebase",f())}onAuthStateChanged(f,y,S){return this.registerStateListener(this.authStateSubscription,f,y,S)}beforeAuthStateChanged(f,y){return this.beforeStateQueue.pushCallback(f,y)}onIdTokenChanged(f,y,S){return this.registerStateListener(this.idTokenSubscription,f,y,S)}authStateReady(){return new Promise((f,y)=>{if(this.currentUser)f();else{const S=this.onAuthStateChanged(()=>{S(),f()},y)}})}revokeAccessToken(f){var y=this;return(0,T.A)(function*(){if(y.currentUser){const S=yield y.currentUser.getIdToken(),U={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:S};null!=y.tenantId&&(U.tenantId=y.tenantId),yield function Gi(b,f){return gi.apply(this,arguments)}(y,U)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,y){var S=this;return(0,T.A)(function*(){const U=yield S.getOrInitRedirectPersistenceManager(y);return null===f?U.removeCurrentUser():U.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var y=this;return(0,T.A)(function*(){if(!y.redirectPersistenceManager){const S=f&&$i(f)||y._popupRedirectResolver;st(S,y,"argument-error"),y.redirectPersistenceManager=yield ye.create(y,[$i(S._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(f){var y=this;return(0,T.A)(function*(){var S,U;return y._isInitialized&&(yield y.queue((0,T.A)(function*(){}))),(null===(S=y._currentUser)||void 0===S?void 0:S._redirectEventId)===f?y._currentUser:(null===(U=y.redirectUser)||void 0===U?void 0:U._redirectEventId)===f?y.redirectUser:null})()}_persistUserIfCurrent(f){var y=this;return(0,T.A)(function*(){if(f===y.currentUser)return y.queue((0,T.A)(function*(){return y.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(y=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,y,S,U){if(this._deleted)return()=>{};const J="function"==typeof y?y:y.next.bind(y);let Oe=!1;const et=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(et,this,"internal-error"),et.then(()=>{Oe||J(this.currentUser)}),"function"==typeof y){const jt=f.addObserver(y,S,U);return()=>{Oe=!0,jt()}}{const jt=f.addObserver(y);return()=>{Oe=!0,jt()}}}directlySetCurrentUser(f){var y=this;return(0,T.A)(function*(){y.currentUser&&y.currentUser!==f&&y._currentUser._stopProactiveRefresh(),f&&y.isProactiveRefreshEnabled&&f._startProactiveRefresh(),y.currentUser=f,f?yield y.assertedPersistence.setCurrentUser(f):yield y.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Le(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,T.A)(function*(){var y;const S={"X-Client-Version":f.clientVersion};f.app.options.appId&&(S["X-Firebase-gmpid"]=f.app.options.appId);const U=yield null===(y=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();U&&(S["X-Firebase-Client"]=U);const J=yield f._getAppCheckToken();return J&&(S["X-Firebase-AppCheck"]=J),S})()}_getAppCheckToken(){var f=this;return(0,T.A)(function*(){var y;if((0,O.xZ)(f.app)&&f.app.settings.appCheckToken)return f.app.settings.appCheckToken;const S=yield null===(y=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return S?.error&&function ft(b,...f){Gt.logLevel<=I.$b.WARN&&Gt.warn(`Auth (${O.MF}): ${b}`,...f)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function cn(b){return(0,q.Ku)(b)}class Fn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,q.tD)(y=>this.observer=y)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rr={loadJS:()=>(0,T.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ti(b){return rr.loadJS(b)}function Bt(b){return`__${b}${Math.floor(1e6*Math.random())}`}class ar{constructor(){this.enterprise=new Hr}ready(f){f()}execute(f,y){return Promise.resolve("token")}render(f,y){return""}}class Hr{ready(f){f()}execute(f,y){return Promise.resolve("token")}render(f,y){return""}}const Ts="NO_RECAPTCHA";class mo{constructor(f){this.type="recaptcha-enterprise",this.auth=cn(f)}verify(){var f=this;return(0,T.A)(function*(y="verify",S=!1){function J(){return J=(0,T.A)(function*(et){if(!S){if(null==et.tenantId&&null!=et._agentRecaptchaConfig)return et._agentRecaptchaConfig.siteKey;if(null!=et.tenantId&&void 0!==et._tenantRecaptchaConfigs[et.tenantId])return et._tenantRecaptchaConfigs[et.tenantId].siteKey}return new Promise(function(){var jt=(0,T.A)(function*(pn,Un){(function Wi(b,f){return sn.apply(this,arguments)})(et,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(jn=>{if(void 0!==jn.recaptchaKey){const Rr=new ur(jn);return null==et.tenantId?et._agentRecaptchaConfig=Rr:et._tenantRecaptchaConfigs[et.tenantId]=Rr,pn(Rr.siteKey)}Un(new Error("recaptcha Enterprise site key undefined"))}).catch(jn=>{Un(jn)})});return function(pn,Un){return jt.apply(this,arguments)}}())}),J.apply(this,arguments)}function Oe(et,jt,pn){const Un=window.grecaptcha;er(Un)?Un.enterprise.ready(()=>{Un.enterprise.execute(et,{action:y}).then(jn=>{jt(jn)}).catch(()=>{jt(Ts)})}):pn(Error("No reCAPTCHA enterprise script loaded."))}return f.auth.settings.appVerificationDisabledForTesting?(new ar).execute("siteKey",{action:"verify"}):new Promise((et,jt)=>{(function U(et){return J.apply(this,arguments)})(f.auth).then(pn=>{if(!S&&er(window.grecaptcha))Oe(pn,et,jt);else{if(typeof window>"u")return void jt(new Error("RecaptchaVerifier is only supported in browser"));let Un=function Se(){return rr.recaptchaEnterpriseScript}();0!==Un.length&&(Un+=pn),Ti(Un).then(()=>{Oe(pn,et,jt)}).catch(jn=>{jt(jn)})}}).catch(pn=>{jt(pn)})})}).apply(this,arguments)}}function ls(b,f,y){return B.apply(this,arguments)}function B(){return(B=(0,T.A)(function*(b,f,y,S=!1,U=!1){const J=new mo(b);let Oe;if(U)Oe=Ts;else try{Oe=yield J.verify(y)}catch{Oe=yield J.verify(y,!0)}const et=Object.assign({},f);return"mfaSmsEnrollment"===y||"mfaSmsSignIn"===y?("phoneEnrollmentInfo"in et?Object.assign(et,{phoneEnrollmentInfo:{phoneNumber:et.phoneEnrollmentInfo.phoneNumber,recaptchaToken:et.phoneEnrollmentInfo.recaptchaToken,captchaResponse:Oe,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in et&&Object.assign(et,{phoneSignInInfo:{recaptchaToken:et.phoneSignInInfo.recaptchaToken,captchaResponse:Oe,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),et):(Object.assign(et,S?{captchaResp:Oe}:{captchaResponse:Oe}),Object.assign(et,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(et,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),et)})).apply(this,arguments)}function de(b,f,y,S,U){return K.apply(this,arguments)}function K(){return K=(0,T.A)(function*(b,f,y,S,U){var J,Oe;if("EMAIL_PASSWORD_PROVIDER"===U){if(null!==(J=b._getRecaptchaConfig())&&void 0!==J&&J.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const et=yield ls(b,f,y,"getOobCode"===y);return S(b,et)}return S(b,f).catch(function(){var et=(0,T.A)(function*(jt){if("auth/missing-recaptcha-token"===jt.code){console.log(`${y} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const pn=yield ls(b,f,y,"getOobCode"===y);return S(b,pn)}return Promise.reject(jt)});return function(jt){return et.apply(this,arguments)}}())}if("PHONE_PROVIDER"===U){if(null!==(Oe=b._getRecaptchaConfig())&&void 0!==Oe&&Oe.isProviderEnabled("PHONE_PROVIDER")){const et=yield ls(b,f,y);return S(b,et).catch(function(){var jt=(0,T.A)(function*(pn){var Un;if("AUDIT"===(null===(Un=b._getRecaptchaConfig())||void 0===Un?void 0:Un.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===pn.code||"auth/invalid-app-credential"===pn.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${y} flow.`);const jn=yield ls(b,f,y,!1,!0);return S(b,jn)}return Promise.reject(pn)});return function(pn){return jt.apply(this,arguments)}}())}{const et=yield ls(b,f,y,!1,!0);return S(b,et)}}return Promise.reject(U+" provider is not supported.")}),K.apply(this,arguments)}function ti(b){const f=b.indexOf(":");return f<0?"":b.substr(0,f+1)}function qr(b){if(!b)return null;const f=Number(b);return isNaN(f)?null:f}class Nn{constructor(f,y){this.providerId=f,this.signInMethod=y}toJSON(){return ct("not implemented")}_getIdTokenResponse(f){return ct("not implemented")}_linkToIdToken(f,y){return ct("not implemented")}_getReauthenticationResolver(f){return ct("not implemented")}}function Ns(b,f){return ae.apply(this,arguments)}function ae(){return(ae=(0,T.A)(function*(b,f){return ne(b,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function dt(b,f){return qt.apply(this,arguments)}function qt(){return(qt=(0,T.A)(function*(b,f){return rn(b,"POST","/v1/accounts:signInWithPassword",fe(b,f))})).apply(this,arguments)}function Bn(){return(Bn=(0,T.A)(function*(b,f){return ne(b,"POST","/v1/accounts:sendOobCode",fe(b,f))})).apply(this,arguments)}function Ao(b,f){return Si.apply(this,arguments)}function Si(){return(Si=(0,T.A)(function*(b,f){return function hn(b,f){return Bn.apply(this,arguments)}(b,f)})).apply(this,arguments)}function ro(){return(ro=(0,T.A)(function*(b,f){return rn(b,"POST","/v1/accounts:signInWithEmailLink",fe(b,f))})).apply(this,arguments)}function Co(){return(Co=(0,T.A)(function*(b,f){return rn(b,"POST","/v1/accounts:signInWithEmailLink",fe(b,f))})).apply(this,arguments)}class oo extends Nn{constructor(f,y,S,U=null){super("password",S),this._email=f,this._password=y,this._tenantId=U}static _fromEmailAndPassword(f,y){return new oo(f,y,"password")}static _fromEmailAndCode(f,y,S=null){return new oo(f,y,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const y="string"==typeof f?JSON.parse(f):f;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(f){var y=this;return(0,T.A)(function*(){switch(y.signInMethod){case"password":return de(f,{returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",dt,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function xs(b,f){return ro.apply(this,arguments)}(f,{email:y._email,oobCode:y._password});default:_t(f,"internal-error")}})()}_linkToIdToken(f,y){var S=this;return(0,T.A)(function*(){switch(S.signInMethod){case"password":return de(f,{idToken:y,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ns,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Bs(b,f){return Co.apply(this,arguments)}(f,{idToken:y,email:S._email,oobCode:S._password});default:_t(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Or(b,f){return Os.apply(this,arguments)}function Os(){return(Os=(0,T.A)(function*(b,f){return rn(b,"POST","/v1/accounts:signInWithIdp",fe(b,f))})).apply(this,arguments)}class Ls{constructor(f){var y,S,U,J,Oe,et;const jt=(0,q.I9)((0,q.hp)(f)),pn=null!==(y=jt.apiKey)&&void 0!==y?y:null,Un=null!==(S=jt.oobCode)&&void 0!==S?S:null,jn=function Ri(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=jt.mode)&&void 0!==U?U:null);st(pn&&Un&&jn,"argument-error"),this.apiKey=pn,this.operation=jn,this.code=Un,this.continueUrl=null!==(J=jt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Oe=jt.lang)&&void 0!==Oe?Oe:null,this.tenantId=null!==(et=jt.tenantId)&&void 0!==et?et:null}static parseLink(f){const y=function Ia(b){const f=(0,q.I9)((0,q.hp)(b)).link,y=f?(0,q.I9)((0,q.hp)(f)).deep_link_id:null,S=(0,q.I9)((0,q.hp)(b)).deep_link_id;return(S?(0,q.I9)((0,q.hp)(S)).link:null)||S||y||f||b}(f);try{return new Ls(y)}catch{return null}}}let mr=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(y,S){return oo._fromEmailAndPassword(y,S)}static credentialWithLink(y,S){const U=Ls.parseLink(S);return st(U,"argument-error"),oo._fromEmailAndCode(y,U.code,U.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Pi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class la extends Pi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}function Mt(b,f){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,T.A)(function*(b,f){return rn(b,"POST","/v1/accounts:signUp",fe(b,f))})).apply(this,arguments)}class Tn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,y,S){return(0,T.A)(function*(U,J,Oe,et=!1){const jt=yield _r._fromIdTokenResponse(U,Oe,et),pn=yn(Oe);return new Tn({user:jt,providerId:pn,_tokenResponse:Oe,operationType:J})}).apply(this,arguments)}static _forOperation(f,y,S){return(0,T.A)(function*(){yield f._updateTokensIfNecessary(S,!0);const U=yn(S);return new Tn({user:f,providerId:U,_tokenResponse:S,operationType:y})})()}}function yn(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}class Tr extends q.g{constructor(f,y,S,U){var J;super(y.code,y.message),this.operationType=S,this.user=U,Object.setPrototypeOf(this,Tr.prototype),this.customData={appName:f.name,tenantId:null!==(J=f.tenantId)&&void 0!==J?J:void 0,_serverResponse:y.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(f,y,S,U){return new Tr(f,y,S,U)}}function mi(b,f,y,S){return("reauthenticate"===f?y._getReauthenticationResolver(b):y._getIdTokenResponse(b)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?Tr._fromErrorAndOperation(b,J,f,S):J})}function is(){return(is=(0,T.A)(function*(b,f,y=!1){const S=yield pr(b,f._linkToIdToken(b.auth,yield b.getIdToken()),y);return Tn._forOperation(b,"link",S)})).apply(this,arguments)}function _s(){return(_s=(0,T.A)(function*(b,f,y=!1){const{auth:S}=b;if((0,O.xZ)(S.app))return Promise.reject(qe(S));const U="reauthenticate";try{const J=yield pr(b,mi(S,U,f,b),y);st(J.idToken,S,"internal-error");const Oe=lr(J.idToken);st(Oe,S,"internal-error");const{sub:et}=Oe;return st(b.uid===et,S,"user-mismatch"),Tn._forOperation(b,U,J)}catch(J){throw"auth/user-not-found"===J?.code&&_t(S,"user-mismatch"),J}})).apply(this,arguments)}function Yr(b,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,T.A)(function*(b,f,y=!1){if((0,O.xZ)(b.app))return Promise.reject(qe(b));const S="signIn",U=yield mi(b,S,f),J=yield Tn._fromIdTokenResponse(b,S,U);return y||(yield b._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Gs(){return(Gs=(0,T.A)(function*(b,f){return Yr(cn(b),f)})).apply(this,arguments)}function Yo(b){return vo.apply(this,arguments)}function vo(){return(vo=(0,T.A)(function*(b){const f=cn(b);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function Di(b,f,y){return da.apply(this,arguments)}function da(){return(da=(0,T.A)(function*(b,f,y){const S=cn(b),U={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};y&&function Lo(b,f,y){var S;st((null===(S=y.url)||void 0===S?void 0:S.length)>0,b,"invalid-continue-uri"),st(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),st(typeof y.linkDomain>"u"||y.linkDomain.length>0,b,"invalid-hosting-link-domain"),f.continueUrl=y.url,f.dynamicLinkDomain=y.dynamicLinkDomain,f.linkDomain=y.linkDomain,f.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(st(y.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),f.iOSBundleId=y.iOS.bundleId),y.android&&(st(y.android.packageName.length>0,b,"missing-android-pkg-name"),f.androidInstallApp=y.android.installApp,f.androidMinimumVersionCode=y.android.minimumVersion,f.androidPackageName=y.android.packageName)}(S,U,y),yield de(S,U,"getOobCode",Ao,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function Ca(b,f,y){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,T.A)(function*(b,f,y){if((0,O.xZ)(b.app))return Promise.reject(qe(b));const S=cn(b),Oe=yield de(S,{returnSecureToken:!0,email:f,password:y,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mt,"EMAIL_PASSWORD_PROVIDER").catch(jt=>{throw"auth/password-does-not-meet-requirements"===jt.code&&Yo(b),jt}),et=yield Tn._fromIdTokenResponse(S,"signIn",Oe);return yield S._updateCurrentUser(et.user),et})).apply(this,arguments)}function Wr(b,f,y){return(0,O.xZ)(b.app)?Promise.reject(qe(b)):function As(b,f){return Gs.apply(this,arguments)}((0,q.Ku)(b),mr.credential(f,y)).catch(function(){var S=(0,T.A)(function*(U){throw"auth/password-does-not-meet-requirements"===U.code&&Yo(b),U});return function(U){return S.apply(this,arguments)}}())}function l(b,f,y,S){return(0,q.Ku)(b).onAuthStateChanged(f,y,S)}function C(b){return(0,q.Ku)(b).signOut()}const Qs="__sak";class Es{constructor(f,y){this.storageRetriever=f,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Qs,"1"),this.storage.removeItem(Qs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,y){return this.storage.setItem(f,JSON.stringify(y)),Promise.resolve()}_get(f){const y=this.storage.getItem(f);return Promise.resolve(y?JSON.parse(y):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mo=(()=>{class b extends Es{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,S)=>this.onStorageEvent(y,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=me(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const S of Object.keys(this.listeners)){const U=this.storage.getItem(S),J=this.localCache[S];U!==J&&y(S,J,U)}}onStorageEvent(y,S=!1){if(!y.key)return void this.forAllChangedKeys((et,jt,pn)=>{this.notifyListeners(et,pn)});const U=y.key;S?this.detachListener():this.stopPolling();const J=()=>{const et=this.storage.getItem(U);!S&&this.localCache[U]===et||this.notifyListeners(U,et)},Oe=this.storage.getItem(U);!function ie(){return(0,q.lT)()&&10===document.documentMode}()||Oe===y.newValue||y.newValue===y.oldValue?J():setTimeout(J,10)}notifyListeners(y,S){this.localCache[y]=S;const U=this.listeners[y];if(U)for(const J of Array.from(U))J(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,S,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:S,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,S){var U=()=>super._set,J=this;return(0,T.A)(function*(){yield U().call(J,y,S),J.localCache[y]=JSON.stringify(S)})()}_get(y){var S=()=>super._get,U=this;return(0,T.A)(function*(){const J=yield S().call(U,y);return U.localCache[y]=JSON.stringify(J),J})()}_remove(y){var S=()=>super._remove,U=this;return(0,T.A)(function*(){yield S().call(U,y),delete U.localCache[y]})()}}return b.type="LOCAL",b})(),Qi=(()=>{class b extends Es{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,S){}_removeListener(y,S){}}return b.type="SESSION",b})();let Yn=(()=>{class b{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const S=this.receivers.find(J=>J.isListeningto(y));if(S)return S;const U=new b(y);return this.receivers.push(U),U}isListeningto(y){return this.eventTarget===y}handleEvent(y){var S=this;return(0,T.A)(function*(){const U=y,{eventId:J,eventType:Oe,data:et}=U.data,jt=S.handlersMap[Oe];if(!jt?.size)return;U.ports[0].postMessage({status:"ack",eventId:J,eventType:Oe});const pn=Array.from(jt).map(function(){var jn=(0,T.A)(function*(Rr){return Rr(U.origin,et)});return function(Rr){return jn.apply(this,arguments)}}()),Un=yield function Vn(b){return Promise.all(b.map(function(){var f=(0,T.A)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(S){return{fulfilled:!1,reason:S}}});return function(y){return f.apply(this,arguments)}}()))}(pn);U.ports[0].postMessage({status:"done",eventId:J,eventType:Oe,response:Un})})()}_subscribe(y,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(S)}_unsubscribe(y,S){this.handlersMap[y]&&S&&this.handlersMap[y].delete(S),(!S||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function sr(b="",f=10){let y="";for(let S=0;S<f;S++)y+=Math.floor(10*Math.random());return b+y}class fi{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,y){var S=this;return(0,T.A)(function*(U,J,Oe=50){const et=typeof MessageChannel<"u"?new MessageChannel:null;if(!et)throw new Error("connection_unavailable");let jt,pn;return new Promise((Un,jn)=>{const Rr=sr("",20);et.port1.start();const ws=setTimeout(()=>{jn(new Error("unsupported_event"))},Oe);pn={messageChannel:et,onMessage(Zi){const zc=Zi;if(zc.data.eventId===Rr)switch(zc.data.status){case"ack":clearTimeout(ws),jt=setTimeout(()=>{jn(new Error("timeout"))},3e3);break;case"done":clearTimeout(jt),Un(zc.data.response);break;default:clearTimeout(ws),clearTimeout(jt),jn(new Error("invalid_response"))}}},S.handlers.add(pn),et.port1.addEventListener("message",pn.onMessage),S.target.postMessage({eventType:U,eventId:Rr,data:J},[et.port2])}).finally(()=>{pn&&S.removeMessageHandler(pn)})}).apply(this,arguments)}}function Sr(){return window}function br(){return typeof Sr().WorkerGlobalScope<"u"&&"function"==typeof Sr().importScripts}function si(){return(si=(0,T.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const fs="firebaseLocalStorageDb",so="firebaseLocalStorage",Vo="fbase_key";class To{constructor(f){this.request=f}toPromise(){return new Promise((f,y)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function gc(b,f){return b.transaction([so],f?"readwrite":"readonly").objectStore(so)}function rh(){const b=indexedDB.open(fs,1);return new Promise((f,y)=>{b.addEventListener("error",()=>{y(b.error)}),b.addEventListener("upgradeneeded",()=>{const S=b.result;try{S.createObjectStore(so,{keyPath:Vo})}catch(U){y(U)}}),b.addEventListener("success",(0,T.A)(function*(){const S=b.result;S.objectStoreNames.contains(so)?f(S):(S.close(),yield function No(){const b=indexedDB.deleteDatabase(fs);return new To(b).toPromise()}(),f(yield rh()))}))})}function Ps(b,f,y){return oi.apply(this,arguments)}function oi(){return(oi=(0,T.A)(function*(b,f,y){const S=gc(b,!0).put({[Vo]:f,value:y});return new To(S).toPromise()})).apply(this,arguments)}function zu(){return(zu=(0,T.A)(function*(b,f){const y=gc(b,!1).get(f),S=yield new To(y).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function xc(b,f){const y=gc(b,!0).delete(f);return new To(y).toPromise()}const mc=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,T.A)(function*(){return y.db||(y.db=yield rh()),y.db})()}_withRetries(y){var S=this;return(0,T.A)(function*(){let U=0;for(;;)try{const J=yield S._openDb();return yield y(J)}catch(J){if(U++>3)throw J;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,T.A)(function*(){return br()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,T.A)(function*(){y.receiver=Yn._getInstance(function ou(){return br()?self:null}()),y.receiver._subscribe("keyChanged",function(){var S=(0,T.A)(function*(U,J){return{keyProcessed:(yield y._poll()).includes(J.key)}});return function(U,J){return S.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var S=(0,T.A)(function*(U,J){return["keyChanged"]});return function(U,J){return S.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,T.A)(function*(){var S,U;if(y.activeServiceWorker=yield function ko(){return si.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new fi(y.activeServiceWorker);const J=yield y.sender._send("ping",{},800);J&&null!==(S=J[0])&&void 0!==S&&S.fulfilled&&null!==(U=J[0])&&void 0!==U&&U.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var S=this;return(0,T.A)(function*(){if(S.sender&&S.activeServiceWorker&&function ei(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:y},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,T.A)(function*(){try{if(!indexedDB)return!1;const y=yield rh();return yield Ps(y,Qs,"1"),yield xc(y,Qs),!0}catch{}return!1})()}_withPendingWrite(y){var S=this;return(0,T.A)(function*(){S.pendingWrites++;try{yield y()}finally{S.pendingWrites--}})()}_set(y,S){var U=this;return(0,T.A)(function*(){return U._withPendingWrite((0,T.A)(function*(){return yield U._withRetries(J=>Ps(J,y,S)),U.localCache[y]=S,U.notifyServiceWorker(y)}))})()}_get(y){var S=this;return(0,T.A)(function*(){const U=yield S._withRetries(J=>function ia(b,f){return zu.apply(this,arguments)}(J,y));return S.localCache[y]=U,U})()}_remove(y){var S=this;return(0,T.A)(function*(){return S._withPendingWrite((0,T.A)(function*(){return yield S._withRetries(U=>xc(U,y)),delete S.localCache[y],S.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,T.A)(function*(){const S=yield y._withRetries(Oe=>{const et=gc(Oe,!1).getAll();return new To(et).toPromise()});if(!S)return[];if(0!==y.pendingWrites)return[];const U=[],J=new Set;if(0!==S.length)for(const{fbase_key:Oe,value:et}of S)J.add(Oe),JSON.stringify(y.localCache[Oe])!==JSON.stringify(et)&&(y.notifyListeners(Oe,et),U.push(Oe));for(const Oe of Object.keys(y.localCache))y.localCache[Oe]&&!J.has(Oe)&&(y.notifyListeners(Oe,null),U.push(Oe));return U})()}notifyListeners(y,S){this.localCache[y]=S;const U=this.listeners[y];if(U)for(const J of Array.from(U))J(S)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,T.A)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(S)}_removeListener(y,S){this.listeners[y]&&(this.listeners[y].delete(S),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();Bt("rcb"),new an(3e4,6e4);class zo extends Nn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Or(f,this._buildIdpRequest())}_linkToIdToken(f,y){return Or(f,this._buildIdpRequest(y))}_getReauthenticationResolver(f){return Or(f,this._buildIdpRequest())}_buildIdpRequest(f){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(y.idToken=f),y}}function Ll(b){return Yr(b.auth,new zo(b),b.bypassAuthState)}function Vl(b){const{auth:f,user:y}=b;return st(y,f,"internal-error"),function bi(b,f){return _s.apply(this,arguments)}(y,new zo(b),b.bypassAuthState)}function Df(b){return Af.apply(this,arguments)}function Af(){return(Af=(0,T.A)(function*(b){const{auth:f,user:y}=b;return st(y,f,"internal-error"),function li(b,f){return is.apply(this,arguments)}(y,new zo(b),b.bypassAuthState)})).apply(this,arguments)}class Ul{constructor(f,y,S,U,J=!1){this.auth=f,this.resolver=S,this.user=U,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var f=this;return new Promise(function(){var y=(0,T.A)(function*(S,U){f.pendingPromise={resolve:S,reject:U};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(J){f.reject(J)}});return function(S,U){return y.apply(this,arguments)}}())}onAuthEvent(f){var y=this;return(0,T.A)(function*(){const{urlResponse:S,sessionId:U,postBody:J,tenantId:Oe,error:et,type:jt}=f;if(et)return void y.reject(et);const pn={auth:y.auth,requestUri:S,sessionId:U,tenantId:Oe||void 0,postBody:J||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(jt)(pn))}catch(Un){y.reject(Un)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Ll;case"linkViaPopup":case"linkViaRedirect":return Df;case"reauthViaPopup":case"reauthViaRedirect":return Vl;default:_t(this.auth,"internal-error")}}resolve(f){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new an(2e3,1e4);const cu=new Map;class Tg extends Ul{constructor(f,y,S=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,S),this.eventId=null}execute(){var f=()=>super.execute,y=this;return(0,T.A)(function*(){let S=cu.get(y.auth._key());if(!S){try{const J=(yield function vc(b,f){return Ba.apply(this,arguments)}(y.resolver,y.auth))?yield f().call(y):null;S=()=>Promise.resolve(J)}catch(U){S=()=>Promise.reject(U)}cu.set(y.auth._key(),S)}return y.bypassAuthState||cu.set(y.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(f){var y=()=>super.onAuthEvent,S=this;return(0,T.A)(function*(){if("signInViaRedirect"===f.type)return y().call(S,f);if("unknown"!==f.type){if(f.eventId){const U=yield S.auth._redirectUserForId(f.eventId);if(U)return S.user=U,y().call(S,f);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,T.A)(function*(){})()}cleanUp(){}}function Ba(){return(Ba=(0,T.A)(function*(b,f){const y=function $l(b){return be("pendingRedirect",b.config.apiKey,b.name)}(f),S=function jl(b){return $i(b._redirectPersistence)}(b);if(!(yield S._isAvailable()))return!1;const U="true"===(yield S._get(y));return yield S._remove(y),U})).apply(this,arguments)}function Xa(b,f){cu.set(b._key(),f)}function ah(b,f){return zl.apply(this,arguments)}function zl(){return(zl=(0,T.A)(function*(b,f,y=!1){if((0,O.xZ)(b.app))return Promise.reject(qe(b));const S=cn(b),U=function aa(b,f){return f?$i(f):(st(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}(S,f),Oe=yield new Tg(S,U,y).execute();return Oe&&!y&&(delete Oe.user._redirectEventId,yield S._persistUserIfCurrent(Oe.user),yield S._setRedirectUser(null,f)),Oe})).apply(this,arguments)}class $a{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let y=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(f,S)&&(y=!0,this.sendToConsumer(f,S),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Gl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ec(b);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=f,y=!0)),y}sendToConsumer(f,y){var S;if(f.error&&!ec(f)){const U=(null===(S=f.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";y.onError(Re(this.auth,U))}else y.onAuthEvent(f)}isEventForConsumer(f,y){const S=null===y.eventId||!!f.eventId&&f.eventId===y.eventId;return y.filter.includes(f.type)&&S}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ec(f))}saveEventToCache(f){this.cachedEventUids.add(Ec(f)),this.lastProcessedEventTime=Date.now()}}function Ec(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(f=>f).join("-")}function ec({type:b,error:f}){return"unknown"===b&&"auth/no-auth-event"===f?.code}function Xu(){return(Xu=(0,T.A)(function*(b,f={}){return ne(b,"GET","/v1/projects",f)})).apply(this,arguments)}const Pf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mf=/^https?/;function Go(){return Go=(0,T.A)(function*(b){if(b.config.emulator)return;const{authorizedDomains:f}=yield function Qu(b){return Xu.apply(this,arguments)}(b);for(const y of f)try{if(ya(y))return}catch{}_t(b,"unauthorized-domain")}),Go.apply(this,arguments)}function ya(b){const f=xn(),{protocol:y,hostname:S}=new URL(f);if(b.startsWith("chrome-extension://")){const Oe=new URL(b);return""===Oe.hostname&&""===S?"chrome-extension:"===y&&b.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===y&&Oe.hostname===S}if(!Mf.test(y))return!1;if(Pf.test(b))return S===b;const U=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(S)}const Kl=new an(3e4,6e4);function Bc(){const b=Sr().___jsl;if(b?.H)for(const f of Object.keys(b.H))if(b.H[f].r=b.H[f].r||[],b.H[f].L=b.H[f].L||[],b.H[f].r=[...b.H[f].L],b.CP)for(let y=0;y<b.CP.length;y++)b.CP[y]=null}let Yu=null;const zy=new an(5e3,15e3),uh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ql=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wc(b){const f=b.config;st(f.authDomain,b,"auth-domain-config-required");const y=f.emulator?Ot(f,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,S={apiKey:f.apiKey,appName:b.name,v:O.MF},U=ql.get(b.config.apiHost);U&&(S.eid=U);const J=b._getFrameworks();return J.length&&(S.fw=J.join(",")),`${y}?${(0,q.Am)(S).slice(1)}`}function Ic(){return Ic=(0,T.A)(function*(b){const f=yield function Nf(b){return Yu=Yu||function kf(b){return new Promise((f,y)=>{var S,U,J;function Oe(){Bc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Bc(),y(Re(b,"network-request-failed"))},timeout:Kl.get()})}if(null!==(U=null===(S=Sr().gapi)||void 0===S?void 0:S.iframes)&&void 0!==U&&U.Iframe)f(gapi.iframes.getContext());else{if(null===(J=Sr().gapi)||void 0===J||!J.load){const et=Bt("iframefcb");return Sr()[et]=()=>{gapi.load?Oe():y(Re(b,"network-request-failed"))},Ti(`${function Ge(){return rr.gapiScript}()}?onload=${et}`).catch(jt=>y(jt))}Oe()}}).catch(f=>{throw Yu=null,f})}(b),Yu}(b),y=Sr().gapi;return st(y,b,"internal-error"),f.open({where:document.body,url:wc(b),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uh,dontclear:!0},S=>new Promise(function(){var U=(0,T.A)(function*(J,Oe){yield S.restyle({setHideOnLeave:!1});const et=Re(b,"network-request-failed"),jt=Sr().setTimeout(()=>{Oe(et)},zy.get());function pn(){Sr().clearTimeout(jt),J(S)}S.ping(pn).then(pn,()=>{Oe(et)})});return function(J,Oe){return U.apply(this,arguments)}}()))}),Ic.apply(this,arguments)}const Ju={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Of{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ff=encodeURIComponent("fac");function pu(b,f,y,S,U,J){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,T.A)(function*(b,f,y,S,U,J){st(b.config.authDomain,b,"auth-domain-config-required"),st(b.config.apiKey,b,"invalid-api-key");const Oe={apiKey:b.config.apiKey,appName:b.name,authType:y,redirectUrl:S,v:O.MF,eventId:U};if(f instanceof Pi){f.setDefaultLanguage(b.languageCode),Oe.providerId=f.providerId||"",(0,q.Im)(f.getCustomParameters())||(Oe.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Un,jn]of Object.entries(J||{}))Oe[Un]=jn}if(f instanceof la){const Un=f.getScopes().filter(jn=>""!==jn);Un.length>0&&(Oe.scopes=Un.join(","))}b.tenantId&&(Oe.tid=b.tenantId);const et=Oe;for(const Un of Object.keys(et))void 0===et[Un]&&delete et[Un];const jt=yield b._getAppCheckToken(),pn=jt?`#${Ff}=${encodeURIComponent(jt)}`:"";return`${function hh({config:b}){return b.emulator?Ot(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,q.Am)(et).slice(1)}${pn}`})).apply(this,arguments)}const tc="webStorageSupport",Lf=class gu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qi,this._completeRedirectFn=ah,this._overrideRedirectResult=Xa}_openPopup(f,y,S,U){var J=this;return(0,T.A)(function*(){var Oe;Pn(null===(Oe=J.eventManagers[f._key()])||void 0===Oe?void 0:Oe.manager,"_initialize() not called before _openPopup()");const et=yield pu(f,y,S,xn(),U);return function jc(b,f,y,S=500,U=600){const J=Math.max((window.screen.availHeight-U)/2,0).toString(),Oe=Math.max((window.screen.availWidth-S)/2,0).toString();let et="";const jt=Object.assign(Object.assign({},Ju),{width:S.toString(),height:U.toString(),top:J,left:Oe}),pn=(0,q.ZQ)().toLowerCase();y&&(et=Zt(pn)?"_blank":y),xt(pn)&&(f=f||"http://localhost",jt.scrollbars="yes");const Un=Object.entries(jt).reduce((Rr,[ws,Zi])=>`${Rr}${ws}=${Zi},`,"");if(function Dt(b=(0,q.ZQ)()){var f;return De(b)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(pn)&&"_self"!==et)return function hu(b,f){const y=document.createElement("a");y.href=b,y.target=f;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(S)}(f||"",et),new Of(null);const jn=window.open(f||"",et,Un);st(jn,b,"popup-blocked");try{jn.focus()}catch{}return new Of(jn)}(f,et,sr())})()}_openRedirect(f,y,S,U){var J=this;return(0,T.A)(function*(){return yield J._originValidation(f),function pa(b){Sr().location.href=b}(yield pu(f,y,S,xn(),U)),new Promise(()=>{})})()}_initialize(f){const y=f._key();if(this.eventManagers[y]){const{manager:U,promise:J}=this.eventManagers[y];return U?Promise.resolve(U):(Pn(J,"If manager is not set, promise should be"),J)}const S=this.initAndGetManager(f);return this.eventManagers[y]={promise:S},S.catch(()=>{delete this.eventManagers[y]}),S}initAndGetManager(f){var y=this;return(0,T.A)(function*(){const S=yield function lh(b){return Ic.apply(this,arguments)}(f),U=new $a(f);return S.register("authEvent",J=>(st(J?.authEvent,f,"invalid-auth-event"),{status:U.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[f._key()]={manager:U},y.iframes[f._key()]=S,U})()}_isIframeWebStorageSupported(f,y){this.iframes[f._key()].send(tc,{type:tc},U=>{var J;const Oe=null===(J=U?.[0])||void 0===J?void 0:J[tc];void 0!==Oe&&y(!!Oe),_t(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const y=f._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Zu(b){return Go.apply(this,arguments)}(f)),this.originValidationPromises[y]}get _shouldInitProactively(){return me()||Ze()||De()}};var rc="@firebase/auth";class ph{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var y=this;return(0,T.A)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const y=this.auth.onIdTokenChanged(S=>{f(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,y),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const y=this.internalListeners.get(f);y&&(this.internalListeners.delete(f),y(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bg=(0,q.XA)("authIdTokenMaxAge")||300;let Zl=null;const gh=b=>function(){var f=(0,T.A)(function*(y){const S=y&&(yield y.getIdTokenResult()),U=S&&((new Date).getTime()-Date.parse(S.issuedAtTime))/1e3;if(U&&U>bg)return;const J=S?.token;Zl!==J&&(Zl=J,yield fetch(b,{method:J?"POST":"DELETE",headers:J?{Authorization:`Bearer ${J}`}:{}}))});return function(y){return f.apply(this,arguments)}}();function Yl(b=(0,O.Sx)()){const f=(0,O.j6)(b,"auth");if(f.isInitialized())return f.getImmediate();const y=function It(b,f){const y=(0,O.j6)(b,"auth");if(y.isInitialized()){const U=y.getImmediate(),J=y.getOptions();if((0,q.bD)(J,f??{}))return U;_t(U,"already-initialized")}return y.initialize({options:f})}(b,{popupRedirectResolver:Lf,persistence:[mc,Mo,Qi]}),S=(0,q.XA)("authTokenSyncURL");if(S&&"boolean"==typeof isSecureContext&&isSecureContext){const J=new URL(S,location.origin);if(location.origin===J.origin){const Oe=gh(J.toString());(function _(b,f,y){(0,q.Ku)(b).beforeAuthStateChanged(f,y)})(y,Oe,()=>Oe(y.currentUser)),function A(b,f,y,S){(0,q.Ku)(b).onIdTokenChanged(f,y,S)}(y,et=>Oe(et))}}const U=(0,q.Tj)("auth");return U&&function Cn(b,f,y){const S=cn(b);st(/^https?:\/\//.test(f),S,"invalid-emulator-scheme");const U=!!y?.disableWarnings,J=ti(f),{host:Oe,port:et}=function Kr(b){const f=ti(b),y=/(\/\/)?([^?#/]+)/.exec(b.substr(f.length));if(!y)return{host:"",port:null};const S=y[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(S);if(U){const J=U[1];return{host:J,port:qr(S.substr(J.length+1))}}{const[J,Oe]=S.split(":");return{host:J,port:qr(Oe)}}}(f),jt=null===et?"":`:${et}`,pn={url:`${J}//${Oe}${jt}/`},Un=Object.freeze({host:Oe,port:et,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:U})});if(!S._canInitEmulator)return st(S.config.emulator&&S.emulatorConfig,S,"emulator-config-failed"),void st((0,q.bD)(pn,S.config.emulator)&&(0,q.bD)(Un,S.emulatorConfig),S,"emulator-config-failed");S.config.emulator=pn,S.emulatorConfig=Un,S.settings.appVerificationDisabledForTesting=!0,(0,q.zJ)(Oe)?((0,q.gE)(`${J}//${Oe}${jt}`),(0,q.P1)("Auth",!0)):U||function vr(){function b(){const f=document.createElement("p"),y=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(y,`http://${U}`),y}(function ai(b){rr=b})({loadJS:b=>new Promise((f,y)=>{const S=document.createElement("script");S.setAttribute("src",b),S.onload=f,S.onerror=U=>{const J=Re("internal-error");J.customData=U,y(J)},S.type="text/javascript",S.charset="UTF-8",function mh(){var b,f;return null!==(f=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==f?f:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Hc(b){(0,O.om)(new Xe.uA("auth",(f,{options:y})=>{const S=f.getProvider("app").getImmediate(),U=f.getProvider("heartbeat"),J=f.getProvider("app-check-internal"),{apiKey:Oe,authDomain:et}=S.options;st(Oe&&!Oe.includes(":"),"invalid-api-key",{appName:S.name});const jt={apiKey:Oe,authDomain:et,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Le(b)},pn=new Rn(S,U,J,jt);return function nn(b,f){const y=f?.persistence||[],S=(Array.isArray(y)?y:[y]).map($i);f?.errorMap&&b._updateErrorMap(f.errorMap),b._initializeWithPersistence(S,f?.popupRedirectResolver)}(pn,y),pn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,y,S)=>{f.getProvider("auth-internal").initialize()})),(0,O.om)(new Xe.uA("auth-internal",f=>{const y=cn(f.getProvider("auth").getImmediate());return new ph(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.KO)(rc,"1.10.6",function ic(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,O.KO)(rc,"1.10.6","esm2017")}("Browser")},591:(En,Be,L)=>{"use strict";function T(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Be,{L:()=>T})},941:(En,Be,L)=>{"use strict";L.d(Be,{Q:()=>I});var T=L(5225),O=L(9974),q=L(4360);function I(Ce,Xe=0){return(0,O.N)((ge,Ee)=>{ge.subscribe((0,q._)(Ee,je=>(0,T.N)(Ee,Ce,()=>Ee.next(je),Xe),()=>(0,T.N)(Ee,Ce,()=>Ee.complete(),Xe),je=>(0,T.N)(Ee,Ce,()=>Ee.error(je),Xe)))})}},969:(En,Be,L)=>{"use strict";L.d(Be,{FX:()=>Gt,If:()=>T,K2:()=>Xe,PZ:()=>Nt,hZ:()=>q,i0:()=>I,iF:()=>ge,kY:()=>we,kp:()=>O,sf:()=>Lt,wk:()=>Ee});var T=function(ft){return ft[ft.State=0]="State",ft[ft.Transition=1]="Transition",ft[ft.Sequence=2]="Sequence",ft[ft.Group=3]="Group",ft[ft.Animate=4]="Animate",ft[ft.Keyframes=5]="Keyframes",ft[ft.Style=6]="Style",ft[ft.Trigger=7]="Trigger",ft[ft.Reference=8]="Reference",ft[ft.AnimateChild=9]="AnimateChild",ft[ft.AnimateRef=10]="AnimateRef",ft[ft.Query=11]="Query",ft[ft.Stagger=12]="Stagger",ft}(T||{});const O="*";function q(ft,gt){return{type:T.Trigger,name:ft,definitions:gt,options:{}}}function I(ft,gt=null){return{type:T.Animate,styles:gt,timings:ft}}function Xe(ft,gt=null){return{type:T.Sequence,steps:ft,options:gt}}function ge(ft){return{type:T.Style,styles:ft,offset:null}}function Ee(ft,gt,_t){return{type:T.State,name:ft,styles:gt,options:_t}}function we(ft,gt,_t=null){return{type:T.Transition,expr:ft,animation:gt,options:_t}}class Lt{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(gt=0,_t=0){this.totalTime=gt+_t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(gt=>gt()),this._onDoneFns=[])}onStart(gt){this._originalOnStartFns.push(gt),this._onStartFns.push(gt)}onDone(gt){this._originalOnDoneFns.push(gt),this._onDoneFns.push(gt)}onDestroy(gt){this._onDestroyFns.push(gt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(gt=>gt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(gt=>gt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(gt){this._position=this.totalTime?gt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(gt){const _t="start"==gt?this._onStartFns:this._onDoneFns;_t.forEach(Re=>Re()),_t.length=0}}class Nt{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(gt){this.players=gt;let _t=0,Re=0,Qe=0;const qe=this.players.length;0==qe?queueMicrotask(()=>this._onFinish()):this.players.forEach(vt=>{vt.onDone(()=>{++_t==qe&&this._onFinish()}),vt.onDestroy(()=>{++Re==qe&&this._onDestroy()}),vt.onStart(()=>{++Qe==qe&&this._onStart()})}),this.totalTime=this.players.reduce((vt,Wt)=>Math.max(vt,Wt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(gt=>gt()),this._onDoneFns=[])}init(){this.players.forEach(gt=>gt.init())}onStart(gt){this._onStartFns.push(gt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(gt=>gt()),this._onStartFns=[])}onDone(gt){this._onDoneFns.push(gt)}onDestroy(gt){this._onDestroyFns.push(gt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(gt=>gt.play())}pause(){this.players.forEach(gt=>gt.pause())}restart(){this.players.forEach(gt=>gt.restart())}finish(){this._onFinish(),this.players.forEach(gt=>gt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(gt=>gt.destroy()),this._onDestroyFns.forEach(gt=>gt()),this._onDestroyFns=[])}reset(){this.players.forEach(gt=>gt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(gt){const _t=gt*this.totalTime;this.players.forEach(Re=>{const Qe=Re.totalTime?Math.min(1,_t/Re.totalTime):1;Re.setPosition(Qe)})}getPosition(){const gt=this.players.reduce((_t,Re)=>null===_t||Re.totalTime>_t.totalTime?Re:_t,null);return null!=gt?gt.getPosition():0}beforeDestroy(){this.players.forEach(gt=>{gt.beforeDestroy&&gt.beforeDestroy()})}triggerCallback(gt){const _t="start"==gt?this._onStartFns:this._onDoneFns;_t.forEach(Re=>Re()),_t.length=0}}const Gt="!"},980:(En,Be,L)=>{"use strict";L.d(Be,{j:()=>O});var T=L(9974);function O(q){return(0,T.N)((I,Ce)=>{try{I.subscribe(Ce)}finally{Ce.add(q)}})}},983:(En,Be,L)=>{"use strict";L.d(Be,{w:()=>O});const O=new(L(1985).c)(Ce=>Ce.complete())},1026:(En,Be,L)=>{"use strict";L.d(Be,{$:()=>T});const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(En,Be,L)=>{"use strict";L.d(Be,{F:()=>O,m:()=>q});var T=L(3669);function O(...I){return q(I)}function q(I){return 0===I.length?T.D:1===I.length?I[0]:function(Xe){return I.reduce((ge,Ee)=>Ee(ge),Xe)}}},1360:(En,Be,L)=>{"use strict";L.d(Be,{bc$:()=>Qg,iLQ:()=>Cy,sZ2:()=>_u,o8S:()=>fc,BIS:()=>p_,gRc:()=>zA,Ql9:()=>vk,OM3:()=>vy,Ocv:()=>Ak,abz:()=>Uo,Z63:()=>Pi,aKT:()=>sl,uvJ:()=>Yr,zcH:()=>oc,bkB:()=>sc,$GK:()=>Nn,nKC:()=>_e,zZn:()=>lo,_q3:()=>cT,MKu:()=>uT,xe9:()=>rT,Co$:()=>A0,Vns:()=>ff,SKi:()=>ps,Xx1:()=>Or,Agw:()=>qg,PLl:()=>Kg,u5s:()=>tl,sFG:()=>bC,_9s:()=>Uw,czy:()=>Su,WPN:()=>Pd,kdw:()=>Ds,C4Q:()=>nf,NYb:()=>OR,giA:()=>eb,xvI:()=>yk,RxE:()=>NA,c1b:()=>Xv,gXe:()=>Cc,mal:()=>cm,Af3:()=>$s,L39:()=>vN,EWP:()=>jy,Ol2:()=>rI,w6W:()=>gS,QZP:()=>dT,Rfq:()=>Oi,WQX:()=>mn,hFB:()=>e_,naY:()=>Lk,QuC:()=>pe,EmA:()=>Pe,phd:()=>VR,HJs:()=>BN,N4e:()=>Po,vPA:()=>Kc,O8t:()=>su,H3F:()=>hI,H8p:()=>is,KH2:()=>_g,Ua0:()=>Gc,wOt:()=>ht,WHO:()=>Y0,e01:()=>J0,Lf2:()=>ud,lNU:()=>Nr,h9k:()=>Cp,$MX:()=>Dd,ZF7:()=>Td,Kcf:()=>K_,e5t:()=>bp,UyX:()=>JE,cWb:()=>Tp,osQ:()=>gl,H5H:()=>FI,Zy3:()=>Gn,mq5:()=>qb,JZv:()=>In,TL3:()=>Zk,LfX:()=>Ft,plB:()=>hf,jNT:()=>yI,zjR:()=>nb,ngT:()=>Ea,TL$:()=>kE,Tbb:()=>Fe,rcV:()=>Yc,Vt3:()=>sI,OA$:()=>Hu,Jv_:()=>eA,R7$:()=>E,BMQ:()=>II,HbH:()=>Mb,ZvI:()=>Vb,STu:()=>Ub,AVh:()=>RI,wni:()=>SD,VBU:()=>S0,FsC:()=>R0,jDH:()=>Le,G2t:()=>wt,$C:()=>iI,EJ8:()=>P0,rXU:()=>ng,nrm:()=>xI,bVm:()=>lE,qex:()=>uE,k0s:()=>cE,j41:()=>aE,RV6:()=>Gb,xGo:()=>Zl,KVO:()=>Si,kS0:()=>b,QTQ:()=>qT,bIt:()=>UI,lsd:()=>PD,joV:()=>ah,qSk:()=>Rf,XpG:()=>_D,nI1:()=>fA,bMT:()=>pA,i5U:()=>gA,Y8G:()=>AI,lJ4:()=>nA,eq3:()=>rA,l_i:()=>iA,sMw:()=>sA,ziG:()=>oA,s1E:()=>aA,mGM:()=>RD,sdS:()=>MD,Njj:()=>oa,eBV:()=>_c,npT:()=>sw,B4B:()=>J_,n$t:()=>jm,xc7:()=>SI,zvX:()=>OI,DNE:()=>uI,EFF:()=>jD,JRh:()=>$I,SpI:()=>gE,Lme:()=>HI,DH7:()=>XD,mxI:()=>WI,R50:()=>zI});var T=L(467);function O(e,t){return Object.is(e,t)}let q=null,I=!1,Ce=1;const Xe=Symbol("SIGNAL");function ge(e){const t=q;return q=e,t}const ve={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function it(e){if(I)throw new Error("");if(null===q)return;q.consumerOnSignalRead(e);const t=q.nextProducerIndex++;Wt(q),t<q.producerNode.length&&q.producerNode[t]!==e&&vt(q)&&qe(q.producerNode[t],q.producerIndexOfThis[t]),q.producerNode[t]!==e&&(q.producerNode[t]=e,q.producerIndexOfThis[t]=vt(q)?Qe(e,q,t):0),q.producerLastReadVersion[t]=e.version}function Je(e){if((!vt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Ce)){if(!e.producerMustRecompute(e)&&!_t(e))return void Gt(e);e.producerRecomputeValue(e),Gt(e)}}function At(e){if(void 0===e.liveConsumerNode)return;const t=I;I=!0;try{for(const r of e.liveConsumerNode)r.dirty||Nt(r)}finally{I=t}}function Lt(){return!1!==q?.consumerAllowSignalWrites}function Nt(e){e.dirty=!0,At(e),e.consumerMarkedDirty?.(e)}function Gt(e){e.dirty=!1,e.lastCleanEpoch=Ce}function ft(e){return e&&(e.nextProducerIndex=0),ge(e)}function gt(e,t){if(ge(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(vt(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)qe(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function _t(e){Wt(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],s=e.producerLastReadVersion[t];if(s!==r.version||(Je(r),s!==r.version))return!0}return!1}function Re(e){if(Wt(e),vt(e))for(let t=0;t<e.producerNode.length;t++)qe(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Qe(e,t,r){if(st(e),0===e.liveConsumerNode.length&&ct(e))for(let s=0;s<e.producerNode.length;s++)e.producerIndexOfThis[s]=Qe(e.producerNode[s],e,s);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function qe(e,t){if(st(e),1===e.liveConsumerNode.length&&ct(e))for(let s=0;s<e.producerNode.length;s++)qe(e.producerNode[s],e.producerIndexOfThis[s]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const s=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Wt(a),a.producerIndexOfThis[s]=t}}function vt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Wt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function st(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ct(e){return void 0!==e.producerNode}const xn=Symbol("UNSET"),On=Symbol("COMPUTING"),nt=Symbol("ERRORED"),_n={...ve,value:xn,dirty:!0,error:null,equal:O,kind:"computed",producerMustRecompute:e=>e.value===xn||e.value===On,producerRecomputeValue(e){if(e.value===On)throw new Error("Detected cycle in computations.");const t=e.value;e.value=On;const r=ft(e);let s,a=!1;try{s=e.computation(),ge(null),a=t!==xn&&t!==nt&&s!==nt&&e.equal(t,s)}catch(d){s=nt,e.error=d}finally{gt(e,r)}a?e.value=t:(e.value=s,e.version++)}};let an=function mt(){throw new Error};function Ot(e){an(e)}let Y=null;function fe(e,t){Lt()||Ot(e),e.equal(e.value,t)||(e.value=t,function Tt(e){e.version++,function ze(){Ce++}(),At(e),Y?.()}(e))}const Ye={...ve,equal:O,value:void 0,kind:"signal"};let Kt;function kn(){return Kt}function er(e){const t=Kt;return Kt=e,t}const ur=Symbol("NotFound");Error;var Wi=L(4412),sn=L(1413),fr=L(8359),dn=L(6354);const Nr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class ht extends Error{code;constructor(t,r){super(Gn(t,r)),this.code=t}}function Gn(e,t){return`${function jr(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const Xt=Symbol("InputSignalNode#UNSET"),Gr={...Ye,transformFn:void 0,applyValueToInputSignal(e,t){fe(e,t)}};function qn(e,t){const r=Object.create(Gr);function s(){if(it(r),r.value===Xt)throw new ht(-950,null);return r.value}return r.value=e,r.transformFn=t?.transform,s[Xe]=r,s}function lr(e){return{toString:e}.toString()}const pr="__parameters__";function Ci(e,t,r){return lr(()=>{const s=function Ei(e){return function(...r){if(e){const s=e(...r);for(const a in s)this[a]=s[a]}}}(t);function a(...d){if(this instanceof a)return s.apply(this,d),this;const g=new a(...d);return w.annotation=g,w;function w(D,F,$){const Z=D.hasOwnProperty(pr)?D[pr]:Object.defineProperty(D,pr,{value:[]})[pr];for(;Z.length<=$;)Z.push(null);return(Z[$]=Z[$]||[]).push(g),D}}return a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const In=globalThis;function Kn(e){for(let t in e)if(e[t]===Kn)return t;throw Error("Could not find renamed property on target object.")}function xi(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Fe(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Fe).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const r=e.toString();if(null==r)return""+r;const s=r.indexOf("\n");return s>=0?r.slice(0,s):r}function Mr(e,t){return e?t?`${e} ${t}`:e:t||""}const gi=Kn({__forward_ref__:Kn});function Oi(e){return e.__forward_ref__=Oi,e.toString=function(){return Fe(this())},e}function vn(e){return _r(e)?e():e}function _r(e){return"function"==typeof e&&e.hasOwnProperty(gi)&&e.__forward_ref__===Oi}function Le(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function wt(e){return{providers:e.providers||[],imports:e.imports||[]}}function pt(e){return en(e,Fn)||en(e,ai)}function Ft(e){return null!==pt(e)}function en(e,t){return e.hasOwnProperty(t)?e[t]:null}function cn(e){return e&&(e.hasOwnProperty(rr)||e.hasOwnProperty(Ti))?e[rr]:null}const Fn=Kn({\u0275prov:Kn}),rr=Kn({\u0275inj:Kn}),ai=Kn({ngInjectableDef:Kn}),Ti=Kn({ngInjectorDef:Kn});class _e{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,r){this._desc=t,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Le({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Is(e){return e&&!!e.\u0275providers}const Ts=Kn({\u0275cmp:Kn}),mo=Kn({\u0275dir:Kn}),ls=Kn({\u0275pipe:Kn}),B=Kn({\u0275mod:Kn}),de=Kn({\u0275fac:Kn}),K=Kn({__NG_ELEMENT_ID__:Kn}),ee=Kn({__NG_ENV_ID__:Kn});function Me(e){return"string"==typeof e?e:null==e?"":String(e)}function ti(e,t){throw new ht(-200,e)}function vr(e,t){throw new ht(-201,!1)}var Nn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Nn||{});let Dr;function Qr(){return Dr}function ci(e){const t=Dr;return Dr=e,t}function Ki(e,t,r){const s=pt(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:r&Nn.Optional?null:void 0!==t?t:void vr()}const tt={},Ne="__NG_DI_FLAG__";class dt{injector;constructor(t){this.injector=t}retrieve(t,r){return this.injector.get(t,r.optional?ur:tt,r)}}const qt="ngTempTokenPath",Bn=/\n/gm,bs="__source";function Ao(e,t=Nn.Default){if(void 0===kn())throw new ht(-203,!1);if(null===kn())return Ki(e,void 0,t);{const r=kn();let s;return s=r instanceof dt?r.injector:r,s.get(e,t&Nn.Optional?null:void 0,t)}}function Si(e,t=Nn.Default){return(Qr()||Ao)(vn(e),t)}function mn(e,t=Nn.Default){return Si(e,Ws(t))}function Ws(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ds(e){const t=[];for(let r=0;r<e.length;r++){const s=vn(e[r]);if(Array.isArray(s)){if(0===s.length)throw new ht(900,!1);let a,d=Nn.Default;for(let g=0;g<s.length;g++){const w=s[g],D=ro(w);"number"==typeof D?-1===D?a=w.token:d|=D:a=w}t.push(Si(a,d))}else t.push(Si(s))}return t}function xs(e,t){return e[Ne]=t,e.prototype[Ne]=t,e}function ro(e){return e[Ne]}const Or=xs(Ci("Optional"),8),Ds=xs(Ci("SkipSelf"),4);function io(e,t){return e.hasOwnProperty(de)?e[de]:null}function ri(e,t){e.forEach(r=>Array.isArray(r)?ri(r,t):t(r))}function Zr(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function ao(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ys(e,t,r){let s=Ia(e,t);return s>=0?e[1|s]=r:(s=~s,function Fo(e,t,r,s){let a=e.length;if(a==t)e.push(r,s);else if(1===a)e.push(s,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=s}}(e,s,t,r)),s}function Ri(e,t){const r=Ia(e,t);if(r>=0)return e[1|r]}function Ia(e,t){return function Ls(e,t,r){let s=0,a=e.length>>r;for(;a!==s;){const d=s+(a-s>>1),g=e[d<<r];if(t===g)return d<<r;g>t?a=d:s=d+1}return~(a<<r)}(e,t,1)}const zr={},mr=[],Pi=new _e(""),la=new _e("",-1),So=new _e("");class Ro{get(t,r=tt){if(r===tt){const s=new Error(`NullInjectorError: No provider for ${Fe(t)}!`);throw s.name="NullInjectorError",s}return r}}function rs(e,t){const r=e[B]||null;if(!r&&!0===t)throw new Error(`Type ${Fe(e)} does not have '\u0275mod' property.`);return r}function Er(e){return e[Ts]||null}function W(e){return e[mo]||null}function z(e){return e[ls]||null}function pe(e){const t=Er(e)||W(e)||z(e);return null!==t&&t.standalone}function Pe(e){return{\u0275providers:e}}function Mt(...e){return{\u0275providers:Qt(0,e),\u0275fromNgModule:!0}}function Qt(e,...t){const r=[],s=new Set;let a;const d=g=>{r.push(g)};return ri(t,g=>{const w=g;yn(w,d,[],s)&&(a||=[],a.push(w))}),void 0!==a&&Tn(a,d),r}function Tn(e,t){for(let r=0;r<e.length;r++){const{ngModule:s,providers:a}=e[r];zn(a,d=>{t(d,s)})}}function yn(e,t,r,s){if(!(e=vn(e)))return!1;let a=null,d=cn(e);const g=!d&&Er(e);if(d||g){if(g&&!g.standalone)return!1;a=e}else{const D=e.ngModule;if(d=cn(D),!d)return!1;a=D}const w=s.has(a);if(g){if(w)return!1;if(s.add(a),g.dependencies){const D="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const F of D)yn(F,t,r,s)}}else{if(!d)return!1;{if(null!=d.imports&&!w){let F;s.add(a);try{ri(d.imports,$=>{yn($,t,r,s)&&(F||=[],F.push($))})}finally{}void 0!==F&&Tn(F,t)}if(!w){const F=io(a)||(()=>new a);t({provide:a,useFactory:F,deps:mr},a),t({provide:So,useValue:a,multi:!0},a),t({provide:Pi,useValue:()=>Si(a),multi:!0},a)}const D=d.providers;if(null!=D&&!w){const F=e;zn(D,$=>{t($,F)})}}}return a!==e&&void 0!==e.providers}function zn(e,t){for(let r of e)Is(r)&&(r=r.\u0275providers),Array.isArray(r)?zn(r,t):t(r)}const Tr=Kn({provide:String,useValue:Kn});function mi(e){return null!==e&&"object"==typeof e&&Tr in e}function Mi(e){return"function"==typeof e}const is=new _e(""),ss={},di={};let bi;function _s(){return void 0===bi&&(bi=new Ro),bi}class Yr{}class hs extends Yr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,r,s,a){super(),this.parent=r,this.source=s,this.scopes=a,es(t,g=>this.processProvider(g)),this.records.set(la,co(void 0,this)),a.has("environment")&&this.records.set(Yr,co(void 0,this));const d=this.records.get(is);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(So,mr,Nn.Self))}retrieve(t,r){return this.get(t,r.optional?ur:tt,r)}destroy(){Zo(this),this._destroyed=!0;const t=ge(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(t)}}onDestroy(t){return Zo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Zo(this);const r=er(this),s=ci(void 0);try{return t()}finally{er(r),ci(s)}}get(t,r=tt,s=Nn.Default){if(Zo(this),t.hasOwnProperty(ee))return t[ee](this);s=Ws(s);const d=er(this),g=ci(void 0);try{if(!(s&Nn.SkipSelf)){let D=this.records.get(t);if(void 0===D){const F=function La(e){return"function"==typeof e||"object"==typeof e&&e instanceof _e}(t)&&pt(t);D=F&&this.injectableDefInScope(F)?co(As(t),ss):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D,s)}return(s&Nn.Self?_s():this.parent).get(t,r=s&Nn.Optional&&r===tt?null:r)}catch(w){if("NullInjectorError"===w.name){if((w[qt]=w[qt]||[]).unshift(Fe(t)),d)throw w;return function Bs(e,t,r,s){const a=e[qt];throw t[bs]&&a.unshift(t[bs]),e.message=function Co(e,t,r,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Fe(t);if(Array.isArray(t))a=t.map(Fe).join(" -> ");else if("object"==typeof t){let d=[];for(let g in t)if(t.hasOwnProperty(g)){let w=t[g];d.push(g+":"+("string"==typeof w?JSON.stringify(w):Fe(w)))}a=`{${d.join(", ")}}`}return`${r}${s?"("+s+")":""}[${a}]: ${e.replace(Bn,"\n  ")}`}("\n"+e.message,a,r,s),e.ngTokenPath=a,e[qt]=null,e}(w,t,"R3InjectorError",this.source)}throw w}finally{ci(g),er(d)}}resolveInjectorInitializers(){const t=ge(null),r=er(this),s=ci(void 0);try{const d=this.get(Pi,mr,Nn.Self);for(const g of d)g()}finally{er(r),ci(s),ge(t)}}toString(){const t=[],r=this.records;for(const s of r.keys())t.push(Fe(s));return`R3Injector[${t.join(", ")}]`}processProvider(t){let r=Mi(t=vn(t))?t:vn(t&&t.provide);const s=function _o(e){return mi(e)?co(void 0,e.useValue):co(Ta(e),ss)}(t);if(!Mi(t)&&!0===t.multi){let a=this.records.get(r);a||(a=co(void 0,ss,!0),a.factory=()=>ds(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,s)}hydrate(t,r,s){const a=ge(null);try{return r.value===di?ti(Fe(t)):r.value===ss&&(r.value=di,r.value=r.factory(void 0,s)),"object"==typeof r.value&&r.value&&function Fa(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ge(a)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=vn(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function As(e){const t=pt(e),r=null!==t?t.factory:io(e);if(null!==r)return r;if(e instanceof _e)throw new ht(204,!1);if(e instanceof Function)return function Gs(e){if(e.length>0)throw new ht(204,!1);const r=function Rn(e){return e&&(e[Fn]||e[ai])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new ht(204,!1)}function Ta(e,t,r){let s;if(Mi(e)){const a=vn(e);return io(a)||As(a)}if(mi(e))s=()=>vn(e.useValue);else if(function Ui(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...ds(e.deps||[]));else if(function ui(e){return!(!e||!e.useExisting)}(e))s=(a,d)=>Si(vn(e.useExisting),void 0!==d&&d&Nn.Optional?Nn.Optional:void 0);else{const a=vn(e&&(e.useClass||e.provide));if(!function Oa(e){return!!e.deps}(e))return io(a)||As(a);s=()=>new a(...ds(e.deps))}return s}function Zo(e){if(e.destroyed)throw new ht(205,!1)}function co(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function es(e,t){for(const r of e)Array.isArray(r)?es(r,t):r&&Is(r)?es(r.\u0275providers,t):t(r)}function Po(e,t){let r;e instanceof hs?(Zo(e),r=e):r=new dt(e);const a=er(r),d=ci(void 0);try{return t()}finally{er(a),ci(d)}}function ii(){return void 0!==Qr()||null!=kn()}function $s(e){if(!ii())throw new ht(-203,!1)}const Wr=0,Jt=1,Xn=2,hi=3,zs=4,ki=5,Vs=6,Eo=7,Ar=8,P=9,k=10,j=11,Ae=12,kt=13,bn=14,cr=15,Bi=16,ji=17,vs=18,Jo=19,Va=20,wo=23,An=26,ta=1,Ra=9,Hi=10;function zi(e){return Array.isArray(e)&&"object"==typeof e[ta]}function A(e){return Array.isArray(e)&&!0===e[ta]}function _(e){return!!(4&e.flags)}function l(e){return e.componentOffset>-1}function h(e){return!(1&~e.flags)}function m(e){return!!e.template}function C(e){return!!(512&e[Xn])}function Q(e){return!(256&~e[Xn])}class Ml{previousValue;currentValue;firstChange;constructor(t,r,s){this.previousValue=t,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}}function ra(e,t,r,s){null!==t?t.applyValueToInputSignal(t,s):e[r]=s}const Hu=(()=>{const e=()=>kl;return e.ngInherit=!0,e})();function kl(e){return e.type.prototype.ngOnChanges&&(e.setInput=Vn),Qi}function Qi(){const e=sr(this),t=e?.current;if(t){const r=e.previous;if(r===zr)e.previous=t;else for(let s in t)r[s]=t[s];e.current=null,this.ngOnChanges(t)}}function Vn(e,t,r,s,a){const d=this.declaredInputs[s],g=sr(e)||function fi(e,t){return e[Yn]=t}(e,{previous:zr,current:null}),w=g.current||(g.current={}),D=g.previous,F=D[d];w[d]=new Ml(F&&F.currentValue,r,D===zr),ra(e,t,a,r)}const Yn="__ngSimpleChanges__";function sr(e){return e[Yn]||null}const br=function(e,t=null,r){},ko="svg";function ei(e){for(;Array.isArray(e);)e=e[Wr];return e}function fs(e,t){return ei(t[e])}function Xi(e,t){return ei(t[e.index])}function Vo(e,t){return e.data[t]}function To(e,t){return e[t]}function No(e,t){const r=t[e];return zi(r)?r:r[Wr]}function Ps(e){return!(128&~e[Xn])}function ia(e,t){return null==t?null:e[t]}function zu(e){e[ji]=0}function xc(e){1024&e[Xn]||(e[Xn]|=1024,Ps(e)&&mc(e))}function au(e){return!!(9216&e[Xn]||e[24]?.dirty)}function ih(e){e[k].changeDetectionScheduler?.notify(8),64&e[Xn]&&(e[Xn]|=1024),au(e)&&mc(e)}function mc(e){e[k].changeDetectionScheduler?.notify(0);let t=sa(e);for(;null!==t&&!(8192&t[Xn])&&(t[Xn]|=8192,Ps(t));)t=sa(t)}function Qa(e,t){if(Q(e))throw new ht(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function sa(e){const t=e[hi];return A(t)?t[hi]:t}function yc(e){return e[Eo]??=[]}function Nl(e){return e.cleanup??=[]}const wr={lFrame:qu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ol=!1;function Tf(){return wr.bindingsEnabled}function Pt(){return wr.lFrame.lView}function yr(){return wr.lFrame.tView}function _c(e){return wr.lFrame.contextLView=e,e[Ar]}function oa(e){return wr.lFrame.contextLView=null,e}function Lr(){let e=bf();for(;null!==e&&64===e.type;)e=e.parent;return e}function bf(){return wr.lFrame.currentTNode}function zo(e,t){const r=wr.lFrame;r.currentTNode=e,r.isParent=t}function Ll(){return wr.lFrame.isParent}function Vl(){wr.lFrame.isParent=!1}function wg(){return Ol}function Fc(e){const t=Ol;return Ol=e,t}function bo(){const e=wr.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Wo(){return wr.lFrame.bindingIndex++}function ma(e){const t=wr.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Tg(e,t){const r=wr.lFrame;r.bindingIndex=r.bindingRootIndex=e,Ba(t)}function Ba(e){wr.lFrame.currentDirectiveIndex=e}function uu(e){const t=wr.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Ku(){return wr.lFrame.currentQueryIndex}function Bl(e){wr.lFrame.currentQueryIndex=e}function Xa(e){const t=e[Jt];return 2===t.type?t.declTNode:1===t.type?e[ki]:null}function jl(e,t,r){if(r&Nn.SkipSelf){let a=t,d=e;for(;!(a=a.parent,null!==a||r&Nn.Host||(a=Xa(d),null===a||(d=d[bn],10&a.type))););if(null===a)return!1;t=a,e=d}const s=wr.lFrame=Sf();return s.currentTNode=t,s.lView=e,!0}function $l(e){const t=Sf(),r=e[Jt];wr.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Sf(){const e=wr.lFrame,t=null===e?null:e.child;return null===t?qu(e):t}function qu(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ja(){const e=wr.lFrame;return wr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Lc=ja;function Za(){const e=ja();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Do(){return wr.lFrame.selectedIndex}function Ya(e){wr.lFrame.selectedIndex=e}function Ai(){const e=wr.lFrame;return Vo(e.tView,e.selectedIndex)}function Rf(){wr.lFrame.currentNamespace=ko}function ah(){!function zl(){wr.lFrame.currentNamespace=null}()}let Uc=!0;function Ja(){return Uc}function $a(e){Uc=e}function ec(e,t){for(let r=t.directiveStart,s=t.directiveEnd;r<s;r++){const d=e.data[r].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:F,ngOnDestroy:$}=d;g&&(e.contentHooks??=[]).push(-r,g),w&&((e.contentHooks??=[]).push(r,w),(e.contentCheckHooks??=[]).push(r,w)),D&&(e.viewHooks??=[]).push(-r,D),F&&((e.viewHooks??=[]).push(r,F),(e.viewCheckHooks??=[]).push(r,F)),null!=$&&(e.destroyHooks??=[]).push(r,$)}}function Gl(e,t,r){Pf(e,t,3,r)}function Qu(e,t,r,s){(3&e[Xn])===r&&Pf(e,t,r,s)}function Xu(e,t){let r=e[Xn];(3&r)===t&&(r&=16383,r+=1,e[Xn]=r)}function Pf(e,t,r,s){const d=s??-1,g=t.length-1;let w=0;for(let D=void 0!==s?65535&e[ji]:0;D<g;D++)if("number"==typeof t[D+1]){if(w=t[D],null!=s&&w>=s)break}else t[D]<0&&(e[ji]+=65536),(w<d||-1==d)&&(Zu(e,r,t,D),e[ji]=(4294901760&e[ji])+D+2),D++}function Mf(e,t){br(4,e,t);const r=ge(null);try{t.call(e)}finally{ge(r),br(5,e,t)}}function Zu(e,t,r,s){const a=r[s]<0,d=r[s+1],w=e[a?-r[s]:r[s]];a?e[Xn]>>14<e[ji]>>16&&(3&e[Xn])===t&&(e[Xn]+=16384,Mf(w,d)):Mf(w,d)}const Go=-1;class ya{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,r,s){this.factory=t,this.canSeeViewProviders=r,this.injectImpl=s}}function uh(e){return 3===e||4===e||6===e}function ql(e){return 64===e.charCodeAt(0)}function wc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?r=a:0===r||lh(e,r,a,0,-1===r||2===r?t[++s]:null)}}return e}function lh(e,t,r,s,a){let d=0,g=e.length;if(-1===t)g=-1;else for(;d<e.length;){const w=e[d++];if("number"==typeof w){if(w===t){g=-1;break}if(w>t){g=d-1;break}}}for(;d<e.length;){const w=e[d];if("number"==typeof w)break;if(w===r)return void(null!==a&&(e[d+1]=a));d++,null!==a&&d++}-1!==g&&(e.splice(g,0,t),d=g+1),e.splice(d++,0,r),null!==a&&e.splice(d++,0,a)}function Ic(e){return e!==Go}function Ju(e){return 32767&e}function lu(e,t){let r=function dh(e){return e>>16}(e),s=t;for(;r>0;)s=s[bn],r--;return s}let du=!0;function Ql(e){const t=du;return du=e,t}const jc=255,hu=5;let fu=0;const Ma={};function pu(e,t){const r=hh(e,t);if(-1!==r)return r;const s=t[Jt];s.firstCreatePass&&(e.injectorIndex=t.length,Xs(s.data,e),Xs(t,null),Xs(s.blueprint,null));const a=tc(e,t),d=e.injectorIndex;if(Ic(a)){const g=Ju(a),w=lu(a,t),D=w[Jt].data;for(let F=0;F<8;F++)t[d+F]=w[g+F]|D[g+F]}return t[d+8]=a,d}function Xs(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function tc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,s=null,a=t;for(;null!==a;){if(s=mh(a),null===s)return Go;if(r++,a=a[bn],-1!==s.injectorIndex)return s.injectorIndex|r<<16}return Go}function gu(e,t,r){!function Ff(e,t,r){let s;"string"==typeof r?s=r.charCodeAt(0)||0:r.hasOwnProperty(K)&&(s=r[K]),null==s&&(s=r[K]=fu++);const a=s&jc;t.data[e+(a>>hu)]|=1<<a}(e,t,r)}function Ha(e,t,r){if(r&Nn.Optional||void 0!==e)return e;vr()}function Tc(e,t,r,s){if(r&Nn.Optional&&void 0===s&&(s=null),!(r&(Nn.Self|Nn.Host))){const a=e[P],d=ci(void 0);try{return a?a.get(t,s,r&Nn.Optional):Ki(t,s,r&Nn.Optional)}finally{ci(d)}}return Ha(s,0,r)}function Vf(e,t,r,s=Nn.Default,a){if(null!==e){if(2048&t[Xn]&&!(s&Nn.Self)){const g=function Yl(e,t,r,s,a){let d=e,g=t;for(;null!==d&&null!==g&&2048&g[Xn]&&!C(g);){const w=$c(d,g,r,s|Nn.Self,Ma);if(w!==Ma)return w;let D=d.parent;if(!D){const F=g[Va];if(F){const $=F.get(r,Ma,s);if($!==Ma)return $}D=mh(g),g=g[bn]}d=D}return a}(e,t,r,s,Ma);if(g!==Ma)return g}const d=$c(e,t,r,s,Ma);if(d!==Ma)return d}return Tc(t,r,s,a)}function $c(e,t,r,s,a){const d=function rc(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(K)?e[K]:void 0;return"number"==typeof t?t>=0?t&jc:bg:t}(r);if("function"==typeof d){if(!jl(t,e,s))return s&Nn.Host?Ha(a,0,s):Tc(t,r,s,a);try{let g;if(g=d(s),null!=g||s&Nn.Optional)return g;vr()}finally{Lc()}}else if("number"==typeof d){let g=null,w=hh(e,t),D=Go,F=s&Nn.Host?t[cr][ki]:null;for((-1===w||s&Nn.SkipSelf)&&(D=-1===w?tc(e,t):t[w+8],D!==Go&&ph(s,!1)?(g=t[Jt],w=Ju(D),t=lu(D,t)):w=-1);-1!==w;){const $=t[Jt];if(Xl(d,w,$.data)){const Z=fh(w,t,r,g,s,F);if(Z!==Ma)return Z}D=t[w+8],D!==Go&&ph(s,t[Jt].data[w+8]===F)&&Xl(d,w,t)?(g=$,w=Ju(D),t=lu(D,t)):w=-1}}return a}function fh(e,t,r,s,a,d){const g=t[Jt],w=g.data[e+8],$=za(w,g,r,null==s?l(w)&&du:s!=g&&!!(3&w.type),a&Nn.Host&&d===w);return null!==$?nc(t,g,$,w,a):Ma}function za(e,t,r,s,a){const d=e.providerIndexes,g=t.data,w=1048575&d,D=e.directiveStart,$=d>>20,Te=a?w+$:e.directiveEnd;for(let ue=s?w:w+$;ue<Te;ue++){const We=g[ue];if(ue<D&&r===We||ue>=D&&We.type===r)return ue}if(a){const ue=g[D];if(ue&&m(ue)&&ue.type===r)return D}return null}function nc(e,t,r,s,a){let d=e[r];const g=t.data;if(d instanceof ya){const w=d;w.resolving&&ti(function It(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Me(e)}(g[r]));const D=Ql(w.canSeeViewProviders);w.resolving=!0;const $=w.injectImpl?ci(w.injectImpl):null;jl(e,s,Nn.Default);try{d=e[r]=w.factory(void 0,a,g,e,s),t.firstCreatePass&&r>=s.directiveStart&&function Ec(e,t,r){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:d}=t.type.prototype;if(s){const g=kl(t);(r.preOrderHooks??=[]).push(e,g),(r.preOrderCheckHooks??=[]).push(e,g)}a&&(r.preOrderHooks??=[]).push(0-e,a),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}(r,g[r],t)}finally{null!==$&&ci($),Ql(D),w.resolving=!1,Lc()}}return d}function Xl(e,t,r){return!!(r[t+(e>>hu)]&1<<e)}function ph(e,t){return!(e&Nn.Self||e&Nn.Host&&t)}class ks{_tNode;_lView;constructor(t,r){this._tNode=t,this._lView=r}get(t,r,s){return Vf(this._tNode,this._lView,t,Ws(s),r)}}function bg(){return new ks(Lr(),Pt())}function Zl(e){return lr(()=>{const t=e.prototype.constructor,r=t[de]||gh(t),s=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==s;){const d=a[de]||gh(a);if(d&&d!==r)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function gh(e){return _r(e)?()=>{const t=gh(vn(e));return t&&t()}:io(e)}function mh(e){const t=e[Jt],r=t.type;return 2===r?t.declTNode:1===r?e[ki]:null}function b(e){return function Lf(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const s=r.length;let a=0;for(;a<s;){const d=r[a];if(uh(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<s&&"string"==typeof r[a];)a++;else{if(d===t)return r[a+1];a+=2}}}return null}(Lr(),e)}function zc(e,t=null,r=null,s){const a=Jl(e,t,r,s);return a.resolveInjectorInitializers(),a}function Jl(e,t=null,r=null,s,a=new Set){const d=[r||mr,Mt(e)];return s=s||("object"==typeof e?void 0:Fe(e)),new hs(d,t||_s(),s||null,a)}class lo{static THROW_IF_NOT_FOUND=tt;static NULL=new Ro;static create(t,r){if(Array.isArray(t))return zc({name:""},r,t,"");{const s=t.name??"";return zc({name:s},t.parent,t.providers,s)}}static \u0275prov=Le({token:lo,providedIn:"any",factory:()=>Si(la)});static __NG_ELEMENT_ID__=-1}new _e("").__NG_ELEMENT_ID__=e=>{const t=Lr();if(null===t)throw new ht(204,!1);if(2&t.type)return t.value;if(e&Nn.Optional)return null;throw new ht(204,!1)};const mu=!1;let Uo=(()=>class e{static __NG_ELEMENT_ID__=Uf;static __NG_ENV_ID__=r=>r})();class yh extends Uo{_lView;constructor(t){super(),this._lView=t}onDestroy(t){const r=this._lView;return Q(r)?(t(),()=>{}):(Qa(r,t),()=>function Oc(e,t){if(null===e[21])return;const r=e[21].indexOf(t);-1!==r&&e[21].splice(r,1)}(r,t))}}function Uf(){return new yh(Pt())}class ho{}const Wc=new _e("",{providedIn:"root",factory:()=>!1}),Bf=new _e(""),jf=new _e("");let Gc=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Wi.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Le({token:e,providedIn:"root",factory:()=>new e})}return e})(),tl=(()=>{class e{internalPendingTasks=mn(Gc);scheduler=mn(ho);add(){const r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r))}}run(r){var s=this;return(0,T.A)(function*(){const a=s.add();try{return yield r()}finally{a()}})()}static \u0275prov=Le({token:e,providedIn:"root",factory:()=>new e})}return e})();const sc=class $f extends sn.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,ii()&&(this.destroyRef=mn(Uo,{optional:!0})??void 0,this.pendingTasks=mn(Gc,{optional:!0})??void 0)}emit(t){const r=ge(null);try{super.next(t)}finally{ge(r)}}subscribe(t,r,s){let a=t,d=r||(()=>null),g=s;if(t&&"object"==typeof t){const D=t;a=D.next?.bind(D),d=D.error?.bind(D),g=D.complete?.bind(D)}this.__isAsync&&(d=this.wrapInTimeout(d),a&&(a=this.wrapInTimeout(a)),g&&(g=this.wrapInTimeout(g)));const w=super.subscribe({next:a,error:d,complete:g});return t instanceof fr.yU&&t.add(w),w}wrapInTimeout(t){return r=>{const s=this.pendingTasks?.add();setTimeout(()=>{try{t(r)}finally{void 0!==s&&this.pendingTasks?.remove(s)}})}}};function nl(...e){}function Gy(e){let t,r;function s(){e=nl;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),s()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),s()})),()=>s()}function Cg(e){return queueMicrotask(()=>e()),()=>{e=nl}}const Sg="isAngularZone",Hf=Sg+"_ID";let qy=0;class ps{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new sc(!1);onMicrotaskEmpty=new sc(!1);onStable=new sc(!1);onError=new sc(!1);constructor(t){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:d=mu}=t;if(typeof Zone>"u")throw new ht(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!a&&s,g.shouldCoalesceRunChangeDetection=a,g.callbackScheduled=!1,g.scheduleInRootZone=d,function AE(e){const t=()=>{!function Qy(e){function t(){Gy(()=>{e.callbackScheduled=!1,zf(e),e.isCheckStableRunning=!0,Pg(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),zf(e))}(e)},r=qy++;e._inner=e._inner.fork({name:"angular",properties:{[Sg]:!0,[Hf]:r,[Hf+r]:!0},onInvokeTask:(s,a,d,g,w,D)=>{if(function Mg(e){return kg(e,"__ignore_ng_zone__")}(D))return s.invokeTask(d,g,w,D);try{return Xy(e),s.invokeTask(d,g,w,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),rl(e)}},onInvoke:(s,a,d,g,w,D,F)=>{try{return Xy(e),s.invoke(d,g,w,D,F)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Wf(e){return kg(e,"__scheduler_tick__")}(D)&&t(),rl(e)}},onHasTask:(s,a,d,g)=>{s.hasTask(d,g),a===d&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,zf(e),Pg(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,a,d,g)=>(s.handleError(d,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Sg)}static assertInAngularZone(){if(!ps.isInAngularZone())throw new ht(909,!1)}static assertNotInAngularZone(){if(ps.isInAngularZone())throw new ht(909,!1)}run(t,r,s){return this._inner.run(t,r,s)}runTask(t,r,s,a){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+a,t,Rg,nl,nl);try{return d.runTask(g,r,s)}finally{d.cancelTask(g)}}runGuarded(t,r,s){return this._inner.runGuarded(t,r,s)}runOutsideAngular(t){return this._outer.run(t)}}const Rg={};function Pg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function zf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Xy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function rl(e){e._nesting--,Pg(e)}class yu{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new sc;onMicrotaskEmpty=new sc;onStable=new sc;onError=new sc;run(t,r,s){return t.apply(r,s)}runGuarded(t,r,s){return t.apply(r,s)}runOutsideAngular(t){return t()}runTask(t,r,s,a){return t.apply(r,s)}}function kg(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class oc{_console=console;handleError(t){this._console.error("ERROR",t)}}const CE=new _e("",{providedIn:"root",factory:()=>{const e=mn(ps),t=mn(oc);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Ng(e,t){return qn(e,t)}const e_=(Ng.required=function Jy(e){return qn(Xt,e)},Ng);function t_(){return il(Lr(),Pt())}function il(e,t){return new sl(Xi(e,t))}let sl=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=t_})();function ac(e){return e instanceof sl?e.nativeElement:e}function Kc(e,t){const r=function ce(e,t){const r=Object.create(Ye);r.value=e,void 0!==t&&(r.equal=t);const s=()=>(it(r),r.value);return s[Xe]=r,s}(e,t?.equal),s=r[Xe];return r.set=a=>fe(s,a),r.update=a=>function ne(e,t){Lt()||Ot(e),fe(e,t(e.value))}(s,a),r.asReadonly=ed.bind(r),r}function ed(){const e=this[Xe];if(void 0===e.readonlyFn){const t=()=>this();t[Xe]=e,e.readonlyFn=t}return e.readonlyFn}function qf(e){return function _h(e){return"function"==typeof e&&void 0!==e[Xe]}(e)&&"function"==typeof e.set}function xg(){return this._results[Symbol.iterator]()}class n_{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new sn.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const s=function Vi(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Xr(e,t,r){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){let a=e[s],d=t[s];if(r&&(a=r(a),d=r(d)),d!==a)return!1}return!0}(this._results,s,r))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=xg}function ol(e){return!(128&~e.flags)}var Xf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Xf||{});const Zf=new Map;let Ko=0;function cl(e){Zf.delete(e[Jo])}const Lg="__ngContext__";function _a(e,t){zi(t)?(e[Lg]=t[Jo],function s_(e){Zf.set(e[Jo],e)}(t)):e[Lg]=t}function Qc(e){return l_(e[Ae])}function jg(e){return l_(e[zs])}function l_(e){for(;null!==e&&!A(e);)e=e[zs];return e}let ip;function kE(e){ip=e}function Wa(){if(void 0!==ip)return ip;if(typeof document<"u")return document;throw new ht(210,!1)}const _u=new _e("",{providedIn:"root",factory:()=>Gg}),Gg="ng",Kg=new _e(""),qg=new _e("",{providedIn:"platform",factory:()=>"unknown"}),Qg=new _e(""),p_=new _e("",{providedIn:"root",factory:()=>Wa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),m_=new _e("",{providedIn:"root",factory:()=>!1});var om=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(om||{});const ud=new _e(""),y_=new Set;function Ea(e){y_.has(e)||(y_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let cp=(()=>class e{view;node;constructor(r,s){this.view=r,this.node=s}static __NG_ELEMENT_ID__=am})();function am(){return new cp(Pt(),Lr())}var hl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(hl||{});let Sh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Le({token:e,providedIn:"root",factory:()=>new e})}return e})();const up=[hl.EarlyRead,hl.Write,hl.MixedReadWrite,hl.Read];let lp=(()=>{class e{ngZone=mn(ps);scheduler=mn(ho);errorHandler=mn(oc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){mn(ud,{optional:!0})}execute(){const r=this.sequences.size>0;r&&br(16),this.executing=!0;for(const s of up)for(const a of this.sequences)if(!a.erroredOrDestroyed&&a.hooks[s])try{a.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,a.hooks[s])(a.pipelinedValue),a.snapshot))}catch(d){a.erroredOrDestroyed=!0,this.errorHandler?.handleError(d)}this.executing=!1;for(const s of this.sequences)s.afterRun(),s.once&&(this.sequences.delete(s),s.destroy());for(const s of this.deferredRegistrations)this.sequences.add(s);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&br(17)}register(r){const{view:s}=r;void 0!==s?((s[25]??=[]).push(r),mc(s),s[Xn]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,s){return s?s.run(om.AFTER_NEXT_RENDER,r):r()}static \u0275prov=Le({token:e,providedIn:"root",factory:()=>new e})}return e})();class v_{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,r,s,a,d,g=null){this.impl=t,this.hooks=r,this.view=s,this.once=a,this.snapshot=g,this.unregisterOnDestroy=d?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(r=>r!==this))}}function cm(e,t){!t?.injector&&$s();const r=t?.injector??mn(lo);return Ea("NgAfterNextRender"),function E_(e,t,r,s){const a=t.get(Sh);a.impl??=t.get(lp);const d=t.get(ud,null,{optional:!0}),g=r?.phase??hl.MixedReadWrite,w=!0!==r?.manualCleanup?t.get(Uo):null,D=t.get(cp,null,{optional:!0}),F=new v_(a.impl,function um(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,g),D?.view,s,w,d?.snapshot(null));return a.impl.register(F),F}(e,r,t,!0)}let Fh=(e,t,r,s)=>{};function XE(e,t){const r=e.contentQueries;if(null!==r){const s=ge(null);try{for(let a=0;a<r.length;a+=2){const g=r[a+1];if(-1!==g){const w=e.data[g];Bl(r[a]),w.contentQueries(2,t[g],g)}}}finally{ge(s)}}}function H_(e,t,r){Bl(0);const s=ge(null);try{t(e,r)}finally{ge(s)}}function $h(e,t,r){if(_(t)){const s=ge(null);try{const d=t.directiveEnd;for(let g=t.directiveStart;g<d;g++){const w=e.data[g];w.contentQueries&&w.contentQueries(1,r[g],g)}}finally{ge(s)}}}var Cc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Cc||{});let Rm,Pm;function Hh(e){return function ZE(){if(void 0===Rm&&(Rm=null,In.trustedTypes))try{Rm=In.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Rm}()?.createHTML(e)||e}function z_(){if(void 0===Pm&&(Pm=null,In.trustedTypes))try{Pm=In.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pm}function YE(e){return z_()?.createHTML(e)||e}function W_(e){return z_()?.createScriptURL(e)||e}class ka{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nr})`}}class pl extends ka{getTypeName(){return"HTML"}}class wT extends ka{getTypeName(){return"Style"}}class Id extends ka{getTypeName(){return"Script"}}class Mm extends ka{getTypeName(){return"URL"}}class Ip extends ka{getTypeName(){return"ResourceURL"}}function Yc(e){return e instanceof ka?e.changingThisBreaksApplicationSecurity:e}function Td(e,t){const r=function G_(e){return e instanceof ka&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Nr})`)}return r===t}function K_(e){return new pl(e)}function Tp(e){return new wT(e)}function JE(e){return new Id(e)}function gl(e){return new Mm(e)}function bp(e){return new Ip(e)}class q_{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Hh(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.firstChild?.remove(),r)}catch{return null}}}class km{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Hh(t),r}}const xm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dd(e){return(e=String(e)).match(xm)?e:"unsafe:"+e}function dc(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function ml(...e){const t={};for(const r of e)for(const s in r)r.hasOwnProperty(s)&&(t[s]=!0);return t}const Om=dc("area,br,col,hr,img,wbr"),bu=dc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fm=dc("rp,rt"),Lm=ml(Om,ml(bu,dc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ml(Fm,dc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ml(Fm,bu)),Ad=dc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cd=ml(Ad,dc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nw=dc("script,style,template");class Ap{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let r=t.firstChild,s=!0,a=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?s=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,s&&r.firstChild)a.push(r),r=zh(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let d=Um(r);if(d){r=d;break}r=a.pop()}return this.buf.join("")}startElement(t){const r=Z_(t).toLowerCase();if(!Lm.hasOwnProperty(r))return this.sanitizedSomething=!0,!nw.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const s=t.attributes;for(let a=0;a<s.length;a++){const d=s.item(a),g=d.name,w=g.toLowerCase();if(!Cd.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=d.value;Ad[w]&&(D=Dd(D)),this.buf.push(" ",g,'="',iw(D),'"')}return this.buf.push(">"),!0}endElement(t){const r=Z_(t).toLowerCase();Lm.hasOwnProperty(r)&&!Om.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(iw(t))}}function Um(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Sd(t);return t}function zh(e){const t=e.firstChild;if(t&&function X_(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Sd(t);return t}function Z_(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Sd(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const rw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rd=/([^\#-~ |!])/g;function iw(e){return e.replace(/&/g,"&amp;").replace(rw,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Rd,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bm;function Cp(e,t){let r=null;try{Bm=Bm||function bd(e){const t=new km(e);return function Nm(){try{return!!(new window.DOMParser).parseFromString(Hh(""),"text/html")}catch{return!1}}()?new q_(t):t}(e);let s=t?String(t):"";r=Bm.getInertBodyElement(s);let a=5,d=s;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,s=d,d=r.innerHTML,r=Bm.getInertBodyElement(s)}while(s!==d);return Hh((new Ap).sanitizeChildren(Y_(r)||r))}finally{if(r){const s=Y_(r)||r;for(;s.firstChild;)s.firstChild.remove()}}}function Y_(e){return"content"in e&&function Sp(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Pd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Pd||{});function sw(e){const t=Md();return t?YE(t.sanitize(Pd.HTML,e)||""):Td(e,"HTML")?YE(Yc(e)):Cp(Wa(),Me(e))}function J_(e){const t=Md();return t?t.sanitize(Pd.URL,e)||"":Td(e,"URL")?Yc(e):Dd(Me(e))}function ow(e){const t=Md();if(t)return W_(t.sanitize(Pd.RESOURCE_URL,e)||"");if(Td(e,"ResourceURL"))return W_(Yc(e));throw new ht(904,!1)}function jm(e,t,r){return function ev(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?ow:J_}(t,r)(e)}function Md(){const e=Pt();return e&&e[k].sanitizer}const tv=/^>|^->|<!--|-->|--!>|<!-$/g,Mp=/(<|>)/g;function Jc(e){return e instanceof Function?e():e}function OT(e,t,r){let s=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=t.length;if(a+d===s||e.charCodeAt(a+d)<=32)return a}r=a+1}}const ov="ng-template";function yw(e,t,r,s){let a=0;if(s){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==OT(t[a+1].toLowerCase(),r,0))return!0}else if(Hm(e))return!1;if(a=t.indexOf(1,a),a>-1){let d;for(;++a<t.length&&"string"==typeof(d=t[a]);)if(d.toLowerCase()===r)return!0}return!1}function Hm(e){return 4===e.type&&e.value!==ov}function FT(e,t,r){return t===(4!==e.type||r?e.value:ov)}function _w(e,t,r){let s=4;const a=e.attrs,d=null!==a?function LT(e){for(let t=0;t<e.length;t++)if(uh(e[t]))return t;return e.length}(a):0;let g=!1;for(let w=0;w<t.length;w++){const D=t[w];if("number"!=typeof D){if(!g)if(4&s){if(s=2|1&s,""!==D&&!FT(e,D,r)||""===D&&1===t.length){if(hc(s))return!1;g=!0}}else if(8&s){if(null===a||!yw(e,a,D,r)){if(hc(s))return!1;g=!0}}else{const F=t[++w],$=Au(D,a,Hm(e),r);if(-1===$){if(hc(s))return!1;g=!0;continue}if(""!==F){let Z;if(Z=$>d?"":a[$+1].toLowerCase(),2&s&&F!==Z){if(hc(s))return!1;g=!0}}}}else{if(!g&&!hc(s)&&!hc(D))return!1;if(g&&hc(D))continue;g=!1,s=D|1&s}}return hc(s)||g}function hc(e){return!(1&e)}function Au(e,t,r,s){if(null===t)return-1;let a=0;if(s||!r){let d=!1;for(;a<t.length;){const g=t[a];if(g===e)return a;if(3===g||6===g)d=!0;else{if(1===g||2===g){let w=t[++a];for(;"string"==typeof w;)w=t[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=d?1:2}return-1}return function VT(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const s=e[r];if("number"==typeof s)return-1;if(s===t)return r;r++}return-1}(t,e)}function av(e,t,r=!1){for(let s=0;s<t.length;s++)if(_w(e,t[s],r))return!0;return!1}function Ew(e,t){return e?":not("+t.trim()+")":t}function BT(e){let t=e[0],r=1,s=2,a="",d=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&s){const w=e[++r];a+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&s?a+="."+g:4&s&&(a+=" "+g);else""!==a&&!hc(g)&&(t+=Ew(d,a),a=""),s=g,d=d||!hc(s);r++}return""!==a&&(t+=Ew(d,a)),t}const Vr={};function Wm(e,t){return e.createComment(function lw(e){return e.replace(tv,t=>t.replace(Mp,"\u200b$1\u200b"))}(t))}function Gm(e,t,r){return e.createElement(t,r)}function Od(e,t,r,s,a){e.insertBefore(t,r,s,a)}function ww(e,t,r){e.appendChild(t,r)}function Iw(e,t,r,s,a){null!==s?Od(e,t,r,s,a):ww(e,t,r)}function Tw(e,t,r){const{mergedAttrs:s,classes:a,styles:d}=r;null!==s&&function ch(e,t,r){let s=0;for(;s<r.length;){const a=r[s];if("number"==typeof a){if(0!==a)break;s++;const d=r[s++],g=r[s++],w=r[s++];e.setAttribute(t,g,w,d)}else{const d=a,g=r[++s];ql(d)?e.setProperty(t,d,g):e.setAttribute(t,d,g),s++}}}(e,t,s),null!==a&&function zT(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}(e,t,a),null!==d&&function HT(e,t,r){e.setAttribute(t,"style",r)}(e,t,d)}function Gh(e,t,r,s,a,d,g,w,D,F,$){const Z=An+s,Te=Z+a,ue=function Np(e,t){const r=[];for(let s=0;s<t;s++)r.push(s<e?null:Vr);return r}(Z,Te),We="function"==typeof F?F():F;return ue[Jt]={type:e,blueprint:ue,template:r,queries:null,viewQuery:w,declTNode:t,data:ue.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:Te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:D,consts:We,incompleteFirstPass:!1,ssrId:$}}function n(e,t,r,s,a,d,g,w,D,F,$){const Z=t.blueprint.slice();return Z[Wr]=a,Z[Xn]=1228|s,(null!==F||e&&2048&e[Xn])&&(Z[Xn]|=2048),zu(Z),Z[hi]=Z[bn]=e,Z[Ar]=r,Z[k]=g||e&&e[k],Z[j]=w||e&&e[j],Z[P]=D||e&&e[P]||null,Z[ki]=d,Z[Jo]=function SE(){return Ko++}(),Z[Vs]=$,Z[Va]=F,Z[cr]=2==t.type?e[cr]:Z,Z}function o(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function u(e,t,r,s){if(0===r)return-1;const a=t.length;for(let d=0;d<r;d++)t.push(s),e.blueprint.push(s),e.data.push(null);return a}function p(e,t){return e[Ae]?e[kt][zs]=t:e[Ae]=t,e[kt]=t,t}function E(e=1){R(yr(),Pt(),Do()+e,!1)}function R(e,t,r,s){if(!s)if(3&~t[Xn]){const d=e.preOrderHooks;null!==d&&Qu(t,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&Gl(t,d,r)}Ya(r)}var N=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(N||{});function V(e,t,r,s){const a=ge(null);try{const[d,g,w]=e.inputs[r];let D=null;!!(g&N.SignalBased)&&(D=t[d][Xe]),null!==D&&void 0!==D.transformFn?s=D.transformFn(s):null!==w&&(s=w.call(t,s)),null!==e.setInput?e.setInput(t,D,s,r,d):ra(t,D,d,s)}finally{ge(a)}}function X(e,t,r,s,a){const d=Do(),g=2&s;try{Ya(-1),g&&t.length>An&&R(e,t,An,!1),br(g?2:0,a),r(s,a)}finally{Ya(d),br(g?3:1,a)}}function se(e,t,r){(function rt(e,t,r){const s=r.directiveStart,a=r.directiveEnd;l(r)&&function i(e,t,r){const s=Xi(t,e),a=function c(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(r),d=e[k].rendererFactory,g=p(e,n(e,a,null,o(r),s,t,null,d.createRenderer(s,r),null,null,null));e[t.index]=g}(t,r,e.data[s+r.componentOffset]),e.firstCreatePass||pu(r,t);const d=r.initialInputs;for(let g=s;g<a;g++){const w=e.data[g],D=nc(t,e,g,r);_a(D,t),null!==d&&Ue(0,g-s,D,w,0,d),m(w)&&(No(r.index,t)[Ar]=nc(t,e,g,r))}})(e,t,r),!(64&~r.flags)&&function ke(e,t,r){const s=r.directiveStart,a=r.directiveEnd,d=r.index,g=function vc(){return wr.lFrame.currentDirectiveIndex}();try{Ya(d);for(let w=s;w<a;w++){const D=e.data[w],F=t[w];Ba(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&$e(D,F)}}finally{Ya(-1),Ba(g)}}(e,t,r)}function xe(e,t,r=Xi){const s=t.localNames;if(null!==s){let a=t.index+1;for(let d=0;d<s.length;d+=2){const g=s[d+1],w=-1===g?r(t,e):e[g];e[a++]=w}}}let on=()=>null;function Sn(e,t,r,s,a,d,g,w){if(w||!vl(t,e,r,s,a)){if(3&t.type){const D=Xi(t,r);s=function tr(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),a=null!=g?g(a,t.value||"",s):a,d.setProperty(D,s,a)}}else l(t)&&function kr(e,t){const r=No(t,e);16&r[Xn]||(r[Xn]|=64)}(r,t.index)}function $e(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function at(e,t){const r=e.directiveRegistry;let s=null;if(r)for(let a=0;a<r.length;a++){const d=r[a];av(t,d.selectors,!1)&&(s??=[],m(d)?s.unshift(d):s.push(d))}return s}function lt(e,t,r,s,a,d){const g=Xi(e,t);!function bt(e,t,r,s,a,d,g){if(null==d)e.removeAttribute(t,a,r);else{const w=null==g?Me(d):g(d,s||"",a);e.setAttribute(t,a,w,r)}}(t[j],g,d,e.value,r,s,a)}function Ue(e,t,r,s,a,d){const g=d[t];if(null!==g)for(let w=0;w<g.length;w+=2)V(s,r,g[w],g[w+1])}function Ld(e,t,r){return(null===e||m(e))&&(r=function ou(e){for(;Array.isArray(e);){if("object"==typeof e[ta])return e;e=e[Wr]}return null}(r[t.index])),r[j]}function vl(e,t,r,s,a){const d=e.inputs?.[s],g=e.hostDirectiveInputs?.[s];let w=!1;if(g)for(let D=0;D<g.length;D+=2){const F=g[D];V(t.data[F],r[F],g[D+1],a),w=!0}if(d)for(const D of d)V(t.data[D],r[D],s,a),w=!0;return w}function Kh(e,t){const r=No(t,e),s=r[Jt];!function Qm(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(s,r);const a=r[Wr];null!==a&&null===r[Vs]&&(r[Vs]=null),br(18),qh(s,r,r[Ar]),br(19,r[Ar])}function qh(e,t,r){$l(t);try{const s=e.viewQuery;null!==s&&H_(1,s,r);const a=e.template;null!==a&&X(e,t,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[vs]?.finishViewCreation(e),e.staticContentQueries&&XE(e,t),e.staticViewQueries&&H_(2,e.viewQuery,r);const d=e.components;null!==d&&function bw(e,t){for(let r=0;r<t.length;r++)Kh(e,t[r])}(t,d)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[Xn]&=-5,Za()}}function Ys(e,t){return!t||null===t.firstChild||ol(e)}function El(e,t){return undefined(e,t)}var Su=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Su||{});function Ru(e){return!(32&~e.flags)}function Vd(e,t,r,s,a){if(null!=s){let d,g=!1;A(s)?d=s:zi(s)&&(g=!0,s=s[Wr]);const w=ei(s);0===e&&null!==r?null==a?ww(t,r,w):Od(t,r,w,a||null,!0):1===e&&null!==r?Od(t,r,w,a||null,!0):2===e?function Fd(e,t,r){e.removeChild(null,t,r)}(t,w,g):3===e&&t.destroyNode(w),null!=d&&function dv(e,t,r,s,a){const d=r[7];d!==ei(r)&&Vd(t,e,s,d,a);for(let w=Hi;w<r.length;w++){const D=r[w];Yh(D[Jt],D,e,t,s,d)}}(t,e,d,r,a)}}function Op(e,t){t[k].changeDetectionScheduler?.notify(9),Yh(e,t,t[j],2,null,null)}function Xh(e,t){const r=e[Ra],s=r.indexOf(t);r.splice(s,1)}function wl(e,t){if(Q(t))return;const r=t[j];r.destroyNode&&Yh(e,t,r,3,null,null),function Zm(e){let t=e[Ae];if(!t)return Fp(e[Jt],e);for(;t;){let r=null;if(zi(t))r=t[Ae];else{const s=t[Hi];s&&(r=s)}if(!r){for(;t&&!t[zs]&&t!==e;)zi(t)&&Fp(t[Jt],t),t=t[hi];null===t&&(t=e),zi(t)&&Fp(t[Jt],t),r=t&&t[zs]}t=r}}(t)}function Fp(e,t){if(Q(t))return;const r=ge(null);try{t[Xn]&=-129,t[Xn]|=256,t[24]&&Re(t[24]),function Aw(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let s=0;s<r.length;s+=2){const a=t[r[s]];if(!(a instanceof ya)){const d=r[s+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const w=a[d[g]],D=d[g+1];br(4,w,D);try{D.call(w)}finally{br(5,w,D)}}else{br(4,a,d);try{d.call(a)}finally{br(5,a,d)}}}}}(e,t),function uv(e,t){const r=e.cleanup,s=t[Eo];if(null!==r)for(let g=0;g<r.length-1;g+=2)if("string"==typeof r[g]){const w=r[g+3];w>=0?s[w]():s[-w].unsubscribe(),g+=2}else r[g].call(s[r[g+1]]);null!==s&&(t[Eo]=null);const a=t[21];if(null!==a){t[21]=null;for(let g=0;g<a.length;g++)(0,a[g])()}const d=t[wo];if(null!==d){t[wo]=null;for(const g of d)g.destroy()}}(e,t),1===t[Jt].type&&t[j].destroy();const s=t[Bi];if(null!==s&&A(t[hi])){s!==t[hi]&&Xh(s,t);const a=t[vs];null!==a&&a.detachView(e)}cl(t)}finally{ge(r)}}function Lp(e,t,r){return function Ym(e,t,r){let s=t;for(;null!==s&&168&s.type;)s=(t=s).parent;if(null===s)return r[Wr];if(l(s)){const{encapsulation:a}=e.data[s.directiveStart+s.componentOffset];if(a===Cc.None||a===Cc.Emulated)return null}return Xi(s,r)}(e,t.parent,r)}let Zh,lv=function Jm(e,t,r){return 40&e.type?Xi(e,r):null};function Ud(e,t,r,s){const a=Lp(e,s,t),d=t[j],w=function Vp(e,t,r){return lv(e,t,r)}(s.parent||t[ki],s,t);if(null!=a)if(Array.isArray(r))for(let D=0;D<r.length;D++)Iw(d,a,r[D],w,!1);else Iw(d,a,r,w,!1);void 0!==Zh&&Zh(d,s,t,r,a)}function Js(e,t){if(null!==t){const r=t.type;if(3&r)return Xi(t,e);if(4&r)return Bd(-1,e[t.index]);if(8&r){const s=t.child;if(null!==s)return Js(e,s);{const a=e[t.index];return A(a)?Bd(-1,a):ei(a)}}if(128&r)return Js(e,t.next);if(32&r)return El(t,e)()||ei(e[t.index]);{const s=qo(e,t);return null!==s?Array.isArray(s)?s[0]:Js(sa(e[cr]),s):Js(e,t.next)}}return null}function qo(e,t){return null!==t?e[cr][ki].projection[t.projection]:null}function Bd(e,t){const r=Hi+e+1;if(r<t.length){const s=t[r],a=s[Jt].firstChild;if(null!==a)return Js(s,a)}return t[7]}function Bp(e,t,r,s,a,d,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const w=s[r.index],D=r.type;if(g&&0===t&&(w&&_a(ei(w),s),r.flags|=2),!Ru(r))if(8&D)Bp(e,t,r.child,s,a,d,!1),Vd(t,e,a,w,d);else if(32&D){const F=El(r,s);let $;for(;$=F();)Vd(t,e,a,$,d);Vd(t,e,a,w,d)}else 16&D?jd(e,t,s,r,a,d):Vd(t,e,a,w,d);r=g?r.projectionNext:r.next}}function Yh(e,t,r,s,a,d){Bp(r,s,e.firstChild,t,a,d,!1)}function jd(e,t,r,s,a,d){const g=r[cr],D=g[ki].projection[s.projection];if(Array.isArray(D))for(let F=0;F<D.length;F++)Vd(t,e,a,D[F],d);else{let F=D;const $=g[hi];ol(s)&&(F.flags|=128),Bp(e,t,F,$,a,d,!0)}}function Pu(e,t,r,s,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const d=t[r.index];null!==d&&s.push(ei(d)),A(d)&&ey(d,s);const g=r.type;if(8&g)Pu(e,t,r.child,s);else if(32&g){const w=El(r,t);let D;for(;D=w();)s.push(D)}else if(16&g){const w=qo(t,r);if(Array.isArray(w))s.push(...w);else{const D=sa(t[cr]);Pu(D[Jt],D,w,s,!0)}}r=a?r.projectionNext:r.next}return s}function ey(e,t){for(let r=Hi;r<e.length;r++){const s=e[r],a=s[Jt].firstChild;null!==a&&Pu(s[Jt],s,a,t)}e[7]!==e[Wr]&&t.push(e[7])}function fv(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let jp=[];const ty={...ve,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{mc(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},Il={...ve,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=sa(e.lView);for(;t&&!ry(t[Jt]);)t=sa(t);t&&xc(t)},consumerOnSignalRead(){this.lView[24]=this}};function ry(e){return 2!==e.type}function ef(e){if(null===e[wo])return;let t=!0;for(;t;){let r=!1;for(const s of e[wo])s.dirty&&(r=!0,null===s.zone||Zone.current===s.zone?s.run():s.zone.run(()=>s.run()));t=r&&!!(8192&e[Xn])}}function Mu(e,t=!0,r=0){const a=e[k].rendererFactory;a.begin?.();try{!function yv(e,t){const r=wg();try{Fc(!0),ku(e,t);let s=0;for(;au(e);){if(100===s)throw new ht(103,!1);s++,ku(e,1)}}finally{Fc(r)}}(e,r)}catch(g){throw t&&function qm(e,t){const r=e[P],s=r?r.get(oc,null):null;s&&s.handleError(t)}(e,g),g}finally{a.end?.()}}function iy(e,t,r,s){if(Q(t))return;const a=t[Xn];$l(t);let w=!0,D=null,F=null;ry(e)?(F=function pv(e){return e[24]??function gv(e){const t=jp.pop()??Object.create(ty);return t.lView=e,t}(e)}(t),D=ft(F)):null===function Ee(){return q}()?(w=!1,F=function ny(e){const t=e[24]??Object.create(Il);return t.lView=e,t}(t),D=ft(F)):t[24]&&(Re(t[24]),t[24]=null);try{zu(t),function Cf(e){return wr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&X(e,t,r,2,s);const $=!(3&~a);if($){const ue=e.preOrderCheckHooks;null!==ue&&Gl(t,ue,null)}else{const ue=e.preOrderHooks;null!==ue&&Qu(t,ue,0,null),Xu(t,0)}if(function tf(e){for(let t=Qc(e);null!==t;t=jg(t)){if(!(2&t[Xn]))continue;const r=t[Ra];for(let s=0;s<r.length;s++)xc(r[s])}}(t),ef(t),$d(t,0),null!==e.contentQueries&&XE(e,t),$){const ue=e.contentCheckHooks;null!==ue&&Gl(t,ue)}else{const ue=e.contentHooks;null!==ue&&Qu(t,ue,1),Xu(t,1)}!function Rw(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let s=0;s<r.length;s++){const a=r[s];if(a<0)Ya(~a);else{const d=a,g=r[++s],w=r[++s];Tg(g,d);const D=t[d];br(24,D),w(2,D),br(25,D)}}}finally{Ya(-1)}}(e,t);const Z=e.components;null!==Z&&vv(t,Z,0);const Te=e.viewQuery;if(null!==Te&&H_(2,Te,s),$){const ue=e.viewCheckHooks;null!==ue&&Gl(t,ue)}else{const ue=e.viewHooks;null!==ue&&Qu(t,ue,2),Xu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const ue of t[22])ue();t[22]=null}fv(t),t[Xn]&=-73}catch($){throw mc(t),$}finally{null!==F&&(gt(F,D),w&&function Jh(e){e.lView[24]!==e&&(e.lView=null,jp.push(e))}(F)),Za()}}function $d(e,t){for(let r=Qc(e);null!==r;r=jg(r))for(let s=Hi;s<r.length;s++)_v(r[s],t)}function Sw(e,t,r){br(18);const s=No(t,e);_v(s,r),br(19,s[Ar])}function _v(e,t){Ps(e)&&ku(e,t)}function ku(e,t){const s=e[Jt],a=e[Xn],d=e[24];let g=!!(0===t&&16&a);if(g||=!!(64&a&&0===t),g||=!!(1024&a),g||=!(!d?.dirty||!_t(d)),g||=!1,d&&(d.dirty=!1),e[Xn]&=-9217,g)iy(s,e,s.template,e[Ar]);else if(8192&a){ef(e),$d(e,1);const w=s.components;null!==w&&vv(e,w,1),fv(e)}}function vv(e,t,r){for(let s=0;s<t.length;s++)Sw(e,t[s],r)}function Nu(e,t){const r=wg()?64:1088;for(e[k].changeDetectionScheduler?.notify(t);e;){e[Xn]|=r;const s=sa(e);if(C(e)&&!s)return e;e=s}return null}function sy(e,t,r,s){return[e,!0,0,t,null,s,null,r,null,null]}function Hd(e,t){if(e.length<=Hi)return;const r=Hi+t,s=e[r];if(s){const a=s[Bi];null!==a&&a!==e&&Xh(a,s),t>0&&(e[r-1][zs]=s[zs]);const d=ao(e,Hi+t);!function Qh(e,t){Op(e,t),t[Wr]=null,t[ki]=null}(s[Jt],s);const g=d[vs];null!==g&&g.detachView(d[Jt]),s[hi]=null,s[zs]=null,s[Xn]&=-129}return s}function Hp(e,t){const r=e[Ra],s=t[hi];(zi(s)||t[cr]!==s[hi][cr])&&(e[Xn]|=2),null===r?e[Ra]=[t]:r.push(t)}let Tl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const t=this._lView,r=t[Jt];return Pu(r,t,r.firstChild,[])}constructor(t,r,s=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=s}get context(){return this._lView[Ar]}set context(t){this._lView[Ar]=t}get destroyed(){return Q(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[hi];if(A(t)){const r=t[8],s=r?r.indexOf(this):-1;s>-1&&(Hd(t,s),ao(r,s))}this._attachedToViewContainer=!1}wl(this._lView[Jt],this._lView)}onDestroy(t){Qa(this._lView,t)}markForCheck(){Nu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Xn]&=-129}reattach(){ih(this._lView),this._lView[Xn]|=128}detectChanges(){this._lView[Xn]|=1024,Mu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ht(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=C(this._lView),r=this._lView[Bi];null!==r&&!t&&Xh(r,this._lView),Op(this._lView[Jt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ht(902,!1);this._appRef=t;const r=C(this._lView),s=this._lView[Bi];null!==s&&!r&&Hp(s,this._lView),ih(this._lView)}},nf=(()=>class e{static __NG_ELEMENT_ID__=oy})();const zp=nf,wv=class extends zp{_declarationLView;_declarationTContainer;elementRef;constructor(t,r,s){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,s){const a=function Na(e,t,r,s){const a=ge(null);try{const d=t.tView,D=n(e,d,r,4096&e[Xn]?4096:16,null,t,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);D[Bi]=e[t.index];const $=e[vs];return null!==$&&(D[vs]=$.createEmbeddedView(d)),qh(d,D,r),D}finally{ge(a)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:s});return new Tl(a)}};function oy(){return xu(Lr(),Pt())}function xu(e,t){return 4&e.type?new wv(t,e,il(e,t)):null}function Mc(e,t,r,s,a){let d=e.data[t];if(null===d)d=function ly(e,t,r,s,a){const d=bf(),g=Ll(),D=e.data[t]=function Fw(e,t,r,s,a,d){let g=t?t.injectorIndex:-1,w=0;return function Pa(){return null!==wr.skipHydrationRootTNode}()&&(w|=128),{type:r,index:s,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,r,t,s,a);return function Cv(e,t,r,s){null===e.firstChild&&(e.firstChild=t),null!==r&&(s?null==r.child&&null!==t.parent&&(r.child=t):null===r.next&&(r.next=t,t.prev=r))}(e,D,d,g),D}(e,t,r,s,a),function Ig(){return wr.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=s,d.attrs=a;const g=function aa(){const e=wr.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return zo(d,!0),d}let IC=class{},GT=class{};class TC{resolveComponentFactory(t){throw Error(`No component factory found for ${Fe(t)}.`)}}let vy=class{static NULL=new TC};class Uw{}let bC=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function DC(){const e=Pt(),r=No(Lr().index,e);return(zi(r)?r:e)[j]}()})(),AC=(()=>{class e{static \u0275prov=Le({token:e,providedIn:"root",factory:()=>null})}return e})();function hf(e){return!!rs(e)}const jw={};class tg{injector;parentInjector;constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,s){s=Ws(s);const a=this.injector.get(t,jw,s);return a!==jw||r===jw?a:this.parentInjector.get(t,r,s)}}function $w(e,t,r){let s=r?e.styles:null,a=r?e.classes:null,d=0;if(null!==t)for(let g=0;g<t.length;g++){const w=t[g];"number"==typeof w?d=w:1==d?a=Mr(a,w):2==d&&(s=Mr(s,w+": "+t[++g]+";"))}r?e.styles=s:e.stylesWithoutHost=s,r?e.classes=a:e.classesWithoutHost=a}function ng(e,t=Nn.Default){const r=Pt();return null===r?Si(e,t):Vf(Lr(),r,vn(e),t)}function qT(){throw new Error("invalid")}function Hw(e,t,r,s,a){const d=null===s?null:{"":-1},g=a(e,r);if(null!==g){let w,D=null,F=null;const $=function MC(e){let t=null,r=!1;for(let g=0;g<e.length;g++){const w=e[g];if(0===g&&m(w)&&(t=w),null!==w.findHostDirectiveDefs){r=!0;break}}if(!r)return null;let s=null,a=null,d=null;for(const g of e)null!==g.findHostDirectiveDefs&&(s??=[],a??=new Map,d??=new Map,kC(g,s,d,a)),g===t&&(s??=[],s.push(g));return null!==s?(s.push(...null===t?e:e.slice(1)),[s,a,d]):null}(g);null===$?w=g:[w,D,F]=$,function xC(e,t,r,s,a,d,g){const w=s.length;let D=!1;for(let Te=0;Te<w;Te++){const ue=s[Te];!D&&m(ue)&&(D=!0,NC(e,r,Te)),gu(pu(r,t),e,ue.type)}!function BC(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,w);for(let Te=0;Te<w;Te++){const ue=s[Te];ue.providersResolver&&ue.providersResolver(ue)}let F=!1,$=!1,Z=u(e,t,w,null);w>0&&(r.directiveToIndex=new Map);for(let Te=0;Te<w;Te++){const ue=s[Te];if(r.mergedAttrs=wc(r.mergedAttrs,ue.hostAttrs),FC(e,r,t,Z,ue),UC(Z,ue,a),null!==g&&g.has(ue)){const[Ut,un]=g.get(ue);r.directiveToIndex.set(ue.type,[Z,Ut+r.directiveStart,un+r.directiveStart])}else(null===d||!d.has(ue))&&r.directiveToIndex.set(ue.type,Z);null!==ue.contentQueries&&(r.flags|=4),(null!==ue.hostBindings||null!==ue.hostAttrs||0!==ue.hostVars)&&(r.flags|=64);const We=ue.type.prototype;!F&&(We.ngOnChanges||We.ngOnInit||We.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),F=!0),!$&&(We.ngOnChanges||We.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),$=!0),Z++}!function OC(e,t,r){for(let s=t.directiveStart;s<t.directiveEnd;s++){const a=e.data[s];if(null!==r&&r.has(a)){const d=r.get(a);XT(0,t,d,s),XT(1,t,d,s),YT(t,s,!0)}else QT(0,t,a,s),QT(1,t,a,s),YT(t,s,!1)}}(e,r,d)}(e,t,r,w,d,D,F)}null!==d&&null!==s&&function PC(e,t,r){const s=e.localNames=[];for(let a=0;a<t.length;a+=2){const d=r[t[a+1]];if(null==d)throw new ht(-301,!1);s.push(t[a],d)}}(r,s,d)}function kC(e,t,r,s){const a=t.length;e.findHostDirectiveDefs(e,t,s),r.set(e,[a,t.length-1])}function NC(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function QT(e,t,r,s){const a=0===e?r.inputs:r.outputs;for(const d in a)if(a.hasOwnProperty(d)){let g;g=0===e?t.inputs??={}:t.outputs??={},g[d]??=[],g[d].push(s),ZT(t,d)}}function XT(e,t,r,s){const a=0===e?r.inputs:r.outputs;for(const d in a)if(a.hasOwnProperty(d)){const g=a[d];let w;w=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},w[g]??=[],w[g].push(s,d),ZT(t,g)}}function ZT(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function YT(e,t,r){const{attrs:s,inputs:a,hostDirectiveInputs:d}=e;if(null===s||!r&&null===a||r&&null===d||Hm(e))return e.initialInputs??=[],void e.initialInputs.push(null);let g=null,w=0;for(;w<s.length;){const D=s[w];if(0!==D)if(5!==D){if("number"==typeof D)break;if(!r&&a.hasOwnProperty(D)){const F=a[D];for(const $ of F)if($===t){g??=[],g.push(D,s[w+1]);break}}else if(r&&d.hasOwnProperty(D)){const F=d[D];for(let $=0;$<F.length;$+=2)if(F[$]===t){g??=[],g.push(F[$+1],s[w+1]);break}}w+=2}else w+=2;else w+=4}e.initialInputs??=[],e.initialInputs.push(g)}function FC(e,t,r,s,a){e.data[s]=a;const d=a.factory||(a.factory=io(a.type)),g=new ya(d,m(a),ng);e.blueprint[s]=g,r[s]=g,function LC(e,t,r,s,a){const d=a.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const w=~t.index;(function VC(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(g)!=w&&g.push(w),g.push(r,s,d)}}(e,t,s,u(e,r,a.hostVars,Vr),a)}function UC(e,t,r){if(r){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)r[t.exportAs[s]]=e;m(t)&&(r[""]=e)}}function JT(e,t,r,s,a,d,g,w){const D=t.consts,$=Mc(t,e,2,s,ia(D,g));return d&&Hw(t,r,$,ia(D,w),a),$.mergedAttrs=wc($.mergedAttrs,$.attrs),null!==$.attrs&&$w($,$.attrs,!1),null!==$.mergedAttrs&&$w($,$.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,$),$}function e0(e,t){ec(e,t),_(t)&&e.queries.elementEnd(t)}class t0 extends vy{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Er(t);return new Iy(r,this.ngModule)}}class Iy extends GT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function jC(e){return Object.keys(e).map(t=>{const[r,s,a]=e[t],d={propName:r,templateName:t,isSignal:!!(s&N.SignalBased)};return a&&(d.transform=a),d})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function $C(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function jT(e){return e.map(BT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!r}create(t,r,s,a){br(22);const d=ge(null);try{const g=this.componentDef,w=s?["ng-version","19.2.14"]:function $T(e){const t=[],r=[];let s=1,a=2;for(;s<e.length;){let d=e[s];if("string"==typeof d)2===a?""!==d&&t.push(d,e[++s]):8===a&&r.push(d);else{if(!hc(a))break;a=d}s++}return r.length&&t.push(1,...r),t}(this.componentDef.selectors[0]),D=Gh(0,null,null,1,0,null,null,null,null,[w],null),F=function HC(e,t,r){let s=t instanceof Yr?t:t?.injector;return s&&null!==e.getStandaloneInjector&&(s=e.getStandaloneInjector(s)||s),s?new tg(r,s):r}(g,a||this.ngModule,t),$=function zC(e){const t=e.get(Uw,null);if(null===t)throw new ht(407,!1);return{rendererFactory:t,sanitizer:e.get(AC,null),changeDetectionScheduler:e.get(ho,null)}}(F),Z=$.rendererFactory.createRenderer(null,g),Te=s?function Et(e,t,r,s){const d=s.get(m_,!1)||r===Cc.ShadowDom,g=e.selectRootElement(t,d);return function $t(e){on(e)}(g),g}(Z,s,g.encapsulation,F):function WC(e,t){const r=(e.selectors[0][0]||"div").toLowerCase();return Gm(t,r,"svg"===r?ko:"math"===r?"math":null)}(g,Z),ue=n(null,D,null,512|o(g),null,null,$,Z,F,null,null);ue[An]=Te,$l(ue);let We=null;try{const Ut=JT(An,D,ue,"#host",()=>[this.componentDef],!0,0);Te&&(Tw(Z,Te,Ut),_a(Te,ue)),se(D,ue,Ut),$h(D,Ut,ue),e0(D,Ut),void 0!==r&&function KC(e,t,r){const s=e.projection=[];for(let a=0;a<t.length;a++){const d=r[a];s.push(null!=d&&d.length?Array.from(d):null)}}(Ut,this.ngContentSelectors,r),We=No(Ut.index,ue),ue[Ar]=We[Ar],qh(D,ue,null)}catch(Ut){throw null!==We&&cl(We),cl(ue),Ut}finally{br(23),Za()}return new GC(this.componentType,ue)}finally{ge(d)}}}class GC extends IC{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,r){super(),this._rootLView=r,this._tNode=Vo(r[Jt],An),this.location=il(this._tNode,r),this.instance=No(this._tNode.index,r)[Ar],this.hostView=this.changeDetectorRef=new Tl(r,void 0,!1),this.componentType=t}setInput(t,r){const s=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const a=this._rootLView;vl(s,a[Jt],a,t,r),this.previousInputValues.set(t,r),Nu(No(s.index,a),1)}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Xv=(()=>class e{static __NG_ELEMENT_ID__=qC})();function qC(){return s0(Lr(),Pt())}const QC=Xv,n0=class extends QC{_lContainer;_hostTNode;_hostLView;constructor(t,r,s){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=s}get element(){return il(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){const t=tc(this._hostTNode,this._hostLView);if(Ic(t)){const r=lu(t,this._hostLView),s=Ju(t);return new ks(r[Jt].data[s+8],r)}return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=r0(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Hi}createEmbeddedView(t,r,s){let a,d;"number"==typeof s?a=s:null!=s&&(a=s.index,d=s.injector);const w=t.createEmbeddedViewImpl(r||{},d,null);return this.insertImpl(w,a,Ys(this._hostTNode,null)),w}createComponent(t,r,s,a,d){const g=t&&!function Fr(e){return"function"==typeof e}(t);let w;if(g)w=r;else{const We=r||{};w=We.index,s=We.injector,a=We.projectableNodes,d=We.environmentInjector||We.ngModuleRef}const D=g?t:new Iy(Er(t)),F=s||this.parentInjector;if(!d&&null==D.ngModule){const Ut=(g?F:this.parentInjector).get(Yr,null);Ut&&(d=Ut)}Er(D.componentType??{});const ue=D.create(F,a,null,d);return this.insertImpl(ue.hostView,w,Ys(this._hostTNode,null)),ue}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,s){const a=t._lView;if(function oi(e){return A(e[hi])}(a)){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const D=a[hi],F=new n0(D,D[ki],D[hi]);F.detach(F.indexOf(t))}}const d=this._adjustIndex(r),g=this._lContainer;return function eu(e,t,r,s=!0){const a=t[Jt];if(function Ev(e,t,r,s){const a=Hi+s,d=r.length;s>0&&(r[a-1][zs]=t),s<d-Hi?(t[zs]=r[a],Zr(r,Hi+s,t)):(r.push(t),t[zs]=null),t[hi]=r;const g=t[Bi];null!==g&&r!==g&&Hp(g,t);const w=t[vs];null!==w&&w.insertView(e),ih(t),t[Xn]|=128}(a,t,e,r),s){const g=Bd(r,e),w=t[j],D=w.parentNode(e[7]);null!==D&&function xp(e,t,r,s,a,d){s[Wr]=a,s[ki]=t,Yh(e,s,r,1,a,d)}(a,e[ki],w,t,D,g)}const d=t[Vs];null!==d&&null!==d.firstChild&&(d.firstChild=null)}(g,a,d,s),t.attachToViewContainerRef(),Zr(zw(g),d,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=r0(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),s=Hd(this._lContainer,r);s&&(ao(zw(this._lContainer),r),wl(s[Jt],s))}detach(t){const r=this._adjustIndex(t,-1),s=Hd(this._lContainer,r);return s&&null!=ao(zw(this._lContainer),r)?new Tl(s):null}_adjustIndex(t,r=0){return t??this.length+r}};function r0(e){return e[8]}function zw(e){return e[8]||(e[8]=[])}function s0(e,t){let r;const s=t[e.index];return A(s)?r=s:(r=sy(s,t,null,e),t[e.index]=r,p(t,r)),o0(r,t,e,s),new n0(r,e,t)}let o0=function c0(e,t,r,s){if(e[7])return;let a;a=8&r.type?ei(s):function XC(e,t){const r=e[j],s=r.createComment(""),a=Xi(t,e),d=r.parentNode(a);return Od(r,d,s,r.nextSibling(a),!1),s}(t,r),e[7]=a},Ww=()=>!1;class Gw{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Gw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kw{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const s=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let d=0;d<s;d++){const g=r.getByIndex(d);a.push(this.queries[g.indexInDeclarationView].clone())}return new Kw(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==Yw(t,r).matches&&this.queries[r].setDirty()}}class u0{flags;read;predicate;constructor(t,r,s=null){this.flags=r,this.read=s,this.predicate="string"==typeof t?function iS(e){return e.split(",").map(t=>t.trim())}(t):t}}class qw{queries;constructor(t=[]){this.queries=t}elementStart(t,r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let s=0;s<this.length;s++){const a=null!==r?r.length:0,d=this.getByIndex(s).embeddedTView(t,a);d&&(d.indexInDeclarationView=s,null!==r?r.push(d):r=[d])}return null!==r?new qw(r):null}template(t,r){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Qw{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,r=-1){this.metadata=t,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Qw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==r;)s=s.parent;return r===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const s=this.metadata.predicate;if(Array.isArray(s))for(let a=0;a<s.length;a++){const d=s[a];this.matchTNodeWithReadOption(t,r,eS(r,d)),this.matchTNodeWithReadOption(t,r,za(r,t,d,!1,!1))}else s===nf?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,za(r,t,s,!1,!1))}matchTNodeWithReadOption(t,r,s){if(null!==s){const a=this.metadata.read;if(null!==a)if(a===sl||a===Xv||a===nf&&4&r.type)this.addMatch(r.index,-2);else{const d=za(r,t,a,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,s)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function eS(e,t){const r=e.localNames;if(null!==r)for(let s=0;s<r.length;s+=2)if(r[s]===t)return r[s+1];return null}function nS(e,t,r,s){return-1===r?function tS(e,t){return 11&e.type?il(e,t):4&e.type?xu(e,t):null}(t,e):-2===r?function rS(e,t,r){return r===sl?il(t,e):r===nf?xu(t,e):r===Xv?s0(t,e):void 0}(e,t,s):nc(e,e[Jt],r,t)}function l0(e,t,r,s){const a=t[vs].queries[s];if(null===a.matches){const d=e.data,g=r.matches,w=[];for(let D=0;null!==g&&D<g.length;D+=2){const F=g[D];w.push(F<0?null:nS(t,d[F],g[D+1],r.metadata.read))}a.matches=w}return a.matches}function Xw(e,t,r,s){const a=e.queries.getByIndex(r),d=a.matches;if(null!==d){const g=l0(e,t,a,r);for(let w=0;w<d.length;w+=2){const D=d[w];if(D>0)s.push(g[w/2]);else{const F=d[w+1],$=t[-D];for(let Z=Hi;Z<$.length;Z++){const Te=$[Z];Te[Bi]===Te[hi]&&Xw(Te[Jt],Te,F,s)}if(null!==$[Ra]){const Z=$[Ra];for(let Te=0;Te<Z.length;Te++){const ue=Z[Te];Xw(ue[Jt],ue,F,s)}}}}}return s}function f0(e,t,r,s){const a=yr();if(a.firstCreatePass){const d=Lr();(function p0(e,t,r){null===e.queries&&(e.queries=new qw),e.queries.track(new Qw(t,r))})(a,new u0(t,r,s),d.index),function sS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return function d0(e,t,r){const s=new n_(!(4&~r));return function If(e,t,r,s){const a=yc(t);a.push(r),e.firstCreatePass&&Nl(e).push(s,a.length-1)}(e,t,s,s.destroy),(t[vs]??=new Kw).queries.push(new Gw(s))-1}(a,Pt(),r)}function Yw(e,t){return e.queries.getByIndex(t)}function g0(e,t){const r=e[Jt],s=Yw(r,t);return s.crossesNgTemplate?Xw(r,e,t,[]):l0(r,e,s,t)}let ff=class{},A0=class{};function gS(e,t){return new tI(e,t??null,[])}class tI extends ff{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new t0(this);constructor(t,r,s,a=!0){super(),this.ngModuleType=t,this._parent=r;const d=rs(t);this._bootstrapComponents=Jc(d.bootstrap),this._r3Injector=Jl(t,r,[{provide:ff,useValue:this},{provide:vy,useValue:this.componentFactoryResolver},...s],Fe(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class nI extends A0{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new tI(this.moduleType,t,[])}}class C0 extends ff{injector;componentFactoryResolver=new t0(this);instance=null;constructor(t){super();const r=new hs([...t.providers,{provide:ff,useValue:this},{provide:vy,useValue:this.componentFactoryResolver}],t.parent||_s(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rI(e,t,r=null){return new C0({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let yS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const s=Qt(0,r.type),a=s.length>0?rI([s],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Le({token:e,providedIn:"environment",factory:()=>new e(Si(Yr))})}return e})();function S0(e){return lr(()=>{const t=M0(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?a=>a.get(yS).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Cc.Emulated,styles:e.styles||mr,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&Ea("NgStandalone"),k0(r);const s=e.dependencies;return r.directiveDefs=Zv(s,!1),r.pipeDefs=Zv(s,!0),r.id=function TS(e){let t=0;const s=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const d of s.join("|"))t=Math.imul(31,t)+d.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function _S(e){return Er(e)||W(e)}function vS(e){return null!==e}function iI(e){return lr(()=>({type:e.type,bootstrap:e.bootstrap||mr,declarations:e.declarations||mr,imports:e.imports||mr,exports:e.exports||mr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ES(e,t){if(null==e)return zr;const r={};for(const s in e)if(e.hasOwnProperty(s)){const a=e[s];let d,g,w,D;Array.isArray(a)?(w=a[0],d=a[1],g=a[2]??d,D=a[3]||null):(d=a,g=a,w=N.None,D=null),r[d]=[s,w,D],t[d]=g}return r}function wS(e){if(null==e)return zr;const t={};for(const r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function R0(e){return lr(()=>{const t=M0(e);return k0(t),t})}function P0(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function M0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||zr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||mr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ES(e.inputs,t),outputs:wS(e.outputs),debugInfo:null}}function k0(e){e.features?.forEach(t=>t(e))}function Zv(e,t){if(!e)return null;const r=t?z:_S;return()=>("function"==typeof e?e():e).map(s=>r(s)).filter(vS)}function sI(e){let t=function N0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const s=[e];for(;t;){let a;if(m(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ht(903,!1);a=t.\u0275dir}if(a){if(r){s.push(a);const g=e;g.inputs=oI(e.inputs),g.declaredInputs=oI(e.declaredInputs),g.outputs=oI(e.outputs);const w=a.hostBindings;w&&SS(e,w);const D=a.viewQuery,F=a.contentQueries;if(D&&AS(e,D),F&&CS(e,F),bS(e,a),xi(e.outputs,a.outputs),m(a)&&a.data.animation){const $=e.data;$.animation=($.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let g=0;g<d.length;g++){const w=d[g];w&&w.ngInherit&&w(e),w===sI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function DS(e){let t=0,r=null;for(let s=e.length-1;s>=0;s--){const a=e[s];a.hostVars=t+=a.hostVars,a.hostAttrs=wc(a.hostAttrs,r=wc(r,a.hostAttrs))}}(s)}function bS(e,t){for(const r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const s=t.inputs[r];void 0!==s&&(e.inputs[r]=s,e.declaredInputs[r]=t.declaredInputs[r])}}function oI(e){return e===zr?{}:e===mr?[]:e}function AS(e,t){const r=e.viewQuery;e.viewQuery=r?(s,a)=>{t(s,a),r(s,a)}:t}function CS(e,t){const r=e.contentQueries;e.contentQueries=r?(s,a,d)=>{t(s,a,d),r(s,a,d)}:t}function SS(e,t){const r=e.hostBindings;e.hostBindings=r?(s,a)=>{t(s,a),r(s,a)}:t}function Yv(e){return!!cI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function cI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Bu(e,t,r){return e[t]=r}function by(e,t){return e[t]}function po(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function pf(e,t,r,s){const a=po(e,t,r);return po(e,t+1,s)||a}function kc(e,t,r,s,a,d){const g=pf(e,t,r,s);return pf(e,t+2,a,d)||g}function Dy(e,t,r,s,a,d,g,w,D,F){const $=r+An,Z=t.firstCreatePass?function LS(e,t,r,s,a,d,g,w,D){const F=t.consts,$=Mc(t,e,4,g||null,w||null);Tf()&&Hw(t,r,$,ia(F,D),at),$.mergedAttrs=wc($.mergedAttrs,$.attrs),ec(t,$);const Z=$.tView=Gh(2,$,s,a,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,F,null);return null!==t.queries&&(t.queries.template(t,$),Z.queries=t.queries.embeddedTView($)),$}($,t,e,s,a,d,g,w,D):t.data[$];zo(Z,!1);const Te=V0(t,e,Z,r);Ja()&&Ud(t,e,Te,Z),_a(Te,e);const ue=sy(Te,e,Te,Z);return e[$]=ue,p(e,ue),function a0(e,t,r){return Ww(e,t,r)}(ue,Z,e),h(Z)&&se(t,e,Z),null!=D&&xe(e,Z,F),Z}function uI(e,t,r,s,a,d,g,w){const D=Pt(),F=yr();return Dy(D,F,e,t,r,s,a,ia(F.consts,d),g,w),uI}let V0=function U0(e,t,r,s){return $a(!0),t[j].createComment("")};let hI=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Y0=new _e(""),J0=new _e("");let mI,OR=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(r,s,a){this._ngZone=r,this.registry=s,ii()&&(this._destroyRef=mn(Uo,{optional:!0})??void 0),mI||(function FR(e){mI=e}(a),a.addToWindow(s)),this._watchAngularEvents(),r.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const r=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),s=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{ps.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{r.unsubscribe(),s.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(r)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,s,a){let d=-1;s&&s>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),r()},s)),this._callbacks.push({doneCb:r,timeoutId:d,updateCb:a})}whenStable(r,s,a){if(a&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,s,a),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,s,a){return[]}static \u0275fac=function(s){return new(s||e)(Si(ps),Si(eb),Si(J0))};static \u0275prov=Le({token:e,factory:e.\u0275fac})}return e})(),eb=(()=>{class e{_applications=new Map;registerApplication(r,s){this._applications.set(r,s)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,s=!0){return mI?.findTestabilityInTree(this,r,s)??null}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),tb=(()=>{class e{static \u0275prov=Le({token:e,providedIn:"root",factory:()=>new LR})}return e})();class LR{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){const s=this.queues.get(t.zone);s.has(t)&&(s.delete(t),this.queuedEffectCount--)}enqueue(t){const r=t.zone;this.queues.has(r)||this.queues.set(r,new Set);const s=this.queues.get(r);s.has(t)||(this.queuedEffectCount++,s.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,r]of this.queues)null===t?this.flushQueue(r):t.run(()=>this.flushQueue(r))}flushQueue(t){for(const r of t)t.delete(r),this.queuedEffectCount--,r.run()}}function yI(e){return!!e&&"function"==typeof e.then}function nb(e){return!!e&&"function"==typeof e.subscribe}const rb=new _e("");function VR(e){return Pe([{provide:rb,multi:!0,useValue:e}])}let ib=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s});appInits=mn(rb,{optional:!0})??[];injector=mn(lo);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const d=Po(this.injector,a);if(yI(d))r.push(d);else if(nb(d)){const g=new Promise((w,D)=>{d.subscribe({complete:w,error:D})});r.push(g)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{s()}).catch(a=>{this.reject(a)}),0===r.length&&s(),this.initialized=!0}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Cy=new _e("");let fc=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=mn(CE);afterRenderManager=mn(Sh);zonelessEnabled=mn(Wc);rootEffectScheduler=mn(tb);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new sn.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=mn(Gc).hasPendingTasks.pipe((0,dn.T)(r=>!r));constructor(){mn(ud,{optional:!0})}whenStable(){let r;return new Promise(s=>{r=this.isStable.subscribe({next:a=>{a&&s()}})}).finally(()=>{r.unsubscribe()})}_injector=mn(Yr);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,s){return this.bootstrapImpl(r,s)}bootstrapImpl(r,s,a=lo.NULL){br(10);const d=r instanceof GT;if(!this._injector.get(ib).done)throw new ht(405,"");let w;w=d?r:this._injector.get(vy).resolveComponentFactory(r),this.componentTypes.push(w.componentType);const D=function UR(e){return e.isBoundToModule}(w)?void 0:this._injector.get(ff),$=w.create(a,[],s||w.selector,D),Z=$.location.nativeElement,Te=$.injector.get(Y0,null);return Te?.registerApplication(Z),$.onDestroy(()=>{this.detachView($.hostView),rE(this.components,$),Te?.unregisterApplication(Z)}),this._loadComponent($),br(11,$),$}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){br(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(om.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ht(101,!1);const r=ge(null);try{this._runningTick=!0,this.synchronize()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ge(r),this.afterTick.next(),br(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Uw,null,{optional:!0}));let r=0;for(;0!==this.dirtyFlags&&r++<10;)br(14),this.synchronizeOnce(),br(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s,notifyErrorHandler:a}of this.allViews)jR(s,a,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>au(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const s=r;this._views.push(s),s.attachToAppRef(this)}detachView(r){const s=r;rE(this._views,s),s.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Cy,[]).forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>rE(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ht(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function jR(e,t,r,s){(r||au(e))&&Mu(e,t,r&&!s?0:1)}function II(e,t,r,s){const a=Pt();return po(a,Wo(),t)&&(yr(),lt(Ai(),a,e,t,r,s)),II}function ag(e,t,r,s){return po(e,Wo(),r)?t+Me(r)+s:Vr}function cg(e,t,r,s,a,d){const w=pf(e,function ga(){return wr.lFrame.bindingIndex}(),r,a);return ma(2),w?t+Me(r)+s+Me(a)+d:Vr}function iE(e,t){return e<<17|t<<2}function mf(e){return e>>17&32767}function TI(e){return 2|e}function gg(e){return(131068&e)>>2}function bI(e,t){return-131069&e|t<<2}function DI(e){return 1|e}function bb(e,t,r,s){const a=e[r+1],d=null===t;let g=s?mf(a):gg(a),w=!1;for(;0!==g&&(!1===w||d);){const F=e[g+1];CP(e[g],t)&&(w=!0,e[g+1]=s?DI(F):TI(F)),g=s?mf(F):gg(F)}w&&(e[r+1]=s?TI(a):DI(a))}function CP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ia(e,t)>=0}const $o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Db(e){return e.substring($o.key,$o.keyEnd)}function Ab(e,t){const r=$o.textEnd;return r===t?-1:(t=$o.keyEnd=function MP(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,$o.key=t,r),mg(e,t,r))}function mg(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function AI(e,t,r){const s=Pt();return po(s,Wo(),t)&&Sn(yr(),Ai(),s,e,t,s[j],r,!1),AI}function CI(e,t,r,s,a){vl(t,e,r,a?"class":"style",s)}function SI(e,t,r){return ru(e,t,r,!1),SI}function RI(e,t){return ru(e,t,null,!0),RI}function Mb(e){iu(BP,$u,e,!0)}function $u(e,t){for(let r=function RP(e){return function Sb(e){$o.key=0,$o.keyEnd=0,$o.value=0,$o.valueEnd=0,$o.textEnd=e.length}(e),Ab(e,mg(e,0,$o.textEnd))}(t);r>=0;r=Ab(t,r))ys(e,Db(t),!0)}function ru(e,t,r,s){const a=Pt(),d=yr(),g=ma(2);d.firstUpdatePass&&Nb(d,e,g,s),t!==Vr&&po(a,g,t)&&Ob(d,d.data[Do()],a,a[j],e,a[g+1]=function $P(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Fe(Yc(e)))),e}(t,r),s,g)}function iu(e,t,r,s){const a=yr(),d=ma(2);a.firstUpdatePass&&Nb(a,null,d,s);const g=Pt();if(r!==Vr&&po(g,d,r)){const w=a.data[Do()];if(Lb(w,s)&&!kb(a,d)){let D=s?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(r=Mr(D,r||"")),CI(a,w,g,r,s)}else!function jP(e,t,r,s,a,d,g,w){a===Vr&&(a=mr);let D=0,F=0,$=0<a.length?a[0]:null,Z=0<d.length?d[0]:null;for(;null!==$||null!==Z;){const Te=D<a.length?a[D+1]:void 0,ue=F<d.length?d[F+1]:void 0;let Ut,We=null;$===Z?(D+=2,F+=2,Te!==ue&&(We=Z,Ut=ue)):null===Z||null!==$&&$<Z?(D+=2,We=$):(F+=2,We=Z,Ut=ue),null!==We&&Ob(e,t,r,s,We,Ut,g,w),$=D<a.length?a[D]:null,Z=F<d.length?d[F]:null}}(a,w,g,g[j],g[d+1],g[d+1]=function UP(e,t,r){if(null==r||""===r)return mr;const s=[],a=Yc(r);if(Array.isArray(a))for(let d=0;d<a.length;d++)e(s,a[d],!0);else if("object"==typeof a)for(const d in a)a.hasOwnProperty(d)&&e(s,d,a[d]);else"string"==typeof a&&t(s,a);return s}(e,t,r),s,d)}}function kb(e,t){return t>=e.expandoStartIndex}function Nb(e,t,r,s){const a=e.data;if(null===a[r+1]){const d=a[Do()],g=kb(e,r);Lb(d,s)&&null===t&&!g&&(t=!1),t=function OP(e,t,r,s){const a=uu(e);let d=s?t.residualClasses:t.residualStyles;if(null===a)0===(s?t.classBindings:t.styleBindings)&&(r=Ry(r=PI(null,e,t,r,s),t.attrs,s),d=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==a)if(r=PI(a,e,t,r,s),null===d){let D=function FP(e,t,r){const s=r?t.classBindings:t.styleBindings;if(0!==gg(s))return e[mf(s)]}(e,t,s);void 0!==D&&Array.isArray(D)&&(D=PI(null,e,t,D[1],s),D=Ry(D,t.attrs,s),function LP(e,t,r,s){e[mf(r?t.classBindings:t.styleBindings)]=s}(e,t,s,D))}else d=function VP(e,t,r){let s;const a=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<a;d++)s=Ry(s,e[d].hostAttrs,r);return Ry(s,t.attrs,r)}(e,t,s)}return void 0!==d&&(s?t.residualClasses=d:t.residualStyles=d),r}(a,d,t,s),function DP(e,t,r,s,a,d){let g=d?t.classBindings:t.styleBindings,w=mf(g),D=gg(g);e[s]=r;let $,F=!1;if(Array.isArray(r)?($=r[1],(null===$||Ia(r,$)>0)&&(F=!0)):$=r,a)if(0!==D){const Te=mf(e[w+1]);e[s+1]=iE(Te,w),0!==Te&&(e[Te+1]=bI(e[Te+1],s)),e[w+1]=function TP(e,t){return 131071&e|t<<17}(e[w+1],s)}else e[s+1]=iE(w,0),0!==w&&(e[w+1]=bI(e[w+1],s)),w=s;else e[s+1]=iE(D,0),0===w?w=s:e[D+1]=bI(e[D+1],s),D=s;F&&(e[s+1]=TI(e[s+1])),bb(e,$,s,!0),bb(e,$,s,!1),function AP(e,t,r,s,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&Ia(d,t)>=0&&(r[s+1]=DI(r[s+1]))}(t,$,e,s,d),g=iE(w,D),d?t.classBindings=g:t.styleBindings=g}(a,d,t,r,g,s)}}function PI(e,t,r,s,a){let d=null;const g=r.directiveEnd;let w=r.directiveStylingLast;for(-1===w?w=r.directiveStart:w++;w<g&&(d=t[w],s=Ry(s,d.hostAttrs,a),d!==e);)w++;return null!==e&&(r.directiveStylingLast=w),s}function Ry(e,t,r){const s=r?1:2;let a=-1;if(null!==t)for(let d=0;d<t.length;d++){const g=t[d];"number"==typeof g?a=g:a===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ys(e,g,!!r||t[++d]))}return void 0===e?null:e}function BP(e,t,r){const s=String(t);""!==s&&!s.includes(" ")&&ys(e,s,r)}function Ob(e,t,r,s,a,d,g,w){if(!(3&t.type))return;const D=e.data,F=D[w+1],$=function bP(e){return!(1&~e)}(F)?Fb(D,t,r,a,gg(F),g):void 0;sE($)||(sE(d)||function IP(e){return!(2&~e)}(F)&&(d=Fb(D,null,r,a,w,g)),function hv(e,t,r,s,a){if(t)a?e.addClass(r,s):e.removeClass(r,s);else{let d=-1===s.indexOf("-")?void 0:Su.DashCase;null==a?e.removeStyle(r,s,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=Su.Important),e.setStyle(r,s,a,d))}}(s,g,fs(Do(),r),a,d))}function Fb(e,t,r,s,a,d){const g=null===t;let w;for(;a>0;){const D=e[a],F=Array.isArray(D),$=F?D[1]:D,Z=null===$;let Te=r[a+1];Te===Vr&&(Te=Z?mr:void 0);let ue=Z?Ri(Te,s):$===s?Te:void 0;if(F&&!sE(ue)&&(ue=Ri(D,s)),sE(ue)&&(w=ue,g))return w;const We=e[a+1];a=g?mf(We):gg(We)}if(null!==t){let D=d?t.residualClasses:t.residualStyles;null!=D&&(w=Ri(D,s))}return w}function sE(e){return void 0!==e}function Lb(e,t){return!!(e.flags&(t?8:16))}function Vb(e,t,r){iu(ys,$u,ag(Pt(),e,t,r),!0)}function Ub(e,t,r,s,a){iu(ys,$u,cg(Pt(),e,t,r,s,a),!0)}function aE(e,t,r,s){const a=Pt(),d=yr(),g=An+e,w=a[j],D=d.firstCreatePass?JT(g,d,a,t,at,Tf(),r,s):d.data[g],F=Hb(d,a,D,w,t,e);a[g]=F;const $=h(D);return zo(D,!0),Tw(w,F,D),!Ru(D)&&Ja()&&Ud(d,a,F,D),(0===function $y(){return wr.lFrame.elementDepthCount}()||$)&&_a(F,a),function Eg(){wr.lFrame.elementDepthCount++}(),$&&(se(d,a,D),$h(d,D,a)),null!==s&&xe(a,D),aE}function cE(){let e=Lr();Ll()?Vl():(e=e.parent,zo(e,!1));const t=e;(function Wu(e){return wr.skipHydrationRootTNode===e})(t)&&function Gu(){wr.skipHydrationRootTNode=null}(),function sh(){wr.lFrame.elementDepthCount--}();const r=yr();return r.firstCreatePass&&e0(r,t),null!=t.classesWithoutHost&&function Yu(e){return!!(8&e.flags)}(t)&&CI(r,t,Pt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Nf(e){return!!(16&e.flags)}(t)&&CI(r,t,Pt(),t.stylesWithoutHost,!1),cE}function xI(e,t,r,s){return aE(e,t,r,s),cE(),xI}let Hb=(e,t,r,s,a,d)=>($a(!0),Gm(s,a,function Wl(){return wr.lFrame.currentNamespace}()));function uE(e,t,r){const s=Pt(),a=yr(),d=e+An,g=a.firstCreatePass?function d1(e,t,r,s,a){const d=t.consts,g=ia(d,s),w=Mc(t,e,8,"ng-container",g);null!==g&&$w(w,g,!0);const D=ia(d,a);return Tf()&&Hw(t,r,w,D,at),w.mergedAttrs=wc(w.mergedAttrs,w.attrs),null!==t.queries&&t.queries.elementStart(t,w),w}(d,a,s,t,r):a.data[d];zo(g,!0);const w=Wb(a,s,g,e);return s[d]=w,Ja()&&Ud(a,s,w,g),_a(w,s),h(g)&&(se(a,s,g),$h(a,g,s)),null!=r&&xe(s,g),uE}function lE(){let e=Lr();const t=yr();return Ll()?Vl():(e=e.parent,zo(e,!1)),t.firstCreatePass&&(ec(t,e),_(e)&&t.queries.elementEnd(e)),lE}let Wb=(e,t,r,s)=>($a(!0),Wm(t[j],""));function Gb(){return Pt()}function OI(e,t,r){const s=Pt();if(po(s,Wo(),t)){const d=yr(),g=Ai();Sn(d,g,s,e,t,Ld(uu(d.data),g,s),r,!0)}return OI}const yf=void 0;var g1=["en",[["a","p"],["AM","PM"],yf],[["AM","PM"],yf,yf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yf,"{1} 'at' {0}",yf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function p1(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let yg={};function FI(e){const t=function m1(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=Qb(t);if(r)return r;const s=t.split("-")[0];if(r=Qb(s),r)return r;if("en"===s)return g1;throw new ht(701,!1)}function qb(e){return FI(e)[_g.PluralCase]}function Qb(e){return e in yg||(yg[e]=In.ng&&In.ng.common&&In.ng.common.locales&&In.ng.common.locales[e]),yg[e]}var _g=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(_g||{});const dE="en-US";let Xb=dE;function pD(e,t,r){return function s(a){if(a===Function)return r;Nu(l(e)?No(e.index,t):t,5);const g=t[Ar];let w=gD(t,g,r,a),D=s.__ngNextListenerFn__;for(;D;)w=gD(t,g,D,a)&&w,D=D.__ngNextListenerFn__;return w}}function gD(e,t,r,s){const a=ge(null);try{return br(6,t,r),!1!==r(s)}catch(d){return function iM(e,t){const r=e[P],s=r?r.get(oc,null):null;s&&s.handleError(t)}(e,d),!1}finally{br(7,t,r),ge(a)}}function mD(e,t,r,s,a,d){const w=t[Jt],$=t[r][w.data[r].outputs[s]],Z=w.firstCreatePass?Nl(w):null,Te=yc(t),ue=$.subscribe(d),We=Te.length;Te.push(d,ue),Z&&Z.push(a,e.index,We,-(We+1))}function UI(e,t,r,s){const a=Pt(),d=yr(),g=Lr();return BI(d,a,a[j],g,e,t,s),UI}function BI(e,t,r,s,a,d,g){const w=h(s),F=e.firstCreatePass?Nl(e):null,$=yc(t);let Z=!0;if(3&s.type||g){const Te=Xi(s,t),ue=g?g(Te):Te,We=$.length,Ut=g?gn=>g(ei(gn[s.index])):s.index;let un=null;if(!g&&w&&(un=function sM(e,t,r,s){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const g=a[d];if(g===r&&a[d+1]===s){const w=t[Eo],D=a[d+2];return w.length>D?w[D]:null}"string"==typeof g&&(d+=2)}return null}(e,t,a,s.index)),null!==un)(un.__ngLastListenerFn__||un).__ngNextListenerFn__=d,un.__ngLastListenerFn__=d,Z=!1;else{!function wm(e,t,r,s){Fh(e,t,r,s)}(t,ue,a,d=pD(s,t,d));const gn=r.listen(ue,a,d);$.push(d,gn),F&&F.push(a,Ut,We,We+1)}}else d=pD(s,t,d);if(Z){const Te=s.outputs?.[a],ue=s.hostDirectiveOutputs?.[a];if(ue&&ue.length)for(let We=0;We<ue.length;We+=2)mD(s,t,ue[We],ue[We+1],a,d);if(Te&&Te.length)for(const We of Te)mD(s,t,We,a,a,d)}}function _D(e=1){return function Vc(e){return(wr.lFrame.contextLView=function wf(e,t){for(;e>0;)t=t[bn],e--;return t}(e,wr.lFrame.contextLView))[Ar]}(e)}function SD(e,t,r,s){f0(e,t,r,s)}function RD(e){const t=Pt(),r=yr(),s=Ku();Bl(s+1);const a=Yw(r,s);if(e.dirty&&function rh(e){return!(4&~e[Xn])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const d=g0(t,s);e.reset(d,ac),e.notifyOnChanges()}return!0}return!1}function PD(){return function Zw(e,t){return e[vs].queries[t].queryList}(Pt(),Ku())}function MD(e){return To(function Df(){return wr.lFrame.contextLView}(),An+e)}function jD(e,t=""){const r=Pt(),s=yr(),a=e+An,d=s.firstCreatePass?Mc(s,a,1,t,null):s.data[a],g=$D(s,r,d,t,e);r[a]=g,Ja()&&Ud(s,r,g,d),zo(d,!1)}let $D=(e,t,r,s,a)=>($a(!0),function cv(e,t){return e.createText(t)}(t[j],s));function $I(e){return gE("",e,""),$I}function gE(e,t,r){const s=Pt(),a=ag(s,e,t,r);return a!==Vr&&Pl(s,Do(),a),gE}function HI(e,t,r,s,a){const d=Pt(),g=cg(d,e,t,r,s,a);return g!==Vr&&Pl(d,Do(),g),HI}function Pl(e,t,r){const s=fs(t,e);!function zm(e,t,r){e.setValue(t,r)}(e[j],s,r)}function zI(e,t,r){qf(t)&&(t=t());const s=Pt();return po(s,Wo(),t)&&Sn(yr(),Ai(),s,e,t,s[j],r,!1),zI}function XD(e,t){const r=qf(e);return r&&e.set(t),r}function WI(e,t){const r=Pt(),s=yr(),a=Lr();return BI(s,r,r[j],a,e,t),WI}function GI(e,t,r,s,a){if(e=vn(e),Array.isArray(e))for(let d=0;d<e.length;d++)GI(e[d],t,r,s,a);else{const d=yr(),g=Pt(),w=Lr();let D=Mi(e)?e:vn(e.provide);const F=Ta(e),$=1048575&w.providerIndexes,Z=w.directiveStart,Te=w.providerIndexes>>20;if(Mi(e)||!e.multi){const ue=new ya(F,a,ng),We=qI(D,t,a?$:$+Te,Z);-1===We?(gu(pu(w,g),d,D),KI(d,e,t.length),t.push(D),w.directiveStart++,w.directiveEnd++,a&&(w.providerIndexes+=1048576),r.push(ue),g.push(ue)):(r[We]=ue,g[We]=ue)}else{const ue=qI(D,t,$+Te,Z),We=qI(D,t,$,$+Te),un=We>=0&&r[We];if(a&&!un||!a&&!(ue>=0&&r[ue])){gu(pu(w,g),d,D);const gn=function MM(e,t,r,s,a){const d=new ya(e,r,ng);return d.multi=[],d.index=t,d.componentProviders=0,JD(d,a,s&&!r),d}(a?PM:RM,r.length,a,s,F);!a&&un&&(r[We].providerFactory=gn),KI(d,e,t.length,0),t.push(D),w.directiveStart++,w.directiveEnd++,a&&(w.providerIndexes+=1048576),r.push(gn),g.push(gn)}else KI(d,e,ue>-1?ue:We,JD(r[a?We:ue],F,!a&&s));!a&&s&&un&&r[We].componentProviders++}}}function KI(e,t,r,s){const a=Mi(t),d=function li(e){return!!e.useClass}(t);if(a||d){const D=(d?vn(t.useClass):t).prototype.ngOnDestroy;if(D){const F=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const $=F.indexOf(r);-1===$?F.push(r,[s,D]):F[$+1].push(s,D)}else F.push(r,D)}}}function JD(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function qI(e,t,r,s){for(let a=r;a<s;a++)if(t[a]===e)return a;return-1}function RM(e,t,r,s,a){return QI(this.multi,[])}function PM(e,t,r,s,a){const d=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,D=nc(s,s[Jt],this.providerFactory.index,a);g=D.slice(0,w),QI(d,g);for(let F=w;F<D.length;F++)g.push(D[F])}else g=[],QI(d,g);return g}function QI(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function eA(e,t=[]){return r=>{r.providersResolver=(s,a)=>function SM(e,t,r){const s=yr();if(s.firstCreatePass){const a=m(e);GI(r,s.data,s.blueprint,a,!0),GI(t,s.data,s.blueprint,a,!1)}}(s,a?a(e):e,t)}}function nA(e,t,r){const s=bo()+e,a=Pt();return a[s]===Vr?Bu(a,s,r?t.call(r):t()):by(a,s)}function rA(e,t,r,s){return cA(Pt(),bo(),e,t,r,s)}function iA(e,t,r,s,a){return uA(Pt(),bo(),e,t,r,s,a)}function sA(e,t,r,s,a,d){return function lA(e,t,r,s,a,d,g,w){const D=t+r;return function Jv(e,t,r,s,a){const d=pf(e,t,r,s);return po(e,t+2,a)||d}(e,D,a,d,g)?Bu(e,D+3,w?s.call(w,a,d,g):s(a,d,g)):Oy(e,D+3)}(Pt(),bo(),e,t,r,s,a,d)}function oA(e,t,r,s,a,d,g){return function dA(e,t,r,s,a,d,g,w,D){const F=t+r;return kc(e,F,a,d,g,w)?Bu(e,F+4,D?s.call(D,a,d,g,w):s(a,d,g,w)):Oy(e,F+4)}(Pt(),bo(),e,t,r,s,a,d,g)}function aA(e,t,r,s,a,d,g,w){const D=bo()+e,F=Pt(),$=kc(F,D,r,s,a,d);return po(F,D+4,g)||$?Bu(F,D+5,w?t.call(w,r,s,a,d,g):t(r,s,a,d,g)):by(F,D+5)}function Oy(e,t){const r=e[t];return r===Vr?void 0:r}function cA(e,t,r,s,a,d){const g=t+r;return po(e,g,a)?Bu(e,g+1,d?s.call(d,a):s(a)):Oy(e,g+1)}function uA(e,t,r,s,a,d,g){const w=t+r;return pf(e,w,a,d)?Bu(e,w+2,g?s.call(g,a,d):s(a,d)):Oy(e,w+2)}function fA(e,t){const r=yr();let s;const a=e+An;r.firstCreatePass?(s=function UM(e,t){if(t)for(let r=t.length-1;r>=0;r--){const s=t[r];if(e===s.name)return s}}(t,r.pipeRegistry),r.data[a]=s,s.onDestroy&&(r.destroyHooks??=[]).push(a,s.onDestroy)):s=r.data[a];const d=s.factory||(s.factory=io(s.type)),w=ci(ng);try{const D=Ql(!1),F=d();return Ql(D),function gc(e,t,r,s){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=s}(r,Pt(),a,F),F}finally{ci(w)}}function pA(e,t,r){const s=e+An,a=Pt(),d=To(a,s);return Fy(a,s)?cA(a,bo(),t,d.transform,r,d):d.transform(r)}function gA(e,t,r,s){const a=e+An,d=Pt(),g=To(d,a);return Fy(d,a)?uA(d,bo(),t,g.transform,r,s,g):g.transform(r,s)}function Fy(e,t){return e[Jt].data[t].pure}class NA{full;major;minor;patch;constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const yk=new NA("19.2.14");class _k{ngModuleFactory;componentFactories;constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let vk=(()=>{class e{compileModuleSync(r){return new nI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const s=this.compileModuleSync(r),d=Jc(rs(r).declarations).reduce((g,w)=>{const D=Er(w);return D&&g.push(new Iy(D)),g},[]);return new _k(s,d)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ik=(()=>{class e{zone=mn(ps);changeDetectionScheduler=mn(ho);applicationRef=mn(fc);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new ps({...tT(),scheduleInRootZone:r}),[{provide:ps,useFactory:e},{provide:Pi,multi:!0,useFactory:()=>{const s=mn(Ik,{optional:!0});return()=>s.initialize()}},{provide:Pi,multi:!0,useFactory:()=>{const s=mn(bk);return()=>{s.initialize()}}},!0===t?{provide:Bf,useValue:!0}:[],{provide:jf,useValue:r??mu}]}function tT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let bk=(()=>{class e{subscription=new fr.yU;initialized=!1;zone=mn(ps);pendingTasks=mn(Gc);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ps.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ps.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vy=(()=>{class e{appRef=mn(fc);taskService=mn(Gc);ngZone=mn(ps);zonelessEnabled=mn(Wc);tracing=mn(ud,{optional:!0});disableScheduling=mn(Bf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new fr.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(mn(jf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof yu||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let s=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,s=!0;break;case 12:this.appRef.dirtyFlags|=16,s=!0;break;case 11:s=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(s))return;const a=this.useMicrotaskScheduler?Cg:Gy;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(r),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(s){return new(s||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const rT=new _e("",{providedIn:"root",factory:()=>mn(rT,Nn.Optional|Nn.SkipSelf)||function Dk(){return typeof $localize<"u"&&$localize.locale||dE}()}),Ak=new _e("",{providedIn:"root",factory:()=>"USD"}),vE=new _e(""),Mk=new _e("");function Uy(e){return!e.moduleRef}let nh=null;function Lk(){return!1}let zA=(()=>class e{static __NG_ELEMENT_ID__=Vk})();function Vk(e){return function Uk(e,t,r){if(l(e)&&!r){const s=No(e.index,t);return new Tl(s,s)}return 175&e.type?new Tl(t[cr],t):null}(Lr(),Pt(),!(16&~e))}class qA{constructor(){}supports(t){return Yv(t)}create(t){return new zk(t)}}const Hk=(e,t)=>t;class zk{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||Hk}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,s=this._removalsHead,a=0,d=null;for(;r||s;){const g=!s||r&&r.currentIndex<XA(s,a,d)?r:s,w=XA(g,a,d),D=g.currentIndex;if(g===s)a--,s=s._nextRemoved;else if(r=r._next,null==g.previousIndex)a++;else{d||(d=[]);const F=w-a,$=D-a;if(F!=$){for(let Te=0;Te<F;Te++){const ue=Te<d.length?d[Te]:d[Te]=0,We=ue+Te;$<=We&&We<F&&(d[Te]=ue+1)}d[g.previousIndex]=$-F}}w!==D&&t(g,w,D)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Yv(t))throw new ht(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,d,g,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let w=0;w<this.length;w++)d=t[w],g=this._trackByFn(w,d),null!==r&&Object.is(r.trackById,g)?(s&&(r=this._verifyReinsertion(r,d,g,w)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,g,w),s=!0),r=r._next}else a=0,function OS(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let s;for(;!(s=r.next()).done;)t(s.value)}}(t,w=>{g=this._trackByFn(a,w),null!==r&&Object.is(r.trackById,g)?(s&&(r=this._verifyReinsertion(r,w,g,a)),Object.is(r.item,w)||this._addIdentityChange(r,w)):(r=this._mismatch(r,w,g,a),s=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,s,a){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,d,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,d,a)):t=this._addAfter(new Wk(r,s),d,a),t}_verifyReinsertion(t,r,s,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==d?t=this._reinsertAfter(d,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,d=t._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(t,r,s),this._addToMoves(t,s),t}_moveAfter(t,r,s){return this._unlink(t),this._insertAfter(t,r,s),this._addToMoves(t,s),t}_addAfter(t,r,s){return this._insertAfter(t,r,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,s){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new QA),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,s=t._next;return null===r?this._itHead=s:r._next=s,null===s?this._itTail=r:s._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Wk{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,r){this.item=t,this.trackById=r}}class Gk{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===r||r<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const r=t._prevDup,s=t._nextDup;return null===r?this._head=s:r._nextDup=s,null===s?this._tail=r:s._prevDup=r,null===this._head}}class QA{map=new Map;put(t){const r=t.trackById;let s=this.map.get(r);s||(s=new Gk,this.map.set(r,s)),s.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function XA(e,t,r){const s=e.previousIndex;if(null===s)return s;let a=0;return r&&s<r.length&&(a=r[s]),s+t+a}class ZA{constructor(){}supports(t){return t instanceof Map||cI(t)}create(){return new Kk}}class Kk{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||cI(t)))throw new ht(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,s),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(a,s);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let s=r;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const s=t._prev;return r._next=t,r._prev=s,t._prev=r,s&&(s._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const d=a._prev,g=a._next;return d&&(d._next=g),g&&(g._prev=d),a._next=null,a._prev=null,a}const s=new qk(t);return this._records.set(t,s),s.currentValue=r,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(s=>r(t[s],s))}}class qk{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function YA(){return new cT([new qA])}let cT=(()=>{class e{factories;static \u0275prov=Le({token:e,providedIn:"root",factory:YA});constructor(r){this.factories=r}static create(r,s){if(null!=s){const a=s.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:s=>e.create(r,s||YA()),deps:[[e,new Ds,new Or]]}}find(r){const s=this.factories.find(a=>a.supports(r));if(null!=s)return s;throw new ht(901,!1)}}return e})();function JA(){return new uT([new ZA])}let uT=(()=>{class e{static \u0275prov=Le({token:e,providedIn:"root",factory:JA});factories;constructor(r){this.factories=r}static create(r,s){if(s){const a=s.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:s=>e.create(r,s||JA()),deps:[[e,new Ds,new Or]]}}find(r){const s=this.factories.find(a=>a.supports(r));if(s)return s;throw new ht(901,!1)}}return e})();function Zk(e){br(8);try{const{rootComponent:t,appProviders:r,platformProviders:s}=e,a=function Fk(e=[]){if(nh)return nh;const t=function jA(e=[],t){return lo.create({name:t,providers:[{provide:is,useValue:"platform"},{provide:vE,useValue:new Set([()=>nh=null])},...e]})}(e);return nh=t,function sb(){!function He(e){an=e}(()=>{throw new ht(600,!1)})}(),function $A(e){const t=e.get(Kg,null);Po(e,()=>{t?.forEach(r=>r())})}(t),t}(s),d=[eT({}),{provide:ho,useExisting:Vy},...r||[]];return function VA(e){const t=Uy(e)?e.r3Injector:e.moduleRef.injector,r=t.get(ps);return r.run(()=>{Uy(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const s=t.get(oc,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:d=>{s.handleError(d)}})}),Uy(e)){const d=()=>t.destroy(),g=e.platformInjector.get(vE);g.add(d),t.onDestroy(()=>{a.unsubscribe(),g.delete(d)})}else{const d=()=>e.moduleRef.destroy(),g=e.platformInjector.get(vE);g.add(d),e.moduleRef.onDestroy(()=>{rE(e.allPlatformModules,e.moduleRef),a.unsubscribe(),g.delete(d)})}return function Nk(e,t,r){try{const s=r();return yI(s)?s.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(s,r,()=>{const d=t.get(ib);return d.runInitializers(),d.donePromise.then(()=>{if(function E1(e){"string"==typeof e&&(Xb=e.toLowerCase().replace(/_/g,"-"))}(t.get(rT,dE)||dE),!t.get(Mk,!0))return Uy(e)?t.get(fc):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Uy(e)){const D=t.get(fc);return void 0!==e.rootComponent&&D.bootstrap(e.rootComponent),D}return function kk(e,t){const r=e.injector.get(fc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new ht(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new C0({providers:d,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:a,rootComponent:t})}catch(t){return Promise.reject(t)}finally{br(9)}}function vN(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function su(e){return function Hn(e){const t=ge(null);try{return e()}finally{ge(t)}}(e)}function jy(e,t){return function Pn(e,t){const r=Object.create(_n);r.computation=e,void 0!==t&&(r.equal=t);const s=()=>{if(Je(r),it(r),r.value===nt)throw r.error;return r.value};return s[Xe]=r,s}(e,t?.equal)}class bN{[Xe];constructor(t){this[Xe]=t}destroy(){this[Xe].destroy()}}function dT(e,t){!t?.injector&&$s();const r=t?.injector??mn(lo);let a,s=!0!==t?.manualCleanup?r.get(Uo):null;const d=r.get(cp,null,{optional:!0}),g=r.get(ho);return null===d||t?.forceRoot?a=function SN(e,t,r){const s=Object.create(DN);return s.fn=e,s.scheduler=t,s.notifier=r,s.zone=typeof Zone<"u"?Zone.current:null,s.scheduler.schedule(s),s.notifier.notify(12),s}(e,r.get(tb),g):(a=function CN(e,t,r){const s=Object.create(AN);return s.view=e,s.zone=typeof Zone<"u"?Zone.current:null,s.notifier=t,s.fn=r,e[wo]??=new Set,e[wo].add(s),s.consumerMarkedDirty(s),s}(d.view,g,e),s instanceof yh&&s._lView===d.view&&(s=null)),a.injector=r,null!==s&&(a.onDestroyFn=s.onDestroy(()=>a.destroy())),new bN(a)}const fC={...ve,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:nl,run(){if(this.dirty=!1,this.hasRun&&!_t(this))return;this.hasRun=!0;const e=s=>(this.cleanupFns??=[]).push(s),t=ft(this),r=Fc(!1);try{this.maybeCleanup(),this.fn(e)}finally{Fc(r),gt(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},DN={...fC,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Re(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},AN={...fC,consumerMarkedDirty(){this.view[Xn]|=8192,mc(this.view),this.notifier.notify(13)},destroy(){Re(this),this.onDestroyFn(),this.maybeCleanup(),this.view[wo]?.delete(this)}};function BN(e){const t=Er(e);if(!t)return null;const r=new Iy(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1362:(En,Be,L)=>{"use strict";L.d(Be,{h1:()=>Ee,uA:()=>q});var T=L(467),O=L(6858);class q{constructor(we,ve,it){this.name=we,this.instanceFactory=ve,this.type=it,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(we){return this.instantiationMode=we,this}setMultipleInstances(we){return this.multipleInstances=we,this}setServiceProps(we){return this.serviceProps=we,this}setInstanceCreatedCallback(we){return this.onInstanceCreated=we,this}}const I="[DEFAULT]";class Ce{constructor(we,ve){this.name=we,this.container=ve,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(we){const ve=this.normalizeInstanceIdentifier(we);if(!this.instancesDeferred.has(ve)){const it=new O.cY;if(this.instancesDeferred.set(ve,it),this.isInitialized(ve)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:ve});ze&&it.resolve(ze)}catch{}}return this.instancesDeferred.get(ve).promise}getImmediate(we){var ve;const it=this.normalizeInstanceIdentifier(we?.identifier),ze=null!==(ve=we?.optional)&&void 0!==ve&&ve;if(!this.isInitialized(it)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:it})}catch(Je){if(ze)return null;throw Je}}getComponent(){return this.component}setComponent(we){if(we.name!==this.name)throw Error(`Mismatching Component ${we.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=we,this.shouldAutoInitialize()){if(function ge(je){return"EAGER"===je.instantiationMode}(we))try{this.getOrInitializeService({instanceIdentifier:I})}catch{}for(const[ve,it]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(ve);try{const Je=this.getOrInitializeService({instanceIdentifier:ze});it.resolve(Je)}catch{}}}}clearInstance(we=I){this.instancesDeferred.delete(we),this.instancesOptions.delete(we),this.instances.delete(we)}delete(){var we=this;return(0,T.A)(function*(){const ve=Array.from(we.instances.values());yield Promise.all([...ve.filter(it=>"INTERNAL"in it).map(it=>it.INTERNAL.delete()),...ve.filter(it=>"_delete"in it).map(it=>it._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(we=I){return this.instances.has(we)}getOptions(we=I){return this.instancesOptions.get(we)||{}}initialize(we={}){const{options:ve={}}=we,it=this.normalizeInstanceIdentifier(we.instanceIdentifier);if(this.isInitialized(it))throw Error(`${this.name}(${it}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:it,options:ve});for(const[Je,At]of this.instancesDeferred.entries())it===this.normalizeInstanceIdentifier(Je)&&At.resolve(ze);return ze}onInit(we,ve){var it;const ze=this.normalizeInstanceIdentifier(ve),Je=null!==(it=this.onInitCallbacks.get(ze))&&void 0!==it?it:new Set;Je.add(we),this.onInitCallbacks.set(ze,Je);const At=this.instances.get(ze);return At&&we(At,ze),()=>{Je.delete(we)}}invokeOnInitCallbacks(we,ve){const it=this.onInitCallbacks.get(ve);if(it)for(const ze of it)try{ze(we,ve)}catch{}}getOrInitializeService({instanceIdentifier:we,options:ve={}}){let it=this.instances.get(we);if(!it&&this.component&&(it=this.component.instanceFactory(this.container,{instanceIdentifier:(je=we,je===I?void 0:je),options:ve}),this.instances.set(we,it),this.instancesOptions.set(we,ve),this.invokeOnInitCallbacks(it,we),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,we,it)}catch{}var je;return it||null}normalizeInstanceIdentifier(we=I){return this.component?this.component.multipleInstances?we:I:we}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(we){this.name=we,this.providers=new Map}addComponent(we){const ve=this.getProvider(we.name);if(ve.isComponentSet())throw new Error(`Component ${we.name} has already been registered with ${this.name}`);ve.setComponent(we)}addOrOverwriteComponent(we){this.getProvider(we.name).isComponentSet()&&this.providers.delete(we.name),this.addComponent(we)}getProvider(we){if(this.providers.has(we))return this.providers.get(we);const ve=new Ce(we,this);return this.providers.set(we,ve),ve}getProviders(){return Array.from(this.providers.values())}}},1397:(En,Be,L)=>{"use strict";L.d(Be,{Z:()=>Ee});var T=L(6354),O=L(8750),q=L(9974),I=L(5225),Ce=L(4360),ge=L(8071);function Ee(je,we,ve=1/0){return(0,ge.T)(we)?Ee((it,ze)=>(0,T.T)((Je,At)=>we(it,Je,ze,At))((0,O.Tg)(je(it,ze))),ve):("number"==typeof we&&(ve=we),(0,q.N)((it,ze)=>function Xe(je,we,ve,it,ze,Je,At,Lt){const Nt=[];let Gt=0,ft=0,gt=!1;const _t=()=>{gt&&!Nt.length&&!Gt&&we.complete()},Re=qe=>Gt<it?Qe(qe):Nt.push(qe),Qe=qe=>{Je&&we.next(qe),Gt++;let vt=!1;(0,O.Tg)(ve(qe,ft++)).subscribe((0,Ce._)(we,Wt=>{ze?.(Wt),Je?Re(Wt):we.next(Wt)},()=>{vt=!0},void 0,()=>{if(vt)try{for(Gt--;Nt.length&&Gt<it;){const Wt=Nt.shift();At?(0,I.N)(we,At,()=>Qe(Wt)):Qe(Wt)}_t()}catch(Wt){we.error(Wt)}}))};return je.subscribe((0,Ce._)(we,Re,()=>{gt=!0,_t()})),()=>{Lt?.()}}(it,ze,je,ve)))}},1413:(En,Be,L)=>{"use strict";L.d(Be,{B:()=>ge});var T=L(1985),O=L(8359);const I=(0,L(1853).L)(je=>function(){je(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=L(7908),Xe=L(9786);let ge=(()=>{class je extends T.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ve){const it=new Ee(this,this);return it.operator=ve,it}_throwIfClosed(){if(this.closed)throw new I}next(ve){(0,Xe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const it of this.currentObservers)it.next(ve)}})}error(ve){(0,Xe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ve;const{observers:it}=this;for(;it.length;)it.shift().error(ve)}})}complete(){(0,Xe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ve}=this;for(;ve.length;)ve.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ve;return(null===(ve=this.observers)||void 0===ve?void 0:ve.length)>0}_trySubscribe(ve){return this._throwIfClosed(),super._trySubscribe(ve)}_subscribe(ve){return this._throwIfClosed(),this._checkFinalizedStatuses(ve),this._innerSubscribe(ve)}_innerSubscribe(ve){const{hasError:it,isStopped:ze,observers:Je}=this;return it||ze?O.Kn:(this.currentObservers=null,Je.push(ve),new O.yU(()=>{this.currentObservers=null,(0,Ce.o)(Je,ve)}))}_checkFinalizedStatuses(ve){const{hasError:it,thrownError:ze,isStopped:Je}=this;it?ve.error(ze):Je&&ve.complete()}asObservable(){const ve=new T.c;return ve.source=this,ve}}return je.create=(we,ve)=>new Ee(we,ve),je})();class Ee extends ge{constructor(we,ve){super(),this.destination=we,this.source=ve}next(we){var ve,it;null===(it=null===(ve=this.destination)||void 0===ve?void 0:ve.next)||void 0===it||it.call(ve,we)}error(we){var ve,it;null===(it=null===(ve=this.destination)||void 0===ve?void 0:ve.error)||void 0===it||it.call(ve,we)}complete(){var we,ve;null===(ve=null===(we=this.destination)||void 0===we?void 0:we.complete)||void 0===ve||ve.call(we)}_subscribe(we){var ve,it;return null!==(it=null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(we))&&void 0!==it?it:O.Kn}}},1635:(En,Be,L)=>{"use strict";function I(Y,ce){var le={};for(var fe in Y)Object.prototype.hasOwnProperty.call(Y,fe)&&ce.indexOf(fe)<0&&(le[fe]=Y[fe]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for(fe=Object.getOwnPropertySymbols(Y);ne<fe.length;ne++)ce.indexOf(fe[ne])<0&&Object.prototype.propertyIsEnumerable.call(Y,fe[ne])&&(le[fe[ne]]=Y[fe[ne]])}return le}function it(Y,ce,le,fe){return new(le||(le=Promise))(function(he,Ye){function Tt(Jn){try{Yt(fe.next(Jn))}catch(Rt){Ye(Rt)}}function rn(Jn){try{Yt(fe.throw(Jn))}catch(Rt){Ye(Rt)}}function Yt(Jn){Jn.done?he(Jn.value):function ne(he){return he instanceof le?he:new le(function(Ye){Ye(he)})}(Jn.value).then(Tt,rn)}Yt((fe=fe.apply(Y,ce||[])).next())})}function _t(Y){return this instanceof _t?(this.v=Y,this):new _t(Y)}function Re(Y,ce,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,fe=le.apply(Y,ce||[]),he=[];return ne=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Tt("next"),Tt("throw"),Tt("return",function Ye(Hn){return function(Kt){return Promise.resolve(Kt).then(Hn,Rt)}}),ne[Symbol.asyncIterator]=function(){return this},ne;function Tt(Hn,Kt){fe[Hn]&&(ne[Hn]=function(kn){return new Promise(function(er,ur){he.push([Hn,kn,er,ur])>1||rn(Hn,kn)})},Kt&&(ne[Hn]=Kt(ne[Hn])))}function rn(Hn,Kt){try{!function Yt(Hn){Hn.value instanceof _t?Promise.resolve(Hn.value.v).then(Jn,Rt):$n(he[0][2],Hn)}(fe[Hn](Kt))}catch(kn){$n(he[0][3],kn)}}function Jn(Hn){rn("next",Hn)}function Rt(Hn){rn("throw",Hn)}function $n(Hn,Kt){Hn(Kt),he.shift(),he.length&&rn(he[0][0],he[0][1])}}function qe(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ce=Y[Symbol.asyncIterator];return ce?ce.call(Y):(Y=function Lt(Y){var ce="function"==typeof Symbol&&Symbol.iterator,le=ce&&Y[ce],fe=0;if(le)return le.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&fe>=Y.length&&(Y=void 0),{value:Y&&Y[fe++],done:!Y}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),le={},fe("next"),fe("throw"),fe("return"),le[Symbol.asyncIterator]=function(){return this},le);function fe(he){le[he]=Y[he]&&function(Ye){return new Promise(function(Tt,rn){!function ne(he,Ye,Tt,rn){Promise.resolve(rn).then(function(Yt){he({value:Yt,done:Tt})},Ye)}(Tt,rn,(Ye=Y[he](Ye)).done,Ye.value)})}}}L.d(Be,{AQ:()=>Re,N3:()=>_t,Tt:()=>I,sH:()=>it,xN:()=>qe}),"function"==typeof SuppressedError&&SuppressedError},1853:(En,Be,L)=>{"use strict";function T(O){const I=O(Ce=>{Error.call(Ce),Ce.stack=(new Error).stack});return I.prototype=Object.create(Error.prototype),I.prototype.constructor=I,I}L.d(Be,{L:()=>T})},1985:(En,Be,L)=>{"use strict";L.d(Be,{c:()=>Ee});var T=L(7707),O=L(8359),q=L(3494),I=L(1203),Ce=L(1026),Xe=L(8071),ge=L(9786);let Ee=(()=>{class it{constructor(Je){Je&&(this._subscribe=Je)}lift(Je){const At=new it;return At.source=this,At.operator=Je,At}subscribe(Je,At,Lt){const Nt=function ve(it){return it&&it instanceof T.vU||function we(it){return it&&(0,Xe.T)(it.next)&&(0,Xe.T)(it.error)&&(0,Xe.T)(it.complete)}(it)&&(0,O.Uv)(it)}(Je)?Je:new T.Ms(Je,At,Lt);return(0,ge.Y)(()=>{const{operator:Gt,source:ft}=this;Nt.add(Gt?Gt.call(Nt,ft):ft?this._subscribe(Nt):this._trySubscribe(Nt))}),Nt}_trySubscribe(Je){try{return this._subscribe(Je)}catch(At){Je.error(At)}}forEach(Je,At){return new(At=je(At))((Lt,Nt)=>{const Gt=new T.Ms({next:ft=>{try{Je(ft)}catch(gt){Nt(gt),Gt.unsubscribe()}},error:Nt,complete:Lt});this.subscribe(Gt)})}_subscribe(Je){var At;return null===(At=this.source)||void 0===At?void 0:At.subscribe(Je)}[q.s](){return this}pipe(...Je){return(0,I.m)(Je)(this)}toPromise(Je){return new(Je=je(Je))((At,Lt)=>{let Nt;this.subscribe(Gt=>Nt=Gt,Gt=>Lt(Gt),()=>At(Nt))})}}return it.create=ze=>new it(ze),it})();function je(it){var ze;return null!==(ze=it??Ce.$.Promise)&&void 0!==ze?ze:Promise}},2107:(En,Be,L)=>{"use strict";L.d(Be,{wc:()=>Bs,c7:()=>Ls,Xm:()=>ri});var T=L(2967),O=L(1360),q=L(7440),I=L(4125),Ce=L(6335),Xe=L(2214),ge=L(467),Ee=L(7852),je=L(6858),we=L(1362);const ve="firebasestorage.googleapis.com";class Lt extends je.g{constructor(z,pe,Pe=0){super(Gt(z),`Firebase Storage: ${pe} (${Gt(z)})`),this.status_=Pe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Lt.prototype)}get status(){return this.status_}set status(z){this.status_=z}_codeEquals(z){return Gt(z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(z){this.customData.serverResponse=z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Nt=function(W){return W.UNKNOWN="unknown",W.OBJECT_NOT_FOUND="object-not-found",W.BUCKET_NOT_FOUND="bucket-not-found",W.PROJECT_NOT_FOUND="project-not-found",W.QUOTA_EXCEEDED="quota-exceeded",W.UNAUTHENTICATED="unauthenticated",W.UNAUTHORIZED="unauthorized",W.UNAUTHORIZED_APP="unauthorized-app",W.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",W.INVALID_CHECKSUM="invalid-checksum",W.CANCELED="canceled",W.INVALID_EVENT_NAME="invalid-event-name",W.INVALID_URL="invalid-url",W.INVALID_DEFAULT_BUCKET="invalid-default-bucket",W.NO_DEFAULT_BUCKET="no-default-bucket",W.CANNOT_SLICE_BLOB="cannot-slice-blob",W.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",W.NO_DOWNLOAD_URL="no-download-url",W.INVALID_ARGUMENT="invalid-argument",W.INVALID_ARGUMENT_COUNT="invalid-argument-count",W.APP_DELETED="app-deleted",W.INVALID_ROOT_OPERATION="invalid-root-operation",W.INVALID_FORMAT="invalid-format",W.INTERNAL_ERROR="internal-error",W.UNSUPPORTED_ENVIRONMENT="unsupported-environment",W}(Nt||{});function Gt(W){return"storage/"+W}function mt(W){return new Lt(Nt.INVALID_ARGUMENT,W)}function an(){return new Lt(Nt.APP_DELETED,"The Firebase app was deleted.")}class ce{constructor(z,pe){this.bucket=z,this.path_=pe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const z=encodeURIComponent;return"/b/"+z(this.bucket)+"/o/"+z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(z,pe){let Pe;try{Pe=ce.makeFromUrl(z,pe)}catch{return new ce(z,"")}if(""===Pe.path)return Pe;throw function ct(W){return new Lt(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+W+"'.")}(z)}static makeFromUrl(z,pe){let Pe=null;const ut="([A-Za-z0-9.\\-_]+)",Tn=new RegExp("^gs://"+ut+"(/(.*))?$","i");function hr(bi){bi.path_=decodeURIComponent(bi.path)}const Tr=pe.replace(/[.]/g,"\\."),di=[{regex:Tn,indices:{bucket:1,path:3},postModify:function Mt(bi){"/"===bi.path.charAt(bi.path.length-1)&&(bi.path_=bi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Tr}/v[A-Za-z0-9_]+/b/${ut}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:hr},{regex:new RegExp(`^https?://${pe===ve?"(?:storage.googleapis.com|storage.cloud.google.com)":pe}/${ut}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:hr}];for(let bi=0;bi<di.length;bi++){const _s=di[bi],Yr=_s.regex.exec(z);if(Yr){let As=Yr[_s.indices.path];As||(As=""),Pe=new ce(Yr[_s.indices.bucket],As),_s.postModify(Pe);break}}if(null==Pe)throw function st(W){return new Lt(Nt.INVALID_URL,"Invalid URL '"+W+"'.")}(z);return Pe}}class le{constructor(z){this.promise_=Promise.reject(z)}getPromise(){return this.promise_}cancel(z=!1){}}function Rt(W,z,pe,Pe){if(Pe<z)throw mt(`Invalid value for '${W}'. Expected ${z} or greater.`);if(Pe>pe)throw mt(`Invalid value for '${W}'. Expected ${pe} or less.`)}var Kt=function(W){return W[W.NO_ERROR=0]="NO_ERROR",W[W.NETWORK_ERROR=1]="NETWORK_ERROR",W[W.ABORT=2]="ABORT",W}(Kt||{});class er{constructor(z,pe,Pe,ut,Mt,Qt,Tn,yn,hr,zn,Tr,mi=!0,ui=!1){this.url_=z,this.method_=pe,this.headers_=Pe,this.body_=ut,this.successCodes_=Mt,this.additionalRetryCodes_=Qt,this.callback_=Tn,this.errorCallback_=yn,this.timeout_=hr,this.progressCallback_=zn,this.connectionFactory_=Tr,this.retry=mi,this.isUsingEmulator=ui,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ui,Mi)=>{this.resolve_=Ui,this.reject_=Mi,this.start_()})}start_(){const pe=(Pe,ut)=>{const Mt=this.resolve_,Qt=this.reject_,Tn=ut.connection;if(ut.wasSuccessCode)try{const yn=this.callback_(Tn,Tn.getResponse());!function he(W){return void 0!==W}(yn)?Mt():Mt(yn)}catch(yn){Qt(yn)}else if(null!==Tn){const yn=function ft(){return new Lt(Nt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();yn.serverResponse=Tn.getErrorText(),Qt(this.errorCallback_?this.errorCallback_(Tn,yn):yn)}else Qt(ut.canceled?this.appDelete_?an():function Wt(){return new Lt(Nt.CANCELED,"User canceled the upload/download.")}():function vt(){return new Lt(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?pe(0,new ur(!1,null,!0)):this.backoffId_=function fe(W,z,pe){let Pe=1,ut=null,Mt=null,Qt=!1,Tn=0;function yn(){return 2===Tn}let hr=!1;function zn(...li){hr||(hr=!0,z.apply(null,li))}function Tr(li){ut=setTimeout(()=>{ut=null,W(ui,yn())},li)}function mi(){Mt&&clearTimeout(Mt)}function ui(li,...is){if(hr)return void mi();if(li)return mi(),void zn.call(null,li,...is);if(yn()||Qt)return mi(),void zn.call(null,li,...is);let di;Pe<64&&(Pe*=2),1===Tn?(Tn=2,di=0):di=1e3*(Pe+Math.random()),Tr(di)}let Ui=!1;function Mi(li){Ui||(Ui=!0,mi(),!hr&&(null!==ut?(li||(Tn=2),clearTimeout(ut),Tr(0)):li||(Tn=1)))}return Tr(0),Mt=setTimeout(()=>{Qt=!0,Mi(!0)},pe),Mi}((Pe,ut)=>{if(ut)return void Pe(!1,new ur(!1,null,!0));const Mt=this.connectionFactory_();this.pendingConnection_=Mt;const Qt=Tn=>{null!==this.progressCallback_&&this.progressCallback_(Tn.loaded,Tn.lengthComputable?Tn.total:-1)};null!==this.progressCallback_&&Mt.addUploadProgressListener(Qt),Mt.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Mt.removeUploadProgressListener(Qt),this.pendingConnection_=null;const Tn=Mt.getErrorCode()===Kt.NO_ERROR,yn=Mt.getStatus();if(!Tn||function kn(W,z){const pe=W>=500&&W<600,ut=-1!==[408,429].indexOf(W),Mt=-1!==z.indexOf(W);return pe||ut||Mt}(yn,this.additionalRetryCodes_)&&this.retry){const zn=Mt.getErrorCode()===Kt.ABORT;return void Pe(!1,new ur(!1,null,zn))}const hr=-1!==this.successCodes_.indexOf(yn);Pe(!0,new ur(hr,Mt))})},pe,this.timeout_)}getPromise(){return this.promise_}cancel(z){this.canceled_=!0,this.appDelete_=z||!1,null!==this.backoffId_&&function ne(W){W(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ur{constructor(z,pe,Pe){this.wasSuccessCode=z,this.connection=pe,this.canceled=!!Pe}}class ar{constructor(z,pe){this._service=z,this._location=pe instanceof ce?pe:ce.makeFromUrl(pe,z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(z,pe){return new ar(z,pe)}get root(){const z=new ce(this._location.bucket,"");return this._newRef(this._service,z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function In(W){const z=W.lastIndexOf("/",W.length-2);return-1===z?W:W.slice(z+1)}(this._location.path)}get storage(){return this._service}get parent(){const z=function Ci(W){if(0===W.length)return null;const z=W.lastIndexOf("/");return-1===z?"":W.slice(0,z)}(this._location.path);if(null===z)return null;const pe=new ce(this._location.bucket,z);return new ar(this._service,pe)}_throwIfRoot(z){if(""===this._location.path)throw function Ot(W){return new Lt(Nt.INVALID_ROOT_OPERATION,"The operation '"+W+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(z)}}function vr(W,z){const pe=z?.storageBucket;return null==pe?null:ce.makeFromBucketSpec(pe,W)}class Dr{constructor(z,pe,Pe,ut,Mt,Qt=!1){this.app=z,this._authProvider=pe,this._appCheckProvider=Pe,this._url=ut,this._firebaseVersion=Mt,this._isUsingEmulator=Qt,this._bucket=null,this._host=ve,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ut?ce.makeFromBucketSpec(ut,this._host):vr(this._host,this.app.options)}get host(){return this._host}set host(z){this._host=z,this._bucket=null!=this._url?ce.makeFromBucketSpec(this._url,z):vr(z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(z){Rt("time",0,Number.POSITIVE_INFINITY,z),this._maxUploadRetryTime=z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(z){Rt("time",0,Number.POSITIVE_INFINITY,z),this._maxOperationRetryTime=z}_getAuthToken(){var z=this;return(0,ge.A)(function*(){if(z._overrideAuthToken)return z._overrideAuthToken;const pe=z._authProvider.getImmediate({optional:!0});if(pe){const Pe=yield pe.getToken();if(null!==Pe)return Pe.accessToken}return null})()}_getAppCheckToken(){var z=this;return(0,ge.A)(function*(){if((0,Ee.xZ)(z.app)&&z.app.settings.appCheckToken)return z.app.settings.appCheckToken;const pe=z._appCheckProvider.getImmediate({optional:!0});return pe?(yield pe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(z=>z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(z){return new ar(this,z)}_makeRequest(z,pe,Pe,ut,Mt=!0){if(this._deleted)return new le(an());{const Qt=function fr(W,z,pe,Pe,ut,Mt,Qt=!0,Tn=!1){const yn=function Hn(W){const z=encodeURIComponent;let pe="?";for(const Pe in W)W.hasOwnProperty(Pe)&&(pe=pe+(z(Pe)+"=")+z(W[Pe])+"&");return pe=pe.slice(0,-1),pe}(W.urlParams),hr=W.url+yn,zn=Object.assign({},W.headers);return function Wi(W,z){z&&(W["X-Firebase-GMPID"]=z)}(zn,z),function Br(W,z){null!==z&&z.length>0&&(W.Authorization="Firebase "+z)}(zn,pe),function Cr(W,z){W["X-Firebase-Storage-Version"]="webjs/"+(z??"AppManager")}(zn,Mt),function sn(W,z){null!==z&&(W["X-Firebase-AppCheck"]=z)}(zn,Pe),new er(hr,W.method,zn,W.body,W.successCodes,W.additionalRetryCodes,W.handler,W.errorHandler,W.timeout,W.progressCallback,ut,Qt,Tn)}(z,this._appId,Pe,ut,pe,this._firebaseVersion,Mt,this._isUsingEmulator);return this._requests.add(Qt),Qt.getPromise().then(()=>this._requests.delete(Qt),()=>this._requests.delete(Qt)),Qt}}makeRequestWithTokens(z,pe){var Pe=this;return(0,ge.A)(function*(){const[ut,Mt]=yield Promise.all([Pe._getAuthToken(),Pe._getAppCheckToken()]);return Pe._makeRequest(z,pe,ut,Mt).getPromise()})()}}const Qr="@firebase/storage",ci="0.13.12",Ki="storage";function yo(W=(0,Ee.Sx)(),z){W=(0,je.Ku)(W);const Pe=(0,Ee.j6)(W,Ki).getImmediate({identifier:z}),ut=(0,je.yU)("storage");return ut&&function mn(W,z,pe,Pe={}){!function Nn(W,z,pe,Pe={}){W.host=`${z}:${pe}`;const ut=(0,je.zJ)(z);ut&&((0,je.gE)(`https://${W.host}`),(0,je.P1)("Storage",!0)),W._isUsingEmulator=!0,W._protocol=ut?"https":"http";const{mockUserToken:Mt}=Pe;Mt&&(W._overrideAuthToken="string"==typeof Mt?Mt:(0,je.Fy)(Mt,W.app.options.projectId))}(W,z,pe,Pe)}(Pe,...ut),Pe}function xs(W,{instanceIdentifier:z}){const pe=W.getProvider("app").getImmediate(),Pe=W.getProvider("auth-internal"),ut=W.getProvider("app-check-internal");return new Dr(pe,Pe,ut,z,Ee.MF)}!function ro(){(0,Ee.om)(new we.uA(Ki,xs,"PUBLIC").setMultipleInstances(!0)),(0,Ee.KO)(Qr,ci,""),(0,Ee.KO)(Qr,ci,"esm2017")}();class Bs{constructor(z){return z}}const Co="storage",Os=new O.nKC("angularfire2.storage-instances");function js(W){return(z,pe)=>{const Pe=z.runOutsideAngular(()=>W(pe));return new Bs(Pe)}}const io={provide:class oo{constructor(){return(0,T.CA)(Co)}},deps:[[new O.Xx1,Os]]},Xr={provide:Bs,useFactory:function Ds(W,z){const pe=(0,T.lR)(Co,W,z);return pe&&new Bs(pe)},deps:[[new O.Xx1,Os],q.XU]};function ri(W,...z){return(0,Xe.KO)("angularfire",T.xv.full,"gcs"),(0,O.EmA)([Xr,io,{provide:Os,useFactory:js(W),multi:!0,deps:[O.SKi,O.zZn,T.u0,q.gL,[new O.Xx1,Ce.DF],[new O.Xx1,I.kR],...z]}])}const Ls=(0,T.S3)(yo,!0)},2214:(En,Be,L)=>{"use strict";L.d(Be,{Dk:()=>T.Dk,KO:()=>T.KO,Sx:()=>T.Sx,Wp:()=>T.Wp});var T=L(7852);(0,T.KO)("firebase","11.8.1","app")},2881:(En,Be,L)=>{"use strict";L.d(Be,{MD:()=>ls,Sq:()=>Fi,TG:()=>Ht,YU:()=>vn,bT:()=>ye,fw:()=>q,vh:()=>_e});var T=L(1360),O=L(6048);let q=(()=>{class B extends O.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(K,ee){super(),this._platformLocation=K,null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}path(K=!1){const ee=this._platformLocation.hash??"#";return ee.length>0?ee.substring(1):ee}prepareExternalUrl(K){const ee=(0,O.om)(this._baseHref,K);return ee.length>0?"#"+ee:ee}pushState(K,ee,Me,It){const nn=this.prepareExternalUrl(Me+(0,O.Q)(It))||this._platformLocation.pathname;this._platformLocation.pushState(K,ee,nn)}replaceState(K,ee,Me,It){const nn=this.prepareExternalUrl(Me+(0,O.Q)(It))||this._platformLocation.pathname;this._platformLocation.replaceState(K,ee,nn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(K=0){this._platformLocation.historyGo?.(K)}static \u0275fac=function(ee){return new(ee||B)(T.KVO(O.Vw),T.KVO(O.kB,8))};static \u0275prov=T.jDH({token:B,factory:B.\u0275fac})}return B})();var ge=function(B){return B[B.Format=0]="Format",B[B.Standalone=1]="Standalone",B}(ge||{}),Ee=function(B){return B[B.Narrow=0]="Narrow",B[B.Abbreviated=1]="Abbreviated",B[B.Wide=2]="Wide",B[B.Short=3]="Short",B}(Ee||{}),je=function(B){return B[B.Short=0]="Short",B[B.Medium=1]="Medium",B[B.Long=2]="Long",B[B.Full=3]="Full",B}(je||{});function ft(B,de){return _n((0,T.H5H)(B)[T.KH2.DateFormat],de)}function gt(B,de){return _n((0,T.H5H)(B)[T.KH2.TimeFormat],de)}function _t(B,de){return _n((0,T.H5H)(B)[T.KH2.DateTimeFormat],de)}function Re(B,de){const K=(0,T.H5H)(B),ee=K[T.KH2.NumberSymbols][de];if(typeof ee>"u"){if(12===de)return K[T.KH2.NumberSymbols][0];if(13===de)return K[T.KH2.NumberSymbols][1]}return ee}function Pn(B){if(!B[T.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${B[T.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _n(B,de){for(let K=de;K>-1;K--)if(typeof B[K]<"u")return B[K];throw new Error("Locale data API: locale data undefined")}function mt(B){const[de,K]=B.split(":");return{hours:+de,minutes:+K}}const Y=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ce={},le=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function fe(B,de,K,ee){let Me=function Nr(B){if(jr(B))return B;if("number"==typeof B&&!isNaN(B))return new Date(B);if("string"==typeof B){if(B=B.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(B)){const[Me,It=1,nn=1]=B.split("-").map(Cn=>+Cn);return ne(Me,It-1,nn)}const K=parseFloat(B);if(!isNaN(B-K))return new Date(K);let ee;if(ee=B.match(Y))return function ht(B){const de=new Date(0);let K=0,ee=0;const Me=B[8]?de.setUTCFullYear:de.setFullYear,It=B[8]?de.setUTCHours:de.setHours;B[9]&&(K=Number(B[9]+B[10]),ee=Number(B[9]+B[11])),Me.call(de,Number(B[1]),Number(B[2])-1,Number(B[3]));const nn=Number(B[4]||0)-K,Cn=Number(B[5]||0)-ee,ti=Number(B[6]||0),Kr=Math.floor(1e3*parseFloat("0."+(B[7]||0)));return It.call(de,nn,Cn,ti,Kr),de}(ee)}const de=new Date(B);if(!jr(de))throw new Error(`Unable to convert "${B}" into a date`);return de}(B);de=he(K,de)||de;let Cn,nn=[];for(;de;){if(Cn=le.exec(de),!Cn){nn.push(de);break}{nn=nn.concat(Cn.slice(1));const qr=nn.pop();if(!qr)break;de=qr}}let ti=Me.getTimezoneOffset();ee&&(ti=fr(ee,ti),Me=function Ji(B,de){const Me=B.getTimezoneOffset();return function dn(B,de){return(B=new Date(B.getTime())).setMinutes(B.getMinutes()+de),B}(B,-1*(fr(de,Me)-Me))}(Me,ee));let Kr="";return nn.forEach(qr=>{const vr=function sn(B){if(Wi[B])return Wi[B];let de;switch(B){case"G":case"GG":case"GGG":de=Rt(3,Ee.Abbreviated);break;case"GGGG":de=Rt(3,Ee.Wide);break;case"GGGGG":de=Rt(3,Ee.Narrow);break;case"y":de=Yt(0,1,0,!1,!0);break;case"yy":de=Yt(0,2,0,!0,!0);break;case"yyy":de=Yt(0,3,0,!1,!0);break;case"yyyy":de=Yt(0,4,0,!1,!0);break;case"Y":de=Cr(1);break;case"YY":de=Cr(2,!0);break;case"YYY":de=Cr(3);break;case"YYYY":de=Cr(4);break;case"M":case"L":de=Yt(1,1,1);break;case"MM":case"LL":de=Yt(1,2,1);break;case"MMM":de=Rt(2,Ee.Abbreviated);break;case"MMMM":de=Rt(2,Ee.Wide);break;case"MMMMM":de=Rt(2,Ee.Narrow);break;case"LLL":de=Rt(2,Ee.Abbreviated,ge.Standalone);break;case"LLLL":de=Rt(2,Ee.Wide,ge.Standalone);break;case"LLLLL":de=Rt(2,Ee.Narrow,ge.Standalone);break;case"w":de=Br(1);break;case"ww":de=Br(2);break;case"W":de=Br(1,!0);break;case"d":de=Yt(2,1);break;case"dd":de=Yt(2,2);break;case"c":case"cc":de=Yt(7,1);break;case"ccc":de=Rt(1,Ee.Abbreviated,ge.Standalone);break;case"cccc":de=Rt(1,Ee.Wide,ge.Standalone);break;case"ccccc":de=Rt(1,Ee.Narrow,ge.Standalone);break;case"cccccc":de=Rt(1,Ee.Short,ge.Standalone);break;case"E":case"EE":case"EEE":de=Rt(1,Ee.Abbreviated);break;case"EEEE":de=Rt(1,Ee.Wide);break;case"EEEEE":de=Rt(1,Ee.Narrow);break;case"EEEEEE":de=Rt(1,Ee.Short);break;case"a":case"aa":case"aaa":de=Rt(0,Ee.Abbreviated);break;case"aaaa":de=Rt(0,Ee.Wide);break;case"aaaaa":de=Rt(0,Ee.Narrow);break;case"b":case"bb":case"bbb":de=Rt(0,Ee.Abbreviated,ge.Standalone,!0);break;case"bbbb":de=Rt(0,Ee.Wide,ge.Standalone,!0);break;case"bbbbb":de=Rt(0,Ee.Narrow,ge.Standalone,!0);break;case"B":case"BB":case"BBB":de=Rt(0,Ee.Abbreviated,ge.Format,!0);break;case"BBBB":de=Rt(0,Ee.Wide,ge.Format,!0);break;case"BBBBB":de=Rt(0,Ee.Narrow,ge.Format,!0);break;case"h":de=Yt(3,1,-12);break;case"hh":de=Yt(3,2,-12);break;case"H":de=Yt(3,1);break;case"HH":de=Yt(3,2);break;case"m":de=Yt(4,1);break;case"mm":de=Yt(4,2);break;case"s":de=Yt(5,1);break;case"ss":de=Yt(5,2);break;case"S":de=Yt(6,1);break;case"SS":de=Yt(6,2);break;case"SSS":de=Yt(6,3);break;case"Z":case"ZZ":case"ZZZ":de=Hn(0);break;case"ZZZZZ":de=Hn(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":de=Hn(1);break;case"OOOO":case"ZZZZ":case"zzzz":de=Hn(2);break;default:return null}return Wi[B]=de,de}(qr);Kr+=vr?vr(Me,K,ti):"''"===qr?"'":qr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Kr}function ne(B,de,K){const ee=new Date(0);return ee.setFullYear(B,de,K),ee.setHours(0,0,0),ee}function he(B,de){const K=function it(B){return(0,T.H5H)(B)[T.KH2.LocaleId]}(B);if(ce[K]??={},ce[K][de])return ce[K][de];let ee="";switch(de){case"shortDate":ee=ft(B,je.Short);break;case"mediumDate":ee=ft(B,je.Medium);break;case"longDate":ee=ft(B,je.Long);break;case"fullDate":ee=ft(B,je.Full);break;case"shortTime":ee=gt(B,je.Short);break;case"mediumTime":ee=gt(B,je.Medium);break;case"longTime":ee=gt(B,je.Long);break;case"fullTime":ee=gt(B,je.Full);break;case"short":const Me=he(B,"shortTime"),It=he(B,"shortDate");ee=Ye(_t(B,je.Short),[Me,It]);break;case"medium":const nn=he(B,"mediumTime"),Cn=he(B,"mediumDate");ee=Ye(_t(B,je.Medium),[nn,Cn]);break;case"long":const ti=he(B,"longTime"),Kr=he(B,"longDate");ee=Ye(_t(B,je.Long),[ti,Kr]);break;case"full":const qr=he(B,"fullTime"),vr=he(B,"fullDate");ee=Ye(_t(B,je.Full),[qr,vr])}return ee&&(ce[K][de]=ee),ee}function Ye(B,de){return de&&(B=B.replace(/\{([^}]+)}/g,function(K,ee){return null!=de&&ee in de?de[ee]:K})),B}function Tt(B,de,K="-",ee,Me){let It="";(B<0||Me&&B<=0)&&(Me?B=1-B:(B=-B,It=K));let nn=String(B);for(;nn.length<de;)nn="0"+nn;return ee&&(nn=nn.slice(nn.length-de)),It+nn}function Yt(B,de,K=0,ee=!1,Me=!1){return function(It,nn){let Cn=function Jn(B,de){switch(B){case 0:return de.getFullYear();case 1:return de.getMonth();case 2:return de.getDate();case 3:return de.getHours();case 4:return de.getMinutes();case 5:return de.getSeconds();case 6:return de.getMilliseconds();case 7:return de.getDay();default:throw new Error(`Unknown DateType value "${B}".`)}}(B,It);if((K>0||Cn>-K)&&(Cn+=K),3===B)0===Cn&&-12===K&&(Cn=12);else if(6===B)return function rn(B,de){return Tt(B,3).substring(0,de)}(Cn,de);const ti=Re(nn,5);return Tt(Cn,de,ti,ee,Me)}}function Rt(B,de,K=ge.Format,ee=!1){return function(Me,It){return function $n(B,de,K,ee,Me,It){switch(K){case 2:return function At(B,de,K){const ee=(0,T.H5H)(B),It=_n([ee[T.KH2.MonthsFormat],ee[T.KH2.MonthsStandalone]],de);return _n(It,K)}(de,Me,ee)[B.getMonth()];case 1:return function Je(B,de,K){const ee=(0,T.H5H)(B),It=_n([ee[T.KH2.DaysFormat],ee[T.KH2.DaysStandalone]],de);return _n(It,K)}(de,Me,ee)[B.getDay()];case 0:const nn=B.getHours(),Cn=B.getMinutes();if(It){const Kr=function xn(B){const de=(0,T.H5H)(B);return Pn(de),(de[T.KH2.ExtraData][2]||[]).map(ee=>"string"==typeof ee?mt(ee):[mt(ee[0]),mt(ee[1])])}(de),qr=function On(B,de,K){const ee=(0,T.H5H)(B);Pn(ee);const It=_n([ee[T.KH2.ExtraData][0],ee[T.KH2.ExtraData][1]],de)||[];return _n(It,K)||[]}(de,Me,ee),vr=Kr.findIndex(Nn=>{if(Array.isArray(Nn)){const[Dr,Qr]=Nn,ci=nn>=Dr.hours&&Cn>=Dr.minutes,Ki=nn<Qr.hours||nn===Qr.hours&&Cn<Qr.minutes;if(Dr.hours<Qr.hours){if(ci&&Ki)return!0}else if(ci||Ki)return!0}else if(Nn.hours===nn&&Nn.minutes===Cn)return!0;return!1});if(-1!==vr)return qr[vr]}return function ze(B,de,K){const ee=(0,T.H5H)(B),It=_n([ee[T.KH2.DayPeriodsFormat],ee[T.KH2.DayPeriodsStandalone]],de);return _n(It,K)}(de,Me,ee)[nn<12?0:1];case 3:return function Lt(B,de){return _n((0,T.H5H)(B)[T.KH2.Eras],de)}(de,ee)[B.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${K}`)}}(Me,It,B,de,K,ee)}}function Hn(B){return function(de,K,ee){const Me=-1*ee,It=Re(K,5),nn=Me>0?Math.floor(Me/60):Math.ceil(Me/60);switch(B){case 0:return(Me>=0?"+":"")+Tt(nn,2,It)+Tt(Math.abs(Me%60),2,It);case 1:return"GMT"+(Me>=0?"+":"")+Tt(nn,1,It);case 2:return"GMT"+(Me>=0?"+":"")+Tt(nn,2,It)+":"+Tt(Math.abs(Me%60),2,It);case 3:return 0===ee?"Z":(Me>=0?"+":"")+Tt(nn,2,It)+":"+Tt(Math.abs(Me%60),2,It);default:throw new Error(`Unknown zone width "${B}"`)}}}const Kt=0,kn=4;function ur(B){const de=B.getDay(),K=0===de?-3:kn-de;return ne(B.getFullYear(),B.getMonth(),B.getDate()+K)}function Br(B,de=!1){return function(K,ee){let Me;if(de){const It=new Date(K.getFullYear(),K.getMonth(),1).getDay()-1,nn=K.getDate();Me=1+Math.floor((nn+It)/7)}else{const It=ur(K),nn=function er(B){const de=ne(B,Kt,1).getDay();return ne(B,0,1+(de<=kn?kn:kn+7)-de)}(It.getFullYear()),Cn=It.getTime()-nn.getTime();Me=1+Math.round(Cn/6048e5)}return Tt(Me,B,Re(ee,5))}}function Cr(B,de=!1){return function(K,ee){return Tt(ur(K).getFullYear(),B,Re(ee,5),de)}}const Wi={};function fr(B,de){B=B.replace(/:/g,"");const K=Date.parse("Jan 01, 1970 00:00:00 "+B)/6e4;return isNaN(K)?de:K}function jr(B){return B instanceof Date&&!isNaN(B.valueOf())}const gi=/\s+/,Oi=[];let vn=(()=>{class B{_ngEl;_renderer;initialClasses=Oi;rawClass;stateMap=new Map;constructor(K,ee){this._ngEl=K,this._renderer=ee}set klass(K){this.initialClasses=null!=K?K.trim().split(gi):Oi}set ngClass(K){this.rawClass="string"==typeof K?K.trim().split(gi):K}ngDoCheck(){for(const ee of this.initialClasses)this._updateState(ee,!0);const K=this.rawClass;if(Array.isArray(K)||K instanceof Set)for(const ee of K)this._updateState(ee,!0);else if(null!=K)for(const ee of Object.keys(K))this._updateState(ee,!!K[ee]);this._applyStateDiff()}_updateState(K,ee){const Me=this.stateMap.get(K);void 0!==Me?(Me.enabled!==ee&&(Me.changed=!0,Me.enabled=ee),Me.touched=!0):this.stateMap.set(K,{enabled:ee,changed:!0,touched:!0})}_applyStateDiff(){for(const K of this.stateMap){const ee=K[0],Me=K[1];Me.changed?(this._toggleClass(ee,Me.enabled),Me.changed=!1):Me.touched||(Me.enabled&&this._toggleClass(ee,!1),this.stateMap.delete(ee)),Me.touched=!1}}_toggleClass(K,ee){(K=K.trim()).length>0&&K.split(gi).forEach(Me=>{ee?this._renderer.addClass(this._ngEl.nativeElement,Me):this._renderer.removeClass(this._ngEl.nativeElement,Me)})}static \u0275fac=function(ee){return new(ee||B)(T.rXU(T.aKT),T.rXU(T.sFG))};static \u0275dir=T.FsC({type:B,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return B})();class $i{$implicit;ngForOf;index;count;constructor(de,K,ee,Me){this.$implicit=de,this.ngForOf=K,this.index=ee,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fi=(()=>{class B{_viewContainer;_template;_differs;set ngForOf(K){this._ngForOf=K,this._ngForOfDirty=!0}set ngForTrackBy(K){this._trackByFn=K}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(K,ee,Me){this._viewContainer=K,this._template=ee,this._differs=Me}set ngForTemplate(K){K&&(this._template=K)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const K=this._ngForOf;!this._differ&&K&&(this._differ=this._differs.find(K).create(this.ngForTrackBy))}if(this._differ){const K=this._differ.diff(this._ngForOf);K&&this._applyChanges(K)}}_applyChanges(K){const ee=this._viewContainer;K.forEachOperation((Me,It,nn)=>{if(null==Me.previousIndex)ee.createEmbeddedView(this._template,new $i(Me.item,this._ngForOf,-1,-1),null===nn?void 0:nn);else if(null==nn)ee.remove(null===It?void 0:It);else if(null!==It){const Cn=ee.get(It);ee.move(Cn,nn),Li(Cn,Me)}});for(let Me=0,It=ee.length;Me<It;Me++){const Cn=ee.get(Me).context;Cn.index=Me,Cn.count=It,Cn.ngForOf=this._ngForOf}K.forEachIdentityChange(Me=>{Li(ee.get(Me.currentIndex),Me)})}static ngTemplateContextGuard(K,ee){return!0}static \u0275fac=function(ee){return new(ee||B)(T.rXU(T.c1b),T.rXU(T.C4Q),T.rXU(T._q3))};static \u0275dir=T.FsC({type:B,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return B})();function Li(B,de){B.context.$implicit=de.item}let ye=(()=>{class B{_viewContainer;_context=new Ve;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(K,ee){this._viewContainer=K,this._thenTemplateRef=ee}set ngIf(K){this._context.$implicit=this._context.ngIf=K,this._updateView()}set ngIfThen(K){xt(K),this._thenTemplateRef=K,this._thenViewRef=null,this._updateView()}set ngIfElse(K){xt(K),this._elseTemplateRef=K,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(K,ee){return!0}static \u0275fac=function(ee){return new(ee||B)(T.rXU(T.c1b),T.rXU(T.C4Q))};static \u0275dir=T.FsC({type:B,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return B})();class Ve{$implicit=null;ngIf=null}function xt(B,de){if(B&&!B.createEmbeddedView)throw new T.wOt(2020,!1)}const ai=new T.nKC(""),Ti=new T.nKC("");let _e=(()=>{class B{locale;defaultTimezone;defaultOptions;constructor(K,ee,Me){this.locale=K,this.defaultTimezone=ee,this.defaultOptions=Me}transform(K,ee,Me,It){if(null==K||""===K||K!=K)return null;try{return fe(K,ee??this.defaultOptions?.dateFormat??"mediumDate",It||this.locale,Me??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(nn){throw function me(B,de){return new T.wOt(2100,!1)}()}}static \u0275fac=function(ee){return new(ee||B)(T.rXU(T.xe9,16),T.rXU(ai,24),T.rXU(Ti,24))};static \u0275pipe=T.EJ8({name:"date",type:B,pure:!0})}return B})(),Ht=(()=>{class B{transform(K){return JSON.stringify(K,null,2)}static \u0275fac=function(ee){return new(ee||B)};static \u0275pipe=T.EJ8({name:"json",type:B,pure:!1})}return B})(),ls=(()=>{class B{static \u0275fac=function(ee){return new(ee||B)};static \u0275mod=T.$C({type:B});static \u0275inj=T.G2t({})}return B})()},2967:(En,Be,L)=>{"use strict";L.d(Be,{xv:()=>Qe,u0:()=>On,CA:()=>Wt,lR:()=>vt,S3:()=>He});var T=L(1360),O=L(2214),q=L(1985);function it(Y){void 0===Y&&((0,T.Af3)(it),Y=(0,T.WQX)(T.zZn));const ce=Y.get(T.u5s);return le=>new q.c(fe=>{const ne=ce.add();let he=!1;function Ye(){he||(ne(),he=!0)}const Tt=le.subscribe({next:rn=>{fe.next(rn),Ye()},complete:()=>{fe.complete(),Ye()},error:rn=>{fe.error(rn),Ye()}});return Tt.add(()=>{fe.unsubscribe(),Ye()}),Tt})}var Je=L(6780),Lt=L(3604);const Gt=new class Nt extends Lt.q{}(class At extends Je.R{constructor(ce,le){super(ce,le),this.scheduler=ce,this.work=le}schedule(ce,le=0){return le>0?super.schedule(ce,le):(this.delay=le,this.state=ce,this.scheduler.flush(this),this)}execute(ce,le){return le>0||this.closed?super.execute(ce,le):this._execute(ce,le)}requestAsyncId(ce,le,fe=0){return null!=fe&&fe>0||null==fe&&this.delay>0?super.requestAsyncId(ce,le,fe):(ce.flush(this),0)}});var gt=L(3236),_t=L(6745),Re=L(941);const Qe=new T.RxE("ANGULARFIRE2_VERSION");function vt(Y,ce,le){if(ce){if(1===ce.length)return ce[0];const he=ce.filter(Ye=>Ye.app===le);if(1===he.length)return he[0]}return le.container.getProvider(Y).getImmediate({optional:!0})}const Wt=(Y,ce)=>{const le=ce?[ce]:(0,O.Dk)(),fe=[];return le.forEach(ne=>{ne.container.getProvider(Y).instances.forEach(Ye=>{fe.includes(Ye)||fe.push(Ye)})}),fe};var st=function(Y){return Y[Y.SILENT=0]="SILENT",Y[Y.WARN=1]="WARN",Y[Y.VERBOSE=2]="VERBOSE",Y}(st||{}),ct=(0,T.naY)()&&typeof Zone<"u"?st.WARN:st.SILENT;class xn{zone;delegate;constructor(ce,le=Gt){this.zone=ce,this.delegate=le}now(){return this.delegate.now()}schedule(ce,le,fe){const ne=this.zone;return this.delegate.schedule(function(Ye){ne?ne.runGuarded(()=>{ce.apply(this,[Ye])}):ce.apply(this,[Ye])},le,fe)}}let On=(()=>{class Y{outsideAngular;insideAngular;constructor(){const le=(0,T.WQX)(T.SKi);this.outsideAngular=le.runOutsideAngular(()=>new xn(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=le.run(()=>new xn(typeof Zone>"u"?void 0:Zone.current,gt.E))}static \u0275fac=function(fe){return new(fe||Y)};static \u0275prov=T.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();var nt=!1;function an(Y){const ce=(0,T.WQX)(T.SKi,{optional:!0});return ce?ce.run(()=>Y()):Y()}const Ot=(Y,ce,le)=>(...fe)=>(ce&&setTimeout(ce,0),(0,T.N4e)(le,()=>an(()=>Y.apply(void 0,fe)))),He=(Y,ce,le)=>(le||=ce?st.WARN:st.VERBOSE,function(){let fe;const ne=arguments;let he,Ye,Tt;try{he=(0,T.WQX)(On),Ye=(0,T.WQX)(T.u5s),Tt=(0,T.WQX)(T.uvJ)}catch{return function _n(Y,ce){!nt&&(ct>st.SILENT||(0,T.naY)())&&(nt=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ct>=ce&&console.warn(`Firebase API called outside injection context: ${Y.name}`)}(Y,le),Y.apply(this,ne)}for(let Yt=0;Yt<arguments.length;Yt++)"function"==typeof ne[Yt]&&(ce&&(fe||=an(()=>Ye.add())),ne[Yt]=Ot(ne[Yt],fe,Tt));const rn=function mt(Y){const ce=(0,T.WQX)(T.SKi,{optional:!0});return ce?ce.runOutsideAngular(()=>Y()):Y()}(()=>Y.apply(this,ne));return ce?rn instanceof q.c?rn.pipe((0,_t._)(he.outsideAngular),(0,Re.Q)(he.insideAngular),it(Tt)):rn instanceof Promise?an(()=>new Promise((Yt,Jn)=>{Ye.run(()=>rn).then(Rt=>(0,T.N4e)(Tt,()=>an(()=>Yt(Rt))),Rt=>(0,T.N4e)(Tt,()=>an(()=>Jn(Rt))))})):"function"==typeof rn&&fe?function(){return setTimeout(fe,0),rn.apply(this,arguments)}:an(()=>rn):rn instanceof q.c?rn.pipe((0,_t._)(he.outsideAngular),(0,Re.Q)(he.insideAngular)):an(()=>rn)})},3073:(En,Be,L)=>{"use strict";L.d(Be,{D:()=>Ce});const{isArray:T}=Array,{getPrototypeOf:O,prototype:q,keys:I}=Object;function Ce(ge){if(1===ge.length){const Ee=ge[0];if(T(Ee))return{args:Ee,keys:null};if(function Xe(ge){return ge&&"object"==typeof ge&&O(ge)===q}(Ee)){const je=I(Ee);return{args:je.map(we=>Ee[we]),keys:je}}}return{args:ge,keys:null}}},3236:(En,Be,L)=>{"use strict";L.d(Be,{E:()=>q,b:()=>I});var T=L(6780);const q=new(L(3604).q)(T.R),I=q},3273:(En,Be,L)=>{"use strict";L.d(Be,{Dc:()=>fr,rJ:()=>qE,kd:()=>iv,H9:()=>L_,x7:()=>ST,GG:()=>RT,aU:()=>Sm,aQ:()=>fw,P:()=>Z_,BN:()=>kp,mZ:()=>rv,_M:()=>rw});var Ee,je,T=L(467),O=L(7852),q=L(1362),I=L(8041),Ce=L(6858),Xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge={};(function(){var c;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(rt,ke,$e){$e||($e=0);var at=Array(16);if("string"==typeof ke)for(var lt=0;16>lt;++lt)at[lt]=ke.charCodeAt($e++)|ke.charCodeAt($e++)<<8|ke.charCodeAt($e++)<<16|ke.charCodeAt($e++)<<24;else for(lt=0;16>lt;++lt)at[lt]=ke[$e++]|ke[$e++]<<8|ke[$e++]<<16|ke[$e++]<<24;var bt=rt.g[3],Ue=(ke=rt.g[0])+(bt^($e=rt.g[1])&((lt=rt.g[2])^bt))+at[0]+3614090360&4294967295;Ue=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=($e=(lt=(bt=(ke=$e+(Ue<<7&4294967295|Ue>>>25))+((Ue=bt+(lt^ke&($e^lt))+at[1]+3905402710&4294967295)<<12&4294967295|Ue>>>20))+((Ue=lt+($e^bt&(ke^$e))+at[2]+606105819&4294967295)<<17&4294967295|Ue>>>15))+((Ue=$e+(ke^lt&(bt^ke))+at[3]+3250441966&4294967295)<<22&4294967295|Ue>>>10))+((Ue=ke+(bt^$e&(lt^bt))+at[4]+4118548399&4294967295)<<7&4294967295|Ue>>>25))+((Ue=bt+(lt^ke&($e^lt))+at[5]+1200080426&4294967295)<<12&4294967295|Ue>>>20))+((Ue=lt+($e^bt&(ke^$e))+at[6]+2821735955&4294967295)<<17&4294967295|Ue>>>15))+((Ue=$e+(ke^lt&(bt^ke))+at[7]+4249261313&4294967295)<<22&4294967295|Ue>>>10))+((Ue=ke+(bt^$e&(lt^bt))+at[8]+1770035416&4294967295)<<7&4294967295|Ue>>>25))+((Ue=bt+(lt^ke&($e^lt))+at[9]+2336552879&4294967295)<<12&4294967295|Ue>>>20))+((Ue=lt+($e^bt&(ke^$e))+at[10]+4294925233&4294967295)<<17&4294967295|Ue>>>15))+((Ue=$e+(ke^lt&(bt^ke))+at[11]+2304563134&4294967295)<<22&4294967295|Ue>>>10))+((Ue=ke+(bt^$e&(lt^bt))+at[12]+1804603682&4294967295)<<7&4294967295|Ue>>>25))+((Ue=bt+(lt^ke&($e^lt))+at[13]+4254626195&4294967295)<<12&4294967295|Ue>>>20))+((Ue=lt+($e^bt&(ke^$e))+at[14]+2792965006&4294967295)<<17&4294967295|Ue>>>15))+((Ue=$e+(ke^lt&(bt^ke))+at[15]+1236535329&4294967295)<<22&4294967295|Ue>>>10))+((Ue=ke+(lt^bt&($e^lt))+at[1]+4129170786&4294967295)<<5&4294967295|Ue>>>27))+((Ue=bt+($e^lt&(ke^$e))+at[6]+3225465664&4294967295)<<9&4294967295|Ue>>>23))+((Ue=lt+(ke^$e&(bt^ke))+at[11]+643717713&4294967295)<<14&4294967295|Ue>>>18))+((Ue=$e+(bt^ke&(lt^bt))+at[0]+3921069994&4294967295)<<20&4294967295|Ue>>>12))+((Ue=ke+(lt^bt&($e^lt))+at[5]+3593408605&4294967295)<<5&4294967295|Ue>>>27))+((Ue=bt+($e^lt&(ke^$e))+at[10]+38016083&4294967295)<<9&4294967295|Ue>>>23))+((Ue=lt+(ke^$e&(bt^ke))+at[15]+3634488961&4294967295)<<14&4294967295|Ue>>>18))+((Ue=$e+(bt^ke&(lt^bt))+at[4]+3889429448&4294967295)<<20&4294967295|Ue>>>12))+((Ue=ke+(lt^bt&($e^lt))+at[9]+568446438&4294967295)<<5&4294967295|Ue>>>27))+((Ue=bt+($e^lt&(ke^$e))+at[14]+3275163606&4294967295)<<9&4294967295|Ue>>>23))+((Ue=lt+(ke^$e&(bt^ke))+at[3]+4107603335&4294967295)<<14&4294967295|Ue>>>18))+((Ue=$e+(bt^ke&(lt^bt))+at[8]+1163531501&4294967295)<<20&4294967295|Ue>>>12))+((Ue=ke+(lt^bt&($e^lt))+at[13]+2850285829&4294967295)<<5&4294967295|Ue>>>27))+((Ue=bt+($e^lt&(ke^$e))+at[2]+4243563512&4294967295)<<9&4294967295|Ue>>>23))+((Ue=lt+(ke^$e&(bt^ke))+at[7]+1735328473&4294967295)<<14&4294967295|Ue>>>18))+((Ue=$e+(bt^ke&(lt^bt))+at[12]+2368359562&4294967295)<<20&4294967295|Ue>>>12))+((Ue=ke+($e^lt^bt)+at[5]+4294588738&4294967295)<<4&4294967295|Ue>>>28))+((Ue=bt+(ke^$e^lt)+at[8]+2272392833&4294967295)<<11&4294967295|Ue>>>21))+((Ue=lt+(bt^ke^$e)+at[11]+1839030562&4294967295)<<16&4294967295|Ue>>>16))+((Ue=$e+(lt^bt^ke)+at[14]+4259657740&4294967295)<<23&4294967295|Ue>>>9))+((Ue=ke+($e^lt^bt)+at[1]+2763975236&4294967295)<<4&4294967295|Ue>>>28))+((Ue=bt+(ke^$e^lt)+at[4]+1272893353&4294967295)<<11&4294967295|Ue>>>21))+((Ue=lt+(bt^ke^$e)+at[7]+4139469664&4294967295)<<16&4294967295|Ue>>>16))+((Ue=$e+(lt^bt^ke)+at[10]+3200236656&4294967295)<<23&4294967295|Ue>>>9))+((Ue=ke+($e^lt^bt)+at[13]+681279174&4294967295)<<4&4294967295|Ue>>>28))+((Ue=bt+(ke^$e^lt)+at[0]+3936430074&4294967295)<<11&4294967295|Ue>>>21))+((Ue=lt+(bt^ke^$e)+at[3]+3572445317&4294967295)<<16&4294967295|Ue>>>16))+((Ue=$e+(lt^bt^ke)+at[6]+76029189&4294967295)<<23&4294967295|Ue>>>9))+((Ue=ke+($e^lt^bt)+at[9]+3654602809&4294967295)<<4&4294967295|Ue>>>28))+((Ue=bt+(ke^$e^lt)+at[12]+3873151461&4294967295)<<11&4294967295|Ue>>>21))+((Ue=lt+(bt^ke^$e)+at[15]+530742520&4294967295)<<16&4294967295|Ue>>>16))+((Ue=$e+(lt^bt^ke)+at[2]+3299628645&4294967295)<<23&4294967295|Ue>>>9))+((Ue=ke+(lt^($e|~bt))+at[0]+4096336452&4294967295)<<6&4294967295|Ue>>>26))+((Ue=bt+($e^(ke|~lt))+at[7]+1126891415&4294967295)<<10&4294967295|Ue>>>22))+((Ue=lt+(ke^(bt|~$e))+at[14]+2878612391&4294967295)<<15&4294967295|Ue>>>17))+((Ue=$e+(bt^(lt|~ke))+at[5]+4237533241&4294967295)<<21&4294967295|Ue>>>11))+((Ue=ke+(lt^($e|~bt))+at[12]+1700485571&4294967295)<<6&4294967295|Ue>>>26))+((Ue=bt+($e^(ke|~lt))+at[3]+2399980690&4294967295)<<10&4294967295|Ue>>>22))+((Ue=lt+(ke^(bt|~$e))+at[10]+4293915773&4294967295)<<15&4294967295|Ue>>>17))+((Ue=$e+(bt^(lt|~ke))+at[1]+2240044497&4294967295)<<21&4294967295|Ue>>>11))+((Ue=ke+(lt^($e|~bt))+at[8]+1873313359&4294967295)<<6&4294967295|Ue>>>26))+((Ue=bt+($e^(ke|~lt))+at[15]+4264355552&4294967295)<<10&4294967295|Ue>>>22))+((Ue=lt+(ke^(bt|~$e))+at[6]+2734768916&4294967295)<<15&4294967295|Ue>>>17))+((Ue=$e+(bt^(lt|~ke))+at[13]+1309151649&4294967295)<<21&4294967295|Ue>>>11))+((bt=(ke=$e+((Ue=ke+(lt^($e|~bt))+at[4]+4149444226&4294967295)<<6&4294967295|Ue>>>26))+((Ue=bt+($e^(ke|~lt))+at[11]+3174756917&4294967295)<<10&4294967295|Ue>>>22))^((lt=bt+((Ue=lt+(ke^(bt|~$e))+at[2]+718787259&4294967295)<<15&4294967295|Ue>>>17))|~ke))+at[9]+3951481745&4294967295,rt.g[0]=rt.g[0]+ke&4294967295,rt.g[1]=rt.g[1]+(lt+(Ue<<21&4294967295|Ue>>>11))&4294967295,rt.g[2]=rt.g[2]+lt&4294967295,rt.g[3]=rt.g[3]+bt&4294967295}function E(rt,ke){this.h=ke;for(var $e=[],at=!0,lt=rt.length-1;0<=lt;lt--){var bt=0|rt[lt];at&&bt==ke||($e[lt]=bt,at=!1)}this.g=$e}(function n(rt,ke){function $e(){}$e.prototype=ke.prototype,rt.D=ke.prototype,rt.prototype=new $e,rt.prototype.constructor=rt,rt.C=function(at,lt,bt){for(var Ue=Array(arguments.length-2),Cu=2;Cu<arguments.length;Cu++)Ue[Cu-2]=arguments[Cu];return ke.prototype[lt].apply(at,Ue)}})(o,function i(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(rt,ke){void 0===ke&&(ke=rt.length);for(var $e=ke-this.blockSize,at=this.B,lt=this.h,bt=0;bt<ke;){if(0==lt)for(;bt<=$e;)u(this,rt,bt),bt+=this.blockSize;if("string"==typeof rt){for(;bt<ke;)if(at[lt++]=rt.charCodeAt(bt++),lt==this.blockSize){u(this,at),lt=0;break}}else for(;bt<ke;)if(at[lt++]=rt[bt++],lt==this.blockSize){u(this,at),lt=0;break}}this.h=lt,this.o+=ke},o.prototype.v=function(){var rt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);rt[0]=128;for(var ke=1;ke<rt.length-8;++ke)rt[ke]=0;var $e=8*this.o;for(ke=rt.length-8;ke<rt.length;++ke)rt[ke]=255&$e,$e/=256;for(this.u(rt),rt=Array(16),ke=$e=0;4>ke;++ke)for(var at=0;32>at;at+=8)rt[$e++]=this.g[ke]>>>at&255;return rt};var R={};function N(rt){return-128<=rt&&128>rt?function p(rt,ke){var $e=R;return Object.prototype.hasOwnProperty.call($e,rt)?$e[rt]:$e[rt]=ke(rt)}(rt,function(ke){return new E([0|ke],0>ke?-1:0)}):new E([0|rt],0>rt?-1:0)}function V(rt){if(isNaN(rt)||!isFinite(rt))return se;if(0>rt)return tn(V(-rt));for(var ke=[],$e=1,at=0;rt>=$e;at++)ke[at]=rt/$e|0,$e*=4294967296;return new E(ke,0)}var se=N(0),xe=N(1),Et=N(16777216);function $t(rt){if(0!=rt.h)return!1;for(var ke=0;ke<rt.g.length;ke++)if(0!=rt.g[ke])return!1;return!0}function on(rt){return-1==rt.h}function tn(rt){for(var ke=rt.g.length,$e=[],at=0;at<ke;at++)$e[at]=~rt.g[at];return new E($e,~rt.h).add(xe)}function Qn(rt,ke){return rt.add(tn(ke))}function tr(rt,ke){for(;(65535&rt[ke])!=rt[ke];)rt[ke+1]+=rt[ke]>>>16,rt[ke]&=65535,ke++}function Sn(rt,ke){this.g=rt,this.h=ke}function kr(rt,ke){if($t(ke))throw Error("division by zero");if($t(rt))return new Sn(se,se);if(on(rt))return ke=kr(tn(rt),ke),new Sn(tn(ke.g),tn(ke.h));if(on(ke))return ke=kr(rt,tn(ke)),new Sn(tn(ke.g),ke.h);if(30<rt.g.length){if(on(rt)||on(ke))throw Error("slowDivide_ only works with positive integers.");for(var $e=xe,at=ke;0>=at.l(rt);)$e=Ni($e),at=Ni(at);var lt=ni($e,1),bt=ni(at,1);for(at=ni(at,2),$e=ni($e,2);!$t(at);){var Ue=bt.add(at);0>=Ue.l(rt)&&(lt=lt.add($e),bt=Ue),at=ni(at,1),$e=ni($e,1)}return ke=Qn(rt,lt.j(ke)),new Sn(lt,ke)}for(lt=se;0<=rt.l(ke);){for($e=Math.max(1,Math.floor(rt.m()/ke.m())),at=48>=(at=Math.ceil(Math.log($e)/Math.LN2))?1:Math.pow(2,at-48),Ue=(bt=V($e)).j(ke);on(Ue)||0<Ue.l(rt);)Ue=(bt=V($e-=at)).j(ke);$t(bt)&&(bt=xe),lt=lt.add(bt),rt=Qn(rt,Ue)}return new Sn(lt,rt)}function Ni(rt){for(var ke=rt.g.length+1,$e=[],at=0;at<ke;at++)$e[at]=rt.i(at)<<1|rt.i(at-1)>>>31;return new E($e,rt.h)}function ni(rt,ke){var $e=ke>>5;ke%=32;for(var at=rt.g.length-$e,lt=[],bt=0;bt<at;bt++)lt[bt]=0<ke?rt.i(bt+$e)>>>ke|rt.i(bt+$e+1)<<32-ke:rt.i(bt+$e);return new E(lt,rt.h)}(c=E.prototype).m=function(){if(on(this))return-tn(this).m();for(var rt=0,ke=1,$e=0;$e<this.g.length;$e++){var at=this.i($e);rt+=(0<=at?at:4294967296+at)*ke,ke*=4294967296}return rt},c.toString=function(rt){if(2>(rt=rt||10)||36<rt)throw Error("radix out of range: "+rt);if($t(this))return"0";if(on(this))return"-"+tn(this).toString(rt);for(var ke=V(Math.pow(rt,6)),$e=this,at="";;){var lt=kr($e,ke).g,bt=((0<($e=Qn($e,lt.j(ke))).g.length?$e.g[0]:$e.h)>>>0).toString(rt);if($t($e=lt))return bt+at;for(;6>bt.length;)bt="0"+bt;at=bt+at}},c.i=function(rt){return 0>rt?0:rt<this.g.length?this.g[rt]:this.h},c.l=function(rt){return on(rt=Qn(this,rt))?-1:$t(rt)?0:1},c.abs=function(){return on(this)?tn(this):this},c.add=function(rt){for(var ke=Math.max(this.g.length,rt.g.length),$e=[],at=0,lt=0;lt<=ke;lt++){var bt=at+(65535&this.i(lt))+(65535&rt.i(lt)),Ue=(bt>>>16)+(this.i(lt)>>>16)+(rt.i(lt)>>>16);at=Ue>>>16,$e[lt]=(Ue&=65535)<<16|(bt&=65535)}return new E($e,-2147483648&$e[$e.length-1]?-1:0)},c.j=function(rt){if($t(this)||$t(rt))return se;if(on(this))return on(rt)?tn(this).j(tn(rt)):tn(tn(this).j(rt));if(on(rt))return tn(this.j(tn(rt)));if(0>this.l(Et)&&0>rt.l(Et))return V(this.m()*rt.m());for(var ke=this.g.length+rt.g.length,$e=[],at=0;at<2*ke;at++)$e[at]=0;for(at=0;at<this.g.length;at++)for(var lt=0;lt<rt.g.length;lt++){var bt=this.i(at)>>>16,Ue=65535&this.i(at),Cu=rt.i(lt)>>>16,Ld=65535&rt.i(lt);$e[2*at+2*lt]+=Ue*Ld,tr($e,2*at+2*lt),$e[2*at+2*lt+1]+=bt*Ld,tr($e,2*at+2*lt+1),$e[2*at+2*lt+1]+=Ue*Cu,tr($e,2*at+2*lt+1),$e[2*at+2*lt+2]+=bt*Cu,tr($e,2*at+2*lt+2)}for(at=0;at<ke;at++)$e[at]=$e[2*at+1]<<16|$e[2*at];for(at=ke;at<2*ke;at++)$e[at]=0;return new E($e,0)},c.A=function(rt){return kr(this,rt).h},c.and=function(rt){for(var ke=Math.max(this.g.length,rt.g.length),$e=[],at=0;at<ke;at++)$e[at]=this.i(at)&rt.i(at);return new E($e,this.h&rt.h)},c.or=function(rt){for(var ke=Math.max(this.g.length,rt.g.length),$e=[],at=0;at<ke;at++)$e[at]=this.i(at)|rt.i(at);return new E($e,this.h|rt.h)},c.xor=function(rt){for(var ke=Math.max(this.g.length,rt.g.length),$e=[],at=0;at<ke;at++)$e[at]=this.i(at)^rt.i(at);return new E($e,this.h^rt.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,je=ge.Md5=o,E.prototype.add=E.prototype.add,E.prototype.multiply=E.prototype.j,E.prototype.modulo=E.prototype.A,E.prototype.compare=E.prototype.l,E.prototype.toNumber=E.prototype.m,E.prototype.toString=E.prototype.toString,E.prototype.getBits=E.prototype.i,E.fromNumber=V,E.fromString=function X(rt,ke){if(0==rt.length)throw Error("number format error: empty string");if(2>(ke=ke||10)||36<ke)throw Error("radix out of range: "+ke);if("-"==rt.charAt(0))return tn(X(rt.substring(1),ke));if(0<=rt.indexOf("-"))throw Error('number format error: interior "-" character');for(var $e=V(Math.pow(ke,8)),at=se,lt=0;lt<rt.length;lt+=8){var bt=Math.min(8,rt.length-lt),Ue=parseInt(rt.substring(lt,lt+bt),ke);8>bt?(bt=V(Math.pow(ke,bt)),at=at.j(bt).add(V(Ue))):at=(at=at.j($e)).add(V(Ue))}return at},Ee=ge.Integer=E}).apply(typeof Xe<"u"?Xe:typeof self<"u"?self:typeof window<"u"?window:{});var it,Je,At,Lt,Nt,Gt,ft,gt,we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ve={};(function(){var c,n="function"==typeof Object.defineProperties?Object.defineProperty:function(v,x,H){return v==Array.prototype||v==Object.prototype||(v[x]=H.value),v},o=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof we&&we];for(var x=0;x<v.length;++x){var H=v[x];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}(this);!function u(v,x){if(x)e:{var H=o;v=v.split(".");for(var re=0;re<v.length-1;re++){var yt=v[re];if(!(yt in H))break e;H=H[yt]}(x=x(re=H[v=v[v.length-1]]))!=re&&null!=x&&n(H,v,{configurable:!0,writable:!0,value:x})}}("Array.prototype.values",function(v){return v||function(){return function p(v,x){v instanceof String&&(v+="");var H=0,re=!1,yt={next:function(){if(!re&&H<v.length){var Vt=H++;return{value:x(Vt,v[Vt]),done:!1}}return re=!0,{done:!0,value:void 0}}};return yt[Symbol.iterator]=function(){return yt},yt}(this,function(x,H){return H})}});var E=E||{},R=this||self;function N(v){var x=typeof v;return"array"==(x="object"!=x?x:v?Array.isArray(v)?"array":x:"null")||"object"==x&&"number"==typeof v.length}function V(v){var x=typeof v;return"object"==x&&null!=v||"function"==x}function X(v,x,H){return v.call.apply(v.bind,arguments)}function se(v,x,H){if(!v)throw Error();if(2<arguments.length){var re=Array.prototype.slice.call(arguments,2);return function(){var yt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(yt,re),v.apply(x,yt)}}return function(){return v.apply(x,arguments)}}function xe(v,x,H){return(xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X:se).apply(null,arguments)}function Et(v,x){var H=Array.prototype.slice.call(arguments,1);return function(){var re=H.slice();return re.push.apply(re,arguments),v.apply(this,re)}}function $t(v,x){function H(){}H.prototype=x.prototype,v.aa=x.prototype,v.prototype=new H,v.prototype.constructor=v,v.Qb=function(re,yt,Vt){for(var Dn=Array(arguments.length-2),cs=2;cs<arguments.length;cs++)Dn[cs-2]=arguments[cs];return x.prototype[yt].apply(re,Dn)}}function on(v){const x=v.length;if(0<x){const H=Array(x);for(let re=0;re<x;re++)H[re]=v[re];return H}return[]}function tn(v,x){for(let H=1;H<arguments.length;H++){const re=arguments[H];if(N(re)){const yt=v.length||0,Vt=re.length||0;v.length=yt+Vt;for(let Dn=0;Dn<Vt;Dn++)v[yt+Dn]=re[Dn]}else v.push(re)}}function tr(v){return/^[\s\xa0]*$/.test(v)}function Sn(){var v=R.navigator;return v&&(v=v.userAgent)?v:""}function kr(v){return kr[" "](v),v}kr[" "]=function(){};var Ni=!(-1==Sn().indexOf("Gecko")||-1!=Sn().toLowerCase().indexOf("webkit")&&-1==Sn().indexOf("Edge")||-1!=Sn().indexOf("Trident")||-1!=Sn().indexOf("MSIE")||-1!=Sn().indexOf("Edge"));function ni(v,x,H){for(const re in v)x.call(H,v[re],re,v)}function ke(v){const x={};for(const H in v)x[H]=v[H];return x}const $e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(v,x){let H,re;for(let yt=1;yt<arguments.length;yt++){for(H in re=arguments[yt],re)v[H]=re[H];for(let Vt=0;Vt<$e.length;Vt++)H=$e[Vt],Object.prototype.hasOwnProperty.call(re,H)&&(v[H]=re[H])}}function lt(v){var x=1;v=v.split(":");const H=[];for(;0<x&&v.length;)H.push(v.shift()),x--;return v.length&&H.push(v.join(":")),H}function bt(v){R.setTimeout(()=>{throw v},0)}function Ue(){var v=Qm;let x=null;return v.g&&(x=v.g,v.g=v.g.next,v.g||(v.h=null),x.next=null),x}var Ld=new class Qn{constructor(x,H){this.i=x,this.j=H,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}(()=>new qm,v=>v.reset());class qm{constructor(){this.next=this.g=this.h=null}set(x,H){this.h=x,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let vl,Kh=!1,Qm=new class Cu{constructor(){this.h=this.g=null}add(x,H){const re=Ld.get();re.set(x,H),this.h?this.h.next=re:this.g=re,this.h=re}},qh=()=>{const v=R.Promise.resolve(void 0);vl=()=>{v.then(bw)}};var bw=()=>{for(var v;v=Ue();){try{v.h.call(v.g)}catch(H){bt(H)}var x=Ld;x.j(v),100>x.h&&(x.h++,v.next=x.g,x.g=v)}Kh=!1};function Na(){this.s=this.s,this.C=this.C}function Ys(v,x){this.type=v,this.g=this.target=x,this.defaultPrevented=!1}Na.prototype.s=!1,Na.prototype.ma=function(){this.s||(this.s=!0,this.N())},Na.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ys.prototype.h=function(){this.defaultPrevented=!0};var Xm=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var v=!1,x=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const H=()=>{};R.addEventListener("test",H,x),R.removeEventListener("test",H,x)}catch{}return v}();function El(v,x){if(Ys.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var H=this.type=v.type,re=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=x,x=v.relatedTarget){if(Ni){e:{try{kr(x.nodeName);var yt=!0;break e}catch{}yt=!1}yt||(x=null)}}else"mouseover"==H?x=v.fromElement:"mouseout"==H&&(x=v.toElement);this.relatedTarget=x,re?(this.clientX=void 0!==re.clientX?re.clientX:re.pageX,this.clientY=void 0!==re.clientY?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:Dw[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&El.aa.h.call(this)}}$t(El,Ys);var Dw={2:"touch",3:"pen",4:"mouse"};El.prototype.h=function(){El.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Su="closure_listenable_"+(1e6*Math.random()|0),Ru=0;function Vd(v,x,H,re,yt){this.listener=v,this.proxy=null,this.src=x,this.type=H,this.capture=!!re,this.ha=yt,this.key=++Ru,this.da=this.fa=!1}function Qh(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function xp(v){this.src=v,this.g={},this.h=0}function Op(v,x){var H=x.type;if(H in v.g){var Vt,re=v.g[H],yt=Array.prototype.indexOf.call(re,x,void 0);(Vt=0<=yt)&&Array.prototype.splice.call(re,yt,1),Vt&&(Qh(x),0==v.g[H].length&&(delete v.g[H],v.h--))}}function Zm(v,x,H,re){for(var yt=0;yt<v.length;++yt){var Vt=v[yt];if(!Vt.da&&Vt.listener==x&&Vt.capture==!!H&&Vt.ha==re)return yt}return-1}xp.prototype.add=function(v,x,H,re,yt){var Vt=v.toString();(v=this.g[Vt])||(v=this.g[Vt]=[],this.h++);var Dn=Zm(v,x,re,yt);return-1<Dn?(x=v[Dn],H||(x.fa=!1)):((x=new Vd(x,this.src,Vt,!!re,yt)).fa=H,v.push(x)),x};var Xh="closure_lm_"+(1e6*Math.random()|0),wl={};function Fp(v,x,H,re,yt){if(re&&re.once)return Lp(v,x,H,re,yt);if(Array.isArray(x)){for(var Vt=0;Vt<x.length;Vt++)Fp(v,x[Vt],H,re,yt);return null}return H=Ud(H),v&&v[Su]?v.K(x,H,V(re)?!!re.capture:!!re,yt):uv(v,x,H,!1,re,yt)}function uv(v,x,H,re,yt,Vt){if(!x)throw Error("Invalid event type");var Dn=V(yt)?!!yt.capture:!!yt,cs=Zh(v);if(cs||(v[Xh]=cs=new xp(v)),(H=cs.add(x,H,re,Dn,Vt)).proxy)return H;if(re=function Aw(){const x=lv;return function v(H){return x.call(v.src,v.listener,H)}}(),H.proxy=re,re.src=v,re.listener=H,v.addEventListener)Xm||(yt=Dn),void 0===yt&&(yt=!1),v.addEventListener(x.toString(),re,yt);else if(v.attachEvent)v.attachEvent(Jm(x.toString()),re);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(re)}return H}function Lp(v,x,H,re,yt){if(Array.isArray(x)){for(var Vt=0;Vt<x.length;Vt++)Lp(v,x[Vt],H,re,yt);return null}return H=Ud(H),v&&v[Su]?v.L(x,H,V(re)?!!re.capture:!!re,yt):uv(v,x,H,!0,re,yt)}function Ym(v,x,H,re,yt){if(Array.isArray(x))for(var Vt=0;Vt<x.length;Vt++)Ym(v,x[Vt],H,re,yt);else re=V(re)?!!re.capture:!!re,H=Ud(H),v&&v[Su]?(v=v.i,(x=String(x).toString())in v.g&&-1<(H=Zm(Vt=v.g[x],H,re,yt))&&(Qh(Vt[H]),Array.prototype.splice.call(Vt,H,1),0==Vt.length&&(delete v.g[x],v.h--))):v&&(v=Zh(v))&&(x=v.g[x.toString()],v=-1,x&&(v=Zm(x,H,re,yt)),(H=-1<v?x[v]:null)&&Vp(H))}function Vp(v){if("number"!=typeof v&&v&&!v.da){var x=v.src;if(x&&x[Su])Op(x.i,v);else{var H=v.type,re=v.proxy;x.removeEventListener?x.removeEventListener(H,re,v.capture):x.detachEvent?x.detachEvent(Jm(H),re):x.addListener&&x.removeListener&&x.removeListener(re),(H=Zh(x))?(Op(H,v),0==H.h&&(H.src=null,x[Xh]=null)):Qh(v)}}}function Jm(v){return v in wl?wl[v]:wl[v]="on"+v}function lv(v,x){if(v.da)v=!0;else{x=new El(x,this);var H=v.listener,re=v.ha||v.src;v.fa&&Vp(v),v=H.call(re,x)}return v}function Zh(v){return(v=v[Xh])instanceof xp?v:null}var Up="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ud(v){return"function"==typeof v?v:(v[Up]||(v[Up]=function(x){return v.handleEvent(x)}),v[Up])}function Js(){Na.call(this),this.i=new xp(this),this.M=this,this.F=null}function qo(v,x){var H,re=v.F;if(re)for(H=[];re;re=re.F)H.push(re);if(v=v.M,re=x.type||x,"string"==typeof x)x=new Ys(x,v);else if(x instanceof Ys)x.target=x.target||v;else{var yt=x;at(x=new Ys(re,v),yt)}if(yt=!0,H)for(var Vt=H.length-1;0<=Vt;Vt--){var Dn=x.g=H[Vt];yt=Bd(Dn,re,!0,x)&&yt}if(yt=Bd(Dn=x.g=v,re,!0,x)&&yt,yt=Bd(Dn,re,!1,x)&&yt,H)for(Vt=0;Vt<H.length;Vt++)yt=Bd(Dn=x.g=H[Vt],re,!1,x)&&yt}function Bd(v,x,H,re){if(!(x=v.i.g[String(x)]))return!0;x=x.concat();for(var yt=!0,Vt=0;Vt<x.length;++Vt){var Dn=x[Vt];if(Dn&&!Dn.da&&Dn.capture==H){var cs=Dn.listener,fo=Dn.ha||Dn.src;Dn.fa&&Op(v.i,Dn),yt=!1!==cs.call(fo,re)&&yt}}return yt&&!re.defaultPrevented}function Bp(v,x,H){if("function"==typeof v)H&&(v=xe(v,H));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=xe(v.handleEvent,v)}return 2147483647<Number(x)?-1:R.setTimeout(v,x||0)}function Yh(v){v.g=Bp(()=>{v.g=null,v.i&&(v.i=!1,Yh(v))},v.l);const x=v.h;v.h=null,v.m.apply(null,x)}$t(Js,Na),Js.prototype[Su]=!0,Js.prototype.removeEventListener=function(v,x,H,re){Ym(this,v,x,H,re)},Js.prototype.N=function(){if(Js.aa.N.call(this),this.i){var x,v=this.i;for(x in v.g){for(var H=v.g[x],re=0;re<H.length;re++)Qh(H[re]);delete v.g[x],v.h--}}this.F=null},Js.prototype.K=function(v,x,H,re){return this.i.add(String(v),x,!1,H,re)},Js.prototype.L=function(v,x,H,re){return this.i.add(String(v),x,!0,H,re)};class Cw extends Na{constructor(x,H){super(),this.m=x,this.l=H,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Yh(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jd(v){Na.call(this),this.h=v,this.g={}}$t(jd,Na);var dv=[];function hv(v){ni(v.g,function(x,H){this.g.hasOwnProperty(H)&&Vp(x)},v),v.g={}}jd.prototype.N=function(){jd.aa.N.call(this),hv(this)},jd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pu=R.JSON.stringify,ey=R.JSON.parse,fv=class{stringify(v){return R.JSON.stringify(v,void 0)}parse(v){return R.JSON.parse(v,void 0)}};function jp(){}function gv(){}jp.prototype.h=null;var Jh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ty(){Ys.call(this,"d")}function ny(){Ys.call(this,"c")}$t(ty,Ys),$t(ny,Ys);var Il={},ry=null;function ef(){return ry=ry||new Js}function mv(v){Ys.call(this,Il.La,v)}function Mu(v){const x=ef();qo(x,new mv(x))}function yv(v,x){Ys.call(this,Il.STAT_EVENT,v),this.stat=x}function Qo(v){const x=ef();qo(x,new yv(x,v))}function iy(v,x){Ys.call(this,Il.Ma,v),this.size=x}function $d(v,x){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){v()},x)}function tf(){this.g=!0}function ku(v,x,H,re){v.info(function(){return"XMLHTTP TEXT ("+x+"): "+function Rw(v,x){if(!v.g)return x;if(!x)return null;try{var H=JSON.parse(x);if(H)for(v=0;v<H.length;v++)if(Array.isArray(H[v])){var re=H[v];if(!(2>re.length)){var yt=re[1];if(Array.isArray(yt)&&!(1>yt.length)){var Vt=yt[0];if("noop"!=Vt&&"stop"!=Vt&&"close"!=Vt)for(var Dn=1;Dn<yt.length;Dn++)yt[Dn]=""}}}return Pu(H)}catch{return x}}(v,H)+(re?" "+re:"")})}Il.La="serverreachability",$t(mv,Ys),Il.STAT_EVENT="statevent",$t(yv,Ys),Il.Ma="timingevent",$t(iy,Ys),tf.prototype.xa=function(){this.g=!1},tf.prototype.info=function(){};var $p,Nu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eu(){}function Sc(v,x,H,re){this.j=v,this.i=x,this.l=H,this.R=re||1,this.U=new jd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hd}function Hd(){this.i=null,this.g="",this.h=!1}$t(eu,jp),eu.prototype.g=function(){return new XMLHttpRequest},eu.prototype.i=function(){return{}},$p=new eu;var Ev={},Hp={};function Tl(v,x,H){v.L=1,v.v=sf(Pc(x)),v.m=H,v.P=!0,Pw(v,null)}function Pw(v,x){v.F=Date.now(),zp(v),v.A=Pc(v.v);var H=v.A,re=v.R;Array.isArray(re)||(re=[String(re)]),Mv(H.i,"t",re),v.C=0,H=v.j.J,v.h=new Hd,v.g=Uu(v.j,H?x:null,!v.m),0<v.O&&(v.M=new Cw(xe(v.Y,v,v.g),v.O)),x=v.U,H=v.g,re=v.ca;var yt="readystatechange";Array.isArray(yt)||(yt&&(dv[0]=yt.toString()),yt=dv);for(var Vt=0;Vt<yt.length;Vt++){var Dn=Fp(H,yt[Vt],re||x.handleEvent,!1,x.h||x);if(!Dn)break;x.g[Dn.key]=Dn}x=v.H?ke(v.H):{},v.m?(v.u||(v.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,x)):(v.u="GET",v.g.ea(v.A,v.u,null,x)),Mu(),function Sw(v,x,H,re,yt,Vt){v.info(function(){if(v.g)if(Vt)for(var Dn="",cs=Vt.split("&"),fo=0;fo<cs.length;fo++){var Ii=cs[fo].split("=");if(1<Ii.length){var jo=Ii[0];Ii=Ii[1];var Xo=jo.split("_");Dn=2<=Xo.length&&"type"==Xo[1]?Dn+(jo+"=")+Ii+"&":Dn+(jo+"=redacted&")}}else Dn=null;else Dn=Vt;return"XMLHTTP REQ ("+re+") [attempt "+yt+"]: "+x+"\n"+H+"\n"+Dn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function Mw(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function nf(v,x){var H=v.C,re=x.indexOf("\n",H);return-1==re?Hp:(H=Number(x.substring(H,re)),isNaN(H)?Ev:(re+=1)+H>x.length?Hp:(x=x.slice(re,re+H),v.C=re+H,x))}function zp(v){v.S=Date.now()+v.I,wv(v,v.I)}function wv(v,x){if(null!=v.B)throw Error("WatchDog timer not null");v.B=$d(xe(v.ba,v),x)}function oy(v){v.B&&(R.clearTimeout(v.B),v.B=null)}function xu(v){0==v.j.G||v.J||Wv(v.j,v)}function tu(v){oy(v);var x=v.M;x&&"function"==typeof x.ma&&x.ma(),v.M=null,hv(v.U),v.g&&(x=v.g,v.g=null,x.abort(),x.ma())}function ay(v,x){try{var H=v.j;if(0!=H.G&&(H.g==v||bv(H.h,v)))if(!v.K&&bv(H.h,v)&&3==H.G){try{var re=H.Da.g.parse(x)}catch{re=null}if(Array.isArray(re)&&3==re.length){var yt=re;if(0==yt[0]){e:if(!H.u){if(H.g){if(!(H.g.F+3e3<v.F))break e;Zp(H),qp(H)}my(H),Qo(18)}}else H.za=yt[1],0<H.za-H.T&&37500>yt[2]&&H.F&&0==H.v&&!H.C&&(H.C=$d(xe(H.Za,H),6e3));if(1>=Tv(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Cl(H,11)}else if((v.K||H.g==v)&&Zp(H),!tr(x))for(yt=H.Da.g.parse(x),x=0;x<yt.length;x++){let Ii=yt[x];if(H.T=Ii[0],Ii=Ii[1],2==H.G)if("c"==Ii[0]){H.K=Ii[1],H.ia=Ii[2];const jo=Ii[3];null!=jo&&(H.la=jo,H.j.info("VER="+H.la));const Xo=Ii[4];null!=Xo&&(H.Aa=Xo,H.j.info("SVER="+H.Aa));const Zd=Ii[5];null!=Zd&&"number"==typeof Zd&&0<Zd&&(H.L=re=1.5*Zd,H.j.info("backChannelRequestTimeoutMs_="+re)),re=H;const Ga=v.g;if(Ga){const Jp=Ga.g?Ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jp){var Vt=re.h;Vt.g||-1==Jp.indexOf("spdy")&&-1==Jp.indexOf("quic")&&-1==Jp.indexOf("h2")||(Vt.j=Vt.l,Vt.g=new Set,Vt.h&&(cy(Vt,Vt.h),Vt.h=null))}if(re.D){const _y=Ga.g?Ga.g.getResponseHeader("X-HTTP-Session-Id"):null;_y&&(re.ya=_y,ts(re.I,re.D,_y))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-v.F,H.j.info("Handshake RTT: "+H.R+"ms"));var Dn=v;if((re=H).qa=Kv(re,re.J?re.ia:null,re.W),Dn.K){Nw(re.h,Dn);var cs=Dn,fo=re.L;fo&&(cs.I=fo),cs.B&&(oy(cs),zp(cs)),re.g=Dn}else Hv(re);0<H.i.length&&Qp(H)}else"stop"!=Ii[0]&&"close"!=Ii[0]||Cl(H,7);else 3==H.G&&("stop"==Ii[0]||"close"==Ii[0]?"stop"==Ii[0]?Cl(H,7):Kp(H):"noop"!=Ii[0]&&H.l&&H.l.ta(Ii),H.v=0)}Mu()}catch{}}Sc.prototype.ca=function(v){v=v.target;const x=this.M;x&&3==Vu(v)?x.j():this.Y(v)},Sc.prototype.Y=function(v){try{if(v==this.g)e:{const Xo=Vu(this.g);var x=this.g.Ba();if(this.g.Z(),!(3>Xo)&&(3!=Xo||this.g&&(this.h.h||this.g.oa()||Vv(this.g)))){this.J||4!=Xo||7==x||Mu(),oy(this);var H=this.g.Z();this.X=H;t:if(Mw(this)){var re=Vv(this.g);v="";var yt=re.length,Vt=4==Vu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tu(this),xu(this);var Dn="";break t}this.h.i=new R.TextDecoder}for(x=0;x<yt;x++)this.h.h=!0,v+=this.h.i.decode(re[x],{stream:!(Vt&&x==yt-1)});re.length=0,this.h.g+=v,this.C=0,Dn=this.h.g}else Dn=this.g.oa();if(this.o=200==H,function _v(v,x,H,re,yt,Vt,Dn){v.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+yt+"]: "+x+"\n"+H+"\n"+Vt+" "+Dn})}(this.i,this.u,this.A,this.l,this.R,Xo,H),this.o){if(this.T&&!this.K){t:{if(this.g){var cs,fo=this.g;if((cs=fo.g?fo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tr(cs)){var Ii=cs;break t}}Ii=null}if(!(H=Ii)){this.o=!1,this.s=3,Qo(12),tu(this),xu(this);break e}ku(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ay(this,H)}if(this.P){let Ga;for(H=!0;!this.J&&this.C<Dn.length;){if(Ga=nf(this,Dn),Ga==Hp){4==Xo&&(this.s=4,Qo(14),H=!1),ku(this.i,this.l,null,"[Incomplete Response]");break}if(Ga==Ev){this.s=4,Qo(15),ku(this.i,this.l,Dn,"[Invalid Chunk]"),H=!1;break}ku(this.i,this.l,Ga,null),ay(this,Ga)}if(Mw(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Xo||0!=Dn.length||this.h.h||(this.s=1,Qo(16),H=!1),this.o=this.o&&H,H){if(0<Dn.length&&!this.W){this.W=!0;var jo=this.j;jo.g==this&&jo.ba&&!jo.M&&(jo.j.info("Great, no buffering proxy detected. Bytes received: "+Dn.length),yy(jo),jo.M=!0,Qo(11))}}else ku(this.i,this.l,Dn,"[Invalid Chunked Response]"),tu(this),xu(this)}else ku(this.i,this.l,Dn,null),ay(this,Dn);4==Xo&&tu(this),this.o&&!this.J&&(4==Xo?Wv(this.j,this):(this.o=!1,zp(this)))}else(function Uv(v){const x={};v=(v.g&&2<=Vu(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let re=0;re<v.length;re++){if(tr(v[re]))continue;var H=lt(v[re]);const yt=H[0];if("string"!=typeof(H=H[1]))continue;H=H.trim();const Vt=x[yt]||[];x[yt]=Vt,Vt.push(H)}!function rt(v,x){for(const H in v)x.call(void 0,v[H],H,v)}(x,function(re){return re.join(", ")})})(this.g),400==H&&0<Dn.indexOf("Unknown SID")?(this.s=3,Qo(12)):(this.s=0,Qo(13)),tu(this),xu(this)}}}catch{}},Sc.prototype.cancel=function(){this.J=!0,tu(this)},Sc.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function vv(v,x){v.info(function(){return"TIMEOUT: "+x})}(this.i,this.A),2!=this.L&&(Mu(),Qo(17)),tu(this),this.s=2,xu(this)):wv(this,this.S-v)};var WT=class{constructor(v,x){this.g=v,this.map=x}};function kw(v){this.l=v||10,v=R.PerformanceNavigationTiming?0<(v=R.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Iv(v){return!!v.h||!!v.g&&v.g.size>=v.j}function Tv(v){return v.h?1:v.g?v.g.size:0}function bv(v,x){return v.h?v.h==x:!!v.g&&v.g.has(x)}function cy(v,x){v.g?v.g.add(x):v.h=x}function Nw(v,x){v.h&&v.h==x?v.h=null:v.g&&v.g.has(x)&&v.g.delete(x)}function Dv(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let x=v.i;for(const H of v.g.values())x=x.concat(H.D);return x}return on(v.i)}function Wp(v,x){if(v.forEach&&"function"==typeof v.forEach)v.forEach(x,void 0);else if(N(v)||"string"==typeof v)Array.prototype.forEach.call(v,x,void 0);else for(var H=function Ow(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(N(v)||"string"==typeof v){var x=[];v=v.length;for(var H=0;H<v;H++)x.push(H);return x}x=[],H=0;for(const re in v)x[H++]=re;return x}}}(v),re=function xw(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(N(v)){for(var x=[],H=v.length,re=0;re<H;re++)x.push(v[re]);return x}for(re in x=[],H=0,v)x[H++]=v[re];return x}(v),yt=re.length,Vt=0;Vt<yt;Vt++)x.call(void 0,re[Vt],H&&H[Vt],v)}kw.prototype.cancel=function(){if(this.i=Dv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var zd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rc(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Rc){this.h=v.h,Ou(this,v.j),this.o=v.o,this.g=v.g,rf(this,v.s),this.l=v.l;var x=v.i,H=new af;H.i=x.i,x.g&&(H.g=new Map(x.g),H.h=x.h),Av(this,H),this.m=v.m}else v&&(x=String(v).match(zd))?(this.h=!1,Ou(this,x[1]||"",!0),this.o=Wd(x[2]||""),this.g=Wd(x[3]||"",!0),rf(this,x[4]),this.l=Wd(x[5]||"",!0),Av(this,x[6]||"",!0),this.m=Wd(x[7]||"")):(this.h=!1,this.i=new af(null,this.h))}function Pc(v){return new Rc(v)}function Ou(v,x,H){v.j=H?Wd(x,!0):x,v.j&&(v.j=v.j.replace(/:$/,""))}function rf(v,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);v.s=x}else v.s=null}function Av(v,x,H){x instanceof af?(v.i=x,function Gp(v,x){x&&!v.j&&(Fu(v),v.i=null,v.g.forEach(function(H,re){var yt=re.toLowerCase();re!=yt&&(Gd(this,re),Mv(this,yt,H))},v)),v.j=x}(v.i,v.h)):(H||(x=Mc(x,Rv)),v.i=new af(x,v.h))}function ts(v,x,H){v.i.set(x,H)}function sf(v){return ts(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Wd(v,x){return v?x?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Mc(v,x,H){return"string"==typeof v?(v=encodeURI(v).replace(x,ly),H&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function ly(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}Rc.prototype.toString=function(){var v=[],x=this.j;x&&v.push(Mc(x,Cv,!0),":");var H=this.g;return(H||"file"==x)&&(v.push("//"),(x=this.o)&&v.push(Mc(x,Cv,!0),"@"),v.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(H=this.s)&&v.push(":",String(H))),(H=this.l)&&(this.g&&"/"!=H.charAt(0)&&v.push("/"),v.push(Mc(H,"/"==H.charAt(0)?Sv:Fw,!0))),(H=this.i.toString())&&v.push("?",H),(H=this.m)&&v.push("#",Mc(H,Lw)),v.join("")};var Cv=/[#\/\?@]/g,Fw=/[#\?:]/g,Sv=/[#\?]/g,Rv=/[#\?@]/g,Lw=/#/g;function af(v,x){this.h=this.g=null,this.i=v||null,this.j=!!x}function Fu(v){v.g||(v.g=new Map,v.h=0,v.i&&function uy(v,x){if(v){v=v.split("&");for(var H=0;H<v.length;H++){var re=v[H].indexOf("="),yt=null;if(0<=re){var Vt=v[H].substring(0,re);yt=v[H].substring(re+1)}else Vt=v[H];x(Vt,yt?decodeURIComponent(yt.replace(/\+/g," ")):"")}}}(v.i,function(x,H){v.add(decodeURIComponent(x.replace(/\+/g," ")),H)}))}function Gd(v,x){Fu(v),x=Kd(v,x),v.g.has(x)&&(v.i=null,v.h-=v.g.get(x).length,v.g.delete(x))}function Pv(v,x){return Fu(v),x=Kd(v,x),v.g.has(x)}function Mv(v,x,H){Gd(v,x),0<H.length&&(v.i=null,v.g.set(Kd(v,x),on(H)),v.h+=H.length)}function Kd(v,x){return x=String(x),v.j&&(x=x.toLowerCase()),x}function nu(v,x,H,re,yt){try{yt&&(yt.onload=null,yt.onerror=null,yt.onabort=null,yt.ontimeout=null),re(H)}catch{}}function Vw(){this.g=new fv}function xv(v,x,H){const re=H||"";try{Wp(v,function(yt,Vt){let Dn=yt;V(yt)&&(Dn=Pu(yt)),x.push(re+Vt+"="+encodeURIComponent(Dn))})}catch(yt){throw x.push(re+"type="+encodeURIComponent("_badmap")),yt}}function bl(v){this.l=v.Ub||null,this.j=v.eb||!1}function Dl(v,x){Js.call(this),this.D=v,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ov(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function cf(v){v.readyState=4,v.l=null,v.j=null,v.v=null,uf(v)}function uf(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function Fv(v){let x="";return ni(v,function(H,re){x+=re,x+=":",x+=H,x+="\r\n"}),x}function dy(v,x,H){e:{for(re in H){var re=!1;break e}re=!0}re||(H=Fv(H),"string"==typeof v?null!=H&&encodeURIComponent(String(H)):ts(v,x,H))}function eo(v){Js.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=af.prototype).add=function(v,x){Fu(this),this.i=null,v=Kd(this,v);var H=this.g.get(v);return H||this.g.set(v,H=[]),H.push(x),this.h+=1,this},c.forEach=function(v,x){Fu(this),this.g.forEach(function(H,re){H.forEach(function(yt){v.call(x,yt,re,this)},this)},this)},c.na=function(){Fu(this);const v=Array.from(this.g.values()),x=Array.from(this.g.keys()),H=[];for(let re=0;re<x.length;re++){const yt=v[re];for(let Vt=0;Vt<yt.length;Vt++)H.push(x[re])}return H},c.V=function(v){Fu(this);let x=[];if("string"==typeof v)Pv(this,v)&&(x=x.concat(this.g.get(Kd(this,v))));else{v=Array.from(this.g.values());for(let H=0;H<v.length;H++)x=x.concat(v[H])}return x},c.set=function(v,x){return Fu(this),this.i=null,Pv(this,v=Kd(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[x]),this.h+=1,this},c.get=function(v,x){return v&&0<(v=this.V(v)).length?String(v[0]):x},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],x=Array.from(this.g.keys());for(var H=0;H<x.length;H++){var re=x[H];const Vt=encodeURIComponent(String(re)),Dn=this.V(re);for(re=0;re<Dn.length;re++){var yt=Vt;""!==Dn[re]&&(yt+="="+encodeURIComponent(String(Dn[re]))),v.push(yt)}}return this.i=v.join("&")},$t(bl,jp),bl.prototype.g=function(){return new Dl(this.l,this.j)},bl.prototype.i=function(v){return function(){return v}}({}),$t(Dl,Js),(c=Dl.prototype).open=function(v,x){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=x,this.readyState=1,uf(this)},c.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(x.body=v),(this.D||R).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cf(this)),this.readyState=0},c.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,uf(this)),this.g&&(this.readyState=3,uf(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ov(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var x=v.value?v.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!v.done}))&&(this.response=this.responseText+=x)}v.done?cf(this):uf(this),3==this.readyState&&Ov(this)}},c.Ra=function(v){this.g&&(this.response=this.responseText=v,cf(this))},c.Qa=function(v){this.g&&(this.response=v,cf(this))},c.ga=function(){this.g&&cf(this)},c.setRequestHeader=function(v,x){this.u.append(v,x)},c.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],x=this.h.entries();for(var H=x.next();!H.done;)v.push((H=H.value)[0]+": "+H[1]),H=x.next();return v.join("\r\n")},Object.defineProperty(Dl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),$t(eo,Js);var hy=/^https?$/i,lf=["POST","PUT"];function fy(v,x){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=x,v.m=5,py(v),Lu(v)}function py(v){v.A||(v.A=!0,qo(v,"complete"),qo(v,"error"))}function Lv(v){if(v.h&&typeof E<"u"&&(!v.v[1]||4!=Vu(v)||2!=v.Z()))if(v.u&&4==Vu(v))Bp(v.Ea,0,v);else if(qo(v,"readystatechange"),4==Vu(v)){v.h=!1;try{const Dn=v.Z();e:switch(Dn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var H;if(!(H=x)){var re;if(re=0===Dn){var yt=String(v.D).match(zd)[1]||null;!yt&&R.self&&R.self.location&&(yt=R.self.location.protocol.slice(0,-1)),re=!hy.test(yt?yt.toLowerCase():"")}H=re}if(H)qo(v,"complete"),qo(v,"success");else{v.m=6;try{var Vt=2<Vu(v)?v.g.statusText:""}catch{Vt=""}v.l=Vt+" ["+v.Z()+"]",py(v)}}finally{Lu(v)}}}function Lu(v,x){if(v.g){df(v);const H=v.g,re=v.v[0]?()=>{}:null;v.g=null,v.v=null,x||qo(v,"ready");try{H.onreadystatechange=re}catch{}}}function df(v){v.I&&(R.clearTimeout(v.I),v.I=null)}function Vu(v){return v.g?v.g.readyState:0}function Vv(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Al(v,x,H){return H&&H.internalChannelParams&&H.internalChannelParams[v]||x}function Bv(v){this.Aa=0,this.i=[],this.j=new tf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Al("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Al("baseRetryDelayMs",5e3,v),this.cb=Al("retryDelaySeedMs",1e4,v),this.Wa=Al("forwardChannelMaxRetries",2,v),this.wa=Al("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new kw(v&&v.concurrentRequestLimit),this.Da=new Vw,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kp(v){if(jv(v),3==v.G){var x=v.U++,H=Pc(v.I);if(ts(H,"SID",v.K),ts(H,"RID",x),ts(H,"TYPE","terminate"),qd(v,H),(x=new Sc(v,v.j,x)).L=2,x.v=sf(Pc(H)),H=!1,R.navigator&&R.navigator.sendBeacon)try{H=R.navigator.sendBeacon(x.v.toString(),"")}catch{}!H&&R.Image&&((new Image).src=x.v,H=!0),H||(x.g=Uu(x.j,null),x.g.ea(x.v)),x.F=Date.now(),zp(x)}Gv(v)}function qp(v){v.g&&(yy(v),v.g.cancel(),v.g=null)}function jv(v){qp(v),v.u&&(R.clearTimeout(v.u),v.u=null),Zp(v),v.h.cancel(),v.s&&("number"==typeof v.s&&R.clearTimeout(v.s),v.s=null)}function Qp(v){if(!Iv(v.h)&&!v.s){v.s=!0;var x=v.Ga;vl||qh(),Kh||(vl(),Kh=!0),Qm.add(x,v),v.B=0}}function gy(v,x){var H;H=x?x.l:v.U++;const re=Pc(v.I);ts(re,"SID",v.K),ts(re,"RID",H),ts(re,"AID",v.T),qd(v,re),v.m&&v.o&&dy(re,v.m,v.o),H=new Sc(v,v.j,H,v.B+1),null===v.m&&(H.H=v.o),x&&(v.i=x.D.concat(v.i)),x=Xp(v,H,1e3),H.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),cy(v.h,H),Tl(H,re,x)}function qd(v,x){v.H&&ni(v.H,function(H,re){ts(x,re,H)}),v.l&&Wp({},function(H,re){ts(x,re,H)})}function Xp(v,x,H){H=Math.min(v.i.length,H);var re=v.l?xe(v.l.Na,v.l,v):null;e:{var yt=v.i;let Vt=-1;for(;;){const Dn=["count="+H];-1==Vt?0<H?(Vt=yt[0].g,Dn.push("ofs="+Vt)):Vt=0:Dn.push("ofs="+Vt);let cs=!0;for(let fo=0;fo<H;fo++){let Ii=yt[fo].g;const jo=yt[fo].map;if(Ii-=Vt,0>Ii)Vt=Math.max(0,yt[fo].g-100),cs=!1;else try{xv(jo,Dn,"req"+Ii+"_")}catch{re&&re(jo)}}if(cs){re=Dn.join("&");break e}}}return v=v.i.splice(0,H),x.D=v,re}function Hv(v){if(!v.g&&!v.u){v.Y=1;var x=v.Fa;vl||qh(),Kh||(vl(),Kh=!0),Qm.add(x,v),v.v=0}}function my(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=$d(xe(v.Fa,v),Yp(v,v.v)),v.v++,0))}function yy(v){null!=v.A&&(R.clearTimeout(v.A),v.A=null)}function zv(v){v.g=new Sc(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var x=Pc(v.qa);ts(x,"RID","rpc"),ts(x,"SID",v.K),ts(x,"AID",v.T),ts(x,"CI",v.F?"0":"1"),!v.F&&v.ja&&ts(x,"TO",v.ja),ts(x,"TYPE","xmlhttp"),qd(v,x),v.m&&v.o&&dy(x,v.m,v.o),v.L&&(v.g.I=v.L);var H=v.g;v=v.ia,H.L=1,H.v=sf(Pc(x)),H.m=null,H.P=!0,Pw(H,v)}function Zp(v){null!=v.C&&(R.clearTimeout(v.C),v.C=null)}function Wv(v,x){var H=null;if(v.g==x){Zp(v),yy(v),v.g=null;var re=2}else{if(!bv(v.h,x))return;H=x.D,Nw(v.h,x),re=1}if(0!=v.G)if(x.o)if(1==re){H=x.m?x.m.length:0,x=Date.now()-x.F;var yt=v.B;qo(re=ef(),new iy(re,H)),Qp(v)}else Hv(v);else if(3==(yt=x.s)||0==yt&&0<x.X||!(1==re&&function $v(v,x){return!(Tv(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=x.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=$d(xe(v.Ga,v,x),Yp(v,v.B)),v.B++,0)))}(v,x)||2==re&&my(v)))switch(H&&0<H.length&&(x=v.h,x.i=x.i.concat(H)),yt){case 1:Cl(v,5);break;case 4:Cl(v,10);break;case 3:Cl(v,6);break;default:Cl(v,2)}}function Yp(v,x){let H=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(H*=2),H*x}function Cl(v,x){if(v.j.info("Error code "+x),2==x){var H=xe(v.fb,v),re=v.Xa;const yt=!re;re=new Rc(re||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Ou(re,"https"),sf(re),yt?function kv(v,x){const H=new tf;if(R.Image){const re=new Image;re.onload=Et(nu,H,"TestLoadImage: loaded",!0,x,re),re.onerror=Et(nu,H,"TestLoadImage: error",!1,x,re),re.onabort=Et(nu,H,"TestLoadImage: abort",!1,x,re),re.ontimeout=Et(nu,H,"TestLoadImage: timeout",!1,x,re),R.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=v}else x(!1)}(re.toString(),H):function Nv(v,x){new tf;const re=new AbortController,yt=setTimeout(()=>{re.abort(),nu(0,0,!1,x)},1e4);fetch(v,{signal:re.signal}).then(Vt=>{clearTimeout(yt),nu(0,0,!!Vt.ok,x)}).catch(()=>{clearTimeout(yt),nu(0,0,!1,x)})}(re.toString(),H)}else Qo(2);v.G=0,v.l&&v.l.sa(x),Gv(v),jv(v)}function Gv(v){if(v.G=0,v.ka=[],v.l){const x=Dv(v.h);(0!=x.length||0!=v.i.length)&&(tn(v.ka,x),tn(v.ka,v.i),v.h.i.length=0,on(v.i),v.i.length=0),v.l.ra()}}function Kv(v,x,H){var re=H instanceof Rc?Pc(H):new Rc(H);if(""!=re.g)x&&(re.g=x+"."+re.g),rf(re,re.s);else{var yt=R.location;re=yt.protocol,x=x?x+"."+yt.hostname:yt.hostname,yt=+yt.port;var Vt=new Rc(null);re&&Ou(Vt,re),x&&(Vt.g=x),yt&&rf(Vt,yt),H&&(Vt.l=H),re=Vt}return x=v.ya,(H=v.D)&&x&&ts(re,H,x),ts(re,"VER",v.la),qd(v,re),re}function Uu(v,x,H){if(x&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(x=new eo(v.Ca&&!v.pa?new bl({eb:H}):v.pa)).Ha(v.J),x}function Qd(){}function Xd(){}function ua(v,x){Js.call(this),this.g=new Bv(x),this.l=v,this.h=x&&x.messageUrlParams||null,v=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(v?v["X-WebChannel-Content-Type"]=x.messageContentType:v={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(v?v["X-WebChannel-Client-Profile"]=x.va:v={"X-WebChannel-Client-Profile":x.va}),this.g.S=v,(v=x&&x.Sb)&&!tr(v)&&(this.g.m=v),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!tr(x)&&(this.g.D=x,null!==(v=this.h)&&x in v&&x in(v=this.h)&&delete v[x]),this.j=new Rl(this)}function qv(v){ty.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var x=v.__sm__;if(x){e:{for(const H in x){v=H;break e}v=void 0}(this.i=v)&&(v=this.i,x=null!==x&&v in x?x[v]:void 0),this.data=x}else this.data=v}function Sl(){ny.call(this),this.status=1}function Rl(v){this.g=v}(c=eo.prototype).Ha=function(v){this.J=v},c.ea=function(v,x,H,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);x=x?x.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$p.g(),this.v=function pv(v){return v.h||(v.h=v.i())}(this.o?this.o:$p),this.g.onreadystatechange=xe(this.Ea,this);try{this.B=!0,this.g.open(x,String(v),!0),this.B=!1}catch(Vt){return void fy(this,Vt)}if(v=H||"",H=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var yt in re)H.set(yt,re[yt]);else{if("function"!=typeof re.keys||"function"!=typeof re.get)throw Error("Unknown input type for opt_headers: "+String(re));for(const Vt of re.keys())H.set(Vt,re.get(Vt))}re=Array.from(H.keys()).find(Vt=>"content-type"==Vt.toLowerCase()),yt=R.FormData&&v instanceof R.FormData,!(0<=Array.prototype.indexOf.call(lf,x,void 0))||re||yt||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Vt,Dn]of H)this.g.setRequestHeader(Vt,Dn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{df(this),this.u=!0,this.g.send(v),this.u=!1}catch(Vt){fy(this,Vt)}},c.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,qo(this,"complete"),qo(this,"abort"),Lu(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lu(this,!0)),eo.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?Lv(this):this.bb())},c.bb=function(){Lv(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<Vu(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(v){if(this.g){var x=this.g.responseText;return v&&0==x.indexOf(v)&&(x=x.substring(v.length)),ey(x)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=Bv.prototype).la=8,c.G=1,c.connect=function(v,x,H,re){Qo(0),this.W=v,this.H=x||{},H&&void 0!==re&&(this.H.OSID=H,this.H.OAID=re),this.F=this.X,this.I=Kv(this,null,this.W),Qp(this)},c.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const yt=new Sc(this,this.j,v);let Vt=this.o;if(this.S&&(Vt?(Vt=ke(Vt),at(Vt,this.S)):Vt=this.S),null!==this.m||this.O||(yt.H=Vt,Vt=null),this.P)e:{for(var x=0,H=0;H<this.i.length;H++){var re=this.i[H];if(void 0===(re="__data__"in re.map&&"string"==typeof(re=re.map.__data__)?re.length:void 0))break;if(4096<(x+=re)){x=H;break e}if(4096===x||H===this.i.length-1){x=H+1;break e}}x=1e3}else x=1e3;x=Xp(this,yt,x),ts(H=Pc(this.I),"RID",v),ts(H,"CVER",22),this.D&&ts(H,"X-HTTP-Session-Id",this.D),qd(this,H),Vt&&(this.O?x="headers="+encodeURIComponent(String(Fv(Vt)))+"&"+x:this.m&&dy(H,this.m,Vt)),cy(this.h,yt),this.Ua&&ts(H,"TYPE","init"),this.P?(ts(H,"$req",x),ts(H,"SID","null"),yt.T=!0,Tl(yt,H,null)):Tl(yt,H,x),this.G=2}}else 3==this.G&&(v?gy(this,v):0==this.i.length||Iv(this.h)||gy(this))},c.Fa=function(){if(this.u=null,zv(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=$d(xe(this.ab,this),v)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qo(10),qp(this),zv(this))},c.Za=function(){null!=this.C&&(this.C=null,qp(this),my(this),Qo(19))},c.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Qo(2)):(this.j.info("Failed to ping google.com"),Qo(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=Qd.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Xd.prototype.g=function(v,x){return new ua(v,x)},$t(ua,Js),ua.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ua.prototype.close=function(){Kp(this.g)},ua.prototype.o=function(v){var x=this.g;if("string"==typeof v){var H={};H.__data__=v,v=H}else this.u&&((H={}).__data__=Pu(v),v=H);x.i.push(new WT(x.Ya++,v)),3==x.G&&Qp(x)},ua.prototype.N=function(){this.g.l=null,delete this.j,Kp(this.g),delete this.g,ua.aa.N.call(this)},$t(qv,ty),$t(Sl,ny),$t(Rl,Qd),Rl.prototype.ua=function(){qo(this.g,"a")},Rl.prototype.ta=function(v){qo(this.g,new qv(v))},Rl.prototype.sa=function(v){qo(this.g,new Sl)},Rl.prototype.ra=function(){qo(this.g,"b")},Xd.prototype.createWebChannel=Xd.prototype.g,ua.prototype.send=ua.prototype.o,ua.prototype.open=ua.prototype.m,ua.prototype.close=ua.prototype.close,gt=ve.createWebChannelTransport=function(){return new Xd},ft=ve.getStatEventTarget=function(){return ef()},Gt=ve.Event=Il,Nt=ve.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nu.NO_ERROR=0,Nu.TIMEOUT=8,Nu.HTTP_ERROR=6,Lt=ve.ErrorCode=Nu,sy.COMPLETE="complete",At=ve.EventType=sy,gv.EventType=Jh,Jh.OPEN="a",Jh.CLOSE="b",Jh.ERROR="c",Jh.MESSAGE="d",Js.prototype.listen=Js.prototype.K,Je=ve.WebChannel=gv,ve.FetchXmlHttpFactory=bl,eo.prototype.listenOnce=eo.prototype.L,eo.prototype.getLastError=eo.prototype.Ka,eo.prototype.getLastErrorCode=eo.prototype.Ba,eo.prototype.getStatus=eo.prototype.Z,eo.prototype.getResponseJson=eo.prototype.Oa,eo.prototype.getResponseText=eo.prototype.oa,eo.prototype.send=eo.prototype.ea,eo.prototype.setWithCredentials=eo.prototype.Ha,it=ve.XhrIo=eo}).apply(typeof we<"u"?we:typeof self<"u"?self:typeof window<"u"?window:{});const _t="@firebase/firestore";class Qe{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");let qe="11.8.1";const vt=new I.Vy("@firebase/firestore");function Wt(){return vt.logLevel}function ct(c,...n){if(vt.logLevel<=I.$b.DEBUG){const i=n.map(On);vt.debug(`Firestore (${qe}): ${c}`,...i)}}function Pn(c,...n){if(vt.logLevel<=I.$b.ERROR){const i=n.map(On);vt.error(`Firestore (${qe}): ${c}`,...i)}}function xn(c,...n){if(vt.logLevel<=I.$b.WARN){const i=n.map(On);vt.warn(`Firestore (${qe}): ${c}`,...i)}}function On(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function nt(c,n,i){let o="Unexpected state";"string"==typeof n?o=n:i=n,_n(c,o,i)}function _n(c,n,i){let o=`FIRESTORE (${qe}) INTERNAL ASSERTION FAILED: ${n} (ID: ${c.toString(16)})`;if(void 0!==i)try{o+=" CONTEXT: "+JSON.stringify(i)}catch{o+=" CONTEXT: "+i}throw Pn(o),new Error(o)}function mt(c,n,i,o){let u="Unexpected state";"string"==typeof i?u=i:o=i,c||_n(n,u,o)}function Ot(c,n){return c}const He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Ce.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ce{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class le{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class fe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class ne{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class he{constructor(n){this.t=n,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var o=this;mt(void 0===this.o,42304);let u=this.i;const p=V=>this.i!==u?(u=this.i,i(V)):Promise.resolve();let E=new ce;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new ce,n.enqueueRetryable(()=>p(this.currentUser))};const R=()=>{const V=E;n.enqueueRetryable((0,T.A)(function*(){yield V.promise,yield p(o.currentUser)}))},N=V=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(V=>N(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?N(V):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new ce)}},0),R()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==n?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(mt("string"==typeof o.accessToken,31837,{l:o}),new le(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return mt(null===n||"string"==typeof n,2055,{h:n}),new Qe(n)}}class Ye{constructor(n,i,o){this.P=n,this.T=i,this.I=o,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Tt{constructor(n,i,o){this.P=n,this.T=i,this.I=o}getToken(){return Promise.resolve(new Ye(this.P,this.T,this.I))}start(n,i){n.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rn{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yt{constructor(n,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,O.xZ)(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,i){mt(void 0===this.o,3512);const o=p=>{null!=p.error&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const E=p.token!==this.m;return this.m=p.token,ct("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?i(p.token):Promise.resolve()};this.o=p=>{n.enqueueRetryable(()=>o(p))};const u=p=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.V.getImmediate({optional:!0});p?u(p):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rn(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(mt("string"==typeof i.token,44558,{tokenResult:i}),this.m=i.token,new rn(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Rt(c){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let o=0;o<c;o++)i[o]=Math.floor(256*Math.random());return i}function $n(){return new TextEncoder}class Hn{static newId(){const i=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const u=Rt(40);for(let p=0;p<u.length;++p)o.length<20&&u[p]<i&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return o}}function Kt(c,n){return c<n?-1:c>n?1:0}function kn(c,n){let i=0;for(;i<c.length&&i<n.length;){const o=c.codePointAt(i),u=n.codePointAt(i);if(o!==u){if(o<128&&u<128)return Kt(o,u);{const p=$n(),E=ur(p.encode(er(c,i)),p.encode(er(n,i)));return 0!==E?E:Kt(o,u)}}i+=o>65535?2:1}return Kt(c.length,n.length)}function er(c,n){return c.codePointAt(n)>65535?c.substring(n,n+2):c.substring(n,n+1)}function ur(c,n){for(let i=0;i<c.length&&i<n.length;++i)if(c[i]!==n[i])return Kt(c[i],n[i]);return Kt(c.length,n.length)}function Br(c,n,i){return c.length===n.length&&c.every((o,u)=>i(o,n[u]))}const Wi=-62135596800;class fr{static now(){return fr.fromMillis(Date.now())}static fromDate(n){return fr.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),o=Math.floor(1e6*(n-1e3*i));return new fr(i,o)}constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Y(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Y(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<Wi)throw new Y(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Y(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Kt(this.nanoseconds,n.nanoseconds):Kt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-Wi).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dn{static fromTimestamp(n){return new dn(n)}static min(){return new dn(new fr(0,0))}static max(){return new dn(new fr(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ji="__name__";class Nr{constructor(n,i,o){void 0===i?i=0:i>n.length&&nt(637,{offset:i,range:n.length}),void 0===o?o=n.length-i:o>n.length-i&&nt(1746,{length:o,range:n.length-i}),this.segments=n,this.offset=i,this.len=o}get length(){return this.len}isEqual(n){return 0===Nr.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Nr?n.forEach(o=>{i.push(o)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,o=this.limit();i<o;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const o=Math.min(n.length,i.length);for(let u=0;u<o;u++){const p=Nr.compareSegments(n.get(u),i.get(u));if(0!==p)return p}return Kt(n.length,i.length)}static compareSegments(n,i){const o=Nr.isNumericId(n),u=Nr.isNumericId(i);return o&&!u?-1:!o&&u?1:o&&u?Nr.extractNumericId(n).compare(Nr.extractNumericId(i)):kn(n,i)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return Ee.fromString(n.substring(4,n.length-2))}}class ht extends Nr{construct(n,i,o){return new ht(n,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const o of n){if(o.indexOf("//")>=0)throw new Y(He.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(u=>u.length>0))}return new ht(i)}static emptyPath(){return new ht([])}}const jr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Nr{construct(n,i,o){return new Gn(n,i,o)}static isValidIdentifier(n){return jr.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ji}static keyField(){return new Gn([Ji])}static fromServerFormat(n){const i=[];let o="",u=0;const p=()=>{if(0===o.length)throw new Y(He.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let E=!1;for(;u<n.length;){const R=n[u];if("\\"===R){if(u+1===n.length)throw new Y(He.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const N=n[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new Y(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=N,u+=2}else"`"===R?(E=!E,u++):"."!==R||E?(o+=R,u++):(p(),u++)}if(p(),E)throw new Y(He.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Gn(i)}static emptyPath(){return new Gn([])}}class Xt{constructor(n){this.path=n}static fromPath(n){return new Xt(ht.fromString(n))}static fromName(n){return new Xt(ht.fromString(n).popFirst(5))}static empty(){return new Xt(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===ht.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return ht.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Xt(new ht(n.slice()))}}class or{constructor(n,i,o){this.readTime=n,this.documentKey=i,this.largestBatchId=o}static min(){return new or(dn.min(),Xt.empty(),-1)}static max(){return new or(dn.max(),Xt.empty(),-1)}}function In(c,n){let i=c.readTime.compareTo(n.readTime);return 0!==i?i:(i=Xt.comparator(c.documentKey,n.documentKey),0!==i?i:Kt(c.largestBatchId,n.largestBatchId))}class Pr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Kn(c){return xi.apply(this,arguments)}function xi(){return(xi=(0,T.A)(function*(c){if(c.code!==He.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==c.message)throw c;ct("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Fe{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new Fe((o,u)=>{this.nextCallback=p=>{this.wrapSuccess(n,p).next(o,u)},this.catchCallback=p=>{this.wrapFailure(i,p).next(o,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof Fe?i:Fe.resolve(i)}catch(i){return Fe.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):Fe.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):Fe.reject(i)}static resolve(n){return new Fe((i,o)=>{i(n)})}static reject(n){return new Fe((i,o)=>{o(n)})}static waitFor(n){return new Fe((i,o)=>{let u=0,p=0,E=!1;n.forEach(R=>{++u,R.next(()=>{++p,E&&p===u&&i()},N=>o(N))}),E=!0,p===u&&i()})}static or(n){let i=Fe.resolve(!1);for(const o of n)i=i.next(u=>u?Fe.resolve(u):o());return i}static forEach(n,i){const o=[];return n.forEach((u,p)=>{o.push(i.call(this,u,p))}),this.waitFor(o)}static mapArray(n,i){return new Fe((o,u)=>{const p=n.length,E=new Array(p);let R=0;for(let N=0;N<p;N++){const V=N;i(n[V]).next(X=>{E[V]=X,++R,R===p&&o(E)},X=>u(X))}})}static doWhile(n,i){return new Fe((o,u)=>{const p=()=>{!0===n()?i().next(()=>{p()},u):o()};p()})}}function Ir(c){return"IndexedDbTransactionError"===c.name}let Ze=(()=>{class c{constructor(i,o){this.previousValue=i,o&&(o.sequenceNumberHandler=u=>this.ue(u),this.ce=u=>o.writeSequenceNumber(u))}ue(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ce&&this.ce(i),i}}return c.le=-1,c})();function wn(c){return null==c}function gr(c){return 0===c&&1/c==-1/0}function ot(c,n){let i=n;const o=c.length;for(let u=0;u<o;u++){const p=c.charAt(u);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function Dt(c){return c+"\x01\x01"}const wt="mutationQueues",Ft="mutations",Ti="documentMutations",Mn="remoteDocumentGlobal",ar="targets",wi="targetDocuments",B="targetGlobal",de="collectionParents",ee="clientMetadata",It="bundles",Cn="namedQueries";function Os(c){let n=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n++;return n}function Ds(c,n){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n(i,c[i])}function io(c){for(const n in c)if(Object.prototype.hasOwnProperty.call(c,n))return!1;return!0}class Xr{constructor(n,i){this.comparator=n,this.root=i||ri.EMPTY}insert(n,i){return new Xr(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,ri.BLACK,null,null))}remove(n){return new Xr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,ri.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(n,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(n){let i=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(n,o.key);if(0===u)return i+o.left.size;u<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,o)=>(n(i,o),!1))}toString(){const n=[];return this.inorderTraversal((i,o)=>(n.push(`${i}:${o}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Vi(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Vi(this.root,n,this.comparator,!1)}getReverseIterator(){return new Vi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Vi(this.root,n,this.comparator,!0)}}class Vi{constructor(n,i,o,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!n.isEmpty();)if(p=i?o(n.key,i):1,i&&u&&(p*=-1),p<0)n=this.isReverse?n.left:n.right;else{if(0===p){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class ri{constructor(n,i,o,u,p){this.key=n,this.value=i,this.color=o??ri.RED,this.left=u??ri.EMPTY,this.right=p??ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,o,u,p){return new ri(n??this.key,i??this.value,o??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,o){let u=this;const p=o(n,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(n,i,o),null):0===p?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ri.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let o,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return ri.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw nt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw nt(27949);return n+(this.isRed()?0:1)}}ri.EMPTY=null,ri.RED=!0,ri.BLACK=!1,ri.EMPTY=new class{constructor(){this.size=0}get key(){throw nt(57766)}get value(){throw nt(16141)}get color(){throw nt(16727)}get left(){throw nt(29726)}get right(){throw nt(36894)}copy(n,i,o,u,p){return this}insert(n,i,o){return new ri(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zr{constructor(n){this.comparator=n,this.data=new Xr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,o)=>(n(i),!1))}forEachInRange(n,i){const o=this.data.getIteratorFrom(n[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!n(o.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new ao(this.data.getIterator())}getIteratorFrom(n){return new ao(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(o=>{i=i.add(o)}),i}isEqual(n){if(!(n instanceof Zr)||this.size!==n.size)return!1;const i=this.data.getIterator(),o=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=o.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Zr(this.comparator);return i.data=n,i}}class ao{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ns{constructor(n){this.fields=n,n.sort(Gn.comparator)}static empty(){return new ns([])}unionWith(n){let i=new Zr(Gn.comparator);for(const o of this.fields)i=i.add(o);for(const o of n)i=i.add(o);return new ns(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Br(this.fields,n.fields,(i,o)=>i.isEqual(o))}}class Fo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ri{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new Fo("Invalid base64 string: "+p):p}}(n);return new Ri(i)}static fromUint8Array(n){const i=function(u){let p="";for(let E=0;E<u.length;++E)p+=String.fromCharCode(u[E]);return p}(n);return new Ri(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const o=new Uint8Array(i.length);for(let u=0;u<i.length;u++)o[u]=i.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Kt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const Ia=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(c){if(mt(!!c,39018),"string"==typeof c){let n=0;const i=Ia.exec(c);if(mt(!!i,46558,{timestamp:c}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const o=new Date(c);return{seconds:Math.floor(o.getTime()/1e3),nanos:n}}return{seconds:zr(c.seconds),nanos:zr(c.nanos)}}function zr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function mr(c){return"string"==typeof c?Ri.fromBase64String(c):Ri.fromUint8Array(c)}const Pi="server_timestamp",la="__type__",So="__previous_value__",Ro="__local_write_time__";function rs(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[la])||void 0===i?void 0:i.stringValue)===Pi}function Er(c){const n=c.mapValue.fields[So];return rs(n)?Er(n):n}function W(c){const n=Ls(c.mapValue.fields[Ro].timestampValue);return new fr(n.seconds,n.nanos)}class z{constructor(n,i,o,u,p,E,R,N,V,X){this.databaseId=n,this.appId=i,this.persistenceKey=o,this.host=u,this.ssl=p,this.forceLongPolling=E,this.autoDetectLongPolling=R,this.longPollingOptions=N,this.useFetchStreams=V,this.isUsingEmulator=X}}const pe="(default)";class Pe{constructor(n,i){this.projectId=n,this.database=i||pe}static empty(){return new Pe("","")}get isDefaultDatabase(){return this.database===pe}isEqual(n){return n instanceof Pe&&n.projectId===this.projectId&&n.database===this.database}}const ut="__type__",Mt="__max__",Qt_mapValue={fields:{__type__:{stringValue:Mt}}},Tn="__vector__",yn="value";function zn(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?rs(c)?4:Ta(c)?9007199254740991:Gs(c)?10:11:nt(28295,{value:c})}function Tr(c,n){if(c===n)return!0;const i=zn(c);if(i!==zn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===n.booleanValue;case 4:return W(c).isEqual(W(n));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const E=Ls(u.timestampValue),R=Ls(p.timestampValue);return E.seconds===R.seconds&&E.nanos===R.nanos}(c,n);case 5:return c.stringValue===n.stringValue;case 6:return p=n,mr(c.bytesValue).isEqual(mr(p.bytesValue));case 7:return c.referenceValue===n.referenceValue;case 8:return function(u,p){return zr(u.geoPointValue.latitude)===zr(p.geoPointValue.latitude)&&zr(u.geoPointValue.longitude)===zr(p.geoPointValue.longitude)}(c,n);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return zr(u.integerValue)===zr(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const E=zr(u.doubleValue),R=zr(p.doubleValue);return E===R?gr(E)===gr(R):isNaN(E)&&isNaN(R)}return!1}(c,n);case 9:return Br(c.arrayValue.values||[],n.arrayValue.values||[],Tr);case 10:case 11:return function(u,p){const E=u.mapValue.fields||{},R=p.mapValue.fields||{};if(Os(E)!==Os(R))return!1;for(const N in E)if(E.hasOwnProperty(N)&&(void 0===R[N]||!Tr(E[N],R[N])))return!1;return!0}(c,n);default:return nt(52216,{left:c})}var p}function mi(c,n){return void 0!==(c.values||[]).find(i=>Tr(i,n))}function ui(c,n){if(c===n)return 0;const i=zn(c),o=zn(n);if(i!==o)return Kt(i,o);switch(i){case 0:case 9007199254740991:return 0;case 1:return Kt(c.booleanValue,n.booleanValue);case 2:return function(p,E){const R=zr(p.integerValue||p.doubleValue),N=zr(E.integerValue||E.doubleValue);return R<N?-1:R>N?1:R===N?0:isNaN(R)?isNaN(N)?0:-1:1}(c,n);case 3:return Ui(c.timestampValue,n.timestampValue);case 4:return Ui(W(c),W(n));case 5:return kn(c.stringValue,n.stringValue);case 6:return function(p,E){const R=mr(p),N=mr(E);return R.compareTo(N)}(c.bytesValue,n.bytesValue);case 7:return function(p,E){const R=p.split("/"),N=E.split("/");for(let V=0;V<R.length&&V<N.length;V++){const X=Kt(R[V],N[V]);if(0!==X)return X}return Kt(R.length,N.length)}(c.referenceValue,n.referenceValue);case 8:return function(p,E){const R=Kt(zr(p.latitude),zr(E.latitude));return 0!==R?R:Kt(zr(p.longitude),zr(E.longitude))}(c.geoPointValue,n.geoPointValue);case 9:return Mi(c.arrayValue,n.arrayValue);case 10:return function(p,E){var R,N,V,X;const Et=null===(R=(p.fields||{})[yn])||void 0===R?void 0:R.arrayValue,$t=null===(N=(E.fields||{})[yn])||void 0===N?void 0:N.arrayValue,on=Kt((null===(V=Et?.values)||void 0===V?void 0:V.length)||0,(null===(X=$t?.values)||void 0===X?void 0:X.length)||0);return 0!==on?on:Mi(Et,$t)}(c.mapValue,n.mapValue);case 11:return function(p,E){if(p===Qt_mapValue&&E===Qt_mapValue)return 0;if(p===Qt_mapValue)return 1;if(E===Qt_mapValue)return-1;const R=p.fields||{},N=Object.keys(R),V=E.fields||{},X=Object.keys(V);N.sort(),X.sort();for(let se=0;se<N.length&&se<X.length;++se){const xe=kn(N[se],X[se]);if(0!==xe)return xe;const Et=ui(R[N[se]],V[X[se]]);if(0!==Et)return Et}return Kt(N.length,X.length)}(c.mapValue,n.mapValue);default:throw nt(23264,{Pe:i})}}function Ui(c,n){if("string"==typeof c&&"string"==typeof n&&c.length===n.length)return Kt(c,n);const i=Ls(c),o=Ls(n),u=Kt(i.seconds,o.seconds);return 0!==u?u:Kt(i.nanos,o.nanos)}function Mi(c,n){const i=c.values||[],o=n.values||[];for(let u=0;u<i.length&&u<o.length;++u){const p=ui(i[u],o[u]);if(p)return p}return Kt(i.length,o.length)}function li(c){return is(c)}function is(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const o=Ls(i);return`time(${o.seconds},${o.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?mr(c.bytesValue).toBase64():"referenceValue"in c?Xt.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let o="[",u=!0;for(const p of i.values||[])u?u=!1:o+=",",o+=is(p);return o+"]"}(c.arrayValue):"mapValue"in c?function(i){const o=Object.keys(i.fields||{}).sort();let u="{",p=!0;for(const E of o)p?p=!1:u+=",",u+=`${E}:${is(i.fields[E])}`;return u+"}"}(c.mapValue):nt(61005,{value:c})}function ss(c){switch(zn(c)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Er(c);return n?16+ss(n):16;case 5:return 2*c.stringValue.length;case 6:return mr(c.bytesValue).approximateByteSize();case 7:return c.referenceValue.length;case 9:return(c.arrayValue.values||[]).reduce((u,p)=>u+ss(p),0);case 10:case 11:return function(o){let u=0;return Ds(o.fields,(p,E)=>{u+=p.length+ss(E)}),u}(c.mapValue);default:throw nt(13486,{value:c})}}function di(c,n){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${n.path.canonicalString()}`}}function bi(c){return!!c&&"integerValue"in c}function _s(c){return!!c&&"arrayValue"in c}function Yr(c){return!!c&&"nullValue"in c}function hs(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function As(c){return!!c&&"mapValue"in c}function Gs(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[ut])||void 0===i?void 0:i.stringValue)===Tn}function _o(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const n={mapValue:{fields:{}}};return Ds(c.mapValue.fields,(i,o)=>n.mapValue.fields[i]=_o(o)),n}if(c.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=_o(c.arrayValue.values[i]);return n}return Object.assign({},c)}function Ta(c){return(((c.mapValue||{}).fields||{}).__type__||{}).stringValue===Mt}class es{constructor(n){this.value=n}static empty(){return new es({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let o=0;o<n.length-1;++o)if(i=(i.mapValue.fields||{})[n.get(o)],!As(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=_o(i)}setAll(n){let i=Gn.emptyPath(),o={},u=[];n.forEach((E,R)=>{if(!i.isImmediateParentOf(R)){const N=this.getFieldsMap(i);this.applyChanges(N,o,u),o={},u=[],i=R.popLast()}E?o[R.lastSegment()]=_o(E):u.push(R.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,o,u)}delete(n){const i=this.field(n.popLast());As(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Tr(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<n.length;++o){let u=i.mapValue.fields[n.get(o)];As(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(o)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,o){Ds(i,(u,p)=>n[u]=p);for(const u of o)delete n[u]}clone(){return new es(_o(this.value))}}function Po(c){const n=[];return Ds(c.fields,(i,o)=>{const u=new Gn([i]);if(As(o)){const p=Po(o.mapValue).fields;if(0===p.length)n.push(u);else for(const E of p)n.push(u.child(E))}else n.push(u)}),new ns(n)}class ii{constructor(n,i,o,u,p,E,R){this.key=n,this.documentType=i,this.version=o,this.readTime=u,this.createTime=p,this.data=E,this.documentState=R}static newInvalidDocument(n){return new ii(n,0,dn.min(),dn.min(),dn.min(),es.empty(),0)}static newFoundDocument(n,i,o,u){return new ii(n,1,i,dn.min(),o,u,0)}static newNoDocument(n,i){return new ii(n,2,i,dn.min(),dn.min(),es.empty(),0)}static newUnknownDocument(n,i){return new ii(n,3,i,dn.min(),dn.min(),es.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(dn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof ii&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $s{constructor(n,i){this.position=n,this.inclusive=i}}function Lo(c,n,i){let o=0;for(let u=0;u<c.position.length;u++){const p=n[u],E=c.position[u];if(o=p.field.isKeyField()?Xt.comparator(Xt.fromName(E.referenceValue),i.key):ui(E,i.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function Yo(c,n){if(null===c)return null===n;if(null===n||c.inclusive!==n.inclusive||c.position.length!==n.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!Tr(c.position[i],n.position[i]))return!1;return!0}class vo{constructor(n,i="asc"){this.field=n,this.dir=i}}function Di(c,n){return c.dir===n.dir&&c.field.isEqual(n.field)}class da{}class $r extends da{constructor(n,i,o){super(),this.field=n,this.op=i,this.value=o}static create(n,i,o){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,o):new Wr(n,i,o):"array-contains"===i?new zs(n,o):"in"===i?new ki(n,o):"not-in"===i?new Vs(n,o):"array-contains-any"===i?new Eo(n,o):new $r(n,i,o)}static createKeyFieldInFilter(n,i,o){return"in"===i?new Jt(n,o):new Xn(n,o)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&void 0===i.nullValue&&this.matchesComparison(ui(i,this.value)):null!==i&&zn(this.value)===zn(i)&&this.matchesComparison(ui(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends da{constructor(n,i){super(),this.filters=n,this.op=i,this.Te=null}static create(n,i){return new Fr(n,i)}matches(n){return ba(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ba(c){return"and"===c.op}function qa(c){return function ha(c){for(const n of c.filters)if(n instanceof Fr)return!1;return!0}(c)&&ba(c)}function pc(c){if(c instanceof $r)return c.field.canonicalString()+c.op.toString()+li(c.value);if(qa(c))return c.filters.map(n=>pc(n)).join(",");{const n=c.filters.map(i=>pc(i)).join(",");return`${c.op}(${n})`}}function Aa(c,n){return c instanceof $r?(o=c,(u=n)instanceof $r&&o.op===u.op&&o.field.isEqual(u.field)&&Tr(o.value,u.value)):c instanceof Fr?function(o,u){return u instanceof Fr&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((p,E,R)=>p&&Aa(E,u.filters[R]),!0)}(c,n):void nt(19439);var o,u}function Hs(c){return c instanceof $r?`${(i=c).field.canonicalString()} ${i.op} ${li(i.value)}`:c instanceof Fr?function(i){return i.op.toString()+" {"+i.getFilters().map(Hs).join(" ,")+"}"}(c):"Filter";var i}class Wr extends $r{constructor(n,i,o){super(n,i,o),this.key=Xt.fromName(o.referenceValue)}matches(n){const i=Xt.comparator(n.key,this.key);return this.matchesComparison(i)}}class Jt extends $r{constructor(n,i){super(n,"in",i),this.keys=hi(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class Xn extends $r{constructor(n,i){super(n,"not-in",i),this.keys=hi(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function hi(c,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>Xt.fromName(o.referenceValue))}class zs extends $r{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return _s(i)&&mi(i.arrayValue,this.value)}}class ki extends $r{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&mi(this.value.arrayValue,i)}}class Vs extends $r{constructor(n,i){super(n,"not-in",i)}matches(n){if(mi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&void 0===i.nullValue&&!mi(this.value.arrayValue,i)}}class Eo extends $r{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!_s(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>mi(this.value.arrayValue,o))}}class Ar{constructor(n,i=null,o=[],u=[],p=null,E=null,R=null){this.path=n,this.collectionGroup=i,this.orderBy=o,this.filters=u,this.limit=p,this.startAt=E,this.endAt=R,this.Ie=null}}function P(c,n=null,i=[],o=[],u=null,p=null,E=null){return new Ar(c,n,i,o,u,p,E)}function k(c){const n=Ot(c);if(null===n.Ie){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(o=>pc(o)).join(","),i+="|ob:",i+=n.orderBy.map(o=>{return(p=o).field.canonicalString()+p.dir;var p}).join(","),wn(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>li(o)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>li(o)).join(",")),n.Ie=i}return n.Ie}function j(c,n){if(c.limit!==n.limit||c.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!Di(c.orderBy[i],n.orderBy[i]))return!1;if(c.filters.length!==n.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!Aa(c.filters[i],n.filters[i]))return!1;return c.collectionGroup===n.collectionGroup&&!!c.path.isEqual(n.path)&&!!Yo(c.startAt,n.startAt)&&Yo(c.endAt,n.endAt)}function Ae(c){return Xt.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}class Bi{constructor(n,i=null,o=[],u=[],p=null,E="F",R=null,N=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=u,this.limit=p,this.limitType=E,this.startAt=R,this.endAt=N,this.Ee=null,this.de=null,this.Ae=null}}function vs(c){return new Bi(c)}function Jo(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function Va(c){return null!==c.collectionGroup}function Ks(c){const n=Ot(c);if(null===n.Ee){n.Ee=[];const i=new Set;for(const p of n.explicitOrderBy)n.Ee.push(p),i.add(p.field.canonicalString());const o=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(E){let R=new Zr(Gn.comparator);return E.filters.forEach(N=>{N.getFlattenedFilters().forEach(V=>{V.isInequality()&&(R=R.add(V.field))})}),R})(n).forEach(p=>{i.has(p.canonicalString())||p.isKeyField()||n.Ee.push(new vo(p,o))}),i.has(Gn.keyField().canonicalString())||n.Ee.push(new vo(Gn.keyField(),o))}return n.Ee}function Cs(c){const n=Ot(c);return n.de||(n.de=function qs(c,n){if("F"===c.limitType)return P(c.path,c.collectionGroup,n,c.filters,c.limit,c.startAt,c.endAt);{n=n.map(u=>new vo(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new $s(c.endAt.position,c.endAt.inclusive):null,o=c.startAt?new $s(c.startAt.position,c.startAt.inclusive):null;return P(c.path,c.collectionGroup,n,c.filters,c.limit,i,o)}}(n,Ks(c))),n.de}function ea(c,n){const i=c.filters.concat([n]);return new Bi(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function An(c,n,i){return new Bi(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),n,i,c.startAt,c.endAt)}function ta(c,n){return j(Cs(c),Cs(n))&&c.limitType===n.limitType}function Io(c){return`${k(Cs(c))}|lt:${c.limitType}`}function uo(c){return`Query(target=${function(i){let o=i.path.canonicalString();return null!==i.collectionGroup&&(o+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(o+=`, filters: [${i.filters.map(u=>Hs(u)).join(", ")}]`),wn(i.limit)||(o+=", limit: "+i.limit),i.orderBy.length>0&&(o+=`, orderBy: [${i.orderBy.map(u=>{return`${(E=u).field.canonicalString()} (${E.dir})`;var E}).join(", ")}]`),i.startAt&&(o+=", startAt: ",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map(u=>li(u)).join(",")),i.endAt&&(o+=", endAt: ",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map(u=>li(u)).join(",")),`Target(${o})`}(Cs(c))}; limitType=${c.limitType})`}function Sa(c,n){return n.isFoundDocument()&&function(o,u){const p=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(p):Xt.isDocumentKey(o.path)?o.path.isEqual(p):o.path.isImmediateParentOf(p)}(c,n)&&function(o,u){for(const p of Ks(o))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(c,n)&&function(o,u){for(const p of o.filters)if(!p.matches(u))return!1;return!0}(c,n)&&(u=n,!((o=c).startAt&&!function(E,R,N){const V=Lo(E,R,N);return E.inclusive?V<=0:V<0}(o.startAt,Ks(o),u)||o.endAt&&!function(E,R,N){const V=Lo(E,R,N);return E.inclusive?V>=0:V>0}(o.endAt,Ks(o),u)));var o,u}function Hi(c){return(n,i)=>{let o=!1;for(const u of Ks(c)){const p=zi(u,n,i);if(0!==p)return p;o=o||u.field.isKeyField()}return 0}}function zi(c,n,i){const o=c.field.isKeyField()?Xt.comparator(n.key,i.key):function(p,E,R){const N=E.data.field(p),V=R.data.field(p);return null!==N&&null!==V?ui(N,V):nt(42886)}(c.field,n,i);switch(c.dir){case"asc":return o;case"desc":return-1*o;default:return nt(19790,{direction:c.dir})}}class A{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),o=this.inner[i];if(void 0!==o)for(const[u,p]of o)if(this.equalsFn(u,n))return p}has(n){return void 0!==this.get(n)}set(n,i){const o=this.mapKeyFn(n),u=this.inner[o];if(void 0===u)return this.inner[o]=[[n,i]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],n))return void(u[p]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),o=this.inner[i];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],n))return 1===o.length?delete this.inner[i]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(n){Ds(this.inner,(i,o)=>{for(const[u,p]of o)n(u,p)})}isEmpty(){return io(this.inner)}size(){return this.innerSize}}const _=new Xr(Xt.comparator);function l(){return _}const h=new Xr(Xt.comparator);function m(...c){let n=h;for(const i of c)n=n.insert(i.key,i);return n}function C(c){let n=h;return c.forEach((i,o)=>n=n.insert(i,o.overlayedDocument)),n}function M(){return Q()}function G(){return Q()}function Q(){return new A(c=>c.toString(),(c,n)=>c.isEqual(n))}const Ie=new Xr(Xt.comparator),Ke=new Zr(Xt.comparator);function Ct(...c){let n=Ke;for(const i of c)n=n.add(i);return n}const fn=new Zr(Kt);function Ln(c,n){if(c.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gr(n)?"-0":n}}function Wn(c){return{integerValue:""+c}}function nr(c,n){return function te(c){return"number"==typeof c&&Number.isInteger(c)&&!gr(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}(n)?Wn(n):Ln(c,n)}class yi{constructor(){this._=void 0}}function os(c,n,i){return c instanceof Es?function(u,p){const E={fields:{[la]:{stringValue:Pi},[Ro]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&rs(p)&&(p=Er(p)),p&&(E.fields[So]=p),{mapValue:E}}(i,n):c instanceof na?Ho(c,n):c instanceof Rs?Mo(c,n):function(u,p){const E=Qs(u,p),R=Nc(E)+Nc(u.Re);return bi(E)&&bi(u.Re)?Wn(R):Ln(u.serializer,R)}(c,n)}function Ss(c,n,i){return c instanceof na?Ho(c,n):c instanceof Rs?Mo(c,n):i}function Qs(c,n){return c instanceof fa?bi(o=n)||(p=o)&&"doubleValue"in p?n:{integerValue:0}:null;var o,p}class Es extends yi{}class na extends yi{constructor(n){super(),this.elements=n}}function Ho(c,n){const i=Ml(n);for(const o of c.elements)i.some(u=>Tr(u,o))||i.push(o);return{arrayValue:{values:i}}}class Rs extends yi{constructor(n){super(),this.elements=n}}function Mo(c,n){let i=Ml(n);for(const o of c.elements)i=i.filter(u=>!Tr(u,o));return{arrayValue:{values:i}}}class fa extends yi{constructor(n,i){super(),this.serializer=n,this.Re=i}}function Nc(c){return zr(c.integerValue||c.doubleValue)}function Ml(c){return _s(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class kl{constructor(n,i){this.version=n,this.transformResults=i}}class Qi{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new Qi}static exists(n){return new Qi(void 0,n)}static updateTime(n){return new Qi(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Vn(c,n){return void 0!==c.updateTime?n.isFoundDocument()&&n.version.isEqual(c.updateTime):void 0===c.exists||c.exists===n.isFoundDocument()}class Yn{}function sr(c,n){if(!c.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return c.isNoDocument()?new Xi(c.key,Qi.none()):new ko(c.key,c.data,Qi.none());{const i=c.data,o=es.empty();let u=new Zr(Gn.comparator);for(let p of n.fields)if(!u.has(p)){let E=i.field(p);null===E&&p.length>1&&(p=p.popLast(),E=i.field(p)),null===E?o.delete(p):o.set(p,E),u=u.add(p)}return new si(c.key,o,new ns(u.toArray()),Qi.none())}}function fi(c,n,i){c instanceof ko?function(u,p,E){const R=u.value.clone(),N=ou(u.fieldTransforms,p,E.transformResults);R.setAll(N),p.convertToFoundDocument(E.version,R).setHasCommittedMutations()}(c,n,i):c instanceof si?function(u,p,E){if(!Vn(u.precondition,p))return void p.convertToUnknownDocument(E.version);const R=ou(u.fieldTransforms,p,E.transformResults),N=p.data;N.setAll(ei(u)),N.setAll(R),p.convertToFoundDocument(E.version,N).setHasCommittedMutations()}(c,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Sr(c,n,i,o){return c instanceof ko?function(p,E,R,N){if(!Vn(p.precondition,E))return R;const V=p.value.clone(),X=fs(p.fieldTransforms,N,E);return V.setAll(X),E.convertToFoundDocument(E.version,V).setHasLocalMutations(),null}(c,n,i,o):c instanceof si?function(p,E,R,N){if(!Vn(p.precondition,E))return R;const V=fs(p.fieldTransforms,N,E),X=E.data;return X.setAll(ei(p)),X.setAll(V),E.convertToFoundDocument(E.version,X).setHasLocalMutations(),null===R?null:R.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(se=>se.field))}(c,n,i,o):(R=i,Vn(c.precondition,E=n)?(E.convertToNoDocument(E.version).setHasLocalMutations(),null):R);var E,R}function pa(c,n){let i=null;for(const o of c.fieldTransforms){const u=n.data.field(o.field),p=Qs(o.transform,u||null);null!=p&&(null===i&&(i=es.empty()),i.set(o.field,p))}return i||null}function br(c,n){return c.type===n.type&&!!c.key.isEqual(n.key)&&!!c.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(o=c.fieldTransforms)&&void 0===u||o&&u&&Br(o,u,(p,E)=>function Hu(c,n){return c.field.isEqual(n.field)&&(u=n.transform,(o=c.transform)instanceof na&&u instanceof na||o instanceof Rs&&u instanceof Rs?Br(o.elements,u.elements,Tr):o instanceof fa&&u instanceof fa?Tr(o.Re,u.Re):o instanceof Es&&u instanceof Es);var o,u}(p,E))))&&(0===c.type?c.value.isEqual(n.value):1!==c.type||c.data.isEqual(n.data)&&c.fieldMask.isEqual(n.fieldMask));var o,u}class ko extends Yn{constructor(n,i,o,u=[]){super(),this.key=n,this.value=i,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class si extends Yn{constructor(n,i,o,u,p=[]){super(),this.key=n,this.data=i,this.fieldMask=o,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function ei(c){const n=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=c.data.field(i);n.set(i,o)}}),n}function ou(c,n,i){const o=new Map;mt(c.length===i.length,32656,{Ve:i.length,me:c.length});for(let u=0;u<i.length;u++){const p=c[u],E=p.transform,R=n.data.field(p.field);o.set(p.field,Ss(E,R,i[u]))}return o}function fs(c,n,i){const o=new Map;for(const u of c){const p=u.transform,E=i.data.field(u.field);o.set(u.field,os(p,E,n))}return o}class Xi extends Yn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class so extends Yn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vo{constructor(n,i,o,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(n,i){const o=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(n.key)&&fi(p,n,o[u])}}applyToLocalView(n,i){for(const o of this.baseMutations)o.key.isEqual(n.key)&&(i=Sr(o,n,i,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(n.key)&&(i=Sr(o,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const o=G();return this.mutations.forEach(u=>{const p=n.get(u.key),E=p.overlayedDocument;let R=this.applyToLocalView(E,p.mutatedFields);R=i.has(u.key)?null:R;const N=sr(E,R);null!==N&&o.set(u.key,N),E.isValidDocument()||E.convertToNoDocument(dn.min())}),o}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),Ct())}isEqual(n){return this.batchId===n.batchId&&Br(this.mutations,n.mutations,(i,o)=>br(i,o))&&Br(this.baseMutations,n.baseMutations,(i,o)=>br(i,o))}}class To{constructor(n,i,o,u){this.batch=n,this.commitVersion=i,this.mutationResults=o,this.docVersions=u}static from(n,i,o){mt(n.mutations.length===o.length,58842,{fe:n.mutations.length,ge:o.length});let u=function(){return Ie}();const p=n.mutations;for(let E=0;E<p.length;E++)u=u.insert(p[E].key,o[E].version);return new To(n,i,o,u)}}class gc{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rh{constructor(n,i){this.count=n,this.unchangedNames=i}}var Ps,oi;function zu(c){if(void 0===c)return Pn("GRPC error has no .code"),He.UNKNOWN;switch(c){case Ps.OK:return He.OK;case Ps.CANCELLED:return He.CANCELLED;case Ps.UNKNOWN:return He.UNKNOWN;case Ps.DEADLINE_EXCEEDED:return He.DEADLINE_EXCEEDED;case Ps.RESOURCE_EXHAUSTED:return He.RESOURCE_EXHAUSTED;case Ps.INTERNAL:return He.INTERNAL;case Ps.UNAVAILABLE:return He.UNAVAILABLE;case Ps.UNAUTHENTICATED:return He.UNAUTHENTICATED;case Ps.INVALID_ARGUMENT:return He.INVALID_ARGUMENT;case Ps.NOT_FOUND:return He.NOT_FOUND;case Ps.ALREADY_EXISTS:return He.ALREADY_EXISTS;case Ps.PERMISSION_DENIED:return He.PERMISSION_DENIED;case Ps.FAILED_PRECONDITION:return He.FAILED_PRECONDITION;case Ps.ABORTED:return He.ABORTED;case Ps.OUT_OF_RANGE:return He.OUT_OF_RANGE;case Ps.UNIMPLEMENTED:return He.UNIMPLEMENTED;case Ps.DATA_LOSS:return He.DATA_LOSS;default:return nt(39323,{code:c})}}(oi=Ps||(Ps={}))[oi.OK=0]="OK",oi[oi.CANCELLED=1]="CANCELLED",oi[oi.UNKNOWN=2]="UNKNOWN",oi[oi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oi[oi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oi[oi.NOT_FOUND=5]="NOT_FOUND",oi[oi.ALREADY_EXISTS=6]="ALREADY_EXISTS",oi[oi.PERMISSION_DENIED=7]="PERMISSION_DENIED",oi[oi.UNAUTHENTICATED=16]="UNAUTHENTICATED",oi[oi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oi[oi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oi[oi.ABORTED=10]="ABORTED",oi[oi.OUT_OF_RANGE=11]="OUT_OF_RANGE",oi[oi.UNIMPLEMENTED=12]="UNIMPLEMENTED",oi[oi.INTERNAL=13]="INTERNAL",oi[oi.UNAVAILABLE=14]="UNAVAILABLE",oi[oi.DATA_LOSS=15]="DATA_LOSS";const wf=new Ee([4294967295,4294967295],0);function au(c){const n=$n().encode(c),i=new je;return i.update(n),new Uint8Array(i.digest())}function ih(c){const n=new DataView(c.buffer),i=n.getUint32(0,!0),o=n.getUint32(4,!0),u=n.getUint32(8,!0),p=n.getUint32(12,!0);return[new Ee([i,o],0),new Ee([u,p],0)]}class mc{constructor(n,i,o){if(this.bitmap=n,this.padding=i,this.hashCount=o,i<0||i>=8)throw new Qa(`Invalid padding: ${i}`);if(o<0)throw new Qa(`Invalid hash count: ${o}`);if(n.length>0&&0===this.hashCount)throw new Qa(`Invalid hash count: ${o}`);if(0===n.length&&0!==i)throw new Qa(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*n.length-i,this.ye=Ee.fromNumber(this.pe)}we(n,i,o){let u=n.add(i.multiply(Ee.fromNumber(o)));return 1===u.compare(wf)&&(u=new Ee([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.pe)return!1;const i=au(n),[o,u]=ih(i);for(let p=0;p<this.hashCount;p++){const E=this.we(o,u,p);if(!this.Se(E))return!1}return!0}static create(n,i,o){const u=n%8==0?0:8-n%8,p=new Uint8Array(Math.ceil(n/8)),E=new mc(p,u,i);return o.forEach(R=>E.insert(R)),E}insert(n){if(0===this.pe)return;const i=au(n),[o,u]=ih(i);for(let p=0;p<this.hashCount;p++){const E=this.we(o,u,p);this.be(E)}}be(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oc{constructor(n,i,o,u,p){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(n,i,o){const u=new Map;return u.set(n,sa.createSynthesizedTargetChangeForCurrentChange(n,i,o)),new Oc(dn.min(),u,new Xr(Kt),l(),Ct())}}class sa{constructor(n,i,o,u,p){this.resumeToken=n,this.current=i,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(n,i,o){return new sa(o,i,Ct(),Ct(),Ct())}}class yc{constructor(n,i,o,u){this.De=n,this.removedTargetIds=i,this.key=o,this.ve=u}}class Nl{constructor(n,i){this.targetId=n,this.Ce=i}}class If{constructor(n,i,o=Ri.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=o,this.cause=u}}class wr{constructor(){this.Fe=0,this.Me=Ol(),this.xe=Ri.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(n){n.approximateByteSize()>0&&(this.Ne=!0,this.xe=n)}qe(){let n=Ct(),i=Ct(),o=Ct();return this.Me.forEach((u,p)=>{switch(p){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:o=o.add(u);break;default:nt(38017,{changeType:p})}}),new sa(this.xe,this.Oe,n,i,o)}Qe(){this.Ne=!1,this.Me=Ol()}$e(n,i){this.Ne=!0,this.Me=this.Me.insert(n,i)}Ue(n){this.Ne=!0,this.Me=this.Me.remove(n)}Ke(){this.Fe+=1}We(){this.Fe-=1,mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xl{constructor(n){this.ze=n,this.je=new Map,this.He=l(),this.Je=Ua(),this.Ye=Ua(),this.Ze=new Xr(Kt)}Xe(n){for(const i of n.De)n.ve&&n.ve.isFoundDocument()?this.et(i,n.ve):this.tt(i,n.key,n.ve);for(const i of n.removedTargetIds)this.tt(i,n.key,n.ve)}nt(n){this.forEachTarget(n,i=>{const o=this.rt(i);switch(n.state){case 0:this.it(i)&&o.ke(n.resumeToken);break;case 1:o.We(),o.Be||o.Qe(),o.ke(n.resumeToken);break;case 2:o.We(),o.Be||this.removeTarget(i);break;case 3:this.it(i)&&(o.Ge(),o.ke(n.resumeToken));break;case 4:this.it(i)&&(this.st(i),o.ke(n.resumeToken));break;default:nt(56790,{state:n.state})}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.je.forEach((o,u)=>{this.it(u)&&i(u)})}ot(n){const i=n.targetId,o=n.Ce.count,u=this._t(i);if(u){const p=u.target;if(Ae(p))if(0===o){const E=new Xt(p.path);this.tt(i,E,ii.newNoDocument(E,dn.min()))}else mt(1===o,20013,{expectedCount:o});else{const E=this.ut(i);if(E!==o){const R=this.ct(n),N=R?this.lt(R,n,E):1;0!==N&&(this.st(i),this.Ze=this.Ze.insert(i,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ct(n){const i=n.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:p=0}=i;let E,R;try{E=mr(o).toUint8Array()}catch(N){if(N instanceof Fo)return xn("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{R=new mc(E,u,p)}catch(N){return xn(N instanceof Qa?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===R.pe?null:R}lt(n,i,o){return i.Ce.count===o-this.Tt(n,i.targetId)?0:2}Tt(n,i){const o=this.ze.getRemoteKeysForTarget(i);let u=0;return o.forEach(p=>{const E=this.ze.Pt(),R=`projects/${E.projectId}/databases/${E.database}/documents/${p.path.canonicalString()}`;n.mightContain(R)||(this.tt(i,p,null),u++)}),u}It(n){const i=new Map;this.je.forEach((p,E)=>{const R=this._t(E);if(R){if(p.current&&Ae(R.target)){const N=new Xt(R.target.path);this.Et(N).has(E)||this.dt(E,N)||this.tt(E,N,ii.newNoDocument(N,n))}p.Le&&(i.set(E,p.qe()),p.Qe())}});let o=Ct();this.Ye.forEach((p,E)=>{let R=!0;E.forEachWhile(N=>{const V=this._t(N);return!V||"TargetPurposeLimboResolution"===V.purpose||(R=!1,!1)}),R&&(o=o.add(p))}),this.He.forEach((p,E)=>E.setReadTime(n));const u=new Oc(n,i,this.Ze,this.He,o);return this.He=l(),this.Je=Ua(),this.Ye=Ua(),this.Ze=new Xr(Kt),u}et(n,i){if(!this.it(n))return;const o=this.dt(n,i.key)?2:0;this.rt(n).$e(i.key,o),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(n)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(n))}tt(n,i,o){if(!this.it(n))return;const u=this.rt(n);this.dt(n,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(n)),this.Ye=this.Ye.insert(i,this.At(i).add(n)),o&&(this.He=this.He.insert(i,o))}removeTarget(n){this.je.delete(n)}ut(n){const i=this.rt(n).qe();return this.ze.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}Ke(n){this.rt(n).Ke()}rt(n){let i=this.je.get(n);return i||(i=new wr,this.je.set(n,i)),i}At(n){let i=this.Ye.get(n);return i||(i=new Zr(Kt),this.Ye=this.Ye.insert(n,i)),i}Et(n){let i=this.Je.get(n);return i||(i=new Zr(Kt),this.Je=this.Je.insert(n,i)),i}it(n){const i=null!==this._t(n);return i||ct("WatchChangeAggregator","Detected inactive target",n),i}_t(n){const i=this.je.get(n);return i&&i.Be?null:this.ze.Rt(n)}st(n){this.je.set(n,new wr),this.ze.getRemoteKeysForTarget(n).forEach(i=>{this.tt(n,i,null)})}dt(n,i){return this.ze.getRemoteKeysForTarget(n).has(i)}}function Ua(){return new Xr(Xt.comparator)}function Ol(){return new Xr(Xt.comparator)}const $y={asc:"ASCENDING",desc:"DESCENDING"},Eg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sh={and:"AND",or:"OR"};class Tf{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function Pa(c,n){return c.useProto3Json||wn(n)?n:{value:n}}function Wu(c,n){return c.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Fl(c,n){return c.useProto3Json?n.toBase64():n.toUint8Array()}function Hy(c,n){return Wu(c,n.toTimestamp())}function Ms(c){return mt(!!c,49232),dn.fromTimestamp(function(i){const o=Ls(i);return new fr(o.seconds,o.nanos)}(c))}function Gu(c,n){return Pt(c,n).canonicalString()}function Pt(c,n){const i=(u=c,new ht(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function yr(c){const n=ht.fromString(c);return mt(Bl(n),10190,{key:n.toString()}),n}function _c(c,n){return Gu(c.databaseId,n.path)}function oa(c,n){const i=yr(n);if(i.get(1)!==c.databaseId.projectId)throw new Y(He.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new Y(He.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new Xt(zo(i))}function Lr(c,n){return Gu(c.databaseId,n)}function aa(c){return new ht(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function zo(c){return mt(c.length>4&&"documents"===c.get(4),29091,{key:c.toString()}),c.popFirst(5)}function Ll(c,n,i){return{name:_c(c,n),fields:i.value.mapValue.fields}}function Fc(c,n){return{documents:[Lr(c,n.path)]}}function bo(c,n){const i={structuredQuery:{}},o=n.path;let u;null!==n.collectionGroup?(u=o,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=o.popLast(),i.structuredQuery.from=[{collectionId:o.lastSegment()}]),i.parent=Lr(c,u);const p=function(V){if(0!==V.length)return uu(Fr.create(V,"and"))}(n.filters);p&&(i.structuredQuery.where=p);const E=function(V){if(0!==V.length)return V.map(X=>{return{field:vc((xe=X).field),direction:Ig(xe.dir)};var xe})}(n.orderBy);E&&(i.structuredQuery.orderBy=E);const R=Pa(c,n.limit);return null!==R&&(i.structuredQuery.limit=R),n.startAt&&(i.structuredQuery.startAt={before:(V=n.startAt).inclusive,values:V.position}),n.endAt&&(i.structuredQuery.endAt=function(V){return{before:!V.inclusive,values:V.position}}(n.endAt)),{gt:i,parent:u};var V}function Cf(c){let n=function bf(c){const n=yr(c);return 4===n.length?ht.emptyPath():zo(n)}(c.parent);const i=c.structuredQuery,o=i.from?i.from.length:0;let u=null;if(o>0){mt(1===o,65062);const X=i.from[0];X.allDescendants?u=X.collectionId:n=n.child(X.collectionId)}let p=[];i.where&&(p=function(se){const xe=ma(se);return xe instanceof Fr&&qa(xe)?xe.getFilters():[xe]}(i.where));let E=[];i.orderBy&&(E=i.orderBy.map(xe=>{return new vo(Ba(($t=xe).field),function(tn){switch(tn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($t.direction));var $t}));let R=null;i.limit&&(R=function(se){let xe;return xe="object"==typeof se?se.value:se,wn(xe)?null:xe}(i.limit));let N=null;var se;i.startAt&&(N=new $s((se=i.startAt).values||[],!!se.before));let V=null;return i.endAt&&(V=function(se){return new $s(se.values||[],!se.before)}(i.endAt)),function ji(c,n,i,o,u,p,E,R){return new Bi(c,n,i,o,u,p,E,R)}(n,u,E,p,R,"F",N,V)}function ma(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const o=Ba(i.unaryFilter.field);return $r.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Ba(i.unaryFilter.field);return $r.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Ba(i.unaryFilter.field);return $r.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const E=Ba(i.unaryFilter.field);return $r.create(E,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return nt(61313);default:return nt(60726)}}(c):void 0!==c.fieldFilter?$r.create(Ba((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return nt(58110);default:return nt(50506)}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return Fr.create(i.compositeFilter.filters.map(o=>ma(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return nt(1026)}}(i.compositeFilter.op))}(c):nt(30097,{filter:c});var i}function Ig(c){return $y[c]}function cu(c){return Eg[c]}function Tg(c){return sh[c]}function vc(c){return{fieldPath:c.canonicalString()}}function Ba(c){return Gn.fromServerFormat(c.fieldPath)}function uu(c){return c instanceof $r?function(i){if("=="===i.op){if(hs(i.value))return{unaryFilter:{field:vc(i.field),op:"IS_NAN"}};if(Yr(i.value))return{unaryFilter:{field:vc(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(hs(i.value))return{unaryFilter:{field:vc(i.field),op:"IS_NOT_NAN"}};if(Yr(i.value))return{unaryFilter:{field:vc(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(i.field),op:cu(i.op),value:i.value}}}(c):c instanceof Fr?function(i){const o=i.getFilters().map(u=>uu(u));return 1===o.length?o[0]:{compositeFilter:{op:Tg(i.op),filters:o}}}(c):nt(54877,{filter:c})}function Ku(c){const n=[];return c.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Bl(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class Xa{constructor(n,i,o,u,p=dn.min(),E=dn.min(),R=Ri.EMPTY_BYTE_STRING,N=null){this.target=n,this.targetId=i,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=R,this.expectedCount=N}withSequenceNumber(n){return new Xa(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class jl{constructor(n){this.wt=n}}function Ya(c){const n=Cf({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?An(n,n.limit,"L"):n}class Ec{constructor(){}vt(n,i){this.Ct(n,i),i.Ft()}Ct(n,i){if("nullValue"in n)this.Mt(i,5);else if("booleanValue"in n)this.Mt(i,10),i.xt(n.booleanValue?1:0);else if("integerValue"in n)this.Mt(i,15),i.xt(zr(n.integerValue));else if("doubleValue"in n){const o=zr(n.doubleValue);isNaN(o)?this.Mt(i,13):(this.Mt(i,15),gr(o)?i.xt(0):i.xt(o))}else if("timestampValue"in n){let o=n.timestampValue;this.Mt(i,20),"string"==typeof o&&(o=Ls(o)),i.Ot(`${o.seconds||""}`),i.xt(o.nanos||0)}else if("stringValue"in n)this.Nt(n.stringValue,i),this.Bt(i);else if("bytesValue"in n)this.Mt(i,30),i.Lt(mr(n.bytesValue)),this.Bt(i);else if("referenceValue"in n)this.kt(n.referenceValue,i);else if("geoPointValue"in n){const o=n.geoPointValue;this.Mt(i,45),i.xt(o.latitude||0),i.xt(o.longitude||0)}else"mapValue"in n?Ta(n)?this.Mt(i,Number.MAX_SAFE_INTEGER):Gs(n)?this.qt(n.mapValue,i):(this.Qt(n.mapValue,i),this.Bt(i)):"arrayValue"in n?(this.$t(n.arrayValue,i),this.Bt(i)):nt(19022,{Ut:n})}Nt(n,i){this.Mt(i,25),this.Kt(n,i)}Kt(n,i){i.Ot(n)}Qt(n,i){const o=n.fields||{};this.Mt(i,55);for(const u of Object.keys(o))this.Nt(u,i),this.Ct(o[u],i)}qt(n,i){var o,u;const p=n.fields||{};this.Mt(i,53);const E=yn,R=(null===(u=null===(o=p[E].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.length)||0;this.Mt(i,15),i.xt(zr(R)),this.Nt(E,i),this.Ct(p[E],i)}$t(n,i){const o=n.values||[];this.Mt(i,50);for(const u of o)this.Ct(u,i)}kt(n,i){this.Mt(i,37),Xt.fromName(n).path.forEach(o=>{this.Mt(i,60),this.Kt(o,i)})}Mt(n,i){n.xt(i)}Bt(n){n.xt(2)}}Ec.Wt=new Ec;class Ju{constructor(){this.Cn=new dh}addToCollectionParentIndex(n,i){return this.Cn.add(i),Fe.resolve()}getCollectionParents(n,i){return Fe.resolve(this.Cn.getEntries(i))}addFieldIndex(n,i){return Fe.resolve()}deleteFieldIndex(n,i){return Fe.resolve()}deleteAllFieldIndexes(n){return Fe.resolve()}createTargetIndexes(n,i){return Fe.resolve()}getDocumentsMatchingTarget(n,i){return Fe.resolve(null)}getIndexType(n,i){return Fe.resolve(0)}getFieldIndexes(n,i){return Fe.resolve([])}getNextCollectionGroupToUpdate(n){return Fe.resolve(null)}getMinOffset(n,i){return Fe.resolve(or.min())}getMinOffsetFromCollectionGroup(n,i){return Fe.resolve(or.min())}updateCollectionGroup(n,i,o){return Fe.resolve()}updateIndexEntries(n,i){return Fe.resolve()}}class dh{constructor(){this.index={}}add(n){const i=n.lastSegment(),o=n.popLast(),u=this.index[i]||new Zr(ht.comparator),p=!u.has(o);return this.index[i]=u.add(o),p}has(n){const i=n.lastSegment(),o=n.popLast(),u=this.index[i];return u&&u.has(o)}getEntries(n){return(this.index[n]||new Zr(ht.comparator)).toArray()}}new Uint8Array(0);const Ff={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xs{static withCacheSize(n){return new Xs(n,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,i,o){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}}Xs.DEFAULT_COLLECTION_PERCENTILE=10,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xs.DEFAULT=new Xs(41943040,Xs.DEFAULT_COLLECTION_PERCENTILE,Xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xs.DISABLED=new Xs(-1,0,0);class $c{constructor(n){this.ur=n}next(){return this.ur+=2,this.ur}static cr(){return new $c(0)}static lr(){return new $c(-1)}}const Xl="LruGarbageCollector";function ic([c,n],[i,o]){const u=Kt(c,i);return 0===u?Kt(n,o):u}class Hc{constructor(n){this.Er=n,this.buffer=new Zr(ic),this.dr=0}Ar(){return++this.dr}Rr(n){const i=[n,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();ic(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ks{constructor(n,i,o){this.garbageCollector=n,this.asyncQueue=i,this.localStore=o,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(n){var i=this;ct(Xl,`Garbage collection scheduled in ${n}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,T.A)(function*(){i.Vr=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(o){Ir(o)?ct(Xl,"Ignoring IndexedDB error during garbage collection: ",o):yield Kn(o)}yield i.mr(3e5)}))}}class bg{constructor(n,i){this.gr=n,this.params=i}calculateTargetCount(n,i){return this.gr.pr(n).next(o=>Math.floor(i/100*o))}nthSequenceNumber(n,i){if(0===i)return Fe.resolve(Ze.le);const o=new Hc(i);return this.gr.forEachTarget(n,u=>o.Rr(u.sequenceNumber)).next(()=>this.gr.yr(n,u=>o.Rr(u))).next(()=>o.maxValue)}removeTargets(n,i,o){return this.gr.removeTargets(n,i,o)}removeOrphanedDocuments(n,i){return this.gr.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(Ff)):this.getCacheSize(n).next(o=>o<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ff):this.wr(n,i))}getCacheSize(n){return this.gr.getCacheSize(n)}wr(n,i){let o,u,p,E,R,N,V;const X=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(se=>(se>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${se}`),u=this.params.maximumSequenceNumbersToCollect):u=se,E=Date.now(),this.nthSequenceNumber(n,u))).next(se=>(o=se,R=Date.now(),this.removeTargets(n,o,i))).next(se=>(p=se,N=Date.now(),this.removeOrphanedDocuments(n,o))).next(se=>(V=Date.now(),Wt()<=I.$b.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-X}ms\n\tDetermined least recently used ${u} in `+(R-E)+`ms\n\tRemoved ${p} targets in `+(N-R)+`ms\n\tRemoved ${se} documents in `+(V-N)+`ms\nTotal Duration: ${V-X}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:se})))}}class mh{constructor(){this.changes=new A(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,ii.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?Fe.resolve(o):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class jt{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class pn{constructor(n,i,o,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=o,this.indexManager=u}getDocument(n,i){let o=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(o=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==o&&Sr(o.mutation,u,ns.empty(),fr.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(o=>this.getLocalViewOfDocuments(n,o,Ct()).next(()=>o))}getLocalViewOfDocuments(n,i,o=Ct()){const u=M();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,o).next(p=>{let E=m();return p.forEach((R,N)=>{E=E.insert(R,N.overlayedDocument)}),E}))}getOverlayedDocuments(n,i){const o=M();return this.populateOverlays(n,o,i).next(()=>this.computeViews(n,i,o,Ct()))}populateOverlays(n,i,o){const u=[];return o.forEach(p=>{i.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(n,u).next(p=>{p.forEach((E,R)=>{i.set(E,R)})})}computeViews(n,i,o,u){let p=l();const E=Q(),R=Q();return i.forEach((N,V)=>{const X=o.get(V.key);u.has(V.key)&&(void 0===X||X.mutation instanceof si)?p=p.insert(V.key,V):void 0!==X?(E.set(V.key,X.mutation.getFieldMask()),Sr(X.mutation,V,X.mutation.getFieldMask(),fr.now())):E.set(V.key,ns.empty())}),this.recalculateAndSaveOverlays(n,p).next(N=>(N.forEach((V,X)=>E.set(V,X)),i.forEach((V,X)=>{var se;return R.set(V,new jt(X,null!==(se=E.get(V))&&void 0!==se?se:null))}),R))}recalculateAndSaveOverlays(n,i){const o=Q();let u=new Xr((E,R)=>E-R),p=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(E=>{for(const R of E)R.keys().forEach(N=>{const V=i.get(N);if(null===V)return;let X=o.get(N)||ns.empty();X=R.applyToLocalView(V,X),o.set(N,X);const se=(u.get(R.batchId)||Ct()).add(N);u=u.insert(R.batchId,se)})}).next(()=>{const E=[],R=u.getReverseIterator();for(;R.hasNext();){const N=R.getNext(),V=N.key,X=N.value,se=G();X.forEach(xe=>{if(!p.has(xe)){const Et=sr(i.get(xe),o.get(xe));null!==Et&&se.set(xe,Et),p=p.add(xe)}}),E.push(this.documentOverlayCache.saveOverlays(n,V,se))}return Fe.waitFor(E)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(o=>this.recalculateAndSaveOverlays(n,o))}getDocumentsMatchingQuery(n,i,o,u){return Xt.isDocumentKey((E=i).path)&&null===E.collectionGroup&&0===E.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Va(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,o,u):this.getDocumentsMatchingCollectionQuery(n,i,o,u);var E}getNextDocuments(n,i,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,o,u).next(p=>{const E=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,o.largestBatchId,u-p.size):Fe.resolve(M());let R=-1,N=p;return E.next(V=>Fe.forEach(V,(X,se)=>(R<se.largestBatchId&&(R=se.largestBatchId),p.get(X)?Fe.resolve():this.remoteDocumentCache.getEntry(n,X).next(xe=>{N=N.insert(X,xe)}))).next(()=>this.populateOverlays(n,V,p)).next(()=>this.computeViews(n,N,V,Ct())).next(X=>({batchId:R,changes:C(X)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Xt(i)).next(o=>{let u=m();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,o,u){const p=i.collectionGroup;let E=m();return this.indexManager.getCollectionParents(n,p).next(R=>Fe.forEach(R,N=>{const V=(se=i,xe=N.child(p),new Bi(xe,null,se.explicitOrderBy.slice(),se.filters.slice(),se.limit,se.limitType,se.startAt,se.endAt));var se,xe;return this.getDocumentsMatchingCollectionQuery(n,V,o,u).next(X=>{X.forEach((se,xe)=>{E=E.insert(se,xe)})})}).next(()=>E))}getDocumentsMatchingCollectionQuery(n,i,o,u){let p;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,o.largestBatchId).next(E=>(p=E,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,o,p,u))).next(E=>{p.forEach((N,V)=>{const X=V.getKey();null===E.get(X)&&(E=E.insert(X,ii.newInvalidDocument(X)))});let R=m();return E.forEach((N,V)=>{const X=p.get(N);void 0!==X&&Sr(X.mutation,V,ns.empty(),fr.now()),Sa(i,V)&&(R=R.insert(N,V))}),R})}}class Un{constructor(n){this.serializer=n,this.kr=new Map,this.qr=new Map}getBundleMetadata(n,i){return Fe.resolve(this.kr.get(i))}saveBundleMetadata(n,i){return this.kr.set(i.id,{id:(u=i).id,version:u.version,createTime:Ms(u.createTime)}),Fe.resolve();var u}getNamedQuery(n,i){return Fe.resolve(this.qr.get(i))}saveNamedQuery(n,i){return this.qr.set(i.name,{name:(u=i).name,query:Ya(u.bundledQuery),readTime:Ms(u.readTime)}),Fe.resolve();var u}}class jn{constructor(){this.overlays=new Xr(Xt.comparator),this.Qr=new Map}getOverlay(n,i){return Fe.resolve(this.overlays.get(i))}getOverlays(n,i){const o=M();return Fe.forEach(i,u=>this.getOverlay(n,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(n,i,o){return o.forEach((u,p)=>{this.bt(n,i,p)}),Fe.resolve()}removeOverlaysForBatchId(n,i,o){const u=this.Qr.get(o);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.Qr.delete(o)),Fe.resolve()}getOverlaysForCollection(n,i,o){const u=M(),p=i.length+1,E=new Xt(i.child("")),R=this.overlays.getIteratorFrom(E);for(;R.hasNext();){const N=R.getNext().value,V=N.getKey();if(!i.isPrefixOf(V.path))break;V.path.length===p&&N.largestBatchId>o&&u.set(N.getKey(),N)}return Fe.resolve(u)}getOverlaysForCollectionGroup(n,i,o,u){let p=new Xr((V,X)=>V-X);const E=this.overlays.getIterator();for(;E.hasNext();){const V=E.getNext().value;if(V.getKey().getCollectionGroup()===i&&V.largestBatchId>o){let X=p.get(V.largestBatchId);null===X&&(X=M(),p=p.insert(V.largestBatchId,X)),X.set(V.getKey(),V)}}const R=M(),N=p.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((V,X)=>R.set(V,X)),!(R.size()>=u)););return Fe.resolve(R)}bt(n,i,o){const u=this.overlays.get(o.key);if(null!==u){const E=this.Qr.get(u.largestBatchId).delete(o.key);this.Qr.set(u.largestBatchId,E)}this.overlays=this.overlays.insert(o.key,new gc(i,o));let p=this.Qr.get(i);void 0===p&&(p=Ct(),this.Qr.set(i,p)),this.Qr.set(i,p.add(o.key))}}class Rr{constructor(){this.sessionToken=Ri.EMPTY_BYTE_STRING}getSessionToken(n){return Fe.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,Fe.resolve()}}class ws{constructor(){this.$r=new Zr(Zi.Ur),this.Kr=new Zr(Zi.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(n,i){const o=new Zi(n,i);this.$r=this.$r.add(o),this.Kr=this.Kr.add(o)}Gr(n,i){n.forEach(o=>this.addReference(o,i))}removeReference(n,i){this.zr(new Zi(n,i))}jr(n,i){n.forEach(o=>this.removeReference(o,i))}Hr(n){const i=new Xt(new ht([])),o=new Zi(i,n),u=new Zi(i,n+1),p=[];return this.Kr.forEachInRange([o,u],E=>{this.zr(E),p.push(E.key)}),p}Jr(){this.$r.forEach(n=>this.zr(n))}zr(n){this.$r=this.$r.delete(n),this.Kr=this.Kr.delete(n)}Yr(n){const i=new Xt(new ht([])),o=new Zi(i,n),u=new Zi(i,n+1);let p=Ct();return this.Kr.forEachInRange([o,u],E=>{p=p.add(E.key)}),p}containsKey(n){const i=new Zi(n,0),o=this.$r.firstAfterOrEqual(i);return null!==o&&n.isEqual(o.key)}}class Zi{constructor(n,i){this.key=n,this.Zr=i}static Ur(n,i){return Xt.comparator(n.key,i.key)||Kt(n.Zr,i.Zr)}static Wr(n,i){return Kt(n.Zr,i.Zr)||Xt.comparator(n.key,i.key)}}class zc{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Zr(Zi.Ur)}checkEmpty(n){return Fe.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,o,u){const p=this.nr;this.nr++;const E=new Vo(p,i,o,u);this.mutationQueue.push(E);for(const R of u)this.Xr=this.Xr.add(new Zi(R.key,p)),this.indexManager.addToCollectionParentIndex(n,R.key.path.popLast());return Fe.resolve(E)}lookupMutationBatch(n,i){return Fe.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.ti(i+1),p=u<0?0:u;return Fe.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.mutationQueue.length?-1:this.nr-1)}getAllMutationBatches(n){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const o=new Zi(i,0),u=new Zi(i,Number.POSITIVE_INFINITY),p=[];return this.Xr.forEachInRange([o,u],E=>{const R=this.ei(E.Zr);p.push(R)}),Fe.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let o=new Zr(Kt);return i.forEach(u=>{const p=new Zi(u,0),E=new Zi(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([p,E],R=>{o=o.add(R.Zr)})}),Fe.resolve(this.ni(o))}getAllMutationBatchesAffectingQuery(n,i){const o=i.path,u=o.length+1;let p=o;Xt.isDocumentKey(p)||(p=p.child(""));const E=new Zi(new Xt(p),0);let R=new Zr(Kt);return this.Xr.forEachWhile(N=>{const V=N.key.path;return!!o.isPrefixOf(V)&&(V.length===u&&(R=R.add(N.Zr)),!0)},E),Fe.resolve(this.ni(R))}ni(n){const i=[];return n.forEach(o=>{const u=this.ei(o);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){mt(0===this.ri(i.batchId,"removed"),55003),this.mutationQueue.shift();let o=this.Xr;return Fe.forEach(i.mutations,u=>{const p=new Zi(u.key,i.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.Xr=o})}sr(n){}containsKey(n,i){const o=new Zi(i,0),u=this.Xr.firstAfterOrEqual(o);return Fe.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return Fe.resolve()}ri(n,i){return this.ti(n)}ti(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}ei(n){const i=this.ti(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Jl{constructor(n){this.ii=n,this.docs=new Xr(Xt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const o=i.key,u=this.docs.get(o),p=u?u.size:0,E=this.ii(i);return this.docs=this.docs.insert(o,{document:i.mutableCopy(),size:E}),this.size+=E-p,this.indexManager.addToCollectionParentIndex(n,o.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const o=this.docs.get(i);return Fe.resolve(o?o.document.mutableCopy():ii.newInvalidDocument(i))}getEntries(n,i){let o=l();return i.forEach(u=>{const p=this.docs.get(u);o=o.insert(u,p?p.document.mutableCopy():ii.newInvalidDocument(u))}),Fe.resolve(o)}getDocumentsMatchingQuery(n,i,o,u){let p=l();const E=i.path,R=new Xt(E.child("__id-9223372036854775808__")),N=this.docs.getIteratorFrom(R);for(;N.hasNext();){const{key:V,value:{document:X}}=N.getNext();if(!E.isPrefixOf(V.path))break;V.path.length>E.length+1||In(new or((c=X).readTime,c.key,-1),o)<=0||(u.has(X.key)||Sa(i,X))&&(p=p.insert(X.key,X.mutableCopy()))}var c;return Fe.resolve(p)}getAllFromCollectionGroup(n,i,o,u){nt(9500)}si(n,i){return Fe.forEach(this.docs,o=>i(o))}newChangeBuffer(n){return new lo(this)}getSize(n){return Fe.resolve(this.size)}}class lo extends mh{constructor(n){super(),this.Br=n}applyChanges(n){const i=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(n,u)):this.Br.removeEntry(o)}),Fe.waitFor(i)}getFromCache(n,i){return this.Br.getEntry(n,i)}getAllFromCache(n,i){return this.Br.getEntries(n,i)}}class Dg{constructor(n){this.persistence=n,this.oi=new A(i=>k(i),j),this.lastRemoteSnapshotVersion=dn.min(),this.highestTargetId=0,this._i=0,this.ai=new ws,this.targetCount=0,this.ui=$c.cr()}forEachTarget(n,i){return this.oi.forEach((o,u)=>i(u)),Fe.resolve()}getLastRemoteSnapshotVersion(n){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Fe.resolve(this._i)}allocateTargetId(n){return this.highestTargetId=this.ui.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(n,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this._i&&(this._i=i),Fe.resolve()}Tr(n){this.oi.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.ui=new $c(i),this.highestTargetId=i),n.sequenceNumber>this._i&&(this._i=n.sequenceNumber)}addTargetData(n,i){return this.Tr(i),this.targetCount+=1,Fe.resolve()}updateTargetData(n,i){return this.Tr(i),Fe.resolve()}removeTargetData(n,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(n,i,o){let u=0;const p=[];return this.oi.forEach((E,R)=>{R.sequenceNumber<=i&&null===o.get(R.targetId)&&(this.oi.delete(E),p.push(this.removeMatchingKeysForTargetId(n,R.targetId)),u++)}),Fe.waitFor(p).next(()=>u)}getTargetCount(n){return Fe.resolve(this.targetCount)}getTargetData(n,i){const o=this.oi.get(i)||null;return Fe.resolve(o)}addMatchingKeys(n,i,o){return this.ai.Gr(i,o),Fe.resolve()}removeMatchingKeys(n,i,o){this.ai.jr(i,o);const u=this.persistence.referenceDelegate,p=[];return u&&i.forEach(E=>{p.push(u.markPotentiallyOrphaned(n,E))}),Fe.waitFor(p)}removeMatchingKeysForTargetId(n,i){return this.ai.Hr(i),Fe.resolve()}getMatchingKeysForTargetId(n,i){const o=this.ai.Yr(i);return Fe.resolve(o)}containsKey(n,i){return Fe.resolve(this.ai.containsKey(i))}}class el{constructor(n,i){this.ci={},this.overlays={},this.li=new Ze(0),this.hi=!1,this.hi=!0,this.Pi=new Rr,this.referenceDelegate=n(this),this.Ti=new Dg(this),this.indexManager=new Ju,this.remoteDocumentCache=new Jl(o=>this.referenceDelegate.Ii(o)),this.serializer=new jl(i),this.Ei=new Un(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new jn,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let o=this.ci[n.toKey()];return o||(o=new zc(i,this.referenceDelegate),this.ci[n.toKey()]=o),o}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(n,i,o){ct("MemoryPersistence","Starting transaction:",n);const u=new Ag(this.li.next());return this.referenceDelegate.di(),o(u).next(p=>this.referenceDelegate.Ai(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Ri(n,i){return Fe.or(Object.values(this.ci).map(o=>()=>o.containsKey(n,i)))}}class Ag extends Pr{constructor(n){super(),this.currentSequenceNumber=n}}class mu{constructor(n){this.persistence=n,this.Vi=new ws,this.mi=null}static fi(n){return new mu(n)}get gi(){if(this.mi)return this.mi;throw nt(60996)}addReference(n,i,o){return this.Vi.addReference(o,i),this.gi.delete(o.toString()),Fe.resolve()}removeReference(n,i,o){return this.Vi.removeReference(o,i),this.gi.add(o.toString()),Fe.resolve()}markPotentiallyOrphaned(n,i){return this.gi.add(i.toString()),Fe.resolve()}removeTarget(n,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(p=>this.gi.add(p.toString()))}).next(()=>o.removeTargetData(n,i))}di(){this.mi=new Set}Ai(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.gi,o=>{const u=Xt.fromPath(o);return this.pi(n,u).next(p=>{p||i.removeEntry(u,dn.min())})}).next(()=>(this.mi=null,i.apply(n)))}updateLimboDocument(n,i){return this.pi(n,i).next(o=>{o?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(n){return 0}pi(n,i){return Fe.or([()=>Fe.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Ri(n,i)])}}class Uo{constructor(n,i){this.persistence=n,this.yi=new A(o=>function De(c){let n="";for(let i=0;i<c.length;i++)n.length>0&&(n=Dt(n)),n=ot(c.get(i),n);return Dt(n)}(o.path),(o,u)=>o.isEqual(u)),this.garbageCollector=function Zl(c,n){return new bg(c,n)}(this,i)}static fi(n,i){return new Uo(n,i)}di(){}Ai(n){return Fe.resolve()}forEachTarget(n,i){return this.persistence.getTargetCache().forEachTarget(n,i)}pr(n){const i=this.Sr(n);return this.persistence.getTargetCache().getTargetCount(n).next(o=>i.next(u=>o+u))}Sr(n){let i=0;return this.yr(n,o=>{i++}).next(()=>i)}yr(n,i){return Fe.forEach(this.yi,(o,u)=>this.Dr(n,o,u).next(p=>p?Fe.resolve():i(u)))}removeTargets(n,i,o){return this.persistence.getTargetCache().removeTargets(n,i,o)}removeOrphanedDocuments(n,i){let o=0;const u=this.persistence.getRemoteDocumentCache(),p=u.newChangeBuffer();return u.si(n,E=>this.Dr(n,E,i).next(R=>{R||(o++,p.removeEntry(E,dn.min()))})).next(()=>p.apply(n)).next(()=>o)}markPotentiallyOrphaned(n,i){return this.yi.set(i,n.currentSequenceNumber),Fe.resolve()}removeTarget(n,i){const o=i.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,o)}addReference(n,i,o){return this.yi.set(o,n.currentSequenceNumber),Fe.resolve()}removeReference(n,i,o){return this.yi.set(o,n.currentSequenceNumber),Fe.resolve()}updateLimboDocument(n,i){return this.yi.set(i,n.currentSequenceNumber),Fe.resolve()}Ii(n){let i=n.key.toString().length;return n.isFoundDocument()&&(i+=ss(n.data.value)),i}Dr(n,i,o){return Fe.or([()=>this.persistence.Ri(n,i),()=>this.persistence.getTargetCache().containsKey(n,i),()=>{const u=this.yi.get(i);return Fe.resolve(void 0!==u&&u>o)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}class nl{constructor(n,i,o,u){this.targetId=n,this.fromCache=i,this.ds=o,this.As=u}static Rs(n,i){let o=Ct(),u=Ct();for(const p of i.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new nl(n,i.fromCache,o,u)}}class Gy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Cg{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(0,Ce.nr)()?8:function Oi(c){const n=c.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}((0,Ce.ZQ)())>0?6:4}initialize(n,i){this.ys=n,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(n,i,o,u){const p={result:null};return this.ws(n,i).next(E=>{p.result=E}).next(()=>{if(!p.result)return this.Ss(n,i,u,o).next(E=>{p.result=E})}).next(()=>{if(p.result)return;const E=new Gy;return this.bs(n,i,E).next(R=>{if(p.result=R,this.fs)return this.Ds(n,i,E,R.size)})}).next(()=>p.result)}Ds(n,i,o,u){return o.documentReadCount<this.gs?(Wt()<=I.$b.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",uo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Fe.resolve()):(Wt()<=I.$b.DEBUG&&ct("QueryEngine","Query:",uo(i),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.ps*u?(Wt()<=I.$b.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",uo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Cs(i))):Fe.resolve())}ws(n,i){if(Jo(i))return Fe.resolve(null);let o=Cs(i);return this.indexManager.getIndexType(n,o).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=An(i,null,"F"),o=Cs(i)),this.indexManager.getDocumentsMatchingTarget(n,o).next(p=>{const E=Ct(...p);return this.ys.getDocuments(n,E).next(R=>this.indexManager.getMinOffset(n,o).next(N=>{const V=this.vs(i,R);return this.Cs(i,V,E,N.readTime)?this.ws(n,An(i,null,"F")):this.Fs(n,V,i,N)}))})))}Ss(n,i,o,u){return Jo(i)||u.isEqual(dn.min())?Fe.resolve(null):this.ys.getDocuments(n,o).next(p=>{const E=this.vs(i,p);return this.Cs(i,E,o,u)?Fe.resolve(null):(Wt()<=I.$b.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),uo(i)),this.Fs(n,E,i,function Ei(c,n){const i=c.toTimestamp().seconds,o=c.toTimestamp().nanoseconds+1,u=dn.fromTimestamp(1e9===o?new fr(i+1,0):new fr(i,o));return new or(u,Xt.empty(),n)}(u,-1)).next(R=>R))})}vs(n,i){let o=new Zr(Hi(n));return i.forEach((u,p)=>{Sa(n,p)&&(o=o.add(p))}),o}Cs(n,i,o,u){if(null===n.limit)return!1;if(o.size!==i.size)return!0;const p="F"===n.limitType?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}bs(n,i,o){return Wt()<=I.$b.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",uo(i)),this.ys.getDocumentsMatchingQuery(n,i,or.min(),o)}Fs(n,i,o,u){return this.ys.getDocumentsMatchingQuery(n,o,u).next(p=>(i.forEach(E=>{p=p.insert(E.key,E)}),p))}}const Ky="LocalStore";class Hf{constructor(n,i,o,u){this.persistence=n,this.Ms=i,this.serializer=u,this.xs=new Xr(Kt),this.Os=new A(p=>k(p),j),this.Ns=new Map,this.Bs=n.getRemoteDocumentCache(),this.Ti=n.getTargetCache(),this.Ei=n.getBundleCache(),this.Ls(o)}Ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new pn(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.xs))}}function ps(c,n){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,T.A)(function*(c,n){const i=Ot(c);return yield i.persistence.runTransaction("Handle user change","readonly",o=>{let u;return i.mutationQueue.getAllMutationBatches(o).next(p=>(u=p,i.Ls(n),i.mutationQueue.getAllMutationBatches(o))).next(p=>{const E=[],R=[];let N=Ct();for(const V of u){E.push(V.batchId);for(const X of V.mutations)N=N.add(X.key)}for(const V of p){R.push(V.batchId);for(const X of V.mutations)N=N.add(X.key)}return i.localDocuments.getDocuments(o,N).next(V=>({ks:V,removedBatchIds:E,addedBatchIds:R}))})})})).apply(this,arguments)}function Qy(c){const n=Ot(c);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ti.getLastRemoteSnapshotVersion(i))}function Xy(c,n){const i=Ot(c);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(o,n)))}function yu(c,n,i){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,T.A)(function*(c,n,i){const o=Ot(c),u=o.xs.get(n),p=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",p,E=>o.persistence.referenceDelegate.removeTarget(E,u)))}catch(E){if(!Ir(E))throw E;ct(Ky,`Failed to update sequence numbers for target ${n}: ${E}`)}o.xs=o.xs.remove(n),o.Os.delete(u.target)})).apply(this,arguments)}function Wf(c,n,i){const o=Ot(c);let u=dn.min(),p=Ct();return o.persistence.runTransaction("Execute query","readwrite",E=>function(N,V,X){const se=Ot(N),xe=se.Os.get(X);return void 0!==xe?Fe.resolve(se.xs.get(xe)):se.Ti.getTargetData(V,X)}(o,E,Cs(n)).next(R=>{if(R)return u=R.lastLimboFreeSnapshotVersion,o.Ti.getMatchingKeysForTargetId(E,R.targetId).next(N=>{p=N})}).next(()=>o.Ms.getDocumentsMatchingQuery(E,n,i?u:dn.min(),i?p:Ct())).next(R=>(function oc(c,n,i){let o=c.Ns.get(n)||dn.min();i.forEach((u,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),c.Ns.set(n,o)}(o,function Ra(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}(n),R),{documents:R,$s:p})))}class qf{constructor(){this.activeTargetIds=function Zn(){return fn}()}js(n){this.activeTargetIds=this.activeTargetIds.add(n)}Hs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}zs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class n_{constructor(){this.xo=new qf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,o){}addLocalQueryTarget(n,i=!0){return i&&this.xo.js(n),this.Oo[n]||"not-current"}updateQueryState(n,i,o){this.Oo[n]=i}removeLocalQueryTarget(n){this.xo.Hs(n)}isLocalQueryTarget(n){return this.xo.activeTargetIds.has(n)}clearQueryState(n){delete this.Oo[n]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(n){return this.xo.activeTargetIds.has(n)}start(){return this.xo=new qf,Promise.resolve()}handleUserChange(n,i,o){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class vh{No(n){}shutdown(){}}const r_="ConnectivityMonitor";class Qf{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(n){this.Qo.push(n)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ct(r_,"Network connectivity changed: AVAILABLE");for(const n of this.Qo)n(0)}qo(){ct(r_,"Network connectivity changed: UNAVAILABLE");for(const n of this.Qo)n(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Eh=null;function ol(){return null===Eh?Eh=268435456+Math.round(2147483648*Math.random()):Eh++,"0x"+Eh.toString(16)}const al="RestConnection",i_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xf{get Uo(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+n.host,this.Wo=`projects/${o}/databases/${u}`,this.Go=this.databaseId.database===pe?`project_id=${o}`:`project_id=${o}&database_id=${u}`}zo(n,i,o,u,p){const E=ol(),R=this.jo(n,i.toUriEncodedString());ct(al,`Sending RPC '${n}' ${E}:`,R,o);const N={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(N,u,p);const{host:V}=new URL(R),X=(0,Ce.zJ)(V);return this.Jo(n,R,N,o,X).then(se=>(ct(al,`Received RPC '${n}' ${E}: `,se),se),se=>{throw xn(al,`RPC '${n}' ${E} failed with error: `,se,"url: ",R,"request:",o),se})}Yo(n,i,o,u,p,E){return this.zo(n,i,o,u,p)}Ho(n,i,o){n["X-Goog-Api-Client"]="gl-js/ fire/"+qe,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,p)=>n[p]=u),o&&o.headers.forEach((u,p)=>n[p]=u)}jo(n,i){return`${this.Ko}/v1/${i}:${i_[n]}`}terminate(){}}class Zf{constructor(n){this.Zo=n.Zo,this.Xo=n.Xo}e_(n){this.t_=n}n_(n){this.r_=n}i_(n){this.s_=n}onMessage(n){this.o_=n}close(){this.Xo()}send(n){this.Zo(n)}__(){this.t_()}a_(){this.r_()}u_(n){this.s_(n)}c_(n){this.o_(n)}}const Ko="WebChannelConnection";class SE extends Xf{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,i,o,u,p){const E=ol();return new Promise((R,N)=>{const V=new it;V.setWithCredentials(!0),V.listenOnce(At.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case Lt.NO_ERROR:const se=V.getResponseJson();ct(Ko,`XHR for RPC '${n}' ${E} received:`,JSON.stringify(se)),R(se);break;case Lt.TIMEOUT:ct(Ko,`RPC '${n}' ${E} timed out`),N(new Y(He.DEADLINE_EXCEEDED,"Request time out"));break;case Lt.HTTP_ERROR:const xe=V.getStatus();if(ct(Ko,`RPC '${n}' ${E} failed with status:`,xe,"response text:",V.getResponseText()),xe>0){let Et=V.getResponseJson();Array.isArray(Et)&&(Et=Et[0]);const $t=Et?.error;if($t&&$t.status&&$t.message){const on=function(Qn){const tr=Qn.toLowerCase().replace(/_/g,"-");return Object.values(He).indexOf(tr)>=0?tr:He.UNKNOWN}($t.status);N(new Y(on,$t.message))}else N(new Y(He.UNKNOWN,"Server responded with status "+V.getStatus()))}else N(new Y(He.UNAVAILABLE,"Connection failed."));break;default:nt(9055,{l_:n,streamId:E,h_:V.getLastErrorCode(),P_:V.getLastError()})}}finally{ct(Ko,`RPC '${n}' ${E} completed.`)}});const X=JSON.stringify(u);ct(Ko,`RPC '${n}' ${E} sending request:`,u),V.send(i,"POST",X,o,15)})}T_(n,i,o){const u=ol(),p=[this.Ko,"/","google.firestore.v1.Firestore","/",n,"/channel"],E=gt(),R=ft(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},V=this.longPollingOptions.timeoutSeconds;void 0!==V&&(N.longPollingTimeout=Math.round(1e3*V)),this.useFetchStreams&&(N.useFetchStreams=!0),this.Ho(N.initMessageHeaders,i,o),N.encodeInitMessageHeaders=!0;const X=p.join("");ct(Ko,`Creating RPC '${n}' stream ${u}: ${X}`,N);const se=E.createWebChannel(X,N);let xe=!1,Et=!1;const $t=new Zf({Zo:tn=>{Et?ct(Ko,`Not sending because RPC '${n}' stream ${u} is closed:`,tn):(xe||(ct(Ko,`Opening RPC '${n}' stream ${u} transport.`),se.open(),xe=!0),ct(Ko,`RPC '${n}' stream ${u} sending:`,tn),se.send(tn))},Xo:()=>se.close()}),on=(tn,Qn,tr)=>{tn.listen(Qn,Sn=>{try{tr(Sn)}catch(kr){setTimeout(()=>{throw kr},0)}})};return on(se,Je.EventType.OPEN,()=>{Et||(ct(Ko,`RPC '${n}' stream ${u} transport opened.`),$t.__())}),on(se,Je.EventType.CLOSE,()=>{Et||(Et=!0,ct(Ko,`RPC '${n}' stream ${u} transport closed`),$t.u_())}),on(se,Je.EventType.ERROR,tn=>{Et||(Et=!0,xn(Ko,`RPC '${n}' stream ${u} transport errored. Name:`,tn.name,"Message:",tn.message),$t.u_(new Y(He.UNAVAILABLE,"The operation could not be completed")))}),on(se,Je.EventType.MESSAGE,tn=>{var Qn;if(!Et){const tr=tn.data[0];mt(!!tr,16349);const Sn=tr,kr=Sn?.error||(null===(Qn=Sn[0])||void 0===Qn?void 0:Qn.error);if(kr){ct(Ko,`RPC '${n}' stream ${u} received error:`,kr);const Ni=kr.status;let ni=function($e){const at=Ps[$e];if(void 0!==at)return zu(at)}(Ni),rt=kr.message;void 0===ni&&(ni=He.INTERNAL,rt="Unknown error status: "+Ni+" with message "+kr.message),Et=!0,$t.u_(new Y(ni,rt)),se.close()}else ct(Ko,`RPC '${n}' stream ${u} received:`,tr),$t.c_(tr)}}),on(R,Gt.STAT_EVENT,tn=>{tn.stat===Nt.PROXY?ct(Ko,`RPC '${n}' stream ${u} detected buffering proxy`):tn.stat===Nt.NOPROXY&&ct(Ko,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{$t.a_()},0),$t}}function wh(){return typeof document<"u"?document:null}function cl(c){return new Tf(c,!0)}class Og{constructor(n,i,o=1e3,u=1.5,p=6e4){this.xi=n,this.timerId=i,this.I_=o,this.E_=u,this.d_=p,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(n){this.cancel();const i=Math.floor(this.A_+this.g_()),o=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-o);u>0&&ct("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),n())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){null!==this.R_&&(this.R_.skipDelay(),this.R_=null)}cancel(){null!==this.R_&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}const o_="PersistentStream";class ca{constructor(n,i,o,u,p,E,R,N){this.xi=n,this.y_=o,this.w_=u,this.connection=p,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=R,this.listener=N,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Og(n,i)}F_(){return 1===this.state||5===this.state||this.M_()}M_(){return 2===this.state||3===this.state}start(){this.v_=0,4!==this.state?this.auth():this.x_()}stop(){var n=this;return(0,T.A)(function*(){n.F_()&&(yield n.close(0))})()}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&null===this.b_&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(n){this.k_(),this.stream.send(n)}B_(){var n=this;return(0,T.A)(function*(){if(n.M_())return n.close(0)})()}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(n,i){var o=this;return(0,T.A)(function*(){o.k_(),o.q_(),o.C_.cancel(),o.S_++,4!==n?o.C_.reset():i&&i.code===He.RESOURCE_EXHAUSTED?(Pn(i.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),o.C_.m_()):i&&i.code===He.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Q_(),o.stream.close(),o.stream=null),o.state=n,yield o.listener.i_(i)})()}Q_(){}auth(){this.state=1;const n=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.S_===i&&this.K_(o,u)},o=>{n(()=>{const u=new Y(He.UNKNOWN,"Fetching auth token failed: "+o.message);return this.W_(u)})})}K_(n,i){const o=this.U_(this.S_);this.stream=this.G_(n,i),this.stream.e_(()=>{o(()=>this.listener.e_())}),this.stream.n_(()=>{o(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{o(()=>this.W_(u))}),this.stream.onMessage(u=>{o(()=>1==++this.v_?this.z_(u):this.onNext(u))})}x_(){var n=this;this.state=5,this.C_.f_((0,T.A)(function*(){n.state=0,n.start()}))}W_(n){return ct(o_,`close with error: ${n}`),this.stream=null,this.close(4,n)}U_(n){return i=>{this.xi.enqueueAndForget(()=>this.S_===n?i():(ct(o_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fg extends ca{constructor(n,i,o,u,p,E){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,o,u,E),this.serializer=p}G_(n,i){return this.connection.T_("Listen",n,i)}z_(n){return this.onNext(n)}onNext(n){this.C_.reset();const i=function Af(c,n){let i;if("targetChange"in n){const o="NO_CHANGE"===(V=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:nt(39313,{state:V}),u=n.targetChange.targetIds||[],p=function(V,X){return V.useProto3Json?(mt(void 0===X||"string"==typeof X,58123),Ri.fromBase64String(X||"")):(mt(void 0===X||X instanceof Buffer||X instanceof Uint8Array,16193),Ri.fromUint8Array(X||new Uint8Array))}(c,n.targetChange.resumeToken),E=n.targetChange.cause,R=E&&function(V){const X=void 0===V.code?He.UNKNOWN:zu(V.code);return new Y(X,V.message||"")}(E);i=new If(o,u,p,R||null)}else if("documentChange"in n){const o=n.documentChange,u=oa(c,o.document.name),p=Ms(o.document.updateTime),E=o.document.createTime?Ms(o.document.createTime):dn.min(),R=new es({mapValue:{fields:o.document.fields}}),N=ii.newFoundDocument(u,p,E,R);i=new yc(o.targetIds||[],o.removedTargetIds||[],N.key,N)}else if("documentDelete"in n){const o=n.documentDelete,u=oa(c,o.document),p=o.readTime?Ms(o.readTime):dn.min(),E=ii.newNoDocument(u,p);i=new yc([],o.removedTargetIds||[],E.key,E)}else if("documentRemove"in n){const o=n.documentRemove,u=oa(c,o.document);i=new yc([],o.removedTargetIds||[],u,null)}else{if(!("filter"in n))return nt(11601,{Vt:n});{const o=n.filter,{count:u=0,unchangedNames:p}=o,E=new rh(u,p);i=new Nl(o.targetId,E)}}var V;return i}(this.serializer,n),o=function(p){if(!("targetChange"in p))return dn.min();const E=p.targetChange;return E.targetIds&&E.targetIds.length?dn.min():E.readTime?Ms(E.readTime):dn.min()}(n);return this.listener.j_(i,o)}H_(n){const i={};i.database=aa(this.serializer),i.addTarget=function(p,E){let R;const N=E.target;if(R=Ae(N)?{documents:Fc(p,N)}:{query:bo(p,N).gt},R.targetId=E.targetId,E.resumeToken.approximateByteSize()>0){R.resumeToken=Fl(p,E.resumeToken);const V=Pa(p,E.expectedCount);null!==V&&(R.expectedCount=V)}else if(E.snapshotVersion.compareTo(dn.min())>0){R.readTime=Wu(p,E.snapshotVersion.toTimestamp());const V=Pa(p,E.expectedCount);null!==V&&(R.expectedCount=V)}return R}(this.serializer,n);const o=function Wo(c,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt(28987,{purpose:u})}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);o&&(i.labels=o),this.L_(i)}J_(n){const i={};i.database=aa(this.serializer),i.removeTarget=n,this.L_(i)}}class a_ extends ca{constructor(n,i,o,u,p,E){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,o,u,E),this.serializer=p}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(n,i){return this.connection.T_("Write",n,i)}z_(n){return mt(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,mt(!n.writeResults||0===n.writeResults.length,55816),this.listener.X_()}onNext(n){mt(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.C_.reset();const i=function wg(c,n){return c&&c.length>0?(mt(void 0!==n,14353),c.map(i=>function(u,p){let E=Ms(u.updateTime?u.updateTime:p);return E.isEqual(dn.min())&&(E=Ms(p)),new kl(E,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),o=Ms(n.commitTime);return this.listener.ea(o,i)}ta(){const n={};n.database=aa(this.serializer),this.L_(n)}Z_(n){const i={streamToken:this.lastStreamToken,writes:n.map(o=>function Ul(c,n){let i;if(n instanceof ko)i={update:Ll(c,n.key,n.value)};else if(n instanceof Xi)i={delete:_c(c,n.key)};else if(n instanceof si)i={update:Ll(c,n.key,n.data),updateMask:Ku(n.fieldMask)};else{if(!(n instanceof so))return nt(16599,{ft:n.type});i={verify:_c(c,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(o=>function(p,E){const R=E.transform;if(R instanceof Es)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof na)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof Rs)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof fa)return{fieldPath:E.field.canonicalString(),increment:R.Re};throw nt(20930,{transform:E.transform})}(0,o))),n.precondition.isNone||(i.currentDocument=void 0!==(p=n.precondition).updateTime?{updateTime:Hy(c,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:nt(27497)),i;var p}(this.serializer,o))};this.L_(i)}}class Lg{}class _a extends Lg{constructor(n,i,o,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=o,this.serializer=u,this.na=!1}ra(){if(this.na)throw new Y(He.FAILED_PRECONDITION,"The client has already been terminated.")}zo(n,i,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,E])=>this.connection.zo(n,Pt(i,o),u,p,E)).catch(p=>{throw"FirebaseError"===p.name?(p.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Y(He.UNKNOWN,p.toString())})}Yo(n,i,o,u,p){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([E,R])=>this.connection.Yo(n,Pt(i,o),u,E,R,p)).catch(E=>{throw"FirebaseError"===E.name?(E.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),E):new Y(He.UNKNOWN,E.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Ih{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){0===this.ia&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(n){"Online"===this.state?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.aa("Offline")))}set(n){this.la(),this.ia=0,"Online"===n&&(this.oa=!1),this.aa(n)}aa(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ua(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Pn(i),this.oa=!1):ct("OnlineStateTracker",i)}la(){null!==this.sa&&(this.sa.cancel(),this.sa=null)}}const qc="RemoteStore";class c_{constructor(n,i,o,u,p){var E=this;this.localStore=n,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=p,this.Ea.No(R=>{o.enqueueAndForget((0,T.A)(function*(){var N;Qc(E)&&(ct(qc,"Restarting streams for network reachability change."),yield(N=(0,T.A)(function*(X){const se=Ot(X);se.Ta.add(4),yield td(se),se.da.set("Unknown"),se.Ta.delete(4),yield Th(se)}),function V(X){return N.apply(this,arguments)})(E))}))}),this.da=new Ih(o,u)}}function Th(c){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,T.A)(function*(c){if(Qc(c))for(const n of c.Ia)yield n(!0)})).apply(this,arguments)}function td(c){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,T.A)(function*(c){for(const n of c.Ia)yield n(!1)})).apply(this,arguments)}function ep(c,n){const i=Ot(c);i.Pa.has(n.targetId)||(i.Pa.set(n.targetId,n),Bg(i)?Ug(i):rd(i).M_()&&Vg(i,n))}function ul(c,n){const i=Ot(c),o=rd(i);i.Pa.delete(n),o.M_()&&u_(i,n),0===i.Pa.size&&(o.M_()?o.N_():Qc(i)&&i.da.set("Unknown"))}function Vg(c,n){if(c.Aa.Ke(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(dn.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}rd(c).H_(n)}function u_(c,n){c.Aa.Ke(n),rd(c).J_(n)}function Ug(c){c.Aa=new xl({getRemoteKeysForTarget:n=>c.remoteSyncer.getRemoteKeysForTarget(n),Rt:n=>c.Pa.get(n)||null,Pt:()=>c.datastore.serializer.databaseId}),rd(c).start(),c.da._a()}function Bg(c){return Qc(c)&&!rd(c).F_()&&c.Pa.size>0}function Qc(c){return 0===Ot(c).Ta.size}function jg(c){c.Aa=void 0}function l_(c){return nd.apply(this,arguments)}function nd(){return(nd=(0,T.A)(function*(c){c.da.set("Online")})).apply(this,arguments)}function d_(c){return tp.apply(this,arguments)}function tp(){return(tp=(0,T.A)(function*(c){c.Pa.forEach((n,i)=>{Vg(c,n)})})).apply(this,arguments)}function h_(c,n){return np.apply(this,arguments)}function np(){return(np=(0,T.A)(function*(c,n){jg(c),Bg(c)?(c.da.ca(n),Ug(c)):c.da.set("Unknown")})).apply(this,arguments)}function RE(c,n,i){return $g.apply(this,arguments)}function $g(){return $g=(0,T.A)(function*(c,n,i){if(c.da.set("Online"),n instanceof If&&2===n.state&&n.cause)try{yield(o=(0,T.A)(function*(p,E){const R=E.cause;for(const N of E.targetIds)p.Pa.has(N)&&(yield p.remoteSyncer.rejectListen(N,R),p.Pa.delete(N),p.Aa.removeTarget(N))}),function u(p,E){return o.apply(this,arguments)})(c,n)}catch(o){ct(qc,"Failed to remove targets %s: %s ",n.targetIds.join(","),o),yield rp(c,o)}else if(n instanceof yc?c.Aa.Xe(n):n instanceof Nl?c.Aa.ot(n):c.Aa.nt(n),!i.isEqual(dn.min()))try{const o=yield Qy(c.localStore);i.compareTo(o)>=0&&(yield function(p,E){const R=p.Aa.It(E);return R.targetChanges.forEach((N,V)=>{if(N.resumeToken.approximateByteSize()>0){const X=p.Pa.get(V);X&&p.Pa.set(V,X.withResumeToken(N.resumeToken,E))}}),R.targetMismatches.forEach((N,V)=>{const X=p.Pa.get(N);if(!X)return;p.Pa.set(N,X.withResumeToken(Ri.EMPTY_BYTE_STRING,X.snapshotVersion)),u_(p,N);const se=new Xa(X.target,N,V,X.sequenceNumber);Vg(p,se)}),p.remoteSyncer.applyRemoteEvent(R)}(c,i))}catch(o){ct(qc,"Failed to raise snapshot:",o),yield rp(c,o)}var o}),$g.apply(this,arguments)}function rp(c,n,i){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,T.A)(function*(c,n,i){if(!Ir(n))throw n;c.Ta.add(1),yield td(c),c.da.set("Offline"),i||(i=()=>Qy(c.localStore)),c.asyncQueue.enqueueRetryable((0,T.A)(function*(){ct(qc,"Retrying IndexedDB access"),yield i(),c.Ta.delete(1),yield Th(c)}))})).apply(this,arguments)}function f_(c,n){return n().catch(i=>rp(c,i,n))}function ll(c){return zg.apply(this,arguments)}function zg(){return(zg=(0,T.A)(function*(c){const n=Ot(c),i=va(n);let o=n.ha.length>0?n.ha[n.ha.length-1].batchId:-1;for(;PE(n);)try{const u=yield Xy(n.localStore,o);if(null===u){0===n.ha.length&&i.N_();break}o=u.batchId,ME(n,u)}catch(u){yield rp(n,u)}Wg(n)&&ip(n)})).apply(this,arguments)}function PE(c){return Qc(c)&&c.ha.length<10}function ME(c,n){c.ha.push(n);const i=va(c);i.M_()&&i.Y_&&i.Z_(n.mutations)}function Wg(c){return Qc(c)&&!va(c).F_()&&c.ha.length>0}function ip(c){va(c).start()}function kE(c){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,T.A)(function*(c){va(c).ta()})).apply(this,arguments)}function _u(c){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,T.A)(function*(c){const n=va(c);for(const i of c.ha)n.Z_(i.mutations)})).apply(this,arguments)}function Kg(c,n,i){return qg.apply(this,arguments)}function qg(){return(qg=(0,T.A)(function*(c,n,i){const o=c.ha.shift(),u=To.from(o,n,i);yield f_(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield ll(c)})).apply(this,arguments)}function gT(c,n){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,T.A)(function*(c,n){var i;n&&va(c).Y_&&(yield(i=(0,T.A)(function*(u,p){if(function ia(c){switch(c){case He.OK:return nt(64938);case He.CANCELLED:case He.UNKNOWN:case He.DEADLINE_EXCEEDED:case He.RESOURCE_EXHAUSTED:case He.INTERNAL:case He.UNAVAILABLE:case He.UNAUTHENTICATED:return!1;case He.INVALID_ARGUMENT:case He.NOT_FOUND:case He.ALREADY_EXISTS:case He.PERMISSION_DENIED:case He.FAILED_PRECONDITION:case He.ABORTED:case He.OUT_OF_RANGE:case He.UNIMPLEMENTED:case He.DATA_LOSS:return!0;default:return nt(15467,{code:c})}}(R=p.code)&&R!==He.ABORTED){const E=u.ha.shift();va(u).O_(),yield f_(u,()=>u.remoteSyncer.rejectFailedWrite(E.batchId,p)),yield ll(u)}var R}),function o(u,p){return i.apply(this,arguments)})(c,n)),Wg(c)&&ip(c)}),Qg.apply(this,arguments)}function p_(c,n){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,T.A)(function*(c,n){const i=Ot(c);i.asyncQueue.verifyOperationInProgress(),ct(qc,"RemoteStore received new credentials");const o=Qc(i);i.Ta.add(3),yield td(i),o&&i.da.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.Ta.delete(3),yield Th(i)})).apply(this,arguments)}function g_(){return(g_=(0,T.A)(function*(c,n){const i=Ot(c);n?(i.Ta.delete(2),yield Th(i)):n||(i.Ta.add(2),yield td(i),i.da.set("Unknown"))})).apply(this,arguments)}function rd(c){return c.Ra||(c.Ra=function(i,o,u){const p=Ot(i);return p.ra(),new Fg(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(c.datastore,c.asyncQueue,{e_:l_.bind(null,c),n_:d_.bind(null,c),i_:h_.bind(null,c),j_:RE.bind(null,c)}),c.Ia.push(function(){var n=(0,T.A)(function*(i){i?(c.Ra.O_(),Bg(c)?Ug(c):c.da.set("Unknown")):(yield c.Ra.stop(),jg(c))});return function(i){return n.apply(this,arguments)}}())),c.Ra}function va(c){return c.Va||(c.Va=function(i,o,u){const p=Ot(i);return p.ra(),new a_(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(c.datastore,c.asyncQueue,{e_:()=>Promise.resolve(),n_:kE.bind(null,c),i_:gT.bind(null,c),X_:_u.bind(null,c),ea:Kg.bind(null,c)}),c.Ia.push(function(){var n=(0,T.A)(function*(i){i?(c.Va.O_(),yield ll(c)):(yield c.Va.stop(),c.ha.length>0&&(ct(qc,`Stopping write stream with ${c.ha.length} pending writes`),c.ha=[]))});return function(i){return n.apply(this,arguments)}}())),c.Va}class Yg{constructor(n,i,o,u,p){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=o,this.op=u,this.removalCallback=p,this.deferred=new ce,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,o,u,p){const E=Date.now()+o,R=new Yg(n,i,E,u,p);return R.start(o),R}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Y(He.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vu(c,n){if(Pn("AsyncQueue",`${n}: ${c}`),Ir(c))return new Y(He.UNAVAILABLE,`${n}: ${c}`);throw c}class Eu{static emptySet(n){return new Eu(n.comparator)}constructor(n){this.comparator=n?(i,o)=>n(i,o)||Xt.comparator(i.key,o.key):(i,o)=>Xt.comparator(i.key,o.key),this.keyedMap=m(),this.sortedSet=new Xr(this.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,o)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof Eu)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),o=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=o.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const o=new Eu;return o.comparator=this.comparator,o.keyedMap=n,o.sortedSet=i,o}}class sp{constructor(){this.ma=new Xr(Xt.comparator)}track(n){const i=n.doc.key,o=this.ma.get(i);o?0!==n.type&&3===o.type?this.ma=this.ma.insert(i,n):3===n.type&&1!==o.type?this.ma=this.ma.insert(i,{type:o.type,doc:n.doc}):2===n.type&&2===o.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):2===n.type&&0===o.type?this.ma=this.ma.insert(i,{type:0,doc:n.doc}):1===n.type&&0===o.type?this.ma=this.ma.remove(i):1===n.type&&2===o.type?this.ma=this.ma.insert(i,{type:1,doc:o.doc}):0===n.type&&1===o.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):nt(63341,{Vt:n,fa:o}):this.ma=this.ma.insert(i,n)}ga(){const n=[];return this.ma.inorderTraversal((i,o)=>{n.push(o)}),n}}class dl{constructor(n,i,o,u,p,E,R,N,V){this.query=n,this.docs=i,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=p,this.fromCache=E,this.syncStateChanged=R,this.excludesMetadataChanges=N,this.hasCachedResults=V}static fromInitialDocuments(n,i,o,u,p){const E=[];return i.forEach(R=>{E.push({type:0,doc:R})}),new dl(n,i,Eu.emptySet(i),E,o,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&ta(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,o=n.docChanges;if(i.length!==o.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==o[u].type||!i[u].doc.isEqual(o[u].doc))return!1;return!0}}class op{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(n=>n.Sa())}}class Jg{constructor(){this.queries=id(),this.onlineState="Unknown",this.ba=new Set}terminate(){!function(i,o){const u=Ot(i),p=u.queries;u.queries=id(),p.forEach((E,R)=>{for(const N of R.ya)N.onError(o)})}(this,new Y(He.ABORTED,"Firestore shutting down"))}}function id(){return new A(c=>Io(c),ta)}function sd(c,n){return bc.apply(this,arguments)}function bc(){return(bc=(0,T.A)(function*(c,n){const i=Ot(c);let o=3;const u=n.query;let p=i.queries.get(u);p?!p.wa()&&n.Sa()&&(o=2):(p=new op,o=n.Sa()?0:1);try{switch(o){case 0:p.pa=yield i.onListen(u,!0);break;case 1:p.pa=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(E){const R=vu(E,`Initialization of query '${uo(n.query)}' failed`);return void n.onError(R)}i.queries.set(u,p),p.ya.push(n),n.Da(i.onlineState),p.pa&&n.va(p.pa)&&Ah(i)})).apply(this,arguments)}function bh(c,n){return od.apply(this,arguments)}function od(){return(od=(0,T.A)(function*(c,n){const i=Ot(c),o=n.query;let u=3;const p=i.queries.get(o);if(p){const E=p.ya.indexOf(n);E>=0&&(p.ya.splice(E,1),0===p.ya.length?u=n.Sa()?0:1:!p.wa()&&n.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(o),i.onUnlisten(o,!0);case 1:return i.queries.delete(o),i.onUnlisten(o,!1);case 2:return i.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function Dh(c,n){const i=Ot(c);let o=!1;for(const u of n){const E=i.queries.get(u.query);if(E){for(const R of E.ya)R.va(u)&&(o=!0);E.pa=u}}o&&Ah(i)}function em(c,n,i){const o=Ot(c),u=o.queries.get(n);if(u)for(const p of u.ya)p.onError(i);o.queries.delete(n)}function Ah(c){c.ba.forEach(n=>{n.next()})}var ad,tm;(tm=ad||(ad={})).Ca="default",tm.Cache="cache";class Ch{constructor(n,i,o){this.query=n,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=o||{}}va(n){if(!this.options.includeMetadataChanges){const o=[];for(const u of n.docChanges)3!==u.type&&o.push(u);n=new dl(n.query,n.docs,n.oldDocs,o,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.Ma?this.Oa(n)&&(this.Fa.next(n),i=!0):this.Na(n,this.onlineState)&&(this.Ba(n),i=!0),this.xa=n,i}onError(n){this.Fa.error(n)}Da(n){this.onlineState=n;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,n)&&(this.Ba(this.xa),i=!0),i}Na(n,i){return!n.fromCache||!this.Sa()||(!this.options.La||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}Oa(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.xa&&this.xa.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Ba(n){n=dl.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Ma=!0,this.Fa.next(n)}Sa(){return this.options.source!==ad.Cache}}class ap{constructor(n){this.key=n}}class im{constructor(n){this.key=n}}class sm{constructor(n,i){this.query=n,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ct(),this.mutatedKeys=Ct(),this.Ha=Hi(n),this.Ja=new Eu(this.Ha)}get Ya(){return this.Ga}Za(n,i){const o=i?i.Xa:new sp,u=i?i.Ja:this.Ja;let p=i?i.mutatedKeys:this.mutatedKeys,E=u,R=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,V="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((X,se)=>{const xe=u.get(X),Et=Sa(this.query,se)?se:null,$t=!!xe&&this.mutatedKeys.has(xe.key),on=!!Et&&(Et.hasLocalMutations||this.mutatedKeys.has(Et.key)&&Et.hasCommittedMutations);let tn=!1;xe&&Et?xe.data.isEqual(Et.data)?$t!==on&&(o.track({type:3,doc:Et}),tn=!0):this.eu(xe,Et)||(o.track({type:2,doc:Et}),tn=!0,(N&&this.Ha(Et,N)>0||V&&this.Ha(Et,V)<0)&&(R=!0)):!xe&&Et?(o.track({type:0,doc:Et}),tn=!0):xe&&!Et&&(o.track({type:1,doc:xe}),tn=!0,(N||V)&&(R=!0)),tn&&(Et?(E=E.add(Et),p=on?p.add(X):p.delete(X)):(E=E.delete(X),p=p.delete(X)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const X="F"===this.query.limitType?E.last():E.first();E=E.delete(X.key),p=p.delete(X.key),o.track({type:1,doc:X})}return{Ja:E,Xa:o,Cs:R,mutatedKeys:p}}eu(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,o,u){const p=this.Ja;this.Ja=n.Ja,this.mutatedKeys=n.mutatedKeys;const E=n.Xa.ga();E.sort((X,se)=>function(Et,$t){const on=tn=>{switch(tn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt(20277,{Vt:tn})}};return on(Et)-on($t)}(X.type,se.type)||this.Ha(X.doc,se.doc)),this.tu(o),u=null!=u&&u;const R=i&&!u?this.nu():[],N=0===this.ja.size&&this.current&&!u?1:0,V=N!==this.za;return this.za=N,0!==E.length||V?{snapshot:new dl(this.query,n.Ja,p,E,n.mutatedKeys,0===N,V,!1,!!o&&o.resumeToken.approximateByteSize()>0),ru:R}:{ru:R}}Da(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new sp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(n){return!this.Ga.has(n)&&!!this.Ja.has(n)&&!this.Ja.get(n).hasLocalMutations}tu(n){n&&(n.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=n.current)}nu(){if(!this.current)return[];const n=this.ja;this.ja=Ct(),this.Ja.forEach(o=>{this.iu(o.key)&&(this.ja=this.ja.add(o.key))});const i=[];return n.forEach(o=>{this.ja.has(o)||i.push(new im(o))}),this.ja.forEach(o=>{n.has(o)||i.push(new ap(o))}),i}su(n){this.Ga=n.$s,this.ja=Ct();const i=this.Za(n.documents);return this.applyChanges(i,!0)}ou(){return dl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,0===this.za,this.hasCachedResults)}}const Dc="SyncEngine";class om{constructor(n,i,o){this.query=n,this.targetId=i,this.view=o}}class ud{constructor(n){this.key=n,this._u=!1}}class y_{constructor(n,i,o,u,p,E){this.localStore=n,this.remoteStore=i,this.eventManager=o,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=E,this.au={},this.uu=new A(R=>Io(R),ta),this.cu=new Map,this.lu=new Set,this.hu=new Xr(Xt.comparator),this.Pu=new Map,this.Tu=new ws,this.Iu={},this.Eu=new Map,this.du=$c.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return!0===this.Au}}function Ea(c,n){return __.apply(this,arguments)}function __(){return(__=(0,T.A)(function*(c,n,i=!0){const o=fl(c);let u;const p=o.uu.get(n);return p?(o.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.ou()):u=yield hl(o,n,i,!0),u})).apply(this,arguments)}function cp(c,n){return am.apply(this,arguments)}function am(){return(am=(0,T.A)(function*(c,n){const i=fl(c);yield hl(i,n,!0,!1)})).apply(this,arguments)}function hl(c,n,i,o){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,T.A)(function*(c,n,i,o){const u=yield function rl(c,n){const i=Ot(c);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return i.Ti.getTargetData(o,n).next(p=>p?(u=p,Fe.resolve(u)):i.Ti.allocateTargetId(o).next(E=>(u=new Xa(n,E,"TargetPurposeListen",o.currentSequenceNumber),i.Ti.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=i.xs.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(o.targetId,o),i.Os.set(n,o.targetId)),o})}(c.localStore,Cs(n)),p=u.targetId,E=c.sharedClientState.addLocalQueryTarget(p,i);let R;return o&&(R=yield function up(c,n,i,o,u){return lp.apply(this,arguments)}(c,n,p,"current"===E,u.resumeToken)),c.isPrimaryClient&&i&&ep(c.remoteStore,u),R})).apply(this,arguments)}function lp(){return lp=(0,T.A)(function*(c,n,i,o,u){c.Ru=(se,xe,Et)=>{return($t=(0,T.A)(function*(tn,Qn,tr,Sn){let kr=Qn.view.Za(tr);kr.Cs&&(kr=yield Wf(tn.localStore,Qn.query,!1).then(({documents:ke})=>Qn.view.Za(ke,kr)));const Ni=Sn&&Sn.targetChanges.get(Qn.targetId),ni=Sn&&null!=Sn.targetMismatches.get(Qn.targetId),rt=Qn.view.applyChanges(kr,tn.isPrimaryClient,Ni,ni);return hp(tn,Qn.targetId,rt.ru),rt.snapshot}),function on(tn,Qn,tr,Sn){return $t.apply(this,arguments)})(c,se,xe,Et);var $t};const p=yield Wf(c.localStore,n,!0),E=new sm(n,p.$s),R=E.Za(p.documents),N=sa.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==c.onlineState,u),V=E.applyChanges(R,c.isPrimaryClient,N);hp(c,i,V.ru);const X=new om(n,i,E);return c.uu.set(n,X),c.cu.has(i)?c.cu.get(i).push(n):c.cu.set(i,[n]),V.snapshot}),lp.apply(this,arguments)}function v_(c,n,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,T.A)(function*(c,n,i){const o=Ot(c),u=o.uu.get(n),p=o.cu.get(u.targetId);if(p.length>1)return o.cu.set(u.targetId,p.filter(E=>!ta(E,n))),void o.uu.delete(n);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield yu(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),i&&ul(o.remoteStore,u.targetId),uc(o,u.targetId)}).catch(Kn))):(uc(o,u.targetId),yield yu(o.localStore,u.targetId,!0))})).apply(this,arguments)}function cm(c,n){return um.apply(this,arguments)}function um(){return(um=(0,T.A)(function*(c,n){const i=Ot(c),o=i.uu.get(n),u=i.cu.get(o.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(o.targetId),ul(i.remoteStore,o.targetId))})).apply(this,arguments)}function w_(){return(w_=(0,T.A)(function*(c,n,i){const o=function Tu(c){const n=Ot(c);return n.remoteStore.remoteSyncer.applySuccessfulWrite=dd.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Rh.bind(null,n),n}(c);try{const u=yield function(E,R){const N=Ot(E),V=fr.now(),X=R.reduce((Et,$t)=>Et.add($t.key),Ct());let se,xe;return N.persistence.runTransaction("Locally write mutations","readwrite",Et=>{let $t=l(),on=Ct();return N.Bs.getEntries(Et,X).next(tn=>{$t=tn,$t.forEach((Qn,tr)=>{tr.isValidDocument()||(on=on.add(Qn))})}).next(()=>N.localDocuments.getOverlayedDocuments(Et,$t)).next(tn=>{se=tn;const Qn=[];for(const tr of R){const Sn=pa(tr,se.get(tr.key).overlayedDocument);null!=Sn&&Qn.push(new si(tr.key,Sn,Po(Sn.value.mapValue),Qi.exists(!0)))}return N.mutationQueue.addMutationBatch(Et,V,Qn,R)}).next(tn=>{xe=tn;const Qn=tn.applyToLocalDocumentSet(se,on);return N.documentOverlayCache.saveOverlays(Et,tn.batchId,Qn)})}).then(()=>({batchId:xe.batchId,changes:C(se)}))}(o.localStore,n);o.sharedClientState.addPendingMutation(u.batchId),function(E,R,N){let V=E.Iu[E.currentUser.toKey()];V||(V=new Xr(Kt)),V=V.insert(R,N),E.Iu[E.currentUser.toKey()]=V}(o,u.batchId,i),yield Ac(o,u.changes),yield ll(o.remoteStore)}catch(u){const p=vu(u,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function Zs(c,n){return ld.apply(this,arguments)}function ld(){return(ld=(0,T.A)(function*(c,n){const i=Ot(c);try{const o=yield function AE(c,n){const i=Ot(c),o=n.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const E=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const R=[];n.targetChanges.forEach((X,se)=>{const xe=u.get(se);if(!xe)return;R.push(i.Ti.removeMatchingKeys(p,X.removedDocuments,se).next(()=>i.Ti.addMatchingKeys(p,X.addedDocuments,se)));let Et=xe.withSequenceNumber(p.currentSequenceNumber);var on,tn,Qn;null!==n.targetMismatches.get(se)?Et=Et.withResumeToken(Ri.EMPTY_BYTE_STRING,dn.min()).withLastLimboFreeSnapshotVersion(dn.min()):X.resumeToken.approximateByteSize()>0&&(Et=Et.withResumeToken(X.resumeToken,o)),u=u.insert(se,Et),tn=Et,Qn=X,(0===(on=xe).resumeToken.approximateByteSize()||tn.snapshotVersion.toMicroseconds()-on.snapshotVersion.toMicroseconds()>=3e8||Qn.addedDocuments.size+Qn.modifiedDocuments.size+Qn.removedDocuments.size>0)&&R.push(i.Ti.updateTargetData(p,Et))});let N=l(),V=Ct();if(n.documentUpdates.forEach(X=>{n.resolvedLimboDocuments.has(X)&&R.push(i.persistence.referenceDelegate.updateLimboDocument(p,X))}),R.push(function zf(c,n,i){let o=Ct(),u=Ct();return i.forEach(p=>o=o.add(p)),n.getEntries(c,o).next(p=>{let E=l();return i.forEach((R,N)=>{const V=p.get(R);N.isFoundDocument()!==V.isFoundDocument()&&(u=u.add(R)),N.isNoDocument()&&N.version.isEqual(dn.min())?(n.removeEntry(R,N.readTime),E=E.insert(R,N)):!V.isValidDocument()||N.version.compareTo(V.version)>0||0===N.version.compareTo(V.version)&&V.hasPendingWrites?(n.addEntry(N),E=E.insert(R,N)):ct(Ky,"Ignoring outdated watch update for ",R,". Current version:",V.version," Watch version:",N.version)}),{qs:E,Qs:u}})}(p,E,n.documentUpdates).next(X=>{N=X.qs,V=X.Qs})),!o.isEqual(dn.min())){const X=i.Ti.getLastRemoteSnapshotVersion(p).next(se=>i.Ti.setTargetsMetadata(p,p.currentSequenceNumber,o));R.push(X)}return Fe.waitFor(R).next(()=>E.apply(p)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,N,V)).next(()=>N)}).then(p=>(i.xs=u,p))}(i.localStore,n);n.targetChanges.forEach((u,p)=>{const E=i.Pu.get(p);E&&(mt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?E._u=!0:u.modifiedDocuments.size>0?mt(E._u,14607):u.removedDocuments.size>0&&(mt(E._u,42227),E._u=!1))}),yield Ac(i,o,n)}catch(o){yield Kn(o)}})).apply(this,arguments)}function lm(c,n,i){const o=Ot(c);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const u=[];o.uu.forEach((p,E)=>{const R=E.view.Da(n);R.snapshot&&u.push(R.snapshot)}),function(E,R){const N=Ot(E);N.onlineState=R;let V=!1;N.queries.forEach((X,se)=>{for(const xe of se.ya)xe.Da(R)&&(V=!0)}),V&&Ah(N)}(o.eventManager,n),u.length&&o.au.j_(u),o.onlineState=n,o.isPrimaryClient&&o.sharedClientState.setOnlineState(n)}}function as(c,n,i){return wu.apply(this,arguments)}function wu(){return(wu=(0,T.A)(function*(c,n,i){const o=Ot(c);o.sharedClientState.updateQueryState(n,"rejected",i);const u=o.Pu.get(n),p=u&&u.key;if(p){let E=new Xr(Xt.comparator);E=E.insert(p,ii.newNoDocument(p,dn.min()));const R=Ct().add(p),N=new Oc(dn.min(),new Map,new Xr(Kt),E,R);yield Zs(o,N),o.hu=o.hu.remove(p),o.Pu.delete(n),fd(o)}else yield yu(o.localStore,n,!1).then(()=>uc(o,n,i)).catch(Kn)})).apply(this,arguments)}function dd(c,n){return cc.apply(this,arguments)}function cc(){return(cc=(0,T.A)(function*(c,n){const i=Ot(c),o=n.batch.batchId;try{const u=yield function Pg(c,n){const i=Ot(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=n.batch.keys(),p=i.Bs.newChangeBuffer({trackRemovals:!0});return function(R,N,V,X){const se=V.batch,xe=se.keys();let Et=Fe.resolve();return xe.forEach($t=>{Et=Et.next(()=>X.getEntry(N,$t)).next(on=>{const tn=V.docVersions.get($t);mt(null!==tn,48541),on.version.compareTo(tn)<0&&(se.applyToRemoteDocument(on,V),on.isValidDocument()&&(on.setReadTime(V.commitVersion),X.addEntry(on)))})}),Et.next(()=>R.mutationQueue.removeMutationBatch(N,se))}(i,o,n,p).next(()=>p.apply(o)).next(()=>i.mutationQueue.performConsistencyCheck(o)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(o,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(R){let N=Ct();for(let V=0;V<R.mutationResults.length;++V)R.mutationResults[V].transformResults.length>0&&(N=N.add(R.batch.mutations[V].key));return N}(n))).next(()=>i.localDocuments.getDocuments(o,u))})}(i.localStore,n);hm(i,o,null),Iu(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield Ac(i,u)}catch(u){yield Kn(u)}})).apply(this,arguments)}function Rh(c,n,i){return hd.apply(this,arguments)}function hd(){return(hd=(0,T.A)(function*(c,n,i){const o=Ot(c);try{const u=yield function(E,R){const N=Ot(E);return N.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let X;return N.mutationQueue.lookupMutationBatch(V,R).next(se=>(mt(null!==se,37113),X=se.keys(),N.mutationQueue.removeMutationBatch(V,se))).next(()=>N.mutationQueue.performConsistencyCheck(V)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(V,X,R)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,X)).next(()=>N.localDocuments.getDocuments(V,X))})}(o.localStore,n);hm(o,n,i),Iu(o,n),o.sharedClientState.updateMutationState(n,"rejected",i),yield Ac(o,u)}catch(u){yield Kn(u)}})).apply(this,arguments)}function Iu(c,n){(c.Eu.get(n)||[]).forEach(i=>{i.resolve()}),c.Eu.delete(n)}function hm(c,n,i){const o=Ot(c);let u=o.Iu[o.currentUser.toKey()];if(u){const p=u.get(n);p&&(i?p.reject(i):p.resolve(),u=u.remove(n)),o.Iu[o.currentUser.toKey()]=u}}function uc(c,n,i=null){c.sharedClientState.removeLocalQueryTarget(n);for(const o of c.cu.get(n))c.uu.delete(o),i&&c.au.Vu(o,i);c.cu.delete(n),c.isPrimaryClient&&c.Tu.Hr(n).forEach(o=>{c.Tu.containsKey(o)||I_(c,o)})}function I_(c,n){c.lu.delete(n.path.canonicalString());const i=c.hu.get(n);null!==i&&(ul(c.remoteStore,i),c.hu=c.hu.remove(n),c.Pu.delete(i),fd(c))}function hp(c,n,i){for(const o of i)o instanceof ap?(c.Tu.addReference(o.key,n),Ph(c,o)):o instanceof im?(ct(Dc,"Document no longer in limbo: "+o.key),c.Tu.removeReference(o.key,n),c.Tu.containsKey(o.key)||I_(c,o.key)):nt(19791,{mu:o})}function Ph(c,n){const i=n.key,o=i.path.canonicalString();c.hu.get(i)||c.lu.has(o)||(ct(Dc,"New document in limbo: "+i),c.lu.add(o),fd(c))}function fd(c){for(;c.lu.size>0&&c.hu.size<c.maxConcurrentLimboResolutions;){const n=c.lu.values().next().value;c.lu.delete(n);const i=new Xt(ht.fromString(n)),o=c.du.next();c.Pu.set(o,new ud(i)),c.hu=c.hu.insert(i,o),ep(c.remoteStore,new Xa(Cs(vs(i.path)),o,"TargetPurposeLimboResolution",Ze.le))}}function Ac(c,n,i){return fp.apply(this,arguments)}function fp(){return fp=(0,T.A)(function*(c,n,i){const o=Ot(c),u=[],p=[],E=[];var R;o.uu.isEmpty()||(o.uu.forEach((R,N)=>{E.push(o.Ru(N,n,i).then(V=>{var X;if((V||i)&&o.isPrimaryClient){const se=V?!V.fromCache:null===(X=i?.targetChanges.get(N.targetId))||void 0===X?void 0:X.current;o.sharedClientState.updateQueryState(N.targetId,se?"current":"not-current")}if(V){u.push(V);const se=nl.Rs(N.targetId,V);p.push(se)}}))}),yield Promise.all(E),o.au.j_(u),yield(R=(0,T.A)(function*(V,X){const se=Ot(V);try{yield se.persistence.runTransaction("notifyLocalViewChanges","readwrite",xe=>Fe.forEach(X,Et=>Fe.forEach(Et.ds,$t=>se.persistence.referenceDelegate.addReference(xe,Et.targetId,$t)).next(()=>Fe.forEach(Et.As,$t=>se.persistence.referenceDelegate.removeReference(xe,Et.targetId,$t)))))}catch(xe){if(!Ir(xe))throw xe;ct(Ky,"Failed to update sequence numbers: "+xe)}for(const xe of X){const Et=xe.targetId;if(!xe.fromCache){const $t=se.xs.get(Et),tn=$t.withLastLimboFreeSnapshotVersion($t.snapshotVersion);se.xs=se.xs.insert(Et,tn)}}}),function N(V,X){return R.apply(this,arguments)})(o.localStore,p))}),fp.apply(this,arguments)}function Mh(c,n){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,T.A)(function*(c,n){const i=Ot(c);if(!i.currentUser.isEqual(n)){ct(Dc,"User change. New user:",n.toKey());const o=yield ps(i.localStore,n);i.currentUser=n,(p=i).Eu.forEach(R=>{R.forEach(N=>{N.reject(new Y(He.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Eu.clear(),i.sharedClientState.handleUserChange(n,o.removedBatchIds,o.addedBatchIds),yield Ac(i,o.ks)}var p})).apply(this,arguments)}function xE(c,n){const i=Ot(c),o=i.Pu.get(n);if(o&&o._u)return Ct().add(o.key);{let u=Ct();const p=i.cu.get(n);if(!p)return u;for(const E of p){const R=i.uu.get(E);u=u.unionWith(R.view.Ya)}return u}}function fl(c){const n=Ot(c);return n.remoteStore.remoteSyncer.applyRemoteEvent=Zs.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=xE.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=as.bind(null,n),n.au.j_=Dh.bind(null,n.eventManager),n.au.Vu=em.bind(null,n.eventManager),n}let md=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var o=this;return(0,T.A)(function*(){o.serializer=cl(i.databaseInfo.databaseId),o.sharedClientState=o.pu(i),o.persistence=o.yu(i),yield o.persistence.start(),o.localStore=o.wu(i),o.gcScheduler=o.Su(i,o.localStore),o.indexBackfillerScheduler=o.bu(i,o.localStore)})()}Su(i,o){return null}bu(i,o){return null}wu(i){return function qy(c,n,i,o){return new Hf(c,n,i,o)}(this.persistence,new Cg,i.initialUser,this.serializer)}yu(i){return new el(mu.fi,this.serializer)}pu(i){return new n_}terminate(){var i=this;return(0,T.A)(function*(){var o,u;null===(o=i.gcScheduler)||void 0===o||o.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class mp extends md{constructor(n){super(),this.cacheSizeBytes=n}Su(n,i){return mt(this.persistence.referenceDelegate instanceof Uo,46915),new ks(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}yu(n){const i=void 0!==this.cacheSizeBytes?Xs.withCacheSize(this.cacheSizeBytes):Xs.DEFAULT;return new el(o=>Uo.fi(o,i),this.serializer)}}let yd=(()=>{class c{initialize(i,o){var u=this;return(0,T.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(o),u.remoteStore=u.createRemoteStore(o),u.eventManager=u.createEventManager(o),u.syncEngine=u.createSyncEngine(o,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=p=>lm(u.syncEngine,p,1),u.remoteStore.remoteSyncer.handleCredentialChange=Mh.bind(null,u.syncEngine),yield function Zg(c,n){return g_.apply(this,arguments)}(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Jg}createDatastore(i){const o=cl(i.databaseInfo.databaseId),u=new SE(i.databaseInfo);return new _a(i.authCredentials,i.appCheckCredentials,u,o)}createRemoteStore(i){return u=this.localStore,p=this.datastore,E=i.asyncQueue,R=o=>lm(this.syncEngine,o,0),N=Qf.C()?new Qf:new vh,new c_(u,p,E,R,N);var u,p,E,R,N}createSyncEngine(i,o){return function(p,E,R,N,V,X,se){const xe=new y_(p,E,R,N,V,X);return se&&(xe.Au=!0),xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,o)}terminate(){var i=this;return(0,T.A)(function*(){var o,u,p;yield(p=(0,T.A)(function*(R){const N=Ot(R);ct(qc,"RemoteStore shutting down."),N.Ta.add(5),yield td(N),N.Ea.shutdown(),N.da.set("Unknown")}),function E(R){return p.apply(this,arguments)})(i.remoteStore),null===(o=i.datastore)||void 0===o||o.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return c.provider={build:()=>new c},c})();class Xc{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.vu(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.vu(this.observer.error,n):Pn("Uncaught Error in snapshot listener:",n.toString()))}Cu(){this.muted=!0}vu(n,i){setTimeout(()=>{this.muted||n(i)},0)}}const Zc="FirestoreClient";class mT{constructor(n,i,o,u,p){var E=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=o,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=Hn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=p,this.authCredentials.start(o,function(){var R=(0,T.A)(function*(N){ct(Zc,"Received user=",N.uid),yield E.authCredentialListener(N),E.user=N});return function(N){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(o,R=>(ct(Zc,"Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new ce;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,T.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(o){const u=vu(o,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function vp(c,n){return _m.apply(this,arguments)}function _m(){return _m=(0,T.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress(),ct(Zc,"Initializing OfflineComponentProvider");const i=c.configuration;yield n.initialize(i);let o=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,T.A)(function*(p){o.isEqual(p)||(yield ps(n.localStore,p),o=p)});return function(p){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=n}),_m.apply(this,arguments)}function vm(c,n){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,T.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress();const i=yield function Em(c){return Ep.apply(this,arguments)}(c);ct(Zc,"Initializing OnlineComponentProvider"),yield n.initialize(i,c.configuration),c.setCredentialChangeListener(o=>p_(n.remoteStore,o)),c.setAppCheckTokenChangeListener((o,u)=>p_(n.remoteStore,u)),c._onlineComponents=n})).apply(this,arguments)}function Ep(){return(Ep=(0,T.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){ct(Zc,"Using user provided OfflineComponentProvider");try{yield vp(c,c._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===He.FAILED_PRECONDITION||u.code===He.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;xn("Error using user provided cache. Falling back to memory cache: "+n),yield vp(c,new md)}}else ct(Zc,"Using default OfflineComponentProvider"),yield vp(c,new mp(void 0));var u;return c._offlineComponents})).apply(this,arguments)}function Fh(c){return wm.apply(this,arguments)}function wm(){return(wm=(0,T.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(ct(Zc,"Using user provided OnlineComponentProvider"),yield vm(c,c._uninitializedComponentsProvider._online)):(ct(Zc,"Using default OnlineComponentProvider"),yield vm(c,new yd))),c._onlineComponents})).apply(this,arguments)}function Lh(c){return _d.apply(this,arguments)}function _d(){return(_d=(0,T.A)(function*(c){const n=yield Fh(c),i=n.eventManager;return i.onListen=Ea.bind(null,n.syncEngine),i.onUnlisten=v_.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=cp.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=cm.bind(null,n.syncEngine),i})).apply(this,arguments)}function zE(c){const n={};return void 0!==c.timeoutSeconds&&(n.timeoutSeconds=c.timeoutSeconds),n}const WE=new Map;function x_(c,n,i){if(!i)throw new Y(He.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${n}.`)}function O_(c){if(!Xt.isDocumentKey(c))throw new Y(He.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function jh(c){if(Xt.isDocumentKey(c))throw new Y(He.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function vd(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const n=(o=c).constructor?o.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var o;return"function"==typeof c?"a function":nt(12329,{type:typeof c})}function Jr(c,n){if("_delegate"in c&&(c=c._delegate),!(c instanceof n)){if(n.name===c.constructor.name)throw new Y(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vd(c);throw new Y(He.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return c}const KE="firestore.googleapis.com";class F_{constructor(n){var i,o;if(void 0===n.host){if(void 0!==n.ssl)throw new Y(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KE,this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.isUsingEmulator=void 0!==n.emulatorOptions,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Y(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}(function Bh(c,n,i,o){if(!0===n&&!0===o)throw new Y(He.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)})("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=zE(null!==(o=n.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new Y(He.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new Y(He.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new Y(He.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Ed{constructor(n,i,o,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Y(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(n),this._emulatorOptions=n.emulatorOptions||{},void 0!==n.credentials&&(this._authCredentials=function(o){if(!o)return new fe;switch(o.type){case"firstParty":return new Tt(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Y(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,T.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const o=WE.get(i);o&&(ct("ComponentProvider","Removing Datastore"),WE.delete(i),o.terminate())}(this),Promise.resolve()}}class Oo{constructor(n,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=n}withConverter(n){return new Oo(this.firestore,n,this._query)}}class gs{constructor(n,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new gs(this.firestore,n,this._key)}}class lc extends Oo{constructor(n,i,o){super(n,i,vs(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new gs(this.firestore,null,new Xt(n))}withConverter(n){return new lc(this.firestore,n,this._path)}}function qE(c,n,...i){if(c=(0,Ce.Ku)(c),x_("collection","path",n),c instanceof Ed){const o=ht.fromString(n,...i);return jh(o),new lc(c,null,o)}{if(!(c instanceof gs||c instanceof lc))throw new Y(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=c._path.child(ht.fromString(n,...i));return jh(o),new lc(c.firestore,null,o)}}function L_(c,n,...i){if(c=(0,Ce.Ku)(c),1===arguments.length&&(n=Hn.newId()),x_("doc","path",n),c instanceof Ed){const o=ht.fromString(n,...i);return O_(o),new gs(c,null,new Xt(o))}{if(!(c instanceof gs||c instanceof lc))throw new Y(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=c._path.child(ht.fromString(n,...i));return O_(o),new gs(c.firestore,c instanceof lc?c.converter:null,new Xt(o))}}const V_="AsyncQueue";class U_{constructor(n=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Og(this,"async_queue_retry"),this.ec=()=>{const o=wh();o&&ct(V_,"Visibility state changed to "+o.visibilityState),this.C_.p_()},this.tc=n;const i=wh();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.nc(),this.rc(n)}enterRestrictedMode(n){if(!this.ju){this.ju=!0,this.Zu=n||!1;const i=wh();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(n){if(this.nc(),this.ju)return new Promise(()=>{});const i=new ce;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.zu.push(n),this.sc()))}sc(){var n=this;return(0,T.A)(function*(){if(0!==n.zu.length){try{yield n.zu[0](),n.zu.shift(),n.C_.reset()}catch(i){if(!Ir(i))throw i;ct(V_,"Operation failed with retryable error: "+i)}n.zu.length>0&&n.C_.f_(()=>n.sc())}})()}rc(n){const i=this.tc.then(()=>(this.Yu=!0,n().catch(o=>{throw this.Ju=o,this.Yu=!1,Pn("INTERNAL UNHANDLED ERROR: ",B_(o)),o}).then(o=>(this.Yu=!1,o))));return this.tc=i,i}enqueueAfterDelay(n,i,o){this.nc(),this.Xu.indexOf(n)>-1&&(i=0);const u=Yg.createAndSchedule(this,n,i,o,p=>this.oc(p));return this.Hu.push(u),u}nc(){this.Ju&&nt(47125,{_c:B_(this.Ju)})}verifyOperationInProgress(){}ac(){var n=this;return(0,T.A)(function*(){let i;do{i=n.tc,yield i}while(i!==n.tc)})()}uc(n){for(const i of this.Hu)if(i.timerId===n)return!0;return!1}cc(n){return this.ac().then(()=>{this.Hu.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.ac()})}lc(n){this.Xu.push(n)}oc(n){const i=this.Hu.indexOf(n);this.Hu.splice(i,1)}}function B_(c){let n=c.message||"";return c.stack&&(n=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),n}function Cm(c){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(c)}class ms extends Ed{constructor(n,i,o,u){super(n,i,o,u),this.type="firestore",this._queue=new U_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var n=this;return(0,T.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new U_(i),n._firestoreClient=void 0,yield i}})()}}function Sm(c,n){const i="object"==typeof c?c:(0,O.Sx)(),o="string"==typeof c?c:n||pe,u=(0,O.j6)(i,"firestore").getImmediate({identifier:o});if(!u._initialized){const p=(0,Ce.yU)("firestore");p&&function Dm(c,n,i,o={}){var u;c=Jr(c,Ed);const p=(0,Ce.zJ)(n),E=c._getSettings(),R=Object.assign(Object.assign({},E),{emulatorOptions:c._getEmulatorOptions()}),N=`${n}:${i}`;p&&((0,Ce.gE)(`https://${N}`),(0,Ce.P1)("Firestore",!0)),E.host!==KE&&E.host!==N&&xn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const V=Object.assign(Object.assign({},E),{host:N,ssl:p,emulatorOptions:o});if(!(0,Ce.bD)(V,R)&&(c._setSettings(V),o.mockUserToken)){let X,se;if("string"==typeof o.mockUserToken)X=o.mockUserToken,se=Qe.MOCK_USER;else{X=(0,Ce.Fy)(o.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const xe=o.mockUserToken.sub||o.mockUserToken.user_id;if(!xe)throw new Y(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");se=new Qe(xe)}c._authCredentials=new ne(new le(X,se))}}(u,...p)}return u}function Us(c){if(c._terminated)throw new Y(He.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||function $_(c){var n,i,o;const u=c._freezeSettings(),p=(N=(null===(n=c._app)||void 0===n?void 0:n.options.appId)||"",new z(c._databaseId,N,c._persistenceKey,(X=u).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,zE(X.experimentalLongPollingOptions),X.useFetchStreams,X.isUsingEmulator));var N,X;c._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(o=u.localCache)||void 0===o)&&o._onlineComponentProvider&&(c._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),c._firestoreClient=new mT(c._authCredentials,c._appCheckCredentials,c._queue,p,c._componentsProvider&&function(R){const N=R?._online.build();return{_offline:R?._offline.build(N),_online:N}}(c._componentsProvider))}(c),c._firestoreClient}class ka{constructor(n){this._byteString=n}static fromBase64String(n){try{return new ka(Ri.fromBase64String(n))}catch(i){throw new Y(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new ka(Ri.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class pl{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Y(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Id{constructor(n){this._methodName=n}}class Mm{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Y(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Y(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Kt(this._lat,n._lat)||Kt(this._long,n._long)}}class Ip{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(o,u){if(o.length!==u.length)return!1;for(let p=0;p<o.length;++p)if(o[p]!==u[p])return!1;return!0}(this._values,n._values)}}const Yc=/^__.*__$/;class Td{constructor(n,i,o){this.data=n,this.fieldMask=i,this.fieldTransforms=o}toMutation(n,i){return null!==this.fieldMask?new si(n,this.data,this.fieldMask,i,this.fieldTransforms):new ko(n,this.data,i,this.fieldTransforms)}}class G_{constructor(n,i,o){this.data=n,this.fieldMask=i,this.fieldTransforms=o}toMutation(n,i){return new si(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function K_(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt(40011,{hc:c})}}class Tp{constructor(n,i,o,u,p,E){this.settings=n,this.databaseId=i,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===p&&this.Pc(),this.fieldTransforms=p||[],this.fieldMask=E||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(n){return new Tp(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(n){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:o,Ec:!1});return u.dc(n),u}Ac(n){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:o,Ec:!1});return u.Pc(),u}Rc(n){return this.Tc({path:void 0,Ec:!0})}Vc(n){return Vm(n,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}Pc(){if(this.path)for(let n=0;n<this.path.length;n++)this.dc(this.path.get(n))}dc(n){if(0===n.length)throw this.Vc("Document fields must not be empty");if(K_(this.hc)&&Yc.test(n))throw this.Vc('Document fields cannot begin and end with "__"')}}class JE{constructor(n,i,o){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=o||cl(n)}gc(n,i,o,u=!1){return new Tp({hc:n,methodName:i,fc:o,path:Gn.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gl(c){const n=c._freezeSettings(),i=cl(c._databaseId);return new JE(c._databaseId,!!n.ignoreUndefinedProperties,i)}function bp(c,n,i,o,u,p={}){const E=c.gc(p.merge||p.mergeFields?2:0,n,i,u);Q_("Data must be an object, but it was:",E,o);const R=Fm(o,E);let N,V;if(p.merge)N=new ns(E.fieldMask),V=E.fieldTransforms;else if(p.mergeFields){const X=[];for(const se of p.mergeFields){const xe=Dp(n,se,i);if(!E.contains(xe))throw new Y(He.INVALID_ARGUMENT,`Field '${xe}' is specified in your field mask but missing from your input data.`);tw(X,xe)||X.push(xe)}N=new ns(X),V=E.fieldTransforms.filter(se=>N.covers(se.field))}else N=null,V=E.fieldTransforms;return new Td(new es(R),N,V)}class bd extends Id{_toFieldTransform(n){if(2!==n.hc)throw n.Vc(1===n.hc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof bd}}function bu(c,n){if(ew(c=(0,Ce.Ku)(c)))return Q_("Unsupported field value:",n,c),Fm(c,n);if(c instanceof Id)return function(o,u){if(!K_(u.hc))throw u.Vc(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${o._methodName}() is not currently supported inside arrays`);const p=o._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(c,n),null;if(void 0===c&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),c instanceof Array){if(n.settings.Ec&&4!==n.hc)throw n.Vc("Nested arrays are not supported");return function(o,u){const p=[];let E=0;for(const R of o){let N=bu(R,u.Rc(E));null==N&&(N={nullValue:"NULL_VALUE"}),p.push(N),E++}return{arrayValue:{values:p}}}(c,n)}return function(o,u){if(null===(o=(0,Ce.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return nr(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const p=fr.fromDate(o);return{timestampValue:Wu(u.serializer,p)}}if(o instanceof fr){const p=new fr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Wu(u.serializer,p)}}if(o instanceof Mm)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ka)return{bytesValue:Fl(u.serializer,o._byteString)};if(o instanceof gs){const p=u.databaseId,E=o.firestore._databaseId;if(!E.isEqual(p))throw u.Vc(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:Gu(o.firestore._databaseId||u.databaseId,o._key.path)}}if(o instanceof Ip)return E=o,R=u,{mapValue:{fields:{[ut]:{stringValue:Tn},[yn]:{arrayValue:{values:E.toArray().map(V=>{if("number"!=typeof V)throw R.Vc("VectorValues must only contain numeric values.");return Ln(R.serializer,V)})}}}}};var E,R;throw u.Vc(`Unsupported field value: ${vd(o)}`)}(c,n)}function Fm(c,n){const i={};return io(c)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Ds(c,(o,u)=>{const p=bu(u,n.Ic(o));null!=p&&(i[o]=p)}),{mapValue:{fields:i}}}function ew(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof fr||c instanceof Mm||c instanceof ka||c instanceof gs||c instanceof Id||c instanceof Ip)}function Q_(c,n,i){if(!ew(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=vd(i);throw n.Vc("an object"===o?c+" a custom object":c+" "+o)}var u}function Dp(c,n,i){if((n=(0,Ce.Ku)(n))instanceof pl)return n._internalPath;if("string"==typeof n)return Ad(c,n);throw Vm("Field path arguments must be of type string or ",c,!1,void 0,i)}const Lm=new RegExp("[~\\*/\\[\\]]");function Ad(c,n,i){if(n.search(Lm)>=0)throw Vm(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new pl(...n.split("."))._internalPath}catch{throw Vm(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function Vm(c,n,i,o,u){const p=o&&!o.isEmpty(),E=void 0!==u;let R=`Function ${n}() called with invalid data`;i&&(R+=" (via `toFirestore()`)"),R+=". ";let N="";return(p||E)&&(N+=" (found",p&&(N+=` in field ${o}`),E&&(N+=` in document ${u}`),N+=")"),new Y(He.INVALID_ARGUMENT,R+c+N)}function tw(c,n){return c.some(i=>i.isEqual(n))}class Cd{constructor(n,i,o,u,p){this._firestore=n,this._userDataWriter=i,this._key=o,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new gs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new nw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class nw extends Cd{data(){return super.data()}}function Ap(c,n){return"string"==typeof n?Ad(c,n):n instanceof pl?n._internalPath:n._delegate._internalPath}function X_(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new Y(He.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class zh extends Um{}function Z_(c,n,...i){let o=[];n instanceof Um&&o.push(n),o=o.concat(i),function(p){const E=p.filter(N=>N instanceof Rd).length,R=p.filter(N=>N instanceof Sd).length;if(E>1||E>0&&R>0)throw new Y(He.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)c=u._apply(c);return c}class Sd extends zh{constructor(n,i,o){super(),this._field=n,this._op=i,this._value=o,this.type="where"}static _create(n,i,o){return new Sd(n,i,o)}_apply(n){const i=this._parse(n);return cw(n._query,i),new Oo(n.firestore,n.converter,ea(n._query,i))}_parse(n){const i=gl(n.firestore);return function(p,E,R,N,V,X,se){let xe;if(V.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new Y(He.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){aw(se,X);const $t=[];for(const on of se)$t.push(jm(N,p,on));xe={arrayValue:{values:$t}}}else xe=jm(N,p,se)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||aw(se,X),xe=function Om(c,n,i,o=!1){return bu(i,c.gc(o?4:3,n))}(R,"where",se,"in"===X||"not-in"===X);return $r.create(V,X,xe)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}function rw(c,n,i){const o=n,u=Ap("where",c);return Sd._create(u,o,i)}class Rd extends Um{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Rd(n,i)}_parse(n){const i=this._queryConstraints.map(o=>o._parse(n)).filter(o=>o.getFilters().length>0);return 1===i.length?i[0]:Fr.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,p){let E=u;const R=p.getFlattenedFilters();for(const N of R)cw(E,N),E=ea(E,N)}(n._query,i),new Oo(n.firestore,n.converter,ea(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function jm(c,n,i){if("string"==typeof(i=(0,Ce.Ku)(i))){if(""===i)throw new Y(He.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Va(n)&&-1!==i.indexOf("/"))throw new Y(He.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=n.path.child(ht.fromString(i));if(!Xt.isDocumentKey(o))throw new Y(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return di(c,new Xt(o))}if(i instanceof gs)return di(c,i._key);throw new Y(He.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(i)}.`)}function aw(c,n){if(!Array.isArray(c)||0===c.length)throw new Y(He.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function cw(c,n){const i=function(u,p){for(const E of u)for(const R of E.getFlattenedFilters())if(p.indexOf(R.op)>=0)return R.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Y(He.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class tv{convertValue(n,i="none"){switch(zn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return zr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(mr(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw nt(62114,{value:n})}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const o={};return Ds(n,(u,p)=>{o[u]=this.convertValue(p,i)}),o}convertVectorValue(n){var i,o,u;const p=null===(u=null===(o=null===(i=n.fields)||void 0===i?void 0:i[yn].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.map(E=>zr(E.doubleValue));return new Ip(p)}convertGeoPoint(n){return new Mm(zr(n.latitude),zr(n.longitude))}convertArray(n,i){return(n.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(n,i){switch(i){case"previous":const o=Er(n);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(W(n));default:return null}}convertTimestamp(n){const i=Ls(n);return new fr(i.seconds,i.nanos)}convertDocumentKey(n,i){const o=ht.fromString(n);mt(Bl(o),9688,{name:n});const u=new Pe(o.get(1),o.get(3)),p=new Xt(o.popFirst(5));return u.isEqual(i)||Pn(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}class yl{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class kd extends Cd{constructor(n,i,o,u,p,E){super(n,i,o,u,E),this._firestore=n,this._firestoreImpl=n,this.metadata=p}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const o=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class Nd extends kd{data(n={}){return super.data(n)}}class Wh{constructor(n,i,o,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new yl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(o=>{n.call(i,new Nd(this._firestore,this._userDataWriter,o.key,o,new yl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Y(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let E=0;return u._snapshot.docChanges.map(R=>({type:"added",doc:new Nd(u._firestore,u._userDataWriter,R.doc.key,R.doc,new yl(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:E++}))}{let E=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(R=>p||3!==R.type).map(R=>{const N=new Nd(u._firestore,u._userDataWriter,R.doc.key,R.doc,new yl(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter);let V=-1,X=-1;return 0!==R.type&&(V=E.indexOf(R.doc.key),E=E.delete(R.doc.key)),1!==R.type&&(E=E.add(R.doc),X=E.indexOf(R.doc.key)),{type:CT(R.type),doc:N,oldIndex:V,newIndex:X}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function CT(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt(61501,{type:c})}}function ST(c){c=Jr(c,gs);const n=Jr(c.firestore,ms);return function M_(c,n,i={}){const o=new ce;return c.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function(p,E,R,N,V){const X=new Xc({next:xe=>{X.Cu(),E.enqueueAndForget(()=>bh(p,se));const Et=xe.docs.has(R);!Et&&xe.fromCache?V.reject(new Y(He.UNAVAILABLE,"Failed to get document because the client is offline.")):Et&&xe.fromCache&&N&&"server"===N.source?V.reject(new Y(He.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(xe)},error:xe=>V.reject(xe)}),se=new Ch(vs(R.path),X,{includeMetadataChanges:!0,La:!0});return sd(p,se)}(yield Lh(c),c.asyncQueue,n,i,o)})),o.promise}(Us(n),c._key).then(i=>Du(n,c,i))}class _l extends tv{constructor(n){super(),this.firestore=n}convertBytes(n){return new ka(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new gs(this.firestore,null,i)}}function RT(c){c=Jr(c,Oo);const n=Jr(c.firestore,ms),i=Us(n),o=new _l(n);return X_(c._query),function Im(c,n,i={}){const o=new ce;return c.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function(p,E,R,N,V){const X=new Xc({next:xe=>{X.Cu(),E.enqueueAndForget(()=>bh(p,se)),xe.fromCache&&"server"===N.source?V.reject(new Y(He.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(xe)},error:xe=>V.reject(xe)}),se=new Ch(R,X,{includeMetadataChanges:!0,La:!0});return sd(p,se)}(yield Lh(c),c.asyncQueue,n,i,o)})),o.promise}(i,c._query).then(u=>new Wh(n,o,c,u))}function kp(c,n,i){c=Jr(c,gs);const o=Jr(c.firestore,ms),u=function Mp(c,n,i){let o;return o=c?i&&(i.merge||i.mergeFields)?c.toFirestore(n,i):c.toFirestore(n):n,o}(c.converter,n,i);return xd(o,[bp(gl(o),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,Qi.none())])}function rv(c,n,i,...o){c=Jr(c,gs);const u=Jr(c.firestore,ms),p=gl(u);let E;return E="string"==typeof(n=(0,Ce.Ku)(n))||n instanceof pl?function ml(c,n,i,o,u,p){const E=c.gc(1,n,i),R=[Dp(n,o,i)],N=[u];if(p.length%2!=0)throw new Y(He.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xe=0;xe<p.length;xe+=2)R.push(Dp(n,p[xe])),N.push(p[xe+1]);const V=[],X=es.empty();for(let xe=R.length-1;xe>=0;--xe)if(!tw(V,R[xe])){const Et=R[xe];let $t=N[xe];$t=(0,Ce.Ku)($t);const on=E.Ac(Et);if($t instanceof bd)V.push(Et);else{const tn=bu($t,on);null!=tn&&(V.push(Et),X.set(Et,tn))}}const se=new ns(V);return new G_(X,se,E.fieldTransforms)}(p,"updateDoc",c._key,n,i,o):function dc(c,n,i,o){const u=c.gc(1,n,i);Q_("Data must be an object, but it was:",u,o);const p=[],E=es.empty();Ds(o,(N,V)=>{const X=Ad(n,N,i);V=(0,Ce.Ku)(V);const se=u.Ac(X);if(V instanceof bd)p.push(X);else{const xe=bu(V,se);null!=xe&&(p.push(X),E.set(X,xe))}});const R=new ns(p);return new G_(E,R,u.fieldTransforms)}(p,"updateDoc",c._key,n),xd(u,[E.toMutation(c._key,Qi.exists(!0))])}function iv(c){return xd(Jr(c.firestore,ms),[new Xi(c._key,Qi.none())])}function fw(c,...n){var i,o,u;c=(0,Ce.Ku)(c);let p={includeMetadataChanges:!1,source:"default"},E=0;"object"!=typeof n[E]||Cm(n[E])||(p=n[E],E++);const R={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(Cm(n[E])){const se=n[E];n[E]=null===(i=se.next)||void 0===i?void 0:i.bind(se),n[E+1]=null===(o=se.error)||void 0===o?void 0:o.bind(se),n[E+2]=null===(u=se.complete)||void 0===u?void 0:u.bind(se)}let N,V,X;if(c instanceof gs)V=Jr(c.firestore,ms),X=vs(c._key.path),N={next:se=>{n[E]&&n[E](Du(V,c,se))},error:n[E+1],complete:n[E+2]};else{const se=Jr(c,Oo);V=Jr(se.firestore,ms),X=se._query;const xe=new _l(V);N={next:Et=>{n[E]&&n[E](new Wh(V,xe,se,Et))},error:n[E+1],complete:n[E+2]},X_(c._query)}return function(xe,Et,$t,on){const tn=new Xc(on),Qn=new Ch(Et,tn,$t);return xe.asyncQueue.enqueueAndForget((0,T.A)(function*(){return sd(yield Lh(xe),Qn)})),()=>{tn.Cu(),xe.asyncQueue.enqueueAndForget((0,T.A)(function*(){return bh(yield Lh(xe),Qn)}))}}(Us(V),X,R,N)}function xd(c,n){return function(o,u){const p=new ce;return o.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function E_(c,n,i){return w_.apply(this,arguments)}(yield function R_(c){return Fh(c).then(n=>n.syncEngine)}(o),u,p)})),p.promise}(Us(c),n)}function Du(c,n,i){const o=i.docs.get(n._key),u=new _l(c);return new kd(c,u,n._key,o,new yl(i.hasPendingWrites,i.fromCache),n.converter)}!function(n,i=!0){qe=O.MF,(0,O.om)(new q.uA("firestore",(o,{instanceIdentifier:u,options:p})=>{const E=o.getProvider("app").getImmediate(),R=new ms(new he(o.getProvider("auth-internal")),new Yt(E,o.getProvider("app-check-internal")),function(V,X){if(!Object.prototype.hasOwnProperty.apply(V.options,["projectId"]))throw new Y(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pe(V.options.projectId,X)}(E,u),E);return p=Object.assign({useFetchStreams:i},p),R._setSettings(p),R},"PUBLIC").setMultipleInstances(!0)),(0,O.KO)(_t,"4.7.16",n),(0,O.KO)(_t,"4.7.16","esm2017")}()},3494:(En,Be,L)=>{"use strict";L.d(Be,{s:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},3604:(En,Be,L)=>{"use strict";L.d(Be,{q:()=>q});const T={now:()=>(T.delegate||Date).now(),delegate:void 0};class O{constructor(Ce,Xe=O.now){this.schedulerActionCtor=Ce,this.now=Xe}schedule(Ce,Xe=0,ge){return new this.schedulerActionCtor(this,Ce).schedule(ge,Xe)}}O.now=T.now;class q extends O{constructor(Ce,Xe=O.now){super(Ce,Xe),this.actions=[],this._active=!1}flush(Ce){const{actions:Xe}=this;if(this._active)return void Xe.push(Ce);let ge;this._active=!0;do{if(ge=Ce.execute(Ce.state,Ce.delay))break}while(Ce=Xe.shift());if(this._active=!1,ge){for(;Ce=Xe.shift();)Ce.unsubscribe();throw ge}}}},3669:(En,Be,L)=>{"use strict";function T(O){return O}L.d(Be,{D:()=>T})},4125:(En,Be,L)=>{"use strict";L.d(Be,{kR:()=>ot});var T=L(2967),Ce=(L(1360),L(7440),L(2214),L(467)),Xe=L(7852),ge=L(1362),Ee=L(6858),je=L(8041);const we=new Map,ve={activated:!1,tokenObservers:[]},it={initialized:!1,enabled:!1};function ze(_e){return we.get(_e)||Object.assign({},ve)}function At(){return it}class Re{constructor(Se,Ge,Bt,Ht,ln){if(this.operation=Se,this.retryPolicy=Ge,this.getWaitDuration=Bt,this.lowerBound=Ht,this.upperBound=ln,this.pending=null,this.nextErrorWaitInterval=Ht,Ht>ln)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Se){var Ge=this;return(0,Ce.A)(function*(){Ge.stop();try{Ge.pending=new Ee.cY,Ge.pending.promise.catch(Bt=>{}),yield function Qe(_e){return new Promise(Se=>{setTimeout(Se,_e)})}(Ge.getNextRun(Se)),Ge.pending.resolve(),yield Ge.pending.promise,Ge.pending=new Ee.cY,Ge.pending.promise.catch(Bt=>{}),yield Ge.operation(),Ge.pending.resolve(),yield Ge.pending.promise,Ge.process(!0).catch(()=>{})}catch(Bt){Ge.retryPolicy(Bt)?Ge.process(!1).catch(()=>{}):Ge.stop()}})()}getNextRun(Se){if(Se)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ge=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ge}}}const vt=new Ee.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function st(_e){if(!ze(_e).activated)throw vt.create("use-before-activation",{appName:_e.name})}function xn(_e,Se){return On.apply(this,arguments)}function On(){return(On=(0,Ce.A)(function*({url:_e,body:Se},Ge){const Bt={"Content-Type":"application/json"},Ht=Ge.getImmediate({optional:!0});if(Ht){const wi=yield Ht.getHeartbeatsHeader();wi&&(Bt["X-Firebase-Client"]=wi)}const ln={method:"POST",body:JSON.stringify(Se),headers:Bt};let Mn,ir;try{Mn=yield fetch(_e,ln)}catch(wi){throw vt.create("fetch-network-error",{originalErrorMessage:wi?.message})}if(200!==Mn.status)throw vt.create("fetch-status-error",{httpStatus:Mn.status});try{ir=yield Mn.json()}catch(wi){throw vt.create("fetch-parse-error",{originalErrorMessage:wi?.message})}const ar=ir.ttl.match(/^([\d.]+)(s)$/);if(!ar||!ar[2]||isNaN(Number(ar[1])))throw vt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ir.ttl}`});const Hr=1e3*Number(ar[1]),no=Date.now();return{token:ir.token,expireTimeMillis:no+Hr,issuedAtTimeMillis:no}})).apply(this,arguments)}function mt(_e,Se){const{projectId:Ge,appId:Bt,apiKey:Ht}=_e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ge}/apps/${Bt}:exchangeDebugToken?key=${Ht}`,body:{debug_token:Se}}}const He="firebase-app-check-store";let ce=null;function rn(){return(rn=(0,Ce.A)(function*(_e,Se){const Bt=(yield function le(){return ce||(ce=new Promise((_e,Se)=>{try{const Ge=indexedDB.open("firebase-app-check-database",1);Ge.onsuccess=Bt=>{_e(Bt.target.result)},Ge.onerror=Bt=>{var Ht;Se(vt.create("storage-open",{originalErrorMessage:null===(Ht=Bt.target.error)||void 0===Ht?void 0:Ht.message}))},Ge.onupgradeneeded=Bt=>{0===Bt.oldVersion&&Bt.target.result.createObjectStore(He,{keyPath:"compositeKey"})}}catch(Ge){Se(vt.create("storage-open",{originalErrorMessage:Ge?.message}))}}),ce)}()).transaction(He,"readwrite"),ln=Bt.objectStore(He).put({compositeKey:_e,value:Se});return new Promise((Mn,ir)=>{ln.onsuccess=ar=>{Mn()},Bt.onerror=ar=>{var Hr;ir(vt.create("storage-set",{originalErrorMessage:null===(Hr=ar.target.error)||void 0===Hr?void 0:Hr.message}))}})})).apply(this,arguments)}const $n=new je.Vy("@firebase/app-check");function kn(_e,Se){return(0,Ee.zW)()?function ne(_e,Se){return function Tt(_e,Se){return rn.apply(this,arguments)}(function Rt(_e){return`${_e.options.appId}-${_e.name}`}(_e),Se)}(_e,Se).catch(Ge=>{$n.warn(`Failed to write token to IndexedDB. Error: ${Ge}`)}):Promise.resolve()}function Br(){return At().enabled}function Cr(){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,Ce.A)(function*(){const _e=At();if(_e.enabled&&_e.token)return _e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fr={error:"UNKNOWN_ERROR"};function dn(_e){return Ee.K3.encodeString(JSON.stringify(_e),!1)}function Ji(_e){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,Ce.A)(function*(_e,Se=!1,Ge=!1){const Bt=_e.app;st(Bt);const Ht=ze(Bt);let Mn,ln=Ht.token;if(ln&&!lr(ln)&&(Ht.token=void 0,ln=void 0),!ln){const Hr=yield Ht.cachedTokenPromise;Hr&&(lr(Hr)?ln=Hr:yield kn(Bt,void 0))}if(!Se&&ln&&lr(ln))return{token:ln.token};let ar,ir=!1;if(Br())try{Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=xn(mt(Bt,yield Cr()),_e.heartbeatServiceProvider).finally(()=>{Ht.exchangeTokenPromise=void 0}),ir=!0);const Hr=yield Ht.exchangeTokenPromise;return yield kn(Bt,Hr),Ht.token=Hr,{token:Hr.token}}catch(Hr){return"appCheck/throttled"===Hr.code||"appCheck/initial-throttle"===Hr.code?$n.warn(Hr.message):Ge&&$n.error(Hr),_i(Hr)}try{Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=Ht.provider.getToken().finally(()=>{Ht.exchangeTokenPromise=void 0}),ir=!0),ln=yield ze(Bt).exchangeTokenPromise}catch(Hr){"appCheck/throttled"===Hr.code||"appCheck/initial-throttle"===Hr.code?$n.warn(Hr.message):Ge&&$n.error(Hr),Mn=Hr}return ln?Mn?ar=lr(ln)?{token:ln.token,internalError:Mn}:_i(Mn):(ar={token:ln.token},Ht.token=ln,yield kn(Bt,ln)):ar=_i(Mn),ir&&function qn(_e,Se){const Ge=ze(_e).tokenObservers;for(const Bt of Ge)try{"EXTERNAL"===Bt.type&&null!=Se.error?Bt.error(Se.error):Bt.next(Se)}catch{}}(Bt,ar),ar})).apply(this,arguments)}function jr(){return(jr=(0,Ce.A)(function*(_e){const Se=_e.app;st(Se);const{provider:Ge}=ze(Se);if(Br()){const Bt=yield Cr(),{token:Ht}=yield xn(mt(Se,Bt),_e.heartbeatServiceProvider);return{token:Ht}}{const{token:Bt}=yield Ge.getToken();return{token:Bt}}})).apply(this,arguments)}function Xt(_e,Se){const Ge=ze(_e),Bt=Ge.tokenObservers.filter(Ht=>Ht.next!==Se);0===Bt.length&&Ge.tokenRefresher&&Ge.tokenRefresher.isRunning()&&Ge.tokenRefresher.stop(),Ge.tokenObservers=Bt}function Gr(_e){const{app:Se}=_e,Ge=ze(Se);let Bt=Ge.tokenRefresher;Bt||(Bt=function xr(_e){const{app:Se}=_e;return new Re((0,Ce.A)(function*(){let Bt;if(Bt=ze(Se).token?yield Ji(_e,!0):yield Ji(_e),Bt.error)throw Bt.error;if(Bt.internalError)throw Bt.internalError}),()=>!0,()=>{const Ge=ze(Se);if(Ge.token){let Bt=Ge.token.issuedAtTimeMillis+.5*(Ge.token.expireTimeMillis-Ge.token.issuedAtTimeMillis)+3e5;return Bt=Math.min(Bt,Ge.token.expireTimeMillis-3e5),Math.max(0,Bt-Date.now())}return 0},3e4,96e4)}(_e),Ge.tokenRefresher=Bt),!Bt.isRunning()&&Ge.isTokenAutoRefreshEnabled&&Bt.start()}function lr(_e){return _e.expireTimeMillis-Date.now()>0}function _i(_e){return{token:dn(fr),error:_e}}class pr{constructor(Se,Ge){this.app=Se,this.heartbeatServiceProvider=Ge}_delete(){const{tokenObservers:Se}=ze(this.app);for(const Ge of Se)Xt(this.app,Ge.next);return Promise.resolve()}}const gr="app-check-internal";!function te(){(0,Xe.om)(new ge.uA("app-check",_e=>function vi(_e,Se){return new pr(_e,Se)}(_e.getProvider("app").getImmediate(),_e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_e,Se,Ge)=>{_e.getProvider(gr).initialize()})),(0,Xe.om)(new ge.uA(gr,_e=>function dr(_e){return{getToken:Se=>Ji(_e,Se),getLimitedUseToken:()=>function ht(_e){return jr.apply(this,arguments)}(_e),addTokenListener:Se=>function Gn(_e,Se,Ge,Bt){const{app:Ht}=_e,ln=ze(Ht);if(ln.tokenObservers=[...ln.tokenObservers,{next:Ge,error:Bt,type:Se}],ln.token&&lr(ln.token)){const ir=ln.token;Promise.resolve().then(()=>{Ge({token:ir.token}),Gr(_e)}).catch(()=>{})}ln.cachedTokenPromise.then(()=>Gr(_e))}(_e,"INTERNAL",Se),removeTokenListener:Se=>Xt(_e.app,Se)}}(_e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xe.KO)("@firebase/app-check","0.10.0")}();class ot{constructor(){return(0,T.CA)("app-check")}}typeof window<"u"&&window},4360:(En,Be,L)=>{"use strict";L.d(Be,{_:()=>O});var T=L(7707);function O(I,Ce,Xe,ge,Ee){return new q(I,Ce,Xe,ge,Ee)}class q extends T.vU{constructor(Ce,Xe,ge,Ee,je,we){super(Ce),this.onFinalize=je,this.shouldUnsubscribe=we,this._next=Xe?function(ve){try{Xe(ve)}catch(it){Ce.error(it)}}:super._next,this._error=Ee?function(ve){try{Ee(ve)}catch(it){Ce.error(it)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(ve){Ce.error(ve)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Xe}=this;super.unsubscribe(),!Xe&&(null===(Ce=this.onFinalize)||void 0===Ce||Ce.call(this))}}}},4412:(En,Be,L)=>{"use strict";L.d(Be,{t:()=>O});var T=L(1413);class O extends T.B{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const Ce=super._subscribe(I);return!Ce.closed&&I.next(this._value),Ce}getValue(){const{hasError:I,thrownError:Ce,_value:Xe}=this;if(I)throw Ce;return this._throwIfClosed(),Xe}next(I){super.next(this._value=I)}}},4572:(En,Be,L)=>{"use strict";L.d(Be,{z:()=>we});var T=L(1985),O=L(3073),q=L(8455),I=L(3669),Ce=L(6450),Xe=L(9326),ge=L(8496),Ee=L(4360),je=L(5225);function we(...ze){const Je=(0,Xe.lI)(ze),At=(0,Xe.ms)(ze),{args:Lt,keys:Nt}=(0,O.D)(ze);if(0===Lt.length)return(0,q.H)([],Je);const Gt=new T.c(function ve(ze,Je,At=I.D){return Lt=>{it(Je,()=>{const{length:Nt}=ze,Gt=new Array(Nt);let ft=Nt,gt=Nt;for(let _t=0;_t<Nt;_t++)it(Je,()=>{const Re=(0,q.H)(ze[_t],Je);let Qe=!1;Re.subscribe((0,Ee._)(Lt,qe=>{Gt[_t]=qe,Qe||(Qe=!0,gt--),gt||Lt.next(At(Gt.slice()))},()=>{--ft||Lt.complete()}))},Lt)},Lt)}}(Lt,Je,Nt?ft=>(0,ge.e)(Nt,ft):I.D));return At?Gt.pipe((0,Ce.I)(At)):Gt}function it(ze,Je,At){ze?(0,je.N)(At,ze,Je):Je()}},4761:(En,Be,L)=>{"use strict";L.d(Be,{l:()=>O});const O=function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4796:(En,Be,L)=>{"use strict";L.d(Be,{u:()=>I});var T=L(6335),O=L(5964),q=L(1360);let I=(()=>{class Ce{auth;constructor(ge){this.auth=ge,console.log("%c<<< Start AUTH service >>>","background: #cff4fc; color: #055160; padding: 2px 5px;")}getAuthState(){return console.log("\u{1f441} Observando el estado de autenticaci\xf3n..."),(0,T.wh)(this.auth)}getCurrentUser(){return this.getAuthState().pipe((0,O.p)(ge=>!!ge))}login(ge,Ee){return console.log("\u{1f510} Intentando iniciar sesi\xf3n con:",ge),(0,T.x9)(this.auth,ge,Ee)}register(ge,Ee){return console.log("\u{1f4dd} Registrando nuevo usuario con:",ge),(0,T.eJ)(this.auth,ge,Ee)}logout(){return console.log("\u{1f6aa} Cerrando sesi\xf3n del usuario actual"),(0,T.CI)(this.auth)}resetPassword(ge){return console.log("\u{1f4e7} Enviando enlace de recuperaci\xf3n a:",ge),(0,T.J1)(this.auth,ge)}static \u0275fac=function(Ee){return new(Ee||Ce)(q.KVO(T.Nj))};static \u0275prov=q.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})()},4843:(En,Be,L)=>{"use strict";L.d(Be,{_:()=>q});var T=L(9350),O=L(7707);function q(I,Ce){const Xe="object"==typeof Ce;return new Promise((ge,Ee)=>{const je=new O.Ms({next:we=>{ge(we),je.unsubscribe()},error:Ee,complete:()=>{Xe?ge(Ce.defaultValue):Ee(new T.G)}});I.subscribe(je)})}},5055:(En,Be,L)=>{"use strict";L.d(Be,{l:()=>q});var T=L(3494),O=L(8071);function q(I){return(0,O.T)(I[T.s])}},5196:(En,Be,L)=>{"use strict";L.d(Be,{C:()=>q,U:()=>I});var T=L(1635),O=L(8071);function q(Ce){return(0,T.AQ)(this,arguments,function*(){const ge=Ce.getReader();try{for(;;){const{value:Ee,done:je}=yield(0,T.N3)(ge.read());if(je)return yield(0,T.N3)(void 0);yield yield(0,T.N3)(Ee)}}finally{ge.releaseLock()}})}function I(Ce){return(0,O.T)(Ce?.getReader)}},5207:(En,Be,L)=>{"use strict";L.d(Be,{Wk:()=>Rn,iI:()=>qr,lh:()=>Bt});var T=L(6048),O=L(1360),q=L(9361);let Xe=(()=>{class ae{static \u0275prov=(0,O.jDH)({token:ae,providedIn:"root",factory:()=>new ge((0,O.WQX)(q.q),window)})}return ae})();class ge{document;window;offset=()=>[0,0];constructor(tt,Ne){this.document=tt,this.window=Ne}setOffset(tt){this.offset=Array.isArray(tt)?()=>tt:tt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(tt){this.window.scrollTo(tt[0],tt[1])}scrollToAnchor(tt){const Ne=function Ee(ae,tt){const Ne=ae.getElementById(tt)||ae.getElementsByName(tt)[0];if(Ne)return Ne;if("function"==typeof ae.createTreeWalker&&ae.body&&"function"==typeof ae.body.attachShadow){const dt=ae.createTreeWalker(ae.body,NodeFilter.SHOW_ELEMENT);let qt=dt.currentNode;for(;qt;){const hn=qt.shadowRoot;if(hn){const Bn=hn.getElementById(tt)||hn.querySelector(`[name="${tt}"]`);if(Bn)return Bn}qt=dt.nextNode()}}return null}(this.document,tt);Ne&&(this.scrollToElement(Ne),Ne.focus())}setHistoryScrollRestoration(tt){this.window.history.scrollRestoration=tt}scrollToElement(tt){const Ne=tt.getBoundingClientRect(),dt=Ne.left+this.window.pageXOffset,qt=Ne.top+this.window.pageYOffset,hn=this.offset();this.window.scrollTo(dt-hn[0],qt-hn[1])}}var Dt=L(2881),ie=L(6895),me=L(1413),Le=L(7673),St=L(8455),wt=L(6365),pt=L(5964),Ft=L(274),en=L(1397);let Rn=(()=>{class ae{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new me.B;constructor(Ne,dt,qt,hn,Bn,qi){this.router=Ne,this.route=dt,this.tabIndexAttribute=qt,this.renderer=hn,this.el=Bn,this.locationStrategy=qi;const bs=Bn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===bs||"area"===bs,this.isAnchorElement?this.subscription=Ne.events.subscribe(Ao=>{Ao instanceof ie.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(Ne){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Ne)}ngOnChanges(Ne){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(Ne){null==Ne?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,ie.wO)(Ne)||Array.isArray(Ne)?Ne:[Ne],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Ne,dt,qt,hn,Bn){const qi=this.urlTree;return!!(null===qi||this.isAnchorElement&&(0!==Ne||dt||qt||hn||Bn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(qi,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Ne=this.urlTree;this.href=null!==Ne&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Ne)):null;const dt=null===this.href?null:(0,O.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",dt)}applyAttributeValue(Ne,dt){const qt=this.renderer,hn=this.el.nativeElement;null!==dt?qt.setAttribute(hn,Ne,dt):qt.removeAttribute(hn,Ne)}get urlTree(){return null===this.routerLinkInput?null:(0,ie.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(dt){return new(dt||ae)(O.rXU(ie.Ix),O.rXU(ie.nX),O.kS0("tabindex"),O.rXU(O.sFG),O.rXU(O.aKT),O.rXU(T.hb))};static \u0275dir=O.FsC({type:ae,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(dt,qt){1&dt&&O.bIt("click",function(Bn){return qt.onClick(Bn.button,Bn.ctrlKey,Bn.shiftKey,Bn.altKey,Bn.metaKey)}),2&dt&&O.BMQ("target",qt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",O.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",O.L39],replaceUrl:[2,"replaceUrl","replaceUrl",O.L39],routerLink:"routerLink"},features:[O.OA$]})}return ae})();class rr{}let _e=(()=>{class ae{router;injector;preloadingStrategy;loader;subscription;constructor(Ne,dt,qt,hn){this.router=Ne,this.injector=dt,this.preloadingStrategy=qt,this.loader=hn}setUpPreloading(){this.subscription=this.router.events.pipe((0,pt.p)(Ne=>Ne instanceof ie.wF),(0,Ft.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Ne,dt){const qt=[];for(const hn of dt){hn.providers&&!hn._injector&&(hn._injector=(0,O.Ol2)(hn.providers,Ne,`Route: ${hn.path}`));const Bn=hn._injector??Ne,qi=hn._loadedInjector??Bn;(hn.loadChildren&&!hn._loadedRoutes&&void 0===hn.canLoad||hn.loadComponent&&!hn._loadedComponent)&&qt.push(this.preloadConfig(Bn,hn)),(hn.children||hn._loadedRoutes)&&qt.push(this.processRoutes(qi,hn.children??hn._loadedRoutes))}return(0,St.H)(qt).pipe((0,wt.U)())}preloadConfig(Ne,dt){return this.preloadingStrategy.preload(dt,()=>{let qt;qt=dt.loadChildren&&void 0===dt.canLoad?this.loader.loadChildren(Ne,dt):(0,Le.of)(null);const hn=qt.pipe((0,en.Z)(Bn=>null===Bn?(0,Le.of)(void 0):(dt._loadedRoutes=Bn.routes,dt._loadedInjector=Bn.injector,this.processRoutes(Bn.injector??Ne,Bn.routes))));if(dt.loadComponent&&!dt._loadedComponent){const Bn=this.loader.loadComponent(dt);return(0,St.H)([hn,Bn]).pipe((0,wt.U)())}return hn})}static \u0275fac=function(dt){return new(dt||ae)(O.KVO(ie.Ix),O.KVO(O.uvJ),O.KVO(rr),O.KVO(ie.D$))};static \u0275prov=O.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const Se=new O.nKC("");let Ge=(()=>{class ae{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(Ne,dt,qt,hn,Bn={}){this.urlSerializer=Ne,this.transitions=dt,this.viewportScroller=qt,this.zone=hn,this.options=Bn,Bn.scrollPositionRestoration||="disabled",Bn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Ne=>{Ne instanceof ie.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Ne.navigationTrigger,this.restoredId=Ne.restoredState?Ne.restoredState.navigationId:0):Ne instanceof ie.wF?(this.lastId=Ne.id,this.scheduleScrollEvent(Ne,this.urlSerializer.parse(Ne.urlAfterRedirects).fragment)):Ne instanceof ie.lW&&Ne.code===ie.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Ne,this.urlSerializer.parse(Ne.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Ne=>{Ne instanceof ie.OY&&(Ne.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Ne.position):Ne.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Ne.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Ne,dt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ie.OY(Ne,"popstate"===this.lastSource?this.store[this.restoredId]:null,dt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(dt){O.QTQ()};static \u0275prov=O.jDH({token:ae,factory:ae.\u0275fac})}return ae})();function Bt(ae,...tt){return(0,O.EmA)([{provide:ie.bw,multi:!0,useValue:ae},[],{provide:ie.nX,useFactory:Ht,deps:[ie.Ix]},{provide:O.iLQ,multi:!0,useFactory:no},tt.map(Ne=>Ne.\u0275providers)])}function Ht(ae){return ae.routerState.root}function ln(ae,tt){return{\u0275kind:ae,\u0275providers:tt}}function no(){const ae=(0,O.WQX)(O.zZn);return tt=>{const Ne=ae.get(O.o8S);if(tt!==Ne.components[0])return;const dt=ae.get(ie.Ix),qt=ae.get(wi);1===ae.get(Is)&&dt.initialNavigation(),ae.get(B,null,O.$GK.Optional)?.setUpPreloading(),ae.get(Se,null,O.$GK.Optional)?.init(),dt.resetRootComponentType(Ne.componentTypes[0]),qt.closed||(qt.next(),qt.complete(),qt.unsubscribe())}}const wi=new O.nKC("",{factory:()=>new me.B}),Is=new O.nKC("",{providedIn:"root",factory:()=>1}),B=new O.nKC("");function de(ae){return ln(0,[{provide:B,useExisting:_e},{provide:rr,useExisting:ae}])}function nn(ae){return(0,O.ngT)("NgRouterViewTransitions"),ln(9,[{provide:ie.Pu,useValue:ie.Lg},{provide:ie.bK,useValue:{skipNextTransition:!!ae?.skipInitialTransition,...ae}}])}const Kr=[T.aZ,{provide:ie.Sd,useClass:ie.nU},ie.Ix,ie.Zp,{provide:ie.nX,useFactory:Ht,deps:[ie.Ix]},ie.D$,[]];let qr=(()=>{class ae{constructor(){}static forRoot(Ne,dt){return{ngModule:ae,providers:[Kr,[],{provide:ie.bw,multi:!0,useValue:Ne},[],dt?.errorHandler?{provide:ie.XR,useValue:dt.errorHandler}:[],{provide:ie.J_,useValue:dt||{}},dt?.useHash?{provide:T.hb,useClass:Dt.fw}:{provide:T.hb,useClass:T.Sm},{provide:Se,useFactory:()=>{const ae=(0,O.WQX)(Xe),tt=(0,O.WQX)(O.SKi),Ne=(0,O.WQX)(ie.J_),dt=(0,O.WQX)(ie.J2),qt=(0,O.WQX)(ie.Sd);return Ne.scrollOffset&&ae.setOffset(Ne.scrollOffset),new Ge(qt,dt,ae,tt,Ne)}},dt?.preloadingStrategy?de(dt.preloadingStrategy).\u0275providers:[],dt?.initialNavigation?ci(dt):[],dt?.bindToComponentInputs?ln(8,[ie.tD,{provide:ie.c1,useExisting:ie.tD}]).\u0275providers:[],dt?.enableViewTransitions?nn().\u0275providers:[],[{provide:Ki,useFactory:no},{provide:O.iLQ,multi:!0,useExisting:Ki}]]}}static forChild(Ne){return{ngModule:ae,providers:[{provide:ie.bw,multi:!0,useValue:Ne}]}}static \u0275fac=function(dt){return new(dt||ae)};static \u0275mod=O.$C({type:ae});static \u0275inj=O.G2t({})}return ae})();function ci(ae){return["disabled"===ae.initialNavigation?ln(3,[(0,O.phd)(()=>{(0,O.WQX)(ie.Ix).setUpLocationChangeListener()}),{provide:Is,useValue:2}]).\u0275providers:[],"enabledBlocking"===ae.initialNavigation?ln(2,[{provide:Is,useValue:0},(0,O.phd)(()=>{const tt=(0,O.WQX)(O.zZn);return tt.get(T.hj,Promise.resolve()).then(()=>new Promise(dt=>{const qt=tt.get(ie.Ix),hn=tt.get(wi);(0,ie.gk)(qt,()=>{dt(!0)}),tt.get(ie.J2).afterPreactivation=()=>(dt(!0),hn.closed?(0,Le.of)(void 0):hn),qt.initialNavigation()}))})]).\u0275providers:[]]}const Ki=new O.nKC("")},5225:(En,Be,L)=>{"use strict";function T(O,q,I,Ce=0,Xe=!1){const ge=q.schedule(function(){I(),Xe?O.add(this.schedule(null,Ce)):this.unsubscribe()},Ce);if(O.add(ge),!Xe)return ge}L.d(Be,{N:()=>T})},5334:(En,Be,L)=>{"use strict";L.d(Be,{m:()=>q});var T=L(1026),O=L(9270);function q(I){O.f.setTimeout(()=>{const{onUnhandledError:Ce}=T.$;if(!Ce)throw I;Ce(I)})}},5343:(En,Be,L)=>{"use strict";function T(){}L.d(Be,{l:()=>T})},5397:(En,Be,L)=>{"use strict";L.d(Be,{x:()=>q});var T=L(4761),O=L(8071);function q(I){return(0,O.T)(I?.[T.l])}},5558:(En,Be,L)=>{"use strict";L.d(Be,{n:()=>I});var T=L(8750),O=L(9974),q=L(4360);function I(Ce,Xe){return(0,O.N)((ge,Ee)=>{let je=null,we=0,ve=!1;const it=()=>ve&&!je&&Ee.complete();ge.subscribe((0,q._)(Ee,ze=>{je?.unsubscribe();let Je=0;const At=we++;(0,T.Tg)(Ce(ze,At)).subscribe(je=(0,q._)(Ee,Lt=>Ee.next(Xe?Xe(ze,Lt,At,Je++):Lt),()=>{je=null,it()}))},()=>{ve=!0,it()}))})}},5794:(En,Be,L)=>{"use strict";L.d(Be,{DP:()=>mt,tw:()=>On});var T=L(1360),O=L(969),q=L(9361),I=L(2881),Ce=L(1413),Xe=L(345);const ge=["toast-component",""];function Ee(le,fe){if(1&le){const ne=T.RV6();T.j41(0,"button",5),T.bIt("click",function(){T.eBV(ne);const Ye=T.XpG();return T.Njj(Ye.remove())}),T.j41(1,"span",6),T.EFF(2,"\xd7"),T.k0s()()}}function je(le,fe){if(1&le&&(T.qex(0),T.EFF(1),T.bVm()),2&le){const ne=T.XpG(2);T.R7$(),T.SpI("[",ne.duplicatesCount+1,"]")}}function we(le,fe){if(1&le&&(T.j41(0,"div"),T.EFF(1),T.DNE(2,je,2,1,"ng-container",4),T.k0s()),2&le){const ne=T.XpG();T.HbH(ne.options.titleClass),T.BMQ("aria-label",ne.title),T.R7$(),T.SpI(" ",ne.title," "),T.R7$(),T.Y8G("ngIf",ne.duplicatesCount)}}function ve(le,fe){if(1&le&&T.nrm(0,"div",7),2&le){const ne=T.XpG();T.HbH(ne.options.messageClass),T.Y8G("innerHTML",ne.message,T.npT)}}function it(le,fe){if(1&le&&(T.j41(0,"div",8),T.EFF(1),T.k0s()),2&le){const ne=T.XpG();T.HbH(ne.options.messageClass),T.BMQ("aria-label",ne.message),T.R7$(),T.SpI(" ",ne.message," ")}}function ze(le,fe){if(1&le&&(T.j41(0,"div"),T.nrm(1,"div",9),T.k0s()),2&le){const ne=T.XpG();T.R7$(),T.xc7("width",ne.width()+"%")}}class _t{_attachedHost;component;viewContainerRef;injector;constructor(fe,ne){this.component=fe,this.injector=ne}attach(fe,ne){return this._attachedHost=fe,fe.attach(this,ne)}detach(){const fe=this._attachedHost;if(fe)return this._attachedHost=void 0,fe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(fe){this._attachedHost=fe}}class Re{_attachedPortal;_disposeFn;attach(fe,ne){return this._attachedPortal=fe,this.attachComponentPortal(fe,ne)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(fe){this._disposeFn=fe}}class Qe{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Ce.B;_activate=new Ce.B;_manualClose=new Ce.B;_resetTimeout=new Ce.B;_countDuplicate=new Ce.B;constructor(fe){this._overlayRef=fe}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(fe,ne){fe&&this._resetTimeout.next(),ne&&this._countDuplicate.next(++this.duplicatesCount)}}class qe{toastId;config;message;title;toastType;toastRef;_onTap=new Ce.B;_onAction=new Ce.B;constructor(fe,ne,he,Ye,Tt,rn){this.toastId=fe,this.config=ne,this.message=he,this.title=Ye,this.toastType=Tt,this.toastRef=rn,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(fe){this._onAction.next(fe)}onAction(){return this._onAction.asObservable()}}const Wt=new T.nKC("ToastConfig");class st extends Re{_hostDomElement;_componentFactoryResolver;_appRef;constructor(fe,ne,he){super(),this._hostDomElement=fe,this._componentFactoryResolver=ne,this._appRef=he}attachComponentPortal(fe,ne){const he=this._componentFactoryResolver.resolveComponentFactory(fe.component);let Ye;return Ye=he.create(fe.injector),this._appRef.attachView(Ye.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ye.hostView),Ye.destroy()}),ne?this._hostDomElement.insertBefore(this._getComponentRootNode(Ye),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ye)),Ye}_getComponentRootNode(fe){return fe.hostView.rootNodes[0]}}let ct=(()=>{class le{_document=(0,T.WQX)(q.q);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ne=this._document.createElement("div");ne.classList.add("overlay-container"),ne.setAttribute("aria-live","polite"),this._document.body.appendChild(ne),this._containerElement=ne}static \u0275fac=function(he){return new(he||le)};static \u0275prov=T.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();class Pn{_portalHost;constructor(fe){this._portalHost=fe}attach(fe,ne=!0){return this._portalHost.attach(fe,ne)}detach(){return this._portalHost.detach()}}let xn=(()=>{class le{_overlayContainer=(0,T.WQX)(ct);_componentFactoryResolver=(0,T.WQX)(T.OM3);_appRef=(0,T.WQX)(T.o8S);_document=(0,T.WQX)(q.q);_paneElements=new Map;create(ne,he){return this._createOverlayRef(this.getPaneElement(ne,he))}getPaneElement(ne="",he){return this._paneElements.get(he)||this._paneElements.set(he,{}),this._paneElements.get(he)[ne]||(this._paneElements.get(he)[ne]=this._createPaneElement(ne,he)),this._paneElements.get(he)[ne]}_createPaneElement(ne,he){const Ye=this._document.createElement("div");return Ye.id="toast-container",Ye.classList.add(ne),Ye.classList.add("toast-container"),he?he.getContainerElement().appendChild(Ye):this._overlayContainer.getContainerElement().appendChild(Ye),Ye}_createPortalHost(ne){return new st(ne,this._componentFactoryResolver,this._appRef)}_createOverlayRef(ne){return new Pn(this._createPortalHost(ne))}static \u0275fac=function(he){return new(he||le)};static \u0275prov=T.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),On=(()=>{class le{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(ne,he,Ye,Tt,rn){this.overlay=he,this._injector=Ye,this.sanitizer=Tt,this.ngZone=rn,this.toastrConfig={...ne.default,...ne.config},ne.config.iconClasses&&(this.toastrConfig.iconClasses={...ne.default.iconClasses,...ne.config.iconClasses})}show(ne,he,Ye={},Tt=""){return this._preBuildNotification(Tt,ne,he,this.applyConfig(Ye))}success(ne,he,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",ne,he,this.applyConfig(Ye))}error(ne,he,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",ne,he,this.applyConfig(Ye))}info(ne,he,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",ne,he,this.applyConfig(Ye))}warning(ne,he,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",ne,he,this.applyConfig(Ye))}clear(ne){for(const he of this.toasts)if(void 0!==ne){if(he.toastId===ne)return void he.toastRef.manualClose()}else he.toastRef.manualClose()}remove(ne){const he=this._findToast(ne);if(!he||(he.activeToast.toastRef.close(),this.toasts.splice(he.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ye=this.toasts[this.currentlyActive].toastRef;Ye.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ye.activate())}return!0}findDuplicate(ne="",he="",Ye,Tt){const{includeTitleDuplicates:rn}=this.toastrConfig;for(const Yt of this.toasts)if((!rn||rn&&Yt.title===ne)&&Yt.message===he)return Yt.toastRef.onDuplicate(Ye,Tt),Yt;return null}applyConfig(ne={}){return{...this.toastrConfig,...ne}}_findToast(ne){for(let he=0;he<this.toasts.length;he++)if(this.toasts[he].toastId===ne)return{index:he,activeToast:this.toasts[he]};return null}_preBuildNotification(ne,he,Ye,Tt){return Tt.onActivateTick?this.ngZone.run(()=>this._buildNotification(ne,he,Ye,Tt)):this._buildNotification(ne,he,Ye,Tt)}_buildNotification(ne,he,Ye,Tt){if(!Tt.toastComponent)throw new Error("toastComponent required");const rn=this.findDuplicate(Ye,he,this.toastrConfig.resetTimeoutOnDuplicate&&Tt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ye||he)&&this.toastrConfig.preventDuplicates&&null!==rn)return rn;this.previousToastMessage=he;let Yt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Yt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Jn=this.overlay.create(Tt.positionClass,this.overlayContainer);this.index=this.index+1;let Rt=he;he&&Tt.enableHtml&&(Rt=this.sanitizer.sanitize(T.WPN.HTML,he));const $n=new Qe(Jn),Hn=new qe(this.index,Tt,Rt,Ye,ne,$n),kn=T.zZn.create({providers:[{provide:qe,useValue:Hn}],parent:this._injector}),er=new _t(Tt.toastComponent,kn),ur=Jn.attach(er,Tt.newestOnTop);$n.componentInstance=ur.instance;const Br={toastId:this.index,title:Ye||"",message:he||"",toastRef:$n,onShown:$n.afterActivate(),onHidden:$n.afterClosed(),onTap:Hn.onTap(),onAction:Hn.onAction(),portal:ur};return Yt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Br.toastRef.activate()})),this.toasts.push(Br),Br}static \u0275fac=function(he){return new(he||le)(T.KVO(Wt),T.KVO(xn),T.KVO(T.zZn),T.KVO(Xe.up),T.KVO(T.SKi))};static \u0275prov=T.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const _n={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class le{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=(0,T.vPA)(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(ne,he,Ye){this.toastrService=ne,this.toastPackage=he,this.ngZone=Ye,this.message=he.message,this.title=he.title,this.options=he.config,this.originalTimeout=he.config.timeOut,this.toastClasses=`${he.toastType} ${he.config.toastClass}`,this.sub=he.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=he.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=he.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=he.toastRef.countDuplicate().subscribe(Tt=>{this.duplicatesCount=Tt}),this.state=(0,T.vPA)({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(ne=>({...ne,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const ne=(new Date).getTime();this.width.set((this.hideTime-ne)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(Ye=>100-Ye),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(ne=>({...ne,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(ne=>({...ne,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(ne,he){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(ne),he)):this.timeout=setTimeout(()=>ne(),he)}outsideInterval(ne,he){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(ne),he)):this.intervalId=setInterval(()=>ne(),he)}runInsideAngular(ne){this.ngZone?this.ngZone.run(()=>ne()):ne()}static \u0275fac=function(he){return new(he||le)(T.rXU(On),T.rXU(qe),T.rXU(T.SKi))};static \u0275cmp=T.VBU({type:le,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(he,Ye){1&he&&T.bIt("click",function(){return Ye.tapToast()})("mouseenter",function(){return Ye.stickAround()})("mouseleave",function(){return Ye.delayedHideToast()}),2&he&&(T.zvX("@flyInOut",Ye._state),T.HbH(Ye.toastClasses),T.xc7("display",Ye.displayStyle))},attrs:ge,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(he,Ye){1&he&&T.DNE(0,Ee,3,0,"button",0)(1,we,3,5,"div",1)(2,ve,1,3,"div",2)(3,it,2,4,"div",3)(4,ze,2,2,"div",4),2&he&&(T.Y8G("ngIf",Ye.options.closeButton),T.R7$(),T.Y8G("ngIf",Ye.title),T.R7$(),T.Y8G("ngIf",Ye.message&&Ye.options.enableHtml),T.R7$(),T.Y8G("ngIf",Ye.message&&!Ye.options.enableHtml),T.R7$(),T.Y8G("ngIf",Ye.options.progressBar))},dependencies:[I.bT],encapsulation:2,data:{animation:[(0,O.hZ)("flyInOut",[(0,O.wk)("inactive",(0,O.iF)({opacity:0})),(0,O.wk)("active",(0,O.iF)({opacity:1})),(0,O.wk)("removed",(0,O.iF)({opacity:0})),(0,O.kY)("inactive => active",(0,O.i0)("{{ easeTime }}ms {{ easing }}")),(0,O.kY)("active => removed",(0,O.i0)("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return le})()},mt=(le={})=>(0,T.EmA)([{provide:Wt,useValue:{default:_n,config:le}}])},5964:(En,Be,L)=>{"use strict";L.d(Be,{p:()=>q});var T=L(9974),O=L(4360);function q(I,Ce){return(0,T.N)((Xe,ge)=>{let Ee=0;Xe.subscribe((0,O._)(ge,je=>I.call(Ce,je,Ee++)&&ge.next(je)))})}},6048:(En,Be,L)=>{"use strict";L.d(Be,{Q:()=>ze,Sm:()=>Lt,Vw:()=>Ee,aZ:()=>Nt,hb:()=>Je,hj:()=>je,ig:()=>Xe,kB:()=>At,om:()=>ve,qj:()=>ge,rb:()=>Ce});var T=L(1360),O=L(1413),q=L(9361);let I=null;function Ce(){return I}function Xe(Re){I??=Re}class ge{}let Ee=(()=>{class Re{historyGo(qe){throw new Error("")}static \u0275fac=function(vt){return new(vt||Re)};static \u0275prov=T.jDH({token:Re,factory:()=>(0,T.WQX)(we),providedIn:"platform"})}return Re})();const je=new T.nKC("");let we=(()=>{class Re extends Ee{_location;_history;_doc=(0,T.WQX)(q.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ce().getBaseHref(this._doc)}onPopState(qe){const vt=Ce().getGlobalEventTarget(this._doc,"window");return vt.addEventListener("popstate",qe,!1),()=>vt.removeEventListener("popstate",qe)}onHashChange(qe){const vt=Ce().getGlobalEventTarget(this._doc,"window");return vt.addEventListener("hashchange",qe,!1),()=>vt.removeEventListener("hashchange",qe)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(qe){this._location.pathname=qe}pushState(qe,vt,Wt){this._history.pushState(qe,vt,Wt)}replaceState(qe,vt,Wt){this._history.replaceState(qe,vt,Wt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(qe=0){this._history.go(qe)}getState(){return this._history.state}static \u0275fac=function(vt){return new(vt||Re)};static \u0275prov=T.jDH({token:Re,factory:()=>new Re,providedIn:"platform"})}return Re})();function ve(Re,Qe){return Re?Qe?Re.endsWith("/")?Qe.startsWith("/")?Re+Qe.slice(1):Re+Qe:Qe.startsWith("/")?Re+Qe:`${Re}/${Qe}`:Re:Qe}function it(Re){const Qe=Re.search(/#|\?|$/);return"/"===Re[Qe-1]?Re.slice(0,Qe-1)+Re.slice(Qe):Re}function ze(Re){return Re&&"?"!==Re[0]?`?${Re}`:Re}let Je=(()=>{class Re{historyGo(qe){throw new Error("")}static \u0275fac=function(vt){return new(vt||Re)};static \u0275prov=T.jDH({token:Re,factory:()=>(0,T.WQX)(Lt),providedIn:"root"})}return Re})();const At=new T.nKC("");let Lt=(()=>{class Re extends Je{_platformLocation;_baseHref;_removeListenerFns=[];constructor(qe,vt){super(),this._platformLocation=qe,this._baseHref=vt??this._platformLocation.getBaseHrefFromDOM()??(0,T.WQX)(q.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(qe){this._removeListenerFns.push(this._platformLocation.onPopState(qe),this._platformLocation.onHashChange(qe))}getBaseHref(){return this._baseHref}prepareExternalUrl(qe){return ve(this._baseHref,qe)}path(qe=!1){const vt=this._platformLocation.pathname+ze(this._platformLocation.search),Wt=this._platformLocation.hash;return Wt&&qe?`${vt}${Wt}`:vt}pushState(qe,vt,Wt,st){const ct=this.prepareExternalUrl(Wt+ze(st));this._platformLocation.pushState(qe,vt,ct)}replaceState(qe,vt,Wt,st){const ct=this.prepareExternalUrl(Wt+ze(st));this._platformLocation.replaceState(qe,vt,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(qe=0){this._platformLocation.historyGo?.(qe)}static \u0275fac=function(vt){return new(vt||Re)(T.KVO(Ee),T.KVO(At,8))};static \u0275prov=T.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})(),Nt=(()=>{class Re{_subject=new O.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(qe){this._locationStrategy=qe;const vt=this._locationStrategy.getBaseHref();this._basePath=function _t(Re){if(new RegExp("^(https?:)?//").test(Re)){const[,qe]=Re.split(/\/\/[^\/]+/);return qe}return Re}(it(gt(vt))),this._locationStrategy.onPopState(Wt=>{this._subject.next({url:this.path(!0),pop:!0,state:Wt.state,type:Wt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(qe=!1){return this.normalize(this._locationStrategy.path(qe))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(qe,vt=""){return this.path()==this.normalize(qe+ze(vt))}normalize(qe){return Re.stripTrailingSlash(function ft(Re,Qe){if(!Re||!Qe.startsWith(Re))return Qe;const qe=Qe.substring(Re.length);return""===qe||["/",";","?","#"].includes(qe[0])?qe:Qe}(this._basePath,gt(qe)))}prepareExternalUrl(qe){return qe&&"/"!==qe[0]&&(qe="/"+qe),this._locationStrategy.prepareExternalUrl(qe)}go(qe,vt="",Wt=null){this._locationStrategy.pushState(Wt,"",qe,vt),this._notifyUrlChangeListeners(this.prepareExternalUrl(qe+ze(vt)),Wt)}replaceState(qe,vt="",Wt=null){this._locationStrategy.replaceState(Wt,"",qe,vt),this._notifyUrlChangeListeners(this.prepareExternalUrl(qe+ze(vt)),Wt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(qe=0){this._locationStrategy.historyGo?.(qe)}onUrlChange(qe){return this._urlChangeListeners.push(qe),this._urlChangeSubscription??=this.subscribe(vt=>{this._notifyUrlChangeListeners(vt.url,vt.state)}),()=>{const vt=this._urlChangeListeners.indexOf(qe);this._urlChangeListeners.splice(vt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(qe="",vt){this._urlChangeListeners.forEach(Wt=>Wt(qe,vt))}subscribe(qe,vt,Wt){return this._subject.subscribe({next:qe,error:vt??void 0,complete:Wt??void 0})}static normalizeQueryParams=ze;static joinWithSlash=ve;static stripTrailingSlash=it;static \u0275fac=function(vt){return new(vt||Re)(T.KVO(Je))};static \u0275prov=T.jDH({token:Re,factory:()=>function Gt(){return new Nt((0,T.KVO)(Je))}(),providedIn:"root"})}return Re})();function gt(Re){return Re.replace(/\/index.html$/,"")}},6335:(En,Be,L)=>{"use strict";L.d(Be,{Nj:()=>it,DF:()=>ze,wh:()=>Re,eJ:()=>xn,xI:()=>mt,hg:()=>rn,_q:()=>_t,J1:()=>Br,x9:()=>Ji,CI:()=>Xt});var T=L(2967),O=L(1360),q=L(7440),I=L(4125),Ce=L(2214),Xe=L(520),ge=L(1985);function Ee(or){return new ge.c(function(In){return{unsubscribe:(0,Xe.hg)(or,In.next.bind(In),In.error.bind(In),In.complete.bind(In))}})}class it{constructor(In){return In}}class ze{constructor(){return(0,T.CA)("auth")}}const At=new O.nKC("angularfire2.auth-instances");function Nt(or){return(In,pi)=>{const Pr=In.runOutsideAngular(()=>or(pi));return new it(Pr)}}const Gt={provide:ze,deps:[[new O.Xx1,At]]},ft={provide:it,useFactory:function Lt(or,In){const pi=(0,T.lR)("auth",or,In);return pi&&new it(pi)},deps:[[new O.Xx1,At],q.XU]};function _t(or,...In){return(0,Ce.KO)("angularfire",T.xv.full,"auth"),(0,O.EmA)([ft,Gt,{provide:At,useFactory:Nt(or),multi:!0,deps:[O.SKi,O.zZn,T.u0,q.gL,[new O.Xx1,I.kR],...In]}])}const Re=(0,T.S3)(Ee,!0),xn=(0,T.S3)(Xe.eJ,!0,2),mt=(0,T.S3)(Xe.xI,!0),rn=(0,T.S3)(Xe.hg,!0),Br=(0,T.S3)(Xe.J1,!0,2),Ji=(0,T.S3)(Xe.x9,!0,2),Xt=(0,T.S3)(Xe.CI,!0,2)},6354:(En,Be,L)=>{"use strict";L.d(Be,{T:()=>q});var T=L(9974),O=L(4360);function q(I,Ce){return(0,T.N)((Xe,ge)=>{let Ee=0;Xe.subscribe((0,O._)(ge,je=>{ge.next(I.call(Ce,je,Ee++))}))})}},6365:(En,Be,L)=>{"use strict";L.d(Be,{U:()=>q});var T=L(1397),O=L(3669);function q(I=1/0){return(0,T.Z)(O.D,I)}},6450:(En,Be,L)=>{"use strict";L.d(Be,{I:()=>I});var T=L(6354);const{isArray:O}=Array;function I(Ce){return(0,T.T)(Xe=>function q(Ce,Xe){return O(Xe)?Ce(...Xe):Ce(Xe)}(Ce,Xe))}},6697:(En,Be,L)=>{"use strict";L.d(Be,{s:()=>I});var T=L(983),O=L(9974),q=L(4360);function I(Ce){return Ce<=0?()=>T.w:(0,O.N)((Xe,ge)=>{let Ee=0;Xe.subscribe((0,q._)(ge,je=>{++Ee<=Ce&&(ge.next(je),Ce<=Ee&&ge.complete())}))})}},6745:(En,Be,L)=>{"use strict";L.d(Be,{_:()=>O});var T=L(9974);function O(q,I=0){return(0,T.N)((Ce,Xe)=>{Xe.add(q.schedule(()=>Ce.subscribe(Xe),I))})}},6780:(En,Be,L)=>{"use strict";L.d(Be,{R:()=>Ce});var T=L(8359);class O extends T.yU{constructor(ge,Ee){super()}schedule(ge,Ee=0){return this}}const q={setInterval(Xe,ge,...Ee){const{delegate:je}=q;return je?.setInterval?je.setInterval(Xe,ge,...Ee):setInterval(Xe,ge,...Ee)},clearInterval(Xe){const{delegate:ge}=q;return(ge?.clearInterval||clearInterval)(Xe)},delegate:void 0};var I=L(7908);class Ce extends O{constructor(ge,Ee){super(ge,Ee),this.scheduler=ge,this.work=Ee,this.pending=!1}schedule(ge,Ee=0){var je;if(this.closed)return this;this.state=ge;const we=this.id,ve=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(ve,we,Ee)),this.pending=!0,this.delay=Ee,this.id=null!==(je=this.id)&&void 0!==je?je:this.requestAsyncId(ve,this.id,Ee),this}requestAsyncId(ge,Ee,je=0){return q.setInterval(ge.flush.bind(ge,this),je)}recycleAsyncId(ge,Ee,je=0){if(null!=je&&this.delay===je&&!1===this.pending)return Ee;null!=Ee&&q.clearInterval(Ee)}execute(ge,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const je=this._execute(ge,Ee);if(je)return je;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,Ee){let we,je=!1;try{this.work(ge)}catch(ve){je=!0,we=ve||new Error("Scheduled action threw falsy error")}if(je)return this.unsubscribe(),we}unsubscribe(){if(!this.closed){const{id:ge,scheduler:Ee}=this,{actions:je}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,I.o)(je,this),null!=ge&&(this.id=this.recycleAsyncId(Ee,ge,null)),this.delay=null,super.unsubscribe()}}}},6810:(En,Be,L)=>{"use strict";L.d(Be,{y:()=>we});var T=L(467),O=L(9967),q=L(3273),I=L(4843),Ce=L(5558),Xe=L(6354),ge=L(1360),Ee=L(6335),je=L(4796);let we=(()=>{class ve{firestore;auth;authService;constructor(ze,Je,At){this.firestore=ze,this.auth=Je,this.authService=At,console.log("%c<<< Start TODO service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}addTodo(ze){var Je=this;return(0,T.A)(function*(){const At=yield(0,I._)(Je.authService.getCurrentUser());if(!At?.uid)throw new Error("Usuario no autenticado");const Lt=(0,O.rJ)(Je.firestore,`users/${At.uid}/todos`),Nt=(0,O.H9)(Lt),Gt=new Date,ft={...ze,id:Nt.id,completed:!1,createdAt:Gt,updatedAt:Gt};console.log("\u{1f9fe} Creando tarea en:",`users/${At.uid}/todos/${Nt.id}`),console.log("\u{1f4dd} Datos:",ft),yield(0,O.BN)(Nt,ft)})()}getTodos(){return this.authService.getCurrentUser().pipe((0,Ce.n)(ze=>{const Je=(0,O.rJ)(this.firestore,`users/${ze.uid}/todos`);return(0,O.xs)(Je,{idField:"id"})}))}updateTodo(ze,Je){var At=this;return(0,T.A)(function*(){const Lt=yield(0,I._)(At.authService.getCurrentUser());if(!Lt?.uid)throw new Error("Usuario no autenticado");const Nt=(0,O.H9)(At.firestore,`users/${Lt.uid}/todos/${ze}`);yield(0,O.mZ)(Nt,{...Je,updatedAt:q.Dc.now()})})()}deleteTodo(ze){var Je=this;return(0,T.A)(function*(){const At=yield(0,I._)(Je.authService.getCurrentUser());if(!At?.uid)throw new Error("Usuario no autenticado");const Lt=(0,O.H9)(Je.firestore,`users/${At.uid}/todos/${ze}`);yield(0,O.kd)(Lt)})()}clearAllTodos(){var ze=this;return(0,T.A)(function*(){const Je=yield(0,I._)(ze.getTodos()),At=yield(0,I._)(ze.authService.getCurrentUser());if(!At?.uid)throw new Error("Usuario no autenticado");const Lt=Je.map(Nt=>(0,O.kd)((0,O.H9)(ze.firestore,`users/${At.uid}/todos/${Nt.id}`)));yield Promise.all(Lt)})()}getPendingTodosCount(){return this.authService.getCurrentUser().pipe((0,Ce.n)(ze=>{const Je=(0,O.rJ)(this.firestore,`users/${ze.uid}/todos`),At=(0,O.P)(Je,(0,O._M)("completed","==",!1));return(0,O.xs)(At).pipe((0,Xe.T)(Lt=>Lt.length))}))}getTodoById(ze){var Je=this;return(0,T.A)(function*(){const At=yield(0,I._)(Je.authService.getCurrentUser());if(!At?.uid)throw new Error("Usuario no autenticado");const Lt=(0,O.H9)(Je.firestore,`users/${At.uid}/todos/${ze}`),Nt=yield(0,O.x7)(Lt);if(!Nt.exists())throw new Error("Tarea no encontrada");return Nt.data()})()}static \u0275fac=function(Je){return new(Je||ve)(ge.KVO(O._7),ge.KVO(Ee.Nj),ge.KVO(je.u))};static \u0275prov=ge.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})()},6858:(En,Be,L)=>{"use strict";L.d(Be,{cY:()=>vt,FA:()=>er,g:()=>kn,K3:()=>Ee,u:()=>it,Uj:()=>ve,Fy:()=>Pn,tD:()=>dr,bD:()=>Gr,hp:()=>pr,T9:()=>Qe,Tj:()=>_t,yU:()=>Re,XA:()=>qe,mS:()=>Lt,Ku:()=>Li,ZQ:()=>an,sr:()=>fe,zJ:()=>Wt,c1:()=>le,Im:()=>Gn,lT:()=>Ye,zW:()=>Rt,jZ:()=>Ot,lV:()=>ne,nr:()=>Yt,Ov:()=>Jn,gE:()=>st,Am:()=>lr,I9:()=>_i,P1:()=>mt,eX:()=>$n});var T=L(467);const Xe=function(be){const ye=[];let Ve=0;for(let xt=0;xt<be.length;xt++){let Ze=be.charCodeAt(xt);Ze<128?ye[Ve++]=Ze:Ze<2048?(ye[Ve++]=Ze>>6|192,ye[Ve++]=63&Ze|128):55296==(64512&Ze)&&xt+1<be.length&&56320==(64512&be.charCodeAt(xt+1))?(Ze=65536+((1023&Ze)<<10)+(1023&be.charCodeAt(++xt)),ye[Ve++]=Ze>>18|240,ye[Ve++]=Ze>>12&63|128,ye[Ve++]=Ze>>6&63|128,ye[Ve++]=63&Ze|128):(ye[Ve++]=Ze>>12|224,ye[Ve++]=Ze>>6&63|128,ye[Ve++]=63&Ze|128)}return ye},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(be,ye){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ve=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,xt=[];for(let Ze=0;Ze<be.length;Ze+=3){const Zt=be[Ze],wn=Ze+1<be.length,gr=wn?be[Ze+1]:0,te=Ze+2<be.length,oe=te?be[Ze+2]:0;let Dt=(15&gr)<<2|oe>>6,ie=63&oe;te||(ie=64,wn||(Dt=64)),xt.push(Ve[Zt>>2],Ve[(3&Zt)<<4|gr>>4],Ve[Dt],Ve[ie])}return xt.join("")},encodeString(be,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(be):this.encodeByteArray(Xe(be),ye)},decodeString(be,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(be):function(be){const ye=[];let Ve=0,xt=0;for(;Ve<be.length;){const Ze=be[Ve++];if(Ze<128)ye[xt++]=String.fromCharCode(Ze);else if(Ze>191&&Ze<224){const Zt=be[Ve++];ye[xt++]=String.fromCharCode((31&Ze)<<6|63&Zt)}else if(Ze>239&&Ze<365){const te=((7&Ze)<<18|(63&be[Ve++])<<12|(63&be[Ve++])<<6|63&be[Ve++])-65536;ye[xt++]=String.fromCharCode(55296+(te>>10)),ye[xt++]=String.fromCharCode(56320+(1023&te))}else{const Zt=be[Ve++],wn=be[Ve++];ye[xt++]=String.fromCharCode((15&Ze)<<12|(63&Zt)<<6|63&wn)}}return ye.join("")}(this.decodeStringToByteArray(be,ye))},decodeStringToByteArray(be,ye){this.init_();const Ve=ye?this.charToByteMapWebSafe_:this.charToByteMap_,xt=[];for(let Ze=0;Ze<be.length;){const Zt=Ve[be.charAt(Ze++)],gr=Ze<be.length?Ve[be.charAt(Ze)]:0;++Ze;const oe=Ze<be.length?Ve[be.charAt(Ze)]:64;++Ze;const ot=Ze<be.length?Ve[be.charAt(Ze)]:64;if(++Ze,null==Zt||null==gr||null==oe||null==ot)throw new je;xt.push(Zt<<2|gr>>4),64!==oe&&(xt.push(gr<<4&240|oe>>2),64!==ot&&xt.push(oe<<6&192|ot))}return xt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}};class je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ve=function(be){return function(be){const ye=Xe(be);return Ee.encodeByteArray(ye,!0)}(be).replace(/\./g,"")},it=function(be){try{return Ee.decodeString(be,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function Lt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const gt=()=>{try{return Lt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const be=process.env.__FIREBASE_DEFAULTS__;return be?JSON.parse(be):void 0})()||(()=>{if(typeof document>"u")return;let be;try{be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ye=be&&it(be[1]);return ye&&JSON.parse(ye)})()}catch(be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${be}`)}},_t=be=>{var ye,Ve;return null===(Ve=null===(ye=gt())||void 0===ye?void 0:ye.emulatorHosts)||void 0===Ve?void 0:Ve[be]},Re=be=>{const ye=_t(be);if(!ye)return;const Ve=ye.lastIndexOf(":");if(Ve<=0||Ve+1===ye.length)throw new Error(`Invalid host ${ye} with no separate hostname and port!`);const xt=parseInt(ye.substring(Ve+1),10);return"["===ye[0]?[ye.substring(1,Ve-1),xt]:[ye.substring(0,Ve),xt]},Qe=()=>{var be;return null===(be=gt())||void 0===be?void 0:be.config},qe=be=>{var ye;return null===(ye=gt())||void 0===ye?void 0:ye[`_${be}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,Ve)=>{this.resolve=ye,this.reject=Ve})}wrapCallback(ye){return(Ve,xt)=>{Ve?this.reject(Ve):this.resolve(xt),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(Ve):ye(Ve,xt))}}}function Wt(be){return be.endsWith(".cloudworkstations.dev")}function st(be){return ct.apply(this,arguments)}function ct(){return(ct=(0,T.A)(function*(be){return(yield fetch(be,{credentials:"include"})).ok})).apply(this,arguments)}function Pn(be,ye){if(be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xt=ye||"demo-project",Ze=be.iat||0,Zt=be.sub||be.user_id;if(!Zt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const wn=Object.assign({iss:`https://securetoken.google.com/${xt}`,aud:xt,iat:Ze,exp:Ze+3600,auth_time:Ze,sub:Zt,user_id:Zt,firebase:{sign_in_provider:"custom",identities:{}}},be);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(wn)),""].join(".")}const xn={};let _n=!1;function mt(be,ye){if(typeof window>"u"||typeof document>"u"||!Wt(window.location.host)||xn[be]===ye||xn[be]||_n)return;function Ve(Dt){return`__firebase__banner__${Dt}`}xn[be]=ye;const xt="__firebase__banner",Zt=function On(){const be={prod:[],emulator:[]};for(const ye of Object.keys(xn))xn[ye]?be.emulator.push(ye):be.prod.push(ye);return be}().prod.length>0;function ot(){const Dt=function nt(be){let ye=document.getElementById(be),Ve=!1;return ye||(ye=document.createElement("div"),ye.setAttribute("id",be),Ve=!0),{created:Ve,element:ye}}(xt),ie=Ve("text"),me=document.getElementById(ie)||document.createElement("span"),Le=Ve("learnmore"),St=document.getElementById(Le)||document.createElement("a"),wt=Ve("preprendIcon"),pt=document.getElementById(wt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(Dt.created){const Ft=Dt.element;(function gr(Dt){Dt.style.display="flex",Dt.style.background="#7faaf0",Dt.style.position="fixed",Dt.style.bottom="5px",Dt.style.left="5px",Dt.style.padding=".5em",Dt.style.borderRadius="5px",Dt.style.alignItems="center"})(Ft),function De(Dt,ie){Dt.setAttribute("id",ie),Dt.innerText="Learn more",Dt.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",Dt.setAttribute("target","__blank"),Dt.style.paddingLeft="5px",Dt.style.textDecoration="underline"}(St,Le);const en=function oe(){const Dt=document.createElement("span");return Dt.style.cursor="pointer",Dt.style.marginLeft="16px",Dt.style.fontSize="24px",Dt.innerHTML=" &times;",Dt.onclick=()=>{_n=!0,function wn(){const Dt=document.getElementById(xt);Dt&&Dt.remove()}()},Dt}();(function te(Dt,ie){Dt.setAttribute("width","24"),Dt.setAttribute("id",ie),Dt.setAttribute("height","24"),Dt.setAttribute("viewBox","0 0 24 24"),Dt.setAttribute("fill","none"),Dt.style.marginLeft="-6px"})(pt,wt),Ft.append(pt,me,St,en),document.body.appendChild(Ft)}Zt?(me.innerText="Preview backend disconnected.",pt.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(pt.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',me.innerText="Preview backend running in this workspace."),me.setAttribute("id",ie)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",ot):ot()}function an(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ot(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function He(){var be;const ye=null===(be=gt())||void 0===be?void 0:be.forceEnvironment;if("node"===ye)return!0;if("browser"===ye)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function le(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function fe(){const be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){const be=an();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function Yt(){return!He()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jn(){return!He()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Rt(){try{return"object"==typeof indexedDB}catch{return!1}}function $n(){return new Promise((be,ye)=>{try{let Ve=!0;const xt="validate-browser-context-for-indexeddb-analytics-module",Ze=self.indexedDB.open(xt);Ze.onsuccess=()=>{Ze.result.close(),Ve||self.indexedDB.deleteDatabase(xt),be(!0)},Ze.onupgradeneeded=()=>{Ve=!1},Ze.onerror=()=>{var Zt;ye((null===(Zt=Ze.error)||void 0===Zt?void 0:Zt.message)||"")}}catch(Ve){ye(Ve)}})}class kn extends Error{constructor(ye,Ve,xt){super(Ve),this.code=ye,this.customData=xt,this.name="FirebaseError",Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,er.prototype.create)}}class er{constructor(ye,Ve,xt){this.service=ye,this.serviceName=Ve,this.errors=xt}create(ye,...Ve){const xt=Ve[0]||{},Ze=`${this.service}/${ye}`,Zt=this.errors[ye],wn=Zt?function ur(be,ye){return be.replace(Br,(Ve,xt)=>{const Ze=ye[xt];return null!=Ze?String(Ze):`<${xt}?>`})}(Zt,xt):"Error";return new kn(Ze,`${this.serviceName}: ${wn} (${Ze}).`,xt)}}const Br=/\{\$([^}]+)}/g;function Gn(be){for(const ye in be)if(Object.prototype.hasOwnProperty.call(be,ye))return!1;return!0}function Gr(be,ye){if(be===ye)return!0;const Ve=Object.keys(be),xt=Object.keys(ye);for(const Ze of Ve){if(!xt.includes(Ze))return!1;const Zt=be[Ze],wn=ye[Ze];if(xr(Zt)&&xr(wn)){if(!Gr(Zt,wn))return!1}else if(Zt!==wn)return!1}for(const Ze of xt)if(!Ve.includes(Ze))return!1;return!0}function xr(be){return null!==be&&"object"==typeof be}function lr(be){const ye=[];for(const[Ve,xt]of Object.entries(be))Array.isArray(xt)?xt.forEach(Ze=>{ye.push(encodeURIComponent(Ve)+"="+encodeURIComponent(Ze))}):ye.push(encodeURIComponent(Ve)+"="+encodeURIComponent(xt));return ye.length?"&"+ye.join("&"):""}function _i(be){const ye={};return be.replace(/^\?/,"").split("&").forEach(xt=>{if(xt){const[Ze,Zt]=xt.split("=");ye[decodeURIComponent(Ze)]=decodeURIComponent(Zt)}}),ye}function pr(be){const ye=be.indexOf("?");if(!ye)return"";const Ve=be.indexOf("#",ye);return be.substring(ye,Ve>0?Ve:void 0)}function dr(be,ye){const Ve=new Ei(be,ye);return Ve.subscribe.bind(Ve)}class Ei{constructor(ye,Ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ve,this.task.then(()=>{ye(this)}).catch(xt=>{this.error(xt)})}next(ye){this.forEachObserver(Ve=>{Ve.next(ye)})}error(ye){this.forEachObserver(Ve=>{Ve.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,Ve,xt){let Ze;if(void 0===ye&&void 0===Ve&&void 0===xt)throw new Error("Missing Observer.");Ze=function or(be,ye){if("object"!=typeof be||null===be)return!1;for(const Ve of ye)if(Ve in be&&"function"==typeof be[Ve])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:Ve,complete:xt},void 0===Ze.next&&(Ze.next=In),void 0===Ze.error&&(Ze.error=In),void 0===Ze.complete&&(Ze.complete=In);const Zt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ze.error(this.finalError):Ze.complete()}catch{}}),this.observers.push(Ze),Zt}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let Ve=0;Ve<this.observers.length;Ve++)this.sendOne(Ve,ye)}sendOne(ye,Ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{Ve(this.observers[ye])}catch(xt){typeof console<"u"&&console.error&&console.error(xt)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function In(){}function Li(be){return be&&be._delegate?be._delegate:be}},6895:(En,Be,L)=>{"use strict";L.d(Be,{nX:()=>Ao,Pu:()=>Bi,Zp:()=>ae,nU:()=>Ei,c1:()=>Os,XR:()=>Va,wF:()=>Ht,lW:()=>ar,mo:()=>Mn,Z:()=>Bt,J2:()=>Ks,J_:()=>Ar,bw:()=>P,tD:()=>Ds,Ix:()=>Ra,D$:()=>k,n3:()=>oo,OY:()=>It,Sd:()=>dr,bK:()=>ji,gk:()=>Io,Lg:()=>vs,wO:()=>wn,Us:()=>ti,we:()=>js});var T=L(9361),O=L(6048),q=L(1360),I=L(1985),Ce=L(8071),ge=L(8455),Ee=L(7673),je=L(4412),we=L(4572),ve=L(9350),it=L(6365),Je=L(9326);function At(...A){return function ze(){return(0,it.U)(1)}()((0,ge.H)(A,(0,Je.lI)(A)))}var Lt=L(8750);function Nt(A){return new I.c(_=>{(0,Lt.Tg)(A()).subscribe(_)})}var Gt=L(1203);function ft(A,_){const l=(0,Ce.T)(A)?A:()=>A,h=m=>m.error(l());return new I.c(_?m=>_.schedule(h,0,m):h)}var gt=L(983),_t=L(8359),Re=L(9974),Qe=L(4360);function qe(){return(0,Re.N)((A,_)=>{let l=null;A._refCount++;const h=(0,Qe._)(_,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(l=null);const m=A._connection,C=l;l=null,m&&(!C||m===C)&&m.unsubscribe(),_.unsubscribe()});A.subscribe(h),h.closed||(l=A.connect())})}class vt extends I.c{constructor(_,l){super(),this.source=_,this.subjectFactory=l,this._subject=null,this._refCount=0,this._connection=null,(0,Re.S)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,_?.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new _t.yU;const l=this.getSubject();_.add(this.source.subscribe((0,Qe._)(l,void 0,()=>{this._teardown(),l.complete()},h=>{this._teardown(),l.error(h)},()=>this._teardown()))),_.closed&&(this._connection=null,_=_t.yU.EMPTY)}return _}refCount(){return qe()(this)}}var Wt=L(1413),st=L(6354),ct=L(5558),Pn=L(6697),On=L(5964),nt=L(1397);function _n(A){return(0,Re.N)((_,l)=>{let h=!1;_.subscribe((0,Qe._)(l,m=>{h=!0,l.next(m)},()=>{h||l.next(A),l.complete()}))})}function mt(A=an){return(0,Re.N)((_,l)=>{let h=!1;_.subscribe((0,Qe._)(l,m=>{h=!0,l.next(m)},()=>h?l.complete():l.error(A())))})}function an(){return new ve.G}var Ot=L(3669);function He(A,_){const l=arguments.length>=2;return h=>h.pipe(A?(0,On.p)((m,C)=>A(m,C,h)):Ot.D,(0,Pn.s)(1),l?_n(_):mt(()=>new ve.G))}var Y=L(274);function ce(A,_,l){const h=(0,Ce.T)(A)||_||l?{next:A,error:_,complete:l}:A;return h?(0,Re.N)((m,C)=>{var M;null===(M=h.subscribe)||void 0===M||M.call(h);let G=!0;m.subscribe((0,Qe._)(C,Q=>{var Ie;null===(Ie=h.next)||void 0===Ie||Ie.call(h,Q),C.next(Q)},()=>{var Q;G=!1,null===(Q=h.complete)||void 0===Q||Q.call(h),C.complete()},Q=>{var Ie;G=!1,null===(Ie=h.error)||void 0===Ie||Ie.call(h,Q),C.error(Q)},()=>{var Q,Ie;G&&(null===(Q=h.unsubscribe)||void 0===Q||Q.call(h)),null===(Ie=h.finalize)||void 0===Ie||Ie.call(h)}))}):Ot.D}var le=L(9437);function he(A){return A<=0?()=>gt.w:(0,Re.N)((_,l)=>{let h=[];_.subscribe((0,Qe._)(l,m=>{h.push(m),A<h.length&&h.shift()},()=>{for(const m of h)l.next(m);l.complete()},void 0,()=>{h=null}))})}var Tt=L(980),rn=L(5343),Jn=L(345);const Rt="primary",$n=Symbol("RouteTitle");class Hn{params;constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const l=this.params[_];return Array.isArray(l)?l[0]:l}return null}getAll(_){if(this.has(_)){const l=this.params[_];return Array.isArray(l)?l:[l]}return[]}get keys(){return Object.keys(this.params)}}function Kt(A){return new Hn(A)}function kn(A,_,l){const h=l.path.split("/");if(h.length>A.length||"full"===l.pathMatch&&(_.hasChildren()||h.length<A.length))return null;const m={};for(let C=0;C<h.length;C++){const M=h[C],G=A[C];if(":"===M[0])m[M.substring(1)]=G;else if(M!==G.path)return null}return{consumed:A.slice(0,h.length),posParams:m}}function ur(A,_){const l=A?Br(A):void 0,h=_?Br(_):void 0;if(!l||!h||l.length!=h.length)return!1;let m;for(let C=0;C<l.length;C++)if(m=l[C],!Cr(A[m],_[m]))return!1;return!0}function Br(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function Cr(A,_){if(Array.isArray(A)&&Array.isArray(_)){if(A.length!==_.length)return!1;const l=[...A].sort(),h=[..._].sort();return l.every((m,C)=>h[C]===m)}return A===_}function Wi(A){return A.length>0?A[A.length-1]:null}function sn(A){return function Xe(A){return!!A&&(A instanceof I.c||(0,Ce.T)(A.lift)&&(0,Ce.T)(A.subscribe))}(A)?A:(0,q.jNT)(A)?(0,ge.H)(Promise.resolve(A)):(0,Ee.of)(A)}const fr={exact:function ht(A,_,l){if(!pr(A.segments,_.segments)||!Gr(A.segments,_.segments,l)||A.numberOfChildren!==_.numberOfChildren)return!1;for(const h in _.children)if(!A.children[h]||!ht(A.children[h],_.children[h],l))return!1;return!0},subset:Gn},dn={exact:function Nr(A,_){return ur(A,_)},subset:function jr(A,_){return Object.keys(_).length<=Object.keys(A).length&&Object.keys(_).every(l=>Cr(A[l],_[l]))},ignored:()=>!0};function Ji(A,_,l){return fr[l.paths](A.root,_.root,l.matrixParams)&&dn[l.queryParams](A.queryParams,_.queryParams)&&!("exact"===l.fragment&&A.fragment!==_.fragment)}function Gn(A,_,l){return Xt(A,_,_.segments,l)}function Xt(A,_,l,h){if(A.segments.length>l.length){const m=A.segments.slice(0,l.length);return!(!pr(m,l)||_.hasChildren()||!Gr(m,l,h))}if(A.segments.length===l.length){if(!pr(A.segments,l)||!Gr(A.segments,l,h))return!1;for(const m in _.children)if(!A.children[m]||!Gn(A.children[m],_.children[m],h))return!1;return!0}{const m=l.slice(0,A.segments.length),C=l.slice(A.segments.length);return!!(pr(A.segments,m)&&Gr(A.segments,m,h)&&A.children[Rt])&&Xt(A.children[Rt],_,C,h)}}function Gr(A,_,l){return _.every((h,m)=>dn[l](A[m].parameters,h.parameters))}class xr{root;queryParams;fragment;_queryParamMap;constructor(_=new qn([],{}),l={},h=null){this.root=_,this.queryParams=l,this.fragment=h}get queryParamMap(){return this._queryParamMap??=Kt(this.queryParams),this._queryParamMap}toString(){return Ci.serialize(this)}}class qn{segments;children;parent=null;constructor(_,l){this.segments=_,this.children=l,Object.values(l).forEach(h=>h.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return or(this)}}class lr{path;parameters;_parameterMap;constructor(_,l){this.path=_,this.parameters=l}get parameterMap(){return this._parameterMap??=Kt(this.parameters),this._parameterMap}toString(){return Gi(this)}}function pr(A,_){return A.length===_.length&&A.every((l,h)=>l.path===_[h].path)}let dr=(()=>{class A{static \u0275fac=function(h){return new(h||A)};static \u0275prov=q.jDH({token:A,factory:()=>new Ei,providedIn:"root"})}return A})();class Ei{parse(_){const l=new Ve(_);return new xr(l.parseRootSegment(),l.parseQueryParams(),l.parseFragment())}serialize(_){const l=`/${In(_.root,!0)}`,h=function Oi(A){const _=Object.entries(A).map(([l,h])=>Array.isArray(h)?h.map(m=>`${Pr(l)}=${Pr(m)}`).join("&"):`${Pr(l)}=${Pr(h)}`).filter(l=>l);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${l}${h}${"string"==typeof _.fragment?`#${function Kn(A){return encodeURI(A)}(_.fragment)}`:""}`}}const Ci=new Ei;function or(A){return A.segments.map(_=>Gi(_)).join("/")}function In(A,_){if(!A.hasChildren())return or(A);if(_){const l=A.children[Rt]?In(A.children[Rt],!1):"",h=[];return Object.entries(A.children).forEach(([m,C])=>{m!==Rt&&h.push(`${m}:${In(C,!1)}`)}),h.length>0?`${l}(${h.join("//")})`:l}{const l=function vi(A,_){let l=[];return Object.entries(A.children).forEach(([h,m])=>{h===Rt&&(l=l.concat(_(m,h)))}),Object.entries(A.children).forEach(([h,m])=>{h!==Rt&&(l=l.concat(_(m,h)))}),l}(A,(h,m)=>m===Rt?[In(A.children[Rt],!1)]:[`${m}:${In(h,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[Rt]?`${or(A)}/${l[0]}`:`${or(A)}/(${l.join("//")})`}}function pi(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pr(A){return pi(A).replace(/%3B/gi,";")}function xi(A){return pi(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fe(A){return decodeURIComponent(A)}function Mr(A){return Fe(A.replace(/\+/g,"%20"))}function Gi(A){return`${xi(A.path)}${function gi(A){return Object.entries(A).map(([_,l])=>`;${xi(_)}=${xi(l)}`).join("")}(A.parameters)}`}const vn=/^[^\/()?;#]+/;function _r(A){const _=A.match(vn);return _?_[0]:""}const Ir=/^[^\/()?;=#]+/,Fi=/^[^=?&#]+/,be=/^[^&#]+/;class Ve{url;remaining;constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qn([],{}):new qn([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let l={};this.peekStartsWith("/(")&&(this.capture("/"),l=this.parseParens(!0));let h={};return this.peekStartsWith("(")&&(h=this.parseParens(!1)),(_.length>0||Object.keys(l).length>0)&&(h[Rt]=new qn(_,l)),h}parseSegment(){const _=_r(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new q.wOt(4009,!1);return this.capture(_),new lr(Fe(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const l=function $i(A){const _=A.match(Ir);return _?_[0]:""}(this.remaining);if(!l)return;this.capture(l);let h="";if(this.consumeOptional("=")){const m=_r(this.remaining);m&&(h=m,this.capture(h))}_[Fe(l)]=Fe(h)}parseQueryParam(_){const l=function Li(A){const _=A.match(Fi);return _?_[0]:""}(this.remaining);if(!l)return;this.capture(l);let h="";if(this.consumeOptional("=")){const M=function ye(A){const _=A.match(be);return _?_[0]:""}(this.remaining);M&&(h=M,this.capture(h))}const m=Mr(l),C=Mr(h);if(_.hasOwnProperty(m)){let M=_[m];Array.isArray(M)||(M=[M],_[m]=M),M.push(C)}else _[m]=C}parseParens(_){const l={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const h=_r(this.remaining),m=this.remaining[h.length];if("/"!==m&&")"!==m&&";"!==m)throw new q.wOt(4010,!1);let C;h.indexOf(":")>-1?(C=h.slice(0,h.indexOf(":")),this.capture(C),this.capture(":")):_&&(C=Rt);const M=this.parseChildren();l[C]=1===Object.keys(M).length?M[Rt]:new qn([],M),this.consumeOptional("//")}return l}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new q.wOt(4011,!1)}}function xt(A){return A.segments.length>0?new qn([],{[Rt]:A}):A}function Ze(A){const _={};for(const[h,m]of Object.entries(A.children)){const C=Ze(m);if(h===Rt&&0===C.segments.length&&C.hasChildren())for(const[M,G]of Object.entries(C.children))_[M]=G;else(C.segments.length>0||C.hasChildren())&&(_[h]=C)}return function Zt(A){if(1===A.numberOfChildren&&A.children[Rt]){const _=A.children[Rt];return new qn(A.segments.concat(_.segments),_.children)}return A}(new qn(A.segments,_))}function wn(A){return A instanceof xr}function te(A){let _;const m=xt(function l(C){const M={};for(const Q of C.children){const Ie=l(Q);M[Q.outlet]=Ie}const G=new qn(C.url,M);return C===A&&(_=G),G}(A.root));return _??m}function oe(A,_,l,h){let m=A;for(;m.parent;)m=m.parent;if(0===_.length)return Dt(m,m,m,l,h);const C=function Le(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new me(!0,0,A);let _=0,l=!1;const h=A.reduce((m,C,M)=>{if("object"==typeof C&&null!=C){if(C.outlets){const G={};return Object.entries(C.outlets).forEach(([Q,Ie])=>{G[Q]="string"==typeof Ie?Ie.split("/"):Ie}),[...m,{outlets:G}]}if(C.segmentPath)return[...m,C.segmentPath]}return"string"!=typeof C?[...m,C]:0===M?(C.split("/").forEach((G,Q)=>{0==Q&&"."===G||(0==Q&&""===G?l=!0:".."===G?_++:""!=G&&m.push(G))}),m):[...m,C]},[]);return new me(l,_,h)}(_);if(C.toRoot())return Dt(m,m,new qn([],{}),l,h);const M=function wt(A,_,l){if(A.isAbsolute)return new St(_,!0,0);if(!l)return new St(_,!1,NaN);if(null===l.parent)return new St(l,!0,0);const h=De(A.commands[0])?0:1;return function pt(A,_,l){let h=A,m=_,C=l;for(;C>m;){if(C-=m,h=h.parent,!h)throw new q.wOt(4005,!1);m=h.segments.length}return new St(h,!1,m-C)}(l,l.segments.length-1+h,A.numberOfDoubleDots)}(C,m,A),G=M.processChildren?Rn(M.segmentGroup,M.index,C.commands):en(M.segmentGroup,M.index,C.commands);return Dt(m,M.segmentGroup,G,l,h)}function De(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function ot(A){return"object"==typeof A&&null!=A&&A.outlets}function Dt(A,_,l,h,m){let M,C={};h&&Object.entries(h).forEach(([Q,Ie])=>{C[Q]=Array.isArray(Ie)?Ie.map(Ke=>`${Ke}`):`${Ie}`}),M=A===_?l:ie(A,_,l);const G=xt(Ze(M));return new xr(G,C,m)}function ie(A,_,l){const h={};return Object.entries(A.children).forEach(([m,C])=>{h[m]=C===_?l:ie(C,_,l)}),new qn(A.segments,h)}class me{isAbsolute;numberOfDoubleDots;commands;constructor(_,l,h){if(this.isAbsolute=_,this.numberOfDoubleDots=l,this.commands=h,_&&h.length>0&&De(h[0]))throw new q.wOt(4003,!1);const m=h.find(ot);if(m&&m!==Wi(h))throw new q.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class St{segmentGroup;processChildren;index;constructor(_,l,h){this.segmentGroup=_,this.processChildren=l,this.index=h}}function en(A,_,l){if(A??=new qn([],{}),0===A.segments.length&&A.hasChildren())return Rn(A,_,l);const h=function cn(A,_,l){let h=0,m=_;const C={match:!1,pathIndex:0,commandIndex:0};for(;m<A.segments.length;){if(h>=l.length)return C;const M=A.segments[m],G=l[h];if(ot(G))break;const Q=`${G}`,Ie=h<l.length-1?l[h+1]:null;if(m>0&&void 0===Q)break;if(Q&&Ie&&"object"==typeof Ie&&void 0===Ie.outlets){if(!Ti(Q,Ie,M))return C;h+=2}else{if(!Ti(Q,{},M))return C;h++}m++}return{match:!0,pathIndex:m,commandIndex:h}}(A,_,l),m=l.slice(h.commandIndex);if(h.match&&h.pathIndex<A.segments.length){const C=new qn(A.segments.slice(0,h.pathIndex),{});return C.children[Rt]=new qn(A.segments.slice(h.pathIndex),A.children),Rn(C,0,m)}return h.match&&0===m.length?new qn(A.segments,{}):h.match&&!A.hasChildren()?Fn(A,_,l):h.match?Rn(A,0,m):Fn(A,_,l)}function Rn(A,_,l){if(0===l.length)return new qn(A.segments,{});{const h=function Ft(A){return ot(A[0])?A[0].outlets:{[Rt]:A}}(l),m={};if(Object.keys(h).some(C=>C!==Rt)&&A.children[Rt]&&1===A.numberOfChildren&&0===A.children[Rt].segments.length){const C=Rn(A.children[Rt],_,l);return new qn(A.segments,C.children)}return Object.entries(h).forEach(([C,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(m[C]=en(A.children[C],_,M))}),Object.entries(A.children).forEach(([C,M])=>{void 0===h[C]&&(m[C]=M)}),new qn(A.segments,m)}}function Fn(A,_,l){const h=A.segments.slice(0,_);let m=0;for(;m<l.length;){const C=l[m];if(ot(C)){const Q=rr(C.outlets);return new qn(h,Q)}if(0===m&&De(l[0])){h.push(new lr(A.segments[_].path,ai(l[0]))),m++;continue}const M=ot(C)?C.outlets[Rt]:`${C}`,G=m<l.length-1?l[m+1]:null;M&&G&&De(G)?(h.push(new lr(M,ai(G))),m+=2):(h.push(new lr(M,{})),m++)}return new qn(h,{})}function rr(A){const _={};return Object.entries(A).forEach(([l,h])=>{"string"==typeof h&&(h=[h]),null!==h&&(_[l]=Fn(new qn([],{}),0,h))}),_}function ai(A){const _={};return Object.entries(A).forEach(([l,h])=>_[l]=`${h}`),_}function Ti(A,_,l){return A==l.path&&ur(_,l.parameters)}const _e="imperative";var Se=function(A){return A[A.NavigationStart=0]="NavigationStart",A[A.NavigationEnd=1]="NavigationEnd",A[A.NavigationCancel=2]="NavigationCancel",A[A.NavigationError=3]="NavigationError",A[A.RoutesRecognized=4]="RoutesRecognized",A[A.ResolveStart=5]="ResolveStart",A[A.ResolveEnd=6]="ResolveEnd",A[A.GuardsCheckStart=7]="GuardsCheckStart",A[A.GuardsCheckEnd=8]="GuardsCheckEnd",A[A.RouteConfigLoadStart=9]="RouteConfigLoadStart",A[A.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",A[A.ChildActivationStart=11]="ChildActivationStart",A[A.ChildActivationEnd=12]="ChildActivationEnd",A[A.ActivationStart=13]="ActivationStart",A[A.ActivationEnd=14]="ActivationEnd",A[A.Scroll=15]="Scroll",A[A.NavigationSkipped=16]="NavigationSkipped",A}(Se||{});class Ge{id;url;constructor(_,l){this.id=_,this.url=l}}class Bt extends Ge{type=Se.NavigationStart;navigationTrigger;restoredState;constructor(_,l,h="imperative",m=null){super(_,l),this.navigationTrigger=h,this.restoredState=m}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ht extends Ge{urlAfterRedirects;type=Se.NavigationEnd;constructor(_,l,h){super(_,l),this.urlAfterRedirects=h}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ln=function(A){return A[A.Redirect=0]="Redirect",A[A.SupersededByNewNavigation=1]="SupersededByNewNavigation",A[A.NoDataFromResolver=2]="NoDataFromResolver",A[A.GuardRejected=3]="GuardRejected",A}(ln||{}),Mn=function(A){return A[A.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",A[A.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",A}(Mn||{});class ir extends Ge{reason;code;type=Se.NavigationCancel;constructor(_,l,h,m){super(_,l),this.reason=h,this.code=m}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ar extends Ge{reason;code;type=Se.NavigationSkipped;constructor(_,l,h,m){super(_,l),this.reason=h,this.code=m}}class Hr extends Ge{error;target;type=Se.NavigationError;constructor(_,l,h,m){super(_,l),this.error=h,this.target=m}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class no extends Ge{urlAfterRedirects;state;type=Se.RoutesRecognized;constructor(_,l,h,m){super(_,l),this.urlAfterRedirects=h,this.state=m}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wi extends Ge{urlAfterRedirects;state;type=Se.GuardsCheckStart;constructor(_,l,h,m){super(_,l),this.urlAfterRedirects=h,this.state=m}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Is extends Ge{urlAfterRedirects;state;shouldActivate;type=Se.GuardsCheckEnd;constructor(_,l,h,m,C){super(_,l),this.urlAfterRedirects=h,this.state=m,this.shouldActivate=C}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ts extends Ge{urlAfterRedirects;state;type=Se.ResolveStart;constructor(_,l,h,m){super(_,l),this.urlAfterRedirects=h,this.state=m}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mo extends Ge{urlAfterRedirects;state;type=Se.ResolveEnd;constructor(_,l,h,m){super(_,l),this.urlAfterRedirects=h,this.state=m}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ls{route;type=Se.RouteConfigLoadStart;constructor(_){this.route=_}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class B{route;type=Se.RouteConfigLoadEnd;constructor(_){this.route=_}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class de{snapshot;type=Se.ChildActivationStart;constructor(_){this.snapshot=_}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K{snapshot;type=Se.ChildActivationEnd;constructor(_){this.snapshot=_}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ee{snapshot;type=Se.ActivationStart;constructor(_){this.snapshot=_}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Me{snapshot;type=Se.ActivationEnd;constructor(_){this.snapshot=_}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class It{routerEvent;position;anchor;type=Se.Scroll;constructor(_,l,h){this.routerEvent=_,this.position=l,this.anchor=h}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nn{}class Cn{url;navigationBehaviorOptions;constructor(_,l){this.url=_,this.navigationBehaviorOptions=l}}function ti(A){switch(A.type){case Se.ActivationEnd:return`ActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case Se.ActivationStart:return`ActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case Se.ChildActivationEnd:return`ChildActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case Se.ChildActivationStart:return`ChildActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case Se.GuardsCheckEnd:return`GuardsCheckEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state}, shouldActivate: ${A.shouldActivate})`;case Se.GuardsCheckStart:return`GuardsCheckStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case Se.NavigationCancel:return`NavigationCancel(id: ${A.id}, url: '${A.url}')`;case Se.NavigationSkipped:return`NavigationSkipped(id: ${A.id}, url: '${A.url}')`;case Se.NavigationEnd:return`NavigationEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}')`;case Se.NavigationError:return`NavigationError(id: ${A.id}, url: '${A.url}', error: ${A.error})`;case Se.NavigationStart:return`NavigationStart(id: ${A.id}, url: '${A.url}')`;case Se.ResolveEnd:return`ResolveEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case Se.ResolveStart:return`ResolveStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case Se.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${A.route.path})`;case Se.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${A.route.path})`;case Se.RoutesRecognized:return`RoutesRecognized(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case Se.Scroll:return`Scroll(anchor: '${A.anchor}', position: '${A.position?`${A.position[0]}, ${A.position[1]}`:null}')`}}function Qr(A){return A.outlet||Rt}function Ki(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let _=A.parent;_;_=_.parent){const l=_.routeConfig;if(l?._loadedInjector)return l._loadedInjector;if(l?._injector)return l._injector}return null}class Ns{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ki(this.route?.snapshot)??this.rootInjector}constructor(_){this.rootInjector=_,this.children=new ae(this.rootInjector)}}let ae=(()=>{class A{rootInjector;contexts=new Map;constructor(l){this.rootInjector=l}onChildOutletCreated(l,h){const m=this.getOrCreateContext(l);m.outlet=h,this.contexts.set(l,m)}onChildOutletDestroyed(l){const h=this.getContext(l);h&&(h.outlet=null,h.attachRef=null)}onOutletDeactivated(){const l=this.contexts;return this.contexts=new Map,l}onOutletReAttached(l){this.contexts=l}getOrCreateContext(l){let h=this.getContext(l);return h||(h=new Ns(this.rootInjector),this.contexts.set(l,h)),h}getContext(l){return this.contexts.get(l)||null}static \u0275fac=function(h){return new(h||A)(q.KVO(q.uvJ))};static \u0275prov=q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();class tt{_root;constructor(_){this._root=_}get root(){return this._root.value}parent(_){const l=this.pathFromRoot(_);return l.length>1?l[l.length-2]:null}children(_){const l=Ne(_,this._root);return l?l.children.map(h=>h.value):[]}firstChild(_){const l=Ne(_,this._root);return l&&l.children.length>0?l.children[0].value:null}siblings(_){const l=dt(_,this._root);return l.length<2?[]:l[l.length-2].children.map(m=>m.value).filter(m=>m!==_)}pathFromRoot(_){return dt(_,this._root).map(l=>l.value)}}function Ne(A,_){if(A===_.value)return _;for(const l of _.children){const h=Ne(A,l);if(h)return h}return null}function dt(A,_){if(A===_.value)return[_];for(const l of _.children){const h=dt(A,l);if(h.length)return h.unshift(_),h}return[]}class qt{value;children;constructor(_,l){this.value=_,this.children=l}toString(){return`TreeNode(${this.value})`}}function hn(A){const _={};return A&&A.children.forEach(l=>_[l.value.outlet]=l),_}class Bn extends tt{snapshot;constructor(_,l){super(_),this.snapshot=l,Ws(this,_)}toString(){return this.snapshot.toString()}}function qi(A){const _=function bs(A){const C=new yo([],{},{},"",{},Rt,A,null,{});return new mn("",new qt(C,[]))}(A),l=new je.t([new lr("",{})]),h=new je.t({}),m=new je.t({}),C=new je.t({}),M=new je.t(""),G=new Ao(l,h,C,M,m,Rt,A,_.root);return G.snapshot=_.root,new Bn(new qt(G,[]),_)}class Ao{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(_,l,h,m,C,M,G,Q){this.urlSubject=_,this.paramsSubject=l,this.queryParamsSubject=h,this.fragmentSubject=m,this.dataSubject=C,this.outlet=M,this.component=G,this._futureSnapshot=Q,this.title=this.dataSubject?.pipe((0,st.T)(Ie=>Ie[$n]))??(0,Ee.of)(void 0),this.url=_,this.params=l,this.queryParams=h,this.fragment=m,this.data=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,st.T)(_=>Kt(_))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,st.T)(_=>Kt(_))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Si(A,_,l="emptyOnly"){let h;const{routeConfig:m}=A;return h=null===_||"always"!==l&&""!==m?.path&&(_.component||_.routeConfig?.loadComponent)?{params:{...A.params},data:{...A.data},resolve:{...A.data,...A._resolvedData??{}}}:{params:{..._.params,...A.params},data:{..._.data,...A.data},resolve:{...A.data,..._.data,...m?.data,...A._resolvedData}},m&&Bs(m)&&(h.resolve[$n]=m.title),h}class yo{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[$n]}constructor(_,l,h,m,C,M,G,Q,Ie){this.url=_,this.params=l,this.queryParams=h,this.fragment=m,this.data=C,this.outlet=M,this.component=G,this.routeConfig=Q,this._resolve=Ie}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(h=>h.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mn extends tt{url;constructor(_,l){super(l),this.url=_,Ws(this,l)}toString(){return ds(this._root)}}function Ws(A,_){_.value._routerState=A,_.children.forEach(l=>Ws(A,l))}function ds(A){const _=A.children.length>0?` { ${A.children.map(ds).join(", ")} } `:"";return`${A.value}${_}`}function xs(A){if(A.snapshot){const _=A.snapshot,l=A._futureSnapshot;A.snapshot=l,ur(_.queryParams,l.queryParams)||A.queryParamsSubject.next(l.queryParams),_.fragment!==l.fragment&&A.fragmentSubject.next(l.fragment),ur(_.params,l.params)||A.paramsSubject.next(l.params),function er(A,_){if(A.length!==_.length)return!1;for(let l=0;l<A.length;++l)if(!ur(A[l],_[l]))return!1;return!0}(_.url,l.url)||A.urlSubject.next(l.url),ur(_.data,l.data)||A.dataSubject.next(l.data)}else A.snapshot=A._futureSnapshot,A.dataSubject.next(A._futureSnapshot.data)}function ro(A,_){const l=ur(A.params,_.params)&&function _i(A,_){return pr(A,_)&&A.every((l,h)=>ur(l.parameters,_[h].parameters))}(A.url,_.url);return l&&!(!A.parent!=!_.parent)&&(!A.parent||ro(A.parent,_.parent))}function Bs(A){return"string"==typeof A.title||null===A.title}const Co=new q.nKC("");let oo=(()=>{class A{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Rt;activateEvents=new q.bkB;deactivateEvents=new q.bkB;attachEvents=new q.bkB;detachEvents=new q.bkB;routerOutletData=(0,q.hFB)(void 0);parentContexts=(0,q.WQX)(ae);location=(0,q.WQX)(q.c1b);changeDetector=(0,q.WQX)(q.gRc);inputBinder=(0,q.WQX)(Os,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(l){if(l.name){const{firstChange:h,previousValue:m}=l.name;if(h)return;this.isTrackedInParentContexts(m)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(m)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(l){return this.parentContexts.getContext(l)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const l=this.parentContexts.getContext(this.name);l?.route&&(l.attachRef?this.attach(l.attachRef,l.route):this.activateWith(l.route,l.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q.wOt(4012,!1);this.location.detach();const l=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(l.instance),l}attach(l,h){this.activated=l,this._activatedRoute=h,this.location.insert(l.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(l.instance)}deactivate(){if(this.activated){const l=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(l)}}activateWith(l,h){if(this.isActivated)throw new q.wOt(4013,!1);this._activatedRoute=l;const m=this.location,M=l.snapshot.component,G=this.parentContexts.getOrCreateContext(this.name).children,Q=new Or(l,G,m.injector,this.routerOutletData);this.activated=m.createComponent(M,{index:m.length,injector:Q,environmentInjector:h}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(h){return new(h||A)};static \u0275dir=q.FsC({type:A,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[q.OA$]})}return A})();class Or{route;childContexts;parent;outletData;constructor(_,l,h,m){this.route=_,this.childContexts=l,this.parent=h,this.outletData=m}get(_,l){return _===Ao?this.route:_===ae?this.childContexts:_===Co?this.outletData:this.parent.get(_,l)}}const Os=new q.nKC("");let Ds=(()=>{class A{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(l){this.unsubscribeFromRouteData(l),this.subscribeToRouteData(l)}unsubscribeFromRouteData(l){this.outletDataSubscriptions.get(l)?.unsubscribe(),this.outletDataSubscriptions.delete(l)}subscribeToRouteData(l){const{activatedRoute:h}=l,m=(0,we.z)([h.queryParams,h.params,h.data]).pipe((0,ct.n)(([C,M,G],Q)=>(G={...C,...M,...G},0===Q?(0,Ee.of)(G):Promise.resolve(G)))).subscribe(C=>{if(!l.isActivated||!l.activatedComponentRef||l.activatedRoute!==h||null===h.component)return void this.unsubscribeFromRouteData(l);const M=(0,q.HJs)(h.component);if(M)for(const{templateName:G}of M.inputs)l.activatedComponentRef.setInput(G,C[G]);else this.unsubscribeFromRouteData(l)});this.outletDataSubscriptions.set(l,m)}static \u0275fac=function(h){return new(h||A)};static \u0275prov=q.jDH({token:A,factory:A.\u0275fac})}return A})(),js=(()=>{class A{static \u0275fac=function(h){return new(h||A)};static \u0275cmp=q.VBU({type:A,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(h,m){1&h&&q.nrm(0,"router-outlet")},dependencies:[oo],encapsulation:2})}return A})();function io(A){const _=A.children&&A.children.map(io),l=_?{...A,children:_}:{...A};return!l.component&&!l.loadComponent&&(_||l.loadChildren)&&l.outlet&&l.outlet!==Rt&&(l.component=js),l}function Vi(A,_,l){if(l&&A.shouldReuseRoute(_.value,l.value.snapshot)){const h=l.value;h._futureSnapshot=_.value;const m=function ri(A,_,l){return _.children.map(h=>{for(const m of l.children)if(A.shouldReuseRoute(h.value,m.value.snapshot))return Vi(A,h,m);return Vi(A,h)})}(A,_,l);return new qt(h,m)}{if(A.shouldAttach(_.value)){const C=A.retrieve(_.value);if(null!==C){const M=C.route;return M.value._futureSnapshot=_.value,M.children=_.children.map(G=>Vi(A,G)),M}}const h=function Zr(A){return new Ao(new je.t(A.url),new je.t(A.params),new je.t(A.queryParams),new je.t(A.fragment),new je.t(A.data),A.outlet,A.component,A)}(_.value),m=_.children.map(C=>Vi(A,C));return new qt(h,m)}}class ao{redirectTo;navigationBehaviorOptions;constructor(_,l){this.redirectTo=_,this.navigationBehaviorOptions=l}}const Fs="ngNavigationCancelingError";function ns(A,_){const{redirectTo:l,navigationBehaviorOptions:h}=wn(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,m=Fo(!1,ln.Redirect);return m.url=l,m.navigationBehaviorOptions=h,m}function Fo(A,_){const l=new Error(`NavigationCancelingError: ${A||""}`);return l[Fs]=!0,l.cancellationCode=_,l}function Ri(A){return!!A&&A[Fs]}class zr{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(_,l,h,m,C){this.routeReuseStrategy=_,this.futureState=l,this.currState=h,this.forwardEvent=m,this.inputBindingEnabled=C}activate(_){const l=this.futureState._root,h=this.currState?this.currState._root:null;this.deactivateChildRoutes(l,h,_),xs(this.futureState.root),this.activateChildRoutes(l,h,_)}deactivateChildRoutes(_,l,h){const m=hn(l);_.children.forEach(C=>{const M=C.value.outlet;this.deactivateRoutes(C,m[M],h),delete m[M]}),Object.values(m).forEach(C=>{this.deactivateRouteAndItsChildren(C,h)})}deactivateRoutes(_,l,h){const m=_.value,C=l?l.value:null;if(m===C)if(m.component){const M=h.getContext(m.outlet);M&&this.deactivateChildRoutes(_,l,M.children)}else this.deactivateChildRoutes(_,l,h);else C&&this.deactivateRouteAndItsChildren(l,h)}deactivateRouteAndItsChildren(_,l){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,l):this.deactivateRouteAndOutlet(_,l)}detachAndStoreRouteSubtree(_,l){const h=l.getContext(_.value.outlet),m=h&&_.value.component?h.children:l,C=hn(_);for(const M of Object.values(C))this.deactivateRouteAndItsChildren(M,m);if(h&&h.outlet){const M=h.outlet.detach(),G=h.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:M,route:_,contexts:G})}}deactivateRouteAndOutlet(_,l){const h=l.getContext(_.value.outlet),m=h&&_.value.component?h.children:l,C=hn(_);for(const M of Object.values(C))this.deactivateRouteAndItsChildren(M,m);h&&(h.outlet&&(h.outlet.deactivate(),h.children.onOutletDeactivated()),h.attachRef=null,h.route=null)}activateChildRoutes(_,l,h){const m=hn(l);_.children.forEach(C=>{this.activateRoutes(C,m[C.value.outlet],h),this.forwardEvent(new Me(C.value.snapshot))}),_.children.length&&this.forwardEvent(new K(_.value.snapshot))}activateRoutes(_,l,h){const m=_.value,C=l?l.value:null;if(xs(m),m===C)if(m.component){const M=h.getOrCreateContext(m.outlet);this.activateChildRoutes(_,l,M.children)}else this.activateChildRoutes(_,l,h);else if(m.component){const M=h.getOrCreateContext(m.outlet);if(this.routeReuseStrategy.shouldAttach(m.snapshot)){const G=this.routeReuseStrategy.retrieve(m.snapshot);this.routeReuseStrategy.store(m.snapshot,null),M.children.onOutletReAttached(G.contexts),M.attachRef=G.componentRef,M.route=G.route.value,M.outlet&&M.outlet.attach(G.componentRef,G.route.value),xs(G.route.value),this.activateChildRoutes(_,null,M.children)}else M.attachRef=null,M.route=m,M.outlet&&M.outlet.activateWith(m,M.injector),this.activateChildRoutes(_,null,M.children)}else this.activateChildRoutes(_,null,h)}}class mr{path;route;constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class Pi{component;route;constructor(_,l){this.component=_,this.route=l}}function la(A,_,l){const h=A._root;return rs(h,_?_._root:null,l,[h.value])}function Ro(A,_){const l=Symbol(),h=_.get(A,l);return h===l?"function"!=typeof A||(0,q.LfX)(A)?_.get(A):A:h}function rs(A,_,l,h,m={canDeactivateChecks:[],canActivateChecks:[]}){const C=hn(_);return A.children.forEach(M=>{(function Er(A,_,l,h,m={canDeactivateChecks:[],canActivateChecks:[]}){const C=A.value,M=_?_.value:null,G=l?l.getContext(A.value.outlet):null;if(M&&C.routeConfig===M.routeConfig){const Q=function W(A,_,l){if("function"==typeof l)return l(A,_);switch(l){case"pathParamsChange":return!pr(A.url,_.url);case"pathParamsOrQueryParamsChange":return!pr(A.url,_.url)||!ur(A.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ro(A,_)||!ur(A.queryParams,_.queryParams);default:return!ro(A,_)}}(M,C,C.routeConfig.runGuardsAndResolvers);Q?m.canActivateChecks.push(new mr(h)):(C.data=M.data,C._resolvedData=M._resolvedData),rs(A,_,C.component?G?G.children:null:l,h,m),Q&&G&&G.outlet&&G.outlet.isActivated&&m.canDeactivateChecks.push(new Pi(G.outlet.component,M))}else M&&z(_,G,m),m.canActivateChecks.push(new mr(h)),rs(A,null,C.component?G?G.children:null:l,h,m)})(M,C[M.value.outlet],l,h.concat([M.value]),m),delete C[M.value.outlet]}),Object.entries(C).forEach(([M,G])=>z(G,l.getContext(M),m)),m}function z(A,_,l){const h=hn(A),m=A.value;Object.entries(h).forEach(([C,M])=>{z(M,m.component?_?_.children.getContext(C):null:_,l)}),l.canDeactivateChecks.push(new Pi(m.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,m))}function pe(A){return"function"==typeof A}function hr(A){return A instanceof ve.G||"EmptyError"===A?.name}const zn=Symbol("INITIAL_VALUE");function Tr(){return(0,ct.n)(A=>(0,we.z)(A.map(_=>_.pipe((0,Pn.s)(1),function xn(...A){const _=(0,Je.lI)(A);return(0,Re.N)((l,h)=>{(_?At(A,l,_):At(A,l)).subscribe(h)})}(zn)))).pipe((0,st.T)(_=>{for(const l of _)if(!0!==l){if(l===zn)return zn;if(!1===l||mi(l))return l}return!0}),(0,On.p)(_=>_!==zn),(0,Pn.s)(1)))}function mi(A){return wn(A)||A instanceof ao}function Yr(A){return(0,Gt.F)(ce(_=>{if("boolean"!=typeof _)throw ns(0,_)}),(0,st.T)(_=>!0===_))}class As{segmentGroup;constructor(_){this.segmentGroup=_||null}}class Gs extends Error{urlTree;constructor(_){super(),this.urlTree=_}}function _o(A){return ft(new As(A))}class co{urlSerializer;urlTree;constructor(_,l){this.urlSerializer=_,this.urlTree=l}lineralizeSegments(_,l){let h=[],m=l.root;for(;;){if(h=h.concat(m.segments),0===m.numberOfChildren)return(0,Ee.of)(h);if(m.numberOfChildren>1||!m.children[Rt])return ft(new q.wOt(4e3,!1));m=m.children[Rt]}}applyRedirectCommands(_,l,h,m,C){if("string"!=typeof l){const G=l,{queryParams:Q,fragment:Ie,routeConfig:Ke,url:Ct,outlet:fn,params:Zn,data:Ln,title:Wn}=m,nr=(0,q.N4e)(C,()=>G({params:Zn,data:Ln,queryParams:Q,fragment:Ie,routeConfig:Ke,url:Ct,outlet:fn,title:Wn}));if(nr instanceof xr)throw new Gs(nr);l=nr}const M=this.applyRedirectCreateUrlTree(l,this.urlSerializer.parse(l),_,h);if("/"===l[0])throw new Gs(M);return M}applyRedirectCreateUrlTree(_,l,h,m){const C=this.createSegmentGroup(_,l.root,h,m);return new xr(C,this.createQueryParams(l.queryParams,this.urlTree.queryParams),l.fragment)}createQueryParams(_,l){const h={};return Object.entries(_).forEach(([m,C])=>{if("string"==typeof C&&":"===C[0]){const G=C.substring(1);h[m]=l[G]}else h[m]=C}),h}createSegmentGroup(_,l,h,m){const C=this.createSegments(_,l.segments,h,m);let M={};return Object.entries(l.children).forEach(([G,Q])=>{M[G]=this.createSegmentGroup(_,Q,h,m)}),new qn(C,M)}createSegments(_,l,h,m){return l.map(C=>":"===C.path[0]?this.findPosParam(_,C,m):this.findOrReturn(C,h))}findPosParam(_,l,h){const m=h[l.path.substring(1)];if(!m)throw new q.wOt(4001,!1);return m}findOrReturn(_,l){let h=0;for(const m of l){if(m.path===_.path)return l.splice(h),m;h++}return _}}const Oa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fa(A,_,l,h,m){const C=La(A,_,l);return C.matched?(h=function Kr(A,_){return A.providers&&!A._injector&&(A._injector=(0,q.Ol2)(A.providers,_,`Route: ${A.path}`)),A._injector??_}(_,h),function hs(A,_,l,h){const m=_.canMatch;if(!m||0===m.length)return(0,Ee.of)(!0);const C=m.map(M=>{const G=Ro(M,A);return sn(function yn(A){return A&&pe(A.canMatch)}(G)?G.canMatch(_,l):(0,q.N4e)(A,()=>G(_,l)))});return(0,Ee.of)(C).pipe(Tr(),Yr())}(h,_,l).pipe((0,st.T)(M=>!0===M?C:{...Oa}))):(0,Ee.of)(C)}function La(A,_,l){if("**"===_.path)return function es(A){return{matched:!0,parameters:A.length>0?Wi(A).parameters:{},consumedSegments:A,remainingSegments:[],positionalParamSegments:{}}}(l);if(""===_.path)return"full"===_.pathMatch&&(A.hasChildren()||l.length>0)?{...Oa}:{matched:!0,consumedSegments:[],remainingSegments:l,parameters:{},positionalParamSegments:{}};const m=(_.matcher||kn)(l,A,_);if(!m)return{...Oa};const C={};Object.entries(m.posParams??{}).forEach(([G,Q])=>{C[G]=Q.path});const M=m.consumed.length>0?{...C,...m.consumed[m.consumed.length-1].parameters}:C;return{matched:!0,consumedSegments:m.consumed,remainingSegments:l.slice(m.consumed.length),parameters:M,positionalParamSegments:m.posParams??{}}}function Po(A,_,l,h){return l.length>0&&function Lo(A,_,l){return l.some(h=>vo(A,_,h)&&Qr(h)!==Rt)}(A,l,h)?{segmentGroup:new qn(_,$s(h,new qn(l,A.children))),slicedSegments:[]}:0===l.length&&function Yo(A,_,l){return l.some(h=>vo(A,_,h))}(A,l,h)?{segmentGroup:new qn(A.segments,ii(A,l,h,A.children)),slicedSegments:l}:{segmentGroup:new qn(A.segments,A.children),slicedSegments:l}}function ii(A,_,l,h){const m={};for(const C of l)if(vo(A,_,C)&&!h[Qr(C)]){const M=new qn([],{});m[Qr(C)]=M}return{...h,...m}}function $s(A,_){const l={};l[Rt]=_;for(const h of A)if(""===h.path&&Qr(h)!==Rt){const m=new qn([],{});l[Qr(h)]=m}return l}function vo(A,_,l){return(!(A.hasChildren()||_.length>0)||"full"!==l.pathMatch)&&""===l.path}class da{}class ba{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(_,l,h,m,C,M,G){this.injector=_,this.configLoader=l,this.rootComponentType=h,this.config=m,this.urlTree=C,this.paramsInheritanceStrategy=M,this.urlSerializer=G,this.applyRedirects=new co(this.urlSerializer,this.urlTree)}noMatchError(_){return new q.wOt(4002,`'${_.segmentGroup}'`)}recognize(){const _=Po(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(_).pipe((0,st.T)(({children:l,rootSnapshot:h})=>{const m=new qt(h,l),C=new mn("",m),M=function gr(A,_,l=null,h=null){return oe(te(A),_,l,h)}(h,[],this.urlTree.queryParams,this.urlTree.fragment);return M.queryParams=this.urlTree.queryParams,C.url=this.urlSerializer.serialize(M),{state:C,tree:M}}))}match(_){const l=new yo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Rt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,_,Rt,l).pipe((0,st.T)(h=>({children:h,rootSnapshot:l})),(0,le.W)(h=>{if(h instanceof Gs)return this.urlTree=h.urlTree,this.match(h.urlTree.root);throw h instanceof As?this.noMatchError(h):h}))}processSegmentGroup(_,l,h,m,C){return 0===h.segments.length&&h.hasChildren()?this.processChildren(_,l,h,C):this.processSegment(_,l,h,h.segments,m,!0,C).pipe((0,st.T)(M=>M instanceof qt?[M]:[]))}processChildren(_,l,h,m){const C=[];for(const M of Object.keys(h.children))"primary"===M?C.unshift(M):C.push(M);return(0,ge.H)(C).pipe((0,Y.H)(M=>{const G=h.children[M],Q=function ci(A,_){const l=A.filter(h=>Qr(h)===_);return l.push(...A.filter(h=>Qr(h)!==_)),l}(l,M);return this.processSegmentGroup(_,Q,G,M,m)}),function ne(A,_){return(0,Re.N)(function fe(A,_,l,h,m){return(C,M)=>{let G=l,Q=_,Ie=0;C.subscribe((0,Qe._)(M,Ke=>{const Ct=Ie++;Q=G?A(Q,Ke,Ct):(G=!0,Ke),h&&M.next(Q)},m&&(()=>{G&&M.next(Q),M.complete()})))}}(A,_,arguments.length>=2,!0))}((M,G)=>(M.push(...G),M)),_n(null),function Ye(A,_){const l=arguments.length>=2;return h=>h.pipe(A?(0,On.p)((m,C)=>A(m,C,h)):Ot.D,he(1),l?_n(_):mt(()=>new ve.G))}(),(0,nt.Z)(M=>{if(null===M)return _o(h);const G=ha(M);return function Da(A){A.sort((_,l)=>_.value.outlet===Rt?-1:l.value.outlet===Rt?1:_.value.outlet.localeCompare(l.value.outlet))}(G),(0,Ee.of)(G)}))}processSegment(_,l,h,m,C,M,G){return(0,ge.H)(l).pipe((0,Y.H)(Q=>this.processSegmentAgainstRoute(Q._injector??_,l,Q,h,m,C,M,G).pipe((0,le.W)(Ie=>{if(Ie instanceof As)return(0,Ee.of)(null);throw Ie}))),He(Q=>!!Q),(0,le.W)(Q=>{if(hr(Q))return function Di(A,_,l){return 0===_.length&&!A.children[l]}(h,m,C)?(0,Ee.of)(new da):_o(h);throw Q}))}processSegmentAgainstRoute(_,l,h,m,C,M,G,Q){return Qr(h)===M||M!==Rt&&vo(m,C,h)?void 0===h.redirectTo?this.matchSegmentAgainstRoute(_,m,h,C,M,Q):this.allowRedirects&&G?this.expandSegmentAgainstRouteUsingRedirect(_,m,l,h,C,M,Q):_o(m):_o(m)}expandSegmentAgainstRouteUsingRedirect(_,l,h,m,C,M,G){const{matched:Q,parameters:Ie,consumedSegments:Ke,positionalParamSegments:Ct,remainingSegments:fn}=La(l,m,C);if(!Q)return _o(l);"string"==typeof m.redirectTo&&"/"===m.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Zn=new yo(C,Ie,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Aa(m),Qr(m),m.component??m._loadedComponent??null,m,Ca(m)),Ln=Si(Zn,G,this.paramsInheritanceStrategy);Zn.params=Object.freeze(Ln.params),Zn.data=Object.freeze(Ln.data);const Wn=this.applyRedirects.applyRedirectCommands(Ke,m.redirectTo,Ct,Zn,_);return this.applyRedirects.lineralizeSegments(m,Wn).pipe((0,nt.Z)(nr=>this.processSegment(_,h,l,nr.concat(fn),M,!1,G)))}matchSegmentAgainstRoute(_,l,h,m,C,M){const G=Fa(l,h,m,_);return"**"===h.path&&(l.children={}),G.pipe((0,ct.n)(Q=>Q.matched?this.getChildConfig(_=h._injector??_,h,m).pipe((0,ct.n)(({routes:Ie})=>{const Ke=h._loadedInjector??_,{parameters:Ct,consumedSegments:fn,remainingSegments:Zn}=Q,Ln=new yo(fn,Ct,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Aa(h),Qr(h),h.component??h._loadedComponent??null,h,Ca(h)),Wn=Si(Ln,M,this.paramsInheritanceStrategy);Ln.params=Object.freeze(Wn.params),Ln.data=Object.freeze(Wn.data);const{segmentGroup:nr,slicedSegments:yi}=Po(l,fn,Zn,Ie);if(0===yi.length&&nr.hasChildren())return this.processChildren(Ke,Ie,nr,Ln).pipe((0,st.T)(Ss=>new qt(Ln,Ss)));if(0===Ie.length&&0===yi.length)return(0,Ee.of)(new qt(Ln,[]));const os=Qr(h)===C;return this.processSegment(Ke,Ie,nr,yi,os?Rt:C,!0,Ln).pipe((0,st.T)(Ss=>new qt(Ln,Ss instanceof qt?[Ss]:[])))})):_o(l)))}getChildConfig(_,l,h){return l.children?(0,Ee.of)({routes:l.children,injector:_}):l.loadChildren?void 0!==l._loadedRoutes?(0,Ee.of)({routes:l._loadedRoutes,injector:l._loadedInjector}):function _s(A,_,l,h){const m=_.canLoad;if(void 0===m||0===m.length)return(0,Ee.of)(!0);const C=m.map(M=>{const G=Ro(M,A);return sn(function ut(A){return A&&pe(A.canLoad)}(G)?G.canLoad(_,l):(0,q.N4e)(A,()=>G(_,l)))});return(0,Ee.of)(C).pipe(Tr(),Yr())}(_,l,h).pipe((0,nt.Z)(m=>m?this.configLoader.loadChildren(_,l).pipe(ce(C=>{l._loadedRoutes=C.routes,l._loadedInjector=C.injector})):function Zo(){return ft(Fo(!1,ln.GuardRejected))}())):(0,Ee.of)({routes:[],injector:_})}}function qa(A){const _=A.value.routeConfig;return _&&""===_.path}function ha(A){const _=[],l=new Set;for(const h of A){if(!qa(h)){_.push(h);continue}const m=_.find(C=>h.value.routeConfig===C.value.routeConfig);void 0!==m?(m.children.push(...h.children),l.add(m)):_.push(h)}for(const h of l){const m=ha(h.children);_.push(new qt(h.value,m))}return _.filter(h=>!l.has(h))}function Aa(A){return A.data||{}}function Ca(A){return A.resolve||{}}function Jt(A){const _=A.children.map(l=>Jt(l)).flat();return[A,..._]}function ki(A){return(0,ct.n)(_=>{const l=A(_);return l?(0,ge.H)(l).pipe((0,st.T)(()=>_)):(0,Ee.of)(_)})}let Vs=(()=>{class A{buildTitle(l){let h,m=l.root;for(;void 0!==m;)h=this.getResolvedTitleForRoute(m)??h,m=m.children.find(C=>C.outlet===Rt);return h}getResolvedTitleForRoute(l){return l.data[$n]}static \u0275fac=function(h){return new(h||A)};static \u0275prov=q.jDH({token:A,factory:()=>(0,q.WQX)(Eo),providedIn:"root"})}return A})(),Eo=(()=>{class A extends Vs{title;constructor(l){super(),this.title=l}updateTitle(l){const h=this.buildTitle(l);void 0!==h&&this.title.setTitle(h)}static \u0275fac=function(h){return new(h||A)(q.KVO(Jn.hE))};static \u0275prov=q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();const Ar=new q.nKC("",{providedIn:"root",factory:()=>({})}),P=new q.nKC("");let k=(()=>{class A{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,q.WQX)(q.Ql9);loadComponent(l){if(this.componentLoaders.get(l))return this.componentLoaders.get(l);if(l._loadedComponent)return(0,Ee.of)(l._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(l);const h=sn(l.loadComponent()).pipe((0,st.T)(kt),ce(C=>{this.onLoadEndListener&&this.onLoadEndListener(l),l._loadedComponent=C}),(0,Tt.j)(()=>{this.componentLoaders.delete(l)})),m=new vt(h,()=>new Wt.B).pipe(qe());return this.componentLoaders.set(l,m),m}loadChildren(l,h){if(this.childrenLoaders.get(h))return this.childrenLoaders.get(h);if(h._loadedRoutes)return(0,Ee.of)({routes:h._loadedRoutes,injector:h._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(h);const C=function j(A,_,l,h){return sn(A.loadChildren()).pipe((0,st.T)(kt),(0,nt.Z)(m=>m instanceof q.Co$||Array.isArray(m)?(0,Ee.of)(m):(0,ge.H)(_.compileModuleAsync(m))),(0,st.T)(m=>{h&&h(A);let C,M,G=!1;return Array.isArray(m)?(M=m,!0):(C=m.create(l).injector,M=C.get(P,[],{optional:!0,self:!0}).flat()),{routes:M.map(io),injector:C}}))}(h,this.compiler,l,this.onLoadEndListener).pipe((0,Tt.j)(()=>{this.childrenLoaders.delete(h)})),M=new vt(C,()=>new Wt.B).pipe(qe());return this.childrenLoaders.set(h,M),M}static \u0275fac=function(h){return new(h||A)};static \u0275prov=q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();function kt(A){return function Ae(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let bn=(()=>{class A{static \u0275fac=function(h){return new(h||A)};static \u0275prov=q.jDH({token:A,factory:()=>(0,q.WQX)(cr),providedIn:"root"})}return A})(),cr=(()=>{class A{shouldProcessUrl(l){return!0}extract(l){return l}merge(l,h){return l}static \u0275fac=function(h){return new(h||A)};static \u0275prov=q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();const Bi=new q.nKC(""),ji=new q.nKC("");function vs(A,_,l){const h=A.get(ji),m=A.get(T.q);return A.get(q.SKi).runOutsideAngular(()=>{if(!m.startViewTransition||h.skipNextTransition)return h.skipNextTransition=!1,new Promise(Ie=>setTimeout(Ie));let C;const M=new Promise(Ie=>{C=Ie}),G=m.startViewTransition(()=>(C(),function Jo(A){return new Promise(_=>{(0,q.mal)({read:()=>setTimeout(_)},{injector:A})})}(A))),{onViewTransitionCreated:Q}=h;return Q&&(0,q.N4e)(A,()=>Q({transition:G,from:_,to:l})),M})}const Va=new q.nKC("");let Ks=(()=>{class A{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Wt.B;transitionAbortSubject=new Wt.B;configLoader=(0,q.WQX)(k);environmentInjector=(0,q.WQX)(q.uvJ);destroyRef=(0,q.WQX)(q.abz);urlSerializer=(0,q.WQX)(dr);rootContexts=(0,q.WQX)(ae);location=(0,q.WQX)(O.aZ);inputBindingEnabled=null!==(0,q.WQX)(Os,{optional:!0});titleStrategy=(0,q.WQX)(Vs);options=(0,q.WQX)(Ar,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,q.WQX)(bn);createViewTransition=(0,q.WQX)(Bi,{optional:!0});navigationErrorHandler=(0,q.WQX)(Va,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,Ee.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=m=>this.events.next(new B(m)),this.configLoader.onLoadStartListener=m=>this.events.next(new ls(m)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(l){const h=++this.navigationId;this.transitions?.next({...l,extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:h})}setupNavigations(l){return this.transitions=new je.t(null),this.transitions.pipe((0,On.p)(h=>null!==h),(0,ct.n)(h=>{let m=!1,C=!1;return(0,Ee.of)(h).pipe((0,ct.n)(M=>{if(this.navigationId>h.id)return this.cancelNavigationTransition(h,"",ln.SupersededByNewNavigation),gt.w;this.currentTransition=h,this.currentNavigation={id:M.id,initialUrl:M.rawUrl,extractedUrl:M.extractedUrl,targetBrowserUrl:"string"==typeof M.extras.browserUrl?this.urlSerializer.parse(M.extras.browserUrl):M.extras.browserUrl,trigger:M.source,extras:M.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const G=!l.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!G&&"reload"!==(M.extras.onSameUrlNavigation??l.onSameUrlNavigation)){const Ie="";return this.events.next(new ar(M.id,this.urlSerializer.serialize(M.rawUrl),Ie,Mn.IgnoredSameUrlNavigation)),M.resolve(!1),gt.w}if(this.urlHandlingStrategy.shouldProcessUrl(M.rawUrl))return(0,Ee.of)(M).pipe((0,ct.n)(Ie=>(this.events.next(new Bt(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),Ie.source,Ie.restoredState)),Ie.id!==this.navigationId?gt.w:Promise.resolve(Ie))),function Hs(A,_,l,h,m,C){return(0,nt.Z)(M=>function $r(A,_,l,h,m,C,M="emptyOnly"){return new ba(A,_,l,h,m,M,C).recognize()}(A,_,l,h,M.extractedUrl,m,C).pipe((0,st.T)(({state:G,tree:Q})=>({...M,targetSnapshot:G,urlAfterRedirects:Q}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,l.config,this.urlSerializer,this.paramsInheritanceStrategy),ce(Ie=>{h.targetSnapshot=Ie.targetSnapshot,h.urlAfterRedirects=Ie.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ie.urlAfterRedirects};const Ke=new no(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot);this.events.next(Ke)}));if(G&&this.urlHandlingStrategy.shouldProcessUrl(M.currentRawUrl)){const{id:Ie,extractedUrl:Ke,source:Ct,restoredState:fn,extras:Zn}=M,Ln=new Bt(Ie,this.urlSerializer.serialize(Ke),Ct,fn);this.events.next(Ln);const Wn=qi(this.rootComponentType).snapshot;return this.currentTransition=h={...M,targetSnapshot:Wn,urlAfterRedirects:Ke,extras:{...Zn,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ke,(0,Ee.of)(h)}{const Ie="";return this.events.next(new ar(M.id,this.urlSerializer.serialize(M.extractedUrl),Ie,Mn.IgnoredByUrlHandlingStrategy)),M.resolve(!1),gt.w}}),ce(M=>{const G=new wi(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(G)}),(0,st.T)(M=>(this.currentTransition=h={...M,guards:la(M.targetSnapshot,M.currentSnapshot,this.rootContexts)},h)),function ui(A,_){return(0,nt.Z)(l=>{const{targetSnapshot:h,currentSnapshot:m,guards:{canActivateChecks:C,canDeactivateChecks:M}}=l;return 0===M.length&&0===C.length?(0,Ee.of)({...l,guardsResult:!0}):function Ui(A,_,l,h){return(0,ge.H)(A).pipe((0,nt.Z)(m=>function bi(A,_,l,h,m){const C=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!C||0===C.length)return(0,Ee.of)(!0);const M=C.map(G=>{const Q=Ki(_)??m,Ie=Ro(G,Q);return sn(function Tn(A){return A&&pe(A.canDeactivate)}(Ie)?Ie.canDeactivate(A,_,l,h):(0,q.N4e)(Q,()=>Ie(A,_,l,h))).pipe(He())});return(0,Ee.of)(M).pipe(Tr())}(m.component,m.route,l,_,h)),He(m=>!0!==m,!0))}(M,h,m,A).pipe((0,nt.Z)(G=>G&&function Pe(A){return"boolean"==typeof A}(G)?function Mi(A,_,l,h){return(0,ge.H)(_).pipe((0,Y.H)(m=>At(function is(A,_){return null!==A&&_&&_(new de(A)),(0,Ee.of)(!0)}(m.route.parent,h),function li(A,_){return null!==A&&_&&_(new ee(A)),(0,Ee.of)(!0)}(m.route,h),function di(A,_,l){const h=_[_.length-1],C=_.slice(0,_.length-1).reverse().map(M=>function So(A){const _=A.routeConfig?A.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:A,guards:_}:null}(M)).filter(M=>null!==M).map(M=>Nt(()=>{const G=M.guards.map(Q=>{const Ie=Ki(M.node)??l,Ke=Ro(Q,Ie);return sn(function Qt(A){return A&&pe(A.canActivateChild)}(Ke)?Ke.canActivateChild(h,A):(0,q.N4e)(Ie,()=>Ke(h,A))).pipe(He())});return(0,Ee.of)(G).pipe(Tr())}));return(0,Ee.of)(C).pipe(Tr())}(A,m.path,l),function ss(A,_,l){const h=_.routeConfig?_.routeConfig.canActivate:null;if(!h||0===h.length)return(0,Ee.of)(!0);const m=h.map(C=>Nt(()=>{const M=Ki(_)??l,G=Ro(C,M);return sn(function Mt(A){return A&&pe(A.canActivate)}(G)?G.canActivate(_,A):(0,q.N4e)(M,()=>G(_,A))).pipe(He())}));return(0,Ee.of)(m).pipe(Tr())}(A,m.route,l))),He(m=>!0!==m,!0))}(h,C,A,_):(0,Ee.of)(G)),(0,st.T)(G=>({...l,guardsResult:G})))})}(this.environmentInjector,M=>this.events.next(M)),ce(M=>{if(h.guardsResult=M.guardsResult,M.guardsResult&&"boolean"!=typeof M.guardsResult)throw ns(0,M.guardsResult);const G=new Is(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot,!!M.guardsResult);this.events.next(G)}),(0,On.p)(M=>!!M.guardsResult||(this.cancelNavigationTransition(M,"",ln.GuardRejected),!1)),ki(M=>{if(0!==M.guards.canActivateChecks.length)return(0,Ee.of)(M).pipe(ce(G=>{const Q=new Ts(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(Q)}),(0,ct.n)(G=>{let Q=!1;return(0,Ee.of)(G).pipe(function Wr(A,_){return(0,nt.Z)(l=>{const{targetSnapshot:h,guards:{canActivateChecks:m}}=l;if(!m.length)return(0,Ee.of)(l);const C=new Set(m.map(Q=>Q.route)),M=new Set;for(const Q of C)if(!M.has(Q))for(const Ie of Jt(Q))M.add(Ie);let G=0;return(0,ge.H)(M).pipe((0,Y.H)(Q=>C.has(Q)?function Xn(A,_,l,h){const m=A.routeConfig,C=A._resolve;return void 0!==m?.title&&!Bs(m)&&(C[$n]=m.title),function hi(A,_,l,h){const m=Br(A);if(0===m.length)return(0,Ee.of)({});const C={};return(0,ge.H)(m).pipe((0,nt.Z)(M=>function zs(A,_,l,h){const m=Ki(_)??h,C=Ro(A,m);return sn(C.resolve?C.resolve(_,l):(0,q.N4e)(m,()=>C(_,l)))}(A[M],_,l,h).pipe(He(),ce(G=>{if(G instanceof ao)throw ns(new Ei,G);C[M]=G}))),he(1),(0,st.T)(()=>C),(0,le.W)(M=>hr(M)?gt.w:ft(M)))}(C,A,_,h).pipe((0,st.T)(M=>(A._resolvedData=M,A.data=Si(A,A.parent,l).resolve,null)))}(Q,h,A,_):(Q.data=Si(Q,Q.parent,A).resolve,(0,Ee.of)(void 0))),ce(()=>G++),he(1),(0,nt.Z)(Q=>G===M.size?(0,Ee.of)(l):gt.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),ce({next:()=>Q=!0,complete:()=>{Q||this.cancelNavigationTransition(G,"",ln.NoDataFromResolver)}}))}),ce(G=>{const Q=new mo(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(Q)}))}),ki(M=>{const G=Q=>{const Ie=[];Q.routeConfig?.loadComponent&&!Q.routeConfig._loadedComponent&&Ie.push(this.configLoader.loadComponent(Q.routeConfig).pipe(ce(Ke=>{Q.component=Ke}),(0,st.T)(()=>{})));for(const Ke of Q.children)Ie.push(...G(Ke));return Ie};return(0,we.z)(G(M.targetSnapshot.root)).pipe(_n(null),(0,Pn.s)(1))}),ki(()=>this.afterPreactivation()),(0,ct.n)(()=>{const{currentSnapshot:M,targetSnapshot:G}=h,Q=this.createViewTransition?.(this.environmentInjector,M.root,G.root);return Q?(0,ge.H)(Q).pipe((0,st.T)(()=>h)):(0,Ee.of)(h)}),(0,st.T)(M=>{const G=function Xr(A,_,l){const h=Vi(A,_._root,l?l._root:void 0);return new Bn(h,_)}(l.routeReuseStrategy,M.targetSnapshot,M.currentRouterState);return this.currentTransition=h={...M,targetRouterState:G},this.currentNavigation.targetRouterState=G,h}),ce(()=>{this.events.next(new nn)}),((A,_,l,h)=>(0,st.T)(m=>(new zr(_,m.targetRouterState,m.currentRouterState,l,h).activate(A),m)))(this.rootContexts,l.routeReuseStrategy,M=>this.events.next(M),this.inputBindingEnabled),(0,Pn.s)(1),ce({next:M=>{m=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ht(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects))),this.titleStrategy?.updateTitle(M.targetRouterState.snapshot),M.resolve(!0)},complete:()=>{m=!0}}),function Yt(A){return(0,Re.N)((_,l)=>{(0,Lt.Tg)(A).subscribe((0,Qe._)(l,()=>l.complete(),rn.l)),!l.closed&&_.subscribe(l)})}(this.transitionAbortSubject.pipe(ce(M=>{throw M}))),(0,Tt.j)(()=>{!m&&!C&&this.cancelNavigationTransition(h,"",ln.SupersededByNewNavigation),this.currentTransition?.id===h.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,le.W)(M=>{if(this.destroyed)return h.resolve(!1),gt.w;if(C=!0,Ri(M))this.events.next(new ir(h.id,this.urlSerializer.serialize(h.extractedUrl),M.message,M.cancellationCode)),function ys(A){return Ri(A)&&wn(A.url)}(M)?this.events.next(new Cn(M.url,M.navigationBehaviorOptions)):h.resolve(!1);else{const G=new Hr(h.id,this.urlSerializer.serialize(h.extractedUrl),M,h.targetSnapshot??void 0);try{const Q=(0,q.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(G));if(!(Q instanceof ao))throw this.events.next(G),M;{const{message:Ie,cancellationCode:Ke}=ns(0,Q);this.events.next(new ir(h.id,this.urlSerializer.serialize(h.extractedUrl),Ie,Ke)),this.events.next(new Cn(Q.redirectTo,Q.navigationBehaviorOptions))}}catch(Q){this.options.resolveNavigationPromiseOnError?h.resolve(!1):h.reject(Q)}}return gt.w}))}))}cancelNavigationTransition(l,h,m){const C=new ir(l.id,this.urlSerializer.serialize(l.extractedUrl),h,m);this.events.next(C),l.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const l=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),h=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return l.toString()!==h?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(h){return new(h||A)};static \u0275prov=q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();function Cs(A){return A!==_e}let wo=(()=>{class A{static \u0275fac=function(h){return new(h||A)};static \u0275prov=q.jDH({token:A,factory:()=>(0,q.WQX)(ea),providedIn:"root"})}return A})();class qs{shouldDetach(_){return!1}store(_,l){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,l){return _.routeConfig===l.routeConfig}}let ea=(()=>{class A extends qs{static \u0275fac=(()=>{let l;return function(m){return(l||(l=q.xGo(A)))(m||A)}})();static \u0275prov=q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})(),An=(()=>{class A{urlSerializer=(0,q.WQX)(dr);options=(0,q.WQX)(Ar,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,q.WQX)(O.aZ);urlHandlingStrategy=(0,q.WQX)(bn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new xr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:l,initialUrl:h,targetBrowserUrl:m}){const C=void 0!==l?this.urlHandlingStrategy.merge(l,h):h,M=m??C;return M instanceof xr?this.urlSerializer.serialize(M):M}commitTransition({targetRouterState:l,finalUrl:h,initialUrl:m}){h&&l?(this.currentUrlTree=h,this.rawUrlTree=this.urlHandlingStrategy.merge(h,m),this.routerState=l):this.rawUrlTree=m}routerState=qi(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:l}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,l??this.rawUrlTree)}static \u0275fac=function(h){return new(h||A)};static \u0275prov=q.jDH({token:A,factory:()=>(0,q.WQX)(ta),providedIn:"root"})}return A})(),ta=(()=>{class A extends An{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(l){return this.location.subscribe(h=>{"popstate"===h.type&&setTimeout(()=>{l(h.url,h.state,"popstate")})})}handleRouterEvent(l,h){l instanceof Bt?this.updateStateMemento():l instanceof ar?this.commitTransition(h):l instanceof no?"eager"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(h),h)):l instanceof nn?(this.commitTransition(h),"deferred"===this.urlUpdateStrategy&&!h.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(h),h)):l instanceof ir&&(l.code===ln.GuardRejected||l.code===ln.NoDataFromResolver)?this.restoreHistory(h):l instanceof Hr?this.restoreHistory(h,!0):l instanceof Ht&&(this.lastSuccessfulId=l.id,this.currentPageId=this.browserPageId)}setBrowserUrl(l,{extras:h,id:m}){const{replaceUrl:C,state:M}=h;if(this.location.isCurrentPathEqualTo(l)||C){const G=this.browserPageId,Q={...M,...this.generateNgRouterState(m,G)};this.location.replaceState(l,"",Q)}else{const G={...M,...this.generateNgRouterState(m,this.browserPageId+1)};this.location.go(l,"",G)}}restoreHistory(l,h=!1){if("computed"===this.canceledNavigationResolution){const C=this.currentPageId-this.browserPageId;0!==C?this.location.historyGo(C):this.getCurrentUrlTree()===l.finalUrl&&0===C&&(this.resetInternalState(l),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(h&&this.resetInternalState(l),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(l,h){return"computed"===this.canceledNavigationResolution?{navigationId:l,\u0275routerPageId:h}:{navigationId:l}}static \u0275fac=(()=>{let l;return function(m){return(l||(l=q.xGo(A)))(m||A)}})();static \u0275prov=q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();function Io(A,_){A.events.pipe((0,On.p)(l=>l instanceof Ht||l instanceof ir||l instanceof Hr||l instanceof ar),(0,st.T)(l=>l instanceof Ht||l instanceof ar?0:l instanceof ir&&(l.code===ln.Redirect||l.code===ln.SupersededByNewNavigation)?2:1),(0,On.p)(l=>2!==l),(0,Pn.s)(1)).subscribe(()=>{_()})}const uo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ra=(()=>{class A{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,q.WQX)(q.H3F);stateManager=(0,q.WQX)(An);options=(0,q.WQX)(Ar,{optional:!0})||{};pendingTasks=(0,q.WQX)(q.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,q.WQX)(Ks);urlSerializer=(0,q.WQX)(dr);location=(0,q.WQX)(O.aZ);urlHandlingStrategy=(0,q.WQX)(bn);_events=new Wt.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,q.WQX)(wo);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,q.WQX)(P,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,q.WQX)(Os,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:l=>{this.console.warn(l)}}),this.subscribeToNavigationEvents()}eventsSubscription=new _t.yU;subscribeToNavigationEvents(){const l=this.navigationTransitions.events.subscribe(h=>{try{const m=this.navigationTransitions.currentTransition,C=this.navigationTransitions.currentNavigation;if(null!==m&&null!==C)if(this.stateManager.handleRouterEvent(h,C),h instanceof ir&&h.code!==ln.Redirect&&h.code!==ln.SupersededByNewNavigation)this.navigated=!0;else if(h instanceof Ht)this.navigated=!0;else if(h instanceof Cn){const M=h.navigationBehaviorOptions,G=this.urlHandlingStrategy.merge(h.url,m.currentRawUrl),Q={browserUrl:m.extras.browserUrl,info:m.extras.info,skipLocationChange:m.extras.skipLocationChange,replaceUrl:m.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Cs(m.source),...M};this.scheduleNavigation(G,_e,null,Q,{resolve:m.resolve,reject:m.reject,promise:m.promise})}(function zi(A){return!(A instanceof nn||A instanceof Cn)})(h)&&this._events.next(h)}catch(m){this.navigationTransitions.transitionAbortSubject.next(m)}});this.eventsSubscription.add(l)}resetRootComponentType(l){this.routerState.root.component=l,this.navigationTransitions.rootComponentType=l}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_e,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((l,h,m)=>{this.navigateToSyncWithBrowser(l,m,h)})}navigateToSyncWithBrowser(l,h,m){const C={replaceUrl:!0},M=m?.navigationId?m:null;if(m){const Q={...m};delete Q.navigationId,delete Q.\u0275routerPageId,0!==Object.keys(Q).length&&(C.state=Q)}const G=this.parseUrl(l);this.scheduleNavigation(G,h,M,C)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(l){this.config=l.map(io),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(l,h={}){const{relativeTo:m,queryParams:C,fragment:M,queryParamsHandling:G,preserveFragment:Q}=h,Ie=Q?this.currentUrlTree.fragment:M;let Ct,Ke=null;switch(G??this.options.defaultQueryParamsHandling){case"merge":Ke={...this.currentUrlTree.queryParams,...C};break;case"preserve":Ke=this.currentUrlTree.queryParams;break;default:Ke=C||null}null!==Ke&&(Ke=this.removeEmptyProps(Ke));try{Ct=te(m?m.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof l[0]||"/"!==l[0][0])&&(l=[]),Ct=this.currentUrlTree.root}return oe(Ct,l,Ke,Ie??null)}navigateByUrl(l,h={skipLocationChange:!1}){const m=wn(l)?l:this.parseUrl(l),C=this.urlHandlingStrategy.merge(m,this.rawUrlTree);return this.scheduleNavigation(C,_e,null,h)}navigate(l,h={skipLocationChange:!1}){return function Hi(A){for(let _=0;_<A.length;_++)if(null==A[_])throw new q.wOt(4008,!1)}(l),this.navigateByUrl(this.createUrlTree(l,h),h)}serializeUrl(l){return this.urlSerializer.serialize(l)}parseUrl(l){try{return this.urlSerializer.parse(l)}catch{return this.urlSerializer.parse("/")}}isActive(l,h){let m;if(m=!0===h?{...uo}:!1===h?{...Sa}:h,wn(l))return Ji(this.currentUrlTree,l,m);const C=this.parseUrl(l);return Ji(this.currentUrlTree,C,m)}removeEmptyProps(l){return Object.entries(l).reduce((h,[m,C])=>(null!=C&&(h[m]=C),h),{})}scheduleNavigation(l,h,m,C,M){if(this.disposed)return Promise.resolve(!1);let G,Q,Ie;M?(G=M.resolve,Q=M.reject,Ie=M.promise):Ie=new Promise((Ct,fn)=>{G=Ct,Q=fn});const Ke=this.pendingTasks.add();return Io(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ke))}),this.navigationTransitions.handleNavigationRequest({source:h,restoredState:m,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:l,extras:C,resolve:G,reject:Q,promise:Ie,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ie.catch(Ct=>Promise.reject(Ct))}static \u0275fac=function(h){return new(h||A)};static \u0275prov=q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},7440:(En,Be,L)=>{"use strict";L.d(Be,{MW:()=>ze,Wp:()=>Nt,XU:()=>I,gL:()=>Ce});var T=L(2214),O=L(1360),q=L(2967);class I{constructor(Qe){return Qe}}class Ce{constructor(){return(0,T.Dk)()}}const Ee=new O.nKC("angularfire2._apps"),je={provide:I,useFactory:function ge(Re){return Re&&1===Re.length?Re[0]:new I((0,T.Sx)())},deps:[[new O.Xx1,Ee]]},we={provide:Ce,deps:[[new O.Xx1,Ee]]};function ve(Re){return(Qe,qe)=>{const vt=qe.get(O.Agw);(0,T.KO)("angularfire",q.xv.full,"core"),(0,T.KO)("angularfire",q.xv.full,"app"),(0,T.KO)("angular",O.xvI.full,vt.toString());const Wt=Qe.runOutsideAngular(()=>Re(qe));return new I(Wt)}}function ze(Re,...Qe){return(0,O.EmA)([je,we,{provide:Ee,useFactory:ve(Re),multi:!0,deps:[O.SKi,O.zZn,q.u0,...Qe]}])}const Nt=(0,q.S3)(T.Wp,!0)},7441:(En,Be,L)=>{"use strict";L.d(Be,{X:()=>T});const T=O=>O&&"number"==typeof O.length&&"function"!=typeof O},7643:(En,Be,L)=>{"use strict";L.d(Be,{$R:()=>Ir,Qq:()=>Yt}),L(467);var O=L(1360),q=L(274),I=L(5964),Ce=L(6354),Xe=L(980),ge=L(5558),Ee=L(7673),je=L(1985),we=L(8455),ve=L(9377),it=L(9361);class ze{}class Je{}class At{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(oe){oe?"string"==typeof oe?this.lazyInit=()=>{this.headers=new Map,oe.split("\n").forEach(De=>{const ot=De.indexOf(":");if(ot>0){const Dt=De.slice(0,ot),ie=De.slice(ot+1).trim();this.addHeaderEntry(Dt,ie)}})}:typeof Headers<"u"&&oe instanceof Headers?(this.headers=new Map,oe.forEach((De,ot)=>{this.addHeaderEntry(ot,De)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(oe).forEach(([De,ot])=>{this.setHeaderEntries(De,ot)})}:this.headers=new Map}has(oe){return this.init(),this.headers.has(oe.toLowerCase())}get(oe){this.init();const De=this.headers.get(oe.toLowerCase());return De&&De.length>0?De[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(oe){return this.init(),this.headers.get(oe.toLowerCase())||null}append(oe,De){return this.clone({name:oe,value:De,op:"a"})}set(oe,De){return this.clone({name:oe,value:De,op:"s"})}delete(oe,De){return this.clone({name:oe,value:De,op:"d"})}maybeSetNormalizedName(oe,De){this.normalizedNames.has(De)||this.normalizedNames.set(De,oe)}init(){this.lazyInit&&(this.lazyInit instanceof At?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(oe=>this.applyUpdate(oe)),this.lazyUpdate=null))}copyFrom(oe){oe.init(),Array.from(oe.headers.keys()).forEach(De=>{this.headers.set(De,oe.headers.get(De)),this.normalizedNames.set(De,oe.normalizedNames.get(De))})}clone(oe){const De=new At;return De.lazyInit=this.lazyInit&&this.lazyInit instanceof At?this.lazyInit:this,De.lazyUpdate=(this.lazyUpdate||[]).concat([oe]),De}applyUpdate(oe){const De=oe.name.toLowerCase();switch(oe.op){case"a":case"s":let ot=oe.value;if("string"==typeof ot&&(ot=[ot]),0===ot.length)return;this.maybeSetNormalizedName(oe.name,De);const Dt=("a"===oe.op?this.headers.get(De):void 0)||[];Dt.push(...ot),this.headers.set(De,Dt);break;case"d":const ie=oe.value;if(ie){let me=this.headers.get(De);if(!me)return;me=me.filter(Le=>-1===ie.indexOf(Le)),0===me.length?(this.headers.delete(De),this.normalizedNames.delete(De)):this.headers.set(De,me)}else this.headers.delete(De),this.normalizedNames.delete(De)}}addHeaderEntry(oe,De){const ot=oe.toLowerCase();this.maybeSetNormalizedName(oe,ot),this.headers.has(ot)?this.headers.get(ot).push(De):this.headers.set(ot,[De])}setHeaderEntries(oe,De){const ot=(Array.isArray(De)?De:[De]).map(ie=>ie.toString()),Dt=oe.toLowerCase();this.headers.set(Dt,ot),this.maybeSetNormalizedName(oe,Dt)}forEach(oe){this.init(),Array.from(this.normalizedNames.keys()).forEach(De=>oe(this.normalizedNames.get(De),this.headers.get(De)))}}class Nt{encodeKey(oe){return _t(oe)}encodeValue(oe){return _t(oe)}decodeKey(oe){return decodeURIComponent(oe)}decodeValue(oe){return decodeURIComponent(oe)}}const ft=/%(\d[a-f0-9])/gi,gt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _t(te){return encodeURIComponent(te).replace(ft,(oe,De)=>gt[De]??oe)}function Re(te){return`${te}`}class Qe{map;encoder;updates=null;cloneFrom=null;constructor(oe={}){if(this.encoder=oe.encoder||new Nt,oe.fromString){if(oe.fromObject)throw new O.wOt(2805,!1);this.map=function Gt(te,oe){const De=new Map;return te.length>0&&te.replace(/^\?/,"").split("&").forEach(Dt=>{const ie=Dt.indexOf("="),[me,Le]=-1==ie?[oe.decodeKey(Dt),""]:[oe.decodeKey(Dt.slice(0,ie)),oe.decodeValue(Dt.slice(ie+1))],St=De.get(me)||[];St.push(Le),De.set(me,St)}),De}(oe.fromString,this.encoder)}else oe.fromObject?(this.map=new Map,Object.keys(oe.fromObject).forEach(De=>{const ot=oe.fromObject[De],Dt=Array.isArray(ot)?ot.map(Re):[Re(ot)];this.map.set(De,Dt)})):this.map=null}has(oe){return this.init(),this.map.has(oe)}get(oe){this.init();const De=this.map.get(oe);return De?De[0]:null}getAll(oe){return this.init(),this.map.get(oe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(oe,De){return this.clone({param:oe,value:De,op:"a"})}appendAll(oe){const De=[];return Object.keys(oe).forEach(ot=>{const Dt=oe[ot];Array.isArray(Dt)?Dt.forEach(ie=>{De.push({param:ot,value:ie,op:"a"})}):De.push({param:ot,value:Dt,op:"a"})}),this.clone(De)}set(oe,De){return this.clone({param:oe,value:De,op:"s"})}delete(oe,De){return this.clone({param:oe,value:De,op:"d"})}toString(){return this.init(),this.keys().map(oe=>{const De=this.encoder.encodeKey(oe);return this.map.get(oe).map(ot=>De+"="+this.encoder.encodeValue(ot)).join("&")}).filter(oe=>""!==oe).join("&")}clone(oe){const De=new Qe({encoder:this.encoder});return De.cloneFrom=this.cloneFrom||this,De.updates=(this.updates||[]).concat(oe),De}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(oe=>this.map.set(oe,this.cloneFrom.map.get(oe))),this.updates.forEach(oe=>{switch(oe.op){case"a":case"s":const De=("a"===oe.op?this.map.get(oe.param):void 0)||[];De.push(Re(oe.value)),this.map.set(oe.param,De);break;case"d":if(void 0===oe.value){this.map.delete(oe.param);break}{let ot=this.map.get(oe.param)||[];const Dt=ot.indexOf(Re(oe.value));-1!==Dt&&ot.splice(Dt,1),ot.length>0?this.map.set(oe.param,ot):this.map.delete(oe.param)}}}),this.cloneFrom=this.updates=null)}}class vt{map=new Map;set(oe,De){return this.map.set(oe,De),this}get(oe){return this.map.has(oe)||this.map.set(oe,oe.defaultValue()),this.map.get(oe)}delete(oe){return this.map.delete(oe),this}has(oe){return this.map.has(oe)}keys(){return this.map.keys()}}function st(te){return typeof ArrayBuffer<"u"&&te instanceof ArrayBuffer}function ct(te){return typeof Blob<"u"&&te instanceof Blob}function Pn(te){return typeof FormData<"u"&&te instanceof FormData}const On="Content-Type",_n="X-Request-URL",mt="text/plain",an="application/json",Ot=`${an}, ${mt}, */*`;class He{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(oe,De,ot,Dt){let ie;if(this.url=De,this.method=oe.toUpperCase(),function Wt(te){switch(te){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Dt?(this.body=void 0!==ot?ot:null,ie=Dt):ie=ot,ie&&(this.reportProgress=!!ie.reportProgress,this.withCredentials=!!ie.withCredentials,ie.responseType&&(this.responseType=ie.responseType),ie.headers&&(this.headers=ie.headers),ie.context&&(this.context=ie.context),ie.params&&(this.params=ie.params),this.transferCache=ie.transferCache),this.headers??=new At,this.context??=new vt,this.params){const me=this.params.toString();if(0===me.length)this.urlWithParams=De;else{const Le=De.indexOf("?");this.urlWithParams=De+(-1===Le?"?":Le<De.length-1?"&":"")+me}}else this.params=new Qe,this.urlWithParams=De}serializeBody(){return null===this.body?null:"string"==typeof this.body||st(this.body)||ct(this.body)||Pn(this.body)||function xn(te){return typeof URLSearchParams<"u"&&te instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Pn(this.body)?null:ct(this.body)?this.body.type||null:st(this.body)?null:"string"==typeof this.body?mt:this.body instanceof Qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?an:null}clone(oe={}){const De=oe.method||this.method,ot=oe.url||this.url,Dt=oe.responseType||this.responseType,ie=oe.transferCache??this.transferCache,me=void 0!==oe.body?oe.body:this.body,Le=oe.withCredentials??this.withCredentials,St=oe.reportProgress??this.reportProgress;let wt=oe.headers||this.headers,pt=oe.params||this.params;const Ft=oe.context??this.context;return void 0!==oe.setHeaders&&(wt=Object.keys(oe.setHeaders).reduce((en,Rn)=>en.set(Rn,oe.setHeaders[Rn]),wt)),oe.setParams&&(pt=Object.keys(oe.setParams).reduce((en,Rn)=>en.set(Rn,oe.setParams[Rn]),pt)),new He(De,ot,me,{params:pt,headers:wt,context:Ft,reportProgress:St,responseType:Dt,withCredentials:Le,transferCache:ie})}}var Y=function(te){return te[te.Sent=0]="Sent",te[te.UploadProgress=1]="UploadProgress",te[te.ResponseHeader=2]="ResponseHeader",te[te.DownloadProgress=3]="DownloadProgress",te[te.Response=4]="Response",te[te.User=5]="User",te}(Y||{});class ce{headers;status;statusText;url;ok;type;constructor(oe,De=200,ot="OK"){this.headers=oe.headers||new At,this.status=void 0!==oe.status?oe.status:De,this.statusText=oe.statusText||ot,this.url=oe.url||null,this.ok=this.status>=200&&this.status<300}}class le extends ce{constructor(oe={}){super(oe)}type=Y.ResponseHeader;clone(oe={}){return new le({headers:oe.headers||this.headers,status:void 0!==oe.status?oe.status:this.status,statusText:oe.statusText||this.statusText,url:oe.url||this.url||void 0})}}class fe extends ce{body;constructor(oe={}){super(oe),this.body=void 0!==oe.body?oe.body:null}type=Y.Response;clone(oe={}){return new fe({body:void 0!==oe.body?oe.body:this.body,headers:oe.headers||this.headers,status:void 0!==oe.status?oe.status:this.status,statusText:oe.statusText||this.statusText,url:oe.url||this.url||void 0})}}class ne extends ce{name="HttpErrorResponse";message;error;ok=!1;constructor(oe){super(oe,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${oe.url||"(unknown url)"}`:`Http failure response for ${oe.url||"(unknown url)"}: ${oe.status} ${oe.statusText}`,this.error=oe.error||null}}function rn(te,oe){return{body:oe,headers:te.headers,context:te.context,observe:te.observe,params:te.params,reportProgress:te.reportProgress,responseType:te.responseType,withCredentials:te.withCredentials,transferCache:te.transferCache}}let Yt=(()=>{class te{handler;constructor(De){this.handler=De}request(De,ot,Dt={}){let ie;if(De instanceof He)ie=De;else{let St,wt;St=Dt.headers instanceof At?Dt.headers:new At(Dt.headers),Dt.params&&(wt=Dt.params instanceof Qe?Dt.params:new Qe({fromObject:Dt.params})),ie=new He(De,ot,void 0!==Dt.body?Dt.body:null,{headers:St,context:Dt.context,params:wt,reportProgress:Dt.reportProgress,responseType:Dt.responseType||"json",withCredentials:Dt.withCredentials,transferCache:Dt.transferCache})}const me=(0,Ee.of)(ie).pipe((0,q.H)(St=>this.handler.handle(St)));if(De instanceof He||"events"===Dt.observe)return me;const Le=me.pipe((0,I.p)(St=>St instanceof fe));switch(Dt.observe||"body"){case"body":switch(ie.responseType){case"arraybuffer":return Le.pipe((0,Ce.T)(St=>{if(null!==St.body&&!(St.body instanceof ArrayBuffer))throw new O.wOt(2806,!1);return St.body}));case"blob":return Le.pipe((0,Ce.T)(St=>{if(null!==St.body&&!(St.body instanceof Blob))throw new O.wOt(2807,!1);return St.body}));case"text":return Le.pipe((0,Ce.T)(St=>{if(null!==St.body&&"string"!=typeof St.body)throw new O.wOt(2808,!1);return St.body}));default:return Le.pipe((0,Ce.T)(St=>St.body))}case"response":return Le;default:throw new O.wOt(2809,!1)}}delete(De,ot={}){return this.request("DELETE",De,ot)}get(De,ot={}){return this.request("GET",De,ot)}head(De,ot={}){return this.request("HEAD",De,ot)}jsonp(De,ot){return this.request("JSONP",De,{params:(new Qe).append(ot,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(De,ot={}){return this.request("OPTIONS",De,ot)}patch(De,ot,Dt={}){return this.request("PATCH",De,rn(Dt,ot))}post(De,ot,Dt={}){return this.request("POST",De,rn(Dt,ot))}put(De,ot,Dt={}){return this.request("PUT",De,rn(Dt,ot))}static \u0275fac=function(ot){return new(ot||te)(O.KVO(ze))};static \u0275prov=O.jDH({token:te,factory:te.\u0275fac})}return te})();const $n=new O.nKC("");function ur(te,oe){return oe(te)}const sn=new O.nKC(""),fr=new O.nKC(""),dn=new O.nKC("",{providedIn:"root",factory:()=>!0});let ht=(()=>{class te extends ze{backend;injector;chain=null;pendingTasks=(0,O.WQX)(O.Ua0);contributeToStability=(0,O.WQX)(dn);constructor(De,ot){super(),this.backend=De,this.injector=ot}handle(De){if(null===this.chain){const ot=Array.from(new Set([...this.injector.get(sn),...this.injector.get(fr,[])]));this.chain=ot.reduceRight((Dt,ie)=>function Cr(te,oe,De){return(ot,Dt)=>(0,O.N4e)(De,()=>oe(ot,ie=>te(ie,Dt)))}(Dt,ie,this.injector),ur)}if(this.contributeToStability){const ot=this.pendingTasks.add();return this.chain(De,Dt=>this.backend.handle(Dt)).pipe((0,Xe.j)(()=>this.pendingTasks.remove(ot)))}return this.chain(De,ot=>this.backend.handle(ot))}static \u0275fac=function(ot){return new(ot||te)(O.KVO(Je),O.KVO(O.uvJ))};static \u0275prov=O.jDH({token:te,factory:te.\u0275fac})}return te})();const Ei=/^\)\]\}',?\n/,Ci=RegExp(`^${_n}:`,"m");let In=(()=>{class te{xhrFactory;constructor(De){this.xhrFactory=De}handle(De){if("JSONP"===De.method)throw new O.wOt(-2800,!1);const ot=this.xhrFactory;return(ot.\u0275loadImpl?(0,we.H)(ot.\u0275loadImpl()):(0,Ee.of)(null)).pipe((0,ge.n)(()=>new je.c(ie=>{const me=ot.build();if(me.open(De.method,De.urlWithParams),De.withCredentials&&(me.withCredentials=!0),De.headers.forEach((Fn,rr)=>me.setRequestHeader(Fn,rr.join(","))),De.headers.has("Accept")||me.setRequestHeader("Accept",Ot),!De.headers.has(On)){const Fn=De.detectContentTypeHeader();null!==Fn&&me.setRequestHeader(On,Fn)}if(De.responseType){const Fn=De.responseType.toLowerCase();me.responseType="json"!==Fn?Fn:"text"}const Le=De.serializeBody();let St=null;const wt=()=>{if(null!==St)return St;const Fn=me.statusText||"OK",rr=new At(me.getAllResponseHeaders()),ai=function or(te){return"responseURL"in te&&te.responseURL?te.responseURL:Ci.test(te.getAllResponseHeaders())?te.getResponseHeader(_n):null}(me)||De.url;return St=new le({headers:rr,status:me.status,statusText:Fn,url:ai}),St},pt=()=>{let{headers:Fn,status:rr,statusText:ai,url:Ti}=wt(),_e=null;204!==rr&&(_e=typeof me.response>"u"?me.responseText:me.response),0===rr&&(rr=_e?200:0);let Se=rr>=200&&rr<300;if("json"===De.responseType&&"string"==typeof _e){const Ge=_e;_e=_e.replace(Ei,"");try{_e=""!==_e?JSON.parse(_e):null}catch(Bt){_e=Ge,Se&&(Se=!1,_e={error:Bt,text:_e})}}Se?(ie.next(new fe({body:_e,headers:Fn,status:rr,statusText:ai,url:Ti||void 0})),ie.complete()):ie.error(new ne({error:_e,headers:Fn,status:rr,statusText:ai,url:Ti||void 0}))},Ft=Fn=>{const{url:rr}=wt(),ai=new ne({error:Fn,status:me.status||0,statusText:me.statusText||"Unknown Error",url:rr||void 0});ie.error(ai)};let en=!1;const Rn=Fn=>{en||(ie.next(wt()),en=!0);let rr={type:Y.DownloadProgress,loaded:Fn.loaded};Fn.lengthComputable&&(rr.total=Fn.total),"text"===De.responseType&&me.responseText&&(rr.partialText=me.responseText),ie.next(rr)},cn=Fn=>{let rr={type:Y.UploadProgress,loaded:Fn.loaded};Fn.lengthComputable&&(rr.total=Fn.total),ie.next(rr)};return me.addEventListener("load",pt),me.addEventListener("error",Ft),me.addEventListener("timeout",Ft),me.addEventListener("abort",Ft),De.reportProgress&&(me.addEventListener("progress",Rn),null!==Le&&me.upload&&me.upload.addEventListener("progress",cn)),me.send(Le),ie.next({type:Y.Sent}),()=>{me.removeEventListener("error",Ft),me.removeEventListener("abort",Ft),me.removeEventListener("load",pt),me.removeEventListener("timeout",Ft),De.reportProgress&&(me.removeEventListener("progress",Rn),null!==Le&&me.upload&&me.upload.removeEventListener("progress",cn)),me.readyState!==me.DONE&&me.abort()}})))}static \u0275fac=function(ot){return new(ot||te)(O.KVO(ve.N0))};static \u0275prov=O.jDH({token:te,factory:te.\u0275fac})}return te})();const pi=new O.nKC(""),Kn=new O.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Fe=new O.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Mr{}let Gi=(()=>{class te{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(De,ot){this.doc=De,this.cookieName=ot}getToken(){const De=this.doc.cookie||"";return De!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ve.bS)(De,this.cookieName),this.lastCookieString=De),this.lastToken}static \u0275fac=function(ot){return new(ot||te)(O.KVO(it.q),O.KVO(Kn))};static \u0275prov=O.jDH({token:te,factory:te.\u0275fac})}return te})();function gi(te,oe){const De=te.url.toLowerCase();if(!(0,O.WQX)(pi)||"GET"===te.method||"HEAD"===te.method||De.startsWith("http://")||De.startsWith("https://"))return oe(te);const ot=(0,O.WQX)(Mr).getToken(),Dt=(0,O.WQX)(Fe);return null!=ot&&!te.headers.has(Dt)&&(te=te.clone({headers:te.headers.set(Dt,ot)})),oe(te)}function Ir(...te){const oe=[Yt,In,ht,{provide:ze,useExisting:ht},{provide:Je,useFactory:()=>(0,O.WQX)($n,{optional:!0})??(0,O.WQX)(In)},{provide:sn,useValue:gi,multi:!0},{provide:pi,useValue:!0},{provide:Mr,useClass:Gi}];for(const De of te)oe.push(...De.\u0275providers);return(0,O.EmA)(oe)}},7673:(En,Be,L)=>{"use strict";L.d(Be,{of:()=>q});var T=L(9326),O=L(8455);function q(...I){const Ce=(0,T.lI)(I);return(0,O.H)(I,Ce)}},7707:(En,Be,L)=>{"use strict";L.d(Be,{Ms:()=>Lt,vU:()=>it});var T=L(8071),O=L(8359),q=L(1026),I=L(5334),Ce=L(5343);const Xe=je("C",void 0,void 0);function je(_t,Re,Qe){return{kind:_t,value:Re,error:Qe}}var we=L(9270),ve=L(9786);class it extends O.yU{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,O.Uv)(Re)&&Re.add(this)):this.destination=gt}static create(Re,Qe,qe){return new Lt(Re,Qe,qe)}next(Re){this.isStopped?ft(function Ee(_t){return je("N",_t,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?ft(function ge(_t){return je("E",void 0,_t)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?ft(Xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Je(_t,Re){return ze.call(_t,Re)}class At{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(Re)}catch(qe){Nt(qe)}}error(Re){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(Re)}catch(qe){Nt(qe)}else Nt(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(Qe){Nt(Qe)}}}class Lt extends it{constructor(Re,Qe,qe){let vt;if(super(),(0,T.T)(Re)||!Re)vt={next:Re??void 0,error:Qe??void 0,complete:qe??void 0};else{let Wt;this&&q.$.useDeprecatedNextContext?(Wt=Object.create(Re),Wt.unsubscribe=()=>this.unsubscribe(),vt={next:Re.next&&Je(Re.next,Wt),error:Re.error&&Je(Re.error,Wt),complete:Re.complete&&Je(Re.complete,Wt)}):vt=Re}this.destination=new At(vt)}}function Nt(_t){q.$.useDeprecatedSynchronousErrorHandling?(0,ve.l)(_t):(0,I.m)(_t)}function ft(_t,Re){const{onStoppedNotification:Qe}=q.$;Qe&&we.f.setTimeout(()=>Qe(_t,Re))}const gt={closed:!0,next:Ce.l,error:function Gt(_t){throw _t},complete:Ce.l}},7759:(En,Be,L)=>{"use strict";L.d(Be,{I:()=>Lt});var T=L(6354),O=L(7673),q=L(9974),I=L(4360),Ce=L(3669),Xe=L(1985),ge=L(3236),Ee=L(9470);var ve=L(8750),ze=L(9437),Je=L(1360),At=L(7643);let Lt=(()=>{class Nt{http;BASE_PATH="assets/data/";DATA_FILE="dashboard-data.json";constructor(ft){this.http=ft,console.log("%c<<< Start MOCK-DATA service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getDashboardMetrics(){return this.http.get(`${this.BASE_PATH}dashboard-data.json`)}getTicketGraph(){return this.http.get(`${this.BASE_PATH}${this.DATA_FILE}`).pipe((0,T.T)(ft=>ft.chartData.tickets))}getSatisfactionData(){return this.http.get(`${this.BASE_PATH}satisfaction.json`)}getChannelsData(){return this.http.get(`${this.BASE_PATH}channels.json`)}getNotifications(){return this.http.get(`${this.BASE_PATH}notifications.json`)}getReclamos(){return this.http.get(`${this.BASE_PATH}reclamos.json`).pipe(function it(Nt=1/0){let Gt;Gt=Nt&&"object"==typeof Nt?Nt:{count:Nt};const{count:ft=1/0,delay:gt,resetOnSuccess:_t=!1}=Gt;return ft<=0?Ce.D:(0,q.N)((Re,Qe)=>{let vt,qe=0;const Wt=()=>{let st=!1;vt=Re.subscribe((0,I._)(Qe,ct=>{_t&&(qe=0),Qe.next(ct)},void 0,ct=>{if(qe++<ft){const Pn=()=>{vt?(vt.unsubscribe(),vt=null,Wt()):st=!0};if(null!=gt){const xn="number"==typeof gt?function we(Nt=0,Gt,ft=ge.b){let gt=-1;return null!=Gt&&((0,Ee.m)(Gt)?ft=Gt:gt=Gt),new Xe.c(_t=>{let Re=function je(Nt){return Nt instanceof Date&&!isNaN(Nt)}(Nt)?+Nt-ft.now():Nt;Re<0&&(Re=0);let Qe=0;return ft.schedule(function(){_t.closed||(_t.next(Qe++),0<=gt?this.schedule(void 0,gt):_t.complete())},Re)})}(gt):(0,ve.Tg)(gt(ct,qe)),On=(0,I._)(Qe,()=>{On.unsubscribe(),Pn()},()=>{Qe.complete()});xn.subscribe(On)}else Pn()}else Qe.error(ct)})),st&&(vt.unsubscribe(),vt=null,Wt())};Wt()})}(2),(0,ze.W)(ft=>(console.error("\u274c Error al cargar reclamos:",ft),(0,O.of)([]))))}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ft){const gt=16*Math.random()|0;return("x"===ft?gt:3&gt|8).toString(16)})}static \u0275fac=function(gt){return new(gt||Nt)(Je.KVO(At.Qq))};static \u0275prov=Je.jDH({token:Nt,factory:Nt.\u0275fac,providedIn:"root"})}return Nt})()},7852:(En,Be,L)=>{"use strict";L.d(Be,{MF:()=>In,j6:()=>xr,xZ:()=>_i,om:()=>Gr,Sx:()=>Kn,Dk:()=>xi,Wp:()=>pi,KO:()=>Gi});var T=L(467),O=L(1362),q=L(8041),I=L(6858);let Xe,ge;const we=new WeakMap,ve=new WeakMap,it=new WeakMap,ze=new WeakMap,Je=new WeakMap;let Nt={get(ie,me,Le){if(ie instanceof IDBTransaction){if("done"===me)return ve.get(ie);if("objectStoreNames"===me)return ie.objectStoreNames||it.get(ie);if("store"===me)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return _t(ie[me])},set:(ie,me,Le)=>(ie[me]=Le,!0),has:(ie,me)=>ie instanceof IDBTransaction&&("done"===me||"store"===me)||me in ie};function gt(ie){return"function"==typeof ie?function ft(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function je(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...me){return ie.apply(Re(this),me),_t(we.get(this))}:function(...me){return _t(ie.apply(Re(this),me))}:function(me,...Le){const St=ie.call(Re(this),me,...Le);return it.set(St,me.sort?me.sort():[me]),_t(St)}}(ie):(ie instanceof IDBTransaction&&function Lt(ie){if(ve.has(ie))return;const me=new Promise((Le,St)=>{const wt=()=>{ie.removeEventListener("complete",pt),ie.removeEventListener("error",Ft),ie.removeEventListener("abort",Ft)},pt=()=>{Le(),wt()},Ft=()=>{St(ie.error||new DOMException("AbortError","AbortError")),wt()};ie.addEventListener("complete",pt),ie.addEventListener("error",Ft),ie.addEventListener("abort",Ft)});ve.set(ie,me)}(ie),((ie,me)=>me.some(Le=>ie instanceof Le))(ie,function Ee(){return Xe||(Xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,Nt):ie)}function _t(ie){if(ie instanceof IDBRequest)return function At(ie){const me=new Promise((Le,St)=>{const wt=()=>{ie.removeEventListener("success",pt),ie.removeEventListener("error",Ft)},pt=()=>{Le(_t(ie.result)),wt()},Ft=()=>{St(ie.error),wt()};ie.addEventListener("success",pt),ie.addEventListener("error",Ft)});return me.then(Le=>{Le instanceof IDBCursor&&we.set(Le,ie)}).catch(()=>{}),Je.set(me,ie),me}(ie);if(ze.has(ie))return ze.get(ie);const me=gt(ie);return me!==ie&&(ze.set(ie,me),Je.set(me,ie)),me}const Re=ie=>Je.get(ie),vt=["get","getKey","getAll","getAllKeys","count"],Wt=["put","add","delete","clear"],st=new Map;function ct(ie,me){if(!(ie instanceof IDBDatabase)||me in ie||"string"!=typeof me)return;if(st.get(me))return st.get(me);const Le=me.replace(/FromIndex$/,""),St=me!==Le,wt=Wt.includes(Le);if(!(Le in(St?IDBIndex:IDBObjectStore).prototype)||!wt&&!vt.includes(Le))return;const pt=function(){var Ft=(0,T.A)(function*(en,...Rn){const cn=this.transaction(en,wt?"readwrite":"readonly");let Fn=cn.store;return St&&(Fn=Fn.index(Rn.shift())),(yield Promise.all([Fn[Le](...Rn),wt&&cn.done]))[0]});return function(Rn){return Ft.apply(this,arguments)}}();return st.set(me,pt),pt}!function Gt(ie){Nt=ie(Nt)}(ie=>({...ie,get:(me,Le,St)=>ct(me,Le)||ie.get(me,Le,St),has:(me,Le)=>!!ct(me,Le)||ie.has(me,Le)}));class Pn{constructor(me){this.container=me}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function xn(ie){const me=ie.getComponent();return"VERSION"===me?.type}(Le)){const St=Le.getImmediate();return`${St.library}/${St.version}`}return null}).filter(Le=>Le).join(" ")}}const On="@firebase/app",_n=new q.Vy("@firebase/app"),mt="@firebase/app-compat",an="@firebase/analytics-compat",Ot="@firebase/analytics",He="@firebase/app-check-compat",Y="@firebase/app-check",ce="@firebase/auth",le="@firebase/auth-compat",fe="@firebase/database",ne="@firebase/data-connect",he="@firebase/database-compat",Ye="@firebase/functions",Tt="@firebase/functions-compat",rn="@firebase/installations",Yt="@firebase/installations-compat",Jn="@firebase/messaging",Rt="@firebase/messaging-compat",$n="@firebase/performance",Hn="@firebase/performance-compat",Kt="@firebase/remote-config",kn="@firebase/remote-config-compat",er="@firebase/storage",ur="@firebase/storage-compat",Br="@firebase/firestore",Cr="@firebase/ai",Wi="@firebase/firestore-compat",sn="firebase",dn="[DEFAULT]",Ji={[On]:"fire-core",[mt]:"fire-core-compat",[Ot]:"fire-analytics",[an]:"fire-analytics-compat",[Y]:"fire-app-check",[He]:"fire-app-check-compat",[ce]:"fire-auth",[le]:"fire-auth-compat",[fe]:"fire-rtdb",[ne]:"fire-data-connect",[he]:"fire-rtdb-compat",[Ye]:"fire-fn",[Tt]:"fire-fn-compat",[rn]:"fire-iid",[Yt]:"fire-iid-compat",[Jn]:"fire-fcm",[Rt]:"fire-fcm-compat",[$n]:"fire-perf",[Hn]:"fire-perf-compat",[Kt]:"fire-rc",[kn]:"fire-rc-compat",[er]:"fire-gcs",[ur]:"fire-gcs-compat",[Br]:"fire-fst",[Wi]:"fire-fst-compat",[Cr]:"fire-vertex","fire-js":"fire-js",[sn]:"fire-js-all"},Nr=new Map,ht=new Map,jr=new Map;function Gn(ie,me){try{ie.container.addComponent(me)}catch(Le){_n.debug(`Component ${me.name} failed to register with FirebaseApp ${ie.name}`,Le)}}function Gr(ie){const me=ie.name;if(jr.has(me))return _n.debug(`There were multiple attempts to register component ${me}.`),!1;jr.set(me,ie);for(const Le of Nr.values())Gn(Le,ie);for(const Le of ht.values())Gn(Le,ie);return!0}function xr(ie,me){const Le=ie.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),ie.container.getProvider(me)}function _i(ie){return null!=ie&&void 0!==ie.settings}const dr=new I.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ei{constructor(me,Le,St){this._isDeleted=!1,this._options=Object.assign({},me),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=St,this.container.addComponent(new O.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this.checkDestroyed(),this._automaticDataCollectionEnabled=me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(me){this._isDeleted=me}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const In="11.8.0";function pi(ie,me={}){let Le=ie;"object"!=typeof me&&(me={name:me});const St=Object.assign({name:dn,automaticDataCollectionEnabled:!0},me),wt=St.name;if("string"!=typeof wt||!wt)throw dr.create("bad-app-name",{appName:String(wt)});if(Le||(Le=(0,I.T9)()),!Le)throw dr.create("no-options");const pt=Nr.get(wt);if(pt){if((0,I.bD)(Le,pt.options)&&(0,I.bD)(St,pt.config))return pt;throw dr.create("duplicate-app",{appName:wt})}const Ft=new O.h1(wt);for(const Rn of jr.values())Ft.addComponent(Rn);const en=new Ei(Le,St,Ft);return Nr.set(wt,en),en}function Kn(ie=dn){const me=Nr.get(ie);if(!me&&ie===dn&&(0,I.T9)())return pi();if(!me)throw dr.create("no-app",{appName:ie});return me}function xi(){return Array.from(Nr.values())}function Gi(ie,me,Le){var St;let wt=null!==(St=Ji[ie])&&void 0!==St?St:ie;Le&&(wt+=`-${Le}`);const pt=wt.match(/\s|\//),Ft=me.match(/\s|\//);if(pt||Ft){const en=[`Unable to register library "${wt}" with version "${me}":`];return pt&&en.push(`library name "${wt}" contains illegal characters (whitespace or "/")`),pt&&Ft&&en.push("and"),Ft&&en.push(`version name "${me}" contains illegal characters (whitespace or "/")`),void _n.warn(en.join(" "))}Gr(new O.uA(`${wt}-version`,()=>({library:wt,version:me}),"VERSION"))}const Ir="firebase-heartbeat-store";let $i=null;function Fi(){return $i||($i=function Qe(ie,me,{blocked:Le,upgrade:St,blocking:wt,terminated:pt}={}){const Ft=indexedDB.open(ie,me),en=_t(Ft);return St&&Ft.addEventListener("upgradeneeded",Rn=>{St(_t(Ft.result),Rn.oldVersion,Rn.newVersion,_t(Ft.transaction),Rn)}),Le&&Ft.addEventListener("blocked",Rn=>Le(Rn.oldVersion,Rn.newVersion,Rn)),en.then(Rn=>{pt&&Rn.addEventListener("close",()=>pt()),wt&&Rn.addEventListener("versionchange",cn=>wt(cn.oldVersion,cn.newVersion,cn))}).catch(()=>{}),en}("firebase-heartbeat-database",1,{upgrade:(ie,me)=>{if(0===me)try{ie.createObjectStore(Ir)}catch(Le){console.warn(Le)}}}).catch(ie=>{throw dr.create("idb-open",{originalErrorMessage:ie.message})})),$i}function be(){return(be=(0,T.A)(function*(ie){try{const Le=(yield Fi()).transaction(Ir),St=yield Le.objectStore(Ir).get(xt(ie));return yield Le.done,St}catch(me){if(me instanceof I.g)_n.warn(me.message);else{const Le=dr.create("idb-get",{originalErrorMessage:me?.message});_n.warn(Le.message)}}})).apply(this,arguments)}function ye(ie,me){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,T.A)(function*(ie,me){try{const St=(yield Fi()).transaction(Ir,"readwrite");yield St.objectStore(Ir).put(me,xt(ie)),yield St.done}catch(Le){if(Le instanceof I.g)_n.warn(Le.message);else{const St=dr.create("idb-set",{originalErrorMessage:Le?.message});_n.warn(St.message)}}})).apply(this,arguments)}function xt(ie){return`${ie.name}!${ie.options.appId}`}class wn{constructor(me){this.container=me,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new oe(Le),this._heartbeatsCachePromise=this._storage.read().then(St=>(this._heartbeatsCache=St,St))}triggerHeartbeat(){var me=this;return(0,T.A)(function*(){var Le,St;try{const pt=me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=gr();if(null==(null===(Le=me._heartbeatsCache)||void 0===Le?void 0:Le.heartbeats)&&(me._heartbeatsCache=yield me._heartbeatsCachePromise,null==(null===(St=me._heartbeatsCache)||void 0===St?void 0:St.heartbeats))||me._heartbeatsCache.lastSentHeartbeatDate===Ft||me._heartbeatsCache.heartbeats.some(en=>en.date===Ft))return;if(me._heartbeatsCache.heartbeats.push({date:Ft,agent:pt}),me._heartbeatsCache.heartbeats.length>30){const en=function ot(ie){if(0===ie.length)return-1;let me=0,Le=ie[0].date;for(let St=1;St<ie.length;St++)ie[St].date<Le&&(Le=ie[St].date,me=St);return me}(me._heartbeatsCache.heartbeats);me._heartbeatsCache.heartbeats.splice(en,1)}return me._storage.overwrite(me._heartbeatsCache)}catch(wt){_n.warn(wt)}})()}getHeartbeatsHeader(){var me=this;return(0,T.A)(function*(){var Le;try{if(null===me._heartbeatsCache&&(yield me._heartbeatsCachePromise),null==(null===(Le=me._heartbeatsCache)||void 0===Le?void 0:Le.heartbeats)||0===me._heartbeatsCache.heartbeats.length)return"";const St=gr(),{heartbeatsToSend:wt,unsentEntries:pt}=function te(ie,me=1024){const Le=[];let St=ie.slice();for(const wt of ie){const pt=Le.find(Ft=>Ft.agent===wt.agent);if(pt){if(pt.dates.push(wt.date),De(Le)>me){pt.dates.pop();break}}else if(Le.push({agent:wt.agent,dates:[wt.date]}),De(Le)>me){Le.pop();break}St=St.slice(1)}return{heartbeatsToSend:Le,unsentEntries:St}}(me._heartbeatsCache.heartbeats),Ft=(0,I.Uj)(JSON.stringify({version:2,heartbeats:wt}));return me._heartbeatsCache.lastSentHeartbeatDate=St,pt.length>0?(me._heartbeatsCache.heartbeats=pt,yield me._storage.overwrite(me._heartbeatsCache)):(me._heartbeatsCache.heartbeats=[],me._storage.overwrite(me._heartbeatsCache)),Ft}catch(St){return _n.warn(St),""}})()}}function gr(){return(new Date).toISOString().substring(0,10)}class oe{constructor(me){this.app=me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.A)(function*(){return!!(0,I.zW)()&&(0,I.eX)().then(()=>!0).catch(()=>!1)})()}read(){var me=this;return(0,T.A)(function*(){if(yield me._canUseIndexedDBPromise){const St=yield function Li(ie){return be.apply(this,arguments)}(me.app);return St?.heartbeats?St:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(me){var Le=this;return(0,T.A)(function*(){var St;if(yield Le._canUseIndexedDBPromise){const pt=yield Le.read();return ye(Le.app,{lastSentHeartbeatDate:null!==(St=me.lastSentHeartbeatDate)&&void 0!==St?St:pt.lastSentHeartbeatDate,heartbeats:me.heartbeats})}})()}add(me){var Le=this;return(0,T.A)(function*(){var St;if(yield Le._canUseIndexedDBPromise){const pt=yield Le.read();return ye(Le.app,{lastSentHeartbeatDate:null!==(St=me.lastSentHeartbeatDate)&&void 0!==St?St:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...me.heartbeats]})}})()}}function De(ie){return(0,I.Uj)(JSON.stringify({version:2,heartbeats:ie})).length}!function Dt(ie){Gr(new O.uA("platform-logger",me=>new Pn(me),"PRIVATE")),Gr(new O.uA("heartbeat",me=>new wn(me),"PRIVATE")),Gi(On,"0.13.0",ie),Gi(On,"0.13.0","esm2017"),Gi("fire-js","")}("")},7908:(En,Be,L)=>{"use strict";function T(O,q){if(O){const I=O.indexOf(q);0<=I&&O.splice(I,1)}}L.d(Be,{o:()=>T})},7953:(En,Be,L)=>{"use strict";L.d(Be,{T:()=>O});var T=L(8071);function O(q){return Symbol.asyncIterator&&(0,T.T)(q?.[Symbol.asyncIterator])}},8032:function(En){En.exports=function(){"use strict";var Be={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const T=P=>{const k={};for(const j in P)k[P[j]]="swal2-"+P[j];return k},O=T(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),q=T(["success","warning","info","question","error"]),I="SweetAlert2:",Xe=P=>P.charAt(0).toUpperCase()+P.slice(1),ge=P=>{console.warn(`${I} ${"object"==typeof P?P.join(" "):P}`)},Ee=P=>{console.error(`${I} ${P}`)},je=[],ve=(P,k)=>{(P=>{je.includes(P)||(je.push(P),ge(P))})(`"${P}" is deprecated and will be removed in the next major release. Please use "${k}" instead.`)},it=P=>"function"==typeof P?P():P,ze=P=>P&&"function"==typeof P.toPromise,Je=P=>ze(P)?P.toPromise():Promise.resolve(P),At=P=>P&&Promise.resolve(P)===P,Lt=()=>document.body.querySelector(`.${O.container}`),Nt=P=>{const k=Lt();return k?k.querySelector(P):null},Gt=P=>Nt(`.${P}`),ft=()=>Gt(O.popup),gt=()=>Gt(O.icon),Re=()=>Gt(O.title),Qe=()=>Gt(O["html-container"]),qe=()=>Gt(O.image),vt=()=>Gt(O["progress-steps"]),Wt=()=>Gt(O["validation-message"]),st=()=>Nt(`.${O.actions} .${O.confirm}`),ct=()=>Nt(`.${O.actions} .${O.deny}`),xn=()=>Nt(`.${O.loader}`),On=()=>Nt(`.${O.actions} .${O.cancel}`),nt=()=>Gt(O.actions),_n=()=>Gt(O.footer),mt=()=>Gt(O["timer-progress-bar"]),an=()=>Gt(O.close),He=()=>{const P=Array.from(ft().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((j,Ae)=>{const kt=parseInt(j.getAttribute("tabindex")),bn=parseInt(Ae.getAttribute("tabindex"));return kt>bn?1:kt<bn?-1:0}),k=Array.from(ft().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(j=>"-1"!==j.getAttribute("tabindex"));return(P=>{const k=[];for(let j=0;j<P.length;j++)-1===k.indexOf(P[j])&&k.push(P[j]);return k})(P.concat(k)).filter(j=>Cr(j))},Y=()=>he(document.body,O.shown)&&!he(document.body,O["toast-shown"])&&!he(document.body,O["no-backdrop"]),ce=()=>ft()&&he(ft(),O.toast),fe={previousBodyPadding:null},ne=(P,k)=>{if(P.textContent="",k){const Ae=(new DOMParser).parseFromString(k,"text/html");Array.from(Ae.querySelector("head").childNodes).forEach(kt=>{P.appendChild(kt)}),Array.from(Ae.querySelector("body").childNodes).forEach(kt=>{kt instanceof HTMLVideoElement||kt instanceof HTMLAudioElement?P.appendChild(kt.cloneNode(!0)):P.appendChild(kt)})}},he=(P,k)=>{if(!k)return!1;const j=k.split(/\s+/);for(let Ae=0;Ae<j.length;Ae++)if(!P.classList.contains(j[Ae]))return!1;return!0},Tt=(P,k,j)=>{if(((P,k)=>{Array.from(P.classList).forEach(j=>{!Object.values(O).includes(j)&&!Object.values(q).includes(j)&&!Object.values(k.showClass).includes(j)&&P.classList.remove(j)})})(P,k),k.customClass&&k.customClass[j]){if("string"!=typeof k.customClass[j]&&!k.customClass[j].forEach)return void ge(`Invalid type of customClass.${j}! Expected string or iterable object, got "${typeof k.customClass[j]}"`);Rt(P,k.customClass[j])}},rn=(P,k)=>{if(!k)return null;switch(k){case"select":case"textarea":case"file":return P.querySelector(`.${O.popup} > .${O[k]}`);case"checkbox":return P.querySelector(`.${O.popup} > .${O.checkbox} input`);case"radio":return P.querySelector(`.${O.popup} > .${O.radio} input:checked`)||P.querySelector(`.${O.popup} > .${O.radio} input:first-child`);case"range":return P.querySelector(`.${O.popup} > .${O.range} input`);default:return P.querySelector(`.${O.popup} > .${O.input}`)}},Yt=P=>{if(P.focus(),"file"!==P.type){const k=P.value;P.value="",P.value=k}},Jn=(P,k,j)=>{!P||!k||("string"==typeof k&&(k=k.split(/\s+/).filter(Boolean)),k.forEach(Ae=>{Array.isArray(P)?P.forEach(kt=>{j?kt.classList.add(Ae):kt.classList.remove(Ae)}):j?P.classList.add(Ae):P.classList.remove(Ae)}))},Rt=(P,k)=>{Jn(P,k,!0)},$n=(P,k)=>{Jn(P,k,!1)},Hn=(P,k)=>{const j=Array.from(P.children);for(let Ae=0;Ae<j.length;Ae++){const kt=j[Ae];if(kt instanceof HTMLElement&&he(kt,k))return kt}},Kt=(P,k,j)=>{j===`${parseInt(j)}`&&(j=parseInt(j)),j||0===parseInt(j)?P.style[k]="number"==typeof j?`${j}px`:j:P.style.removeProperty(k)},kn=function(P){P.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},er=P=>{P.style.display="none"},ur=(P,k,j,Ae)=>{const kt=P.querySelector(k);kt&&(kt.style[j]=Ae)},Br=function(P,k){k?kn(P,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):er(P)},Cr=P=>!(!P||!(P.offsetWidth||P.offsetHeight||P.getClientRects().length)),sn=P=>P.scrollHeight>P.clientHeight,fr=P=>{const k=window.getComputedStyle(P),j=parseFloat(k.getPropertyValue("animation-duration")||"0"),Ae=parseFloat(k.getPropertyValue("transition-duration")||"0");return j>0||Ae>0},dn=function(P){let k=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const j=mt();Cr(j)&&(k&&(j.style.transition="none",j.style.width="100%"),setTimeout(()=>{j.style.transition=`width ${P/1e3}s linear`,j.style.width="0%"},10))},ht={},Gn=P=>new Promise(k=>{if(!P)return k();const j=window.scrollX,Ae=window.scrollY;ht.restoreFocusTimeout=setTimeout(()=>{ht.previousActiveElement instanceof HTMLElement?(ht.previousActiveElement.focus(),ht.previousActiveElement=null):document.body&&document.body.focus(),k()},100),window.scrollTo(j,Ae)}),Xt=()=>typeof window>"u"||typeof document>"u",Gr=`\n <div aria-labelledby="${O.title}" aria-describedby="${O["html-container"]}" class="${O.popup}" tabindex="-1">\n   <button type="button" class="${O.close}"></button>\n   <ul class="${O["progress-steps"]}"></ul>\n   <div class="${O.icon}"></div>\n   <img class="${O.image}" />\n   <h2 class="${O.title}" id="${O.title}"></h2>\n   <div class="${O["html-container"]}" id="${O["html-container"]}"></div>\n   <input class="${O.input}" />\n   <input type="file" class="${O.file}" />\n   <div class="${O.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${O.select}"></select>\n   <div class="${O.radio}"></div>\n   <label for="${O.checkbox}" class="${O.checkbox}">\n     <input type="checkbox" />\n     <span class="${O.label}"></span>\n   </label>\n   <textarea class="${O.textarea}"></textarea>\n   <div class="${O["validation-message"]}" id="${O["validation-message"]}"></div>\n   <div class="${O.actions}">\n     <div class="${O.loader}"></div>\n     <button type="button" class="${O.confirm}"></button>\n     <button type="button" class="${O.deny}"></button>\n     <button type="button" class="${O.cancel}"></button>\n   </div>\n   <div class="${O.footer}"></div>\n   <div class="${O["timer-progress-bar-container"]}">\n     <div class="${O["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),qn=()=>{ht.currentInstance.resetValidationMessage()},dr=P=>{const k=(()=>{const P=Lt();return!!P&&(P.remove(),$n([document.documentElement,document.body],[O["no-backdrop"],O["toast-shown"],O["has-column"]]),!0)})();if(Xt())return void Ee("SweetAlert2 requires document to initialize");const j=document.createElement("div");j.className=O.container,k&&Rt(j,O["no-transition"]),ne(j,Gr);const Ae=(P=>"string"==typeof P?document.querySelector(P):P)(P.target);Ae.appendChild(j),(P=>{const k=ft();k.setAttribute("role",P.toast?"alert":"dialog"),k.setAttribute("aria-live",P.toast?"polite":"assertive"),P.toast||k.setAttribute("aria-modal","true")})(P),(P=>{"rtl"===window.getComputedStyle(P).direction&&Rt(Lt(),O.rtl)})(Ae),(()=>{const P=ft(),k=Hn(P,O.input),j=Hn(P,O.file),Ae=P.querySelector(`.${O.range} input`),kt=P.querySelector(`.${O.range} output`),bn=Hn(P,O.select),cr=P.querySelector(`.${O.checkbox} input`),Bi=Hn(P,O.textarea);k.oninput=qn,j.onchange=qn,bn.onchange=qn,cr.onchange=qn,Bi.oninput=qn,Ae.oninput=()=>{qn(),kt.value=Ae.value},Ae.onchange=()=>{qn(),kt.value=Ae.value}})()},Ei=(P,k)=>{P instanceof HTMLElement?k.appendChild(P):"object"==typeof P?Ci(P,k):P&&ne(k,P)},Ci=(P,k)=>{P.jquery?or(k,P):ne(k,P.toString())},or=(P,k)=>{if(P.textContent="",0 in k)for(let j=0;j in k;j++)P.appendChild(k[j].cloneNode(!0));else P.appendChild(k.cloneNode(!0))},In=(()=>{if(Xt())return!1;const P=document.createElement("div"),k={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const j in k)if(Object.prototype.hasOwnProperty.call(k,j)&&typeof P.style[j]<"u")return k[j];return!1})(),Pr=(P,k)=>{const j=nt(),Ae=xn();k.showConfirmButton||k.showDenyButton||k.showCancelButton?kn(j):er(j),Tt(j,k,"actions"),function Kn(P,k,j){const Ae=st(),kt=ct(),bn=On();Fe(Ae,"confirm",j),Fe(kt,"deny",j),Fe(bn,"cancel",j),function xi(P,k,j,Ae){Ae.buttonsStyling?(Rt([P,k,j],O.styled),Ae.confirmButtonColor&&(P.style.backgroundColor=Ae.confirmButtonColor,Rt(P,O["default-outline"])),Ae.denyButtonColor&&(k.style.backgroundColor=Ae.denyButtonColor,Rt(k,O["default-outline"])),Ae.cancelButtonColor&&(j.style.backgroundColor=Ae.cancelButtonColor,Rt(j,O["default-outline"]))):$n([P,k,j],O.styled)}(Ae,kt,bn,j),j.reverseButtons&&(j.toast?(P.insertBefore(bn,Ae),P.insertBefore(kt,Ae)):(P.insertBefore(bn,k),P.insertBefore(kt,k),P.insertBefore(Ae,k)))}(j,Ae,k),ne(Ae,k.loaderHtml),Tt(Ae,k,"loader")};function Fe(P,k,j){Br(P,j[`show${Xe(k)}Button`],"inline-block"),ne(P,j[`${k}ButtonText`]),P.setAttribute("aria-label",j[`${k}ButtonAriaLabel`]),P.className=O[k],Tt(P,j,`${k}Button`),Rt(P,j[`${k}ButtonClass`])}const Gi=(P,k)=>{const j=Lt();j&&(function gi(P,k){"string"==typeof k?P.style.background=k:k||Rt([document.documentElement,document.body],O["no-backdrop"])}(j,k.backdrop),function Oi(P,k){k in O?Rt(P,O[k]):(ge('The "position" parameter is not valid, defaulting to "center"'),Rt(P,O.center))}(j,k.position),function vn(P,k){if(k&&"string"==typeof k){const j=`grow-${k}`;j in O&&Rt(P,O[j])}}(j,k.grow),Tt(j,k,"container"))};const _r=["input","file","range","select","radio","checkbox","textarea"],$i=P=>{if(!Zt[P.input])return void Ee(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${P.input}"`);const k=xt(P.input),j=Zt[P.input](k,P);kn(k),setTimeout(()=>{Yt(j)})},Li=(P,k)=>{const j=rn(ft(),P);if(j){(P=>{for(let k=0;k<P.attributes.length;k++){const j=P.attributes[k].name;["type","value","style"].includes(j)||P.removeAttribute(j)}})(j);for(const Ae in k)j.setAttribute(Ae,k[Ae])}},be=P=>{const k=xt(P.input);"object"==typeof P.customClass&&Rt(k,P.customClass.input)},ye=(P,k)=>{(!P.placeholder||k.inputPlaceholder)&&(P.placeholder=k.inputPlaceholder)},Ve=(P,k,j)=>{if(j.inputLabel){P.id=O.input;const Ae=document.createElement("label"),kt=O["input-label"];Ae.setAttribute("for",P.id),Ae.className=kt,"object"==typeof j.customClass&&Rt(Ae,j.customClass.inputLabel),Ae.innerText=j.inputLabel,k.insertAdjacentElement("beforebegin",Ae)}},xt=P=>Hn(ft(),O[P]||O.input),Ze=(P,k)=>{["string","number"].includes(typeof k)?P.value=`${k}`:At(k)||ge(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof k}"`)},Zt={};Zt.text=Zt.email=Zt.password=Zt.number=Zt.tel=Zt.url=(P,k)=>(Ze(P,k.inputValue),Ve(P,P,k),ye(P,k),P.type=k.input,P),Zt.file=(P,k)=>(Ve(P,P,k),ye(P,k),P),Zt.range=(P,k)=>{const j=P.querySelector("input"),Ae=P.querySelector("output");return Ze(j,k.inputValue),j.type=k.input,Ze(Ae,k.inputValue),Ve(j,P,k),P},Zt.select=(P,k)=>{if(P.textContent="",k.inputPlaceholder){const j=document.createElement("option");ne(j,k.inputPlaceholder),j.value="",j.disabled=!0,j.selected=!0,P.appendChild(j)}return Ve(P,P,k),P},Zt.radio=P=>(P.textContent="",P),Zt.checkbox=(P,k)=>{const j=rn(ft(),"checkbox");j.value="1",j.id=O.checkbox,j.checked=!!k.inputValue;const Ae=P.querySelector("span");return ne(Ae,k.inputPlaceholder),j},Zt.textarea=(P,k)=>{Ze(P,k.inputValue),ye(P,k),Ve(P,P,k);return setTimeout(()=>{if("MutationObserver"in window){const Ae=parseInt(window.getComputedStyle(ft()).width);new MutationObserver(()=>{const bn=P.offsetWidth+(Ae=>parseInt(window.getComputedStyle(Ae).marginLeft)+parseInt(window.getComputedStyle(Ae).marginRight))(P);ft().style.width=bn>Ae?`${bn}px`:null}).observe(P,{attributes:!0,attributeFilter:["style"]})}}),P};const wn=(P,k)=>{const j=Qe();Tt(j,k,"htmlContainer"),k.html?(Ei(k.html,j),kn(j,"block")):k.text?(j.textContent=k.text,kn(j,"block")):er(j),((P,k)=>{const j=ft(),Ae=Be.innerParams.get(P),kt=!Ae||k.input!==Ae.input;_r.forEach(bn=>{const cr=Hn(j,O[bn]);Li(bn,k.inputAttributes),cr.className=O[bn],kt&&er(cr)}),k.input&&(kt&&$i(k),be(k))})(P,k)},oe=(P,k)=>{for(const j in q)k.icon!==j&&$n(P,q[j]);Rt(P,q[k.icon]),me(P,k),De(),Tt(P,k,"icon")},De=()=>{const P=ft(),k=window.getComputedStyle(P).getPropertyValue("background-color"),j=P.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ae=0;Ae<j.length;Ae++)j[Ae].style.backgroundColor=k},ie=(P,k)=>{let Ae,j=P.innerHTML;k.iconHtml?Ae=Le(k.iconHtml):"success"===k.icon?(Ae='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',j=j.replace(/ style=".*?"/g,"")):Ae="error"===k.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Le({question:"?",warning:"!",info:"i"}[k.icon]),j.trim()!==Ae.trim()&&ne(P,Ae)},me=(P,k)=>{if(k.iconColor){P.style.color=k.iconColor,P.style.borderColor=k.iconColor;for(const j of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ur(P,j,"backgroundColor",k.iconColor);ur(P,".swal2-success-ring","borderColor",k.iconColor)}},Le=P=>`<div class="${O["icon-content"]}">${P}</div>`,pt=(P,k)=>{P.className=`${O.popup} ${Cr(P)?k.showClass.popup:""}`,k.toast?(Rt([document.documentElement,document.body],O["toast-shown"]),Rt(P,O.toast)):Rt(P,O.modal),Tt(P,k,"popup"),"string"==typeof k.customClass&&Rt(P,k.customClass),k.icon&&Rt(P,O[`icon-${k.icon}`])},en=P=>{const k=document.createElement("li");return Rt(k,O["progress-step"]),ne(k,P),k},Rn=P=>{const k=document.createElement("li");return Rt(k,O["progress-step-line"]),P.progressStepsDistance&&Kt(k,"width",P.progressStepsDistance),k},Fn=(P,k)=>{((P,k)=>{const j=Lt(),Ae=ft();k.toast?(Kt(j,"width",k.width),Ae.style.width="100%",Ae.insertBefore(xn(),gt())):Kt(Ae,"width",k.width),Kt(Ae,"padding",k.padding),k.color&&(Ae.style.color=k.color),k.background&&(Ae.style.background=k.background),er(Wt()),pt(Ae,k)})(0,k),Gi(0,k),((P,k)=>{const j=vt();k.progressSteps&&0!==k.progressSteps.length?(kn(j),j.textContent="",k.currentProgressStep>=k.progressSteps.length&&ge("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),k.progressSteps.forEach((Ae,kt)=>{const bn=en(Ae);if(j.appendChild(bn),kt===k.currentProgressStep&&Rt(bn,O["active-progress-step"]),kt!==k.progressSteps.length-1){const cr=Rn(k);j.appendChild(cr)}})):er(j)})(0,k),((P,k)=>{const j=Be.innerParams.get(P),Ae=gt();j&&k.icon===j.icon?(ie(Ae,k),oe(Ae,k)):k.icon||k.iconHtml?k.icon&&-1===Object.keys(q).indexOf(k.icon)?(Ee(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${k.icon}"`),er(Ae)):(kn(Ae),ie(Ae,k),oe(Ae,k),Rt(Ae,k.showClass.icon)):er(Ae)})(P,k),((P,k)=>{const j=qe();k.imageUrl?(kn(j,""),j.setAttribute("src",k.imageUrl),j.setAttribute("alt",k.imageAlt),Kt(j,"width",k.imageWidth),Kt(j,"height",k.imageHeight),j.className=O.image,Tt(j,k,"image")):er(j)})(0,k),((P,k)=>{const j=Re();Br(j,k.title||k.titleText,"block"),k.title&&Ei(k.title,j),k.titleText&&(j.innerText=k.titleText),Tt(j,k,"title")})(0,k),((P,k)=>{const j=an();ne(j,k.closeButtonHtml),Tt(j,k,"closeButton"),Br(j,k.showCloseButton),j.setAttribute("aria-label",k.closeButtonAriaLabel)})(0,k),wn(P,k),Pr(0,k),((P,k)=>{const j=_n();Br(j,k.footer),k.footer&&Ei(k.footer,j),Tt(j,k,"footer")})(0,k),"function"==typeof k.didRender&&k.didRender(ft())};function rr(){const P=Be.innerParams.get(this);if(!P)return;const k=Be.domCache.get(this);er(k.loader),ce()?P.icon&&kn(gt()):ai(k),$n([k.popup,k.actions],O.loading),k.popup.removeAttribute("aria-busy"),k.popup.removeAttribute("data-loading"),k.confirmButton.disabled=!1,k.denyButton.disabled=!1,k.cancelButton.disabled=!1}const ai=P=>{const k=P.popup.getElementsByClassName(P.loader.getAttribute("data-button-to-replace"));k.length?kn(k[0],"inline-block"):!Cr(st())&&!Cr(ct())&&!Cr(On())&&er(P.actions)};const Se=()=>st()&&st().click(),Ht=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ln=P=>{P.keydownTarget&&P.keydownHandlerAdded&&(P.keydownTarget.removeEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!1)},ir=(P,k,j)=>{const Ae=He();if(Ae.length)return(k+=j)===Ae.length?k=0:-1===k&&(k=Ae.length-1),Ae[k].focus();ft().focus()},ar=["ArrowRight","ArrowDown"],Hr=["ArrowLeft","ArrowUp"],no=(P,k,j)=>{const Ae=Be.innerParams.get(P);Ae&&(k.isComposing||229===k.keyCode||(Ae.stopKeydownPropagation&&k.stopPropagation(),"Enter"===k.key?wi(P,k,Ae):"Tab"===k.key?Is(k,Ae):[...ar,...Hr].includes(k.key)?Ts(k.key):"Escape"===k.key&&mo(k,Ae,j)))},wi=(P,k,j)=>{if(it(j.allowEnterKey)&&k.target&&P.getInput()&&k.target instanceof HTMLElement&&k.target.outerHTML===P.getInput().outerHTML){if(["textarea","file"].includes(j.input))return;Se(),k.preventDefault()}},Is=(P,k)=>{const j=P.target,Ae=He();let kt=-1;for(let bn=0;bn<Ae.length;bn++)if(j===Ae[bn]){kt=bn;break}ir(0,kt,P.shiftKey?-1:1),P.stopPropagation(),P.preventDefault()},Ts=P=>{const k=st(),j=ct(),Ae=On();if(document.activeElement instanceof HTMLElement&&![k,j,Ae].includes(document.activeElement))return;const kt=ar.includes(P)?"nextElementSibling":"previousElementSibling";let bn=document.activeElement;for(let cr=0;cr<nt().children.length;cr++){if(bn=bn[kt],!bn)return;if(bn instanceof HTMLButtonElement&&Cr(bn))break}bn instanceof HTMLButtonElement&&bn.focus()},mo=(P,k,j)=>{it(k.allowEscapeKey)&&(P.preventDefault(),j(Ht.esc))};var ls={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const de=()=>{Array.from(document.body.children).forEach(k=>{k.hasAttribute("data-previous-aria-hidden")?(k.setAttribute("aria-hidden",k.getAttribute("data-previous-aria-hidden")),k.removeAttribute("data-previous-aria-hidden")):k.removeAttribute("aria-hidden")})},ee=()=>{const P=navigator.userAgent,k=!!P.match(/iPad/i)||!!P.match(/iPhone/i),j=!!P.match(/WebKit/i);k&&j&&!P.match(/CriOS/i)&&ft().scrollHeight>window.innerHeight-44&&(Lt().style.paddingBottom="44px")},Me=()=>{const P=Lt();let k;P.ontouchstart=j=>{k=It(j)},P.ontouchmove=j=>{k&&(j.preventDefault(),j.stopPropagation())}},It=P=>{const k=P.target,j=Lt();return!nn(P)&&!Cn(P)&&(k===j||!sn(j)&&k instanceof HTMLElement&&"INPUT"!==k.tagName&&"TEXTAREA"!==k.tagName&&!(sn(Qe())&&Qe().contains(k)))},nn=P=>P.touches&&P.touches.length&&"stylus"===P.touches[0].touchType,Cn=P=>P.touches&&P.touches.length>1,Kr=()=>{null===fe.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(fe.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${fe.previousBodyPadding+(()=>{const P=document.createElement("div");P.className=O["scrollbar-measure"],document.body.appendChild(P);const k=P.getBoundingClientRect().width-P.clientWidth;return document.body.removeChild(P),k})()}px`)};function vr(P,k,j,Ae){ce()?dt(P,Ae):(Gn(j).then(()=>dt(P,Ae)),ln(ht)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(k.setAttribute("style","display:none !important"),k.removeAttribute("class"),k.innerHTML=""):k.remove(),Y()&&(null!==fe.previousBodyPadding&&(document.body.style.paddingRight=`${fe.previousBodyPadding}px`,fe.previousBodyPadding=null),(()=>{if(he(document.body,O.iosfix)){const P=parseInt(document.body.style.top,10);$n(document.body,O.iosfix),document.body.style.top="",document.body.scrollTop=-1*P}})(),de()),function Nn(){$n([document.documentElement,document.body],[O.shown,O["height-auto"],O["no-backdrop"],O["toast-shown"]])}()}function Dr(P){P=ae(P);const k=ls.swalPromiseResolve.get(this),j=ci(this);this.isAwaitingPromise()?P.isDismissed||(Ns(this),k(P)):j&&k(P)}const ci=P=>{const k=ft();if(!k)return!1;const j=Be.innerParams.get(P);if(!j||he(k,j.hideClass.popup))return!1;$n(k,j.showClass.popup),Rt(k,j.hideClass.popup);const Ae=Lt();return $n(Ae,j.showClass.backdrop),Rt(Ae,j.hideClass.backdrop),tt(P,k,j),!0};const Ns=P=>{P.isAwaitingPromise()&&(Be.awaitingPromise.delete(P),Be.innerParams.get(P)||P._destroy())},ae=P=>typeof P>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},P),tt=(P,k,j)=>{const Ae=Lt(),kt=In&&fr(k);"function"==typeof j.willClose&&j.willClose(k),kt?Ne(P,k,Ae,j.returnFocus,j.didClose):vr(P,Ae,j.returnFocus,j.didClose)},Ne=(P,k,j,Ae,kt)=>{ht.swalCloseEventFinishedCallback=vr.bind(null,P,j,Ae,kt),k.addEventListener(In,function(bn){bn.target===k&&(ht.swalCloseEventFinishedCallback(),delete ht.swalCloseEventFinishedCallback)})},dt=(P,k)=>{setTimeout(()=>{"function"==typeof k&&k.bind(P.params)(),P._destroy()})};function qt(P,k,j){const Ae=Be.domCache.get(P);k.forEach(kt=>{Ae[kt].disabled=j})}function hn(P,k){if(P)if("radio"===P.type){const Ae=P.parentNode.parentNode.querySelectorAll("input");for(let kt=0;kt<Ae.length;kt++)Ae[kt].disabled=k}else P.disabled=k}const mn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ws=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ds={},xs=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ro=P=>Object.prototype.hasOwnProperty.call(mn,P),Bs=P=>-1!==Ws.indexOf(P),Co=P=>ds[P],oo=P=>{ro(P)||ge(`Unknown parameter "${P}"`)},Or=P=>{xs.includes(P)&&ge(`The parameter "${P}" is incompatible with toasts`)},Os=P=>{Co(P)&&ve(P,Co(P))};const io=P=>{const k={};return Object.keys(P).forEach(j=>{Bs(j)?k[j]=P[j]:ge(`Invalid parameter to update: ${j}`)}),k};const Vi=P=>{ri(P),delete P.params,delete ht.keydownHandler,delete ht.keydownTarget,delete ht.currentInstance},ri=P=>{P.isAwaitingPromise()?(Zr(Be,P),Be.awaitingPromise.set(P,!0)):(Zr(ls,P),Zr(Be,P))},Zr=(P,k)=>{for(const j in P)P[j].delete(k)};var ao=Object.freeze({__proto__:null,hideLoading:rr,disableLoading:rr,getInput:function Ti(P){const k=Be.innerParams.get(P||this),j=Be.domCache.get(P||this);return j?rn(j.popup,k.input):null},close:Dr,isAwaitingPromise:function Qr(){return!!Be.awaitingPromise.get(this)},rejectPromise:function Ki(P){const k=ls.swalPromiseReject.get(this);Ns(this),k&&k(P)},handleAwaitingPromise:Ns,closePopup:Dr,closeModal:Dr,closeToast:Dr,enableButtons:function Bn(){qt(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function qi(){qt(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function bs(){hn(this.getInput(),!1)},disableInput:function Ao(){hn(this.getInput(),!0)},showValidationMessage:function Si(P){const k=Be.domCache.get(this),j=Be.innerParams.get(this);ne(k.validationMessage,P),k.validationMessage.className=O["validation-message"],j.customClass&&j.customClass.validationMessage&&Rt(k.validationMessage,j.customClass.validationMessage),kn(k.validationMessage);const Ae=this.getInput();Ae&&(Ae.setAttribute("aria-invalid",!0),Ae.setAttribute("aria-describedby",O["validation-message"]),Yt(Ae),Rt(Ae,O.inputerror))},resetValidationMessage:function yo(){const P=Be.domCache.get(this);P.validationMessage&&er(P.validationMessage);const k=this.getInput();k&&(k.removeAttribute("aria-invalid"),k.removeAttribute("aria-describedby"),$n(k,O.inputerror))},update:function js(P){const k=ft(),j=Be.innerParams.get(this);if(!k||he(k,j.hideClass.popup))return void ge("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Ae=io(P),kt=Object.assign({},j,Ae);Fn(this,kt),Be.innerParams.set(this,kt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,P),writable:!1,enumerable:!0}})},_destroy:function Xr(){const P=Be.domCache.get(this),k=Be.innerParams.get(this);k?(P.popup&&ht.swalCloseEventFinishedCallback&&(ht.swalCloseEventFinishedCallback(),delete ht.swalCloseEventFinishedCallback),"function"==typeof k.didDestroy&&k.didDestroy(),Vi(this)):ri(this)}});const Fs=P=>{let k=ft();k||new Ar,k=ft();const j=xn();ce()?er(gt()):ns(k,P),kn(j),k.setAttribute("data-loading","true"),k.setAttribute("aria-busy","true"),k.focus()},ns=(P,k)=>{const j=nt(),Ae=xn();!k&&Cr(st())&&(k=st()),kn(j),k&&(er(k),Ae.setAttribute("data-button-to-replace",k.className)),Ae.parentNode.insertBefore(Ae,k),Rt([P,j],O.loading)},Ri=P=>P.checked?1:0,Ia=P=>P.checked?P.value:null,Ls=P=>P.files.length?null!==P.getAttribute("multiple")?P.files:P.files[0]:null,zr=(P,k)=>{const j=ft(),Ae=kt=>{Pi[k.input](j,la(kt),k)};ze(k.inputOptions)||At(k.inputOptions)?(Fs(st()),Je(k.inputOptions).then(kt=>{P.hideLoading(),Ae(kt)})):"object"==typeof k.inputOptions?Ae(k.inputOptions):Ee("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof k.inputOptions)},mr=(P,k)=>{const j=P.getInput();er(j),Je(k.inputValue).then(Ae=>{j.value="number"===k.input?`${parseFloat(Ae)||0}`:`${Ae}`,kn(j),j.focus(),P.hideLoading()}).catch(Ae=>{Ee(`Error in inputValue promise: ${Ae}`),j.value="",kn(j),j.focus(),P.hideLoading()})},Pi={select:(P,k,j)=>{const Ae=Hn(P,O.select),kt=(bn,cr,Bi)=>{const ji=document.createElement("option");ji.value=Bi,ne(ji,cr),ji.selected=So(Bi,j.inputValue),bn.appendChild(ji)};k.forEach(bn=>{const cr=bn[0],Bi=bn[1];if(Array.isArray(Bi)){const ji=document.createElement("optgroup");ji.label=cr,ji.disabled=!1,Ae.appendChild(ji),Bi.forEach(vs=>kt(ji,vs[1],vs[0]))}else kt(Ae,Bi,cr)}),Ae.focus()},radio:(P,k,j)=>{const Ae=Hn(P,O.radio);k.forEach(bn=>{const cr=bn[0],Bi=bn[1],ji=document.createElement("input"),vs=document.createElement("label");ji.type="radio",ji.name=O.radio,ji.value=cr,So(cr,j.inputValue)&&(ji.checked=!0);const Jo=document.createElement("span");ne(Jo,Bi),Jo.className=O.label,vs.appendChild(ji),vs.appendChild(Jo),Ae.appendChild(vs)});const kt=Ae.querySelectorAll("input");kt.length&&kt[0].focus()}},la=P=>{const k=[];return typeof Map<"u"&&P instanceof Map?P.forEach((j,Ae)=>{let kt=j;"object"==typeof kt&&(kt=la(kt)),k.push([Ae,kt])}):Object.keys(P).forEach(j=>{let Ae=P[j];"object"==typeof Ae&&(Ae=la(Ae)),k.push([j,Ae])}),k},So=(P,k)=>k&&k.toString()===P.toString(),W=(P,k)=>{const j=Be.innerParams.get(P);if(!j.input)return void Ee(`The "input" parameter is needed to be set when using returnInputValueOn${Xe(k)}`);const Ae=((P,k)=>{const j=P.getInput();if(!j)return null;switch(k.input){case"checkbox":return Ri(j);case"radio":return Ia(j);case"file":return Ls(j);default:return k.inputAutoTrim?j.value.trim():j.value}})(P,j);j.inputValidator?z(P,Ae,k):P.getInput().checkValidity()?"deny"===k?pe(P,Ae):Mt(P,Ae):(P.enableButtons(),P.showValidationMessage(j.validationMessage))},z=(P,k,j)=>{const Ae=Be.innerParams.get(P);P.disableInput(),Promise.resolve().then(()=>Je(Ae.inputValidator(k,Ae.validationMessage))).then(bn=>{P.enableButtons(),P.enableInput(),bn?P.showValidationMessage(bn):"deny"===j?pe(P,k):Mt(P,k)})},pe=(P,k)=>{const j=Be.innerParams.get(P||void 0);j.showLoaderOnDeny&&Fs(ct()),j.preDeny?(Be.awaitingPromise.set(P||void 0,!0),Promise.resolve().then(()=>Je(j.preDeny(k,j.validationMessage))).then(kt=>{!1===kt?(P.hideLoading(),Ns(P)):P.close({isDenied:!0,value:typeof kt>"u"?k:kt})}).catch(kt=>ut(P||void 0,kt))):P.close({isDenied:!0,value:k})},Pe=(P,k)=>{P.close({isConfirmed:!0,value:k})},ut=(P,k)=>{P.rejectPromise(k)},Mt=(P,k)=>{const j=Be.innerParams.get(P||void 0);j.showLoaderOnConfirm&&Fs(),j.preConfirm?(P.resetValidationMessage(),Be.awaitingPromise.set(P||void 0,!0),Promise.resolve().then(()=>Je(j.preConfirm(k,j.validationMessage))).then(kt=>{Cr(Wt())||!1===kt?(P.hideLoading(),Ns(P)):Pe(P,typeof kt>"u"?k:kt)}).catch(kt=>ut(P||void 0,kt))):Pe(P,k)},Tn=(P,k,j)=>{k.popup.onclick=()=>{const Ae=Be.innerParams.get(P);Ae&&(yn(Ae)||Ae.timer||Ae.input)||j(Ht.close)}},yn=P=>P.showConfirmButton||P.showDenyButton||P.showCancelButton||P.showCloseButton;let hr=!1;const zn=P=>{P.popup.onmousedown=()=>{P.container.onmouseup=function(k){P.container.onmouseup=void 0,k.target===P.container&&(hr=!0)}}},Tr=P=>{P.container.onmousedown=()=>{P.popup.onmouseup=function(k){P.popup.onmouseup=void 0,(k.target===P.popup||P.popup.contains(k.target))&&(hr=!0)}}},mi=(P,k,j)=>{k.container.onclick=Ae=>{const kt=Be.innerParams.get(P);hr?hr=!1:Ae.target===k.container&&it(kt.allowOutsideClick)&&j(Ht.backdrop)}},Ui=P=>P instanceof Element||(P=>"object"==typeof P&&P.jquery)(P);const di=()=>{if(ht.timeout)return(()=>{const P=mt(),k=parseInt(window.getComputedStyle(P).width);P.style.removeProperty("transition"),P.style.width="100%";const Ae=k/parseInt(window.getComputedStyle(P).width)*100;P.style.removeProperty("transition"),P.style.width=`${Ae}%`})(),ht.timeout.stop()},bi=()=>{if(ht.timeout){const P=ht.timeout.start();return dn(P),P}};let As=!1;const Gs={};const Ta=P=>{for(let k=P.target;k&&k!==document;k=k.parentNode)for(const j in Gs){const Ae=k.getAttribute(j);if(Ae)return void Gs[j].fire({template:Ae})}};var Zo=Object.freeze({__proto__:null,isValidParameter:ro,isUpdatableParameter:Bs,isDeprecatedParameter:Co,argsToParams:P=>{const k={};return"object"!=typeof P[0]||Ui(P[0])?["title","html","icon"].forEach((j,Ae)=>{const kt=P[Ae];"string"==typeof kt||Ui(kt)?k[j]=kt:void 0!==kt&&Ee(`Unexpected type of ${j}! Expected "string" or "Element", got ${typeof kt}`)}):Object.assign(k,P[0]),k},getContainer:Lt,getPopup:ft,getTitle:Re,getHtmlContainer:Qe,getImage:qe,getIcon:gt,getIconContent:()=>Gt(O["icon-content"]),getInputLabel:()=>Gt(O["input-label"]),getCloseButton:an,getActions:nt,getConfirmButton:st,getDenyButton:ct,getCancelButton:On,getLoader:xn,getFooter:_n,getTimerProgressBar:mt,getFocusableElements:He,getValidationMessage:Wt,getProgressSteps:vt,isLoading:()=>ft().hasAttribute("data-loading"),isVisible:()=>Cr(ft()),clickConfirm:Se,clickDeny:()=>ct()&&ct().click(),clickCancel:()=>On()&&On().click(),fire:function li(){for(var k=arguments.length,j=new Array(k),Ae=0;Ae<k;Ae++)j[Ae]=arguments[Ae];return new this(...j)},mixin:function is(P){return class k extends(this){_main(Ae,kt){return super._main(Ae,Object.assign({},P,kt))}}},showLoading:Fs,enableLoading:Fs,getTimerLeft:()=>ht.timeout&&ht.timeout.getTimerLeft(),stopTimer:di,resumeTimer:bi,toggleTimer:()=>{const P=ht.timeout;return P&&(P.running?di():bi())},increaseTimer:P=>{if(ht.timeout){const k=ht.timeout.increase(P);return dn(k,!0),k}},isTimerRunning:()=>ht.timeout&&ht.timeout.isRunning(),bindClickHandler:function _o(){Gs[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,As||(document.body.addEventListener("click",Ta),As=!0)}});class co{constructor(k,j){this.callback=k,this.remaining=j,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(k){const j=this.running;return j&&this.stop(),this.remaining+=k,j&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Oa=["swal-title","swal-html","swal-footer"],La=P=>{const k={};return Array.from(P.querySelectorAll("swal-param")).forEach(Ae=>{Di(Ae,["name","value"]);const kt=Ae.getAttribute("name"),bn=Ae.getAttribute("value");k[kt]="boolean"==typeof mn[kt]?"false"!==bn:"object"==typeof mn[kt]?JSON.parse(bn):bn}),k},es=P=>{const k={};return Array.from(P.querySelectorAll("swal-function-param")).forEach(Ae=>{const kt=Ae.getAttribute("name"),bn=Ae.getAttribute("value");k[kt]=new Function(`return ${bn}`)()}),k},Po=P=>{const k={};return Array.from(P.querySelectorAll("swal-button")).forEach(Ae=>{Di(Ae,["type","color","aria-label"]);const kt=Ae.getAttribute("type");k[`${kt}ButtonText`]=Ae.innerHTML,k[`show${Xe(kt)}Button`]=!0,Ae.hasAttribute("color")&&(k[`${kt}ButtonColor`]=Ae.getAttribute("color")),Ae.hasAttribute("aria-label")&&(k[`${kt}ButtonAriaLabel`]=Ae.getAttribute("aria-label"))}),k},ii=P=>{const k={},j=P.querySelector("swal-image");return j&&(Di(j,["src","width","height","alt"]),j.hasAttribute("src")&&(k.imageUrl=j.getAttribute("src")),j.hasAttribute("width")&&(k.imageWidth=j.getAttribute("width")),j.hasAttribute("height")&&(k.imageHeight=j.getAttribute("height")),j.hasAttribute("alt")&&(k.imageAlt=j.getAttribute("alt"))),k},$s=P=>{const k={},j=P.querySelector("swal-icon");return j&&(Di(j,["type","color"]),j.hasAttribute("type")&&(k.icon=j.getAttribute("type")),j.hasAttribute("color")&&(k.iconColor=j.getAttribute("color")),k.iconHtml=j.innerHTML),k},Lo=P=>{const k={},j=P.querySelector("swal-input");j&&(Di(j,["type","label","placeholder","value"]),k.input=j.getAttribute("type")||"text",j.hasAttribute("label")&&(k.inputLabel=j.getAttribute("label")),j.hasAttribute("placeholder")&&(k.inputPlaceholder=j.getAttribute("placeholder")),j.hasAttribute("value")&&(k.inputValue=j.getAttribute("value")));const Ae=Array.from(P.querySelectorAll("swal-input-option"));return Ae.length&&(k.inputOptions={},Ae.forEach(kt=>{Di(kt,["value"]);const bn=kt.getAttribute("value");k.inputOptions[bn]=kt.innerHTML})),k},Yo=(P,k)=>{const j={};for(const Ae in k){const kt=k[Ae],bn=P.querySelector(kt);bn&&(Di(bn,[]),j[kt.replace(/^swal-/,"")]=bn.innerHTML.trim())}return j},vo=P=>{const k=Oa.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(P.children).forEach(j=>{const Ae=j.tagName.toLowerCase();k.includes(Ae)||ge(`Unrecognized element <${Ae}>`)})},Di=(P,k)=>{Array.from(P.attributes).forEach(j=>{-1===k.indexOf(j.name)&&ge([`Unrecognized attribute "${j.name}" on <${P.tagName.toLowerCase()}>.`,k.length?`Allowed attributes are: ${k.join(", ")}`:"To set the value, use HTML within the element."])})},$r=P=>{const k=Lt(),j=ft();"function"==typeof P.willOpen&&P.willOpen(j);const kt=window.getComputedStyle(document.body).overflowY;qa(k,j,P),setTimeout(()=>{ba(k,j)},10),Y()&&(Da(k,P.scrollbarPadding,kt),Array.from(document.body.children).forEach(k=>{k===Lt()||k.contains(Lt())||(k.hasAttribute("aria-hidden")&&k.setAttribute("data-previous-aria-hidden",k.getAttribute("aria-hidden")),k.setAttribute("aria-hidden","true"))})),!ce()&&!ht.previousActiveElement&&(ht.previousActiveElement=document.activeElement),"function"==typeof P.didOpen&&setTimeout(()=>P.didOpen(j)),$n(k,O["no-transition"])},Fr=P=>{const k=ft();if(P.target!==k)return;const j=Lt();k.removeEventListener(In,Fr),j.style.overflowY="auto"},ba=(P,k)=>{In&&fr(k)?(P.style.overflowY="hidden",k.addEventListener(In,Fr)):P.style.overflowY="auto"},Da=(P,k,j)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!he(document.body,O.iosfix)){const k=document.body.scrollTop;document.body.style.top=-1*k+"px",Rt(document.body,O.iosfix),Me(),ee()}})(),k&&"hidden"!==j&&Kr(),setTimeout(()=>{P.scrollTop=0})},qa=(P,k,j)=>{Rt(P,j.showClass.backdrop),k.style.setProperty("opacity","0","important"),kn(k,"grid"),setTimeout(()=>{Rt(k,j.showClass.popup),k.style.removeProperty("opacity")},10),Rt([document.documentElement,document.body],O.shown),j.heightAuto&&j.backdrop&&!j.toast&&Rt([document.documentElement,document.body],O["height-auto"])};var ha={email:(P,k)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(P)?Promise.resolve():Promise.resolve(k||"Invalid email address"),url:(P,k)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(P)?Promise.resolve():Promise.resolve(k||"Invalid URL")};function Ca(P){(function pc(P){P.inputValidator||Object.keys(ha).forEach(k=>{P.input===k&&(P.inputValidator=ha[k])})})(P),P.showLoaderOnConfirm&&!P.preConfirm&&ge("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Aa(P){(!P.target||"string"==typeof P.target&&!document.querySelector(P.target)||"string"!=typeof P.target&&!P.target.appendChild)&&(ge('Target parameter is not valid, defaulting to "body"'),P.target="body")}(P),"string"==typeof P.title&&(P.title=P.title.split("\n").join("<br />")),dr(P)}let Hs;class Wr{constructor(){if(typeof window>"u")return;Hs=this;for(var k=arguments.length,j=new Array(k),Ae=0;Ae<k;Ae++)j[Ae]=arguments[Ae];const kt=Object.freeze(this.constructor.argsToParams(j));Object.defineProperties(this,{params:{value:kt,writable:!1,enumerable:!0,configurable:!0}});const bn=Hs._main(Hs.params);Be.promise.set(this,bn)}_main(k){let j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(P=>{!1===P.backdrop&&P.allowOutsideClick&&ge('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const k in P)oo(k),P.toast&&Or(k),Os(k)})(Object.assign({},j,k)),ht.currentInstance&&(ht.currentInstance._destroy(),Y()&&de()),ht.currentInstance=Hs;const Ae=Xn(k,j);Ca(Ae),Object.freeze(Ae),ht.timeout&&(ht.timeout.stop(),delete ht.timeout),clearTimeout(ht.restoreFocusTimeout);const kt=hi(Hs);return Fn(Hs,Ae),Be.innerParams.set(Hs,Ae),Jt(Hs,kt,Ae)}then(k){return Be.promise.get(this).then(k)}finally(k){return Be.promise.get(this).finally(k)}}const Jt=(P,k,j)=>new Promise((Ae,kt)=>{const bn=cr=>{P.close({isDismissed:!0,dismiss:cr})};ls.swalPromiseResolve.set(P,Ae),ls.swalPromiseReject.set(P,kt),k.confirmButton.onclick=()=>{(P=>{const k=Be.innerParams.get(P);P.disableButtons(),k.input?W(P,"confirm"):Mt(P,!0)})(P)},k.denyButton.onclick=()=>{(P=>{const k=Be.innerParams.get(P);P.disableButtons(),k.returnInputValueOnDeny?W(P,"deny"):pe(P,!1)})(P)},k.cancelButton.onclick=()=>{((P,k)=>{P.disableButtons(),k(Ht.cancel)})(P,bn)},k.closeButton.onclick=()=>{bn(Ht.close)},((P,k,j)=>{Be.innerParams.get(P).toast?Tn(P,k,j):(zn(k),Tr(k),mi(P,k,j))})(P,k,bn),((P,k,j,Ae)=>{ln(k),j.toast||(k.keydownHandler=kt=>no(P,kt,Ae),k.keydownTarget=j.keydownListenerCapture?window:ft(),k.keydownListenerCapture=j.keydownListenerCapture,k.keydownTarget.addEventListener("keydown",k.keydownHandler,{capture:k.keydownListenerCapture}),k.keydownHandlerAdded=!0)})(P,ht,j,bn),((P,k)=>{"select"===k.input||"radio"===k.input?zr(P,k):["text","email","number","tel","textarea"].includes(k.input)&&(ze(k.inputValue)||At(k.inputValue))&&(Fs(st()),mr(P,k))})(P,j),$r(j),zs(ht,j,bn),ki(k,j),setTimeout(()=>{k.container.scrollTop=0})}),Xn=(P,k)=>{const j=(P=>{const k="string"==typeof P.template?document.querySelector(P.template):P.template;if(!k)return{};const j=k.content;return vo(j),Object.assign(La(j),es(j),Po(j),ii(j),$s(j),Lo(j),Yo(j,Oa))})(P),Ae=Object.assign({},mn,k,j,P);return Ae.showClass=Object.assign({},mn.showClass,Ae.showClass),Ae.hideClass=Object.assign({},mn.hideClass,Ae.hideClass),Ae},hi=P=>{const k={popup:ft(),container:Lt(),actions:nt(),confirmButton:st(),denyButton:ct(),cancelButton:On(),loader:xn(),closeButton:an(),validationMessage:Wt(),progressSteps:vt()};return Be.domCache.set(P,k),k},zs=(P,k,j)=>{const Ae=mt();er(Ae),k.timer&&(P.timeout=new co(()=>{j("timer"),delete P.timeout},k.timer),k.timerProgressBar&&(kn(Ae),Tt(Ae,k,"timerProgressBar"),setTimeout(()=>{P.timeout&&P.timeout.running&&dn(k.timer)})))},ki=(P,k)=>{if(!k.toast){if(!it(k.allowEnterKey))return void Eo();Vs(P,k)||ir(0,-1,1)}},Vs=(P,k)=>k.focusDeny&&Cr(P.denyButton)?(P.denyButton.focus(),!0):k.focusCancel&&Cr(P.cancelButton)?(P.cancelButton.focus(),!0):!(!k.focusConfirm||!Cr(P.confirmButton)||(P.confirmButton.focus(),0)),Eo=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const P=new Date,k=localStorage.getItem("swal-initiation");k?(P.getTime()-Date.parse(k))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const j=document.createElement("audio");j.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",j.loop=!0,document.body.appendChild(j),setTimeout(()=>{j.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${P}`)}Object.assign(Wr.prototype,ao),Object.assign(Wr,Zo),Object.keys(ao).forEach(P=>{Wr[P]=function(){if(Hs)return Hs[P](...arguments)}}),Wr.DismissReason=Ht,Wr.version="11.6.13";const Ar=Wr;return Ar.default=Ar,Ar}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Be,L){var T=Be.createElement("style");if(Be.getElementsByTagName("head")[0].appendChild(T),T.styleSheet)T.styleSheet.disabled||(T.styleSheet.cssText=L);else try{T.innerHTML=L}catch{T.innerText=L}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8041:(En,Be,L)=>{"use strict";L.d(Be,{$b:()=>O,Vy:()=>ge});const T=[];var O=function(we){return we[we.DEBUG=0]="DEBUG",we[we.VERBOSE=1]="VERBOSE",we[we.INFO=2]="INFO",we[we.WARN=3]="WARN",we[we.ERROR=4]="ERROR",we[we.SILENT=5]="SILENT",we}(O||{});const q={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},I=O.INFO,Ce={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},Xe=(we,ve,...it)=>{if(ve<we.logLevel)return;const ze=(new Date).toISOString(),Je=Ce[ve];if(!Je)throw new Error(`Attempted to log a message with an invalid logType (value: ${ve})`);console[Je](`[${ze}]  ${we.name}:`,...it)};class ge{constructor(ve){this.name=ve,this._logLevel=I,this._logHandler=Xe,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(ve){if(!(ve in O))throw new TypeError(`Invalid value "${ve}" assigned to \`logLevel\``);this._logLevel=ve}setLogLevel(ve){this._logLevel="string"==typeof ve?q[ve]:ve}get logHandler(){return this._logHandler}set logHandler(ve){if("function"!=typeof ve)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ve}get userLogHandler(){return this._userLogHandler}set userLogHandler(ve){this._userLogHandler=ve}debug(...ve){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...ve),this._logHandler(this,O.DEBUG,...ve)}log(...ve){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...ve),this._logHandler(this,O.VERBOSE,...ve)}info(...ve){this._userLogHandler&&this._userLogHandler(this,O.INFO,...ve),this._logHandler(this,O.INFO,...ve)}warn(...ve){this._userLogHandler&&this._userLogHandler(this,O.WARN,...ve),this._logHandler(this,O.WARN,...ve)}error(...ve){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...ve),this._logHandler(this,O.ERROR,...ve)}}},8071:(En,Be,L)=>{"use strict";function T(O){return"function"==typeof O}L.d(Be,{T:()=>T})},8359:(En,Be,L)=>{"use strict";L.d(Be,{Kn:()=>Xe,yU:()=>Ce,Uv:()=>ge});var T=L(8071);const q=(0,L(1853).L)(je=>function(ve){je(this),this.message=ve?`${ve.length} errors occurred during unsubscription:\n${ve.map((it,ze)=>`${ze+1}) ${it.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ve});var I=L(7908);class Ce{constructor(we){this.initialTeardown=we,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let we;if(!this.closed){this.closed=!0;const{_parentage:ve}=this;if(ve)if(this._parentage=null,Array.isArray(ve))for(const Je of ve)Je.remove(this);else ve.remove(this);const{initialTeardown:it}=this;if((0,T.T)(it))try{it()}catch(Je){we=Je instanceof q?Je.errors:[Je]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Je of ze)try{Ee(Je)}catch(At){we=we??[],At instanceof q?we=[...we,...At.errors]:we.push(At)}}if(we)throw new q(we)}}add(we){var ve;if(we&&we!==this)if(this.closed)Ee(we);else{if(we instanceof Ce){if(we.closed||we._hasParent(this))return;we._addParent(this)}(this._finalizers=null!==(ve=this._finalizers)&&void 0!==ve?ve:[]).push(we)}}_hasParent(we){const{_parentage:ve}=this;return ve===we||Array.isArray(ve)&&ve.includes(we)}_addParent(we){const{_parentage:ve}=this;this._parentage=Array.isArray(ve)?(ve.push(we),ve):ve?[ve,we]:we}_removeParent(we){const{_parentage:ve}=this;ve===we?this._parentage=null:Array.isArray(ve)&&(0,I.o)(ve,we)}remove(we){const{_finalizers:ve}=this;ve&&(0,I.o)(ve,we),we instanceof Ce&&we._removeParent(this)}}Ce.EMPTY=(()=>{const je=new Ce;return je.closed=!0,je})();const Xe=Ce.EMPTY;function ge(je){return je instanceof Ce||je&&"closed"in je&&(0,T.T)(je.remove)&&(0,T.T)(je.add)&&(0,T.T)(je.unsubscribe)}function Ee(je){(0,T.T)(je)?je():je.unsubscribe()}},8399:(En,Be,L)=>{"use strict";var T=L(6048),O=L(9377),q=L(9361),I=L(1360);const Ce=new I.nKC("");let Xe=(()=>{class _{_zone;_plugins;_eventNameToPlugin=new Map;constructor(h,m){this._zone=m,h.forEach(C=>{C.manager=this}),this._plugins=h.slice().reverse()}addEventListener(h,m,C,M){return this._findPluginFor(m).addEventListener(h,m,C,M)}getZone(){return this._zone}_findPluginFor(h){let m=this._eventNameToPlugin.get(h);if(m)return m;if(m=this._plugins.find(M=>M.supports(h)),!m)throw new I.wOt(5101,!1);return this._eventNameToPlugin.set(h,m),m}static \u0275fac=function(m){return new(m||_)(I.KVO(Ce),I.KVO(I.SKi))};static \u0275prov=I.jDH({token:_,factory:_.\u0275fac})}return _})();class ge{_doc;constructor(l){this._doc=l}manager}const Ee="ng-app-id";function je(_){for(const l of _)l.remove()}function we(_,l){const h=l.createElement("style");return h.textContent=_,h}function it(_,l){const h=l.createElement("link");return h.setAttribute("rel","stylesheet"),h.setAttribute("href",_),h}let ze=(()=>{class _{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(h,m,C,M={}){this.doc=h,this.appId=m,this.nonce=C,this.isServer=(0,O.Vy)(M),function ve(_,l,h,m){const C=_.head?.querySelectorAll(`style[${Ee}="${l}"],link[${Ee}="${l}"]`);if(C)for(const M of C)M.removeAttribute(Ee),M instanceof HTMLLinkElement?m.set(M.href.slice(M.href.lastIndexOf("/")+1),{usage:0,elements:[M]}):M.textContent&&h.set(M.textContent,{usage:0,elements:[M]})}(h,m,this.inline,this.external),this.hosts.add(h.head)}addStyles(h,m){for(const C of h)this.addUsage(C,this.inline,we);m?.forEach(C=>this.addUsage(C,this.external,it))}removeStyles(h,m){for(const C of h)this.removeUsage(C,this.inline);m?.forEach(C=>this.removeUsage(C,this.external))}addUsage(h,m,C){const M=m.get(h);M?M.usage++:m.set(h,{usage:1,elements:[...this.hosts].map(G=>this.addElement(G,C(h,this.doc)))})}removeUsage(h,m){const C=m.get(h);C&&(C.usage--,C.usage<=0&&(je(C.elements),m.delete(h)))}ngOnDestroy(){for(const[,{elements:h}]of[...this.inline,...this.external])je(h);this.hosts.clear()}addHost(h){this.hosts.add(h);for(const[m,{elements:C}]of this.inline)C.push(this.addElement(h,we(m,this.doc)));for(const[m,{elements:C}]of this.external)C.push(this.addElement(h,it(m,this.doc)))}removeHost(h){this.hosts.delete(h)}addElement(h,m){return this.nonce&&m.setAttribute("nonce",this.nonce),this.isServer&&m.setAttribute(Ee,this.appId),h.appendChild(m)}static \u0275fac=function(m){return new(m||_)(I.KVO(q.q),I.KVO(I.sZ2),I.KVO(I.BIS,8),I.KVO(I.Agw))};static \u0275prov=I.jDH({token:_,factory:_.\u0275fac})}return _})();const Je={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},At=/%COMP%/g,Re=new I.nKC("",{providedIn:"root",factory:()=>!0});function vt(_,l){return l.map(h=>h.replace(At,_))}let st=(()=>{class _{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(h,m,C,M,G,Q,Ie,Ke=null,Ct=null){this.eventManager=h,this.sharedStylesHost=m,this.appId=C,this.removeStylesOnCompDestroy=M,this.doc=G,this.platformId=Q,this.ngZone=Ie,this.nonce=Ke,this.tracingService=Ct,this.platformIsServer=(0,O.Vy)(Q),this.defaultRenderer=new ct(h,G,Ie,this.platformIsServer,this.tracingService)}createRenderer(h,m){if(!h||!m)return this.defaultRenderer;this.platformIsServer&&m.encapsulation===I.gXe.ShadowDom&&(m={...m,encapsulation:I.gXe.Emulated});const C=this.getOrCreateRenderer(h,m);return C instanceof mt?C.applyToHost(h):C instanceof _n&&C.applyStyles(),C}getOrCreateRenderer(h,m){const C=this.rendererByCompId;let M=C.get(m.id);if(!M){const G=this.doc,Q=this.ngZone,Ie=this.eventManager,Ke=this.sharedStylesHost,Ct=this.removeStylesOnCompDestroy,fn=this.platformIsServer,Zn=this.tracingService;switch(m.encapsulation){case I.gXe.Emulated:M=new mt(Ie,Ke,m,this.appId,Ct,G,Q,fn,Zn);break;case I.gXe.ShadowDom:return new nt(Ie,Ke,h,m,G,Q,this.nonce,fn,Zn);default:M=new _n(Ie,Ke,m,Ct,G,Q,fn,Zn)}C.set(m.id,M)}return M}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(h){this.rendererByCompId.delete(h)}static \u0275fac=function(m){return new(m||_)(I.KVO(Xe),I.KVO(ze),I.KVO(I.sZ2),I.KVO(Re),I.KVO(q.q),I.KVO(I.Agw),I.KVO(I.SKi),I.KVO(I.BIS),I.KVO(I.Lf2,8))};static \u0275prov=I.jDH({token:_,factory:_.\u0275fac})}return _})();class ct{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(l,h,m,C,M){this.eventManager=l,this.doc=h,this.ngZone=m,this.platformIsServer=C,this.tracingService=M}destroy(){}destroyNode=null;createElement(l,h){return h?this.doc.createElementNS(Je[h]||h,l):this.doc.createElement(l)}createComment(l){return this.doc.createComment(l)}createText(l){return this.doc.createTextNode(l)}appendChild(l,h){(On(l)?l.content:l).appendChild(h)}insertBefore(l,h,m){l&&(On(l)?l.content:l).insertBefore(h,m)}removeChild(l,h){h.remove()}selectRootElement(l,h){let m="string"==typeof l?this.doc.querySelector(l):l;if(!m)throw new I.wOt(-5104,!1);return h||(m.textContent=""),m}parentNode(l){return l.parentNode}nextSibling(l){return l.nextSibling}setAttribute(l,h,m,C){if(C){h=C+":"+h;const M=Je[C];M?l.setAttributeNS(M,h,m):l.setAttribute(h,m)}else l.setAttribute(h,m)}removeAttribute(l,h,m){if(m){const C=Je[m];C?l.removeAttributeNS(C,h):l.removeAttribute(`${m}:${h}`)}else l.removeAttribute(h)}addClass(l,h){l.classList.add(h)}removeClass(l,h){l.classList.remove(h)}setStyle(l,h,m,C){C&(I.czy.DashCase|I.czy.Important)?l.style.setProperty(h,m,C&I.czy.Important?"important":""):l.style[h]=m}removeStyle(l,h,m){m&I.czy.DashCase?l.style.removeProperty(h):l.style[h]=""}setProperty(l,h,m){null!=l&&(l[h]=m)}setValue(l,h){l.nodeValue=h}listen(l,h,m,C){if("string"==typeof l&&!(l=(0,T.rb)().getGlobalEventTarget(this.doc,l)))throw new I.wOt(5102,!1);let M=this.decoratePreventDefault(m);return this.tracingService?.wrapEventListener&&(M=this.tracingService.wrapEventListener(l,h,M)),this.eventManager.addEventListener(l,h,M,C)}decoratePreventDefault(l){return h=>{if("__ngUnwrap__"===h)return l;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>l(h)):l(h))&&h.preventDefault()}}}function On(_){return"TEMPLATE"===_.tagName&&void 0!==_.content}class nt extends ct{sharedStylesHost;hostEl;shadowRoot;constructor(l,h,m,C,M,G,Q,Ie,Ke){super(l,M,G,Ie,Ke),this.sharedStylesHost=h,this.hostEl=m,this.shadowRoot=m.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Ct=C.styles;Ct=vt(C.id,Ct);for(const Zn of Ct){const Ln=document.createElement("style");Q&&Ln.setAttribute("nonce",Q),Ln.textContent=Zn,this.shadowRoot.appendChild(Ln)}const fn=C.getExternalStyles?.();if(fn)for(const Zn of fn){const Ln=it(Zn,M);Q&&Ln.setAttribute("nonce",Q),this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(l){return l===this.hostEl?this.shadowRoot:l}appendChild(l,h){return super.appendChild(this.nodeOrShadowRoot(l),h)}insertBefore(l,h,m){return super.insertBefore(this.nodeOrShadowRoot(l),h,m)}removeChild(l,h){return super.removeChild(null,h)}parentNode(l){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(l)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _n extends ct{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(l,h,m,C,M,G,Q,Ie,Ke){super(l,M,G,Q,Ie),this.sharedStylesHost=h,this.removeStylesOnCompDestroy=C;let Ct=m.styles;this.styles=Ke?vt(Ke,Ct):Ct,this.styleUrls=m.getExternalStyles?.(Ke)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class mt extends _n{contentAttr;hostAttr;constructor(l,h,m,C,M,G,Q,Ie,Ke){const Ct=C+"-"+m.id;super(l,h,m,M,G,Q,Ie,Ke,Ct),this.contentAttr=function Qe(_){return"_ngcontent-%COMP%".replace(At,_)}(Ct),this.hostAttr=function qe(_){return"_nghost-%COMP%".replace(At,_)}(Ct)}applyToHost(l){this.applyStyles(),this.setAttribute(l,this.hostAttr,"")}createElement(l,h){const m=super.createElement(l,h);return super.setAttribute(m,this.contentAttr,""),m}}class an extends T.qj{supportsDOMEvents=!0;static makeCurrent(){(0,T.ig)(new an)}onAndCancel(l,h,m,C){return l.addEventListener(h,m,C),()=>{l.removeEventListener(h,m,C)}}dispatchEvent(l,h){l.dispatchEvent(h)}remove(l){l.remove()}createElement(l,h){return(h=h||this.getDefaultDocument()).createElement(l)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(l){return l.nodeType===Node.ELEMENT_NODE}isShadowRoot(l){return l instanceof DocumentFragment}getGlobalEventTarget(l,h){return"window"===h?window:"document"===h?l:"body"===h?l.body:null}getBaseHref(l){const h=function He(){return Ot=Ot||document.head.querySelector("base"),Ot?Ot.getAttribute("href"):null}();return null==h?null:function Y(_){return new URL(_,document.baseURI).pathname}(h)}resetBaseElement(){Ot=null}getUserAgent(){return window.navigator.userAgent}getCookie(l){return(0,O.bS)(document.cookie,l)}}let Ot=null,le=(()=>{class _{build(){return new XMLHttpRequest}static \u0275fac=function(m){return new(m||_)};static \u0275prov=I.jDH({token:_,factory:_.\u0275fac})}return _})(),fe=(()=>{class _ extends ge{constructor(h){super(h)}supports(h){return!0}addEventListener(h,m,C,M){return h.addEventListener(m,C,M),()=>this.removeEventListener(h,m,C,M)}removeEventListener(h,m,C,M){return h.removeEventListener(m,C,M)}static \u0275fac=function(m){return new(m||_)(I.KVO(q.q))};static \u0275prov=I.jDH({token:_,factory:_.\u0275fac})}return _})();const ne=["alt","control","meta","shift"],he={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ye={alt:_=>_.altKey,control:_=>_.ctrlKey,meta:_=>_.metaKey,shift:_=>_.shiftKey};let Tt=(()=>{class _ extends ge{constructor(h){super(h)}supports(h){return null!=_.parseEventName(h)}addEventListener(h,m,C,M){const G=_.parseEventName(m),Q=_.eventCallback(G.fullKey,C,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.rb)().onAndCancel(h,G.domEventName,Q,M))}static parseEventName(h){const m=h.toLowerCase().split("."),C=m.shift();if(0===m.length||"keydown"!==C&&"keyup"!==C)return null;const M=_._normalizeKey(m.pop());let G="",Q=m.indexOf("code");if(Q>-1&&(m.splice(Q,1),G="code."),ne.forEach(Ke=>{const Ct=m.indexOf(Ke);Ct>-1&&(m.splice(Ct,1),G+=Ke+".")}),G+=M,0!=m.length||0===M.length)return null;const Ie={};return Ie.domEventName=C,Ie.fullKey=G,Ie}static matchEventFullKeyCode(h,m){let C=he[h.key]||h.key,M="";return m.indexOf("code.")>-1&&(C=h.code,M="code."),!(null==C||!C)&&(C=C.toLowerCase()," "===C?C="space":"."===C&&(C="dot"),ne.forEach(G=>{G!==C&&(0,Ye[G])(h)&&(M+=G+".")}),M+=C,M===m)}static eventCallback(h,m,C){return M=>{_.matchEventFullKeyCode(M,h)&&C.runGuarded(()=>m(M))}}static _normalizeKey(h){return"esc"===h?"escape":h}static \u0275fac=function(m){return new(m||_)(I.KVO(q.q))};static \u0275prov=I.jDH({token:_,factory:_.\u0275fac})}return _})();function Jn(_){return{appProviders:[...Cr,..._?.providers??[]],platformProviders:kn}}const kn=[{provide:I.Agw,useValue:O.Zn},{provide:I.PLl,useValue:function $n(){an.makeCurrent()},multi:!0},{provide:q.q,useFactory:function Kt(){return(0,I.TL$)(document),document}}],Cr=[{provide:I.H8p,useValue:"root"},{provide:I.zcH,useFactory:function Hn(){return new I.zcH}},{provide:Ce,useClass:fe,multi:!0,deps:[q.q]},{provide:Ce,useClass:Tt,multi:!0,deps:[q.q]},st,ze,Xe,{provide:I._9s,useExisting:st},{provide:O.N0,useClass:le},[]];var sn=L(969);function dn(_){return new I.wOt(3e3,!1)}function ye(_){switch(_.length){case 0:return new sn.sf;case 1:return _[0];default:return new sn.PZ(_)}}function Ve(_,l,h=new Map,m=new Map){const C=[],M=[];let G=-1,Q=null;if(l.forEach(Ie=>{const Ke=Ie.get("offset"),Ct=Ke==G,fn=Ct&&Q||new Map;Ie.forEach((Zn,Ln)=>{let Wn=Ln,nr=Zn;if("offset"!==Ln)switch(Wn=_.normalizePropertyName(Wn,C),nr){case sn.FX:nr=h.get(Ln);break;case sn.kp:nr=m.get(Ln);break;default:nr=_.normalizeStyleValue(Ln,Wn,nr,C)}fn.set(Wn,nr)}),Ct||M.push(fn),Q=fn,G=Ke}),C.length)throw function Fe(){return new I.wOt(3502,!1)}();return M}function xt(_,l,h,m){switch(l){case"start":_.onStart(()=>m(h&&Ze(h,"start",_)));break;case"done":_.onDone(()=>m(h&&Ze(h,"done",_)));break;case"destroy":_.onDestroy(()=>m(h&&Ze(h,"destroy",_)))}}function Ze(_,l,h){const M=Zt(_.element,_.triggerName,_.fromState,_.toState,l||_.phaseName,h.totalTime??_.totalTime,!!h.disabled),G=_._data;return null!=G&&(M._data=G),M}function Zt(_,l,h,m,C="",M=0,G){return{element:_,triggerName:l,fromState:h,toState:m,phaseName:C,totalTime:M,disabled:!!G}}function wn(_,l,h){let m=_.get(l);return m||_.set(l,m=h),m}function gr(_){const l=_.indexOf(":");return[_.substring(1,l),_.slice(l+1)]}const te=typeof document>"u"?null:document.documentElement;function oe(_){const l=_.parentNode||_.host||null;return l===te?null:l}let ot=null,Dt=!1;function St(_,l){for(;l;){if(l===_)return!0;l=oe(l)}return!1}function wt(_,l,h){if(h)return Array.from(_.querySelectorAll(l));const m=_.querySelector(l);return m?[m]:[]}const Rn="ng-enter",cn="ng-leave",Fn="ng-trigger",rr=".ng-trigger",ai="ng-animating",Ti=".ng-animating";function _e(_){if("number"==typeof _)return _;const l=_.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:Se(parseFloat(l[1]),l[2])}function Se(_,l){return"s"===l?1e3*_:_}function Ge(_,l,h){return _.hasOwnProperty("duration")?_:function Bt(_,l,h){let C,M=0,G="";if("string"==typeof _){const Q=_.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Q)return l.push(dn()),{duration:0,delay:0,easing:""};C=Se(parseFloat(Q[1]),Q[2]);const Ie=Q[3];null!=Ie&&(M=Se(parseFloat(Ie),Q[4]));const Ke=Q[5];Ke&&(G=Ke)}else C=_;if(!h){let Q=!1,Ie=l.length;C<0&&(l.push(function Ji(){return new I.wOt(3100,!1)}()),Q=!0),M<0&&(l.push(function Nr(){return new I.wOt(3101,!1)}()),Q=!0),Q&&l.splice(Ie,0,dn())}return{duration:C,delay:M,easing:G}}(_,l,h)}function Mn(_,l,h){l.forEach((m,C)=>{const M=mo(C);h&&!h.has(C)&&h.set(C,_.style[M]),_.style[M]=m})}function ir(_,l){l.forEach((h,m)=>{const C=mo(m);_.style[C]=""})}function ar(_){return Array.isArray(_)?1==_.length?_[0]:(0,sn.K2)(_):_}const no=new RegExp("{{\\s*(.+?)\\s*}}","g");function wi(_){let l=[];if("string"==typeof _){let h;for(;h=no.exec(_);)l.push(h[1]);no.lastIndex=0}return l}function Is(_,l,h){const m=`${_}`,C=m.replace(no,(M,G)=>{let Q=l[G];return null==Q&&(h.push(function jr(){return new I.wOt(3003,!1)}()),Q=""),Q.toString()});return C==m?_:C}const Ts=/-+([a-z0-9])/g;function mo(_){return _.replace(Ts,(...l)=>l[1].toUpperCase())}function K(_,l,h){switch(l.type){case sn.If.Trigger:return _.visitTrigger(l,h);case sn.If.State:return _.visitState(l,h);case sn.If.Transition:return _.visitTransition(l,h);case sn.If.Sequence:return _.visitSequence(l,h);case sn.If.Group:return _.visitGroup(l,h);case sn.If.Animate:return _.visitAnimate(l,h);case sn.If.Keyframes:return _.visitKeyframes(l,h);case sn.If.Style:return _.visitStyle(l,h);case sn.If.Reference:return _.visitReference(l,h);case sn.If.AnimateChild:return _.visitAnimateChild(l,h);case sn.If.AnimateRef:return _.visitAnimateRef(l,h);case sn.If.Query:return _.visitQuery(l,h);case sn.If.Stagger:return _.visitStagger(l,h);default:throw function Gn(){return new I.wOt(3004,!1)}()}}function ee(_,l){return window.getComputedStyle(_)[l]}let Me=(()=>{class _{validateStyleProperty(h){return function ie(_){ot||(ot=function Le(){return typeof document<"u"?document.body:null}()||{},Dt=!!ot.style&&"WebkitAppearance"in ot.style);let l=!0;return ot.style&&!function De(_){return"ebkit"==_.substring(1,6)}(_)&&(l=_ in ot.style,!l&&Dt&&(l="Webkit"+_.charAt(0).toUpperCase()+_.slice(1)in ot.style)),l}(h)}containsElement(h,m){return St(h,m)}getParentElement(h){return oe(h)}query(h,m,C){return wt(h,m,C)}computeStyle(h,m,C){return C||""}animate(h,m,C,M,G,Q=[],Ie){return new sn.sf(C,M)}static \u0275fac=function(m){return new(m||_)};static \u0275prov=I.jDH({token:_,factory:_.\u0275fac})}return _})();class It{static NOOP=new Me}class nn{}const ti=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Kr extends nn{normalizePropertyName(l,h){return mo(l)}normalizeStyleValue(l,h,m,C){let M="";const G=m.toString().trim();if(ti.has(h)&&0!==m&&"0"!==m)if("number"==typeof m)M="px";else{const Q=m.match(/^[+-]?[\d\.]+([a-z]*)$/);Q&&0==Q[1].length&&C.push(function Xt(){return new I.wOt(3005,!1)}())}return G+M}}const tt=new Set(["true","1"]),Ne=new Set(["false","0"]);function dt(_,l){const h=tt.has(_)||Ne.has(_),m=tt.has(l)||Ne.has(l);return(C,M)=>{let G="*"==_||_==C,Q="*"==l||l==M;return!G&&h&&"boolean"==typeof C&&(G=C?tt.has(_):Ne.has(_)),!Q&&m&&"boolean"==typeof M&&(Q=M?tt.has(l):Ne.has(l)),G&&Q}}const hn=new RegExp("s*:selfs*,?","g");function Bn(_,l,h,m){return new bs(_).build(l,h,m)}class bs{_driver;constructor(l){this._driver=l}build(l,h,m){const C=new yo(h);return this._resetContextStyleTimingState(C),K(this,ar(l),C)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,h){let m=h.queryCount=0,C=h.depCount=0;const M=[],G=[];return"@"==l.name.charAt(0)&&h.errors.push(function Gr(){return new I.wOt(3006,!1)}()),l.definitions.forEach(Q=>{if(this._resetContextStyleTimingState(h),Q.type==sn.If.State){const Ie=Q,Ke=Ie.name;Ke.toString().split(/\s*,\s*/).forEach(Ct=>{Ie.name=Ct,M.push(this.visitState(Ie,h))}),Ie.name=Ke}else if(Q.type==sn.If.Transition){const Ie=this.visitTransition(Q,h);m+=Ie.queryCount,C+=Ie.depCount,G.push(Ie)}else h.errors.push(function xr(){return new I.wOt(3007,!1)}())}),{type:sn.If.Trigger,name:l.name,states:M,transitions:G,queryCount:m,depCount:C,options:null}}visitState(l,h){const m=this.visitStyle(l.styles,h),C=l.options&&l.options.params||null;if(m.containsDynamicStyles){const M=new Set,G=C||{};m.styles.forEach(Q=>{Q instanceof Map&&Q.forEach(Ie=>{wi(Ie).forEach(Ke=>{G.hasOwnProperty(Ke)||M.add(Ke)})})}),M.size&&h.errors.push(function qn(){return new I.wOt(3008,!1)}(0,M.values()))}return{type:sn.If.State,name:l.name,style:m,options:C?{params:C}:null}}visitTransition(l,h){h.queryCount=0,h.depCount=0;const m=K(this,ar(l.animation),h),C=function Ki(_,l){const h=[];return"string"==typeof _?_.split(/\s*,\s*/).forEach(m=>function Ns(_,l,h){if(":"==_[0]){const Ie=function ae(_,l){switch(_){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(h,m)=>parseFloat(m)>parseFloat(h);case":decrement":return(h,m)=>parseFloat(m)<parseFloat(h);default:return l.push(function pi(){return new I.wOt(3016,!1)}()),"* => *"}}(_,h);if("function"==typeof Ie)return void l.push(Ie);_=Ie}const m=_.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==m||m.length<4)return h.push(function In(){return new I.wOt(3015,!1)}()),l;const C=m[1],M=m[2],G=m[3];l.push(dt(C,G)),"<"==M[0]&&("*"!=C||"*"!=G)&&l.push(dt(G,C))}(m,h,l)):h.push(_),h}(l.expr,h.errors);return{type:sn.If.Transition,matchers:C,animation:m,queryCount:h.queryCount,depCount:h.depCount,options:ds(l.options)}}visitSequence(l,h){return{type:sn.If.Sequence,steps:l.steps.map(m=>K(this,m,h)),options:ds(l.options)}}visitGroup(l,h){const m=h.currentTime;let C=0;const M=l.steps.map(G=>{h.currentTime=m;const Q=K(this,G,h);return C=Math.max(C,h.currentTime),Q});return h.currentTime=C,{type:sn.If.Group,steps:M,options:ds(l.options)}}visitAnimate(l,h){const m=function Ws(_,l){if(_.hasOwnProperty("duration"))return _;if("number"==typeof _)return xs(Ge(_,l).duration,0,"");const h=_;if(h.split(/\s+/).some(M=>"{"==M.charAt(0)&&"{"==M.charAt(1))){const M=xs(0,0,"");return M.dynamic=!0,M.strValue=h,M}const C=Ge(h,l);return xs(C.duration,C.delay,C.easing)}(l.timings,h.errors);h.currentAnimateTimings=m;let C,M=l.styles?l.styles:(0,sn.iF)({});if(M.type==sn.If.Keyframes)C=this.visitKeyframes(M,h);else{let G=l.styles,Q=!1;if(!G){Q=!0;const Ke={};m.easing&&(Ke.easing=m.easing),G=(0,sn.iF)(Ke)}h.currentTime+=m.duration+m.delay;const Ie=this.visitStyle(G,h);Ie.isEmptyStep=Q,C=Ie}return h.currentAnimateTimings=null,{type:sn.If.Animate,timings:m,style:C,options:null}}visitStyle(l,h){const m=this._makeStyleAst(l,h);return this._validateStyleAst(m,h),m}_makeStyleAst(l,h){const m=[],C=Array.isArray(l.styles)?l.styles:[l.styles];for(let Q of C)"string"==typeof Q?Q===sn.kp?m.push(Q):h.errors.push(new I.wOt(3002,!1)):m.push(new Map(Object.entries(Q)));let M=!1,G=null;return m.forEach(Q=>{if(Q instanceof Map&&(Q.has("easing")&&(G=Q.get("easing"),Q.delete("easing")),!M))for(let Ie of Q.values())if(Ie.toString().indexOf("{{")>=0){M=!0;break}}),{type:sn.If.Style,styles:m,easing:G,offset:l.offset,containsDynamicStyles:M,options:null}}_validateStyleAst(l,h){const m=h.currentAnimateTimings;let C=h.currentTime,M=h.currentTime;m&&M>0&&(M-=m.duration+m.delay),l.styles.forEach(G=>{"string"!=typeof G&&G.forEach((Q,Ie)=>{const Ke=h.collectedStyles.get(h.currentQuerySelector),Ct=Ke.get(Ie);let fn=!0;Ct&&(M!=C&&M>=Ct.startTime&&C<=Ct.endTime&&(h.errors.push(function _i(){return new I.wOt(3010,!1)}()),fn=!1),M=Ct.startTime),fn&&Ke.set(Ie,{startTime:M,endTime:C}),h.options&&function Hr(_,l,h){const m=l.params||{},C=wi(_);C.length&&C.forEach(M=>{m.hasOwnProperty(M)||h.push(function ht(){return new I.wOt(3001,!1)}())})}(Q,h.options,h.errors)})})}visitKeyframes(l,h){const m={type:sn.If.Keyframes,styles:[],options:null};if(!h.currentAnimateTimings)return h.errors.push(function pr(){return new I.wOt(3011,!1)}()),m;let M=0;const G=[];let Q=!1,Ie=!1,Ke=0;const Ct=l.steps.map(os=>{const Ss=this._makeStyleAst(os,h);let Qs=null!=Ss.offset?Ss.offset:function mn(_){if("string"==typeof _)return null;let l=null;if(Array.isArray(_))_.forEach(h=>{if(h instanceof Map&&h.has("offset")){const m=h;l=parseFloat(m.get("offset")),m.delete("offset")}});else if(_ instanceof Map&&_.has("offset")){const h=_;l=parseFloat(h.get("offset")),h.delete("offset")}return l}(Ss.styles),Es=0;return null!=Qs&&(M++,Es=Ss.offset=Qs),Ie=Ie||Es<0||Es>1,Q=Q||Es<Ke,Ke=Es,G.push(Es),Ss});Ie&&h.errors.push(function vi(){return new I.wOt(3012,!1)}()),Q&&h.errors.push(function dr(){return new I.wOt(3200,!1)}());const fn=l.steps.length;let Zn=0;M>0&&M<fn?h.errors.push(function Ei(){return new I.wOt(3202,!1)}()):0==M&&(Zn=1/(fn-1));const Ln=fn-1,Wn=h.currentTime,nr=h.currentAnimateTimings,yi=nr.duration;return Ct.forEach((os,Ss)=>{const Qs=Zn>0?Ss==Ln?1:Zn*Ss:G[Ss],Es=Qs*yi;h.currentTime=Wn+nr.delay+Es,nr.duration=Es,this._validateStyleAst(os,h),os.offset=Qs,m.styles.push(os)}),m}visitReference(l,h){return{type:sn.If.Reference,animation:K(this,ar(l.animation),h),options:ds(l.options)}}visitAnimateChild(l,h){return h.depCount++,{type:sn.If.AnimateChild,options:ds(l.options)}}visitAnimateRef(l,h){return{type:sn.If.AnimateRef,animation:this.visitReference(l.animation,h),options:ds(l.options)}}visitQuery(l,h){const m=h.currentQuerySelector,C=l.options||{};h.queryCount++,h.currentQuery=l;const[M,G]=function Ao(_){const l=!!_.split(/\s*,\s*/).find(h=>":self"==h);return l&&(_=_.replace(hn,"")),_=_.replace(/@\*/g,rr).replace(/@\w+/g,h=>rr+"-"+h.slice(1)).replace(/:animating/g,Ti),[_,l]}(l.selector);h.currentQuerySelector=m.length?m+" "+M:M,wn(h.collectedStyles,h.currentQuerySelector,new Map);const Q=K(this,ar(l.animation),h);return h.currentQuery=null,h.currentQuerySelector=m,{type:sn.If.Query,selector:M,limit:C.limit||0,optional:!!C.optional,includeSelf:G,animation:Q,originalSelector:l.selector,options:ds(l.options)}}visitStagger(l,h){h.currentQuery||h.errors.push(function Ci(){return new I.wOt(3013,!1)}());const m="full"===l.timings?{duration:0,delay:0,easing:"full"}:Ge(l.timings,h.errors,!0);return{type:sn.If.Stagger,animation:K(this,ar(l.animation),h),timings:m,options:null}}}class yo{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(l){this.errors=l}}function ds(_){return _?(_={..._}).params&&(_.params=function Si(_){return _?{..._}:null}(_.params)):_={},_}function xs(_,l,h){return{duration:_,delay:l,easing:h}}function ro(_,l,h,m,C,M,G=null,Q=!1){return{type:1,element:_,keyframes:l,preStyleProps:h,postStyleProps:m,duration:C,delay:M,totalTime:C+M,easing:G,subTimeline:Q}}class Bs{_map=new Map;get(l){return this._map.get(l)||[]}append(l,h){let m=this._map.get(l);m||this._map.set(l,m=[]),m.push(...h)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const Or=new RegExp(":enter","g"),Ds=new RegExp(":leave","g");function js(_,l,h,m,C,M=new Map,G=new Map,Q,Ie,Ke=[]){return(new io).buildKeyframes(_,l,h,m,C,M,G,Q,Ie,Ke)}class io{buildKeyframes(l,h,m,C,M,G,Q,Ie,Ke,Ct=[]){Ke=Ke||new Bs;const fn=new Vi(l,h,Ke,C,M,Ct,[]);fn.options=Ie;const Zn=Ie.delay?_e(Ie.delay):0;fn.currentTimeline.delayNextStep(Zn),fn.currentTimeline.setStyles([G],null,fn.errors,Ie),K(this,m,fn);const Ln=fn.timelines.filter(Wn=>Wn.containsAnimation());if(Ln.length&&Q.size){let Wn;for(let nr=Ln.length-1;nr>=0;nr--){const yi=Ln[nr];if(yi.element===h){Wn=yi;break}}Wn&&!Wn.allowOnlyTimelineStyles()&&Wn.setStyles([Q],null,fn.errors,Ie)}return Ln.length?Ln.map(Wn=>Wn.buildKeyframes()):[ro(h,[],[],[],0,Zn,"",!1)]}visitTrigger(l,h){}visitState(l,h){}visitTransition(l,h){}visitAnimateChild(l,h){const m=h.subInstructions.get(h.element);if(m){const C=h.createSubContext(l.options),M=h.currentTimeline.currentTime,G=this._visitSubInstructions(m,C,C.options);M!=G&&h.transformIntoNewTimeline(G)}h.previousNode=l}visitAnimateRef(l,h){const m=h.createSubContext(l.options);m.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],h,m),this.visitReference(l.animation,m),h.transformIntoNewTimeline(m.currentTimeline.currentTime),h.previousNode=l}_applyAnimationRefDelays(l,h,m){for(const C of l){const M=C?.delay;if(M){const G="number"==typeof M?M:_e(Is(M,C?.params??{},h.errors));m.delayNextStep(G)}}}_visitSubInstructions(l,h,m){let M=h.currentTimeline.currentTime;const G=null!=m.duration?_e(m.duration):null,Q=null!=m.delay?_e(m.delay):null;return 0!==G&&l.forEach(Ie=>{const Ke=h.appendInstructionToTimeline(Ie,G,Q);M=Math.max(M,Ke.duration+Ke.delay)}),M}visitReference(l,h){h.updateOptions(l.options,!0),K(this,l.animation,h),h.previousNode=l}visitSequence(l,h){const m=h.subContextCount;let C=h;const M=l.options;if(M&&(M.params||M.delay)&&(C=h.createSubContext(M),C.transformIntoNewTimeline(),null!=M.delay)){C.previousNode.type==sn.If.Style&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=Xr);const G=_e(M.delay);C.delayNextStep(G)}l.steps.length&&(l.steps.forEach(G=>K(this,G,C)),C.currentTimeline.applyStylesToKeyframe(),C.subContextCount>m&&C.transformIntoNewTimeline()),h.previousNode=l}visitGroup(l,h){const m=[];let C=h.currentTimeline.currentTime;const M=l.options&&l.options.delay?_e(l.options.delay):0;l.steps.forEach(G=>{const Q=h.createSubContext(l.options);M&&Q.delayNextStep(M),K(this,G,Q),C=Math.max(C,Q.currentTimeline.currentTime),m.push(Q.currentTimeline)}),m.forEach(G=>h.currentTimeline.mergeTimelineCollectedStyles(G)),h.transformIntoNewTimeline(C),h.previousNode=l}_visitTiming(l,h){if(l.dynamic){const m=l.strValue;return Ge(h.params?Is(m,h.params,h.errors):m,h.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,h){const m=h.currentAnimateTimings=this._visitTiming(l.timings,h),C=h.currentTimeline;m.delay&&(h.incrementTime(m.delay),C.snapshotCurrentStyles());const M=l.style;M.type==sn.If.Keyframes?this.visitKeyframes(M,h):(h.incrementTime(m.duration),this.visitStyle(M,h),C.applyStylesToKeyframe()),h.currentAnimateTimings=null,h.previousNode=l}visitStyle(l,h){const m=h.currentTimeline,C=h.currentAnimateTimings;!C&&m.hasCurrentStyleProperties()&&m.forwardFrame();const M=C&&C.easing||l.easing;l.isEmptyStep?m.applyEmptyStep(M):m.setStyles(l.styles,M,h.errors,h.options),h.previousNode=l}visitKeyframes(l,h){const m=h.currentAnimateTimings,C=h.currentTimeline.duration,M=m.duration,Q=h.createSubContext().currentTimeline;Q.easing=m.easing,l.styles.forEach(Ie=>{Q.forwardTime((Ie.offset||0)*M),Q.setStyles(Ie.styles,Ie.easing,h.errors,h.options),Q.applyStylesToKeyframe()}),h.currentTimeline.mergeTimelineCollectedStyles(Q),h.transformIntoNewTimeline(C+M),h.previousNode=l}visitQuery(l,h){const m=h.currentTimeline.currentTime,C=l.options||{},M=C.delay?_e(C.delay):0;M&&(h.previousNode.type===sn.If.Style||0==m&&h.currentTimeline.hasCurrentStyleProperties())&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=Xr);let G=m;const Q=h.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!C.optional,h.errors);h.currentQueryTotal=Q.length;let Ie=null;Q.forEach((Ke,Ct)=>{h.currentQueryIndex=Ct;const fn=h.createSubContext(l.options,Ke);M&&fn.delayNextStep(M),Ke===h.element&&(Ie=fn.currentTimeline),K(this,l.animation,fn),fn.currentTimeline.applyStylesToKeyframe(),G=Math.max(G,fn.currentTimeline.currentTime)}),h.currentQueryIndex=0,h.currentQueryTotal=0,h.transformIntoNewTimeline(G),Ie&&(h.currentTimeline.mergeTimelineCollectedStyles(Ie),h.currentTimeline.snapshotCurrentStyles()),h.previousNode=l}visitStagger(l,h){const m=h.parentContext,C=h.currentTimeline,M=l.timings,G=Math.abs(M.duration),Q=G*(h.currentQueryTotal-1);let Ie=G*h.currentQueryIndex;switch(M.duration<0?"reverse":M.easing){case"reverse":Ie=Q-Ie;break;case"full":Ie=m.currentStaggerTime}const Ct=h.currentTimeline;Ie&&Ct.delayNextStep(Ie);const fn=Ct.currentTime;K(this,l.animation,h),h.previousNode=l,m.currentStaggerTime=C.currentTime-fn+(C.startTime-m.currentTimeline.startTime)}}const Xr={};class Vi{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Xr;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(l,h,m,C,M,G,Q,Ie){this._driver=l,this.element=h,this.subInstructions=m,this._enterClassName=C,this._leaveClassName=M,this.errors=G,this.timelines=Q,this.currentTimeline=Ie||new ri(this._driver,h,0),Q.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,h){if(!l)return;const m=l;let C=this.options;null!=m.duration&&(C.duration=_e(m.duration)),null!=m.delay&&(C.delay=_e(m.delay));const M=m.params;if(M){let G=C.params;G||(G=this.options.params={}),Object.keys(M).forEach(Q=>{(!h||!G.hasOwnProperty(Q))&&(G[Q]=Is(M[Q],G,this.errors))})}}_copyOptions(){const l={};if(this.options){const h=this.options.params;if(h){const m=l.params={};Object.keys(h).forEach(C=>{m[C]=h[C]})}}return l}createSubContext(l=null,h,m){const C=h||this.element,M=new Vi(this._driver,C,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(C,m||0));return M.previousNode=this.previousNode,M.currentAnimateTimings=this.currentAnimateTimings,M.options=this._copyOptions(),M.updateOptions(l),M.currentQueryIndex=this.currentQueryIndex,M.currentQueryTotal=this.currentQueryTotal,M.parentContext=this,this.subContextCount++,M}transformIntoNewTimeline(l){return this.previousNode=Xr,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,h,m){const C={duration:h??l.duration,delay:this.currentTimeline.currentTime+(m??0)+l.delay,easing:""},M=new Zr(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,C,l.stretchStartingKeyframe);return this.timelines.push(M),C}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,h,m,C,M,G){let Q=[];if(C&&Q.push(this.element),l.length>0){l=(l=l.replace(Or,"."+this._enterClassName)).replace(Ds,"."+this._leaveClassName);let Ke=this._driver.query(this.element,l,1!=m);0!==m&&(Ke=m<0?Ke.slice(Ke.length+m,Ke.length):Ke.slice(0,m)),Q.push(...Ke)}return!M&&0==Q.length&&G.push(function or(){return new I.wOt(3014,!1)}()),Q}}class ri{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(l,h,m,C){this._driver=l,this.element=h,this.startTime=m,this._elementTimelineStylesLookup=C,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(h),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(h,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const h=1===this._keyframes.size&&this._pendingStyles.size;this.duration||h?(this.forwardTime(this.currentTime+l),h&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,h){return this.applyStylesToKeyframe(),new ri(this._driver,l,h||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,h){this._localTimelineStyles.set(l,h),this._globalTimelineStyles.set(l,h),this._styleSummary.set(l,{time:this.currentTime,value:h})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[h,m]of this._globalTimelineStyles)this._backFill.set(h,m||sn.kp),this._currentKeyframe.set(h,sn.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,h,m,C){h&&this._previousKeyframe.set("easing",h);const M=C&&C.params||{},G=function Fs(_,l){const h=new Map;let m;return _.forEach(C=>{if("*"===C){m??=l.keys();for(let M of m)h.set(M,sn.kp)}else for(let[M,G]of C)h.set(M,G)}),h}(l,this._globalTimelineStyles);for(let[Q,Ie]of G){const Ke=Is(Ie,M,m);this._pendingStyles.set(Q,Ke),this._localTimelineStyles.has(Q)||this._backFill.set(Q,this._globalTimelineStyles.get(Q)??sn.kp),this._updateStyle(Q,Ke)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,h)=>{this._currentKeyframe.set(h,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,h)=>{this._currentKeyframe.has(h)||this._currentKeyframe.set(h,l)}))}snapshotCurrentStyles(){for(let[l,h]of this._localTimelineStyles)this._pendingStyles.set(l,h),this._updateStyle(l,h)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let h in this._currentKeyframe)l.push(h);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((h,m)=>{const C=this._styleSummary.get(m);(!C||h.time>C.time)&&this._updateStyle(m,h.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,h=new Set,m=1===this._keyframes.size&&0===this.duration;let C=[];this._keyframes.forEach((Q,Ie)=>{const Ke=new Map([...this._backFill,...Q]);Ke.forEach((Ct,fn)=>{Ct===sn.FX?l.add(fn):Ct===sn.kp&&h.add(fn)}),m||Ke.set("offset",Ie/this.duration),C.push(Ke)});const M=[...l.values()],G=[...h.values()];if(m){const Q=C[0],Ie=new Map(Q);Q.set("offset",0),Ie.set("offset",1),C=[Q,Ie]}return ro(this.element,C,M,G,this.duration,this.startTime,this.easing,!1)}}class Zr extends ri{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(l,h,m,C,M,G,Q=!1){super(l,h,G.delay),this.keyframes=m,this.preStyleProps=C,this.postStyleProps=M,this._stretchStartingKeyframe=Q,this.timings={duration:G.duration,delay:G.delay,easing:G.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:h,duration:m,easing:C}=this.timings;if(this._stretchStartingKeyframe&&h){const M=[],G=m+h,Q=h/G,Ie=new Map(l[0]);Ie.set("offset",0),M.push(Ie);const Ke=new Map(l[0]);Ke.set("offset",ao(Q)),M.push(Ke);const Ct=l.length-1;for(let fn=1;fn<=Ct;fn++){let Zn=new Map(l[fn]);const Ln=Zn.get("offset");Zn.set("offset",ao((h+Ln*m)/G)),M.push(Zn)}m=G,h=0,C="",l=M}return ro(this.element,l,this.preStyleProps,this.postStyleProps,m,h,C,!0)}}function ao(_,l=3){const h=Math.pow(10,l-1);return Math.round(_*h)/h}function ns(_,l,h,m,C,M,G,Q,Ie,Ke,Ct,fn,Zn){return{type:0,element:_,triggerName:l,isRemovalTransition:C,fromState:h,fromStyles:M,toState:m,toStyles:G,timelines:Q,queriedElements:Ie,preStyleProps:Ke,postStyleProps:Ct,totalTime:fn,errors:Zn}}const Fo={};class ys{_triggerName;ast;_stateStyles;constructor(l,h,m){this._triggerName=l,this.ast=h,this._stateStyles=m}match(l,h,m,C){return function Ia(_,l,h,m,C){return _.some(M=>M(l,h,m,C))}(this.ast.matchers,l,h,m,C)}buildStyles(l,h,m){let C=this._stateStyles.get("*");return void 0!==l&&(C=this._stateStyles.get(l?.toString())||C),C?C.buildStyles(h,m):new Map}build(l,h,m,C,M,G,Q,Ie,Ke,Ct){const fn=[],Zn=this.ast.options&&this.ast.options.params||Fo,Wn=this.buildStyles(m,Q&&Q.params||Fo,fn),nr=Ie&&Ie.params||Fo,yi=this.buildStyles(C,nr,fn),os=new Set,Ss=new Map,Qs=new Map,Es="void"===C,na={params:Ls(nr,Zn),delay:this.ast.options?.delay},Ho=Ct?[]:js(l,h,this.ast.animation,M,G,Wn,yi,na,Ke,fn);let Rs=0;return Ho.forEach(Mo=>{Rs=Math.max(Mo.duration+Mo.delay,Rs)}),fn.length?ns(h,this._triggerName,m,C,Es,Wn,yi,[],[],Ss,Qs,Rs,fn):(Ho.forEach(Mo=>{const fa=Mo.element,Nc=wn(Ss,fa,new Set);Mo.preStyleProps.forEach(ra=>Nc.add(ra));const Ml=wn(Qs,fa,new Set);Mo.postStyleProps.forEach(ra=>Ml.add(ra)),fa!==h&&os.add(fa)}),ns(h,this._triggerName,m,C,Es,Wn,yi,Ho,[...os.values()],Ss,Qs,Rs))}}function Ls(_,l){const h={...l};return Object.entries(_).forEach(([m,C])=>{null!=C&&(h[m]=C)}),h}class zr{styles;defaultParams;normalizer;constructor(l,h,m){this.styles=l,this.defaultParams=h,this.normalizer=m}buildStyles(l,h){const m=new Map,C=Ls(l,this.defaultParams);return this.styles.styles.forEach(M=>{"string"!=typeof M&&M.forEach((G,Q)=>{G&&(G=Is(G,C,h));const Ie=this.normalizer.normalizePropertyName(Q,h);G=this.normalizer.normalizeStyleValue(Q,Ie,G,h),m.set(Q,G)})}),m}}class Pi{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(l,h,m){this.name=l,this.ast=h,this._normalizer=m,h.states.forEach(C=>{this.states.set(C.name,new zr(C.style,C.options&&C.options.params||{},m))}),So(this.states,"true","1"),So(this.states,"false","0"),h.transitions.forEach(C=>{this.transitionFactories.push(new ys(l,C,this.states))}),this.fallbackTransition=function la(_,l){return new ys(_,{type:sn.If.Transition,animation:{type:sn.If.Sequence,steps:[],options:null},matchers:[(G,Q)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,h,m,C){return this.transitionFactories.find(G=>G.match(l,h,m,C))||null}matchStyles(l,h,m){return this.fallbackTransition.buildStyles(l,h,m)}}function So(_,l,h){_.has(l)?_.has(h)||_.set(h,_.get(l)):_.has(h)&&_.set(l,_.get(h))}const Ro=new Bs;class rs{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(l,h,m){this.bodyNode=l,this._driver=h,this._normalizer=m}register(l,h){const m=[],M=Bn(this._driver,h,m,[]);if(m.length)throw function Mr(){return new I.wOt(3503,!1)}();this._animations.set(l,M)}_buildPlayer(l,h,m){const C=l.element,M=Ve(this._normalizer,l.keyframes,h,m);return this._driver.animate(C,M,l.duration,l.delay,l.easing,[],!0)}create(l,h,m={}){const C=[],M=this._animations.get(l);let G;const Q=new Map;if(M?(G=js(this._driver,h,M,Rn,cn,new Map,new Map,m,Ro,C),G.forEach(Ct=>{const fn=wn(Q,Ct.element,new Map);Ct.postStyleProps.forEach(Zn=>fn.set(Zn,null))})):(C.push(function Gi(){return new I.wOt(3300,!1)}()),G=[]),C.length)throw function gi(){return new I.wOt(3504,!1)}();Q.forEach((Ct,fn)=>{Ct.forEach((Zn,Ln)=>{Ct.set(Ln,this._driver.computeStyle(fn,Ln,sn.kp))})});const Ke=ye(G.map(Ct=>{const fn=Q.get(Ct.element);return this._buildPlayer(Ct,new Map,fn)}));return this._playersById.set(l,Ke),Ke.onDestroy(()=>this.destroy(l)),this.players.push(Ke),Ke}destroy(l){const h=this._getPlayer(l);h.destroy(),this._playersById.delete(l);const m=this.players.indexOf(h);m>=0&&this.players.splice(m,1)}_getPlayer(l){const h=this._playersById.get(l);if(!h)throw function Oi(){return new I.wOt(3301,!1)}();return h}listen(l,h,m,C){const M=Zt(h,"","","");return xt(this._getPlayer(l),m,M,C),()=>{}}command(l,h,m,C){if("register"==m)return void this.register(l,C[0]);if("create"==m)return void this.create(l,h,C[0]||{});const M=this._getPlayer(l);switch(m){case"play":M.play();break;case"pause":M.pause();break;case"reset":M.reset();break;case"restart":M.restart();break;case"finish":M.finish();break;case"init":M.init();break;case"setPosition":M.setPosition(parseFloat(C[0]));break;case"destroy":this.destroy(l)}}}const Er="ng-animate-queued",z="ng-animate-disabled",Mt=[],Qt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yn="__ng_removed";class hr{namespaceId;value;options;get params(){return this.options.params}constructor(l,h=""){this.namespaceId=h;const m=l&&l.hasOwnProperty("value");if(this.value=function li(_){return _??null}(m?l.value:l),m){const{value:M,...G}=l;this.options=G}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const h=l.params;if(h){const m=this.options.params;Object.keys(h).forEach(C=>{null==m[C]&&(m[C]=h[C])})}}}const zn="void",Tr=new hr(zn);class mi{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(l,h,m){this.id=l,this.hostElement=h,this._engine=m,this._hostClassName="ng-tns-"+l,Yr(h,this._hostClassName)}listen(l,h,m,C){if(!this._triggers.has(h))throw function vn(){return new I.wOt(3302,!1)}();if(null==m||0==m.length)throw function _r(){return new I.wOt(3303,!1)}();if(!function ss(_){return"start"==_||"done"==_}(m))throw function Ir(){return new I.wOt(3400,!1)}();const M=wn(this._elementListeners,l,[]),G={name:h,phase:m,callback:C};M.push(G);const Q=wn(this._engine.statesByElement,l,new Map);return Q.has(h)||(Yr(l,Fn),Yr(l,Fn+"-"+h),Q.set(h,Tr)),()=>{this._engine.afterFlush(()=>{const Ie=M.indexOf(G);Ie>=0&&M.splice(Ie,1),this._triggers.has(h)||Q.delete(h)})}}register(l,h){return!this._triggers.has(l)&&(this._triggers.set(l,h),!0)}_getTrigger(l){const h=this._triggers.get(l);if(!h)throw function $i(){return new I.wOt(3401,!1)}();return h}trigger(l,h,m,C=!0){const M=this._getTrigger(h),G=new Ui(this.id,h,l);let Q=this._engine.statesByElement.get(l);Q||(Yr(l,Fn),Yr(l,Fn+"-"+h),this._engine.statesByElement.set(l,Q=new Map));let Ie=Q.get(h);const Ke=new hr(m,this.id);if(!(m&&m.hasOwnProperty("value"))&&Ie&&Ke.absorbOptions(Ie.options),Q.set(h,Ke),Ie||(Ie=Tr),Ke.value!==zn&&Ie.value===Ke.value){if(!function Ta(_,l){const h=Object.keys(_),m=Object.keys(l);if(h.length!=m.length)return!1;for(let C=0;C<h.length;C++){const M=h[C];if(!l.hasOwnProperty(M)||_[M]!==l[M])return!1}return!0}(Ie.params,Ke.params)){const nr=[],yi=M.matchStyles(Ie.value,Ie.params,nr),os=M.matchStyles(Ke.value,Ke.params,nr);nr.length?this._engine.reportError(nr):this._engine.afterFlush(()=>{ir(l,yi),Mn(l,os)})}return}const Zn=wn(this._engine.playersByElement,l,[]);Zn.forEach(nr=>{nr.namespaceId==this.id&&nr.triggerName==h&&nr.queued&&nr.destroy()});let Ln=M.matchTransition(Ie.value,Ke.value,l,Ke.params),Wn=!1;if(!Ln){if(!C)return;Ln=M.fallbackTransition,Wn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:h,transition:Ln,fromState:Ie,toState:Ke,player:G,isFallbackTransition:Wn}),Wn||(Yr(l,Er),G.onStart(()=>{hs(l,Er)})),G.onDone(()=>{let nr=this.players.indexOf(G);nr>=0&&this.players.splice(nr,1);const yi=this._engine.playersByElement.get(l);if(yi){let os=yi.indexOf(G);os>=0&&yi.splice(os,1)}}),this.players.push(G),Zn.push(G),G}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(h=>h.delete(l)),this._elementListeners.forEach((h,m)=>{this._elementListeners.set(m,h.filter(C=>C.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const h=this._engine.playersByElement.get(l);h&&(h.forEach(m=>m.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,h){const m=this._engine.driver.query(l,rr,!0);m.forEach(C=>{if(C[yn])return;const M=this._engine.fetchNamespacesByElement(C);M.size?M.forEach(G=>G.triggerLeaveAnimation(C,h,!1,!0)):this.clearElementCache(C)}),this._engine.afterFlushAnimationsDone(()=>m.forEach(C=>this.clearElementCache(C)))}triggerLeaveAnimation(l,h,m,C){const M=this._engine.statesByElement.get(l),G=new Map;if(M){const Q=[];if(M.forEach((Ie,Ke)=>{if(G.set(Ke,Ie.value),this._triggers.has(Ke)){const Ct=this.trigger(l,Ke,zn,C);Ct&&Q.push(Ct)}}),Q.length)return this._engine.markElementAsRemoved(this.id,l,!0,h,G),m&&ye(Q).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const h=this._elementListeners.get(l),m=this._engine.statesByElement.get(l);if(h&&m){const C=new Set;h.forEach(M=>{const G=M.name;if(C.has(G))return;C.add(G);const Ie=this._triggers.get(G).fallbackTransition,Ke=m.get(G)||Tr,Ct=new hr(zn),fn=new Ui(this.id,G,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:G,transition:Ie,fromState:Ke,toState:Ct,player:fn,isFallbackTransition:!0})})}}removeNode(l,h){const m=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,h),this.triggerLeaveAnimation(l,h,!0))return;let C=!1;if(m.totalAnimations){const M=m.players.length?m.playersByQueriedElement.get(l):[];if(M&&M.length)C=!0;else{let G=l;for(;G=G.parentNode;)if(m.statesByElement.get(G)){C=!0;break}}}if(this.prepareLeaveAnimationListeners(l),C)m.markElementAsRemoved(this.id,l,!1,h);else{const M=l[yn];(!M||M===Qt)&&(m.afterFlush(()=>this.clearElementCache(l)),m.destroyInnerAnimations(l),m._onRemovalComplete(l,h))}}insertNode(l,h){Yr(l,this._hostClassName)}drainQueuedTransitions(l){const h=[];return this._queue.forEach(m=>{const C=m.player;if(C.destroyed)return;const M=m.element,G=this._elementListeners.get(M);G&&G.forEach(Q=>{if(Q.name==m.triggerName){const Ie=Zt(M,m.triggerName,m.fromState.value,m.toState.value);Ie._data=l,xt(m.player,Q.phase,Ie,Q.callback)}}),C.markedForDestroy?this._engine.afterFlush(()=>{C.destroy()}):h.push(m)}),this._queue=[],h.sort((m,C)=>{const M=m.transition.ast.depCount,G=C.transition.ast.depCount;return 0==M||0==G?M-G:this._engine.driver.containsElement(m.element,C.element)?1:-1})}destroy(l){this.players.forEach(h=>h.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}}class ui{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(l,h)=>{};_onRemovalComplete(l,h){this.onRemovalComplete(l,h)}constructor(l,h,m){this.bodyNode=l,this.driver=h,this._normalizer=m}get queuedPlayers(){const l=[];return this._namespaceList.forEach(h=>{h.players.forEach(m=>{m.queued&&l.push(m)})}),l}createNamespace(l,h){const m=new mi(l,h,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,h)?this._balanceNamespaceList(m,h):(this.newHostElements.set(h,m),this.collectEnterElement(h)),this._namespaceLookup[l]=m}_balanceNamespaceList(l,h){const m=this._namespaceList,C=this.namespacesByHostElement;if(m.length-1>=0){let G=!1,Q=this.driver.getParentElement(h);for(;Q;){const Ie=C.get(Q);if(Ie){const Ke=m.indexOf(Ie);m.splice(Ke+1,0,l),G=!0;break}Q=this.driver.getParentElement(Q)}G||m.unshift(l)}else m.push(l);return C.set(h,l),l}register(l,h){let m=this._namespaceLookup[l];return m||(m=this.createNamespace(l,h)),m}registerTrigger(l,h,m){let C=this._namespaceLookup[l];C&&C.register(h,m)&&this.totalAnimations++}destroy(l,h){l&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const m=this._fetchNamespace(l);this.namespacesByHostElement.delete(m.hostElement);const C=this._namespaceList.indexOf(m);C>=0&&this._namespaceList.splice(C,1),m.destroy(h),delete this._namespaceLookup[l]}))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const h=new Set,m=this.statesByElement.get(l);if(m)for(let C of m.values())if(C.namespaceId){const M=this._fetchNamespace(C.namespaceId);M&&h.add(M)}return h}trigger(l,h,m,C){if(is(h)){const M=this._fetchNamespace(l);if(M)return M.trigger(h,m,C),!0}return!1}insertNode(l,h,m,C){if(!is(h))return;const M=h[yn];if(M&&M.setForRemoval){M.setForRemoval=!1,M.setForMove=!0;const G=this.collectedLeaveElements.indexOf(h);G>=0&&this.collectedLeaveElements.splice(G,1)}if(l){const G=this._fetchNamespace(l);G&&G.insertNode(h,m)}C&&this.collectEnterElement(h)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,h){h?this.disabledNodes.has(l)||(this.disabledNodes.add(l),Yr(l,z)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),hs(l,z))}removeNode(l,h,m){if(is(h)){const C=l?this._fetchNamespace(l):null;C?C.removeNode(h,m):this.markElementAsRemoved(l,h,!1,m);const M=this.namespacesByHostElement.get(h);M&&M.id!==l&&M.removeNode(h,m)}else this._onRemovalComplete(h,m)}markElementAsRemoved(l,h,m,C,M){this.collectedLeaveElements.push(h),h[yn]={namespaceId:l,setForRemoval:C,hasAnimation:m,removedBeforeQueried:!1,previousTriggersValues:M}}listen(l,h,m,C,M){return is(h)?this._fetchNamespace(l).listen(h,m,C,M):()=>{}}_buildInstruction(l,h,m,C,M){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,m,C,l.fromState.options,l.toState.options,h,M)}destroyInnerAnimations(l){let h=this.driver.query(l,rr,!0);h.forEach(m=>this.destroyActiveAnimationsForElement(m)),0!=this.playersByQueriedElement.size&&(h=this.driver.query(l,Ti,!0),h.forEach(m=>this.finishActiveQueriedAnimationOnElement(m)))}destroyActiveAnimationsForElement(l){const h=this.playersByElement.get(l);h&&h.forEach(m=>{m.queued?m.markedForDestroy=!0:m.destroy()})}finishActiveQueriedAnimationOnElement(l){const h=this.playersByQueriedElement.get(l);h&&h.forEach(m=>m.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return ye(this.players).onDone(()=>l());l()})}processLeaveNode(l){const h=l[yn];if(h&&h.setForRemoval){if(l[yn]=Qt,h.namespaceId){this.destroyInnerAnimations(l);const m=this._fetchNamespace(h.namespaceId);m&&m.clearElementCache(l)}this._onRemovalComplete(l,h.setForRemoval)}l.classList?.contains(z)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(m=>{this.markElementAsDisabled(m,!1)})}flush(l=-1){let h=[];if(this.newHostElements.size&&(this.newHostElements.forEach((m,C)=>this._balanceNamespaceList(m,C)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let m=0;m<this.collectedEnterElements.length;m++)Yr(this.collectedEnterElements[m],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const m=[];try{h=this._flushAnimations(m,l)}finally{for(let C=0;C<m.length;C++)m[C]()}}else for(let m=0;m<this.collectedLeaveElements.length;m++)this.processLeaveNode(this.collectedLeaveElements[m]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(m=>m()),this._flushFns=[],this._whenQuietFns.length){const m=this._whenQuietFns;this._whenQuietFns=[],h.length?ye(h).onDone(()=>{m.forEach(C=>C())}):m.forEach(C=>C())}}reportError(l){throw function Fi(){return new I.wOt(3402,!1)}()}_flushAnimations(l,h){const m=new Bs,C=[],M=new Map,G=[],Q=new Map,Ie=new Map,Ke=new Map,Ct=new Set;this.disabledNodes.forEach(Vn=>{Ct.add(Vn);const Yn=this.driver.query(Vn,".ng-animate-queued",!0);for(let sr=0;sr<Yn.length;sr++)Ct.add(Yn[sr])});const fn=this.bodyNode,Zn=Array.from(this.statesByElement.keys()),Ln=_s(Zn,this.collectedEnterElements),Wn=new Map;let nr=0;Ln.forEach((Vn,Yn)=>{const sr=Rn+nr++;Wn.set(Yn,sr),Vn.forEach(fi=>Yr(fi,sr))});const yi=[],os=new Set,Ss=new Set;for(let Vn=0;Vn<this.collectedLeaveElements.length;Vn++){const Yn=this.collectedLeaveElements[Vn],sr=Yn[yn];sr&&sr.setForRemoval&&(yi.push(Yn),os.add(Yn),sr.hasAnimation?this.driver.query(Yn,".ng-star-inserted",!0).forEach(fi=>os.add(fi)):Ss.add(Yn))}const Qs=new Map,Es=_s(Zn,Array.from(os));Es.forEach((Vn,Yn)=>{const sr=cn+nr++;Qs.set(Yn,sr),Vn.forEach(fi=>Yr(fi,sr))}),l.push(()=>{Ln.forEach((Vn,Yn)=>{const sr=Wn.get(Yn);Vn.forEach(fi=>hs(fi,sr))}),Es.forEach((Vn,Yn)=>{const sr=Qs.get(Yn);Vn.forEach(fi=>hs(fi,sr))}),yi.forEach(Vn=>{this.processLeaveNode(Vn)})});const na=[],Ho=[];for(let Vn=this._namespaceList.length-1;Vn>=0;Vn--)this._namespaceList[Vn].drainQueuedTransitions(h).forEach(sr=>{const fi=sr.player,Sr=sr.element;if(na.push(fi),this.collectedEnterElements.length){const fs=Sr[yn];if(fs&&fs.setForMove){if(fs.previousTriggersValues&&fs.previousTriggersValues.has(sr.triggerName)){const Xi=fs.previousTriggersValues.get(sr.triggerName),so=this.statesByElement.get(sr.element);if(so&&so.has(sr.triggerName)){const Vo=so.get(sr.triggerName);Vo.value=Xi,so.set(sr.triggerName,Vo)}}return void fi.destroy()}}const pa=!fn||!this.driver.containsElement(fn,Sr),br=Qs.get(Sr),ko=Wn.get(Sr),si=this._buildInstruction(sr,m,ko,br,pa);if(si.errors&&si.errors.length)return void Ho.push(si);if(pa)return fi.onStart(()=>ir(Sr,si.fromStyles)),fi.onDestroy(()=>Mn(Sr,si.toStyles)),void C.push(fi);if(sr.isFallbackTransition)return fi.onStart(()=>ir(Sr,si.fromStyles)),fi.onDestroy(()=>Mn(Sr,si.toStyles)),void C.push(fi);const ei=[];si.timelines.forEach(fs=>{fs.stretchStartingKeyframe=!0,this.disabledNodes.has(fs.element)||ei.push(fs)}),si.timelines=ei,m.append(Sr,si.timelines),G.push({instruction:si,player:fi,element:Sr}),si.queriedElements.forEach(fs=>wn(Q,fs,[]).push(fi)),si.preStyleProps.forEach((fs,Xi)=>{if(fs.size){let so=Ie.get(Xi);so||Ie.set(Xi,so=new Set),fs.forEach((Vo,To)=>so.add(To))}}),si.postStyleProps.forEach((fs,Xi)=>{let so=Ke.get(Xi);so||Ke.set(Xi,so=new Set),fs.forEach((Vo,To)=>so.add(To))})});if(Ho.length){const Vn=[];Ho.forEach(Yn=>{Vn.push(function Li(){return new I.wOt(3505,!1)}())}),na.forEach(Yn=>Yn.destroy()),this.reportError(Vn)}const Rs=new Map,Mo=new Map;G.forEach(Vn=>{const Yn=Vn.element;m.has(Yn)&&(Mo.set(Yn,Yn),this._beforeAnimationBuild(Vn.player.namespaceId,Vn.instruction,Rs))}),C.forEach(Vn=>{const Yn=Vn.element;this._getPreviousPlayers(Yn,!1,Vn.namespaceId,Vn.triggerName,null).forEach(fi=>{wn(Rs,Yn,[]).push(fi),fi.destroy()})});const fa=yi.filter(Vn=>Zo(Vn,Ie,Ke)),Nc=new Map;bi(Nc,this.driver,Ss,Ke,sn.kp).forEach(Vn=>{Zo(Vn,Ie,Ke)&&fa.push(Vn)});const ra=new Map;Ln.forEach((Vn,Yn)=>{bi(ra,this.driver,new Set(Vn),Ie,sn.FX)}),fa.forEach(Vn=>{const Yn=Nc.get(Vn),sr=ra.get(Vn);Nc.set(Vn,new Map([...Yn?.entries()??[],...sr?.entries()??[]]))});const Hu=[],kl=[],Qi={};G.forEach(Vn=>{const{element:Yn,player:sr,instruction:fi}=Vn;if(m.has(Yn)){if(Ct.has(Yn))return sr.onDestroy(()=>Mn(Yn,fi.toStyles)),sr.disabled=!0,sr.overrideTotalTime(fi.totalTime),void C.push(sr);let Sr=Qi;if(Mo.size>1){let br=Yn;const ko=[];for(;br=br.parentNode;){const si=Mo.get(br);if(si){Sr=si;break}ko.push(br)}ko.forEach(si=>Mo.set(si,Sr))}const pa=this._buildAnimation(sr.namespaceId,fi,Rs,M,ra,Nc);if(sr.setRealPlayer(pa),Sr===Qi)Hu.push(sr);else{const br=this.playersByElement.get(Sr);br&&br.length&&(sr.parentPlayer=ye(br)),C.push(sr)}}else ir(Yn,fi.fromStyles),sr.onDestroy(()=>Mn(Yn,fi.toStyles)),kl.push(sr),Ct.has(Yn)&&C.push(sr)}),kl.forEach(Vn=>{const Yn=M.get(Vn.element);if(Yn&&Yn.length){const sr=ye(Yn);Vn.setRealPlayer(sr)}}),C.forEach(Vn=>{Vn.parentPlayer?Vn.syncPlayerEvents(Vn.parentPlayer):Vn.destroy()});for(let Vn=0;Vn<yi.length;Vn++){const Yn=yi[Vn],sr=Yn[yn];if(hs(Yn,cn),sr&&sr.hasAnimation)continue;let fi=[];if(Q.size){let pa=Q.get(Yn);pa&&pa.length&&fi.push(...pa);let br=this.driver.query(Yn,Ti,!0);for(let ko=0;ko<br.length;ko++){let si=Q.get(br[ko]);si&&si.length&&fi.push(...si)}}const Sr=fi.filter(pa=>!pa.destroyed);Sr.length?As(this,Yn,Sr):this.processLeaveNode(Yn)}return yi.length=0,Hu.forEach(Vn=>{this.players.push(Vn),Vn.onDone(()=>{Vn.destroy();const Yn=this.players.indexOf(Vn);this.players.splice(Yn,1)}),Vn.play()}),Hu}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,h,m,C,M){let G=[];if(h){const Q=this.playersByQueriedElement.get(l);Q&&(G=Q)}else{const Q=this.playersByElement.get(l);if(Q){const Ie=!M||M==zn;Q.forEach(Ke=>{Ke.queued||!Ie&&Ke.triggerName!=C||G.push(Ke)})}}return(m||C)&&(G=G.filter(Q=>!(m&&m!=Q.namespaceId||C&&C!=Q.triggerName))),G}_beforeAnimationBuild(l,h,m){const M=h.element,G=h.isRemovalTransition?void 0:l,Q=h.isRemovalTransition?void 0:h.triggerName;for(const Ie of h.timelines){const Ke=Ie.element,Ct=Ke!==M,fn=wn(m,Ke,[]);this._getPreviousPlayers(Ke,Ct,G,Q,h.toState).forEach(Ln=>{const Wn=Ln.getRealPlayer();Wn.beforeDestroy&&Wn.beforeDestroy(),Ln.destroy(),fn.push(Ln)})}ir(M,h.fromStyles)}_buildAnimation(l,h,m,C,M,G){const Q=h.triggerName,Ie=h.element,Ke=[],Ct=new Set,fn=new Set,Zn=h.timelines.map(Wn=>{const nr=Wn.element;Ct.add(nr);const yi=nr[yn];if(yi&&yi.removedBeforeQueried)return new sn.sf(Wn.duration,Wn.delay);const os=nr!==Ie,Ss=function Gs(_){const l=[];return _o(_,l),l}((m.get(nr)||Mt).map(Rs=>Rs.getRealPlayer())).filter(Rs=>!!Rs.element&&Rs.element===nr),Qs=M.get(nr),Es=G.get(nr),na=Ve(this._normalizer,Wn.keyframes,Qs,Es),Ho=this._buildPlayer(Wn,na,Ss);if(Wn.subTimeline&&C&&fn.add(nr),os){const Rs=new Ui(l,Q,nr);Rs.setRealPlayer(Ho),Ke.push(Rs)}return Ho});Ke.forEach(Wn=>{wn(this.playersByQueriedElement,Wn.element,[]).push(Wn),Wn.onDone(()=>function Mi(_,l,h){let m=_.get(l);if(m){if(m.length){const C=m.indexOf(h);m.splice(C,1)}0==m.length&&_.delete(l)}return m}(this.playersByQueriedElement,Wn.element,Wn))}),Ct.forEach(Wn=>Yr(Wn,ai));const Ln=ye(Zn);return Ln.onDestroy(()=>{Ct.forEach(Wn=>hs(Wn,ai)),Mn(Ie,h.toStyles)}),fn.forEach(Wn=>{wn(C,Wn,[]).push(Ln)}),Ln}_buildPlayer(l,h,m){return h.length>0?this.driver.animate(l.element,h,l.duration,l.delay,l.easing,m):new sn.sf(l.duration,l.delay)}}class Ui{namespaceId;triggerName;element;_player=new sn.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(l,h,m){this.namespaceId=l,this.triggerName=h,this.element=m}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((h,m)=>{h.forEach(C=>xt(l,m,void 0,C))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const h=this._player;h.triggerCallback&&l.onStart(()=>h.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,h){wn(this._queuedCallbacks,l,[]).push(h)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const h=this._player;h.triggerCallback&&h.triggerCallback(l)}}function is(_){return _&&1===_.nodeType}function di(_,l){const h=_.style.display;return _.style.display=l??"none",h}function bi(_,l,h,m,C){const M=[];h.forEach(Ie=>M.push(di(Ie)));const G=[];m.forEach((Ie,Ke)=>{const Ct=new Map;Ie.forEach(fn=>{const Zn=l.computeStyle(Ke,fn,C);Ct.set(fn,Zn),(!Zn||0==Zn.length)&&(Ke[yn]=Tn,G.push(Ke))}),_.set(Ke,Ct)});let Q=0;return h.forEach(Ie=>di(Ie,M[Q++])),G}function _s(_,l){const h=new Map;if(_.forEach(Q=>h.set(Q,[])),0==l.length)return h;const C=new Set(l),M=new Map;function G(Q){if(!Q)return 1;let Ie=M.get(Q);if(Ie)return Ie;const Ke=Q.parentNode;return Ie=h.has(Ke)?Ke:C.has(Ke)?1:G(Ke),M.set(Q,Ie),Ie}return l.forEach(Q=>{const Ie=G(Q);1!==Ie&&h.get(Ie).push(Q)}),h}function Yr(_,l){_.classList?.add(l)}function hs(_,l){_.classList?.remove(l)}function As(_,l,h){ye(h).onDone(()=>_.processLeaveNode(l))}function _o(_,l){for(let h=0;h<_.length;h++){const m=_[h];m instanceof sn.PZ?_o(m.players,l):l.push(m)}}function Zo(_,l,h){const m=h.get(_);if(!m)return!1;let C=l.get(_);return C?m.forEach(M=>C.add(M)):l.set(_,m),h.delete(_),!0}class co{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(l,h)=>{};constructor(l,h,m){this._driver=h,this._normalizer=m,this._transitionEngine=new ui(l.body,h,m),this._timelineEngine=new rs(l.body,h,m),this._transitionEngine.onRemovalComplete=(C,M)=>this.onRemovalComplete(C,M)}registerTrigger(l,h,m,C,M){const G=l+"-"+C;let Q=this._triggerCache[G];if(!Q){const Ie=[],Ct=Bn(this._driver,M,Ie,[]);if(Ie.length)throw function xi(){return new I.wOt(3404,!1)}();Q=function mr(_,l,h){return new Pi(_,l,h)}(C,Ct,this._normalizer),this._triggerCache[G]=Q}this._transitionEngine.registerTrigger(h,C,Q)}register(l,h){this._transitionEngine.register(l,h)}destroy(l,h){this._transitionEngine.destroy(l,h)}onInsert(l,h,m,C){this._transitionEngine.insertNode(l,h,m,C)}onRemove(l,h,m){this._transitionEngine.removeNode(l,h,m)}disableAnimations(l,h){this._transitionEngine.markElementAsDisabled(l,h)}process(l,h,m,C){if("@"==m.charAt(0)){const[M,G]=gr(m);this._timelineEngine.command(M,h,G,C)}else this._transitionEngine.trigger(l,h,m,C)}listen(l,h,m,C,M){if("@"==m.charAt(0)){const[G,Q]=gr(m);return this._timelineEngine.listen(G,h,Q,M)}return this._transitionEngine.listen(l,h,m,C,M)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}let Fa=(()=>{class _{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(h,m,C){this._element=h,this._startStyles=m,this._endStyles=C;let M=_.initialStylesByElement.get(h);M||_.initialStylesByElement.set(h,M=new Map),this._initialStyles=M}start(){this._state<1&&(this._startStyles&&Mn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mn(this._element,this._initialStyles),this._endStyles&&(Mn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_.initialStylesByElement.delete(this._element),this._startStyles&&(ir(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ir(this._element,this._endStyles),this._endStyles=null),Mn(this._element,this._initialStyles),this._state=3)}}return _})();function La(_){let l=null;return _.forEach((h,m)=>{(function es(_){return"display"===_||"position"===_})(m)&&(l=l||new Map,l.set(m,h))}),l}class Po{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(l,h,m,C){this.element=l,this.keyframes=h,this.options=m,this._specialStyles=C,this._duration=m.duration,this._delay=m.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map;const h=()=>this._onFinish();this.domPlayer.addEventListener("finish",h),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",h)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const h=[];return l.forEach(m=>{h.push(Object.fromEntries(m))}),h}_triggerWebAnimation(l,h,m){return l.animate(this._convertKeyframesToObject(h),m)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((m,C)=>{"offset"!==C&&l.set(C,this._finished?m:ee(this.element,C))}),this.currentSnapshot=l}triggerCallback(l){const h="start"===l?this._onStartFns:this._onDoneFns;h.forEach(m=>m()),h.length=0}}class ii{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}containsElement(l,h){return St(l,h)}getParentElement(l){return oe(l)}query(l,h,m){return wt(l,h,m)}computeStyle(l,h,m){return ee(l,h)}animate(l,h,m,C,M,G=[]){const Ie={duration:m,delay:C,fill:0==C?"both":"forwards"};M&&(Ie.easing=M);const Ke=new Map,Ct=G.filter(Ln=>Ln instanceof Po);(function B(_,l){return 0===_||0===l})(m,C)&&Ct.forEach(Ln=>{Ln.currentSnapshot.forEach((Wn,nr)=>Ke.set(nr,Wn))});let fn=function Ht(_){return _.length?_[0]instanceof Map?_:_.map(l=>new Map(Object.entries(l))):[]}(h).map(Ln=>new Map(Ln));fn=function de(_,l,h){if(h.size&&l.length){let m=l[0],C=[];if(h.forEach((M,G)=>{m.has(G)||C.push(G),m.set(G,M)}),C.length)for(let M=1;M<l.length;M++){let G=l[M];C.forEach(Q=>G.set(Q,ee(_,Q)))}}return l}(l,fn,Ke);const Zn=function Oa(_,l){let h=null,m=null;return Array.isArray(l)&&l.length?(h=La(l[0]),l.length>1&&(m=La(l[l.length-1]))):l instanceof Map&&(h=La(l)),h||m?new Fa(_,h,m):null}(l,fn);return new Po(l,fn,Ie,Zn)}}const vo="@.disabled";class Di{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(l,h,m,C){this.namespaceId=l,this.delegate=h,this.engine=m,this._onDestroy=C}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,h){return this.delegate.createElement(l,h)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,h){this.delegate.appendChild(l,h),this.engine.onInsert(this.namespaceId,h,l,!1)}insertBefore(l,h,m,C=!0){this.delegate.insertBefore(l,h,m),this.engine.onInsert(this.namespaceId,h,l,C)}removeChild(l,h,m){this.parentNode(h)&&this.engine.onRemove(this.namespaceId,h,this.delegate)}selectRootElement(l,h){return this.delegate.selectRootElement(l,h)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,h,m,C){this.delegate.setAttribute(l,h,m,C)}removeAttribute(l,h,m){this.delegate.removeAttribute(l,h,m)}addClass(l,h){this.delegate.addClass(l,h)}removeClass(l,h){this.delegate.removeClass(l,h)}setStyle(l,h,m,C){this.delegate.setStyle(l,h,m,C)}removeStyle(l,h,m){this.delegate.removeStyle(l,h,m)}setProperty(l,h,m){"@"==h.charAt(0)&&h==vo?this.disableAnimations(l,!!m):this.delegate.setProperty(l,h,m)}setValue(l,h){this.delegate.setValue(l,h)}listen(l,h,m,C){return this.delegate.listen(l,h,m,C)}disableAnimations(l,h){this.engine.disableAnimations(l,h)}}class da extends Di{factory;constructor(l,h,m,C,M){super(h,m,C,M),this.factory=l,this.namespaceId=h}setProperty(l,h,m){"@"==h.charAt(0)?"."==h.charAt(1)&&h==vo?this.disableAnimations(l,m=void 0===m||!!m):this.engine.process(this.namespaceId,l,h.slice(1),m):this.delegate.setProperty(l,h,m)}listen(l,h,m,C){if("@"==h.charAt(0)){const M=function $r(_){switch(_){case"body":return document.body;case"document":return document;case"window":return window;default:return _}}(l);let G=h.slice(1),Q="";return"@"!=G.charAt(0)&&([G,Q]=function Fr(_){const l=_.indexOf(".");return[_.substring(0,l),_.slice(l+1)]}(G)),this.engine.listen(this.namespaceId,M,G,Q,Ie=>{this.factory.scheduleListenerCallback(Ie._data||-1,m,Ie)})}return this.delegate.listen(l,h,m,C)}}class ba{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(l,h,m){this.delegate=l,this.engine=h,this._zone=m,h.onRemovalComplete=(C,M)=>{M?.removeChild(null,C)}}createRenderer(l,h){const C=this.delegate.createRenderer(l,h);if(!l||!h?.data?.animation){const Ke=this._rendererCache;let Ct=Ke.get(C);return Ct||(Ct=new Di("",C,this.engine,()=>Ke.delete(C)),Ke.set(C,Ct)),Ct}const M=h.id,G=h.id+"-"+this._currentId;this._currentId++,this.engine.register(G,l);const Q=Ke=>{Array.isArray(Ke)?Ke.forEach(Q):this.engine.registerTrigger(M,G,l,Ke.name,Ke)};return h.data.animation.forEach(Q),new da(this,G,C,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,h,m){if(l>=0&&l<this._microtaskId)return void this._zone.run(()=>h(m));const C=this._animationCallbacksBuffer;0==C.length&&queueMicrotask(()=>{this._zone.run(()=>{C.forEach(M=>{const[G,Q]=M;G(Q)}),this._animationCallbacksBuffer=[]})}),C.push([h,m])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(l){this.engine.flush(),this.delegate.componentReplaced?.(l)}}const pc=[{provide:nn,useFactory:function qa(){return new Kr}},{provide:co,useClass:(()=>{class _ extends co{constructor(h,m,C){super(h,m,C)}ngOnDestroy(){this.flush()}static \u0275fac=function(m){return new(m||_)(I.KVO(q.q),I.KVO(It),I.KVO(nn))};static \u0275prov=I.jDH({token:_,factory:_.\u0275fac})}return _})()},{provide:I._9s,useFactory:function ha(_,l,h){return new ba(_,l,h)},deps:[st,co,I.SKi]}],Ca=[{provide:It,useFactory:()=>new ii},{provide:I.bc$,useFactory:()=>"BrowserAnimations"},...pc];var hi=L(6895);let zs=(()=>{class _{title="todo-app";static \u0275fac=function(m){return new(m||_)};static \u0275cmp=I.VBU({type:_,selectors:[["app-root"]],decls:1,vars:0,template:function(m,C){1&m&&I.nrm(0,"router-outlet")},dependencies:[hi.n3],encapsulation:2})}return _})();var ki=L(5207),Vs=L(467),Eo=L(2881),Ar=L(6335),P=L(5558);let k=(()=>{class _{static \u0275fac=function(m){return new(m||_)};static \u0275cmp=I.VBU({type:_,selectors:[["app-components"]],decls:335,vars:0,consts:[[1,"container","border-2"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title","fw-semibold","mb-4"],[1,"card-body","p-4"],["type","button",1,"btn","btn-full","--primary","m-1"],["type","button",1,"btn","btn-full","--secondary","m-1"],["type","button",1,"btn","btn-full","--success","m-1"],["type","button",1,"btn","btn-full","--danger","m-1"],["type","button",1,"btn","btn-full","--warning","m-1"],["type","button",1,"btn","btn-full","--info","m-1"],["type","button",1,"btn","btn-full","--light","m-1"],["type","button",1,"btn","btn-full","--dark","m-1"],["type","button",1,"btn","btn-full","--link","m-1"],[1,"card","mb-0"],["type","button",1,"btn","btn-border","--primary","m-1"],["type","button",1,"btn","btn-border","--secondary","m-1"],["type","button",1,"btn","btn-border","--success","m-1"],["type","button",1,"btn","btn-border","--danger","m-1"],["type","button",1,"btn","btn-border","--warning","m-1"],["type","button",1,"btn","btn-border","--info","m-1"],["type","button",1,"btn","btn-border","--light","m-1"],["type","button",1,"btn","btn-border","--dark","m-1"],["type","button",1,"btn","btn-border","--link","m-1"],["id","tables",1,"min-vh-100","d-flex","align-items-center","py-5"],[1,"container"],[1,"display-5","fw-bold","font-raleway","mb-3"],[1,"col-sm-12","col-md-6","py-2","grid-margin","stretch-card"],[1,"card-title"],[1,"card-description"],[1,"table-responsive"],[1,"table"],[1,"badge","badge-type","badge-outline-danger"],[1,"badge","badge-type","badge-outline-success"],[1,"badge","badge-type","badge-outline-info"],[1,"badge","badge-type","badge-outline-warning"],[1,"table","table-hover"],[1,"text-danger"],[1,"ti-arrow-down"],[1,"text-success"],[1,"ti-arrow-up"],[1,"col-12","py-2","grid-margin","stretch-card"],[1,"table","table-light","table-hover"],[1,"py-1"],["src","https://randomuser.me/api/portraits/thumb/men/20.jpg","alt","image"],[1,"progress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","25%"],[1,"badge","badge-full-success"],["src","https://randomuser.me/api/portraits/thumb/men/7.jpg","alt","image"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","75%"],[1,"badge","badge-full-danger"],["src","https://randomuser.me/api/portraits/thumb/men/2.jpg","alt","image"],["role","progressbar","aria-valuenow","90","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning",2,"width","90%"],[1,"badge","badge-full-warning"],["src","https://randomuser.me/api/portraits/thumb/women/1.jpg","alt","image"],["role","progressbar","aria-valuenow","50","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","50%"],[1,"badge","badge-full-primary"],["src","https://randomuser.me/api/portraits/thumb/women/3.jpg","alt","image"],["role","progressbar","aria-valuenow","35","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","35%"],[1,"badge","badge-full-secondary"],["src","https://randomuser.me/api/portraits/thumb/women/6.jpg","alt","image"],["role","progressbar","aria-valuenow","65","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","65%"],[1,"badge","badge-full-info"],["src","https://randomuser.me/api/portraits/thumb/men/12.jpg","alt","image"],["role","progressbar","aria-valuenow","20","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning",2,"width","20%"]],template:function(m,C){1&m&&(I.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),I.EFF(6,"Buttons"),I.k0s(),I.j41(7,"div",3)(8,"div",6)(9,"button",7),I.EFF(10,"Primary"),I.k0s(),I.j41(11,"button",8),I.EFF(12,"Secondary"),I.k0s(),I.j41(13,"button",9),I.EFF(14,"Success"),I.k0s(),I.j41(15,"button",10),I.EFF(16,"Danger"),I.k0s(),I.j41(17,"button",11),I.EFF(18,"Warning"),I.k0s(),I.j41(19,"button",12),I.EFF(20,"Info"),I.k0s(),I.j41(21,"button",13),I.EFF(22,"Light"),I.k0s(),I.j41(23,"button",14),I.EFF(24,"Dark"),I.k0s(),I.j41(25,"button",15),I.EFF(26,"Link"),I.k0s()()(),I.j41(27,"h5",5),I.EFF(28,"Outline buttons"),I.k0s(),I.j41(29,"div",16)(30,"div",6)(31,"button",17),I.EFF(32,"Primary"),I.k0s(),I.j41(33,"button",18),I.EFF(34,"Secondary"),I.k0s(),I.j41(35,"button",19),I.EFF(36,"Success"),I.k0s(),I.j41(37,"button",20),I.EFF(38,"Danger"),I.k0s(),I.j41(39,"button",21),I.EFF(40,"Warning"),I.k0s(),I.j41(41,"button",22),I.EFF(42,"Info"),I.k0s(),I.j41(43,"button",23),I.EFF(44,"Light"),I.k0s(),I.j41(45,"button",24),I.EFF(46,"Dark"),I.k0s(),I.j41(47,"button",25),I.EFF(48,"Link"),I.k0s()()()()()()()(),I.j41(49,"section",26)(50,"div",27)(51,"div",1)(52,"div",2)(53,"h2",28),I.EFF(54,"Tables"),I.k0s()(),I.j41(55,"div",29)(56,"div",3)(57,"div",4)(58,"h4",30),I.EFF(59,"Basic Table"),I.k0s(),I.j41(60,"p",31),I.EFF(61," Add class "),I.j41(62,"code"),I.EFF(63,".table"),I.k0s()(),I.j41(64,"div",32)(65,"table",33)(66,"thead")(67,"tr")(68,"th"),I.EFF(69,"Profile"),I.k0s(),I.j41(70,"th"),I.EFF(71,"VatNo."),I.k0s(),I.j41(72,"th"),I.EFF(73,"Created"),I.k0s(),I.j41(74,"th"),I.EFF(75,"Status"),I.k0s()()(),I.j41(76,"tbody")(77,"tr")(78,"td"),I.EFF(79,"Jacob"),I.k0s(),I.j41(80,"td"),I.EFF(81,"53275531"),I.k0s(),I.j41(82,"td"),I.EFF(83,"12 May 2017"),I.k0s(),I.j41(84,"td")(85,"label",34),I.EFF(86,"Pending"),I.k0s()()(),I.j41(87,"tr")(88,"td"),I.EFF(89,"Messsy"),I.k0s(),I.j41(90,"td"),I.EFF(91,"53275532"),I.k0s(),I.j41(92,"td"),I.EFF(93,"15 May 2017"),I.k0s(),I.j41(94,"td")(95,"label",35),I.EFF(96,"In progress"),I.k0s()()(),I.j41(97,"tr")(98,"td"),I.EFF(99,"John"),I.k0s(),I.j41(100,"td"),I.EFF(101,"53275533"),I.k0s(),I.j41(102,"td"),I.EFF(103,"14 May 2017"),I.k0s(),I.j41(104,"td")(105,"label",36),I.EFF(106,"Fixed"),I.k0s()()(),I.j41(107,"tr")(108,"td"),I.EFF(109,"Peter"),I.k0s(),I.j41(110,"td"),I.EFF(111,"53275534"),I.k0s(),I.j41(112,"td"),I.EFF(113,"16 May 2017"),I.k0s(),I.j41(114,"td")(115,"label",35),I.EFF(116,"Completed"),I.k0s()()(),I.j41(117,"tr")(118,"td"),I.EFF(119,"Dave"),I.k0s(),I.j41(120,"td"),I.EFF(121,"53275535"),I.k0s(),I.j41(122,"td"),I.EFF(123,"20 May 2017"),I.k0s(),I.j41(124,"td")(125,"label",37),I.EFF(126,"In progress"),I.k0s()()()()()()()()(),I.j41(127,"div",29)(128,"div",3)(129,"div",4)(130,"h4",30),I.EFF(131,"Hoverable Table"),I.k0s(),I.j41(132,"p",31),I.EFF(133," Add class "),I.j41(134,"code"),I.EFF(135,".table-hover"),I.k0s()(),I.j41(136,"div",32)(137,"table",38)(138,"thead")(139,"tr")(140,"th"),I.EFF(141,"User"),I.k0s(),I.j41(142,"th"),I.EFF(143,"Product"),I.k0s(),I.j41(144,"th"),I.EFF(145,"Sale"),I.k0s(),I.j41(146,"th"),I.EFF(147,"Status"),I.k0s()()(),I.j41(148,"tbody")(149,"tr")(150,"td"),I.EFF(151,"Jacob"),I.k0s(),I.j41(152,"td"),I.EFF(153,"Photoshop"),I.k0s(),I.j41(154,"td",39),I.EFF(155," 28.76% "),I.nrm(156,"i",40),I.k0s(),I.j41(157,"td")(158,"label",34),I.EFF(159,"Pending"),I.k0s()()(),I.j41(160,"tr")(161,"td"),I.EFF(162,"Messsy"),I.k0s(),I.j41(163,"td"),I.EFF(164,"Flash"),I.k0s(),I.j41(165,"td",39),I.EFF(166," 21.06% "),I.nrm(167,"i",40),I.k0s(),I.j41(168,"td")(169,"label",37),I.EFF(170,"In progress"),I.k0s()()(),I.j41(171,"tr")(172,"td"),I.EFF(173,"John"),I.k0s(),I.j41(174,"td"),I.EFF(175,"Premier"),I.k0s(),I.j41(176,"td",39),I.EFF(177," 35.00% "),I.nrm(178,"i",40),I.k0s(),I.j41(179,"td")(180,"label",36),I.EFF(181,"Fixed"),I.k0s()()(),I.j41(182,"tr")(183,"td"),I.EFF(184,"Peter"),I.k0s(),I.j41(185,"td"),I.EFF(186,"After effects"),I.k0s(),I.j41(187,"td",41),I.EFF(188," 82.00% "),I.nrm(189,"i",42),I.k0s(),I.j41(190,"td")(191,"label",35),I.EFF(192,"Completed"),I.k0s()()(),I.j41(193,"tr")(194,"td"),I.EFF(195,"Dave"),I.k0s(),I.j41(196,"td"),I.EFF(197,"53275535"),I.k0s(),I.j41(198,"td",41),I.EFF(199," 98.05% "),I.nrm(200,"i",42),I.k0s(),I.j41(201,"td")(202,"label",37),I.EFF(203,"In progress"),I.k0s()()()()()()()()(),I.j41(204,"div",43)(205,"div",3)(206,"div",4)(207,"h4",30),I.EFF(208,"Striped Table"),I.k0s(),I.j41(209,"p",31),I.EFF(210," Add class "),I.j41(211,"code"),I.EFF(212,".table-striped"),I.k0s()(),I.j41(213,"div",32)(214,"table",44)(215,"thead")(216,"tr")(217,"th"),I.EFF(218," User "),I.k0s(),I.j41(219,"th"),I.EFF(220," First name "),I.k0s(),I.j41(221,"th"),I.EFF(222," Progress "),I.k0s(),I.j41(223,"th"),I.EFF(224," Amount "),I.k0s(),I.j41(225,"th"),I.EFF(226," Deadline "),I.k0s(),I.j41(227,"th"),I.EFF(228," Status "),I.k0s()()(),I.j41(229,"tbody")(230,"tr")(231,"td",45),I.nrm(232,"img",46),I.k0s(),I.j41(233,"td"),I.EFF(234," Herman Beck "),I.k0s(),I.j41(235,"td")(236,"div",47),I.nrm(237,"div",48),I.k0s()(),I.j41(238,"td"),I.EFF(239," $ 77.99 "),I.k0s(),I.j41(240,"td"),I.EFF(241," May 15, 2015 "),I.k0s(),I.j41(242,"td")(243,"label",49),I.EFF(244,"In progress"),I.k0s()()(),I.j41(245,"tr")(246,"td",45),I.nrm(247,"img",50),I.k0s(),I.j41(248,"td"),I.EFF(249," Messsy Adam "),I.k0s(),I.j41(250,"td")(251,"div",47),I.nrm(252,"div",51),I.k0s()(),I.j41(253,"td"),I.EFF(254," $245.30 "),I.k0s(),I.j41(255,"td"),I.EFF(256," July 1, 2015 "),I.k0s(),I.j41(257,"td")(258,"label",52),I.EFF(259,"In progress"),I.k0s()()(),I.j41(260,"tr")(261,"td",45),I.nrm(262,"img",53),I.k0s(),I.j41(263,"td"),I.EFF(264," John Richards "),I.k0s(),I.j41(265,"td")(266,"div",47),I.nrm(267,"div",54),I.k0s()(),I.j41(268,"td"),I.EFF(269," $138.00 "),I.k0s(),I.j41(270,"td"),I.EFF(271," Apr 12, 2015 "),I.k0s(),I.j41(272,"td")(273,"label",55),I.EFF(274,"In progress"),I.k0s()()(),I.j41(275,"tr")(276,"td",45),I.nrm(277,"img",56),I.k0s(),I.j41(278,"td"),I.EFF(279," Peter Meggik "),I.k0s(),I.j41(280,"td")(281,"div",47),I.nrm(282,"div",57),I.k0s()(),I.j41(283,"td"),I.EFF(284," $ 77.99 "),I.k0s(),I.j41(285,"td"),I.EFF(286," May 15, 2015 "),I.k0s(),I.j41(287,"td")(288,"label",58),I.EFF(289,"In progress"),I.k0s()()(),I.j41(290,"tr")(291,"td",45),I.nrm(292,"img",59),I.k0s(),I.j41(293,"td"),I.EFF(294," Edward "),I.k0s(),I.j41(295,"td")(296,"div",47),I.nrm(297,"div",60),I.k0s()(),I.j41(298,"td"),I.EFF(299," $ 160.25 "),I.k0s(),I.j41(300,"td"),I.EFF(301," May 03, 2015 "),I.k0s(),I.j41(302,"td")(303,"label",61),I.EFF(304,"In progress"),I.k0s()()(),I.j41(305,"tr")(306,"td",45),I.nrm(307,"img",62),I.k0s(),I.j41(308,"td"),I.EFF(309," John Doe "),I.k0s(),I.j41(310,"td")(311,"div",47),I.nrm(312,"div",63),I.k0s()(),I.j41(313,"td"),I.EFF(314," $ 123.21 "),I.k0s(),I.j41(315,"td"),I.EFF(316," April 05, 2015 "),I.k0s(),I.j41(317,"td")(318,"label",64),I.EFF(319,"In progress"),I.k0s()()(),I.j41(320,"tr")(321,"td",45),I.nrm(322,"img",65),I.k0s(),I.j41(323,"td"),I.EFF(324," Henry Tom "),I.k0s(),I.j41(325,"td")(326,"div",47),I.nrm(327,"div",66),I.k0s()(),I.j41(328,"td"),I.EFF(329," $ 150.00 "),I.k0s(),I.j41(330,"td"),I.EFF(331," June 16, 2015 "),I.k0s(),I.j41(332,"td")(333,"label",55),I.EFF(334,"In progress"),I.k0s()()()()()()()()()()()())},encapsulation:2})}return _})();var j=L(9885),Ae=L(4796),kt=L(6810),bn=L(9332),cr=L(7759);const Bi=()=>["/dashboard/todo"],ji=_=>["/dashboard/profile",_],vs=()=>["/dashboard/claims"],Jo=()=>["/dashboard/admin-users"];function Va(_,l){if(1&_&&(I.j41(0,"span",50),I.EFF(1),I.k0s()),2&_){const h=I.XpG();I.R7$(),I.JRh(h.pendingCount)}}let Ks=(()=>{class _{route;auth;userService;authService;router;todoService;alertaService;mockService;userData=null;isLoading=!0;imagePath="assets/images/isotipo-webmain.svg";imageDefault="https://maxuber79.github.io/gsaforce/assets/images/face28.jpg";apodoUser="perrito";user=null;uid=null;profilePhotoURL="";pendingCount=0;todos=[];metrics="";tickets;satisfaction;channels;channelLabels=["Web","App","WhatsApp","Call Center"];channelData=[40,25,20,15];notifications=[];channelsData=[];constructor(h,m,C,M,G,Q,Ie,Ke){this.route=h,this.auth=m,this.userService=C,this.authService=M,this.router=G,this.todoService=Q,this.alertaService=Ie,this.mockService=Ke,console.log("%c<<< Start DashboardComponent >>>","background: #0d6efd; color: #ffffff; padding: 2px 5px;")}ngOnInit(){console.log("\u{1f4e6} Iniciando carga de usuario en dashboard..."),this.mockService.getDashboardMetrics().subscribe({next:h=>{console.log("%c<<< Datos recibidos del servicio >>>","background: #0d6efd; color: #ffffff; padding: 2px 5px;",h.metrics),this.metrics=h.metrics,console.log("%c<<< M\xc9TRICAS >>>","background:#0d6efd;color:#fff;padding:2px 5px;",this.metrics),this.tickets=h.chartData.tickets,console.log("%c<<< TICKETS >>>","background:#198754;color:#fff;padding:2px 5px;",this.tickets),this.satisfaction=h.chartData.satisfaction,console.log("%c<<< SATISFACCI\xd3N >>>","background:#ffc107;color:#000;padding:2px 5px;",this.satisfaction),this.channels=h.chartData.channel,console.log("%c<<< CANALES >>>","background:#6610f2;color:#fff;padding:2px 5px;",this.channels)},error:h=>{console.error("\u274c Error al obtener datos del servicio:",h)},complete:()=>{console.log("%c<<< complete graphics data >>>","background: #198754; color: #ffffff; padding: 2px 5px;")}}),this.mockService.getNotifications().subscribe(h=>{this.notifications=h,console.log("\u{1f4e3} Notificaciones cargadas:",this.notifications)}),this.authService.getAuthState().subscribe({next:h=>{},error:h=>{console.error("%cHTTP Error","background: #f8d7da; color: #842029; padding: 2px 5px;",h)},complete:()=>{console.log("%cHTTP request completed.","background: #d1e7dd; color: #0f5132; padding: 2px 5px;")}}),this.authService.getCurrentUser().pipe((0,P.n)(h=>this.userService.getUserData(h.uid))).subscribe({next:h=>{},error:h=>{console.error("%cHTTP Error","background: #f8d7da; color: #842029; padding: 2px 5px;",h)},complete:()=>{console.log("%cHTTP request completed.","background: #d1e7dd; color: #0f5132; padding: 2px 5px;")}}),(0,Ar.hg)(this.auth,h=>{h&&h.uid?this.userService.getUserData(h.uid).subscribe({next:m=>{this.userData=m?{...m,createdDate:m.created_at?.seconds?new Date(1e3*m.created_at.seconds):void 0}:null,this.profilePhotoURL=h.photoURL||this.imageDefault,this.isLoading=!1},error:m=>{console.error("Error al cargar el perfil:",m),this.isLoading=!1}}):(console.warn("Usuario no autenticado"),this.isLoading=!1)}),this.userService.getUserData("").subscribe(h=>{h?this.userData=h:(console.warn("\u26a0\ufe0f No hay usuario logueado. Redirigiendo a login..."),this.router.navigate(["/login"])),this.isLoading=!1}),this.todoService.getPendingTodosCount().subscribe(h=>{this.pendingCount=h,console.log("\u{1f534} Tareas pendientes:",h)}),this.todoService.getTodos().subscribe({next:h=>{this.todos=h,console.log("\u{1f4cc} Todos recibidos en dashboard:",this.todos),this.alertaService.showToastSuccess("Tareas cargadas correctamente","\xc9xito")},error:h=>{console.error("\u274c Error al obtener tareas:",h)},complete:()=>{console.log("%cHTTP request completed.","background: #d1e7dd; color: #0f5132; padding: 2px 5px;")}})}onLogout(){var h=this;return(0,Vs.A)(function*(){try{yield h.authService.logout(),h.router.navigate(["/"])}catch(m){console.error("\u274c Error al cerrar sesi\xf3n:",m)}})()}goToProfile(){this.userData?.uid?this.router.navigate(["/dashboard/profile",this.userData.uid]):console.error("\u274c No se encontr\xf3 UID para navegar al perfil")}static \u0275fac=function(m){return new(m||_)(I.rXU(hi.nX),I.rXU(Ar.Nj),I.rXU(j.D),I.rXU(Ae.u),I.rXU(hi.Ix),I.rXU(kt.y),I.rXU(bn.u),I.rXU(cr.I))};static \u0275cmp=I.VBU({type:_,selectors:[["app-dashboard"]],decls:108,vars:12,consts:[[1,"d-flex","flex-column","min-vh-100","dashboard"],[1,"px-3","text-bg-dark"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["alt","","width","50",1,"",3,"src"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","#",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],["aria-disabled","true",1,"nav-link","disabled"],[1,"navbar-nav","flex-row","d-none","d-md-flex"],[1,"nav-item","me-3","me-lg-1","active"],[1,"bi","bi-gear-fill"],[1,"nav-item","me-3","me-lg-1"],[1,"bi","bi-bell-fill"],["class","badge rounded-pill badge-notification bg-danger",4,"ngIf"],[1,"dropdown","text-end"],["href","#","data-bs-toggle","dropdown","aria-expanded","false",1,"text-decoration-none","dropdown-toggle"],["alt","mdo","width","32","height","32",1,"rounded-circle",3,"src"],[1,"dropdown-menu","dropdown-menu-end","text-small"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-item",3,"click"],[1,"flex-grow-1","container","py-4","border-1"],[1,"container","border-2"],["data-bs-theme","dark",1,"py-4","bg-dark"],[1,"container"],[1,"d-lg-flex","justify-content-between","py-3","py-lg-2"],[1,"small","mb-2","mb-lg-0"],[1,"text-muted","mb-0","me-5"],[1,"d-flex","small","align-items-end","justify-content-between"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3","mb-2","mb-lg-0"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3"],[1,"d-none","d-lg-block","ms-3"],["href","",1,"me-2"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-pinterest","text-primary"],["d","M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-twitter","text-primary"],["d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-facebook","text-primary"],["d","M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"],[1,"d-lg-none"],[1,"badge","rounded-pill","badge-notification","bg-danger"]],template:function(m,C){1&m&&(I.j41(0,"div",0)(1,"header",1)(2,"nav",2)(3,"div",3)(4,"a",4),I.nrm(5,"img",5),I.k0s(),I.j41(6,"button",6),I.nrm(7,"span",7),I.k0s(),I.j41(8,"div",8)(9,"ul",9)(10,"li",10)(11,"a",11),I.EFF(12,"Home"),I.k0s()(),I.j41(13,"li",10)(14,"a",12),I.EFF(15,"Link"),I.k0s()(),I.j41(16,"li",13)(17,"a",14),I.EFF(18," Dropdown "),I.k0s(),I.j41(19,"ul",15)(20,"li")(21,"a",16),I.EFF(22,"Action"),I.k0s()(),I.j41(23,"li")(24,"a",16),I.EFF(25,"Another action"),I.k0s()(),I.j41(26,"li"),I.nrm(27,"hr",17),I.k0s(),I.j41(28,"li")(29,"a",16),I.EFF(30,"Something else here"),I.k0s()()()(),I.j41(31,"li",10)(32,"a",18),I.EFF(33,"Disabled"),I.k0s()()(),I.j41(34,"ul",19)(35,"li",20)(36,"a",12)(37,"span"),I.nrm(38,"i",21),I.k0s()()(),I.j41(39,"li",22)(40,"a",12)(41,"span"),I.nrm(42,"i",23),I.k0s(),I.DNE(43,Va,2,1,"span",24),I.k0s()()(),I.j41(44,"div",25)(45,"a",26),I.nrm(46,"img",27),I.k0s(),I.j41(47,"ul",28)(48,"li")(49,"a",16),I.EFF(50,"New project..."),I.k0s()(),I.j41(51,"li")(52,"a",29),I.EFF(53,"To-Do"),I.k0s()(),I.j41(54,"li")(55,"a",29),I.EFF(56,"Profile"),I.k0s()(),I.j41(57,"li")(58,"a",29),I.EFF(59,"Mis Reclamos"),I.k0s()(),I.j41(60,"li")(61,"a",29),I.EFF(62," Admin Usuarios "),I.k0s()(),I.j41(63,"li"),I.nrm(64,"hr",17),I.k0s(),I.j41(65,"li")(66,"a",30),I.bIt("click",function(){return C.onLogout()}),I.EFF(67,"Sign out"),I.k0s()()()()()()()(),I.j41(68,"main",31)(69,"section",32),I.nrm(70,"router-outlet"),I.k0s(),I.nrm(71,"app-components"),I.k0s(),I.j41(72,"footer",33)(73,"div",34)(74,"div",35)(75,"div",36)(76,"p",37),I.EFF(77,"\xa9 2023 FreeFrontend.dev. All rights reserved."),I.k0s()(),I.j41(78,"div",38)(79,"div")(80,"a",39),I.EFF(81,"Privacy Policy"),I.k0s(),I.j41(82,"a",39),I.EFF(83,"Terms"),I.k0s(),I.j41(84,"a",39),I.EFF(85,"Cookies"),I.k0s(),I.j41(86,"a",40),I.EFF(87,"Sitemap"),I.k0s()(),I.j41(88,"div",41)(89,"a",42),I.qSk(),I.j41(90,"svg",43),I.nrm(91,"path",44),I.k0s()(),I.joV(),I.j41(92,"a",42),I.qSk(),I.j41(93,"svg",45),I.nrm(94,"path",46),I.k0s()(),I.joV(),I.j41(95,"a",42),I.qSk(),I.j41(96,"svg",47),I.nrm(97,"path",48),I.k0s()()(),I.joV(),I.j41(98,"div",49)(99,"a",42),I.qSk(),I.j41(100,"svg",43),I.nrm(101,"path",44),I.k0s()(),I.joV(),I.j41(102,"a",42),I.qSk(),I.j41(103,"svg",45),I.nrm(104,"path",46),I.k0s()(),I.joV(),I.j41(105,"a",42),I.qSk(),I.j41(106,"svg",47),I.nrm(107,"path",48),I.k0s()()()()()()()()),2&m&&(I.R7$(5),I.Y8G("src",C.imagePath,I.B4B),I.R7$(38),I.Y8G("ngIf",C.pendingCount>0),I.R7$(3),I.Y8G("src",(null==C.userData?null:C.userData.photoURL)||C.imageDefault,I.B4B),I.R7$(6),I.Y8G("routerLink",I.lJ4(7,Bi)),I.R7$(3),I.Y8G("routerLink",I.eq3(8,ji,null==C.userData?null:C.userData.uid)),I.R7$(3),I.Y8G("routerLink",I.lJ4(10,vs)),I.R7$(3),I.Y8G("routerLink",I.lJ4(11,Jo)))},dependencies:[Eo.MD,Eo.bT,ki.iI,hi.n3,ki.Wk,k],styles:["[data-card=border][_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid var(--bs-border-color);box-shadow:none}.card[_ngcontent-%COMP%]{margin-bottom:var(--bs-gutter-x)}.card-title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px;color:var(--bs-card-title-color)}.card-subtitle[_ngcontent-%COMP%]{font-size:14px;line-height:24px;color:var(--bs-card-subtitle-color)}.card-hover[_ngcontent-%COMP%]{transition:.2s ease-in}.card-hover[_ngcontent-%COMP%]:hover{transform:translate3d(0,-5px,0)}.cardwithborder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid var(--bs-border-color)}.card-fullscreen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;overflow:auto}.draggable-cards[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{cursor:move}.card-moved[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:var(--bs-info);color:var(--bs-white)}"]})}return _})();function Cs(_,l){1&_&&(I.j41(0,"div",5)(1,"div",6)(2,"span",7),I.EFF(3,"Cargando..."),I.k0s()(),I.j41(4,"p",8),I.EFF(5,"Procesando..."),I.k0s()())}let wo=(()=>{class _{router;userName="Nuevo Usuario";isLoading=!1;constructor(h){this.router=h}goToDashboard(){setTimeout(()=>{this.isLoading=!1,this.router.navigate(["/dashboard"])},2e3)}static \u0275fac=function(m){return new(m||_)(I.rXU(hi.Ix))};static \u0275cmp=I.VBU({type:_,selectors:[["app-welcome"]],decls:8,vars:2,consts:[[1,"welcome-container"],[1,"welcome-title"],[1,"welcome-subtitle"],["class","text-center my-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"text-center","my-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"]],template:function(m,C){1&m&&(I.j41(0,"section",0)(1,"h1",1),I.EFF(2),I.k0s(),I.j41(3,"p",2),I.EFF(4," Gracias por registrarte en nuestra aplicaci\xf3n To-Do. Desde aqu\xed puedes acceder a tu panel de control. "),I.k0s(),I.DNE(5,Cs,6,0,"div",3),I.j41(6,"button",4),I.bIt("click",function(){return C.goToDashboard()}),I.EFF(7,"Ir al Dashboard"),I.k0s()()),2&m&&(I.R7$(2),I.SpI("\xa1Bienvenido, ",C.userName,"! \u{1f44b}"),I.R7$(3),I.Y8G("ngIf",C.isLoading))},dependencies:[Eo.MD,Eo.bT],styles:[".welcome-container[_ngcontent-%COMP%]{text-align:center;padding:2rem}.welcome-container[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.welcome-container[_ngcontent-%COMP%]   .welcome-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:#555}.welcome-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1.5rem}"]})}return _})();var qs=L(520),ea=L(1985);const An=(_,l)=>{const h=(0,I.WQX)(Ar.Nj),m=(0,I.WQX)(hi.Ix);return new ea.c(C=>{const M=(0,qs.hg)(h,G=>{G?C.next(!0):(m.navigate(["/"]),C.next(!1)),C.complete(),M()})})},ta=(_,l)=>{const h=(0,I.WQX)(Ar.Nj),m=(0,I.WQX)(hi.Ix);return new ea.c(C=>{const M=(0,qs.hg)(h,G=>{G?(m.navigate(["/dashboard"]),C.next(!1)):C.next(!0),C.complete(),M()})})},Io=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>Promise.all([L.e(341),L.e(195)]).then(L.bind(L,7195)).then(_=>_.LoginComponent),canActivate:[ta]},{path:"register",loadComponent:()=>Promise.all([L.e(341),L.e(739)]).then(L.bind(L,2739)).then(_=>_.RegisterComponent),canActivate:[ta]},{path:"forgot",loadComponent:()=>Promise.all([L.e(341),L.e(439)]).then(L.bind(L,6439)).then(_=>_.ForgotPasswordComponent),canActivate:[ta]},{path:"dashboard",component:Ks,canActivate:[An],loadChildren:()=>Promise.all([L.e(341),L.e(433)]).then(L.bind(L,7433)).then(_=>_.routes)},{path:"welcome",component:wo,canActivate:[An]},{path:"**",loadComponent:()=>L.e(887).then(L.bind(L,8887)).then(_=>_.NotFoundComponent)}];var uo=L(7643);const Sa_firebaseConfig={apiKey:"AIzaSyCbOayfHpIwogvguhehOdr1JZO5IW1ELwA",authDomain:"to-do-app-2a154.firebaseapp.com",projectId:"to-do-app-2a154",storageBucket:"to-do-app-2a154.firebasestorage.app",messagingSenderId:"772395492262",appId:"1:772395492262:web:902eddb2ce4a22857da567"};var Ra=L(7440),Hi=L(9967),zi=L(2107),A=L(5794);(function rn(_,l){return(0,I.TL3)({rootComponent:_,...Jn(l)})})(zs,{providers:[(0,ki.lh)(Io),(0,uo.$R)(),function Wr(){return(0,I.ngT)("NgEagerAnimations"),[...Ca]}(),(0,Ra.MW)(()=>(0,Ra.Wp)(Sa_firebaseConfig)),(0,Ar._q)(()=>(0,Ar.xI)()),(0,Hi.hV)(()=>(0,Hi.aU)()),(0,zi.Xm)(()=>(0,zi.c7)()),(0,A.DP)({positionClass:"toast-bottom-right",timeOut:3e3,closeButton:!0,progressBar:!0})]}).catch(_=>console.error(_))},8455:(En,Be,L)=>{"use strict";L.d(Be,{H:()=>Re});var T=L(8750),O=L(941),q=L(6745),Xe=L(1985),Ee=L(4761),je=L(8071),we=L(5225);function it(Qe,qe){if(!Qe)throw new Error("Iterable cannot be null");return new Xe.c(vt=>{(0,we.N)(vt,qe,()=>{const Wt=Qe[Symbol.asyncIterator]();(0,we.N)(vt,qe,()=>{Wt.next().then(st=>{st.done?vt.complete():vt.next(st.value)})},0,!0)})})}var ze=L(5055),Je=L(9858),At=L(7441),Lt=L(5397),Nt=L(7953),Gt=L(591),ft=L(5196);function Re(Qe,qe){return qe?function _t(Qe,qe){if(null!=Qe){if((0,ze.l)(Qe))return function I(Qe,qe){return(0,T.Tg)(Qe).pipe((0,q._)(qe),(0,O.Q)(qe))}(Qe,qe);if((0,At.X)(Qe))return function ge(Qe,qe){return new Xe.c(vt=>{let Wt=0;return qe.schedule(function(){Wt===Qe.length?vt.complete():(vt.next(Qe[Wt++]),vt.closed||this.schedule())})})}(Qe,qe);if((0,Je.y)(Qe))return function Ce(Qe,qe){return(0,T.Tg)(Qe).pipe((0,q._)(qe),(0,O.Q)(qe))}(Qe,qe);if((0,Nt.T)(Qe))return it(Qe,qe);if((0,Lt.x)(Qe))return function ve(Qe,qe){return new Xe.c(vt=>{let Wt;return(0,we.N)(vt,qe,()=>{Wt=Qe[Ee.l](),(0,we.N)(vt,qe,()=>{let st,ct;try{({value:st,done:ct}=Wt.next())}catch(Pn){return void vt.error(Pn)}ct?vt.complete():vt.next(st)},0,!0)}),()=>(0,je.T)(Wt?.return)&&Wt.return()})}(Qe,qe);if((0,ft.U)(Qe))return function gt(Qe,qe){return it((0,ft.C)(Qe),qe)}(Qe,qe)}throw(0,Gt.L)(Qe)}(Qe,qe):(0,T.Tg)(Qe)}},8496:(En,Be,L)=>{"use strict";function T(O,q){return O.reduce((I,Ce,Xe)=>(I[Ce]=q[Xe],I),{})}L.d(Be,{e:()=>T})},8750:(En,Be,L)=>{"use strict";L.d(Be,{Tg:()=>ze});var T=L(1635),O=L(7441),q=L(9858),I=L(1985),Ce=L(5055),Xe=L(7953),ge=L(591),Ee=L(5397),je=L(5196),we=L(8071),ve=L(5334),it=L(3494);function ze(_t){if(_t instanceof I.c)return _t;if(null!=_t){if((0,Ce.l)(_t))return function Je(_t){return new I.c(Re=>{const Qe=_t[it.s]();if((0,we.T)(Qe.subscribe))return Qe.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_t);if((0,O.X)(_t))return function At(_t){return new I.c(Re=>{for(let Qe=0;Qe<_t.length&&!Re.closed;Qe++)Re.next(_t[Qe]);Re.complete()})}(_t);if((0,q.y)(_t))return function Lt(_t){return new I.c(Re=>{_t.then(Qe=>{Re.closed||(Re.next(Qe),Re.complete())},Qe=>Re.error(Qe)).then(null,ve.m)})}(_t);if((0,Xe.T)(_t))return Gt(_t);if((0,Ee.x)(_t))return function Nt(_t){return new I.c(Re=>{for(const Qe of _t)if(Re.next(Qe),Re.closed)return;Re.complete()})}(_t);if((0,je.U)(_t))return function ft(_t){return Gt((0,je.C)(_t))}(_t)}throw(0,ge.L)(_t)}function Gt(_t){return new I.c(Re=>{(function gt(_t,Re){var Qe,qe,vt,Wt;return(0,T.sH)(this,void 0,void 0,function*(){try{for(Qe=(0,T.xN)(_t);!(qe=yield Qe.next()).done;)if(Re.next(qe.value),Re.closed)return}catch(st){vt={error:st}}finally{try{qe&&!qe.done&&(Wt=Qe.return)&&(yield Wt.call(Qe))}finally{if(vt)throw vt.error}}Re.complete()})})(_t,Re).catch(Qe=>Re.error(Qe))})}},9270:(En,Be,L)=>{"use strict";L.d(Be,{f:()=>T});const T={setTimeout(O,q,...I){const{delegate:Ce}=T;return Ce?.setTimeout?Ce.setTimeout(O,q,...I):setTimeout(O,q,...I)},clearTimeout(O){const{delegate:q}=T;return(q?.clearTimeout||clearTimeout)(O)},delegate:void 0}},9326:(En,Be,L)=>{"use strict";L.d(Be,{lI:()=>Ce,ms:()=>I});var T=L(8071),O=L(9470);function q(ge){return ge[ge.length-1]}function I(ge){return(0,T.T)(q(ge))?ge.pop():void 0}function Ce(ge){return(0,O.m)(q(ge))?ge.pop():void 0}},9332:(En,Be,L)=>{"use strict";L.d(Be,{u:()=>Ce});var T=L(8032),O=L.n(T),q=L(1360),I=L(5794);let Ce=(()=>{class Xe{toastr;constructor(Ee){this.toastr=Ee}success(Ee,je="\xc9xito"){O().fire({icon:"success",title:je,text:Ee,timer:2e3,showConfirmButton:!1})}error(Ee,je="Error"){O().fire({icon:"error",title:je,text:Ee})}warning(Ee,je="Atenci\xf3n"){O().fire({icon:"warning",title:je,text:Ee})}info(Ee,je="Informaci\xf3n"){O().fire({icon:"info",title:je,text:Ee})}confirm(Ee,je="\xbfEst\xe1s seguro?"){return O().fire({icon:"question",title:je,text:Ee,showCancelButton:!0,confirmButtonText:"S\xed",cancelButtonText:"No"})}showToastSuccess(Ee,je="\xc9xito"){this.toastr.success(Ee,je)}showToastError(Ee,je="Error"){this.toastr.error(Ee,je)}showToastInfo(Ee,je="Info"){this.toastr.info(Ee,je)}showToastWarning(Ee,je="Atenci\xf3n"){this.toastr.warning(Ee,je)}static \u0275fac=function(je){return new(je||Xe)(q.KVO(I.tw))};static \u0275prov=q.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})()},9350:(En,Be,L)=>{"use strict";L.d(Be,{G:()=>O});const O=(0,L(1853).L)(q=>function(){q(this),this.name="EmptyError",this.message="no elements in sequence"})},9361:(En,Be,L)=>{"use strict";L.d(Be,{q:()=>O});const O=new(L(1360).nKC)("")},9377:(En,Be,L)=>{"use strict";function T(ge,Ee){Ee=encodeURIComponent(Ee);for(const je of ge.split(";")){const we=je.indexOf("="),[ve,it]=-1==we?[je,""]:[je.slice(0,we),je.slice(we+1)];if(ve.trim()===Ee)return decodeURIComponent(it)}return null}L.d(Be,{N0:()=>Xe,Vy:()=>Ce,Zn:()=>O,bS:()=>T});const O="browser",q="server";function Ce(ge){return ge===q}class Xe{}},9437:(En,Be,L)=>{"use strict";L.d(Be,{W:()=>I});var T=L(8750),O=L(4360),q=L(9974);function I(Ce){return(0,q.N)((Xe,ge)=>{let we,Ee=null,je=!1;Ee=Xe.subscribe((0,O._)(ge,void 0,void 0,ve=>{we=(0,T.Tg)(Ce(ve,I(Ce)(Xe))),Ee?(Ee.unsubscribe(),Ee=null,we.subscribe(ge)):je=!0})),je&&(Ee.unsubscribe(),Ee=null,we.subscribe(ge))})}},9470:(En,Be,L)=>{"use strict";L.d(Be,{m:()=>O});var T=L(8071);function O(q){return q&&(0,T.T)(q.schedule)}},9786:(En,Be,L)=>{"use strict";L.d(Be,{Y:()=>q,l:()=>I});var T=L(1026);let O=null;function q(Ce){if(T.$.useDeprecatedSynchronousErrorHandling){const Xe=!O;if(Xe&&(O={errorThrown:!1,error:null}),Ce(),Xe){const{errorThrown:ge,error:Ee}=O;if(O=null,ge)throw Ee}}else Ce()}function I(Ce){T.$.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=Ce)}},9858:(En,Be,L)=>{"use strict";L.d(Be,{y:()=>O});var T=L(8071);function O(q){return(0,T.T)(q?.then)}},9885:(En,Be,L)=>{"use strict";L.d(Be,{D:()=>we});var T=L(9967),O=L(7673),q=L(8455),I=L(6354),Ce=L(9437),Xe=L(5558),ge=L(1360),Ee=L(7643),je=L(4796);let we=(()=>{class ve{http;authService;firestore;usersCollectionName="users";constructor(ze,Je,At){this.http=ze,this.authService=Je,this.firestore=At,console.log("%c<<< Start USER service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getUserProfile(ze){if(!ze)return console.warn("\u26a0\ufe0f getUserProfile: UID no proporcionado."),(0,O.of)(void 0);const Je=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${ze}`);return console.log("\u{1f4c4} Obteniendo perfil para UID:",ze),(0,T.Bg)(Je).pipe((0,I.T)(At=>{if(At)return console.log("\u2705 Perfil obtenido:",At),{...At,uid:ze};console.warn("\u26a0\ufe0f No se encontr\xf3 perfil para UID:",ze)}),(0,Ce.W)(At=>(console.error("\u274c Error al obtener el perfil del usuario:",At),(0,O.of)(void 0))))}createUserProfile(ze){if(!ze.uid)return(0,q.H)(Promise.reject("\u274c createUserProfile: UID del usuario es requerido."));const Je=new Date,At={...ze,created_at:Je,createdDate:Je},Lt=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${ze.uid}`);return console.log("\u{1f4dd} Creando perfil para usuario:",At),(0,q.H)((0,T.BN)(Lt,At))}updateUserProfile(ze,Je){if(!ze)return(0,q.H)(Promise.reject("\u274c updateUserProfile: UID no proporcionado."));const At=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${ze}`);return console.log("\u{1f504} Actualizando perfil UID:",ze,"con datos:",Je),(0,q.H)((0,T.mZ)(At,Je))}deleteUserProfile(ze){if(!ze)return(0,q.H)(Promise.reject("\u274c deleteUserProfile: UID no proporcionado."));const Je=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${ze}`);return console.log("\u{1f5d1} Eliminando perfil UID:",ze),(0,q.H)((0,T.kd)(Je))}getUserData(ze){return this.authService.getAuthState().pipe((0,Xe.n)(Je=>{if(console.log("\u{1f4e1} authService.getAuthState() emiti\xf3:",Je),Je&&Je.uid){const At=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${Je.uid}`);return(0,T.Bg)(At).pipe((0,I.T)(Lt=>({...Lt,uid:Je.uid})))}return console.warn("\u26a0\ufe0f Usuario no autenticado o sesi\xf3n expirada"),(0,O.of)(null)}))}getAllUsers(){const ze=(0,T.rJ)(this.firestore,"users");return(0,T.xs)(ze,{idField:"uid"})}toggleUserStatus(ze,Je){const At=(0,T.H9)(this.firestore,`users/${ze}`);return(0,T.mZ)(At,{activo:Je})}updateUserRole(ze,Je){const At=(0,T.H9)(this.firestore,`users/${ze}`);return(0,T.mZ)(At,{rol:Je})}getCurrentUserUid(){return this.authService.getAuthState().pipe((0,I.T)(ze=>ze?.uid||null))}getCurrentUserRole(){return this.authService.getAuthState().pipe((0,Xe.n)(ze=>{if(ze&&ze.uid){const Je=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${ze.uid}`);return(0,T.Bg)(Je).pipe((0,I.T)(At=>At.rol||null))}return console.warn("\u26a0\ufe0f No hay usuario autenticado"),(0,O.of)(null)}),(0,Ce.W)(ze=>(console.error("\u274c Error al obtener el rol:",ze),(0,O.of)(null))))}getExecutives(){const ze=(0,T.P)((0,T.rJ)(this.firestore,this.usersCollectionName),(0,T._M)("rol","==","Ejecutivo"));return(0,T.xs)(ze,{idField:"uid"})}static \u0275fac=function(Je){return new(Je||ve)(ge.KVO(Ee.Qq),ge.KVO(je.u),ge.KVO(T._7))};static \u0275prov=ge.jDH({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})()},9967:(En,Be,L)=>{"use strict";L.d(Be,{_7:()=>nt,rJ:()=>sn,xs:()=>Jn,kd:()=>Nr,H9:()=>Xt,Bg:()=>$n,x7:()=>Ci,aU:()=>xi,hV:()=>ne,P:()=>be,BN:()=>Ze,mZ:()=>Dt,_M:()=>Le});var T=L(2967),O=L(1360),q=L(7440),I=L(4125),Ce=L(6335),Xe=L(2214),ge=L(3273),Ee=L(1985),je=L(6354),we=function(){return we=Object.assign||function(pt){for(var Ft,en=1,Rn=arguments.length;en<Rn;en++)for(var cn in Ft=arguments[en])Object.prototype.hasOwnProperty.call(Ft,cn)&&(pt[cn]=Ft[cn]);return pt},we.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var it={includeMetadataChanges:!1};function ze(wt,pt){return void 0===pt&&(pt=it),new Ee.c(function(Ft){return{unsubscribe:(0,ge.aQ)(wt,pt,{next:Ft.next.bind(Ft),error:Ft.error.bind(Ft),complete:Ft.complete.bind(Ft)})}})}function At(wt,pt){return void 0===pt&&(pt={}),function Je(wt){return ze(wt,{includeMetadataChanges:!0})}(wt).pipe((0,je.T)(function(Ft){return Lt(Ft,pt)}))}function Lt(wt,pt){var Ft;void 0===pt&&(pt={});var en=wt.data(pt);return wt.exists()&&"object"==typeof en&&null!==en&&pt.idField?we(we({},en),((Ft={})[pt.idField]=wt.id,Ft)):en}function Pn(wt,pt){return void 0===pt&&(pt={}),function Wt(wt){return ze(wt,{includeMetadataChanges:!0}).pipe((0,je.T)(function(pt){return pt.docs}))}(wt).pipe((0,je.T)(function(Ft){return Ft.map(function(en){return Lt(en,pt)})}))}class nt{constructor(pt){return pt}}const _n="firestore",Ot=new O.nKC("angularfire2.firestore-instances");function Y(wt){return(pt,Ft)=>{const en=pt.runOutsideAngular(()=>wt(Ft));return new nt(en)}}const ce={provide:class mt{constructor(){return(0,T.CA)(_n)}},deps:[[new O.Xx1,Ot]]},le={provide:nt,useFactory:function He(wt,pt){const Ft=(0,T.lR)(_n,wt,pt);return Ft&&new nt(Ft)},deps:[[new O.Xx1,Ot],q.XU]};function ne(wt,...pt){return(0,Xe.KO)("angularfire",T.xv.full,"fst"),(0,O.EmA)([le,ce,{provide:Ot,useFactory:Y(wt),multi:!0,deps:[O.SKi,O.zZn,T.u0,q.gL,[new O.Xx1,Ce.DF],[new O.Xx1,I.kR],...pt]}])}const Jn=(0,T.S3)(Pn,!0),$n=(0,T.S3)(At,!0),sn=(0,T.S3)(ge.rJ,!0,2),Nr=(0,T.S3)(ge.kd,!0,2),Xt=(0,T.S3)(ge.H9,!0,2),Ci=(0,T.S3)(ge.x7,!0),xi=(0,T.S3)(ge.aU,!0),be=(0,T.S3)(ge.P,!0,2),Ze=(0,T.S3)(ge.BN,!0,2),Dt=(0,T.S3)(ge.mZ,!0,2),Le=(0,T.S3)(ge._M,!0,2)},9974:(En,Be,L)=>{"use strict";L.d(Be,{N:()=>q,S:()=>O});var T=L(8071);function O(I){return(0,T.T)(I?.lift)}function q(I){return Ce=>{if(O(Ce))return Ce.lift(function(Xe){try{return I(Xe,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}}},En=>{En(En.s=8399)}]);