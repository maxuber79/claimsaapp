(self.webpackChunkclaims_app=self.webpackChunkclaims_app||[]).push([[792],{274:(qn,ot,Q)=>{"use strict";Q.d(ot,{H:()=>le});var T=Q(1397),z=Q(8071);function le(A,We){return(0,z.T)(We)?(0,T.Z)(A,We,1):(0,T.Z)(A,1)}},345:(qn,ot,Q)=>{"use strict";Q.d(ot,{hE:()=>We,up:()=>Gt});var T=Q(9361),z=Q(1360);let We=(()=>{class bt{_doc;constructor(Ot){this._doc=Ot}getTitle(){return this._doc.title}setTitle(Ot){this._doc.title=Ot||""}static \u0275fac=function(On){return new(On||bt)(z.KVO(T.q))};static \u0275prov=z.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"})}return bt})(),Gt=(()=>{class bt{static \u0275fac=function(On){return new(On||bt)};static \u0275prov=z.jDH({token:bt,factory:function(On){let rn=null;return rn=On?new(On||bt):z.KVO(Kt),rn},providedIn:"root"})}return bt})(),Kt=(()=>{class bt extends Gt{_doc;constructor(Ot){super(),this._doc=Ot}sanitize(Ot,On){if(null==On)return null;switch(Ot){case z.WPN.NONE:return On;case z.WPN.HTML:return(0,z.ZF7)(On,"HTML")?(0,z.rcV)(On):(0,z.h9k)(this._doc,String(On)).toString();case z.WPN.STYLE:return(0,z.ZF7)(On,"Style")?(0,z.rcV)(On):On;case z.WPN.SCRIPT:if((0,z.ZF7)(On,"Script"))return(0,z.rcV)(On);throw new z.wOt(5200,!1);case z.WPN.URL:return(0,z.ZF7)(On,"URL")?(0,z.rcV)(On):(0,z.$MX)(String(On));case z.WPN.RESOURCE_URL:if((0,z.ZF7)(On,"ResourceURL"))return(0,z.rcV)(On);throw new z.wOt(5201,!1);default:throw new z.wOt(5202,!1)}}bypassSecurityTrustHtml(Ot){return(0,z.Kcf)(Ot)}bypassSecurityTrustStyle(Ot){return(0,z.cWb)(Ot)}bypassSecurityTrustScript(Ot){return(0,z.UyX)(Ot)}bypassSecurityTrustUrl(Ot){return(0,z.osQ)(Ot)}bypassSecurityTrustResourceUrl(Ot){return(0,z.e5t)(Ot)}static \u0275fac=function(On){return new(On||bt)(z.KVO(T.q))};static \u0275prov=z.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"})}return bt})()},467:(qn,ot,Q)=>{"use strict";function T(le,A,We,pt,Oe,Le,at){try{var Ve=le[Le](at),Fe=Ve.value}catch(At){return void We(At)}Ve.done?A(Fe):Promise.resolve(Fe).then(pt,Oe)}function z(le){return function(){var A=this,We=arguments;return new Promise(function(pt,Oe){var Le=le.apply(A,We);function at(Fe){T(Le,pt,Oe,at,Ve,"next",Fe)}function Ve(Fe){T(Le,pt,Oe,at,Ve,"throw",Fe)}at(void 0)})}}Q.d(ot,{A:()=>z})},520:(qn,ot,Q)=>{"use strict";Q.d(ot,{eJ:()=>sc,xI:()=>Wh,hg:()=>O,J1:()=>ys,x9:()=>Oi,CI:()=>Ie});var T=Q(467),z=Q(7852),le=Q(6858),A=Q(8041),We=Q(1635),pt=Q(1362);const Qt=function yt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Zt=new le.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),In=new A.Vy("@firebase/auth");function Gt(x,...v){In.logLevel<=A.$b.ERROR&&In.error(`Auth (${z.MF}): ${x}`,...v)}function Kt(x,...v){throw hn(x,...v)}function Qe(x,...v){return hn(x,...v)}function vt(x,v,w){const k=Object.assign(Object.assign({},Qt()),{[v]:w});return new le.FA("auth","Firebase",k).create(v,{appName:x.name})}function ht(x){return vt(x,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hn(x,...v){if("string"!=typeof x){const w=v[0],k=[...v.slice(1)];return k[0]&&(k[0].appName=x.name),x._errorFactory.create(w,...k)}return Zt.create(x,...v)}function xt(x,v,...w){if(!x)throw hn(v,...w)}function Pt(x){const v="INTERNAL ASSERTION FAILED: "+x;throw Gt(v),new Error(v)}function lr(x,v){x||Pt(v)}function hr(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function bt(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class On{constructor(v,w){this.shortDelay=v,this.longDelay=w,lr(w>v,"Short delay should be less than long delay!"),this.isMobile=(0,le.jZ)()||(0,le.lV)()}get(){return function Wn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function yr(){return"http:"===bt()||"https:"===bt()}()||(0,le.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rn(x,v){lr(x.emulator,"Emulator should always be set here");const{url:w}=x.emulator;return v?`${w}${v.startsWith("/")?v.slice(1):v}`:w}class st{static initialize(v,w,k){this.fetchImpl=v,w&&(this.headersImpl=w),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const de={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Te=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],De=new On(3e4,6e4);function xe(x,v){return x.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:x.tenantId}):v}function me(x,v,w,k){return Re.apply(this,arguments)}function Re(){return(Re=(0,T.A)(function*(x,v,w,k,Y={}){return ft(x,Y,(0,T.A)(function*(){let he={},nt={};k&&("GET"===v?nt=k:he={body:JSON.stringify(k)});const gt=(0,le.Am)(Object.assign({key:x.config.apiKey},nt)).slice(1),ln=yield x._getAdditionalHeaders();ln["Content-Type"]="application/json",x.languageCode&&(ln["X-Firebase-Locale"]=x.languageCode);const $n=Object.assign({method:v,headers:ln},he);return(0,le.c1)()||($n.referrerPolicy="no-referrer"),x.emulatorConfig&&(0,le.zJ)(x.emulatorConfig.host)&&($n.credentials="include"),st.fetch()(yield Dr(x,x.config.apiHost,w,gt),$n)}))})).apply(this,arguments)}function ft(x,v,w){return jt.apply(this,arguments)}function jt(){return(jt=(0,T.A)(function*(x,v,w){x._canInitEmulator=!1;const k=Object.assign(Object.assign({},de),v);try{const Y=new mr(x),he=yield Promise.race([w(),Y.promise]);Y.clearNetworkTimeout();const nt=yield he.json();if("needConfirmation"in nt)throw gn(x,"account-exists-with-different-credential",nt);if(he.ok&&!("errorMessage"in nt))return nt;{const gt=he.ok?nt.errorMessage:nt.error.message,[ln,$n]=gt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ln)throw gn(x,"credential-already-in-use",nt);if("EMAIL_EXISTS"===ln)throw gn(x,"email-already-in-use",nt);if("USER_DISABLED"===ln)throw gn(x,"user-disabled",nt);const or=k[ln]||ln.toLowerCase().replace(/[_\s]+/g,"-");if($n)throw vt(x,or,$n);Kt(x,or)}}catch(Y){if(Y instanceof le.g)throw Y;Kt(x,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function Rn(x,v,w,k){return En.apply(this,arguments)}function En(){return(En=(0,T.A)(function*(x,v,w,k,Y={}){const he=yield me(x,v,w,k,Y);return"mfaPendingCredential"in he&&Kt(x,"multi-factor-auth-required",{_serverResponse:he}),he})).apply(this,arguments)}function Dr(x,v,w,k){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,T.A)(function*(x,v,w,k){const Y=`${v}${w}?${k}`,he=x,nt=he.config.emulator?rn(x.config,Y):`${x.config.apiScheme}://${Y}`;return Te.includes(w)&&(yield he._persistenceManagerAvailable,"COOKIE"===he._getPersistenceType())?he._getPersistence()._getFinalTarget(nt).toString():nt})).apply(this,arguments)}function gr(x){switch(x){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mr{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((w,k)=>{this.timer=setTimeout(()=>k(Qe(this.auth,"network-request-failed")),De.get())})}}function gn(x,v,w){const k={appName:x.name};w.email&&(k.email=w.email),w.phoneNumber&&(k.phoneNumber=w.phoneNumber);const Y=Qe(x,v,k);return Y.customData._tokenResponse=w,Y}function Ar(x){return void 0!==x&&void 0!==x.enterprise}class Lr{constructor(v){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===v.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=v.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=v.recaptchaEnforcementState}getProviderEnforcementState(v){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const w of this.recaptchaEnforcementState)if(w.provider&&w.provider===v)return gr(w.enforcementState);return null}isProviderEnabled(v){return"ENFORCE"===this.getProviderEnforcementState(v)||"AUDIT"===this.getProviderEnforcementState(v)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function kn(){return(kn=(0,T.A)(function*(x,v){return me(x,"GET","/v2/recaptchaConfig",xe(x,v))})).apply(this,arguments)}function Fn(){return(Fn=(0,T.A)(function*(x,v){return me(x,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function Dt(x,v){return mi.apply(this,arguments)}function mi(){return(mi=(0,T.A)(function*(x,v){return me(x,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function vr(x){if(x)try{const v=new Date(Number(x));if(!isNaN(v.getTime()))return v.toUTCString()}catch{}}function fi(){return(fi=(0,T.A)(function*(x,v=!1){const w=(0,le.Ku)(x),k=yield w.getIdToken(v),Y=Hr(k);xt(Y&&Y.exp&&Y.auth_time&&Y.iat,w.auth,"internal-error");const he="object"==typeof Y.firebase?Y.firebase:void 0,nt=he?.sign_in_provider;return{claims:Y,token:k,authTime:vr(Tr(Y.auth_time)),issuedAtTime:vr(Tr(Y.iat)),expirationTime:vr(Tr(Y.exp)),signInProvider:nt||null,signInSecondFactor:he?.sign_in_second_factor||null}})).apply(this,arguments)}function Tr(x){return 1e3*Number(x)}function Hr(x){const[v,w,k]=x.split(".");if(void 0===v||void 0===w||void 0===k)return Gt("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,le.u)(w);return Y?JSON.parse(Y):(Gt("Failed to decode base64 JWT payload"),null)}catch(Y){return Gt("Caught error parsing JWT payload as JSON",Y?.toString()),null}}function ts(x){const v=Hr(x);return xt(v,"internal-error"),xt(typeof v.exp<"u","internal-error"),xt(typeof v.iat<"u","internal-error"),Number(v.exp)-Number(v.iat)}function Kr(x,v){return ns.apply(this,arguments)}function ns(){return(ns=(0,T.A)(function*(x,v,w=!1){if(w)return v;try{return yield v}catch(k){throw k instanceof le.g&&function zr({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}(k)&&x.auth.currentUser===x&&(yield x.auth.signOut()),k}})).apply(this,arguments)}class Xi{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var w;if(v){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const Y=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(v=!1){var w=this;if(!this.isRunning)return;const k=this.getInterval(v);this.timerId=setTimeout((0,T.A)(function*(){yield w.iteration()}),k)}iteration(){var v=this;return(0,T.A)(function*(){try{yield v.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w?.code&&v.schedule(!0))}v.schedule()})()}}class rs{constructor(v,w){this.createdAt=v,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=vr(this.lastLoginAt),this.creationTime=vr(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vr(x){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,T.A)(function*(x){var v;const w=x.auth,k=yield x.getIdToken(),Y=yield Kr(x,Dt(w,{idToken:k}));xt(Y?.users.length,w,"internal-error");const he=Y.users[0];x._notifyReloadListener(he);const nt=null!==(v=he.providerUserInfo)&&void 0!==v&&v.length?zi(he.providerUserInfo):[],gt=function br(x,v){return[...x.filter(k=>!v.some(Y=>Y.providerId===k.providerId)),...v]}(x.providerData,nt),or=!!x.isAnonymous&&!(x.email&&he.passwordHash||gt?.length),_r={uid:he.localId,displayName:he.displayName||null,photoURL:he.photoUrl||null,email:he.email||null,emailVerified:he.emailVerified||!1,phoneNumber:he.phoneNumber||null,tenantId:he.tenantId||null,providerData:gt,metadata:new rs(he.createdAt,he.lastLoginAt),isAnonymous:or};Object.assign(x,_r)})).apply(this,arguments)}function ti(){return(ti=(0,T.A)(function*(x){const v=(0,le.Ku)(x);yield Vr(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function zi(x){return x.map(v=>{var{providerId:w}=v,k=(0,We.Tt)(v,["providerId"]);return{providerId:w,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}function Xr(){return(Xr=(0,T.A)(function*(x,v){const w=yield ft(x,{},(0,T.A)(function*(){const k=(0,le.Am)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:Y,apiKey:he}=x.config,nt=yield Dr(x,Y,"/v1/token",`key=${he}`),gt=yield x._getAdditionalHeaders();return gt["Content-Type"]="application/x-www-form-urlencoded",st.fetch()(nt,{method:"POST",headers:gt,body:k})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}function ji(){return(ji=(0,T.A)(function*(x,v){return me(x,"POST","/v2/accounts:revokeToken",xe(x,v))})).apply(this,arguments)}class is{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){xt(v.idToken,"internal-error"),xt(typeof v.idToken<"u","internal-error"),xt(typeof v.refreshToken<"u","internal-error");const w="expiresIn"in v&&typeof v.expiresIn<"u"?Number(v.expiresIn):ts(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,w)}updateFromIdToken(v){xt(0!==v.length,"internal-error");const w=ts(v);this.updateTokensAndExpiration(v,null,w)}getToken(v){var w=this;return(0,T.A)(function*(k,Y=!1){return Y||!w.accessToken||w.isExpired?(xt(w.refreshToken,k,"user-token-expired"),w.refreshToken?(yield w.refresh(k,w.refreshToken),w.accessToken):null):w.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(v,w){var k=this;return(0,T.A)(function*(){const{accessToken:Y,refreshToken:he,expiresIn:nt}=yield function et(x,v){return Xr.apply(this,arguments)}(v,w);k.updateTokensAndExpiration(Y,he,Number(nt))})()}updateTokensAndExpiration(v,w,k){this.refreshToken=w||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(v,w){const{refreshToken:k,accessToken:Y,expirationTime:he}=w,nt=new is;return k&&(xt("string"==typeof k,"internal-error",{appName:v}),nt.refreshToken=k),Y&&(xt("string"==typeof Y,"internal-error",{appName:v}),nt.accessToken=Y),he&&(xt("number"==typeof he,"internal-error",{appName:v}),nt.expirationTime=he),nt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new is,this.toJSON())}_performRefresh(){return Pt("not implemented")}}function Hn(x,v){xt("string"==typeof x||typeof x>"u","internal-error",{appName:v})}class qr{constructor(v){var{uid:w,auth:k,stsTokenManager:Y}=v,he=(0,We.Tt)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=k,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=he.displayName||null,this.email=he.email||null,this.emailVerified=he.emailVerified||!1,this.phoneNumber=he.phoneNumber||null,this.photoURL=he.photoURL||null,this.isAnonymous=he.isAnonymous||!1,this.tenantId=he.tenantId||null,this.providerData=he.providerData?[...he.providerData]:[],this.metadata=new rs(he.createdAt||void 0,he.lastLoginAt||void 0)}getIdToken(v){var w=this;return(0,T.A)(function*(){const k=yield Kr(w,w.stsTokenManager.getToken(w.auth,v));return xt(k,w.auth,"internal-error"),w.accessToken!==k&&(w.accessToken=k,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),k})()}getIdTokenResult(v){return function Ci(x){return fi.apply(this,arguments)}(this,v)}reload(){return function Yi(x){return ti.apply(this,arguments)}(this)}_assign(v){this!==v&&(xt(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(w=>Object.assign({},w)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){const w=new qr(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}));return w.metadata._copy(this.metadata),w}_onReload(v){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v){var w=this;return(0,T.A)(function*(k,Y=!1){let he=!1;k.idToken&&k.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(k),he=!0),Y&&(yield Vr(w)),yield w.auth._persistUserIfCurrent(w),he&&w.auth._notifyListenersIfCurrent(w)}).apply(this,arguments)}delete(){var v=this;return(0,T.A)(function*(){if((0,z.xZ)(v.auth.app))return Promise.reject(ht(v.auth));const w=yield v.getIdToken();return yield Kr(v,function Gr(x,v){return Fn.apply(this,arguments)}(v.auth,{idToken:w})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,w){var k,Y,he,nt,gt,ln,$n,or;const _r=null!==(k=w.displayName)&&void 0!==k?k:void 0,ai=null!==(Y=w.email)&&void 0!==Y?Y:void 0,oo=null!==(he=w.phoneNumber)&&void 0!==he?he:void 0,ks=null!==(nt=w.photoURL)&&void 0!==nt?nt:void 0,al=null!==(gt=w.tenantId)&&void 0!==gt?gt:void 0,jd=null!==(ln=w._redirectEventId)&&void 0!==ln?ln:void 0,$o=null!==($n=w.createdAt)&&void 0!==$n?$n:void 0,Tg=null!==(or=w.lastLoginAt)&&void 0!==or?or:void 0,{uid:Zu,emailVerified:__,isAnonymous:Tu,providerData:_a,stsTokenManager:sp}=w;xt(Zu&&sp,v,"internal-error");const Cg=is.fromJSON(this.name,sp);xt("string"==typeof Zu,v,"internal-error"),Hn(_r,v.name),Hn(ai,v.name),xt("boolean"==typeof __,v,"internal-error"),xt("boolean"==typeof Tu,v,"internal-error"),Hn(oo,v.name),Hn(ks,v.name),Hn(al,v.name),Hn(jd,v.name),Hn($o,v.name),Hn(Tg,v.name);const Yo=new qr({uid:Zu,auth:v,email:ai,emailVerified:__,displayName:_r,isAnonymous:Tu,photoURL:ks,phoneNumber:oo,tenantId:al,stsTokenManager:Cg,createdAt:$o,lastLoginAt:Tg});return _a&&Array.isArray(_a)&&(Yo.providerData=_a.map(Gc=>Object.assign({},Gc))),jd&&(Yo._redirectEventId=jd),Yo}static _fromIdTokenResponse(v,w){return(0,T.A)(function*(k,Y,he=!1){const nt=new is;nt.updateFromServerResponse(Y);const gt=new qr({uid:Y.localId,auth:k,stsTokenManager:nt,isAnonymous:he});return yield Vr(gt),gt}).apply(this,arguments)}static _fromGetAccountInfoResponse(v,w,k){return(0,T.A)(function*(){const Y=w.users[0];xt(void 0!==Y.localId,"internal-error");const he=void 0!==Y.providerUserInfo?zi(Y.providerUserInfo):[],nt=!(Y.email&&Y.passwordHash||he?.length),gt=new is;gt.updateFromIdToken(k);const ln=new qr({uid:Y.localId,auth:v,stsTokenManager:gt,isAnonymous:nt}),$n={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:he,metadata:new rs(Y.createdAt,Y.lastLoginAt),isAnonymous:!(Y.email&&Y.passwordHash||he?.length)};return Object.assign(ln,$n),ln})()}}const Yr=new Map;function cs(x){lr(x instanceof Function,"Expected a class definition");let v=Yr.get(x);return v?(lr(v instanceof x,"Instance stored in cache mismatched with class"),v):(v=new x,Yr.set(x,v),v)}const ss=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,T.A)(function*(){return!0})()}_set(w,k){var Y=this;return(0,T.A)(function*(){Y.storage[w]=k})()}_get(w){var k=this;return(0,T.A)(function*(){const Y=k.storage[w];return void 0===Y?null:Y})()}_remove(w){var k=this;return(0,T.A)(function*(){delete k.storage[w]})()}_addListener(w,k){}_removeListener(w,k){}}return x.type="NONE",x})();function $e(x,v,w){return`firebase:${x}:${v}:${w}`}class Me{constructor(v,w,k){this.persistence=v,this.auth=w,this.userKey=k;const{config:Y,name:he}=this.auth;this.fullUserKey=$e(this.userKey,Y.apiKey,he),this.fullPersistenceKey=$e("persistence",Y.apiKey,he),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,T.A)(function*(){const w=yield v.persistence._get(v.fullUserKey);if(!w)return null;if("string"==typeof w){const k=yield Dt(v.auth,{idToken:w}).catch(()=>{});return k?qr._fromGetAccountInfoResponse(v.auth,k,w):null}return qr._fromJSON(v.auth,w)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var w=this;return(0,T.A)(function*(){if(w.persistence===v)return;const k=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=v,k?w.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,w){return(0,T.A)(function*(k,Y,he="authUser"){if(!Y.length)return new Me(cs(ss),k,he);const nt=(yield Promise.all(Y.map(function(){var _r=(0,T.A)(function*(ai){if(yield ai._isAvailable())return ai});return function(ai){return _r.apply(this,arguments)}}()))).filter(_r=>_r);let gt=nt[0]||cs(ss);const ln=$e(he,k.config.apiKey,k.name);let $n=null;for(const _r of Y)try{const ai=yield _r._get(ln);if(ai){let oo;if("string"==typeof ai){const ks=yield Dt(k,{idToken:ai}).catch(()=>{});if(!ks)break;oo=yield qr._fromGetAccountInfoResponse(k,ks,ai)}else oo=qr._fromJSON(k,ai);_r!==gt&&($n=oo),gt=_r;break}}catch{}const or=nt.filter(_r=>_r._shouldAllowMigration);return gt._shouldAllowMigration&&or.length?(gt=or[0],$n&&(yield gt._set(ln,$n.toJSON())),yield Promise.all(Y.map(function(){var _r=(0,T.A)(function*(ai){if(ai!==gt)try{yield ai._remove(ln)}catch{}});return function(ai){return _r.apply(this,arguments)}}())),new Me(gt,k,he)):new Me(gt,k,he)}).apply(this,arguments)}}function rt(x){const v=x.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(Qn(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(nn(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(ge(v))return"Blackberry";if(Ee(v))return"Webos";if(dt(v))return"Safari";if((v.includes("chrome/")||yn(v))&&!v.includes("edge/"))return"Chrome";if(Zr(v))return"Android";{const k=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function nn(x=(0,le.ZQ)()){return/firefox\//i.test(x)}function dt(x=(0,le.ZQ)()){const v=x.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function yn(x=(0,le.ZQ)()){return/crios\//i.test(x)}function Qn(x=(0,le.ZQ)()){return/iemobile/i.test(x)}function Zr(x=(0,le.ZQ)()){return/android/i.test(x)}function ge(x=(0,le.ZQ)()){return/blackberry/i.test(x)}function Ee(x=(0,le.ZQ)()){return/webos/i.test(x)}function He(x=(0,le.ZQ)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function Pe(x=(0,le.ZQ)()){return He(x)||Zr(x)||Ee(x)||ge(x)||/windows phone/i.test(x)||Qn(x)}function tt(x,v=[]){let w;switch(x){case"Browser":w=rt((0,le.ZQ)());break;case"Worker":w=`${rt((0,le.ZQ)())}-${x}`;break;default:w=x}const k=v.length?v.join(","):"FirebaseCore-web";return`${w}/JsCore/${z.MF}/${k}`}class qt{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,w){const k=he=>new Promise((nt,gt)=>{try{nt(v(he))}catch(ln){gt(ln)}});k.onAbort=w,this.queue.push(k);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(v){var w=this;return(0,T.A)(function*(){if(w.auth.currentUser===v)return;const k=[];try{for(const Y of w.queue)yield Y(v),Y.onAbort&&k.push(Y.onAbort)}catch(Y){k.reverse();for(const he of k)try{he()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:Y?.message})}})()}}function Mt(){return(Mt=(0,T.A)(function*(x,v={}){return me(x,"GET","/v2/passwordPolicy",xe(x,v))})).apply(this,arguments)}class Tn{constructor(v){var w,k,Y,he;const nt=v.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(w=nt.minPasswordLength)&&void 0!==w?w:6,nt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=nt.maxPasswordLength),void 0!==nt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=nt.containsLowercaseCharacter),void 0!==nt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=nt.containsUppercaseCharacter),void 0!==nt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=nt.containsNumericCharacter),void 0!==nt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=nt.containsNonAlphanumericCharacter),this.enforcementState=v.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(Y=null===(k=v.allowedNonAlphanumericCharacters)||void 0===k?void 0:k.join(""))&&void 0!==Y?Y:"",this.forceUpgradeOnSignin=null!==(he=v.forceUpgradeOnSignin)&&void 0!==he&&he,this.schemaVersion=v.schemaVersion}validatePassword(v){var w,k,Y,he,nt,gt;const ln={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(v,ln),this.validatePasswordCharacterOptions(v,ln),ln.isValid&&(ln.isValid=null===(w=ln.meetsMinPasswordLength)||void 0===w||w),ln.isValid&&(ln.isValid=null===(k=ln.meetsMaxPasswordLength)||void 0===k||k),ln.isValid&&(ln.isValid=null===(Y=ln.containsLowercaseLetter)||void 0===Y||Y),ln.isValid&&(ln.isValid=null===(he=ln.containsUppercaseLetter)||void 0===he||he),ln.isValid&&(ln.isValid=null===(nt=ln.containsNumericCharacter)||void 0===nt||nt),ln.isValid&&(ln.isValid=null===(gt=ln.containsNonAlphanumericCharacter)||void 0===gt||gt),ln}validatePasswordLengthOptions(v,w){const k=this.customStrengthOptions.minPasswordLength,Y=this.customStrengthOptions.maxPasswordLength;k&&(w.meetsMinPasswordLength=v.length>=k),Y&&(w.meetsMaxPasswordLength=v.length<=Y)}validatePasswordCharacterOptions(v,w){let k;this.updatePasswordCharacterOptionsStatuses(w,!1,!1,!1,!1);for(let Y=0;Y<v.length;Y++)k=v.charAt(Y),this.updatePasswordCharacterOptionsStatuses(w,k>="a"&&k<="z",k>="A"&&k<="Z",k>="0"&&k<="9",this.allowedNonAlphanumericCharacters.includes(k))}updatePasswordCharacterOptionsStatuses(v,w,k,Y,he){this.customStrengthOptions.containsLowercaseLetter&&(v.containsLowercaseLetter||(v.containsLowercaseLetter=w)),this.customStrengthOptions.containsUppercaseLetter&&(v.containsUppercaseLetter||(v.containsUppercaseLetter=k)),this.customStrengthOptions.containsNumericCharacter&&(v.containsNumericCharacter||(v.containsNumericCharacter=Y)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(v.containsNonAlphanumericCharacter||(v.containsNonAlphanumericCharacter=he))}}class ir{constructor(v,w,k,Y){this.app=v,this.heartbeatServiceProvider=w,this.appCheckServiceProvider=k,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fr(this),this.idTokenSubscription=new fr(this),this.beforeStateQueue=new qt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=Y.sdkClientVersion,this._persistenceManagerAvailable=new Promise(he=>this._resolvePersistenceManagerAvailable=he)}_initializeWithPersistence(v,w){var k=this;return w&&(this._popupRedirectResolver=cs(w)),this._initializationPromise=this.queue((0,T.A)(function*(){var Y,he,nt;if(!k._deleted&&(k.persistenceManager=yield Me.create(k,v),null===(Y=k._resolvePersistenceManagerAvailable)||void 0===Y||Y.call(k),!k._deleted)){if(null!==(he=k._popupRedirectResolver)&&void 0!==he&&he._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(w),k.lastNotifiedUid=(null===(nt=k.currentUser)||void 0===nt?void 0:nt.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,T.A)(function*(){if(v._deleted)return;const w=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||w){if(v.currentUser&&w&&v.currentUser.uid===w.uid)return v._currentUser._assign(w),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(w,!0)}})()}initializeCurrentUserFromIdToken(v){var w=this;return(0,T.A)(function*(){try{const k=yield Dt(w,{idToken:v}),Y=yield qr._fromGetAccountInfoResponse(w,k,v);yield w.directlySetCurrentUser(Y)}catch(k){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",k),yield w.directlySetCurrentUser(null)}})()}initializeCurrentUser(v){var w=this;return(0,T.A)(function*(){var k;if((0,z.xZ)(w.app)){const gt=w.app.settings.authIdToken;return gt?new Promise(ln=>{setTimeout(()=>w.initializeCurrentUserFromIdToken(gt).then(ln,ln))}):w.directlySetCurrentUser(null)}const Y=yield w.assertedPersistence.getCurrentUser();let he=Y,nt=!1;if(v&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const gt=null===(k=w.redirectUser)||void 0===k?void 0:k._redirectEventId,ln=he?._redirectEventId,$n=yield w.tryRedirectSignIn(v);(!gt||gt===ln)&&$n?.user&&(he=$n.user,nt=!0)}if(!he)return w.directlySetCurrentUser(null);if(!he._redirectEventId){if(nt)try{yield w.beforeStateQueue.runMiddleware(he)}catch(gt){he=Y,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(gt))}return he?w.reloadAndSetCurrentUserOrClear(he):w.directlySetCurrentUser(null)}return xt(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===he._redirectEventId?w.directlySetCurrentUser(he):w.reloadAndSetCurrentUserOrClear(he)})()}tryRedirectSignIn(v){var w=this;return(0,T.A)(function*(){let k=null;try{k=yield w._popupRedirectResolver._completeRedirectFn(w,v,!0)}catch{yield w._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(v){var w=this;return(0,T.A)(function*(){try{yield Vr(v)}catch(k){if("auth/network-request-failed"!==k?.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function Ot(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var v=this;return(0,T.A)(function*(){v._deleted=!0})()}updateCurrentUser(v){var w=this;return(0,T.A)(function*(){if((0,z.xZ)(w.app))return Promise.reject(ht(w));const k=v?(0,le.Ku)(v):null;return k&&xt(k.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(k&&k._clone(w))})()}_updateCurrentUser(v){var w=this;return(0,T.A)(function*(k,Y=!1){if(!w._deleted)return k&&xt(w.tenantId===k.tenantId,w,"tenant-id-mismatch"),Y||(yield w.beforeStateQueue.runMiddleware(k)),w.queue((0,T.A)(function*(){yield w.directlySetCurrentUser(k),w.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var v=this;return(0,T.A)(function*(){return(0,z.xZ)(v.app)?Promise.reject(ht(v)):(yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0))})()}setPersistence(v){var w=this;return(0,z.xZ)(this.app)?Promise.reject(ht(this)):this.queue((0,T.A)(function*(){yield w.assertedPersistence.setPersistence(cs(v))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(v){var w=this;return(0,T.A)(function*(){w._getPasswordPolicyInternal()||(yield w._updatePasswordPolicy());const k=w._getPasswordPolicyInternal();return k.schemaVersion!==w.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(w._errorFactory.create("unsupported-password-policy-schema-version",{})):k.validatePassword(v)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var v=this;return(0,T.A)(function*(){const w=yield function Vt(x){return Mt.apply(this,arguments)}(v),k=new Tn(w);null===v.tenantId?v._projectPasswordPolicy=k:v._tenantPasswordPolicies[v.tenantId]=k})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(v){this._errorFactory=new le.FA("auth","Firebase",v())}onAuthStateChanged(v,w,k){return this.registerStateListener(this.authStateSubscription,v,w,k)}beforeAuthStateChanged(v,w){return this.beforeStateQueue.pushCallback(v,w)}onIdTokenChanged(v,w,k){return this.registerStateListener(this.idTokenSubscription,v,w,k)}authStateReady(){return new Promise((v,w)=>{if(this.currentUser)v();else{const k=this.onAuthStateChanged(()=>{k(),v()},w)}})}revokeAccessToken(v){var w=this;return(0,T.A)(function*(){if(w.currentUser){const k=yield w.currentUser.getIdToken(),Y={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:v,idToken:k};null!=w.tenantId&&(Y.tenantId=w.tenantId),yield function ws(x,v){return ji.apply(this,arguments)}(w,Y)}})()}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,w){var k=this;return(0,T.A)(function*(){const Y=yield k.getOrInitRedirectPersistenceManager(w);return null===v?Y.removeCurrentUser():Y.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var w=this;return(0,T.A)(function*(){if(!w.redirectPersistenceManager){const k=v&&cs(v)||w._popupRedirectResolver;xt(k,w,"argument-error"),w.redirectPersistenceManager=yield Me.create(w,[cs(k._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(v){var w=this;return(0,T.A)(function*(){var k,Y;return w._isInitialized&&(yield w.queue((0,T.A)(function*(){}))),(null===(k=w._currentUser)||void 0===k?void 0:k._redirectEventId)===v?w._currentUser:(null===(Y=w.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===v?w.redirectUser:null})()}_persistUserIfCurrent(v){var w=this;return(0,T.A)(function*(){if(v===w.currentUser)return w.queue((0,T.A)(function*(){return w.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(w=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,w,k,Y){if(this._deleted)return()=>{};const he="function"==typeof w?w:w.next.bind(w);let nt=!1;const gt=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(gt,this,"internal-error"),gt.then(()=>{nt||he(this.currentUser)}),"function"==typeof w){const ln=v.addObserver(w,k,Y);return()=>{nt=!0,ln()}}{const ln=v.addObserver(w);return()=>{nt=!0,ln()}}}directlySetCurrentUser(v){var w=this;return(0,T.A)(function*(){w.currentUser&&w.currentUser!==v&&w._currentUser._stopProactiveRefresh(),v&&w.isProactiveRefreshEnabled&&v._startProactiveRefresh(),w.currentUser=v,v?yield w.assertedPersistence.setCurrentUser(v):yield w.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=tt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,T.A)(function*(){var w;const k={"X-Client-Version":v.clientVersion};v.app.options.appId&&(k["X-Firebase-gmpid"]=v.app.options.appId);const Y=yield null===(w=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();Y&&(k["X-Firebase-Client"]=Y);const he=yield v._getAppCheckToken();return he&&(k["X-Firebase-AppCheck"]=he),k})()}_getAppCheckToken(){var v=this;return(0,T.A)(function*(){var w;if((0,z.xZ)(v.app)&&v.app.settings.appCheckToken)return v.app.settings.appCheckToken;const k=yield null===(w=v.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getToken();return k?.error&&function Ut(x,...v){In.logLevel<=A.$b.WARN&&In.warn(`Auth (${z.MF}): ${x}`,...v)}(`Error while retrieving App Check token: ${k.error}`),k?.token})()}}function Nn(x){return(0,le.Ku)(x)}class fr{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,le.tD)(w=>this.observer=w)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Mr={loadJS:()=>(0,T.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function us(x){return Mr.loadJS(x)}function an(x){return`__${x}${Math.floor(1e6*Math.random())}`}class Nr{constructor(){this.enterprise=new Di}ready(v){v()}execute(v,w){return Promise.resolve("token")}render(v,w){return""}}class Di{ready(v){v()}execute(v,w){return Promise.resolve("token")}render(v,w){return""}}const to="NO_RECAPTCHA";class zo{constructor(v){this.type="recaptcha-enterprise",this.auth=Nn(v)}verify(){var v=this;return(0,T.A)(function*(w="verify",k=!1){function he(){return he=(0,T.A)(function*(gt){if(!k){if(null==gt.tenantId&&null!=gt._agentRecaptchaConfig)return gt._agentRecaptchaConfig.siteKey;if(null!=gt.tenantId&&void 0!==gt._tenantRecaptchaConfigs[gt.tenantId])return gt._tenantRecaptchaConfigs[gt.tenantId].siteKey}return new Promise(function(){var ln=(0,T.A)(function*($n,or){(function Es(x,v){return kn.apply(this,arguments)})(gt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_r=>{if(void 0!==_r.recaptchaKey){const ai=new Lr(_r);return null==gt.tenantId?gt._agentRecaptchaConfig=ai:gt._tenantRecaptchaConfigs[gt.tenantId]=ai,$n(ai.siteKey)}or(new Error("recaptcha Enterprise site key undefined"))}).catch(_r=>{or(_r)})});return function($n,or){return ln.apply(this,arguments)}}())}),he.apply(this,arguments)}function nt(gt,ln,$n){const or=window.grecaptcha;Ar(or)?or.enterprise.ready(()=>{or.enterprise.execute(gt,{action:w}).then(_r=>{ln(_r)}).catch(()=>{ln(to)})}):$n(Error("No reCAPTCHA enterprise script loaded."))}return v.auth.settings.appVerificationDisabledForTesting?(new Nr).execute("siteKey",{action:"verify"}):new Promise((gt,ln)=>{(function Y(gt){return he.apply(this,arguments)})(v.auth).then($n=>{if(!k&&Ar(window.grecaptcha))nt($n,gt,ln);else{if(typeof window>"u")return void ln(new Error("RecaptchaVerifier is only supported in browser"));let or=function Ge(){return Mr.recaptchaEnterpriseScript}();0!==or.length&&(or+=$n),us(or).then(()=>{nt($n,gt,ln)}).catch(_r=>{ln(_r)})}}).catch($n=>{ln($n)})})}).apply(this,arguments)}}function Is(x,v,w){return Z.apply(this,arguments)}function Z(){return(Z=(0,T.A)(function*(x,v,w,k=!1,Y=!1){const he=new zo(x);let nt;if(Y)nt=to;else try{nt=yield he.verify(w)}catch{nt=yield he.verify(w,!0)}const gt=Object.assign({},v);return"mfaSmsEnrollment"===w||"mfaSmsSignIn"===w?("phoneEnrollmentInfo"in gt?Object.assign(gt,{phoneEnrollmentInfo:{phoneNumber:gt.phoneEnrollmentInfo.phoneNumber,recaptchaToken:gt.phoneEnrollmentInfo.recaptchaToken,captchaResponse:nt,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in gt&&Object.assign(gt,{phoneSignInInfo:{recaptchaToken:gt.phoneSignInInfo.recaptchaToken,captchaResponse:nt,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),gt):(Object.assign(gt,k?{captchaResp:nt}:{captchaResponse:nt}),Object.assign(gt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(gt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),gt)})).apply(this,arguments)}function Se(x,v,w,k,Y){return se.apply(this,arguments)}function se(){return se=(0,T.A)(function*(x,v,w,k,Y){var he,nt;if("EMAIL_PASSWORD_PROVIDER"===Y){if(null!==(he=x._getRecaptchaConfig())&&void 0!==he&&he.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const gt=yield Is(x,v,w,"getOobCode"===w);return k(x,gt)}return k(x,v).catch(function(){var gt=(0,T.A)(function*(ln){if("auth/missing-recaptcha-token"===ln.code){console.log(`${w} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const $n=yield Is(x,v,w,"getOobCode"===w);return k(x,$n)}return Promise.reject(ln)});return function(ln){return gt.apply(this,arguments)}}())}if("PHONE_PROVIDER"===Y){if(null!==(nt=x._getRecaptchaConfig())&&void 0!==nt&&nt.isProviderEnabled("PHONE_PROVIDER")){const gt=yield Is(x,v,w);return k(x,gt).catch(function(){var ln=(0,T.A)(function*($n){var or;if("AUDIT"===(null===(or=x._getRecaptchaConfig())||void 0===or?void 0:or.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===$n.code||"auth/invalid-app-credential"===$n.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${w} flow.`);const _r=yield Is(x,v,w,!1,!0);return k(x,_r)}return Promise.reject($n)});return function($n){return ln.apply(this,arguments)}}())}{const gt=yield Is(x,v,w,!1,!0);return k(x,gt)}}return Promise.reject(Y+" provider is not supported.")}),se.apply(this,arguments)}function vi(x){const v=x.indexOf(":");return v<0?"":x.substr(0,v+1)}function bi(x){if(!x)return null;const v=Number(x);return isNaN(v)?null:v}class ur{constructor(v,w){this.providerId=v,this.signInMethod=w}toJSON(){return Pt("not implemented")}_getIdTokenResponse(v){return Pt("not implemented")}_linkToIdToken(v,w){return Pt("not implemented")}_getReauthenticationResolver(v){return Pt("not implemented")}}function _o(x,v){return we.apply(this,arguments)}function we(){return(we=(0,T.A)(function*(x,v){return me(x,"POST","/v1/accounts:signUp",v)})).apply(this,arguments)}function St(x,v){return mn.apply(this,arguments)}function mn(){return(mn=(0,T.A)(function*(x,v){return Rn(x,"POST","/v1/accounts:signInWithPassword",xe(x,v))})).apply(this,arguments)}function pr(){return(pr=(0,T.A)(function*(x,v){return me(x,"POST","/v1/accounts:sendOobCode",xe(x,v))})).apply(this,arguments)}function la(x,v){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,T.A)(function*(x,v){return function Un(x,v){return pr.apply(this,arguments)}(x,v)})).apply(this,arguments)}function Wo(){return(Wo=(0,T.A)(function*(x,v){return Rn(x,"POST","/v1/accounts:signInWithEmailLink",xe(x,v))})).apply(this,arguments)}function ta(){return(ta=(0,T.A)(function*(x,v){return Rn(x,"POST","/v1/accounts:signInWithEmailLink",xe(x,v))})).apply(this,arguments)}class Go extends ur{constructor(v,w,k,Y=null){super("password",k),this._email=v,this._password=w,this._tenantId=Y}static _fromEmailAndPassword(v,w){return new Go(v,w,"password")}static _fromEmailAndCode(v,w,k=null){return new Go(v,w,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const w="string"==typeof v?JSON.parse(v):v;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(v){var w=this;return(0,T.A)(function*(){switch(w.signInMethod){case"password":return Se(v,{returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",St,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function no(x,v){return Wo.apply(this,arguments)}(v,{email:w._email,oobCode:w._password});default:Kt(v,"internal-error")}})()}_linkToIdToken(v,w){var k=this;return(0,T.A)(function*(){switch(k.signInMethod){case"password":return Se(v,{idToken:w,returnSecureToken:!0,email:k._email,password:k._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_o,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function vo(x,v){return ta.apply(this,arguments)}(v,{idToken:w,email:k._email,oobCode:k._password});default:Kt(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function si(x,v){return co.apply(this,arguments)}function co(){return(co=(0,T.A)(function*(x,v){return Rn(x,"POST","/v1/accounts:signInWithIdp",xe(x,v))})).apply(this,arguments)}class Ys{constructor(v){var w,k,Y,he,nt,gt;const ln=(0,le.I9)((0,le.hp)(v)),$n=null!==(w=ln.apiKey)&&void 0!==w?w:null,or=null!==(k=ln.oobCode)&&void 0!==k?k:null,_r=function hs(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=ln.mode)&&void 0!==Y?Y:null);xt($n&&or&&_r,"argument-error"),this.apiKey=$n,this.operation=_r,this.code=or,this.continueUrl=null!==(he=ln.continueUrl)&&void 0!==he?he:null,this.languageCode=null!==(nt=ln.lang)&&void 0!==nt?nt:null,this.tenantId=null!==(gt=ln.tenantId)&&void 0!==gt?gt:null}static parseLink(v){const w=function hl(x){const v=(0,le.I9)((0,le.hp)(x)).link,w=v?(0,le.I9)((0,le.hp)(v)).deep_link_id:null,k=(0,le.I9)((0,le.hp)(x)).deep_link_id;return(k?(0,le.I9)((0,le.hp)(k)).link:null)||k||w||v||x}(v);try{return new Ys(w)}catch{return null}}}let Qr=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(w,k){return Go._fromEmailAndPassword(w,k)}static credentialWithLink(w,k){const Y=Ys.parseLink(k);return xt(Y,"argument-error"),Go._fromEmailAndCode(w,Y.code,Y.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class os{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class el extends os{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}function tn(x,v){return bn.apply(this,arguments)}function bn(){return(bn=(0,T.A)(function*(x,v){return Rn(x,"POST","/v1/accounts:signUp",xe(x,v))})).apply(this,arguments)}class Jn{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,w,k){return(0,T.A)(function*(Y,he,nt,gt=!1){const ln=yield qr._fromIdTokenResponse(Y,nt,gt),$n=zn(nt);return new Jn({user:ln,providerId:$n,_tokenResponse:nt,operationType:he})}).apply(this,arguments)}static _forOperation(v,w,k){return(0,T.A)(function*(){yield v._updateTokensIfNecessary(k,!0);const Y=zn(k);return new Jn({user:v,providerId:Y,_tokenResponse:k,operationType:w})})()}}function zn(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}class ii extends le.g{constructor(v,w,k,Y){var he;super(w.code,w.message),this.operationType=k,this.user=Y,Object.setPrototypeOf(this,ii.prototype),this.customData={appName:v.name,tenantId:null!==(he=v.tenantId)&&void 0!==he?he:void 0,_serverResponse:w.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(v,w,k,Y){return new ii(v,w,k,Y)}}function Zi(x,v,w,k){return("reauthenticate"===v?w._getReauthenticationResolver(x):w._getIdTokenResponse(x)).catch(he=>{throw"auth/multi-factor-auth-required"===he.code?ii._fromErrorAndOperation(x,he,v,k):he})}function L(){return(L=(0,T.A)(function*(x,v,w=!1){const k=yield Kr(x,v._linkToIdToken(x.auth,yield x.getIdToken()),w);return Jn._forOperation(x,"link",k)})).apply(this,arguments)}function dr(){return(dr=(0,T.A)(function*(x,v,w=!1){const{auth:k}=x;if((0,z.xZ)(k.app))return Promise.reject(ht(k));const Y="reauthenticate";try{const he=yield Kr(x,Zi(k,Y,v,x),w);xt(he.idToken,k,"internal-error");const nt=Hr(he.idToken);xt(nt,k,"internal-error");const{sub:gt}=nt;return xt(x.uid===gt,k,"user-mismatch"),Jn._forOperation(x,Y,he)}catch(he){throw"auth/user-not-found"===he?.code&&Kt(k,"user-mismatch"),he}})).apply(this,arguments)}function jr(x,v){return fs.apply(this,arguments)}function fs(){return(fs=(0,T.A)(function*(x,v,w=!1){if((0,z.xZ)(x.app))return Promise.reject(ht(x));const k="signIn",Y=yield Zi(x,k,v),he=yield Jn._fromIdTokenResponse(x,k,Y);return w||(yield x._updateCurrentUser(he.user)),he})).apply(this,arguments)}function ho(){return(ho=(0,T.A)(function*(x,v){return jr(Nn(x),v)})).apply(this,arguments)}function gl(x){return wa.apply(this,arguments)}function wa(){return(wa=(0,T.A)(function*(x){const v=Nn(x);v._getPasswordPolicyInternal()&&(yield v._updatePasswordPolicy())})).apply(this,arguments)}function ys(x,v,w){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,T.A)(function*(x,v,w){const k=Nn(x),Y={requestType:"PASSWORD_RESET",email:v,clientType:"CLIENT_TYPE_WEB"};w&&function ja(x,v,w){var k;xt((null===(k=w.url)||void 0===k?void 0:k.length)>0,x,"invalid-continue-uri"),xt(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),xt(typeof w.linkDomain>"u"||w.linkDomain.length>0,x,"invalid-hosting-link-domain"),v.continueUrl=w.url,v.dynamicLinkDomain=w.dynamicLinkDomain,v.linkDomain=w.linkDomain,v.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(xt(w.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),v.iOSBundleId=w.iOS.bundleId),w.android&&(xt(w.android.packageName.length>0,x,"missing-android-pkg-name"),v.androidInstallApp=w.android.installApp,v.androidMinimumVersionCode=w.android.minimumVersion,v.androidPackageName=w.android.packageName)}(k,Y,w),yield Se(k,Y,"getOobCode",la,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function sc(x,v,w){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,T.A)(function*(x,v,w){if((0,z.xZ)(x.app))return Promise.reject(ht(x));const k=Nn(x),nt=yield Se(k,{returnSecureToken:!0,email:v,password:w,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tn,"EMAIL_PASSWORD_PROVIDER").catch(ln=>{throw"auth/password-does-not-meet-requirements"===ln.code&&gl(x),ln}),gt=yield Jn._fromIdTokenResponse(k,"signIn",nt);return yield k._updateCurrentUser(gt.user),gt})).apply(this,arguments)}function Oi(x,v,w){return(0,z.xZ)(x.app)?Promise.reject(ht(x)):function Ps(x,v){return ho.apply(this,arguments)}((0,le.Ku)(x),Qr.credential(v,w)).catch(function(){var k=(0,T.A)(function*(Y){throw"auth/password-does-not-meet-requirements"===Y.code&&gl(x),Y});return function(Y){return k.apply(this,arguments)}}())}function O(x,v,w,k){return(0,le.Ku)(x).onAuthStateChanged(v,w,k)}function Ie(x){return(0,le.Ku)(x).signOut()}const uu="__sak";class du{constructor(v,w){this.storageRetriever=v,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(uu,"1"),this.storage.removeItem(uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(v,w){return this.storage.setItem(v,JSON.stringify(w)),Promise.resolve()}_get(v){const w=this.storage.getItem(v);return Promise.resolve(w?JSON.parse(w):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const ev=(()=>{class x extends du{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,k)=>this.onStorageEvent(w,k),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pe(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const k of Object.keys(this.listeners)){const Y=this.storage.getItem(k),he=this.localCache[k];Y!==he&&w(k,he,Y)}}onStorageEvent(w,k=!1){if(!w.key)return void this.forAllChangedKeys((gt,ln,$n)=>{this.notifyListeners(gt,$n)});const Y=w.key;k?this.detachListener():this.stopPolling();const he=()=>{const gt=this.storage.getItem(Y);!k&&this.localCache[Y]===gt||this.notifyListeners(Y,gt)},nt=this.storage.getItem(Y);!function ve(){return(0,le.lT)()&&10===document.documentMode}()||nt===w.newValue||w.newValue===w.oldValue?he():setTimeout(he,10)}notifyListeners(w,k){this.localCache[w]=k;const Y=this.listeners[w];if(Y)for(const he of Array.from(Y))he(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,k,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:k,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(k)}_removeListener(w,k){this.listeners[w]&&(this.listeners[w].delete(k),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,k){var Y=()=>super._set,he=this;return(0,T.A)(function*(){yield Y().call(he,w,k),he.localCache[w]=JSON.stringify(k)})()}_get(w){var k=()=>super._get,Y=this;return(0,T.A)(function*(){const he=yield k().call(Y,w);return Y.localCache[w]=JSON.stringify(he),he})()}_remove(w){var k=()=>super._remove,Y=this;return(0,T.A)(function*(){yield k().call(Y,w),delete Y.localCache[w]})()}}return x.type="LOCAL",x})(),Vi=(()=>{class x extends du{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,k){}_removeListener(w,k){}}return x.type="SESSION",x})();let Dd=(()=>{class x{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const k=this.receivers.find(he=>he.isListeningto(w));if(k)return k;const Y=new x(w);return this.receivers.push(Y),Y}isListeningto(w){return this.eventTarget===w}handleEvent(w){var k=this;return(0,T.A)(function*(){const Y=w,{eventId:he,eventType:nt,data:gt}=Y.data,ln=k.handlersMap[nt];if(!ln?.size)return;Y.ports[0].postMessage({status:"ack",eventId:he,eventType:nt});const $n=Array.from(ln).map(function(){var _r=(0,T.A)(function*(ai){return ai(Y.origin,gt)});return function(ai){return _r.apply(this,arguments)}}()),or=yield function oi(x){return Promise.all(x.map(function(){var v=(0,T.A)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(k){return{fulfilled:!1,reason:k}}});return function(w){return v.apply(this,arguments)}}()))}($n);Y.ports[0].postMessage({status:"done",eventId:he,eventType:nt,response:or})})()}_subscribe(w,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(k)}_unsubscribe(w,k){this.handlersMap[w]&&k&&this.handlersMap[w].delete(k),(!k||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function Wu(x="",v=10){let w="";for(let k=0;k<v;k++)w+=Math.floor(10*Math.random());return x+w}class $s{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,w){var k=this;return(0,T.A)(function*(Y,he,nt=50){const gt=typeof MessageChannel<"u"?new MessageChannel:null;if(!gt)throw new Error("connection_unavailable");let ln,$n;return new Promise((or,_r)=>{const ai=Wu("",20);gt.port1.start();const oo=setTimeout(()=>{_r(new Error("unsupported_event"))},nt);$n={messageChannel:gt,onMessage(ks){const al=ks;if(al.data.eventId===ai)switch(al.data.status){case"ack":clearTimeout(oo),ln=setTimeout(()=>{_r(new Error("timeout"))},3e3);break;case"done":clearTimeout(ln),or(al.data.response);break;default:clearTimeout(oo),clearTimeout(ln),_r(new Error("invalid_response"))}}},k.handlers.add($n),gt.port1.addEventListener("message",$n.onMessage),k.target.postMessage({eventType:Y,eventId:ai,data:he},[gt.port2])}).finally(()=>{$n&&k.removeMessageHandler($n)})}).apply(this,arguments)}}function Fr(){return window}function Hi(){return typeof Fr().WorkerGlobalScope<"u"&&"function"==typeof Fr().importScripts}function il(){return(il=(0,T.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Nc="firebaseLocalStorageDb",fu="firebaseLocalStorage",Fl="fbase_key";class Ha{constructor(v){this.request=v}toPromise(){return new Promise((v,w)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function Ca(x,v){return x.transaction([fu],v?"readwrite":"readonly").objectStore(fu)}function pu(){const x=indexedDB.open(Nc,1);return new Promise((v,w)=>{x.addEventListener("error",()=>{w(x.error)}),x.addEventListener("upgradeneeded",()=>{const k=x.result;try{k.createObjectStore(fu,{keyPath:Fl})}catch(Y){w(Y)}}),x.addEventListener("success",(0,T.A)(function*(){const k=x.result;k.objectStoreNames.contains(fu)?v(k):(k.close(),yield function qo(){const x=indexedDB.deleteDatabase(Nc);return new Ha(x).toPromise()}(),v(yield pu()))}))})}function bs(x,v,w){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,T.A)(function*(x,v,w){const k=Ca(x,!0).put({[Fl]:v,value:w});return new Ha(k).toPromise()})).apply(this,arguments)}function As(){return(As=(0,T.A)(function*(x,v){const w=Ca(x,!1).get(v),k=yield new Ha(w).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function ps(x,v){const w=Ca(x,!0).delete(v);return new Ha(w).toPromise()}const Ms=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,T.A)(function*(){return w.db||(w.db=yield pu()),w.db})()}_withRetries(w){var k=this;return(0,T.A)(function*(){let Y=0;for(;;)try{const he=yield k._openDb();return yield w(he)}catch(he){if(Y++>3)throw he;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,T.A)(function*(){return Hi()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,T.A)(function*(){w.receiver=Dd._getInstance(function Oc(){return Hi()?self:null}()),w.receiver._subscribe("keyChanged",function(){var k=(0,T.A)(function*(Y,he){return{keyProcessed:(yield w._poll()).includes(he.key)}});return function(Y,he){return k.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var k=(0,T.A)(function*(Y,he){return["keyChanged"]});return function(Y,he){return k.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,T.A)(function*(){var k,Y;if(w.activeServiceWorker=yield function kc(){return il.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new $s(w.activeServiceWorker);const he=yield w.sender._send("ping",{},800);he&&null!==(k=he[0])&&void 0!==k&&k.fulfilled&&null!==(Y=he[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var k=this;return(0,T.A)(function*(){if(k.sender&&k.activeServiceWorker&&function xi(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:w},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,T.A)(function*(){try{if(!indexedDB)return!1;const w=yield pu();return yield bs(w,uu,"1"),yield ps(w,uu),!0}catch{}return!1})()}_withPendingWrite(w){var k=this;return(0,T.A)(function*(){k.pendingWrites++;try{yield w()}finally{k.pendingWrites--}})()}_set(w,k){var Y=this;return(0,T.A)(function*(){return Y._withPendingWrite((0,T.A)(function*(){return yield Y._withRetries(he=>bs(he,w,k)),Y.localCache[w]=k,Y.notifyServiceWorker(w)}))})()}_get(w){var k=this;return(0,T.A)(function*(){const Y=yield k._withRetries(he=>function za(x,v){return As.apply(this,arguments)}(he,w));return k.localCache[w]=Y,Y})()}_remove(w){var k=this;return(0,T.A)(function*(){return k._withPendingWrite((0,T.A)(function*(){return yield k._withRetries(Y=>ps(Y,w)),delete k.localCache[w],k.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,T.A)(function*(){const k=yield w._withRetries(nt=>{const gt=Ca(nt,!1).getAll();return new Ha(gt).toPromise()});if(!k)return[];if(0!==w.pendingWrites)return[];const Y=[],he=new Set;if(0!==k.length)for(const{fbase_key:nt,value:gt}of k)he.add(nt),JSON.stringify(w.localCache[nt])!==JSON.stringify(gt)&&(w.notifyListeners(nt,gt),Y.push(nt));for(const nt of Object.keys(w.localCache))w.localCache[nt]&&!he.has(nt)&&(w.notifyListeners(nt,null),Y.push(nt));return Y})()}notifyListeners(w,k){this.localCache[w]=k;const Y=this.listeners[w];if(Y)for(const he of Array.from(Y))he(k)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,T.A)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(k)}_removeListener(w,k){this.listeners[w]&&(this.listeners[w].delete(k),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})();an("rcb"),new On(3e4,6e4);class Aa extends ur{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return si(v,this._buildIdpRequest())}_linkToIdToken(v,w){return si(v,this._buildIdpRequest(w))}_getReauthenticationResolver(v){return si(v,this._buildIdpRequest())}_buildIdpRequest(v){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(w.idToken=v),w}}function xd(x){return jr(x.auth,new Aa(x),x.bypassAuthState)}function Yf(x){const{auth:v,user:w}=x;return xt(w,v,"internal-error"),function Pn(x,v){return dr.apply(this,arguments)}(w,new Aa(x),x.bypassAuthState)}function Zf(x){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,T.A)(function*(x){const{auth:v,user:w}=x;return xt(w,v,"internal-error"),function K(x,v){return L.apply(this,arguments)}(w,new Aa(x),x.bypassAuthState)})).apply(this,arguments)}class Nh{constructor(v,w,k,Y,he=!1){this.auth=v,this.resolver=k,this.user=Y,this.bypassAuthState=he,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var v=this;return new Promise(function(){var w=(0,T.A)(function*(k,Y){v.pendingPromise={resolve:k,reject:Y};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(he){v.reject(he)}});return function(k,Y){return w.apply(this,arguments)}}())}onAuthEvent(v){var w=this;return(0,T.A)(function*(){const{urlResponse:k,sessionId:Y,postBody:he,tenantId:nt,error:gt,type:ln}=v;if(gt)return void w.reject(gt);const $n={auth:w.auth,requestUri:k,sessionId:Y,tenantId:nt||void 0,postBody:he||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(ln)($n))}catch(or){w.reject(or)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return xd;case"linkViaPopup":case"linkViaRedirect":return Zf;case"reauthViaPopup":case"reauthViaRedirect":return Yf;default:Kt(this.auth,"internal-error")}}resolve(v){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new On(2e3,1e4);const Vc=new Map;class _g extends Nh{constructor(v,w,k=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,k),this.eventId=null}execute(){var v=()=>super.execute,w=this;return(0,T.A)(function*(){let k=Vc.get(w.auth._key());if(!k){try{const he=(yield function Bl(x,v){return Ul.apply(this,arguments)}(w.resolver,w.auth))?yield v().call(w):null;k=()=>Promise.resolve(he)}catch(Y){k=()=>Promise.reject(Y)}Vc.set(w.auth._key(),k)}return w.bypassAuthState||Vc.set(w.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(v){var w=()=>super.onAuthEvent,k=this;return(0,T.A)(function*(){if("signInViaRedirect"===v.type)return w().call(k,v);if("unknown"!==v.type){if(v.eventId){const Y=yield k.auth._redirectUserForId(v.eventId);if(Y)return k.user=Y,w().call(k,v);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,T.A)(function*(){})()}cleanUp(){}}function Ul(){return(Ul=(0,T.A)(function*(x,v){const w=function Bc(x){return $e("pendingRedirect",x.config.apiKey,x.name)}(v),k=function Lh(x){return cs(x._redirectPersistence)}(x);if(!(yield k._isAvailable()))return!1;const Y="true"===(yield k._get(w));return yield k._remove(w),Y})).apply(this,arguments)}function jl(x,v){Vc.set(x._key(),v)}function Ku(x,v){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,T.A)(function*(x,v,w=!1){if((0,z.xZ)(x.app))return Promise.reject(ht(x));const k=Nn(x),Y=function Ka(x,v){return v?cs(v):(xt(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}(k,v),nt=yield new _g(k,Y,w).execute();return nt&&!w&&(delete nt.user._redirectEventId,yield k._persistUserIfCurrent(nt.user),yield k._setRedirectUser(null,v)),nt})).apply(this,arguments)}class El{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let w=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(v,k)&&(w=!0,this.sendToConsumer(v,k),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function _u(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sl(x);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=v,w=!0)),w}sendToConsumer(v,w){var k;if(v.error&&!sl(v)){const Y=(null===(k=v.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";w.onError(Qe(this.auth,Y))}else w.onAuthEvent(v)}isEventForConsumer(v,w){const k=null===w.eventId||!!v.eventId&&v.eventId===w.eventId;return w.filter.includes(v.type)&&k}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ga(v))}saveEventToCache(v){this.cachedEventUids.add(ga(v)),this.lastProcessedEventTime=Date.now()}}function ga(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(v=>v).join("-")}function sl({type:x,error:v}){return"unknown"===x&&"auth/no-auth-event"===v?.code}function Ld(){return(Ld=(0,T.A)(function*(x,v={}){return me(x,"GET","/v1/projects",v)})).apply(this,arguments)}const yg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vg=/^https?/;function Ro(){return Ro=(0,T.A)(function*(x){if(x.config.emulator)return;const{authorizedDomains:v}=yield function Fd(x){return Ld.apply(this,arguments)}(x);for(const w of v)try{if(ma(w))return}catch{}Kt(x,"unauthorized-domain")}),Ro.apply(this,arguments)}function ma(x){const v=hr(),{protocol:w,hostname:k}=new URL(v);if(x.startsWith("chrome-extension://")){const nt=new URL(x);return""===nt.hostname&&""===k?"chrome-extension:"===w&&x.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===w&&nt.hostname===k}if(!vg.test(w))return!1;if(yg.test(x))return k===x;const Y=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(k)}const Uh=new On(3e4,6e4);function yu(){const x=Fr().___jsl;if(x?.H)for(const v of Object.keys(x.H))if(x.H[v].r=x.H[v].r||[],x.H[v].L=x.H[v].L||[],x.H[v].r=[...x.H[v].L],x.CP)for(let w=0;w<x.CP.length;w++)x.CP[w]=null}let Bd=null;const m_=new On(5e3,15e3),wo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$c=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hc(x){const v=x.config;xt(v.authDomain,x,"auth-domain-config-required");const w=v.emulator?rn(v,"emulator/auth/iframe"):`https://${x.config.authDomain}/__/auth/iframe`,k={apiKey:v.apiKey,appName:x.name,v:z.MF},Y=$c.get(x.config.apiHost);Y&&(k.eid=Y);const he=x._getFrameworks();return he.length&&(k.fw=he.join(",")),`${w}?${(0,le.Am)(k).slice(1)}`}function zl(){return zl=(0,T.A)(function*(x){const v=yield function jh(x){return Bd=Bd||function bg(x){return new Promise((v,w)=>{var k,Y,he;function nt(){yu(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{yu(),w(Qe(x,"network-request-failed"))},timeout:Uh.get()})}if(null!==(Y=null===(k=Fr().gapi)||void 0===k?void 0:k.iframes)&&void 0!==Y&&Y.Iframe)v(gapi.iframes.getContext());else{if(null===(he=Fr().gapi)||void 0===he||!he.load){const gt=an("iframefcb");return Fr()[gt]=()=>{gapi.load?nt():w(Qe(x,"network-request-failed"))},us(`${function ut(){return Mr.gapiScript}()}?onload=${gt}`).catch(ln=>w(ln))}nt()}}).catch(v=>{throw Bd=null,v})}(x),Bd}(x),w=Fr().gapi;return xt(w,x,"internal-error"),v.open({where:document.body,url:Hc(x),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wo,dontclear:!0},k=>new Promise(function(){var Y=(0,T.A)(function*(he,nt){yield k.restyle({setHideOnLeave:!1});const gt=Qe(x,"network-request-failed"),ln=Fr().setTimeout(()=>{nt(gt)},m_.get());function $n(){Fr().clearTimeout(ln),he(k)}k.ping($n).then($n,()=>{nt(gt)})});return function(he,nt){return Y.apply(this,arguments)}}()))}),zl.apply(this,arguments)}const Wl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eg{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const wg=encodeURIComponent("fac");function Wc(x,v,w,k,Y,he){return Io.apply(this,arguments)}function Io(){return(Io=(0,T.A)(function*(x,v,w,k,Y,he){xt(x.config.authDomain,x,"auth-domain-config-required"),xt(x.config.apiKey,x,"invalid-api-key");const nt={apiKey:x.config.apiKey,appName:x.name,authType:w,redirectUrl:k,v:z.MF,eventId:Y};if(v instanceof os){v.setDefaultLanguage(x.languageCode),nt.providerId=v.providerId||"",(0,le.Im)(v.getCustomParameters())||(nt.customParameters=JSON.stringify(v.getCustomParameters()));for(const[or,_r]of Object.entries(he||{}))nt[or]=_r}if(v instanceof el){const or=v.getScopes().filter(_r=>""!==_r);or.length>0&&(nt.scopes=or.join(","))}x.tenantId&&(nt.tid=x.tenantId);const gt=nt;for(const or of Object.keys(gt))void 0===gt[or]&&delete gt[or];const ln=yield x._getAppCheckToken(),$n=ln?`#${wg}=${encodeURIComponent(ln)}`:"";return`${function tp({config:x}){return x.emulator?rn(x,"emulator/auth/handler"):`https://${x.authDomain}/__/auth/handler`}(x)}?${(0,le.Am)(gt).slice(1)}${$n}`})).apply(this,arguments)}const uc="webStorageSupport",np=class Eu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vi,this._completeRedirectFn=Ku,this._overrideRedirectResult=jl}_openPopup(v,w,k,Y){var he=this;return(0,T.A)(function*(){var nt;lr(null===(nt=he.eventManagers[v._key()])||void 0===nt?void 0:nt.manager,"_initialize() not called before _openPopup()");const gt=yield Wc(v,w,k,hr(),Y);return function vu(x,v,w,k=500,Y=600){const he=Math.max((window.screen.availHeight-Y)/2,0).toString(),nt=Math.max((window.screen.availWidth-k)/2,0).toString();let gt="";const ln=Object.assign(Object.assign({},Wl),{width:k.toString(),height:Y.toString(),top:he,left:nt}),$n=(0,le.ZQ)().toLowerCase();w&&(gt=yn($n)?"_blank":w),nn($n)&&(v=v||"http://localhost",ln.scrollbars="yes");const or=Object.entries(ln).reduce((ai,[oo,ks])=>`${ai}${oo}=${ks},`,"");if(function Bt(x=(0,le.ZQ)()){var v;return He(x)&&!(null===(v=window.navigator)||void 0===v||!v.standalone)}($n)&&"_self"!==gt)return function Qu(x,v){const w=document.createElement("a");w.href=x,w.target=v;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(k)}(v||"",gt),new Eg(null);const _r=window.open(v||"",gt,or);xt(_r,x,"popup-blocked");try{_r.focus()}catch{}return new Eg(_r)}(v,gt,Wu())})()}_openRedirect(v,w,k,Y){var he=this;return(0,T.A)(function*(){return yield he._originValidation(v),function Mh(x){Fr().location.href=x}(yield Wc(v,w,k,hr(),Y)),new Promise(()=>{})})()}_initialize(v){const w=v._key();if(this.eventManagers[w]){const{manager:Y,promise:he}=this.eventManagers[w];return Y?Promise.resolve(Y):(lr(he,"If manager is not set, promise should be"),he)}const k=this.initAndGetManager(v);return this.eventManagers[w]={promise:k},k.catch(()=>{delete this.eventManagers[w]}),k}initAndGetManager(v){var w=this;return(0,T.A)(function*(){const k=yield function Hl(x){return zl.apply(this,arguments)}(v),Y=new El(v);return k.register("authEvent",he=>(xt(he?.authEvent,v,"invalid-auth-event"),{status:Y.onEvent(he.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[v._key()]={manager:Y},w.iframes[v._key()]=k,Y})()}_isIframeWebStorageSupported(v,w){this.iframes[v._key()].send(uc,{type:uc},Y=>{var he;const nt=null===(he=Y?.[0])||void 0===he?void 0:he[uc];void 0!==nt&&w(!!nt),Kt(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const w=v._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function Vd(x){return Ro.apply(this,arguments)}(v)),this.originValidationPromises[w]}get _shouldInitProactively(){return Pe()||dt()||He()}};var fc="@firebase/auth";class Xu{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var w=this;return(0,T.A)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const w=this.auth.onIdTokenChanged(k=>{v(k?.stsTokenManager.accessToken||null)});this.internalListeners.set(v,w),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const w=this.internalListeners.get(v);w&&(this.internalListeners.delete(v),w(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const rp=(0,le.XA)("authIdTokenMaxAge")||300;let Iu=null;const Yu=x=>function(){var v=(0,T.A)(function*(w){const k=w&&(yield w.getIdTokenResult()),Y=k&&((new Date).getTime()-Date.parse(k.issuedAtTime))/1e3;if(Y&&Y>rp)return;const he=k?.token;Iu!==he&&(Iu=he,yield fetch(x,{method:he?"POST":"DELETE",headers:he?{Authorization:`Bearer ${he}`}:{}}))});return function(w){return v.apply(this,arguments)}}();function Wh(x=(0,z.Sx)()){const v=(0,z.j6)(x,"auth");if(v.isInitialized())return v.getImmediate();const w=function Ht(x,v){const w=(0,z.j6)(x,"auth");if(w.isInitialized()){const Y=w.getImmediate(),he=w.getOptions();if((0,le.bD)(he,v??{}))return Y;Kt(Y,"already-initialized")}return w.initialize({options:v})}(x,{popupRedirectResolver:np,persistence:[Ms,ev,Vi]}),k=(0,le.XA)("authTokenSyncURL");if(k&&"boolean"==typeof isSecureContext&&isSecureContext){const he=new URL(k,location.origin);if(location.origin===he.origin){const nt=Yu(he.toString());(function B(x,v,w){(0,le.Ku)(x).beforeAuthStateChanged(v,w)})(w,nt,()=>nt(w.currentUser)),function M(x,v,w,k){(0,le.Ku)(x).onIdTokenChanged(v,w,k)}(w,gt=>nt(gt))}}const Y=(0,le.Tj)("auth");return Y&&function tr(x,v,w){const k=Nn(x);xt(/^https?:\/\//.test(v),k,"invalid-emulator-scheme");const Y=!!w?.disableWarnings,he=vi(v),{host:nt,port:gt}=function Ai(x){const v=vi(x),w=/(\/\/)?([^?#/]+)/.exec(x.substr(v.length));if(!w)return{host:"",port:null};const k=w[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(k);if(Y){const he=Y[1];return{host:he,port:bi(k.substr(he.length+1))}}{const[he,nt]=k.split(":");return{host:he,port:bi(nt)}}}(v),ln=null===gt?"":`:${gt}`,$n={url:`${he}//${nt}${ln}/`},or=Object.freeze({host:nt,port:gt,protocol:he.replace(":",""),options:Object.freeze({disableWarnings:Y})});if(!k._canInitEmulator)return xt(k.config.emulator&&k.emulatorConfig,k,"emulator-config-failed"),void xt((0,le.bD)($n,k.config.emulator)&&(0,le.bD)(or,k.emulatorConfig),k,"emulator-config-failed");k.config.emulator=$n,k.emulatorConfig=or,k.settings.appVerificationDisabledForTesting=!0,(0,le.zJ)(nt)?((0,le.gE)(`${he}//${nt}${ln}`),(0,le.P1)("Auth",!0)):Y||function Wr(){function x(){const v=document.createElement("p"),w=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}(w,`http://${Y}`),w}(function Wi(x){Mr=x})({loadJS:x=>new Promise((v,w)=>{const k=document.createElement("script");k.setAttribute("src",x),k.onload=v,k.onerror=Y=>{const he=Qe("internal-error");he.customData=Y,w(he)},k.type="text/javascript",k.charset="UTF-8",function ip(){var x,v;return null!==(v=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==v?v:document}().appendChild(k)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function wu(x){(0,z.om)(new pt.uA("auth",(v,{options:w})=>{const k=v.getProvider("app").getImmediate(),Y=v.getProvider("heartbeat"),he=v.getProvider("app-check-internal"),{apiKey:nt,authDomain:gt}=k.options;xt(nt&&!nt.includes(":"),"invalid-api-key",{appName:k.name});const ln={apiKey:nt,authDomain:gt,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tt(x)},$n=new ir(k,Y,he,ln);return function xn(x,v){const w=v?.persistence||[],k=(Array.isArray(w)?w:[w]).map(cs);v?.errorMap&&x._updateErrorMap(v.errorMap),x._initializeWithPersistence(k,v?.popupRedirectResolver)}($n,w),$n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,w,k)=>{v.getProvider("auth-internal").initialize()})),(0,z.om)(new pt.uA("auth-internal",v=>{const w=Nn(v.getProvider("auth").getImmediate());return new Xu(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.KO)(fc,"1.10.6",function pc(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(x)),(0,z.KO)(fc,"1.10.6","esm2017")}("Browser")},591:(qn,ot,Q)=>{"use strict";function T(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(ot,{L:()=>T})},941:(qn,ot,Q)=>{"use strict";Q.d(ot,{Q:()=>A});var T=Q(5225),z=Q(9974),le=Q(4360);function A(We,pt=0){return(0,z.N)((Oe,Le)=>{Oe.subscribe((0,le._)(Le,at=>(0,T.N)(Le,We,()=>Le.next(at),pt),()=>(0,T.N)(Le,We,()=>Le.complete(),pt),at=>(0,T.N)(Le,We,()=>Le.error(at),pt)))})}},969:(qn,ot,Q)=>{"use strict";Q.d(ot,{FX:()=>In,If:()=>T,K2:()=>pt,PZ:()=>un,hZ:()=>le,i0:()=>A,iF:()=>Oe,kY:()=>Ve,kp:()=>z,sf:()=>Zt,wk:()=>Le});var T=function(Ut){return Ut[Ut.State=0]="State",Ut[Ut.Transition=1]="Transition",Ut[Ut.Sequence=2]="Sequence",Ut[Ut.Group=3]="Group",Ut[Ut.Animate=4]="Animate",Ut[Ut.Keyframes=5]="Keyframes",Ut[Ut.Style=6]="Style",Ut[Ut.Trigger=7]="Trigger",Ut[Ut.Reference=8]="Reference",Ut[Ut.AnimateChild=9]="AnimateChild",Ut[Ut.AnimateRef=10]="AnimateRef",Ut[Ut.Query=11]="Query",Ut[Ut.Stagger=12]="Stagger",Ut}(T||{});const z="*";function le(Ut,Gt){return{type:T.Trigger,name:Ut,definitions:Gt,options:{}}}function A(Ut,Gt=null){return{type:T.Animate,styles:Gt,timings:Ut}}function pt(Ut,Gt=null){return{type:T.Sequence,steps:Ut,options:Gt}}function Oe(Ut){return{type:T.Style,styles:Ut,offset:null}}function Le(Ut,Gt,Kt){return{type:T.State,name:Ut,styles:Gt,options:Kt}}function Ve(Ut,Gt,Kt=null){return{type:T.Transition,expr:Ut,animation:Gt,options:Kt}}class Zt{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(Gt=0,Kt=0){this.totalTime=Gt+Kt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Gt=>Gt()),this._onDoneFns=[])}onStart(Gt){this._originalOnStartFns.push(Gt),this._onStartFns.push(Gt)}onDone(Gt){this._originalOnDoneFns.push(Gt),this._onDoneFns.push(Gt)}onDestroy(Gt){this._onDestroyFns.push(Gt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Gt=>Gt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Gt=>Gt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Gt){this._position=this.totalTime?Gt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Gt){const Kt="start"==Gt?this._onStartFns:this._onDoneFns;Kt.forEach(Qe=>Qe()),Kt.length=0}}class un{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(Gt){this.players=Gt;let Kt=0,Qe=0,vt=0;const ht=this.players.length;0==ht?queueMicrotask(()=>this._onFinish()):this.players.forEach(kt=>{kt.onDone(()=>{++Kt==ht&&this._onFinish()}),kt.onDestroy(()=>{++Qe==ht&&this._onDestroy()}),kt.onStart(()=>{++vt==ht&&this._onStart()})}),this.totalTime=this.players.reduce((kt,hn)=>Math.max(kt,hn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Gt=>Gt()),this._onDoneFns=[])}init(){this.players.forEach(Gt=>Gt.init())}onStart(Gt){this._onStartFns.push(Gt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Gt=>Gt()),this._onStartFns=[])}onDone(Gt){this._onDoneFns.push(Gt)}onDestroy(Gt){this._onDestroyFns.push(Gt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Gt=>Gt.play())}pause(){this.players.forEach(Gt=>Gt.pause())}restart(){this.players.forEach(Gt=>Gt.restart())}finish(){this._onFinish(),this.players.forEach(Gt=>Gt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Gt=>Gt.destroy()),this._onDestroyFns.forEach(Gt=>Gt()),this._onDestroyFns=[])}reset(){this.players.forEach(Gt=>Gt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Gt){const Kt=Gt*this.totalTime;this.players.forEach(Qe=>{const vt=Qe.totalTime?Math.min(1,Kt/Qe.totalTime):1;Qe.setPosition(vt)})}getPosition(){const Gt=this.players.reduce((Kt,Qe)=>null===Kt||Qe.totalTime>Kt.totalTime?Qe:Kt,null);return null!=Gt?Gt.getPosition():0}beforeDestroy(){this.players.forEach(Gt=>{Gt.beforeDestroy&&Gt.beforeDestroy()})}triggerCallback(Gt){const Kt="start"==Gt?this._onStartFns:this._onDoneFns;Kt.forEach(Qe=>Qe()),Kt.length=0}}const In="!"},980:(qn,ot,Q)=>{"use strict";Q.d(ot,{j:()=>z});var T=Q(9974);function z(le){return(0,T.N)((A,We)=>{try{A.subscribe(We)}finally{We.add(le)}})}},983:(qn,ot,Q)=>{"use strict";Q.d(ot,{w:()=>z});const z=new(Q(1985).c)(We=>We.complete())},1026:(qn,ot,Q)=>{"use strict";Q.d(ot,{$:()=>T});const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(qn,ot,Q)=>{"use strict";Q.d(ot,{F:()=>z,m:()=>le});var T=Q(3669);function z(...A){return le(A)}function le(A){return 0===A.length?T.D:1===A.length?A[0]:function(pt){return A.reduce((Oe,Le)=>Le(Oe),pt)}}},1360:(qn,ot,Q)=>{"use strict";Q.d(ot,{bc$:()=>O_,iLQ:()=>hw,sZ2:()=>sd,o8S:()=>Hu,BIS:()=>yv,gRc:()=>ZA,Ql9:()=>B1,OM3:()=>o_,Ocv:()=>G1,abz:()=>_a,Z63:()=>os,aKT:()=>td,uvJ:()=>jr,zcH:()=>Il,bkB:()=>gc,$GK:()=>ur,nKC:()=>Ne,zZn:()=>$o,_q3:()=>wT,MKu:()=>IT,xe9:()=>_T,Co$:()=>NT,Vns:()=>Gy,SKi:()=>Hs,Xx1:()=>si,Agw:()=>mp,PLl:()=>k_,u5s:()=>Ya,sFG:()=>G0,_9s:()=>XE,czy:()=>pd,WPN:()=>ch,kdw:()=>uo,C4Q:()=>og,NYb:()=>ex,giA:()=>cC,xvI:()=>L1,RxE:()=>jA,c1b:()=>Nb,gXe:()=>wc,mal:()=>Yg,Af3:()=>Lo,L39:()=>Bk,EWP:()=>Dw,Ol2:()=>_I,w6W:()=>OS,QZP:()=>CT,Rfq:()=>is,WQX:()=>jn,hFB:()=>cv,naY:()=>rk,QuC:()=>ke,EmA:()=>Ke,phd:()=>rx,HJs:()=>oO,N4e:()=>Na,vPA:()=>Au,O8t:()=>xh,H3F:()=>DI,H8p:()=>L,KH2:()=>Yb,Ua0:()=>Cu,wOt:()=>Dt,WHO:()=>aC,e01:()=>lC,Lf2:()=>ld,lNU:()=>li,h9k:()=>$p,$MX:()=>ah,ZF7:()=>vf,Kcf:()=>Vv,e5t:()=>Up,UyX:()=>EE,cWb:()=>Bp,osQ:()=>sh,H5H:()=>XI,Zy3:()=>vr,mq5:()=>rD,JZv:()=>Zn,TL3:()=>_k,LfX:()=>en,plB:()=>Jl,jNT:()=>PI,zjR:()=>dC,ngT:()=>ul,TL$:()=>_v,Tbb:()=>et,rcV:()=>ku,Vt3:()=>vI,OA$:()=>$i,Jv_:()=>cA,R7$:()=>D,BMQ:()=>FI,HbH:()=>UC,ZvI:()=>KC,STu:()=>qC,AVh:()=>HI,wni:()=>LD,VBU:()=>LT,FsC:()=>VT,jDH:()=>tt,G2t:()=>Vt,$C:()=>yI,EJ8:()=>BT,rXU:()=>c_,nrm:()=>qI,bVm:()=>C0,qex:()=>T0,k0s:()=>I0,j41:()=>w0,RV6:()=>tD,xGo:()=>Iu,KVO:()=>Gi,kS0:()=>x,QTQ:()=>Zw,bIt:()=>JI,lsd:()=>BD,joV:()=>Ku,qSk:()=>io,XpG:()=>AD,nI1:()=>EA,bMT:()=>wA,i5U:()=>IA,Y8G:()=>UI,lJ4:()=>dA,eq3:()=>hA,l_i:()=>fA,sMw:()=>pA,ziG:()=>gA,mGM:()=>VD,sdS:()=>UD,Njj:()=>Ga,eBV:()=>fa,npT:()=>TE,B4B:()=>Dm,n$t:()=>Rm,xc7:()=>$I,zvX:()=>QI,DNE:()=>II,EFF:()=>XD,JRh:()=>nT,SpI:()=>x0,Lme:()=>rT,DH7:()=>sA,mxI:()=>sT,R50:()=>iT});var T=Q(467);function z(e,t){return Object.is(e,t)}let le=null,A=!1,We=1;const pt=Symbol("SIGNAL");function Oe(e){const t=le;return le=e,t}const Fe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function At(e){if(A)throw new Error("");if(null===le)return;le.consumerOnSignalRead(e);const t=le.nextProducerIndex++;hn(le),t<le.producerNode.length&&le.producerNode[t]!==e&&kt(le)&&ht(le.producerNode[t],le.producerIndexOfThis[t]),le.producerNode[t]!==e&&(le.producerNode[t]=e,le.producerIndexOfThis[t]=kt(le)?vt(e,le,t):0),le.producerLastReadVersion[t]=e.version}function Ct(e){if((!kt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==We)){if(!e.producerMustRecompute(e)&&!Kt(e))return void In(e);e.producerRecomputeValue(e),In(e)}}function Qt(e){if(void 0===e.liveConsumerNode)return;const t=A;A=!0;try{for(const i of e.liveConsumerNode)i.dirty||un(i)}finally{A=t}}function Zt(){return!1!==le?.consumerAllowSignalWrites}function un(e){e.dirty=!0,Qt(e),e.consumerMarkedDirty?.(e)}function In(e){e.dirty=!1,e.lastCleanEpoch=We}function Ut(e){return e&&(e.nextProducerIndex=0),Oe(e)}function Gt(e,t){if(Oe(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(kt(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)ht(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Kt(e){hn(e);for(let t=0;t<e.producerNode.length;t++){const i=e.producerNode[t],c=e.producerLastReadVersion[t];if(c!==i.version||(Ct(i),c!==i.version))return!0}return!1}function Qe(e){if(hn(e),kt(e))for(let t=0;t<e.producerNode.length;t++)ht(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function vt(e,t,i){if(xt(e),0===e.liveConsumerNode.length&&Pt(e))for(let c=0;c<e.producerNode.length;c++)e.producerIndexOfThis[c]=vt(e.producerNode[c],e,c);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(t)-1}function ht(e,t){if(xt(e),1===e.liveConsumerNode.length&&Pt(e))for(let c=0;c<e.producerNode.length;c++)ht(e.producerNode[c],e.producerIndexOfThis[c]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const c=e.liveConsumerIndexOfThis[t],h=e.liveConsumerNode[t];hn(h),h.producerIndexOfThis[c]=t}}function kt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function hn(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function xt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Pt(e){return void 0!==e.producerNode}const hr=Symbol("UNSET"),yr=Symbol("COMPUTING"),bt=Symbol("ERRORED"),Wn={...Fe,value:hr,dirty:!0,error:null,equal:z,kind:"computed",producerMustRecompute:e=>e.value===hr||e.value===yr,producerRecomputeValue(e){if(e.value===yr)throw new Error("Detected cycle in computations.");const t=e.value;e.value=yr;const i=Ut(e);let c,h=!1;try{c=e.computation(),Oe(null),h=t!==hr&&t!==bt&&c!==bt&&e.equal(t,c)}catch(m){c=bt,e.error=m}finally{Gt(e,i)}h?e.value=t:(e.value=c,e.version++)}};let On=function Ot(){throw new Error};function rn(e){On(e)}let de=null;function xe(e,t){Zt()||rn(e),e.equal(e.value,t)||(e.value=t,function jt(e){e.version++,function yt(){We++}(),Qt(e),de?.()}(e))}const ft={...Fe,equal:z,value:void 0,kind:"signal"};let gn;function ar(){return gn}function Ar(e){const t=gn;return gn=e,t}const Lr=Symbol("NotFound");Error;var Es=Q(4412),kn=Q(1413),Gr=Q(8359),Fn=Q(6354);const li="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class Dt extends Error{code;constructor(t,i){super(vr(t,i)),this.code=t}}function vr(e,t){return`${function mi(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const wn=Symbol("InputSignalNode#UNSET"),Ci={...ft,transformFn:void 0,applyValueToInputSignal(e,t){xe(e,t)}};function Tr(e,t){const i=Object.create(Ci);function c(){if(At(i),i.value===wn)throw new Dt(-950,null);return i.value}return i.value=e,i.transformFn=t?.transform,c[pt]=i,c}function Hr(e){return{toString:e}.toString()}const Kr="__parameters__";function rs(e,t,i){return Hr(()=>{const c=function Xi(e){return function(...i){if(e){const c=e(...i);for(const h in c)this[h]=c[h]}}}(t);function h(...m){if(this instanceof h)return c.apply(this,m),this;const E=new h(...m);return S.annotation=E,S;function S(P,W,te){const ue=P.hasOwnProperty(Kr)?P[Kr]:Object.defineProperty(P,Kr,{value:[]})[Kr];for(;ue.length<=te;)ue.push(null);return(ue[te]=ue[te]||[]).push(E),P}}return h.prototype.ngMetadataName=e,h.annotationCls=h,h})}const Zn=globalThis;function br(e){for(let t in e)if(e[t]===br)return t;throw Error("Could not find renamed property on target object.")}function zi(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function et(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(et).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const i=e.toString();if(null==i)return""+i;const c=i.indexOf("\n");return c>=0?i.slice(0,c):i}function Xr(e,t){return e?t?`${e} ${t}`:e:t||""}const ji=br({__forward_ref__:br});function is(e){return e.__forward_ref__=is,e.toString=function(){return et(this())},e}function Hn(e){return qr(e)?e():e}function qr(e){return"function"==typeof e&&e.hasOwnProperty(ji)&&e.__forward_ref__===is}function tt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Vt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Mt(e){return Tn(e,fr)||Tn(e,Wi)}function en(e){return null!==Mt(e)}function Tn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Nn(e){return e&&(e.hasOwnProperty(Mr)||e.hasOwnProperty(us))?e[Mr]:null}const fr=br({\u0275prov:br}),Mr=br({\u0275inj:br}),Wi=br({ngInjectableDef:br}),us=br({ngInjectorDef:br});class Ne{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,i){this._desc=t,this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=tt({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Os(e){return e&&!!e.\u0275providers}const to=br({\u0275cmp:br}),zo=br({\u0275dir:br}),Is=br({\u0275pipe:br}),Z=br({\u0275mod:br}),Se=br({\u0275fac:br}),se=br({__NG_ELEMENT_ID__:br}),pe=br({__NG_ENV_ID__:br});function qe(e){return"string"==typeof e?e:null==e?"":String(e)}function vi(e,t){throw new Dt(-200,e)}function Wr(e,t){throw new Dt(-201,!1)}var ur=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ur||{});let ni;function Si(){return ni}function Fi(e){const t=ni;return ni=e,t}function Rs(e,t,i){const c=Mt(e);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:i&ur.Optional?null:void 0!==t?t:void Wr()}const _t={},Ye="__NG_DI_FLAG__";class St{injector;constructor(t){this.injector=t}retrieve(t,i){return this.injector.get(t,i.optional?Lr:_t,i)}}const mn="ngTempTokenPath",pr=/\n/gm,Ns="__source";function la(e,t=ur.Default){if(void 0===ar())throw new Dt(-203,!1);if(null===ar())return Rs(e,void 0,t);{const i=ar();let c;return c=i instanceof St?i.injector:i,c.get(e,t&ur.Optional?null:void 0,t)}}function Gi(e,t=ur.Default){return(Si()||la)(Hn(e),t)}function jn(e,t=ur.Default){return Gi(e,yo(t))}function yo(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Qs(e){const t=[];for(let i=0;i<e.length;i++){const c=Hn(e[i]);if(Array.isArray(c)){if(0===c.length)throw new Dt(900,!1);let h,m=ur.Default;for(let E=0;E<c.length;E++){const S=c[E],P=Wo(S);"number"==typeof P?-1===P?h=S.token:m|=P:h=S}t.push(Gi(h,m))}else t.push(Gi(c))}return t}function no(e,t){return e[Ye]=t,e.prototype[Ye]=t,e}function Wo(e){return e[Ye]}const si=no(rs("Optional"),8),uo=no(rs("SkipSelf"),4);function No(e,t){return e.hasOwnProperty(Se)?e[Se]:null}function Li(e,t){e.forEach(i=>Array.isArray(i)?Li(i,t):t(i))}function Ei(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function ro(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Xs(e,t,i){let c=hl(e,t);return c>=0?e[1|c]=i:(c=~c,function Ea(e,t,i,c){let h=e.length;if(h==t)e.push(i,c);else if(1===h)e.push(c,e[0]),e[0]=i;else{for(h--,e.push(e[h-1],e[h]);h>t;)e[h]=e[h-2],h--;e[t]=i,e[t+1]=c}}(e,c,t,i)),c}function hs(e,t){const i=hl(e,t);if(i>=0)return e[1|i]}function hl(e,t){return function Ys(e,t,i){let c=0,h=e.length>>i;for(;h!==c;){const m=c+(h-c>>1),E=e[m<<i];if(t===E)return m<<i;E>t?h=m:c=m+1}return~(h<<i)}(e,t,1)}const yi={},Qr=[],os=new Ne(""),el=new Ne("",-1),na=new Ne("");class ca{get(t,i=_t){if(i===_t){const c=new Error(`NullInjectorError: No provider for ${et(t)}!`);throw c.name="NullInjectorError",c}return i}}function Ls(e,t){const i=e[Z]||null;if(!i&&!0===t)throw new Error(`Type ${et(e)} does not have '\u0275mod' property.`);return i}function Jr(e){return e[to]||null}function ie(e){return e[zo]||null}function re(e){return e[Is]||null}function ke(e){const t=Jr(e)||ie(e)||re(e);return null!==t&&t.standalone}function Ke(e){return{\u0275providers:e}}function tn(...e){return{\u0275providers:bn(0,e),\u0275fromNgModule:!0}}function bn(e,...t){const i=[],c=new Set;let h;const m=E=>{i.push(E)};return Li(t,E=>{const S=E;zn(S,m,[],c)&&(h||=[],h.push(S))}),void 0!==h&&Jn(h,m),i}function Jn(e,t){for(let i=0;i<e.length;i++){const{ngModule:c,providers:h}=e[i];Ir(h,m=>{t(m,c)})}}function zn(e,t,i,c){if(!(e=Hn(e)))return!1;let h=null,m=Nn(e);const E=!m&&Jr(e);if(m||E){if(E&&!E.standalone)return!1;h=e}else{const P=e.ngModule;if(m=Nn(P),!m)return!1;h=P}const S=c.has(h);if(E){if(S)return!1;if(c.add(h),E.dependencies){const P="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const W of P)zn(W,t,i,c)}}else{if(!m)return!1;{if(null!=m.imports&&!S){let W;c.add(h);try{Li(m.imports,te=>{zn(te,t,i,c)&&(W||=[],W.push(te))})}finally{}void 0!==W&&Jn(W,t)}if(!S){const W=No(h)||(()=>new h);t({provide:h,useFactory:W,deps:Qr},h),t({provide:na,useValue:h,multi:!0},h),t({provide:os,useValue:()=>Gi(h),multi:!0},h)}const P=m.providers;if(null!=P&&!S){const W=e;Ir(P,te=>{t(te,W)})}}}return h!==e&&void 0!==e.providers}function Ir(e,t){for(let i of e)Os(i)&&(i=i.\u0275providers),Array.isArray(i)?Ir(i,t):t(i)}const ii=br({provide:String,useValue:br});function Zi(e){return null!==e&&"object"==typeof e&&ii in e}function G(e){return"function"==typeof e}const L=new Ne(""),oe={},Ue={};let Pn;function dr(){return void 0===Pn&&(Pn=new ca),Pn}class jr{}class fs extends jr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,i,c,h){super(),this.parent=i,this.source=c,this.scopes=h,Zs(t,E=>this.processProvider(E)),this.records.set(el,ua(void 0,this)),h.has("environment")&&this.records.set(jr,ua(void 0,this));const m=this.records.get(L);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(na,Qr,ur.Self))}retrieve(t,i){return this.get(t,i.optional?Lr:_t,i)}destroy(){pl(this),this._destroyed=!0;const t=Oe(null);try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of i)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(t)}}onDestroy(t){return pl(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){pl(this);const i=Ar(this),c=Fi(void 0);try{return t()}finally{Ar(i),Fi(c)}}get(t,i=_t,c=ur.Default){if(pl(this),t.hasOwnProperty(pe))return t[pe](this);c=yo(c);const m=Ar(this),E=Fi(void 0);try{if(!(c&ur.SkipSelf)){let P=this.records.get(t);if(void 0===P){const W=function Pc(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ne}(t)&&Mt(t);P=W&&this.injectableDefInScope(W)?ua(Ps(t),oe):null,this.records.set(t,P)}if(null!=P)return this.hydrate(t,P,c)}return(c&ur.Self?dr():this.parent).get(t,i=c&ur.Optional&&i===_t?null:i)}catch(S){if("NullInjectorError"===S.name){if((S[mn]=S[mn]||[]).unshift(et(t)),m)throw S;return function vo(e,t,i,c){const h=e[mn];throw t[Ns]&&h.unshift(t[Ns]),e.message=function ta(e,t,i,c=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let h=et(t);if(Array.isArray(t))h=t.map(et).join(" -> ");else if("object"==typeof t){let m=[];for(let E in t)if(t.hasOwnProperty(E)){let S=t[E];m.push(E+":"+("string"==typeof S?JSON.stringify(S):et(S)))}h=`{${m.join(", ")}}`}return`${i}${c?"("+c+")":""}[${h}]: ${e.replace(pr,"\n  ")}`}("\n"+e.message,h,i,c),e.ngTokenPath=h,e[mn]=null,e}(S,t,"R3InjectorError",this.source)}throw S}finally{Fi(E),Ar(m)}}resolveInjectorInitializers(){const t=Oe(null),i=Ar(this),c=Fi(void 0);try{const m=this.get(os,Qr,ur.Self);for(const E of m)E()}finally{Ar(i),Fi(c),Oe(t)}}toString(){const t=[],i=this.records;for(const c of i.keys())t.push(et(c));return`R3Injector[${t.join(", ")}]`}processProvider(t){let i=G(t=Hn(t))?t:Hn(t&&t.provide);const c=function Fo(e){return Zi(e)?ua(void 0,e.useValue):ua(fl(e),oe)}(t);if(!G(t)&&!0===t.multi){let h=this.records.get(i);h||(h=ua(void 0,oe,!0),h.factory=()=>Qs(h.multi),this.records.set(i,h)),i=t,h.multi.push(t)}this.records.set(i,c)}hydrate(t,i,c){const h=Oe(null);try{return i.value===Ue?vi(et(t)):i.value===oe&&(i.value=Ue,i.value=i.factory(void 0,c)),"object"==typeof i.value&&i.value&&function xc(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{Oe(h)}}injectableDefInScope(t){if(!t.providedIn)return!1;const i=Hn(t.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(t){const i=this._onDestroyHooks.indexOf(t);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Ps(e){const t=Mt(e),i=null!==t?t.factory:No(e);if(null!==i)return i;if(e instanceof Ne)throw new Dt(204,!1);if(e instanceof Function)return function ho(e){if(e.length>0)throw new Dt(204,!1);const i=function ir(e){return e&&(e[fr]||e[Wi])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new Dt(204,!1)}function fl(e,t,i){let c;if(G(e)){const h=Hn(e);return No(h)||Ps(h)}if(Zi(e))c=()=>Hn(e.useValue);else if(function _s(e){return!(!e||!e.useFactory)}(e))c=()=>e.useFactory(...Qs(e.deps||[]));else if(function Ki(e){return!(!e||!e.useExisting)}(e))c=(h,m)=>Gi(Hn(e.useExisting),void 0!==m&&m&ur.Optional?ur.Optional:void 0);else{const h=Hn(e&&(e.useClass||e.provide));if(!function Rc(e){return!!e.deps}(e))return No(h)||Ps(h);c=()=>new h(...Qs(e.deps))}return c}function pl(e){if(e.destroyed)throw new Dt(205,!1)}function ua(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function Zs(e,t){for(const i of e)Array.isArray(i)?Zs(i,t):i&&Os(i)?Zs(i.\u0275providers,t):t(i)}function Na(e,t){let i;e instanceof fs?(pl(e),i=e):i=new St(e);const h=Ar(i),m=Fi(void 0);try{return t()}finally{Ar(h),Fi(m)}}function Qi(){return void 0!==Si()||null!=ar()}function Lo(e){if(!Qi())throw new Dt(-203,!1)}const Oi=0,An=1,Pr=2,as=3,Bo=4,Ts=5,Co=6,Cs=7,ci=8,F=9,V=10,J=11,ze=12,Jt=13,Kn=14,Or=15,Vs=16,qi=17,vs=18,tl=19,Uo=20,Ia=23,nr=26,oc=1,Mc=9,Us=10;function js(e){return Array.isArray(e)&&"object"==typeof e[oc]}function M(e){return Array.isArray(e)&&!0===e[oc]}function B(e){return!!(4&e.flags)}function O(e){return e.componentOffset>-1}function j(e){return!(1&~e.flags)}function ee(e){return!!e.template}function Ie(e){return!!(512&e[Pr])}function $t(e){return!(256&~e[Pr])}class Ji{previousValue;currentValue;firstChange;constructor(t,i,c){this.previousValue=t,this.currentValue=i,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ds(e,t,i,c){null!==t?t.applyValueToInputSignal(t,c):e[i]=c}const $i=(()=>{const e=()=>go;return e.ngInherit=!0,e})();function go(e){return e.type.prototype.ngOnChanges&&(e.setInput=oi),Vi}function Vi(){const e=Wu(this),t=e?.current;if(t){const i=e.previous;if(i===yi)e.previous=t;else for(let c in t)i[c]=t[c];e.current=null,this.ngOnChanges(t)}}function oi(e,t,i,c,h){const m=this.declaredInputs[c],E=Wu(e)||function $s(e,t){return e[Dd]=t}(e,{previous:yi,current:null}),S=E.current||(E.current={}),P=E.previous,W=P[m];S[m]=new Ji(W&&W.currentValue,i,P===yi),Ds(e,t,h,i)}const Dd="__ngSimpleChanges__";function Wu(e){return e[Dd]||null}const Hi=function(e,t=null,i){},kc="svg";function xi(e){for(;Array.isArray(e);)e=e[Oi];return e}function Nc(e,t){return xi(t[e])}function jo(e,t){return xi(t[e.index])}function Fl(e,t){return e.data[t]}function Ha(e,t){return e[t]}function qo(e,t){const i=t[e];return js(i)?i:i[Oi]}function bs(e){return!(128&~e[Pr])}function za(e,t){return null==t?null:e[t]}function As(e){e[qi]=0}function ps(e){1024&e[Pr]||(e[Pr]|=1024,bs(e)&&Ms(e))}function ac(e){return!!(9216&e[Pr]||e[24]?.dirty)}function Gf(e){e[V].changeDetectionScheduler?.notify(8),64&e[Pr]&&(e[Pr]|=1024),ac(e)&&Ms(e)}function Ms(e){e[V].changeDetectionScheduler?.notify(0);let t=So(e);for(;null!==t&&!(8192&t[Pr])&&(t[Pr]|=8192,bs(t));)t=So(t)}function Da(e,t){if($t(e))throw new Dt(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function So(e){const t=e[as];return M(t)?t[as]:t}function ia(e){return e[Cs]??=[]}function Lc(e){return e.cleanup??=[]}const ei={lFrame:Nd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ad=!1;function Qf(){return ei.bindingsEnabled}function zt(){return ei.lFrame.lView}function $r(){return ei.lFrame.tView}function fa(e){return ei.lFrame.contextLView=e,e[ci]}function Ga(e){return ei.lFrame.contextLView=null,e}function pi(){let e=Xf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Xf(){return ei.lFrame.currentTNode}function Aa(e,t){const i=ei.lFrame;i.currentTNode=e,i.isParent=t}function xd(){return ei.lFrame.isParent}function Yf(){ei.lFrame.isParent=!1}function pa(){return Ad}function gu(e){const t=Ad;return Ad=e,t}function Qo(){const e=ei.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Sa(){return ei.lFrame.bindingIndex++}function Qa(e){const t=ei.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function _g(e,t){const i=ei.lFrame;i.bindingIndex=i.bindingRootIndex=e,Ul(t)}function Ul(e){ei.lFrame.currentDirectiveIndex=e}function Gu(e){const t=ei.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Od(){return ei.lFrame.currentQueryIndex}function Fh(e){ei.lFrame.currentQueryIndex=e}function jl(e){const t=e[An];return 2===t.type?t.declTNode:1===t.type?e[Ts]:null}function Lh(e,t,i){if(i&ur.SkipSelf){let h=t,m=e;for(;!(h=h.parent,null!==h||i&ur.Host||(h=jl(m),null===h||(m=m[Kn],10&h.type))););if(null===h)return!1;t=h,e=m}const c=ei.lFrame=ep();return c.currentTNode=t,c.lView=e,!0}function Bc(e){const t=ep(),i=e[An];ei.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function ep(){const e=ei.lFrame,t=null===e?null:e.child;return null===t?Nd(e):t}function Nd(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Xa(){const e=ei.lFrame;return ei.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const mu=Xa;function Ra(){const e=Xa();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Eo(){return ei.lFrame.selectedIndex}function vl(e){ei.lFrame.selectedIndex=e}function ls(){const e=ei.lFrame;return Fl(e.tView,e.selectedIndex)}function io(){ei.lFrame.currentNamespace=kc}function Ku(){!function Bh(){ei.lFrame.currentNamespace=null}()}let Uc=!0;function bl(){return Uc}function El(e){Uc=e}function sl(e,t){for(let i=t.directiveStart,c=t.directiveEnd;i<c;i++){const m=e.data[i].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:S,ngAfterViewInit:P,ngAfterViewChecked:W,ngOnDestroy:te}=m;E&&(e.contentHooks??=[]).push(-i,E),S&&((e.contentHooks??=[]).push(i,S),(e.contentCheckHooks??=[]).push(i,S)),P&&(e.viewHooks??=[]).push(-i,P),W&&((e.viewHooks??=[]).push(i,W),(e.viewCheckHooks??=[]).push(i,W)),null!=te&&(e.destroyHooks??=[]).push(i,te)}}function _u(e,t,i){yg(e,t,3,i)}function Fd(e,t,i,c){(3&e[Pr])===i&&yg(e,t,i,c)}function Ld(e,t){let i=e[Pr];(3&i)===t&&(i&=16383,i+=1,e[Pr]=i)}function yg(e,t,i,c){const m=c??-1,E=t.length-1;let S=0;for(let P=void 0!==c?65535&e[qi]:0;P<E;P++)if("number"==typeof t[P+1]){if(S=t[P],null!=c&&S>=c)break}else t[P]<0&&(e[qi]+=65536),(S<m||-1==m)&&(Vd(e,i,t,P),e[qi]=(4294901760&e[qi])+P+2),P++}function vg(e,t){Hi(4,e,t);const i=Oe(null);try{t.call(e)}finally{Oe(i),Hi(5,e,t)}}function Vd(e,t,i,c){const h=i[c]<0,m=i[c+1],S=e[h?-i[c]:i[c]];h?e[Pr]>>14<e[qi]>>16&&(3&e[Pr])===t&&(e[Pr]+=16384,vg(S,m)):vg(S,m)}const Ro=-1;class ma{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,i,c){this.factory=t,this.canSeeViewProviders=i,this.injectImpl=c}}function wo(e){return 3===e||4===e||6===e}function $c(e){return 64===e.charCodeAt(0)}function Hc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let c=0;c<t.length;c++){const h=t[c];"number"==typeof h?i=h:0===i||Hl(e,i,h,0,-1===i||2===i?t[++c]:null)}}return e}function Hl(e,t,i,c,h){let m=0,E=e.length;if(-1===t)E=-1;else for(;m<e.length;){const S=e[m++];if("number"==typeof S){if(S===t){E=-1;break}if(S>t){E=m-1;break}}}for(;m<e.length;){const S=e[m];if("number"==typeof S)break;if(S===i)return void(null!==h&&(e[m+1]=h));m++,null!==h&&m++}-1!==E&&(e.splice(E,0,t),m=E+1),e.splice(m++,0,i),null!==h&&e.splice(m++,0,h)}function zl(e){return e!==Ro}function Wl(e){return 32767&e}function qu(e,t){let i=function $h(e){return e>>16}(e),c=t;for(;i>0;)c=c[Kn],i--;return c}let zc=!0;function Ud(e){const t=zc;return zc=e,t}const vu=255,Qu=5;let bu=0;const wl={};function Wc(e,t){const i=tp(e,t);if(-1!==i)return i;const c=t[An];c.firstCreatePass&&(e.injectorIndex=t.length,Io(c.data,e),Io(t,null),Io(c.blueprint,null));const h=uc(e,t),m=e.injectorIndex;if(zl(h)){const E=Wl(h),S=qu(h,t),P=S[An].data;for(let W=0;W<8;W++)t[m+W]=S[E+W]|P[E+W]}return t[m+8]=h,m}function Io(e,t){e.push(0,0,0,0,0,0,0,0,t)}function tp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function uc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,c=null,h=t;for(;null!==h;){if(c=ip(h),null===c)return Ro;if(i++,h=h[Kn],-1!==c.injectorIndex)return c.injectorIndex|i<<16}return Ro}function Eu(e,t,i){!function wg(e,t,i){let c;"string"==typeof i?c=i.charCodeAt(0)||0:i.hasOwnProperty(se)&&(c=i[se]),null==c&&(c=i[se]=bu++);const h=c&vu;t.data[e+(h>>Qu)]|=1<<h}(e,t,i)}function Gl(e,t,i){if(i&ur.Optional||void 0!==e)return e;Wr()}function dc(e,t,i,c){if(i&ur.Optional&&void 0===c&&(c=null),!(i&(ur.Self|ur.Host))){const h=e[F],m=Fi(void 0);try{return h?h.get(t,c,i&ur.Optional):Rs(t,c,i&ur.Optional)}finally{Fi(m)}}return Gl(c,0,i)}function Ig(e,t,i,c=ur.Default,h){if(null!==e){if(2048&t[Pr]&&!(c&ur.Self)){const E=function Wh(e,t,i,c,h){let m=e,E=t;for(;null!==m&&null!==E&&2048&E[Pr]&&!Ie(E);){const S=ol(m,E,i,c|ur.Self,wl);if(S!==wl)return S;let P=m.parent;if(!P){const W=E[Uo];if(W){const te=W.get(i,wl,c);if(te!==wl)return te}P=ip(E),E=E[Kn]}m=P}return h}(e,t,i,c,wl);if(E!==wl)return E}const m=ol(e,t,i,c,wl);if(m!==wl)return m}return dc(t,i,c,h)}function ol(e,t,i,c,h){const m=function fc(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(se)?e[se]:void 0;return"number"==typeof t?t>=0?t&vu:rp:t}(i);if("function"==typeof m){if(!Lh(t,e,c))return c&ur.Host?Gl(h,0,c):dc(t,i,c,h);try{let E;if(E=m(c),null!=E||c&ur.Optional)return E;Wr()}finally{mu()}}else if("number"==typeof m){let E=null,S=tp(e,t),P=Ro,W=c&ur.Host?t[Or][Ts]:null;for((-1===S||c&ur.SkipSelf)&&(P=-1===S?uc(e,t):t[S+8],P!==Ro&&Xu(c,!1)?(E=t[An],S=Wl(P),t=qu(P,t)):S=-1);-1!==S;){const te=t[An];if(zh(m,S,te.data)){const ue=Hh(S,t,i,E,c,W);if(ue!==wl)return ue}P=t[S+8],P!==Ro&&Xu(c,t[An].data[S+8]===W)&&zh(m,S,t)?(E=te,S=Wl(P),t=qu(P,t)):S=-1}}return h}function Hh(e,t,i,c,h,m){const E=t[An],S=E.data[e+8],te=Kl(S,E,i,null==c?O(S)&&zc:c!=E&&!!(3&S.type),h&ur.Host&&m===S);return null!==te?hc(t,E,te,S,h):wl}function Kl(e,t,i,c,h){const m=e.providerIndexes,E=t.data,S=1048575&m,P=e.directiveStart,te=m>>20,Be=h?S+te:e.directiveEnd;for(let Ce=c?S:S+te;Ce<Be;Ce++){const ct=E[Ce];if(Ce<P&&i===ct||Ce>=P&&ct.type===i)return Ce}if(h){const Ce=E[P];if(Ce&&ee(Ce)&&Ce.type===i)return P}return null}function hc(e,t,i,c,h){let m=e[i];const E=t.data;if(m instanceof ma){const S=m;S.resolving&&vi(function Ht(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():qe(e)}(E[i]));const P=Ud(S.canSeeViewProviders);S.resolving=!0;const te=S.injectImpl?Fi(S.injectImpl):null;Lh(e,c,ur.Default);try{m=e[i]=S.factory(void 0,h,E,e,c),t.firstCreatePass&&i>=c.directiveStart&&function ga(e,t,i){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:m}=t.type.prototype;if(c){const E=go(t);(i.preOrderHooks??=[]).push(e,E),(i.preOrderCheckHooks??=[]).push(e,E)}h&&(i.preOrderHooks??=[]).push(0-e,h),m&&((i.preOrderHooks??=[]).push(e,m),(i.preOrderCheckHooks??=[]).push(e,m))}(i,E[i],t)}finally{null!==te&&Fi(te),Ud(P),S.resolving=!1,mu()}}return m}function zh(e,t,i){return!!(i[t+(e>>Qu)]&1<<e)}function Xu(e,t){return!(e&ur.Self||e&ur.Host&&t)}class so{_tNode;_lView;constructor(t,i){this._tNode=t,this._lView=i}get(t,i,c){return Ig(this._tNode,this._lView,t,yo(c),i)}}function rp(){return new so(pi(),zt())}function Iu(e){return Hr(()=>{const t=e.prototype.constructor,i=t[Se]||Yu(t),c=Object.prototype;let h=Object.getPrototypeOf(e.prototype).constructor;for(;h&&h!==c;){const m=h[Se]||Yu(h);if(m&&m!==i)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Yu(e){return qr(e)?()=>{const t=Yu(Hn(e));return t&&t()}:No(e)}function ip(e){const t=e[An],i=t.type;return 2===i?t.declTNode:1===i?e[Ts]:null}function x(e){return function np(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const c=i.length;let h=0;for(;h<c;){const m=i[h];if(wo(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<c&&"string"==typeof i[h];)h++;else{if(m===t)return i[h+1];h+=2}}}return null}(pi(),e)}function al(e,t=null,i=null,c){const h=jd(e,t,i,c);return h.resolveInjectorInitializers(),h}function jd(e,t=null,i=null,c,h=new Set){const m=[i||Qr,tn(e)];return c=c||("object"==typeof e?void 0:et(e)),new fs(m,t||dr(),c||null,h)}class $o{static THROW_IF_NOT_FOUND=_t;static NULL=new ca;static create(t,i){if(Array.isArray(t))return al({name:""},i,t,"");{const c=t.name??"";return al({name:c},t.parent,t.providers,c)}}static \u0275prov=tt({token:$o,providedIn:"any",factory:()=>Gi(el)});static __NG_ELEMENT_ID__=-1}new Ne("").__NG_ELEMENT_ID__=e=>{const t=pi();if(null===t)throw new Dt(204,!1);if(2&t.type)return t.value;if(e&ur.Optional)return null;throw new Dt(204,!1)};const Tu=!1;let _a=(()=>class e{static __NG_ELEMENT_ID__=Cg;static __NG_ENV_ID__=i=>i})();class sp extends _a{_lView;constructor(t){super(),this._lView=t}onDestroy(t){const i=this._lView;return $t(i)?(t(),()=>{}):(Da(i,t),()=>function Fc(e,t){if(null===e[21])return;const i=e[21].indexOf(t);-1!==i&&e[21].splice(i,1)}(i,t))}}function Cg(){return new sp(zt())}class Yo{}const Gc=new Ne("",{providedIn:"root",factory:()=>!1}),op=new Ne(""),Dg=new Ne("");let Cu=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Es.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}has(i){return this.pendingTasks.has(i)}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=tt({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ya=(()=>{class e{internalPendingTasks=jn(Cu);scheduler=jn(Yo);add(){const i=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(i)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(i))}}run(i){var c=this;return(0,T.A)(function*(){const h=c.add();try{return yield i()}finally{h()}})()}static \u0275prov=tt({token:e,providedIn:"root",factory:()=>new e})}return e})();const gc=class ap extends kn.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Qi()&&(this.destroyRef=jn(_a,{optional:!0})??void 0,this.pendingTasks=jn(Cu,{optional:!0})??void 0)}emit(t){const i=Oe(null);try{super.next(t)}finally{Oe(i)}}subscribe(t,i,c){let h=t,m=i||(()=>null),E=c;if(t&&"object"==typeof t){const P=t;h=P.next?.bind(P),m=P.error?.bind(P),E=P.complete?.bind(P)}this.__isAsync&&(m=this.wrapInTimeout(m),h&&(h=this.wrapInTimeout(h)),E&&(E=this.wrapInTimeout(E)));const S=super.subscribe({next:h,error:m,complete:E});return t instanceof Gr.yU&&t.add(S),S}wrapInTimeout(t){return i=>{const c=this.pendingTasks?.add();setTimeout(()=>{try{t(i)}finally{void 0!==c&&this.pendingTasks?.remove(c)}})}}};function $d(...e){}function y_(e){let t,i;function c(){e=$d;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),c()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{e(),c()})),()=>c()}function v_(e){return queueMicrotask(()=>e()),()=>{e=$d}}const Ag="isAngularZone",Sg=Ag+"_ID";let iv=0;class Hs{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new gc(!1);onMicrotaskEmpty=new gc(!1);onStable=new gc(!1);onError=new gc(!1);constructor(t){const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:h=!1,scheduleInRootZone:m=Tu}=t;if(typeof Zone>"u")throw new Dt(908,!1);Zone.assertZonePatched();const E=this;E._nesting=0,E._outer=E._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(E._inner=E._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(E._inner=E._inner.fork(Zone.longStackTraceZoneSpec)),E.shouldCoalesceEventChangeDetection=!h&&c,E.shouldCoalesceRunChangeDetection=h,E.callbackScheduled=!1,E.scheduleInRootZone=m,function Jb(e){const t=()=>{!function E_(e){function t(){y_(()=>{e.callbackScheduled=!1,xg(e),e.isCheckStableRunning=!0,b_(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),xg(e))}(e)},i=iv++;e._inner=e._inner.fork({name:"angular",properties:{[Ag]:!0,[Sg]:i,[Sg+i]:!0},onInvokeTask:(c,h,m,E,S,P)=>{if(function lp(e){return w_(e,"__ignore_ng_zone__")}(P))return c.invokeTask(m,E,S,P);try{return sv(e),c.invokeTask(m,E,S,P)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||e.shouldCoalesceRunChangeDetection)&&t(),Ju(e)}},onInvoke:(c,h,m,E,S,P,W)=>{try{return sv(e),c.invoke(m,E,S,P,W)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Pg(e){return w_(e,"__scheduler_tick__")}(P)&&t(),Ju(e)}},onHasTask:(c,h,m,E)=>{c.hasTask(m,E),h===m&&("microTask"==E.change?(e._hasPendingMicrotasks=E.microTask,xg(e),b_(e)):"macroTask"==E.change&&(e.hasPendingMacrotasks=E.macroTask))},onHandleError:(c,h,m,E)=>(c.handleError(m,E),e.runOutsideAngular(()=>e.onError.emit(E)),!1)})}(E)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Ag)}static assertInAngularZone(){if(!Hs.isInAngularZone())throw new Dt(909,!1)}static assertNotInAngularZone(){if(Hs.isInAngularZone())throw new Dt(909,!1)}run(t,i,c){return this._inner.run(t,i,c)}runTask(t,i,c,h){const m=this._inner,E=m.scheduleEventTask("NgZoneEvent: "+h,t,Rg,$d,$d);try{return m.runTask(E,i,c)}finally{m.cancelTask(E)}}runGuarded(t,i,c){return this._inner.runGuarded(t,i,c)}runOutsideAngular(t){return this._outer.run(t)}}const Rg={};function b_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function xg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function sv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ju(e){e._nesting--,b_(e)}class Du{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new gc;onMicrotaskEmpty=new gc;onStable=new gc;onError=new gc;run(t,i,c){return t.apply(i,c)}runGuarded(t,i,c){return t.apply(i,c)}runOutsideAngular(t){return t()}runTask(t,i,c,h){return t.apply(i,c)}}function w_(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class Il{_console=console;handleError(t){this._console.error("ERROR",t)}}const ov=new Ne("",{providedIn:"root",factory:()=>{const e=jn(Hs),t=jn(Il);return i=>e.runOutsideAngular(()=>t.handleError(i))}});function I_(e,t){return Tr(e,t)}const cv=(I_.required=function lv(e){return Tr(wn,e)},I_);function uv(){return ed(pi(),zt())}function ed(e,t){return new td(jo(e,t))}let td=(()=>class e{nativeElement;constructor(i){this.nativeElement=i}static __NG_ELEMENT_ID__=uv})();function Tl(e){return e instanceof td?e.nativeElement:e}function Au(e,t){const i=function Te(e,t){const i=Object.create(ft);i.value=e,void 0!==t&&(i.equal=t);const c=()=>(At(i),i.value);return c[pt]=i,c}(e,t?.equal),c=i[pt];return i.set=h=>xe(c,h),i.update=h=>function me(e,t){Zt()||rn(e),xe(e,t(e.value))}(c,h),i.asReadonly=zd.bind(i),i}function zd(){const e=this[pt];if(void 0===e.readonlyFn){const t=()=>this();t[pt]=e,e.readonlyFn=t}return e.readonlyFn}function Og(e){return function cp(e){return"function"==typeof e&&void 0!==e[pt]}(e)&&"function"==typeof e.set}function Ng(){return this._results[Symbol.iterator]()}class dv{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new kn.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,i){return this._results.reduce(t,i)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,i){this.dirty=!1;const c=function ds(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function _i(e,t,i){if(e.length!==t.length)return!1;for(let c=0;c<e.length;c++){let h=e[c],m=t[c];if(i&&(h=i(h),m=i(m)),m!==h)return!1}return!0}(this._results,c,i))&&(this._results=c,this.length=c.length,this.last=c[this.length-1],this.first=c[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Ng}function Gd(e){return!(128&~e.flags)}var T_=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(T_||{});const C_=new Map;let Fa=0;function qd(e){C_.delete(e[tl])}const hp="__ngContext__";function Za(e,t){js(t)?(e[hp]=t[tl],function Lg(e){C_.set(e[tl],e)}(t)):e[hp]=t}function Su(e){return pp(e[ze])}function Yd(e){return pp(e[Bo])}function pp(e){for(;null!==e&&!M(e);)e=e[Bo];return e}let id;function _v(e){id=e}function Cl(){if(void 0!==id)return id;if(typeof document<"u")return document;throw new Dt(210,!1)}const sd=new Ne("",{providedIn:"root",factory:()=>M_}),M_="ng",k_=new Ne(""),mp=new Ne("",{providedIn:"platform",factory:()=>"unknown"}),O_=new Ne(""),yv=new Ne("",{providedIn:"root",factory:()=>Cl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),bv=new Ne("",{providedIn:"root",factory:()=>!1});var j_=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(j_||{});const ld=new Ne(""),Ev=new Set;function ul(e){Ev.has(e)||(Ev.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let qg=(()=>class e{view;node;constructor(i,c){this.view=i,this.node=c}static __NG_ELEMENT_ID__=Ep})();function Ep(){return new qg(zt(),pi())}var cd=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(cd||{});let wp=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=tt({token:e,providedIn:"root",factory:()=>new e})}return e})();const Qg=[cd.EarlyRead,cd.Write,cd.MixedReadWrite,cd.Read];let Ip=(()=>{class e{ngZone=jn(Hs);scheduler=jn(Yo);errorHandler=jn(Il,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){jn(ld,{optional:!0})}execute(){const i=this.sequences.size>0;i&&Hi(16),this.executing=!0;for(const c of Qg)for(const h of this.sequences)if(!h.erroredOrDestroyed&&h.hooks[c])try{h.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,h.hooks[c])(h.pipelinedValue),h.snapshot))}catch(m){h.erroredOrDestroyed=!0,this.errorHandler?.handleError(m)}this.executing=!1;for(const c of this.sequences)c.afterRun(),c.once&&(this.sequences.delete(c),c.destroy());for(const c of this.deferredRegistrations)this.sequences.add(c);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),i&&Hi(17)}register(i){const{view:c}=i;void 0!==c?((c[25]??=[]).push(i),Ms(c),c[Pr]|=8192):this.executing?this.deferredRegistrations.add(i):this.addSequence(i)}addSequence(i){this.sequences.add(i),this.scheduler.notify(7)}unregister(i){this.executing&&this.sequences.has(i)?(i.erroredOrDestroyed=!0,i.pipelinedValue=void 0,i.once=!0):(this.sequences.delete(i),this.deferredRegistrations.delete(i))}maybeTrace(i,c){return c?c.run(j_.AFTER_NEXT_RENDER,i):i()}static \u0275prov=tt({token:e,providedIn:"root",factory:()=>new e})}return e})();class H_{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,i,c,h,m,E=null){this.impl=t,this.hooks=i,this.view=c,this.once=h,this.snapshot=E,this.unregisterOnDestroy=m?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(i=>i!==this))}}function Yg(e,t){!t?.injector&&Lo();const i=t?.injector??jn($o);return ul("NgAfterNextRender"),function Tp(e,t,i,c){const h=t.get(wp);h.impl??=t.get(Ip);const m=t.get(ld,null,{optional:!0}),E=i?.phase??cd.MixedReadWrite,S=!0!==i?.manualCleanup?t.get(_a):null,P=t.get(qg,null,{optional:!0}),W=new H_(h.impl,function Zg(e,t){if(e instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[t]=e,i}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,E),P?.view,c,S,m?.snapshot(null));return h.impl.register(W),W}(e,i,t,!0)}let Mp=(e,t,i,c)=>{};function Yc(e,t){const i=e.contentQueries;if(null!==i){const c=Oe(null);try{for(let h=0;h<i.length;h+=2){const E=i[h+1];if(-1!==E){const S=e.data[E];Fh(i[h]),S.contentQueries(2,t[E],E)}}}finally{Oe(c)}}}function Zc(e,t,i){Fh(0);const c=Oe(null);try{t(e,i)}finally{Oe(c)}}function Lp(e,t,i){if(B(t)){const c=Oe(null);try{const m=t.directiveEnd;for(let E=t.directiveStart;E<m;E++){const S=e.data[E];S.contentQueries&&S.contentQueries(1,i[E],E)}}finally{Oe(c)}}}var wc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(wc||{});let ay,ly;function Vp(e){return function yE(){if(void 0===ay&&(ay=null,Zn.trustedTypes))try{ay=Zn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ay}()?.createHTML(e)||e}function Nv(){if(void 0===ly&&(ly=null,Zn.trustedTypes))try{ly=Zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ly}function Fv(e){return Nv()?.createHTML(e)||e}function cy(e){return Nv()?.createScriptURL(e)||e}class Dl{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${li})`}}class dd extends Dl{getTypeName(){return"HTML"}}class bE extends Dl{getTypeName(){return"Style"}}class oa extends Dl{getTypeName(){return"Script"}}class _m extends Dl{getTypeName(){return"URL"}}class ym extends Dl{getTypeName(){return"ResourceURL"}}function ku(e){return e instanceof Dl?e.changingThisBreaksApplicationSecurity:e}function vf(e,t){const i=function Lv(e){return e instanceof Dl&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${li})`)}return i===t}function Vv(e){return new dd(e)}function Bp(e){return new bE(e)}function EE(e){return new oa(e)}function sh(e){return new _m(e)}function Up(e){return new ym(e)}class Bv{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const i=(new window.DOMParser).parseFromString(Vp(t),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(t):(i.firstChild?.remove(),i)}catch{return null}}}class oh{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const i=this.inertDocument.createElement("template");return i.innerHTML=Vp(t),i}}const vm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ah(e){return(e=String(e)).match(vm)?e:"unsafe:"+e}function Ic(e){const t={};for(const i of e.split(","))t[i]=!0;return t}function lh(...e){const t={};for(const i of e)for(const c in i)i.hasOwnProperty(c)&&(t[c]=!0);return t}const uy=Ic("area,br,col,hr,img,wbr"),Jc=Ic("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dy=Ic("rp,rt"),hy=lh(uy,lh(Jc,Ic("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lh(dy,Ic("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lh(dy,Jc)),bf=Ic("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ef=lh(bf,Ic("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ic("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),IE=Ic("script,style,template");class Em{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let i=t.firstChild,c=!0,h=[];for(;i;)if(i.nodeType===Node.ELEMENT_NODE?c=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,c&&i.firstChild)h.push(i),i=jp(i);else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let m=wm(i);if(m){i=m;break}i=h.pop()}return this.buf.join("")}startElement(t){const i=Hv(t).toLowerCase();if(!hy.hasOwnProperty(i))return this.sanitizedSomething=!0,!IE.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const c=t.attributes;for(let h=0;h<c.length;h++){const m=c.item(h),E=m.name,S=E.toLowerCase();if(!Ef.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let P=m.value;bf[S]&&(P=ah(P)),this.buf.push(" ",E,'="',zv(P),'"')}return this.buf.push(">"),!0}endElement(t){const i=Hv(t).toLowerCase();hy.hasOwnProperty(i)&&!uy.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(t){this.buf.push(zv(t))}}function wm(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw wf(t);return t}function jp(e){const t=e.firstChild;if(t&&function $v(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw wf(t);return t}function Hv(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function wf(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const Im=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aa=/([^\#-~ |!])/g;function zv(e){return e.replace(/&/g,"&amp;").replace(Im,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(aa,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tm;function $p(e,t){let i=null;try{Tm=Tm||function Ou(e){const t=new oh(e);return function Nu(){try{return!!(new window.DOMParser).parseFromString(Vp(""),"text/html")}catch{return!1}}()?new Bv(t):t}(e);let c=t?String(t):"";i=Tm.getInertBodyElement(c);let h=5,m=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=m,m=i.innerHTML,i=Tm.getInertBodyElement(c)}while(c!==m);return Vp((new Em).sanitizeChildren(Wv(i)||i))}finally{if(i){const c=Wv(i)||i;for(;c.firstChild;)c.firstChild.remove()}}}function Wv(e){return"content"in e&&function Cm(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ch=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ch||{});function TE(e){const t=If();return t?Fv(t.sanitize(ch.HTML,e)||""):vf(e,"HTML")?Fv(ku(e)):$p(Cl(),qe(e))}function Dm(e){const t=If();return t?t.sanitize(ch.URL,e)||"":vf(e,"URL")?ku(e):ah(qe(e))}function Am(e){const t=If();if(t)return cy(t.sanitize(ch.RESOURCE_URL,e)||"");if(vf(e,"ResourceURL"))return cy(ku(e));throw new Dt(904,!1)}function Rm(e,t,i){return function py(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Am:Dm}(t,i)(e)}function If(){const e=zt();return e&&e[V].sanitizer}const Gv=/^>|^->|<!--|-->|--!>|<!-$/g,xm=/(<|>)/g;function Fu(e){return e instanceof Function?e():e}function Uw(e,t,i){let c=e.length;for(;;){const h=e.indexOf(t,i);if(-1===h)return h;if(0===h||e.charCodeAt(h-1)<=32){const m=t.length;if(h+m===c||e.charCodeAt(h+m)<=32)return h}i=h+1}}const Yv="ng-template";function PE(e,t,i,c){let h=0;if(c){for(;h<t.length&&"string"==typeof t[h];h+=2)if("class"===t[h]&&-1!==Uw(t[h+1].toLowerCase(),i,0))return!0}else if(_y(e))return!1;if(h=t.indexOf(1,h),h>-1){let m;for(;++h<t.length&&"string"==typeof(m=t[h]);)if(m.toLowerCase()===i)return!0}return!1}function _y(e){return 4===e.type&&e.value!==Yv}function jw(e,t,i){return t===(4!==e.type||i?e.value:Yv)}function ME(e,t,i){let c=4;const h=e.attrs,m=null!==h?function $w(e){for(let t=0;t<e.length;t++)if(wo(e[t]))return t;return e.length}(h):0;let E=!1;for(let S=0;S<t.length;S++){const P=t[S];if("number"!=typeof P){if(!E)if(4&c){if(c=2|1&c,""!==P&&!jw(e,P,i)||""===P&&1===t.length){if(Tc(c))return!1;E=!0}}else if(8&c){if(null===h||!PE(e,h,P,i)){if(Tc(c))return!1;E=!0}}else{const W=t[++S],te=Lu(P,h,_y(e),i);if(-1===te){if(Tc(c))return!1;E=!0;continue}if(""!==W){let ue;if(ue=te>m?"":h[te+1].toLowerCase(),2&c&&W!==ue){if(Tc(c))return!1;E=!0}}}}else{if(!E&&!Tc(c)&&!Tc(P))return!1;if(E&&Tc(P))continue;E=!1,c=P|1&c}}return Tc(c)||E}function Tc(e){return!(1&e)}function Lu(e,t,i,c){if(null===t)return-1;let h=0;if(c||!i){let m=!1;for(;h<t.length;){const E=t[h];if(E===e)return h;if(3===E||6===E)m=!0;else{if(1===E||2===E){let S=t[++h];for(;"string"==typeof S;)S=t[++h];continue}if(4===E)break;if(0===E){h+=4;continue}}h+=m?1:2}return-1}return function Df(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const c=e[i];if("number"==typeof c)return-1;if(c===t)return i;i++}return-1}(t,e)}function Zv(e,t,i=!1){for(let c=0;c<t.length;c++)if(ME(e,t[c],i))return!0;return!1}function kE(e,t){return e?":not("+t.trim()+")":t}function zw(e){let t=e[0],i=1,c=2,h="",m=!1;for(;i<e.length;){let E=e[i];if("string"==typeof E)if(2&c){const S=e[++i];h+="["+E+(S.length>0?'="'+S+'"':"")+"]"}else 8&c?h+="."+E:4&c&&(h+=" "+E);else""!==h&&!Tc(E)&&(t+=kE(m,h),h=""),c=E,m=m||!Tc(c);i++}return""!==h&&(t+=kE(m,h)),t}const di={};function Lm(e,t){return e.createComment(function Pm(e){return e.replace(Gv,t=>t.replace(xm,"\u200b$1\u200b"))}(t))}function yy(e,t,i){return e.createElement(t,i)}function Af(e,t,i,c,h){e.insertBefore(t,i,c,h)}function OE(e,t,i){e.appendChild(t,i)}function NE(e,t,i,c,h){null!==c?Af(e,t,i,c,h):OE(e,t,i)}function FE(e,t,i){const{mergedAttrs:c,classes:h,styles:m}=i;null!==c&&function Xo(e,t,i){let c=0;for(;c<i.length;){const h=i[c];if("number"==typeof h){if(0!==h)break;c++;const m=i[c++],E=i[c++],S=i[c++];e.setAttribute(t,E,S,m)}else{const m=h,E=i[++c];$c(m)?e.setProperty(t,m,E):e.setAttribute(t,m,E),c++}}}(e,t,c),null!==h&&function qw(e,t,i){""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}(e,t,h),null!==m&&function Kw(e,t,i){e.setAttribute(t,"style",i)}(e,t,m)}function Kp(e,t,i,c,h,m,E,S,P,W,te){const ue=nr+c,Be=ue+h,Ce=function Vm(e,t){const i=[];for(let c=0;c<t;c++)i.push(c<e?null:di);return i}(ue,Be),ct="function"==typeof W?W():W;return Ce[An]={type:e,blueprint:Ce,template:i,queries:null,viewQuery:S,declTNode:t,data:Ce.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:Be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:P,consts:ct,incompleteFirstPass:!1,ssrId:te}}function n(e,t,i,c,h,m,E,S,P,W,te){const ue=t.blueprint.slice();return ue[Oi]=h,ue[Pr]=1228|c,(null!==W||e&&2048&e[Pr])&&(ue[Pr]|=2048),As(ue),ue[as]=ue[Kn]=e,ue[ci]=i,ue[V]=E||e&&e[V],ue[J]=S||e&&e[J],ue[F]=P||e&&e[F]||null,ue[Ts]=m,ue[tl]=function Kd(){return Fa++}(),ue[Co]=te,ue[Uo]=W,ue[Or]=2==t.type?e[Or]:ue,ue}function d(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function g(e,t,i,c){if(0===i)return-1;const h=t.length;for(let m=0;m<i;m++)t.push(c),e.blueprint.push(c),e.data.push(null);return h}function b(e,t){return e[ze]?e[Jt][Bo]=t:e[ze]=t,e[Jt]=t,t}function D(e=1){N($r(),zt(),Eo()+e,!1)}function N(e,t,i,c){if(!c)if(3&~t[Pr]){const m=e.preOrderHooks;null!==m&&Fd(t,m,0,i)}else{const m=e.preOrderCheckHooks;null!==m&&_u(t,m,i)}vl(i)}var $=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}($||{});function X(e,t,i,c){const h=Oe(null);try{const[m,E,S]=e.inputs[i];let P=null;!!(E&$.SignalBased)&&(P=t[m][pt]),null!==P&&void 0!==P.transformFn?c=P.transformFn(c):null!==S&&(c=S.call(t,c)),null!==e.setInput?e.setInput(t,P,c,i,m):Ds(t,P,m,c)}finally{Oe(h)}}function ce(e,t,i,c,h){const m=Eo(),E=2&c;try{vl(-1),E&&t.length>nr&&N(e,t,nr,!1),Hi(E?2:0,h),i(c,h)}finally{vl(m),Hi(E?3:1,h)}}function be(e,t,i){(function wt(e,t,i){const c=i.directiveStart,h=i.directiveEnd;O(i)&&function o(e,t,i){const c=jo(t,e),h=function f(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Kp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(i),m=e[V].rendererFactory,E=b(e,n(e,h,null,d(i),c,t,null,m.createRenderer(c,i),null,null,null));e[t.index]=E}(t,i,e.data[c+i.componentOffset]),e.firstCreatePass||Wc(i,t);const m=i.initialInputs;for(let E=c;E<h;E++){const S=e.data[E],P=hc(t,e,E,i);Za(P,t),null!==m&&it(0,E-c,P,S,0,m),ee(S)&&(qo(i.index,t)[ci]=hc(t,e,E,i))}})(e,t,i),!(64&~i.flags)&&function Xe(e,t,i){const c=i.directiveStart,h=i.directiveEnd,m=i.index,E=function Bl(){return ei.lFrame.currentDirectiveIndex}();try{vl(m);for(let S=c;S<h;S++){const P=e.data[S],W=t[S];Ul(S),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&lt(P,W)}}finally{vl(-1),Ul(E)}}(e,t,i)}function Je(e,t,i=jo){const c=t.localNames;if(null!==c){let h=t.index+1;for(let m=0;m<c.length;m+=2){const E=c[m+1],S=-1===E?i(t,e):e[E];e[h++]=S}}}let Mn=()=>null;function rr(e,t,i,c,h,m,E,S){if(S||!ph(t,e,i,c,h)){if(3&t.type){const P=jo(t,i);c=function Sr(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(c),h=null!=E?E(h,t.value||"",c):h,m.setProperty(P,c,h)}}else O(t)&&function hi(e,t){const i=qo(t,e);16&i[Pr]||(i[Pr]|=64)}(i,t.index)}function lt(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Tt(e,t){const i=e.directiveRegistry;let c=null;if(i)for(let h=0;h<i.length;h++){const m=i[h];Zv(t,m.selectors,!1)&&(c??=[],ee(m)?c.unshift(m):c.push(m))}return c}function Rt(e,t,i,c,h,m){const E=jo(e,t);!function Lt(e,t,i,c,h,m,E){if(null==m)e.removeAttribute(t,h,i);else{const S=null==E?qe(m):E(m,c||"",h);e.setAttribute(t,h,S,i)}}(t[J],E,m,e.value,i,c,h)}function it(e,t,i,c,h,m){const E=m[t];if(null!==E)for(let S=0;S<E.length;S+=2)X(c,i,E[S],E[S+1])}function Rf(e,t,i){return(null===e||ee(e))&&(i=function Oc(e){for(;Array.isArray(e);){if("object"==typeof e[oc])return e;e=e[Oi]}return null}(i[t.index])),i[J]}function ph(e,t,i,c,h){const m=e.inputs?.[c],E=e.hostDirectiveInputs?.[c];let S=!1;if(E)for(let P=0;P<E.length;P+=2){const W=E[P];X(t.data[W],i[W],E[P+1],h),S=!0}if(m)for(const P of m)X(t.data[P],i[P],c,h),S=!0;return S}function qp(e,t){const i=qo(t,e),c=i[An];!function xf(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(c,i);const h=i[Oi];null!==h&&null===i[Co]&&(i[Co]=null),Hi(18),Qp(c,i,i[ci]),Hi(19,i[ci])}function Qp(e,t,i){Bc(t);try{const c=e.viewQuery;null!==c&&Zc(1,c,i);const h=e.template;null!==h&&ce(e,t,h,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),t[vs]?.finishViewCreation(e),e.staticContentQueries&&Yc(e,t),e.staticViewQueries&&Zc(2,e.viewQuery,i);const m=e.components;null!==m&&function LE(e,t){for(let i=0;i<t.length;i++)qp(e,t[i])}(t,m)}catch(c){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),c}finally{t[Pr]&=-5,Ra()}}function Po(e,t){return!t||null===t.firstChild||Gd(e)}function gh(e,t){return undefined(e,t)}var pd=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(pd||{});function Sl(e){return!(32&~e.flags)}function Pf(e,t,i,c,h){if(null!=c){let m,E=!1;M(c)?m=c:js(c)&&(E=!0,c=c[Oi]);const S=xi(c);0===e&&null!==i?null==h?OE(t,i,S):Af(t,i,S,h||null,!0):1===e&&null!==i?Af(t,i,S,h||null,!0):2===e?function Sf(e,t,i){e.removeChild(null,t,i)}(t,S,E):3===e&&t.destroyNode(S),null!=m&&function rb(e,t,i,c,h){const m=i[7];m!==xi(i)&&Pf(t,e,c,m,h);for(let S=Us;S<i.length;S++){const P=i[S];tg(P[An],P,e,t,c,m)}}(t,e,m,i,h)}}function Um(e,t){t[V].changeDetectionScheduler?.notify(9),tg(e,t,t[J],2,null,null)}function Yp(e,t){const i=e[Mc],c=i.indexOf(t);i.splice(c,1)}function mh(e,t){if($t(t))return;const i=t[J];i.destroyNode&&tg(e,t,i,3,null,null),function gd(e){let t=e[ze];if(!t)return _h(e[An],e);for(;t;){let i=null;if(js(t))i=t[ze];else{const c=t[Us];c&&(i=c)}if(!i){for(;t&&!t[Bo]&&t!==e;)js(t)&&_h(t[An],t),t=t[as];null===t&&(t=e),js(t)&&_h(t[An],t),i=t&&t[Bo]}t=i}}(t)}function _h(e,t){if($t(t))return;const i=Oe(null);try{t[Pr]&=-129,t[Pr]|=256,t[24]&&Qe(t[24]),function wy(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let c=0;c<i.length;c+=2){const h=t[i[c]];if(!(h instanceof ma)){const m=i[c+1];if(Array.isArray(m))for(let E=0;E<m.length;E+=2){const S=h[m[E]],P=m[E+1];Hi(4,S,P);try{P.call(S)}finally{Hi(5,S,P)}}else{Hi(4,h,m);try{m.call(h)}finally{Hi(5,h,m)}}}}}(e,t),function eb(e,t){const i=e.cleanup,c=t[Cs];if(null!==i)for(let E=0;E<i.length-1;E+=2)if("string"==typeof i[E]){const S=i[E+3];S>=0?c[S]():c[-S].unsubscribe(),E+=2}else i[E].call(c[i[E+1]]);null!==c&&(t[Cs]=null);const h=t[21];if(null!==h){t[21]=null;for(let E=0;E<h.length;E++)(0,h[E])()}const m=t[Ia];if(null!==m){t[Ia]=null;for(const E of m)E.destroy()}}(e,t),1===t[An].type&&t[J].destroy();const c=t[Vs];if(null!==c&&M(t[as])){c!==t[as]&&Yp(c,t);const h=t[vs];null!==h&&h.detachView(e)}qd(t)}finally{Oe(i)}}function jm(e,t,i){return function Zp(e,t,i){let c=t;for(;null!==c&&168&c.type;)c=(t=c).parent;if(null===c)return i[Oi];if(O(c)){const{encapsulation:h}=e.data[c.directiveStart+c.componentOffset];if(h===wc.None||h===wc.Emulated)return null}return jo(c,i)}(e,t.parent,i)}let Jp,nb=function tb(e,t,i){return 40&e.type?jo(e,i):null};function yh(e,t,i,c){const h=jm(e,c,t),m=t[J],S=function $m(e,t,i){return nb(e,t,i)}(c.parent||t[Ts],c,t);if(null!=h)if(Array.isArray(i))for(let P=0;P<i.length;P++)NE(m,h,i[P],S,!1);else NE(m,h,i,S,!1);void 0!==Jp&&Jp(m,c,t,i,h)}function Mo(e,t){if(null!==t){const i=t.type;if(3&i)return jo(t,e);if(4&i)return vh(-1,e[t.index]);if(8&i){const c=t.child;if(null!==c)return Mo(e,c);{const h=e[t.index];return M(h)?vh(-1,h):xi(h)}}if(128&i)return Mo(e,t.next);if(32&i)return gh(t,e)()||xi(e[t.index]);{const c=ka(e,t);return null!==c?Array.isArray(c)?c[0]:Mo(So(e[Or]),c):Mo(e,t.next)}}return null}function ka(e,t){return null!==t?e[Or][Ts].projection[t.projection]:null}function vh(e,t){const i=Us+e+1;if(i<t.length){const c=t[i],h=c[An].firstChild;if(null!==h)return Mo(c,h)}return t[7]}function Hm(e,t,i,c,h,m,E){for(;null!=i;){if(128===i.type){i=i.next;continue}const S=c[i.index],P=i.type;if(E&&0===t&&(S&&Za(xi(S),c),i.flags|=2),!Sl(i))if(8&P)Hm(e,t,i.child,c,h,m,!1),Pf(t,e,h,S,m);else if(32&P){const W=gh(i,c);let te;for(;te=W();)Pf(t,e,h,te,m);Pf(t,e,h,S,m)}else 16&P?bh(e,t,c,i,h,m):Pf(t,e,h,S,m);i=E?i.projectionNext:i.next}}function tg(e,t,i,c,h,m){Hm(i,c,e.firstChild,t,h,m,!1)}function bh(e,t,i,c,h,m){const E=i[Or],P=E[Ts].projection[c.projection];if(Array.isArray(P))for(let W=0;W<P.length;W++)Pf(t,e,h,P[W],m);else{let W=P;const te=E[as];Gd(c)&&(W.flags|=128),Hm(e,t,W,te,h,m,!0)}}function md(e,t,i,c,h=!1){for(;null!==i;){if(128===i.type){i=h?i.projectionNext:i.next;continue}const m=t[i.index];null!==m&&c.push(xi(m)),M(m)&&Iy(m,c);const E=i.type;if(8&E)md(e,t,i.child,c);else if(32&E){const S=gh(i,t);let P;for(;P=S();)c.push(P)}else if(16&E){const S=ka(t,i);if(Array.isArray(S))c.push(...S);else{const P=So(t[Or]);md(P[An],P,S,c,!0)}}i=h?i.projectionNext:i.next}return c}function Iy(e,t){for(let i=Us;i<e.length;i++){const c=e[i],h=c[An].firstChild;null!==h&&md(c[An],c,h,t)}e[7]!==e[Oi]&&t.push(e[7])}function sb(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let zm=[];const Cy={...Fe,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ms(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},Eh={...Fe,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=So(e.lView);for(;t&&!Wm(t[An]);)t=So(t);t&&ps(t)},consumerOnSignalRead(){this.lView[24]=this}};function Wm(e){return 2!==e.type}function rg(e){if(null===e[Ia])return;let t=!0;for(;t;){let i=!1;for(const c of e[Ia])c.dirty&&(i=!0,null===c.zone||Zone.current===c.zone?c.run():c.zone.run(()=>c.run()));t=i&&!!(8192&e[Pr])}}function Vu(e,t=!0,i=0){const h=e[V].rendererFactory;h.begin?.();try{!function cb(e,t){const i=pa();try{gu(!0),Bu(e,t);let c=0;for(;ac(e);){if(100===c)throw new Dt(103,!1);c++,Bu(e,1)}}finally{gu(i)}}(e,i)}catch(E){throw t&&function by(e,t){const i=e[F],c=i?i.get(Il,null):null;c&&c.handleError(t)}(e,E),E}finally{h.end?.()}}function Dy(e,t,i,c){if($t(t))return;const h=t[Pr];Bc(t);let S=!0,P=null,W=null;Wm(e)?(W=function Ty(e){return e[24]??function ob(e){const t=zm.pop()??Object.create(Cy);return t.lView=e,t}(e)}(t),P=Ut(W)):null===function Le(){return le}()?(S=!1,W=function ab(e){const t=e[24]??Object.create(Eh);return t.lView=e,t}(t),P=Ut(W)):t[24]&&(Qe(t[24]),t[24]=null);try{As(t),function Md(e){return ei.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&ce(e,t,i,2,c);const te=!(3&~h);if(te){const Ce=e.preOrderCheckHooks;null!==Ce&&_u(t,Ce,null)}else{const Ce=e.preOrderHooks;null!==Ce&&Fd(t,Ce,0,null),Ld(t,0)}if(function ig(e){for(let t=Su(e);null!==t;t=Yd(t)){if(!(2&t[Pr]))continue;const i=t[Mc];for(let c=0;c<i.length;c++)ps(i[c])}}(t),rg(t),eu(t,0),null!==e.contentQueries&&Yc(e,t),te){const Ce=e.contentCheckHooks;null!==Ce&&_u(t,Ce)}else{const Ce=e.contentHooks;null!==Ce&&Fd(t,Ce,1),Ld(t,1)}!function jE(e,t){const i=e.hostBindingOpCodes;if(null!==i)try{for(let c=0;c<i.length;c++){const h=i[c];if(h<0)vl(~h);else{const m=h,E=i[++c],S=i[++c];_g(E,m);const P=t[m];Hi(24,P),S(2,P),Hi(25,P)}}}finally{vl(-1)}}(e,t);const ue=e.components;null!==ue&&ub(t,ue,0);const Be=e.viewQuery;if(null!==Be&&Zc(2,Be,c),te){const Ce=e.viewCheckHooks;null!==Ce&&_u(t,Ce)}else{const Ce=e.viewHooks;null!==Ce&&Fd(t,Ce,2),Ld(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const Ce of t[22])Ce();t[22]=null}sb(t),t[Pr]&=-73}catch(te){throw Ms(t),te}finally{null!==W&&(Gt(W,P),S&&function ng(e){e.lView[24]!==e&&(e.lView=null,zm.push(e))}(W)),Ra()}}function eu(e,t){for(let i=Su(e);null!==i;i=Yd(i))for(let c=Us;c<i.length;c++)Ay(i[c],t)}function UE(e,t,i){Hi(18);const c=qo(t,e);Ay(c,i),Hi(19,c[ci])}function Ay(e,t){bs(e)&&Bu(e,t)}function Bu(e,t){const c=e[An],h=e[Pr],m=e[24];let E=!!(0===t&&16&h);if(E||=!!(64&h&&0===t),E||=!!(1024&h),E||=!(!m?.dirty||!Kt(m)),E||=!1,m&&(m.dirty=!1),e[Pr]&=-9217,E)Dy(c,e,c.template,e[ci]);else if(8192&h){rg(e),eu(e,1);const S=c.components;null!==S&&ub(e,S,1),sb(e)}}function ub(e,t,i){for(let c=0;c<t.length;c++)UE(e,t[c],i)}function _d(e,t){const i=pa()?64:1088;for(e[V].changeDetectionScheduler?.notify(t);e;){e[Pr]|=i;const c=So(e);if(Ie(e)&&!c)return e;e=c}return null}function sg(e,t,i,c){return[e,!0,0,t,null,c,null,i,null,null]}function Mf(e,t){if(e.length<=Us)return;const i=Us+t,c=e[i];if(c){const h=c[Vs];null!==h&&h!==e&&Yp(h,c),t>0&&(e[i-1][Bo]=c[Bo]);const m=ro(e,Us+t);!function Xp(e,t){Um(e,t),t[Oi]=null,t[Ts]=null}(c[An],c);const E=m[vs];null!==E&&E.detachView(m[An]),c[as]=null,c[Bo]=null,c[Pr]&=-129}return c}function Km(e,t){const i=e[Mc],c=t[as];(js(c)||t[Or]!==c[as][Or])&&(e[Pr]|=2),null===i?e[Mc]=[t]:i.push(t)}let Uu=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const t=this._lView,i=t[An];return md(i,t,i.firstChild,[])}constructor(t,i,c=!0){this._lView=t,this._cdRefInjectingView=i,this.notifyErrorHandler=c}get context(){return this._lView[ci]}set context(t){this._lView[ci]=t}get destroyed(){return $t(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[as];if(M(t)){const i=t[8],c=i?i.indexOf(this):-1;c>-1&&(Mf(t,c),ro(i,c))}this._attachedToViewContainer=!1}mh(this._lView[An],this._lView)}onDestroy(t){Da(this._lView,t)}markForCheck(){_d(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Pr]&=-129}reattach(){Gf(this._lView),this._lView[Pr]|=128}detectChanges(){this._lView[Pr]|=1024,Vu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Dt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Ie(this._lView),i=this._lView[Vs];null!==i&&!t&&Yp(i,this._lView),Um(this._lView[An],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Dt(902,!1);this._appRef=t;const i=Ie(this._lView),c=this._lView[Vs];null!==c&&!i&&Km(c,this._lView),Gf(this._lView)}},og=(()=>class e{static __NG_ELEMENT_ID__=Qm})();const qm=og,Ry=class extends qm{_declarationLView;_declarationTContainer;elementRef;constructor(t,i,c){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,c){const h=function Al(e,t,i,c){const h=Oe(null);try{const m=t.tView,P=n(e,m,i,4096&e[Pr]?4096:16,null,t,null,null,c?.injector??null,c?.embeddedViewInjector??null,c?.dehydratedView??null);P[Vs]=e[t.index];const te=e[vs];return null!==te&&(P[vs]=te.createEmbeddedView(m)),Qp(m,P,i),P}finally{Oe(h)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:c});return new Uu(h)}};function Qm(){return yd(pi(),zt())}function yd(e,t){return 4&e.type?new Ry(t,e,ed(e,t)):null}function su(e,t,i,c,h){let m=e.data[t];if(null===m)m=function My(e,t,i,c,h){const m=Xf(),E=xd(),P=e.data[t]=function KE(e,t,i,c,h,m){let E=t?t.injectorIndex:-1,S=0;return function Wa(){return null!==ei.skipHydrationRootTNode}()&&(S|=128),{type:i,index:c,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:S,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?m:m&&m.parent,i,t,c,h);return function _b(e,t,i,c){null===e.firstChild&&(e.firstChild=t),null!==i&&(c?null==i.child&&null!==t.parent&&(i.child=t):null===i.next&&(i.next=t,t.prev=i))}(e,P,m,E),P}(e,t,i,c,h),function kd(){return ei.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=i,m.value=c,m.attrs=h;const E=function Ka(){const e=ei.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();m.injectorIndex=null===E?-1:E.injectorIndex}return Aa(m,!0),m}let H0=class{},z0=class{};class W0{resolveComponentFactory(t){throw Error(`No component factory found for ${et(t)}.`)}}let o_=class{static NULL=new W0};class XE{}let G0=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function YE(){const e=zt(),i=qo(pi().index,e);return(js(i)?i:e)[J]}()})(),K0=(()=>{class e{static \u0275prov=tt({token:e,providedIn:"root",factory:()=>null})}return e})();function Jl(e){return!!Ls(e)}const ew={};class l_{injector;parentInjector;constructor(t,i){this.injector=t,this.parentInjector=i}get(t,i,c){c=yo(c);const h=this.injector.get(t,ew,c);return h!==ew||i===ew?h:this.parentInjector.get(t,i,c)}}function tw(e,t,i){let c=i?e.styles:null,h=i?e.classes:null,m=0;if(null!==t)for(let E=0;E<t.length;E++){const S=t[E];"number"==typeof S?m=S:1==m?h=Xr(h,S):2==m&&(c=Xr(c,S+": "+t[++E]+";"))}i?e.styles=c:e.stylesWithoutHost=c,i?e.classes=h:e.classesWithoutHost=h}function c_(e,t=ur.Default){const i=zt();return null===i?Gi(e,t):Ig(pi(),i,Hn(e),t)}function Zw(){throw new Error("invalid")}function nw(e,t,i,c,h){const m=null===c?null:{"":-1},E=h(e,i);if(null!==E){let S,P=null,W=null;const te=function rw(e){let t=null,i=!1;for(let E=0;E<e.length;E++){const S=e[E];if(0===E&&ee(S)&&(t=S),null!==S.findHostDirectiveDefs){i=!0;break}}if(!i)return null;let c=null,h=null,m=null;for(const E of e)null!==E.findHostDirectiveDefs&&(c??=[],h??=new Map,m??=new Map,Q0(E,c,m,h)),E===t&&(c??=[],c.push(E));return null!==c?(c.push(...null===t?e:e.slice(1)),[c,h,m]):null}(E);null===te?S=E:[S,P,W]=te,function Y0(e,t,i,c,h,m,E){const S=c.length;let P=!1;for(let Be=0;Be<S;Be++){const Ce=c[Be];!P&&ee(Ce)&&(P=!0,X0(e,i,Be)),Eu(Wc(i,t),e,Ce.type)}!function rI(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}(i,e.data.length,S);for(let Be=0;Be<S;Be++){const Ce=c[Be];Ce.providersResolver&&Ce.providersResolver(Ce)}let W=!1,te=!1,ue=g(e,t,S,null);S>0&&(i.directiveToIndex=new Map);for(let Be=0;Be<S;Be++){const Ce=c[Be];if(i.mergedAttrs=Hc(i.mergedAttrs,Ce.hostAttrs),J0(e,i,t,ue,Ce),nI(ue,Ce,h),null!==E&&E.has(Ce)){const[on,Bn]=E.get(Ce);i.directiveToIndex.set(Ce.type,[ue,on+i.directiveStart,Bn+i.directiveStart])}else(null===m||!m.has(Ce))&&i.directiveToIndex.set(Ce.type,ue);null!==Ce.contentQueries&&(i.flags|=4),(null!==Ce.hostBindings||null!==Ce.hostAttrs||0!==Ce.hostVars)&&(i.flags|=64);const ct=Ce.type.prototype;!W&&(ct.ngOnChanges||ct.ngOnInit||ct.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),W=!0),!te&&(ct.ngOnChanges||ct.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),te=!0),ue++}!function Z0(e,t,i){for(let c=t.directiveStart;c<t.directiveEnd;c++){const h=e.data[c];if(null!==i&&i.has(h)){const m=i.get(h);t0(0,t,m,c),t0(1,t,m,c),iw(t,c,!0)}else e0(0,t,h,c),e0(1,t,h,c),iw(t,c,!1)}}(e,i,m)}(e,t,i,S,m,P,W)}null!==m&&null!==c&&function Jw(e,t,i){const c=e.localNames=[];for(let h=0;h<t.length;h+=2){const m=i[t[h+1]];if(null==m)throw new Dt(-301,!1);c.push(t[h],m)}}(i,c,m)}function Q0(e,t,i,c){const h=t.length;e.findHostDirectiveDefs(e,t,c),i.set(e,[h,t.length-1])}function X0(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function e0(e,t,i,c){const h=0===e?i.inputs:i.outputs;for(const m in h)if(h.hasOwnProperty(m)){let E;E=0===e?t.inputs??={}:t.outputs??={},E[m]??=[],E[m].push(c),ec(t,m)}}function t0(e,t,i,c){const h=0===e?i.inputs:i.outputs;for(const m in h)if(h.hasOwnProperty(m)){const E=h[m];let S;S=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},S[E]??=[],S[E].push(c,m),ec(t,E)}}function ec(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function iw(e,t,i){const{attrs:c,inputs:h,hostDirectiveInputs:m}=e;if(null===c||!i&&null===h||i&&null===m||_y(e))return e.initialInputs??=[],void e.initialInputs.push(null);let E=null,S=0;for(;S<c.length;){const P=c[S];if(0!==P)if(5!==P){if("number"==typeof P)break;if(!i&&h.hasOwnProperty(P)){const W=h[P];for(const te of W)if(te===t){E??=[],E.push(P,c[S+1]);break}}else if(i&&m.hasOwnProperty(P)){const W=m[P];for(let te=0;te<W.length;te+=2)if(W[te]===t){E??=[],E.push(W[te+1],c[S+1]);break}}S+=2}else S+=2;else S+=4}e.initialInputs??=[],e.initialInputs.push(E)}function J0(e,t,i,c,h){e.data[c]=h;const m=h.factory||(h.factory=No(h.type)),E=new ma(m,ee(h),c_);e.blueprint[c]=E,i[c]=E,function eI(e,t,i,c,h){const m=h.hostBindings;if(m){let E=e.hostBindingOpCodes;null===E&&(E=e.hostBindingOpCodes=[]);const S=~t.index;(function tI(e){let t=e.length;for(;t>0;){const i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(E)!=S&&E.push(S),E.push(i,c,m)}}(e,t,c,g(e,i,h.hostVars,di),h)}function nI(e,t,i){if(i){if(t.exportAs)for(let c=0;c<t.exportAs.length;c++)i[t.exportAs[c]]=e;ee(t)&&(i[""]=e)}}function n0(e,t,i,c,h,m,E,S){const P=t.consts,te=su(t,e,2,c,za(P,E));return m&&nw(t,i,te,za(P,S),h),te.mergedAttrs=Hc(te.mergedAttrs,te.attrs),null!==te.attrs&&tw(te,te.attrs,!1),null!==te.mergedAttrs&&tw(te,te.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,te),te}function r0(e,t){sl(e,t),B(t)&&e.queries.elementEnd(t)}class s0 extends o_{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const i=Jr(t);return new Wy(i,this.ngModule)}}class Wy extends z0{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function iI(e){return Object.keys(e).map(t=>{const[i,c,h]=e[t],m={propName:i,templateName:t,isSignal:!!(c&$.SignalBased)};return h&&(m.transform=h),m})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function sI(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=function Ww(e){return e.map(zw).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!i}create(t,i,c,h){Hi(22);const m=Oe(null);try{const E=this.componentDef,S=c?["ng-version","19.2.14"]:function Gw(e){const t=[],i=[];let c=1,h=2;for(;c<e.length;){let m=e[c];if("string"==typeof m)2===h?""!==m&&t.push(m,e[++c]):8===h&&i.push(m);else{if(!Tc(h))break;h=m}c++}return i.length&&t.push(1,...i),t}(this.componentDef.selectors[0]),P=Kp(0,null,null,1,0,null,null,null,null,[S],null),W=function oI(e,t,i){let c=t instanceof jr?t:t?.injector;return c&&null!==e.getStandaloneInjector&&(c=e.getStandaloneInjector(c)||c),c?new l_(i,c):i}(E,h||this.ngModule,t),te=function aI(e){const t=e.get(XE,null);if(null===t)throw new Dt(407,!1);return{rendererFactory:t,sanitizer:e.get(K0,null),changeDetectionScheduler:e.get(Yo,null)}}(W),ue=te.rendererFactory.createRenderer(null,E),Be=c?function Ft(e,t,i,c){const m=c.get(bv,!1)||i===wc.ShadowDom,E=e.selectRootElement(t,m);return function cn(e){Mn(e)}(E),E}(ue,c,E.encapsulation,W):function lI(e,t){const i=(e.selectors[0][0]||"div").toLowerCase();return yy(t,i,"svg"===i?kc:"math"===i?"math":null)}(E,ue),Ce=n(null,P,null,512|d(E),null,null,te,ue,W,null,null);Ce[nr]=Be,Bc(Ce);let ct=null;try{const on=n0(nr,P,Ce,"#host",()=>[this.componentDef],!0,0);Be&&(FE(ue,Be,on),Za(Be,Ce)),be(P,Ce,on),Lp(P,on,Ce),r0(P,on),void 0!==i&&function uI(e,t,i){const c=e.projection=[];for(let h=0;h<t.length;h++){const m=i[h];c.push(null!=m&&m.length?Array.from(m):null)}}(on,this.ngContentSelectors,i),ct=qo(on.index,Ce),Ce[ci]=ct[ci],Qp(P,Ce,null)}catch(on){throw null!==ct&&qd(ct),qd(Ce),on}finally{Hi(23),Ra()}return new cI(this.componentType,Ce)}finally{Oe(m)}}}class cI extends H0{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,i){super(),this._rootLView=i,this._tNode=Fl(i[An],nr),this.location=ed(this._tNode,i),this.instance=qo(this._tNode.index,i)[ci],this.hostView=this.changeDetectorRef=new Uu(i,void 0,!1),this.componentType=t}setInput(t,i){const c=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),i))return;const h=this._rootLView;ph(c,h[An],h,t,i),this.previousInputValues.set(t,i),_d(qo(c.index,h),1)}get injector(){return new so(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Nb=(()=>class e{static __NG_ELEMENT_ID__=dI})();function dI(){return ow(pi(),zt())}const hI=Nb,o0=class extends hI{_lContainer;_hostTNode;_hostLView;constructor(t,i,c){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=c}get element(){return ed(this._hostTNode,this._hostLView)}get injector(){return new so(this._hostTNode,this._hostLView)}get parentInjector(){const t=uc(this._hostTNode,this._hostLView);if(zl(t)){const i=qu(t,this._hostLView),c=Wl(t);return new so(i[An].data[c+8],i)}return new so(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const i=a0(this._lContainer);return null!==i&&i[t]||null}get length(){return this._lContainer.length-Us}createEmbeddedView(t,i,c){let h,m;"number"==typeof c?h=c:null!=c&&(h=c.index,m=c.injector);const S=t.createEmbeddedViewImpl(i||{},m,null);return this.insertImpl(S,h,Po(this._hostTNode,null)),S}createComponent(t,i,c,h,m){const E=t&&!function wi(e){return"function"==typeof e}(t);let S;if(E)S=i;else{const ct=i||{};S=ct.index,c=ct.injector,h=ct.projectableNodes,m=ct.environmentInjector||ct.ngModuleRef}const P=E?t:new Wy(Jr(t)),W=c||this.parentInjector;if(!m&&null==P.ngModule){const on=(E?W:this.parentInjector).get(jr,null);on&&(m=on)}Jr(P.componentType??{});const Ce=P.create(W,h,null,m);return this.insertImpl(Ce.hostView,S,Po(this._hostTNode,null)),Ce}insert(t,i){return this.insertImpl(t,i,!0)}insertImpl(t,i,c){const h=t._lView;if(function Bi(e){return M(e[as])}(h)){const S=this.indexOf(t);if(-1!==S)this.detach(S);else{const P=h[as],W=new o0(P,P[Ts],P[as]);W.detach(W.indexOf(t))}}const m=this._adjustIndex(i),E=this._lContainer;return function Cc(e,t,i,c=!0){const h=t[An];if(function Sy(e,t,i,c){const h=Us+c,m=i.length;c>0&&(i[h-1][Bo]=t),c<m-Us?(t[Bo]=i[h],Ei(i,Us+c,t)):(i.push(t),t[Bo]=null),t[as]=i;const E=t[Vs];null!==E&&i!==E&&Km(E,t);const S=t[vs];null!==S&&S.insertView(e),Gf(t),t[Pr]|=128}(h,t,e,i),c){const E=vh(i,e),S=t[J],P=S.parentNode(e[7]);null!==P&&function Bm(e,t,i,c,h,m){c[Oi]=h,c[Ts]=t,tg(e,c,i,1,h,m)}(h,e[Ts],S,t,P,E)}const m=t[Co];null!==m&&null!==m.firstChild&&(m.firstChild=null)}(E,h,m,c),t.attachToViewContainerRef(),Ei(sw(E),m,t),t}move(t,i){return this.insert(t,i)}indexOf(t){const i=a0(this._lContainer);return null!==i?i.indexOf(t):-1}remove(t){const i=this._adjustIndex(t,-1),c=Mf(this._lContainer,i);c&&(ro(sw(this._lContainer),i),mh(c[An],c))}detach(t){const i=this._adjustIndex(t,-1),c=Mf(this._lContainer,i);return c&&null!=ro(sw(this._lContainer),i)?new Uu(c):null}_adjustIndex(t,i=0){return t??this.length+i}};function a0(e){return e[8]}function sw(e){return e[8]||(e[8]=[])}function ow(e,t){let i;const c=t[e.index];return M(c)?i=c:(i=sg(c,t,null,e),t[e.index]=i,b(t,i)),Fb(i,t,e,c),new o0(i,e,t)}let Fb=function lw(e,t,i,c){if(e[7])return;let h;h=8&i.type?xi(c):function l0(e,t){const i=e[J],c=i.createComment(""),h=jo(t,e),m=i.parentNode(h);return Af(i,m,c,i.nextSibling(h),!1),c}(t,i),e[7]=h},aw=()=>!1;class a{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new a(this.queryList)}setDirty(){this.queryList.setDirty()}}class s{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const i=t.queries;if(null!==i){const c=null!==t.contentQueries?t.contentQueries[0]:i.length,h=[];for(let m=0;m<c;m++){const E=i.getByIndex(m);h.push(this.queries[E.indexInDeclarationView].clone())}return new s(h)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let i=0;i<this.queries.length;i++)null!==Wt(t,i).matches&&this.queries[i].setDirty()}}class r{flags;read;predicate;constructor(t,i,c=null){this.flags=i,this.read=c,this.predicate="string"==typeof t?function je(e){return e.split(",").map(t=>t.trim())}(t):t}}class l{queries;constructor(t=[]){this.queries=t}elementStart(t,i){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(t,i)}elementEnd(t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(t)}embeddedTView(t){let i=null;for(let c=0;c<this.length;c++){const h=null!==i?i.length:0,m=this.getByIndex(c).embeddedTView(t,h);m&&(m.indexInDeclarationView=c,null!==i?i.push(m):i=[m])}return null!==i?new l(i):null}template(t,i){for(let c=0;c<this.queries.length;c++)this.queries[c].template(t,i)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class u{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,i=-1){this.metadata=t,this._declarationNodeIndex=i}elementStart(t,i){this.isApplyingToNode(i)&&this.matchTNode(t,i)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,i){this.elementStart(t,i)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new u(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let c=t.parent;for(;null!==c&&8&c.type&&c.index!==i;)c=c.parent;return i===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(t,i){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const m=c[h];this.matchTNodeWithReadOption(t,i,p(i,m)),this.matchTNodeWithReadOption(t,i,Kl(i,t,m,!1,!1))}else c===og?4&i.type&&this.matchTNodeWithReadOption(t,i,-1):this.matchTNodeWithReadOption(t,i,Kl(i,t,c,!1,!1))}matchTNodeWithReadOption(t,i,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===td||h===Nb||h===og&&4&i.type)this.addMatch(i.index,-2);else{const m=Kl(i,t,h,!1,!1);null!==m&&this.addMatch(i.index,m)}else this.addMatch(i.index,c)}}addMatch(t,i){null===this.matches?this.matches=[t,i]:this.matches.push(t,i)}}function p(e,t){const i=e.localNames;if(null!==i)for(let c=0;c<i.length;c+=2)if(i[c]===t)return i[c+1];return null}function y(e,t,i,c){return-1===i?function _(e,t){return 11&e.type?ed(e,t):4&e.type?yd(e,t):null}(t,e):-2===i?function C(e,t,i){return i===td?ed(t,e):i===og?yd(t,e):i===Nb?ow(t,e):void 0}(e,t,c):hc(e,e[An],i,t)}function R(e,t,i,c){const h=t[vs].queries[c];if(null===h.matches){const m=e.data,E=i.matches,S=[];for(let P=0;null!==E&&P<E.length;P+=2){const W=E[P];S.push(W<0?null:y(t,m[W],E[P+1],i.metadata.read))}h.matches=S}return h.matches}function U(e,t,i,c){const h=e.queries.getByIndex(i),m=h.matches;if(null!==m){const E=R(e,t,h,i);for(let S=0;S<m.length;S+=2){const P=m[S];if(P>0)c.push(E[S/2]);else{const W=m[S+1],te=t[-P];for(let ue=Us;ue<te.length;ue++){const Be=te[ue];Be[Vs]===Be[as]&&U(Be[An],Be,W,c)}if(null!==te[Mc]){const ue=te[Mc];for(let Be=0;Be<ue.length;Be++){const Ce=ue[Be];U(Ce[An],Ce,W,c)}}}}}return c}function Ae(e,t,i,c){const h=$r();if(h.firstCreatePass){const m=pi();(function Ze(e,t,i){null===e.queries&&(e.queries=new l),e.queries.track(new u(t,i))})(h,new r(t,i,c),m.index),function Yt(e,t){const i=e.contentQueries||(e.contentQueries=[]);t!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(h,e),!(2&~i)&&(h.staticContentQueries=!0)}return function ae(e,t,i){const c=new dv(!(4&~i));return function Kf(e,t,i,c){const h=ia(t);h.push(i),e.firstCreatePass&&Lc(e).push(c,h.length-1)}(e,t,c,c.destroy),(t[vs]??=new s).queries.push(new a(c))-1}(h,zt(),i)}function Wt(e,t){return e.queries.getByIndex(t)}function _n(e,t){const i=e[An],c=Wt(i,t);return c.crossesNgTemplate?U(i,e,t,[]):R(i,e,c,t)}let Gy=class{},NT=class{};function OS(e,t){return new gI(e,t??null,[])}class gI extends Gy{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new s0(this);constructor(t,i,c,h=!0){super(),this.ngModuleType=t,this._parent=i;const m=Ls(t);this._bootstrapComponents=Fu(m.bootstrap),this._r3Injector=jd(t,i,[{provide:Gy,useValue:this},{provide:o_,useValue:this.componentFactoryResolver},...c],et(t),new Set(["environment"])),h&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class mI extends NT{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new gI(this.moduleType,t,[])}}class FT extends Gy{injector;componentFactoryResolver=new s0(this);instance=null;constructor(t){super();const i=new fs([...t.providers,{provide:Gy,useValue:this},{provide:o_,useValue:this.componentFactoryResolver}],t.parent||dr(),t.debugName,new Set(["environment"]));this.injector=i,t.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function _I(e,t,i=null){return new FT({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}let FS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(i){this._injector=i}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const c=bn(0,i.type),h=c.length>0?_I([c],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,h)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=tt({token:e,providedIn:"environment",factory:()=>new e(Gi(jr))})}return e})();function LT(e){return Hr(()=>{const t=UT(e),i={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===T_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?h=>h.get(FS).getOrCreateStandaloneInjector(i):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||wc.Emulated,styles:e.styles||Qr,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&ul("NgStandalone"),jT(i);const c=e.dependencies;return i.directiveDefs=h0(c,!1),i.pipeDefs=h0(c,!0),i.id=function $S(e){let t=0;const c=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const m of c.join("|"))t=Math.imul(31,t)+m.charCodeAt(0)|0;return t+=2147483648,"c"+t}(i),i})}function LS(e){return Jr(e)||ie(e)}function VS(e){return null!==e}function yI(e){return Hr(()=>({type:e.type,bootstrap:e.bootstrap||Qr,declarations:e.declarations||Qr,imports:e.imports||Qr,exports:e.exports||Qr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function BS(e,t){if(null==e)return yi;const i={};for(const c in e)if(e.hasOwnProperty(c)){const h=e[c];let m,E,S,P;Array.isArray(h)?(S=h[0],m=h[1],E=h[2]??m,P=h[3]||null):(m=h,E=h,S=$.None,P=null),i[m]=[c,S,P],t[m]=E}return i}function US(e){if(null==e)return yi;const t={};for(const i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}function VT(e){return Hr(()=>{const t=UT(e);return jT(t),t})}function BT(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function UT(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||yi,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||Qr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:BS(e.inputs,t),outputs:US(e.outputs),debugInfo:null}}function jT(e){e.features?.forEach(t=>t(e))}function h0(e,t){if(!e)return null;const i=t?re:LS;return()=>("function"==typeof e?e():e).map(c=>i(c)).filter(VS)}function vI(e){let t=function $T(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const c=[e];for(;t;){let h;if(ee(e))h=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Dt(903,!1);h=t.\u0275dir}if(h){if(i){c.push(h);const E=e;E.inputs=bI(e.inputs),E.declaredInputs=bI(e.declaredInputs),E.outputs=bI(e.outputs);const S=h.hostBindings;S&&KS(e,S);const P=h.viewQuery,W=h.contentQueries;if(P&&WS(e,P),W&&GS(e,W),HS(e,h),zi(e.outputs,h.outputs),ee(h)&&h.data.animation){const te=e.data;te.animation=(te.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let E=0;E<m.length;E++){const S=m[E];S&&S.ngInherit&&S(e),S===vI&&(i=!1)}}t=Object.getPrototypeOf(t)}!function zS(e){let t=0,i=null;for(let c=e.length-1;c>=0;c--){const h=e[c];h.hostVars=t+=h.hostVars,h.hostAttrs=Hc(h.hostAttrs,i=Hc(i,h.hostAttrs))}}(c)}function HS(e,t){for(const i in t.inputs){if(!t.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;const c=t.inputs[i];void 0!==c&&(e.inputs[i]=c,e.declaredInputs[i]=t.declaredInputs[i])}}function bI(e){return e===yi?{}:e===Qr?[]:e}function WS(e,t){const i=e.viewQuery;e.viewQuery=i?(c,h)=>{t(c,h),i(c,h)}:t}function GS(e,t){const i=e.contentQueries;e.contentQueries=i?(c,h,m)=>{t(c,h,m),i(c,h,m)}:t}function KS(e,t){const i=e.hostBindings;e.hostBindings=i?(c,h)=>{t(c,h),i(c,h)}:t}function f0(e){return!!wI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function wI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function $f(e,t,i){return e[t]=i}function va(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function Ky(e,t,i,c){const h=va(e,t,i);return va(e,t+1,c)||h}function uw(e,t,i,c,h,m,E,S,P,W){const te=i+nr,ue=t.firstCreatePass?function nR(e,t,i,c,h,m,E,S,P){const W=t.consts,te=su(t,e,4,E||null,S||null);Qf()&&nw(t,i,te,za(W,P),Tt),te.mergedAttrs=Hc(te.mergedAttrs,te.attrs),sl(t,te);const ue=te.tView=Kp(2,te,c,h,m,t.directiveRegistry,t.pipeRegistry,null,t.schemas,W,null);return null!==t.queries&&(t.queries.template(t,te),ue.queries=t.queries.embeddedTView(te)),te}(te,t,e,c,h,m,E,S,P):t.data[te];Aa(ue,!1);const Be=KT(t,e,ue,i);bl()&&yh(t,e,Be,ue),Za(Be,e);const Ce=sg(Be,e,Be,ue);return e[te]=Ce,b(e,Ce),function c0(e,t,i){return aw(e,t,i)}(Ce,ue,e),j(ue)&&be(t,e,ue),null!=P&&Je(e,ue,W),ue}function II(e,t,i,c,h,m,E,S){const P=zt(),W=$r();return uw(P,W,e,t,i,c,h,za(W.consts,m),E,S),II}let KT=function qT(e,t,i,c){return El(!0),t[J].createComment("")};let DI=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}static \u0275fac=function(c){return new(c||e)};static \u0275prov=tt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const aC=new Ne(""),lC=new Ne("");let xI,ex=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(i,c,h){this._ngZone=i,this.registry=c,Qi()&&(this._destroyRef=jn(_a,{optional:!0})??void 0),xI||(function tx(e){xI=e}(h),h.addToWindow(c)),this._watchAngularEvents(),i.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const i=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),c=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Hs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{i.unsubscribe(),c.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(i)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,c,h){let m=-1;c&&c>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==m),i()},c)),this._callbacks.push({doneCb:i,timeoutId:m,updateCb:h})}whenStable(i,c,h){if(h&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,c,h),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,c,h){return[]}static \u0275fac=function(c){return new(c||e)(Gi(Hs),Gi(cC),Gi(lC))};static \u0275prov=tt({token:e,factory:e.\u0275fac})}return e})(),cC=(()=>{class e{_applications=new Map;registerApplication(i,c){this._applications.set(i,c)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,c=!0){return xI?.findTestabilityInTree(this,i,c)??null}static \u0275fac=function(c){return new(c||e)};static \u0275prov=tt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),uC=(()=>{class e{static \u0275prov=tt({token:e,providedIn:"root",factory:()=>new nx})}return e})();class nx{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){const c=this.queues.get(t.zone);c.has(t)&&(c.delete(t),this.queuedEffectCount--)}enqueue(t){const i=t.zone;this.queues.has(i)||this.queues.set(i,new Set);const c=this.queues.get(i);c.has(t)||(this.queuedEffectCount++,c.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,i]of this.queues)null===t?this.flushQueue(i):t.run(()=>this.flushQueue(i))}flushQueue(t){for(const i of t)t.delete(i),this.queuedEffectCount--,i.run()}}function PI(e){return!!e&&"function"==typeof e.then}function dC(e){return!!e&&"function"==typeof e.subscribe}const hC=new Ne("");function rx(e){return Ke([{provide:hC,multi:!0,useValue:e}])}let fC=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,c)=>{this.resolve=i,this.reject=c});appInits=jn(hC,{optional:!0})??[];injector=jn($o);constructor(){}runInitializers(){if(this.initialized)return;const i=[];for(const h of this.appInits){const m=Na(this.injector,h);if(PI(m))i.push(m);else if(dC(m)){const E=new Promise((S,P)=>{m.subscribe({complete:S,error:P})});i.push(E)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{c()}).catch(h=>{this.reject(h)}),0===i.length&&c(),this.initialized=!0}static \u0275fac=function(c){return new(c||e)};static \u0275prov=tt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const hw=new Ne("");let Hu=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=jn(ov);afterRenderManager=jn(wp);zonelessEnabled=jn(Gc);rootEffectScheduler=jn(uC);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new kn.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=jn(Cu).hasPendingTasks.pipe((0,Fn.T)(i=>!i));constructor(){jn(ld,{optional:!0})}whenStable(){let i;return new Promise(c=>{i=this.isStable.subscribe({next:h=>{h&&c()}})}).finally(()=>{i.unsubscribe()})}_injector=jn(jr);_rendererFactory=null;get injector(){return this._injector}bootstrap(i,c){return this.bootstrapImpl(i,c)}bootstrapImpl(i,c,h=$o.NULL){Hi(10);const m=i instanceof z0;if(!this._injector.get(fC).done)throw new Dt(405,"");let S;S=m?i:this._injector.get(o_).resolveComponentFactory(i),this.componentTypes.push(S.componentType);const P=function ix(e){return e.isBoundToModule}(S)?void 0:this._injector.get(Gy),te=S.create(h,[],c||S.selector,P),ue=te.location.nativeElement,Be=te.injector.get(aC,null);return Be?.registerApplication(ue),te.onDestroy(()=>{this.detachView(te.hostView),y0(this.components,te),Be?.unregisterApplication(ue)}),this._loadComponent(te),Hi(11,te),te}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Hi(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(j_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Dt(101,!1);const i=Oe(null);try{this._runningTick=!0,this.synchronize()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Oe(i),this.afterTick.next(),Hi(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(XE,null,{optional:!0}));let i=0;for(;0!==this.dirtyFlags&&i++<10;)Hi(14),this.synchronizeOnce(),Hi(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:c,notifyErrorHandler:h}of this.allViews)ox(c,h,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>ac(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const c=i;this._views.push(c),c.attachToAppRef(this)}detachView(i){const c=i;y0(this._views,c),c.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(hw,[]).forEach(h=>h(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>y0(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Dt(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(c){return new(c||e)};static \u0275prov=tt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function y0(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}function ox(e,t,i,c){(i||ac(e))&&Vu(e,t,i&&!c?0:1)}function FI(e,t,i,c){const h=zt();return va(h,Sa(),t)&&($r(),Rt(ls(),h,e,t,i,c)),FI}function Ub(e,t,i,c){return va(e,Sa(),i)?t+qe(i)+c:di}function jb(e,t,i,c,h,m){const S=Ky(e,function qa(){return ei.lFrame.bindingIndex}(),i,h);return Qa(2),S?t+qe(i)+c+qe(h)+m:di}function v0(e,t){return e<<17|t<<2}function Qy(e){return e>>17&32767}function LI(e){return 2|e}function qb(e){return(131068&e)>>2}function VI(e,t){return-131069&e|t<<2}function BI(e){return 1|e}function kC(e,t,i,c){const h=e[i+1],m=null===t;let E=c?Qy(h):qb(h),S=!1;for(;0!==E&&(!1===S||m);){const W=e[E+1];Gx(e[E],t)&&(S=!0,e[E+1]=c?BI(W):LI(W)),E=c?Qy(W):qb(W)}S&&(e[i+1]=c?LI(h):BI(h))}function Gx(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&hl(e,t)>=0}const Ja={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OC(e){return e.substring(Ja.key,Ja.keyEnd)}function NC(e,t){const i=Ja.textEnd;return i===t?-1:(t=Ja.keyEnd=function Xx(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,Ja.key=t,i),Qb(e,t,i))}function Qb(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function UI(e,t,i){const c=zt();return va(c,Sa(),t)&&rr($r(),ls(),c,e,t,c[J],i,!1),UI}function jI(e,t,i,c,h){ph(t,e,i,h?"class":"style",c)}function $I(e,t,i){return Sh(e,t,i,!1),$I}function HI(e,t){return Sh(e,t,null,!0),HI}function UC(e){Rh(sP,zf,e,!0)}function zf(e,t){for(let i=function qx(e){return function LC(e){Ja.key=0,Ja.keyEnd=0,Ja.value=0,Ja.valueEnd=0,Ja.textEnd=e.length}(e),NC(e,Qb(e,0,Ja.textEnd))}(t);i>=0;i=NC(t,i))Xs(e,OC(t),!0)}function Sh(e,t,i,c){const h=zt(),m=$r(),E=Qa(2);m.firstUpdatePass&&$C(m,e,E,c),t!==di&&va(h,E,t)&&zC(m,m.data[Eo()],h,h[J],e,h[E+1]=function aP(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=et(ku(e)))),e}(t,i),c,E)}function Rh(e,t,i,c){const h=$r(),m=Qa(2);h.firstUpdatePass&&$C(h,null,m,c);const E=zt();if(i!==di&&va(E,m,i)){const S=h.data[Eo()];if(GC(S,c)&&!jC(h,m)){let P=c?S.classesWithoutHost:S.stylesWithoutHost;null!==P&&(i=Xr(P,i||"")),jI(h,S,E,i,c)}else!function oP(e,t,i,c,h,m,E,S){h===di&&(h=Qr);let P=0,W=0,te=0<h.length?h[0]:null,ue=0<m.length?m[0]:null;for(;null!==te||null!==ue;){const Be=P<h.length?h[P+1]:void 0,Ce=W<m.length?m[W+1]:void 0;let on,ct=null;te===ue?(P+=2,W+=2,Be!==Ce&&(ct=ue,on=Ce)):null===ue||null!==te&&te<ue?(P+=2,ct=te):(W+=2,ct=ue,on=Ce),null!==ct&&zC(e,t,i,c,ct,on,E,S),te=P<h.length?h[P]:null,ue=W<m.length?m[W]:null}}(h,S,E,E[J],E[m+1],E[m+1]=function iP(e,t,i){if(null==i||""===i)return Qr;const c=[],h=ku(i);if(Array.isArray(h))for(let m=0;m<h.length;m++)e(c,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&e(c,m,h[m]);else"string"==typeof h&&t(c,h);return c}(e,t,i),c,m)}}function jC(e,t){return t>=e.expandoStartIndex}function $C(e,t,i,c){const h=e.data;if(null===h[i+1]){const m=h[Eo()],E=jC(e,i);GC(m,c)&&null===t&&!E&&(t=!1),t=function eP(e,t,i,c){const h=Gu(e);let m=c?t.residualClasses:t.residualStyles;if(null===h)0===(c?t.classBindings:t.styleBindings)&&(i=pw(i=zI(null,e,t,i,c),t.attrs,c),m=null);else{const E=t.directiveStylingLast;if(-1===E||e[E]!==h)if(i=zI(h,e,t,i,c),null===m){let P=function tP(e,t,i){const c=i?t.classBindings:t.styleBindings;if(0!==qb(c))return e[Qy(c)]}(e,t,c);void 0!==P&&Array.isArray(P)&&(P=zI(null,e,t,P[1],c),P=pw(P,t.attrs,c),function nP(e,t,i,c){e[Qy(i?t.classBindings:t.styleBindings)]=c}(e,t,c,P))}else m=function rP(e,t,i){let c;const h=t.directiveEnd;for(let m=1+t.directiveStylingLast;m<h;m++)c=pw(c,e[m].hostAttrs,i);return pw(c,t.attrs,i)}(e,t,c)}return void 0!==m&&(c?t.residualClasses=m:t.residualStyles=m),i}(h,m,t,c),function zx(e,t,i,c,h,m){let E=m?t.classBindings:t.styleBindings,S=Qy(E),P=qb(E);e[c]=i;let te,W=!1;if(Array.isArray(i)?(te=i[1],(null===te||hl(i,te)>0)&&(W=!0)):te=i,h)if(0!==P){const Be=Qy(e[S+1]);e[c+1]=v0(Be,S),0!==Be&&(e[Be+1]=VI(e[Be+1],c)),e[S+1]=function $x(e,t){return 131071&e|t<<17}(e[S+1],c)}else e[c+1]=v0(S,0),0!==S&&(e[S+1]=VI(e[S+1],c)),S=c;else e[c+1]=v0(P,0),0===S?S=c:e[P+1]=VI(e[P+1],c),P=c;W&&(e[c+1]=LI(e[c+1])),kC(e,te,c,!0),kC(e,te,c,!1),function Wx(e,t,i,c,h){const m=h?e.residualClasses:e.residualStyles;null!=m&&"string"==typeof t&&hl(m,t)>=0&&(i[c+1]=BI(i[c+1]))}(t,te,e,c,m),E=v0(S,P),m?t.classBindings=E:t.styleBindings=E}(h,m,t,i,E,c)}}function zI(e,t,i,c,h){let m=null;const E=i.directiveEnd;let S=i.directiveStylingLast;for(-1===S?S=i.directiveStart:S++;S<E&&(m=t[S],c=pw(c,m.hostAttrs,h),m!==e);)S++;return null!==e&&(i.directiveStylingLast=S),c}function pw(e,t,i){const c=i?1:2;let h=-1;if(null!==t)for(let m=0;m<t.length;m++){const E=t[m];"number"==typeof E?h=E:h===c&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Xs(e,E,!!i||t[++m]))}return void 0===e?null:e}function sP(e,t,i){const c=String(t);""!==c&&!c.includes(" ")&&Xs(e,c,i)}function zC(e,t,i,c,h,m,E,S){if(!(3&t.type))return;const P=e.data,W=P[S+1],te=function Hx(e){return!(1&~e)}(W)?WC(P,t,i,h,qb(W),E):void 0;b0(te)||(b0(m)||function jx(e){return!(2&~e)}(W)&&(m=WC(P,null,i,h,S,E)),function ib(e,t,i,c,h){if(t)h?e.addClass(i,c):e.removeClass(i,c);else{let m=-1===c.indexOf("-")?void 0:pd.DashCase;null==h?e.removeStyle(i,c,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=pd.Important),e.setStyle(i,c,h,m))}}(c,E,Nc(Eo(),i),h,m))}function WC(e,t,i,c,h,m){const E=null===t;let S;for(;h>0;){const P=e[h],W=Array.isArray(P),te=W?P[1]:P,ue=null===te;let Be=i[h+1];Be===di&&(Be=ue?Qr:void 0);let Ce=ue?hs(Be,c):te===c?Be:void 0;if(W&&!b0(Ce)&&(Ce=hs(P,c)),b0(Ce)&&(S=Ce,E))return S;const ct=e[h+1];h=E?Qy(ct):qb(ct)}if(null!==t){let P=m?t.residualClasses:t.residualStyles;null!=P&&(S=hs(P,c))}return S}function b0(e){return void 0!==e}function GC(e,t){return!!(e.flags&(t?8:16))}function KC(e,t,i){Rh(Xs,zf,Ub(zt(),e,t,i),!0)}function qC(e,t,i,c,h){Rh(Xs,zf,jb(zt(),e,t,i,c,h),!0)}function w0(e,t,i,c){const h=zt(),m=$r(),E=nr+e,S=h[J],P=m.firstCreatePass?n0(E,m,h,t,Tt,Qf(),i,c):m.data[E],W=ZC(m,h,P,S,t,e);h[E]=W;const te=j(P);return Aa(P,!0),FE(S,W,P),!Sl(P)&&bl()&&yh(m,h,W,P),(0===function Vl(){return ei.lFrame.elementDepthCount}()||te)&&Za(W,h),function qf(){ei.lFrame.elementDepthCount++}(),te&&(be(m,h,P),Lp(m,P,h)),null!==c&&Je(h,P),w0}function I0(){let e=pi();xd()?Yf():(e=e.parent,Aa(e,!1));const t=e;(function Sd(e){return ei.skipHydrationRootTNode===e})(t)&&function Rd(){ei.skipHydrationRootTNode=null}(),function kh(){ei.lFrame.elementDepthCount--}();const i=$r();return i.firstCreatePass&&r0(i,t),null!=t.classesWithoutHost&&function Bd(e){return!!(8&e.flags)}(t)&&jI(i,t,zt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function jh(e){return!!(16&e.flags)}(t)&&jI(i,t,zt(),t.stylesWithoutHost,!1),I0}function qI(e,t,i,c){return w0(e,t,i,c),I0(),qI}let ZC=(e,t,i,c,h,m)=>(El(!0),yy(c,h,function $l(){return ei.lFrame.currentNamespace}()));function T0(e,t,i){const c=zt(),h=$r(),m=e+nr,E=h.firstCreatePass?function xP(e,t,i,c,h){const m=t.consts,E=za(m,c),S=su(t,e,8,"ng-container",E);null!==E&&tw(S,E,!0);const P=za(m,h);return Qf()&&nw(t,i,S,P,Tt),S.mergedAttrs=Hc(S.mergedAttrs,S.attrs),null!==t.queries&&t.queries.elementStart(t,S),S}(m,h,c,t,i):h.data[m];Aa(E,!0);const S=eD(h,c,E,e);return c[m]=S,bl()&&yh(h,c,S,E),Za(S,c),j(E)&&(be(h,c,E),Lp(h,E,c)),null!=i&&Je(c,E),T0}function C0(){let e=pi();const t=$r();return xd()?Yf():(e=e.parent,Aa(e,!1)),t.firstCreatePass&&(sl(t,e),B(e)&&t.queries.elementEnd(e)),C0}let eD=(e,t,i,c)=>(El(!0),Lm(t[J],""));function tD(){return zt()}function QI(e,t,i){const c=zt();if(va(c,Sa(),t)){const m=$r(),E=ls();rr(m,E,c,e,t,Rf(Gu(m.data),E,c),i,!0)}return QI}const Xy=void 0;var OP=["en",[["a","p"],["AM","PM"],Xy],[["AM","PM"],Xy,Xy],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xy,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xy,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xy,"{1} 'at' {0}",Xy],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kP(e){const t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Xb={};function XI(e){const t=function NP(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=iD(t);if(i)return i;const c=t.split("-")[0];if(i=iD(c),i)return i;if("en"===c)return OP;throw new Dt(701,!1)}function rD(e){return XI(e)[Yb.PluralCase]}function iD(e){return e in Xb||(Xb[e]=Zn.ng&&Zn.ng.common&&Zn.ng.common.locales&&Zn.ng.common.locales[e]),Xb[e]}var Yb=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Yb||{});const D0="en-US";let sD=D0;function ID(e,t,i){return function c(h){if(h===Function)return i;_d(O(e)?qo(e.index,t):t,5);const E=t[ci];let S=TD(t,E,i,h),P=c.__ngNextListenerFn__;for(;P;)S=TD(t,E,P,h)&&S,P=P.__ngNextListenerFn__;return S}}function TD(e,t,i,c){const h=Oe(null);try{return Hi(6,t,i),!1!==i(c)}catch(m){return function IM(e,t){const i=e[F],c=i?i.get(Il,null):null;c&&c.handleError(t)}(e,m),!1}finally{Hi(7,t,i),Oe(h)}}function CD(e,t,i,c,h,m){const S=t[An],te=t[i][S.data[i].outputs[c]],ue=S.firstCreatePass?Lc(S):null,Be=ia(t),Ce=te.subscribe(m),ct=Be.length;Be.push(m,Ce),ue&&ue.push(h,e.index,ct,-(ct+1))}function JI(e,t,i,c){const h=zt(),m=$r(),E=pi();return eT(m,h,h[J],E,e,t,c),JI}function eT(e,t,i,c,h,m,E){const S=j(c),W=e.firstCreatePass?Lc(e):null,te=ia(t);let ue=!0;if(3&c.type||E){const Be=jo(c,t),Ce=E?E(Be):Be,ct=te.length,on=E?Gn=>E(xi(Gn[c.index])):c.index;let Bn=null;if(!E&&S&&(Bn=function TM(e,t,i,c){const h=e.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const E=h[m];if(E===i&&h[m+1]===c){const S=t[Cs],P=h[m+2];return S.length>P?S[P]:null}"string"==typeof E&&(m+=2)}return null}(e,t,h,c.index)),null!==Bn)(Bn.__ngLastListenerFn__||Bn).__ngNextListenerFn__=m,Bn.__ngLastListenerFn__=m,ue=!1;else{!function dm(e,t,i,c){Mp(e,t,i,c)}(t,Ce,h,m=ID(c,t,m));const Gn=i.listen(Ce,h,m);te.push(m,Gn),W&&W.push(h,on,ct,ct+1)}}else m=ID(c,t,m);if(ue){const Be=c.outputs?.[h],Ce=c.hostDirectiveOutputs?.[h];if(Ce&&Ce.length)for(let ct=0;ct<Ce.length;ct+=2)CD(c,t,Ce[ct],Ce[ct+1],h,m);if(Be&&Be.length)for(const ct of Be)CD(c,t,ct,h,h,m)}}function AD(e=1){return function cc(e){return(ei.lFrame.contextLView=function mg(e,t){for(;e>0;)t=t[Kn],e--;return t}(e,ei.lFrame.contextLView))[ci]}(e)}function LD(e,t,i,c){Ae(e,t,i,c)}function VD(e){const t=zt(),i=$r(),c=Od();Fh(c+1);const h=Wt(i,c);if(e.dirty&&function pu(e){return!(4&~e[Pr])}(t)===!(2&~h.metadata.flags)){if(null===h.matches)e.reset([]);else{const m=_n(t,c);e.reset(m,Tl),e.notifyOnChanges()}return!0}return!1}function BD(){return function q(e,t){return e[vs].queries[t].queryList}(zt(),Od())}function UD(e){return Ha(function Zf(){return ei.lFrame.contextLView}(),nr+e)}function XD(e,t=""){const i=zt(),c=$r(),h=e+nr,m=c.firstCreatePass?su(c,h,1,t,null):c.data[h],E=YD(c,i,m,t,e);i[h]=E,bl()&&yh(c,i,E,m),Aa(m,!1)}let YD=(e,t,i,c,h)=>(El(!0),function Jv(e,t){return e.createText(t)}(t[J],c));function nT(e){return x0("",e,""),nT}function x0(e,t,i){const c=zt(),h=Ub(c,e,t,i);return h!==di&&gg(c,Eo(),h),x0}function rT(e,t,i,c,h){const m=zt(),E=jb(m,e,t,i,c,h);return E!==di&&gg(m,Eo(),E),rT}function gg(e,t,i){const c=Nc(t,e);!function Gp(e,t,i){e.setValue(t,i)}(e[J],c,i)}function iT(e,t,i){Og(t)&&(t=t());const c=zt();return va(c,Sa(),t)&&rr($r(),ls(),c,e,t,c[J],i,!1),iT}function sA(e,t){const i=Og(e);return i&&e.set(t),i}function sT(e,t){const i=zt(),c=$r(),h=pi();return eT(c,i,i[J],h,e,t),sT}function oT(e,t,i,c,h){if(e=Hn(e),Array.isArray(e))for(let m=0;m<e.length;m++)oT(e[m],t,i,c,h);else{const m=$r(),E=zt(),S=pi();let P=G(e)?e:Hn(e.provide);const W=fl(e),te=1048575&S.providerIndexes,ue=S.directiveStart,Be=S.providerIndexes>>20;if(G(e)||!e.multi){const Ce=new ma(W,h,c_),ct=lT(P,t,h?te:te+Be,ue);-1===ct?(Eu(Wc(S,E),m,P),aT(m,e,t.length),t.push(P),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),i.push(Ce),E.push(Ce)):(i[ct]=Ce,E[ct]=Ce)}else{const Ce=lT(P,t,te+Be,ue),ct=lT(P,t,te,te+Be),Bn=ct>=0&&i[ct];if(h&&!Bn||!h&&!(Ce>=0&&i[Ce])){Eu(Wc(S,E),m,P);const Gn=function XM(e,t,i,c,h){const m=new ma(e,i,c_);return m.multi=[],m.index=t,m.componentProviders=0,lA(m,h,c&&!i),m}(h?QM:qM,i.length,h,c,W);!h&&Bn&&(i[ct].providerFactory=Gn),aT(m,e,t.length,0),t.push(P),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),i.push(Gn),E.push(Gn)}else aT(m,e,Ce>-1?Ce:ct,lA(i[h?ct:Ce],W,!h&&c));!h&&c&&Bn&&i[ct].componentProviders++}}}function aT(e,t,i,c){const h=G(t),m=function K(e){return!!e.useClass}(t);if(h||m){const P=(m?Hn(t.useClass):t).prototype.ngOnDestroy;if(P){const W=e.destroyHooks||(e.destroyHooks=[]);if(!h&&t.multi){const te=W.indexOf(i);-1===te?W.push(i,[c,P]):W[te+1].push(c,P)}else W.push(i,P)}}}function lA(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function lT(e,t,i,c){for(let h=i;h<c;h++)if(t[h]===e)return h;return-1}function qM(e,t,i,c,h){return cT(this.multi,[])}function QM(e,t,i,c,h){const m=this.multi;let E;if(this.providerFactory){const S=this.providerFactory.componentProviders,P=hc(c,c[An],this.providerFactory.index,h);E=P.slice(0,S),cT(m,E);for(let W=S;W<P.length;W++)E.push(P[W])}else E=[],cT(m,E);return E}function cT(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function cA(e,t=[]){return i=>{i.providersResolver=(c,h)=>function KM(e,t,i){const c=$r();if(c.firstCreatePass){const h=ee(e);oT(i,c.data,c.blueprint,h,!0),oT(t,c.data,c.blueprint,h,!1)}}(c,h?h(e):e,t)}}function dA(e,t,i){const c=Qo()+e,h=zt();return h[c]===di?$f(h,c,i?t.call(i):t()):function cw(e,t){return e[t]}(h,c)}function hA(e,t,i,c){return mA(zt(),Qo(),e,t,i,c)}function fA(e,t,i,c,h){return _A(zt(),Qo(),e,t,i,c,h)}function pA(e,t,i,c,h,m){return function yA(e,t,i,c,h,m,E,S){const P=t+i;return function p0(e,t,i,c,h){const m=Ky(e,t,i,c);return va(e,t+2,h)||m}(e,P,h,m,E)?$f(e,P+3,S?c.call(S,h,m,E):c(h,m,E)):bw(e,P+3)}(zt(),Qo(),e,t,i,c,h,m)}function gA(e,t,i,c,h,m,E){return function vA(e,t,i,c,h,m,E,S,P){const W=t+i;return function Cd(e,t,i,c,h,m){const E=Ky(e,t,i,c);return Ky(e,t+2,h,m)||E}(e,W,h,m,E,S)?$f(e,W+4,P?c.call(P,h,m,E,S):c(h,m,E,S)):bw(e,W+4)}(zt(),Qo(),e,t,i,c,h,m,E)}function bw(e,t){const i=e[t];return i===di?void 0:i}function mA(e,t,i,c,h,m){const E=t+i;return va(e,E,h)?$f(e,E+1,m?c.call(m,h):c(h)):bw(e,E+1)}function _A(e,t,i,c,h,m,E){const S=t+i;return Ky(e,S,h,m)?$f(e,S+2,E?c.call(E,h,m):c(h,m)):bw(e,S+2)}function EA(e,t){const i=$r();let c;const h=e+nr;i.firstCreatePass?(c=function s1(e,t){if(t)for(let i=t.length-1;i>=0;i--){const c=t[i];if(e===c.name)return c}}(t,i.pipeRegistry),i.data[h]=c,c.onDestroy&&(i.destroyHooks??=[]).push(h,c.onDestroy)):c=i.data[h];const m=c.factory||(c.factory=No(c.type)),S=Fi(c_);try{const P=Ud(!1),W=m();return Ud(P),function Ca(e,t,i,c){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=c}(i,zt(),h,W),W}finally{Fi(S)}}function wA(e,t,i){const c=e+nr,h=zt(),m=Ha(h,c);return Ew(h,c)?mA(h,Qo(),t,m.transform,i,m):m.transform(i)}function IA(e,t,i,c){const h=e+nr,m=zt(),E=Ha(m,h);return Ew(m,h)?_A(m,Qo(),t,E.transform,i,c,E):E.transform(i,c)}function Ew(e,t){return e[An].data[t].pure}class jA{full;major;minor;patch;constructor(t){this.full=t;const i=t.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const L1=new jA("19.2.14");class V1{ngModuleFactory;componentFactories;constructor(t,i){this.ngModuleFactory=t,this.componentFactories=i}}let B1=(()=>{class e{compileModuleSync(i){return new mI(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const c=this.compileModuleSync(i),m=Fu(Ls(i).declarations).reduce((E,S)=>{const P=Jr(S);return P&&E.push(new Wy(P)),E},[]);return new V1(c,m)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static \u0275fac=function(c){return new(c||e)};static \u0275prov=tt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$1=(()=>{class e{zone=jn(Hs);changeDetectionScheduler=jn(Yo);applicationRef=jn(Hu);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(c){return new(c||e)};static \u0275prov=tt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function pT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:i}){return e??=()=>new Hs({...gT(),scheduleInRootZone:i}),[{provide:Hs,useFactory:e},{provide:os,multi:!0,useFactory:()=>{const c=jn($1,{optional:!0});return()=>c.initialize()}},{provide:os,multi:!0,useFactory:()=>{const c=jn(z1);return()=>{c.initialize()}}},!0===t?{provide:op,useValue:!0}:[],{provide:Dg,useValue:i??Tu}]}function gT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let z1=(()=>{class e{subscription=new Gr.yU;initialized=!1;zone=jn(Hs);pendingTasks=jn(Cu);initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Hs.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Hs.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(c){return new(c||e)};static \u0275prov=tt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Iw=(()=>{class e{appRef=jn(Hu);taskService=jn(Cu);ngZone=jn(Hs);zonelessEnabled=jn(Gc);tracing=jn(ld,{optional:!0});disableScheduling=jn(op,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Gr.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Sg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(jn(Dg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Du||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;let c=!1;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,c=!0;break;case 12:this.appRef.dirtyFlags|=16,c=!0;break;case 11:c=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(c))return;const h=this.useMicrotaskScheduler?v_:y_;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>h(()=>this.tick())):this.ngZone.runOutsideAngular(()=>h(()=>this.tick()))}shouldScheduleTick(i){return!(this.disableScheduling&&!i||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Sg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(c){throw this.taskService.remove(i),c}finally{this.cleanup()}this.useMicrotaskScheduler=!0,v_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static \u0275fac=function(c){return new(c||e)};static \u0275prov=tt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const _T=new Ne("",{providedIn:"root",factory:()=>jn(_T,ur.Optional|ur.SkipSelf)||function W1(){return typeof $localize<"u"&&$localize.locale||D0}()}),G1=new Ne("",{providedIn:"root",factory:()=>"USD"}),O0=new Ne(""),Y1=new Ne("");function Tw(e){return!e.moduleRef}let g_=null;function rk(){return!1}let ZA=(()=>class e{static __NG_ELEMENT_ID__=ik})();function ik(e){return function sk(e,t,i){if(O(e)&&!i){const c=qo(e.index,t);return new Uu(c,c)}return 175&e.type?new Uu(t[Or],t):null}(pi(),zt(),!(16&~e))}class nS{constructor(){}supports(t){return f0(t)}create(t){return new uk(t)}}const ck=(e,t)=>t;class uk{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||ck}forEachItem(t){let i;for(i=this._itHead;null!==i;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,c=this._removalsHead,h=0,m=null;for(;i||c;){const E=!c||i&&i.currentIndex<iS(c,h,m)?i:c,S=iS(E,h,m),P=E.currentIndex;if(E===c)h--,c=c._nextRemoved;else if(i=i._next,null==E.previousIndex)h++;else{m||(m=[]);const W=S-h,te=P-h;if(W!=te){for(let Be=0;Be<W;Be++){const Ce=Be<m.length?m[Be]:m[Be]=0,ct=Ce+Be;te<=ct&&ct<W&&(m[Be]=Ce+1)}m[E.previousIndex]=te-W}}S!==P&&t(E,S,P)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)t(i)}diff(t){if(null==t&&(t=[]),!f0(t))throw new Dt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let h,m,E,i=this._itHead,c=!1;if(Array.isArray(t)){this.length=t.length;for(let S=0;S<this.length;S++)m=t[S],E=this._trackByFn(S,m),null!==i&&Object.is(i.trackById,E)?(c&&(i=this._verifyReinsertion(i,m,E,S)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,E,S),c=!0),i=i._next}else h=0,function eR(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[Symbol.iterator]();let c;for(;!(c=i.next()).done;)t(c.value)}}(t,S=>{E=this._trackByFn(h,S),null!==i&&Object.is(i.trackById,E)?(c&&(i=this._verifyReinsertion(i,S,E,h)),Object.is(i.item,S)||this._addIdentityChange(i,S)):(i=this._mismatch(i,S,E,h),c=!0),i=i._next,h++}),this.length=h;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,c,h){let m;return null===t?m=this._itTail:(m=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,m,h)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,m,h)):t=this._addAfter(new dk(i,c),m,h),t}_verifyReinsertion(t,i,c,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==m?t=this._reinsertAfter(m,t._prev,h):t.currentIndex!=h&&(t.currentIndex=h,this._addToMoves(t,h)),t}_truncate(t){for(;null!==t;){const i=t._next;this._addToRemovals(this._unlink(t)),t=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const h=t._prevRemoved,m=t._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(t,i,c),this._addToMoves(t,c),t}_moveAfter(t,i,c){return this._unlink(t),this._insertAfter(t,i,c),this._addToMoves(t,c),t}_addAfter(t,i,c){return this._insertAfter(t,i,c),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,i,c){const h=null===i?this._itHead:i._next;return t._next=h,t._prev=i,null===h?this._itTail=t:h._prev=t,null===i?this._itHead=t:i._next=t,null===this._linkedRecords&&(this._linkedRecords=new rS),this._linkedRecords.put(t),t.currentIndex=c,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const i=t._prev,c=t._next;return null===i?this._itHead=c:i._next=c,null===c?this._itTail=i:c._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class dk{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,i){this.item=t,this.trackById=i}}class hk{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===i||i<=c.currentIndex)&&Object.is(c.trackById,t))return c;return null}remove(t){const i=t._prevDup,c=t._nextDup;return null===i?this._head=c:i._nextDup=c,null===c?this._tail=i:c._prevDup=i,null===this._head}}class rS{map=new Map;put(t){const i=t.trackById;let c=this.map.get(i);c||(c=new hk,this.map.set(i,c)),c.add(t)}get(t,i){const h=this.map.get(t);return h?h.get(t,i):null}remove(t){const i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iS(e,t,i){const c=e.previousIndex;if(null===c)return c;let h=0;return i&&c<i.length&&(h=i[c]),c+t+h}class sS{constructor(){}supports(t){return t instanceof Map||wI(t)}create(){return new fk}}class fk{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let i;for(i=this._mapHead;null!==i;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}diff(t){if(t){if(!(t instanceof Map||wI(t)))throw new Dt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(c,h)=>{if(i&&i.key===h)this._maybeAddToChanges(i,c),this._appendAfter=i,i=i._next;else{const m=this._getOrCreateRecordForKey(h,c);i=this._insertBeforeOrAppend(i,m)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let c=i;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){const c=t._prev;return i._next=t,i._prev=c,t._prev=i,c&&(c._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){const h=this._records.get(t);this._maybeAddToChanges(h,i);const m=h._prev,E=h._next;return m&&(m._next=E),E&&(E._prev=m),h._next=null,h._prev=null,h}const c=new pk(t);return this._records.set(t,c),c.currentValue=i,this._addToAdditions(c),c}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(c=>i(t[c],c))}}class pk{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function oS(){return new wT([new nS])}let wT=(()=>{class e{factories;static \u0275prov=tt({token:e,providedIn:"root",factory:oS});constructor(i){this.factories=i}static create(i,c){if(null!=c){const h=c.factories.slice();i=i.concat(h)}return new e(i)}static extend(i){return{provide:e,useFactory:c=>e.create(i,c||oS()),deps:[[e,new uo,new si]]}}find(i){const c=this.factories.find(h=>h.supports(i));if(null!=c)return c;throw new Dt(901,!1)}}return e})();function aS(){return new IT([new sS])}let IT=(()=>{class e{static \u0275prov=tt({token:e,providedIn:"root",factory:aS});factories;constructor(i){this.factories=i}static create(i,c){if(c){const h=c.factories.slice();i=i.concat(h)}return new e(i)}static extend(i){return{provide:e,useFactory:c=>e.create(i,c||aS()),deps:[[e,new uo,new si]]}}find(i){const c=this.factories.find(h=>h.supports(i));if(c)return c;throw new Dt(901,!1)}}return e})();function _k(e){Hi(8);try{const{rootComponent:t,appProviders:i,platformProviders:c}=e,h=function nk(e=[]){if(g_)return g_;const t=function QA(e=[],t){return $o.create({name:t,providers:[{provide:L,useValue:"platform"},{provide:O0,useValue:new Set([()=>g_=null])},...e]})}(e);return g_=t,function pC(){!function st(e){On=e}(()=>{throw new Dt(600,!1)})}(),function XA(e){const t=e.get(k_,null);Na(e,()=>{t?.forEach(i=>i())})}(t),t}(c),m=[pT({}),{provide:Yo,useExisting:Iw},...i||[]];return function GA(e){const t=Tw(e)?e.r3Injector:e.moduleRef.injector,i=t.get(Hs);return i.run(()=>{Tw(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const c=t.get(Il,null);let h;if(i.runOutsideAngular(()=>{h=i.onError.subscribe({next:m=>{c.handleError(m)}})}),Tw(e)){const m=()=>t.destroy(),E=e.platformInjector.get(O0);E.add(m),t.onDestroy(()=>{h.unsubscribe(),E.delete(m)})}else{const m=()=>e.moduleRef.destroy(),E=e.platformInjector.get(O0);E.add(m),e.moduleRef.onDestroy(()=>{y0(e.allPlatformModules,e.moduleRef),h.unsubscribe(),E.delete(m)})}return function J1(e,t,i){try{const c=i();return PI(c)?c.catch(h=>{throw t.runOutsideAngular(()=>e.handleError(h)),h}):c}catch(c){throw t.runOutsideAngular(()=>e.handleError(c)),c}}(c,i,()=>{const m=t.get(fC);return m.runInitializers(),m.donePromise.then(()=>{if(function BP(e){"string"==typeof e&&(sD=e.toLowerCase().replace(/_/g,"-"))}(t.get(_T,D0)||D0),!t.get(Y1,!0))return Tw(e)?t.get(Hu):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Tw(e)){const P=t.get(Hu);return void 0!==e.rootComponent&&P.bootstrap(e.rootComponent),P}return function Z1(e,t){const i=e.injector.get(Hu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(c=>i.bootstrap(c));else{if(!e.instance.ngDoBootstrap)throw new Dt(-403,!1);e.instance.ngDoBootstrap(i)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new FT({providers:m,parent:h,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:h,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Hi(9)}}function Bk(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function xh(e){return function mr(e){const t=Oe(null);try{return e()}finally{Oe(t)}}(e)}function Dw(e,t){return function lr(e,t){const i=Object.create(Wn);i.computation=e,void 0!==t&&(i.equal=t);const c=()=>{if(Ct(i),At(i),i.value===bt)throw i.error;return i.value};return c[pt]=i,c}(e,t?.equal)}class zk{[pt];constructor(t){this[pt]=t}destroy(){this[pt].destroy()}}function CT(e,t){!t?.injector&&Lo();const i=t?.injector??jn($o);let h,c=!0!==t?.manualCleanup?i.get(_a):null;const m=i.get(qg,null,{optional:!0}),E=i.get(Yo);return null===m||t?.forceRoot?h=function qk(e,t,i){const c=Object.create(Wk);return c.fn=e,c.scheduler=t,c.notifier=i,c.zone=typeof Zone<"u"?Zone.current:null,c.scheduler.schedule(c),c.notifier.notify(12),c}(e,i.get(uC),E):(h=function Kk(e,t,i){const c=Object.create(Gk);return c.view=e,c.zone=typeof Zone<"u"?Zone.current:null,c.notifier=t,c.fn=i,e[Ia]??=new Set,e[Ia].add(c),c.consumerMarkedDirty(c),c}(m.view,E,e),c instanceof sp&&c._lView===m.view&&(c=null)),h.injector=i,null!==c&&(h.onDestroyFn=c.onDestroy(()=>h.destroy())),new zk(h)}const ES={...Fe,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:$d,run(){if(this.dirty=!1,this.hasRun&&!Kt(this))return;this.hasRun=!0;const e=c=>(this.cleanupFns??=[]).push(c),t=Ut(this),i=gu(!1);try{this.maybeCleanup(),this.fn(e)}finally{gu(i),Gt(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},Wk={...ES,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Qe(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},Gk={...ES,consumerMarkedDirty(){this.view[Pr]|=8192,Ms(this.view),this.notifier.notify(13)},destroy(){Qe(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Ia]?.delete(this)}};function oO(e){const t=Jr(e);if(!t)return null;const i=new Wy(t);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1362:(qn,ot,Q)=>{"use strict";Q.d(ot,{h1:()=>Le,uA:()=>le});var T=Q(467),z=Q(6858);class le{constructor(Ve,Fe,At){this.name=Ve,this.instanceFactory=Fe,this.type=At,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ve){return this.instantiationMode=Ve,this}setMultipleInstances(Ve){return this.multipleInstances=Ve,this}setServiceProps(Ve){return this.serviceProps=Ve,this}setInstanceCreatedCallback(Ve){return this.onInstanceCreated=Ve,this}}const A="[DEFAULT]";class We{constructor(Ve,Fe){this.name=Ve,this.container=Fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ve){const Fe=this.normalizeInstanceIdentifier(Ve);if(!this.instancesDeferred.has(Fe)){const At=new z.cY;if(this.instancesDeferred.set(Fe,At),this.isInitialized(Fe)||this.shouldAutoInitialize())try{const yt=this.getOrInitializeService({instanceIdentifier:Fe});yt&&At.resolve(yt)}catch{}}return this.instancesDeferred.get(Fe).promise}getImmediate(Ve){var Fe;const At=this.normalizeInstanceIdentifier(Ve?.identifier),yt=null!==(Fe=Ve?.optional)&&void 0!==Fe&&Fe;if(!this.isInitialized(At)&&!this.shouldAutoInitialize()){if(yt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:At})}catch(Ct){if(yt)return null;throw Ct}}getComponent(){return this.component}setComponent(Ve){if(Ve.name!==this.name)throw Error(`Mismatching Component ${Ve.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ve,this.shouldAutoInitialize()){if(function Oe(at){return"EAGER"===at.instantiationMode}(Ve))try{this.getOrInitializeService({instanceIdentifier:A})}catch{}for(const[Fe,At]of this.instancesDeferred.entries()){const yt=this.normalizeInstanceIdentifier(Fe);try{const Ct=this.getOrInitializeService({instanceIdentifier:yt});At.resolve(Ct)}catch{}}}}clearInstance(Ve=A){this.instancesDeferred.delete(Ve),this.instancesOptions.delete(Ve),this.instances.delete(Ve)}delete(){var Ve=this;return(0,T.A)(function*(){const Fe=Array.from(Ve.instances.values());yield Promise.all([...Fe.filter(At=>"INTERNAL"in At).map(At=>At.INTERNAL.delete()),...Fe.filter(At=>"_delete"in At).map(At=>At._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ve=A){return this.instances.has(Ve)}getOptions(Ve=A){return this.instancesOptions.get(Ve)||{}}initialize(Ve={}){const{options:Fe={}}=Ve,At=this.normalizeInstanceIdentifier(Ve.instanceIdentifier);if(this.isInitialized(At))throw Error(`${this.name}(${At}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const yt=this.getOrInitializeService({instanceIdentifier:At,options:Fe});for(const[Ct,Qt]of this.instancesDeferred.entries())At===this.normalizeInstanceIdentifier(Ct)&&Qt.resolve(yt);return yt}onInit(Ve,Fe){var At;const yt=this.normalizeInstanceIdentifier(Fe),Ct=null!==(At=this.onInitCallbacks.get(yt))&&void 0!==At?At:new Set;Ct.add(Ve),this.onInitCallbacks.set(yt,Ct);const Qt=this.instances.get(yt);return Qt&&Ve(Qt,yt),()=>{Ct.delete(Ve)}}invokeOnInitCallbacks(Ve,Fe){const At=this.onInitCallbacks.get(Fe);if(At)for(const yt of At)try{yt(Ve,Fe)}catch{}}getOrInitializeService({instanceIdentifier:Ve,options:Fe={}}){let At=this.instances.get(Ve);if(!At&&this.component&&(At=this.component.instanceFactory(this.container,{instanceIdentifier:(at=Ve,at===A?void 0:at),options:Fe}),this.instances.set(Ve,At),this.instancesOptions.set(Ve,Fe),this.invokeOnInitCallbacks(At,Ve),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ve,At)}catch{}var at;return At||null}normalizeInstanceIdentifier(Ve=A){return this.component?this.component.multipleInstances?Ve:A:Ve}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Le{constructor(Ve){this.name=Ve,this.providers=new Map}addComponent(Ve){const Fe=this.getProvider(Ve.name);if(Fe.isComponentSet())throw new Error(`Component ${Ve.name} has already been registered with ${this.name}`);Fe.setComponent(Ve)}addOrOverwriteComponent(Ve){this.getProvider(Ve.name).isComponentSet()&&this.providers.delete(Ve.name),this.addComponent(Ve)}getProvider(Ve){if(this.providers.has(Ve))return this.providers.get(Ve);const Fe=new We(Ve,this);return this.providers.set(Ve,Fe),Fe}getProviders(){return Array.from(this.providers.values())}}},1397:(qn,ot,Q)=>{"use strict";Q.d(ot,{Z:()=>Le});var T=Q(6354),z=Q(8750),le=Q(9974),A=Q(5225),We=Q(4360),Oe=Q(8071);function Le(at,Ve,Fe=1/0){return(0,Oe.T)(Ve)?Le((At,yt)=>(0,T.T)((Ct,Qt)=>Ve(At,Ct,yt,Qt))((0,z.Tg)(at(At,yt))),Fe):("number"==typeof Ve&&(Fe=Ve),(0,le.N)((At,yt)=>function pt(at,Ve,Fe,At,yt,Ct,Qt,Zt){const un=[];let In=0,Ut=0,Gt=!1;const Kt=()=>{Gt&&!un.length&&!In&&Ve.complete()},Qe=ht=>In<At?vt(ht):un.push(ht),vt=ht=>{Ct&&Ve.next(ht),In++;let kt=!1;(0,z.Tg)(Fe(ht,Ut++)).subscribe((0,We._)(Ve,hn=>{yt?.(hn),Ct?Qe(hn):Ve.next(hn)},()=>{kt=!0},void 0,()=>{if(kt)try{for(In--;un.length&&In<At;){const hn=un.shift();Qt?(0,A.N)(Ve,Qt,()=>vt(hn)):vt(hn)}Kt()}catch(hn){Ve.error(hn)}}))};return at.subscribe((0,We._)(Ve,Qe,()=>{Gt=!0,Kt()})),()=>{Zt?.()}}(At,yt,at,Fe)))}},1413:(qn,ot,Q)=>{"use strict";Q.d(ot,{B:()=>Oe});var T=Q(1985),z=Q(8359);const A=(0,Q(1853).L)(at=>function(){at(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=Q(7908),pt=Q(9786);let Oe=(()=>{class at extends T.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Fe){const At=new Le(this,this);return At.operator=Fe,At}_throwIfClosed(){if(this.closed)throw new A}next(Fe){(0,pt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const At of this.currentObservers)At.next(Fe)}})}error(Fe){(0,pt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Fe;const{observers:At}=this;for(;At.length;)At.shift().error(Fe)}})}complete(){(0,pt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Fe}=this;for(;Fe.length;)Fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Fe;return(null===(Fe=this.observers)||void 0===Fe?void 0:Fe.length)>0}_trySubscribe(Fe){return this._throwIfClosed(),super._trySubscribe(Fe)}_subscribe(Fe){return this._throwIfClosed(),this._checkFinalizedStatuses(Fe),this._innerSubscribe(Fe)}_innerSubscribe(Fe){const{hasError:At,isStopped:yt,observers:Ct}=this;return At||yt?z.Kn:(this.currentObservers=null,Ct.push(Fe),new z.yU(()=>{this.currentObservers=null,(0,We.o)(Ct,Fe)}))}_checkFinalizedStatuses(Fe){const{hasError:At,thrownError:yt,isStopped:Ct}=this;At?Fe.error(yt):Ct&&Fe.complete()}asObservable(){const Fe=new T.c;return Fe.source=this,Fe}}return at.create=(Ve,Fe)=>new Le(Ve,Fe),at})();class Le extends Oe{constructor(Ve,Fe){super(),this.destination=Ve,this.source=Fe}next(Ve){var Fe,At;null===(At=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.next)||void 0===At||At.call(Fe,Ve)}error(Ve){var Fe,At;null===(At=null===(Fe=this.destination)||void 0===Fe?void 0:Fe.error)||void 0===At||At.call(Fe,Ve)}complete(){var Ve,Fe;null===(Fe=null===(Ve=this.destination)||void 0===Ve?void 0:Ve.complete)||void 0===Fe||Fe.call(Ve)}_subscribe(Ve){var Fe,At;return null!==(At=null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(Ve))&&void 0!==At?At:z.Kn}}},1635:(qn,ot,Q)=>{"use strict";function A(de,Te){var De={};for(var xe in de)Object.prototype.hasOwnProperty.call(de,xe)&&Te.indexOf(xe)<0&&(De[xe]=de[xe]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(xe=Object.getOwnPropertySymbols(de);me<xe.length;me++)Te.indexOf(xe[me])<0&&Object.prototype.propertyIsEnumerable.call(de,xe[me])&&(De[xe[me]]=de[xe[me]])}return De}function At(de,Te,De,xe){return new(De||(De=Promise))(function(Re,ft){function jt(Dr){try{En(xe.next(Dr))}catch(Xt){ft(Xt)}}function Rn(Dr){try{En(xe.throw(Dr))}catch(Xt){ft(Xt)}}function En(Dr){Dr.done?Re(Dr.value):function me(Re){return Re instanceof De?Re:new De(function(ft){ft(Re)})}(Dr.value).then(jt,Rn)}En((xe=xe.apply(de,Te||[])).next())})}function Kt(de){return this instanceof Kt?(this.v=de,this):new Kt(de)}function Qe(de,Te,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,xe=De.apply(de,Te||[]),Re=[];return me=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),jt("next"),jt("throw"),jt("return",function ft(mr){return function(gn){return Promise.resolve(gn).then(mr,Xt)}}),me[Symbol.asyncIterator]=function(){return this},me;function jt(mr,gn){xe[mr]&&(me[mr]=function(ar){return new Promise(function(Ar,Lr){Re.push([mr,ar,Ar,Lr])>1||Rn(mr,ar)})},gn&&(me[mr]=gn(me[mr])))}function Rn(mr,gn){try{!function En(mr){mr.value instanceof Kt?Promise.resolve(mr.value.v).then(Dr,Xt):gr(Re[0][2],mr)}(xe[mr](gn))}catch(ar){gr(Re[0][3],ar)}}function Dr(mr){Rn("next",mr)}function Xt(mr){Rn("throw",mr)}function gr(mr,gn){mr(gn),Re.shift(),Re.length&&Rn(Re[0][0],Re[0][1])}}function ht(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,Te=de[Symbol.asyncIterator];return Te?Te.call(de):(de=function Zt(de){var Te="function"==typeof Symbol&&Symbol.iterator,De=Te&&de[Te],xe=0;if(De)return De.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&xe>=de.length&&(de=void 0),{value:de&&de[xe++],done:!de}}};throw new TypeError(Te?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),De={},xe("next"),xe("throw"),xe("return"),De[Symbol.asyncIterator]=function(){return this},De);function xe(Re){De[Re]=de[Re]&&function(ft){return new Promise(function(jt,Rn){!function me(Re,ft,jt,Rn){Promise.resolve(Rn).then(function(En){Re({value:En,done:jt})},ft)}(jt,Rn,(ft=de[Re](ft)).done,ft.value)})}}}Q.d(ot,{AQ:()=>Qe,N3:()=>Kt,Tt:()=>A,sH:()=>At,xN:()=>ht}),"function"==typeof SuppressedError&&SuppressedError},1853:(qn,ot,Q)=>{"use strict";function T(z){const A=z(We=>{Error.call(We),We.stack=(new Error).stack});return A.prototype=Object.create(Error.prototype),A.prototype.constructor=A,A}Q.d(ot,{L:()=>T})},1985:(qn,ot,Q)=>{"use strict";Q.d(ot,{c:()=>Le});var T=Q(7707),z=Q(8359),le=Q(3494),A=Q(1203),We=Q(1026),pt=Q(8071),Oe=Q(9786);let Le=(()=>{class At{constructor(Ct){Ct&&(this._subscribe=Ct)}lift(Ct){const Qt=new At;return Qt.source=this,Qt.operator=Ct,Qt}subscribe(Ct,Qt,Zt){const un=function Fe(At){return At&&At instanceof T.vU||function Ve(At){return At&&(0,pt.T)(At.next)&&(0,pt.T)(At.error)&&(0,pt.T)(At.complete)}(At)&&(0,z.Uv)(At)}(Ct)?Ct:new T.Ms(Ct,Qt,Zt);return(0,Oe.Y)(()=>{const{operator:In,source:Ut}=this;un.add(In?In.call(un,Ut):Ut?this._subscribe(un):this._trySubscribe(un))}),un}_trySubscribe(Ct){try{return this._subscribe(Ct)}catch(Qt){Ct.error(Qt)}}forEach(Ct,Qt){return new(Qt=at(Qt))((Zt,un)=>{const In=new T.Ms({next:Ut=>{try{Ct(Ut)}catch(Gt){un(Gt),In.unsubscribe()}},error:un,complete:Zt});this.subscribe(In)})}_subscribe(Ct){var Qt;return null===(Qt=this.source)||void 0===Qt?void 0:Qt.subscribe(Ct)}[le.s](){return this}pipe(...Ct){return(0,A.m)(Ct)(this)}toPromise(Ct){return new(Ct=at(Ct))((Qt,Zt)=>{let un;this.subscribe(In=>un=In,In=>Zt(In),()=>Qt(un))})}}return At.create=yt=>new At(yt),At})();function at(At){var yt;return null!==(yt=At??We.$.Promise)&&void 0!==yt?yt:Promise}},2107:(qn,ot,Q)=>{"use strict";Q.d(ot,{wc:()=>vo,c7:()=>Ys,Xm:()=>Li});var T=Q(2967),z=Q(1360),le=Q(7440),A=Q(4125),We=Q(6335),pt=Q(2214),Oe=Q(467),Le=Q(7852),at=Q(6858),Ve=Q(1362);const Fe="firebasestorage.googleapis.com";class Zt extends at.g{constructor(re,ke,Ke=0){super(In(re),`Firebase Storage: ${ke} (${In(re)})`),this.status_=Ke,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zt.prototype)}get status(){return this.status_}set status(re){this.status_=re}_codeEquals(re){return In(re)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(re){this.customData.serverResponse=re,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var un=function(ie){return ie.UNKNOWN="unknown",ie.OBJECT_NOT_FOUND="object-not-found",ie.BUCKET_NOT_FOUND="bucket-not-found",ie.PROJECT_NOT_FOUND="project-not-found",ie.QUOTA_EXCEEDED="quota-exceeded",ie.UNAUTHENTICATED="unauthenticated",ie.UNAUTHORIZED="unauthorized",ie.UNAUTHORIZED_APP="unauthorized-app",ie.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ie.INVALID_CHECKSUM="invalid-checksum",ie.CANCELED="canceled",ie.INVALID_EVENT_NAME="invalid-event-name",ie.INVALID_URL="invalid-url",ie.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ie.NO_DEFAULT_BUCKET="no-default-bucket",ie.CANNOT_SLICE_BLOB="cannot-slice-blob",ie.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ie.NO_DOWNLOAD_URL="no-download-url",ie.INVALID_ARGUMENT="invalid-argument",ie.INVALID_ARGUMENT_COUNT="invalid-argument-count",ie.APP_DELETED="app-deleted",ie.INVALID_ROOT_OPERATION="invalid-root-operation",ie.INVALID_FORMAT="invalid-format",ie.INTERNAL_ERROR="internal-error",ie.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ie}(un||{});function In(ie){return"storage/"+ie}function Ot(ie){return new Zt(un.INVALID_ARGUMENT,ie)}function On(){return new Zt(un.APP_DELETED,"The Firebase app was deleted.")}class Te{constructor(re,ke){this.bucket=re,this.path_=ke}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const re=encodeURIComponent;return"/b/"+re(this.bucket)+"/o/"+re(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(re,ke){let Ke;try{Ke=Te.makeFromUrl(re,ke)}catch{return new Te(re,"")}if(""===Ke.path)return Ke;throw function Pt(ie){return new Zt(un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+ie+"'.")}(re)}static makeFromUrl(re,ke){let Ke=null;const It="([A-Za-z0-9.\\-_]+)",Jn=new RegExp("^gs://"+It+"(/(.*))?$","i");function Ur(Pn){Pn.path_=decodeURIComponent(Pn.path)}const ii=ke.replace(/[.]/g,"\\."),Ue=[{regex:Jn,indices:{bucket:1,path:3},postModify:function tn(Pn){"/"===Pn.path.charAt(Pn.path.length-1)&&(Pn.path_=Pn.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ii}/v[A-Za-z0-9_]+/b/${It}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ur},{regex:new RegExp(`^https?://${ke===Fe?"(?:storage.googleapis.com|storage.cloud.google.com)":ke}/${It}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ur}];for(let Pn=0;Pn<Ue.length;Pn++){const dr=Ue[Pn],jr=dr.regex.exec(re);if(jr){let Ps=jr[dr.indices.path];Ps||(Ps=""),Ke=new Te(jr[dr.indices.bucket],Ps),dr.postModify(Ke);break}}if(null==Ke)throw function xt(ie){return new Zt(un.INVALID_URL,"Invalid URL '"+ie+"'.")}(re);return Ke}}class De{constructor(re){this.promise_=Promise.reject(re)}getPromise(){return this.promise_}cancel(re=!1){}}function Xt(ie,re,ke,Ke){if(Ke<re)throw Ot(`Invalid value for '${ie}'. Expected ${re} or greater.`);if(Ke>ke)throw Ot(`Invalid value for '${ie}'. Expected ${ke} or less.`)}var gn=function(ie){return ie[ie.NO_ERROR=0]="NO_ERROR",ie[ie.NETWORK_ERROR=1]="NETWORK_ERROR",ie[ie.ABORT=2]="ABORT",ie}(gn||{});class Ar{constructor(re,ke,Ke,It,tn,bn,Jn,zn,Ur,Ir,ii,Zi=!0,Ki=!1){this.url_=re,this.method_=ke,this.headers_=Ke,this.body_=It,this.successCodes_=tn,this.additionalRetryCodes_=bn,this.callback_=Jn,this.errorCallback_=zn,this.timeout_=Ur,this.progressCallback_=Ir,this.connectionFactory_=ii,this.retry=Zi,this.isUsingEmulator=Ki,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_s,G)=>{this.resolve_=_s,this.reject_=G,this.start_()})}start_(){const ke=(Ke,It)=>{const tn=this.resolve_,bn=this.reject_,Jn=It.connection;if(It.wasSuccessCode)try{const zn=this.callback_(Jn,Jn.getResponse());!function Re(ie){return void 0!==ie}(zn)?tn():tn(zn)}catch(zn){bn(zn)}else if(null!==Jn){const zn=function Ut(){return new Zt(un.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();zn.serverResponse=Jn.getErrorText(),bn(this.errorCallback_?this.errorCallback_(Jn,zn):zn)}else bn(It.canceled?this.appDelete_?On():function hn(){return new Zt(un.CANCELED,"User canceled the upload/download.")}():function kt(){return new Zt(un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?ke(0,new Lr(!1,null,!0)):this.backoffId_=function xe(ie,re,ke){let Ke=1,It=null,tn=null,bn=!1,Jn=0;function zn(){return 2===Jn}let Ur=!1;function Ir(...K){Ur||(Ur=!0,re.apply(null,K))}function ii(K){It=setTimeout(()=>{It=null,ie(Ki,zn())},K)}function Zi(){tn&&clearTimeout(tn)}function Ki(K,...L){if(Ur)return void Zi();if(K)return Zi(),void Ir.call(null,K,...L);if(zn()||bn)return Zi(),void Ir.call(null,K,...L);let Ue;Ke<64&&(Ke*=2),1===Jn?(Jn=2,Ue=0):Ue=1e3*(Ke+Math.random()),ii(Ue)}let _s=!1;function G(K){_s||(_s=!0,Zi(),!Ur&&(null!==It?(K||(Jn=2),clearTimeout(It),ii(0)):K||(Jn=1)))}return ii(0),tn=setTimeout(()=>{bn=!0,G(!0)},ke),G}((Ke,It)=>{if(It)return void Ke(!1,new Lr(!1,null,!0));const tn=this.connectionFactory_();this.pendingConnection_=tn;const bn=Jn=>{null!==this.progressCallback_&&this.progressCallback_(Jn.loaded,Jn.lengthComputable?Jn.total:-1)};null!==this.progressCallback_&&tn.addUploadProgressListener(bn),tn.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&tn.removeUploadProgressListener(bn),this.pendingConnection_=null;const Jn=tn.getErrorCode()===gn.NO_ERROR,zn=tn.getStatus();if(!Jn||function ar(ie,re){const ke=ie>=500&&ie<600,It=-1!==[408,429].indexOf(ie),tn=-1!==re.indexOf(ie);return ke||It||tn}(zn,this.additionalRetryCodes_)&&this.retry){const Ir=tn.getErrorCode()===gn.ABORT;return void Ke(!1,new Lr(!1,null,Ir))}const Ur=-1!==this.successCodes_.indexOf(zn);Ke(!0,new Lr(Ur,tn))})},ke,this.timeout_)}getPromise(){return this.promise_}cancel(re){this.canceled_=!0,this.appDelete_=re||!1,null!==this.backoffId_&&function me(ie){ie(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Lr{constructor(re,ke,Ke){this.wasSuccessCode=re,this.connection=ke,this.canceled=!!Ke}}class Nr{constructor(re,ke){this._service=re,this._location=ke instanceof Te?ke:Te.makeFromUrl(ke,re.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(re,ke){return new Nr(re,ke)}get root(){const re=new Te(this._location.bucket,"");return this._newRef(this._service,re)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function Zn(ie){const re=ie.lastIndexOf("/",ie.length-2);return-1===re?ie:ie.slice(re+1)}(this._location.path)}get storage(){return this._service}get parent(){const re=function rs(ie){if(0===ie.length)return null;const re=ie.lastIndexOf("/");return-1===re?"":ie.slice(0,re)}(this._location.path);if(null===re)return null;const ke=new Te(this._location.bucket,re);return new Nr(this._service,ke)}_throwIfRoot(re){if(""===this._location.path)throw function rn(ie){return new Zt(un.INVALID_ROOT_OPERATION,"The operation '"+ie+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(re)}}function Wr(ie,re){const ke=re?.storageBucket;return null==ke?null:Te.makeFromBucketSpec(ke,ie)}class ni{constructor(re,ke,Ke,It,tn,bn=!1){this.app=re,this._authProvider=ke,this._appCheckProvider=Ke,this._url=It,this._firebaseVersion=tn,this._isUsingEmulator=bn,this._bucket=null,this._host=Fe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=It?Te.makeFromBucketSpec(It,this._host):Wr(this._host,this.app.options)}get host(){return this._host}set host(re){this._host=re,this._bucket=null!=this._url?Te.makeFromBucketSpec(this._url,re):Wr(re,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(re){Xt("time",0,Number.POSITIVE_INFINITY,re),this._maxUploadRetryTime=re}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(re){Xt("time",0,Number.POSITIVE_INFINITY,re),this._maxOperationRetryTime=re}_getAuthToken(){var re=this;return(0,Oe.A)(function*(){if(re._overrideAuthToken)return re._overrideAuthToken;const ke=re._authProvider.getImmediate({optional:!0});if(ke){const Ke=yield ke.getToken();if(null!==Ke)return Ke.accessToken}return null})()}_getAppCheckToken(){var re=this;return(0,Oe.A)(function*(){if((0,Le.xZ)(re.app)&&re.app.settings.appCheckToken)return re.app.settings.appCheckToken;const ke=re._appCheckProvider.getImmediate({optional:!0});return ke?(yield ke.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(re=>re.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(re){return new Nr(this,re)}_makeRequest(re,ke,Ke,It,tn=!0){if(this._deleted)return new De(On());{const bn=function Gr(ie,re,ke,Ke,It,tn,bn=!0,Jn=!1){const zn=function mr(ie){const re=encodeURIComponent;let ke="?";for(const Ke in ie)ie.hasOwnProperty(Ke)&&(ke=ke+(re(Ke)+"=")+re(ie[Ke])+"&");return ke=ke.slice(0,-1),ke}(ie.urlParams),Ur=ie.url+zn,Ir=Object.assign({},ie.headers);return function Es(ie,re){re&&(ie["X-Firebase-GMPID"]=re)}(Ir,re),function kr(ie,re){null!==re&&re.length>0&&(ie.Authorization="Firebase "+re)}(Ir,ke),function Br(ie,re){ie["X-Firebase-Storage-Version"]="webjs/"+(re??"AppManager")}(Ir,tn),function kn(ie,re){null!==re&&(ie["X-Firebase-AppCheck"]=re)}(Ir,Ke),new Ar(Ur,ie.method,Ir,ie.body,ie.successCodes,ie.additionalRetryCodes,ie.handler,ie.errorHandler,ie.timeout,ie.progressCallback,It,bn,Jn)}(re,this._appId,Ke,It,ke,this._firebaseVersion,tn,this._isUsingEmulator);return this._requests.add(bn),bn.getPromise().then(()=>this._requests.delete(bn),()=>this._requests.delete(bn)),bn}}makeRequestWithTokens(re,ke){var Ke=this;return(0,Oe.A)(function*(){const[It,tn]=yield Promise.all([Ke._getAuthToken(),Ke._getAppCheckToken()]);return Ke._makeRequest(re,ke,It,tn).getPromise()})()}}const Si="@firebase/storage",Fi="0.13.12",Rs="storage";function ea(ie=(0,Le.Sx)(),re){ie=(0,at.Ku)(ie);const Ke=(0,Le.j6)(ie,Rs).getImmediate({identifier:re}),It=(0,at.yU)("storage");return It&&function jn(ie,re,ke,Ke={}){!function ur(ie,re,ke,Ke={}){ie.host=`${re}:${ke}`;const It=(0,at.zJ)(re);It&&((0,at.gE)(`https://${ie.host}`),(0,at.P1)("Storage",!0)),ie._isUsingEmulator=!0,ie._protocol=It?"https":"http";const{mockUserToken:tn}=Ke;tn&&(ie._overrideAuthToken="string"==typeof tn?tn:(0,at.Fy)(tn,ie.app.options.projectId))}(ie,re,ke,Ke)}(Ke,...It),Ke}function no(ie,{instanceIdentifier:re}){const ke=ie.getProvider("app").getImmediate(),Ke=ie.getProvider("auth-internal"),It=ie.getProvider("app-check-internal");return new ni(ke,Ke,It,re,Le.MF)}!function Wo(){(0,Le.om)(new Ve.uA(Rs,no,"PUBLIC").setMultipleInstances(!0)),(0,Le.KO)(Si,Fi,""),(0,Le.KO)(Si,Fi,"esm2017")}();class vo{constructor(re){return re}}const ta="storage",co=new z.nKC("angularfire2.storage-instances");function fo(ie){return(re,ke)=>{const Ke=re.runOutsideAngular(()=>ie(ke));return new vo(Ke)}}const No={provide:class Go{constructor(){return(0,T.CA)(ta)}},deps:[[new z.Xx1,co]]},_i={provide:vo,useFactory:function uo(ie,re){const ke=(0,T.lR)(ta,ie,re);return ke&&new vo(ke)},deps:[[new z.Xx1,co],le.XU]};function Li(ie,...re){return(0,pt.KO)("angularfire",T.xv.full,"gcs"),(0,z.EmA)([_i,No,{provide:co,useFactory:fo(ie),multi:!0,deps:[z.SKi,z.zZn,T.u0,le.gL,[new z.Xx1,We.DF],[new z.Xx1,A.kR],...re]}])}const Ys=(0,T.S3)(ea,!0)},2214:(qn,ot,Q)=>{"use strict";Q.d(ot,{Dk:()=>T.Dk,KO:()=>T.KO,Sx:()=>T.Sx,Wp:()=>T.Wp});var T=Q(7852);(0,T.KO)("firebase","11.8.1","app")},2881:(qn,ot,Q)=>{"use strict";Q.d(ot,{MD:()=>Is,Sq:()=>ms,TG:()=>dn,YU:()=>Hn,bT:()=>Me,fw:()=>le,vh:()=>Ne});var T=Q(1360),z=Q(6048);let le=(()=>{class Z extends z.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(se,pe){super(),this._platformLocation=se,null!=pe&&(this._baseHref=pe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(se){this._removeListenerFns.push(this._platformLocation.onPopState(se),this._platformLocation.onHashChange(se))}getBaseHref(){return this._baseHref}path(se=!1){const pe=this._platformLocation.hash??"#";return pe.length>0?pe.substring(1):pe}prepareExternalUrl(se){const pe=(0,z.om)(this._baseHref,se);return pe.length>0?"#"+pe:pe}pushState(se,pe,qe,Ht){const xn=this.prepareExternalUrl(qe+(0,z.Q)(Ht))||this._platformLocation.pathname;this._platformLocation.pushState(se,pe,xn)}replaceState(se,pe,qe,Ht){const xn=this.prepareExternalUrl(qe+(0,z.Q)(Ht))||this._platformLocation.pathname;this._platformLocation.replaceState(se,pe,xn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(se=0){this._platformLocation.historyGo?.(se)}static \u0275fac=function(pe){return new(pe||Z)(T.KVO(z.Vw),T.KVO(z.kB,8))};static \u0275prov=T.jDH({token:Z,factory:Z.\u0275fac})}return Z})();var Oe=function(Z){return Z[Z.Format=0]="Format",Z[Z.Standalone=1]="Standalone",Z}(Oe||{}),Le=function(Z){return Z[Z.Narrow=0]="Narrow",Z[Z.Abbreviated=1]="Abbreviated",Z[Z.Wide=2]="Wide",Z[Z.Short=3]="Short",Z}(Le||{}),at=function(Z){return Z[Z.Short=0]="Short",Z[Z.Medium=1]="Medium",Z[Z.Long=2]="Long",Z[Z.Full=3]="Full",Z}(at||{});function Ut(Z,Se){return Wn((0,T.H5H)(Z)[T.KH2.DateFormat],Se)}function Gt(Z,Se){return Wn((0,T.H5H)(Z)[T.KH2.TimeFormat],Se)}function Kt(Z,Se){return Wn((0,T.H5H)(Z)[T.KH2.DateTimeFormat],Se)}function Qe(Z,Se){const se=(0,T.H5H)(Z),pe=se[T.KH2.NumberSymbols][Se];if(typeof pe>"u"){if(12===Se)return se[T.KH2.NumberSymbols][0];if(13===Se)return se[T.KH2.NumberSymbols][1]}return pe}function lr(Z){if(!Z[T.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${Z[T.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Wn(Z,Se){for(let se=Se;se>-1;se--)if(typeof Z[se]<"u")return Z[se];throw new Error("Locale data API: locale data undefined")}function Ot(Z){const[Se,se]=Z.split(":");return{hours:+Se,minutes:+se}}const de=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Te={},De=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function xe(Z,Se,se,pe){let qe=function li(Z){if(mi(Z))return Z;if("number"==typeof Z&&!isNaN(Z))return new Date(Z);if("string"==typeof Z){if(Z=Z.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(Z)){const[qe,Ht=1,xn=1]=Z.split("-").map(tr=>+tr);return me(qe,Ht-1,xn)}const se=parseFloat(Z);if(!isNaN(Z-se))return new Date(se);let pe;if(pe=Z.match(de))return function Dt(Z){const Se=new Date(0);let se=0,pe=0;const qe=Z[8]?Se.setUTCFullYear:Se.setFullYear,Ht=Z[8]?Se.setUTCHours:Se.setHours;Z[9]&&(se=Number(Z[9]+Z[10]),pe=Number(Z[9]+Z[11])),qe.call(Se,Number(Z[1]),Number(Z[2])-1,Number(Z[3]));const xn=Number(Z[4]||0)-se,tr=Number(Z[5]||0)-pe,vi=Number(Z[6]||0),Ai=Math.floor(1e3*parseFloat("0."+(Z[7]||0)));return Ht.call(Se,xn,tr,vi,Ai),Se}(pe)}const Se=new Date(Z);if(!mi(Se))throw new Error(`Unable to convert "${Z}" into a date`);return Se}(Z);Se=Re(se,Se)||Se;let tr,xn=[];for(;Se;){if(tr=De.exec(Se),!tr){xn.push(Se);break}{xn=xn.concat(tr.slice(1));const bi=xn.pop();if(!bi)break;Se=bi}}let vi=qe.getTimezoneOffset();pe&&(vi=Gr(pe,vi),qe=function Ss(Z,Se){const qe=Z.getTimezoneOffset();return function Fn(Z,Se){return(Z=new Date(Z.getTime())).setMinutes(Z.getMinutes()+Se),Z}(Z,-1*(Gr(Se,qe)-qe))}(qe,pe));let Ai="";return xn.forEach(bi=>{const Wr=function kn(Z){if(Es[Z])return Es[Z];let Se;switch(Z){case"G":case"GG":case"GGG":Se=Xt(3,Le.Abbreviated);break;case"GGGG":Se=Xt(3,Le.Wide);break;case"GGGGG":Se=Xt(3,Le.Narrow);break;case"y":Se=En(0,1,0,!1,!0);break;case"yy":Se=En(0,2,0,!0,!0);break;case"yyy":Se=En(0,3,0,!1,!0);break;case"yyyy":Se=En(0,4,0,!1,!0);break;case"Y":Se=Br(1);break;case"YY":Se=Br(2,!0);break;case"YYY":Se=Br(3);break;case"YYYY":Se=Br(4);break;case"M":case"L":Se=En(1,1,1);break;case"MM":case"LL":Se=En(1,2,1);break;case"MMM":Se=Xt(2,Le.Abbreviated);break;case"MMMM":Se=Xt(2,Le.Wide);break;case"MMMMM":Se=Xt(2,Le.Narrow);break;case"LLL":Se=Xt(2,Le.Abbreviated,Oe.Standalone);break;case"LLLL":Se=Xt(2,Le.Wide,Oe.Standalone);break;case"LLLLL":Se=Xt(2,Le.Narrow,Oe.Standalone);break;case"w":Se=kr(1);break;case"ww":Se=kr(2);break;case"W":Se=kr(1,!0);break;case"d":Se=En(2,1);break;case"dd":Se=En(2,2);break;case"c":case"cc":Se=En(7,1);break;case"ccc":Se=Xt(1,Le.Abbreviated,Oe.Standalone);break;case"cccc":Se=Xt(1,Le.Wide,Oe.Standalone);break;case"ccccc":Se=Xt(1,Le.Narrow,Oe.Standalone);break;case"cccccc":Se=Xt(1,Le.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":Se=Xt(1,Le.Abbreviated);break;case"EEEE":Se=Xt(1,Le.Wide);break;case"EEEEE":Se=Xt(1,Le.Narrow);break;case"EEEEEE":Se=Xt(1,Le.Short);break;case"a":case"aa":case"aaa":Se=Xt(0,Le.Abbreviated);break;case"aaaa":Se=Xt(0,Le.Wide);break;case"aaaaa":Se=Xt(0,Le.Narrow);break;case"b":case"bb":case"bbb":Se=Xt(0,Le.Abbreviated,Oe.Standalone,!0);break;case"bbbb":Se=Xt(0,Le.Wide,Oe.Standalone,!0);break;case"bbbbb":Se=Xt(0,Le.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":Se=Xt(0,Le.Abbreviated,Oe.Format,!0);break;case"BBBB":Se=Xt(0,Le.Wide,Oe.Format,!0);break;case"BBBBB":Se=Xt(0,Le.Narrow,Oe.Format,!0);break;case"h":Se=En(3,1,-12);break;case"hh":Se=En(3,2,-12);break;case"H":Se=En(3,1);break;case"HH":Se=En(3,2);break;case"m":Se=En(4,1);break;case"mm":Se=En(4,2);break;case"s":Se=En(5,1);break;case"ss":Se=En(5,2);break;case"S":Se=En(6,1);break;case"SS":Se=En(6,2);break;case"SSS":Se=En(6,3);break;case"Z":case"ZZ":case"ZZZ":Se=mr(0);break;case"ZZZZZ":Se=mr(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Se=mr(1);break;case"OOOO":case"ZZZZ":case"zzzz":Se=mr(2);break;default:return null}return Es[Z]=Se,Se}(bi);Ai+=Wr?Wr(qe,se,vi):"''"===bi?"'":bi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ai}function me(Z,Se,se){const pe=new Date(0);return pe.setFullYear(Z,Se,se),pe.setHours(0,0,0),pe}function Re(Z,Se){const se=function At(Z){return(0,T.H5H)(Z)[T.KH2.LocaleId]}(Z);if(Te[se]??={},Te[se][Se])return Te[se][Se];let pe="";switch(Se){case"shortDate":pe=Ut(Z,at.Short);break;case"mediumDate":pe=Ut(Z,at.Medium);break;case"longDate":pe=Ut(Z,at.Long);break;case"fullDate":pe=Ut(Z,at.Full);break;case"shortTime":pe=Gt(Z,at.Short);break;case"mediumTime":pe=Gt(Z,at.Medium);break;case"longTime":pe=Gt(Z,at.Long);break;case"fullTime":pe=Gt(Z,at.Full);break;case"short":const qe=Re(Z,"shortTime"),Ht=Re(Z,"shortDate");pe=ft(Kt(Z,at.Short),[qe,Ht]);break;case"medium":const xn=Re(Z,"mediumTime"),tr=Re(Z,"mediumDate");pe=ft(Kt(Z,at.Medium),[xn,tr]);break;case"long":const vi=Re(Z,"longTime"),Ai=Re(Z,"longDate");pe=ft(Kt(Z,at.Long),[vi,Ai]);break;case"full":const bi=Re(Z,"fullTime"),Wr=Re(Z,"fullDate");pe=ft(Kt(Z,at.Full),[bi,Wr])}return pe&&(Te[se][Se]=pe),pe}function ft(Z,Se){return Se&&(Z=Z.replace(/\{([^}]+)}/g,function(se,pe){return null!=Se&&pe in Se?Se[pe]:se})),Z}function jt(Z,Se,se="-",pe,qe){let Ht="";(Z<0||qe&&Z<=0)&&(qe?Z=1-Z:(Z=-Z,Ht=se));let xn=String(Z);for(;xn.length<Se;)xn="0"+xn;return pe&&(xn=xn.slice(xn.length-Se)),Ht+xn}function En(Z,Se,se=0,pe=!1,qe=!1){return function(Ht,xn){let tr=function Dr(Z,Se){switch(Z){case 0:return Se.getFullYear();case 1:return Se.getMonth();case 2:return Se.getDate();case 3:return Se.getHours();case 4:return Se.getMinutes();case 5:return Se.getSeconds();case 6:return Se.getMilliseconds();case 7:return Se.getDay();default:throw new Error(`Unknown DateType value "${Z}".`)}}(Z,Ht);if((se>0||tr>-se)&&(tr+=se),3===Z)0===tr&&-12===se&&(tr=12);else if(6===Z)return function Rn(Z,Se){return jt(Z,3).substring(0,Se)}(tr,Se);const vi=Qe(xn,5);return jt(tr,Se,vi,pe,qe)}}function Xt(Z,Se,se=Oe.Format,pe=!1){return function(qe,Ht){return function gr(Z,Se,se,pe,qe,Ht){switch(se){case 2:return function Qt(Z,Se,se){const pe=(0,T.H5H)(Z),Ht=Wn([pe[T.KH2.MonthsFormat],pe[T.KH2.MonthsStandalone]],Se);return Wn(Ht,se)}(Se,qe,pe)[Z.getMonth()];case 1:return function Ct(Z,Se,se){const pe=(0,T.H5H)(Z),Ht=Wn([pe[T.KH2.DaysFormat],pe[T.KH2.DaysStandalone]],Se);return Wn(Ht,se)}(Se,qe,pe)[Z.getDay()];case 0:const xn=Z.getHours(),tr=Z.getMinutes();if(Ht){const Ai=function hr(Z){const Se=(0,T.H5H)(Z);return lr(Se),(Se[T.KH2.ExtraData][2]||[]).map(pe=>"string"==typeof pe?Ot(pe):[Ot(pe[0]),Ot(pe[1])])}(Se),bi=function yr(Z,Se,se){const pe=(0,T.H5H)(Z);lr(pe);const Ht=Wn([pe[T.KH2.ExtraData][0],pe[T.KH2.ExtraData][1]],Se)||[];return Wn(Ht,se)||[]}(Se,qe,pe),Wr=Ai.findIndex(ur=>{if(Array.isArray(ur)){const[ni,Si]=ur,Fi=xn>=ni.hours&&tr>=ni.minutes,Rs=xn<Si.hours||xn===Si.hours&&tr<Si.minutes;if(ni.hours<Si.hours){if(Fi&&Rs)return!0}else if(Fi||Rs)return!0}else if(ur.hours===xn&&ur.minutes===tr)return!0;return!1});if(-1!==Wr)return bi[Wr]}return function yt(Z,Se,se){const pe=(0,T.H5H)(Z),Ht=Wn([pe[T.KH2.DayPeriodsFormat],pe[T.KH2.DayPeriodsStandalone]],Se);return Wn(Ht,se)}(Se,qe,pe)[xn<12?0:1];case 3:return function Zt(Z,Se){return Wn((0,T.H5H)(Z)[T.KH2.Eras],Se)}(Se,pe)[Z.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${se}`)}}(qe,Ht,Z,Se,se,pe)}}function mr(Z){return function(Se,se,pe){const qe=-1*pe,Ht=Qe(se,5),xn=qe>0?Math.floor(qe/60):Math.ceil(qe/60);switch(Z){case 0:return(qe>=0?"+":"")+jt(xn,2,Ht)+jt(Math.abs(qe%60),2,Ht);case 1:return"GMT"+(qe>=0?"+":"")+jt(xn,1,Ht);case 2:return"GMT"+(qe>=0?"+":"")+jt(xn,2,Ht)+":"+jt(Math.abs(qe%60),2,Ht);case 3:return 0===pe?"Z":(qe>=0?"+":"")+jt(xn,2,Ht)+":"+jt(Math.abs(qe%60),2,Ht);default:throw new Error(`Unknown zone width "${Z}"`)}}}const gn=0,ar=4;function Lr(Z){const Se=Z.getDay(),se=0===Se?-3:ar-Se;return me(Z.getFullYear(),Z.getMonth(),Z.getDate()+se)}function kr(Z,Se=!1){return function(se,pe){let qe;if(Se){const Ht=new Date(se.getFullYear(),se.getMonth(),1).getDay()-1,xn=se.getDate();qe=1+Math.floor((xn+Ht)/7)}else{const Ht=Lr(se),xn=function Ar(Z){const Se=me(Z,gn,1).getDay();return me(Z,0,1+(Se<=ar?ar:ar+7)-Se)}(Ht.getFullYear()),tr=Ht.getTime()-xn.getTime();qe=1+Math.round(tr/6048e5)}return jt(qe,Z,Qe(pe,5))}}function Br(Z,Se=!1){return function(se,pe){return jt(Lr(se).getFullYear(),Z,Qe(pe,5),Se)}}const Es={};function Gr(Z,Se){Z=Z.replace(/:/g,"");const se=Date.parse("Jan 01, 1970 00:00:00 "+Z)/6e4;return isNaN(se)?Se:se}function mi(Z){return Z instanceof Date&&!isNaN(Z.valueOf())}const ji=/\s+/,is=[];let Hn=(()=>{class Z{_ngEl;_renderer;initialClasses=is;rawClass;stateMap=new Map;constructor(se,pe){this._ngEl=se,this._renderer=pe}set klass(se){this.initialClasses=null!=se?se.trim().split(ji):is}set ngClass(se){this.rawClass="string"==typeof se?se.trim().split(ji):se}ngDoCheck(){for(const pe of this.initialClasses)this._updateState(pe,!0);const se=this.rawClass;if(Array.isArray(se)||se instanceof Set)for(const pe of se)this._updateState(pe,!0);else if(null!=se)for(const pe of Object.keys(se))this._updateState(pe,!!se[pe]);this._applyStateDiff()}_updateState(se,pe){const qe=this.stateMap.get(se);void 0!==qe?(qe.enabled!==pe&&(qe.changed=!0,qe.enabled=pe),qe.touched=!0):this.stateMap.set(se,{enabled:pe,changed:!0,touched:!0})}_applyStateDiff(){for(const se of this.stateMap){const pe=se[0],qe=se[1];qe.changed?(this._toggleClass(pe,qe.enabled),qe.changed=!1):qe.touched||(qe.enabled&&this._toggleClass(pe,!1),this.stateMap.delete(pe)),qe.touched=!1}}_toggleClass(se,pe){(se=se.trim()).length>0&&se.split(ji).forEach(qe=>{pe?this._renderer.addClass(this._ngEl.nativeElement,qe):this._renderer.removeClass(this._ngEl.nativeElement,qe)})}static \u0275fac=function(pe){return new(pe||Z)(T.rXU(T.aKT),T.rXU(T.sFG))};static \u0275dir=T.FsC({type:Z,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return Z})();class cs{$implicit;ngForOf;index;count;constructor(Se,se,pe,qe){this.$implicit=Se,this.ngForOf=se,this.index=pe,this.count=qe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ms=(()=>{class Z{_viewContainer;_template;_differs;set ngForOf(se){this._ngForOf=se,this._ngForOfDirty=!0}set ngForTrackBy(se){this._trackByFn=se}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(se,pe,qe){this._viewContainer=se,this._template=pe,this._differs=qe}set ngForTemplate(se){se&&(this._template=se)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const se=this._ngForOf;!this._differ&&se&&(this._differ=this._differs.find(se).create(this.ngForTrackBy))}if(this._differ){const se=this._differ.diff(this._ngForOf);se&&this._applyChanges(se)}}_applyChanges(se){const pe=this._viewContainer;se.forEachOperation((qe,Ht,xn)=>{if(null==qe.previousIndex)pe.createEmbeddedView(this._template,new cs(qe.item,this._ngForOf,-1,-1),null===xn?void 0:xn);else if(null==xn)pe.remove(null===Ht?void 0:Ht);else if(null!==Ht){const tr=pe.get(Ht);pe.move(tr,xn),ss(tr,qe)}});for(let qe=0,Ht=pe.length;qe<Ht;qe++){const tr=pe.get(qe).context;tr.index=qe,tr.count=Ht,tr.ngForOf=this._ngForOf}se.forEachIdentityChange(qe=>{ss(pe.get(qe.currentIndex),qe)})}static ngTemplateContextGuard(se,pe){return!0}static \u0275fac=function(pe){return new(pe||Z)(T.rXU(T.c1b),T.rXU(T.C4Q),T.rXU(T._q3))};static \u0275dir=T.FsC({type:Z,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return Z})();function ss(Z,Se){Z.context.$implicit=Se.item}let Me=(()=>{class Z{_viewContainer;_context=new rt;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(se,pe){this._viewContainer=se,this._thenTemplateRef=pe}set ngIf(se){this._context.$implicit=this._context.ngIf=se,this._updateView()}set ngIfThen(se){nn(se),this._thenTemplateRef=se,this._thenViewRef=null,this._updateView()}set ngIfElse(se){nn(se),this._elseTemplateRef=se,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(se,pe){return!0}static \u0275fac=function(pe){return new(pe||Z)(T.rXU(T.c1b),T.rXU(T.C4Q))};static \u0275dir=T.FsC({type:Z,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return Z})();class rt{$implicit=null;ngIf=null}function nn(Z,Se){if(Z&&!Z.createEmbeddedView)throw new T.wOt(2020,!1)}const Wi=new T.nKC(""),us=new T.nKC("");let Ne=(()=>{class Z{locale;defaultTimezone;defaultOptions;constructor(se,pe,qe){this.locale=se,this.defaultTimezone=pe,this.defaultOptions=qe}transform(se,pe,qe,Ht){if(null==se||""===se||se!=se)return null;try{return xe(se,pe??this.defaultOptions?.dateFormat??"mediumDate",Ht||this.locale,qe??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(xn){throw function Pe(Z,Se){return new T.wOt(2100,!1)}()}}static \u0275fac=function(pe){return new(pe||Z)(T.rXU(T.xe9,16),T.rXU(Wi,24),T.rXU(us,24))};static \u0275pipe=T.EJ8({name:"date",type:Z,pure:!0})}return Z})(),dn=(()=>{class Z{transform(se){return JSON.stringify(se,null,2)}static \u0275fac=function(pe){return new(pe||Z)};static \u0275pipe=T.EJ8({name:"json",type:Z,pure:!1})}return Z})(),Is=(()=>{class Z{static \u0275fac=function(pe){return new(pe||Z)};static \u0275mod=T.$C({type:Z});static \u0275inj=T.G2t({})}return Z})()},2967:(qn,ot,Q)=>{"use strict";Q.d(ot,{xv:()=>vt,u0:()=>yr,CA:()=>hn,lR:()=>kt,S3:()=>st});var T=Q(1360),z=Q(2214),le=Q(1985);function At(de){void 0===de&&((0,T.Af3)(At),de=(0,T.WQX)(T.zZn));const Te=de.get(T.u5s);return De=>new le.c(xe=>{const me=Te.add();let Re=!1;function ft(){Re||(me(),Re=!0)}const jt=De.subscribe({next:Rn=>{xe.next(Rn),ft()},complete:()=>{xe.complete(),ft()},error:Rn=>{xe.error(Rn),ft()}});return jt.add(()=>{xe.unsubscribe(),ft()}),jt})}var Ct=Q(6780),Zt=Q(3604);const In=new class un extends Zt.q{}(class Qt extends Ct.R{constructor(Te,De){super(Te,De),this.scheduler=Te,this.work=De}schedule(Te,De=0){return De>0?super.schedule(Te,De):(this.delay=De,this.state=Te,this.scheduler.flush(this),this)}execute(Te,De){return De>0||this.closed?super.execute(Te,De):this._execute(Te,De)}requestAsyncId(Te,De,xe=0){return null!=xe&&xe>0||null==xe&&this.delay>0?super.requestAsyncId(Te,De,xe):(Te.flush(this),0)}});var Gt=Q(3236),Kt=Q(6745),Qe=Q(941);const vt=new T.RxE("ANGULARFIRE2_VERSION");function kt(de,Te,De){if(Te){if(1===Te.length)return Te[0];const Re=Te.filter(ft=>ft.app===De);if(1===Re.length)return Re[0]}return De.container.getProvider(de).getImmediate({optional:!0})}const hn=(de,Te)=>{const De=Te?[Te]:(0,z.Dk)(),xe=[];return De.forEach(me=>{me.container.getProvider(de).instances.forEach(ft=>{xe.includes(ft)||xe.push(ft)})}),xe};var xt=function(de){return de[de.SILENT=0]="SILENT",de[de.WARN=1]="WARN",de[de.VERBOSE=2]="VERBOSE",de}(xt||{}),Pt=(0,T.naY)()&&typeof Zone<"u"?xt.WARN:xt.SILENT;class hr{zone;delegate;constructor(Te,De=In){this.zone=Te,this.delegate=De}now(){return this.delegate.now()}schedule(Te,De,xe){const me=this.zone;return this.delegate.schedule(function(ft){me?me.runGuarded(()=>{Te.apply(this,[ft])}):Te.apply(this,[ft])},De,xe)}}let yr=(()=>{class de{outsideAngular;insideAngular;constructor(){const De=(0,T.WQX)(T.SKi);this.outsideAngular=De.runOutsideAngular(()=>new hr(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=De.run(()=>new hr(typeof Zone>"u"?void 0:Zone.current,Gt.E))}static \u0275fac=function(xe){return new(xe||de)};static \u0275prov=T.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();var bt=!1;function On(de){const Te=(0,T.WQX)(T.SKi,{optional:!0});return Te?Te.run(()=>de()):de()}const rn=(de,Te,De)=>(...xe)=>(Te&&setTimeout(Te,0),(0,T.N4e)(De,()=>On(()=>de.apply(void 0,xe)))),st=(de,Te,De)=>(De||=Te?xt.WARN:xt.VERBOSE,function(){let xe;const me=arguments;let Re,ft,jt;try{Re=(0,T.WQX)(yr),ft=(0,T.WQX)(T.u5s),jt=(0,T.WQX)(T.uvJ)}catch{return function Wn(de,Te){!bt&&(Pt>xt.SILENT||(0,T.naY)())&&(bt=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Pt>=Te&&console.warn(`Firebase API called outside injection context: ${de.name}`)}(de,De),de.apply(this,me)}for(let En=0;En<arguments.length;En++)"function"==typeof me[En]&&(Te&&(xe||=On(()=>ft.add())),me[En]=rn(me[En],xe,jt));const Rn=function Ot(de){const Te=(0,T.WQX)(T.SKi,{optional:!0});return Te?Te.runOutsideAngular(()=>de()):de()}(()=>de.apply(this,me));return Te?Rn instanceof le.c?Rn.pipe((0,Kt._)(Re.outsideAngular),(0,Qe.Q)(Re.insideAngular),At(jt)):Rn instanceof Promise?On(()=>new Promise((En,Dr)=>{ft.run(()=>Rn).then(Xt=>(0,T.N4e)(jt,()=>On(()=>En(Xt))),Xt=>(0,T.N4e)(jt,()=>On(()=>Dr(Xt))))})):"function"==typeof Rn&&xe?function(){return setTimeout(xe,0),Rn.apply(this,arguments)}:On(()=>Rn):Rn instanceof le.c?Rn.pipe((0,Kt._)(Re.outsideAngular),(0,Qe.Q)(Re.insideAngular)):On(()=>Rn)})},3073:(qn,ot,Q)=>{"use strict";Q.d(ot,{D:()=>We});const{isArray:T}=Array,{getPrototypeOf:z,prototype:le,keys:A}=Object;function We(Oe){if(1===Oe.length){const Le=Oe[0];if(T(Le))return{args:Le,keys:null};if(function pt(Oe){return Oe&&"object"==typeof Oe&&z(Oe)===le}(Le)){const at=A(Le);return{args:at.map(Ve=>Le[Ve]),keys:at}}}return{args:Oe,keys:null}}},3236:(qn,ot,Q)=>{"use strict";Q.d(ot,{E:()=>le,b:()=>A});var T=Q(6780);const le=new(Q(3604).q)(T.R),A=le},3273:(qn,ot,Q)=>{"use strict";Q.d(ot,{Dc:()=>Gr,rJ:()=>pE,kd:()=>Xv,H9:()=>Mv,x7:()=>Nw,aU:()=>_f,aQ:()=>SE,P:()=>Hv,BN:()=>Om,mZ:()=>Qv,_M:()=>Im});var Le,at,T=Q(467),z=Q(7852),le=Q(1362),A=Q(8041),We=Q(6858),pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oe={};(function(){var f;function d(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function g(wt,Xe,lt){lt||(lt=0);var Tt=Array(16);if("string"==typeof Xe)for(var Rt=0;16>Rt;++Rt)Tt[Rt]=Xe.charCodeAt(lt++)|Xe.charCodeAt(lt++)<<8|Xe.charCodeAt(lt++)<<16|Xe.charCodeAt(lt++)<<24;else for(Rt=0;16>Rt;++Rt)Tt[Rt]=Xe[lt++]|Xe[lt++]<<8|Xe[lt++]<<16|Xe[lt++]<<24;var Lt=wt.g[3],it=(Xe=wt.g[0])+(Lt^(lt=wt.g[1])&((Rt=wt.g[2])^Lt))+Tt[0]+3614090360&4294967295;it=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=(lt=(Rt=(Lt=(Xe=lt+(it<<7&4294967295|it>>>25))+((it=Lt+(Rt^Xe&(lt^Rt))+Tt[1]+3905402710&4294967295)<<12&4294967295|it>>>20))+((it=Rt+(lt^Lt&(Xe^lt))+Tt[2]+606105819&4294967295)<<17&4294967295|it>>>15))+((it=lt+(Xe^Rt&(Lt^Xe))+Tt[3]+3250441966&4294967295)<<22&4294967295|it>>>10))+((it=Xe+(Lt^lt&(Rt^Lt))+Tt[4]+4118548399&4294967295)<<7&4294967295|it>>>25))+((it=Lt+(Rt^Xe&(lt^Rt))+Tt[5]+1200080426&4294967295)<<12&4294967295|it>>>20))+((it=Rt+(lt^Lt&(Xe^lt))+Tt[6]+2821735955&4294967295)<<17&4294967295|it>>>15))+((it=lt+(Xe^Rt&(Lt^Xe))+Tt[7]+4249261313&4294967295)<<22&4294967295|it>>>10))+((it=Xe+(Lt^lt&(Rt^Lt))+Tt[8]+1770035416&4294967295)<<7&4294967295|it>>>25))+((it=Lt+(Rt^Xe&(lt^Rt))+Tt[9]+2336552879&4294967295)<<12&4294967295|it>>>20))+((it=Rt+(lt^Lt&(Xe^lt))+Tt[10]+4294925233&4294967295)<<17&4294967295|it>>>15))+((it=lt+(Xe^Rt&(Lt^Xe))+Tt[11]+2304563134&4294967295)<<22&4294967295|it>>>10))+((it=Xe+(Lt^lt&(Rt^Lt))+Tt[12]+1804603682&4294967295)<<7&4294967295|it>>>25))+((it=Lt+(Rt^Xe&(lt^Rt))+Tt[13]+4254626195&4294967295)<<12&4294967295|it>>>20))+((it=Rt+(lt^Lt&(Xe^lt))+Tt[14]+2792965006&4294967295)<<17&4294967295|it>>>15))+((it=lt+(Xe^Rt&(Lt^Xe))+Tt[15]+1236535329&4294967295)<<22&4294967295|it>>>10))+((it=Xe+(Rt^Lt&(lt^Rt))+Tt[1]+4129170786&4294967295)<<5&4294967295|it>>>27))+((it=Lt+(lt^Rt&(Xe^lt))+Tt[6]+3225465664&4294967295)<<9&4294967295|it>>>23))+((it=Rt+(Xe^lt&(Lt^Xe))+Tt[11]+643717713&4294967295)<<14&4294967295|it>>>18))+((it=lt+(Lt^Xe&(Rt^Lt))+Tt[0]+3921069994&4294967295)<<20&4294967295|it>>>12))+((it=Xe+(Rt^Lt&(lt^Rt))+Tt[5]+3593408605&4294967295)<<5&4294967295|it>>>27))+((it=Lt+(lt^Rt&(Xe^lt))+Tt[10]+38016083&4294967295)<<9&4294967295|it>>>23))+((it=Rt+(Xe^lt&(Lt^Xe))+Tt[15]+3634488961&4294967295)<<14&4294967295|it>>>18))+((it=lt+(Lt^Xe&(Rt^Lt))+Tt[4]+3889429448&4294967295)<<20&4294967295|it>>>12))+((it=Xe+(Rt^Lt&(lt^Rt))+Tt[9]+568446438&4294967295)<<5&4294967295|it>>>27))+((it=Lt+(lt^Rt&(Xe^lt))+Tt[14]+3275163606&4294967295)<<9&4294967295|it>>>23))+((it=Rt+(Xe^lt&(Lt^Xe))+Tt[3]+4107603335&4294967295)<<14&4294967295|it>>>18))+((it=lt+(Lt^Xe&(Rt^Lt))+Tt[8]+1163531501&4294967295)<<20&4294967295|it>>>12))+((it=Xe+(Rt^Lt&(lt^Rt))+Tt[13]+2850285829&4294967295)<<5&4294967295|it>>>27))+((it=Lt+(lt^Rt&(Xe^lt))+Tt[2]+4243563512&4294967295)<<9&4294967295|it>>>23))+((it=Rt+(Xe^lt&(Lt^Xe))+Tt[7]+1735328473&4294967295)<<14&4294967295|it>>>18))+((it=lt+(Lt^Xe&(Rt^Lt))+Tt[12]+2368359562&4294967295)<<20&4294967295|it>>>12))+((it=Xe+(lt^Rt^Lt)+Tt[5]+4294588738&4294967295)<<4&4294967295|it>>>28))+((it=Lt+(Xe^lt^Rt)+Tt[8]+2272392833&4294967295)<<11&4294967295|it>>>21))+((it=Rt+(Lt^Xe^lt)+Tt[11]+1839030562&4294967295)<<16&4294967295|it>>>16))+((it=lt+(Rt^Lt^Xe)+Tt[14]+4259657740&4294967295)<<23&4294967295|it>>>9))+((it=Xe+(lt^Rt^Lt)+Tt[1]+2763975236&4294967295)<<4&4294967295|it>>>28))+((it=Lt+(Xe^lt^Rt)+Tt[4]+1272893353&4294967295)<<11&4294967295|it>>>21))+((it=Rt+(Lt^Xe^lt)+Tt[7]+4139469664&4294967295)<<16&4294967295|it>>>16))+((it=lt+(Rt^Lt^Xe)+Tt[10]+3200236656&4294967295)<<23&4294967295|it>>>9))+((it=Xe+(lt^Rt^Lt)+Tt[13]+681279174&4294967295)<<4&4294967295|it>>>28))+((it=Lt+(Xe^lt^Rt)+Tt[0]+3936430074&4294967295)<<11&4294967295|it>>>21))+((it=Rt+(Lt^Xe^lt)+Tt[3]+3572445317&4294967295)<<16&4294967295|it>>>16))+((it=lt+(Rt^Lt^Xe)+Tt[6]+76029189&4294967295)<<23&4294967295|it>>>9))+((it=Xe+(lt^Rt^Lt)+Tt[9]+3654602809&4294967295)<<4&4294967295|it>>>28))+((it=Lt+(Xe^lt^Rt)+Tt[12]+3873151461&4294967295)<<11&4294967295|it>>>21))+((it=Rt+(Lt^Xe^lt)+Tt[15]+530742520&4294967295)<<16&4294967295|it>>>16))+((it=lt+(Rt^Lt^Xe)+Tt[2]+3299628645&4294967295)<<23&4294967295|it>>>9))+((it=Xe+(Rt^(lt|~Lt))+Tt[0]+4096336452&4294967295)<<6&4294967295|it>>>26))+((it=Lt+(lt^(Xe|~Rt))+Tt[7]+1126891415&4294967295)<<10&4294967295|it>>>22))+((it=Rt+(Xe^(Lt|~lt))+Tt[14]+2878612391&4294967295)<<15&4294967295|it>>>17))+((it=lt+(Lt^(Rt|~Xe))+Tt[5]+4237533241&4294967295)<<21&4294967295|it>>>11))+((it=Xe+(Rt^(lt|~Lt))+Tt[12]+1700485571&4294967295)<<6&4294967295|it>>>26))+((it=Lt+(lt^(Xe|~Rt))+Tt[3]+2399980690&4294967295)<<10&4294967295|it>>>22))+((it=Rt+(Xe^(Lt|~lt))+Tt[10]+4293915773&4294967295)<<15&4294967295|it>>>17))+((it=lt+(Lt^(Rt|~Xe))+Tt[1]+2240044497&4294967295)<<21&4294967295|it>>>11))+((it=Xe+(Rt^(lt|~Lt))+Tt[8]+1873313359&4294967295)<<6&4294967295|it>>>26))+((it=Lt+(lt^(Xe|~Rt))+Tt[15]+4264355552&4294967295)<<10&4294967295|it>>>22))+((it=Rt+(Xe^(Lt|~lt))+Tt[6]+2734768916&4294967295)<<15&4294967295|it>>>17))+((it=lt+(Lt^(Rt|~Xe))+Tt[13]+1309151649&4294967295)<<21&4294967295|it>>>11))+((Lt=(Xe=lt+((it=Xe+(Rt^(lt|~Lt))+Tt[4]+4149444226&4294967295)<<6&4294967295|it>>>26))+((it=Lt+(lt^(Xe|~Rt))+Tt[11]+3174756917&4294967295)<<10&4294967295|it>>>22))^((Rt=Lt+((it=Rt+(Xe^(Lt|~lt))+Tt[2]+718787259&4294967295)<<15&4294967295|it>>>17))|~Xe))+Tt[9]+3951481745&4294967295,wt.g[0]=wt.g[0]+Xe&4294967295,wt.g[1]=wt.g[1]+(Rt+(it<<21&4294967295|it>>>11))&4294967295,wt.g[2]=wt.g[2]+Rt&4294967295,wt.g[3]=wt.g[3]+Lt&4294967295}function D(wt,Xe){this.h=Xe;for(var lt=[],Tt=!0,Rt=wt.length-1;0<=Rt;Rt--){var Lt=0|wt[Rt];Tt&&Lt==Xe||(lt[Rt]=Lt,Tt=!1)}this.g=lt}(function n(wt,Xe){function lt(){}lt.prototype=Xe.prototype,wt.D=Xe.prototype,wt.prototype=new lt,wt.prototype.constructor=wt,wt.C=function(Tt,Rt,Lt){for(var it=Array(arguments.length-2),fd=2;fd<arguments.length;fd++)it[fd-2]=arguments[fd];return Xe.prototype[Rt].apply(Tt,it)}})(d,function o(){this.blockSize=-1}),d.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},d.prototype.u=function(wt,Xe){void 0===Xe&&(Xe=wt.length);for(var lt=Xe-this.blockSize,Tt=this.B,Rt=this.h,Lt=0;Lt<Xe;){if(0==Rt)for(;Lt<=lt;)g(this,wt,Lt),Lt+=this.blockSize;if("string"==typeof wt){for(;Lt<Xe;)if(Tt[Rt++]=wt.charCodeAt(Lt++),Rt==this.blockSize){g(this,Tt),Rt=0;break}}else for(;Lt<Xe;)if(Tt[Rt++]=wt[Lt++],Rt==this.blockSize){g(this,Tt),Rt=0;break}}this.h=Rt,this.o+=Xe},d.prototype.v=function(){var wt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);wt[0]=128;for(var Xe=1;Xe<wt.length-8;++Xe)wt[Xe]=0;var lt=8*this.o;for(Xe=wt.length-8;Xe<wt.length;++Xe)wt[Xe]=255&lt,lt/=256;for(this.u(wt),wt=Array(16),Xe=lt=0;4>Xe;++Xe)for(var Tt=0;32>Tt;Tt+=8)wt[lt++]=this.g[Xe]>>>Tt&255;return wt};var N={};function $(wt){return-128<=wt&&128>wt?function b(wt,Xe){var lt=N;return Object.prototype.hasOwnProperty.call(lt,wt)?lt[wt]:lt[wt]=Xe(wt)}(wt,function(Xe){return new D([0|Xe],0>Xe?-1:0)}):new D([0|wt],0>wt?-1:0)}function X(wt){if(isNaN(wt)||!isFinite(wt))return be;if(0>wt)return Cn(X(-wt));for(var Xe=[],lt=1,Tt=0;wt>=lt;Tt++)Xe[Tt]=wt/lt|0,lt*=4294967296;return new D(Xe,0)}var be=$(0),Je=$(1),Ft=$(16777216);function cn(wt){if(0!=wt.h)return!1;for(var Xe=0;Xe<wt.g.length;Xe++)if(0!=wt.g[Xe])return!1;return!0}function Mn(wt){return-1==wt.h}function Cn(wt){for(var Xe=wt.g.length,lt=[],Tt=0;Tt<Xe;Tt++)lt[Tt]=~wt.g[Tt];return new D(lt,~wt.h).add(Je)}function Cr(wt,Xe){return wt.add(Cn(Xe))}function Sr(wt,Xe){for(;(65535&wt[Xe])!=wt[Xe];)wt[Xe+1]+=wt[Xe]>>>16,wt[Xe]&=65535,Xe++}function rr(wt,Xe){this.g=wt,this.h=Xe}function hi(wt,Xe){if(cn(Xe))throw Error("division by zero");if(cn(wt))return new rr(be,be);if(Mn(wt))return Xe=hi(Cn(wt),Xe),new rr(Cn(Xe.g),Cn(Xe.h));if(Mn(Xe))return Xe=hi(wt,Cn(Xe)),new rr(Cn(Xe.g),Xe.h);if(30<wt.g.length){if(Mn(wt)||Mn(Xe))throw Error("slowDivide_ only works with positive integers.");for(var lt=Je,Tt=Xe;0>=Tt.l(wt);)lt=gs(lt),Tt=gs(Tt);var Rt=Ui(lt,1),Lt=Ui(Tt,1);for(Tt=Ui(Tt,2),lt=Ui(lt,2);!cn(Tt);){var it=Lt.add(Tt);0>=it.l(wt)&&(Rt=Rt.add(lt),Lt=it),Tt=Ui(Tt,1),lt=Ui(lt,1)}return Xe=Cr(wt,Rt.j(Xe)),new rr(Rt,Xe)}for(Rt=be;0<=wt.l(Xe);){for(lt=Math.max(1,Math.floor(wt.m()/Xe.m())),Tt=48>=(Tt=Math.ceil(Math.log(lt)/Math.LN2))?1:Math.pow(2,Tt-48),it=(Lt=X(lt)).j(Xe);Mn(it)||0<it.l(wt);)it=(Lt=X(lt-=Tt)).j(Xe);cn(Lt)&&(Lt=Je),Rt=Rt.add(Lt),wt=Cr(wt,it)}return new rr(Rt,wt)}function gs(wt){for(var Xe=wt.g.length+1,lt=[],Tt=0;Tt<Xe;Tt++)lt[Tt]=wt.i(Tt)<<1|wt.i(Tt-1)>>>31;return new D(lt,wt.h)}function Ui(wt,Xe){var lt=Xe>>5;Xe%=32;for(var Tt=wt.g.length-lt,Rt=[],Lt=0;Lt<Tt;Lt++)Rt[Lt]=0<Xe?wt.i(Lt+lt)>>>Xe|wt.i(Lt+lt+1)<<32-Xe:wt.i(Lt+lt);return new D(Rt,wt.h)}(f=D.prototype).m=function(){if(Mn(this))return-Cn(this).m();for(var wt=0,Xe=1,lt=0;lt<this.g.length;lt++){var Tt=this.i(lt);wt+=(0<=Tt?Tt:4294967296+Tt)*Xe,Xe*=4294967296}return wt},f.toString=function(wt){if(2>(wt=wt||10)||36<wt)throw Error("radix out of range: "+wt);if(cn(this))return"0";if(Mn(this))return"-"+Cn(this).toString(wt);for(var Xe=X(Math.pow(wt,6)),lt=this,Tt="";;){var Rt=hi(lt,Xe).g,Lt=((0<(lt=Cr(lt,Rt.j(Xe))).g.length?lt.g[0]:lt.h)>>>0).toString(wt);if(cn(lt=Rt))return Lt+Tt;for(;6>Lt.length;)Lt="0"+Lt;Tt=Lt+Tt}},f.i=function(wt){return 0>wt?0:wt<this.g.length?this.g[wt]:this.h},f.l=function(wt){return Mn(wt=Cr(this,wt))?-1:cn(wt)?0:1},f.abs=function(){return Mn(this)?Cn(this):this},f.add=function(wt){for(var Xe=Math.max(this.g.length,wt.g.length),lt=[],Tt=0,Rt=0;Rt<=Xe;Rt++){var Lt=Tt+(65535&this.i(Rt))+(65535&wt.i(Rt)),it=(Lt>>>16)+(this.i(Rt)>>>16)+(wt.i(Rt)>>>16);Tt=it>>>16,lt[Rt]=(it&=65535)<<16|(Lt&=65535)}return new D(lt,-2147483648&lt[lt.length-1]?-1:0)},f.j=function(wt){if(cn(this)||cn(wt))return be;if(Mn(this))return Mn(wt)?Cn(this).j(Cn(wt)):Cn(Cn(this).j(wt));if(Mn(wt))return Cn(this.j(Cn(wt)));if(0>this.l(Ft)&&0>wt.l(Ft))return X(this.m()*wt.m());for(var Xe=this.g.length+wt.g.length,lt=[],Tt=0;Tt<2*Xe;Tt++)lt[Tt]=0;for(Tt=0;Tt<this.g.length;Tt++)for(var Rt=0;Rt<wt.g.length;Rt++){var Lt=this.i(Tt)>>>16,it=65535&this.i(Tt),fd=wt.i(Rt)>>>16,Rf=65535&wt.i(Rt);lt[2*Tt+2*Rt]+=it*Rf,Sr(lt,2*Tt+2*Rt),lt[2*Tt+2*Rt+1]+=Lt*Rf,Sr(lt,2*Tt+2*Rt+1),lt[2*Tt+2*Rt+1]+=it*fd,Sr(lt,2*Tt+2*Rt+1),lt[2*Tt+2*Rt+2]+=Lt*fd,Sr(lt,2*Tt+2*Rt+2)}for(Tt=0;Tt<Xe;Tt++)lt[Tt]=lt[2*Tt+1]<<16|lt[2*Tt];for(Tt=Xe;Tt<2*Xe;Tt++)lt[Tt]=0;return new D(lt,0)},f.A=function(wt){return hi(this,wt).h},f.and=function(wt){for(var Xe=Math.max(this.g.length,wt.g.length),lt=[],Tt=0;Tt<Xe;Tt++)lt[Tt]=this.i(Tt)&wt.i(Tt);return new D(lt,this.h&wt.h)},f.or=function(wt){for(var Xe=Math.max(this.g.length,wt.g.length),lt=[],Tt=0;Tt<Xe;Tt++)lt[Tt]=this.i(Tt)|wt.i(Tt);return new D(lt,this.h|wt.h)},f.xor=function(wt){for(var Xe=Math.max(this.g.length,wt.g.length),lt=[],Tt=0;Tt<Xe;Tt++)lt[Tt]=this.i(Tt)^wt.i(Tt);return new D(lt,this.h^wt.h)},d.prototype.digest=d.prototype.v,d.prototype.reset=d.prototype.s,d.prototype.update=d.prototype.u,at=Oe.Md5=d,D.prototype.add=D.prototype.add,D.prototype.multiply=D.prototype.j,D.prototype.modulo=D.prototype.A,D.prototype.compare=D.prototype.l,D.prototype.toNumber=D.prototype.m,D.prototype.toString=D.prototype.toString,D.prototype.getBits=D.prototype.i,D.fromNumber=X,D.fromString=function ce(wt,Xe){if(0==wt.length)throw Error("number format error: empty string");if(2>(Xe=Xe||10)||36<Xe)throw Error("radix out of range: "+Xe);if("-"==wt.charAt(0))return Cn(ce(wt.substring(1),Xe));if(0<=wt.indexOf("-"))throw Error('number format error: interior "-" character');for(var lt=X(Math.pow(Xe,8)),Tt=be,Rt=0;Rt<wt.length;Rt+=8){var Lt=Math.min(8,wt.length-Rt),it=parseInt(wt.substring(Rt,Rt+Lt),Xe);8>Lt?(Lt=X(Math.pow(Xe,Lt)),Tt=Tt.j(Lt).add(X(it))):Tt=(Tt=Tt.j(lt)).add(X(it))}return Tt},Le=Oe.Integer=D}).apply(typeof pt<"u"?pt:typeof self<"u"?self:typeof window<"u"?window:{});var At,Ct,Qt,Zt,un,In,Ut,Gt,Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fe={};(function(){var f,n="function"==typeof Object.defineProperties?Object.defineProperty:function(I,H,ne){return I==Array.prototype||I==Object.prototype||(I[H]=ne.value),I},d=function o(I){I=["object"==typeof globalThis&&globalThis,I,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ve&&Ve];for(var H=0;H<I.length;++H){var ne=I[H];if(ne&&ne.Math==Math)return ne}throw Error("Cannot find global object")}(this);!function g(I,H){if(H)e:{var ne=d;I=I.split(".");for(var ye=0;ye<I.length-1;ye++){var Nt=I[ye];if(!(Nt in ne))break e;ne=ne[Nt]}(H=H(ye=ne[I=I[I.length-1]]))!=ye&&null!=H&&n(ne,I,{configurable:!0,writable:!0,value:H})}}("Array.prototype.values",function(I){return I||function(){return function b(I,H){I instanceof String&&(I+="");var ne=0,ye=!1,Nt={next:function(){if(!ye&&ne<I.length){var sn=ne++;return{value:H(sn,I[sn]),done:!1}}return ye=!0,{done:!0,value:void 0}}};return Nt[Symbol.iterator]=function(){return Nt},Nt}(this,function(H,ne){return ne})}});var D=D||{},N=this||self;function $(I){var H=typeof I;return"array"==(H="object"!=H?H:I?Array.isArray(I)?"array":H:"null")||"object"==H&&"number"==typeof I.length}function X(I){var H=typeof I;return"object"==H&&null!=I||"function"==H}function ce(I,H,ne){return I.call.apply(I.bind,arguments)}function be(I,H,ne){if(!I)throw Error();if(2<arguments.length){var ye=Array.prototype.slice.call(arguments,2);return function(){var Nt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Nt,ye),I.apply(H,Nt)}}return function(){return I.apply(H,arguments)}}function Je(I,H,ne){return(Je=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ce:be).apply(null,arguments)}function Ft(I,H){var ne=Array.prototype.slice.call(arguments,1);return function(){var ye=ne.slice();return ye.push.apply(ye,arguments),I.apply(this,ye)}}function cn(I,H){function ne(){}ne.prototype=H.prototype,I.aa=H.prototype,I.prototype=new ne,I.prototype.constructor=I,I.Qb=function(ye,Nt,sn){for(var er=Array(arguments.length-2),Gs=2;Gs<arguments.length;Gs++)er[Gs-2]=arguments[Gs];return H.prototype[Nt].apply(ye,er)}}function Mn(I){const H=I.length;if(0<H){const ne=Array(H);for(let ye=0;ye<H;ye++)ne[ye]=I[ye];return ne}return[]}function Cn(I,H){for(let ne=1;ne<arguments.length;ne++){const ye=arguments[ne];if($(ye)){const Nt=I.length||0,sn=ye.length||0;I.length=Nt+sn;for(let er=0;er<sn;er++)I[Nt+er]=ye[er]}else I.push(ye)}}function Sr(I){return/^[\s\xa0]*$/.test(I)}function rr(){var I=N.navigator;return I&&(I=I.userAgent)?I:""}function hi(I){return hi[" "](I),I}hi[" "]=function(){};var gs=!(-1==rr().indexOf("Gecko")||-1!=rr().toLowerCase().indexOf("webkit")&&-1==rr().indexOf("Edge")||-1!=rr().indexOf("Trident")||-1!=rr().indexOf("MSIE")||-1!=rr().indexOf("Edge"));function Ui(I,H,ne){for(const ye in I)H.call(ne,I[ye],ye,I)}function Xe(I){const H={};for(const ne in I)H[ne]=I[ne];return H}const lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(I,H){let ne,ye;for(let Nt=1;Nt<arguments.length;Nt++){for(ne in ye=arguments[Nt],ye)I[ne]=ye[ne];for(let sn=0;sn<lt.length;sn++)ne=lt[sn],Object.prototype.hasOwnProperty.call(ye,ne)&&(I[ne]=ye[ne])}}function Rt(I){var H=1;I=I.split(":");const ne=[];for(;0<H&&I.length;)ne.push(I.shift()),H--;return I.length&&ne.push(I.join(":")),ne}function Lt(I){N.setTimeout(()=>{throw I},0)}function it(){var I=xf;let H=null;return I.g&&(H=I.g,I.g=I.g.next,I.g||(I.h=null),H.next=null),H}var Rf=new class Cr{constructor(H,ne){this.i=H,this.j=ne,this.h=0,this.g=null}get(){let H;return 0<this.h?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}(()=>new by,I=>I.reset());class by{constructor(){this.next=this.g=this.h=null}set(H,ne){this.h=H,this.g=ne,this.next=null}reset(){this.next=this.g=this.h=null}}let ph,qp=!1,xf=new class fd{constructor(){this.h=this.g=null}add(H,ne){const ye=Rf.get();ye.set(H,ne),this.h?this.h.next=ye:this.g=ye,this.h=ye}},Qp=()=>{const I=N.Promise.resolve(void 0);ph=()=>{I.then(LE)}};var LE=()=>{for(var I;I=it();){try{I.h.call(I.g)}catch(ne){Lt(ne)}var H=Rf;H.j(I),100>H.h&&(H.h++,I.next=H.g,H.g=I)}qp=!1};function Al(){this.s=this.s,this.C=this.C}function Po(I,H){this.type=I,this.g=this.target=H,this.defaultPrevented=!1}Al.prototype.s=!1,Al.prototype.ma=function(){this.s||(this.s=!0,this.N())},Al.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Po.prototype.h=function(){this.defaultPrevented=!0};var Ey=function(){if(!N.addEventListener||!Object.defineProperty)return!1;var I=!1,H=Object.defineProperty({},"passive",{get:function(){I=!0}});try{const ne=()=>{};N.addEventListener("test",ne,H),N.removeEventListener("test",ne,H)}catch{}return I}();function gh(I,H){if(Po.call(this,I?I.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,I){var ne=this.type=I.type,ye=I.changedTouches&&I.changedTouches.length?I.changedTouches[0]:null;if(this.target=I.target||I.srcElement,this.g=H,H=I.relatedTarget){if(gs){e:{try{hi(H.nodeName);var Nt=!0;break e}catch{}Nt=!1}Nt||(H=null)}}else"mouseover"==ne?H=I.fromElement:"mouseout"==ne&&(H=I.toElement);this.relatedTarget=H,ye?(this.clientX=void 0!==ye.clientX?ye.clientX:ye.pageX,this.clientY=void 0!==ye.clientY?ye.clientY:ye.pageY,this.screenX=ye.screenX||0,this.screenY=ye.screenY||0):(this.clientX=void 0!==I.clientX?I.clientX:I.pageX,this.clientY=void 0!==I.clientY?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0),this.button=I.button,this.key=I.key||"",this.ctrlKey=I.ctrlKey,this.altKey=I.altKey,this.shiftKey=I.shiftKey,this.metaKey=I.metaKey,this.pointerId=I.pointerId||0,this.pointerType="string"==typeof I.pointerType?I.pointerType:VE[I.pointerType]||"",this.state=I.state,this.i=I,I.defaultPrevented&&gh.aa.h.call(this)}}cn(gh,Po);var VE={2:"touch",3:"pen",4:"mouse"};gh.prototype.h=function(){gh.aa.h.call(this);var I=this.i;I.preventDefault?I.preventDefault():I.returnValue=!1};var pd="closure_listenable_"+(1e6*Math.random()|0),Sl=0;function Pf(I,H,ne,ye,Nt){this.listener=I,this.proxy=null,this.src=H,this.type=ne,this.capture=!!ye,this.ha=Nt,this.key=++Sl,this.da=this.fa=!1}function Xp(I){I.da=!0,I.listener=null,I.proxy=null,I.src=null,I.ha=null}function Bm(I){this.src=I,this.g={},this.h=0}function Um(I,H){var ne=H.type;if(ne in I.g){var sn,ye=I.g[ne],Nt=Array.prototype.indexOf.call(ye,H,void 0);(sn=0<=Nt)&&Array.prototype.splice.call(ye,Nt,1),sn&&(Xp(H),0==I.g[ne].length&&(delete I.g[ne],I.h--))}}function gd(I,H,ne,ye){for(var Nt=0;Nt<I.length;++Nt){var sn=I[Nt];if(!sn.da&&sn.listener==H&&sn.capture==!!ne&&sn.ha==ye)return Nt}return-1}Bm.prototype.add=function(I,H,ne,ye,Nt){var sn=I.toString();(I=this.g[sn])||(I=this.g[sn]=[],this.h++);var er=gd(I,H,ye,Nt);return-1<er?(H=I[er],ne||(H.fa=!1)):((H=new Pf(H,this.src,sn,!!ye,Nt)).fa=ne,I.push(H)),H};var Yp="closure_lm_"+(1e6*Math.random()|0),mh={};function _h(I,H,ne,ye,Nt){if(ye&&ye.once)return jm(I,H,ne,ye,Nt);if(Array.isArray(H)){for(var sn=0;sn<H.length;sn++)_h(I,H[sn],ne,ye,Nt);return null}return ne=yh(ne),I&&I[pd]?I.K(H,ne,X(ye)?!!ye.capture:!!ye,Nt):eb(I,H,ne,!1,ye,Nt)}function eb(I,H,ne,ye,Nt,sn){if(!H)throw Error("Invalid event type");var er=X(Nt)?!!Nt.capture:!!Nt,Gs=Jp(I);if(Gs||(I[Yp]=Gs=new Bm(I)),(ne=Gs.add(H,ne,ye,er,sn)).proxy)return ne;if(ye=function wy(){const H=nb;return function I(ne){return H.call(I.src,I.listener,ne)}}(),ne.proxy=ye,ye.src=I,ye.listener=ne,I.addEventListener)Ey||(Nt=er),void 0===Nt&&(Nt=!1),I.addEventListener(H.toString(),ye,Nt);else if(I.attachEvent)I.attachEvent(tb(H.toString()),ye);else{if(!I.addListener||!I.removeListener)throw Error("addEventListener and attachEvent are unavailable.");I.addListener(ye)}return ne}function jm(I,H,ne,ye,Nt){if(Array.isArray(H)){for(var sn=0;sn<H.length;sn++)jm(I,H[sn],ne,ye,Nt);return null}return ne=yh(ne),I&&I[pd]?I.L(H,ne,X(ye)?!!ye.capture:!!ye,Nt):eb(I,H,ne,!0,ye,Nt)}function Zp(I,H,ne,ye,Nt){if(Array.isArray(H))for(var sn=0;sn<H.length;sn++)Zp(I,H[sn],ne,ye,Nt);else ye=X(ye)?!!ye.capture:!!ye,ne=yh(ne),I&&I[pd]?(I=I.i,(H=String(H).toString())in I.g&&-1<(ne=gd(sn=I.g[H],ne,ye,Nt))&&(Xp(sn[ne]),Array.prototype.splice.call(sn,ne,1),0==sn.length&&(delete I.g[H],I.h--))):I&&(I=Jp(I))&&(H=I.g[H.toString()],I=-1,H&&(I=gd(H,ne,ye,Nt)),(ne=-1<I?H[I]:null)&&$m(ne))}function $m(I){if("number"!=typeof I&&I&&!I.da){var H=I.src;if(H&&H[pd])Um(H.i,I);else{var ne=I.type,ye=I.proxy;H.removeEventListener?H.removeEventListener(ne,ye,I.capture):H.detachEvent?H.detachEvent(tb(ne),ye):H.addListener&&H.removeListener&&H.removeListener(ye),(ne=Jp(H))?(Um(ne,I),0==ne.h&&(ne.src=null,H[Yp]=null)):Xp(I)}}}function tb(I){return I in mh?mh[I]:mh[I]="on"+I}function nb(I,H){if(I.da)I=!0;else{H=new gh(H,this);var ne=I.listener,ye=I.ha||I.src;I.fa&&$m(I),I=ne.call(ye,H)}return I}function Jp(I){return(I=I[Yp])instanceof Bm?I:null}var eg="__closure_events_fn_"+(1e9*Math.random()>>>0);function yh(I){return"function"==typeof I?I:(I[eg]||(I[eg]=function(H){return I.handleEvent(H)}),I[eg])}function Mo(){Al.call(this),this.i=new Bm(this),this.M=this,this.F=null}function ka(I,H){var ne,ye=I.F;if(ye)for(ne=[];ye;ye=ye.F)ne.push(ye);if(I=I.M,ye=H.type||H,"string"==typeof H)H=new Po(H,I);else if(H instanceof Po)H.target=H.target||I;else{var Nt=H;Tt(H=new Po(ye,I),Nt)}if(Nt=!0,ne)for(var sn=ne.length-1;0<=sn;sn--){var er=H.g=ne[sn];Nt=vh(er,ye,!0,H)&&Nt}if(Nt=vh(er=H.g=I,ye,!0,H)&&Nt,Nt=vh(er,ye,!1,H)&&Nt,ne)for(sn=0;sn<ne.length;sn++)Nt=vh(er=H.g=ne[sn],ye,!1,H)&&Nt}function vh(I,H,ne,ye){if(!(H=I.i.g[String(H)]))return!0;H=H.concat();for(var Nt=!0,sn=0;sn<H.length;++sn){var er=H[sn];if(er&&!er.da&&er.capture==ne){var Gs=er.listener,Zo=er.ha||er.src;er.fa&&Um(I.i,er),Nt=!1!==Gs.call(Zo,ye)&&Nt}}return Nt&&!ye.defaultPrevented}function Hm(I,H,ne){if("function"==typeof I)ne&&(I=Je(I,ne));else{if(!I||"function"!=typeof I.handleEvent)throw Error("Invalid listener argument");I=Je(I.handleEvent,I)}return 2147483647<Number(H)?-1:N.setTimeout(I,H||0)}function tg(I){I.g=Hm(()=>{I.g=null,I.i&&(I.i=!1,tg(I))},I.l);const H=I.h;I.h=null,I.m.apply(null,H)}cn(Mo,Al),Mo.prototype[pd]=!0,Mo.prototype.removeEventListener=function(I,H,ne,ye){Zp(this,I,H,ne,ye)},Mo.prototype.N=function(){if(Mo.aa.N.call(this),this.i){var H,I=this.i;for(H in I.g){for(var ne=I.g[H],ye=0;ye<ne.length;ye++)Xp(ne[ye]);delete I.g[H],I.h--}}this.F=null},Mo.prototype.K=function(I,H,ne,ye){return this.i.add(String(I),H,!1,ne,ye)},Mo.prototype.L=function(I,H,ne,ye){return this.i.add(String(I),H,!0,ne,ye)};class BE extends Al{constructor(H,ne){super(),this.m=H,this.l=ne,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:tg(this)}N(){super.N(),this.g&&(N.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bh(I){Al.call(this),this.h=I,this.g={}}cn(bh,Al);var rb=[];function ib(I){Ui(I.g,function(H,ne){this.g.hasOwnProperty(ne)&&$m(H)},I),I.g={}}bh.prototype.N=function(){bh.aa.N.call(this),ib(this)},bh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var md=N.JSON.stringify,Iy=N.JSON.parse,sb=class{stringify(I){return N.JSON.stringify(I,void 0)}parse(I){return N.JSON.parse(I,void 0)}};function zm(){}function ob(){}zm.prototype.h=null;var ng={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cy(){Po.call(this,"d")}function ab(){Po.call(this,"c")}cn(Cy,Po),cn(ab,Po);var Eh={},Wm=null;function rg(){return Wm=Wm||new Mo}function lb(I){Po.call(this,Eh.La,I)}function Vu(I){const H=rg();ka(H,new lb(H))}function cb(I,H){Po.call(this,Eh.STAT_EVENT,I),this.stat=H}function La(I){const H=rg();ka(H,new cb(H,I))}function Dy(I,H){Po.call(this,Eh.Ma,I),this.size=H}function eu(I,H){if("function"!=typeof I)throw Error("Fn must not be null and must be a function");return N.setTimeout(function(){I()},H)}function ig(){this.g=!0}function Bu(I,H,ne,ye){I.info(function(){return"XMLHTTP TEXT ("+H+"): "+function jE(I,H){if(!I.g)return H;if(!H)return null;try{var ne=JSON.parse(H);if(ne)for(I=0;I<ne.length;I++)if(Array.isArray(ne[I])){var ye=ne[I];if(!(2>ye.length)){var Nt=ye[1];if(Array.isArray(Nt)&&!(1>Nt.length)){var sn=Nt[0];if("noop"!=sn&&"stop"!=sn&&"close"!=sn)for(var er=1;er<Nt.length;er++)Nt[er]=""}}}return md(ne)}catch{return H}}(I,ne)+(ye?" "+ye:"")})}Eh.La="serverreachability",cn(lb,Po),Eh.STAT_EVENT="statevent",cn(cb,Po),Eh.Ma="timingevent",cn(Dy,Po),ig.prototype.xa=function(){this.g=!1},ig.prototype.info=function(){};var Gm,_d={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Cc(){}function tu(I,H,ne,ye){this.j=I,this.i=H,this.l=ne,this.R=ye||1,this.U=new bh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mf}function Mf(){this.i=null,this.g="",this.h=!1}cn(Cc,zm),Cc.prototype.g=function(){return new XMLHttpRequest},Cc.prototype.i=function(){return{}},Gm=new Cc;var Sy={},Km={};function Uu(I,H,ne){I.L=1,I.v=lg(iu(H)),I.m=ne,I.P=!0,$E(I,null)}function $E(I,H){I.F=Date.now(),qm(I),I.A=iu(I.v);var ne=I.A,ye=I.R;Array.isArray(ye)||(ye=[String(ye)]),Eb(ne.i,"t",ye),I.C=0,ne=I.j.J,I.h=new Mf,I.g=$u(I.j,ne?H:null,!I.m),0<I.O&&(I.M=new BE(Je(I.Y,I,I.g),I.O)),H=I.U,ne=I.g,ye=I.ca;var Nt="readystatechange";Array.isArray(Nt)||(Nt&&(rb[0]=Nt.toString()),Nt=rb);for(var sn=0;sn<Nt.length;sn++){var er=_h(ne,Nt[sn],ye||H.handleEvent,!1,H.h||H);if(!er)break;H.g[er.key]=er}H=I.H?Xe(I.H):{},I.m?(I.u||(I.u="POST"),H["Content-Type"]="application/x-www-form-urlencoded",I.g.ea(I.A,I.u,I.m,H)):(I.u="GET",I.g.ea(I.A,I.u,null,H)),Vu(),function UE(I,H,ne,ye,Nt,sn){I.info(function(){if(I.g)if(sn)for(var er="",Gs=sn.split("&"),Zo=0;Zo<Gs.length;Zo++){var es=Gs[Zo].split("=");if(1<es.length){var Ba=es[0];es=es[1];var Ua=Ba.split("_");er=2<=Ua.length&&"type"==Ua[1]?er+(Ba+"=")+es+"&":er+(Ba+"=redacted&")}}else er=null;else er=sn;return"XMLHTTP REQ ("+ye+") [attempt "+Nt+"]: "+H+"\n"+ne+"\n"+er})}(I.i,I.u,I.A,I.l,I.R,I.m)}function HE(I){return!!I.g&&"GET"==I.u&&2!=I.L&&I.j.Ca}function og(I,H){var ne=I.C,ye=H.indexOf("\n",ne);return-1==ye?Km:(ne=Number(H.substring(ne,ye)),isNaN(ne)?Sy:(ye+=1)+ne>H.length?Km:(H=H.slice(ye,ye+ne),I.C=ye+ne,H))}function qm(I){I.S=Date.now()+I.I,Ry(I,I.I)}function Ry(I,H){if(null!=I.B)throw Error("WatchDog timer not null");I.B=eu(Je(I.ba,I),H)}function Qm(I){I.B&&(N.clearTimeout(I.B),I.B=null)}function yd(I){0==I.j.G||I.J||$y(I.j,I)}function nu(I){Qm(I);var H=I.M;H&&"function"==typeof H.ma&&H.ma(),I.M=null,ib(I.U),I.g&&(H=I.g,I.g=null,H.abort(),H.ma())}function xy(I,H){try{var ne=I.j;if(0!=ne.G&&(ne.g==I||pb(ne.h,I)))if(!I.K&&pb(ne.h,I)&&3==ne.G){try{var ye=ne.Da.g.parse(H)}catch{ye=null}if(Array.isArray(ye)&&3==ye.length){var Nt=ye;if(0==Nt[0]){e:if(!ne.u){if(ne.g){if(!(ne.g.F+3e3<I.F))break e;n_(ne),hg(ne)}Uy(ne),La(18)}}else ne.za=Nt[1],0<ne.za-ne.T&&37500>Nt[2]&&ne.F&&0==ne.v&&!ne.C&&(ne.C=eu(Je(ne.Za,ne),6e3));if(1>=fb(ne.h)&&ne.ca){try{ne.ca()}catch{}ne.ca=void 0}}else Ch(ne,11)}else if((I.K||ne.g==I)&&n_(ne),!Sr(H))for(Nt=ne.Da.g.parse(H),H=0;H<Nt.length;H++){let es=Nt[H];if(ne.T=es[0],es=es[1],2==ne.G)if("c"==es[0]){ne.K=es[1],ne.ia=es[2];const Ba=es[3];null!=Ba&&(ne.la=Ba,ne.j.info("VER="+ne.la));const Ua=es[4];null!=Ua&&(ne.Aa=Ua,ne.j.info("SVER="+ne.Aa));const jf=es[5];null!=jf&&"number"==typeof jf&&0<jf&&(ne.L=ye=1.5*jf,ne.j.info("backChannelRequestTimeoutMs_="+ye)),ye=ne;const Zl=I.g;if(Zl){const i_=Zl.g?Zl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(i_){var sn=ye.h;sn.g||-1==i_.indexOf("spdy")&&-1==i_.indexOf("quic")&&-1==i_.indexOf("h2")||(sn.j=sn.l,sn.g=new Set,sn.h&&(Xm(sn,sn.h),sn.h=null))}if(ye.D){const Hy=Zl.g?Zl.g.getResponseHeader("X-HTTP-Session-Id"):null;Hy&&(ye.ya=Hy,Bs(ye.I,ye.D,Hy))}}ne.G=3,ne.l&&ne.l.ua(),ne.ba&&(ne.R=Date.now()-I.F,ne.j.info("Handshake RTT: "+ne.R+"ms"));var er=I;if((ye=ne).qa=kb(ye,ye.J?ye.ia:null,ye.W),er.K){zE(ye.h,er);var Gs=er,Zo=ye.L;Zo&&(Gs.I=Zo),Gs.B&&(Qm(Gs),qm(Gs)),ye.g=er}else xb(ye);0<ne.i.length&&e_(ne)}else"stop"!=es[0]&&"close"!=es[0]||Ch(ne,7);else 3==ne.G&&("stop"==es[0]||"close"==es[0]?"stop"==es[0]?Ch(ne,7):Jm(ne):"noop"!=es[0]&&ne.l&&ne.l.ta(es),ne.v=0)}Vu()}catch{}}tu.prototype.ca=function(I){I=I.target;const H=this.M;H&&3==wd(I)?H.j():this.Y(I)},tu.prototype.Y=function(I){try{if(I==this.g)e:{const Ua=wd(this.g);var H=this.g.Ba();if(this.g.Z(),!(3>Ua)&&(3!=Ua||this.g&&(this.h.h||this.g.oa()||Cb(this.g)))){this.J||4!=Ua||7==H||Vu(),Qm(this);var ne=this.g.Z();this.X=ne;t:if(HE(this)){var ye=Cb(this.g);I="";var Nt=ye.length,sn=4==wd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){nu(this),yd(this);var er="";break t}this.h.i=new N.TextDecoder}for(H=0;H<Nt;H++)this.h.h=!0,I+=this.h.i.decode(ye[H],{stream:!(sn&&H==Nt-1)});ye.length=0,this.h.g+=I,this.C=0,er=this.h.g}else er=this.g.oa();if(this.o=200==ne,function Ay(I,H,ne,ye,Nt,sn,er){I.info(function(){return"XMLHTTP RESP ("+ye+") [ attempt "+Nt+"]: "+H+"\n"+ne+"\n"+sn+" "+er})}(this.i,this.u,this.A,this.l,this.R,Ua,ne),this.o){if(this.T&&!this.K){t:{if(this.g){var Gs,Zo=this.g;if((Gs=Zo.g?Zo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sr(Gs)){var es=Gs;break t}}es=null}if(!(ne=es)){this.o=!1,this.s=3,La(12),nu(this),yd(this);break e}Bu(this.i,this.l,ne,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xy(this,ne)}if(this.P){let Zl;for(ne=!0;!this.J&&this.C<er.length;){if(Zl=og(this,er),Zl==Km){4==Ua&&(this.s=4,La(14),ne=!1),Bu(this.i,this.l,null,"[Incomplete Response]");break}if(Zl==Sy){this.s=4,La(15),Bu(this.i,this.l,er,"[Invalid Chunk]"),ne=!1;break}Bu(this.i,this.l,Zl,null),xy(this,Zl)}if(HE(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ua||0!=er.length||this.h.h||(this.s=1,La(16),ne=!1),this.o=this.o&&ne,ne){if(0<er.length&&!this.W){this.W=!0;var Ba=this.j;Ba.g==this&&Ba.ba&&!Ba.M&&(Ba.j.info("Great, no buffering proxy detected. Bytes received: "+er.length),jy(Ba),Ba.M=!0,La(11))}}else Bu(this.i,this.l,er,"[Invalid Chunked Response]"),nu(this),yd(this)}else Bu(this.i,this.l,er,null),xy(this,er);4==Ua&&nu(this),this.o&&!this.J&&(4==Ua?$y(this.j,this):(this.o=!1,qm(this)))}else(function Db(I){const H={};I=(I.g&&2<=wd(I)&&I.g.getAllResponseHeaders()||"").split("\r\n");for(let ye=0;ye<I.length;ye++){if(Sr(I[ye]))continue;var ne=Rt(I[ye]);const Nt=ne[0];if("string"!=typeof(ne=ne[1]))continue;ne=ne.trim();const sn=H[Nt]||[];H[Nt]=sn,sn.push(ne)}!function wt(I,H){for(const ne in I)H.call(void 0,I[ne],ne,I)}(H,function(ye){return ye.join(", ")})})(this.g),400==ne&&0<er.indexOf("Unknown SID")?(this.s=3,La(12)):(this.s=0,La(13)),nu(this),yd(this)}}}catch{}},tu.prototype.cancel=function(){this.J=!0,nu(this)},tu.prototype.ba=function(){this.B=null;const I=Date.now();0<=I-this.S?(function ub(I,H){I.info(function(){return"TIMEOUT: "+H})}(this.i,this.A),2!=this.L&&(Vu(),La(17)),nu(this),this.s=2,yd(this)):Ry(this,this.S-I)};var Qw=class{constructor(I,H){this.g=I,this.map=H}};function db(I){this.l=I||10,I=N.PerformanceNavigationTiming?0<(I=N.performance.getEntriesByType("navigation")).length&&("hq"==I[0].nextHopProtocol||"h2"==I[0].nextHopProtocol):!!(N.chrome&&N.chrome.loadTimes&&N.chrome.loadTimes()&&N.chrome.loadTimes().wasFetchedViaSpdy),this.j=I?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hb(I){return!!I.h||!!I.g&&I.g.size>=I.j}function fb(I){return I.h?1:I.g?I.g.size:0}function pb(I,H){return I.h?I.h==H:!!I.g&&I.g.has(H)}function Xm(I,H){I.g?I.g.add(H):I.h=H}function zE(I,H){I.h&&I.h==H?I.h=null:I.g&&I.g.has(H)&&I.g.delete(H)}function gb(I){if(null!=I.h)return I.i.concat(I.h.D);if(null!=I.g&&0!==I.g.size){let H=I.i;for(const ne of I.g.values())H=H.concat(ne.D);return H}return Mn(I.i)}function Ym(I,H){if(I.forEach&&"function"==typeof I.forEach)I.forEach(H,void 0);else if($(I)||"string"==typeof I)Array.prototype.forEach.call(I,H,void 0);else for(var ne=function GE(I){if(I.na&&"function"==typeof I.na)return I.na();if(!I.V||"function"!=typeof I.V){if(typeof Map<"u"&&I instanceof Map)return Array.from(I.keys());if(!(typeof Set<"u"&&I instanceof Set)){if($(I)||"string"==typeof I){var H=[];I=I.length;for(var ne=0;ne<I;ne++)H.push(ne);return H}H=[],ne=0;for(const ye in I)H[ne++]=ye;return H}}}(I),ye=function WE(I){if(I.V&&"function"==typeof I.V)return I.V();if(typeof Map<"u"&&I instanceof Map||typeof Set<"u"&&I instanceof Set)return Array.from(I.values());if("string"==typeof I)return I.split("");if($(I)){for(var H=[],ne=I.length,ye=0;ye<ne;ye++)H.push(I[ye]);return H}for(ye in H=[],ne=0,I)H[ne++]=I[ye];return H}(I),Nt=ye.length,sn=0;sn<Nt;sn++)H.call(void 0,ye[sn],ne&&ne[sn],I)}db.prototype.cancel=function(){if(this.i=gb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const I of this.g.values())I.cancel();this.g.clear()}};var kf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ru(I){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,I instanceof ru){this.h=I.h,vd(this,I.j),this.o=I.o,this.g=I.g,ag(this,I.s),this.l=I.l;var H=I.i,ne=new cg;ne.i=H.i,H.g&&(ne.g=new Map(H.g),ne.h=H.h),mb(this,ne),this.m=I.m}else I&&(H=String(I).match(kf))?(this.h=!1,vd(this,H[1]||"",!0),this.o=Of(H[2]||""),this.g=Of(H[3]||"",!0),ag(this,H[4]),this.l=Of(H[5]||"",!0),mb(this,H[6]||"",!0),this.m=Of(H[7]||"")):(this.h=!1,this.i=new cg(null,this.h))}function iu(I){return new ru(I)}function vd(I,H,ne){I.j=ne?Of(H,!0):H,I.j&&(I.j=I.j.replace(/:$/,""))}function ag(I,H){if(H){if(H=Number(H),isNaN(H)||0>H)throw Error("Bad port number "+H);I.s=H}else I.s=null}function mb(I,H,ne){H instanceof cg?(I.i=H,function Ws(I,H){H&&!I.j&&(bd(I),I.i=null,I.g.forEach(function(ne,ye){var Nt=ye.toLowerCase();ye!=Nt&&(Nf(this,ye),Eb(this,Nt,ne))},I)),I.j=H}(I.i,I.h)):(ne||(H=su(H,vb)),I.i=new cg(H,I.h))}function Bs(I,H,ne){I.i.set(H,ne)}function lg(I){return Bs(I,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),I}function Of(I,H){return I?H?decodeURI(I.replace(/%25/g,"%2525")):decodeURIComponent(I):""}function su(I,H,ne){return"string"==typeof I?(I=encodeURI(I).replace(H,My),ne&&(I=I.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I):null}function My(I){return"%"+((I=I.charCodeAt(0))>>4&15).toString(16)+(15&I).toString(16)}ru.prototype.toString=function(){var I=[],H=this.j;H&&I.push(su(H,_b,!0),":");var ne=this.g;return(ne||"file"==H)&&(I.push("//"),(H=this.o)&&I.push(su(H,_b,!0),"@"),I.push(encodeURIComponent(String(ne)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ne=this.s)&&I.push(":",String(ne))),(ne=this.l)&&(this.g&&"/"!=ne.charAt(0)&&I.push("/"),I.push(su(ne,"/"==ne.charAt(0)?yb:KE,!0))),(ne=this.i.toString())&&I.push("?",ne),(ne=this.m)&&I.push("#",su(ne,qE)),I.join("")};var _b=/[#\/\?@]/g,KE=/[#\?:]/g,yb=/[#\?]/g,vb=/[#\?@]/g,qE=/#/g;function cg(I,H){this.h=this.g=null,this.i=I||null,this.j=!!H}function bd(I){I.g||(I.g=new Map,I.h=0,I.i&&function Py(I,H){if(I){I=I.split("&");for(var ne=0;ne<I.length;ne++){var ye=I[ne].indexOf("="),Nt=null;if(0<=ye){var sn=I[ne].substring(0,ye);Nt=I[ne].substring(ye+1)}else sn=I[ne];H(sn,Nt?decodeURIComponent(Nt.replace(/\+/g," ")):"")}}}(I.i,function(H,ne){I.add(decodeURIComponent(H.replace(/\+/g," ")),ne)}))}function Nf(I,H){bd(I),H=Ff(I,H),I.g.has(H)&&(I.i=null,I.h-=I.g.get(H).length,I.g.delete(H))}function bb(I,H){return bd(I),H=Ff(I,H),I.g.has(H)}function Eb(I,H,ne){Nf(I,H),0<ne.length&&(I.i=null,I.g.set(Ff(I,H),Mn(ne)),I.h+=ne.length)}function Ff(I,H){return H=String(H),I.j&&(H=H.toLowerCase()),H}function ju(I,H,ne,ye,Nt){try{Nt&&(Nt.onload=null,Nt.onerror=null,Nt.onabort=null,Nt.ontimeout=null),ye(ne)}catch{}}function QE(){this.g=new sb}function ky(I,H,ne){const ye=ne||"";try{Ym(I,function(Nt,sn){let er=Nt;X(Nt)&&(er=md(Nt)),H.push(ye+sn+"="+encodeURIComponent(er))})}catch(Nt){throw H.push(ye+"type="+encodeURIComponent("_badmap")),Nt}}function Dc(I){this.l=I.Ub||null,this.j=I.eb||!1}function wh(I,H){Mo.call(this),this.D=I,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Zm(I){I.j.read().then(I.Pa.bind(I)).catch(I.ga.bind(I))}function ug(I){I.readyState=4,I.l=null,I.j=null,I.v=null,Lf(I)}function Lf(I){I.onreadystatechange&&I.onreadystatechange.call(I)}function Oy(I){let H="";return Ui(I,function(ne,ye){H+=ye,H+=":",H+=ne,H+="\r\n"}),H}function Ny(I,H,ne){e:{for(ye in ne){var ye=!1;break e}ye=!0}ye||(ne=Oy(ne),"string"==typeof I?null!=ne&&encodeURIComponent(String(ne)):Bs(I,H,ne))}function To(I){Mo.call(this),this.headers=new Map,this.o=I||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(f=cg.prototype).add=function(I,H){bd(this),this.i=null,I=Ff(this,I);var ne=this.g.get(I);return ne||this.g.set(I,ne=[]),ne.push(H),this.h+=1,this},f.forEach=function(I,H){bd(this),this.g.forEach(function(ne,ye){ne.forEach(function(Nt){I.call(H,Nt,ye,this)},this)},this)},f.na=function(){bd(this);const I=Array.from(this.g.values()),H=Array.from(this.g.keys()),ne=[];for(let ye=0;ye<H.length;ye++){const Nt=I[ye];for(let sn=0;sn<Nt.length;sn++)ne.push(H[ye])}return ne},f.V=function(I){bd(this);let H=[];if("string"==typeof I)bb(this,I)&&(H=H.concat(this.g.get(Ff(this,I))));else{I=Array.from(this.g.values());for(let ne=0;ne<I.length;ne++)H=H.concat(I[ne])}return H},f.set=function(I,H){return bd(this),this.i=null,bb(this,I=Ff(this,I))&&(this.h-=this.g.get(I).length),this.g.set(I,[H]),this.h+=1,this},f.get=function(I,H){return I&&0<(I=this.V(I)).length?String(I[0]):H},f.toString=function(){if(this.i)return this.i;if(!this.g)return"";const I=[],H=Array.from(this.g.keys());for(var ne=0;ne<H.length;ne++){var ye=H[ne];const sn=encodeURIComponent(String(ye)),er=this.V(ye);for(ye=0;ye<er.length;ye++){var Nt=sn;""!==er[ye]&&(Nt+="="+encodeURIComponent(String(er[ye]))),I.push(Nt)}}return this.i=I.join("&")},cn(Dc,zm),Dc.prototype.g=function(){return new wh(this.l,this.j)},Dc.prototype.i=function(I){return function(){return I}}({}),cn(wh,Mo),(f=wh.prototype).open=function(I,H){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=I,this.A=H,this.readyState=1,Lf(this)},f.send=function(I){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const H={headers:this.u,method:this.B,credentials:this.m,cache:void 0};I&&(H.body=I),(this.D||N).fetch(new Request(this.A,H)).then(this.Sa.bind(this),this.ga.bind(this))},f.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ug(this)),this.readyState=0},f.Sa=function(I){if(this.g&&(this.l=I,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=I.headers,this.readyState=2,Lf(this)),this.g&&(this.readyState=3,Lf(this),this.g)))if("arraybuffer"===this.responseType)I.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof N.ReadableStream<"u"&&"body"in I){if(this.j=I.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zm(this)}else I.text().then(this.Ra.bind(this),this.ga.bind(this))},f.Pa=function(I){if(this.g){if(this.o&&I.value)this.response.push(I.value);else if(!this.o){var H=I.value?I.value:new Uint8Array(0);(H=this.v.decode(H,{stream:!I.done}))&&(this.response=this.responseText+=H)}I.done?ug(this):Lf(this),3==this.readyState&&Zm(this)}},f.Ra=function(I){this.g&&(this.response=this.responseText=I,ug(this))},f.Qa=function(I){this.g&&(this.response=I,ug(this))},f.ga=function(){this.g&&ug(this)},f.setRequestHeader=function(I,H){this.u.append(I,H)},f.getResponseHeader=function(I){return this.h&&this.h.get(I.toLowerCase())||""},f.getAllResponseHeaders=function(){if(!this.h)return"";const I=[],H=this.h.entries();for(var ne=H.next();!ne.done;)I.push((ne=ne.value)[0]+": "+ne[1]),ne=H.next();return I.join("\r\n")},Object.defineProperty(wh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(I){this.m=I?"include":"same-origin"}}),cn(To,Mo);var Fy=/^https?$/i,Ih=["POST","PUT"];function Ly(I,H){I.h=!1,I.g&&(I.j=!0,I.g.abort(),I.j=!1),I.l=H,I.m=5,Vy(I),Ed(I)}function Vy(I){I.A||(I.A=!0,ka(I,"complete"),ka(I,"error"))}function Tb(I){if(I.h&&typeof D<"u"&&(!I.v[1]||4!=wd(I)||2!=I.Z()))if(I.u&&4==wd(I))Hm(I.Ea,0,I);else if(ka(I,"readystatechange"),4==wd(I)){I.h=!1;try{const er=I.Z();e:switch(er){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var ne;if(!(ne=H)){var ye;if(ye=0===er){var Nt=String(I.D).match(kf)[1]||null;!Nt&&N.self&&N.self.location&&(Nt=N.self.location.protocol.slice(0,-1)),ye=!Fy.test(Nt?Nt.toLowerCase():"")}ne=ye}if(ne)ka(I,"complete"),ka(I,"success");else{I.m=6;try{var sn=2<wd(I)?I.g.statusText:""}catch{sn=""}I.l=sn+" ["+I.Z()+"]",Vy(I)}}finally{Ed(I)}}}function Ed(I,H){if(I.g){dg(I);const ne=I.g,ye=I.v[0]?()=>{}:null;I.g=null,I.v=null,H||ka(I,"ready");try{ne.onreadystatechange=ye}catch{}}}function dg(I){I.I&&(N.clearTimeout(I.I),I.I=null)}function wd(I){return I.g?I.g.readyState:0}function Cb(I){try{if(!I.g)return null;if("response"in I.g)return I.g.response;switch(I.H){case"":case"text":return I.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in I.g)return I.g.mozResponseArrayBuffer}return null}catch{return null}}function Th(I,H,ne){return ne&&ne.internalChannelParams&&ne.internalChannelParams[I]||H}function Ab(I){this.Aa=0,this.i=[],this.j=new ig,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Th("failFast",!1,I),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Th("baseRetryDelayMs",5e3,I),this.cb=Th("retryDelaySeedMs",1e4,I),this.Wa=Th("forwardChannelMaxRetries",2,I),this.wa=Th("forwardChannelRequestTimeoutMs",2e4,I),this.pa=I&&I.xmlHttpFactory||void 0,this.Xa=I&&I.Tb||void 0,this.Ca=I&&I.useFetchStreams||!1,this.L=void 0,this.J=I&&I.supportsCrossDomainXhr||!1,this.K="",this.h=new db(I&&I.concurrentRequestLimit),this.Da=new QE,this.P=I&&I.fastHandshake||!1,this.O=I&&I.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=I&&I.Rb||!1,I&&I.xa&&this.j.xa(),I&&I.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&I&&I.detectBufferingProxy||!1,this.ja=void 0,I&&I.longPollingTimeout&&0<I.longPollingTimeout&&(this.ja=I.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Jm(I){if(Sb(I),3==I.G){var H=I.U++,ne=iu(I.I);if(Bs(ne,"SID",I.K),Bs(ne,"RID",H),Bs(ne,"TYPE","terminate"),Vf(I,ne),(H=new tu(I,I.j,H)).L=2,H.v=lg(iu(ne)),ne=!1,N.navigator&&N.navigator.sendBeacon)try{ne=N.navigator.sendBeacon(H.v.toString(),"")}catch{}!ne&&N.Image&&((new Image).src=H.v,ne=!0),ne||(H.g=$u(H.j,null),H.g.ea(H.v)),H.F=Date.now(),qm(H)}Mb(I)}function hg(I){I.g&&(jy(I),I.g.cancel(),I.g=null)}function Sb(I){hg(I),I.u&&(N.clearTimeout(I.u),I.u=null),n_(I),I.h.cancel(),I.s&&("number"==typeof I.s&&N.clearTimeout(I.s),I.s=null)}function e_(I){if(!hb(I.h)&&!I.s){I.s=!0;var H=I.Ga;ph||Qp(),qp||(ph(),qp=!0),xf.add(H,I),I.B=0}}function By(I,H){var ne;ne=H?H.l:I.U++;const ye=iu(I.I);Bs(ye,"SID",I.K),Bs(ye,"RID",ne),Bs(ye,"AID",I.T),Vf(I,ye),I.m&&I.o&&Ny(ye,I.m,I.o),ne=new tu(I,I.j,ne,I.B+1),null===I.m&&(ne.H=I.o),H&&(I.i=H.D.concat(I.i)),H=t_(I,ne,1e3),ne.I=Math.round(.5*I.wa)+Math.round(.5*I.wa*Math.random()),Xm(I.h,ne),Uu(ne,ye,H)}function Vf(I,H){I.H&&Ui(I.H,function(ne,ye){Bs(H,ye,ne)}),I.l&&Ym({},function(ne,ye){Bs(H,ye,ne)})}function t_(I,H,ne){ne=Math.min(I.i.length,ne);var ye=I.l?Je(I.l.Na,I.l,I):null;e:{var Nt=I.i;let sn=-1;for(;;){const er=["count="+ne];-1==sn?0<ne?(sn=Nt[0].g,er.push("ofs="+sn)):sn=0:er.push("ofs="+sn);let Gs=!0;for(let Zo=0;Zo<ne;Zo++){let es=Nt[Zo].g;const Ba=Nt[Zo].map;if(es-=sn,0>es)sn=Math.max(0,Nt[Zo].g-100),Gs=!1;else try{ky(Ba,er,"req"+es+"_")}catch{ye&&ye(Ba)}}if(Gs){ye=er.join("&");break e}}}return I=I.i.splice(0,ne),H.D=I,ye}function xb(I){if(!I.g&&!I.u){I.Y=1;var H=I.Fa;ph||Qp(),qp||(ph(),qp=!0),xf.add(H,I),I.v=0}}function Uy(I){return!(I.g||I.u||3<=I.v||(I.Y++,I.u=eu(Je(I.Fa,I),r_(I,I.v)),I.v++,0))}function jy(I){null!=I.A&&(N.clearTimeout(I.A),I.A=null)}function Pb(I){I.g=new tu(I,I.j,"rpc",I.Y),null===I.m&&(I.g.H=I.o),I.g.O=0;var H=iu(I.qa);Bs(H,"RID","rpc"),Bs(H,"SID",I.K),Bs(H,"AID",I.T),Bs(H,"CI",I.F?"0":"1"),!I.F&&I.ja&&Bs(H,"TO",I.ja),Bs(H,"TYPE","xmlhttp"),Vf(I,H),I.m&&I.o&&Ny(H,I.m,I.o),I.L&&(I.g.I=I.L);var ne=I.g;I=I.ia,ne.L=1,ne.v=lg(iu(H)),ne.m=null,ne.P=!0,$E(ne,I)}function n_(I){null!=I.C&&(N.clearTimeout(I.C),I.C=null)}function $y(I,H){var ne=null;if(I.g==H){n_(I),jy(I),I.g=null;var ye=2}else{if(!pb(I.h,H))return;ne=H.D,zE(I.h,H),ye=1}if(0!=I.G)if(H.o)if(1==ye){ne=H.m?H.m.length:0,H=Date.now()-H.F;var Nt=I.B;ka(ye=rg(),new Dy(ye,ne)),e_(I)}else xb(I);else if(3==(Nt=H.s)||0==Nt&&0<H.X||!(1==ye&&function Rb(I,H){return!(fb(I.h)>=I.h.j-(I.s?1:0)||(I.s?(I.i=H.D.concat(I.i),0):1==I.G||2==I.G||I.B>=(I.Va?0:I.Wa)||(I.s=eu(Je(I.Ga,I,H),r_(I,I.B)),I.B++,0)))}(I,H)||2==ye&&Uy(I)))switch(ne&&0<ne.length&&(H=I.h,H.i=H.i.concat(ne)),Nt){case 1:Ch(I,5);break;case 4:Ch(I,10);break;case 3:Ch(I,6);break;default:Ch(I,2)}}function r_(I,H){let ne=I.Ta+Math.floor(Math.random()*I.cb);return I.isActive()||(ne*=2),ne*H}function Ch(I,H){if(I.j.info("Error code "+H),2==H){var ne=Je(I.fb,I),ye=I.Xa;const Nt=!ye;ye=new ru(ye||"//www.google.com/images/cleardot.gif"),N.location&&"http"==N.location.protocol||vd(ye,"https"),lg(ye),Nt?function wb(I,H){const ne=new ig;if(N.Image){const ye=new Image;ye.onload=Ft(ju,ne,"TestLoadImage: loaded",!0,H,ye),ye.onerror=Ft(ju,ne,"TestLoadImage: error",!1,H,ye),ye.onabort=Ft(ju,ne,"TestLoadImage: abort",!1,H,ye),ye.ontimeout=Ft(ju,ne,"TestLoadImage: timeout",!1,H,ye),N.setTimeout(function(){ye.ontimeout&&ye.ontimeout()},1e4),ye.src=I}else H(!1)}(ye.toString(),ne):function Ib(I,H){new ig;const ye=new AbortController,Nt=setTimeout(()=>{ye.abort(),ju(0,0,!1,H)},1e4);fetch(I,{signal:ye.signal}).then(sn=>{clearTimeout(Nt),ju(0,0,!!sn.ok,H)}).catch(()=>{clearTimeout(Nt),ju(0,0,!1,H)})}(ye.toString(),ne)}else La(2);I.G=0,I.l&&I.l.sa(H),Mb(I),Sb(I)}function Mb(I){if(I.G=0,I.ka=[],I.l){const H=gb(I.h);(0!=H.length||0!=I.i.length)&&(Cn(I.ka,H),Cn(I.ka,I.i),I.h.i.length=0,Mn(I.i),I.i.length=0),I.l.ra()}}function kb(I,H,ne){var ye=ne instanceof ru?iu(ne):new ru(ne);if(""!=ye.g)H&&(ye.g=H+"."+ye.g),ag(ye,ye.s);else{var Nt=N.location;ye=Nt.protocol,H=H?H+"."+Nt.hostname:Nt.hostname,Nt=+Nt.port;var sn=new ru(null);ye&&vd(sn,ye),H&&(sn.g=H),Nt&&ag(sn,Nt),ne&&(sn.l=ne),ye=sn}return H=I.ya,(ne=I.D)&&H&&Bs(ye,ne,H),Bs(ye,"VER",I.la),Vf(I,ye),ye}function $u(I,H,ne){if(H&&!I.J)throw Error("Can't create secondary domain capable XhrIo object.");return(H=new To(I.Ca&&!I.pa?new Dc({eb:ne}):I.pa)).Ha(I.J),H}function Bf(){}function Uf(){}function Va(I,H){Mo.call(this),this.g=new Ab(H),this.l=I,this.h=H&&H.messageUrlParams||null,I=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(I?I["X-Client-Protocol"]="webchannel":I={"X-Client-Protocol":"webchannel"}),this.g.o=I,I=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(I?I["X-WebChannel-Content-Type"]=H.messageContentType:I={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.va&&(I?I["X-WebChannel-Client-Profile"]=H.va:I={"X-WebChannel-Client-Profile":H.va}),this.g.S=I,(I=H&&H.Sb)&&!Sr(I)&&(this.g.m=I),this.v=H&&H.supportsCrossDomainXhr||!1,this.u=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!Sr(H)&&(this.g.D=H,null!==(I=this.h)&&H in I&&H in(I=this.h)&&delete I[H]),this.j=new Id(this)}function Ob(I){Cy.call(this),I.__headers__&&(this.headers=I.__headers__,this.statusCode=I.__status__,delete I.__headers__,delete I.__status__);var H=I.__sm__;if(H){e:{for(const ne in H){I=ne;break e}I=void 0}(this.i=I)&&(I=this.i,H=null!==H&&I in H?H[I]:void 0),this.data=H}else this.data=I}function Dh(){ab.call(this),this.status=1}function Id(I){this.g=I}(f=To.prototype).Ha=function(I){this.J=I},f.ea=function(I,H,ne,ye){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+I);H=H?H.toUpperCase():"GET",this.D=I,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gm.g(),this.v=function Ty(I){return I.h||(I.h=I.i())}(this.o?this.o:Gm),this.g.onreadystatechange=Je(this.Ea,this);try{this.B=!0,this.g.open(H,String(I),!0),this.B=!1}catch(sn){return void Ly(this,sn)}if(I=ne||"",ne=new Map(this.headers),ye)if(Object.getPrototypeOf(ye)===Object.prototype)for(var Nt in ye)ne.set(Nt,ye[Nt]);else{if("function"!=typeof ye.keys||"function"!=typeof ye.get)throw Error("Unknown input type for opt_headers: "+String(ye));for(const sn of ye.keys())ne.set(sn,ye.get(sn))}ye=Array.from(ne.keys()).find(sn=>"content-type"==sn.toLowerCase()),Nt=N.FormData&&I instanceof N.FormData,!(0<=Array.prototype.indexOf.call(Ih,H,void 0))||ye||Nt||ne.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[sn,er]of ne)this.g.setRequestHeader(sn,er);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dg(this),this.u=!0,this.g.send(I),this.u=!1}catch(sn){Ly(this,sn)}},f.abort=function(I){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=I||7,ka(this,"complete"),ka(this,"abort"),Ed(this))},f.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ed(this,!0)),To.aa.N.call(this)},f.Ea=function(){this.s||(this.B||this.u||this.j?Tb(this):this.bb())},f.bb=function(){Tb(this)},f.isActive=function(){return!!this.g},f.Z=function(){try{return 2<wd(this)?this.g.status:-1}catch{return-1}},f.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},f.Oa=function(I){if(this.g){var H=this.g.responseText;return I&&0==H.indexOf(I)&&(H=H.substring(I.length)),Iy(H)}},f.Ba=function(){return this.m},f.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(f=Ab.prototype).la=8,f.G=1,f.connect=function(I,H,ne,ye){La(0),this.W=I,this.H=H||{},ne&&void 0!==ye&&(this.H.OSID=ne,this.H.OAID=ye),this.F=this.X,this.I=kb(this,null,this.W),e_(this)},f.Ga=function(I){if(this.s)if(this.s=null,1==this.G){if(!I){this.U=Math.floor(1e5*Math.random()),I=this.U++;const Nt=new tu(this,this.j,I);let sn=this.o;if(this.S&&(sn?(sn=Xe(sn),Tt(sn,this.S)):sn=this.S),null!==this.m||this.O||(Nt.H=sn,sn=null),this.P)e:{for(var H=0,ne=0;ne<this.i.length;ne++){var ye=this.i[ne];if(void 0===(ye="__data__"in ye.map&&"string"==typeof(ye=ye.map.__data__)?ye.length:void 0))break;if(4096<(H+=ye)){H=ne;break e}if(4096===H||ne===this.i.length-1){H=ne+1;break e}}H=1e3}else H=1e3;H=t_(this,Nt,H),Bs(ne=iu(this.I),"RID",I),Bs(ne,"CVER",22),this.D&&Bs(ne,"X-HTTP-Session-Id",this.D),Vf(this,ne),sn&&(this.O?H="headers="+encodeURIComponent(String(Oy(sn)))+"&"+H:this.m&&Ny(ne,this.m,sn)),Xm(this.h,Nt),this.Ua&&Bs(ne,"TYPE","init"),this.P?(Bs(ne,"$req",H),Bs(ne,"SID","null"),Nt.T=!0,Uu(Nt,ne,null)):Uu(Nt,ne,H),this.G=2}}else 3==this.G&&(I?By(this,I):0==this.i.length||hb(this.h)||By(this))},f.Fa=function(){if(this.u=null,Pb(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var I=2*this.R;this.j.info("BP detection timer enabled: "+I),this.A=eu(Je(this.ab,this),I)}},f.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,La(10),hg(this),Pb(this))},f.Za=function(){null!=this.C&&(this.C=null,hg(this),Uy(this),La(19))},f.fb=function(I){I?(this.j.info("Successfully pinged google.com"),La(2)):(this.j.info("Failed to ping google.com"),La(1))},f.isActive=function(){return!!this.l&&this.l.isActive(this)},(f=Bf.prototype).ua=function(){},f.ta=function(){},f.sa=function(){},f.ra=function(){},f.isActive=function(){return!0},f.Na=function(){},Uf.prototype.g=function(I,H){return new Va(I,H)},cn(Va,Mo),Va.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Va.prototype.close=function(){Jm(this.g)},Va.prototype.o=function(I){var H=this.g;if("string"==typeof I){var ne={};ne.__data__=I,I=ne}else this.u&&((ne={}).__data__=md(I),I=ne);H.i.push(new Qw(H.Ya++,I)),3==H.G&&e_(H)},Va.prototype.N=function(){this.g.l=null,delete this.j,Jm(this.g),delete this.g,Va.aa.N.call(this)},cn(Ob,Cy),cn(Dh,ab),cn(Id,Bf),Id.prototype.ua=function(){ka(this.g,"a")},Id.prototype.ta=function(I){ka(this.g,new Ob(I))},Id.prototype.sa=function(I){ka(this.g,new Dh)},Id.prototype.ra=function(){ka(this.g,"b")},Uf.prototype.createWebChannel=Uf.prototype.g,Va.prototype.send=Va.prototype.o,Va.prototype.open=Va.prototype.m,Va.prototype.close=Va.prototype.close,Gt=Fe.createWebChannelTransport=function(){return new Uf},Ut=Fe.getStatEventTarget=function(){return rg()},In=Fe.Event=Eh,un=Fe.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_d.NO_ERROR=0,_d.TIMEOUT=8,_d.HTTP_ERROR=6,Zt=Fe.ErrorCode=_d,sg.COMPLETE="complete",Qt=Fe.EventType=sg,ob.EventType=ng,ng.OPEN="a",ng.CLOSE="b",ng.ERROR="c",ng.MESSAGE="d",Mo.prototype.listen=Mo.prototype.K,Ct=Fe.WebChannel=ob,Fe.FetchXmlHttpFactory=Dc,To.prototype.listenOnce=To.prototype.L,To.prototype.getLastError=To.prototype.Ka,To.prototype.getLastErrorCode=To.prototype.Ba,To.prototype.getStatus=To.prototype.Z,To.prototype.getResponseJson=To.prototype.Oa,To.prototype.getResponseText=To.prototype.oa,To.prototype.send=To.prototype.ea,To.prototype.setWithCredentials=To.prototype.Ha,At=Fe.XhrIo=To}).apply(typeof Ve<"u"?Ve:typeof self<"u"?self:typeof window<"u"?window:{});const Kt="@firebase/firestore";class vt{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");let ht="11.8.1";const kt=new A.Vy("@firebase/firestore");function hn(){return kt.logLevel}function Pt(f,...n){if(kt.logLevel<=A.$b.DEBUG){const o=n.map(yr);kt.debug(`Firestore (${ht}): ${f}`,...o)}}function lr(f,...n){if(kt.logLevel<=A.$b.ERROR){const o=n.map(yr);kt.error(`Firestore (${ht}): ${f}`,...o)}}function hr(f,...n){if(kt.logLevel<=A.$b.WARN){const o=n.map(yr);kt.warn(`Firestore (${ht}): ${f}`,...o)}}function yr(f){if("string"==typeof f)return f;try{return JSON.stringify(f)}catch{return f}}function bt(f,n,o){let d="Unexpected state";"string"==typeof n?d=n:o=n,Wn(f,d,o)}function Wn(f,n,o){let d=`FIRESTORE (${ht}) INTERNAL ASSERTION FAILED: ${n} (ID: ${f.toString(16)})`;if(void 0!==o)try{d+=" CONTEXT: "+JSON.stringify(o)}catch{d+=" CONTEXT: "+o}throw lr(d),new Error(d)}function Ot(f,n,o,d){let g="Unexpected state";"string"==typeof o?g=o:d=o,f||Wn(n,g,d)}function rn(f,n){return f}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends We.g{constructor(n,o){super(n,o),this.code=n,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Te{constructor(){this.promise=new Promise((n,o)=>{this.resolve=n,this.reject=o})}}class De{constructor(n,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class xe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,o){n.enqueueRetryable(()=>o(vt.UNAUTHENTICATED))}shutdown(){}}class me{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,o){this.changeListener=o,n.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class Re{constructor(n){this.t=n,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,o){var d=this;Ot(void 0===this.o,42304);let g=this.i;const b=X=>this.i!==g?(g=this.i,o(X)):Promise.resolve();let D=new Te;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new Te,n.enqueueRetryable(()=>b(this.currentUser))};const N=()=>{const X=D;n.enqueueRetryable((0,T.A)(function*(){yield X.promise,yield b(d.currentUser)}))},$=X=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=X,this.o&&(this.auth.addAuthTokenListener(this.o),N())};this.t.onInit(X=>$(X)),setTimeout(()=>{if(!this.auth){const X=this.t.getImmediate({optional:!0});X?$(X):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new Te)}},0),N()}getToken(){const n=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(d=>this.i!==n?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):d?(Ot("string"==typeof d.accessToken,31837,{l:d}),new De(d.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Ot(null===n||"string"==typeof n,2055,{h:n}),new vt(n)}}class ft{constructor(n,o,d){this.P=n,this.T=o,this.I=d,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jt{constructor(n,o,d){this.P=n,this.T=o,this.I=d}getToken(){return Promise.resolve(new ft(this.P,this.T,this.I))}start(n,o){n.enqueueRetryable(()=>o(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rn{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class En{constructor(n,o){this.V=o,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,z.xZ)(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,o){Ot(void 0===this.o,3512);const d=b=>{null!=b.error&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${b.error.message}`);const D=b.token!==this.m;return this.m=b.token,Pt("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?o(b.token):Promise.resolve()};this.o=b=>{n.enqueueRetryable(()=>d(b))};const g=b=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=b,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(b=>g(b)),setTimeout(()=>{if(!this.appCheck){const b=this.V.getImmediate({optional:!0});b?g(b):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rn(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(o=>o?(Ot("string"==typeof o.token,44558,{tokenResult:o}),this.m=o.token,new Rn(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Xt(f){const n=typeof self<"u"&&(self.crypto||self.msCrypto),o=new Uint8Array(f);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(o);else for(let d=0;d<f;d++)o[d]=Math.floor(256*Math.random());return o}function gr(){return new TextEncoder}class mr{static newId(){const o=62*Math.floor(4.129032258064516);let d="";for(;d.length<20;){const g=Xt(40);for(let b=0;b<g.length;++b)d.length<20&&g[b]<o&&(d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(g[b]%62))}return d}}function gn(f,n){return f<n?-1:f>n?1:0}function ar(f,n){let o=0;for(;o<f.length&&o<n.length;){const d=f.codePointAt(o),g=n.codePointAt(o);if(d!==g){if(d<128&&g<128)return gn(d,g);{const b=gr(),D=Lr(b.encode(Ar(f,o)),b.encode(Ar(n,o)));return 0!==D?D:gn(d,g)}}o+=d>65535?2:1}return gn(f.length,n.length)}function Ar(f,n){return f.codePointAt(n)>65535?f.substring(n,n+2):f.substring(n,n+1)}function Lr(f,n){for(let o=0;o<f.length&&o<n.length;++o)if(f[o]!==n[o])return gn(f[o],n[o]);return gn(f.length,n.length)}function kr(f,n,o){return f.length===n.length&&f.every((d,g)=>o(d,n[g]))}const Es=-62135596800;class Gr{static now(){return Gr.fromMillis(Date.now())}static fromDate(n){return Gr.fromMillis(n.getTime())}static fromMillis(n){const o=Math.floor(n/1e3),d=Math.floor(1e6*(n-1e3*o));return new Gr(o,d)}constructor(n,o){if(this.seconds=n,this.nanoseconds=o,o<0)throw new de(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new de(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(n<Es)throw new de(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new de(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?gn(this.nanoseconds,n.nanoseconds):gn(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-Es).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fn{static fromTimestamp(n){return new Fn(n)}static min(){return new Fn(new Gr(0,0))}static max(){return new Fn(new Gr(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ss="__name__";class li{constructor(n,o,d){void 0===o?o=0:o>n.length&&bt(637,{offset:o,range:n.length}),void 0===d?d=n.length-o:d>n.length-o&&bt(1746,{length:d,range:n.length-o}),this.segments=n,this.offset=o,this.len=d}get length(){return this.len}isEqual(n){return 0===li.comparator(this,n)}child(n){const o=this.segments.slice(this.offset,this.limit());return n instanceof li?n.forEach(d=>{o.push(d)}):o.push(n),this.construct(o)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}forEach(n){for(let o=this.offset,d=this.limit();o<d;o++)n(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,o){const d=Math.min(n.length,o.length);for(let g=0;g<d;g++){const b=li.compareSegments(n.get(g),o.get(g));if(0!==b)return b}return gn(n.length,o.length)}static compareSegments(n,o){const d=li.isNumericId(n),g=li.isNumericId(o);return d&&!g?-1:!d&&g?1:d&&g?li.extractNumericId(n).compare(li.extractNumericId(o)):ar(n,o)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return Le.fromString(n.substring(4,n.length-2))}}class Dt extends li{construct(n,o,d){return new Dt(n,o,d)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const o=[];for(const d of n){if(d.indexOf("//")>=0)throw new de(st.INVALID_ARGUMENT,`Invalid segment (${d}). Paths must not contain // in them.`);o.push(...d.split("/").filter(g=>g.length>0))}return new Dt(o)}static emptyPath(){return new Dt([])}}const mi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends li{construct(n,o,d){return new vr(n,o,d)}static isValidIdentifier(n){return mi.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ss}static keyField(){return new vr([Ss])}static fromServerFormat(n){const o=[];let d="",g=0;const b=()=>{if(0===d.length)throw new de(st.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(d),d=""};let D=!1;for(;g<n.length;){const N=n[g];if("\\"===N){if(g+1===n.length)throw new de(st.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const $=n[g+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new de(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);d+=$,g+=2}else"`"===N?(D=!D,g++):"."!==N||D?(d+=N,g++):(b(),g++)}if(b(),D)throw new de(st.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new vr(o)}static emptyPath(){return new vr([])}}class wn{constructor(n){this.path=n}static fromPath(n){return new wn(Dt.fromString(n))}static fromName(n){return new wn(Dt.fromString(n).popFirst(5))}static empty(){return new wn(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===Dt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,o){return Dt.comparator(n.path,o.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new wn(new Dt(n.slice()))}}class Vr{constructor(n,o,d){this.readTime=n,this.documentKey=o,this.largestBatchId=d}static min(){return new Vr(Fn.min(),wn.empty(),-1)}static max(){return new Vr(Fn.max(),wn.empty(),-1)}}function Zn(f,n){let o=f.readTime.compareTo(n.readTime);return 0!==o?o:(o=wn.comparator(f.documentKey,n.documentKey),0!==o?o:gn(f.largestBatchId,n.largestBatchId))}class ti{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function br(f){return zi.apply(this,arguments)}function zi(){return(zi=(0,T.A)(function*(f){if(f.code!==st.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==f.message)throw f;Pt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class et{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(n){return this.next(void 0,n)}next(n,o){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(n,this.result):new et((d,g)=>{this.nextCallback=b=>{this.wrapSuccess(n,b).next(d,g)},this.catchCallback=b=>{this.wrapFailure(o,b).next(d,g)}})}toPromise(){return new Promise((n,o)=>{this.next(n,o)})}wrapUserFunction(n){try{const o=n();return o instanceof et?o:et.resolve(o)}catch(o){return et.reject(o)}}wrapSuccess(n,o){return n?this.wrapUserFunction(()=>n(o)):et.resolve(o)}wrapFailure(n,o){return n?this.wrapUserFunction(()=>n(o)):et.reject(o)}static resolve(n){return new et((o,d)=>{o(n)})}static reject(n){return new et((o,d)=>{d(n)})}static waitFor(n){return new et((o,d)=>{let g=0,b=0,D=!1;n.forEach(N=>{++g,N.next(()=>{++b,D&&b===g&&o()},$=>d($))}),D=!0,b===g&&o()})}static or(n){let o=et.resolve(!1);for(const d of n)o=o.next(g=>g?et.resolve(g):d());return o}static forEach(n,o){const d=[];return n.forEach((g,b)=>{d.push(o.call(this,g,b))}),this.waitFor(d)}static mapArray(n,o){return new et((d,g)=>{const b=n.length,D=new Array(b);let N=0;for(let $=0;$<b;$++){const X=$;o(n[X]).next(ce=>{D[X]=ce,++N,N===b&&d(D)},ce=>g(ce))}})}static doWhile(n,o){return new et((d,g)=>{const b=()=>{!0===n()?o().next(()=>{b()},g):d()};b()})}}function Yr(f){return"IndexedDbTransactionError"===f.name}let dt=(()=>{class f{constructor(o,d){this.previousValue=o,d&&(d.sequenceNumberHandler=g=>this.ue(g),this.ce=g=>d.writeSequenceNumber(g))}ue(o){return this.previousValue=Math.max(o,this.previousValue),this.previousValue}next(){const o=++this.previousValue;return this.ce&&this.ce(o),o}}return f.le=-1,f})();function Qn(f){return null==f}function Zr(f){return 0===f&&1/f==-1/0}function mt(f,n){let o=n;const d=f.length;for(let g=0;g<d;g++){const b=f.charAt(g);switch(b){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=b}}return o}function Bt(f){return f+"\x01\x01"}const Vt="mutationQueues",en="mutations",us="documentMutations",sr="remoteDocumentGlobal",Nr="targets",Ni="targetDocuments",Z="targetGlobal",Se="collectionParents",pe="clientMetadata",Ht="bundles",tr="namedQueries";function co(f){let n=0;for(const o in f)Object.prototype.hasOwnProperty.call(f,o)&&n++;return n}function uo(f,n){for(const o in f)Object.prototype.hasOwnProperty.call(f,o)&&n(o,f[o])}function No(f){for(const n in f)if(Object.prototype.hasOwnProperty.call(f,n))return!1;return!0}class _i{constructor(n,o){this.comparator=n,this.root=o||Li.EMPTY}insert(n,o){return new _i(this.comparator,this.root.insert(n,o,this.comparator).copy(null,null,Li.BLACK,null,null))}remove(n){return new _i(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Li.BLACK,null,null))}get(n){let o=this.root;for(;!o.isEmpty();){const d=this.comparator(n,o.key);if(0===d)return o.value;d<0?o=o.left:d>0&&(o=o.right)}return null}indexOf(n){let o=0,d=this.root;for(;!d.isEmpty();){const g=this.comparator(n,d.key);if(0===g)return o+d.left.size;g<0?d=d.left:(o+=d.left.size+1,d=d.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((o,d)=>(n(o,d),!1))}toString(){const n=[];return this.inorderTraversal((o,d)=>(n.push(`${o}:${d}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new ds(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new ds(this.root,n,this.comparator,!1)}getReverseIterator(){return new ds(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new ds(this.root,n,this.comparator,!0)}}class ds{constructor(n,o,d,g){this.isReverse=g,this.nodeStack=[];let b=1;for(;!n.isEmpty();)if(b=o?d(n.key,o):1,o&&g&&(b*=-1),b<0)n=this.isReverse?n.left:n.right;else{if(0===b){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const o={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Li{constructor(n,o,d,g,b){this.key=n,this.value=o,this.color=d??Li.RED,this.left=g??Li.EMPTY,this.right=b??Li.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,o,d,g,b){return new Li(n??this.key,o??this.value,d??this.color,g??this.left,b??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,o,d){let g=this;const b=d(n,g.key);return g=b<0?g.copy(null,null,null,g.left.insert(n,o,d),null):0===b?g.copy(null,o,null,null,null):g.copy(null,null,null,null,g.right.insert(n,o,d)),g.fixUp()}removeMin(){if(this.left.isEmpty())return Li.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,o){let d,g=this;if(o(n,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(n,o),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===o(n,g.key)){if(g.right.isEmpty())return Li.EMPTY;d=g.right.min(),g=g.copy(d.key,d.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(n,o))}return g.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Li.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw bt(27949);return n+(this.isRed()?0:1)}}Li.EMPTY=null,Li.RED=!0,Li.BLACK=!1,Li.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(n,o,d,g,b){return this}insert(n,o,d){return new Li(n,o)}remove(n,o){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ei{constructor(n){this.comparator=n,this.data=new _i(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((o,d)=>(n(o),!1))}forEachInRange(n,o){const d=this.data.getIteratorFrom(n[0]);for(;d.hasNext();){const g=d.getNext();if(this.comparator(g.key,n[1])>=0)return;o(g.key)}}forEachWhile(n,o){let d;for(d=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();d.hasNext();)if(!n(d.getNext().key))return}firstAfterOrEqual(n){const o=this.data.getIteratorFrom(n);return o.hasNext()?o.getNext().key:null}getIterator(){return new ro(this.data.getIterator())}getIteratorFrom(n){return new ro(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let o=this;return o.size<n.size&&(o=n,n=this),n.forEach(d=>{o=o.add(d)}),o}isEqual(n){if(!(n instanceof Ei)||this.size!==n.size)return!1;const o=this.data.getIterator(),d=n.data.getIterator();for(;o.hasNext();){const g=o.getNext().key,b=d.getNext().key;if(0!==this.comparator(g,b))return!1}return!0}toArray(){const n=[];return this.forEach(o=>{n.push(o)}),n}toString(){const n=[];return this.forEach(o=>n.push(o)),"SortedSet("+n.toString()+")"}copy(n){const o=new Ei(this.comparator);return o.data=n,o}}class ro{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fs{constructor(n){this.fields=n,n.sort(vr.comparator)}static empty(){return new Fs([])}unionWith(n){let o=new Ei(vr.comparator);for(const d of this.fields)o=o.add(d);for(const d of n)o=o.add(d);return new Fs(o.toArray())}covers(n){for(const o of this.fields)if(o.isPrefixOf(n))return!0;return!1}isEqual(n){return kr(this.fields,n.fields,(o,d)=>o.isEqual(d))}}class Ea extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hs{constructor(n){this.binaryString=n}static fromBase64String(n){const o=function(g){try{return atob(g)}catch(b){throw typeof DOMException<"u"&&b instanceof DOMException?new Ea("Invalid base64 string: "+b):b}}(n);return new hs(o)}static fromUint8Array(n){const o=function(g){let b="";for(let D=0;D<g.length;++D)b+=String.fromCharCode(g[D]);return b}(n);return new hs(o)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(o){const d=new Uint8Array(o.length);for(let g=0;g<o.length;g++)d[g]=o.charCodeAt(g);return d}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return gn(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}hs.EMPTY_BYTE_STRING=new hs("");const hl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(f){if(Ot(!!f,39018),"string"==typeof f){let n=0;const o=hl.exec(f);if(Ot(!!o,46558,{timestamp:f}),o[1]){let g=o[1];g=(g+"000000000").substr(0,9),n=Number(g)}const d=new Date(f);return{seconds:Math.floor(d.getTime()/1e3),nanos:n}}return{seconds:yi(f.seconds),nanos:yi(f.nanos)}}function yi(f){return"number"==typeof f?f:"string"==typeof f?Number(f):0}function Qr(f){return"string"==typeof f?hs.fromBase64String(f):hs.fromUint8Array(f)}const os="server_timestamp",el="__type__",na="__previous_value__",ca="__local_write_time__";function Ls(f){var n,o;return(null===(o=((null===(n=f?.mapValue)||void 0===n?void 0:n.fields)||{})[el])||void 0===o?void 0:o.stringValue)===os}function Jr(f){const n=f.mapValue.fields[na];return Ls(n)?Jr(n):n}function ie(f){const n=Ys(f.mapValue.fields[ca].timestampValue);return new Gr(n.seconds,n.nanos)}class re{constructor(n,o,d,g,b,D,N,$,X,ce){this.databaseId=n,this.appId=o,this.persistenceKey=d,this.host=g,this.ssl=b,this.forceLongPolling=D,this.autoDetectLongPolling=N,this.longPollingOptions=$,this.useFetchStreams=X,this.isUsingEmulator=ce}}const ke="(default)";class Ke{constructor(n,o){this.projectId=n,this.database=o||ke}static empty(){return new Ke("","")}get isDefaultDatabase(){return this.database===ke}isEqual(n){return n instanceof Ke&&n.projectId===this.projectId&&n.database===this.database}}const It="__type__",tn="__max__",bn_mapValue={fields:{__type__:{stringValue:tn}}},Jn="__vector__",zn="value";function Ir(f){return"nullValue"in f?0:"booleanValue"in f?1:"integerValue"in f||"doubleValue"in f?2:"timestampValue"in f?3:"stringValue"in f?5:"bytesValue"in f?6:"referenceValue"in f?7:"geoPointValue"in f?8:"arrayValue"in f?9:"mapValue"in f?Ls(f)?4:fl(f)?9007199254740991:ho(f)?10:11:bt(28295,{value:f})}function ii(f,n){if(f===n)return!0;const o=Ir(f);if(o!==Ir(n))return!1;switch(o){case 0:case 9007199254740991:return!0;case 1:return f.booleanValue===n.booleanValue;case 4:return ie(f).isEqual(ie(n));case 3:return function(g,b){if("string"==typeof g.timestampValue&&"string"==typeof b.timestampValue&&g.timestampValue.length===b.timestampValue.length)return g.timestampValue===b.timestampValue;const D=Ys(g.timestampValue),N=Ys(b.timestampValue);return D.seconds===N.seconds&&D.nanos===N.nanos}(f,n);case 5:return f.stringValue===n.stringValue;case 6:return b=n,Qr(f.bytesValue).isEqual(Qr(b.bytesValue));case 7:return f.referenceValue===n.referenceValue;case 8:return function(g,b){return yi(g.geoPointValue.latitude)===yi(b.geoPointValue.latitude)&&yi(g.geoPointValue.longitude)===yi(b.geoPointValue.longitude)}(f,n);case 2:return function(g,b){if("integerValue"in g&&"integerValue"in b)return yi(g.integerValue)===yi(b.integerValue);if("doubleValue"in g&&"doubleValue"in b){const D=yi(g.doubleValue),N=yi(b.doubleValue);return D===N?Zr(D)===Zr(N):isNaN(D)&&isNaN(N)}return!1}(f,n);case 9:return kr(f.arrayValue.values||[],n.arrayValue.values||[],ii);case 10:case 11:return function(g,b){const D=g.mapValue.fields||{},N=b.mapValue.fields||{};if(co(D)!==co(N))return!1;for(const $ in D)if(D.hasOwnProperty($)&&(void 0===N[$]||!ii(D[$],N[$])))return!1;return!0}(f,n);default:return bt(52216,{left:f})}var b}function Zi(f,n){return void 0!==(f.values||[]).find(o=>ii(o,n))}function Ki(f,n){if(f===n)return 0;const o=Ir(f),d=Ir(n);if(o!==d)return gn(o,d);switch(o){case 0:case 9007199254740991:return 0;case 1:return gn(f.booleanValue,n.booleanValue);case 2:return function(b,D){const N=yi(b.integerValue||b.doubleValue),$=yi(D.integerValue||D.doubleValue);return N<$?-1:N>$?1:N===$?0:isNaN(N)?isNaN($)?0:-1:1}(f,n);case 3:return _s(f.timestampValue,n.timestampValue);case 4:return _s(ie(f),ie(n));case 5:return ar(f.stringValue,n.stringValue);case 6:return function(b,D){const N=Qr(b),$=Qr(D);return N.compareTo($)}(f.bytesValue,n.bytesValue);case 7:return function(b,D){const N=b.split("/"),$=D.split("/");for(let X=0;X<N.length&&X<$.length;X++){const ce=gn(N[X],$[X]);if(0!==ce)return ce}return gn(N.length,$.length)}(f.referenceValue,n.referenceValue);case 8:return function(b,D){const N=gn(yi(b.latitude),yi(D.latitude));return 0!==N?N:gn(yi(b.longitude),yi(D.longitude))}(f.geoPointValue,n.geoPointValue);case 9:return G(f.arrayValue,n.arrayValue);case 10:return function(b,D){var N,$,X,ce;const Ft=null===(N=(b.fields||{})[zn])||void 0===N?void 0:N.arrayValue,cn=null===($=(D.fields||{})[zn])||void 0===$?void 0:$.arrayValue,Mn=gn((null===(X=Ft?.values)||void 0===X?void 0:X.length)||0,(null===(ce=cn?.values)||void 0===ce?void 0:ce.length)||0);return 0!==Mn?Mn:G(Ft,cn)}(f.mapValue,n.mapValue);case 11:return function(b,D){if(b===bn_mapValue&&D===bn_mapValue)return 0;if(b===bn_mapValue)return 1;if(D===bn_mapValue)return-1;const N=b.fields||{},$=Object.keys(N),X=D.fields||{},ce=Object.keys(X);$.sort(),ce.sort();for(let be=0;be<$.length&&be<ce.length;++be){const Je=ar($[be],ce[be]);if(0!==Je)return Je;const Ft=Ki(N[$[be]],X[ce[be]]);if(0!==Ft)return Ft}return gn($.length,ce.length)}(f.mapValue,n.mapValue);default:throw bt(23264,{Pe:o})}}function _s(f,n){if("string"==typeof f&&"string"==typeof n&&f.length===n.length)return gn(f,n);const o=Ys(f),d=Ys(n),g=gn(o.seconds,d.seconds);return 0!==g?g:gn(o.nanos,d.nanos)}function G(f,n){const o=f.values||[],d=n.values||[];for(let g=0;g<o.length&&g<d.length;++g){const b=Ki(o[g],d[g]);if(b)return b}return gn(o.length,d.length)}function K(f){return L(f)}function L(f){return"nullValue"in f?"null":"booleanValue"in f?""+f.booleanValue:"integerValue"in f?""+f.integerValue:"doubleValue"in f?""+f.doubleValue:"timestampValue"in f?function(o){const d=Ys(o);return`time(${d.seconds},${d.nanos})`}(f.timestampValue):"stringValue"in f?f.stringValue:"bytesValue"in f?Qr(f.bytesValue).toBase64():"referenceValue"in f?wn.fromName(f.referenceValue).toString():"geoPointValue"in f?function(o){return`geo(${o.latitude},${o.longitude})`}(f.geoPointValue):"arrayValue"in f?function(o){let d="[",g=!0;for(const b of o.values||[])g?g=!1:d+=",",d+=L(b);return d+"]"}(f.arrayValue):"mapValue"in f?function(o){const d=Object.keys(o.fields||{}).sort();let g="{",b=!0;for(const D of d)b?b=!1:g+=",",g+=`${D}:${L(o.fields[D])}`;return g+"}"}(f.mapValue):bt(61005,{value:f})}function oe(f){switch(Ir(f)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Jr(f);return n?16+oe(n):16;case 5:return 2*f.stringValue.length;case 6:return Qr(f.bytesValue).approximateByteSize();case 7:return f.referenceValue.length;case 9:return(f.arrayValue.values||[]).reduce((g,b)=>g+oe(b),0);case 10:case 11:return function(d){let g=0;return uo(d.fields,(b,D)=>{g+=b.length+oe(D)}),g}(f.mapValue);default:throw bt(13486,{value:f})}}function Ue(f,n){return{referenceValue:`projects/${f.projectId}/databases/${f.database}/documents/${n.path.canonicalString()}`}}function Pn(f){return!!f&&"integerValue"in f}function dr(f){return!!f&&"arrayValue"in f}function jr(f){return!!f&&"nullValue"in f}function fs(f){return!!f&&"doubleValue"in f&&isNaN(Number(f.doubleValue))}function Ps(f){return!!f&&"mapValue"in f}function ho(f){var n,o;return(null===(o=((null===(n=f?.mapValue)||void 0===n?void 0:n.fields)||{})[It])||void 0===o?void 0:o.stringValue)===Jn}function Fo(f){if(f.geoPointValue)return{geoPointValue:Object.assign({},f.geoPointValue)};if(f.timestampValue&&"object"==typeof f.timestampValue)return{timestampValue:Object.assign({},f.timestampValue)};if(f.mapValue){const n={mapValue:{fields:{}}};return uo(f.mapValue.fields,(o,d)=>n.mapValue.fields[o]=Fo(d)),n}if(f.arrayValue){const n={arrayValue:{values:[]}};for(let o=0;o<(f.arrayValue.values||[]).length;++o)n.arrayValue.values[o]=Fo(f.arrayValue.values[o]);return n}return Object.assign({},f)}function fl(f){return(((f.mapValue||{}).fields||{}).__type__||{}).stringValue===tn}class Zs{constructor(n){this.value=n}static empty(){return new Zs({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let o=this.value;for(let d=0;d<n.length-1;++d)if(o=(o.mapValue.fields||{})[n.get(d)],!Ps(o))return null;return o=(o.mapValue.fields||{})[n.lastSegment()],o||null}}set(n,o){this.getFieldsMap(n.popLast())[n.lastSegment()]=Fo(o)}setAll(n){let o=vr.emptyPath(),d={},g=[];n.forEach((D,N)=>{if(!o.isImmediateParentOf(N)){const $=this.getFieldsMap(o);this.applyChanges($,d,g),d={},g=[],o=N.popLast()}D?d[N.lastSegment()]=Fo(D):g.push(N.lastSegment())});const b=this.getFieldsMap(o);this.applyChanges(b,d,g)}delete(n){const o=this.field(n.popLast());Ps(o)&&o.mapValue.fields&&delete o.mapValue.fields[n.lastSegment()]}isEqual(n){return ii(this.value,n.value)}getFieldsMap(n){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let d=0;d<n.length;++d){let g=o.mapValue.fields[n.get(d)];Ps(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},o.mapValue.fields[n.get(d)]=g),o=g}return o.mapValue.fields}applyChanges(n,o,d){uo(o,(g,b)=>n[g]=b);for(const g of d)delete n[g]}clone(){return new Zs(Fo(this.value))}}function Na(f){const n=[];return uo(f.fields,(o,d)=>{const g=new vr([o]);if(Ps(d)){const b=Na(d.mapValue).fields;if(0===b.length)n.push(g);else for(const D of b)n.push(g.child(D))}else n.push(g)}),new Fs(n)}class Qi{constructor(n,o,d,g,b,D,N){this.key=n,this.documentType=o,this.version=d,this.readTime=g,this.createTime=b,this.data=D,this.documentState=N}static newInvalidDocument(n){return new Qi(n,0,Fn.min(),Fn.min(),Fn.min(),Zs.empty(),0)}static newFoundDocument(n,o,d,g){return new Qi(n,1,o,Fn.min(),d,g,0)}static newNoDocument(n,o){return new Qi(n,2,o,Fn.min(),Fn.min(),Zs.empty(),0)}static newUnknownDocument(n,o){return new Qi(n,3,o,Fn.min(),Fn.min(),Zs.empty(),2)}convertToFoundDocument(n,o){return!this.createTime.isEqual(Fn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Zs.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Qi&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Qi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Lo{constructor(n,o){this.position=n,this.inclusive=o}}function ja(f,n,o){let d=0;for(let g=0;g<f.position.length;g++){const b=n[g],D=f.position[g];if(d=b.field.isKeyField()?wn.comparator(wn.fromName(D.referenceValue),o.key):Ki(D,o.data.field(b.field)),"desc"===b.dir&&(d*=-1),0!==d)break}return d}function gl(f,n){if(null===f)return null===n;if(null===n||f.inclusive!==n.inclusive||f.position.length!==n.position.length)return!1;for(let o=0;o<f.position.length;o++)if(!ii(f.position[o],n.position[o]))return!1;return!0}class wa{constructor(n,o="asc"){this.field=n,this.dir=o}}function ys(f,n){return f.dir===n.dir&&f.field.isEqual(n.field)}class Pl{}class Ri extends Pl{constructor(n,o,d){super(),this.field=n,this.op=o,this.value=d}static create(n,o,d){return n.isKeyField()?"in"===o||"not-in"===o?this.createKeyFieldInFilter(n,o,d):new Oi(n,o,d):"array-contains"===o?new Bo(n,d):"in"===o?new Ts(n,d):"not-in"===o?new Co(n,d):"array-contains-any"===o?new Cs(n,d):new Ri(n,o,d)}static createKeyFieldInFilter(n,o,d){return"in"===o?new An(n,d):new Pr(n,d)}matches(n){const o=n.data.field(this.field);return"!="===this.op?null!==o&&void 0===o.nullValue&&this.matchesComparison(Ki(o,this.value)):null!==o&&Ir(this.value)===Ir(o)&&this.matchesComparison(Ki(o,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends Pl{constructor(n,o){super(),this.filters=n,this.op=o,this.Te=null}static create(n,o){return new wi(n,o)}matches(n){return nc(this)?void 0===this.filters.find(o=>!o.matches(n)):void 0!==this.filters.find(o=>o.matches(n))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((n,o)=>n.concat(o.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nc(f){return"and"===f.op}function cu(f){return function Ml(f){for(const n of f.filters)if(n instanceof wi)return!1;return!0}(f)&&nc(f)}function zu(f){if(f instanceof Ri)return f.field.canonicalString()+f.op.toString()+K(f.value);if(cu(f))return f.filters.map(n=>zu(n)).join(",");{const n=f.filters.map(o=>zu(o)).join(",");return`${f.op}(${n})`}}function ic(f,n){return f instanceof Ri?(d=f,(g=n)instanceof Ri&&d.op===g.op&&d.field.isEqual(g.field)&&ii(d.value,g.value)):f instanceof wi?function(d,g){return g instanceof wi&&d.op===g.op&&d.filters.length===g.filters.length&&d.filters.reduce((b,D,N)=>b&&ic(D,g.filters[N]),!0)}(f,n):void bt(19439);var d,g}function Vo(f){return f instanceof Ri?`${(o=f).field.canonicalString()} ${o.op} ${K(o.value)}`:f instanceof wi?function(o){return o.op.toString()+" {"+o.getFilters().map(Vo).join(" ,")+"}"}(f):"Filter";var o}class Oi extends Ri{constructor(n,o,d){super(n,o,d),this.key=wn.fromName(d.referenceValue)}matches(n){const o=wn.comparator(n.key,this.key);return this.matchesComparison(o)}}class An extends Ri{constructor(n,o){super(n,"in",o),this.keys=as(0,o)}matches(n){return this.keys.some(o=>o.isEqual(n.key))}}class Pr extends Ri{constructor(n,o){super(n,"not-in",o),this.keys=as(0,o)}matches(n){return!this.keys.some(o=>o.isEqual(n.key))}}function as(f,n){var o;return((null===(o=n.arrayValue)||void 0===o?void 0:o.values)||[]).map(d=>wn.fromName(d.referenceValue))}class Bo extends Ri{constructor(n,o){super(n,"array-contains",o)}matches(n){const o=n.data.field(this.field);return dr(o)&&Zi(o.arrayValue,this.value)}}class Ts extends Ri{constructor(n,o){super(n,"in",o)}matches(n){const o=n.data.field(this.field);return null!==o&&Zi(this.value.arrayValue,o)}}class Co extends Ri{constructor(n,o){super(n,"not-in",o)}matches(n){if(Zi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=n.data.field(this.field);return null!==o&&void 0===o.nullValue&&!Zi(this.value.arrayValue,o)}}class Cs extends Ri{constructor(n,o){super(n,"array-contains-any",o)}matches(n){const o=n.data.field(this.field);return!(!dr(o)||!o.arrayValue.values)&&o.arrayValue.values.some(d=>Zi(this.value.arrayValue,d))}}class ci{constructor(n,o=null,d=[],g=[],b=null,D=null,N=null){this.path=n,this.collectionGroup=o,this.orderBy=d,this.filters=g,this.limit=b,this.startAt=D,this.endAt=N,this.Ie=null}}function F(f,n=null,o=[],d=[],g=null,b=null,D=null){return new ci(f,n,o,d,g,b,D)}function V(f){const n=rn(f);if(null===n.Ie){let o=n.path.canonicalString();null!==n.collectionGroup&&(o+="|cg:"+n.collectionGroup),o+="|f:",o+=n.filters.map(d=>zu(d)).join(","),o+="|ob:",o+=n.orderBy.map(d=>{return(b=d).field.canonicalString()+b.dir;var b}).join(","),Qn(n.limit)||(o+="|l:",o+=n.limit),n.startAt&&(o+="|lb:",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(d=>K(d)).join(",")),n.endAt&&(o+="|ub:",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(d=>K(d)).join(",")),n.Ie=o}return n.Ie}function J(f,n){if(f.limit!==n.limit||f.orderBy.length!==n.orderBy.length)return!1;for(let o=0;o<f.orderBy.length;o++)if(!ys(f.orderBy[o],n.orderBy[o]))return!1;if(f.filters.length!==n.filters.length)return!1;for(let o=0;o<f.filters.length;o++)if(!ic(f.filters[o],n.filters[o]))return!1;return f.collectionGroup===n.collectionGroup&&!!f.path.isEqual(n.path)&&!!gl(f.startAt,n.startAt)&&gl(f.endAt,n.endAt)}function ze(f){return wn.isDocumentKey(f.path)&&null===f.collectionGroup&&0===f.filters.length}class Vs{constructor(n,o=null,d=[],g=[],b=null,D="F",N=null,$=null){this.path=n,this.collectionGroup=o,this.explicitOrderBy=d,this.filters=g,this.limit=b,this.limitType=D,this.startAt=N,this.endAt=$,this.Ee=null,this.de=null,this.Ae=null}}function vs(f){return new Vs(f)}function tl(f){return 0===f.filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())}function Uo(f){return null!==f.collectionGroup}function Do(f){const n=rn(f);if(null===n.Ee){n.Ee=[];const o=new Set;for(const b of n.explicitOrderBy)n.Ee.push(b),o.add(b.field.canonicalString());const d=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(D){let N=new Ei(vr.comparator);return D.filters.forEach($=>{$.getFlattenedFilters().forEach(X=>{X.isInequality()&&(N=N.add(X.field))})}),N})(n).forEach(b=>{o.has(b.canonicalString())||b.isKeyField()||n.Ee.push(new wa(b,d))}),o.has(vr.keyField().canonicalString())||n.Ee.push(new wa(vr.keyField(),d))}return n.Ee}function bo(f){const n=rn(f);return n.de||(n.de=function Ao(f,n){if("F"===f.limitType)return F(f.path,f.collectionGroup,n,f.filters,f.limit,f.startAt,f.endAt);{n=n.map(g=>new wa(g.field,"desc"===g.dir?"asc":"desc"));const o=f.endAt?new Lo(f.endAt.position,f.endAt.inclusive):null,d=f.startAt?new Lo(f.startAt.position,f.startAt.inclusive):null;return F(f.path,f.collectionGroup,n,f.filters,f.limit,o,d)}}(n,Do(f))),n.de}function kl(f,n){const o=f.filters.concat([n]);return new Vs(f.path,f.collectionGroup,f.explicitOrderBy.slice(),o,f.limit,f.limitType,f.startAt,f.endAt)}function nr(f,n,o){return new Vs(f.path,f.collectionGroup,f.explicitOrderBy.slice(),f.filters.slice(),n,o,f.startAt,f.endAt)}function oc(f,n){return J(bo(f),bo(n))&&f.limitType===n.limitType}function Ta(f){return`${V(bo(f))}|lt:${f.limitType}`}function da(f){return`Query(target=${function(o){let d=o.path.canonicalString();return null!==o.collectionGroup&&(d+=" collectionGroup="+o.collectionGroup),o.filters.length>0&&(d+=`, filters: [${o.filters.map(g=>Vo(g)).join(", ")}]`),Qn(o.limit)||(d+=", limit: "+o.limit),o.orderBy.length>0&&(d+=`, orderBy: [${o.orderBy.map(g=>{return`${(D=g).field.canonicalString()} (${D.dir})`;var D}).join(", ")}]`),o.startAt&&(d+=", startAt: ",d+=o.startAt.inclusive?"b:":"a:",d+=o.startAt.position.map(g=>K(g)).join(",")),o.endAt&&(d+=", endAt: ",d+=o.endAt.inclusive?"a:":"b:",d+=o.endAt.position.map(g=>K(g)).join(",")),`Target(${d})`}(bo(f))}; limitType=${f.limitType})`}function Ol(f,n){return n.isFoundDocument()&&function(d,g){const b=g.key.path;return null!==d.collectionGroup?g.key.hasCollectionId(d.collectionGroup)&&d.path.isPrefixOf(b):wn.isDocumentKey(d.path)?d.path.isEqual(b):d.path.isImmediateParentOf(b)}(f,n)&&function(d,g){for(const b of Do(d))if(!b.field.isKeyField()&&null===g.data.field(b.field))return!1;return!0}(f,n)&&function(d,g){for(const b of d.filters)if(!b.matches(g))return!1;return!0}(f,n)&&(g=n,!((d=f).startAt&&!function(D,N,$){const X=ja(D,N,$);return D.inclusive?X<=0:X<0}(d.startAt,Do(d),g)||d.endAt&&!function(D,N,$){const X=ja(D,N,$);return D.inclusive?X>=0:X>0}(d.endAt,Do(d),g)));var d,g}function Us(f){return(n,o)=>{let d=!1;for(const g of Do(f)){const b=js(g,n,o);if(0!==b)return b;d=d||g.field.isKeyField()}return 0}}function js(f,n,o){const d=f.field.isKeyField()?wn.comparator(n.key,o.key):function(b,D,N){const $=D.data.field(b),X=N.data.field(b);return null!==$&&null!==X?Ki($,X):bt(42886)}(f.field,n,o);switch(f.dir){case"asc":return d;case"desc":return-1*d;default:return bt(19790,{direction:f.dir})}}class M{constructor(n,o){this.mapKeyFn=n,this.equalsFn=o,this.inner={},this.innerSize=0}get(n){const o=this.mapKeyFn(n),d=this.inner[o];if(void 0!==d)for(const[g,b]of d)if(this.equalsFn(g,n))return b}has(n){return void 0!==this.get(n)}set(n,o){const d=this.mapKeyFn(n),g=this.inner[d];if(void 0===g)return this.inner[d]=[[n,o]],void this.innerSize++;for(let b=0;b<g.length;b++)if(this.equalsFn(g[b][0],n))return void(g[b]=[n,o]);g.push([n,o]),this.innerSize++}delete(n){const o=this.mapKeyFn(n),d=this.inner[o];if(void 0===d)return!1;for(let g=0;g<d.length;g++)if(this.equalsFn(d[g][0],n))return 1===d.length?delete this.inner[o]:d.splice(g,1),this.innerSize--,!0;return!1}forEach(n){uo(this.inner,(o,d)=>{for(const[g,b]of d)n(g,b)})}isEmpty(){return No(this.inner)}size(){return this.innerSize}}const B=new _i(wn.comparator);function O(){return B}const j=new _i(wn.comparator);function ee(...f){let n=j;for(const o of f)n=n.insert(o.key,o);return n}function Ie(f){let n=j;return f.forEach((o,d)=>n=n.insert(o,d.overlayedDocument)),n}function _e(){return $t()}function Et(){return $t()}function $t(){return new M(f=>f.toString(),(f,n)=>f.isEqual(n))}const Sn=new _i(wn.comparator),ui=new Ei(wn.comparator);function Er(...f){let n=ui;for(const o of f)n=n.add(o);return n}const Ko=new Ei(gn);function ra(f,n){if(f.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zr(n)?"-0":n}}function Nl(f){return{integerValue:""+f}}function ml(f,n){return function ge(f){return"number"==typeof f&&Number.isInteger(f)&&!Zr(f)&&f<=Number.MAX_SAFE_INTEGER&&f>=Number.MIN_SAFE_INTEGER}(n)?Nl(n):ra(f,n)}class _l{constructor(){this._=void 0}}function yl(f,n,o){return f instanceof du?function(g,b){const D={fields:{[el]:{stringValue:os},[ca]:{timestampValue:{seconds:g.seconds,nanos:g.nanoseconds}}}};return b&&Ls(b)&&(b=Jr(b)),b&&(D.fields[na]=b),{mapValue:D}}(o,n):f instanceof hu?Wf(f,n):f instanceof nl?ev(f,n):function(g,b){const D=uu(g,b),N=tv(D)+tv(g.Re);return Pn(D)&&Pn(g.Re)?Nl(N):ra(g.serializer,N)}(f,n)}function Ph(f,n,o){return f instanceof hu?Wf(f,n):f instanceof nl?ev(f,n):o}function uu(f,n){return f instanceof rl?Pn(d=n)||(b=d)&&"doubleValue"in b?n:{integerValue:0}:null;var d,b}class du extends _l{}class hu extends _l{constructor(n){super(),this.elements=n}}function Wf(f,n){const o=Ji(n);for(const d of f.elements)o.some(g=>ii(g,d))||o.push(d);return{arrayValue:{values:o}}}class nl extends _l{constructor(n){super(),this.elements=n}}function ev(f,n){let o=Ji(n);for(const d of f.elements)o=o.filter(g=>!ii(g,d));return{arrayValue:{values:o}}}class rl extends _l{constructor(n,o){super(),this.serializer=n,this.Re=o}}function tv(f){return yi(f.integerValue||f.doubleValue)}function Ji(f){return dr(f)&&f.arrayValue.values?f.arrayValue.values.slice():[]}class go{constructor(n,o){this.version=n,this.transformResults=o}}class Vi{constructor(n,o){this.updateTime=n,this.exists=o}static none(){return new Vi}static exists(n){return new Vi(void 0,n)}static updateTime(n){return new Vi(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function oi(f,n){return void 0!==f.updateTime?n.isFoundDocument()&&n.version.isEqual(f.updateTime):void 0===f.exists||f.exists===n.isFoundDocument()}class Dd{}function Wu(f,n){if(!f.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return f.isNoDocument()?new jo(f.key,Vi.none()):new kc(f.key,f.data,Vi.none());{const o=f.data,d=Zs.empty();let g=new Ei(vr.comparator);for(let b of n.fields)if(!g.has(b)){let D=o.field(b);null===D&&b.length>1&&(b=b.popLast(),D=o.field(b)),null===D?d.delete(b):d.set(b,D),g=g.add(b)}return new il(f.key,d,new Fs(g.toArray()),Vi.none())}}function $s(f,n,o){f instanceof kc?function(g,b,D){const N=g.value.clone(),$=Oc(g.fieldTransforms,b,D.transformResults);N.setAll($),b.convertToFoundDocument(D.version,N).setHasCommittedMutations()}(f,n,o):f instanceof il?function(g,b,D){if(!oi(g.precondition,b))return void b.convertToUnknownDocument(D.version);const N=Oc(g.fieldTransforms,b,D.transformResults),$=b.data;$.setAll(xi(g)),$.setAll(N),b.convertToFoundDocument(D.version,$).setHasCommittedMutations()}(f,n,o):n.convertToNoDocument(o.version).setHasCommittedMutations()}function Fr(f,n,o,d){return f instanceof kc?function(b,D,N,$){if(!oi(b.precondition,D))return N;const X=b.value.clone(),ce=Nc(b.fieldTransforms,$,D);return X.setAll(ce),D.convertToFoundDocument(D.version,X).setHasLocalMutations(),null}(f,n,o,d):f instanceof il?function(b,D,N,$){if(!oi(b.precondition,D))return N;const X=Nc(b.fieldTransforms,$,D),ce=D.data;return ce.setAll(xi(b)),ce.setAll(X),D.convertToFoundDocument(D.version,ce).setHasLocalMutations(),null===N?null:N.unionWith(b.fieldMask.fields).unionWith(b.fieldTransforms.map(be=>be.field))}(f,n,o,d):(N=o,oi(f.precondition,D=n)?(D.convertToNoDocument(D.version).setHasLocalMutations(),null):N);var D,N}function Mh(f,n){let o=null;for(const d of f.fieldTransforms){const g=n.data.field(d.field),b=uu(d.transform,g||null);null!=b&&(null===o&&(o=Zs.empty()),o.set(d.field,b))}return o||null}function Hi(f,n){return f.type===n.type&&!!f.key.isEqual(n.key)&&!!f.precondition.isEqual(n.precondition)&&(g=n.fieldTransforms,!!(void 0===(d=f.fieldTransforms)&&void 0===g||d&&g&&kr(d,g,(b,D)=>function $i(f,n){return f.field.isEqual(n.field)&&(g=n.transform,(d=f.transform)instanceof hu&&g instanceof hu||d instanceof nl&&g instanceof nl?kr(d.elements,g.elements,ii):d instanceof rl&&g instanceof rl?ii(d.Re,g.Re):d instanceof du&&g instanceof du);var d,g}(b,D))))&&(0===f.type?f.value.isEqual(n.value):1!==f.type||f.data.isEqual(n.data)&&f.fieldMask.isEqual(n.fieldMask));var d,g}class kc extends Dd{constructor(n,o,d,g=[]){super(),this.key=n,this.value=o,this.precondition=d,this.fieldTransforms=g,this.type=0}getFieldMask(){return null}}class il extends Dd{constructor(n,o,d,g,b=[]){super(),this.key=n,this.data=o,this.fieldMask=d,this.precondition=g,this.fieldTransforms=b,this.type=1}getFieldMask(){return this.fieldMask}}function xi(f){const n=new Map;return f.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const d=f.data.field(o);n.set(o,d)}}),n}function Oc(f,n,o){const d=new Map;Ot(f.length===o.length,32656,{Ve:o.length,me:f.length});for(let g=0;g<o.length;g++){const b=f[g],D=b.transform,N=n.data.field(b.field);d.set(b.field,Ph(D,N,o[g]))}return d}function Nc(f,n,o){const d=new Map;for(const g of f){const b=g.transform,D=o.data.field(g.field);d.set(g.field,yl(b,D,n))}return d}class jo extends Dd{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fu extends Dd{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Fl{constructor(n,o,d,g){this.batchId=n,this.localWriteTime=o,this.baseMutations=d,this.mutations=g}applyToRemoteDocument(n,o){const d=o.mutationResults;for(let g=0;g<this.mutations.length;g++){const b=this.mutations[g];b.key.isEqual(n.key)&&$s(b,n,d[g])}}applyToLocalView(n,o){for(const d of this.baseMutations)d.key.isEqual(n.key)&&(o=Fr(d,n,o,this.localWriteTime));for(const d of this.mutations)d.key.isEqual(n.key)&&(o=Fr(d,n,o,this.localWriteTime));return o}applyToLocalDocumentSet(n,o){const d=Et();return this.mutations.forEach(g=>{const b=n.get(g.key),D=b.overlayedDocument;let N=this.applyToLocalView(D,b.mutatedFields);N=o.has(g.key)?null:N;const $=Wu(D,N);null!==$&&d.set(g.key,$),D.isValidDocument()||D.convertToNoDocument(Fn.min())}),d}keys(){return this.mutations.reduce((n,o)=>n.add(o.key),Er())}isEqual(n){return this.batchId===n.batchId&&kr(this.mutations,n.mutations,(o,d)=>Hi(o,d))&&kr(this.baseMutations,n.baseMutations,(o,d)=>Hi(o,d))}}class Ha{constructor(n,o,d,g){this.batch=n,this.commitVersion=o,this.mutationResults=d,this.docVersions=g}static from(n,o,d){Ot(n.mutations.length===d.length,58842,{fe:n.mutations.length,ge:d.length});let g=function(){return Sn}();const b=n.mutations;for(let D=0;D<b.length;D++)g=g.insert(b[D].key,d[D].version);return new Ha(n,o,d,g)}}class Ca{constructor(n,o){this.largestBatchId=n,this.mutation=o}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pu{constructor(n,o){this.count=n,this.unchangedNames=o}}var bs,Bi;function As(f){if(void 0===f)return lr("GRPC error has no .code"),st.UNKNOWN;switch(f){case bs.OK:return st.OK;case bs.CANCELLED:return st.CANCELLED;case bs.UNKNOWN:return st.UNKNOWN;case bs.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case bs.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case bs.INTERNAL:return st.INTERNAL;case bs.UNAVAILABLE:return st.UNAVAILABLE;case bs.UNAUTHENTICATED:return st.UNAUTHENTICATED;case bs.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case bs.NOT_FOUND:return st.NOT_FOUND;case bs.ALREADY_EXISTS:return st.ALREADY_EXISTS;case bs.PERMISSION_DENIED:return st.PERMISSION_DENIED;case bs.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case bs.ABORTED:return st.ABORTED;case bs.OUT_OF_RANGE:return st.OUT_OF_RANGE;case bs.UNIMPLEMENTED:return st.UNIMPLEMENTED;case bs.DATA_LOSS:return st.DATA_LOSS;default:return bt(39323,{code:f})}}(Bi=bs||(bs={}))[Bi.OK=0]="OK",Bi[Bi.CANCELLED=1]="CANCELLED",Bi[Bi.UNKNOWN=2]="UNKNOWN",Bi[Bi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bi[Bi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bi[Bi.NOT_FOUND=5]="NOT_FOUND",Bi[Bi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bi[Bi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bi[Bi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bi[Bi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bi[Bi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bi[Bi.ABORTED=10]="ABORTED",Bi[Bi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bi[Bi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bi[Bi.INTERNAL=13]="INTERNAL",Bi[Bi.UNAVAILABLE=14]="UNAVAILABLE",Bi[Bi.DATA_LOSS=15]="DATA_LOSS";const mg=new Le([4294967295,4294967295],0);function ac(f){const n=gr().encode(f),o=new at;return o.update(n),new Uint8Array(o.digest())}function Gf(f){const n=new DataView(f.buffer),o=n.getUint32(0,!0),d=n.getUint32(4,!0),g=n.getUint32(8,!0),b=n.getUint32(12,!0);return[new Le([o,d],0),new Le([g,b],0)]}class Ms{constructor(n,o,d){if(this.bitmap=n,this.padding=o,this.hashCount=d,o<0||o>=8)throw new Da(`Invalid padding: ${o}`);if(d<0)throw new Da(`Invalid hash count: ${d}`);if(n.length>0&&0===this.hashCount)throw new Da(`Invalid hash count: ${d}`);if(0===n.length&&0!==o)throw new Da(`Invalid padding when bitmap length is 0: ${o}`);this.pe=8*n.length-o,this.ye=Le.fromNumber(this.pe)}we(n,o,d){let g=n.add(o.multiply(Le.fromNumber(d)));return 1===g.compare(mg)&&(g=new Le([g.getBits(0),g.getBits(1)],0)),g.modulo(this.ye).toNumber()}Se(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.pe)return!1;const o=ac(n),[d,g]=Gf(o);for(let b=0;b<this.hashCount;b++){const D=this.we(d,g,b);if(!this.Se(D))return!1}return!0}static create(n,o,d){const g=n%8==0?0:8-n%8,b=new Uint8Array(Math.ceil(n/8)),D=new Ms(b,g,o);return d.forEach(N=>D.insert(N)),D}insert(n){if(0===this.pe)return;const o=ac(n),[d,g]=Gf(o);for(let b=0;b<this.hashCount;b++){const D=this.we(d,g,b);this.be(D)}}be(n){const o=Math.floor(n/8);this.bitmap[o]|=1<<n%8}}class Da extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fc{constructor(n,o,d,g,b){this.snapshotVersion=n,this.targetChanges=o,this.targetMismatches=d,this.documentUpdates=g,this.resolvedLimboDocuments=b}static createSynthesizedRemoteEventForCurrentChange(n,o,d){const g=new Map;return g.set(n,So.createSynthesizedTargetChangeForCurrentChange(n,o,d)),new Fc(Fn.min(),g,new _i(gn),O(),Er())}}class So{constructor(n,o,d,g,b){this.resumeToken=n,this.current=o,this.addedDocuments=d,this.modifiedDocuments=g,this.removedDocuments=b}static createSynthesizedTargetChangeForCurrentChange(n,o,d){return new So(d,o,Er(),Er(),Er())}}class ia{constructor(n,o,d,g){this.De=n,this.removedTargetIds=o,this.key=d,this.ve=g}}class Lc{constructor(n,o){this.targetId=n,this.Ce=o}}class Kf{constructor(n,o,d=hs.EMPTY_BYTE_STRING,g=null){this.state=n,this.targetIds=o,this.resumeToken=d,this.cause=g}}class ei{constructor(){this.Fe=0,this.Me=Ad(),this.xe=hs.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(n){n.approximateByteSize()>0&&(this.Ne=!0,this.xe=n)}qe(){let n=Er(),o=Er(),d=Er();return this.Me.forEach((g,b)=>{switch(b){case 0:n=n.add(g);break;case 2:o=o.add(g);break;case 1:d=d.add(g);break;default:bt(38017,{changeType:b})}}),new So(this.xe,this.Oe,n,o,d)}Qe(){this.Ne=!1,this.Me=Ad()}$e(n,o){this.Ne=!0,this.Me=this.Me.insert(n,o)}Ue(n){this.Ne=!0,this.Me=this.Me.remove(n)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ot(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class lc{constructor(n){this.ze=n,this.je=new Map,this.He=O(),this.Je=Ll(),this.Ye=Ll(),this.Ze=new _i(gn)}Xe(n){for(const o of n.De)n.ve&&n.ve.isFoundDocument()?this.et(o,n.ve):this.tt(o,n.key,n.ve);for(const o of n.removedTargetIds)this.tt(o,n.key,n.ve)}nt(n){this.forEachTarget(n,o=>{const d=this.rt(o);switch(n.state){case 0:this.it(o)&&d.ke(n.resumeToken);break;case 1:d.We(),d.Be||d.Qe(),d.ke(n.resumeToken);break;case 2:d.We(),d.Be||this.removeTarget(o);break;case 3:this.it(o)&&(d.Ge(),d.ke(n.resumeToken));break;case 4:this.it(o)&&(this.st(o),d.ke(n.resumeToken));break;default:bt(56790,{state:n.state})}})}forEachTarget(n,o){n.targetIds.length>0?n.targetIds.forEach(o):this.je.forEach((d,g)=>{this.it(g)&&o(g)})}ot(n){const o=n.targetId,d=n.Ce.count,g=this._t(o);if(g){const b=g.target;if(ze(b))if(0===d){const D=new wn(b.path);this.tt(o,D,Qi.newNoDocument(D,Fn.min()))}else Ot(1===d,20013,{expectedCount:d});else{const D=this.ut(o);if(D!==d){const N=this.ct(n),$=N?this.lt(N,n,D):1;0!==$&&(this.st(o),this.Ze=this.Ze.insert(o,2===$?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ct(n){const o=n.Ce.unchangedNames;if(!o||!o.bits)return null;const{bits:{bitmap:d="",padding:g=0},hashCount:b=0}=o;let D,N;try{D=Qr(d).toUint8Array()}catch($){if($ instanceof Ea)return hr("Decoding the base64 bloom filter in existence filter failed ("+$.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw $}try{N=new Ms(D,g,b)}catch($){return hr($ instanceof Da?"BloomFilter error: ":"Applying bloom filter failed: ",$),null}return 0===N.pe?null:N}lt(n,o,d){return o.Ce.count===d-this.Tt(n,o.targetId)?0:2}Tt(n,o){const d=this.ze.getRemoteKeysForTarget(o);let g=0;return d.forEach(b=>{const D=this.ze.Pt(),N=`projects/${D.projectId}/databases/${D.database}/documents/${b.path.canonicalString()}`;n.mightContain(N)||(this.tt(o,b,null),g++)}),g}It(n){const o=new Map;this.je.forEach((b,D)=>{const N=this._t(D);if(N){if(b.current&&ze(N.target)){const $=new wn(N.target.path);this.Et($).has(D)||this.dt(D,$)||this.tt(D,$,Qi.newNoDocument($,n))}b.Le&&(o.set(D,b.qe()),b.Qe())}});let d=Er();this.Ye.forEach((b,D)=>{let N=!0;D.forEachWhile($=>{const X=this._t($);return!X||"TargetPurposeLimboResolution"===X.purpose||(N=!1,!1)}),N&&(d=d.add(b))}),this.He.forEach((b,D)=>D.setReadTime(n));const g=new Fc(n,o,this.Ze,this.He,d);return this.He=O(),this.Je=Ll(),this.Ye=Ll(),this.Ze=new _i(gn),g}et(n,o){if(!this.it(n))return;const d=this.dt(n,o.key)?2:0;this.rt(n).$e(o.key,d),this.He=this.He.insert(o.key,o),this.Je=this.Je.insert(o.key,this.Et(o.key).add(n)),this.Ye=this.Ye.insert(o.key,this.At(o.key).add(n))}tt(n,o,d){if(!this.it(n))return;const g=this.rt(n);this.dt(n,o)?g.$e(o,1):g.Ue(o),this.Ye=this.Ye.insert(o,this.At(o).delete(n)),this.Ye=this.Ye.insert(o,this.At(o).add(n)),d&&(this.He=this.He.insert(o,d))}removeTarget(n){this.je.delete(n)}ut(n){const o=this.rt(n).qe();return this.ze.getRemoteKeysForTarget(n).size+o.addedDocuments.size-o.removedDocuments.size}Ke(n){this.rt(n).Ke()}rt(n){let o=this.je.get(n);return o||(o=new ei,this.je.set(n,o)),o}At(n){let o=this.Ye.get(n);return o||(o=new Ei(gn),this.Ye=this.Ye.insert(n,o)),o}Et(n){let o=this.Je.get(n);return o||(o=new Ei(gn),this.Je=this.Je.insert(n,o)),o}it(n){const o=null!==this._t(n);return o||Pt("WatchChangeAggregator","Detected inactive target",n),o}_t(n){const o=this.je.get(n);return o&&o.Be?null:this.ze.Rt(n)}st(n){this.je.set(n,new ei),this.ze.getRemoteKeysForTarget(n).forEach(o=>{this.tt(n,o,null)})}dt(n,o){return this.ze.getRemoteKeysForTarget(n).has(o)}}function Ll(){return new _i(wn.comparator)}function Ad(){return new _i(wn.comparator)}const Vl={asc:"ASCENDING",desc:"DESCENDING"},qf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kh={and:"AND",or:"OR"};class Qf{constructor(n,o){this.databaseId=n,this.useProto3Json=o}}function Wa(f,n){return f.useProto3Json||Qn(n)?n:{value:n}}function Sd(f,n){return f.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function ha(f,n){return f.useProto3Json?n.toBase64():n.toUint8Array()}function Oh(f,n){return Sd(f,n.toTimestamp())}function Ii(f){return Ot(!!f,49232),Fn.fromTimestamp(function(o){const d=Ys(o);return new Gr(d.seconds,d.nanos)}(f))}function Rd(f,n){return zt(f,n).canonicalString()}function zt(f,n){const o=(g=f,new Dt(["projects",g.projectId,"databases",g.database])).child("documents");var g;return void 0===n?o:o.child(n)}function $r(f){const n=Dt.fromString(f);return Ot(Fh(n),10190,{key:n.toString()}),n}function fa(f,n){return Rd(f.databaseId,n.path)}function Ga(f,n){const o=$r(n);if(o.get(1)!==f.databaseId.projectId)throw new de(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+f.databaseId.projectId);if(o.get(3)!==f.databaseId.database)throw new de(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+f.databaseId.database);return new wn(Aa(o))}function pi(f,n){return Rd(f.databaseId,n)}function Ka(f){return new Dt(["projects",f.databaseId.projectId,"databases",f.databaseId.database]).canonicalString()}function Aa(f){return Ot(f.length>4&&"documents"===f.get(4),29091,{key:f.toString()}),f.popFirst(5)}function xd(f,n,o){return{name:fa(f,n),fields:o.value.mapValue.fields}}function gu(f,n){return{documents:[pi(f,n.path)]}}function Qo(f,n){const o={structuredQuery:{}},d=n.path;let g;null!==n.collectionGroup?(g=d,o.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(g=d.popLast(),o.structuredQuery.from=[{collectionId:d.lastSegment()}]),o.parent=pi(f,g);const b=function(X){if(0!==X.length)return Gu(wi.create(X,"and"))}(n.filters);b&&(o.structuredQuery.where=b);const D=function(X){if(0!==X.length)return X.map(ce=>{return{field:Bl((Je=ce).field),direction:kd(Je.dir)};var Je})}(n.orderBy);D&&(o.structuredQuery.orderBy=D);const N=Wa(f,n.limit);return null!==N&&(o.structuredQuery.limit=N),n.startAt&&(o.structuredQuery.startAt={before:(X=n.startAt).inclusive,values:X.position}),n.endAt&&(o.structuredQuery.endAt=function(X){return{before:!X.inclusive,values:X.position}}(n.endAt)),{gt:o,parent:g};var X}function Md(f){let n=function Xf(f){const n=$r(f);return 4===n.length?Dt.emptyPath():Aa(n)}(f.parent);const o=f.structuredQuery,d=o.from?o.from.length:0;let g=null;if(d>0){Ot(1===d,65062);const ce=o.from[0];ce.allDescendants?g=ce.collectionId:n=n.child(ce.collectionId)}let b=[];o.where&&(b=function(be){const Je=Qa(be);return Je instanceof wi&&cu(Je)?Je.getFilters():[Je]}(o.where));let D=[];o.orderBy&&(D=o.orderBy.map(Je=>{return new wa(Ul((cn=Je).field),function(Cn){switch(Cn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(cn.direction));var cn}));let N=null;o.limit&&(N=function(be){let Je;return Je="object"==typeof be?be.value:be,Qn(Je)?null:Je}(o.limit));let $=null;var be;o.startAt&&($=new Lo((be=o.startAt).values||[],!!be.before));let X=null;return o.endAt&&(X=function(be){return new Lo(be.values||[],!be.before)}(o.endAt)),function qi(f,n,o,d,g,b,D,N){return new Vs(f,n,o,d,g,b,D,N)}(n,g,D,b,N,"F",$,X)}function Qa(f){return void 0!==f.unaryFilter?function(o){switch(o.unaryFilter.op){case"IS_NAN":const d=Ul(o.unaryFilter.field);return Ri.create(d,"==",{doubleValue:NaN});case"IS_NULL":const g=Ul(o.unaryFilter.field);return Ri.create(g,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const b=Ul(o.unaryFilter.field);return Ri.create(b,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const D=Ul(o.unaryFilter.field);return Ri.create(D,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}}(f):void 0!==f.fieldFilter?Ri.create(Ul((o=f).fieldFilter.field),function(g){switch(g){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}}(o.fieldFilter.op),o.fieldFilter.value):void 0!==f.compositeFilter?function(o){return wi.create(o.compositeFilter.filters.map(d=>Qa(d)),function(g){switch(g){case"AND":return"and";case"OR":return"or";default:return bt(1026)}}(o.compositeFilter.op))}(f):bt(30097,{filter:f});var o}function kd(f){return Vl[f]}function Vc(f){return qf[f]}function _g(f){return kh[f]}function Bl(f){return{fieldPath:f.canonicalString()}}function Ul(f){return vr.fromServerFormat(f.fieldPath)}function Gu(f){return f instanceof Ri?function(o){if("=="===o.op){if(fs(o.value))return{unaryFilter:{field:Bl(o.field),op:"IS_NAN"}};if(jr(o.value))return{unaryFilter:{field:Bl(o.field),op:"IS_NULL"}}}else if("!="===o.op){if(fs(o.value))return{unaryFilter:{field:Bl(o.field),op:"IS_NOT_NAN"}};if(jr(o.value))return{unaryFilter:{field:Bl(o.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(o.field),op:Vc(o.op),value:o.value}}}(f):f instanceof wi?function(o){const d=o.getFilters().map(g=>Gu(g));return 1===d.length?d[0]:{compositeFilter:{op:_g(o.op),filters:d}}}(f):bt(54877,{filter:f})}function Od(f){const n=[];return f.fields.forEach(o=>n.push(o.canonicalString())),{fieldPaths:n}}function Fh(f){return f.length>=4&&"projects"===f.get(0)&&"databases"===f.get(2)}class jl{constructor(n,o,d,g,b=Fn.min(),D=Fn.min(),N=hs.EMPTY_BYTE_STRING,$=null){this.target=n,this.targetId=o,this.purpose=d,this.sequenceNumber=g,this.snapshotVersion=b,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=N,this.expectedCount=$}withSequenceNumber(n){return new jl(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,o){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class Lh{constructor(n){this.wt=n}}function vl(f){const n=Md({parent:f.parent,structuredQuery:f.structuredQuery});return"LAST"===f.limitType?nr(n,n.limit,"L"):n}class ga{constructor(){}vt(n,o){this.Ct(n,o),o.Ft()}Ct(n,o){if("nullValue"in n)this.Mt(o,5);else if("booleanValue"in n)this.Mt(o,10),o.xt(n.booleanValue?1:0);else if("integerValue"in n)this.Mt(o,15),o.xt(yi(n.integerValue));else if("doubleValue"in n){const d=yi(n.doubleValue);isNaN(d)?this.Mt(o,13):(this.Mt(o,15),Zr(d)?o.xt(0):o.xt(d))}else if("timestampValue"in n){let d=n.timestampValue;this.Mt(o,20),"string"==typeof d&&(d=Ys(d)),o.Ot(`${d.seconds||""}`),o.xt(d.nanos||0)}else if("stringValue"in n)this.Nt(n.stringValue,o),this.Bt(o);else if("bytesValue"in n)this.Mt(o,30),o.Lt(Qr(n.bytesValue)),this.Bt(o);else if("referenceValue"in n)this.kt(n.referenceValue,o);else if("geoPointValue"in n){const d=n.geoPointValue;this.Mt(o,45),o.xt(d.latitude||0),o.xt(d.longitude||0)}else"mapValue"in n?fl(n)?this.Mt(o,Number.MAX_SAFE_INTEGER):ho(n)?this.qt(n.mapValue,o):(this.Qt(n.mapValue,o),this.Bt(o)):"arrayValue"in n?(this.$t(n.arrayValue,o),this.Bt(o)):bt(19022,{Ut:n})}Nt(n,o){this.Mt(o,25),this.Kt(n,o)}Kt(n,o){o.Ot(n)}Qt(n,o){const d=n.fields||{};this.Mt(o,55);for(const g of Object.keys(d))this.Nt(g,o),this.Ct(d[g],o)}qt(n,o){var d,g;const b=n.fields||{};this.Mt(o,53);const D=zn,N=(null===(g=null===(d=b[D].arrayValue)||void 0===d?void 0:d.values)||void 0===g?void 0:g.length)||0;this.Mt(o,15),o.xt(yi(N)),this.Nt(D,o),this.Ct(b[D],o)}$t(n,o){const d=n.values||[];this.Mt(o,50);for(const g of d)this.Ct(g,o)}kt(n,o){this.Mt(o,37),wn.fromName(n).path.forEach(d=>{this.Mt(o,60),this.Kt(d,o)})}Mt(n,o){n.xt(o)}Bt(n){n.xt(2)}}ga.Wt=new ga;class Wl{constructor(){this.Cn=new $h}addToCollectionParentIndex(n,o){return this.Cn.add(o),et.resolve()}getCollectionParents(n,o){return et.resolve(this.Cn.getEntries(o))}addFieldIndex(n,o){return et.resolve()}deleteFieldIndex(n,o){return et.resolve()}deleteAllFieldIndexes(n){return et.resolve()}createTargetIndexes(n,o){return et.resolve()}getDocumentsMatchingTarget(n,o){return et.resolve(null)}getIndexType(n,o){return et.resolve(0)}getFieldIndexes(n,o){return et.resolve([])}getNextCollectionGroupToUpdate(n){return et.resolve(null)}getMinOffset(n,o){return et.resolve(Vr.min())}getMinOffsetFromCollectionGroup(n,o){return et.resolve(Vr.min())}updateCollectionGroup(n,o,d){return et.resolve()}updateIndexEntries(n,o){return et.resolve()}}class $h{constructor(){this.index={}}add(n){const o=n.lastSegment(),d=n.popLast(),g=this.index[o]||new Ei(Dt.comparator),b=!g.has(d);return this.index[o]=g.add(d),b}has(n){const o=n.lastSegment(),d=n.popLast(),g=this.index[o];return g&&g.has(d)}getEntries(n){return(this.index[n]||new Ei(Dt.comparator)).toArray()}}new Uint8Array(0);const wg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Io{static withCacheSize(n){return new Io(n,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,o,d){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=d}}Io.DEFAULT_COLLECTION_PERCENTILE=10,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Io.DEFAULT=new Io(41943040,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Io.DISABLED=new Io(-1,0,0);class ol{constructor(n){this.ur=n}next(){return this.ur+=2,this.ur}static cr(){return new ol(0)}static lr(){return new ol(-1)}}const zh="LruGarbageCollector";function pc([f,n],[o,d]){const g=gn(f,o);return 0===g?gn(n,d):g}class wu{constructor(n){this.Er=n,this.buffer=new Ei(pc),this.dr=0}Ar(){return++this.dr}Rr(n){const o=[n,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(o);else{const d=this.buffer.last();pc(o,d)<0&&(this.buffer=this.buffer.delete(d).add(o))}}get maxValue(){return this.buffer.last()[0]}}class so{constructor(n,o,d){this.garbageCollector=n,this.asyncQueue=o,this.localStore=d,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(n){var o=this;Pt(zh,`Garbage collection scheduled in ${n}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,T.A)(function*(){o.Vr=null;try{yield o.localStore.collectGarbage(o.garbageCollector)}catch(d){Yr(d)?Pt(zh,"Ignoring IndexedDB error during garbage collection: ",d):yield br(d)}yield o.mr(3e5)}))}}class rp{constructor(n,o){this.gr=n,this.params=o}calculateTargetCount(n,o){return this.gr.pr(n).next(d=>Math.floor(o/100*d))}nthSequenceNumber(n,o){if(0===o)return et.resolve(dt.le);const d=new wu(o);return this.gr.forEachTarget(n,g=>d.Rr(g.sequenceNumber)).next(()=>this.gr.yr(n,g=>d.Rr(g))).next(()=>d.maxValue)}removeTargets(n,o,d){return this.gr.removeTargets(n,o,d)}removeOrphanedDocuments(n,o){return this.gr.removeOrphanedDocuments(n,o)}collect(n,o){return-1===this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(wg)):this.getCacheSize(n).next(d=>d<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${d} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wg):this.wr(n,o))}getCacheSize(n){return this.gr.getCacheSize(n)}wr(n,o){let d,g,b,D,N,$,X;const ce=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(be=>(be>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${be}`),g=this.params.maximumSequenceNumbersToCollect):g=be,D=Date.now(),this.nthSequenceNumber(n,g))).next(be=>(d=be,N=Date.now(),this.removeTargets(n,d,o))).next(be=>(b=be,$=Date.now(),this.removeOrphanedDocuments(n,d))).next(be=>(X=Date.now(),hn()<=A.$b.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-ce}ms\n\tDetermined least recently used ${g} in `+(N-D)+`ms\n\tRemoved ${b} targets in `+($-N)+`ms\n\tRemoved ${be} documents in `+(X-$)+`ms\nTotal Duration: ${X-ce}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:g,targetsRemoved:b,documentsRemoved:be})))}}class ip{constructor(){this.changes=new M(n=>n.toString(),(n,o)=>n.isEqual(o)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,o){this.assertNotApplied(),this.changes.set(n,Qi.newInvalidDocument(n).setReadTime(o))}getEntry(n,o){this.assertNotApplied();const d=this.changes.get(o);return void 0!==d?et.resolve(d):this.getFromCache(n,o)}getEntries(n,o){return this.getAllFromCache(n,o)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class ln{constructor(n,o){this.overlayedDocument=n,this.mutatedFields=o}}class $n{constructor(n,o,d,g){this.remoteDocumentCache=n,this.mutationQueue=o,this.documentOverlayCache=d,this.indexManager=g}getDocument(n,o){let d=null;return this.documentOverlayCache.getOverlay(n,o).next(g=>(d=g,this.remoteDocumentCache.getEntry(n,o))).next(g=>(null!==d&&Fr(d.mutation,g,Fs.empty(),Gr.now()),g))}getDocuments(n,o){return this.remoteDocumentCache.getEntries(n,o).next(d=>this.getLocalViewOfDocuments(n,d,Er()).next(()=>d))}getLocalViewOfDocuments(n,o,d=Er()){const g=_e();return this.populateOverlays(n,g,o).next(()=>this.computeViews(n,o,g,d).next(b=>{let D=ee();return b.forEach((N,$)=>{D=D.insert(N,$.overlayedDocument)}),D}))}getOverlayedDocuments(n,o){const d=_e();return this.populateOverlays(n,d,o).next(()=>this.computeViews(n,o,d,Er()))}populateOverlays(n,o,d){const g=[];return d.forEach(b=>{o.has(b)||g.push(b)}),this.documentOverlayCache.getOverlays(n,g).next(b=>{b.forEach((D,N)=>{o.set(D,N)})})}computeViews(n,o,d,g){let b=O();const D=$t(),N=$t();return o.forEach(($,X)=>{const ce=d.get(X.key);g.has(X.key)&&(void 0===ce||ce.mutation instanceof il)?b=b.insert(X.key,X):void 0!==ce?(D.set(X.key,ce.mutation.getFieldMask()),Fr(ce.mutation,X,ce.mutation.getFieldMask(),Gr.now())):D.set(X.key,Fs.empty())}),this.recalculateAndSaveOverlays(n,b).next($=>($.forEach((X,ce)=>D.set(X,ce)),o.forEach((X,ce)=>{var be;return N.set(X,new ln(ce,null!==(be=D.get(X))&&void 0!==be?be:null))}),N))}recalculateAndSaveOverlays(n,o){const d=$t();let g=new _i((D,N)=>D-N),b=Er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,o).next(D=>{for(const N of D)N.keys().forEach($=>{const X=o.get($);if(null===X)return;let ce=d.get($)||Fs.empty();ce=N.applyToLocalView(X,ce),d.set($,ce);const be=(g.get(N.batchId)||Er()).add($);g=g.insert(N.batchId,be)})}).next(()=>{const D=[],N=g.getReverseIterator();for(;N.hasNext();){const $=N.getNext(),X=$.key,ce=$.value,be=Et();ce.forEach(Je=>{if(!b.has(Je)){const Ft=Wu(o.get(Je),d.get(Je));null!==Ft&&be.set(Je,Ft),b=b.add(Je)}}),D.push(this.documentOverlayCache.saveOverlays(n,X,be))}return et.waitFor(D)}).next(()=>d)}recalculateAndSaveOverlaysForDocumentKeys(n,o){return this.remoteDocumentCache.getEntries(n,o).next(d=>this.recalculateAndSaveOverlays(n,d))}getDocumentsMatchingQuery(n,o,d,g){return wn.isDocumentKey((D=o).path)&&null===D.collectionGroup&&0===D.filters.length?this.getDocumentsMatchingDocumentQuery(n,o.path):Uo(o)?this.getDocumentsMatchingCollectionGroupQuery(n,o,d,g):this.getDocumentsMatchingCollectionQuery(n,o,d,g);var D}getNextDocuments(n,o,d,g){return this.remoteDocumentCache.getAllFromCollectionGroup(n,o,d,g).next(b=>{const D=g-b.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,o,d.largestBatchId,g-b.size):et.resolve(_e());let N=-1,$=b;return D.next(X=>et.forEach(X,(ce,be)=>(N<be.largestBatchId&&(N=be.largestBatchId),b.get(ce)?et.resolve():this.remoteDocumentCache.getEntry(n,ce).next(Je=>{$=$.insert(ce,Je)}))).next(()=>this.populateOverlays(n,X,b)).next(()=>this.computeViews(n,$,X,Er())).next(ce=>({batchId:N,changes:Ie(ce)})))})}getDocumentsMatchingDocumentQuery(n,o){return this.getDocument(n,new wn(o)).next(d=>{let g=ee();return d.isFoundDocument()&&(g=g.insert(d.key,d)),g})}getDocumentsMatchingCollectionGroupQuery(n,o,d,g){const b=o.collectionGroup;let D=ee();return this.indexManager.getCollectionParents(n,b).next(N=>et.forEach(N,$=>{const X=(be=o,Je=$.child(b),new Vs(Je,null,be.explicitOrderBy.slice(),be.filters.slice(),be.limit,be.limitType,be.startAt,be.endAt));var be,Je;return this.getDocumentsMatchingCollectionQuery(n,X,d,g).next(ce=>{ce.forEach((be,Je)=>{D=D.insert(be,Je)})})}).next(()=>D))}getDocumentsMatchingCollectionQuery(n,o,d,g){let b;return this.documentOverlayCache.getOverlaysForCollection(n,o.path,d.largestBatchId).next(D=>(b=D,this.remoteDocumentCache.getDocumentsMatchingQuery(n,o,d,b,g))).next(D=>{b.forEach(($,X)=>{const ce=X.getKey();null===D.get(ce)&&(D=D.insert(ce,Qi.newInvalidDocument(ce)))});let N=ee();return D.forEach(($,X)=>{const ce=b.get($);void 0!==ce&&Fr(ce.mutation,X,Fs.empty(),Gr.now()),Ol(o,X)&&(N=N.insert($,X))}),N})}}class or{constructor(n){this.serializer=n,this.kr=new Map,this.qr=new Map}getBundleMetadata(n,o){return et.resolve(this.kr.get(o))}saveBundleMetadata(n,o){return this.kr.set(o.id,{id:(g=o).id,version:g.version,createTime:Ii(g.createTime)}),et.resolve();var g}getNamedQuery(n,o){return et.resolve(this.qr.get(o))}saveNamedQuery(n,o){return this.qr.set(o.name,{name:(g=o).name,query:vl(g.bundledQuery),readTime:Ii(g.readTime)}),et.resolve();var g}}class _r{constructor(){this.overlays=new _i(wn.comparator),this.Qr=new Map}getOverlay(n,o){return et.resolve(this.overlays.get(o))}getOverlays(n,o){const d=_e();return et.forEach(o,g=>this.getOverlay(n,g).next(b=>{null!==b&&d.set(g,b)})).next(()=>d)}saveOverlays(n,o,d){return d.forEach((g,b)=>{this.bt(n,o,b)}),et.resolve()}removeOverlaysForBatchId(n,o,d){const g=this.Qr.get(d);return void 0!==g&&(g.forEach(b=>this.overlays=this.overlays.remove(b)),this.Qr.delete(d)),et.resolve()}getOverlaysForCollection(n,o,d){const g=_e(),b=o.length+1,D=new wn(o.child("")),N=this.overlays.getIteratorFrom(D);for(;N.hasNext();){const $=N.getNext().value,X=$.getKey();if(!o.isPrefixOf(X.path))break;X.path.length===b&&$.largestBatchId>d&&g.set($.getKey(),$)}return et.resolve(g)}getOverlaysForCollectionGroup(n,o,d,g){let b=new _i((X,ce)=>X-ce);const D=this.overlays.getIterator();for(;D.hasNext();){const X=D.getNext().value;if(X.getKey().getCollectionGroup()===o&&X.largestBatchId>d){let ce=b.get(X.largestBatchId);null===ce&&(ce=_e(),b=b.insert(X.largestBatchId,ce)),ce.set(X.getKey(),X)}}const N=_e(),$=b.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((X,ce)=>N.set(X,ce)),!(N.size()>=g)););return et.resolve(N)}bt(n,o,d){const g=this.overlays.get(d.key);if(null!==g){const D=this.Qr.get(g.largestBatchId).delete(d.key);this.Qr.set(g.largestBatchId,D)}this.overlays=this.overlays.insert(d.key,new Ca(o,d));let b=this.Qr.get(o);void 0===b&&(b=Er(),this.Qr.set(o,b)),this.Qr.set(o,b.add(d.key))}}class ai{constructor(){this.sessionToken=hs.EMPTY_BYTE_STRING}getSessionToken(n){return et.resolve(this.sessionToken)}setSessionToken(n,o){return this.sessionToken=o,et.resolve()}}class oo{constructor(){this.$r=new Ei(ks.Ur),this.Kr=new Ei(ks.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(n,o){const d=new ks(n,o);this.$r=this.$r.add(d),this.Kr=this.Kr.add(d)}Gr(n,o){n.forEach(d=>this.addReference(d,o))}removeReference(n,o){this.zr(new ks(n,o))}jr(n,o){n.forEach(d=>this.removeReference(d,o))}Hr(n){const o=new wn(new Dt([])),d=new ks(o,n),g=new ks(o,n+1),b=[];return this.Kr.forEachInRange([d,g],D=>{this.zr(D),b.push(D.key)}),b}Jr(){this.$r.forEach(n=>this.zr(n))}zr(n){this.$r=this.$r.delete(n),this.Kr=this.Kr.delete(n)}Yr(n){const o=new wn(new Dt([])),d=new ks(o,n),g=new ks(o,n+1);let b=Er();return this.Kr.forEachInRange([d,g],D=>{b=b.add(D.key)}),b}containsKey(n){const o=new ks(n,0),d=this.$r.firstAfterOrEqual(o);return null!==d&&n.isEqual(d.key)}}class ks{constructor(n,o){this.key=n,this.Zr=o}static Ur(n,o){return wn.comparator(n.key,o.key)||gn(n.Zr,o.Zr)}static Wr(n,o){return gn(n.Zr,o.Zr)||wn.comparator(n.key,o.key)}}class al{constructor(n,o){this.indexManager=n,this.referenceDelegate=o,this.mutationQueue=[],this.nr=1,this.Xr=new Ei(ks.Ur)}checkEmpty(n){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(n,o,d,g){const b=this.nr;this.nr++;const D=new Fl(b,o,d,g);this.mutationQueue.push(D);for(const N of g)this.Xr=this.Xr.add(new ks(N.key,b)),this.indexManager.addToCollectionParentIndex(n,N.key.path.popLast());return et.resolve(D)}lookupMutationBatch(n,o){return et.resolve(this.ei(o))}getNextMutationBatchAfterBatchId(n,o){const g=this.ti(o+1),b=g<0?0:g;return et.resolve(this.mutationQueue.length>b?this.mutationQueue[b]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.nr-1)}getAllMutationBatches(n){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,o){const d=new ks(o,0),g=new ks(o,Number.POSITIVE_INFINITY),b=[];return this.Xr.forEachInRange([d,g],D=>{const N=this.ei(D.Zr);b.push(N)}),et.resolve(b)}getAllMutationBatchesAffectingDocumentKeys(n,o){let d=new Ei(gn);return o.forEach(g=>{const b=new ks(g,0),D=new ks(g,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([b,D],N=>{d=d.add(N.Zr)})}),et.resolve(this.ni(d))}getAllMutationBatchesAffectingQuery(n,o){const d=o.path,g=d.length+1;let b=d;wn.isDocumentKey(b)||(b=b.child(""));const D=new ks(new wn(b),0);let N=new Ei(gn);return this.Xr.forEachWhile($=>{const X=$.key.path;return!!d.isPrefixOf(X)&&(X.length===g&&(N=N.add($.Zr)),!0)},D),et.resolve(this.ni(N))}ni(n){const o=[];return n.forEach(d=>{const g=this.ei(d);null!==g&&o.push(g)}),o}removeMutationBatch(n,o){Ot(0===this.ri(o.batchId,"removed"),55003),this.mutationQueue.shift();let d=this.Xr;return et.forEach(o.mutations,g=>{const b=new ks(g.key,o.batchId);return d=d.delete(b),this.referenceDelegate.markPotentiallyOrphaned(n,g.key)}).next(()=>{this.Xr=d})}sr(n){}containsKey(n,o){const d=new ks(o,0),g=this.Xr.firstAfterOrEqual(d);return et.resolve(o.isEqual(g&&g.key))}performConsistencyCheck(n){return et.resolve()}ri(n,o){return this.ti(n)}ti(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}ei(n){const o=this.ti(n);return o<0||o>=this.mutationQueue.length?null:this.mutationQueue[o]}}class jd{constructor(n){this.ii=n,this.docs=new _i(wn.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,o){const d=o.key,g=this.docs.get(d),b=g?g.size:0,D=this.ii(o);return this.docs=this.docs.insert(d,{document:o.mutableCopy(),size:D}),this.size+=D-b,this.indexManager.addToCollectionParentIndex(n,d.path.popLast())}removeEntry(n){const o=this.docs.get(n);o&&(this.docs=this.docs.remove(n),this.size-=o.size)}getEntry(n,o){const d=this.docs.get(o);return et.resolve(d?d.document.mutableCopy():Qi.newInvalidDocument(o))}getEntries(n,o){let d=O();return o.forEach(g=>{const b=this.docs.get(g);d=d.insert(g,b?b.document.mutableCopy():Qi.newInvalidDocument(g))}),et.resolve(d)}getDocumentsMatchingQuery(n,o,d,g){let b=O();const D=o.path,N=new wn(D.child("__id-9223372036854775808__")),$=this.docs.getIteratorFrom(N);for(;$.hasNext();){const{key:X,value:{document:ce}}=$.getNext();if(!D.isPrefixOf(X.path))break;X.path.length>D.length+1||Zn(new Vr((f=ce).readTime,f.key,-1),d)<=0||(g.has(ce.key)||Ol(o,ce))&&(b=b.insert(ce.key,ce.mutableCopy()))}var f;return et.resolve(b)}getAllFromCollectionGroup(n,o,d,g){bt(9500)}si(n,o){return et.forEach(this.docs,d=>o(d))}newChangeBuffer(n){return new $o(this)}getSize(n){return et.resolve(this.size)}}class $o extends ip{constructor(n){super(),this.Br=n}applyChanges(n){const o=[];return this.changes.forEach((d,g)=>{g.isValidDocument()?o.push(this.Br.addEntry(n,g)):this.Br.removeEntry(d)}),et.waitFor(o)}getFromCache(n,o){return this.Br.getEntry(n,o)}getAllFromCache(n,o){return this.Br.getEntries(n,o)}}class Tg{constructor(n){this.persistence=n,this.oi=new M(o=>V(o),J),this.lastRemoteSnapshotVersion=Fn.min(),this.highestTargetId=0,this._i=0,this.ai=new oo,this.targetCount=0,this.ui=ol.cr()}forEachTarget(n,o){return this.oi.forEach((d,g)=>o(g)),et.resolve()}getLastRemoteSnapshotVersion(n){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return et.resolve(this._i)}allocateTargetId(n){return this.highestTargetId=this.ui.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(n,o,d){return d&&(this.lastRemoteSnapshotVersion=d),o>this._i&&(this._i=o),et.resolve()}Tr(n){this.oi.set(n.target,n);const o=n.targetId;o>this.highestTargetId&&(this.ui=new ol(o),this.highestTargetId=o),n.sequenceNumber>this._i&&(this._i=n.sequenceNumber)}addTargetData(n,o){return this.Tr(o),this.targetCount+=1,et.resolve()}updateTargetData(n,o){return this.Tr(o),et.resolve()}removeTargetData(n,o){return this.oi.delete(o.target),this.ai.Hr(o.targetId),this.targetCount-=1,et.resolve()}removeTargets(n,o,d){let g=0;const b=[];return this.oi.forEach((D,N)=>{N.sequenceNumber<=o&&null===d.get(N.targetId)&&(this.oi.delete(D),b.push(this.removeMatchingKeysForTargetId(n,N.targetId)),g++)}),et.waitFor(b).next(()=>g)}getTargetCount(n){return et.resolve(this.targetCount)}getTargetData(n,o){const d=this.oi.get(o)||null;return et.resolve(d)}addMatchingKeys(n,o,d){return this.ai.Gr(o,d),et.resolve()}removeMatchingKeys(n,o,d){this.ai.jr(o,d);const g=this.persistence.referenceDelegate,b=[];return g&&o.forEach(D=>{b.push(g.markPotentiallyOrphaned(n,D))}),et.waitFor(b)}removeMatchingKeysForTargetId(n,o){return this.ai.Hr(o),et.resolve()}getMatchingKeysForTargetId(n,o){const d=this.ai.Yr(o);return et.resolve(d)}containsKey(n,o){return et.resolve(this.ai.containsKey(o))}}class Zu{constructor(n,o){this.ci={},this.overlays={},this.li=new dt(0),this.hi=!1,this.hi=!0,this.Pi=new ai,this.referenceDelegate=n(this),this.Ti=new Tg(this),this.indexManager=new Wl,this.remoteDocumentCache=new jd(d=>this.referenceDelegate.Ii(d)),this.serializer=new Lh(o),this.Ei=new or(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let o=this.overlays[n.toKey()];return o||(o=new _r,this.overlays[n.toKey()]=o),o}getMutationQueue(n,o){let d=this.ci[n.toKey()];return d||(d=new al(o,this.referenceDelegate),this.ci[n.toKey()]=d),d}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(n,o,d){Pt("MemoryPersistence","Starting transaction:",n);const g=new __(this.li.next());return this.referenceDelegate.di(),d(g).next(b=>this.referenceDelegate.Ai(g).next(()=>b)).toPromise().then(b=>(g.raiseOnCommittedEvent(),b))}Ri(n,o){return et.or(Object.values(this.ci).map(d=>()=>d.containsKey(n,o)))}}class __ extends ti{constructor(n){super(),this.currentSequenceNumber=n}}class Tu{constructor(n){this.persistence=n,this.Vi=new oo,this.mi=null}static fi(n){return new Tu(n)}get gi(){if(this.mi)return this.mi;throw bt(60996)}addReference(n,o,d){return this.Vi.addReference(d,o),this.gi.delete(d.toString()),et.resolve()}removeReference(n,o,d){return this.Vi.removeReference(d,o),this.gi.add(d.toString()),et.resolve()}markPotentiallyOrphaned(n,o){return this.gi.add(o.toString()),et.resolve()}removeTarget(n,o){this.Vi.Hr(o.targetId).forEach(g=>this.gi.add(g.toString()));const d=this.persistence.getTargetCache();return d.getMatchingKeysForTargetId(n,o.targetId).next(g=>{g.forEach(b=>this.gi.add(b.toString()))}).next(()=>d.removeTargetData(n,o))}di(){this.mi=new Set}Ai(n){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.gi,d=>{const g=wn.fromPath(d);return this.pi(n,g).next(b=>{b||o.removeEntry(g,Fn.min())})}).next(()=>(this.mi=null,o.apply(n)))}updateLimboDocument(n,o){return this.pi(n,o).next(d=>{d?this.gi.delete(o.toString()):this.gi.add(o.toString())})}Ii(n){return 0}pi(n,o){return et.or([()=>et.resolve(this.Vi.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(n,o),()=>this.persistence.Ri(n,o)])}}class _a{constructor(n,o){this.persistence=n,this.yi=new M(d=>function He(f){let n="";for(let o=0;o<f.length;o++)n.length>0&&(n=Bt(n)),n=mt(f.get(o),n);return Bt(n)}(d.path),(d,g)=>d.isEqual(g)),this.garbageCollector=function Iu(f,n){return new rp(f,n)}(this,o)}static fi(n,o){return new _a(n,o)}di(){}Ai(n){return et.resolve()}forEachTarget(n,o){return this.persistence.getTargetCache().forEachTarget(n,o)}pr(n){const o=this.Sr(n);return this.persistence.getTargetCache().getTargetCount(n).next(d=>o.next(g=>d+g))}Sr(n){let o=0;return this.yr(n,d=>{o++}).next(()=>o)}yr(n,o){return et.forEach(this.yi,(d,g)=>this.Dr(n,d,g).next(b=>b?et.resolve():o(g)))}removeTargets(n,o,d){return this.persistence.getTargetCache().removeTargets(n,o,d)}removeOrphanedDocuments(n,o){let d=0;const g=this.persistence.getRemoteDocumentCache(),b=g.newChangeBuffer();return g.si(n,D=>this.Dr(n,D,o).next(N=>{N||(d++,b.removeEntry(D,Fn.min()))})).next(()=>b.apply(n)).next(()=>d)}markPotentiallyOrphaned(n,o){return this.yi.set(o,n.currentSequenceNumber),et.resolve()}removeTarget(n,o){const d=o.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,d)}addReference(n,o,d){return this.yi.set(d,n.currentSequenceNumber),et.resolve()}removeReference(n,o,d){return this.yi.set(d,n.currentSequenceNumber),et.resolve()}updateLimboDocument(n,o){return this.yi.set(o,n.currentSequenceNumber),et.resolve()}Ii(n){let o=n.key.toString().length;return n.isFoundDocument()&&(o+=oe(n.data.value)),o}Dr(n,o,d){return et.or([()=>this.persistence.Ri(n,o),()=>this.persistence.getTargetCache().containsKey(n,o),()=>{const g=this.yi.get(o);return et.resolve(void 0!==g&&g>d)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}class $d{constructor(n,o,d,g){this.targetId=n,this.fromCache=o,this.ds=d,this.As=g}static Rs(n,o){let d=Er(),g=Er();for(const b of o.docChanges)switch(b.type){case 0:d=d.add(b.doc.key);break;case 1:g=g.add(b.doc.key)}return new $d(n,o.fromCache,d,g)}}class y_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class v_{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(0,We.nr)()?8:function is(f){const n=f.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}((0,We.ZQ)())>0?6:4}initialize(n,o){this.ys=n,this.indexManager=o,this.Vs=!0}getDocumentsMatchingQuery(n,o,d,g){const b={result:null};return this.ws(n,o).next(D=>{b.result=D}).next(()=>{if(!b.result)return this.Ss(n,o,g,d).next(D=>{b.result=D})}).next(()=>{if(b.result)return;const D=new y_;return this.bs(n,o,D).next(N=>{if(b.result=N,this.fs)return this.Ds(n,o,D,N.size)})}).next(()=>b.result)}Ds(n,o,d,g){return d.documentReadCount<this.gs?(hn()<=A.$b.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",da(o),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),et.resolve()):(hn()<=A.$b.DEBUG&&Pt("QueryEngine","Query:",da(o),"scans",d.documentReadCount,"local documents and returns",g,"documents as results."),d.documentReadCount>this.ps*g?(hn()<=A.$b.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",da(o),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,bo(o))):et.resolve())}ws(n,o){if(tl(o))return et.resolve(null);let d=bo(o);return this.indexManager.getIndexType(n,d).next(g=>0===g?null:(null!==o.limit&&1===g&&(o=nr(o,null,"F"),d=bo(o)),this.indexManager.getDocumentsMatchingTarget(n,d).next(b=>{const D=Er(...b);return this.ys.getDocuments(n,D).next(N=>this.indexManager.getMinOffset(n,d).next($=>{const X=this.vs(o,N);return this.Cs(o,X,D,$.readTime)?this.ws(n,nr(o,null,"F")):this.Fs(n,X,o,$)}))})))}Ss(n,o,d,g){return tl(o)||g.isEqual(Fn.min())?et.resolve(null):this.ys.getDocuments(n,d).next(b=>{const D=this.vs(o,b);return this.Cs(o,D,d,g)?et.resolve(null):(hn()<=A.$b.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",g.toString(),da(o)),this.Fs(n,D,o,function Xi(f,n){const o=f.toTimestamp().seconds,d=f.toTimestamp().nanoseconds+1,g=Fn.fromTimestamp(1e9===d?new Gr(o+1,0):new Gr(o,d));return new Vr(g,wn.empty(),n)}(g,-1)).next(N=>N))})}vs(n,o){let d=new Ei(Us(n));return o.forEach((g,b)=>{Ol(n,b)&&(d=d.add(b))}),d}Cs(n,o,d,g){if(null===n.limit)return!1;if(d.size!==o.size)return!0;const b="F"===n.limitType?o.last():o.first();return!!b&&(b.hasPendingWrites||b.version.compareTo(g)>0)}bs(n,o,d){return hn()<=A.$b.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",da(o)),this.ys.getDocumentsMatchingQuery(n,o,Vr.min(),d)}Fs(n,o,d,g){return this.ys.getDocumentsMatchingQuery(n,d,g).next(b=>(o.forEach(D=>{b=b.insert(D.key,D)}),b))}}const rv="LocalStore";class Sg{constructor(n,o,d,g){this.persistence=n,this.Ms=o,this.serializer=g,this.xs=new _i(gn),this.Os=new M(b=>V(b),J),this.Ns=new Map,this.Bs=n.getRemoteDocumentCache(),this.Ti=n.getTargetCache(),this.Ei=n.getBundleCache(),this.Ls(d)}Ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new $n(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>n.collect(o,this.xs))}}function Hs(f,n){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,T.A)(function*(f,n){const o=rn(f);return yield o.persistence.runTransaction("Handle user change","readonly",d=>{let g;return o.mutationQueue.getAllMutationBatches(d).next(b=>(g=b,o.Ls(n),o.mutationQueue.getAllMutationBatches(d))).next(b=>{const D=[],N=[];let $=Er();for(const X of g){D.push(X.batchId);for(const ce of X.mutations)$=$.add(ce.key)}for(const X of b){N.push(X.batchId);for(const ce of X.mutations)$=$.add(ce.key)}return o.localDocuments.getDocuments(d,$).next(X=>({ks:X,removedBatchIds:D,addedBatchIds:N}))})})})).apply(this,arguments)}function E_(f){const n=rn(f);return n.persistence.runTransaction("Get last remote snapshot version","readonly",o=>n.Ti.getLastRemoteSnapshotVersion(o))}function sv(f,n){const o=rn(f);return o.persistence.runTransaction("Get next mutation batch","readonly",d=>(void 0===n&&(n=-1),o.mutationQueue.getNextMutationBatchAfterBatchId(d,n)))}function Du(f,n,o){return lp.apply(this,arguments)}function lp(){return(lp=(0,T.A)(function*(f,n,o){const d=rn(f),g=d.xs.get(n),b=o?"readwrite":"readwrite-primary";try{o||(yield d.persistence.runTransaction("Release target",b,D=>d.persistence.referenceDelegate.removeTarget(D,g)))}catch(D){if(!Yr(D))throw D;Pt(rv,`Failed to update sequence numbers for target ${n}: ${D}`)}d.xs=d.xs.remove(n),d.Os.delete(g.target)})).apply(this,arguments)}function Pg(f,n,o){const d=rn(f);let g=Fn.min(),b=Er();return d.persistence.runTransaction("Execute query","readwrite",D=>function($,X,ce){const be=rn($),Je=be.Os.get(ce);return void 0!==Je?et.resolve(be.xs.get(Je)):be.Ti.getTargetData(X,ce)}(d,D,bo(n)).next(N=>{if(N)return g=N.lastLimboFreeSnapshotVersion,d.Ti.getMatchingKeysForTargetId(D,N.targetId).next($=>{b=$})}).next(()=>d.Ms.getDocumentsMatchingQuery(D,n,o?g:Fn.min(),o?b:Er())).next(N=>(function Il(f,n,o){let d=f.Ns.get(n)||Fn.min();o.forEach((g,b)=>{b.readTime.compareTo(d)>0&&(d=b.readTime)}),f.Ns.set(n,d)}(d,function Mc(f){return f.collectionGroup||(f.path.length%2==1?f.path.lastSegment():f.path.get(f.path.length-2))}(n),N),{documents:N,$s:b})))}class Og{constructor(){this.activeTargetIds=function $a(){return Ko}()}js(n){this.activeTargetIds=this.activeTargetIds.add(n)}Hs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}zs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class dv{constructor(){this.xo=new Og,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,o,d){}addLocalQueryTarget(n,o=!0){return o&&this.xo.js(n),this.Oo[n]||"not-current"}updateQueryState(n,o,d){this.Oo[n]=o}removeLocalQueryTarget(n){this.xo.Hs(n)}isLocalQueryTarget(n){return this.xo.activeTargetIds.has(n)}clearQueryState(n){delete this.Oo[n]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(n){return this.xo.activeTargetIds.has(n)}start(){return this.xo=new Og,Promise.resolve()}handleUserChange(n,o,d){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class up{No(n){}shutdown(){}}const hv="ConnectivityMonitor";class Fg{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(n){this.Qo.push(n)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Pt(hv,"Network connectivity changed: AVAILABLE");for(const n of this.Qo)n(0)}qo(){Pt(hv,"Network connectivity changed: UNAVAILABLE");for(const n of this.Qo)n(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wd=null;function Gd(){return null===Wd?Wd=268435456+Math.round(2147483648*Math.random()):Wd++,"0x"+Wd.toString(16)}const nd="RestConnection",eE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T_{get Uo(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",d=encodeURIComponent(this.databaseId.projectId),g=encodeURIComponent(this.databaseId.database);this.Ko=o+"://"+n.host,this.Wo=`projects/${d}/databases/${g}`,this.Go=this.databaseId.database===ke?`project_id=${d}`:`project_id=${d}&database_id=${g}`}zo(n,o,d,g,b){const D=Gd(),N=this.jo(n,o.toUriEncodedString());Pt(nd,`Sending RPC '${n}' ${D}:`,N,d);const $={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho($,g,b);const{host:X}=new URL(N),ce=(0,We.zJ)(X);return this.Jo(n,N,$,d,ce).then(be=>(Pt(nd,`Received RPC '${n}' ${D}: `,be),be),be=>{throw hr(nd,`RPC '${n}' ${D} failed with error: `,be,"url: ",N,"request:",d),be})}Yo(n,o,d,g,b,D){return this.zo(n,o,d,g,b)}Ho(n,o,d){n["X-Goog-Api-Client"]="gl-js/ fire/"+ht,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((g,b)=>n[b]=g),d&&d.headers.forEach((g,b)=>n[b]=g)}jo(n,o){return`${this.Ko}/v1/${o}:${eE[n]}`}terminate(){}}class C_{constructor(n){this.Zo=n.Zo,this.Xo=n.Xo}e_(n){this.t_=n}n_(n){this.r_=n}i_(n){this.s_=n}onMessage(n){this.o_=n}close(){this.Xo()}send(n){this.Zo(n)}__(){this.t_()}a_(){this.r_()}u_(n){this.s_(n)}c_(n){this.o_(n)}}const Fa="WebChannelConnection";class Kd extends T_{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,o,d,g,b){const D=Gd();return new Promise((N,$)=>{const X=new At;X.setWithCredentials(!0),X.listenOnce(Qt.COMPLETE,()=>{try{switch(X.getLastErrorCode()){case Zt.NO_ERROR:const be=X.getResponseJson();Pt(Fa,`XHR for RPC '${n}' ${D} received:`,JSON.stringify(be)),N(be);break;case Zt.TIMEOUT:Pt(Fa,`RPC '${n}' ${D} timed out`),$(new de(st.DEADLINE_EXCEEDED,"Request time out"));break;case Zt.HTTP_ERROR:const Je=X.getStatus();if(Pt(Fa,`RPC '${n}' ${D} failed with status:`,Je,"response text:",X.getResponseText()),Je>0){let Ft=X.getResponseJson();Array.isArray(Ft)&&(Ft=Ft[0]);const cn=Ft?.error;if(cn&&cn.status&&cn.message){const Mn=function(Cr){const Sr=Cr.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Sr)>=0?Sr:st.UNKNOWN}(cn.status);$(new de(Mn,cn.message))}else $(new de(st.UNKNOWN,"Server responded with status "+X.getStatus()))}else $(new de(st.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:n,streamId:D,h_:X.getLastErrorCode(),P_:X.getLastError()})}}finally{Pt(Fa,`RPC '${n}' ${D} completed.`)}});const ce=JSON.stringify(g);Pt(Fa,`RPC '${n}' ${D} sending request:`,g),X.send(o,"POST",ce,d,15)})}T_(n,o,d){const g=Gd(),b=[this.Ko,"/","google.firestore.v1.Firestore","/",n,"/channel"],D=Gt(),N=Ut(),$={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},X=this.longPollingOptions.timeoutSeconds;void 0!==X&&($.longPollingTimeout=Math.round(1e3*X)),this.useFetchStreams&&($.useFetchStreams=!0),this.Ho($.initMessageHeaders,o,d),$.encodeInitMessageHeaders=!0;const ce=b.join("");Pt(Fa,`Creating RPC '${n}' stream ${g}: ${ce}`,$);const be=D.createWebChannel(ce,$);let Je=!1,Ft=!1;const cn=new C_({Zo:Cn=>{Ft?Pt(Fa,`Not sending because RPC '${n}' stream ${g} is closed:`,Cn):(Je||(Pt(Fa,`Opening RPC '${n}' stream ${g} transport.`),be.open(),Je=!0),Pt(Fa,`RPC '${n}' stream ${g} sending:`,Cn),be.send(Cn))},Xo:()=>be.close()}),Mn=(Cn,Cr,Sr)=>{Cn.listen(Cr,rr=>{try{Sr(rr)}catch(hi){setTimeout(()=>{throw hi},0)}})};return Mn(be,Ct.EventType.OPEN,()=>{Ft||(Pt(Fa,`RPC '${n}' stream ${g} transport opened.`),cn.__())}),Mn(be,Ct.EventType.CLOSE,()=>{Ft||(Ft=!0,Pt(Fa,`RPC '${n}' stream ${g} transport closed`),cn.u_())}),Mn(be,Ct.EventType.ERROR,Cn=>{Ft||(Ft=!0,hr(Fa,`RPC '${n}' stream ${g} transport errored. Name:`,Cn.name,"Message:",Cn.message),cn.u_(new de(st.UNAVAILABLE,"The operation could not be completed")))}),Mn(be,Ct.EventType.MESSAGE,Cn=>{var Cr;if(!Ft){const Sr=Cn.data[0];Ot(!!Sr,16349);const rr=Sr,hi=rr?.error||(null===(Cr=rr[0])||void 0===Cr?void 0:Cr.error);if(hi){Pt(Fa,`RPC '${n}' stream ${g} received error:`,hi);const gs=hi.status;let Ui=function(lt){const Tt=bs[lt];if(void 0!==Tt)return As(Tt)}(gs),wt=hi.message;void 0===Ui&&(Ui=st.INTERNAL,wt="Unknown error status: "+gs+" with message "+hi.message),Ft=!0,cn.u_(new de(Ui,wt)),be.close()}else Pt(Fa,`RPC '${n}' stream ${g} received:`,Sr),cn.c_(Sr)}}),Mn(N,In.STAT_EVENT,Cn=>{Cn.stat===un.PROXY?Pt(Fa,`RPC '${n}' stream ${g} detected buffering proxy`):Cn.stat===un.NOPROXY&&Pt(Fa,`RPC '${n}' stream ${g} detected no buffering proxy`)}),setTimeout(()=>{cn.a_()},0),cn}}function dp(){return typeof document<"u"?document:null}function qd(f){return new Qf(f,!0)}class Qd{constructor(n,o,d=1e3,g=1.5,b=6e4){this.xi=n,this.timerId=o,this.I_=d,this.E_=g,this.d_=b,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(n){this.cancel();const o=Math.floor(this.A_+this.g_()),d=Math.max(0,Date.now()-this.V_),g=Math.max(0,o-d);g>0&&Pt("ExponentialBackoff",`Backing off for ${g} ms (base delay: ${this.A_} ms, delay with jitter: ${o} ms, last attempt: ${d} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,g,()=>(this.V_=Date.now(),n())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){null!==this.R_&&(this.R_.skipDelay(),this.R_=null)}cancel(){null!==this.R_&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}const fv="PersistentStream";class xa{constructor(n,o,d,g,b,D,N,$){this.xi=n,this.y_=d,this.w_=g,this.connection=b,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=N,this.listener=$,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Qd(n,o)}F_(){return 1===this.state||5===this.state||this.M_()}M_(){return 2===this.state||3===this.state}start(){this.v_=0,4!==this.state?this.auth():this.x_()}stop(){var n=this;return(0,T.A)(function*(){n.F_()&&(yield n.close(0))})()}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&null===this.b_&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(n){this.k_(),this.stream.send(n)}B_(){var n=this;return(0,T.A)(function*(){if(n.M_())return n.close(0)})()}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(n,o){var d=this;return(0,T.A)(function*(){d.k_(),d.q_(),d.C_.cancel(),d.S_++,4!==n?d.C_.reset():o&&o.code===st.RESOURCE_EXHAUSTED?(lr(o.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),d.C_.m_()):o&&o.code===st.UNAUTHENTICATED&&3!==d.state&&(d.authCredentialsProvider.invalidateToken(),d.appCheckCredentialsProvider.invalidateToken()),null!==d.stream&&(d.Q_(),d.stream.close(),d.stream=null),d.state=n,yield d.listener.i_(o)})()}Q_(){}auth(){this.state=1;const n=this.U_(this.S_),o=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([d,g])=>{this.S_===o&&this.K_(d,g)},d=>{n(()=>{const g=new de(st.UNKNOWN,"Fetching auth token failed: "+d.message);return this.W_(g)})})}K_(n,o){const d=this.U_(this.S_);this.stream=this.G_(n,o),this.stream.e_(()=>{d(()=>this.listener.e_())}),this.stream.n_(()=>{d(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(g=>{d(()=>this.W_(g))}),this.stream.onMessage(g=>{d(()=>1==++this.v_?this.z_(g):this.onNext(g))})}x_(){var n=this;this.state=5,this.C_.f_((0,T.A)(function*(){n.state=0,n.start()}))}W_(n){return Pt(fv,`close with error: ${n}`),this.stream=null,this.close(4,n)}U_(n){return o=>{this.xi.enqueueAndForget(()=>this.S_===n?o():(Pt(fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D_ extends xa{constructor(n,o,d,g,b,D){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",o,d,g,D),this.serializer=b}G_(n,o){return this.connection.T_("Listen",n,o)}z_(n){return this.onNext(n)}onNext(n){this.C_.reset();const o=function Jf(f,n){let o;if("targetChange"in n){const d="NO_CHANGE"===(X=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===X?1:"REMOVE"===X?2:"CURRENT"===X?3:"RESET"===X?4:bt(39313,{state:X}),g=n.targetChange.targetIds||[],b=function(X,ce){return X.useProto3Json?(Ot(void 0===ce||"string"==typeof ce,58123),hs.fromBase64String(ce||"")):(Ot(void 0===ce||ce instanceof Buffer||ce instanceof Uint8Array,16193),hs.fromUint8Array(ce||new Uint8Array))}(f,n.targetChange.resumeToken),D=n.targetChange.cause,N=D&&function(X){const ce=void 0===X.code?st.UNKNOWN:As(X.code);return new de(ce,X.message||"")}(D);o=new Kf(d,g,b,N||null)}else if("documentChange"in n){const d=n.documentChange,g=Ga(f,d.document.name),b=Ii(d.document.updateTime),D=d.document.createTime?Ii(d.document.createTime):Fn.min(),N=new Zs({mapValue:{fields:d.document.fields}}),$=Qi.newFoundDocument(g,b,D,N);o=new ia(d.targetIds||[],d.removedTargetIds||[],$.key,$)}else if("documentDelete"in n){const d=n.documentDelete,g=Ga(f,d.document),b=d.readTime?Ii(d.readTime):Fn.min(),D=Qi.newNoDocument(g,b);o=new ia([],d.removedTargetIds||[],D.key,D)}else if("documentRemove"in n){const d=n.documentRemove,g=Ga(f,d.document);o=new ia([],d.removedTargetIds||[],g,null)}else{if(!("filter"in n))return bt(11601,{Vt:n});{const d=n.filter,{count:g=0,unchangedNames:b}=d,D=new pu(g,b);o=new Lc(d.targetId,D)}}var X;return o}(this.serializer,n),d=function(b){if(!("targetChange"in b))return Fn.min();const D=b.targetChange;return D.targetIds&&D.targetIds.length?Fn.min():D.readTime?Ii(D.readTime):Fn.min()}(n);return this.listener.j_(o,d)}H_(n){const o={};o.database=Ka(this.serializer),o.addTarget=function(b,D){let N;const $=D.target;if(N=ze($)?{documents:gu(b,$)}:{query:Qo(b,$).gt},N.targetId=D.targetId,D.resumeToken.approximateByteSize()>0){N.resumeToken=ha(b,D.resumeToken);const X=Wa(b,D.expectedCount);null!==X&&(N.expectedCount=X)}else if(D.snapshotVersion.compareTo(Fn.min())>0){N.readTime=Sd(b,D.snapshotVersion.toTimestamp());const X=Wa(b,D.expectedCount);null!==X&&(N.expectedCount=X)}return N}(this.serializer,n);const d=function Sa(f,n){const o=function(g){switch(g){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:g})}}(n.purpose);return null==o?null:{"goog-listen-tags":o}}(0,n);d&&(o.labels=d),this.L_(o)}J_(n){const o={};o.database=Ka(this.serializer),o.removeTarget=n,this.L_(o)}}class pv extends xa{constructor(n,o,d,g,b,D){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",o,d,g,D),this.serializer=b}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(n,o){return this.connection.T_("Write",n,o)}z_(n){return Ot(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,Ot(!n.writeResults||0===n.writeResults.length,55816),this.listener.X_()}onNext(n){Ot(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.C_.reset();const o=function pa(f,n){return f&&f.length>0?(Ot(void 0!==n,14353),f.map(o=>function(g,b){let D=Ii(g.updateTime?g.updateTime:b);return D.isEqual(Fn.min())&&(D=Ii(b)),new go(D,g.transformResults||[])}(o,n))):[]}(n.writeResults,n.commitTime),d=Ii(n.commitTime);return this.listener.ea(d,o)}ta(){const n={};n.database=Ka(this.serializer),this.L_(n)}Z_(n){const o={streamToken:this.lastStreamToken,writes:n.map(d=>function Nh(f,n){let o;if(n instanceof kc)o={update:xd(f,n.key,n.value)};else if(n instanceof jo)o={delete:fa(f,n.key)};else if(n instanceof il)o={update:xd(f,n.key,n.data),updateMask:Od(n.fieldMask)};else{if(!(n instanceof fu))return bt(16599,{ft:n.type});o={verify:fa(f,n.key)}}return n.fieldTransforms.length>0&&(o.updateTransforms=n.fieldTransforms.map(d=>function(b,D){const N=D.transform;if(N instanceof du)return{fieldPath:D.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(N instanceof hu)return{fieldPath:D.field.canonicalString(),appendMissingElements:{values:N.elements}};if(N instanceof nl)return{fieldPath:D.field.canonicalString(),removeAllFromArray:{values:N.elements}};if(N instanceof rl)return{fieldPath:D.field.canonicalString(),increment:N.Re};throw bt(20930,{transform:D.transform})}(0,d))),n.precondition.isNone||(o.currentDocument=void 0!==(b=n.precondition).updateTime?{updateTime:Oh(f,b.updateTime)}:void 0!==b.exists?{exists:b.exists}:bt(27497)),o;var b}(this.serializer,d))};this.L_(o)}}class hp{}class Za extends hp{constructor(n,o,d,g){super(),this.authCredentials=n,this.appCheckCredentials=o,this.connection=d,this.serializer=g,this.na=!1}ra(){if(this.na)throw new de(st.FAILED_PRECONDITION,"The client has already been terminated.")}zo(n,o,d,g){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([b,D])=>this.connection.zo(n,zt(o,d),g,b,D)).catch(b=>{throw"FirebaseError"===b.name?(b.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),b):new de(st.UNKNOWN,b.toString())})}Yo(n,o,d,g,b){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([D,N])=>this.connection.Yo(n,zt(o,d),g,D,N,b)).catch(D=>{throw"FirebaseError"===D.name?(D.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),D):new de(st.UNKNOWN,D.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class fp{constructor(n,o){this.asyncQueue=n,this.onlineStateHandler=o,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){0===this.ia&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(n){"Online"===this.state?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.aa("Offline")))}set(n){this.la(),this.ia=0,"Online"===n&&(this.oa=!1),this.aa(n)}aa(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ua(n){const o=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(lr(o),this.oa=!1):Pt("OnlineStateTracker",o)}la(){null!==this.sa&&(this.sa.cancel(),this.sa=null)}}const Kc="RemoteStore";class Kh{constructor(n,o,d,g,b){var D=this;this.localStore=n,this.datastore=o,this.asyncQueue=d,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=b,this.Ea.No(N=>{d.enqueueAndForget((0,T.A)(function*(){var $;Su(D)&&(Pt(Kc,"Restarting streams for network reachability change."),yield($=(0,T.A)(function*(ce){const be=rn(ce);be.Ta.add(4),yield Qh(be),be.da.set("Unknown"),be.Ta.delete(4),yield qh(be)}),function X(ce){return $.apply(this,arguments)})(D))}))}),this.da=new fp(d,g)}}function qh(f){return rd.apply(this,arguments)}function rd(){return(rd=(0,T.A)(function*(f){if(Su(f))for(const n of f.Ia)yield n(!0)})).apply(this,arguments)}function Qh(f){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,T.A)(function*(f){for(const n of f.Ia)yield n(!1)})).apply(this,arguments)}function Bg(f,n){const o=rn(f);o.Pa.has(n.targetId)||(o.Pa.set(n.targetId,n),R_(o)?S_(o):Xh(o).M_()&&Ug(o,n))}function Xd(f,n){const o=rn(f),d=Xh(o);o.Pa.delete(n),d.M_()&&A_(o,n),0===o.Pa.size&&(d.M_()?d.N_():Su(o)&&o.da.set("Unknown"))}function Ug(f,n){if(f.Aa.Ke(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Fn.min())>0){const o=f.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(o)}Xh(f).H_(n)}function A_(f,n){f.Aa.Ke(n),Xh(f).J_(n)}function S_(f){f.Aa=new lc({getRemoteKeysForTarget:n=>f.remoteSyncer.getRemoteKeysForTarget(n),Rt:n=>f.Pa.get(n)||null,Pt:()=>f.datastore.serializer.databaseId}),Xh(f).start(),f.da._a()}function R_(f){return Su(f)&&!Xh(f).F_()&&f.Pa.size>0}function Su(f){return 0===rn(f).Ta.size}function Yd(f){f.Aa=void 0}function pp(f){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,T.A)(function*(f){f.da.set("Online")})).apply(this,arguments)}function Pa(f){return gp.apply(this,arguments)}function gp(){return(gp=(0,T.A)(function*(f){f.Pa.forEach((n,o)=>{Ug(f,n)})})).apply(this,arguments)}function gv(f,n){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,T.A)(function*(f,n){Yd(f),R_(f)?(f.da.ca(n),S_(f)):f.da.set("Unknown")})).apply(this,arguments)}function tE(f,n,o){return jg.apply(this,arguments)}function jg(){return jg=(0,T.A)(function*(f,n,o){if(f.da.set("Online"),n instanceof Kf&&2===n.state&&n.cause)try{yield(d=(0,T.A)(function*(b,D){const N=D.cause;for(const $ of D.targetIds)b.Pa.has($)&&(yield b.remoteSyncer.rejectListen($,N),b.Pa.delete($),b.Aa.removeTarget($))}),function g(b,D){return d.apply(this,arguments)})(f,n)}catch(d){Pt(Kc,"Failed to remove targets %s: %s ",n.targetIds.join(","),d),yield $g(f,d)}else if(n instanceof ia?f.Aa.Xe(n):n instanceof Lc?f.Aa.ot(n):f.Aa.nt(n),!o.isEqual(Fn.min()))try{const d=yield E_(f.localStore);o.compareTo(d)>=0&&(yield function(b,D){const N=b.Aa.It(D);return N.targetChanges.forEach(($,X)=>{if($.resumeToken.approximateByteSize()>0){const ce=b.Pa.get(X);ce&&b.Pa.set(X,ce.withResumeToken($.resumeToken,D))}}),N.targetMismatches.forEach(($,X)=>{const ce=b.Pa.get($);if(!ce)return;b.Pa.set($,ce.withResumeToken(hs.EMPTY_BYTE_STRING,ce.snapshotVersion)),A_(b,$);const be=new jl(ce.target,$,X,ce.sequenceNumber);Ug(b,be)}),b.remoteSyncer.applyRemoteEvent(N)}(f,o))}catch(d){Pt(Kc,"Failed to raise snapshot:",d),yield $g(f,d)}var d}),jg.apply(this,arguments)}function $g(f,n,o){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,T.A)(function*(f,n,o){if(!Yr(n))throw n;f.Ta.add(1),yield Qh(f),f.da.set("Offline"),o||(o=()=>E_(f.localStore)),f.asyncQueue.enqueueRetryable((0,T.A)(function*(){Pt(Kc,"Retrying IndexedDB access"),yield o(),f.Ta.delete(1),yield qh(f)}))})).apply(this,arguments)}function mv(f,n){return n().catch(o=>$g(f,o,n))}function eh(f){return x_.apply(this,arguments)}function x_(){return(x_=(0,T.A)(function*(f){const n=rn(f),o=ll(n);let d=n.ha.length>0?n.ha[n.ha.length-1].batchId:-1;for(;zg(n);)try{const g=yield sv(n.localStore,d);if(null===g){0===n.ha.length&&o.N_();break}d=g.batchId,nE(n,g)}catch(g){yield $g(n,g)}P_(n)&&id(n)})).apply(this,arguments)}function zg(f){return Su(f)&&f.ha.length<10}function nE(f,n){f.ha.push(n);const o=ll(f);o.M_()&&o.Y_&&o.Z_(n.mutations)}function P_(f){return Su(f)&&!ll(f).F_()&&f.ha.length>0}function id(f){ll(f).start()}function _v(f){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,T.A)(function*(f){ll(f).ta()})).apply(this,arguments)}function sd(f){return M_.apply(this,arguments)}function M_(){return(M_=(0,T.A)(function*(f){const n=ll(f);for(const o of f.ha)n.Z_(o.mutations)})).apply(this,arguments)}function k_(f,n,o){return mp.apply(this,arguments)}function mp(){return(mp=(0,T.A)(function*(f,n,o){const d=f.ha.shift(),g=Ha.from(d,n,o);yield mv(f,()=>f.remoteSyncer.applySuccessfulWrite(g)),yield eh(f)})).apply(this,arguments)}function Aw(f,n){return O_.apply(this,arguments)}function O_(){return O_=(0,T.A)(function*(f,n){var o;n&&ll(f).Y_&&(yield(o=(0,T.A)(function*(g,b){if(function za(f){switch(f){case st.OK:return bt(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return bt(15467,{code:f})}}(N=b.code)&&N!==st.ABORTED){const D=g.ha.shift();ll(g).O_(),yield mv(g,()=>g.remoteSyncer.rejectFailedWrite(D.batchId,b)),yield eh(g)}var N}),function d(g,b){return o.apply(this,arguments)})(f,n)),P_(f)&&id(f)}),O_.apply(this,arguments)}function yv(f,n){return mc.apply(this,arguments)}function mc(){return(mc=(0,T.A)(function*(f,n){const o=rn(f);o.asyncQueue.verifyOperationInProgress(),Pt(Kc,"RemoteStore received new credentials");const d=Su(o);o.Ta.add(3),yield Qh(o),d&&o.da.set("Unknown"),yield o.remoteSyncer.handleCredentialChange(n),o.Ta.delete(3),yield qh(o)})).apply(this,arguments)}function vv(){return(vv=(0,T.A)(function*(f,n){const o=rn(f);n?(o.Ta.delete(2),yield qh(o)):n||(o.Ta.add(2),yield Qh(o),o.da.set("Unknown"))})).apply(this,arguments)}function Xh(f){return f.Ra||(f.Ra=function(o,d,g){const b=rn(o);return b.ra(),new D_(d,b.connection,b.authCredentials,b.appCheckCredentials,b.serializer,g)}(f.datastore,f.asyncQueue,{e_:pp.bind(null,f),n_:Pa.bind(null,f),i_:gv.bind(null,f),j_:tE.bind(null,f)}),f.Ia.push(function(){var n=(0,T.A)(function*(o){o?(f.Ra.O_(),R_(f)?S_(f):f.da.set("Unknown")):(yield f.Ra.stop(),Yd(f))});return function(o){return n.apply(this,arguments)}}())),f.Ra}function ll(f){return f.Va||(f.Va=function(o,d,g){const b=rn(o);return b.ra(),new pv(d,b.connection,b.authCredentials,b.appCheckCredentials,b.serializer,g)}(f.datastore,f.asyncQueue,{e_:()=>Promise.resolve(),n_:_v.bind(null,f),i_:Aw.bind(null,f),X_:sd.bind(null,f),ea:k_.bind(null,f)}),f.Ia.push(function(){var n=(0,T.A)(function*(o){o?(f.Va.O_(),yield eh(f)):(yield f.Va.stop(),f.ha.length>0&&(Pt(Kc,`Stopping write stream with ${f.ha.length} pending writes`),f.ha=[]))});return function(o){return n.apply(this,arguments)}}())),f.Va}class F_{constructor(n,o,d,g,b){this.asyncQueue=n,this.timerId=o,this.targetTimeMs=d,this.op=g,this.removalCallback=b,this.deferred=new Te,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,o,d,g,b){const D=Date.now()+d,N=new F_(n,o,D,g,b);return N.start(d),N}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new de(st.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _c(f,n){if(lr("AsyncQueue",`${n}: ${f}`),Yr(f))return new de(st.UNAVAILABLE,`${n}: ${f}`);throw f}class od{static emptySet(n){return new od(n.comparator)}constructor(n){this.comparator=n?(o,d)=>n(o,d)||wn.comparator(o.key,d.key):(o,d)=>wn.comparator(o.key,d.key),this.keyedMap=ee(),this.sortedSet=new _i(this.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const o=this.keyedMap.get(n);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((o,d)=>(n(o),!1))}add(n){const o=this.delete(n.key);return o.copy(o.keyedMap.insert(n.key,n),o.sortedSet.insert(n,null))}delete(n){const o=this.get(n);return o?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(o)):this}isEqual(n){if(!(n instanceof od)||this.size!==n.size)return!1;const o=this.sortedSet.getIterator(),d=n.sortedSet.getIterator();for(;o.hasNext();){const g=o.getNext().key,b=d.getNext().key;if(!g.isEqual(b))return!1}return!0}toString(){const n=[];return this.forEach(o=>{n.push(o.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,o){const d=new od;return d.comparator=this.comparator,d.keyedMap=n,d.sortedSet=o,d}}class Wg{constructor(){this.ma=new _i(wn.comparator)}track(n){const o=n.doc.key,d=this.ma.get(o);d?0!==n.type&&3===d.type?this.ma=this.ma.insert(o,n):3===n.type&&1!==d.type?this.ma=this.ma.insert(o,{type:d.type,doc:n.doc}):2===n.type&&2===d.type?this.ma=this.ma.insert(o,{type:2,doc:n.doc}):2===n.type&&0===d.type?this.ma=this.ma.insert(o,{type:0,doc:n.doc}):1===n.type&&0===d.type?this.ma=this.ma.remove(o):1===n.type&&2===d.type?this.ma=this.ma.insert(o,{type:1,doc:d.doc}):0===n.type&&1===d.type?this.ma=this.ma.insert(o,{type:2,doc:n.doc}):bt(63341,{Vt:n,fa:d}):this.ma=this.ma.insert(o,n)}ga(){const n=[];return this.ma.inorderTraversal((o,d)=>{n.push(d)}),n}}class ad{constructor(n,o,d,g,b,D,N,$,X){this.query=n,this.docs=o,this.oldDocs=d,this.docChanges=g,this.mutatedKeys=b,this.fromCache=D,this.syncStateChanged=N,this.excludesMetadataChanges=$,this.hasCachedResults=X}static fromInitialDocuments(n,o,d,g,b){const D=[];return o.forEach(N=>{D.push({type:0,doc:N})}),new ad(n,o,od.emptySet(o),D,d,g,!0,!1,b)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&oc(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const o=this.docChanges,d=n.docChanges;if(o.length!==d.length)return!1;for(let g=0;g<o.length;g++)if(o[g].type!==d[g].type||!o[g].doc.isEqual(d[g].doc))return!1;return!0}}class _p{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(n=>n.Sa())}}class Gg{constructor(){this.queries=Yh(),this.onlineState="Unknown",this.ba=new Set}terminate(){!function(o,d){const g=rn(o),b=g.queries;g.queries=Yh(),b.forEach((D,N)=>{for(const $ of N.ya)$.onError(d)})}(this,new de(st.ABORTED,"Firestore shutting down"))}}function Yh(){return new M(f=>Ta(f),oc)}function Zh(f,n){return cl.apply(this,arguments)}function cl(){return(cl=(0,T.A)(function*(f,n){const o=rn(f);let d=3;const g=n.query;let b=o.queries.get(g);b?!b.wa()&&n.Sa()&&(d=2):(b=new _p,d=n.Sa()?0:1);try{switch(d){case 0:b.pa=yield o.onListen(g,!0);break;case 1:b.pa=yield o.onListen(g,!1);break;case 2:yield o.onFirstRemoteStoreListen(g)}}catch(D){const N=_c(D,`Initialization of query '${da(n.query)}' failed`);return void n.onError(N)}o.queries.set(g,b),b.ya.push(n),n.Da(o.onlineState),b.pa&&n.va(b.pa)&&vp(o)})).apply(this,arguments)}function Jh(f,n){return ef.apply(this,arguments)}function ef(){return(ef=(0,T.A)(function*(f,n){const o=rn(f),d=n.query;let g=3;const b=o.queries.get(d);if(b){const D=b.ya.indexOf(n);D>=0&&(b.ya.splice(D,1),0===b.ya.length?g=n.Sa()?0:1:!b.wa()&&n.Sa()&&(g=2))}switch(g){case 0:return o.queries.delete(d),o.onUnlisten(d,!0);case 1:return o.queries.delete(d),o.onUnlisten(d,!1);case 2:return o.onLastRemoteStoreUnlisten(d);default:return}})).apply(this,arguments)}function yp(f,n){const o=rn(f);let d=!1;for(const g of n){const D=o.queries.get(g.query);if(D){for(const N of D.ya)N.va(g)&&(d=!0);D.pa=g}}d&&vp(o)}function L_(f,n,o){const d=rn(f),g=d.queries.get(n);if(g)for(const b of g.ya)b.onError(o);d.queries.delete(n)}function vp(f){f.ba.forEach(n=>{n.next()})}var ql,tf;(tf=ql||(ql={})).Ca="default",tf.Cache="cache";class bp{constructor(n,o,d){this.query=n,this.Fa=o,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=d||{}}va(n){if(!this.options.includeMetadataChanges){const d=[];for(const g of n.docChanges)3!==g.type&&d.push(g);n=new ad(n.query,n.docs,n.oldDocs,d,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let o=!1;return this.Ma?this.Oa(n)&&(this.Fa.next(n),o=!0):this.Na(n,this.onlineState)&&(this.Ba(n),o=!0),this.xa=n,o}onError(n){this.Fa.error(n)}Da(n){this.onlineState=n;let o=!1;return this.xa&&!this.Ma&&this.Na(this.xa,n)&&(this.Ba(this.xa),o=!0),o}Na(n,o){return!n.fromCache||!this.Sa()||(!this.options.La||!("Offline"!==o))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===o)}Oa(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.xa&&this.xa.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Ba(n){n=ad.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Ma=!0,this.Fa.next(n)}Sa(){return this.options.source!==ql.Cache}}class Kg{constructor(n){this.key=n}}class B_{constructor(n){this.key=n}}class U_{constructor(n,o){this.query=n,this.Ga=o,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Er(),this.mutatedKeys=Er(),this.Ha=Us(n),this.Ja=new od(this.Ha)}get Ya(){return this.Ga}Za(n,o){const d=o?o.Xa:new Wg,g=o?o.Ja:this.Ja;let b=o?o.mutatedKeys:this.mutatedKeys,D=g,N=!1;const $="F"===this.query.limitType&&g.size===this.query.limit?g.last():null,X="L"===this.query.limitType&&g.size===this.query.limit?g.first():null;if(n.inorderTraversal((ce,be)=>{const Je=g.get(ce),Ft=Ol(this.query,be)?be:null,cn=!!Je&&this.mutatedKeys.has(Je.key),Mn=!!Ft&&(Ft.hasLocalMutations||this.mutatedKeys.has(Ft.key)&&Ft.hasCommittedMutations);let Cn=!1;Je&&Ft?Je.data.isEqual(Ft.data)?cn!==Mn&&(d.track({type:3,doc:Ft}),Cn=!0):this.eu(Je,Ft)||(d.track({type:2,doc:Ft}),Cn=!0,($&&this.Ha(Ft,$)>0||X&&this.Ha(Ft,X)<0)&&(N=!0)):!Je&&Ft?(d.track({type:0,doc:Ft}),Cn=!0):Je&&!Ft&&(d.track({type:1,doc:Je}),Cn=!0,($||X)&&(N=!0)),Cn&&(Ft?(D=D.add(Ft),b=Mn?b.add(ce):b.delete(ce)):(D=D.delete(ce),b=b.delete(ce)))}),null!==this.query.limit)for(;D.size>this.query.limit;){const ce="F"===this.query.limitType?D.last():D.first();D=D.delete(ce.key),b=b.delete(ce.key),d.track({type:1,doc:ce})}return{Ja:D,Xa:d,Cs:N,mutatedKeys:b}}eu(n,o){return n.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(n,o,d,g){const b=this.Ja;this.Ja=n.Ja,this.mutatedKeys=n.mutatedKeys;const D=n.Xa.ga();D.sort((ce,be)=>function(Ft,cn){const Mn=Cn=>{switch(Cn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Vt:Cn})}};return Mn(Ft)-Mn(cn)}(ce.type,be.type)||this.Ha(ce.doc,be.doc)),this.tu(d),g=null!=g&&g;const N=o&&!g?this.nu():[],$=0===this.ja.size&&this.current&&!g?1:0,X=$!==this.za;return this.za=$,0!==D.length||X?{snapshot:new ad(this.query,n.Ja,b,D,n.mutatedKeys,0===$,X,!1,!!d&&d.resumeToken.approximateByteSize()>0),ru:N}:{ru:N}}Da(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Wg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(n){return!this.Ga.has(n)&&!!this.Ja.has(n)&&!this.Ja.get(n).hasLocalMutations}tu(n){n&&(n.addedDocuments.forEach(o=>this.Ga=this.Ga.add(o)),n.modifiedDocuments.forEach(o=>{}),n.removedDocuments.forEach(o=>this.Ga=this.Ga.delete(o)),this.current=n.current)}nu(){if(!this.current)return[];const n=this.ja;this.ja=Er(),this.Ja.forEach(d=>{this.iu(d.key)&&(this.ja=this.ja.add(d.key))});const o=[];return n.forEach(d=>{this.ja.has(d)||o.push(new B_(d))}),this.ja.forEach(d=>{n.has(d)||o.push(new Kg(d))}),o}su(n){this.Ga=n.$s,this.ja=Er();const o=this.Za(n.documents);return this.applyChanges(o,!0)}ou(){return ad.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,0===this.za,this.hasCachedResults)}}const qc="SyncEngine";class j_{constructor(n,o,d){this.query=n,this.targetId=o,this.view=d}}class ld{constructor(n){this.key=n,this._u=!1}}class Ev{constructor(n,o,d,g,b,D){this.localStore=n,this.remoteStore=o,this.eventManager=d,this.sharedClientState=g,this.currentUser=b,this.maxConcurrentLimboResolutions=D,this.au={},this.uu=new M(N=>Ta(N),oc),this.cu=new Map,this.lu=new Set,this.hu=new _i(wn.comparator),this.Pu=new Map,this.Tu=new oo,this.Iu={},this.Eu=new Map,this.du=ol.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return!0===this.Au}}function ul(f,n){return $_.apply(this,arguments)}function $_(){return($_=(0,T.A)(function*(f,n,o=!0){const d=Xc(f);let g;const b=d.uu.get(n);return b?(d.sharedClientState.addLocalQueryTarget(b.targetId),g=b.view.ou()):g=yield cd(d,n,o,!0),g})).apply(this,arguments)}function qg(f,n){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,T.A)(function*(f,n){const o=Xc(f);yield cd(o,n,!0,!1)})).apply(this,arguments)}function cd(f,n,o,d){return wp.apply(this,arguments)}function wp(){return(wp=(0,T.A)(function*(f,n,o,d){const g=yield function Ju(f,n){const o=rn(f);return o.persistence.runTransaction("Allocate target","readwrite",d=>{let g;return o.Ti.getTargetData(d,n).next(b=>b?(g=b,et.resolve(g)):o.Ti.allocateTargetId(d).next(D=>(g=new jl(n,D,"TargetPurposeListen",d.currentSequenceNumber),o.Ti.addTargetData(d,g).next(()=>g))))}).then(d=>{const g=o.xs.get(d.targetId);return(null===g||d.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(o.xs=o.xs.insert(d.targetId,d),o.Os.set(n,d.targetId)),d})}(f.localStore,bo(n)),b=g.targetId,D=f.sharedClientState.addLocalQueryTarget(b,o);let N;return d&&(N=yield function Qg(f,n,o,d,g){return Ip.apply(this,arguments)}(f,n,b,"current"===D,g.resumeToken)),f.isPrimaryClient&&o&&Bg(f.remoteStore,g),N})).apply(this,arguments)}function Ip(){return Ip=(0,T.A)(function*(f,n,o,d,g){f.Ru=(be,Je,Ft)=>{return(cn=(0,T.A)(function*(Cn,Cr,Sr,rr){let hi=Cr.view.Za(Sr);hi.Cs&&(hi=yield Pg(Cn.localStore,Cr.query,!1).then(({documents:Xe})=>Cr.view.Za(Xe,hi)));const gs=rr&&rr.targetChanges.get(Cr.targetId),Ui=rr&&null!=rr.targetMismatches.get(Cr.targetId),wt=Cr.view.applyChanges(hi,Cn.isPrimaryClient,gs,Ui);return rh(Cn,Cr.targetId,wt.ru),wt.snapshot}),function Mn(Cn,Cr,Sr,rr){return cn.apply(this,arguments)})(f,be,Je,Ft);var cn};const b=yield Pg(f.localStore,n,!0),D=new U_(n,b.$s),N=D.Za(b.documents),$=So.createSynthesizedTargetChangeForCurrentChange(o,d&&"Offline"!==f.onlineState,g),X=D.applyChanges(N,f.isPrimaryClient,$);rh(f,o,X.ru);const ce=new j_(n,o,D);return f.uu.set(n,ce),f.cu.has(o)?f.cu.get(o).push(n):f.cu.set(o,[n]),X.snapshot}),Ip.apply(this,arguments)}function H_(f,n,o){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,T.A)(function*(f,n,o){const d=rn(f),g=d.uu.get(n),b=d.cu.get(g.targetId);if(b.length>1)return d.cu.set(g.targetId,b.filter(D=>!oc(D,n))),void d.uu.delete(n);d.isPrimaryClient?(d.sharedClientState.removeLocalQueryTarget(g.targetId),d.sharedClientState.isActiveQueryTarget(g.targetId)||(yield Du(d.localStore,g.targetId,!1).then(()=>{d.sharedClientState.clearQueryState(g.targetId),o&&Xd(d.remoteStore,g.targetId),vc(d,g.targetId)}).catch(br))):(vc(d,g.targetId),yield Du(d.localStore,g.targetId,!0))})).apply(this,arguments)}function Yg(f,n){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,T.A)(function*(f,n){const o=rn(f),d=o.uu.get(n),g=o.cu.get(d.targetId);o.isPrimaryClient&&1===g.length&&(o.sharedClientState.removeLocalQueryTarget(d.targetId),Xd(o.remoteStore,d.targetId))})).apply(this,arguments)}function rf(){return(rf=(0,T.A)(function*(f,n,o){const d=function Ru(f){const n=rn(f);return n.remoteStore.remoteSyncer.applySuccessfulWrite=sf.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=af.bind(null,n),n}(f);try{const g=yield function(D,N){const $=rn(D),X=Gr.now(),ce=N.reduce((Ft,cn)=>Ft.add(cn.key),Er());let be,Je;return $.persistence.runTransaction("Locally write mutations","readwrite",Ft=>{let cn=O(),Mn=Er();return $.Bs.getEntries(Ft,ce).next(Cn=>{cn=Cn,cn.forEach((Cr,Sr)=>{Sr.isValidDocument()||(Mn=Mn.add(Cr))})}).next(()=>$.localDocuments.getOverlayedDocuments(Ft,cn)).next(Cn=>{be=Cn;const Cr=[];for(const Sr of N){const rr=Mh(Sr,be.get(Sr.key).overlayedDocument);null!=rr&&Cr.push(new il(Sr.key,rr,Na(rr.value.mapValue),Vi.exists(!0)))}return $.mutationQueue.addMutationBatch(Ft,X,Cr,N)}).next(Cn=>{Je=Cn;const Cr=Cn.applyToLocalDocumentSet(be,Mn);return $.documentOverlayCache.saveOverlays(Ft,Cn.batchId,Cr)})}).then(()=>({batchId:Je.batchId,changes:Ie(be)}))}(d.localStore,n);d.sharedClientState.addPendingMutation(g.batchId),function(D,N,$){let X=D.Iu[D.currentUser.toKey()];X||(X=new _i(gn)),X=X.insert(N,$),D.Iu[D.currentUser.toKey()]=X}(d,g.batchId,o),yield bc(d,g.changes),yield eh(d.remoteStore)}catch(g){const b=_c(g,"Failed to persist write");o.reject(b)}})).apply(this,arguments)}function xo(f,n){return th.apply(this,arguments)}function th(){return(th=(0,T.A)(function*(f,n){const o=rn(f);try{const d=yield function Jb(f,n){const o=rn(f),d=n.snapshotVersion;let g=o.xs;return o.persistence.runTransaction("Apply remote event","readwrite-primary",b=>{const D=o.Bs.newChangeBuffer({trackRemovals:!0});g=o.xs;const N=[];n.targetChanges.forEach((ce,be)=>{const Je=g.get(be);if(!Je)return;N.push(o.Ti.removeMatchingKeys(b,ce.removedDocuments,be).next(()=>o.Ti.addMatchingKeys(b,ce.addedDocuments,be)));let Ft=Je.withSequenceNumber(b.currentSequenceNumber);var Mn,Cn,Cr;null!==n.targetMismatches.get(be)?Ft=Ft.withResumeToken(hs.EMPTY_BYTE_STRING,Fn.min()).withLastLimboFreeSnapshotVersion(Fn.min()):ce.resumeToken.approximateByteSize()>0&&(Ft=Ft.withResumeToken(ce.resumeToken,d)),g=g.insert(be,Ft),Cn=Ft,Cr=ce,(0===(Mn=Je).resumeToken.approximateByteSize()||Cn.snapshotVersion.toMicroseconds()-Mn.snapshotVersion.toMicroseconds()>=3e8||Cr.addedDocuments.size+Cr.modifiedDocuments.size+Cr.removedDocuments.size>0)&&N.push(o.Ti.updateTargetData(b,Ft))});let $=O(),X=Er();if(n.documentUpdates.forEach(ce=>{n.resolvedLimboDocuments.has(ce)&&N.push(o.persistence.referenceDelegate.updateLimboDocument(b,ce))}),N.push(function xg(f,n,o){let d=Er(),g=Er();return o.forEach(b=>d=d.add(b)),n.getEntries(f,d).next(b=>{let D=O();return o.forEach((N,$)=>{const X=b.get(N);$.isFoundDocument()!==X.isFoundDocument()&&(g=g.add(N)),$.isNoDocument()&&$.version.isEqual(Fn.min())?(n.removeEntry(N,$.readTime),D=D.insert(N,$)):!X.isValidDocument()||$.version.compareTo(X.version)>0||0===$.version.compareTo(X.version)&&X.hasPendingWrites?(n.addEntry($),D=D.insert(N,$)):Pt(rv,"Ignoring outdated watch update for ",N,". Current version:",X.version," Watch version:",$.version)}),{qs:D,Qs:g}})}(b,D,n.documentUpdates).next(ce=>{$=ce.qs,X=ce.Qs})),!d.isEqual(Fn.min())){const ce=o.Ti.getLastRemoteSnapshotVersion(b).next(be=>o.Ti.setTargetsMetadata(b,b.currentSequenceNumber,d));N.push(ce)}return et.waitFor(N).next(()=>D.apply(b)).next(()=>o.localDocuments.getLocalViewOfDocuments(b,$,X)).next(()=>$)}).then(b=>(o.xs=g,b))}(o.localStore,n);n.targetChanges.forEach((g,b)=>{const D=o.Pu.get(b);D&&(Ot(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1,22616),g.addedDocuments.size>0?D._u=!0:g.modifiedDocuments.size>0?Ot(D._u,14607):g.removedDocuments.size>0&&(Ot(D._u,42227),D._u=!1))}),yield bc(o,d,n)}catch(d){yield br(d)}})).apply(this,arguments)}function z_(f,n,o){const d=rn(f);if(d.isPrimaryClient&&0===o||!d.isPrimaryClient&&1===o){const g=[];d.uu.forEach((b,D)=>{const N=D.view.Da(n);N.snapshot&&g.push(N.snapshot)}),function(D,N){const $=rn(D);$.onlineState=N;let X=!1;$.queries.forEach((ce,be)=>{for(const Je of be.ya)Je.Da(N)&&(X=!0)}),X&&vp($)}(d.eventManager,n),g.length&&d.au.j_(g),d.onlineState=n,d.isPrimaryClient&&d.sharedClientState.setOnlineState(n)}}function zs(f,n,o){return ud.apply(this,arguments)}function ud(){return(ud=(0,T.A)(function*(f,n,o){const d=rn(f);d.sharedClientState.updateQueryState(n,"rejected",o);const g=d.Pu.get(n),b=g&&g.key;if(b){let D=new _i(wn.comparator);D=D.insert(b,Qi.newNoDocument(b,Fn.min()));const N=Er().add(b),$=new Fc(Fn.min(),new Map,new _i(gn),D,N);yield xo(d,$),d.hu=d.hu.remove(b),d.Pu.delete(n),Qc(d)}else yield Du(d.localStore,n,!1).then(()=>vc(d,n,o)).catch(br)})).apply(this,arguments)}function sf(f,n){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,T.A)(function*(f,n){const o=rn(f),d=n.batch.batchId;try{const g=yield function b_(f,n){const o=rn(f);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",d=>{const g=n.batch.keys(),b=o.Bs.newChangeBuffer({trackRemovals:!0});return function(N,$,X,ce){const be=X.batch,Je=be.keys();let Ft=et.resolve();return Je.forEach(cn=>{Ft=Ft.next(()=>ce.getEntry($,cn)).next(Mn=>{const Cn=X.docVersions.get(cn);Ot(null!==Cn,48541),Mn.version.compareTo(Cn)<0&&(be.applyToRemoteDocument(Mn,X),Mn.isValidDocument()&&(Mn.setReadTime(X.commitVersion),ce.addEntry(Mn)))})}),Ft.next(()=>N.mutationQueue.removeMutationBatch($,be))}(o,d,n,b).next(()=>b.apply(d)).next(()=>o.mutationQueue.performConsistencyCheck(d)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(d,g,n.batch.batchId)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,function(N){let $=Er();for(let X=0;X<N.mutationResults.length;++X)N.mutationResults[X].transformResults.length>0&&($=$.add(N.batch.mutations[X].key));return $}(n))).next(()=>o.localDocuments.getDocuments(d,g))})}(o.localStore,n);em(o,d,null),yc(o,d),o.sharedClientState.updateMutationState(d,"acknowledged"),yield bc(o,g)}catch(g){yield br(g)}})).apply(this,arguments)}function af(f,n,o){return nh.apply(this,arguments)}function nh(){return(nh=(0,T.A)(function*(f,n,o){const d=rn(f);try{const g=yield function(D,N){const $=rn(D);return $.persistence.runTransaction("Reject batch","readwrite-primary",X=>{let ce;return $.mutationQueue.lookupMutationBatch(X,N).next(be=>(Ot(null!==be,37113),ce=be.keys(),$.mutationQueue.removeMutationBatch(X,be))).next(()=>$.mutationQueue.performConsistencyCheck(X)).next(()=>$.documentOverlayCache.removeOverlaysForBatchId(X,ce,N)).next(()=>$.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(X,ce)).next(()=>$.localDocuments.getDocuments(X,ce))})}(d.localStore,n);em(d,n,o),yc(d,n),d.sharedClientState.updateMutationState(n,"rejected",o),yield bc(d,g)}catch(g){yield br(g)}})).apply(this,arguments)}function yc(f,n){(f.Eu.get(n)||[]).forEach(o=>{o.resolve()}),f.Eu.delete(n)}function em(f,n,o){const d=rn(f);let g=d.Iu[d.currentUser.toKey()];if(g){const b=g.get(n);b&&(o?b.reject(o):b.resolve(),g=g.remove(n)),d.Iu[d.currentUser.toKey()]=g}}function vc(f,n,o=null){f.sharedClientState.removeLocalQueryTarget(n);for(const d of f.cu.get(n))f.uu.delete(d),o&&f.au.Vu(d,o);f.cu.delete(n),f.isPrimaryClient&&f.Tu.Hr(n).forEach(d=>{f.Tu.containsKey(d)||wv(f,d)})}function wv(f,n){f.lu.delete(n.path.canonicalString());const o=f.hu.get(n);null!==o&&(Xd(f.remoteStore,o),f.hu=f.hu.remove(n),f.Pu.delete(o),Qc(f))}function rh(f,n,o){for(const d of o)d instanceof Kg?(f.Tu.addReference(d.key,n),Cp(f,d)):d instanceof B_?(Pt(qc,"Document no longer in limbo: "+d.key),f.Tu.removeReference(d.key,n),f.Tu.containsKey(d.key)||wv(f,d.key)):bt(19791,{mu:d})}function Cp(f,n){const o=n.key,d=o.path.canonicalString();f.hu.get(o)||f.lu.has(d)||(Pt(qc,"New document in limbo: "+o),f.lu.add(d),Qc(f))}function Qc(f){for(;f.lu.size>0&&f.hu.size<f.maxConcurrentLimboResolutions;){const n=f.lu.values().next().value;f.lu.delete(n);const o=new wn(Dt.fromString(n)),d=f.du.next();f.Pu.set(d,new ld(o)),f.hu=f.hu.insert(o,d),Bg(f.remoteStore,new jl(bo(vs(o.path)),d,"TargetPurposeLimboResolution",dt.le))}}function bc(f,n,o){return tm.apply(this,arguments)}function tm(){return tm=(0,T.A)(function*(f,n,o){const d=rn(f),g=[],b=[],D=[];var N;d.uu.isEmpty()||(d.uu.forEach((N,$)=>{D.push(d.Ru($,n,o).then(X=>{var ce;if((X||o)&&d.isPrimaryClient){const be=X?!X.fromCache:null===(ce=o?.targetChanges.get($.targetId))||void 0===ce?void 0:ce.current;d.sharedClientState.updateQueryState($.targetId,be?"current":"not-current")}if(X){g.push(X);const be=$d.Rs($.targetId,X);b.push(be)}}))}),yield Promise.all(D),d.au.j_(g),yield(N=(0,T.A)(function*(X,ce){const be=rn(X);try{yield be.persistence.runTransaction("notifyLocalViewChanges","readwrite",Je=>et.forEach(ce,Ft=>et.forEach(Ft.ds,cn=>be.persistence.referenceDelegate.addReference(Je,Ft.targetId,cn)).next(()=>et.forEach(Ft.As,cn=>be.persistence.referenceDelegate.removeReference(Je,Ft.targetId,cn)))))}catch(Je){if(!Yr(Je))throw Je;Pt(rv,"Failed to update sequence numbers: "+Je)}for(const Je of ce){const Ft=Je.targetId;if(!Je.fromCache){const cn=be.xs.get(Ft),Cn=cn.withLastLimboFreeSnapshotVersion(cn.snapshotVersion);be.xs=be.xs.insert(Ft,Cn)}}}),function $(X,ce){return N.apply(this,arguments)})(d.localStore,b))}),tm.apply(this,arguments)}function Dp(f,n){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,T.A)(function*(f,n){const o=rn(f);if(!o.currentUser.isEqual(n)){Pt(qc,"User change. New user:",n.toKey());const d=yield Hs(o.localStore,n);o.currentUser=n,(b=o).Eu.forEach(N=>{N.forEach($=>{$.reject(new de(st.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),b.Eu.clear(),o.sharedClientState.handleUserChange(n,d.removedBatchIds,d.addedBatchIds),yield bc(o,d.ks)}var b})).apply(this,arguments)}function lf(f,n){const o=rn(f),d=o.Pu.get(n);if(d&&d._u)return Er().add(d.key);{let g=Er();const b=o.cu.get(n);if(!b)return g;for(const D of b){const N=o.uu.get(D);g=g.unionWith(N.view.Ya)}return g}}function Xc(f){const n=rn(f);return n.remoteStore.remoteSyncer.applyRemoteEvent=xo.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=lf.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=zs.bind(null,n),n.au.j_=yp.bind(null,n.eventManager),n.au.Vu=L_.bind(null,n.eventManager),n}let ih=(()=>{class f{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(o){var d=this;return(0,T.A)(function*(){d.serializer=qd(o.databaseInfo.databaseId),d.sharedClientState=d.pu(o),d.persistence=d.yu(o),yield d.persistence.start(),d.localStore=d.wu(o),d.gcScheduler=d.Su(o,d.localStore),d.indexBackfillerScheduler=d.bu(o,d.localStore)})()}Su(o,d){return null}bu(o,d){return null}wu(o){return function iv(f,n,o,d){return new Sg(f,n,o,d)}(this.persistence,new v_,o.initialUser,this.serializer)}yu(o){return new Zu(Tu.fi,this.serializer)}pu(o){return new dv}terminate(){var o=this;return(0,T.A)(function*(){var d,g;null===(d=o.gcScheduler)||void 0===d||d.stop(),null===(g=o.indexBackfillerScheduler)||void 0===g||g.stop(),o.sharedClientState.shutdown(),yield o.persistence.shutdown()})()}}return f.provider={build:()=>new f},f})();class Ec extends ih{constructor(n){super(),this.cacheSizeBytes=n}Su(n,o){return Ot(this.persistence.referenceDelegate instanceof _a,46915),new so(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,o)}yu(n){const o=void 0!==this.cacheSizeBytes?Io.withCacheSize(this.cacheSizeBytes):Io.DEFAULT;return new Zu(d=>_a.fi(d,o),this.serializer)}}let df=(()=>{class f{initialize(o,d){var g=this;return(0,T.A)(function*(){g.localStore||(g.localStore=o.localStore,g.sharedClientState=o.sharedClientState,g.datastore=g.createDatastore(d),g.remoteStore=g.createRemoteStore(d),g.eventManager=g.createEventManager(d),g.syncEngine=g.createSyncEngine(d,!o.synchronizeTabs),g.sharedClientState.onlineStateHandler=b=>z_(g.syncEngine,b,1),g.remoteStore.remoteSyncer.handleCredentialChange=Dp.bind(null,g.syncEngine),yield function N_(f,n){return vv.apply(this,arguments)}(g.remoteStore,g.syncEngine.isPrimaryClient))})()}createEventManager(o){return new Gg}createDatastore(o){const d=qd(o.databaseInfo.databaseId),g=new Kd(o.databaseInfo);return new Za(o.authCredentials,o.appCheckCredentials,g,d)}createRemoteStore(o){return g=this.localStore,b=this.datastore,D=o.asyncQueue,N=d=>z_(this.syncEngine,d,0),$=Fg.C()?new Fg:new up,new Kh(g,b,D,N,$);var g,b,D,N,$}createSyncEngine(o,d){return function(b,D,N,$,X,ce,be){const Je=new Ev(b,D,N,$,X,ce);return be&&(Je.Au=!0),Je}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,o.initialUser,o.maxConcurrentLimboResolutions,d)}terminate(){var o=this;return(0,T.A)(function*(){var d,g,b;yield(b=(0,T.A)(function*(N){const $=rn(N);Pt(Kc,"RemoteStore shutting down."),$.Ta.add(5),yield Qh($),$.Ea.shutdown(),$.da.set("Unknown")}),function D(N){return b.apply(this,arguments)})(o.remoteStore),null===(d=o.datastore)||void 0===d||d.terminate(),null===(g=o.eventManager)||void 0===g||g.terminate()})()}}return f.provider={build:()=>new f},f})();class xu{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.vu(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.vu(this.observer.error,n):lr("Uncaught Error in snapshot listener:",n.toString()))}Cu(){this.muted=!0}vu(n,o){setTimeout(()=>{this.muted||n(o)},0)}}const Pu="FirestoreClient";class Iv{constructor(n,o,d,g,b){var D=this;this.authCredentials=n,this.appCheckCredentials=o,this.asyncQueue=d,this.databaseInfo=g,this.user=vt.UNAUTHENTICATED,this.clientId=mr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=b,this.authCredentials.start(d,function(){var N=(0,T.A)(function*($){Pt(Pu,"Received user=",$.uid),yield D.authCredentialListener($),D.user=$});return function($){return N.apply(this,arguments)}}()),this.appCheckCredentials.start(d,N=>(Pt(Pu,"Received new app check token=",N),this.appCheckCredentialListener(N,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const o=new Te;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,T.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),o.resolve()}catch(d){const g=_c(d,"Failed to shutdown persistence");o.reject(g)}})),o.promise}}function xp(f,n){return lm.apply(this,arguments)}function lm(){return lm=(0,T.A)(function*(f,n){f.asyncQueue.verifyOperationInProgress(),Pt(Pu,"Initializing OfflineComponentProvider");const o=f.configuration;yield n.initialize(o);let d=o.initialUser;f.setCredentialChangeListener(function(){var g=(0,T.A)(function*(b){d.isEqual(b)||(yield Hs(n.localStore,b),d=b)});return function(b){return g.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>f.terminate()),f._offlineComponents=n}),lm.apply(this,arguments)}function cm(f,n){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,T.A)(function*(f,n){f.asyncQueue.verifyOperationInProgress();const o=yield function J_(f){return um.apply(this,arguments)}(f);Pt(Pu,"Initializing OnlineComponentProvider"),yield n.initialize(o,f.configuration),f.setCredentialChangeListener(d=>yv(n.remoteStore,d)),f.setAppCheckTokenChangeListener((d,g)=>yv(n.remoteStore,g)),f._onlineComponents=n})).apply(this,arguments)}function um(){return(um=(0,T.A)(function*(f){if(!f._offlineComponents)if(f._uninitializedComponentsProvider){Pt(Pu,"Using user provided OfflineComponentProvider");try{yield xp(f,f._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(g=n).name?g.code===st.FAILED_PRECONDITION||g.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw n;hr("Error using user provided cache. Falling back to memory cache: "+n),yield xp(f,new ih)}}else Pt(Pu,"Using default OfflineComponentProvider"),yield xp(f,new Ec(void 0));var g;return f._offlineComponents})).apply(this,arguments)}function Mp(f){return dm.apply(this,arguments)}function dm(){return(dm=(0,T.A)(function*(f){return f._onlineComponents||(f._uninitializedComponentsProvider?(Pt(Pu,"Using user provided OnlineComponentProvider"),yield cm(f,f._uninitializedComponentsProvider._online)):(Pt(Pu,"Using default OnlineComponentProvider"),yield cm(f,new df))),f._onlineComponents})).apply(this,arguments)}function hf(f){return ff.apply(this,arguments)}function ff(){return(ff=(0,T.A)(function*(f){const n=yield Mp(f),o=n.eventManager;return o.onListen=ul.bind(null,n.syncEngine),o.onUnlisten=H_.bind(null,n.syncEngine),o.onFirstRemoteStoreListen=qg.bind(null,n.syncEngine),o.onLastRemoteStoreUnlisten=Yg.bind(null,n.syncEngine),o})).apply(this,arguments)}function uE(f){const n={};return void 0!==f.timeoutSeconds&&(n.timeoutSeconds=f.timeoutSeconds),n}const dE=new Map;function xv(f,n,o){if(!o)throw new de(st.INVALID_ARGUMENT,`Function ${f}() cannot be called with an empty ${n}.`)}function Pv(f){if(!wn.isDocumentKey(f))throw new de(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${f} has ${f.length}.`)}function pf(f){if(wn.isDocumentKey(f))throw new de(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${f} has ${f.length}.`)}function gf(f){if(void 0===f)return"undefined";if(null===f)return"null";if("string"==typeof f)return f.length>20&&(f=`${f.substring(0,20)}...`),JSON.stringify(f);if("number"==typeof f||"boolean"==typeof f)return""+f;if("object"==typeof f){if(f instanceof Array)return"an array";{const n=(d=f).constructor?d.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var d;return"function"==typeof f?"a function":bt(12329,{type:typeof f})}function Pi(f,n){if("_delegate"in f&&(f=f._delegate),!(f instanceof n)){if(n.name===f.constructor.name)throw new de(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=gf(f);throw new de(st.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${o}`)}}return f}const fE="firestore.googleapis.com";class pm{constructor(n){var o,d;if(void 0===n.host){if(void 0!==n.ssl)throw new de(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fE,this.ssl=!0}else this.host=n.host,this.ssl=null===(o=n.ssl)||void 0===o||o;if(this.isUsingEmulator=void 0!==n.emulatorOptions,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new de(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}(function Fp(f,n,o,d){if(!0===n&&!0===d)throw new de(st.INVALID_ARGUMENT,`${f} and ${o} cannot be used together.`)})("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=uE(null!==(d=n.experimentalLongPollingOptions)&&void 0!==d?d:{}),function(b){if(void 0!==b.timeoutSeconds){if(isNaN(b.timeoutSeconds))throw new de(st.INVALID_ARGUMENT,`invalid long polling timeout: ${b.timeoutSeconds} (must not be NaN)`);if(b.timeoutSeconds<5)throw new de(st.INVALID_ARGUMENT,`invalid long polling timeout: ${b.timeoutSeconds} (minimum allowed value is 5)`);if(b.timeoutSeconds>30)throw new de(st.INVALID_ARGUMENT,`invalid long polling timeout: ${b.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class mf{constructor(n,o,d,g){this._authCredentials=n,this._appCheckCredentials=o,this._databaseId=d,this._app=g,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new de(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pm(n),this._emulatorOptions=n.emulatorOptions||{},void 0!==n.credentials&&(this._authCredentials=function(d){if(!d)return new xe;switch(d.type){case"firstParty":return new jt(d.sessionIndex||"0",d.iamToken||null,d.authTokenFactory||null);case"provider":return d.client;default:throw new de(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,T.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(o){const d=dE.get(o);d&&(Pt("ComponentProvider","Removing Datastore"),dE.delete(o),d.terminate())}(this),Promise.resolve()}}class sa{constructor(n,o,d){this.converter=o,this._query=d,this.type="query",this.firestore=n}withConverter(n){return new sa(this.firestore,n,this._query)}}class Js{constructor(n,o,d){this.converter=o,this._key=d,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Js(this.firestore,n,this._key)}}class Yl extends sa{constructor(n,o,d){super(n,o,vs(d)),this._path=d,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Js(this.firestore,null,new wn(n))}withConverter(n){return new Yl(this.firestore,n,this._path)}}function pE(f,n,...o){if(f=(0,We.Ku)(f),xv("collection","path",n),f instanceof mf){const d=Dt.fromString(n,...o);return pf(d),new Yl(f,null,d)}{if(!(f instanceof Js||f instanceof Yl))throw new de(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=f._path.child(Dt.fromString(n,...o));return pf(d),new Yl(f.firestore,null,d)}}function Mv(f,n,...o){if(f=(0,We.Ku)(f),1===arguments.length&&(n=mr.newId()),xv("doc","path",n),f instanceof mf){const d=Dt.fromString(n,...o);return Pv(d),new Js(f,null,new wn(d))}{if(!(f instanceof Js||f instanceof Yl))throw new de(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=f._path.child(Dt.fromString(n,...o));return Pv(d),new Js(f.firestore,f instanceof Yl?f.converter:null,new wn(d))}}const kv="AsyncQueue";class Ov{constructor(n=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Qd(this,"async_queue_retry"),this.ec=()=>{const d=dp();d&&Pt(kv,"Visibility state changed to "+d.visibilityState),this.C_.p_()},this.tc=n;const o=dp();o&&"function"==typeof o.addEventListener&&o.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.nc(),this.rc(n)}enterRestrictedMode(n){if(!this.ju){this.ju=!0,this.Zu=n||!1;const o=dp();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.ec)}}enqueue(n){if(this.nc(),this.ju)return new Promise(()=>{});const o=new Te;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(n().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.zu.push(n),this.sc()))}sc(){var n=this;return(0,T.A)(function*(){if(0!==n.zu.length){try{yield n.zu[0](),n.zu.shift(),n.C_.reset()}catch(o){if(!Yr(o))throw o;Pt(kv,"Operation failed with retryable error: "+o)}n.zu.length>0&&n.C_.f_(()=>n.sc())}})()}rc(n){const o=this.tc.then(()=>(this.Yu=!0,n().catch(d=>{throw this.Ju=d,this.Yu=!1,lr("INTERNAL UNHANDLED ERROR: ",sy(d)),d}).then(d=>(this.Yu=!1,d))));return this.tc=o,o}enqueueAfterDelay(n,o,d){this.nc(),this.Xu.indexOf(n)>-1&&(o=0);const g=F_.createAndSchedule(this,n,o,d,b=>this.oc(b));return this.Hu.push(g),g}nc(){this.Ju&&bt(47125,{_c:sy(this.Ju)})}verifyOperationInProgress(){}ac(){var n=this;return(0,T.A)(function*(){let o;do{o=n.tc,yield o}while(o!==n.tc)})()}uc(n){for(const o of this.Hu)if(o.timerId===n)return!0;return!1}cc(n){return this.ac().then(()=>{this.Hu.sort((o,d)=>o.targetTimeMs-d.targetTimeMs);for(const o of this.Hu)if(o.skipDelay(),"all"!==n&&o.timerId===n)break;return this.ac()})}lc(n){this.Xu.push(n)}oc(n){const o=this.Hu.indexOf(n);this.Hu.splice(o,1)}}function sy(f){let n=f.message||"";return f.stack&&(n=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),n}function oy(f){return function(o){if("object"!=typeof o||null===o)return!1;const g=o;for(const b of["next","error","complete"])if(b in g&&"function"==typeof g[b])return!0;return!1}(f)}class eo extends mf{constructor(n,o,d,g){super(n,o,d,g),this.type="firestore",this._queue=new Ov,this._persistenceKey=g?.name||"[DEFAULT]"}_terminate(){var n=this;return(0,T.A)(function*(){if(n._firestoreClient){const o=n._firestoreClient.terminate();n._queue=new Ov(o),n._firestoreClient=void 0,yield o}})()}}function _f(f,n){const o="object"==typeof f?f:(0,z.Sx)(),d="string"==typeof f?f:n||ke,g=(0,z.j6)(o,"firestore").getImmediate({identifier:d});if(!g._initialized){const b=(0,We.yU)("firestore");b&&function gm(f,n,o,d={}){var g;f=Pi(f,mf);const b=(0,We.zJ)(n),D=f._getSettings(),N=Object.assign(Object.assign({},D),{emulatorOptions:f._getEmulatorOptions()}),$=`${n}:${o}`;b&&((0,We.gE)(`https://${$}`),(0,We.P1)("Firestore",!0)),D.host!==fE&&D.host!==$&&hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const X=Object.assign(Object.assign({},D),{host:$,ssl:b,emulatorOptions:d});if(!(0,We.bD)(X,N)&&(f._setSettings(X),d.mockUserToken)){let ce,be;if("string"==typeof d.mockUserToken)ce=d.mockUserToken,be=vt.MOCK_USER;else{ce=(0,We.Fy)(d.mockUserToken,null===(g=f._app)||void 0===g?void 0:g.options.projectId);const Je=d.mockUserToken.sub||d.mockUserToken.user_id;if(!Je)throw new de(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");be=new vt(Je)}f._authCredentials=new me(new De(ce,be))}}(g,...b)}return g}function mo(f){if(f._terminated)throw new de(st.FAILED_PRECONDITION,"The client has already been terminated.");return f._firestoreClient||function yf(f){var n,o,d;const g=f._freezeSettings(),b=($=(null===(n=f._app)||void 0===n?void 0:n.options.appId)||"",new re(f._databaseId,$,f._persistenceKey,(ce=g).host,ce.ssl,ce.experimentalForceLongPolling,ce.experimentalAutoDetectLongPolling,uE(ce.experimentalLongPollingOptions),ce.useFetchStreams,ce.isUsingEmulator));var $,ce;f._componentsProvider||!(null===(o=g.localCache)||void 0===o)&&o._offlineComponentProvider&&!(null===(d=g.localCache)||void 0===d)&&d._onlineComponentProvider&&(f._componentsProvider={_offline:g.localCache._offlineComponentProvider,_online:g.localCache._onlineComponentProvider}),f._firestoreClient=new Iv(f._authCredentials,f._appCheckCredentials,f._queue,b,f._componentsProvider&&function(N){const $=N?._online.build();return{_offline:N?._offline.build($),_online:$}}(f._componentsProvider))}(f),f._firestoreClient}class Dl{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Dl(hs.fromBase64String(n))}catch(o){throw new de(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(n){return new Dl(hs.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class dd{constructor(...n){for(let o=0;o<n.length;++o)if(0===n[o].length)throw new de(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class oa{constructor(n){this._methodName=n}}class _m{constructor(n,o){if(!isFinite(n)||n<-90||n>90)throw new de(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(o)||o<-180||o>180)throw new de(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=n,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return gn(this._lat,n._lat)||gn(this._long,n._long)}}class ym{constructor(n){this._values=(n||[]).map(o=>o)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(d,g){if(d.length!==g.length)return!1;for(let b=0;b<d.length;++b)if(d[b]!==g[b])return!1;return!0}(this._values,n._values)}}const ku=/^__.*__$/;class vf{constructor(n,o,d){this.data=n,this.fieldMask=o,this.fieldTransforms=d}toMutation(n,o){return null!==this.fieldMask?new il(n,this.data,this.fieldMask,o,this.fieldTransforms):new kc(n,this.data,o,this.fieldTransforms)}}class Lv{constructor(n,o,d){this.data=n,this.fieldMask=o,this.fieldTransforms=d}toMutation(n,o){return new il(n,this.data,this.fieldMask,o,this.fieldTransforms)}}function Vv(f){switch(f){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{hc:f})}}class Bp{constructor(n,o,d,g,b,D){this.settings=n,this.databaseId=o,this.serializer=d,this.ignoreUndefinedProperties=g,void 0===b&&this.Pc(),this.fieldTransforms=b||[],this.fieldMask=D||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(n){return new Bp(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(n){var o;const d=null===(o=this.path)||void 0===o?void 0:o.child(n),g=this.Tc({path:d,Ec:!1});return g.dc(n),g}Ac(n){var o;const d=null===(o=this.path)||void 0===o?void 0:o.child(n),g=this.Tc({path:d,Ec:!1});return g.Pc(),g}Rc(n){return this.Tc({path:void 0,Ec:!0})}Vc(n){return fy(n,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(n){return void 0!==this.fieldMask.find(o=>n.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>n.isPrefixOf(o.field))}Pc(){if(this.path)for(let n=0;n<this.path.length;n++)this.dc(this.path.get(n))}dc(n){if(0===n.length)throw this.Vc("Document fields must not be empty");if(Vv(this.hc)&&ku.test(n))throw this.Vc('Document fields cannot begin and end with "__"')}}class EE{constructor(n,o,d){this.databaseId=n,this.ignoreUndefinedProperties=o,this.serializer=d||qd(n)}gc(n,o,d,g=!1){return new Bp({hc:n,methodName:o,fc:d,path:vr.emptyPath(),Ec:!1,mc:g},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sh(f){const n=f._freezeSettings(),o=qd(f._databaseId);return new EE(f._databaseId,!!n.ignoreUndefinedProperties,o)}function Up(f,n,o,d,g,b={}){const D=f.gc(b.merge||b.mergeFields?2:0,n,o,g);jv("Data must be an object, but it was:",D,d);const N=dy(d,D);let $,X;if(b.merge)$=new Fs(D.fieldMask),X=D.fieldTransforms;else if(b.mergeFields){const ce=[];for(const be of b.mergeFields){const Je=bm(n,be,o);if(!D.contains(Je))throw new de(st.INVALID_ARGUMENT,`Field '${Je}' is specified in your field mask but missing from your input data.`);wE(ce,Je)||ce.push(Je)}$=new Fs(ce),X=D.fieldTransforms.filter(be=>$.covers(be.field))}else $=null,X=D.fieldTransforms;return new vf(new Zs(N),$,X)}class Ou extends oa{_toFieldTransform(n){if(2!==n.hc)throw n.Vc(1===n.hc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Ou}}function Jc(f,n){if(Uv(f=(0,We.Ku)(f)))return jv("Unsupported field value:",n,f),dy(f,n);if(f instanceof oa)return function(d,g){if(!Vv(g.hc))throw g.Vc(`${d._methodName}() can only be used with update() and set()`);if(!g.path)throw g.Vc(`${d._methodName}() is not currently supported inside arrays`);const b=d._toFieldTransform(g);b&&g.fieldTransforms.push(b)}(f,n),null;if(void 0===f&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),f instanceof Array){if(n.settings.Ec&&4!==n.hc)throw n.Vc("Nested arrays are not supported");return function(d,g){const b=[];let D=0;for(const N of d){let $=Jc(N,g.Rc(D));null==$&&($={nullValue:"NULL_VALUE"}),b.push($),D++}return{arrayValue:{values:b}}}(f,n)}return function(d,g){if(null===(d=(0,We.Ku)(d)))return{nullValue:"NULL_VALUE"};if("number"==typeof d)return ml(g.serializer,d);if("boolean"==typeof d)return{booleanValue:d};if("string"==typeof d)return{stringValue:d};if(d instanceof Date){const b=Gr.fromDate(d);return{timestampValue:Sd(g.serializer,b)}}if(d instanceof Gr){const b=new Gr(d.seconds,1e3*Math.floor(d.nanoseconds/1e3));return{timestampValue:Sd(g.serializer,b)}}if(d instanceof _m)return{geoPointValue:{latitude:d.latitude,longitude:d.longitude}};if(d instanceof Dl)return{bytesValue:ha(g.serializer,d._byteString)};if(d instanceof Js){const b=g.databaseId,D=d.firestore._databaseId;if(!D.isEqual(b))throw g.Vc(`Document reference is for database ${D.projectId}/${D.database} but should be for database ${b.projectId}/${b.database}`);return{referenceValue:Rd(d.firestore._databaseId||g.databaseId,d._key.path)}}if(d instanceof ym)return D=d,N=g,{mapValue:{fields:{[It]:{stringValue:Jn},[zn]:{arrayValue:{values:D.toArray().map(X=>{if("number"!=typeof X)throw N.Vc("VectorValues must only contain numeric values.");return ra(N.serializer,X)})}}}}};var D,N;throw g.Vc(`Unsupported field value: ${gf(d)}`)}(f,n)}function dy(f,n){const o={};return No(f)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):uo(f,(d,g)=>{const b=Jc(g,n.Ic(d));null!=b&&(o[d]=b)}),{mapValue:{fields:o}}}function Uv(f){return!("object"!=typeof f||null===f||f instanceof Array||f instanceof Date||f instanceof Gr||f instanceof _m||f instanceof Dl||f instanceof Js||f instanceof oa||f instanceof ym)}function jv(f,n,o){if(!Uv(o)||"object"!=typeof(g=o)||null===g||Object.getPrototypeOf(g)!==Object.prototype&&null!==Object.getPrototypeOf(g)){const d=gf(o);throw n.Vc("an object"===d?f+" a custom object":f+" "+d)}var g}function bm(f,n,o){if((n=(0,We.Ku)(n))instanceof dd)return n._internalPath;if("string"==typeof n)return bf(f,n);throw fy("Field path arguments must be of type string or ",f,!1,void 0,o)}const hy=new RegExp("[~\\*/\\[\\]]");function bf(f,n,o){if(n.search(hy)>=0)throw fy(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,f,!1,void 0,o);try{return new dd(...n.split("."))._internalPath}catch{throw fy(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,f,!1,void 0,o)}}function fy(f,n,o,d,g){const b=d&&!d.isEmpty(),D=void 0!==g;let N=`Function ${n}() called with invalid data`;o&&(N+=" (via `toFirestore()`)"),N+=". ";let $="";return(b||D)&&($+=" (found",b&&($+=` in field ${d}`),D&&($+=` in document ${g}`),$+=")"),new de(st.INVALID_ARGUMENT,N+f+$)}function wE(f,n){return f.some(o=>o.isEqual(n))}class Ef{constructor(n,o,d,g,b){this._firestore=n,this._userDataWriter=o,this._key=d,this._document=g,this._converter=b}get id(){return this._key.path.lastSegment()}get ref(){return new Js(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new IE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const o=this._document.data.field(Em("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o)}}}class IE extends Ef{data(){return super.data()}}function Em(f,n){return"string"==typeof n?bf(f,n):n instanceof dd?n._internalPath:n._delegate._internalPath}class wm{}class jp extends wm{}function Hv(f,n,...o){let d=[];n instanceof wm&&d.push(n),d=d.concat(o),function(b){const D=b.filter($=>$ instanceof aa).length,N=b.filter($=>$ instanceof wf).length;if(D>1||D>0&&N>0)throw new de(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(d);for(const g of d)f=g._apply(f);return f}class wf extends jp{constructor(n,o,d){super(),this._field=n,this._op=o,this._value=d,this.type="where"}static _create(n,o,d){return new wf(n,o,d)}_apply(n){const o=this._parse(n);return CE(n._query,o),new sa(n.firestore,n.converter,kl(n._query,o))}_parse(n){const o=sh(n.firestore);return function(b,D,N,$,X,ce,be){let Je;if(X.isKeyField()){if("array-contains"===ce||"array-contains-any"===ce)throw new de(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ce}' queries on documentId().`);if("in"===ce||"not-in"===ce){gy(be,ce);const cn=[];for(const Mn of be)cn.push(Rm($,b,Mn));Je={arrayValue:{values:cn}}}else Je=Rm($,b,be)}else"in"!==ce&&"not-in"!==ce&&"array-contains-any"!==ce||gy(be,ce),Je=function uy(f,n,o,d=!1){return Jc(o,f.gc(d?4:3,n))}(N,"where",be,"in"===ce||"not-in"===ce);return Ri.create(X,ce,Je)}(n._query,0,o,n.firestore._databaseId,this._field,this._op,this._value)}}function Im(f,n,o){const d=n,g=Em("where",f);return wf._create(g,d,o)}class aa extends wm{constructor(n,o){super(),this.type=n,this._queryConstraints=o}static _create(n,o){return new aa(n,o)}_parse(n){const o=this._queryConstraints.map(d=>d._parse(n)).filter(d=>d.getFilters().length>0);return 1===o.length?o[0]:wi.create(o,this._getOperator())}_apply(n){const o=this._parse(n);return 0===o.getFilters().length?n:(function(g,b){let D=g;const N=b.getFlattenedFilters();for(const $ of N)CE(D,$),D=kl(D,$)}(n._query,o),new sa(n.firestore,n.converter,kl(n._query,o)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Rm(f,n,o){if("string"==typeof(o=(0,We.Ku)(o))){if(""===o)throw new de(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uo(n)&&-1!==o.indexOf("/"))throw new de(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const d=n.path.child(Dt.fromString(o));if(!wn.isDocumentKey(d))throw new de(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${d}' is not because it has an odd number of segments (${d.length}).`);return Ue(f,new wn(d))}if(o instanceof Js)return Ue(f,o._key);throw new de(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(o)}.`)}function gy(f,n){if(!Array.isArray(f)||0===f.length)throw new de(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function CE(f,n){const o=function(g,b){for(const D of g)for(const N of D.getFlattenedFilters())if(b.indexOf(N.op)>=0)return N.op;return null}(f.filters,function(g){switch(g){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==o)throw new de(st.INVALID_ARGUMENT,o===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${o.toString()}' filters.`)}class Gv{convertValue(n,o="none"){switch(Ir(n)){case 0:return null;case 1:return n.booleanValue;case 2:return yi(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,o);case 5:return n.stringValue;case 6:return this.convertBytes(Qr(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,o);case 11:return this.convertObject(n.mapValue,o);case 10:return this.convertVectorValue(n.mapValue);default:throw bt(62114,{value:n})}}convertObject(n,o){return this.convertObjectMap(n.fields,o)}convertObjectMap(n,o="none"){const d={};return uo(n,(g,b)=>{d[g]=this.convertValue(b,o)}),d}convertVectorValue(n){var o,d,g;const b=null===(g=null===(d=null===(o=n.fields)||void 0===o?void 0:o[zn].arrayValue)||void 0===d?void 0:d.values)||void 0===g?void 0:g.map(D=>yi(D.doubleValue));return new ym(b)}convertGeoPoint(n){return new _m(yi(n.latitude),yi(n.longitude))}convertArray(n,o){return(n.values||[]).map(d=>this.convertValue(d,o))}convertServerTimestamp(n,o){switch(o){case"previous":const d=Jr(n);return null==d?null:this.convertValue(d,o);case"estimate":return this.convertTimestamp(ie(n));default:return null}}convertTimestamp(n){const o=Ys(n);return new Gr(o.seconds,o.nanos)}convertDocumentKey(n,o){const d=Dt.fromString(n);Ot(Fh(d),9688,{name:n});const g=new Ke(d.get(1),d.get(3)),b=new wn(d.popFirst(5));return g.isEqual(o)||lr(`Document ${b} contains a document reference within a different database (${g.projectId}/${g.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),b}}class uh{constructor(n,o){this.hasPendingWrites=n,this.fromCache=o}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Tf extends Ef{constructor(n,o,d,g,b,D){super(n,o,d,g,D),this._firestore=n,this._firestoreImpl=n,this.metadata=b}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const o=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,o={}){if(this._document){const d=this._document.data.field(Em("DocumentSnapshot.get",n));if(null!==d)return this._userDataWriter.convertValue(d,o.serverTimestamps)}}}class Cf extends Tf{data(n={}){return super.data(n)}}class zp{constructor(n,o,d,g){this._firestore=n,this._userDataWriter=o,this._snapshot=g,this.metadata=new uh(g.hasPendingWrites,g.fromCache),this.query=d}get docs(){const n=[];return this.forEach(o=>n.push(o)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,o){this._snapshot.docs.forEach(d=>{n.call(o,new Cf(this._firestore,this._userDataWriter,d.key,d,new uh(this._snapshot.mutatedKeys.has(d.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const o=!!n.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new de(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(g,b){if(g._snapshot.oldDocs.isEmpty()){let D=0;return g._snapshot.docChanges.map(N=>({type:"added",doc:new Cf(g._firestore,g._userDataWriter,N.doc.key,N.doc,new uh(g._snapshot.mutatedKeys.has(N.doc.key),g._snapshot.fromCache),g.query.converter),oldIndex:-1,newIndex:D++}))}{let D=g._snapshot.oldDocs;return g._snapshot.docChanges.filter(N=>b||3!==N.type).map(N=>{const $=new Cf(g._firestore,g._userDataWriter,N.doc.key,N.doc,new uh(g._snapshot.mutatedKeys.has(N.doc.key),g._snapshot.fromCache),g.query.converter);let X=-1,ce=-1;return 0!==N.type&&(X=D.indexOf(N.doc.key),D=D.delete(N.doc.key)),1!==N.type&&(D=D.add(N.doc),ce=D.indexOf(N.doc.key)),{type:Ow(N.type),doc:$,oldIndex:X,newIndex:ce}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function Ow(f){switch(f){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:f})}}function Nw(f){f=Pi(f,Js);const n=Pi(f.firestore,eo);return function Av(f,n,o={}){const d=new Te;return f.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function(b,D,N,$,X){const ce=new xu({next:Je=>{ce.Cu(),D.enqueueAndForget(()=>Jh(b,be));const Ft=Je.docs.has(N);!Ft&&Je.fromCache?X.reject(new de(st.UNAVAILABLE,"Failed to get document because the client is offline.")):Ft&&Je.fromCache&&$&&"server"===$.source?X.reject(new de(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):X.resolve(Je)},error:Je=>X.reject(Je)}),be=new bp(vs(N.path),ce,{includeMetadataChanges:!0,La:!0});return Zh(b,be)}(yield hf(f),f.asyncQueue,n,o,d)})),d.promise}(mo(n),f._key).then(o=>hd(n,f,o))}class dh extends Gv{constructor(n){super(),this.firestore=n}convertBytes(n){return new Dl(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new Js(this.firestore,null,o)}}function Om(f,n,o){f=Pi(f,Js);const d=Pi(f.firestore,eo),g=function xm(f,n,o){let d;return d=f?o&&(o.merge||o.mergeFields)?f.toFirestore(n,o):f.toFirestore(n):n,d}(f.converter,n,o);return hh(d,[Up(sh(d),"setDoc",f._key,g,null!==f.converter,o).toMutation(f._key,Vi.none())])}function Qv(f,n,o,...d){f=Pi(f,Js);const g=Pi(f.firestore,eo),b=sh(g);let D;return D="string"==typeof(n=(0,We.Ku)(n))||n instanceof dd?function lh(f,n,o,d,g,b){const D=f.gc(1,n,o),N=[bm(n,d,o)],$=[g];if(b.length%2!=0)throw new de(st.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Je=0;Je<b.length;Je+=2)N.push(bm(n,b[Je])),$.push(b[Je+1]);const X=[],ce=Zs.empty();for(let Je=N.length-1;Je>=0;--Je)if(!wE(X,N[Je])){const Ft=N[Je];let cn=$[Je];cn=(0,We.Ku)(cn);const Mn=D.Ac(Ft);if(cn instanceof Ou)X.push(Ft);else{const Cn=Jc(cn,Mn);null!=Cn&&(X.push(Ft),ce.set(Ft,Cn))}}const be=new Fs(X);return new Lv(ce,be,D.fieldTransforms)}(b,"updateDoc",f._key,n,o,d):function Ic(f,n,o,d){const g=f.gc(1,n,o);jv("Data must be an object, but it was:",g,d);const b=[],D=Zs.empty();uo(d,($,X)=>{const ce=bf(n,$,o);X=(0,We.Ku)(X);const be=g.Ac(ce);if(X instanceof Ou)b.push(ce);else{const Je=Jc(X,be);null!=Je&&(b.push(ce),D.set(ce,Je))}});const N=new Fs(b);return new Lv(D,N,g.fieldTransforms)}(b,"updateDoc",f._key,n),hh(g,[D.toMutation(f._key,Vi.exists(!0))])}function Xv(f){return hh(Pi(f.firestore,eo),[new jo(f._key,Vi.none())])}function SE(f,...n){var o,d,g;f=(0,We.Ku)(f);let b={includeMetadataChanges:!1,source:"default"},D=0;"object"!=typeof n[D]||oy(n[D])||(b=n[D],D++);const N={includeMetadataChanges:b.includeMetadataChanges,source:b.source};if(oy(n[D])){const be=n[D];n[D]=null===(o=be.next)||void 0===o?void 0:o.bind(be),n[D+1]=null===(d=be.error)||void 0===d?void 0:d.bind(be),n[D+2]=null===(g=be.complete)||void 0===g?void 0:g.bind(be)}let $,X,ce;if(f instanceof Js)X=Pi(f.firestore,eo),ce=vs(f._key.path),$={next:be=>{n[D]&&n[D](hd(X,f,be))},error:n[D+1],complete:n[D+2]};else{const be=Pi(f,sa);X=Pi(be.firestore,eo),ce=be._query;const Je=new dh(X);$={next:Ft=>{n[D]&&n[D](new zp(X,Je,be,Ft))},error:n[D+1],complete:n[D+2]},function $v(f){if("L"===f.limitType&&0===f.explicitOrderBy.length)throw new de(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(f._query)}return function(Je,Ft,cn,Mn){const Cn=new xu(Mn),Cr=new bp(Ft,Cn,cn);return Je.asyncQueue.enqueueAndForget((0,T.A)(function*(){return Zh(yield hf(Je),Cr)})),()=>{Cn.Cu(),Je.asyncQueue.enqueueAndForget((0,T.A)(function*(){return Jh(yield hf(Je),Cr)}))}}(mo(X),ce,N,$)}function hh(f,n){return function(d,g){const b=new Te;return d.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function Tp(f,n,o){return rf.apply(this,arguments)}(yield function Dv(f){return Mp(f).then(n=>n.syncEngine)}(d),g,b)})),b.promise}(mo(f),n)}function hd(f,n,o){const d=o.docs.get(n._key),g=new dh(f);return new Tf(f,g,n._key,d,new uh(o.hasPendingWrites,o.fromCache),n.converter)}!function(n,o=!0){ht=z.MF,(0,z.om)(new le.uA("firestore",(d,{instanceIdentifier:g,options:b})=>{const D=d.getProvider("app").getImmediate(),N=new eo(new Re(d.getProvider("auth-internal")),new En(D,d.getProvider("app-check-internal")),function(X,ce){if(!Object.prototype.hasOwnProperty.apply(X.options,["projectId"]))throw new de(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ke(X.options.projectId,ce)}(D,g),D);return b=Object.assign({useFetchStreams:o},b),N._setSettings(b),N},"PUBLIC").setMultipleInstances(!0)),(0,z.KO)(Kt,"4.7.16",n),(0,z.KO)(Kt,"4.7.16","esm2017")}()},3494:(qn,ot,Q)=>{"use strict";Q.d(ot,{s:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},3604:(qn,ot,Q)=>{"use strict";Q.d(ot,{q:()=>le});const T={now:()=>(T.delegate||Date).now(),delegate:void 0};class z{constructor(We,pt=z.now){this.schedulerActionCtor=We,this.now=pt}schedule(We,pt=0,Oe){return new this.schedulerActionCtor(this,We).schedule(Oe,pt)}}z.now=T.now;class le extends z{constructor(We,pt=z.now){super(We,pt),this.actions=[],this._active=!1}flush(We){const{actions:pt}=this;if(this._active)return void pt.push(We);let Oe;this._active=!0;do{if(Oe=We.execute(We.state,We.delay))break}while(We=pt.shift());if(this._active=!1,Oe){for(;We=pt.shift();)We.unsubscribe();throw Oe}}}},3669:(qn,ot,Q)=>{"use strict";function T(z){return z}Q.d(ot,{D:()=>T})},4125:(qn,ot,Q)=>{"use strict";Q.d(ot,{kR:()=>mt});var T=Q(2967),We=(Q(1360),Q(7440),Q(2214),Q(467)),pt=Q(7852),Oe=Q(1362),Le=Q(6858),at=Q(8041);const Ve=new Map,Fe={activated:!1,tokenObservers:[]},At={initialized:!1,enabled:!1};function yt(Ne){return Ve.get(Ne)||Object.assign({},Fe)}function Qt(){return At}class Qe{constructor(Ge,ut,an,dn,Ln){if(this.operation=Ge,this.retryPolicy=ut,this.getWaitDuration=an,this.lowerBound=dn,this.upperBound=Ln,this.pending=null,this.nextErrorWaitInterval=dn,dn>Ln)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ge){var ut=this;return(0,We.A)(function*(){ut.stop();try{ut.pending=new Le.cY,ut.pending.promise.catch(an=>{}),yield function vt(Ne){return new Promise(Ge=>{setTimeout(Ge,Ne)})}(ut.getNextRun(Ge)),ut.pending.resolve(),yield ut.pending.promise,ut.pending=new Le.cY,ut.pending.promise.catch(an=>{}),yield ut.operation(),ut.pending.resolve(),yield ut.pending.promise,ut.process(!0).catch(()=>{})}catch(an){ut.retryPolicy(an)?ut.process(!1).catch(()=>{}):ut.stop()}})()}getNextRun(Ge){if(Ge)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ut=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ut}}}const kt=new Le.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function xt(Ne){if(!yt(Ne).activated)throw kt.create("use-before-activation",{appName:Ne.name})}function hr(Ne,Ge){return yr.apply(this,arguments)}function yr(){return(yr=(0,We.A)(function*({url:Ne,body:Ge},ut){const an={"Content-Type":"application/json"},dn=ut.getImmediate({optional:!0});if(dn){const Ni=yield dn.getHeartbeatsHeader();Ni&&(an["X-Firebase-Client"]=Ni)}const Ln={method:"POST",body:JSON.stringify(Ge),headers:an};let sr,xr;try{sr=yield fetch(Ne,Ln)}catch(Ni){throw kt.create("fetch-network-error",{originalErrorMessage:Ni?.message})}if(200!==sr.status)throw kt.create("fetch-status-error",{httpStatus:sr.status});try{xr=yield sr.json()}catch(Ni){throw kt.create("fetch-parse-error",{originalErrorMessage:Ni?.message})}const Nr=xr.ttl.match(/^([\d.]+)(s)$/);if(!Nr||!Nr[2]||isNaN(Number(Nr[1])))throw kt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${xr.ttl}`});const Di=1e3*Number(Nr[1]),Oo=Date.now();return{token:xr.token,expireTimeMillis:Oo+Di,issuedAtTimeMillis:Oo}})).apply(this,arguments)}function Ot(Ne,Ge){const{projectId:ut,appId:an,apiKey:dn}=Ne.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${ut}/apps/${an}:exchangeDebugToken?key=${dn}`,body:{debug_token:Ge}}}const st="firebase-app-check-store";let Te=null;function Rn(){return(Rn=(0,We.A)(function*(Ne,Ge){const an=(yield function De(){return Te||(Te=new Promise((Ne,Ge)=>{try{const ut=indexedDB.open("firebase-app-check-database",1);ut.onsuccess=an=>{Ne(an.target.result)},ut.onerror=an=>{var dn;Ge(kt.create("storage-open",{originalErrorMessage:null===(dn=an.target.error)||void 0===dn?void 0:dn.message}))},ut.onupgradeneeded=an=>{0===an.oldVersion&&an.target.result.createObjectStore(st,{keyPath:"compositeKey"})}}catch(ut){Ge(kt.create("storage-open",{originalErrorMessage:ut?.message}))}}),Te)}()).transaction(st,"readwrite"),Ln=an.objectStore(st).put({compositeKey:Ne,value:Ge});return new Promise((sr,xr)=>{Ln.onsuccess=Nr=>{sr()},an.onerror=Nr=>{var Di;xr(kt.create("storage-set",{originalErrorMessage:null===(Di=Nr.target.error)||void 0===Di?void 0:Di.message}))}})})).apply(this,arguments)}const gr=new at.Vy("@firebase/app-check");function ar(Ne,Ge){return(0,Le.zW)()?function me(Ne,Ge){return function jt(Ne,Ge){return Rn.apply(this,arguments)}(function Xt(Ne){return`${Ne.options.appId}-${Ne.name}`}(Ne),Ge)}(Ne,Ge).catch(ut=>{gr.warn(`Failed to write token to IndexedDB. Error: ${ut}`)}):Promise.resolve()}function kr(){return Qt().enabled}function Br(){return Es.apply(this,arguments)}function Es(){return(Es=(0,We.A)(function*(){const Ne=Qt();if(Ne.enabled&&Ne.token)return Ne.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Gr={error:"UNKNOWN_ERROR"};function Fn(Ne){return Le.K3.encodeString(JSON.stringify(Ne),!1)}function Ss(Ne){return li.apply(this,arguments)}function li(){return(li=(0,We.A)(function*(Ne,Ge=!1,ut=!1){const an=Ne.app;xt(an);const dn=yt(an);let sr,Ln=dn.token;if(Ln&&!Hr(Ln)&&(dn.token=void 0,Ln=void 0),!Ln){const Di=yield dn.cachedTokenPromise;Di&&(Hr(Di)?Ln=Di:yield ar(an,void 0))}if(!Ge&&Ln&&Hr(Ln))return{token:Ln.token};let Nr,xr=!1;if(kr())try{dn.exchangeTokenPromise||(dn.exchangeTokenPromise=hr(Ot(an,yield Br()),Ne.heartbeatServiceProvider).finally(()=>{dn.exchangeTokenPromise=void 0}),xr=!0);const Di=yield dn.exchangeTokenPromise;return yield ar(an,Di),dn.token=Di,{token:Di.token}}catch(Di){return"appCheck/throttled"===Di.code||"appCheck/initial-throttle"===Di.code?gr.warn(Di.message):ut&&gr.error(Di),ts(Di)}try{dn.exchangeTokenPromise||(dn.exchangeTokenPromise=dn.provider.getToken().finally(()=>{dn.exchangeTokenPromise=void 0}),xr=!0),Ln=yield yt(an).exchangeTokenPromise}catch(Di){"appCheck/throttled"===Di.code||"appCheck/initial-throttle"===Di.code?gr.warn(Di.message):ut&&gr.error(Di),sr=Di}return Ln?sr?Nr=Hr(Ln)?{token:Ln.token,internalError:sr}:ts(sr):(Nr={token:Ln.token},dn.token=Ln,yield ar(an,Ln)):Nr=ts(sr),xr&&function Tr(Ne,Ge){const ut=yt(Ne).tokenObservers;for(const an of ut)try{"EXTERNAL"===an.type&&null!=Ge.error?an.error(Ge.error):an.next(Ge)}catch{}}(an,Nr),Nr})).apply(this,arguments)}function mi(){return(mi=(0,We.A)(function*(Ne){const Ge=Ne.app;xt(Ge);const{provider:ut}=yt(Ge);if(kr()){const an=yield Br(),{token:dn}=yield hr(Ot(Ge,an),Ne.heartbeatServiceProvider);return{token:dn}}{const{token:an}=yield ut.getToken();return{token:an}}})).apply(this,arguments)}function wn(Ne,Ge){const ut=yt(Ne),an=ut.tokenObservers.filter(dn=>dn.next!==Ge);0===an.length&&ut.tokenRefresher&&ut.tokenRefresher.isRunning()&&ut.tokenRefresher.stop(),ut.tokenObservers=an}function Ci(Ne){const{app:Ge}=Ne,ut=yt(Ge);let an=ut.tokenRefresher;an||(an=function fi(Ne){const{app:Ge}=Ne;return new Qe((0,We.A)(function*(){let an;if(an=yt(Ge).token?yield Ss(Ne,!0):yield Ss(Ne),an.error)throw an.error;if(an.internalError)throw an.internalError}),()=>!0,()=>{const ut=yt(Ge);if(ut.token){let an=ut.token.issuedAtTimeMillis+.5*(ut.token.expireTimeMillis-ut.token.issuedAtTimeMillis)+3e5;return an=Math.min(an,ut.token.expireTimeMillis-3e5),Math.max(0,an-Date.now())}return 0},3e4,96e4)}(Ne),ut.tokenRefresher=an),!an.isRunning()&&ut.isTokenAutoRefreshEnabled&&an.start()}function Hr(Ne){return Ne.expireTimeMillis-Date.now()>0}function ts(Ne){return{token:Fn(Gr),error:Ne}}class Kr{constructor(Ge,ut){this.app=Ge,this.heartbeatServiceProvider=ut}_delete(){const{tokenObservers:Ge}=yt(this.app);for(const ut of Ge)wn(this.app,ut.next);return Promise.resolve()}}const Zr="app-check-internal";!function ge(){(0,pt.om)(new Oe.uA("app-check",Ne=>function ns(Ne,Ge){return new Kr(Ne,Ge)}(Ne.getProvider("app").getImmediate(),Ne.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ne,Ge,ut)=>{Ne.getProvider(Zr).initialize()})),(0,pt.om)(new Oe.uA(Zr,Ne=>function zr(Ne){return{getToken:Ge=>Ss(Ne,Ge),getLimitedUseToken:()=>function Dt(Ne){return mi.apply(this,arguments)}(Ne),addTokenListener:Ge=>function vr(Ne,Ge,ut,an){const{app:dn}=Ne,Ln=yt(dn);if(Ln.tokenObservers=[...Ln.tokenObservers,{next:ut,error:an,type:Ge}],Ln.token&&Hr(Ln.token)){const xr=Ln.token;Promise.resolve().then(()=>{ut({token:xr.token}),Ci(Ne)}).catch(()=>{})}Ln.cachedTokenPromise.then(()=>Ci(Ne))}(Ne,"INTERNAL",Ge),removeTokenListener:Ge=>wn(Ne.app,Ge)}}(Ne.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pt.KO)("@firebase/app-check","0.10.0")}();class mt{constructor(){return(0,T.CA)("app-check")}}typeof window<"u"&&window},4341:(qn,ot,Q)=>{"use strict";Q.d(ot,{Zm:()=>In,me:()=>Qe,ok:()=>Ur,JD:()=>no,j4:()=>Ns,YN:()=>Ki,BC:()=>Fn,cb:()=>Ss,cV:()=>Os,vS:()=>Wr,xH:()=>co,Q0:()=>Fi,X1:()=>_s,YS:()=>Ys,wz:()=>si,k0:()=>Pt,qT:()=>ni,y7:()=>ds});var T=Q(1360),z=Q(6048),le=Q(8455),A=Q(1985),We=Q(3073),pt=Q(8750),Oe=Q(9326),Le=Q(4360),at=Q(6450),Ve=Q(8496),At=Q(1413),yt=Q(6354);let Ct=(()=>{class G{_renderer;_elementRef;onChange=L=>{};onTouched=()=>{};constructor(L,oe){this._renderer=L,this._elementRef=oe}setProperty(L,oe){this._renderer.setProperty(this._elementRef.nativeElement,L,oe)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}static \u0275fac=function(oe){return new(oe||G)(T.rXU(T.sFG),T.rXU(T.aKT))};static \u0275dir=T.FsC({type:G})}return G})(),Qt=(()=>{class G extends Ct{static \u0275fac=(()=>{let L;return function(Ue){return(L||(L=T.xGo(G)))(Ue||G)}})();static \u0275dir=T.FsC({type:G,features:[T.Vt3]})}return G})();const Zt=new T.nKC(""),un={provide:Zt,useExisting:(0,T.Rfq)(()=>In),multi:!0};let In=(()=>{class G extends Qt{writeValue(L){this.setProperty("checked",L)}static \u0275fac=(()=>{let L;return function(Ue){return(L||(L=T.xGo(G)))(Ue||G)}})();static \u0275dir=T.FsC({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(oe,Ue){1&oe&&T.bIt("change",function(dr){return Ue.onChange(dr.target.checked)})("blur",function(){return Ue.onTouched()})},standalone:!1,features:[T.Jv_([un]),T.Vt3]})}return G})();const Ut={provide:Zt,useExisting:(0,T.Rfq)(()=>Qe),multi:!0},Kt=new T.nKC("");let Qe=(()=>{class G extends Ct{_compositionMode;_composing=!1;constructor(L,oe,Ue){super(L,oe),this._compositionMode=Ue,null==this._compositionMode&&(this._compositionMode=!function Gt(){const G=(0,z.rb)()?(0,z.rb)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}static \u0275fac=function(oe){return new(oe||G)(T.rXU(T.sFG),T.rXU(T.aKT),T.rXU(Kt,8))};static \u0275dir=T.FsC({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,Ue){1&oe&&T.bIt("input",function(dr){return Ue._handleInput(dr.target.value)})("blur",function(){return Ue.onTouched()})("compositionstart",function(){return Ue._compositionStart()})("compositionend",function(dr){return Ue._compositionEnd(dr.target.value)})},standalone:!1,features:[T.Jv_([Ut]),T.Vt3]})}return G})();function vt(G){return null==G||0===ht(G)}function ht(G){return null==G?null:Array.isArray(G)||"string"==typeof G?G.length:G instanceof Set?G.size:null}const kt=new T.nKC(""),hn=new T.nKC(""),xt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pt{static min(K){return function lr(G){return K=>{if(null==K.value||null==G)return null;const L=parseFloat(K.value);return!isNaN(L)&&L<G?{min:{min:G,actual:K.value}}:null}}(K)}static max(K){return function hr(G){return K=>{if(null==K.value||null==G)return null;const L=parseFloat(K.value);return!isNaN(L)&&L>G?{max:{max:G,actual:K.value}}:null}}(K)}static required(K){return yr(K)}static requiredTrue(K){return function bt(G){return!0===G.value?null:{required:!0}}(K)}static email(K){return function Wn(G){return vt(G.value)||xt.test(G.value)?null:{email:!0}}(K)}static minLength(K){return function Ot(G){return K=>{const L=K.value?.length??ht(K.value);return null===L||0===L?null:L<G?{minlength:{requiredLength:G,actualLength:L}}:null}}(K)}static maxLength(K){return function On(G){return K=>{const L=K.value?.length??ht(K.value);return null!==L&&L>G?{maxlength:{requiredLength:G,actualLength:L}}:null}}(K)}static pattern(K){return function rn(G){if(!G)return st;let K,L;return"string"==typeof G?(L="","^"!==G.charAt(0)&&(L+="^"),L+=G,"$"!==G.charAt(G.length-1)&&(L+="$"),K=new RegExp(L)):(L=G.toString(),K=G),oe=>{if(vt(oe.value))return null;const Ue=oe.value;return K.test(Ue)?null:{pattern:{requiredPattern:L,actualValue:Ue}}}}(K)}static nullValidator(K){return null}static compose(K){return ft(K)}static composeAsync(K){return Rn(K)}}function yr(G){return vt(G.value)?{required:!0}:null}function st(G){return null}function de(G){return null!=G}function Te(G){return(0,T.jNT)(G)?(0,le.H)(G):G}function De(G){let K={};return G.forEach(L=>{K=null!=L?{...K,...L}:K}),0===Object.keys(K).length?null:K}function xe(G,K){return K.map(L=>L(G))}function Re(G){return G.map(K=>function me(G){return!G.validate}(K)?K:L=>K.validate(L))}function ft(G){if(!G)return null;const K=G.filter(de);return 0==K.length?null:function(L){return De(xe(L,K))}}function jt(G){return null!=G?ft(Re(G)):null}function Rn(G){if(!G)return null;const K=G.filter(de);return 0==K.length?null:function(L){return function Fe(...G){const K=(0,Oe.ms)(G),{args:L,keys:oe}=(0,We.D)(G),Ue=new A.c(Pn=>{const{length:dr}=L;if(!dr)return void Pn.complete();const jr=new Array(dr);let fs=dr,Ps=dr;for(let ho=0;ho<dr;ho++){let Fo=!1;(0,pt.Tg)(L[ho]).subscribe((0,Le._)(Pn,fl=>{Fo||(Fo=!0,Ps--),jr[ho]=fl},()=>fs--,void 0,()=>{(!fs||!Fo)&&(Ps||Pn.next(oe?(0,Ve.e)(oe,jr):jr),Pn.complete())}))}});return K?Ue.pipe((0,at.I)(K)):Ue}(xe(L,K).map(Te)).pipe((0,yt.T)(De))}}function En(G){return null!=G?Rn(Re(G)):null}function Dr(G,K){return null===G?[K]:Array.isArray(G)?[...G,K]:[G,K]}function Xt(G){return G._rawValidators}function gr(G){return G._rawAsyncValidators}function mr(G){return G?Array.isArray(G)?G:[G]:[]}function gn(G,K){return Array.isArray(G)?G.includes(K):G===K}function ar(G,K){const L=mr(K);return mr(G).forEach(Ue=>{gn(L,Ue)||L.push(Ue)}),L}function Ar(G,K){return mr(K).filter(L=>!gn(G,L))}class Lr{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(K){this._rawValidators=K||[],this._composedValidatorFn=jt(this._rawValidators)}_setAsyncValidators(K){this._rawAsyncValidators=K||[],this._composedAsyncValidatorFn=En(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(K){this._onDestroyCallbacks.push(K)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(K=>K()),this._onDestroyCallbacks=[]}reset(K=void 0){this.control&&this.control.reset(K)}hasError(K,L){return!!this.control&&this.control.hasError(K,L)}getError(K,L){return this.control?this.control.getError(K,L):null}}class kr extends Lr{name;get formDirective(){return null}get path(){return null}}class Br extends Lr{_parent=null;name=null;valueAccessor=null}class Es{_cd;constructor(K){this._cd=K}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Fn=(()=>{class G extends Es{constructor(L){super(L)}static \u0275fac=function(oe){return new(oe||G)(T.rXU(Br,2))};static \u0275dir=T.FsC({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,Ue){2&oe&&T.AVh("ng-untouched",Ue.isUntouched)("ng-touched",Ue.isTouched)("ng-pristine",Ue.isPristine)("ng-dirty",Ue.isDirty)("ng-valid",Ue.isValid)("ng-invalid",Ue.isInvalid)("ng-pending",Ue.isPending)},standalone:!1,features:[T.Vt3]})}return G})(),Ss=(()=>{class G extends Es{constructor(L){super(L)}static \u0275fac=function(oe){return new(oe||G)(T.rXU(kr,10))};static \u0275dir=T.FsC({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,Ue){2&oe&&T.AVh("ng-untouched",Ue.isUntouched)("ng-touched",Ue.isTouched)("ng-pristine",Ue.isPristine)("ng-dirty",Ue.isDirty)("ng-valid",Ue.isValid)("ng-invalid",Ue.isInvalid)("ng-pending",Ue.isPending)("ng-submitted",Ue.isSubmitted)},standalone:!1,features:[T.Vt3]})}return G})();const ti="VALID",br="INVALID",zi="PENDING",et="DISABLED";class Xr{}class ws extends Xr{value;source;constructor(K,L){super(),this.value=K,this.source=L}}class ji extends Xr{pristine;source;constructor(K,L){super(),this.pristine=K,this.source=L}}class is extends Xr{touched;source;constructor(K,L){super(),this.touched=K,this.source=L}}class Hn extends Xr{status;source;constructor(K,L){super(),this.status=K,this.source=L}}class qr extends Xr{source;constructor(K){super(),this.source=K}}class Yr extends Xr{source;constructor(K){super(),this.source=K}}function cs(G){return(Me(G)?G.validators:G)||null}function ss(G,K){return(Me(K)?K.asyncValidators:G)||null}function Me(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}function rt(G,K,L){const oe=G.controls;if(!(K?Object.keys(oe):oe).length)throw new T.wOt(1e3,"");if(!oe[L])throw new T.wOt(1001,"")}function nn(G,K,L){G._forEachChild((oe,Ue)=>{if(void 0===L[Ue])throw new T.wOt(1002,"")})}class dt{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(K,L){this._assignValidators(K),this._assignAsyncValidators(L)}get validator(){return this._composedValidatorFn}set validator(K){this._rawValidators=this._composedValidatorFn=K}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(K){this._rawAsyncValidators=this._composedAsyncValidatorFn=K}get parent(){return this._parent}get status(){return(0,T.O8t)(this.statusReactive)}set status(K){(0,T.O8t)(()=>this.statusReactive.set(K))}_status=(0,T.EWP)(()=>this.statusReactive());statusReactive=(0,T.vPA)(void 0);get valid(){return this.status===ti}get invalid(){return this.status===br}get pending(){return this.status==zi}get disabled(){return this.status===et}get enabled(){return this.status!==et}errors;get pristine(){return(0,T.O8t)(this.pristineReactive)}set pristine(K){(0,T.O8t)(()=>this.pristineReactive.set(K))}_pristine=(0,T.EWP)(()=>this.pristineReactive());pristineReactive=(0,T.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,T.O8t)(this.touchedReactive)}set touched(K){(0,T.O8t)(()=>this.touchedReactive.set(K))}_touched=(0,T.EWP)(()=>this.touchedReactive());touchedReactive=(0,T.vPA)(!1);get untouched(){return!this.touched}_events=new At.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(K){this._assignValidators(K)}setAsyncValidators(K){this._assignAsyncValidators(K)}addValidators(K){this.setValidators(ar(K,this._rawValidators))}addAsyncValidators(K){this.setAsyncValidators(ar(K,this._rawAsyncValidators))}removeValidators(K){this.setValidators(Ar(K,this._rawValidators))}removeAsyncValidators(K){this.setAsyncValidators(Ar(K,this._rawAsyncValidators))}hasValidator(K){return gn(this._rawValidators,K)}hasAsyncValidator(K){return gn(this._rawAsyncValidators,K)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(K={}){const L=!1===this.touched;this.touched=!0;const oe=K.sourceControl??this;this._parent&&!K.onlySelf&&this._parent.markAsTouched({...K,sourceControl:oe}),L&&!1!==K.emitEvent&&this._events.next(new is(!0,oe))}markAllAsTouched(K={}){this.markAsTouched({onlySelf:!0,emitEvent:K.emitEvent,sourceControl:this}),this._forEachChild(L=>L.markAllAsTouched(K))}markAsUntouched(K={}){const L=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const oe=K.sourceControl??this;this._forEachChild(Ue=>{Ue.markAsUntouched({onlySelf:!0,emitEvent:K.emitEvent,sourceControl:oe})}),this._parent&&!K.onlySelf&&this._parent._updateTouched(K,oe),L&&!1!==K.emitEvent&&this._events.next(new is(!1,oe))}markAsDirty(K={}){const L=!0===this.pristine;this.pristine=!1;const oe=K.sourceControl??this;this._parent&&!K.onlySelf&&this._parent.markAsDirty({...K,sourceControl:oe}),L&&!1!==K.emitEvent&&this._events.next(new ji(!1,oe))}markAsPristine(K={}){const L=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const oe=K.sourceControl??this;this._forEachChild(Ue=>{Ue.markAsPristine({onlySelf:!0,emitEvent:K.emitEvent})}),this._parent&&!K.onlySelf&&this._parent._updatePristine(K,oe),L&&!1!==K.emitEvent&&this._events.next(new ji(!0,oe))}markAsPending(K={}){this.status=zi;const L=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new Hn(this.status,L)),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.markAsPending({...K,sourceControl:L})}disable(K={}){const L=this._parentMarkedDirty(K.onlySelf);this.status=et,this.errors=null,this._forEachChild(Ue=>{Ue.disable({...K,onlySelf:!0})}),this._updateValue();const oe=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new ws(this.value,oe)),this._events.next(new Hn(this.status,oe)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...K,skipPristineCheck:L},this),this._onDisabledChange.forEach(Ue=>Ue(!0))}enable(K={}){const L=this._parentMarkedDirty(K.onlySelf);this.status=ti,this._forEachChild(oe=>{oe.enable({...K,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent}),this._updateAncestors({...K,skipPristineCheck:L},this),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(K,L){this._parent&&!K.onlySelf&&(this._parent.updateValueAndValidity(K),K.skipPristineCheck||this._parent._updatePristine({},L),this._parent._updateTouched({},L))}setParent(K){this._parent=K}getRawValue(){return this.value}updateValueAndValidity(K={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const oe=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ti||this.status===zi)&&this._runAsyncValidator(oe,K.emitEvent)}const L=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new ws(this.value,L)),this._events.next(new Hn(this.status,L)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.updateValueAndValidity({...K,sourceControl:L})}_updateTreeValidity(K={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(K)),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?et:ti}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(K,L){if(this.asyncValidator){this.status=zi,this._hasOwnPendingAsyncValidator={emitEvent:!1!==L};const oe=Te(this.asyncValidator(this));this._asyncValidationSubscription=oe.subscribe(Ue=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Ue,{emitEvent:L,shouldHaveEmitted:K})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const K=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,K}return!1}setErrors(K,L={}){this.errors=K,this._updateControlsErrors(!1!==L.emitEvent,this,L.shouldHaveEmitted)}get(K){let L=K;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((oe,Ue)=>oe&&oe._find(Ue),this)}getError(K,L){const oe=L?this.get(L):this;return oe&&oe.errors?oe.errors[K]:null}hasError(K,L){return!!this.getError(K,L)}get root(){let K=this;for(;K._parent;)K=K._parent;return K}_updateControlsErrors(K,L,oe){this.status=this._calculateStatus(),K&&this.statusChanges.emit(this.status),(K||oe)&&this._events.next(new Hn(this.status,L)),this._parent&&this._parent._updateControlsErrors(K,L,oe)}_initObservables(){this.valueChanges=new T.bkB,this.statusChanges=new T.bkB}_calculateStatus(){return this._allControlsDisabled()?et:this.errors?br:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zi)?zi:this._anyControlsHaveStatus(br)?br:ti}_anyControlsHaveStatus(K){return this._anyControls(L=>L.status===K)}_anyControlsDirty(){return this._anyControls(K=>K.dirty)}_anyControlsTouched(){return this._anyControls(K=>K.touched)}_updatePristine(K,L){const oe=!this._anyControlsDirty(),Ue=this.pristine!==oe;this.pristine=oe,this._parent&&!K.onlySelf&&this._parent._updatePristine(K,L),Ue&&this._events.next(new ji(this.pristine,L))}_updateTouched(K={},L){this.touched=this._anyControlsTouched(),this._events.next(new is(this.touched,L)),this._parent&&!K.onlySelf&&this._parent._updateTouched(K,L)}_onDisabledChange=[];_registerOnCollectionChange(K){this._onCollectionChange=K}_setUpdateStrategy(K){Me(K)&&null!=K.updateOn&&(this._updateOn=K.updateOn)}_parentMarkedDirty(K){return!K&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(K){return null}_assignValidators(K){this._rawValidators=Array.isArray(K)?K.slice():K,this._composedValidatorFn=function ms(G){return Array.isArray(G)?jt(G):G||null}(this._rawValidators)}_assignAsyncValidators(K){this._rawAsyncValidators=Array.isArray(K)?K.slice():K,this._composedAsyncValidatorFn=function $e(G){return Array.isArray(G)?En(G):G||null}(this._rawAsyncValidators)}}class yn extends dt{constructor(K,L,oe){super(cs(L),ss(oe,L)),this.controls=K,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(K,L){return this.controls[K]?this.controls[K]:(this.controls[K]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(K,L,oe={}){this.registerControl(K,L),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(K,L={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(K,L,oe={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],L&&this.registerControl(K,L),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(K){return this.controls.hasOwnProperty(K)&&this.controls[K].enabled}setValue(K,L={}){nn(this,0,K),Object.keys(K).forEach(oe=>{rt(this,!0,oe),this.controls[oe].setValue(K[oe],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(K,L={}){null!=K&&(Object.keys(K).forEach(oe=>{const Ue=this.controls[oe];Ue&&Ue.patchValue(K[oe],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(K={},L={}){this._forEachChild((oe,Ue)=>{oe.reset(K?K[Ue]:null,{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L,this),this._updateTouched(L,this),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(K,L,oe)=>(K[oe]=L.getRawValue(),K))}_syncPendingControls(){let K=this._reduceChildren(!1,(L,oe)=>!!oe._syncPendingControls()||L);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){Object.keys(this.controls).forEach(L=>{const oe=this.controls[L];oe&&K(oe,L)})}_setUpControls(){this._forEachChild(K=>{K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(K){for(const[L,oe]of Object.entries(this.controls))if(this.contains(L)&&K(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,oe,Ue)=>((oe.enabled||this.disabled)&&(L[Ue]=oe.value),L))}_reduceChildren(K,L){let oe=K;return this._forEachChild((Ue,Pn)=>{oe=L(oe,Ue,Pn)}),oe}_allControlsDisabled(){for(const K of Object.keys(this.controls))if(this.controls[K].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(K){return this.controls.hasOwnProperty(K)?this.controls[K]:null}}class Ee extends yn{}const mt=new T.nKC("",{providedIn:"root",factory:()=>Bt}),Bt="always";function ve(G,K){return[...K.path,G]}function Pe(G,K,L=Bt){Mt(G,K),K.valueAccessor.writeValue(G.value),(G.disabled||"always"===L)&&K.valueAccessor.setDisabledState?.(G.disabled),function Tn(G,K){K.valueAccessor.registerOnChange(L=>{G._pendingValue=L,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&Nn(G,K)})}(G,K),function fr(G,K){const L=(oe,Ue)=>{K.valueAccessor.writeValue(oe),Ue&&K.viewToModelUpdate(oe)};G.registerOnChange(L),K._registerOnDestroy(()=>{G._unregisterOnChange(L)})}(G,K),function ir(G,K){K.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&Nn(G,K),"submit"!==G.updateOn&&G.markAsTouched()})}(G,K),function Vt(G,K){if(K.valueAccessor.setDisabledState){const L=oe=>{K.valueAccessor.setDisabledState(oe)};G.registerOnDisabledChange(L),K._registerOnDestroy(()=>{G._unregisterOnDisabledChange(L)})}}(G,K)}function tt(G,K,L=!0){const oe=()=>{};K.valueAccessor&&(K.valueAccessor.registerOnChange(oe),K.valueAccessor.registerOnTouched(oe)),en(G,K),G&&(K._invokeOnDestroyCallbacks(),G._registerOnCollectionChange(()=>{}))}function qt(G,K){G.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(K)})}function Mt(G,K){const L=Xt(G);null!==K.validator?G.setValidators(Dr(L,K.validator)):"function"==typeof L&&G.setValidators([L]);const oe=gr(G);null!==K.asyncValidator?G.setAsyncValidators(Dr(oe,K.asyncValidator)):"function"==typeof oe&&G.setAsyncValidators([oe]);const Ue=()=>G.updateValueAndValidity();qt(K._rawValidators,Ue),qt(K._rawAsyncValidators,Ue)}function en(G,K){let L=!1;if(null!==G){if(null!==K.validator){const Ue=Xt(G);if(Array.isArray(Ue)&&Ue.length>0){const Pn=Ue.filter(dr=>dr!==K.validator);Pn.length!==Ue.length&&(L=!0,G.setValidators(Pn))}}if(null!==K.asyncValidator){const Ue=gr(G);if(Array.isArray(Ue)&&Ue.length>0){const Pn=Ue.filter(dr=>dr!==K.asyncValidator);Pn.length!==Ue.length&&(L=!0,G.setAsyncValidators(Pn))}}}const oe=()=>{};return qt(K._rawValidators,oe),qt(K._rawAsyncValidators,oe),L}function Nn(G,K){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),K.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}function Mr(G,K){Mt(G,K)}function dn(G,K){if(!G.hasOwnProperty("model"))return!1;const L=G.model;return!!L.isFirstChange()||!Object.is(K,L.currentValue)}function sr(G,K){G._syncPendingControls(),K.forEach(L=>{const oe=L.control;"submit"===oe.updateOn&&oe._pendingChange&&(L.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}function xr(G,K){if(!K)return null;let L,oe,Ue;return Array.isArray(K),K.forEach(Pn=>{Pn.constructor===Qe?L=Pn:function Ln(G){return Object.getPrototypeOf(G.constructor)===Qt}(Pn)?oe=Pn:Ue=Pn}),Ue||oe||L||null}const Oo={provide:kr,useExisting:(0,T.Rfq)(()=>Os)},Ni=Promise.resolve();let Os=(()=>{class G extends kr{callSetDisabledState;get submitted(){return(0,T.O8t)(this.submittedReactive)}_submitted=(0,T.EWP)(()=>this.submittedReactive());submittedReactive=(0,T.vPA)(!1);_directives=new Set;form;ngSubmit=new T.bkB;options;constructor(L,oe,Ue){super(),this.callSetDisabledState=Ue,this.form=new yn({},jt(L),En(oe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){Ni.then(()=>{const oe=this._findContainer(L.path);L.control=oe.registerControl(L.name,L.control),Pe(L.control,L,this.callSetDisabledState),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){Ni.then(()=>{const oe=this._findContainer(L.path);oe&&oe.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){Ni.then(()=>{const oe=this._findContainer(L.path),Ue=new yn({});Mr(Ue,L),oe.registerControl(L.name,Ue),Ue.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){Ni.then(()=>{const oe=this._findContainer(L.path);oe&&oe.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,oe){Ni.then(()=>{this.form.get(L.path).setValue(oe)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submittedReactive.set(!0),sr(this.form,this._directives),this.ngSubmit.emit(L),this.form._events.next(new qr(this.control)),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submittedReactive.set(!1),this.form._events.next(new Yr(this.form))}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}static \u0275fac=function(oe){return new(oe||G)(T.rXU(kt,10),T.rXU(hn,10),T.rXU(mt,8))};static \u0275dir=T.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(oe,Ue){1&oe&&T.bIt("submit",function(dr){return Ue.onSubmit(dr)})("reset",function(){return Ue.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[T.Jv_([Oo]),T.Vt3]})}return G})();function to(G,K){const L=G.indexOf(K);L>-1&&G.splice(L,1)}function zo(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const Is=class extends dt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(K=null,L,oe){super(cs(L),ss(oe,L)),this._applyFormState(K),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Me(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=zo(K)?K.value:K)}setValue(K,L={}){this.value=this._pendingValue=K,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(K,L={}){this.setValue(K,L)}reset(K=this.defaultValue,L={}){this._applyFormState(K),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(K){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(K){this._onChange.push(K)}_unregisterOnChange(K){to(this._onChange,K)}registerOnDisabledChange(K){this._onDisabledChange.push(K)}_unregisterOnDisabledChange(K){to(this._onDisabledChange,K)}_forEachChild(K){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(K){zo(K)?(this.value=this._pendingValue=K.value,K.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=K}},Ai={provide:Br,useExisting:(0,T.Rfq)(()=>Wr)},bi=Promise.resolve();let Wr=(()=>{class G extends Br{_changeDetectorRef;callSetDisabledState;control=new Is;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new T.bkB;constructor(L,oe,Ue,Pn,dr,jr){super(),this._changeDetectorRef=dr,this.callSetDisabledState=jr,this._parent=L,this._setValidators(oe),this._setAsyncValidators(Ue),this.valueAccessor=xr(0,Pn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const oe=L.name.previousValue;this.formDirective.removeControl({name:oe,path:this._getPath(oe)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),dn(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){bi.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const oe=L.isDisabled.currentValue,Ue=0!==oe&&(0,T.L39)(oe);bi.then(()=>{Ue&&!this.control.disabled?this.control.disable():!Ue&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?ve(L,this._parent):[L]}static \u0275fac=function(oe){return new(oe||G)(T.rXU(kr,9),T.rXU(kt,10),T.rXU(hn,10),T.rXU(Zt,10),T.rXU(T.gRc,8),T.rXU(mt,8))};static \u0275dir=T.FsC({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[T.Jv_([Ai]),T.Vt3,T.OA$]})}return G})(),ni=(()=>{class G{static \u0275fac=function(oe){return new(oe||G)};static \u0275dir=T.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return G})();const Si={provide:Zt,useExisting:(0,T.Rfq)(()=>Fi),multi:!0};let Fi=(()=>{class G extends Qt{writeValue(L){this.setProperty("value",L??"")}registerOnChange(L){this.onChange=oe=>{L(""==oe?null:parseFloat(oe))}}static \u0275fac=(()=>{let L;return function(Ue){return(L||(L=T.xGo(G)))(Ue||G)}})();static \u0275dir=T.FsC({type:G,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(oe,Ue){1&oe&&T.bIt("input",function(dr){return Ue.onChange(dr.target.value)})("blur",function(){return Ue.onTouched()})},standalone:!1,features:[T.Jv_([Si]),T.Vt3]})}return G})();const mn=new T.nKC(""),xs={provide:kr,useExisting:(0,T.Rfq)(()=>Ns)};let Ns=(()=>{class G extends kr{callSetDisabledState;get submitted(){return(0,T.O8t)(this._submittedReactive)}set submitted(L){this._submittedReactive.set(L)}_submitted=(0,T.EWP)(()=>this._submittedReactive());_submittedReactive=(0,T.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new T.bkB;constructor(L,oe,Ue){super(),this.callSetDisabledState=Ue,this._setValidators(L),this._setAsyncValidators(oe)}ngOnChanges(L){L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(en(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const oe=this.form.get(L.path);return Pe(oe,L,this.callSetDisabledState),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),oe}getControl(L){return this.form.get(L.path)}removeControl(L){tt(L.control||null,L,!1),function Nr(G,K){const L=G.indexOf(K);L>-1&&G.splice(L,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,oe){this.form.get(L.path).setValue(oe)}onSubmit(L){return this._submittedReactive.set(!0),sr(this.form,this.directives),this.ngSubmit.emit(L),this.form._events.next(new qr(this.control)),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this._submittedReactive.set(!1),this.form._events.next(new Yr(this.form))}_updateDomValue(){this.directives.forEach(L=>{const oe=L.control,Ue=this.form.get(L.path);oe!==Ue&&(tt(oe||null,L),(G=>G instanceof Is)(Ue)&&(Pe(Ue,L,this.callSetDisabledState),L.control=Ue))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const oe=this.form.get(L.path);Mr(oe,L),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const oe=this.form.get(L.path);oe&&function Wi(G,K){return en(G,K)}(oe,L)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mt(this.form,this),this._oldForm&&en(this._oldForm,this)}static \u0275fac=function(oe){return new(oe||G)(T.rXU(kt,10),T.rXU(hn,10),T.rXU(mt,8))};static \u0275dir=T.FsC({type:G,selectors:[["","formGroup",""]],hostBindings:function(oe,Ue){1&oe&&T.bIt("submit",function(dr){return Ue.onSubmit(dr)})("reset",function(){return Ue.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[T.Jv_([xs]),T.Vt3,T.OA$]})}return G})();const Qs={provide:Br,useExisting:(0,T.Rfq)(()=>no)};let no=(()=>{class G extends Br{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(L){}model;update=new T.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(L,oe,Ue,Pn,dr){super(),this._ngModelWarningConfig=dr,this._parent=L,this._setValidators(oe),this._setAsyncValidators(Ue),this.valueAccessor=xr(0,Pn)}ngOnChanges(L){this._added||this._setUpControl(),dn(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return ve(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(oe){return new(oe||G)(T.rXU(kr,13),T.rXU(kt,10),T.rXU(hn,10),T.rXU(Zt,10),T.rXU(mn,8))};static \u0275dir=T.FsC({type:G,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[T.Jv_([Qs]),T.Vt3,T.OA$]})}return G})();const vo={provide:Zt,useExisting:(0,T.Rfq)(()=>si),multi:!0};function ta(G,K){return null==G?`${K}`:(K&&"object"==typeof K&&(K="Object"),`${G}: ${K}`.slice(0,50))}let si=(()=>{class G extends Qt{value;_optionMap=new Map;_idCounter=0;set compareWith(L){this._compareWith=L}_compareWith=Object.is;writeValue(L){this.value=L;const Ue=ta(this._getOptionId(L),L);this.setProperty("value",Ue)}registerOnChange(L){this.onChange=oe=>{this.value=this._getOptionValue(oe),L(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(L){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe),L))return oe;return null}_getOptionValue(L){const oe=function Go(G){return G.split(":")[0]}(L);return this._optionMap.has(oe)?this._optionMap.get(oe):L}static \u0275fac=(()=>{let L;return function(Ue){return(L||(L=T.xGo(G)))(Ue||G)}})();static \u0275dir=T.FsC({type:G,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(oe,Ue){1&oe&&T.bIt("change",function(dr){return Ue.onChange(dr.target.value)})("blur",function(){return Ue.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[T.Jv_([vo]),T.Vt3]})}return G})(),co=(()=>{class G{_element;_renderer;_select;id;constructor(L,oe,Ue){this._element=L,this._renderer=oe,this._select=Ue,this._select&&(this.id=this._select._registerOption())}set ngValue(L){null!=this._select&&(this._select._optionMap.set(this.id,L),this._setElementValue(ta(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._setElementValue(L),this._select&&this._select.writeValue(this._select.value)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(oe){return new(oe||G)(T.rXU(T.aKT),T.rXU(T.sFG),T.rXU(si,9))};static \u0275dir=T.FsC({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return G})();const uo={provide:Zt,useExisting:(0,T.Rfq)(()=>_i),multi:!0};function fo(G,K){return null==G?`${K}`:("string"==typeof K&&(K=`'${K}'`),K&&"object"==typeof K&&(K="Object"),`${G}: ${K}`.slice(0,50))}let _i=(()=>{class G extends Qt{value;_optionMap=new Map;_idCounter=0;set compareWith(L){this._compareWith=L}_compareWith=Object.is;writeValue(L){let oe;if(this.value=L,Array.isArray(L)){const Ue=L.map(Pn=>this._getOptionId(Pn));oe=(Pn,dr)=>{Pn._setSelected(Ue.indexOf(dr.toString())>-1)}}else oe=(Ue,Pn)=>{Ue._setSelected(!1)};this._optionMap.forEach(oe)}registerOnChange(L){this.onChange=oe=>{const Ue=[],Pn=oe.selectedOptions;if(void 0!==Pn){const dr=Pn;for(let jr=0;jr<dr.length;jr++){const Ps=this._getOptionValue(dr[jr].value);Ue.push(Ps)}}else{const dr=oe.options;for(let jr=0;jr<dr.length;jr++){const fs=dr[jr];if(fs.selected){const Ps=this._getOptionValue(fs.value);Ue.push(Ps)}}}this.value=Ue,L(Ue)}}_registerOption(L){const oe=(this._idCounter++).toString();return this._optionMap.set(oe,L),oe}_getOptionId(L){for(const oe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(oe)._value,L))return oe;return null}_getOptionValue(L){const oe=function No(G){return G.split(":")[0]}(L);return this._optionMap.has(oe)?this._optionMap.get(oe)._value:L}static \u0275fac=(()=>{let L;return function(Ue){return(L||(L=T.xGo(G)))(Ue||G)}})();static \u0275dir=T.FsC({type:G,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(oe,Ue){1&oe&&T.bIt("change",function(dr){return Ue.onChange(dr.target)})("blur",function(){return Ue.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[T.Jv_([uo]),T.Vt3]})}return G})(),ds=(()=>{class G{_element;_renderer;_select;id;_value;constructor(L,oe,Ue){this._element=L,this._renderer=oe,this._select=Ue,this._select&&(this.id=this._select._registerOption(this))}set ngValue(L){null!=this._select&&(this._value=L,this._setElementValue(fo(this.id,L)),this._select.writeValue(this._select.value))}set value(L){this._select?(this._value=L,this._setElementValue(fo(this.id,L)),this._select.writeValue(this._select.value)):this._setElementValue(L)}_setElementValue(L){this._renderer.setProperty(this._element.nativeElement,"value",L)}_setSelected(L){this._renderer.setProperty(this._element.nativeElement,"selected",L)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(oe){return new(oe||G)(T.rXU(T.aKT),T.rXU(T.sFG),T.rXU(_i,9))};static \u0275dir=T.FsC({type:G,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return G})(),ro=(()=>{class G{_validator=st;_onChange;_enabled;ngOnChanges(L){if(this.inputName in L){const oe=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):st,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}static \u0275fac=function(oe){return new(oe||G)};static \u0275dir=T.FsC({type:G,features:[T.OA$]})}return G})();const hs={provide:kt,useExisting:(0,T.Rfq)(()=>Ys),multi:!0};let Ys=(()=>{class G extends ro{required;inputName="required";normalizeInput=T.L39;createValidator=L=>yr;enabled(L){return L}static \u0275fac=(()=>{let L;return function(Ue){return(L||(L=T.xGo(G)))(Ue||G)}})();static \u0275dir=T.FsC({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,Ue){2&oe&&T.BMQ("required",Ue._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[T.Jv_([hs]),T.Vt3]})}return G})(),It=(()=>{class G{static \u0275fac=function(oe){return new(oe||G)};static \u0275mod=T.$C({type:G});static \u0275inj=T.G2t({})}return G})();class tn extends dt{constructor(K,L,oe){super(cs(L),ss(oe,L)),this.controls=K,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(K){return this.controls[this._adjustIndex(K)]}push(K,L={}){this.controls.push(K),this._registerControl(K),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}insert(K,L,oe={}){this.controls.splice(K,0,L),this._registerControl(L),this.updateValueAndValidity({emitEvent:oe.emitEvent})}removeAt(K,L={}){let oe=this._adjustIndex(K);oe<0&&(oe=0),this.controls[oe]&&this.controls[oe]._registerOnCollectionChange(()=>{}),this.controls.splice(oe,1),this.updateValueAndValidity({emitEvent:L.emitEvent})}setControl(K,L,oe={}){let Ue=this._adjustIndex(K);Ue<0&&(Ue=0),this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),this.controls.splice(Ue,1),L&&(this.controls.splice(Ue,0,L),this._registerControl(L)),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(K,L={}){nn(this,0,K),K.forEach((oe,Ue)=>{rt(this,!1,Ue),this.at(Ue).setValue(oe,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(K,L={}){null!=K&&(K.forEach((oe,Ue)=>{this.at(Ue)&&this.at(Ue).patchValue(oe,{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(K=[],L={}){this._forEachChild((oe,Ue)=>{oe.reset(K[Ue],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L,this),this._updateTouched(L,this),this.updateValueAndValidity(L)}getRawValue(){return this.controls.map(K=>K.getRawValue())}clear(K={}){this.controls.length<1||(this._forEachChild(L=>L._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:K.emitEvent}))}_adjustIndex(K){return K<0?K+this.length:K}_syncPendingControls(){let K=this.controls.reduce((L,oe)=>!!oe._syncPendingControls()||L,!1);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){this.controls.forEach((L,oe)=>{K(L,oe)})}_updateValue(){this.value=this.controls.filter(K=>K.enabled||this.disabled).map(K=>K.value)}_anyControls(K){return this.controls.some(L=>L.enabled&&K(L))}_setUpControls(){this._forEachChild(K=>this._registerControl(K))}_allControlsDisabled(){for(const K of this.controls)if(K.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(K){K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)}_find(K){return this.at(K)??null}}function zn(G){return!!G&&(void 0!==G.asyncValidators||void 0!==G.validators||void 0!==G.updateOn)}let Ur=(()=>{class G{useNonNullable=!1;get nonNullable(){const L=new G;return L.useNonNullable=!0,L}group(L,oe=null){const Ue=this._reduceControls(L);let Pn={};return zn(oe)?Pn=oe:null!==oe&&(Pn.validators=oe.validator,Pn.asyncValidators=oe.asyncValidator),new yn(Ue,Pn)}record(L,oe=null){const Ue=this._reduceControls(L);return new Ee(Ue,oe)}control(L,oe,Ue){let Pn={};return this.useNonNullable?(zn(oe)?Pn=oe:(Pn.validators=oe,Pn.asyncValidators=Ue),new Is(L,{...Pn,nonNullable:!0})):new Is(L,oe,Ue)}array(L,oe,Ue){const Pn=L.map(dr=>this._createControl(dr));return new tn(Pn,oe,Ue)}_reduceControls(L){const oe={};return Object.keys(L).forEach(Ue=>{oe[Ue]=this._createControl(L[Ue])}),oe}_createControl(L){return L instanceof Is||L instanceof dt?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}static \u0275fac=function(oe){return new(oe||G)};static \u0275prov=T.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})(),Ki=(()=>{class G{static withConfig(L){return{ngModule:G,providers:[{provide:mt,useValue:L.callSetDisabledState??Bt}]}}static \u0275fac=function(oe){return new(oe||G)};static \u0275mod=T.$C({type:G});static \u0275inj=T.G2t({imports:[It]})}return G})(),_s=(()=>{class G{static withConfig(L){return{ngModule:G,providers:[{provide:mn,useValue:L.warnOnNgModelWithFormControl??"always"},{provide:mt,useValue:L.callSetDisabledState??Bt}]}}static \u0275fac=function(oe){return new(oe||G)};static \u0275mod=T.$C({type:G});static \u0275inj=T.G2t({imports:[It]})}return G})()},4360:(qn,ot,Q)=>{"use strict";Q.d(ot,{_:()=>z});var T=Q(7707);function z(A,We,pt,Oe,Le){return new le(A,We,pt,Oe,Le)}class le extends T.vU{constructor(We,pt,Oe,Le,at,Ve){super(We),this.onFinalize=at,this.shouldUnsubscribe=Ve,this._next=pt?function(Fe){try{pt(Fe)}catch(At){We.error(At)}}:super._next,this._error=Le?function(Fe){try{Le(Fe)}catch(At){We.error(At)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(Fe){We.error(Fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var We;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pt}=this;super.unsubscribe(),!pt&&(null===(We=this.onFinalize)||void 0===We||We.call(this))}}}},4412:(qn,ot,Q)=>{"use strict";Q.d(ot,{t:()=>z});var T=Q(1413);class z extends T.B{constructor(A){super(),this._value=A}get value(){return this.getValue()}_subscribe(A){const We=super._subscribe(A);return!We.closed&&A.next(this._value),We}getValue(){const{hasError:A,thrownError:We,_value:pt}=this;if(A)throw We;return this._throwIfClosed(),pt}next(A){super.next(this._value=A)}}},4572:(qn,ot,Q)=>{"use strict";Q.d(ot,{z:()=>Ve});var T=Q(1985),z=Q(3073),le=Q(8455),A=Q(3669),We=Q(6450),pt=Q(9326),Oe=Q(8496),Le=Q(4360),at=Q(5225);function Ve(...yt){const Ct=(0,pt.lI)(yt),Qt=(0,pt.ms)(yt),{args:Zt,keys:un}=(0,z.D)(yt);if(0===Zt.length)return(0,le.H)([],Ct);const In=new T.c(function Fe(yt,Ct,Qt=A.D){return Zt=>{At(Ct,()=>{const{length:un}=yt,In=new Array(un);let Ut=un,Gt=un;for(let Kt=0;Kt<un;Kt++)At(Ct,()=>{const Qe=(0,le.H)(yt[Kt],Ct);let vt=!1;Qe.subscribe((0,Le._)(Zt,ht=>{In[Kt]=ht,vt||(vt=!0,Gt--),Gt||Zt.next(Qt(In.slice()))},()=>{--Ut||Zt.complete()}))},Zt)},Zt)}}(Zt,Ct,un?Ut=>(0,Oe.e)(un,Ut):A.D));return Qt?In.pipe((0,We.I)(Qt)):In}function At(yt,Ct,Qt){yt?(0,at.N)(Qt,yt,Ct):Ct()}},4761:(qn,ot,Q)=>{"use strict";Q.d(ot,{l:()=>z});const z=function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4796:(qn,ot,Q)=>{"use strict";Q.d(ot,{u:()=>A});var T=Q(6335),z=Q(5964),le=Q(1360);let A=(()=>{class We{auth;constructor(Oe){this.auth=Oe,console.log("%c<<< Start AUTH service >>>","background: #cff4fc; color: #055160; padding: 2px 5px;")}getAuthState(){return console.log("\u{1f441} Observando el estado de autenticaci\xf3n..."),(0,T.wh)(this.auth)}getCurrentUser(){return this.getAuthState().pipe((0,z.p)(Oe=>!!Oe))}login(Oe,Le){return console.log("\u{1f510} Intentando iniciar sesi\xf3n con:",Oe),(0,T.x9)(this.auth,Oe,Le)}register(Oe,Le){return console.log("\u{1f4dd} Registrando nuevo usuario con:",Oe),(0,T.eJ)(this.auth,Oe,Le)}logout(){return console.log("\u{1f6aa} Cerrando sesi\xf3n del usuario actual"),(0,T.CI)(this.auth)}resetPassword(Oe){return console.log("\u{1f4e7} Enviando enlace de recuperaci\xf3n a:",Oe),(0,T.J1)(this.auth,Oe)}static \u0275fac=function(Le){return new(Le||We)(le.KVO(T.Nj))};static \u0275prov=le.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})()},4843:(qn,ot,Q)=>{"use strict";Q.d(ot,{_:()=>le});var T=Q(9350),z=Q(7707);function le(A,We){const pt="object"==typeof We;return new Promise((Oe,Le)=>{const at=new z.Ms({next:Ve=>{Oe(Ve),at.unsubscribe()},error:Le,complete:()=>{pt?Oe(We.defaultValue):Le(new T.G)}});A.subscribe(at)})}},5055:(qn,ot,Q)=>{"use strict";Q.d(ot,{l:()=>le});var T=Q(3494),z=Q(8071);function le(A){return(0,z.T)(A[T.s])}},5196:(qn,ot,Q)=>{"use strict";Q.d(ot,{C:()=>le,U:()=>A});var T=Q(1635),z=Q(8071);function le(We){return(0,T.AQ)(this,arguments,function*(){const Oe=We.getReader();try{for(;;){const{value:Le,done:at}=yield(0,T.N3)(Oe.read());if(at)return yield(0,T.N3)(void 0);yield yield(0,T.N3)(Le)}}finally{Oe.releaseLock()}})}function A(We){return(0,z.T)(We?.getReader)}},5207:(qn,ot,Q)=>{"use strict";Q.d(ot,{Wk:()=>ir,iI:()=>bi,lh:()=>an});var T=Q(6048),z=Q(1360),le=Q(9361);let pt=(()=>{class we{static \u0275prov=(0,z.jDH)({token:we,providedIn:"root",factory:()=>new Oe((0,z.WQX)(le.q),window)})}return we})();class Oe{document;window;offset=()=>[0,0];constructor(_t,Ye){this.document=_t,this.window=Ye}setOffset(_t){this.offset=Array.isArray(_t)?()=>_t:_t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(_t){this.window.scrollTo(_t[0],_t[1])}scrollToAnchor(_t){const Ye=function Le(we,_t){const Ye=we.getElementById(_t)||we.getElementsByName(_t)[0];if(Ye)return Ye;if("function"==typeof we.createTreeWalker&&we.body&&"function"==typeof we.body.attachShadow){const St=we.createTreeWalker(we.body,NodeFilter.SHOW_ELEMENT);let mn=St.currentNode;for(;mn;){const Un=mn.shadowRoot;if(Un){const pr=Un.getElementById(_t)||Un.querySelector(`[name="${_t}"]`);if(pr)return pr}mn=St.nextNode()}}return null}(this.document,_t);Ye&&(this.scrollToElement(Ye),Ye.focus())}setHistoryScrollRestoration(_t){this.window.history.scrollRestoration=_t}scrollToElement(_t){const Ye=_t.getBoundingClientRect(),St=Ye.left+this.window.pageXOffset,mn=Ye.top+this.window.pageYOffset,Un=this.offset();this.window.scrollTo(St-Un[0],mn-Un[1])}}var Bt=Q(2881),ve=Q(6895),Pe=Q(1413),tt=Q(7673),qt=Q(8455),Vt=Q(6365),Mt=Q(5964),en=Q(274),Tn=Q(1397);let ir=(()=>{class we{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Pe.B;constructor(Ye,St,mn,Un,pr,xs){this.router=Ye,this.route=St,this.tabIndexAttribute=mn,this.renderer=Un,this.el=pr,this.locationStrategy=xs;const Ns=pr.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ns||"area"===Ns,this.isAnchorElement?this.subscription=Ye.events.subscribe(la=>{la instanceof ve.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(Ye){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Ye)}ngOnChanges(Ye){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(Ye){null==Ye?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,ve.wO)(Ye)||Array.isArray(Ye)?Ye:[Ye],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Ye,St,mn,Un,pr){const xs=this.urlTree;return!!(null===xs||this.isAnchorElement&&(0!==Ye||St||mn||Un||pr||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(xs,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Ye=this.urlTree;this.href=null!==Ye&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Ye)):null;const St=null===this.href?null:(0,z.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",St)}applyAttributeValue(Ye,St){const mn=this.renderer,Un=this.el.nativeElement;null!==St?mn.setAttribute(Un,Ye,St):mn.removeAttribute(Un,Ye)}get urlTree(){return null===this.routerLinkInput?null:(0,ve.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(St){return new(St||we)(z.rXU(ve.Ix),z.rXU(ve.nX),z.kS0("tabindex"),z.rXU(z.sFG),z.rXU(z.aKT),z.rXU(T.hb))};static \u0275dir=z.FsC({type:we,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(St,mn){1&St&&z.bIt("click",function(pr){return mn.onClick(pr.button,pr.ctrlKey,pr.shiftKey,pr.altKey,pr.metaKey)}),2&St&&z.BMQ("target",mn.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",z.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",z.L39],replaceUrl:[2,"replaceUrl","replaceUrl",z.L39],routerLink:"routerLink"},features:[z.OA$]})}return we})();class Mr{}let Ne=(()=>{class we{router;injector;preloadingStrategy;loader;subscription;constructor(Ye,St,mn,Un){this.router=Ye,this.injector=St,this.preloadingStrategy=mn,this.loader=Un}setUpPreloading(){this.subscription=this.router.events.pipe((0,Mt.p)(Ye=>Ye instanceof ve.wF),(0,en.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Ye,St){const mn=[];for(const Un of St){Un.providers&&!Un._injector&&(Un._injector=(0,z.Ol2)(Un.providers,Ye,`Route: ${Un.path}`));const pr=Un._injector??Ye,xs=Un._loadedInjector??pr;(Un.loadChildren&&!Un._loadedRoutes&&void 0===Un.canLoad||Un.loadComponent&&!Un._loadedComponent)&&mn.push(this.preloadConfig(pr,Un)),(Un.children||Un._loadedRoutes)&&mn.push(this.processRoutes(xs,Un.children??Un._loadedRoutes))}return(0,qt.H)(mn).pipe((0,Vt.U)())}preloadConfig(Ye,St){return this.preloadingStrategy.preload(St,()=>{let mn;mn=St.loadChildren&&void 0===St.canLoad?this.loader.loadChildren(Ye,St):(0,tt.of)(null);const Un=mn.pipe((0,Tn.Z)(pr=>null===pr?(0,tt.of)(void 0):(St._loadedRoutes=pr.routes,St._loadedInjector=pr.injector,this.processRoutes(pr.injector??Ye,pr.routes))));if(St.loadComponent&&!St._loadedComponent){const pr=this.loader.loadComponent(St);return(0,qt.H)([Un,pr]).pipe((0,Vt.U)())}return Un})}static \u0275fac=function(St){return new(St||we)(z.KVO(ve.Ix),z.KVO(z.uvJ),z.KVO(Mr),z.KVO(ve.D$))};static \u0275prov=z.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();const Ge=new z.nKC("");let ut=(()=>{class we{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(Ye,St,mn,Un,pr={}){this.urlSerializer=Ye,this.transitions=St,this.viewportScroller=mn,this.zone=Un,this.options=pr,pr.scrollPositionRestoration||="disabled",pr.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Ye=>{Ye instanceof ve.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Ye.navigationTrigger,this.restoredId=Ye.restoredState?Ye.restoredState.navigationId:0):Ye instanceof ve.wF?(this.lastId=Ye.id,this.scheduleScrollEvent(Ye,this.urlSerializer.parse(Ye.urlAfterRedirects).fragment)):Ye instanceof ve.lW&&Ye.code===ve.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Ye,this.urlSerializer.parse(Ye.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Ye=>{Ye instanceof ve.OY&&(Ye.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Ye.position):Ye.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Ye.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Ye,St){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ve.OY(Ye,"popstate"===this.lastSource?this.store[this.restoredId]:null,St))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(St){z.QTQ()};static \u0275prov=z.jDH({token:we,factory:we.\u0275fac})}return we})();function an(we,..._t){return(0,z.EmA)([{provide:ve.bw,multi:!0,useValue:we},[],{provide:ve.nX,useFactory:dn,deps:[ve.Ix]},{provide:z.iLQ,multi:!0,useFactory:Oo},_t.map(Ye=>Ye.\u0275providers)])}function dn(we){return we.routerState.root}function Ln(we,_t){return{\u0275kind:we,\u0275providers:_t}}function Oo(){const we=(0,z.WQX)(z.zZn);return _t=>{const Ye=we.get(z.o8S);if(_t!==Ye.components[0])return;const St=we.get(ve.Ix),mn=we.get(Ni);1===we.get(Os)&&St.initialNavigation(),we.get(Z,null,z.$GK.Optional)?.setUpPreloading(),we.get(Ge,null,z.$GK.Optional)?.init(),St.resetRootComponentType(Ye.componentTypes[0]),mn.closed||(mn.next(),mn.complete(),mn.unsubscribe())}}const Ni=new z.nKC("",{factory:()=>new Pe.B}),Os=new z.nKC("",{providedIn:"root",factory:()=>1}),Z=new z.nKC("");function Se(we){return Ln(0,[{provide:Z,useExisting:Ne},{provide:Mr,useExisting:we}])}function xn(we){return(0,z.ngT)("NgRouterViewTransitions"),Ln(9,[{provide:ve.Pu,useValue:ve.Lg},{provide:ve.bK,useValue:{skipNextTransition:!!we?.skipInitialTransition,...we}}])}const Ai=[T.aZ,{provide:ve.Sd,useClass:ve.nU},ve.Ix,ve.Zp,{provide:ve.nX,useFactory:dn,deps:[ve.Ix]},ve.D$,[]];let bi=(()=>{class we{constructor(){}static forRoot(Ye,St){return{ngModule:we,providers:[Ai,[],{provide:ve.bw,multi:!0,useValue:Ye},[],St?.errorHandler?{provide:ve.XR,useValue:St.errorHandler}:[],{provide:ve.J_,useValue:St||{}},St?.useHash?{provide:T.hb,useClass:Bt.fw}:{provide:T.hb,useClass:T.Sm},{provide:Ge,useFactory:()=>{const we=(0,z.WQX)(pt),_t=(0,z.WQX)(z.SKi),Ye=(0,z.WQX)(ve.J_),St=(0,z.WQX)(ve.J2),mn=(0,z.WQX)(ve.Sd);return Ye.scrollOffset&&we.setOffset(Ye.scrollOffset),new ut(mn,St,we,_t,Ye)}},St?.preloadingStrategy?Se(St.preloadingStrategy).\u0275providers:[],St?.initialNavigation?Fi(St):[],St?.bindToComponentInputs?Ln(8,[ve.tD,{provide:ve.c1,useExisting:ve.tD}]).\u0275providers:[],St?.enableViewTransitions?xn().\u0275providers:[],[{provide:Rs,useFactory:Oo},{provide:z.iLQ,multi:!0,useExisting:Rs}]]}}static forChild(Ye){return{ngModule:we,providers:[{provide:ve.bw,multi:!0,useValue:Ye}]}}static \u0275fac=function(St){return new(St||we)};static \u0275mod=z.$C({type:we});static \u0275inj=z.G2t({})}return we})();function Fi(we){return["disabled"===we.initialNavigation?Ln(3,[(0,z.phd)(()=>{(0,z.WQX)(ve.Ix).setUpLocationChangeListener()}),{provide:Os,useValue:2}]).\u0275providers:[],"enabledBlocking"===we.initialNavigation?Ln(2,[{provide:Os,useValue:0},(0,z.phd)(()=>{const _t=(0,z.WQX)(z.zZn);return _t.get(T.hj,Promise.resolve()).then(()=>new Promise(St=>{const mn=_t.get(ve.Ix),Un=_t.get(Ni);(0,ve.gk)(mn,()=>{St(!0)}),_t.get(ve.J2).afterPreactivation=()=>(St(!0),Un.closed?(0,tt.of)(void 0):Un),mn.initialNavigation()}))})]).\u0275providers:[]]}const Rs=new z.nKC("")},5225:(qn,ot,Q)=>{"use strict";function T(z,le,A,We=0,pt=!1){const Oe=le.schedule(function(){A(),pt?z.add(this.schedule(null,We)):this.unsubscribe()},We);if(z.add(Oe),!pt)return Oe}Q.d(ot,{N:()=>T})},5334:(qn,ot,Q)=>{"use strict";Q.d(ot,{m:()=>le});var T=Q(1026),z=Q(9270);function le(A){z.f.setTimeout(()=>{const{onUnhandledError:We}=T.$;if(!We)throw A;We(A)})}},5343:(qn,ot,Q)=>{"use strict";function T(){}Q.d(ot,{l:()=>T})},5397:(qn,ot,Q)=>{"use strict";Q.d(ot,{x:()=>le});var T=Q(4761),z=Q(8071);function le(A){return(0,z.T)(A?.[T.l])}},5558:(qn,ot,Q)=>{"use strict";Q.d(ot,{n:()=>A});var T=Q(8750),z=Q(9974),le=Q(4360);function A(We,pt){return(0,z.N)((Oe,Le)=>{let at=null,Ve=0,Fe=!1;const At=()=>Fe&&!at&&Le.complete();Oe.subscribe((0,le._)(Le,yt=>{at?.unsubscribe();let Ct=0;const Qt=Ve++;(0,T.Tg)(We(yt,Qt)).subscribe(at=(0,le._)(Le,Zt=>Le.next(pt?pt(yt,Zt,Qt,Ct++):Zt),()=>{at=null,At()}))},()=>{Fe=!0,At()}))})}},5794:(qn,ot,Q)=>{"use strict";Q.d(ot,{DP:()=>Ot,tw:()=>yr});var T=Q(1360),z=Q(969),le=Q(9361),A=Q(2881),We=Q(1413),pt=Q(345);const Oe=["toast-component",""];function Le(De,xe){if(1&De){const me=T.RV6();T.j41(0,"button",5),T.bIt("click",function(){T.eBV(me);const ft=T.XpG();return T.Njj(ft.remove())}),T.j41(1,"span",6),T.EFF(2,"\xd7"),T.k0s()()}}function at(De,xe){if(1&De&&(T.qex(0),T.EFF(1),T.bVm()),2&De){const me=T.XpG(2);T.R7$(),T.SpI("[",me.duplicatesCount+1,"]")}}function Ve(De,xe){if(1&De&&(T.j41(0,"div"),T.EFF(1),T.DNE(2,at,2,1,"ng-container",4),T.k0s()),2&De){const me=T.XpG();T.HbH(me.options.titleClass),T.BMQ("aria-label",me.title),T.R7$(),T.SpI(" ",me.title," "),T.R7$(),T.Y8G("ngIf",me.duplicatesCount)}}function Fe(De,xe){if(1&De&&T.nrm(0,"div",7),2&De){const me=T.XpG();T.HbH(me.options.messageClass),T.Y8G("innerHTML",me.message,T.npT)}}function At(De,xe){if(1&De&&(T.j41(0,"div",8),T.EFF(1),T.k0s()),2&De){const me=T.XpG();T.HbH(me.options.messageClass),T.BMQ("aria-label",me.message),T.R7$(),T.SpI(" ",me.message," ")}}function yt(De,xe){if(1&De&&(T.j41(0,"div"),T.nrm(1,"div",9),T.k0s()),2&De){const me=T.XpG();T.R7$(),T.xc7("width",me.width()+"%")}}class Kt{_attachedHost;component;viewContainerRef;injector;constructor(xe,me){this.component=xe,this.injector=me}attach(xe,me){return this._attachedHost=xe,xe.attach(this,me)}detach(){const xe=this._attachedHost;if(xe)return this._attachedHost=void 0,xe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(xe){this._attachedHost=xe}}class Qe{_attachedPortal;_disposeFn;attach(xe,me){return this._attachedPortal=xe,this.attachComponentPortal(xe,me)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(xe){this._disposeFn=xe}}class vt{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new We.B;_activate=new We.B;_manualClose=new We.B;_resetTimeout=new We.B;_countDuplicate=new We.B;constructor(xe){this._overlayRef=xe}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(xe,me){xe&&this._resetTimeout.next(),me&&this._countDuplicate.next(++this.duplicatesCount)}}class ht{toastId;config;message;title;toastType;toastRef;_onTap=new We.B;_onAction=new We.B;constructor(xe,me,Re,ft,jt,Rn){this.toastId=xe,this.config=me,this.message=Re,this.title=ft,this.toastType=jt,this.toastRef=Rn,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(xe){this._onAction.next(xe)}onAction(){return this._onAction.asObservable()}}const hn=new T.nKC("ToastConfig");class xt extends Qe{_hostDomElement;_componentFactoryResolver;_appRef;constructor(xe,me,Re){super(),this._hostDomElement=xe,this._componentFactoryResolver=me,this._appRef=Re}attachComponentPortal(xe,me){const Re=this._componentFactoryResolver.resolveComponentFactory(xe.component);let ft;return ft=Re.create(xe.injector),this._appRef.attachView(ft.hostView),this.setDisposeFn(()=>{this._appRef.detachView(ft.hostView),ft.destroy()}),me?this._hostDomElement.insertBefore(this._getComponentRootNode(ft),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(ft)),ft}_getComponentRootNode(xe){return xe.hostView.rootNodes[0]}}let Pt=(()=>{class De{_document=(0,T.WQX)(le.q);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const me=this._document.createElement("div");me.classList.add("overlay-container"),me.setAttribute("aria-live","polite"),this._document.body.appendChild(me),this._containerElement=me}static \u0275fac=function(Re){return new(Re||De)};static \u0275prov=T.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})();class lr{_portalHost;constructor(xe){this._portalHost=xe}attach(xe,me=!0){return this._portalHost.attach(xe,me)}detach(){return this._portalHost.detach()}}let hr=(()=>{class De{_overlayContainer=(0,T.WQX)(Pt);_componentFactoryResolver=(0,T.WQX)(T.OM3);_appRef=(0,T.WQX)(T.o8S);_document=(0,T.WQX)(le.q);_paneElements=new Map;create(me,Re){return this._createOverlayRef(this.getPaneElement(me,Re))}getPaneElement(me="",Re){return this._paneElements.get(Re)||this._paneElements.set(Re,{}),this._paneElements.get(Re)[me]||(this._paneElements.get(Re)[me]=this._createPaneElement(me,Re)),this._paneElements.get(Re)[me]}_createPaneElement(me,Re){const ft=this._document.createElement("div");return ft.id="toast-container",ft.classList.add(me),ft.classList.add("toast-container"),Re?Re.getContainerElement().appendChild(ft):this._overlayContainer.getContainerElement().appendChild(ft),ft}_createPortalHost(me){return new xt(me,this._componentFactoryResolver,this._appRef)}_createOverlayRef(me){return new lr(this._createPortalHost(me))}static \u0275fac=function(Re){return new(Re||De)};static \u0275prov=T.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),yr=(()=>{class De{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(me,Re,ft,jt,Rn){this.overlay=Re,this._injector=ft,this.sanitizer=jt,this.ngZone=Rn,this.toastrConfig={...me.default,...me.config},me.config.iconClasses&&(this.toastrConfig.iconClasses={...me.default.iconClasses,...me.config.iconClasses})}show(me,Re,ft={},jt=""){return this._preBuildNotification(jt,me,Re,this.applyConfig(ft))}success(me,Re,ft={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",me,Re,this.applyConfig(ft))}error(me,Re,ft={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",me,Re,this.applyConfig(ft))}info(me,Re,ft={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",me,Re,this.applyConfig(ft))}warning(me,Re,ft={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",me,Re,this.applyConfig(ft))}clear(me){for(const Re of this.toasts)if(void 0!==me){if(Re.toastId===me)return void Re.toastRef.manualClose()}else Re.toastRef.manualClose()}remove(me){const Re=this._findToast(me);if(!Re||(Re.activeToast.toastRef.close(),this.toasts.splice(Re.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const ft=this.toasts[this.currentlyActive].toastRef;ft.isInactive()||(this.currentlyActive=this.currentlyActive+1,ft.activate())}return!0}findDuplicate(me="",Re="",ft,jt){const{includeTitleDuplicates:Rn}=this.toastrConfig;for(const En of this.toasts)if((!Rn||Rn&&En.title===me)&&En.message===Re)return En.toastRef.onDuplicate(ft,jt),En;return null}applyConfig(me={}){return{...this.toastrConfig,...me}}_findToast(me){for(let Re=0;Re<this.toasts.length;Re++)if(this.toasts[Re].toastId===me)return{index:Re,activeToast:this.toasts[Re]};return null}_preBuildNotification(me,Re,ft,jt){return jt.onActivateTick?this.ngZone.run(()=>this._buildNotification(me,Re,ft,jt)):this._buildNotification(me,Re,ft,jt)}_buildNotification(me,Re,ft,jt){if(!jt.toastComponent)throw new Error("toastComponent required");const Rn=this.findDuplicate(ft,Re,this.toastrConfig.resetTimeoutOnDuplicate&&jt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&ft||Re)&&this.toastrConfig.preventDuplicates&&null!==Rn)return Rn;this.previousToastMessage=Re;let En=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(En=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Dr=this.overlay.create(jt.positionClass,this.overlayContainer);this.index=this.index+1;let Xt=Re;Re&&jt.enableHtml&&(Xt=this.sanitizer.sanitize(T.WPN.HTML,Re));const gr=new vt(Dr),mr=new ht(this.index,jt,Xt,ft,me,gr),ar=T.zZn.create({providers:[{provide:ht,useValue:mr}],parent:this._injector}),Ar=new Kt(jt.toastComponent,ar),Lr=Dr.attach(Ar,jt.newestOnTop);gr.componentInstance=Lr.instance;const kr={toastId:this.index,title:ft||"",message:Re||"",toastRef:gr,onShown:gr.afterActivate(),onHidden:gr.afterClosed(),onTap:mr.onTap(),onAction:mr.onAction(),portal:Lr};return En||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{kr.toastRef.activate()})),this.toasts.push(kr),kr}static \u0275fac=function(Re){return new(Re||De)(T.KVO(hn),T.KVO(hr),T.KVO(T.zZn),T.KVO(pt.up),T.KVO(T.SKi))};static \u0275prov=T.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})();const Wn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class De{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=(0,T.vPA)(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(me,Re,ft){this.toastrService=me,this.toastPackage=Re,this.ngZone=ft,this.message=Re.message,this.title=Re.title,this.options=Re.config,this.originalTimeout=Re.config.timeOut,this.toastClasses=`${Re.toastType} ${Re.config.toastClass}`,this.sub=Re.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Re.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Re.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Re.toastRef.countDuplicate().subscribe(jt=>{this.duplicatesCount=jt}),this.state=(0,T.vPA)({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(me=>({...me,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const me=(new Date).getTime();this.width.set((this.hideTime-me)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(ft=>100-ft),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(me=>({...me,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(me=>({...me,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(me,Re){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(me),Re)):this.timeout=setTimeout(()=>me(),Re)}outsideInterval(me,Re){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(me),Re)):this.intervalId=setInterval(()=>me(),Re)}runInsideAngular(me){this.ngZone?this.ngZone.run(()=>me()):me()}static \u0275fac=function(Re){return new(Re||De)(T.rXU(yr),T.rXU(ht),T.rXU(T.SKi))};static \u0275cmp=T.VBU({type:De,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Re,ft){1&Re&&T.bIt("click",function(){return ft.tapToast()})("mouseenter",function(){return ft.stickAround()})("mouseleave",function(){return ft.delayedHideToast()}),2&Re&&(T.zvX("@flyInOut",ft._state),T.HbH(ft.toastClasses),T.xc7("display",ft.displayStyle))},attrs:Oe,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Re,ft){1&Re&&T.DNE(0,Le,3,0,"button",0)(1,Ve,3,5,"div",1)(2,Fe,1,3,"div",2)(3,At,2,4,"div",3)(4,yt,2,2,"div",4),2&Re&&(T.Y8G("ngIf",ft.options.closeButton),T.R7$(),T.Y8G("ngIf",ft.title),T.R7$(),T.Y8G("ngIf",ft.message&&ft.options.enableHtml),T.R7$(),T.Y8G("ngIf",ft.message&&!ft.options.enableHtml),T.R7$(),T.Y8G("ngIf",ft.options.progressBar))},dependencies:[A.bT],encapsulation:2,data:{animation:[(0,z.hZ)("flyInOut",[(0,z.wk)("inactive",(0,z.iF)({opacity:0})),(0,z.wk)("active",(0,z.iF)({opacity:1})),(0,z.wk)("removed",(0,z.iF)({opacity:0})),(0,z.kY)("inactive => active",(0,z.i0)("{{ easeTime }}ms {{ easing }}")),(0,z.kY)("active => removed",(0,z.i0)("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return De})()},Ot=(De={})=>(0,T.EmA)([{provide:hn,useValue:{default:Wn,config:De}}])},5964:(qn,ot,Q)=>{"use strict";Q.d(ot,{p:()=>le});var T=Q(9974),z=Q(4360);function le(A,We){return(0,T.N)((pt,Oe)=>{let Le=0;pt.subscribe((0,z._)(Oe,at=>A.call(We,at,Le++)&&Oe.next(at)))})}},6048:(qn,ot,Q)=>{"use strict";Q.d(ot,{Q:()=>yt,Sm:()=>Zt,Vw:()=>Le,aZ:()=>un,hb:()=>Ct,hj:()=>at,ig:()=>pt,kB:()=>Qt,om:()=>Fe,qj:()=>Oe,rb:()=>We});var T=Q(1360),z=Q(1413),le=Q(9361);let A=null;function We(){return A}function pt(Qe){A??=Qe}class Oe{}let Le=(()=>{class Qe{historyGo(ht){throw new Error("")}static \u0275fac=function(kt){return new(kt||Qe)};static \u0275prov=T.jDH({token:Qe,factory:()=>(0,T.WQX)(Ve),providedIn:"platform"})}return Qe})();const at=new T.nKC("");let Ve=(()=>{class Qe extends Le{_location;_history;_doc=(0,T.WQX)(le.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return We().getBaseHref(this._doc)}onPopState(ht){const kt=We().getGlobalEventTarget(this._doc,"window");return kt.addEventListener("popstate",ht,!1),()=>kt.removeEventListener("popstate",ht)}onHashChange(ht){const kt=We().getGlobalEventTarget(this._doc,"window");return kt.addEventListener("hashchange",ht,!1),()=>kt.removeEventListener("hashchange",ht)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ht){this._location.pathname=ht}pushState(ht,kt,hn){this._history.pushState(ht,kt,hn)}replaceState(ht,kt,hn){this._history.replaceState(ht,kt,hn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(ht=0){this._history.go(ht)}getState(){return this._history.state}static \u0275fac=function(kt){return new(kt||Qe)};static \u0275prov=T.jDH({token:Qe,factory:()=>new Qe,providedIn:"platform"})}return Qe})();function Fe(Qe,vt){return Qe?vt?Qe.endsWith("/")?vt.startsWith("/")?Qe+vt.slice(1):Qe+vt:vt.startsWith("/")?Qe+vt:`${Qe}/${vt}`:Qe:vt}function At(Qe){const vt=Qe.search(/#|\?|$/);return"/"===Qe[vt-1]?Qe.slice(0,vt-1)+Qe.slice(vt):Qe}function yt(Qe){return Qe&&"?"!==Qe[0]?`?${Qe}`:Qe}let Ct=(()=>{class Qe{historyGo(ht){throw new Error("")}static \u0275fac=function(kt){return new(kt||Qe)};static \u0275prov=T.jDH({token:Qe,factory:()=>(0,T.WQX)(Zt),providedIn:"root"})}return Qe})();const Qt=new T.nKC("");let Zt=(()=>{class Qe extends Ct{_platformLocation;_baseHref;_removeListenerFns=[];constructor(ht,kt){super(),this._platformLocation=ht,this._baseHref=kt??this._platformLocation.getBaseHrefFromDOM()??(0,T.WQX)(le.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ht){this._removeListenerFns.push(this._platformLocation.onPopState(ht),this._platformLocation.onHashChange(ht))}getBaseHref(){return this._baseHref}prepareExternalUrl(ht){return Fe(this._baseHref,ht)}path(ht=!1){const kt=this._platformLocation.pathname+yt(this._platformLocation.search),hn=this._platformLocation.hash;return hn&&ht?`${kt}${hn}`:kt}pushState(ht,kt,hn,xt){const Pt=this.prepareExternalUrl(hn+yt(xt));this._platformLocation.pushState(ht,kt,Pt)}replaceState(ht,kt,hn,xt){const Pt=this.prepareExternalUrl(hn+yt(xt));this._platformLocation.replaceState(ht,kt,Pt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ht=0){this._platformLocation.historyGo?.(ht)}static \u0275fac=function(kt){return new(kt||Qe)(T.KVO(Le),T.KVO(Qt,8))};static \u0275prov=T.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}return Qe})(),un=(()=>{class Qe{_subject=new z.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(ht){this._locationStrategy=ht;const kt=this._locationStrategy.getBaseHref();this._basePath=function Kt(Qe){if(new RegExp("^(https?:)?//").test(Qe)){const[,ht]=Qe.split(/\/\/[^\/]+/);return ht}return Qe}(At(Gt(kt))),this._locationStrategy.onPopState(hn=>{this._subject.next({url:this.path(!0),pop:!0,state:hn.state,type:hn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ht=!1){return this.normalize(this._locationStrategy.path(ht))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ht,kt=""){return this.path()==this.normalize(ht+yt(kt))}normalize(ht){return Qe.stripTrailingSlash(function Ut(Qe,vt){if(!Qe||!vt.startsWith(Qe))return vt;const ht=vt.substring(Qe.length);return""===ht||["/",";","?","#"].includes(ht[0])?ht:vt}(this._basePath,Gt(ht)))}prepareExternalUrl(ht){return ht&&"/"!==ht[0]&&(ht="/"+ht),this._locationStrategy.prepareExternalUrl(ht)}go(ht,kt="",hn=null){this._locationStrategy.pushState(hn,"",ht,kt),this._notifyUrlChangeListeners(this.prepareExternalUrl(ht+yt(kt)),hn)}replaceState(ht,kt="",hn=null){this._locationStrategy.replaceState(hn,"",ht,kt),this._notifyUrlChangeListeners(this.prepareExternalUrl(ht+yt(kt)),hn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ht=0){this._locationStrategy.historyGo?.(ht)}onUrlChange(ht){return this._urlChangeListeners.push(ht),this._urlChangeSubscription??=this.subscribe(kt=>{this._notifyUrlChangeListeners(kt.url,kt.state)}),()=>{const kt=this._urlChangeListeners.indexOf(ht);this._urlChangeListeners.splice(kt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ht="",kt){this._urlChangeListeners.forEach(hn=>hn(ht,kt))}subscribe(ht,kt,hn){return this._subject.subscribe({next:ht,error:kt??void 0,complete:hn??void 0})}static normalizeQueryParams=yt;static joinWithSlash=Fe;static stripTrailingSlash=At;static \u0275fac=function(kt){return new(kt||Qe)(T.KVO(Ct))};static \u0275prov=T.jDH({token:Qe,factory:()=>function In(){return new un((0,T.KVO)(Ct))}(),providedIn:"root"})}return Qe})();function Gt(Qe){return Qe.replace(/\/index.html$/,"")}},6335:(qn,ot,Q)=>{"use strict";Q.d(ot,{Nj:()=>At,DF:()=>yt,wh:()=>Qe,eJ:()=>hr,xI:()=>Ot,hg:()=>Rn,_q:()=>Kt,J1:()=>kr,x9:()=>Ss,CI:()=>wn});var T=Q(2967),z=Q(1360),le=Q(7440),A=Q(4125),We=Q(2214),pt=Q(520),Oe=Q(1985);function Le(Vr){return new Oe.c(function(Zn){return{unsubscribe:(0,pt.hg)(Vr,Zn.next.bind(Zn),Zn.error.bind(Zn),Zn.complete.bind(Zn))}})}class At{constructor(Zn){return Zn}}class yt{constructor(){return(0,T.CA)("auth")}}const Qt=new z.nKC("angularfire2.auth-instances");function un(Vr){return(Zn,Yi)=>{const ti=Zn.runOutsideAngular(()=>Vr(Yi));return new At(ti)}}const In={provide:yt,deps:[[new z.Xx1,Qt]]},Ut={provide:At,useFactory:function Zt(Vr,Zn){const Yi=(0,T.lR)("auth",Vr,Zn);return Yi&&new At(Yi)},deps:[[new z.Xx1,Qt],le.XU]};function Kt(Vr,...Zn){return(0,We.KO)("angularfire",T.xv.full,"auth"),(0,z.EmA)([Ut,In,{provide:Qt,useFactory:un(Vr),multi:!0,deps:[z.SKi,z.zZn,T.u0,le.gL,[new z.Xx1,A.kR],...Zn]}])}const Qe=(0,T.S3)(Le,!0),hr=(0,T.S3)(pt.eJ,!0,2),Ot=(0,T.S3)(pt.xI,!0),Rn=(0,T.S3)(pt.hg,!0),kr=(0,T.S3)(pt.J1,!0,2),Ss=(0,T.S3)(pt.x9,!0,2),wn=(0,T.S3)(pt.CI,!0,2)},6354:(qn,ot,Q)=>{"use strict";Q.d(ot,{T:()=>le});var T=Q(9974),z=Q(4360);function le(A,We){return(0,T.N)((pt,Oe)=>{let Le=0;pt.subscribe((0,z._)(Oe,at=>{Oe.next(A.call(We,at,Le++))}))})}},6365:(qn,ot,Q)=>{"use strict";Q.d(ot,{U:()=>le});var T=Q(1397),z=Q(3669);function le(A=1/0){return(0,T.Z)(z.D,A)}},6450:(qn,ot,Q)=>{"use strict";Q.d(ot,{I:()=>A});var T=Q(6354);const{isArray:z}=Array;function A(We){return(0,T.T)(pt=>function le(We,pt){return z(pt)?We(...pt):We(pt)}(We,pt))}},6697:(qn,ot,Q)=>{"use strict";Q.d(ot,{s:()=>A});var T=Q(983),z=Q(9974),le=Q(4360);function A(We){return We<=0?()=>T.w:(0,z.N)((pt,Oe)=>{let Le=0;pt.subscribe((0,le._)(Oe,at=>{++Le<=We&&(Oe.next(at),We<=Le&&Oe.complete())}))})}},6745:(qn,ot,Q)=>{"use strict";Q.d(ot,{_:()=>z});var T=Q(9974);function z(le,A=0){return(0,T.N)((We,pt)=>{pt.add(le.schedule(()=>We.subscribe(pt),A))})}},6780:(qn,ot,Q)=>{"use strict";Q.d(ot,{R:()=>We});var T=Q(8359);class z extends T.yU{constructor(Oe,Le){super()}schedule(Oe,Le=0){return this}}const le={setInterval(pt,Oe,...Le){const{delegate:at}=le;return at?.setInterval?at.setInterval(pt,Oe,...Le):setInterval(pt,Oe,...Le)},clearInterval(pt){const{delegate:Oe}=le;return(Oe?.clearInterval||clearInterval)(pt)},delegate:void 0};var A=Q(7908);class We extends z{constructor(Oe,Le){super(Oe,Le),this.scheduler=Oe,this.work=Le,this.pending=!1}schedule(Oe,Le=0){var at;if(this.closed)return this;this.state=Oe;const Ve=this.id,Fe=this.scheduler;return null!=Ve&&(this.id=this.recycleAsyncId(Fe,Ve,Le)),this.pending=!0,this.delay=Le,this.id=null!==(at=this.id)&&void 0!==at?at:this.requestAsyncId(Fe,this.id,Le),this}requestAsyncId(Oe,Le,at=0){return le.setInterval(Oe.flush.bind(Oe,this),at)}recycleAsyncId(Oe,Le,at=0){if(null!=at&&this.delay===at&&!1===this.pending)return Le;null!=Le&&le.clearInterval(Le)}execute(Oe,Le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const at=this._execute(Oe,Le);if(at)return at;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,Le){let Ve,at=!1;try{this.work(Oe)}catch(Fe){at=!0,Ve=Fe||new Error("Scheduled action threw falsy error")}if(at)return this.unsubscribe(),Ve}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:Le}=this,{actions:at}=Le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,A.o)(at,this),null!=Oe&&(this.id=this.recycleAsyncId(Le,Oe,null)),this.delay=null,super.unsubscribe()}}}},6810:(qn,ot,Q)=>{"use strict";Q.d(ot,{y:()=>Ve});var T=Q(467),z=Q(9967),le=Q(3273),A=Q(4843),We=Q(5558),pt=Q(6354),Oe=Q(1360),Le=Q(6335),at=Q(4796);let Ve=(()=>{class Fe{firestore;auth;authService;constructor(yt,Ct,Qt){this.firestore=yt,this.auth=Ct,this.authService=Qt,console.log("%c<<< Start TODO service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}addTodo(yt){var Ct=this;return(0,T.A)(function*(){const Qt=yield(0,A._)(Ct.authService.getCurrentUser());if(!Qt?.uid)throw new Error("Usuario no autenticado");const Zt=(0,z.rJ)(Ct.firestore,`users/${Qt.uid}/todos`),un=(0,z.H9)(Zt),In=new Date,Ut={...yt,id:un.id,completed:!1,createdAt:In,updatedAt:In};console.log("\u{1f9fe} Creando tarea en:",`users/${Qt.uid}/todos/${un.id}`),console.log("\u{1f4dd} Datos:",Ut),yield(0,z.BN)(un,Ut)})()}getTodos(){return this.authService.getCurrentUser().pipe((0,We.n)(yt=>{const Ct=(0,z.rJ)(this.firestore,`users/${yt.uid}/todos`);return(0,z.xs)(Ct,{idField:"id"})}))}updateTodo(yt,Ct){var Qt=this;return(0,T.A)(function*(){const Zt=yield(0,A._)(Qt.authService.getCurrentUser());if(!Zt?.uid)throw new Error("Usuario no autenticado");const un=(0,z.H9)(Qt.firestore,`users/${Zt.uid}/todos/${yt}`);yield(0,z.mZ)(un,{...Ct,updatedAt:le.Dc.now()})})()}deleteTodo(yt){var Ct=this;return(0,T.A)(function*(){const Qt=yield(0,A._)(Ct.authService.getCurrentUser());if(!Qt?.uid)throw new Error("Usuario no autenticado");const Zt=(0,z.H9)(Ct.firestore,`users/${Qt.uid}/todos/${yt}`);yield(0,z.kd)(Zt)})()}clearAllTodos(){var yt=this;return(0,T.A)(function*(){const Ct=yield(0,A._)(yt.getTodos()),Qt=yield(0,A._)(yt.authService.getCurrentUser());if(!Qt?.uid)throw new Error("Usuario no autenticado");const Zt=Ct.map(un=>(0,z.kd)((0,z.H9)(yt.firestore,`users/${Qt.uid}/todos/${un.id}`)));yield Promise.all(Zt)})()}getPendingTodosCount(){return this.authService.getCurrentUser().pipe((0,We.n)(yt=>{const Ct=(0,z.rJ)(this.firestore,`users/${yt.uid}/todos`),Qt=(0,z.P)(Ct,(0,z._M)("completed","==",!1));return(0,z.xs)(Qt).pipe((0,pt.T)(Zt=>Zt.length))}))}getTodoById(yt){var Ct=this;return(0,T.A)(function*(){const Qt=yield(0,A._)(Ct.authService.getCurrentUser());if(!Qt?.uid)throw new Error("Usuario no autenticado");const Zt=(0,z.H9)(Ct.firestore,`users/${Qt.uid}/todos/${yt}`),un=yield(0,z.x7)(Zt);if(!un.exists())throw new Error("Tarea no encontrada");return un.data()})()}static \u0275fac=function(Ct){return new(Ct||Fe)(Oe.KVO(z._7),Oe.KVO(Le.Nj),Oe.KVO(at.u))};static \u0275prov=Oe.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},6858:(qn,ot,Q)=>{"use strict";Q.d(ot,{cY:()=>kt,FA:()=>Ar,g:()=>ar,K3:()=>Le,u:()=>At,Uj:()=>Fe,Fy:()=>lr,tD:()=>zr,bD:()=>Ci,hp:()=>Kr,T9:()=>vt,Tj:()=>Kt,yU:()=>Qe,XA:()=>ht,mS:()=>Zt,Ku:()=>ss,ZQ:()=>On,sr:()=>xe,zJ:()=>hn,c1:()=>De,Im:()=>vr,lT:()=>ft,zW:()=>Xt,jZ:()=>rn,lV:()=>me,nr:()=>En,Ov:()=>Dr,gE:()=>xt,Am:()=>Hr,I9:()=>ts,P1:()=>Ot,eX:()=>gr});var T=Q(467);const pt=function($e){const Me=[];let rt=0;for(let nn=0;nn<$e.length;nn++){let dt=$e.charCodeAt(nn);dt<128?Me[rt++]=dt:dt<2048?(Me[rt++]=dt>>6|192,Me[rt++]=63&dt|128):55296==(64512&dt)&&nn+1<$e.length&&56320==(64512&$e.charCodeAt(nn+1))?(dt=65536+((1023&dt)<<10)+(1023&$e.charCodeAt(++nn)),Me[rt++]=dt>>18|240,Me[rt++]=dt>>12&63|128,Me[rt++]=dt>>6&63|128,Me[rt++]=63&dt|128):(Me[rt++]=dt>>12|224,Me[rt++]=dt>>6&63|128,Me[rt++]=63&dt|128)}return Me},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($e,Me){if(!Array.isArray($e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const rt=Me?this.byteToCharMapWebSafe_:this.byteToCharMap_,nn=[];for(let dt=0;dt<$e.length;dt+=3){const yn=$e[dt],Qn=dt+1<$e.length,Zr=Qn?$e[dt+1]:0,ge=dt+2<$e.length,Ee=ge?$e[dt+2]:0;let Bt=(15&Zr)<<2|Ee>>6,ve=63&Ee;ge||(ve=64,Qn||(Bt=64)),nn.push(rt[yn>>2],rt[(3&yn)<<4|Zr>>4],rt[Bt],rt[ve])}return nn.join("")},encodeString($e,Me){return this.HAS_NATIVE_SUPPORT&&!Me?btoa($e):this.encodeByteArray(pt($e),Me)},decodeString($e,Me){return this.HAS_NATIVE_SUPPORT&&!Me?atob($e):function($e){const Me=[];let rt=0,nn=0;for(;rt<$e.length;){const dt=$e[rt++];if(dt<128)Me[nn++]=String.fromCharCode(dt);else if(dt>191&&dt<224){const yn=$e[rt++];Me[nn++]=String.fromCharCode((31&dt)<<6|63&yn)}else if(dt>239&&dt<365){const ge=((7&dt)<<18|(63&$e[rt++])<<12|(63&$e[rt++])<<6|63&$e[rt++])-65536;Me[nn++]=String.fromCharCode(55296+(ge>>10)),Me[nn++]=String.fromCharCode(56320+(1023&ge))}else{const yn=$e[rt++],Qn=$e[rt++];Me[nn++]=String.fromCharCode((15&dt)<<12|(63&yn)<<6|63&Qn)}}return Me.join("")}(this.decodeStringToByteArray($e,Me))},decodeStringToByteArray($e,Me){this.init_();const rt=Me?this.charToByteMapWebSafe_:this.charToByteMap_,nn=[];for(let dt=0;dt<$e.length;){const yn=rt[$e.charAt(dt++)],Zr=dt<$e.length?rt[$e.charAt(dt)]:0;++dt;const Ee=dt<$e.length?rt[$e.charAt(dt)]:64;++dt;const mt=dt<$e.length?rt[$e.charAt(dt)]:64;if(++dt,null==yn||null==Zr||null==Ee||null==mt)throw new at;nn.push(yn<<2|Zr>>4),64!==Ee&&(nn.push(Zr<<4&240|Ee>>2),64!==mt&&nn.push(Ee<<6&192|mt))}return nn},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $e=0;$e<this.ENCODED_VALS.length;$e++)this.byteToCharMap_[$e]=this.ENCODED_VALS.charAt($e),this.charToByteMap_[this.byteToCharMap_[$e]]=$e,this.byteToCharMapWebSafe_[$e]=this.ENCODED_VALS_WEBSAFE.charAt($e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$e]]=$e,$e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($e)]=$e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($e)]=$e)}}};class at extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fe=function($e){return function($e){const Me=pt($e);return Le.encodeByteArray(Me,!0)}($e).replace(/\./g,"")},At=function($e){try{return Le.decodeString($e,!0)}catch(Me){console.error("base64Decode failed: ",Me)}return null};function Zt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gt=()=>{try{return Zt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $e=process.env.__FIREBASE_DEFAULTS__;return $e?JSON.parse($e):void 0})()||(()=>{if(typeof document>"u")return;let $e;try{$e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Me=$e&&At($e[1]);return Me&&JSON.parse(Me)})()}catch($e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$e}`)}},Kt=$e=>{var Me,rt;return null===(rt=null===(Me=Gt())||void 0===Me?void 0:Me.emulatorHosts)||void 0===rt?void 0:rt[$e]},Qe=$e=>{const Me=Kt($e);if(!Me)return;const rt=Me.lastIndexOf(":");if(rt<=0||rt+1===Me.length)throw new Error(`Invalid host ${Me} with no separate hostname and port!`);const nn=parseInt(Me.substring(rt+1),10);return"["===Me[0]?[Me.substring(1,rt-1),nn]:[Me.substring(0,rt),nn]},vt=()=>{var $e;return null===($e=Gt())||void 0===$e?void 0:$e.config},ht=$e=>{var Me;return null===(Me=Gt())||void 0===Me?void 0:Me[`_${$e}`]};class kt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Me,rt)=>{this.resolve=Me,this.reject=rt})}wrapCallback(Me){return(rt,nn)=>{rt?this.reject(rt):this.resolve(nn),"function"==typeof Me&&(this.promise.catch(()=>{}),1===Me.length?Me(rt):Me(rt,nn))}}}function hn($e){return $e.endsWith(".cloudworkstations.dev")}function xt($e){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,T.A)(function*($e){return(yield fetch($e,{credentials:"include"})).ok})).apply(this,arguments)}function lr($e,Me){if($e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const nn=Me||"demo-project",dt=$e.iat||0,yn=$e.sub||$e.user_id;if(!yn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Qn=Object.assign({iss:`https://securetoken.google.com/${nn}`,aud:nn,iat:dt,exp:dt+3600,auth_time:dt,sub:yn,user_id:yn,firebase:{sign_in_provider:"custom",identities:{}}},$e);return[Fe(JSON.stringify({alg:"none",type:"JWT"})),Fe(JSON.stringify(Qn)),""].join(".")}const hr={};let Wn=!1;function Ot($e,Me){if(typeof window>"u"||typeof document>"u"||!hn(window.location.host)||hr[$e]===Me||hr[$e]||Wn)return;function rt(Bt){return`__firebase__banner__${Bt}`}hr[$e]=Me;const nn="__firebase__banner",yn=function yr(){const $e={prod:[],emulator:[]};for(const Me of Object.keys(hr))hr[Me]?$e.emulator.push(Me):$e.prod.push(Me);return $e}().prod.length>0;function mt(){const Bt=function bt($e){let Me=document.getElementById($e),rt=!1;return Me||(Me=document.createElement("div"),Me.setAttribute("id",$e),rt=!0),{created:rt,element:Me}}(nn),ve=rt("text"),Pe=document.getElementById(ve)||document.createElement("span"),tt=rt("learnmore"),qt=document.getElementById(tt)||document.createElement("a"),Vt=rt("preprendIcon"),Mt=document.getElementById(Vt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(Bt.created){const en=Bt.element;(function Zr(Bt){Bt.style.display="flex",Bt.style.background="#7faaf0",Bt.style.position="fixed",Bt.style.bottom="5px",Bt.style.left="5px",Bt.style.padding=".5em",Bt.style.borderRadius="5px",Bt.style.alignItems="center"})(en),function He(Bt,ve){Bt.setAttribute("id",ve),Bt.innerText="Learn more",Bt.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",Bt.setAttribute("target","__blank"),Bt.style.paddingLeft="5px",Bt.style.textDecoration="underline"}(qt,tt);const Tn=function Ee(){const Bt=document.createElement("span");return Bt.style.cursor="pointer",Bt.style.marginLeft="16px",Bt.style.fontSize="24px",Bt.innerHTML=" &times;",Bt.onclick=()=>{Wn=!0,function Qn(){const Bt=document.getElementById(nn);Bt&&Bt.remove()}()},Bt}();(function ge(Bt,ve){Bt.setAttribute("width","24"),Bt.setAttribute("id",ve),Bt.setAttribute("height","24"),Bt.setAttribute("viewBox","0 0 24 24"),Bt.setAttribute("fill","none"),Bt.style.marginLeft="-6px"})(Mt,Vt),en.append(Mt,Pe,qt,Tn),document.body.appendChild(en)}yn?(Pe.innerText="Preview backend disconnected.",Mt.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(Mt.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',Pe.innerText="Preview backend running in this workspace."),Pe.setAttribute("id",ve)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",mt):mt()}function On(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function st(){var $e;const Me=null===($e=Gt())||void 0===$e?void 0:$e.forceEnvironment;if("node"===Me)return!0;if("browser"===Me)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function De(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function xe(){const $e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $e&&void 0!==$e.id}function me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ft(){const $e=On();return $e.indexOf("MSIE ")>=0||$e.indexOf("Trident/")>=0}function En(){return!st()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dr(){return!st()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Xt(){try{return"object"==typeof indexedDB}catch{return!1}}function gr(){return new Promise(($e,Me)=>{try{let rt=!0;const nn="validate-browser-context-for-indexeddb-analytics-module",dt=self.indexedDB.open(nn);dt.onsuccess=()=>{dt.result.close(),rt||self.indexedDB.deleteDatabase(nn),$e(!0)},dt.onupgradeneeded=()=>{rt=!1},dt.onerror=()=>{var yn;Me((null===(yn=dt.error)||void 0===yn?void 0:yn.message)||"")}}catch(rt){Me(rt)}})}class ar extends Error{constructor(Me,rt,nn){super(rt),this.code=Me,this.customData=nn,this.name="FirebaseError",Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ar.prototype.create)}}class Ar{constructor(Me,rt,nn){this.service=Me,this.serviceName=rt,this.errors=nn}create(Me,...rt){const nn=rt[0]||{},dt=`${this.service}/${Me}`,yn=this.errors[Me],Qn=yn?function Lr($e,Me){return $e.replace(kr,(rt,nn)=>{const dt=Me[nn];return null!=dt?String(dt):`<${nn}?>`})}(yn,nn):"Error";return new ar(dt,`${this.serviceName}: ${Qn} (${dt}).`,nn)}}const kr=/\{\$([^}]+)}/g;function vr($e){for(const Me in $e)if(Object.prototype.hasOwnProperty.call($e,Me))return!1;return!0}function Ci($e,Me){if($e===Me)return!0;const rt=Object.keys($e),nn=Object.keys(Me);for(const dt of rt){if(!nn.includes(dt))return!1;const yn=$e[dt],Qn=Me[dt];if(fi(yn)&&fi(Qn)){if(!Ci(yn,Qn))return!1}else if(yn!==Qn)return!1}for(const dt of nn)if(!rt.includes(dt))return!1;return!0}function fi($e){return null!==$e&&"object"==typeof $e}function Hr($e){const Me=[];for(const[rt,nn]of Object.entries($e))Array.isArray(nn)?nn.forEach(dt=>{Me.push(encodeURIComponent(rt)+"="+encodeURIComponent(dt))}):Me.push(encodeURIComponent(rt)+"="+encodeURIComponent(nn));return Me.length?"&"+Me.join("&"):""}function ts($e){const Me={};return $e.replace(/^\?/,"").split("&").forEach(nn=>{if(nn){const[dt,yn]=nn.split("=");Me[decodeURIComponent(dt)]=decodeURIComponent(yn)}}),Me}function Kr($e){const Me=$e.indexOf("?");if(!Me)return"";const rt=$e.indexOf("#",Me);return $e.substring(Me,rt>0?rt:void 0)}function zr($e,Me){const rt=new Xi($e,Me);return rt.subscribe.bind(rt)}class Xi{constructor(Me,rt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=rt,this.task.then(()=>{Me(this)}).catch(nn=>{this.error(nn)})}next(Me){this.forEachObserver(rt=>{rt.next(Me)})}error(Me){this.forEachObserver(rt=>{rt.error(Me)}),this.close(Me)}complete(){this.forEachObserver(Me=>{Me.complete()}),this.close()}subscribe(Me,rt,nn){let dt;if(void 0===Me&&void 0===rt&&void 0===nn)throw new Error("Missing Observer.");dt=function Vr($e,Me){if("object"!=typeof $e||null===$e)return!1;for(const rt of Me)if(rt in $e&&"function"==typeof $e[rt])return!0;return!1}(Me,["next","error","complete"])?Me:{next:Me,error:rt,complete:nn},void 0===dt.next&&(dt.next=Zn),void 0===dt.error&&(dt.error=Zn),void 0===dt.complete&&(dt.complete=Zn);const yn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?dt.error(this.finalError):dt.complete()}catch{}}),this.observers.push(dt),yn}unsubscribeOne(Me){void 0===this.observers||void 0===this.observers[Me]||(delete this.observers[Me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Me){if(!this.finalized)for(let rt=0;rt<this.observers.length;rt++)this.sendOne(rt,Me)}sendOne(Me,rt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Me])try{rt(this.observers[Me])}catch(nn){typeof console<"u"&&console.error&&console.error(nn)}})}close(Me){this.finalized||(this.finalized=!0,void 0!==Me&&(this.finalError=Me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zn(){}function ss($e){return $e&&$e._delegate?$e._delegate:$e}},6895:(qn,ot,Q)=>{"use strict";Q.d(ot,{nX:()=>la,Pu:()=>Vs,Zp:()=>we,nU:()=>Xi,c1:()=>co,XR:()=>Uo,wF:()=>dn,lW:()=>Nr,mo:()=>sr,Z:()=>an,J2:()=>Do,J_:()=>ci,bw:()=>F,tD:()=>uo,Ix:()=>Mc,D$:()=>V,n3:()=>Go,OY:()=>Ht,Sd:()=>zr,bK:()=>qi,gk:()=>Ta,Lg:()=>vs,wO:()=>Qn,Us:()=>vi,we:()=>fo});var T=Q(9361),z=Q(6048),le=Q(1360),A=Q(1985),We=Q(8071),Oe=Q(8455),Le=Q(7673),at=Q(4412),Ve=Q(4572),Fe=Q(9350),At=Q(6365),Ct=Q(9326);function Qt(...M){return function yt(){return(0,At.U)(1)}()((0,Oe.H)(M,(0,Ct.lI)(M)))}var Zt=Q(8750);function un(M){return new A.c(B=>{(0,Zt.Tg)(M()).subscribe(B)})}var In=Q(1203);function Ut(M,B){const O=(0,We.T)(M)?M:()=>M,j=ee=>ee.error(O());return new A.c(B?ee=>B.schedule(j,0,ee):j)}var Gt=Q(983),Kt=Q(8359),Qe=Q(9974),vt=Q(4360);function ht(){return(0,Qe.N)((M,B)=>{let O=null;M._refCount++;const j=(0,vt._)(B,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(O=null);const ee=M._connection,Ie=O;O=null,ee&&(!Ie||ee===Ie)&&ee.unsubscribe(),B.unsubscribe()});M.subscribe(j),j.closed||(O=M.connect())})}class kt extends A.c{constructor(B,O){super(),this.source=B,this.subjectFactory=O,this._subject=null,this._refCount=0,this._connection=null,(0,Qe.S)(B)&&(this.lift=B.lift)}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:B}=this;this._subject=this._connection=null,B?.unsubscribe()}connect(){let B=this._connection;if(!B){B=this._connection=new Kt.yU;const O=this.getSubject();B.add(this.source.subscribe((0,vt._)(O,void 0,()=>{this._teardown(),O.complete()},j=>{this._teardown(),O.error(j)},()=>this._teardown()))),B.closed&&(this._connection=null,B=Kt.yU.EMPTY)}return B}refCount(){return ht()(this)}}var hn=Q(1413),xt=Q(6354),Pt=Q(5558),lr=Q(6697),yr=Q(5964),bt=Q(1397);function Wn(M){return(0,Qe.N)((B,O)=>{let j=!1;B.subscribe((0,vt._)(O,ee=>{j=!0,O.next(ee)},()=>{j||O.next(M),O.complete()}))})}function Ot(M=On){return(0,Qe.N)((B,O)=>{let j=!1;B.subscribe((0,vt._)(O,ee=>{j=!0,O.next(ee)},()=>j?O.complete():O.error(M())))})}function On(){return new Fe.G}var rn=Q(3669);function st(M,B){const O=arguments.length>=2;return j=>j.pipe(M?(0,yr.p)((ee,Ie)=>M(ee,Ie,j)):rn.D,(0,lr.s)(1),O?Wn(B):Ot(()=>new Fe.G))}var de=Q(274);function Te(M,B,O){const j=(0,We.T)(M)||B||O?{next:M,error:B,complete:O}:M;return j?(0,Qe.N)((ee,Ie)=>{var _e;null===(_e=j.subscribe)||void 0===_e||_e.call(j);let Et=!0;ee.subscribe((0,vt._)(Ie,$t=>{var Sn;null===(Sn=j.next)||void 0===Sn||Sn.call(j,$t),Ie.next($t)},()=>{var $t;Et=!1,null===($t=j.complete)||void 0===$t||$t.call(j),Ie.complete()},$t=>{var Sn;Et=!1,null===(Sn=j.error)||void 0===Sn||Sn.call(j,$t),Ie.error($t)},()=>{var $t,Sn;Et&&(null===($t=j.unsubscribe)||void 0===$t||$t.call(j)),null===(Sn=j.finalize)||void 0===Sn||Sn.call(j)}))}):rn.D}var De=Q(9437);function Re(M){return M<=0?()=>Gt.w:(0,Qe.N)((B,O)=>{let j=[];B.subscribe((0,vt._)(O,ee=>{j.push(ee),M<j.length&&j.shift()},()=>{for(const ee of j)O.next(ee);O.complete()},void 0,()=>{j=null}))})}var jt=Q(980),Rn=Q(5343),Dr=Q(345);const Xt="primary",gr=Symbol("RouteTitle");class mr{params;constructor(B){this.params=B||{}}has(B){return Object.prototype.hasOwnProperty.call(this.params,B)}get(B){if(this.has(B)){const O=this.params[B];return Array.isArray(O)?O[0]:O}return null}getAll(B){if(this.has(B)){const O=this.params[B];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function gn(M){return new mr(M)}function ar(M,B,O){const j=O.path.split("/");if(j.length>M.length||"full"===O.pathMatch&&(B.hasChildren()||j.length<M.length))return null;const ee={};for(let Ie=0;Ie<j.length;Ie++){const _e=j[Ie],Et=M[Ie];if(":"===_e[0])ee[_e.substring(1)]=Et;else if(_e!==Et.path)return null}return{consumed:M.slice(0,j.length),posParams:ee}}function Lr(M,B){const O=M?kr(M):void 0,j=B?kr(B):void 0;if(!O||!j||O.length!=j.length)return!1;let ee;for(let Ie=0;Ie<O.length;Ie++)if(ee=O[Ie],!Br(M[ee],B[ee]))return!1;return!0}function kr(M){return[...Object.keys(M),...Object.getOwnPropertySymbols(M)]}function Br(M,B){if(Array.isArray(M)&&Array.isArray(B)){if(M.length!==B.length)return!1;const O=[...M].sort(),j=[...B].sort();return O.every((ee,Ie)=>j[Ie]===ee)}return M===B}function Es(M){return M.length>0?M[M.length-1]:null}function kn(M){return function pt(M){return!!M&&(M instanceof A.c||(0,We.T)(M.lift)&&(0,We.T)(M.subscribe))}(M)?M:(0,le.jNT)(M)?(0,Oe.H)(Promise.resolve(M)):(0,Le.of)(M)}const Gr={exact:function Dt(M,B,O){if(!Kr(M.segments,B.segments)||!Ci(M.segments,B.segments,O)||M.numberOfChildren!==B.numberOfChildren)return!1;for(const j in B.children)if(!M.children[j]||!Dt(M.children[j],B.children[j],O))return!1;return!0},subset:vr},Fn={exact:function li(M,B){return Lr(M,B)},subset:function mi(M,B){return Object.keys(B).length<=Object.keys(M).length&&Object.keys(B).every(O=>Br(M[O],B[O]))},ignored:()=>!0};function Ss(M,B,O){return Gr[O.paths](M.root,B.root,O.matrixParams)&&Fn[O.queryParams](M.queryParams,B.queryParams)&&!("exact"===O.fragment&&M.fragment!==B.fragment)}function vr(M,B,O){return wn(M,B,B.segments,O)}function wn(M,B,O,j){if(M.segments.length>O.length){const ee=M.segments.slice(0,O.length);return!(!Kr(ee,O)||B.hasChildren()||!Ci(ee,O,j))}if(M.segments.length===O.length){if(!Kr(M.segments,O)||!Ci(M.segments,O,j))return!1;for(const ee in B.children)if(!M.children[ee]||!vr(M.children[ee],B.children[ee],j))return!1;return!0}{const ee=O.slice(0,M.segments.length),Ie=O.slice(M.segments.length);return!!(Kr(M.segments,ee)&&Ci(M.segments,ee,j)&&M.children[Xt])&&wn(M.children[Xt],B,Ie,j)}}function Ci(M,B,O){return B.every((j,ee)=>Fn[O](M[ee].parameters,j.parameters))}class fi{root;queryParams;fragment;_queryParamMap;constructor(B=new Tr([],{}),O={},j=null){this.root=B,this.queryParams=O,this.fragment=j}get queryParamMap(){return this._queryParamMap??=gn(this.queryParams),this._queryParamMap}toString(){return rs.serialize(this)}}class Tr{segments;children;parent=null;constructor(B,O){this.segments=B,this.children=O,Object.values(O).forEach(j=>j.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vr(this)}}class Hr{path;parameters;_parameterMap;constructor(B,O){this.path=B,this.parameters=O}get parameterMap(){return this._parameterMap??=gn(this.parameters),this._parameterMap}toString(){return ws(this)}}function Kr(M,B){return M.length===B.length&&M.every((O,j)=>O.path===B[j].path)}let zr=(()=>{class M{static \u0275fac=function(j){return new(j||M)};static \u0275prov=le.jDH({token:M,factory:()=>new Xi,providedIn:"root"})}return M})();class Xi{parse(B){const O=new rt(B);return new fi(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(B){const O=`/${Zn(B.root,!0)}`,j=function is(M){const B=Object.entries(M).map(([O,j])=>Array.isArray(j)?j.map(ee=>`${ti(O)}=${ti(ee)}`).join("&"):`${ti(O)}=${ti(j)}`).filter(O=>O);return B.length?`?${B.join("&")}`:""}(B.queryParams);return`${O}${j}${"string"==typeof B.fragment?`#${function br(M){return encodeURI(M)}(B.fragment)}`:""}`}}const rs=new Xi;function Vr(M){return M.segments.map(B=>ws(B)).join("/")}function Zn(M,B){if(!M.hasChildren())return Vr(M);if(B){const O=M.children[Xt]?Zn(M.children[Xt],!1):"",j=[];return Object.entries(M.children).forEach(([ee,Ie])=>{ee!==Xt&&j.push(`${ee}:${Zn(Ie,!1)}`)}),j.length>0?`${O}(${j.join("//")})`:O}{const O=function ns(M,B){let O=[];return Object.entries(M.children).forEach(([j,ee])=>{j===Xt&&(O=O.concat(B(ee,j)))}),Object.entries(M.children).forEach(([j,ee])=>{j!==Xt&&(O=O.concat(B(ee,j)))}),O}(M,(j,ee)=>ee===Xt?[Zn(M.children[Xt],!1)]:[`${ee}:${Zn(j,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[Xt]?`${Vr(M)}/${O[0]}`:`${Vr(M)}/(${O.join("//")})`}}function Yi(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ti(M){return Yi(M).replace(/%3B/gi,";")}function zi(M){return Yi(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function et(M){return decodeURIComponent(M)}function Xr(M){return et(M.replace(/\+/g,"%20"))}function ws(M){return`${zi(M.path)}${function ji(M){return Object.entries(M).map(([B,O])=>`;${zi(B)}=${zi(O)}`).join("")}(M.parameters)}`}const Hn=/^[^\/()?;#]+/;function qr(M){const B=M.match(Hn);return B?B[0]:""}const Yr=/^[^\/()?;=#]+/,ms=/^[^=?&#]+/,$e=/^[^&#]+/;class rt{url;remaining;constructor(B){this.url=B,this.remaining=B}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tr([],{}):new Tr([],this.parseChildren())}parseQueryParams(){const B={};if(this.consumeOptional("?"))do{this.parseQueryParam(B)}while(this.consumeOptional("&"));return B}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const B=[];for(this.peekStartsWith("(")||B.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),B.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let j={};return this.peekStartsWith("(")&&(j=this.parseParens(!1)),(B.length>0||Object.keys(O).length>0)&&(j[Xt]=new Tr(B,O)),j}parseSegment(){const B=qr(this.remaining);if(""===B&&this.peekStartsWith(";"))throw new le.wOt(4009,!1);return this.capture(B),new Hr(et(B),this.parseMatrixParams())}parseMatrixParams(){const B={};for(;this.consumeOptional(";");)this.parseParam(B);return B}parseParam(B){const O=function cs(M){const B=M.match(Yr);return B?B[0]:""}(this.remaining);if(!O)return;this.capture(O);let j="";if(this.consumeOptional("=")){const ee=qr(this.remaining);ee&&(j=ee,this.capture(j))}B[et(O)]=et(j)}parseQueryParam(B){const O=function ss(M){const B=M.match(ms);return B?B[0]:""}(this.remaining);if(!O)return;this.capture(O);let j="";if(this.consumeOptional("=")){const _e=function Me(M){const B=M.match($e);return B?B[0]:""}(this.remaining);_e&&(j=_e,this.capture(j))}const ee=Xr(O),Ie=Xr(j);if(B.hasOwnProperty(ee)){let _e=B[ee];Array.isArray(_e)||(_e=[_e],B[ee]=_e),_e.push(Ie)}else B[ee]=Ie}parseParens(B){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const j=qr(this.remaining),ee=this.remaining[j.length];if("/"!==ee&&")"!==ee&&";"!==ee)throw new le.wOt(4010,!1);let Ie;j.indexOf(":")>-1?(Ie=j.slice(0,j.indexOf(":")),this.capture(Ie),this.capture(":")):B&&(Ie=Xt);const _e=this.parseChildren();O[Ie]=1===Object.keys(_e).length?_e[Xt]:new Tr([],_e),this.consumeOptional("//")}return O}peekStartsWith(B){return this.remaining.startsWith(B)}consumeOptional(B){return!!this.peekStartsWith(B)&&(this.remaining=this.remaining.substring(B.length),!0)}capture(B){if(!this.consumeOptional(B))throw new le.wOt(4011,!1)}}function nn(M){return M.segments.length>0?new Tr([],{[Xt]:M}):M}function dt(M){const B={};for(const[j,ee]of Object.entries(M.children)){const Ie=dt(ee);if(j===Xt&&0===Ie.segments.length&&Ie.hasChildren())for(const[_e,Et]of Object.entries(Ie.children))B[_e]=Et;else(Ie.segments.length>0||Ie.hasChildren())&&(B[j]=Ie)}return function yn(M){if(1===M.numberOfChildren&&M.children[Xt]){const B=M.children[Xt];return new Tr(M.segments.concat(B.segments),B.children)}return M}(new Tr(M.segments,B))}function Qn(M){return M instanceof fi}function ge(M){let B;const ee=nn(function O(Ie){const _e={};for(const $t of Ie.children){const Sn=O($t);_e[$t.outlet]=Sn}const Et=new Tr(Ie.url,_e);return Ie===M&&(B=Et),Et}(M.root));return B??ee}function Ee(M,B,O,j){let ee=M;for(;ee.parent;)ee=ee.parent;if(0===B.length)return Bt(ee,ee,ee,O,j);const Ie=function tt(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new Pe(!0,0,M);let B=0,O=!1;const j=M.reduce((ee,Ie,_e)=>{if("object"==typeof Ie&&null!=Ie){if(Ie.outlets){const Et={};return Object.entries(Ie.outlets).forEach(([$t,Sn])=>{Et[$t]="string"==typeof Sn?Sn.split("/"):Sn}),[...ee,{outlets:Et}]}if(Ie.segmentPath)return[...ee,Ie.segmentPath]}return"string"!=typeof Ie?[...ee,Ie]:0===_e?(Ie.split("/").forEach((Et,$t)=>{0==$t&&"."===Et||(0==$t&&""===Et?O=!0:".."===Et?B++:""!=Et&&ee.push(Et))}),ee):[...ee,Ie]},[]);return new Pe(O,B,j)}(B);if(Ie.toRoot())return Bt(ee,ee,new Tr([],{}),O,j);const _e=function Vt(M,B,O){if(M.isAbsolute)return new qt(B,!0,0);if(!O)return new qt(B,!1,NaN);if(null===O.parent)return new qt(O,!0,0);const j=He(M.commands[0])?0:1;return function Mt(M,B,O){let j=M,ee=B,Ie=O;for(;Ie>ee;){if(Ie-=ee,j=j.parent,!j)throw new le.wOt(4005,!1);ee=j.segments.length}return new qt(j,!1,ee-Ie)}(O,O.segments.length-1+j,M.numberOfDoubleDots)}(Ie,ee,M),Et=_e.processChildren?ir(_e.segmentGroup,_e.index,Ie.commands):Tn(_e.segmentGroup,_e.index,Ie.commands);return Bt(ee,_e.segmentGroup,Et,O,j)}function He(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function mt(M){return"object"==typeof M&&null!=M&&M.outlets}function Bt(M,B,O,j,ee){let _e,Ie={};j&&Object.entries(j).forEach(([$t,Sn])=>{Ie[$t]=Array.isArray(Sn)?Sn.map(ui=>`${ui}`):`${Sn}`}),_e=M===B?O:ve(M,B,O);const Et=nn(dt(_e));return new fi(Et,Ie,ee)}function ve(M,B,O){const j={};return Object.entries(M.children).forEach(([ee,Ie])=>{j[ee]=Ie===B?O:ve(Ie,B,O)}),new Tr(M.segments,j)}class Pe{isAbsolute;numberOfDoubleDots;commands;constructor(B,O,j){if(this.isAbsolute=B,this.numberOfDoubleDots=O,this.commands=j,B&&j.length>0&&He(j[0]))throw new le.wOt(4003,!1);const ee=j.find(mt);if(ee&&ee!==Es(j))throw new le.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qt{segmentGroup;processChildren;index;constructor(B,O,j){this.segmentGroup=B,this.processChildren=O,this.index=j}}function Tn(M,B,O){if(M??=new Tr([],{}),0===M.segments.length&&M.hasChildren())return ir(M,B,O);const j=function Nn(M,B,O){let j=0,ee=B;const Ie={match:!1,pathIndex:0,commandIndex:0};for(;ee<M.segments.length;){if(j>=O.length)return Ie;const _e=M.segments[ee],Et=O[j];if(mt(Et))break;const $t=`${Et}`,Sn=j<O.length-1?O[j+1]:null;if(ee>0&&void 0===$t)break;if($t&&Sn&&"object"==typeof Sn&&void 0===Sn.outlets){if(!us($t,Sn,_e))return Ie;j+=2}else{if(!us($t,{},_e))return Ie;j++}ee++}return{match:!0,pathIndex:ee,commandIndex:j}}(M,B,O),ee=O.slice(j.commandIndex);if(j.match&&j.pathIndex<M.segments.length){const Ie=new Tr(M.segments.slice(0,j.pathIndex),{});return Ie.children[Xt]=new Tr(M.segments.slice(j.pathIndex),M.children),ir(Ie,0,ee)}return j.match&&0===ee.length?new Tr(M.segments,{}):j.match&&!M.hasChildren()?fr(M,B,O):j.match?ir(M,0,ee):fr(M,B,O)}function ir(M,B,O){if(0===O.length)return new Tr(M.segments,{});{const j=function en(M){return mt(M[0])?M[0].outlets:{[Xt]:M}}(O),ee={};if(Object.keys(j).some(Ie=>Ie!==Xt)&&M.children[Xt]&&1===M.numberOfChildren&&0===M.children[Xt].segments.length){const Ie=ir(M.children[Xt],B,O);return new Tr(M.segments,Ie.children)}return Object.entries(j).forEach(([Ie,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(ee[Ie]=Tn(M.children[Ie],B,_e))}),Object.entries(M.children).forEach(([Ie,_e])=>{void 0===j[Ie]&&(ee[Ie]=_e)}),new Tr(M.segments,ee)}}function fr(M,B,O){const j=M.segments.slice(0,B);let ee=0;for(;ee<O.length;){const Ie=O[ee];if(mt(Ie)){const $t=Mr(Ie.outlets);return new Tr(j,$t)}if(0===ee&&He(O[0])){j.push(new Hr(M.segments[B].path,Wi(O[0]))),ee++;continue}const _e=mt(Ie)?Ie.outlets[Xt]:`${Ie}`,Et=ee<O.length-1?O[ee+1]:null;_e&&Et&&He(Et)?(j.push(new Hr(_e,Wi(Et))),ee+=2):(j.push(new Hr(_e,{})),ee++)}return new Tr(j,{})}function Mr(M){const B={};return Object.entries(M).forEach(([O,j])=>{"string"==typeof j&&(j=[j]),null!==j&&(B[O]=fr(new Tr([],{}),0,j))}),B}function Wi(M){const B={};return Object.entries(M).forEach(([O,j])=>B[O]=`${j}`),B}function us(M,B,O){return M==O.path&&Lr(B,O.parameters)}const Ne="imperative";var Ge=function(M){return M[M.NavigationStart=0]="NavigationStart",M[M.NavigationEnd=1]="NavigationEnd",M[M.NavigationCancel=2]="NavigationCancel",M[M.NavigationError=3]="NavigationError",M[M.RoutesRecognized=4]="RoutesRecognized",M[M.ResolveStart=5]="ResolveStart",M[M.ResolveEnd=6]="ResolveEnd",M[M.GuardsCheckStart=7]="GuardsCheckStart",M[M.GuardsCheckEnd=8]="GuardsCheckEnd",M[M.RouteConfigLoadStart=9]="RouteConfigLoadStart",M[M.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",M[M.ChildActivationStart=11]="ChildActivationStart",M[M.ChildActivationEnd=12]="ChildActivationEnd",M[M.ActivationStart=13]="ActivationStart",M[M.ActivationEnd=14]="ActivationEnd",M[M.Scroll=15]="Scroll",M[M.NavigationSkipped=16]="NavigationSkipped",M}(Ge||{});class ut{id;url;constructor(B,O){this.id=B,this.url=O}}class an extends ut{type=Ge.NavigationStart;navigationTrigger;restoredState;constructor(B,O,j="imperative",ee=null){super(B,O),this.navigationTrigger=j,this.restoredState=ee}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dn extends ut{urlAfterRedirects;type=Ge.NavigationEnd;constructor(B,O,j){super(B,O),this.urlAfterRedirects=j}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ln=function(M){return M[M.Redirect=0]="Redirect",M[M.SupersededByNewNavigation=1]="SupersededByNewNavigation",M[M.NoDataFromResolver=2]="NoDataFromResolver",M[M.GuardRejected=3]="GuardRejected",M}(Ln||{}),sr=function(M){return M[M.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",M[M.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",M}(sr||{});class xr extends ut{reason;code;type=Ge.NavigationCancel;constructor(B,O,j,ee){super(B,O),this.reason=j,this.code=ee}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nr extends ut{reason;code;type=Ge.NavigationSkipped;constructor(B,O,j,ee){super(B,O),this.reason=j,this.code=ee}}class Di extends ut{error;target;type=Ge.NavigationError;constructor(B,O,j,ee){super(B,O),this.error=j,this.target=ee}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oo extends ut{urlAfterRedirects;state;type=Ge.RoutesRecognized;constructor(B,O,j,ee){super(B,O),this.urlAfterRedirects=j,this.state=ee}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ni extends ut{urlAfterRedirects;state;type=Ge.GuardsCheckStart;constructor(B,O,j,ee){super(B,O),this.urlAfterRedirects=j,this.state=ee}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Os extends ut{urlAfterRedirects;state;shouldActivate;type=Ge.GuardsCheckEnd;constructor(B,O,j,ee,Ie){super(B,O),this.urlAfterRedirects=j,this.state=ee,this.shouldActivate=Ie}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class to extends ut{urlAfterRedirects;state;type=Ge.ResolveStart;constructor(B,O,j,ee){super(B,O),this.urlAfterRedirects=j,this.state=ee}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zo extends ut{urlAfterRedirects;state;type=Ge.ResolveEnd;constructor(B,O,j,ee){super(B,O),this.urlAfterRedirects=j,this.state=ee}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Is{route;type=Ge.RouteConfigLoadStart;constructor(B){this.route=B}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Z{route;type=Ge.RouteConfigLoadEnd;constructor(B){this.route=B}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Se{snapshot;type=Ge.ChildActivationStart;constructor(B){this.snapshot=B}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class se{snapshot;type=Ge.ChildActivationEnd;constructor(B){this.snapshot=B}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pe{snapshot;type=Ge.ActivationStart;constructor(B){this.snapshot=B}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{snapshot;type=Ge.ActivationEnd;constructor(B){this.snapshot=B}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ht{routerEvent;position;anchor;type=Ge.Scroll;constructor(B,O,j){this.routerEvent=B,this.position=O,this.anchor=j}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xn{}class tr{url;navigationBehaviorOptions;constructor(B,O){this.url=B,this.navigationBehaviorOptions=O}}function vi(M){switch(M.type){case Ge.ActivationEnd:return`ActivationEnd(path: '${M.snapshot.routeConfig?.path||""}')`;case Ge.ActivationStart:return`ActivationStart(path: '${M.snapshot.routeConfig?.path||""}')`;case Ge.ChildActivationEnd:return`ChildActivationEnd(path: '${M.snapshot.routeConfig?.path||""}')`;case Ge.ChildActivationStart:return`ChildActivationStart(path: '${M.snapshot.routeConfig?.path||""}')`;case Ge.GuardsCheckEnd:return`GuardsCheckEnd(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state}, shouldActivate: ${M.shouldActivate})`;case Ge.GuardsCheckStart:return`GuardsCheckStart(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state})`;case Ge.NavigationCancel:return`NavigationCancel(id: ${M.id}, url: '${M.url}')`;case Ge.NavigationSkipped:return`NavigationSkipped(id: ${M.id}, url: '${M.url}')`;case Ge.NavigationEnd:return`NavigationEnd(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}')`;case Ge.NavigationError:return`NavigationError(id: ${M.id}, url: '${M.url}', error: ${M.error})`;case Ge.NavigationStart:return`NavigationStart(id: ${M.id}, url: '${M.url}')`;case Ge.ResolveEnd:return`ResolveEnd(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state})`;case Ge.ResolveStart:return`ResolveStart(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state})`;case Ge.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${M.route.path})`;case Ge.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${M.route.path})`;case Ge.RoutesRecognized:return`RoutesRecognized(id: ${M.id}, url: '${M.url}', urlAfterRedirects: '${M.urlAfterRedirects}', state: ${M.state})`;case Ge.Scroll:return`Scroll(anchor: '${M.anchor}', position: '${M.position?`${M.position[0]}, ${M.position[1]}`:null}')`}}function Si(M){return M.outlet||Xt}function Rs(M){if(!M)return null;if(M.routeConfig?._injector)return M.routeConfig._injector;for(let B=M.parent;B;B=B.parent){const O=B.routeConfig;if(O?._loadedInjector)return O._loadedInjector;if(O?._injector)return O._injector}return null}class _o{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Rs(this.route?.snapshot)??this.rootInjector}constructor(B){this.rootInjector=B,this.children=new we(this.rootInjector)}}let we=(()=>{class M{rootInjector;contexts=new Map;constructor(O){this.rootInjector=O}onChildOutletCreated(O,j){const ee=this.getOrCreateContext(O);ee.outlet=j,this.contexts.set(O,ee)}onChildOutletDestroyed(O){const j=this.getContext(O);j&&(j.outlet=null,j.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let j=this.getContext(O);return j||(j=new _o(this.rootInjector),this.contexts.set(O,j)),j}getContext(O){return this.contexts.get(O)||null}static \u0275fac=function(j){return new(j||M)(le.KVO(le.uvJ))};static \u0275prov=le.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();class _t{_root;constructor(B){this._root=B}get root(){return this._root.value}parent(B){const O=this.pathFromRoot(B);return O.length>1?O[O.length-2]:null}children(B){const O=Ye(B,this._root);return O?O.children.map(j=>j.value):[]}firstChild(B){const O=Ye(B,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(B){const O=St(B,this._root);return O.length<2?[]:O[O.length-2].children.map(ee=>ee.value).filter(ee=>ee!==B)}pathFromRoot(B){return St(B,this._root).map(O=>O.value)}}function Ye(M,B){if(M===B.value)return B;for(const O of B.children){const j=Ye(M,O);if(j)return j}return null}function St(M,B){if(M===B.value)return[B];for(const O of B.children){const j=St(M,O);if(j.length)return j.unshift(B),j}return[]}class mn{value;children;constructor(B,O){this.value=B,this.children=O}toString(){return`TreeNode(${this.value})`}}function Un(M){const B={};return M&&M.children.forEach(O=>B[O.value.outlet]=O),B}class pr extends _t{snapshot;constructor(B,O){super(B),this.snapshot=O,yo(this,B)}toString(){return this.snapshot.toString()}}function xs(M){const B=function Ns(M){const Ie=new ea([],{},{},"",{},Xt,M,null,{});return new jn("",new mn(Ie,[]))}(M),O=new at.t([new Hr("",{})]),j=new at.t({}),ee=new at.t({}),Ie=new at.t({}),_e=new at.t(""),Et=new la(O,j,Ie,_e,ee,Xt,M,B.root);return Et.snapshot=B.root,new pr(new mn(Et,[]),B)}class la{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(B,O,j,ee,Ie,_e,Et,$t){this.urlSubject=B,this.paramsSubject=O,this.queryParamsSubject=j,this.fragmentSubject=ee,this.dataSubject=Ie,this.outlet=_e,this.component=Et,this._futureSnapshot=$t,this.title=this.dataSubject?.pipe((0,xt.T)(Sn=>Sn[gr]))??(0,Le.of)(void 0),this.url=B,this.params=O,this.queryParams=j,this.fragment=ee,this.data=Ie}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,xt.T)(B=>gn(B))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,xt.T)(B=>gn(B))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gi(M,B,O="emptyOnly"){let j;const{routeConfig:ee}=M;return j=null===B||"always"!==O&&""!==ee?.path&&(B.component||B.routeConfig?.loadComponent)?{params:{...M.params},data:{...M.data},resolve:{...M.data,...M._resolvedData??{}}}:{params:{...B.params,...M.params},data:{...B.data,...M.data},resolve:{...M.data,...B.data,...ee?.data,...M._resolvedData}},ee&&vo(ee)&&(j.resolve[gr]=ee.title),j}class ea{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[gr]}constructor(B,O,j,ee,Ie,_e,Et,$t,Sn){this.url=B,this.params=O,this.queryParams=j,this.fragment=ee,this.data=Ie,this.outlet=_e,this.component=Et,this.routeConfig=$t,this._resolve=Sn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=gn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=gn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(j=>j.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jn extends _t{url;constructor(B,O){super(O),this.url=B,yo(this,O)}toString(){return Qs(this._root)}}function yo(M,B){B.value._routerState=M,B.children.forEach(O=>yo(M,O))}function Qs(M){const B=M.children.length>0?` { ${M.children.map(Qs).join(", ")} } `:"";return`${M.value}${B}`}function no(M){if(M.snapshot){const B=M.snapshot,O=M._futureSnapshot;M.snapshot=O,Lr(B.queryParams,O.queryParams)||M.queryParamsSubject.next(O.queryParams),B.fragment!==O.fragment&&M.fragmentSubject.next(O.fragment),Lr(B.params,O.params)||M.paramsSubject.next(O.params),function Ar(M,B){if(M.length!==B.length)return!1;for(let O=0;O<M.length;++O)if(!Lr(M[O],B[O]))return!1;return!0}(B.url,O.url)||M.urlSubject.next(O.url),Lr(B.data,O.data)||M.dataSubject.next(O.data)}else M.snapshot=M._futureSnapshot,M.dataSubject.next(M._futureSnapshot.data)}function Wo(M,B){const O=Lr(M.params,B.params)&&function ts(M,B){return Kr(M,B)&&M.every((O,j)=>Lr(O.parameters,B[j].parameters))}(M.url,B.url);return O&&!(!M.parent!=!B.parent)&&(!M.parent||Wo(M.parent,B.parent))}function vo(M){return"string"==typeof M.title||null===M.title}const ta=new le.nKC("");let Go=(()=>{class M{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Xt;activateEvents=new le.bkB;deactivateEvents=new le.bkB;attachEvents=new le.bkB;detachEvents=new le.bkB;routerOutletData=(0,le.hFB)(void 0);parentContexts=(0,le.WQX)(we);location=(0,le.WQX)(le.c1b);changeDetector=(0,le.WQX)(le.gRc);inputBinder=(0,le.WQX)(co,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(O){if(O.name){const{firstChange:j,previousValue:ee}=O.name;if(j)return;this.isTrackedInParentContexts(ee)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ee)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(O){return this.parentContexts.getContext(O)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const O=this.parentContexts.getContext(this.name);O?.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new le.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new le.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new le.wOt(4012,!1);this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(O.instance),O}attach(O,j){this.activated=O,this._activatedRoute=j,this.location.insert(O.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(O.instance)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,j){if(this.isActivated)throw new le.wOt(4013,!1);this._activatedRoute=O;const ee=this.location,_e=O.snapshot.component,Et=this.parentContexts.getOrCreateContext(this.name).children,$t=new si(O,Et,ee.injector,this.routerOutletData);this.activated=ee.createComponent(_e,{index:ee.length,injector:$t,environmentInjector:j}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(j){return new(j||M)};static \u0275dir=le.FsC({type:M,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[le.OA$]})}return M})();class si{route;childContexts;parent;outletData;constructor(B,O,j,ee){this.route=B,this.childContexts=O,this.parent=j,this.outletData=ee}get(B,O){return B===la?this.route:B===we?this.childContexts:B===ta?this.outletData:this.parent.get(B,O)}}const co=new le.nKC("");let uo=(()=>{class M{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(O){this.unsubscribeFromRouteData(O),this.subscribeToRouteData(O)}unsubscribeFromRouteData(O){this.outletDataSubscriptions.get(O)?.unsubscribe(),this.outletDataSubscriptions.delete(O)}subscribeToRouteData(O){const{activatedRoute:j}=O,ee=(0,Ve.z)([j.queryParams,j.params,j.data]).pipe((0,Pt.n)(([Ie,_e,Et],$t)=>(Et={...Ie,..._e,...Et},0===$t?(0,Le.of)(Et):Promise.resolve(Et)))).subscribe(Ie=>{if(!O.isActivated||!O.activatedComponentRef||O.activatedRoute!==j||null===j.component)return void this.unsubscribeFromRouteData(O);const _e=(0,le.HJs)(j.component);if(_e)for(const{templateName:Et}of _e.inputs)O.activatedComponentRef.setInput(Et,Ie[Et]);else this.unsubscribeFromRouteData(O)});this.outletDataSubscriptions.set(O,ee)}static \u0275fac=function(j){return new(j||M)};static \u0275prov=le.jDH({token:M,factory:M.\u0275fac})}return M})(),fo=(()=>{class M{static \u0275fac=function(j){return new(j||M)};static \u0275cmp=le.VBU({type:M,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(j,ee){1&j&&le.nrm(0,"router-outlet")},dependencies:[Go],encapsulation:2})}return M})();function No(M){const B=M.children&&M.children.map(No),O=B?{...M,children:B}:{...M};return!O.component&&!O.loadComponent&&(B||O.loadChildren)&&O.outlet&&O.outlet!==Xt&&(O.component=fo),O}function ds(M,B,O){if(O&&M.shouldReuseRoute(B.value,O.value.snapshot)){const j=O.value;j._futureSnapshot=B.value;const ee=function Li(M,B,O){return B.children.map(j=>{for(const ee of O.children)if(M.shouldReuseRoute(j.value,ee.value.snapshot))return ds(M,j,ee);return ds(M,j)})}(M,B,O);return new mn(j,ee)}{if(M.shouldAttach(B.value)){const Ie=M.retrieve(B.value);if(null!==Ie){const _e=Ie.route;return _e.value._futureSnapshot=B.value,_e.children=B.children.map(Et=>ds(M,Et)),_e}}const j=function Ei(M){return new la(new at.t(M.url),new at.t(M.params),new at.t(M.queryParams),new at.t(M.fragment),new at.t(M.data),M.outlet,M.component,M)}(B.value),ee=B.children.map(Ie=>ds(M,Ie));return new mn(j,ee)}}class ro{redirectTo;navigationBehaviorOptions;constructor(B,O){this.redirectTo=B,this.navigationBehaviorOptions=O}}const po="ngNavigationCancelingError";function Fs(M,B){const{redirectTo:O,navigationBehaviorOptions:j}=Qn(B)?{redirectTo:B,navigationBehaviorOptions:void 0}:B,ee=Ea(!1,Ln.Redirect);return ee.url=O,ee.navigationBehaviorOptions=j,ee}function Ea(M,B){const O=new Error(`NavigationCancelingError: ${M||""}`);return O[po]=!0,O.cancellationCode=B,O}function hs(M){return!!M&&M[po]}class yi{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(B,O,j,ee,Ie){this.routeReuseStrategy=B,this.futureState=O,this.currState=j,this.forwardEvent=ee,this.inputBindingEnabled=Ie}activate(B){const O=this.futureState._root,j=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,j,B),no(this.futureState.root),this.activateChildRoutes(O,j,B)}deactivateChildRoutes(B,O,j){const ee=Un(O);B.children.forEach(Ie=>{const _e=Ie.value.outlet;this.deactivateRoutes(Ie,ee[_e],j),delete ee[_e]}),Object.values(ee).forEach(Ie=>{this.deactivateRouteAndItsChildren(Ie,j)})}deactivateRoutes(B,O,j){const ee=B.value,Ie=O?O.value:null;if(ee===Ie)if(ee.component){const _e=j.getContext(ee.outlet);_e&&this.deactivateChildRoutes(B,O,_e.children)}else this.deactivateChildRoutes(B,O,j);else Ie&&this.deactivateRouteAndItsChildren(O,j)}deactivateRouteAndItsChildren(B,O){B.value.component&&this.routeReuseStrategy.shouldDetach(B.value.snapshot)?this.detachAndStoreRouteSubtree(B,O):this.deactivateRouteAndOutlet(B,O)}detachAndStoreRouteSubtree(B,O){const j=O.getContext(B.value.outlet),ee=j&&B.value.component?j.children:O,Ie=Un(B);for(const _e of Object.values(Ie))this.deactivateRouteAndItsChildren(_e,ee);if(j&&j.outlet){const _e=j.outlet.detach(),Et=j.children.onOutletDeactivated();this.routeReuseStrategy.store(B.value.snapshot,{componentRef:_e,route:B,contexts:Et})}}deactivateRouteAndOutlet(B,O){const j=O.getContext(B.value.outlet),ee=j&&B.value.component?j.children:O,Ie=Un(B);for(const _e of Object.values(Ie))this.deactivateRouteAndItsChildren(_e,ee);j&&(j.outlet&&(j.outlet.deactivate(),j.children.onOutletDeactivated()),j.attachRef=null,j.route=null)}activateChildRoutes(B,O,j){const ee=Un(O);B.children.forEach(Ie=>{this.activateRoutes(Ie,ee[Ie.value.outlet],j),this.forwardEvent(new qe(Ie.value.snapshot))}),B.children.length&&this.forwardEvent(new se(B.value.snapshot))}activateRoutes(B,O,j){const ee=B.value,Ie=O?O.value:null;if(no(ee),ee===Ie)if(ee.component){const _e=j.getOrCreateContext(ee.outlet);this.activateChildRoutes(B,O,_e.children)}else this.activateChildRoutes(B,O,j);else if(ee.component){const _e=j.getOrCreateContext(ee.outlet);if(this.routeReuseStrategy.shouldAttach(ee.snapshot)){const Et=this.routeReuseStrategy.retrieve(ee.snapshot);this.routeReuseStrategy.store(ee.snapshot,null),_e.children.onOutletReAttached(Et.contexts),_e.attachRef=Et.componentRef,_e.route=Et.route.value,_e.outlet&&_e.outlet.attach(Et.componentRef,Et.route.value),no(Et.route.value),this.activateChildRoutes(B,null,_e.children)}else _e.attachRef=null,_e.route=ee,_e.outlet&&_e.outlet.activateWith(ee,_e.injector),this.activateChildRoutes(B,null,_e.children)}else this.activateChildRoutes(B,null,j)}}class Qr{path;route;constructor(B){this.path=B,this.route=this.path[this.path.length-1]}}class os{component;route;constructor(B,O){this.component=B,this.route=O}}function el(M,B,O){const j=M._root;return Ls(j,B?B._root:null,O,[j.value])}function ca(M,B){const O=Symbol(),j=B.get(M,O);return j===O?"function"!=typeof M||(0,le.LfX)(M)?B.get(M):M:j}function Ls(M,B,O,j,ee={canDeactivateChecks:[],canActivateChecks:[]}){const Ie=Un(B);return M.children.forEach(_e=>{(function Jr(M,B,O,j,ee={canDeactivateChecks:[],canActivateChecks:[]}){const Ie=M.value,_e=B?B.value:null,Et=O?O.getContext(M.value.outlet):null;if(_e&&Ie.routeConfig===_e.routeConfig){const $t=function ie(M,B,O){if("function"==typeof O)return O(M,B);switch(O){case"pathParamsChange":return!Kr(M.url,B.url);case"pathParamsOrQueryParamsChange":return!Kr(M.url,B.url)||!Lr(M.queryParams,B.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wo(M,B)||!Lr(M.queryParams,B.queryParams);default:return!Wo(M,B)}}(_e,Ie,Ie.routeConfig.runGuardsAndResolvers);$t?ee.canActivateChecks.push(new Qr(j)):(Ie.data=_e.data,Ie._resolvedData=_e._resolvedData),Ls(M,B,Ie.component?Et?Et.children:null:O,j,ee),$t&&Et&&Et.outlet&&Et.outlet.isActivated&&ee.canDeactivateChecks.push(new os(Et.outlet.component,_e))}else _e&&re(B,Et,ee),ee.canActivateChecks.push(new Qr(j)),Ls(M,null,Ie.component?Et?Et.children:null:O,j,ee)})(_e,Ie[_e.value.outlet],O,j.concat([_e.value]),ee),delete Ie[_e.value.outlet]}),Object.entries(Ie).forEach(([_e,Et])=>re(Et,O.getContext(_e),ee)),ee}function re(M,B,O){const j=Un(M),ee=M.value;Object.entries(j).forEach(([Ie,_e])=>{re(_e,ee.component?B?B.children.getContext(Ie):null:B,O)}),O.canDeactivateChecks.push(new os(ee.component&&B&&B.outlet&&B.outlet.isActivated?B.outlet.component:null,ee))}function ke(M){return"function"==typeof M}function Ur(M){return M instanceof Fe.G||"EmptyError"===M?.name}const Ir=Symbol("INITIAL_VALUE");function ii(){return(0,Pt.n)(M=>(0,Ve.z)(M.map(B=>B.pipe((0,lr.s)(1),function hr(...M){const B=(0,Ct.lI)(M);return(0,Qe.N)((O,j)=>{(B?Qt(M,O,B):Qt(M,O)).subscribe(j)})}(Ir)))).pipe((0,xt.T)(B=>{for(const O of B)if(!0!==O){if(O===Ir)return Ir;if(!1===O||Zi(O))return O}return!0}),(0,yr.p)(B=>B!==Ir),(0,lr.s)(1)))}function Zi(M){return Qn(M)||M instanceof ro}function jr(M){return(0,In.F)(Te(B=>{if("boolean"!=typeof B)throw Fs(0,B)}),(0,xt.T)(B=>!0===B))}class Ps{segmentGroup;constructor(B){this.segmentGroup=B||null}}class ho extends Error{urlTree;constructor(B){super(),this.urlTree=B}}function Fo(M){return Ut(new Ps(M))}class ua{urlSerializer;urlTree;constructor(B,O){this.urlSerializer=B,this.urlTree=O}lineralizeSegments(B,O){let j=[],ee=O.root;for(;;){if(j=j.concat(ee.segments),0===ee.numberOfChildren)return(0,Le.of)(j);if(ee.numberOfChildren>1||!ee.children[Xt])return Ut(new le.wOt(4e3,!1));ee=ee.children[Xt]}}applyRedirectCommands(B,O,j,ee,Ie){if("string"!=typeof O){const Et=O,{queryParams:$t,fragment:Sn,routeConfig:ui,url:Er,outlet:Ko,params:$a,data:ra,title:Nl}=ee,ml=(0,le.N4e)(Ie,()=>Et({params:$a,data:ra,queryParams:$t,fragment:Sn,routeConfig:ui,url:Er,outlet:Ko,title:Nl}));if(ml instanceof fi)throw new ho(ml);O=ml}const _e=this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),B,j);if("/"===O[0])throw new ho(_e);return _e}applyRedirectCreateUrlTree(B,O,j,ee){const Ie=this.createSegmentGroup(B,O.root,j,ee);return new fi(Ie,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(B,O){const j={};return Object.entries(B).forEach(([ee,Ie])=>{if("string"==typeof Ie&&":"===Ie[0]){const Et=Ie.substring(1);j[ee]=O[Et]}else j[ee]=Ie}),j}createSegmentGroup(B,O,j,ee){const Ie=this.createSegments(B,O.segments,j,ee);let _e={};return Object.entries(O.children).forEach(([Et,$t])=>{_e[Et]=this.createSegmentGroup(B,$t,j,ee)}),new Tr(Ie,_e)}createSegments(B,O,j,ee){return O.map(Ie=>":"===Ie.path[0]?this.findPosParam(B,Ie,ee):this.findOrReturn(Ie,j))}findPosParam(B,O,j){const ee=j[O.path.substring(1)];if(!ee)throw new le.wOt(4001,!1);return ee}findOrReturn(B,O){let j=0;for(const ee of O){if(ee.path===B.path)return O.splice(j),ee;j++}return B}}const Rc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xc(M,B,O,j,ee){const Ie=Pc(M,B,O);return Ie.matched?(j=function Ai(M,B){return M.providers&&!M._injector&&(M._injector=(0,le.Ol2)(M.providers,B,`Route: ${M.path}`)),M._injector??B}(B,j),function fs(M,B,O,j){const ee=B.canMatch;if(!ee||0===ee.length)return(0,Le.of)(!0);const Ie=ee.map(_e=>{const Et=ca(_e,M);return kn(function zn(M){return M&&ke(M.canMatch)}(Et)?Et.canMatch(B,O):(0,le.N4e)(M,()=>Et(B,O)))});return(0,Le.of)(Ie).pipe(ii(),jr())}(j,B,O).pipe((0,xt.T)(_e=>!0===_e?Ie:{...Rc}))):(0,Le.of)(Ie)}function Pc(M,B,O){if("**"===B.path)return function Zs(M){return{matched:!0,parameters:M.length>0?Es(M).parameters:{},consumedSegments:M,remainingSegments:[],positionalParamSegments:{}}}(O);if(""===B.path)return"full"===B.pathMatch&&(M.hasChildren()||O.length>0)?{...Rc}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const ee=(B.matcher||ar)(O,M,B);if(!ee)return{...Rc};const Ie={};Object.entries(ee.posParams??{}).forEach(([Et,$t])=>{Ie[Et]=$t.path});const _e=ee.consumed.length>0?{...Ie,...ee.consumed[ee.consumed.length-1].parameters}:Ie;return{matched:!0,consumedSegments:ee.consumed,remainingSegments:O.slice(ee.consumed.length),parameters:_e,positionalParamSegments:ee.posParams??{}}}function Na(M,B,O,j){return O.length>0&&function ja(M,B,O){return O.some(j=>wa(M,B,j)&&Si(j)!==Xt)}(M,O,j)?{segmentGroup:new Tr(B,Lo(j,new Tr(O,M.children))),slicedSegments:[]}:0===O.length&&function gl(M,B,O){return O.some(j=>wa(M,B,j))}(M,O,j)?{segmentGroup:new Tr(M.segments,Qi(M,O,j,M.children)),slicedSegments:O}:{segmentGroup:new Tr(M.segments,M.children),slicedSegments:O}}function Qi(M,B,O,j){const ee={};for(const Ie of O)if(wa(M,B,Ie)&&!j[Si(Ie)]){const _e=new Tr([],{});ee[Si(Ie)]=_e}return{...j,...ee}}function Lo(M,B){const O={};O[Xt]=B;for(const j of M)if(""===j.path&&Si(j)!==Xt){const ee=new Tr([],{});O[Si(j)]=ee}return O}function wa(M,B,O){return(!(M.hasChildren()||B.length>0)||"full"!==O.pathMatch)&&""===O.path}class Pl{}class nc{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(B,O,j,ee,Ie,_e,Et){this.injector=B,this.configLoader=O,this.rootComponentType=j,this.config=ee,this.urlTree=Ie,this.paramsInheritanceStrategy=_e,this.urlSerializer=Et,this.applyRedirects=new ua(this.urlSerializer,this.urlTree)}noMatchError(B){return new le.wOt(4002,`'${B.segmentGroup}'`)}recognize(){const B=Na(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(B).pipe((0,xt.T)(({children:O,rootSnapshot:j})=>{const ee=new mn(j,O),Ie=new jn("",ee),_e=function Zr(M,B,O=null,j=null){return Ee(ge(M),B,O,j)}(j,[],this.urlTree.queryParams,this.urlTree.fragment);return _e.queryParams=this.urlTree.queryParams,Ie.url=this.urlSerializer.serialize(_e),{state:Ie,tree:_e}}))}match(B){const O=new ea([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Xt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,B,Xt,O).pipe((0,xt.T)(j=>({children:j,rootSnapshot:O})),(0,De.W)(j=>{if(j instanceof ho)return this.urlTree=j.urlTree,this.match(j.urlTree.root);throw j instanceof Ps?this.noMatchError(j):j}))}processSegmentGroup(B,O,j,ee,Ie){return 0===j.segments.length&&j.hasChildren()?this.processChildren(B,O,j,Ie):this.processSegment(B,O,j,j.segments,ee,!0,Ie).pipe((0,xt.T)(_e=>_e instanceof mn?[_e]:[]))}processChildren(B,O,j,ee){const Ie=[];for(const _e of Object.keys(j.children))"primary"===_e?Ie.unshift(_e):Ie.push(_e);return(0,Oe.H)(Ie).pipe((0,de.H)(_e=>{const Et=j.children[_e],$t=function Fi(M,B){const O=M.filter(j=>Si(j)===B);return O.push(...M.filter(j=>Si(j)!==B)),O}(O,_e);return this.processSegmentGroup(B,$t,Et,_e,ee)}),function me(M,B){return(0,Qe.N)(function xe(M,B,O,j,ee){return(Ie,_e)=>{let Et=O,$t=B,Sn=0;Ie.subscribe((0,vt._)(_e,ui=>{const Er=Sn++;$t=Et?M($t,ui,Er):(Et=!0,ui),j&&_e.next($t)},ee&&(()=>{Et&&_e.next($t),_e.complete()})))}}(M,B,arguments.length>=2,!0))}((_e,Et)=>(_e.push(...Et),_e)),Wn(null),function ft(M,B){const O=arguments.length>=2;return j=>j.pipe(M?(0,yr.p)((ee,Ie)=>M(ee,Ie,j)):rn.D,Re(1),O?Wn(B):Ot(()=>new Fe.G))}(),(0,bt.Z)(_e=>{if(null===_e)return Fo(j);const Et=Ml(_e);return function rc(M){M.sort((B,O)=>B.value.outlet===Xt?-1:O.value.outlet===Xt?1:B.value.outlet.localeCompare(O.value.outlet))}(Et),(0,Le.of)(Et)}))}processSegment(B,O,j,ee,Ie,_e,Et){return(0,Oe.H)(O).pipe((0,de.H)($t=>this.processSegmentAgainstRoute($t._injector??B,O,$t,j,ee,Ie,_e,Et).pipe((0,De.W)(Sn=>{if(Sn instanceof Ps)return(0,Le.of)(null);throw Sn}))),st($t=>!!$t),(0,De.W)($t=>{if(Ur($t))return function ys(M,B,O){return 0===B.length&&!M.children[O]}(j,ee,Ie)?(0,Le.of)(new Pl):Fo(j);throw $t}))}processSegmentAgainstRoute(B,O,j,ee,Ie,_e,Et,$t){return Si(j)===_e||_e!==Xt&&wa(ee,Ie,j)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(B,ee,j,Ie,_e,$t):this.allowRedirects&&Et?this.expandSegmentAgainstRouteUsingRedirect(B,ee,O,j,Ie,_e,$t):Fo(ee):Fo(ee)}expandSegmentAgainstRouteUsingRedirect(B,O,j,ee,Ie,_e,Et){const{matched:$t,parameters:Sn,consumedSegments:ui,positionalParamSegments:Er,remainingSegments:Ko}=Pc(O,ee,Ie);if(!$t)return Fo(O);"string"==typeof ee.redirectTo&&"/"===ee.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const $a=new ea(Ie,Sn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ic(ee),Si(ee),ee.component??ee._loadedComponent??null,ee,sc(ee)),ra=Gi($a,Et,this.paramsInheritanceStrategy);$a.params=Object.freeze(ra.params),$a.data=Object.freeze(ra.data);const Nl=this.applyRedirects.applyRedirectCommands(ui,ee.redirectTo,Er,$a,B);return this.applyRedirects.lineralizeSegments(ee,Nl).pipe((0,bt.Z)(ml=>this.processSegment(B,j,O,ml.concat(Ko),_e,!1,Et)))}matchSegmentAgainstRoute(B,O,j,ee,Ie,_e){const Et=xc(O,j,ee,B);return"**"===j.path&&(O.children={}),Et.pipe((0,Pt.n)($t=>$t.matched?this.getChildConfig(B=j._injector??B,j,ee).pipe((0,Pt.n)(({routes:Sn})=>{const ui=j._loadedInjector??B,{parameters:Er,consumedSegments:Ko,remainingSegments:$a}=$t,ra=new ea(Ko,Er,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ic(j),Si(j),j.component??j._loadedComponent??null,j,sc(j)),Nl=Gi(ra,_e,this.paramsInheritanceStrategy);ra.params=Object.freeze(Nl.params),ra.data=Object.freeze(Nl.data);const{segmentGroup:ml,slicedSegments:_l}=Na(O,Ko,$a,Sn);if(0===_l.length&&ml.hasChildren())return this.processChildren(ui,Sn,ml,ra).pipe((0,xt.T)(Ph=>new mn(ra,Ph)));if(0===Sn.length&&0===_l.length)return(0,Le.of)(new mn(ra,[]));const yl=Si(j)===Ie;return this.processSegment(ui,Sn,ml,_l,yl?Xt:Ie,!0,ra).pipe((0,xt.T)(Ph=>new mn(ra,Ph instanceof mn?[Ph]:[])))})):Fo(O)))}getChildConfig(B,O,j){return O.children?(0,Le.of)({routes:O.children,injector:B}):O.loadChildren?void 0!==O._loadedRoutes?(0,Le.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function dr(M,B,O,j){const ee=B.canLoad;if(void 0===ee||0===ee.length)return(0,Le.of)(!0);const Ie=ee.map(_e=>{const Et=ca(_e,M);return kn(function It(M){return M&&ke(M.canLoad)}(Et)?Et.canLoad(B,O):(0,le.N4e)(M,()=>Et(B,O)))});return(0,Le.of)(Ie).pipe(ii(),jr())}(B,O,j).pipe((0,bt.Z)(ee=>ee?this.configLoader.loadChildren(B,O).pipe(Te(Ie=>{O._loadedRoutes=Ie.routes,O._loadedInjector=Ie.injector})):function pl(){return Ut(Ea(!1,Ln.GuardRejected))}())):(0,Le.of)({routes:[],injector:B})}}function cu(M){const B=M.value.routeConfig;return B&&""===B.path}function Ml(M){const B=[],O=new Set;for(const j of M){if(!cu(j)){B.push(j);continue}const ee=B.find(Ie=>j.value.routeConfig===Ie.value.routeConfig);void 0!==ee?(ee.children.push(...j.children),O.add(ee)):B.push(j)}for(const j of O){const ee=Ml(j.children);B.push(new mn(j.value,ee))}return B.filter(j=>!O.has(j))}function ic(M){return M.data||{}}function sc(M){return M.resolve||{}}function An(M){const B=M.children.map(O=>An(O)).flat();return[M,...B]}function Ts(M){return(0,Pt.n)(B=>{const O=M(B);return O?(0,Oe.H)(O).pipe((0,xt.T)(()=>B)):(0,Le.of)(B)})}let Co=(()=>{class M{buildTitle(O){let j,ee=O.root;for(;void 0!==ee;)j=this.getResolvedTitleForRoute(ee)??j,ee=ee.children.find(Ie=>Ie.outlet===Xt);return j}getResolvedTitleForRoute(O){return O.data[gr]}static \u0275fac=function(j){return new(j||M)};static \u0275prov=le.jDH({token:M,factory:()=>(0,le.WQX)(Cs),providedIn:"root"})}return M})(),Cs=(()=>{class M extends Co{title;constructor(O){super(),this.title=O}updateTitle(O){const j=this.buildTitle(O);void 0!==j&&this.title.setTitle(j)}static \u0275fac=function(j){return new(j||M)(le.KVO(Dr.hE))};static \u0275prov=le.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();const ci=new le.nKC("",{providedIn:"root",factory:()=>({})}),F=new le.nKC("");let V=(()=>{class M{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,le.WQX)(le.Ql9);loadComponent(O){if(this.componentLoaders.get(O))return this.componentLoaders.get(O);if(O._loadedComponent)return(0,Le.of)(O._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(O);const j=kn(O.loadComponent()).pipe((0,xt.T)(Jt),Te(Ie=>{this.onLoadEndListener&&this.onLoadEndListener(O),O._loadedComponent=Ie}),(0,jt.j)(()=>{this.componentLoaders.delete(O)})),ee=new kt(j,()=>new hn.B).pipe(ht());return this.componentLoaders.set(O,ee),ee}loadChildren(O,j){if(this.childrenLoaders.get(j))return this.childrenLoaders.get(j);if(j._loadedRoutes)return(0,Le.of)({routes:j._loadedRoutes,injector:j._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(j);const Ie=function J(M,B,O,j){return kn(M.loadChildren()).pipe((0,xt.T)(Jt),(0,bt.Z)(ee=>ee instanceof le.Co$||Array.isArray(ee)?(0,Le.of)(ee):(0,Oe.H)(B.compileModuleAsync(ee))),(0,xt.T)(ee=>{j&&j(M);let Ie,_e,Et=!1;return Array.isArray(ee)?(_e=ee,!0):(Ie=ee.create(O).injector,_e=Ie.get(F,[],{optional:!0,self:!0}).flat()),{routes:_e.map(No),injector:Ie}}))}(j,this.compiler,O,this.onLoadEndListener).pipe((0,jt.j)(()=>{this.childrenLoaders.delete(j)})),_e=new kt(Ie,()=>new hn.B).pipe(ht());return this.childrenLoaders.set(j,_e),_e}static \u0275fac=function(j){return new(j||M)};static \u0275prov=le.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();function Jt(M){return function ze(M){return M&&"object"==typeof M&&"default"in M}(M)?M.default:M}let Kn=(()=>{class M{static \u0275fac=function(j){return new(j||M)};static \u0275prov=le.jDH({token:M,factory:()=>(0,le.WQX)(Or),providedIn:"root"})}return M})(),Or=(()=>{class M{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,j){return O}static \u0275fac=function(j){return new(j||M)};static \u0275prov=le.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();const Vs=new le.nKC(""),qi=new le.nKC("");function vs(M,B,O){const j=M.get(qi),ee=M.get(T.q);return M.get(le.SKi).runOutsideAngular(()=>{if(!ee.startViewTransition||j.skipNextTransition)return j.skipNextTransition=!1,new Promise(Sn=>setTimeout(Sn));let Ie;const _e=new Promise(Sn=>{Ie=Sn}),Et=ee.startViewTransition(()=>(Ie(),function tl(M){return new Promise(B=>{(0,le.mal)({read:()=>setTimeout(B)},{injector:M})})}(M))),{onViewTransitionCreated:$t}=j;return $t&&(0,le.N4e)(M,()=>$t({transition:Et,from:B,to:O})),_e})}const Uo=new le.nKC("");let Do=(()=>{class M{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new hn.B;transitionAbortSubject=new hn.B;configLoader=(0,le.WQX)(V);environmentInjector=(0,le.WQX)(le.uvJ);destroyRef=(0,le.WQX)(le.abz);urlSerializer=(0,le.WQX)(zr);rootContexts=(0,le.WQX)(we);location=(0,le.WQX)(z.aZ);inputBindingEnabled=null!==(0,le.WQX)(co,{optional:!0});titleStrategy=(0,le.WQX)(Co);options=(0,le.WQX)(ci,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,le.WQX)(Kn);createViewTransition=(0,le.WQX)(Vs,{optional:!0});navigationErrorHandler=(0,le.WQX)(Uo,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,Le.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=ee=>this.events.next(new Z(ee)),this.configLoader.onLoadStartListener=ee=>this.events.next(new Is(ee)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(O){const j=++this.navigationId;this.transitions?.next({...O,extractedUrl:this.urlHandlingStrategy.extract(O.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:j})}setupNavigations(O){return this.transitions=new at.t(null),this.transitions.pipe((0,yr.p)(j=>null!==j),(0,Pt.n)(j=>{let ee=!1,Ie=!1;return(0,Le.of)(j).pipe((0,Pt.n)(_e=>{if(this.navigationId>j.id)return this.cancelNavigationTransition(j,"",Ln.SupersededByNewNavigation),Gt.w;this.currentTransition=j,this.currentNavigation={id:_e.id,initialUrl:_e.rawUrl,extractedUrl:_e.extractedUrl,targetBrowserUrl:"string"==typeof _e.extras.browserUrl?this.urlSerializer.parse(_e.extras.browserUrl):_e.extras.browserUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Et=!O.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Et&&"reload"!==(_e.extras.onSameUrlNavigation??O.onSameUrlNavigation)){const Sn="";return this.events.next(new Nr(_e.id,this.urlSerializer.serialize(_e.rawUrl),Sn,sr.IgnoredSameUrlNavigation)),_e.resolve(!1),Gt.w}if(this.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return(0,Le.of)(_e).pipe((0,Pt.n)(Sn=>(this.events.next(new an(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),Sn.source,Sn.restoredState)),Sn.id!==this.navigationId?Gt.w:Promise.resolve(Sn))),function Vo(M,B,O,j,ee,Ie){return(0,bt.Z)(_e=>function Ri(M,B,O,j,ee,Ie,_e="emptyOnly"){return new nc(M,B,O,j,ee,_e,Ie).recognize()}(M,B,O,j,_e.extractedUrl,ee,Ie).pipe((0,xt.T)(({state:Et,tree:$t})=>({..._e,targetSnapshot:Et,urlAfterRedirects:$t}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,O.config,this.urlSerializer,this.paramsInheritanceStrategy),Te(Sn=>{j.targetSnapshot=Sn.targetSnapshot,j.urlAfterRedirects=Sn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Sn.urlAfterRedirects};const ui=new Oo(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(ui)}));if(Et&&this.urlHandlingStrategy.shouldProcessUrl(_e.currentRawUrl)){const{id:Sn,extractedUrl:ui,source:Er,restoredState:Ko,extras:$a}=_e,ra=new an(Sn,this.urlSerializer.serialize(ui),Er,Ko);this.events.next(ra);const Nl=xs(this.rootComponentType).snapshot;return this.currentTransition=j={..._e,targetSnapshot:Nl,urlAfterRedirects:ui,extras:{...$a,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ui,(0,Le.of)(j)}{const Sn="";return this.events.next(new Nr(_e.id,this.urlSerializer.serialize(_e.extractedUrl),Sn,sr.IgnoredByUrlHandlingStrategy)),_e.resolve(!1),Gt.w}}),Te(_e=>{const Et=new Ni(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(Et)}),(0,xt.T)(_e=>(this.currentTransition=j={..._e,guards:el(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)},j)),function Ki(M,B){return(0,bt.Z)(O=>{const{targetSnapshot:j,currentSnapshot:ee,guards:{canActivateChecks:Ie,canDeactivateChecks:_e}}=O;return 0===_e.length&&0===Ie.length?(0,Le.of)({...O,guardsResult:!0}):function _s(M,B,O,j){return(0,Oe.H)(M).pipe((0,bt.Z)(ee=>function Pn(M,B,O,j,ee){const Ie=B&&B.routeConfig?B.routeConfig.canDeactivate:null;if(!Ie||0===Ie.length)return(0,Le.of)(!0);const _e=Ie.map(Et=>{const $t=Rs(B)??ee,Sn=ca(Et,$t);return kn(function Jn(M){return M&&ke(M.canDeactivate)}(Sn)?Sn.canDeactivate(M,B,O,j):(0,le.N4e)($t,()=>Sn(M,B,O,j))).pipe(st())});return(0,Le.of)(_e).pipe(ii())}(ee.component,ee.route,O,B,j)),st(ee=>!0!==ee,!0))}(_e,j,ee,M).pipe((0,bt.Z)(Et=>Et&&function Ke(M){return"boolean"==typeof M}(Et)?function G(M,B,O,j){return(0,Oe.H)(B).pipe((0,de.H)(ee=>Qt(function L(M,B){return null!==M&&B&&B(new Se(M)),(0,Le.of)(!0)}(ee.route.parent,j),function K(M,B){return null!==M&&B&&B(new pe(M)),(0,Le.of)(!0)}(ee.route,j),function Ue(M,B,O){const j=B[B.length-1],Ie=B.slice(0,B.length-1).reverse().map(_e=>function na(M){const B=M.routeConfig?M.routeConfig.canActivateChild:null;return B&&0!==B.length?{node:M,guards:B}:null}(_e)).filter(_e=>null!==_e).map(_e=>un(()=>{const Et=_e.guards.map($t=>{const Sn=Rs(_e.node)??O,ui=ca($t,Sn);return kn(function bn(M){return M&&ke(M.canActivateChild)}(ui)?ui.canActivateChild(j,M):(0,le.N4e)(Sn,()=>ui(j,M))).pipe(st())});return(0,Le.of)(Et).pipe(ii())}));return(0,Le.of)(Ie).pipe(ii())}(M,ee.path,O),function oe(M,B,O){const j=B.routeConfig?B.routeConfig.canActivate:null;if(!j||0===j.length)return(0,Le.of)(!0);const ee=j.map(Ie=>un(()=>{const _e=Rs(B)??O,Et=ca(Ie,_e);return kn(function tn(M){return M&&ke(M.canActivate)}(Et)?Et.canActivate(B,M):(0,le.N4e)(_e,()=>Et(B,M))).pipe(st())}));return(0,Le.of)(ee).pipe(ii())}(M,ee.route,O))),st(ee=>!0!==ee,!0))}(j,Ie,M,B):(0,Le.of)(Et)),(0,xt.T)(Et=>({...O,guardsResult:Et})))})}(this.environmentInjector,_e=>this.events.next(_e)),Te(_e=>{if(j.guardsResult=_e.guardsResult,_e.guardsResult&&"boolean"!=typeof _e.guardsResult)throw Fs(0,_e.guardsResult);const Et=new Os(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.events.next(Et)}),(0,yr.p)(_e=>!!_e.guardsResult||(this.cancelNavigationTransition(_e,"",Ln.GuardRejected),!1)),Ts(_e=>{if(0!==_e.guards.canActivateChecks.length)return(0,Le.of)(_e).pipe(Te(Et=>{const $t=new to(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects),Et.targetSnapshot);this.events.next($t)}),(0,Pt.n)(Et=>{let $t=!1;return(0,Le.of)(Et).pipe(function Oi(M,B){return(0,bt.Z)(O=>{const{targetSnapshot:j,guards:{canActivateChecks:ee}}=O;if(!ee.length)return(0,Le.of)(O);const Ie=new Set(ee.map($t=>$t.route)),_e=new Set;for(const $t of Ie)if(!_e.has($t))for(const Sn of An($t))_e.add(Sn);let Et=0;return(0,Oe.H)(_e).pipe((0,de.H)($t=>Ie.has($t)?function Pr(M,B,O,j){const ee=M.routeConfig,Ie=M._resolve;return void 0!==ee?.title&&!vo(ee)&&(Ie[gr]=ee.title),function as(M,B,O,j){const ee=kr(M);if(0===ee.length)return(0,Le.of)({});const Ie={};return(0,Oe.H)(ee).pipe((0,bt.Z)(_e=>function Bo(M,B,O,j){const ee=Rs(B)??j,Ie=ca(M,ee);return kn(Ie.resolve?Ie.resolve(B,O):(0,le.N4e)(ee,()=>Ie(B,O)))}(M[_e],B,O,j).pipe(st(),Te(Et=>{if(Et instanceof ro)throw Fs(new Xi,Et);Ie[_e]=Et}))),Re(1),(0,xt.T)(()=>Ie),(0,De.W)(_e=>Ur(_e)?Gt.w:Ut(_e)))}(Ie,M,B,j).pipe((0,xt.T)(_e=>(M._resolvedData=_e,M.data=Gi(M,M.parent,O).resolve,null)))}($t,j,M,B):($t.data=Gi($t,$t.parent,M).resolve,(0,Le.of)(void 0))),Te(()=>Et++),Re(1),(0,bt.Z)($t=>Et===_e.size?(0,Le.of)(O):Gt.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),Te({next:()=>$t=!0,complete:()=>{$t||this.cancelNavigationTransition(Et,"",Ln.NoDataFromResolver)}}))}),Te(Et=>{const $t=new zo(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects),Et.targetSnapshot);this.events.next($t)}))}),Ts(_e=>{const Et=$t=>{const Sn=[];$t.routeConfig?.loadComponent&&!$t.routeConfig._loadedComponent&&Sn.push(this.configLoader.loadComponent($t.routeConfig).pipe(Te(ui=>{$t.component=ui}),(0,xt.T)(()=>{})));for(const ui of $t.children)Sn.push(...Et(ui));return Sn};return(0,Ve.z)(Et(_e.targetSnapshot.root)).pipe(Wn(null),(0,lr.s)(1))}),Ts(()=>this.afterPreactivation()),(0,Pt.n)(()=>{const{currentSnapshot:_e,targetSnapshot:Et}=j,$t=this.createViewTransition?.(this.environmentInjector,_e.root,Et.root);return $t?(0,Oe.H)($t).pipe((0,xt.T)(()=>j)):(0,Le.of)(j)}),(0,xt.T)(_e=>{const Et=function _i(M,B,O){const j=ds(M,B._root,O?O._root:void 0);return new pr(j,B)}(O.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return this.currentTransition=j={..._e,targetRouterState:Et},this.currentNavigation.targetRouterState=Et,j}),Te(()=>{this.events.next(new xn)}),((M,B,O,j)=>(0,xt.T)(ee=>(new yi(B,ee.targetRouterState,ee.currentRouterState,O,j).activate(M),ee)))(this.rootContexts,O.routeReuseStrategy,_e=>this.events.next(_e),this.inputBindingEnabled),(0,lr.s)(1),Te({next:_e=>{ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dn(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects))),this.titleStrategy?.updateTitle(_e.targetRouterState.snapshot),_e.resolve(!0)},complete:()=>{ee=!0}}),function En(M){return(0,Qe.N)((B,O)=>{(0,Zt.Tg)(M).subscribe((0,vt._)(O,()=>O.complete(),Rn.l)),!O.closed&&B.subscribe(O)})}(this.transitionAbortSubject.pipe(Te(_e=>{throw _e}))),(0,jt.j)(()=>{!ee&&!Ie&&this.cancelNavigationTransition(j,"",Ln.SupersededByNewNavigation),this.currentTransition?.id===j.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,De.W)(_e=>{if(this.destroyed)return j.resolve(!1),Gt.w;if(Ie=!0,hs(_e))this.events.next(new xr(j.id,this.urlSerializer.serialize(j.extractedUrl),_e.message,_e.cancellationCode)),function Xs(M){return hs(M)&&Qn(M.url)}(_e)?this.events.next(new tr(_e.url,_e.navigationBehaviorOptions)):j.resolve(!1);else{const Et=new Di(j.id,this.urlSerializer.serialize(j.extractedUrl),_e,j.targetSnapshot??void 0);try{const $t=(0,le.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Et));if(!($t instanceof ro))throw this.events.next(Et),_e;{const{message:Sn,cancellationCode:ui}=Fs(0,$t);this.events.next(new xr(j.id,this.urlSerializer.serialize(j.extractedUrl),Sn,ui)),this.events.next(new tr($t.redirectTo,$t.navigationBehaviorOptions))}}catch($t){this.options.resolveNavigationPromiseOnError?j.resolve(!1):j.reject($t)}}return Gt.w}))}))}cancelNavigationTransition(O,j,ee){const Ie=new xr(O.id,this.urlSerializer.serialize(O.extractedUrl),j,ee);this.events.next(Ie),O.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const O=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),j=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return O.toString()!==j?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(j){return new(j||M)};static \u0275prov=le.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();function bo(M){return M!==Ne}let Ia=(()=>{class M{static \u0275fac=function(j){return new(j||M)};static \u0275prov=le.jDH({token:M,factory:()=>(0,le.WQX)(kl),providedIn:"root"})}return M})();class Ao{shouldDetach(B){return!1}store(B,O){}shouldAttach(B){return!1}retrieve(B){return null}shouldReuseRoute(B,O){return B.routeConfig===O.routeConfig}}let kl=(()=>{class M extends Ao{static \u0275fac=(()=>{let O;return function(ee){return(O||(O=le.xGo(M)))(ee||M)}})();static \u0275prov=le.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})(),nr=(()=>{class M{urlSerializer=(0,le.WQX)(zr);options=(0,le.WQX)(ci,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,le.WQX)(z.aZ);urlHandlingStrategy=(0,le.WQX)(Kn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new fi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:O,initialUrl:j,targetBrowserUrl:ee}){const Ie=void 0!==O?this.urlHandlingStrategy.merge(O,j):j,_e=ee??Ie;return _e instanceof fi?this.urlSerializer.serialize(_e):_e}commitTransition({targetRouterState:O,finalUrl:j,initialUrl:ee}){j&&O?(this.currentUrlTree=j,this.rawUrlTree=this.urlHandlingStrategy.merge(j,ee),this.routerState=O):this.rawUrlTree=ee}routerState=xs(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:O}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,O??this.rawUrlTree)}static \u0275fac=function(j){return new(j||M)};static \u0275prov=le.jDH({token:M,factory:()=>(0,le.WQX)(oc),providedIn:"root"})}return M})(),oc=(()=>{class M extends nr{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(O){return this.location.subscribe(j=>{"popstate"===j.type&&setTimeout(()=>{O(j.url,j.state,"popstate")})})}handleRouterEvent(O,j){O instanceof an?this.updateStateMemento():O instanceof Nr?this.commitTransition(j):O instanceof Oo?"eager"===this.urlUpdateStrategy&&(j.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(j),j)):O instanceof xn?(this.commitTransition(j),"deferred"===this.urlUpdateStrategy&&!j.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(j),j)):O instanceof xr&&(O.code===Ln.GuardRejected||O.code===Ln.NoDataFromResolver)?this.restoreHistory(j):O instanceof Di?this.restoreHistory(j,!0):O instanceof dn&&(this.lastSuccessfulId=O.id,this.currentPageId=this.browserPageId)}setBrowserUrl(O,{extras:j,id:ee}){const{replaceUrl:Ie,state:_e}=j;if(this.location.isCurrentPathEqualTo(O)||Ie){const Et=this.browserPageId,$t={..._e,...this.generateNgRouterState(ee,Et)};this.location.replaceState(O,"",$t)}else{const Et={..._e,...this.generateNgRouterState(ee,this.browserPageId+1)};this.location.go(O,"",Et)}}restoreHistory(O,j=!1){if("computed"===this.canceledNavigationResolution){const Ie=this.currentPageId-this.browserPageId;0!==Ie?this.location.historyGo(Ie):this.getCurrentUrlTree()===O.finalUrl&&0===Ie&&(this.resetInternalState(O),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(j&&this.resetInternalState(O),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(O,j){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:j}:{navigationId:O}}static \u0275fac=(()=>{let O;return function(ee){return(O||(O=le.xGo(M)))(ee||M)}})();static \u0275prov=le.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})();function Ta(M,B){M.events.pipe((0,yr.p)(O=>O instanceof dn||O instanceof xr||O instanceof Di||O instanceof Nr),(0,xt.T)(O=>O instanceof dn||O instanceof Nr?0:O instanceof xr&&(O.code===Ln.Redirect||O.code===Ln.SupersededByNewNavigation)?2:1),(0,yr.p)(O=>2!==O),(0,lr.s)(1)).subscribe(()=>{B()})}const da={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ol={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mc=(()=>{class M{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,le.WQX)(le.H3F);stateManager=(0,le.WQX)(nr);options=(0,le.WQX)(ci,{optional:!0})||{};pendingTasks=(0,le.WQX)(le.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,le.WQX)(Do);urlSerializer=(0,le.WQX)(zr);location=(0,le.WQX)(z.aZ);urlHandlingStrategy=(0,le.WQX)(Kn);_events=new hn.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,le.WQX)(Ia);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,le.WQX)(F,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,le.WQX)(co,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:O=>{this.console.warn(O)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Kt.yU;subscribeToNavigationEvents(){const O=this.navigationTransitions.events.subscribe(j=>{try{const ee=this.navigationTransitions.currentTransition,Ie=this.navigationTransitions.currentNavigation;if(null!==ee&&null!==Ie)if(this.stateManager.handleRouterEvent(j,Ie),j instanceof xr&&j.code!==Ln.Redirect&&j.code!==Ln.SupersededByNewNavigation)this.navigated=!0;else if(j instanceof dn)this.navigated=!0;else if(j instanceof tr){const _e=j.navigationBehaviorOptions,Et=this.urlHandlingStrategy.merge(j.url,ee.currentRawUrl),$t={browserUrl:ee.extras.browserUrl,info:ee.extras.info,skipLocationChange:ee.extras.skipLocationChange,replaceUrl:ee.extras.replaceUrl||"eager"===this.urlUpdateStrategy||bo(ee.source),..._e};this.scheduleNavigation(Et,Ne,null,$t,{resolve:ee.resolve,reject:ee.reject,promise:ee.promise})}(function js(M){return!(M instanceof xn||M instanceof tr)})(j)&&this._events.next(j)}catch(ee){this.navigationTransitions.transitionAbortSubject.next(ee)}});this.eventsSubscription.add(O)}resetRootComponentType(O){this.routerState.root.component=O,this.navigationTransitions.rootComponentType=O}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ne,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((O,j,ee)=>{this.navigateToSyncWithBrowser(O,ee,j)})}navigateToSyncWithBrowser(O,j,ee){const Ie={replaceUrl:!0},_e=ee?.navigationId?ee:null;if(ee){const $t={...ee};delete $t.navigationId,delete $t.\u0275routerPageId,0!==Object.keys($t).length&&(Ie.state=$t)}const Et=this.parseUrl(O);this.scheduleNavigation(Et,j,_e,Ie)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(O){this.config=O.map(No),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(O,j={}){const{relativeTo:ee,queryParams:Ie,fragment:_e,queryParamsHandling:Et,preserveFragment:$t}=j,Sn=$t?this.currentUrlTree.fragment:_e;let Er,ui=null;switch(Et??this.options.defaultQueryParamsHandling){case"merge":ui={...this.currentUrlTree.queryParams,...Ie};break;case"preserve":ui=this.currentUrlTree.queryParams;break;default:ui=Ie||null}null!==ui&&(ui=this.removeEmptyProps(ui));try{Er=ge(ee?ee.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof O[0]||"/"!==O[0][0])&&(O=[]),Er=this.currentUrlTree.root}return Ee(Er,O,ui,Sn??null)}navigateByUrl(O,j={skipLocationChange:!1}){const ee=Qn(O)?O:this.parseUrl(O),Ie=this.urlHandlingStrategy.merge(ee,this.rawUrlTree);return this.scheduleNavigation(Ie,Ne,null,j)}navigate(O,j={skipLocationChange:!1}){return function Us(M){for(let B=0;B<M.length;B++)if(null==M[B])throw new le.wOt(4008,!1)}(O),this.navigateByUrl(this.createUrlTree(O,j),j)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){try{return this.urlSerializer.parse(O)}catch{return this.urlSerializer.parse("/")}}isActive(O,j){let ee;if(ee=!0===j?{...da}:!1===j?{...Ol}:j,Qn(O))return Ss(this.currentUrlTree,O,ee);const Ie=this.parseUrl(O);return Ss(this.currentUrlTree,Ie,ee)}removeEmptyProps(O){return Object.entries(O).reduce((j,[ee,Ie])=>(null!=Ie&&(j[ee]=Ie),j),{})}scheduleNavigation(O,j,ee,Ie,_e){if(this.disposed)return Promise.resolve(!1);let Et,$t,Sn;_e?(Et=_e.resolve,$t=_e.reject,Sn=_e.promise):Sn=new Promise((Er,Ko)=>{Et=Er,$t=Ko});const ui=this.pendingTasks.add();return Ta(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ui))}),this.navigationTransitions.handleNavigationRequest({source:j,restoredState:ee,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:O,extras:Ie,resolve:Et,reject:$t,promise:Sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Sn.catch(Er=>Promise.reject(Er))}static \u0275fac=function(j){return new(j||M)};static \u0275prov=le.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},7440:(qn,ot,Q)=>{"use strict";Q.d(ot,{MW:()=>yt,Wp:()=>un,XU:()=>A,gL:()=>We});var T=Q(2214),z=Q(1360),le=Q(2967);class A{constructor(vt){return vt}}class We{constructor(){return(0,T.Dk)()}}const Le=new z.nKC("angularfire2._apps"),at={provide:A,useFactory:function Oe(Qe){return Qe&&1===Qe.length?Qe[0]:new A((0,T.Sx)())},deps:[[new z.Xx1,Le]]},Ve={provide:We,deps:[[new z.Xx1,Le]]};function Fe(Qe){return(vt,ht)=>{const kt=ht.get(z.Agw);(0,T.KO)("angularfire",le.xv.full,"core"),(0,T.KO)("angularfire",le.xv.full,"app"),(0,T.KO)("angular",z.xvI.full,kt.toString());const hn=vt.runOutsideAngular(()=>Qe(ht));return new A(hn)}}function yt(Qe,...vt){return(0,z.EmA)([at,Ve,{provide:Le,useFactory:Fe(Qe),multi:!0,deps:[z.SKi,z.zZn,le.u0,...vt]}])}const un=(0,le.S3)(T.Wp,!0)},7441:(qn,ot,Q)=>{"use strict";Q.d(ot,{X:()=>T});const T=z=>z&&"number"==typeof z.length&&"function"!=typeof z},7643:(qn,ot,Q)=>{"use strict";Q.d(ot,{$R:()=>Yr,Qq:()=>En}),Q(467);var z=Q(1360),le=Q(274),A=Q(5964),We=Q(6354),pt=Q(980),Oe=Q(5558),Le=Q(7673),at=Q(1985),Ve=Q(8455),Fe=Q(9377),At=Q(9361);class yt{}class Ct{}class Qt{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(Ee){Ee?"string"==typeof Ee?this.lazyInit=()=>{this.headers=new Map,Ee.split("\n").forEach(He=>{const mt=He.indexOf(":");if(mt>0){const Bt=He.slice(0,mt),ve=He.slice(mt+1).trim();this.addHeaderEntry(Bt,ve)}})}:typeof Headers<"u"&&Ee instanceof Headers?(this.headers=new Map,Ee.forEach((He,mt)=>{this.addHeaderEntry(mt,He)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ee).forEach(([He,mt])=>{this.setHeaderEntries(He,mt)})}:this.headers=new Map}has(Ee){return this.init(),this.headers.has(Ee.toLowerCase())}get(Ee){this.init();const He=this.headers.get(Ee.toLowerCase());return He&&He.length>0?He[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ee){return this.init(),this.headers.get(Ee.toLowerCase())||null}append(Ee,He){return this.clone({name:Ee,value:He,op:"a"})}set(Ee,He){return this.clone({name:Ee,value:He,op:"s"})}delete(Ee,He){return this.clone({name:Ee,value:He,op:"d"})}maybeSetNormalizedName(Ee,He){this.normalizedNames.has(He)||this.normalizedNames.set(He,Ee)}init(){this.lazyInit&&(this.lazyInit instanceof Qt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ee=>this.applyUpdate(Ee)),this.lazyUpdate=null))}copyFrom(Ee){Ee.init(),Array.from(Ee.headers.keys()).forEach(He=>{this.headers.set(He,Ee.headers.get(He)),this.normalizedNames.set(He,Ee.normalizedNames.get(He))})}clone(Ee){const He=new Qt;return He.lazyInit=this.lazyInit&&this.lazyInit instanceof Qt?this.lazyInit:this,He.lazyUpdate=(this.lazyUpdate||[]).concat([Ee]),He}applyUpdate(Ee){const He=Ee.name.toLowerCase();switch(Ee.op){case"a":case"s":let mt=Ee.value;if("string"==typeof mt&&(mt=[mt]),0===mt.length)return;this.maybeSetNormalizedName(Ee.name,He);const Bt=("a"===Ee.op?this.headers.get(He):void 0)||[];Bt.push(...mt),this.headers.set(He,Bt);break;case"d":const ve=Ee.value;if(ve){let Pe=this.headers.get(He);if(!Pe)return;Pe=Pe.filter(tt=>-1===ve.indexOf(tt)),0===Pe.length?(this.headers.delete(He),this.normalizedNames.delete(He)):this.headers.set(He,Pe)}else this.headers.delete(He),this.normalizedNames.delete(He)}}addHeaderEntry(Ee,He){const mt=Ee.toLowerCase();this.maybeSetNormalizedName(Ee,mt),this.headers.has(mt)?this.headers.get(mt).push(He):this.headers.set(mt,[He])}setHeaderEntries(Ee,He){const mt=(Array.isArray(He)?He:[He]).map(ve=>ve.toString()),Bt=Ee.toLowerCase();this.headers.set(Bt,mt),this.maybeSetNormalizedName(Ee,Bt)}forEach(Ee){this.init(),Array.from(this.normalizedNames.keys()).forEach(He=>Ee(this.normalizedNames.get(He),this.headers.get(He)))}}class un{encodeKey(Ee){return Kt(Ee)}encodeValue(Ee){return Kt(Ee)}decodeKey(Ee){return decodeURIComponent(Ee)}decodeValue(Ee){return decodeURIComponent(Ee)}}const Ut=/%(\d[a-f0-9])/gi,Gt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Kt(ge){return encodeURIComponent(ge).replace(Ut,(Ee,He)=>Gt[He]??Ee)}function Qe(ge){return`${ge}`}class vt{map;encoder;updates=null;cloneFrom=null;constructor(Ee={}){if(this.encoder=Ee.encoder||new un,Ee.fromString){if(Ee.fromObject)throw new z.wOt(2805,!1);this.map=function In(ge,Ee){const He=new Map;return ge.length>0&&ge.replace(/^\?/,"").split("&").forEach(Bt=>{const ve=Bt.indexOf("="),[Pe,tt]=-1==ve?[Ee.decodeKey(Bt),""]:[Ee.decodeKey(Bt.slice(0,ve)),Ee.decodeValue(Bt.slice(ve+1))],qt=He.get(Pe)||[];qt.push(tt),He.set(Pe,qt)}),He}(Ee.fromString,this.encoder)}else Ee.fromObject?(this.map=new Map,Object.keys(Ee.fromObject).forEach(He=>{const mt=Ee.fromObject[He],Bt=Array.isArray(mt)?mt.map(Qe):[Qe(mt)];this.map.set(He,Bt)})):this.map=null}has(Ee){return this.init(),this.map.has(Ee)}get(Ee){this.init();const He=this.map.get(Ee);return He?He[0]:null}getAll(Ee){return this.init(),this.map.get(Ee)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ee,He){return this.clone({param:Ee,value:He,op:"a"})}appendAll(Ee){const He=[];return Object.keys(Ee).forEach(mt=>{const Bt=Ee[mt];Array.isArray(Bt)?Bt.forEach(ve=>{He.push({param:mt,value:ve,op:"a"})}):He.push({param:mt,value:Bt,op:"a"})}),this.clone(He)}set(Ee,He){return this.clone({param:Ee,value:He,op:"s"})}delete(Ee,He){return this.clone({param:Ee,value:He,op:"d"})}toString(){return this.init(),this.keys().map(Ee=>{const He=this.encoder.encodeKey(Ee);return this.map.get(Ee).map(mt=>He+"="+this.encoder.encodeValue(mt)).join("&")}).filter(Ee=>""!==Ee).join("&")}clone(Ee){const He=new vt({encoder:this.encoder});return He.cloneFrom=this.cloneFrom||this,He.updates=(this.updates||[]).concat(Ee),He}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ee=>this.map.set(Ee,this.cloneFrom.map.get(Ee))),this.updates.forEach(Ee=>{switch(Ee.op){case"a":case"s":const He=("a"===Ee.op?this.map.get(Ee.param):void 0)||[];He.push(Qe(Ee.value)),this.map.set(Ee.param,He);break;case"d":if(void 0===Ee.value){this.map.delete(Ee.param);break}{let mt=this.map.get(Ee.param)||[];const Bt=mt.indexOf(Qe(Ee.value));-1!==Bt&&mt.splice(Bt,1),mt.length>0?this.map.set(Ee.param,mt):this.map.delete(Ee.param)}}}),this.cloneFrom=this.updates=null)}}class kt{map=new Map;set(Ee,He){return this.map.set(Ee,He),this}get(Ee){return this.map.has(Ee)||this.map.set(Ee,Ee.defaultValue()),this.map.get(Ee)}delete(Ee){return this.map.delete(Ee),this}has(Ee){return this.map.has(Ee)}keys(){return this.map.keys()}}function xt(ge){return typeof ArrayBuffer<"u"&&ge instanceof ArrayBuffer}function Pt(ge){return typeof Blob<"u"&&ge instanceof Blob}function lr(ge){return typeof FormData<"u"&&ge instanceof FormData}const yr="Content-Type",Wn="X-Request-URL",Ot="text/plain",On="application/json",rn=`${On}, ${Ot}, */*`;class st{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(Ee,He,mt,Bt){let ve;if(this.url=He,this.method=Ee.toUpperCase(),function hn(ge){switch(ge){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Bt?(this.body=void 0!==mt?mt:null,ve=Bt):ve=mt,ve&&(this.reportProgress=!!ve.reportProgress,this.withCredentials=!!ve.withCredentials,ve.responseType&&(this.responseType=ve.responseType),ve.headers&&(this.headers=ve.headers),ve.context&&(this.context=ve.context),ve.params&&(this.params=ve.params),this.transferCache=ve.transferCache),this.headers??=new Qt,this.context??=new kt,this.params){const Pe=this.params.toString();if(0===Pe.length)this.urlWithParams=He;else{const tt=He.indexOf("?");this.urlWithParams=He+(-1===tt?"?":tt<He.length-1?"&":"")+Pe}}else this.params=new vt,this.urlWithParams=He}serializeBody(){return null===this.body?null:"string"==typeof this.body||xt(this.body)||Pt(this.body)||lr(this.body)||function hr(ge){return typeof URLSearchParams<"u"&&ge instanceof URLSearchParams}(this.body)?this.body:this.body instanceof vt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lr(this.body)?null:Pt(this.body)?this.body.type||null:xt(this.body)?null:"string"==typeof this.body?Ot:this.body instanceof vt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?On:null}clone(Ee={}){const He=Ee.method||this.method,mt=Ee.url||this.url,Bt=Ee.responseType||this.responseType,ve=Ee.transferCache??this.transferCache,Pe=void 0!==Ee.body?Ee.body:this.body,tt=Ee.withCredentials??this.withCredentials,qt=Ee.reportProgress??this.reportProgress;let Vt=Ee.headers||this.headers,Mt=Ee.params||this.params;const en=Ee.context??this.context;return void 0!==Ee.setHeaders&&(Vt=Object.keys(Ee.setHeaders).reduce((Tn,ir)=>Tn.set(ir,Ee.setHeaders[ir]),Vt)),Ee.setParams&&(Mt=Object.keys(Ee.setParams).reduce((Tn,ir)=>Tn.set(ir,Ee.setParams[ir]),Mt)),new st(He,mt,Pe,{params:Mt,headers:Vt,context:en,reportProgress:qt,responseType:Bt,withCredentials:tt,transferCache:ve})}}var de=function(ge){return ge[ge.Sent=0]="Sent",ge[ge.UploadProgress=1]="UploadProgress",ge[ge.ResponseHeader=2]="ResponseHeader",ge[ge.DownloadProgress=3]="DownloadProgress",ge[ge.Response=4]="Response",ge[ge.User=5]="User",ge}(de||{});class Te{headers;status;statusText;url;ok;type;constructor(Ee,He=200,mt="OK"){this.headers=Ee.headers||new Qt,this.status=void 0!==Ee.status?Ee.status:He,this.statusText=Ee.statusText||mt,this.url=Ee.url||null,this.ok=this.status>=200&&this.status<300}}class De extends Te{constructor(Ee={}){super(Ee)}type=de.ResponseHeader;clone(Ee={}){return new De({headers:Ee.headers||this.headers,status:void 0!==Ee.status?Ee.status:this.status,statusText:Ee.statusText||this.statusText,url:Ee.url||this.url||void 0})}}class xe extends Te{body;constructor(Ee={}){super(Ee),this.body=void 0!==Ee.body?Ee.body:null}type=de.Response;clone(Ee={}){return new xe({body:void 0!==Ee.body?Ee.body:this.body,headers:Ee.headers||this.headers,status:void 0!==Ee.status?Ee.status:this.status,statusText:Ee.statusText||this.statusText,url:Ee.url||this.url||void 0})}}class me extends Te{name="HttpErrorResponse";message;error;ok=!1;constructor(Ee){super(Ee,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ee.url||"(unknown url)"}`:`Http failure response for ${Ee.url||"(unknown url)"}: ${Ee.status} ${Ee.statusText}`,this.error=Ee.error||null}}function Rn(ge,Ee){return{body:Ee,headers:ge.headers,context:ge.context,observe:ge.observe,params:ge.params,reportProgress:ge.reportProgress,responseType:ge.responseType,withCredentials:ge.withCredentials,transferCache:ge.transferCache}}let En=(()=>{class ge{handler;constructor(He){this.handler=He}request(He,mt,Bt={}){let ve;if(He instanceof st)ve=He;else{let qt,Vt;qt=Bt.headers instanceof Qt?Bt.headers:new Qt(Bt.headers),Bt.params&&(Vt=Bt.params instanceof vt?Bt.params:new vt({fromObject:Bt.params})),ve=new st(He,mt,void 0!==Bt.body?Bt.body:null,{headers:qt,context:Bt.context,params:Vt,reportProgress:Bt.reportProgress,responseType:Bt.responseType||"json",withCredentials:Bt.withCredentials,transferCache:Bt.transferCache})}const Pe=(0,Le.of)(ve).pipe((0,le.H)(qt=>this.handler.handle(qt)));if(He instanceof st||"events"===Bt.observe)return Pe;const tt=Pe.pipe((0,A.p)(qt=>qt instanceof xe));switch(Bt.observe||"body"){case"body":switch(ve.responseType){case"arraybuffer":return tt.pipe((0,We.T)(qt=>{if(null!==qt.body&&!(qt.body instanceof ArrayBuffer))throw new z.wOt(2806,!1);return qt.body}));case"blob":return tt.pipe((0,We.T)(qt=>{if(null!==qt.body&&!(qt.body instanceof Blob))throw new z.wOt(2807,!1);return qt.body}));case"text":return tt.pipe((0,We.T)(qt=>{if(null!==qt.body&&"string"!=typeof qt.body)throw new z.wOt(2808,!1);return qt.body}));default:return tt.pipe((0,We.T)(qt=>qt.body))}case"response":return tt;default:throw new z.wOt(2809,!1)}}delete(He,mt={}){return this.request("DELETE",He,mt)}get(He,mt={}){return this.request("GET",He,mt)}head(He,mt={}){return this.request("HEAD",He,mt)}jsonp(He,mt){return this.request("JSONP",He,{params:(new vt).append(mt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(He,mt={}){return this.request("OPTIONS",He,mt)}patch(He,mt,Bt={}){return this.request("PATCH",He,Rn(Bt,mt))}post(He,mt,Bt={}){return this.request("POST",He,Rn(Bt,mt))}put(He,mt,Bt={}){return this.request("PUT",He,Rn(Bt,mt))}static \u0275fac=function(mt){return new(mt||ge)(z.KVO(yt))};static \u0275prov=z.jDH({token:ge,factory:ge.\u0275fac})}return ge})();const gr=new z.nKC("");function Lr(ge,Ee){return Ee(ge)}const kn=new z.nKC(""),Gr=new z.nKC(""),Fn=new z.nKC("",{providedIn:"root",factory:()=>!0});let Dt=(()=>{class ge extends yt{backend;injector;chain=null;pendingTasks=(0,z.WQX)(z.Ua0);contributeToStability=(0,z.WQX)(Fn);constructor(He,mt){super(),this.backend=He,this.injector=mt}handle(He){if(null===this.chain){const mt=Array.from(new Set([...this.injector.get(kn),...this.injector.get(Gr,[])]));this.chain=mt.reduceRight((Bt,ve)=>function Br(ge,Ee,He){return(mt,Bt)=>(0,z.N4e)(He,()=>Ee(mt,ve=>ge(ve,Bt)))}(Bt,ve,this.injector),Lr)}if(this.contributeToStability){const mt=this.pendingTasks.add();return this.chain(He,Bt=>this.backend.handle(Bt)).pipe((0,pt.j)(()=>this.pendingTasks.remove(mt)))}return this.chain(He,mt=>this.backend.handle(mt))}static \u0275fac=function(mt){return new(mt||ge)(z.KVO(Ct),z.KVO(z.uvJ))};static \u0275prov=z.jDH({token:ge,factory:ge.\u0275fac})}return ge})();const Xi=/^\)\]\}',?\n/,rs=RegExp(`^${Wn}:`,"m");let Zn=(()=>{class ge{xhrFactory;constructor(He){this.xhrFactory=He}handle(He){if("JSONP"===He.method)throw new z.wOt(-2800,!1);const mt=this.xhrFactory;return(mt.\u0275loadImpl?(0,Ve.H)(mt.\u0275loadImpl()):(0,Le.of)(null)).pipe((0,Oe.n)(()=>new at.c(ve=>{const Pe=mt.build();if(Pe.open(He.method,He.urlWithParams),He.withCredentials&&(Pe.withCredentials=!0),He.headers.forEach((fr,Mr)=>Pe.setRequestHeader(fr,Mr.join(","))),He.headers.has("Accept")||Pe.setRequestHeader("Accept",rn),!He.headers.has(yr)){const fr=He.detectContentTypeHeader();null!==fr&&Pe.setRequestHeader(yr,fr)}if(He.responseType){const fr=He.responseType.toLowerCase();Pe.responseType="json"!==fr?fr:"text"}const tt=He.serializeBody();let qt=null;const Vt=()=>{if(null!==qt)return qt;const fr=Pe.statusText||"OK",Mr=new Qt(Pe.getAllResponseHeaders()),Wi=function Vr(ge){return"responseURL"in ge&&ge.responseURL?ge.responseURL:rs.test(ge.getAllResponseHeaders())?ge.getResponseHeader(Wn):null}(Pe)||He.url;return qt=new De({headers:Mr,status:Pe.status,statusText:fr,url:Wi}),qt},Mt=()=>{let{headers:fr,status:Mr,statusText:Wi,url:us}=Vt(),Ne=null;204!==Mr&&(Ne=typeof Pe.response>"u"?Pe.responseText:Pe.response),0===Mr&&(Mr=Ne?200:0);let Ge=Mr>=200&&Mr<300;if("json"===He.responseType&&"string"==typeof Ne){const ut=Ne;Ne=Ne.replace(Xi,"");try{Ne=""!==Ne?JSON.parse(Ne):null}catch(an){Ne=ut,Ge&&(Ge=!1,Ne={error:an,text:Ne})}}Ge?(ve.next(new xe({body:Ne,headers:fr,status:Mr,statusText:Wi,url:us||void 0})),ve.complete()):ve.error(new me({error:Ne,headers:fr,status:Mr,statusText:Wi,url:us||void 0}))},en=fr=>{const{url:Mr}=Vt(),Wi=new me({error:fr,status:Pe.status||0,statusText:Pe.statusText||"Unknown Error",url:Mr||void 0});ve.error(Wi)};let Tn=!1;const ir=fr=>{Tn||(ve.next(Vt()),Tn=!0);let Mr={type:de.DownloadProgress,loaded:fr.loaded};fr.lengthComputable&&(Mr.total=fr.total),"text"===He.responseType&&Pe.responseText&&(Mr.partialText=Pe.responseText),ve.next(Mr)},Nn=fr=>{let Mr={type:de.UploadProgress,loaded:fr.loaded};fr.lengthComputable&&(Mr.total=fr.total),ve.next(Mr)};return Pe.addEventListener("load",Mt),Pe.addEventListener("error",en),Pe.addEventListener("timeout",en),Pe.addEventListener("abort",en),He.reportProgress&&(Pe.addEventListener("progress",ir),null!==tt&&Pe.upload&&Pe.upload.addEventListener("progress",Nn)),Pe.send(tt),ve.next({type:de.Sent}),()=>{Pe.removeEventListener("error",en),Pe.removeEventListener("abort",en),Pe.removeEventListener("load",Mt),Pe.removeEventListener("timeout",en),He.reportProgress&&(Pe.removeEventListener("progress",ir),null!==tt&&Pe.upload&&Pe.upload.removeEventListener("progress",Nn)),Pe.readyState!==Pe.DONE&&Pe.abort()}})))}static \u0275fac=function(mt){return new(mt||ge)(z.KVO(Fe.N0))};static \u0275prov=z.jDH({token:ge,factory:ge.\u0275fac})}return ge})();const Yi=new z.nKC(""),br=new z.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),et=new z.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Xr{}let ws=(()=>{class ge{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(He,mt){this.doc=He,this.cookieName=mt}getToken(){const He=this.doc.cookie||"";return He!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Fe.bS)(He,this.cookieName),this.lastCookieString=He),this.lastToken}static \u0275fac=function(mt){return new(mt||ge)(z.KVO(At.q),z.KVO(br))};static \u0275prov=z.jDH({token:ge,factory:ge.\u0275fac})}return ge})();function ji(ge,Ee){const He=ge.url.toLowerCase();if(!(0,z.WQX)(Yi)||"GET"===ge.method||"HEAD"===ge.method||He.startsWith("http://")||He.startsWith("https://"))return Ee(ge);const mt=(0,z.WQX)(Xr).getToken(),Bt=(0,z.WQX)(et);return null!=mt&&!ge.headers.has(Bt)&&(ge=ge.clone({headers:ge.headers.set(Bt,mt)})),Ee(ge)}function Yr(...ge){const Ee=[En,Zn,Dt,{provide:yt,useExisting:Dt},{provide:Ct,useFactory:()=>(0,z.WQX)(gr,{optional:!0})??(0,z.WQX)(Zn)},{provide:kn,useValue:ji,multi:!0},{provide:Yi,useValue:!0},{provide:Xr,useClass:ws}];for(const He of ge)Ee.push(...He.\u0275providers);return(0,z.EmA)(Ee)}},7673:(qn,ot,Q)=>{"use strict";Q.d(ot,{of:()=>le});var T=Q(9326),z=Q(8455);function le(...A){const We=(0,T.lI)(A);return(0,z.H)(A,We)}},7707:(qn,ot,Q)=>{"use strict";Q.d(ot,{Ms:()=>Zt,vU:()=>At});var T=Q(8071),z=Q(8359),le=Q(1026),A=Q(5334),We=Q(5343);const pt=at("C",void 0,void 0);function at(Kt,Qe,vt){return{kind:Kt,value:Qe,error:vt}}var Ve=Q(9270),Fe=Q(9786);class At extends z.yU{constructor(Qe){super(),this.isStopped=!1,Qe?(this.destination=Qe,(0,z.Uv)(Qe)&&Qe.add(this)):this.destination=Gt}static create(Qe,vt,ht){return new Zt(Qe,vt,ht)}next(Qe){this.isStopped?Ut(function Le(Kt){return at("N",Kt,void 0)}(Qe),this):this._next(Qe)}error(Qe){this.isStopped?Ut(function Oe(Kt){return at("E",void 0,Kt)}(Qe),this):(this.isStopped=!0,this._error(Qe))}complete(){this.isStopped?Ut(pt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Qe){this.destination.next(Qe)}_error(Qe){try{this.destination.error(Qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function Ct(Kt,Qe){return yt.call(Kt,Qe)}class Qt{constructor(Qe){this.partialObserver=Qe}next(Qe){const{partialObserver:vt}=this;if(vt.next)try{vt.next(Qe)}catch(ht){un(ht)}}error(Qe){const{partialObserver:vt}=this;if(vt.error)try{vt.error(Qe)}catch(ht){un(ht)}else un(Qe)}complete(){const{partialObserver:Qe}=this;if(Qe.complete)try{Qe.complete()}catch(vt){un(vt)}}}class Zt extends At{constructor(Qe,vt,ht){let kt;if(super(),(0,T.T)(Qe)||!Qe)kt={next:Qe??void 0,error:vt??void 0,complete:ht??void 0};else{let hn;this&&le.$.useDeprecatedNextContext?(hn=Object.create(Qe),hn.unsubscribe=()=>this.unsubscribe(),kt={next:Qe.next&&Ct(Qe.next,hn),error:Qe.error&&Ct(Qe.error,hn),complete:Qe.complete&&Ct(Qe.complete,hn)}):kt=Qe}this.destination=new Qt(kt)}}function un(Kt){le.$.useDeprecatedSynchronousErrorHandling?(0,Fe.l)(Kt):(0,A.m)(Kt)}function Ut(Kt,Qe){const{onStoppedNotification:vt}=le.$;vt&&Ve.f.setTimeout(()=>vt(Kt,Qe))}const Gt={closed:!0,next:We.l,error:function In(Kt){throw Kt},complete:We.l}},7852:(qn,ot,Q)=>{"use strict";Q.d(ot,{MF:()=>Zn,j6:()=>fi,xZ:()=>ts,om:()=>Ci,Sx:()=>br,Dk:()=>zi,Wp:()=>Yi,KO:()=>ws});var T=Q(467),z=Q(1362),le=Q(8041),A=Q(6858);let pt,Oe;const Ve=new WeakMap,Fe=new WeakMap,At=new WeakMap,yt=new WeakMap,Ct=new WeakMap;let un={get(ve,Pe,tt){if(ve instanceof IDBTransaction){if("done"===Pe)return Fe.get(ve);if("objectStoreNames"===Pe)return ve.objectStoreNames||At.get(ve);if("store"===Pe)return tt.objectStoreNames[1]?void 0:tt.objectStore(tt.objectStoreNames[0])}return Kt(ve[Pe])},set:(ve,Pe,tt)=>(ve[Pe]=tt,!0),has:(ve,Pe)=>ve instanceof IDBTransaction&&("done"===Pe||"store"===Pe)||Pe in ve};function Gt(ve){return"function"==typeof ve?function Ut(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function at(){return Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...Pe){return ve.apply(Qe(this),Pe),Kt(Ve.get(this))}:function(...Pe){return Kt(ve.apply(Qe(this),Pe))}:function(Pe,...tt){const qt=ve.call(Qe(this),Pe,...tt);return At.set(qt,Pe.sort?Pe.sort():[Pe]),Kt(qt)}}(ve):(ve instanceof IDBTransaction&&function Zt(ve){if(Fe.has(ve))return;const Pe=new Promise((tt,qt)=>{const Vt=()=>{ve.removeEventListener("complete",Mt),ve.removeEventListener("error",en),ve.removeEventListener("abort",en)},Mt=()=>{tt(),Vt()},en=()=>{qt(ve.error||new DOMException("AbortError","AbortError")),Vt()};ve.addEventListener("complete",Mt),ve.addEventListener("error",en),ve.addEventListener("abort",en)});Fe.set(ve,Pe)}(ve),((ve,Pe)=>Pe.some(tt=>ve instanceof tt))(ve,function Le(){return pt||(pt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,un):ve)}function Kt(ve){if(ve instanceof IDBRequest)return function Qt(ve){const Pe=new Promise((tt,qt)=>{const Vt=()=>{ve.removeEventListener("success",Mt),ve.removeEventListener("error",en)},Mt=()=>{tt(Kt(ve.result)),Vt()},en=()=>{qt(ve.error),Vt()};ve.addEventListener("success",Mt),ve.addEventListener("error",en)});return Pe.then(tt=>{tt instanceof IDBCursor&&Ve.set(tt,ve)}).catch(()=>{}),Ct.set(Pe,ve),Pe}(ve);if(yt.has(ve))return yt.get(ve);const Pe=Gt(ve);return Pe!==ve&&(yt.set(ve,Pe),Ct.set(Pe,ve)),Pe}const Qe=ve=>Ct.get(ve),kt=["get","getKey","getAll","getAllKeys","count"],hn=["put","add","delete","clear"],xt=new Map;function Pt(ve,Pe){if(!(ve instanceof IDBDatabase)||Pe in ve||"string"!=typeof Pe)return;if(xt.get(Pe))return xt.get(Pe);const tt=Pe.replace(/FromIndex$/,""),qt=Pe!==tt,Vt=hn.includes(tt);if(!(tt in(qt?IDBIndex:IDBObjectStore).prototype)||!Vt&&!kt.includes(tt))return;const Mt=function(){var en=(0,T.A)(function*(Tn,...ir){const Nn=this.transaction(Tn,Vt?"readwrite":"readonly");let fr=Nn.store;return qt&&(fr=fr.index(ir.shift())),(yield Promise.all([fr[tt](...ir),Vt&&Nn.done]))[0]});return function(ir){return en.apply(this,arguments)}}();return xt.set(Pe,Mt),Mt}!function In(ve){un=ve(un)}(ve=>({...ve,get:(Pe,tt,qt)=>Pt(Pe,tt)||ve.get(Pe,tt,qt),has:(Pe,tt)=>!!Pt(Pe,tt)||ve.has(Pe,tt)}));class lr{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function hr(ve){const Pe=ve.getComponent();return"VERSION"===Pe?.type}(tt)){const qt=tt.getImmediate();return`${qt.library}/${qt.version}`}return null}).filter(tt=>tt).join(" ")}}const yr="@firebase/app",Wn=new le.Vy("@firebase/app"),Ot="@firebase/app-compat",On="@firebase/analytics-compat",rn="@firebase/analytics",st="@firebase/app-check-compat",de="@firebase/app-check",Te="@firebase/auth",De="@firebase/auth-compat",xe="@firebase/database",me="@firebase/data-connect",Re="@firebase/database-compat",ft="@firebase/functions",jt="@firebase/functions-compat",Rn="@firebase/installations",En="@firebase/installations-compat",Dr="@firebase/messaging",Xt="@firebase/messaging-compat",gr="@firebase/performance",mr="@firebase/performance-compat",gn="@firebase/remote-config",ar="@firebase/remote-config-compat",Ar="@firebase/storage",Lr="@firebase/storage-compat",kr="@firebase/firestore",Br="@firebase/ai",Es="@firebase/firestore-compat",kn="firebase",Fn="[DEFAULT]",Ss={[yr]:"fire-core",[Ot]:"fire-core-compat",[rn]:"fire-analytics",[On]:"fire-analytics-compat",[de]:"fire-app-check",[st]:"fire-app-check-compat",[Te]:"fire-auth",[De]:"fire-auth-compat",[xe]:"fire-rtdb",[me]:"fire-data-connect",[Re]:"fire-rtdb-compat",[ft]:"fire-fn",[jt]:"fire-fn-compat",[Rn]:"fire-iid",[En]:"fire-iid-compat",[Dr]:"fire-fcm",[Xt]:"fire-fcm-compat",[gr]:"fire-perf",[mr]:"fire-perf-compat",[gn]:"fire-rc",[ar]:"fire-rc-compat",[Ar]:"fire-gcs",[Lr]:"fire-gcs-compat",[kr]:"fire-fst",[Es]:"fire-fst-compat",[Br]:"fire-vertex","fire-js":"fire-js",[kn]:"fire-js-all"},li=new Map,Dt=new Map,mi=new Map;function vr(ve,Pe){try{ve.container.addComponent(Pe)}catch(tt){Wn.debug(`Component ${Pe.name} failed to register with FirebaseApp ${ve.name}`,tt)}}function Ci(ve){const Pe=ve.name;if(mi.has(Pe))return Wn.debug(`There were multiple attempts to register component ${Pe}.`),!1;mi.set(Pe,ve);for(const tt of li.values())vr(tt,ve);for(const tt of Dt.values())vr(tt,ve);return!0}function fi(ve,Pe){const tt=ve.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),ve.container.getProvider(Pe)}function ts(ve){return null!=ve&&void 0!==ve.settings}const zr=new A.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Xi{constructor(Pe,tt,qt){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=qt,this.container.addComponent(new z.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}const Zn="11.8.0";function Yi(ve,Pe={}){let tt=ve;"object"!=typeof Pe&&(Pe={name:Pe});const qt=Object.assign({name:Fn,automaticDataCollectionEnabled:!0},Pe),Vt=qt.name;if("string"!=typeof Vt||!Vt)throw zr.create("bad-app-name",{appName:String(Vt)});if(tt||(tt=(0,A.T9)()),!tt)throw zr.create("no-options");const Mt=li.get(Vt);if(Mt){if((0,A.bD)(tt,Mt.options)&&(0,A.bD)(qt,Mt.config))return Mt;throw zr.create("duplicate-app",{appName:Vt})}const en=new z.h1(Vt);for(const ir of mi.values())en.addComponent(ir);const Tn=new Xi(tt,qt,en);return li.set(Vt,Tn),Tn}function br(ve=Fn){const Pe=li.get(ve);if(!Pe&&ve===Fn&&(0,A.T9)())return Yi();if(!Pe)throw zr.create("no-app",{appName:ve});return Pe}function zi(){return Array.from(li.values())}function ws(ve,Pe,tt){var qt;let Vt=null!==(qt=Ss[ve])&&void 0!==qt?qt:ve;tt&&(Vt+=`-${tt}`);const Mt=Vt.match(/\s|\//),en=Pe.match(/\s|\//);if(Mt||en){const Tn=[`Unable to register library "${Vt}" with version "${Pe}":`];return Mt&&Tn.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),Mt&&en&&Tn.push("and"),en&&Tn.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void Wn.warn(Tn.join(" "))}Ci(new z.uA(`${Vt}-version`,()=>({library:Vt,version:Pe}),"VERSION"))}const Yr="firebase-heartbeat-store";let cs=null;function ms(){return cs||(cs=function vt(ve,Pe,{blocked:tt,upgrade:qt,blocking:Vt,terminated:Mt}={}){const en=indexedDB.open(ve,Pe),Tn=Kt(en);return qt&&en.addEventListener("upgradeneeded",ir=>{qt(Kt(en.result),ir.oldVersion,ir.newVersion,Kt(en.transaction),ir)}),tt&&en.addEventListener("blocked",ir=>tt(ir.oldVersion,ir.newVersion,ir)),Tn.then(ir=>{Mt&&ir.addEventListener("close",()=>Mt()),Vt&&ir.addEventListener("versionchange",Nn=>Vt(Nn.oldVersion,Nn.newVersion,Nn))}).catch(()=>{}),Tn}("firebase-heartbeat-database",1,{upgrade:(ve,Pe)=>{if(0===Pe)try{ve.createObjectStore(Yr)}catch(tt){console.warn(tt)}}}).catch(ve=>{throw zr.create("idb-open",{originalErrorMessage:ve.message})})),cs}function $e(){return($e=(0,T.A)(function*(ve){try{const tt=(yield ms()).transaction(Yr),qt=yield tt.objectStore(Yr).get(nn(ve));return yield tt.done,qt}catch(Pe){if(Pe instanceof A.g)Wn.warn(Pe.message);else{const tt=zr.create("idb-get",{originalErrorMessage:Pe?.message});Wn.warn(tt.message)}}})).apply(this,arguments)}function Me(ve,Pe){return rt.apply(this,arguments)}function rt(){return(rt=(0,T.A)(function*(ve,Pe){try{const qt=(yield ms()).transaction(Yr,"readwrite");yield qt.objectStore(Yr).put(Pe,nn(ve)),yield qt.done}catch(tt){if(tt instanceof A.g)Wn.warn(tt.message);else{const qt=zr.create("idb-set",{originalErrorMessage:tt?.message});Wn.warn(qt.message)}}})).apply(this,arguments)}function nn(ve){return`${ve.name}!${ve.options.appId}`}class Qn{constructor(Pe){this.container=Pe,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new Ee(tt),this._heartbeatsCachePromise=this._storage.read().then(qt=>(this._heartbeatsCache=qt,qt))}triggerHeartbeat(){var Pe=this;return(0,T.A)(function*(){var tt,qt;try{const Mt=Pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),en=Zr();if(null==(null===(tt=Pe._heartbeatsCache)||void 0===tt?void 0:tt.heartbeats)&&(Pe._heartbeatsCache=yield Pe._heartbeatsCachePromise,null==(null===(qt=Pe._heartbeatsCache)||void 0===qt?void 0:qt.heartbeats))||Pe._heartbeatsCache.lastSentHeartbeatDate===en||Pe._heartbeatsCache.heartbeats.some(Tn=>Tn.date===en))return;if(Pe._heartbeatsCache.heartbeats.push({date:en,agent:Mt}),Pe._heartbeatsCache.heartbeats.length>30){const Tn=function mt(ve){if(0===ve.length)return-1;let Pe=0,tt=ve[0].date;for(let qt=1;qt<ve.length;qt++)ve[qt].date<tt&&(tt=ve[qt].date,Pe=qt);return Pe}(Pe._heartbeatsCache.heartbeats);Pe._heartbeatsCache.heartbeats.splice(Tn,1)}return Pe._storage.overwrite(Pe._heartbeatsCache)}catch(Vt){Wn.warn(Vt)}})()}getHeartbeatsHeader(){var Pe=this;return(0,T.A)(function*(){var tt;try{if(null===Pe._heartbeatsCache&&(yield Pe._heartbeatsCachePromise),null==(null===(tt=Pe._heartbeatsCache)||void 0===tt?void 0:tt.heartbeats)||0===Pe._heartbeatsCache.heartbeats.length)return"";const qt=Zr(),{heartbeatsToSend:Vt,unsentEntries:Mt}=function ge(ve,Pe=1024){const tt=[];let qt=ve.slice();for(const Vt of ve){const Mt=tt.find(en=>en.agent===Vt.agent);if(Mt){if(Mt.dates.push(Vt.date),He(tt)>Pe){Mt.dates.pop();break}}else if(tt.push({agent:Vt.agent,dates:[Vt.date]}),He(tt)>Pe){tt.pop();break}qt=qt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:qt}}(Pe._heartbeatsCache.heartbeats),en=(0,A.Uj)(JSON.stringify({version:2,heartbeats:Vt}));return Pe._heartbeatsCache.lastSentHeartbeatDate=qt,Mt.length>0?(Pe._heartbeatsCache.heartbeats=Mt,yield Pe._storage.overwrite(Pe._heartbeatsCache)):(Pe._heartbeatsCache.heartbeats=[],Pe._storage.overwrite(Pe._heartbeatsCache)),en}catch(qt){return Wn.warn(qt),""}})()}}function Zr(){return(new Date).toISOString().substring(0,10)}class Ee{constructor(Pe){this.app=Pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.A)(function*(){return!!(0,A.zW)()&&(0,A.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Pe=this;return(0,T.A)(function*(){if(yield Pe._canUseIndexedDBPromise){const qt=yield function ss(ve){return $e.apply(this,arguments)}(Pe.app);return qt?.heartbeats?qt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Pe){var tt=this;return(0,T.A)(function*(){var qt;if(yield tt._canUseIndexedDBPromise){const Mt=yield tt.read();return Me(tt.app,{lastSentHeartbeatDate:null!==(qt=Pe.lastSentHeartbeatDate)&&void 0!==qt?qt:Mt.lastSentHeartbeatDate,heartbeats:Pe.heartbeats})}})()}add(Pe){var tt=this;return(0,T.A)(function*(){var qt;if(yield tt._canUseIndexedDBPromise){const Mt=yield tt.read();return Me(tt.app,{lastSentHeartbeatDate:null!==(qt=Pe.lastSentHeartbeatDate)&&void 0!==qt?qt:Mt.lastSentHeartbeatDate,heartbeats:[...Mt.heartbeats,...Pe.heartbeats]})}})()}}function He(ve){return(0,A.Uj)(JSON.stringify({version:2,heartbeats:ve})).length}!function Bt(ve){Ci(new z.uA("platform-logger",Pe=>new lr(Pe),"PRIVATE")),Ci(new z.uA("heartbeat",Pe=>new Qn(Pe),"PRIVATE")),ws(yr,"0.13.0",ve),ws(yr,"0.13.0","esm2017"),ws("fire-js","")}("")},7908:(qn,ot,Q)=>{"use strict";function T(z,le){if(z){const A=z.indexOf(le);0<=A&&z.splice(A,1)}}Q.d(ot,{o:()=>T})},7953:(qn,ot,Q)=>{"use strict";Q.d(ot,{T:()=>z});var T=Q(8071);function z(le){return Symbol.asyncIterator&&(0,T.T)(le?.[Symbol.asyncIterator])}},8032:function(qn){qn.exports=function(){"use strict";var ot={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const T=F=>{const V={};for(const J in F)V[F[J]]="swal2-"+F[J];return V},z=T(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),le=T(["success","warning","info","question","error"]),A="SweetAlert2:",pt=F=>F.charAt(0).toUpperCase()+F.slice(1),Oe=F=>{console.warn(`${A} ${"object"==typeof F?F.join(" "):F}`)},Le=F=>{console.error(`${A} ${F}`)},at=[],Fe=(F,V)=>{(F=>{at.includes(F)||(at.push(F),Oe(F))})(`"${F}" is deprecated and will be removed in the next major release. Please use "${V}" instead.`)},At=F=>"function"==typeof F?F():F,yt=F=>F&&"function"==typeof F.toPromise,Ct=F=>yt(F)?F.toPromise():Promise.resolve(F),Qt=F=>F&&Promise.resolve(F)===F,Zt=()=>document.body.querySelector(`.${z.container}`),un=F=>{const V=Zt();return V?V.querySelector(F):null},In=F=>un(`.${F}`),Ut=()=>In(z.popup),Gt=()=>In(z.icon),Qe=()=>In(z.title),vt=()=>In(z["html-container"]),ht=()=>In(z.image),kt=()=>In(z["progress-steps"]),hn=()=>In(z["validation-message"]),xt=()=>un(`.${z.actions} .${z.confirm}`),Pt=()=>un(`.${z.actions} .${z.deny}`),hr=()=>un(`.${z.loader}`),yr=()=>un(`.${z.actions} .${z.cancel}`),bt=()=>In(z.actions),Wn=()=>In(z.footer),Ot=()=>In(z["timer-progress-bar"]),On=()=>In(z.close),st=()=>{const F=Array.from(Ut().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((J,ze)=>{const Jt=parseInt(J.getAttribute("tabindex")),Kn=parseInt(ze.getAttribute("tabindex"));return Jt>Kn?1:Jt<Kn?-1:0}),V=Array.from(Ut().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(J=>"-1"!==J.getAttribute("tabindex"));return(F=>{const V=[];for(let J=0;J<F.length;J++)-1===V.indexOf(F[J])&&V.push(F[J]);return V})(F.concat(V)).filter(J=>Br(J))},de=()=>Re(document.body,z.shown)&&!Re(document.body,z["toast-shown"])&&!Re(document.body,z["no-backdrop"]),Te=()=>Ut()&&Re(Ut(),z.toast),xe={previousBodyPadding:null},me=(F,V)=>{if(F.textContent="",V){const ze=(new DOMParser).parseFromString(V,"text/html");Array.from(ze.querySelector("head").childNodes).forEach(Jt=>{F.appendChild(Jt)}),Array.from(ze.querySelector("body").childNodes).forEach(Jt=>{Jt instanceof HTMLVideoElement||Jt instanceof HTMLAudioElement?F.appendChild(Jt.cloneNode(!0)):F.appendChild(Jt)})}},Re=(F,V)=>{if(!V)return!1;const J=V.split(/\s+/);for(let ze=0;ze<J.length;ze++)if(!F.classList.contains(J[ze]))return!1;return!0},jt=(F,V,J)=>{if(((F,V)=>{Array.from(F.classList).forEach(J=>{!Object.values(z).includes(J)&&!Object.values(le).includes(J)&&!Object.values(V.showClass).includes(J)&&F.classList.remove(J)})})(F,V),V.customClass&&V.customClass[J]){if("string"!=typeof V.customClass[J]&&!V.customClass[J].forEach)return void Oe(`Invalid type of customClass.${J}! Expected string or iterable object, got "${typeof V.customClass[J]}"`);Xt(F,V.customClass[J])}},Rn=(F,V)=>{if(!V)return null;switch(V){case"select":case"textarea":case"file":return F.querySelector(`.${z.popup} > .${z[V]}`);case"checkbox":return F.querySelector(`.${z.popup} > .${z.checkbox} input`);case"radio":return F.querySelector(`.${z.popup} > .${z.radio} input:checked`)||F.querySelector(`.${z.popup} > .${z.radio} input:first-child`);case"range":return F.querySelector(`.${z.popup} > .${z.range} input`);default:return F.querySelector(`.${z.popup} > .${z.input}`)}},En=F=>{if(F.focus(),"file"!==F.type){const V=F.value;F.value="",F.value=V}},Dr=(F,V,J)=>{!F||!V||("string"==typeof V&&(V=V.split(/\s+/).filter(Boolean)),V.forEach(ze=>{Array.isArray(F)?F.forEach(Jt=>{J?Jt.classList.add(ze):Jt.classList.remove(ze)}):J?F.classList.add(ze):F.classList.remove(ze)}))},Xt=(F,V)=>{Dr(F,V,!0)},gr=(F,V)=>{Dr(F,V,!1)},mr=(F,V)=>{const J=Array.from(F.children);for(let ze=0;ze<J.length;ze++){const Jt=J[ze];if(Jt instanceof HTMLElement&&Re(Jt,V))return Jt}},gn=(F,V,J)=>{J===`${parseInt(J)}`&&(J=parseInt(J)),J||0===parseInt(J)?F.style[V]="number"==typeof J?`${J}px`:J:F.style.removeProperty(V)},ar=function(F){F.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Ar=F=>{F.style.display="none"},Lr=(F,V,J,ze)=>{const Jt=F.querySelector(V);Jt&&(Jt.style[J]=ze)},kr=function(F,V){V?ar(F,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Ar(F)},Br=F=>!(!F||!(F.offsetWidth||F.offsetHeight||F.getClientRects().length)),kn=F=>F.scrollHeight>F.clientHeight,Gr=F=>{const V=window.getComputedStyle(F),J=parseFloat(V.getPropertyValue("animation-duration")||"0"),ze=parseFloat(V.getPropertyValue("transition-duration")||"0");return J>0||ze>0},Fn=function(F){let V=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const J=Ot();Br(J)&&(V&&(J.style.transition="none",J.style.width="100%"),setTimeout(()=>{J.style.transition=`width ${F/1e3}s linear`,J.style.width="0%"},10))},Dt={},vr=F=>new Promise(V=>{if(!F)return V();const J=window.scrollX,ze=window.scrollY;Dt.restoreFocusTimeout=setTimeout(()=>{Dt.previousActiveElement instanceof HTMLElement?(Dt.previousActiveElement.focus(),Dt.previousActiveElement=null):document.body&&document.body.focus(),V()},100),window.scrollTo(J,ze)}),wn=()=>typeof window>"u"||typeof document>"u",Ci=`\n <div aria-labelledby="${z.title}" aria-describedby="${z["html-container"]}" class="${z.popup}" tabindex="-1">\n   <button type="button" class="${z.close}"></button>\n   <ul class="${z["progress-steps"]}"></ul>\n   <div class="${z.icon}"></div>\n   <img class="${z.image}" />\n   <h2 class="${z.title}" id="${z.title}"></h2>\n   <div class="${z["html-container"]}" id="${z["html-container"]}"></div>\n   <input class="${z.input}" />\n   <input type="file" class="${z.file}" />\n   <div class="${z.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${z.select}"></select>\n   <div class="${z.radio}"></div>\n   <label for="${z.checkbox}" class="${z.checkbox}">\n     <input type="checkbox" />\n     <span class="${z.label}"></span>\n   </label>\n   <textarea class="${z.textarea}"></textarea>\n   <div class="${z["validation-message"]}" id="${z["validation-message"]}"></div>\n   <div class="${z.actions}">\n     <div class="${z.loader}"></div>\n     <button type="button" class="${z.confirm}"></button>\n     <button type="button" class="${z.deny}"></button>\n     <button type="button" class="${z.cancel}"></button>\n   </div>\n   <div class="${z.footer}"></div>\n   <div class="${z["timer-progress-bar-container"]}">\n     <div class="${z["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Tr=()=>{Dt.currentInstance.resetValidationMessage()},zr=F=>{const V=(()=>{const F=Zt();return!!F&&(F.remove(),gr([document.documentElement,document.body],[z["no-backdrop"],z["toast-shown"],z["has-column"]]),!0)})();if(wn())return void Le("SweetAlert2 requires document to initialize");const J=document.createElement("div");J.className=z.container,V&&Xt(J,z["no-transition"]),me(J,Ci);const ze=(F=>"string"==typeof F?document.querySelector(F):F)(F.target);ze.appendChild(J),(F=>{const V=Ut();V.setAttribute("role",F.toast?"alert":"dialog"),V.setAttribute("aria-live",F.toast?"polite":"assertive"),F.toast||V.setAttribute("aria-modal","true")})(F),(F=>{"rtl"===window.getComputedStyle(F).direction&&Xt(Zt(),z.rtl)})(ze),(()=>{const F=Ut(),V=mr(F,z.input),J=mr(F,z.file),ze=F.querySelector(`.${z.range} input`),Jt=F.querySelector(`.${z.range} output`),Kn=mr(F,z.select),Or=F.querySelector(`.${z.checkbox} input`),Vs=mr(F,z.textarea);V.oninput=Tr,J.onchange=Tr,Kn.onchange=Tr,Or.onchange=Tr,Vs.oninput=Tr,ze.oninput=()=>{Tr(),Jt.value=ze.value},ze.onchange=()=>{Tr(),Jt.value=ze.value}})()},Xi=(F,V)=>{F instanceof HTMLElement?V.appendChild(F):"object"==typeof F?rs(F,V):F&&me(V,F)},rs=(F,V)=>{F.jquery?Vr(V,F):me(V,F.toString())},Vr=(F,V)=>{if(F.textContent="",0 in V)for(let J=0;J in V;J++)F.appendChild(V[J].cloneNode(!0));else F.appendChild(V.cloneNode(!0))},Zn=(()=>{if(wn())return!1;const F=document.createElement("div"),V={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const J in V)if(Object.prototype.hasOwnProperty.call(V,J)&&typeof F.style[J]<"u")return V[J];return!1})(),ti=(F,V)=>{const J=bt(),ze=hr();V.showConfirmButton||V.showDenyButton||V.showCancelButton?ar(J):Ar(J),jt(J,V,"actions"),function br(F,V,J){const ze=xt(),Jt=Pt(),Kn=yr();et(ze,"confirm",J),et(Jt,"deny",J),et(Kn,"cancel",J),function zi(F,V,J,ze){ze.buttonsStyling?(Xt([F,V,J],z.styled),ze.confirmButtonColor&&(F.style.backgroundColor=ze.confirmButtonColor,Xt(F,z["default-outline"])),ze.denyButtonColor&&(V.style.backgroundColor=ze.denyButtonColor,Xt(V,z["default-outline"])),ze.cancelButtonColor&&(J.style.backgroundColor=ze.cancelButtonColor,Xt(J,z["default-outline"]))):gr([F,V,J],z.styled)}(ze,Jt,Kn,J),J.reverseButtons&&(J.toast?(F.insertBefore(Kn,ze),F.insertBefore(Jt,ze)):(F.insertBefore(Kn,V),F.insertBefore(Jt,V),F.insertBefore(ze,V)))}(J,ze,V),me(ze,V.loaderHtml),jt(ze,V,"loader")};function et(F,V,J){kr(F,J[`show${pt(V)}Button`],"inline-block"),me(F,J[`${V}ButtonText`]),F.setAttribute("aria-label",J[`${V}ButtonAriaLabel`]),F.className=z[V],jt(F,J,`${V}Button`),Xt(F,J[`${V}ButtonClass`])}const ws=(F,V)=>{const J=Zt();J&&(function ji(F,V){"string"==typeof V?F.style.background=V:V||Xt([document.documentElement,document.body],z["no-backdrop"])}(J,V.backdrop),function is(F,V){V in z?Xt(F,z[V]):(Oe('The "position" parameter is not valid, defaulting to "center"'),Xt(F,z.center))}(J,V.position),function Hn(F,V){if(V&&"string"==typeof V){const J=`grow-${V}`;J in z&&Xt(F,z[J])}}(J,V.grow),jt(J,V,"container"))};const qr=["input","file","range","select","radio","checkbox","textarea"],cs=F=>{if(!yn[F.input])return void Le(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${F.input}"`);const V=nn(F.input),J=yn[F.input](V,F);ar(V),setTimeout(()=>{En(J)})},ss=(F,V)=>{const J=Rn(Ut(),F);if(J){(F=>{for(let V=0;V<F.attributes.length;V++){const J=F.attributes[V].name;["type","value","style"].includes(J)||F.removeAttribute(J)}})(J);for(const ze in V)J.setAttribute(ze,V[ze])}},$e=F=>{const V=nn(F.input);"object"==typeof F.customClass&&Xt(V,F.customClass.input)},Me=(F,V)=>{(!F.placeholder||V.inputPlaceholder)&&(F.placeholder=V.inputPlaceholder)},rt=(F,V,J)=>{if(J.inputLabel){F.id=z.input;const ze=document.createElement("label"),Jt=z["input-label"];ze.setAttribute("for",F.id),ze.className=Jt,"object"==typeof J.customClass&&Xt(ze,J.customClass.inputLabel),ze.innerText=J.inputLabel,V.insertAdjacentElement("beforebegin",ze)}},nn=F=>mr(Ut(),z[F]||z.input),dt=(F,V)=>{["string","number"].includes(typeof V)?F.value=`${V}`:Qt(V)||Oe(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof V}"`)},yn={};yn.text=yn.email=yn.password=yn.number=yn.tel=yn.url=(F,V)=>(dt(F,V.inputValue),rt(F,F,V),Me(F,V),F.type=V.input,F),yn.file=(F,V)=>(rt(F,F,V),Me(F,V),F),yn.range=(F,V)=>{const J=F.querySelector("input"),ze=F.querySelector("output");return dt(J,V.inputValue),J.type=V.input,dt(ze,V.inputValue),rt(J,F,V),F},yn.select=(F,V)=>{if(F.textContent="",V.inputPlaceholder){const J=document.createElement("option");me(J,V.inputPlaceholder),J.value="",J.disabled=!0,J.selected=!0,F.appendChild(J)}return rt(F,F,V),F},yn.radio=F=>(F.textContent="",F),yn.checkbox=(F,V)=>{const J=Rn(Ut(),"checkbox");J.value="1",J.id=z.checkbox,J.checked=!!V.inputValue;const ze=F.querySelector("span");return me(ze,V.inputPlaceholder),J},yn.textarea=(F,V)=>{dt(F,V.inputValue),Me(F,V),rt(F,F,V);return setTimeout(()=>{if("MutationObserver"in window){const ze=parseInt(window.getComputedStyle(Ut()).width);new MutationObserver(()=>{const Kn=F.offsetWidth+(ze=>parseInt(window.getComputedStyle(ze).marginLeft)+parseInt(window.getComputedStyle(ze).marginRight))(F);Ut().style.width=Kn>ze?`${Kn}px`:null}).observe(F,{attributes:!0,attributeFilter:["style"]})}}),F};const Qn=(F,V)=>{const J=vt();jt(J,V,"htmlContainer"),V.html?(Xi(V.html,J),ar(J,"block")):V.text?(J.textContent=V.text,ar(J,"block")):Ar(J),((F,V)=>{const J=Ut(),ze=ot.innerParams.get(F),Jt=!ze||V.input!==ze.input;qr.forEach(Kn=>{const Or=mr(J,z[Kn]);ss(Kn,V.inputAttributes),Or.className=z[Kn],Jt&&Ar(Or)}),V.input&&(Jt&&cs(V),$e(V))})(F,V)},Ee=(F,V)=>{for(const J in le)V.icon!==J&&gr(F,le[J]);Xt(F,le[V.icon]),Pe(F,V),He(),jt(F,V,"icon")},He=()=>{const F=Ut(),V=window.getComputedStyle(F).getPropertyValue("background-color"),J=F.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let ze=0;ze<J.length;ze++)J[ze].style.backgroundColor=V},ve=(F,V)=>{let ze,J=F.innerHTML;V.iconHtml?ze=tt(V.iconHtml):"success"===V.icon?(ze='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',J=J.replace(/ style=".*?"/g,"")):ze="error"===V.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':tt({question:"?",warning:"!",info:"i"}[V.icon]),J.trim()!==ze.trim()&&me(F,ze)},Pe=(F,V)=>{if(V.iconColor){F.style.color=V.iconColor,F.style.borderColor=V.iconColor;for(const J of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Lr(F,J,"backgroundColor",V.iconColor);Lr(F,".swal2-success-ring","borderColor",V.iconColor)}},tt=F=>`<div class="${z["icon-content"]}">${F}</div>`,Mt=(F,V)=>{F.className=`${z.popup} ${Br(F)?V.showClass.popup:""}`,V.toast?(Xt([document.documentElement,document.body],z["toast-shown"]),Xt(F,z.toast)):Xt(F,z.modal),jt(F,V,"popup"),"string"==typeof V.customClass&&Xt(F,V.customClass),V.icon&&Xt(F,z[`icon-${V.icon}`])},Tn=F=>{const V=document.createElement("li");return Xt(V,z["progress-step"]),me(V,F),V},ir=F=>{const V=document.createElement("li");return Xt(V,z["progress-step-line"]),F.progressStepsDistance&&gn(V,"width",F.progressStepsDistance),V},fr=(F,V)=>{((F,V)=>{const J=Zt(),ze=Ut();V.toast?(gn(J,"width",V.width),ze.style.width="100%",ze.insertBefore(hr(),Gt())):gn(ze,"width",V.width),gn(ze,"padding",V.padding),V.color&&(ze.style.color=V.color),V.background&&(ze.style.background=V.background),Ar(hn()),Mt(ze,V)})(0,V),ws(0,V),((F,V)=>{const J=kt();V.progressSteps&&0!==V.progressSteps.length?(ar(J),J.textContent="",V.currentProgressStep>=V.progressSteps.length&&Oe("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),V.progressSteps.forEach((ze,Jt)=>{const Kn=Tn(ze);if(J.appendChild(Kn),Jt===V.currentProgressStep&&Xt(Kn,z["active-progress-step"]),Jt!==V.progressSteps.length-1){const Or=ir(V);J.appendChild(Or)}})):Ar(J)})(0,V),((F,V)=>{const J=ot.innerParams.get(F),ze=Gt();J&&V.icon===J.icon?(ve(ze,V),Ee(ze,V)):V.icon||V.iconHtml?V.icon&&-1===Object.keys(le).indexOf(V.icon)?(Le(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${V.icon}"`),Ar(ze)):(ar(ze),ve(ze,V),Ee(ze,V),Xt(ze,V.showClass.icon)):Ar(ze)})(F,V),((F,V)=>{const J=ht();V.imageUrl?(ar(J,""),J.setAttribute("src",V.imageUrl),J.setAttribute("alt",V.imageAlt),gn(J,"width",V.imageWidth),gn(J,"height",V.imageHeight),J.className=z.image,jt(J,V,"image")):Ar(J)})(0,V),((F,V)=>{const J=Qe();kr(J,V.title||V.titleText,"block"),V.title&&Xi(V.title,J),V.titleText&&(J.innerText=V.titleText),jt(J,V,"title")})(0,V),((F,V)=>{const J=On();me(J,V.closeButtonHtml),jt(J,V,"closeButton"),kr(J,V.showCloseButton),J.setAttribute("aria-label",V.closeButtonAriaLabel)})(0,V),Qn(F,V),ti(0,V),((F,V)=>{const J=Wn();kr(J,V.footer),V.footer&&Xi(V.footer,J),jt(J,V,"footer")})(0,V),"function"==typeof V.didRender&&V.didRender(Ut())};function Mr(){const F=ot.innerParams.get(this);if(!F)return;const V=ot.domCache.get(this);Ar(V.loader),Te()?F.icon&&ar(Gt()):Wi(V),gr([V.popup,V.actions],z.loading),V.popup.removeAttribute("aria-busy"),V.popup.removeAttribute("data-loading"),V.confirmButton.disabled=!1,V.denyButton.disabled=!1,V.cancelButton.disabled=!1}const Wi=F=>{const V=F.popup.getElementsByClassName(F.loader.getAttribute("data-button-to-replace"));V.length?ar(V[0],"inline-block"):!Br(xt())&&!Br(Pt())&&!Br(yr())&&Ar(F.actions)};const Ge=()=>xt()&&xt().click(),dn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ln=F=>{F.keydownTarget&&F.keydownHandlerAdded&&(F.keydownTarget.removeEventListener("keydown",F.keydownHandler,{capture:F.keydownListenerCapture}),F.keydownHandlerAdded=!1)},xr=(F,V,J)=>{const ze=st();if(ze.length)return(V+=J)===ze.length?V=0:-1===V&&(V=ze.length-1),ze[V].focus();Ut().focus()},Nr=["ArrowRight","ArrowDown"],Di=["ArrowLeft","ArrowUp"],Oo=(F,V,J)=>{const ze=ot.innerParams.get(F);ze&&(V.isComposing||229===V.keyCode||(ze.stopKeydownPropagation&&V.stopPropagation(),"Enter"===V.key?Ni(F,V,ze):"Tab"===V.key?Os(V,ze):[...Nr,...Di].includes(V.key)?to(V.key):"Escape"===V.key&&zo(V,ze,J)))},Ni=(F,V,J)=>{if(At(J.allowEnterKey)&&V.target&&F.getInput()&&V.target instanceof HTMLElement&&V.target.outerHTML===F.getInput().outerHTML){if(["textarea","file"].includes(J.input))return;Ge(),V.preventDefault()}},Os=(F,V)=>{const J=F.target,ze=st();let Jt=-1;for(let Kn=0;Kn<ze.length;Kn++)if(J===ze[Kn]){Jt=Kn;break}xr(0,Jt,F.shiftKey?-1:1),F.stopPropagation(),F.preventDefault()},to=F=>{const V=xt(),J=Pt(),ze=yr();if(document.activeElement instanceof HTMLElement&&![V,J,ze].includes(document.activeElement))return;const Jt=Nr.includes(F)?"nextElementSibling":"previousElementSibling";let Kn=document.activeElement;for(let Or=0;Or<bt().children.length;Or++){if(Kn=Kn[Jt],!Kn)return;if(Kn instanceof HTMLButtonElement&&Br(Kn))break}Kn instanceof HTMLButtonElement&&Kn.focus()},zo=(F,V,J)=>{At(V.allowEscapeKey)&&(F.preventDefault(),J(dn.esc))};var Is={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Se=()=>{Array.from(document.body.children).forEach(V=>{V.hasAttribute("data-previous-aria-hidden")?(V.setAttribute("aria-hidden",V.getAttribute("data-previous-aria-hidden")),V.removeAttribute("data-previous-aria-hidden")):V.removeAttribute("aria-hidden")})},pe=()=>{const F=navigator.userAgent,V=!!F.match(/iPad/i)||!!F.match(/iPhone/i),J=!!F.match(/WebKit/i);V&&J&&!F.match(/CriOS/i)&&Ut().scrollHeight>window.innerHeight-44&&(Zt().style.paddingBottom="44px")},qe=()=>{const F=Zt();let V;F.ontouchstart=J=>{V=Ht(J)},F.ontouchmove=J=>{V&&(J.preventDefault(),J.stopPropagation())}},Ht=F=>{const V=F.target,J=Zt();return!xn(F)&&!tr(F)&&(V===J||!kn(J)&&V instanceof HTMLElement&&"INPUT"!==V.tagName&&"TEXTAREA"!==V.tagName&&!(kn(vt())&&vt().contains(V)))},xn=F=>F.touches&&F.touches.length&&"stylus"===F.touches[0].touchType,tr=F=>F.touches&&F.touches.length>1,Ai=()=>{null===xe.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(xe.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${xe.previousBodyPadding+(()=>{const F=document.createElement("div");F.className=z["scrollbar-measure"],document.body.appendChild(F);const V=F.getBoundingClientRect().width-F.clientWidth;return document.body.removeChild(F),V})()}px`)};function Wr(F,V,J,ze){Te()?St(F,ze):(vr(J).then(()=>St(F,ze)),Ln(Dt)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(V.setAttribute("style","display:none !important"),V.removeAttribute("class"),V.innerHTML=""):V.remove(),de()&&(null!==xe.previousBodyPadding&&(document.body.style.paddingRight=`${xe.previousBodyPadding}px`,xe.previousBodyPadding=null),(()=>{if(Re(document.body,z.iosfix)){const F=parseInt(document.body.style.top,10);gr(document.body,z.iosfix),document.body.style.top="",document.body.scrollTop=-1*F}})(),Se()),function ur(){gr([document.documentElement,document.body],[z.shown,z["height-auto"],z["no-backdrop"],z["toast-shown"]])}()}function ni(F){F=we(F);const V=Is.swalPromiseResolve.get(this),J=Fi(this);this.isAwaitingPromise()?F.isDismissed||(_o(this),V(F)):J&&V(F)}const Fi=F=>{const V=Ut();if(!V)return!1;const J=ot.innerParams.get(F);if(!J||Re(V,J.hideClass.popup))return!1;gr(V,J.showClass.popup),Xt(V,J.hideClass.popup);const ze=Zt();return gr(ze,J.showClass.backdrop),Xt(ze,J.hideClass.backdrop),_t(F,V,J),!0};const _o=F=>{F.isAwaitingPromise()&&(ot.awaitingPromise.delete(F),ot.innerParams.get(F)||F._destroy())},we=F=>typeof F>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},F),_t=(F,V,J)=>{const ze=Zt(),Jt=Zn&&Gr(V);"function"==typeof J.willClose&&J.willClose(V),Jt?Ye(F,V,ze,J.returnFocus,J.didClose):Wr(F,ze,J.returnFocus,J.didClose)},Ye=(F,V,J,ze,Jt)=>{Dt.swalCloseEventFinishedCallback=Wr.bind(null,F,J,ze,Jt),V.addEventListener(Zn,function(Kn){Kn.target===V&&(Dt.swalCloseEventFinishedCallback(),delete Dt.swalCloseEventFinishedCallback)})},St=(F,V)=>{setTimeout(()=>{"function"==typeof V&&V.bind(F.params)(),F._destroy()})};function mn(F,V,J){const ze=ot.domCache.get(F);V.forEach(Jt=>{ze[Jt].disabled=J})}function Un(F,V){if(F)if("radio"===F.type){const ze=F.parentNode.parentNode.querySelectorAll("input");for(let Jt=0;Jt<ze.length;Jt++)ze[Jt].disabled=V}else F.disabled=V}const jn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},yo=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Qs={},no=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Wo=F=>Object.prototype.hasOwnProperty.call(jn,F),vo=F=>-1!==yo.indexOf(F),ta=F=>Qs[F],Go=F=>{Wo(F)||Oe(`Unknown parameter "${F}"`)},si=F=>{no.includes(F)&&Oe(`The parameter "${F}" is incompatible with toasts`)},co=F=>{ta(F)&&Fe(F,ta(F))};const No=F=>{const V={};return Object.keys(F).forEach(J=>{vo(J)?V[J]=F[J]:Oe(`Invalid parameter to update: ${J}`)}),V};const ds=F=>{Li(F),delete F.params,delete Dt.keydownHandler,delete Dt.keydownTarget,delete Dt.currentInstance},Li=F=>{F.isAwaitingPromise()?(Ei(ot,F),ot.awaitingPromise.set(F,!0)):(Ei(Is,F),Ei(ot,F))},Ei=(F,V)=>{for(const J in F)F[J].delete(V)};var ro=Object.freeze({__proto__:null,hideLoading:Mr,disableLoading:Mr,getInput:function us(F){const V=ot.innerParams.get(F||this),J=ot.domCache.get(F||this);return J?Rn(J.popup,V.input):null},close:ni,isAwaitingPromise:function Si(){return!!ot.awaitingPromise.get(this)},rejectPromise:function Rs(F){const V=Is.swalPromiseReject.get(this);_o(this),V&&V(F)},handleAwaitingPromise:_o,closePopup:ni,closeModal:ni,closeToast:ni,enableButtons:function pr(){mn(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function xs(){mn(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Ns(){Un(this.getInput(),!1)},disableInput:function la(){Un(this.getInput(),!0)},showValidationMessage:function Gi(F){const V=ot.domCache.get(this),J=ot.innerParams.get(this);me(V.validationMessage,F),V.validationMessage.className=z["validation-message"],J.customClass&&J.customClass.validationMessage&&Xt(V.validationMessage,J.customClass.validationMessage),ar(V.validationMessage);const ze=this.getInput();ze&&(ze.setAttribute("aria-invalid",!0),ze.setAttribute("aria-describedby",z["validation-message"]),En(ze),Xt(ze,z.inputerror))},resetValidationMessage:function ea(){const F=ot.domCache.get(this);F.validationMessage&&Ar(F.validationMessage);const V=this.getInput();V&&(V.removeAttribute("aria-invalid"),V.removeAttribute("aria-describedby"),gr(V,z.inputerror))},update:function fo(F){const V=Ut(),J=ot.innerParams.get(this);if(!V||Re(V,J.hideClass.popup))return void Oe("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const ze=No(F),Jt=Object.assign({},J,ze);fr(this,Jt),ot.innerParams.set(this,Jt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,F),writable:!1,enumerable:!0}})},_destroy:function _i(){const F=ot.domCache.get(this),V=ot.innerParams.get(this);V?(F.popup&&Dt.swalCloseEventFinishedCallback&&(Dt.swalCloseEventFinishedCallback(),delete Dt.swalCloseEventFinishedCallback),"function"==typeof V.didDestroy&&V.didDestroy(),ds(this)):Li(this)}});const po=F=>{let V=Ut();V||new ci,V=Ut();const J=hr();Te()?Ar(Gt()):Fs(V,F),ar(J),V.setAttribute("data-loading","true"),V.setAttribute("aria-busy","true"),V.focus()},Fs=(F,V)=>{const J=bt(),ze=hr();!V&&Br(xt())&&(V=xt()),ar(J),V&&(Ar(V),ze.setAttribute("data-button-to-replace",V.className)),ze.parentNode.insertBefore(ze,V),Xt([F,J],z.loading)},hs=F=>F.checked?1:0,hl=F=>F.checked?F.value:null,Ys=F=>F.files.length?null!==F.getAttribute("multiple")?F.files:F.files[0]:null,yi=(F,V)=>{const J=Ut(),ze=Jt=>{os[V.input](J,el(Jt),V)};yt(V.inputOptions)||Qt(V.inputOptions)?(po(xt()),Ct(V.inputOptions).then(Jt=>{F.hideLoading(),ze(Jt)})):"object"==typeof V.inputOptions?ze(V.inputOptions):Le("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof V.inputOptions)},Qr=(F,V)=>{const J=F.getInput();Ar(J),Ct(V.inputValue).then(ze=>{J.value="number"===V.input?`${parseFloat(ze)||0}`:`${ze}`,ar(J),J.focus(),F.hideLoading()}).catch(ze=>{Le(`Error in inputValue promise: ${ze}`),J.value="",ar(J),J.focus(),F.hideLoading()})},os={select:(F,V,J)=>{const ze=mr(F,z.select),Jt=(Kn,Or,Vs)=>{const qi=document.createElement("option");qi.value=Vs,me(qi,Or),qi.selected=na(Vs,J.inputValue),Kn.appendChild(qi)};V.forEach(Kn=>{const Or=Kn[0],Vs=Kn[1];if(Array.isArray(Vs)){const qi=document.createElement("optgroup");qi.label=Or,qi.disabled=!1,ze.appendChild(qi),Vs.forEach(vs=>Jt(qi,vs[1],vs[0]))}else Jt(ze,Vs,Or)}),ze.focus()},radio:(F,V,J)=>{const ze=mr(F,z.radio);V.forEach(Kn=>{const Or=Kn[0],Vs=Kn[1],qi=document.createElement("input"),vs=document.createElement("label");qi.type="radio",qi.name=z.radio,qi.value=Or,na(Or,J.inputValue)&&(qi.checked=!0);const tl=document.createElement("span");me(tl,Vs),tl.className=z.label,vs.appendChild(qi),vs.appendChild(tl),ze.appendChild(vs)});const Jt=ze.querySelectorAll("input");Jt.length&&Jt[0].focus()}},el=F=>{const V=[];return typeof Map<"u"&&F instanceof Map?F.forEach((J,ze)=>{let Jt=J;"object"==typeof Jt&&(Jt=el(Jt)),V.push([ze,Jt])}):Object.keys(F).forEach(J=>{let ze=F[J];"object"==typeof ze&&(ze=el(ze)),V.push([J,ze])}),V},na=(F,V)=>V&&V.toString()===F.toString(),ie=(F,V)=>{const J=ot.innerParams.get(F);if(!J.input)return void Le(`The "input" parameter is needed to be set when using returnInputValueOn${pt(V)}`);const ze=((F,V)=>{const J=F.getInput();if(!J)return null;switch(V.input){case"checkbox":return hs(J);case"radio":return hl(J);case"file":return Ys(J);default:return V.inputAutoTrim?J.value.trim():J.value}})(F,J);J.inputValidator?re(F,ze,V):F.getInput().checkValidity()?"deny"===V?ke(F,ze):tn(F,ze):(F.enableButtons(),F.showValidationMessage(J.validationMessage))},re=(F,V,J)=>{const ze=ot.innerParams.get(F);F.disableInput(),Promise.resolve().then(()=>Ct(ze.inputValidator(V,ze.validationMessage))).then(Kn=>{F.enableButtons(),F.enableInput(),Kn?F.showValidationMessage(Kn):"deny"===J?ke(F,V):tn(F,V)})},ke=(F,V)=>{const J=ot.innerParams.get(F||void 0);J.showLoaderOnDeny&&po(Pt()),J.preDeny?(ot.awaitingPromise.set(F||void 0,!0),Promise.resolve().then(()=>Ct(J.preDeny(V,J.validationMessage))).then(Jt=>{!1===Jt?(F.hideLoading(),_o(F)):F.close({isDenied:!0,value:typeof Jt>"u"?V:Jt})}).catch(Jt=>It(F||void 0,Jt))):F.close({isDenied:!0,value:V})},Ke=(F,V)=>{F.close({isConfirmed:!0,value:V})},It=(F,V)=>{F.rejectPromise(V)},tn=(F,V)=>{const J=ot.innerParams.get(F||void 0);J.showLoaderOnConfirm&&po(),J.preConfirm?(F.resetValidationMessage(),ot.awaitingPromise.set(F||void 0,!0),Promise.resolve().then(()=>Ct(J.preConfirm(V,J.validationMessage))).then(Jt=>{Br(hn())||!1===Jt?(F.hideLoading(),_o(F)):Ke(F,typeof Jt>"u"?V:Jt)}).catch(Jt=>It(F||void 0,Jt))):Ke(F,V)},Jn=(F,V,J)=>{V.popup.onclick=()=>{const ze=ot.innerParams.get(F);ze&&(zn(ze)||ze.timer||ze.input)||J(dn.close)}},zn=F=>F.showConfirmButton||F.showDenyButton||F.showCancelButton||F.showCloseButton;let Ur=!1;const Ir=F=>{F.popup.onmousedown=()=>{F.container.onmouseup=function(V){F.container.onmouseup=void 0,V.target===F.container&&(Ur=!0)}}},ii=F=>{F.container.onmousedown=()=>{F.popup.onmouseup=function(V){F.popup.onmouseup=void 0,(V.target===F.popup||F.popup.contains(V.target))&&(Ur=!0)}}},Zi=(F,V,J)=>{V.container.onclick=ze=>{const Jt=ot.innerParams.get(F);Ur?Ur=!1:ze.target===V.container&&At(Jt.allowOutsideClick)&&J(dn.backdrop)}},_s=F=>F instanceof Element||(F=>"object"==typeof F&&F.jquery)(F);const Ue=()=>{if(Dt.timeout)return(()=>{const F=Ot(),V=parseInt(window.getComputedStyle(F).width);F.style.removeProperty("transition"),F.style.width="100%";const ze=V/parseInt(window.getComputedStyle(F).width)*100;F.style.removeProperty("transition"),F.style.width=`${ze}%`})(),Dt.timeout.stop()},Pn=()=>{if(Dt.timeout){const F=Dt.timeout.start();return Fn(F),F}};let Ps=!1;const ho={};const fl=F=>{for(let V=F.target;V&&V!==document;V=V.parentNode)for(const J in ho){const ze=V.getAttribute(J);if(ze)return void ho[J].fire({template:ze})}};var pl=Object.freeze({__proto__:null,isValidParameter:Wo,isUpdatableParameter:vo,isDeprecatedParameter:ta,argsToParams:F=>{const V={};return"object"!=typeof F[0]||_s(F[0])?["title","html","icon"].forEach((J,ze)=>{const Jt=F[ze];"string"==typeof Jt||_s(Jt)?V[J]=Jt:void 0!==Jt&&Le(`Unexpected type of ${J}! Expected "string" or "Element", got ${typeof Jt}`)}):Object.assign(V,F[0]),V},getContainer:Zt,getPopup:Ut,getTitle:Qe,getHtmlContainer:vt,getImage:ht,getIcon:Gt,getIconContent:()=>In(z["icon-content"]),getInputLabel:()=>In(z["input-label"]),getCloseButton:On,getActions:bt,getConfirmButton:xt,getDenyButton:Pt,getCancelButton:yr,getLoader:hr,getFooter:Wn,getTimerProgressBar:Ot,getFocusableElements:st,getValidationMessage:hn,getProgressSteps:kt,isLoading:()=>Ut().hasAttribute("data-loading"),isVisible:()=>Br(Ut()),clickConfirm:Ge,clickDeny:()=>Pt()&&Pt().click(),clickCancel:()=>yr()&&yr().click(),fire:function K(){for(var V=arguments.length,J=new Array(V),ze=0;ze<V;ze++)J[ze]=arguments[ze];return new this(...J)},mixin:function L(F){return class V extends(this){_main(ze,Jt){return super._main(ze,Object.assign({},F,Jt))}}},showLoading:po,enableLoading:po,getTimerLeft:()=>Dt.timeout&&Dt.timeout.getTimerLeft(),stopTimer:Ue,resumeTimer:Pn,toggleTimer:()=>{const F=Dt.timeout;return F&&(F.running?Ue():Pn())},increaseTimer:F=>{if(Dt.timeout){const V=Dt.timeout.increase(F);return Fn(V,!0),V}},isTimerRunning:()=>Dt.timeout&&Dt.timeout.isRunning(),bindClickHandler:function Fo(){ho[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ps||(document.body.addEventListener("click",fl),Ps=!0)}});class ua{constructor(V,J){this.callback=V,this.remaining=J,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(V){const J=this.running;return J&&this.stop(),this.remaining+=V,J&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Rc=["swal-title","swal-html","swal-footer"],Pc=F=>{const V={};return Array.from(F.querySelectorAll("swal-param")).forEach(ze=>{ys(ze,["name","value"]);const Jt=ze.getAttribute("name"),Kn=ze.getAttribute("value");V[Jt]="boolean"==typeof jn[Jt]?"false"!==Kn:"object"==typeof jn[Jt]?JSON.parse(Kn):Kn}),V},Zs=F=>{const V={};return Array.from(F.querySelectorAll("swal-function-param")).forEach(ze=>{const Jt=ze.getAttribute("name"),Kn=ze.getAttribute("value");V[Jt]=new Function(`return ${Kn}`)()}),V},Na=F=>{const V={};return Array.from(F.querySelectorAll("swal-button")).forEach(ze=>{ys(ze,["type","color","aria-label"]);const Jt=ze.getAttribute("type");V[`${Jt}ButtonText`]=ze.innerHTML,V[`show${pt(Jt)}Button`]=!0,ze.hasAttribute("color")&&(V[`${Jt}ButtonColor`]=ze.getAttribute("color")),ze.hasAttribute("aria-label")&&(V[`${Jt}ButtonAriaLabel`]=ze.getAttribute("aria-label"))}),V},Qi=F=>{const V={},J=F.querySelector("swal-image");return J&&(ys(J,["src","width","height","alt"]),J.hasAttribute("src")&&(V.imageUrl=J.getAttribute("src")),J.hasAttribute("width")&&(V.imageWidth=J.getAttribute("width")),J.hasAttribute("height")&&(V.imageHeight=J.getAttribute("height")),J.hasAttribute("alt")&&(V.imageAlt=J.getAttribute("alt"))),V},Lo=F=>{const V={},J=F.querySelector("swal-icon");return J&&(ys(J,["type","color"]),J.hasAttribute("type")&&(V.icon=J.getAttribute("type")),J.hasAttribute("color")&&(V.iconColor=J.getAttribute("color")),V.iconHtml=J.innerHTML),V},ja=F=>{const V={},J=F.querySelector("swal-input");J&&(ys(J,["type","label","placeholder","value"]),V.input=J.getAttribute("type")||"text",J.hasAttribute("label")&&(V.inputLabel=J.getAttribute("label")),J.hasAttribute("placeholder")&&(V.inputPlaceholder=J.getAttribute("placeholder")),J.hasAttribute("value")&&(V.inputValue=J.getAttribute("value")));const ze=Array.from(F.querySelectorAll("swal-input-option"));return ze.length&&(V.inputOptions={},ze.forEach(Jt=>{ys(Jt,["value"]);const Kn=Jt.getAttribute("value");V.inputOptions[Kn]=Jt.innerHTML})),V},gl=(F,V)=>{const J={};for(const ze in V){const Jt=V[ze],Kn=F.querySelector(Jt);Kn&&(ys(Kn,[]),J[Jt.replace(/^swal-/,"")]=Kn.innerHTML.trim())}return J},wa=F=>{const V=Rc.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(F.children).forEach(J=>{const ze=J.tagName.toLowerCase();V.includes(ze)||Oe(`Unrecognized element <${ze}>`)})},ys=(F,V)=>{Array.from(F.attributes).forEach(J=>{-1===V.indexOf(J.name)&&Oe([`Unrecognized attribute "${J.name}" on <${F.tagName.toLowerCase()}>.`,V.length?`Allowed attributes are: ${V.join(", ")}`:"To set the value, use HTML within the element."])})},Ri=F=>{const V=Zt(),J=Ut();"function"==typeof F.willOpen&&F.willOpen(J);const Jt=window.getComputedStyle(document.body).overflowY;cu(V,J,F),setTimeout(()=>{nc(V,J)},10),de()&&(rc(V,F.scrollbarPadding,Jt),Array.from(document.body.children).forEach(V=>{V===Zt()||V.contains(Zt())||(V.hasAttribute("aria-hidden")&&V.setAttribute("data-previous-aria-hidden",V.getAttribute("aria-hidden")),V.setAttribute("aria-hidden","true"))})),!Te()&&!Dt.previousActiveElement&&(Dt.previousActiveElement=document.activeElement),"function"==typeof F.didOpen&&setTimeout(()=>F.didOpen(J)),gr(V,z["no-transition"])},wi=F=>{const V=Ut();if(F.target!==V)return;const J=Zt();V.removeEventListener(Zn,wi),J.style.overflowY="auto"},nc=(F,V)=>{Zn&&Gr(V)?(F.style.overflowY="hidden",V.addEventListener(Zn,wi)):F.style.overflowY="auto"},rc=(F,V,J)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Re(document.body,z.iosfix)){const V=document.body.scrollTop;document.body.style.top=-1*V+"px",Xt(document.body,z.iosfix),qe(),pe()}})(),V&&"hidden"!==J&&Ai(),setTimeout(()=>{F.scrollTop=0})},cu=(F,V,J)=>{Xt(F,J.showClass.backdrop),V.style.setProperty("opacity","0","important"),ar(V,"grid"),setTimeout(()=>{Xt(V,J.showClass.popup),V.style.removeProperty("opacity")},10),Xt([document.documentElement,document.body],z.shown),J.heightAuto&&J.backdrop&&!J.toast&&Xt([document.documentElement,document.body],z["height-auto"])};var Ml={email:(F,V)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(F)?Promise.resolve():Promise.resolve(V||"Invalid email address"),url:(F,V)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(F)?Promise.resolve():Promise.resolve(V||"Invalid URL")};function sc(F){(function zu(F){F.inputValidator||Object.keys(Ml).forEach(V=>{F.input===V&&(F.inputValidator=Ml[V])})})(F),F.showLoaderOnConfirm&&!F.preConfirm&&Oe("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function ic(F){(!F.target||"string"==typeof F.target&&!document.querySelector(F.target)||"string"!=typeof F.target&&!F.target.appendChild)&&(Oe('Target parameter is not valid, defaulting to "body"'),F.target="body")}(F),"string"==typeof F.title&&(F.title=F.title.split("\n").join("<br />")),zr(F)}let Vo;class Oi{constructor(){if(typeof window>"u")return;Vo=this;for(var V=arguments.length,J=new Array(V),ze=0;ze<V;ze++)J[ze]=arguments[ze];const Jt=Object.freeze(this.constructor.argsToParams(J));Object.defineProperties(this,{params:{value:Jt,writable:!1,enumerable:!0,configurable:!0}});const Kn=Vo._main(Vo.params);ot.promise.set(this,Kn)}_main(V){let J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(F=>{!1===F.backdrop&&F.allowOutsideClick&&Oe('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const V in F)Go(V),F.toast&&si(V),co(V)})(Object.assign({},J,V)),Dt.currentInstance&&(Dt.currentInstance._destroy(),de()&&Se()),Dt.currentInstance=Vo;const ze=Pr(V,J);sc(ze),Object.freeze(ze),Dt.timeout&&(Dt.timeout.stop(),delete Dt.timeout),clearTimeout(Dt.restoreFocusTimeout);const Jt=as(Vo);return fr(Vo,ze),ot.innerParams.set(Vo,ze),An(Vo,Jt,ze)}then(V){return ot.promise.get(this).then(V)}finally(V){return ot.promise.get(this).finally(V)}}const An=(F,V,J)=>new Promise((ze,Jt)=>{const Kn=Or=>{F.close({isDismissed:!0,dismiss:Or})};Is.swalPromiseResolve.set(F,ze),Is.swalPromiseReject.set(F,Jt),V.confirmButton.onclick=()=>{(F=>{const V=ot.innerParams.get(F);F.disableButtons(),V.input?ie(F,"confirm"):tn(F,!0)})(F)},V.denyButton.onclick=()=>{(F=>{const V=ot.innerParams.get(F);F.disableButtons(),V.returnInputValueOnDeny?ie(F,"deny"):ke(F,!1)})(F)},V.cancelButton.onclick=()=>{((F,V)=>{F.disableButtons(),V(dn.cancel)})(F,Kn)},V.closeButton.onclick=()=>{Kn(dn.close)},((F,V,J)=>{ot.innerParams.get(F).toast?Jn(F,V,J):(Ir(V),ii(V),Zi(F,V,J))})(F,V,Kn),((F,V,J,ze)=>{Ln(V),J.toast||(V.keydownHandler=Jt=>Oo(F,Jt,ze),V.keydownTarget=J.keydownListenerCapture?window:Ut(),V.keydownListenerCapture=J.keydownListenerCapture,V.keydownTarget.addEventListener("keydown",V.keydownHandler,{capture:V.keydownListenerCapture}),V.keydownHandlerAdded=!0)})(F,Dt,J,Kn),((F,V)=>{"select"===V.input||"radio"===V.input?yi(F,V):["text","email","number","tel","textarea"].includes(V.input)&&(yt(V.inputValue)||Qt(V.inputValue))&&(po(xt()),Qr(F,V))})(F,J),Ri(J),Bo(Dt,J,Kn),Ts(V,J),setTimeout(()=>{V.container.scrollTop=0})}),Pr=(F,V)=>{const J=(F=>{const V="string"==typeof F.template?document.querySelector(F.template):F.template;if(!V)return{};const J=V.content;return wa(J),Object.assign(Pc(J),Zs(J),Na(J),Qi(J),Lo(J),ja(J),gl(J,Rc))})(F),ze=Object.assign({},jn,V,J,F);return ze.showClass=Object.assign({},jn.showClass,ze.showClass),ze.hideClass=Object.assign({},jn.hideClass,ze.hideClass),ze},as=F=>{const V={popup:Ut(),container:Zt(),actions:bt(),confirmButton:xt(),denyButton:Pt(),cancelButton:yr(),loader:hr(),closeButton:On(),validationMessage:hn(),progressSteps:kt()};return ot.domCache.set(F,V),V},Bo=(F,V,J)=>{const ze=Ot();Ar(ze),V.timer&&(F.timeout=new ua(()=>{J("timer"),delete F.timeout},V.timer),V.timerProgressBar&&(ar(ze),jt(ze,V,"timerProgressBar"),setTimeout(()=>{F.timeout&&F.timeout.running&&Fn(V.timer)})))},Ts=(F,V)=>{if(!V.toast){if(!At(V.allowEnterKey))return void Cs();Co(F,V)||xr(0,-1,1)}},Co=(F,V)=>V.focusDeny&&Br(F.denyButton)?(F.denyButton.focus(),!0):V.focusCancel&&Br(F.cancelButton)?(F.cancelButton.focus(),!0):!(!V.focusConfirm||!Br(F.confirmButton)||(F.confirmButton.focus(),0)),Cs=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const F=new Date,V=localStorage.getItem("swal-initiation");V?(F.getTime()-Date.parse(V))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const J=document.createElement("audio");J.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",J.loop=!0,document.body.appendChild(J),setTimeout(()=>{J.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${F}`)}Object.assign(Oi.prototype,ro),Object.assign(Oi,pl),Object.keys(ro).forEach(F=>{Oi[F]=function(){if(Vo)return Vo[F](...arguments)}}),Oi.DismissReason=dn,Oi.version="11.6.13";const ci=Oi;return ci.default=ci,ci}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ot,Q){var T=ot.createElement("style");if(ot.getElementsByTagName("head")[0].appendChild(T),T.styleSheet)T.styleSheet.disabled||(T.styleSheet.cssText=Q);else try{T.innerHTML=Q}catch{T.innerText=Q}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8041:(qn,ot,Q)=>{"use strict";Q.d(ot,{$b:()=>z,Vy:()=>Oe});const T=[];var z=function(Ve){return Ve[Ve.DEBUG=0]="DEBUG",Ve[Ve.VERBOSE=1]="VERBOSE",Ve[Ve.INFO=2]="INFO",Ve[Ve.WARN=3]="WARN",Ve[Ve.ERROR=4]="ERROR",Ve[Ve.SILENT=5]="SILENT",Ve}(z||{});const le={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},A=z.INFO,We={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},pt=(Ve,Fe,...At)=>{if(Fe<Ve.logLevel)return;const yt=(new Date).toISOString(),Ct=We[Fe];if(!Ct)throw new Error(`Attempted to log a message with an invalid logType (value: ${Fe})`);console[Ct](`[${yt}]  ${Ve.name}:`,...At)};class Oe{constructor(Fe){this.name=Fe,this._logLevel=A,this._logHandler=pt,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(Fe){if(!(Fe in z))throw new TypeError(`Invalid value "${Fe}" assigned to \`logLevel\``);this._logLevel=Fe}setLogLevel(Fe){this._logLevel="string"==typeof Fe?le[Fe]:Fe}get logHandler(){return this._logHandler}set logHandler(Fe){if("function"!=typeof Fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(Fe){this._userLogHandler=Fe}debug(...Fe){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...Fe),this._logHandler(this,z.DEBUG,...Fe)}log(...Fe){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...Fe),this._logHandler(this,z.VERBOSE,...Fe)}info(...Fe){this._userLogHandler&&this._userLogHandler(this,z.INFO,...Fe),this._logHandler(this,z.INFO,...Fe)}warn(...Fe){this._userLogHandler&&this._userLogHandler(this,z.WARN,...Fe),this._logHandler(this,z.WARN,...Fe)}error(...Fe){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...Fe),this._logHandler(this,z.ERROR,...Fe)}}},8058:(qn,ot,Q)=>{"use strict";var T=Q(6048),z=Q(9377),le=Q(9361),A=Q(1360);const We=new A.nKC("");let pt=(()=>{class a{_zone;_plugins;_eventNameToPlugin=new Map;constructor(r,l){this._zone=l,r.forEach(u=>{u.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,l,u,p){return this._findPluginFor(l).addEventListener(r,l,u,p)}getZone(){return this._zone}_findPluginFor(r){let l=this._eventNameToPlugin.get(r);if(l)return l;if(l=this._plugins.find(p=>p.supports(r)),!l)throw new A.wOt(5101,!1);return this._eventNameToPlugin.set(r,l),l}static \u0275fac=function(l){return new(l||a)(A.KVO(We),A.KVO(A.SKi))};static \u0275prov=A.jDH({token:a,factory:a.\u0275fac})}return a})();class Oe{_doc;constructor(s){this._doc=s}manager}const Le="ng-app-id";function at(a){for(const s of a)s.remove()}function Ve(a,s){const r=s.createElement("style");return r.textContent=a,r}function At(a,s){const r=s.createElement("link");return r.setAttribute("rel","stylesheet"),r.setAttribute("href",a),r}let yt=(()=>{class a{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(r,l,u,p={}){this.doc=r,this.appId=l,this.nonce=u,this.isServer=(0,z.Vy)(p),function Fe(a,s,r,l){const u=a.head?.querySelectorAll(`style[${Le}="${s}"],link[${Le}="${s}"]`);if(u)for(const p of u)p.removeAttribute(Le),p instanceof HTMLLinkElement?l.set(p.href.slice(p.href.lastIndexOf("/")+1),{usage:0,elements:[p]}):p.textContent&&r.set(p.textContent,{usage:0,elements:[p]})}(r,l,this.inline,this.external),this.hosts.add(r.head)}addStyles(r,l){for(const u of r)this.addUsage(u,this.inline,Ve);l?.forEach(u=>this.addUsage(u,this.external,At))}removeStyles(r,l){for(const u of r)this.removeUsage(u,this.inline);l?.forEach(u=>this.removeUsage(u,this.external))}addUsage(r,l,u){const p=l.get(r);p?p.usage++:l.set(r,{usage:1,elements:[...this.hosts].map(_=>this.addElement(_,u(r,this.doc)))})}removeUsage(r,l){const u=l.get(r);u&&(u.usage--,u.usage<=0&&(at(u.elements),l.delete(r)))}ngOnDestroy(){for(const[,{elements:r}]of[...this.inline,...this.external])at(r);this.hosts.clear()}addHost(r){this.hosts.add(r);for(const[l,{elements:u}]of this.inline)u.push(this.addElement(r,Ve(l,this.doc)));for(const[l,{elements:u}]of this.external)u.push(this.addElement(r,At(l,this.doc)))}removeHost(r){this.hosts.delete(r)}addElement(r,l){return this.nonce&&l.setAttribute("nonce",this.nonce),this.isServer&&l.setAttribute(Le,this.appId),r.appendChild(l)}static \u0275fac=function(l){return new(l||a)(A.KVO(le.q),A.KVO(A.sZ2),A.KVO(A.BIS,8),A.KVO(A.Agw))};static \u0275prov=A.jDH({token:a,factory:a.\u0275fac})}return a})();const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qt=/%COMP%/g,Qe=new A.nKC("",{providedIn:"root",factory:()=>!0});function kt(a,s){return s.map(r=>r.replace(Qt,a))}let xt=(()=>{class a{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(r,l,u,p,_,y,C,R=null,U=null){this.eventManager=r,this.sharedStylesHost=l,this.appId=u,this.removeStylesOnCompDestroy=p,this.doc=_,this.platformId=y,this.ngZone=C,this.nonce=R,this.tracingService=U,this.platformIsServer=(0,z.Vy)(y),this.defaultRenderer=new Pt(r,_,C,this.platformIsServer,this.tracingService)}createRenderer(r,l){if(!r||!l)return this.defaultRenderer;this.platformIsServer&&l.encapsulation===A.gXe.ShadowDom&&(l={...l,encapsulation:A.gXe.Emulated});const u=this.getOrCreateRenderer(r,l);return u instanceof Ot?u.applyToHost(r):u instanceof Wn&&u.applyStyles(),u}getOrCreateRenderer(r,l){const u=this.rendererByCompId;let p=u.get(l.id);if(!p){const _=this.doc,y=this.ngZone,C=this.eventManager,R=this.sharedStylesHost,U=this.removeStylesOnCompDestroy,q=this.platformIsServer,ae=this.tracingService;switch(l.encapsulation){case A.gXe.Emulated:p=new Ot(C,R,l,this.appId,U,_,y,q,ae);break;case A.gXe.ShadowDom:return new bt(C,R,r,l,_,y,this.nonce,q,ae);default:p=new Wn(C,R,l,U,_,y,q,ae)}u.set(l.id,p)}return p}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(r){this.rendererByCompId.delete(r)}static \u0275fac=function(l){return new(l||a)(A.KVO(pt),A.KVO(yt),A.KVO(A.sZ2),A.KVO(Qe),A.KVO(le.q),A.KVO(A.Agw),A.KVO(A.SKi),A.KVO(A.BIS),A.KVO(A.Lf2,8))};static \u0275prov=A.jDH({token:a,factory:a.\u0275fac})}return a})();class Pt{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(s,r,l,u,p){this.eventManager=s,this.doc=r,this.ngZone=l,this.platformIsServer=u,this.tracingService=p}destroy(){}destroyNode=null;createElement(s,r){return r?this.doc.createElementNS(Ct[r]||r,s):this.doc.createElement(s)}createComment(s){return this.doc.createComment(s)}createText(s){return this.doc.createTextNode(s)}appendChild(s,r){(yr(s)?s.content:s).appendChild(r)}insertBefore(s,r,l){s&&(yr(s)?s.content:s).insertBefore(r,l)}removeChild(s,r){r.remove()}selectRootElement(s,r){let l="string"==typeof s?this.doc.querySelector(s):s;if(!l)throw new A.wOt(-5104,!1);return r||(l.textContent=""),l}parentNode(s){return s.parentNode}nextSibling(s){return s.nextSibling}setAttribute(s,r,l,u){if(u){r=u+":"+r;const p=Ct[u];p?s.setAttributeNS(p,r,l):s.setAttribute(r,l)}else s.setAttribute(r,l)}removeAttribute(s,r,l){if(l){const u=Ct[l];u?s.removeAttributeNS(u,r):s.removeAttribute(`${l}:${r}`)}else s.removeAttribute(r)}addClass(s,r){s.classList.add(r)}removeClass(s,r){s.classList.remove(r)}setStyle(s,r,l,u){u&(A.czy.DashCase|A.czy.Important)?s.style.setProperty(r,l,u&A.czy.Important?"important":""):s.style[r]=l}removeStyle(s,r,l){l&A.czy.DashCase?s.style.removeProperty(r):s.style[r]=""}setProperty(s,r,l){null!=s&&(s[r]=l)}setValue(s,r){s.nodeValue=r}listen(s,r,l,u){if("string"==typeof s&&!(s=(0,T.rb)().getGlobalEventTarget(this.doc,s)))throw new A.wOt(5102,!1);let p=this.decoratePreventDefault(l);return this.tracingService?.wrapEventListener&&(p=this.tracingService.wrapEventListener(s,r,p)),this.eventManager.addEventListener(s,r,p,u)}decoratePreventDefault(s){return r=>{if("__ngUnwrap__"===r)return s;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>s(r)):s(r))&&r.preventDefault()}}}function yr(a){return"TEMPLATE"===a.tagName&&void 0!==a.content}class bt extends Pt{sharedStylesHost;hostEl;shadowRoot;constructor(s,r,l,u,p,_,y,C,R){super(s,p,_,C,R),this.sharedStylesHost=r,this.hostEl=l,this.shadowRoot=l.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let U=u.styles;U=kt(u.id,U);for(const ae of U){const fe=document.createElement("style");y&&fe.setAttribute("nonce",y),fe.textContent=ae,this.shadowRoot.appendChild(fe)}const q=u.getExternalStyles?.();if(q)for(const ae of q){const fe=At(ae,p);y&&fe.setAttribute("nonce",y),this.shadowRoot.appendChild(fe)}}nodeOrShadowRoot(s){return s===this.hostEl?this.shadowRoot:s}appendChild(s,r){return super.appendChild(this.nodeOrShadowRoot(s),r)}insertBefore(s,r,l){return super.insertBefore(this.nodeOrShadowRoot(s),r,l)}removeChild(s,r){return super.removeChild(null,r)}parentNode(s){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(s)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wn extends Pt{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(s,r,l,u,p,_,y,C,R){super(s,p,_,y,C),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=u;let U=l.styles;this.styles=R?kt(R,U):U,this.styleUrls=l.getExternalStyles?.(R)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Ot extends Wn{contentAttr;hostAttr;constructor(s,r,l,u,p,_,y,C,R){const U=u+"-"+l.id;super(s,r,l,p,_,y,C,R,U),this.contentAttr=function vt(a){return"_ngcontent-%COMP%".replace(Qt,a)}(U),this.hostAttr=function ht(a){return"_nghost-%COMP%".replace(Qt,a)}(U)}applyToHost(s){this.applyStyles(),this.setAttribute(s,this.hostAttr,"")}createElement(s,r){const l=super.createElement(s,r);return super.setAttribute(l,this.contentAttr,""),l}}class On extends T.qj{supportsDOMEvents=!0;static makeCurrent(){(0,T.ig)(new On)}onAndCancel(s,r,l,u){return s.addEventListener(r,l,u),()=>{s.removeEventListener(r,l,u)}}dispatchEvent(s,r){s.dispatchEvent(r)}remove(s){s.remove()}createElement(s,r){return(r=r||this.getDefaultDocument()).createElement(s)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(s){return s.nodeType===Node.ELEMENT_NODE}isShadowRoot(s){return s instanceof DocumentFragment}getGlobalEventTarget(s,r){return"window"===r?window:"document"===r?s:"body"===r?s.body:null}getBaseHref(s){const r=function st(){return rn=rn||document.head.querySelector("base"),rn?rn.getAttribute("href"):null}();return null==r?null:function de(a){return new URL(a,document.baseURI).pathname}(r)}resetBaseElement(){rn=null}getUserAgent(){return window.navigator.userAgent}getCookie(s){return(0,z.bS)(document.cookie,s)}}let rn=null,De=(()=>{class a{build(){return new XMLHttpRequest}static \u0275fac=function(l){return new(l||a)};static \u0275prov=A.jDH({token:a,factory:a.\u0275fac})}return a})(),xe=(()=>{class a extends Oe{constructor(r){super(r)}supports(r){return!0}addEventListener(r,l,u,p){return r.addEventListener(l,u,p),()=>this.removeEventListener(r,l,u,p)}removeEventListener(r,l,u,p){return r.removeEventListener(l,u,p)}static \u0275fac=function(l){return new(l||a)(A.KVO(le.q))};static \u0275prov=A.jDH({token:a,factory:a.\u0275fac})}return a})();const me=["alt","control","meta","shift"],Re={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={alt:a=>a.altKey,control:a=>a.ctrlKey,meta:a=>a.metaKey,shift:a=>a.shiftKey};let jt=(()=>{class a extends Oe{constructor(r){super(r)}supports(r){return null!=a.parseEventName(r)}addEventListener(r,l,u,p){const _=a.parseEventName(l),y=a.eventCallback(_.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.rb)().onAndCancel(r,_.domEventName,y,p))}static parseEventName(r){const l=r.toLowerCase().split("."),u=l.shift();if(0===l.length||"keydown"!==u&&"keyup"!==u)return null;const p=a._normalizeKey(l.pop());let _="",y=l.indexOf("code");if(y>-1&&(l.splice(y,1),_="code."),me.forEach(R=>{const U=l.indexOf(R);U>-1&&(l.splice(U,1),_+=R+".")}),_+=p,0!=l.length||0===p.length)return null;const C={};return C.domEventName=u,C.fullKey=_,C}static matchEventFullKeyCode(r,l){let u=Re[r.key]||r.key,p="";return l.indexOf("code.")>-1&&(u=r.code,p="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),me.forEach(_=>{_!==u&&(0,ft[_])(r)&&(p+=_+".")}),p+=u,p===l)}static eventCallback(r,l,u){return p=>{a.matchEventFullKeyCode(p,r)&&u.runGuarded(()=>l(p))}}static _normalizeKey(r){return"esc"===r?"escape":r}static \u0275fac=function(l){return new(l||a)(A.KVO(le.q))};static \u0275prov=A.jDH({token:a,factory:a.\u0275fac})}return a})();function Dr(a){return{appProviders:[...Br,...a?.providers??[]],platformProviders:ar}}const ar=[{provide:A.Agw,useValue:z.Zn},{provide:A.PLl,useValue:function gr(){On.makeCurrent()},multi:!0},{provide:le.q,useFactory:function gn(){return(0,A.TL$)(document),document}}],Br=[{provide:A.H8p,useValue:"root"},{provide:A.zcH,useFactory:function mr(){return new A.zcH}},{provide:We,useClass:xe,multi:!0,deps:[le.q]},{provide:We,useClass:jt,multi:!0,deps:[le.q]},xt,yt,pt,{provide:A._9s,useExisting:xt},{provide:z.N0,useClass:De},[]];var kn=Q(969);function Fn(a){return new A.wOt(3e3,!1)}function Me(a){switch(a.length){case 0:return new kn.sf;case 1:return a[0];default:return new kn.PZ(a)}}function rt(a,s,r=new Map,l=new Map){const u=[],p=[];let _=-1,y=null;if(s.forEach(C=>{const R=C.get("offset"),U=R==_,q=U&&y||new Map;C.forEach((ae,fe)=>{let Ae=fe,je=ae;if("offset"!==fe)switch(Ae=a.normalizePropertyName(Ae,u),je){case kn.FX:je=r.get(fe);break;case kn.kp:je=l.get(fe);break;default:je=a.normalizeStyleValue(fe,Ae,je,u)}q.set(Ae,je)}),U||p.push(q),y=q,_=R}),u.length)throw function et(){return new A.wOt(3502,!1)}();return p}function nn(a,s,r,l){switch(s){case"start":a.onStart(()=>l(r&&dt(r,"start",a)));break;case"done":a.onDone(()=>l(r&&dt(r,"done",a)));break;case"destroy":a.onDestroy(()=>l(r&&dt(r,"destroy",a)))}}function dt(a,s,r){const p=yn(a.element,a.triggerName,a.fromState,a.toState,s||a.phaseName,r.totalTime??a.totalTime,!!r.disabled),_=a._data;return null!=_&&(p._data=_),p}function yn(a,s,r,l,u="",p=0,_){return{element:a,triggerName:s,fromState:r,toState:l,phaseName:u,totalTime:p,disabled:!!_}}function Qn(a,s,r){let l=a.get(s);return l||a.set(s,l=r),l}function Zr(a){const s=a.indexOf(":");return[a.substring(1,s),a.slice(s+1)]}const ge=typeof document>"u"?null:document.documentElement;function Ee(a){const s=a.parentNode||a.host||null;return s===ge?null:s}let mt=null,Bt=!1;function qt(a,s){for(;s;){if(s===a)return!0;s=Ee(s)}return!1}function Vt(a,s,r){if(r)return Array.from(a.querySelectorAll(s));const l=a.querySelector(s);return l?[l]:[]}const ir="ng-enter",Nn="ng-leave",fr="ng-trigger",Mr=".ng-trigger",Wi="ng-animating",us=".ng-animating";function Ne(a){if("number"==typeof a)return a;const s=a.match(/^(-?[\.\d]+)(m?s)/);return!s||s.length<2?0:Ge(parseFloat(s[1]),s[2])}function Ge(a,s){return"s"===s?1e3*a:a}function ut(a,s,r){return a.hasOwnProperty("duration")?a:function an(a,s,r){let u,p=0,_="";if("string"==typeof a){const y=a.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return s.push(Fn()),{duration:0,delay:0,easing:""};u=Ge(parseFloat(y[1]),y[2]);const C=y[3];null!=C&&(p=Ge(parseFloat(C),y[4]));const R=y[5];R&&(_=R)}else u=a;if(!r){let y=!1,C=s.length;u<0&&(s.push(function Ss(){return new A.wOt(3100,!1)}()),y=!0),p<0&&(s.push(function li(){return new A.wOt(3101,!1)}()),y=!0),y&&s.splice(C,0,Fn())}return{duration:u,delay:p,easing:_}}(a,s,r)}function sr(a,s,r){s.forEach((l,u)=>{const p=zo(u);r&&!r.has(u)&&r.set(u,a.style[p]),a.style[p]=l})}function xr(a,s){s.forEach((r,l)=>{const u=zo(l);a.style[u]=""})}function Nr(a){return Array.isArray(a)?1==a.length?a[0]:(0,kn.K2)(a):a}const Oo=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ni(a){let s=[];if("string"==typeof a){let r;for(;r=Oo.exec(a);)s.push(r[1]);Oo.lastIndex=0}return s}function Os(a,s,r){const l=`${a}`,u=l.replace(Oo,(p,_)=>{let y=s[_];return null==y&&(r.push(function mi(){return new A.wOt(3003,!1)}()),y=""),y.toString()});return u==l?a:u}const to=/-+([a-z0-9])/g;function zo(a){return a.replace(to,(...s)=>s[1].toUpperCase())}function se(a,s,r){switch(s.type){case kn.If.Trigger:return a.visitTrigger(s,r);case kn.If.State:return a.visitState(s,r);case kn.If.Transition:return a.visitTransition(s,r);case kn.If.Sequence:return a.visitSequence(s,r);case kn.If.Group:return a.visitGroup(s,r);case kn.If.Animate:return a.visitAnimate(s,r);case kn.If.Keyframes:return a.visitKeyframes(s,r);case kn.If.Style:return a.visitStyle(s,r);case kn.If.Reference:return a.visitReference(s,r);case kn.If.AnimateChild:return a.visitAnimateChild(s,r);case kn.If.AnimateRef:return a.visitAnimateRef(s,r);case kn.If.Query:return a.visitQuery(s,r);case kn.If.Stagger:return a.visitStagger(s,r);default:throw function vr(){return new A.wOt(3004,!1)}()}}function pe(a,s){return window.getComputedStyle(a)[s]}let qe=(()=>{class a{validateStyleProperty(r){return function ve(a){mt||(mt=function tt(){return typeof document<"u"?document.body:null}()||{},Bt=!!mt.style&&"WebkitAppearance"in mt.style);let s=!0;return mt.style&&!function He(a){return"ebkit"==a.substring(1,6)}(a)&&(s=a in mt.style,!s&&Bt&&(s="Webkit"+a.charAt(0).toUpperCase()+a.slice(1)in mt.style)),s}(r)}containsElement(r,l){return qt(r,l)}getParentElement(r){return Ee(r)}query(r,l,u){return Vt(r,l,u)}computeStyle(r,l,u){return u||""}animate(r,l,u,p,_,y=[],C){return new kn.sf(u,p)}static \u0275fac=function(l){return new(l||a)};static \u0275prov=A.jDH({token:a,factory:a.\u0275fac})}return a})();class Ht{static NOOP=new qe}class xn{}const vi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ai extends xn{normalizePropertyName(s,r){return zo(s)}normalizeStyleValue(s,r,l,u){let p="";const _=l.toString().trim();if(vi.has(r)&&0!==l&&"0"!==l)if("number"==typeof l)p="px";else{const y=l.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&u.push(function wn(){return new A.wOt(3005,!1)}())}return _+p}}const _t=new Set(["true","1"]),Ye=new Set(["false","0"]);function St(a,s){const r=_t.has(a)||Ye.has(a),l=_t.has(s)||Ye.has(s);return(u,p)=>{let _="*"==a||a==u,y="*"==s||s==p;return!_&&r&&"boolean"==typeof u&&(_=u?_t.has(a):Ye.has(a)),!y&&l&&"boolean"==typeof p&&(y=p?_t.has(s):Ye.has(s)),_&&y}}const Un=new RegExp("s*:selfs*,?","g");function pr(a,s,r,l){return new Ns(a).build(s,r,l)}class Ns{_driver;constructor(s){this._driver=s}build(s,r,l){const u=new ea(r);return this._resetContextStyleTimingState(u),se(this,Nr(s),u)}_resetContextStyleTimingState(s){s.currentQuerySelector="",s.collectedStyles=new Map,s.collectedStyles.set("",new Map),s.currentTime=0}visitTrigger(s,r){let l=r.queryCount=0,u=r.depCount=0;const p=[],_=[];return"@"==s.name.charAt(0)&&r.errors.push(function Ci(){return new A.wOt(3006,!1)}()),s.definitions.forEach(y=>{if(this._resetContextStyleTimingState(r),y.type==kn.If.State){const C=y,R=C.name;R.toString().split(/\s*,\s*/).forEach(U=>{C.name=U,p.push(this.visitState(C,r))}),C.name=R}else if(y.type==kn.If.Transition){const C=this.visitTransition(y,r);l+=C.queryCount,u+=C.depCount,_.push(C)}else r.errors.push(function fi(){return new A.wOt(3007,!1)}())}),{type:kn.If.Trigger,name:s.name,states:p,transitions:_,queryCount:l,depCount:u,options:null}}visitState(s,r){const l=this.visitStyle(s.styles,r),u=s.options&&s.options.params||null;if(l.containsDynamicStyles){const p=new Set,_=u||{};l.styles.forEach(y=>{y instanceof Map&&y.forEach(C=>{Ni(C).forEach(R=>{_.hasOwnProperty(R)||p.add(R)})})}),p.size&&r.errors.push(function Tr(){return new A.wOt(3008,!1)}(0,p.values()))}return{type:kn.If.State,name:s.name,style:l,options:u?{params:u}:null}}visitTransition(s,r){r.queryCount=0,r.depCount=0;const l=se(this,Nr(s.animation),r),u=function Rs(a,s){const r=[];return"string"==typeof a?a.split(/\s*,\s*/).forEach(l=>function _o(a,s,r){if(":"==a[0]){const C=function we(a,s){switch(a){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,l)=>parseFloat(l)>parseFloat(r);case":decrement":return(r,l)=>parseFloat(l)<parseFloat(r);default:return s.push(function Yi(){return new A.wOt(3016,!1)}()),"* => *"}}(a,r);if("function"==typeof C)return void s.push(C);a=C}const l=a.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==l||l.length<4)return r.push(function Zn(){return new A.wOt(3015,!1)}()),s;const u=l[1],p=l[2],_=l[3];s.push(St(u,_)),"<"==p[0]&&("*"!=u||"*"!=_)&&s.push(St(_,u))}(l,r,s)):r.push(a),r}(s.expr,r.errors);return{type:kn.If.Transition,matchers:u,animation:l,queryCount:r.queryCount,depCount:r.depCount,options:Qs(s.options)}}visitSequence(s,r){return{type:kn.If.Sequence,steps:s.steps.map(l=>se(this,l,r)),options:Qs(s.options)}}visitGroup(s,r){const l=r.currentTime;let u=0;const p=s.steps.map(_=>{r.currentTime=l;const y=se(this,_,r);return u=Math.max(u,r.currentTime),y});return r.currentTime=u,{type:kn.If.Group,steps:p,options:Qs(s.options)}}visitAnimate(s,r){const l=function yo(a,s){if(a.hasOwnProperty("duration"))return a;if("number"==typeof a)return no(ut(a,s).duration,0,"");const r=a;if(r.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=no(0,0,"");return p.dynamic=!0,p.strValue=r,p}const u=ut(r,s);return no(u.duration,u.delay,u.easing)}(s.timings,r.errors);r.currentAnimateTimings=l;let u,p=s.styles?s.styles:(0,kn.iF)({});if(p.type==kn.If.Keyframes)u=this.visitKeyframes(p,r);else{let _=s.styles,y=!1;if(!_){y=!0;const R={};l.easing&&(R.easing=l.easing),_=(0,kn.iF)(R)}r.currentTime+=l.duration+l.delay;const C=this.visitStyle(_,r);C.isEmptyStep=y,u=C}return r.currentAnimateTimings=null,{type:kn.If.Animate,timings:l,style:u,options:null}}visitStyle(s,r){const l=this._makeStyleAst(s,r);return this._validateStyleAst(l,r),l}_makeStyleAst(s,r){const l=[],u=Array.isArray(s.styles)?s.styles:[s.styles];for(let y of u)"string"==typeof y?y===kn.kp?l.push(y):r.errors.push(new A.wOt(3002,!1)):l.push(new Map(Object.entries(y)));let p=!1,_=null;return l.forEach(y=>{if(y instanceof Map&&(y.has("easing")&&(_=y.get("easing"),y.delete("easing")),!p))for(let C of y.values())if(C.toString().indexOf("{{")>=0){p=!0;break}}),{type:kn.If.Style,styles:l,easing:_,offset:s.offset,containsDynamicStyles:p,options:null}}_validateStyleAst(s,r){const l=r.currentAnimateTimings;let u=r.currentTime,p=r.currentTime;l&&p>0&&(p-=l.duration+l.delay),s.styles.forEach(_=>{"string"!=typeof _&&_.forEach((y,C)=>{const R=r.collectedStyles.get(r.currentQuerySelector),U=R.get(C);let q=!0;U&&(p!=u&&p>=U.startTime&&u<=U.endTime&&(r.errors.push(function ts(){return new A.wOt(3010,!1)}()),q=!1),p=U.startTime),q&&R.set(C,{startTime:p,endTime:u}),r.options&&function Di(a,s,r){const l=s.params||{},u=Ni(a);u.length&&u.forEach(p=>{l.hasOwnProperty(p)||r.push(function Dt(){return new A.wOt(3001,!1)}())})}(y,r.options,r.errors)})})}visitKeyframes(s,r){const l={type:kn.If.Keyframes,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function Kr(){return new A.wOt(3011,!1)}()),l;let p=0;const _=[];let y=!1,C=!1,R=0;const U=s.steps.map(Yt=>{const Wt=this._makeStyleAst(Yt,r);let _n=null!=Wt.offset?Wt.offset:function jn(a){if("string"==typeof a)return null;let s=null;if(Array.isArray(a))a.forEach(r=>{if(r instanceof Map&&r.has("offset")){const l=r;s=parseFloat(l.get("offset")),l.delete("offset")}});else if(a instanceof Map&&a.has("offset")){const r=a;s=parseFloat(r.get("offset")),r.delete("offset")}return s}(Wt.styles),vn=0;return null!=_n&&(p++,vn=Wt.offset=_n),C=C||vn<0||vn>1,y=y||vn<R,R=vn,_.push(vn),Wt});C&&r.errors.push(function ns(){return new A.wOt(3012,!1)}()),y&&r.errors.push(function zr(){return new A.wOt(3200,!1)}());const q=s.steps.length;let ae=0;p>0&&p<q?r.errors.push(function Xi(){return new A.wOt(3202,!1)}()):0==p&&(ae=1/(q-1));const fe=q-1,Ae=r.currentTime,je=r.currentAnimateTimings,Ze=je.duration;return U.forEach((Yt,Wt)=>{const _n=ae>0?Wt==fe?1:ae*Wt:_[Wt],vn=_n*Ze;r.currentTime=Ae+je.delay+vn,je.duration=vn,this._validateStyleAst(Yt,r),Yt.offset=_n,l.styles.push(Yt)}),l}visitReference(s,r){return{type:kn.If.Reference,animation:se(this,Nr(s.animation),r),options:Qs(s.options)}}visitAnimateChild(s,r){return r.depCount++,{type:kn.If.AnimateChild,options:Qs(s.options)}}visitAnimateRef(s,r){return{type:kn.If.AnimateRef,animation:this.visitReference(s.animation,r),options:Qs(s.options)}}visitQuery(s,r){const l=r.currentQuerySelector,u=s.options||{};r.queryCount++,r.currentQuery=s;const[p,_]=function la(a){const s=!!a.split(/\s*,\s*/).find(r=>":self"==r);return s&&(a=a.replace(Un,"")),a=a.replace(/@\*/g,Mr).replace(/@\w+/g,r=>Mr+"-"+r.slice(1)).replace(/:animating/g,us),[a,s]}(s.selector);r.currentQuerySelector=l.length?l+" "+p:p,Qn(r.collectedStyles,r.currentQuerySelector,new Map);const y=se(this,Nr(s.animation),r);return r.currentQuery=null,r.currentQuerySelector=l,{type:kn.If.Query,selector:p,limit:u.limit||0,optional:!!u.optional,includeSelf:_,animation:y,originalSelector:s.selector,options:Qs(s.options)}}visitStagger(s,r){r.currentQuery||r.errors.push(function rs(){return new A.wOt(3013,!1)}());const l="full"===s.timings?{duration:0,delay:0,easing:"full"}:ut(s.timings,r.errors,!0);return{type:kn.If.Stagger,animation:se(this,Nr(s.animation),r),timings:l,options:null}}}class ea{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(s){this.errors=s}}function Qs(a){return a?(a={...a}).params&&(a.params=function Gi(a){return a?{...a}:null}(a.params)):a={},a}function no(a,s,r){return{duration:a,delay:s,easing:r}}function Wo(a,s,r,l,u,p,_=null,y=!1){return{type:1,element:a,keyframes:s,preStyleProps:r,postStyleProps:l,duration:u,delay:p,totalTime:u+p,easing:_,subTimeline:y}}class vo{_map=new Map;get(s){return this._map.get(s)||[]}append(s,r){let l=this._map.get(s);l||this._map.set(s,l=[]),l.push(...r)}has(s){return this._map.has(s)}clear(){this._map.clear()}}const si=new RegExp(":enter","g"),uo=new RegExp(":leave","g");function fo(a,s,r,l,u,p=new Map,_=new Map,y,C,R=[]){return(new No).buildKeyframes(a,s,r,l,u,p,_,y,C,R)}class No{buildKeyframes(s,r,l,u,p,_,y,C,R,U=[]){R=R||new vo;const q=new ds(s,r,R,u,p,U,[]);q.options=C;const ae=C.delay?Ne(C.delay):0;q.currentTimeline.delayNextStep(ae),q.currentTimeline.setStyles([_],null,q.errors,C),se(this,l,q);const fe=q.timelines.filter(Ae=>Ae.containsAnimation());if(fe.length&&y.size){let Ae;for(let je=fe.length-1;je>=0;je--){const Ze=fe[je];if(Ze.element===r){Ae=Ze;break}}Ae&&!Ae.allowOnlyTimelineStyles()&&Ae.setStyles([y],null,q.errors,C)}return fe.length?fe.map(Ae=>Ae.buildKeyframes()):[Wo(r,[],[],[],0,ae,"",!1)]}visitTrigger(s,r){}visitState(s,r){}visitTransition(s,r){}visitAnimateChild(s,r){const l=r.subInstructions.get(r.element);if(l){const u=r.createSubContext(s.options),p=r.currentTimeline.currentTime,_=this._visitSubInstructions(l,u,u.options);p!=_&&r.transformIntoNewTimeline(_)}r.previousNode=s}visitAnimateRef(s,r){const l=r.createSubContext(s.options);l.transformIntoNewTimeline(),this._applyAnimationRefDelays([s.options,s.animation.options],r,l),this.visitReference(s.animation,l),r.transformIntoNewTimeline(l.currentTimeline.currentTime),r.previousNode=s}_applyAnimationRefDelays(s,r,l){for(const u of s){const p=u?.delay;if(p){const _="number"==typeof p?p:Ne(Os(p,u?.params??{},r.errors));l.delayNextStep(_)}}}_visitSubInstructions(s,r,l){let p=r.currentTimeline.currentTime;const _=null!=l.duration?Ne(l.duration):null,y=null!=l.delay?Ne(l.delay):null;return 0!==_&&s.forEach(C=>{const R=r.appendInstructionToTimeline(C,_,y);p=Math.max(p,R.duration+R.delay)}),p}visitReference(s,r){r.updateOptions(s.options,!0),se(this,s.animation,r),r.previousNode=s}visitSequence(s,r){const l=r.subContextCount;let u=r;const p=s.options;if(p&&(p.params||p.delay)&&(u=r.createSubContext(p),u.transformIntoNewTimeline(),null!=p.delay)){u.previousNode.type==kn.If.Style&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=_i);const _=Ne(p.delay);u.delayNextStep(_)}s.steps.length&&(s.steps.forEach(_=>se(this,_,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>l&&u.transformIntoNewTimeline()),r.previousNode=s}visitGroup(s,r){const l=[];let u=r.currentTimeline.currentTime;const p=s.options&&s.options.delay?Ne(s.options.delay):0;s.steps.forEach(_=>{const y=r.createSubContext(s.options);p&&y.delayNextStep(p),se(this,_,y),u=Math.max(u,y.currentTimeline.currentTime),l.push(y.currentTimeline)}),l.forEach(_=>r.currentTimeline.mergeTimelineCollectedStyles(_)),r.transformIntoNewTimeline(u),r.previousNode=s}_visitTiming(s,r){if(s.dynamic){const l=s.strValue;return ut(r.params?Os(l,r.params,r.errors):l,r.errors)}return{duration:s.duration,delay:s.delay,easing:s.easing}}visitAnimate(s,r){const l=r.currentAnimateTimings=this._visitTiming(s.timings,r),u=r.currentTimeline;l.delay&&(r.incrementTime(l.delay),u.snapshotCurrentStyles());const p=s.style;p.type==kn.If.Keyframes?this.visitKeyframes(p,r):(r.incrementTime(l.duration),this.visitStyle(p,r),u.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=s}visitStyle(s,r){const l=r.currentTimeline,u=r.currentAnimateTimings;!u&&l.hasCurrentStyleProperties()&&l.forwardFrame();const p=u&&u.easing||s.easing;s.isEmptyStep?l.applyEmptyStep(p):l.setStyles(s.styles,p,r.errors,r.options),r.previousNode=s}visitKeyframes(s,r){const l=r.currentAnimateTimings,u=r.currentTimeline.duration,p=l.duration,y=r.createSubContext().currentTimeline;y.easing=l.easing,s.styles.forEach(C=>{y.forwardTime((C.offset||0)*p),y.setStyles(C.styles,C.easing,r.errors,r.options),y.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(y),r.transformIntoNewTimeline(u+p),r.previousNode=s}visitQuery(s,r){const l=r.currentTimeline.currentTime,u=s.options||{},p=u.delay?Ne(u.delay):0;p&&(r.previousNode.type===kn.If.Style||0==l&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_i);let _=l;const y=r.invokeQuery(s.selector,s.originalSelector,s.limit,s.includeSelf,!!u.optional,r.errors);r.currentQueryTotal=y.length;let C=null;y.forEach((R,U)=>{r.currentQueryIndex=U;const q=r.createSubContext(s.options,R);p&&q.delayNextStep(p),R===r.element&&(C=q.currentTimeline),se(this,s.animation,q),q.currentTimeline.applyStylesToKeyframe(),_=Math.max(_,q.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(_),C&&(r.currentTimeline.mergeTimelineCollectedStyles(C),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=s}visitStagger(s,r){const l=r.parentContext,u=r.currentTimeline,p=s.timings,_=Math.abs(p.duration),y=_*(r.currentQueryTotal-1);let C=_*r.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":C=y-C;break;case"full":C=l.currentStaggerTime}const U=r.currentTimeline;C&&U.delayNextStep(C);const q=U.currentTime;se(this,s.animation,r),r.previousNode=s,l.currentStaggerTime=u.currentTime-q+(u.startTime-l.currentTimeline.startTime)}}const _i={};class ds{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=_i;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(s,r,l,u,p,_,y,C){this._driver=s,this.element=r,this.subInstructions=l,this._enterClassName=u,this._leaveClassName=p,this.errors=_,this.timelines=y,this.currentTimeline=C||new Li(this._driver,r,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(s,r){if(!s)return;const l=s;let u=this.options;null!=l.duration&&(u.duration=Ne(l.duration)),null!=l.delay&&(u.delay=Ne(l.delay));const p=l.params;if(p){let _=u.params;_||(_=this.options.params={}),Object.keys(p).forEach(y=>{(!r||!_.hasOwnProperty(y))&&(_[y]=Os(p[y],_,this.errors))})}}_copyOptions(){const s={};if(this.options){const r=this.options.params;if(r){const l=s.params={};Object.keys(r).forEach(u=>{l[u]=r[u]})}}return s}createSubContext(s=null,r,l){const u=r||this.element,p=new ds(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,l||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(s),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(s){return this.previousNode=_i,this.currentTimeline=this.currentTimeline.fork(this.element,s),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(s,r,l){const u={duration:r??s.duration,delay:this.currentTimeline.currentTime+(l??0)+s.delay,easing:""},p=new Ei(this._driver,s.element,s.keyframes,s.preStyleProps,s.postStyleProps,u,s.stretchStartingKeyframe);return this.timelines.push(p),u}incrementTime(s){this.currentTimeline.forwardTime(this.currentTimeline.duration+s)}delayNextStep(s){s>0&&this.currentTimeline.delayNextStep(s)}invokeQuery(s,r,l,u,p,_){let y=[];if(u&&y.push(this.element),s.length>0){s=(s=s.replace(si,"."+this._enterClassName)).replace(uo,"."+this._leaveClassName);let R=this._driver.query(this.element,s,1!=l);0!==l&&(R=l<0?R.slice(R.length+l,R.length):R.slice(0,l)),y.push(...R)}return!p&&0==y.length&&_.push(function Vr(){return new A.wOt(3014,!1)}()),y}}class Li{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(s,r,l,u){this._driver=s,this.element=r,this.startTime=l,this._elementTimelineStylesLookup=u,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(s){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+s),r&&this.snapshotCurrentStyles()):this.startTime+=s}fork(s,r){return this.applyStylesToKeyframe(),new Li(this._driver,s,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(s){this.applyStylesToKeyframe(),this.duration=s,this._loadKeyframe()}_updateStyle(s,r){this._localTimelineStyles.set(s,r),this._globalTimelineStyles.set(s,r),this._styleSummary.set(s,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(s){s&&this._previousKeyframe.set("easing",s);for(let[r,l]of this._globalTimelineStyles)this._backFill.set(r,l||kn.kp),this._currentKeyframe.set(r,kn.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(s,r,l,u){r&&this._previousKeyframe.set("easing",r);const p=u&&u.params||{},_=function po(a,s){const r=new Map;let l;return a.forEach(u=>{if("*"===u){l??=s.keys();for(let p of l)r.set(p,kn.kp)}else for(let[p,_]of u)r.set(p,_)}),r}(s,this._globalTimelineStyles);for(let[y,C]of _){const R=Os(C,p,l);this._pendingStyles.set(y,R),this._localTimelineStyles.has(y)||this._backFill.set(y,this._globalTimelineStyles.get(y)??kn.kp),this._updateStyle(y,R)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((s,r)=>{this._currentKeyframe.set(r,s)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((s,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,s)}))}snapshotCurrentStyles(){for(let[s,r]of this._localTimelineStyles)this._pendingStyles.set(s,r),this._updateStyle(s,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const s=[];for(let r in this._currentKeyframe)s.push(r);return s}mergeTimelineCollectedStyles(s){s._styleSummary.forEach((r,l)=>{const u=this._styleSummary.get(l);(!u||r.time>u.time)&&this._updateStyle(l,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const s=new Set,r=new Set,l=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((y,C)=>{const R=new Map([...this._backFill,...y]);R.forEach((U,q)=>{U===kn.FX?s.add(q):U===kn.kp&&r.add(q)}),l||R.set("offset",C/this.duration),u.push(R)});const p=[...s.values()],_=[...r.values()];if(l){const y=u[0],C=new Map(y);y.set("offset",0),C.set("offset",1),u=[y,C]}return Wo(this.element,u,p,_,this.duration,this.startTime,this.easing,!1)}}class Ei extends Li{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(s,r,l,u,p,_,y=!1){super(s,r,_.delay),this.keyframes=l,this.preStyleProps=u,this.postStyleProps=p,this._stretchStartingKeyframe=y,this.timings={duration:_.duration,delay:_.delay,easing:_.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let s=this.keyframes,{delay:r,duration:l,easing:u}=this.timings;if(this._stretchStartingKeyframe&&r){const p=[],_=l+r,y=r/_,C=new Map(s[0]);C.set("offset",0),p.push(C);const R=new Map(s[0]);R.set("offset",ro(y)),p.push(R);const U=s.length-1;for(let q=1;q<=U;q++){let ae=new Map(s[q]);const fe=ae.get("offset");ae.set("offset",ro((r+fe*l)/_)),p.push(ae)}l=_,r=0,u="",s=p}return Wo(this.element,s,this.preStyleProps,this.postStyleProps,l,r,u,!0)}}function ro(a,s=3){const r=Math.pow(10,s-1);return Math.round(a*r)/r}function Fs(a,s,r,l,u,p,_,y,C,R,U,q,ae){return{type:0,element:a,triggerName:s,isRemovalTransition:u,fromState:r,fromStyles:p,toState:l,toStyles:_,timelines:y,queriedElements:C,preStyleProps:R,postStyleProps:U,totalTime:q,errors:ae}}const Ea={};class Xs{_triggerName;ast;_stateStyles;constructor(s,r,l){this._triggerName=s,this.ast=r,this._stateStyles=l}match(s,r,l,u){return function hl(a,s,r,l,u){return a.some(p=>p(s,r,l,u))}(this.ast.matchers,s,r,l,u)}buildStyles(s,r,l){let u=this._stateStyles.get("*");return void 0!==s&&(u=this._stateStyles.get(s?.toString())||u),u?u.buildStyles(r,l):new Map}build(s,r,l,u,p,_,y,C,R,U){const q=[],ae=this.ast.options&&this.ast.options.params||Ea,Ae=this.buildStyles(l,y&&y.params||Ea,q),je=C&&C.params||Ea,Ze=this.buildStyles(u,je,q),Yt=new Set,Wt=new Map,_n=new Map,vn="void"===u,fn={params:Ys(je,ae),delay:this.ast.options?.delay},Dn=U?[]:fo(s,r,this.ast.animation,p,_,Ae,Ze,fn,R,q);let Xn=0;return Dn.forEach(Vn=>{Xn=Math.max(Vn.duration+Vn.delay,Xn)}),q.length?Fs(r,this._triggerName,l,u,vn,Ae,Ze,[],[],Wt,_n,Xn,q):(Dn.forEach(Vn=>{const wr=Vn.element,gi=Qn(Wt,wr,new Set);Vn.preStyleProps.forEach(ki=>gi.add(ki));const Mi=Qn(_n,wr,new Set);Vn.postStyleProps.forEach(ki=>Mi.add(ki)),wr!==r&&Yt.add(wr)}),Fs(r,this._triggerName,l,u,vn,Ae,Ze,Dn,[...Yt.values()],Wt,_n,Xn))}}function Ys(a,s){const r={...s};return Object.entries(a).forEach(([l,u])=>{null!=u&&(r[l]=u)}),r}class yi{styles;defaultParams;normalizer;constructor(s,r,l){this.styles=s,this.defaultParams=r,this.normalizer=l}buildStyles(s,r){const l=new Map,u=Ys(s,this.defaultParams);return this.styles.styles.forEach(p=>{"string"!=typeof p&&p.forEach((_,y)=>{_&&(_=Os(_,u,r));const C=this.normalizer.normalizePropertyName(y,r);_=this.normalizer.normalizeStyleValue(y,C,_,r),l.set(y,_)})}),l}}class os{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(s,r,l){this.name=s,this.ast=r,this._normalizer=l,r.states.forEach(u=>{this.states.set(u.name,new yi(u.style,u.options&&u.options.params||{},l))}),na(this.states,"true","1"),na(this.states,"false","0"),r.transitions.forEach(u=>{this.transitionFactories.push(new Xs(s,u,this.states))}),this.fallbackTransition=function el(a,s){return new Xs(a,{type:kn.If.Transition,animation:{type:kn.If.Sequence,steps:[],options:null},matchers:[(_,y)=>!0],options:null,queryCount:0,depCount:0},s)}(s,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(s,r,l,u){return this.transitionFactories.find(_=>_.match(s,r,l,u))||null}matchStyles(s,r,l){return this.fallbackTransition.buildStyles(s,r,l)}}function na(a,s,r){a.has(s)?a.has(r)||a.set(r,a.get(s)):a.has(r)&&a.set(s,a.get(r))}const ca=new vo;class Ls{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(s,r,l){this.bodyNode=s,this._driver=r,this._normalizer=l}register(s,r){const l=[],p=pr(this._driver,r,l,[]);if(l.length)throw function Xr(){return new A.wOt(3503,!1)}();this._animations.set(s,p)}_buildPlayer(s,r,l){const u=s.element,p=rt(this._normalizer,s.keyframes,r,l);return this._driver.animate(u,p,s.duration,s.delay,s.easing,[],!0)}create(s,r,l={}){const u=[],p=this._animations.get(s);let _;const y=new Map;if(p?(_=fo(this._driver,r,p,ir,Nn,new Map,new Map,l,ca,u),_.forEach(U=>{const q=Qn(y,U.element,new Map);U.postStyleProps.forEach(ae=>q.set(ae,null))})):(u.push(function ws(){return new A.wOt(3300,!1)}()),_=[]),u.length)throw function ji(){return new A.wOt(3504,!1)}();y.forEach((U,q)=>{U.forEach((ae,fe)=>{U.set(fe,this._driver.computeStyle(q,fe,kn.kp))})});const R=Me(_.map(U=>{const q=y.get(U.element);return this._buildPlayer(U,new Map,q)}));return this._playersById.set(s,R),R.onDestroy(()=>this.destroy(s)),this.players.push(R),R}destroy(s){const r=this._getPlayer(s);r.destroy(),this._playersById.delete(s);const l=this.players.indexOf(r);l>=0&&this.players.splice(l,1)}_getPlayer(s){const r=this._playersById.get(s);if(!r)throw function is(){return new A.wOt(3301,!1)}();return r}listen(s,r,l,u){const p=yn(r,"","","");return nn(this._getPlayer(s),l,p,u),()=>{}}command(s,r,l,u){if("register"==l)return void this.register(s,u[0]);if("create"==l)return void this.create(s,r,u[0]||{});const p=this._getPlayer(s);switch(l){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(s)}}}const Jr="ng-animate-queued",re="ng-animate-disabled",tn=[],bn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Jn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zn="__ng_removed";class Ur{namespaceId;value;options;get params(){return this.options.params}constructor(s,r=""){this.namespaceId=r;const l=s&&s.hasOwnProperty("value");if(this.value=function K(a){return a??null}(l?s.value:s),l){const{value:p,..._}=s;this.options=_}else this.options={};this.options.params||(this.options.params={})}absorbOptions(s){const r=s.params;if(r){const l=this.options.params;Object.keys(r).forEach(u=>{null==l[u]&&(l[u]=r[u])})}}}const Ir="void",ii=new Ur(Ir);class Zi{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(s,r,l){this.id=s,this.hostElement=r,this._engine=l,this._hostClassName="ng-tns-"+s,jr(r,this._hostClassName)}listen(s,r,l,u){if(!this._triggers.has(r))throw function Hn(){return new A.wOt(3302,!1)}();if(null==l||0==l.length)throw function qr(){return new A.wOt(3303,!1)}();if(!function oe(a){return"start"==a||"done"==a}(l))throw function Yr(){return new A.wOt(3400,!1)}();const p=Qn(this._elementListeners,s,[]),_={name:r,phase:l,callback:u};p.push(_);const y=Qn(this._engine.statesByElement,s,new Map);return y.has(r)||(jr(s,fr),jr(s,fr+"-"+r),y.set(r,ii)),()=>{this._engine.afterFlush(()=>{const C=p.indexOf(_);C>=0&&p.splice(C,1),this._triggers.has(r)||y.delete(r)})}}register(s,r){return!this._triggers.has(s)&&(this._triggers.set(s,r),!0)}_getTrigger(s){const r=this._triggers.get(s);if(!r)throw function cs(){return new A.wOt(3401,!1)}();return r}trigger(s,r,l,u=!0){const p=this._getTrigger(r),_=new _s(this.id,r,s);let y=this._engine.statesByElement.get(s);y||(jr(s,fr),jr(s,fr+"-"+r),this._engine.statesByElement.set(s,y=new Map));let C=y.get(r);const R=new Ur(l,this.id);if(!(l&&l.hasOwnProperty("value"))&&C&&R.absorbOptions(C.options),y.set(r,R),C||(C=ii),R.value!==Ir&&C.value===R.value){if(!function fl(a,s){const r=Object.keys(a),l=Object.keys(s);if(r.length!=l.length)return!1;for(let u=0;u<r.length;u++){const p=r[u];if(!s.hasOwnProperty(p)||a[p]!==s[p])return!1}return!0}(C.params,R.params)){const je=[],Ze=p.matchStyles(C.value,C.params,je),Yt=p.matchStyles(R.value,R.params,je);je.length?this._engine.reportError(je):this._engine.afterFlush(()=>{xr(s,Ze),sr(s,Yt)})}return}const ae=Qn(this._engine.playersByElement,s,[]);ae.forEach(je=>{je.namespaceId==this.id&&je.triggerName==r&&je.queued&&je.destroy()});let fe=p.matchTransition(C.value,R.value,s,R.params),Ae=!1;if(!fe){if(!u)return;fe=p.fallbackTransition,Ae=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:r,transition:fe,fromState:C,toState:R,player:_,isFallbackTransition:Ae}),Ae||(jr(s,Jr),_.onStart(()=>{fs(s,Jr)})),_.onDone(()=>{let je=this.players.indexOf(_);je>=0&&this.players.splice(je,1);const Ze=this._engine.playersByElement.get(s);if(Ze){let Yt=Ze.indexOf(_);Yt>=0&&Ze.splice(Yt,1)}}),this.players.push(_),ae.push(_),_}deregister(s){this._triggers.delete(s),this._engine.statesByElement.forEach(r=>r.delete(s)),this._elementListeners.forEach((r,l)=>{this._elementListeners.set(l,r.filter(u=>u.name!=s))})}clearElementCache(s){this._engine.statesByElement.delete(s),this._elementListeners.delete(s);const r=this._engine.playersByElement.get(s);r&&(r.forEach(l=>l.destroy()),this._engine.playersByElement.delete(s))}_signalRemovalForInnerTriggers(s,r){const l=this._engine.driver.query(s,Mr,!0);l.forEach(u=>{if(u[zn])return;const p=this._engine.fetchNamespacesByElement(u);p.size?p.forEach(_=>_.triggerLeaveAnimation(u,r,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>l.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(s,r,l,u){const p=this._engine.statesByElement.get(s),_=new Map;if(p){const y=[];if(p.forEach((C,R)=>{if(_.set(R,C.value),this._triggers.has(R)){const U=this.trigger(s,R,Ir,u);U&&y.push(U)}}),y.length)return this._engine.markElementAsRemoved(this.id,s,!0,r,_),l&&Me(y).onDone(()=>this._engine.processLeaveNode(s)),!0}return!1}prepareLeaveAnimationListeners(s){const r=this._elementListeners.get(s),l=this._engine.statesByElement.get(s);if(r&&l){const u=new Set;r.forEach(p=>{const _=p.name;if(u.has(_))return;u.add(_);const C=this._triggers.get(_).fallbackTransition,R=l.get(_)||ii,U=new Ur(Ir),q=new _s(this.id,_,s);this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:_,transition:C,fromState:R,toState:U,player:q,isFallbackTransition:!0})})}}removeNode(s,r){const l=this._engine;if(s.childElementCount&&this._signalRemovalForInnerTriggers(s,r),this.triggerLeaveAnimation(s,r,!0))return;let u=!1;if(l.totalAnimations){const p=l.players.length?l.playersByQueriedElement.get(s):[];if(p&&p.length)u=!0;else{let _=s;for(;_=_.parentNode;)if(l.statesByElement.get(_)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(s),u)l.markElementAsRemoved(this.id,s,!1,r);else{const p=s[zn];(!p||p===bn)&&(l.afterFlush(()=>this.clearElementCache(s)),l.destroyInnerAnimations(s),l._onRemovalComplete(s,r))}}insertNode(s,r){jr(s,this._hostClassName)}drainQueuedTransitions(s){const r=[];return this._queue.forEach(l=>{const u=l.player;if(u.destroyed)return;const p=l.element,_=this._elementListeners.get(p);_&&_.forEach(y=>{if(y.name==l.triggerName){const C=yn(p,l.triggerName,l.fromState.value,l.toState.value);C._data=s,nn(l.player,y.phase,C,y.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):r.push(l)}),this._queue=[],r.sort((l,u)=>{const p=l.transition.ast.depCount,_=u.transition.ast.depCount;return 0==p||0==_?p-_:this._engine.driver.containsElement(l.element,u.element)?1:-1})}destroy(s){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,s)}}class Ki{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(s,r)=>{};_onRemovalComplete(s,r){this.onRemovalComplete(s,r)}constructor(s,r,l){this.bodyNode=s,this.driver=r,this._normalizer=l}get queuedPlayers(){const s=[];return this._namespaceList.forEach(r=>{r.players.forEach(l=>{l.queued&&s.push(l)})}),s}createNamespace(s,r){const l=new Zi(s,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(l,r):(this.newHostElements.set(r,l),this.collectEnterElement(r)),this._namespaceLookup[s]=l}_balanceNamespaceList(s,r){const l=this._namespaceList,u=this.namespacesByHostElement;if(l.length-1>=0){let _=!1,y=this.driver.getParentElement(r);for(;y;){const C=u.get(y);if(C){const R=l.indexOf(C);l.splice(R+1,0,s),_=!0;break}y=this.driver.getParentElement(y)}_||l.unshift(s)}else l.push(s);return u.set(r,s),s}register(s,r){let l=this._namespaceLookup[s];return l||(l=this.createNamespace(s,r)),l}registerTrigger(s,r,l){let u=this._namespaceLookup[s];u&&u.register(r,l)&&this.totalAnimations++}destroy(s,r){s&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const l=this._fetchNamespace(s);this.namespacesByHostElement.delete(l.hostElement);const u=this._namespaceList.indexOf(l);u>=0&&this._namespaceList.splice(u,1),l.destroy(r),delete this._namespaceLookup[s]}))}_fetchNamespace(s){return this._namespaceLookup[s]}fetchNamespacesByElement(s){const r=new Set,l=this.statesByElement.get(s);if(l)for(let u of l.values())if(u.namespaceId){const p=this._fetchNamespace(u.namespaceId);p&&r.add(p)}return r}trigger(s,r,l,u){if(L(r)){const p=this._fetchNamespace(s);if(p)return p.trigger(r,l,u),!0}return!1}insertNode(s,r,l,u){if(!L(r))return;const p=r[zn];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const _=this.collectedLeaveElements.indexOf(r);_>=0&&this.collectedLeaveElements.splice(_,1)}if(s){const _=this._fetchNamespace(s);_&&_.insertNode(r,l)}u&&this.collectEnterElement(r)}collectEnterElement(s){this.collectedEnterElements.push(s)}markElementAsDisabled(s,r){r?this.disabledNodes.has(s)||(this.disabledNodes.add(s),jr(s,re)):this.disabledNodes.has(s)&&(this.disabledNodes.delete(s),fs(s,re))}removeNode(s,r,l){if(L(r)){const u=s?this._fetchNamespace(s):null;u?u.removeNode(r,l):this.markElementAsRemoved(s,r,!1,l);const p=this.namespacesByHostElement.get(r);p&&p.id!==s&&p.removeNode(r,l)}else this._onRemovalComplete(r,l)}markElementAsRemoved(s,r,l,u,p){this.collectedLeaveElements.push(r),r[zn]={namespaceId:s,setForRemoval:u,hasAnimation:l,removedBeforeQueried:!1,previousTriggersValues:p}}listen(s,r,l,u,p){return L(r)?this._fetchNamespace(s).listen(r,l,u,p):()=>{}}_buildInstruction(s,r,l,u,p){return s.transition.build(this.driver,s.element,s.fromState.value,s.toState.value,l,u,s.fromState.options,s.toState.options,r,p)}destroyInnerAnimations(s){let r=this.driver.query(s,Mr,!0);r.forEach(l=>this.destroyActiveAnimationsForElement(l)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(s,us,!0),r.forEach(l=>this.finishActiveQueriedAnimationOnElement(l)))}destroyActiveAnimationsForElement(s){const r=this.playersByElement.get(s);r&&r.forEach(l=>{l.queued?l.markedForDestroy=!0:l.destroy()})}finishActiveQueriedAnimationOnElement(s){const r=this.playersByQueriedElement.get(s);r&&r.forEach(l=>l.finish())}whenRenderingDone(){return new Promise(s=>{if(this.players.length)return Me(this.players).onDone(()=>s());s()})}processLeaveNode(s){const r=s[zn];if(r&&r.setForRemoval){if(s[zn]=bn,r.namespaceId){this.destroyInnerAnimations(s);const l=this._fetchNamespace(r.namespaceId);l&&l.clearElementCache(s)}this._onRemovalComplete(s,r.setForRemoval)}s.classList?.contains(re)&&this.markElementAsDisabled(s,!1),this.driver.query(s,".ng-animate-disabled",!0).forEach(l=>{this.markElementAsDisabled(l,!1)})}flush(s=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((l,u)=>this._balanceNamespaceList(l,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let l=0;l<this.collectedEnterElements.length;l++)jr(this.collectedEnterElements[l],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const l=[];try{r=this._flushAnimations(l,s)}finally{for(let u=0;u<l.length;u++)l[u]()}}else for(let l=0;l<this.collectedLeaveElements.length;l++)this.processLeaveNode(this.collectedLeaveElements[l]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(l=>l()),this._flushFns=[],this._whenQuietFns.length){const l=this._whenQuietFns;this._whenQuietFns=[],r.length?Me(r).onDone(()=>{l.forEach(u=>u())}):l.forEach(u=>u())}}reportError(s){throw function ms(){return new A.wOt(3402,!1)}()}_flushAnimations(s,r){const l=new vo,u=[],p=new Map,_=[],y=new Map,C=new Map,R=new Map,U=new Set;this.disabledNodes.forEach(Yn=>{U.add(Yn);const cr=this.driver.query(Yn,".ng-animate-queued",!0);for(let Rr=0;Rr<cr.length;Rr++)U.add(cr[Rr])});const q=this.bodyNode,ae=Array.from(this.statesByElement.keys()),fe=dr(ae,this.collectedEnterElements),Ae=new Map;let je=0;fe.forEach((Yn,cr)=>{const Rr=ir+je++;Ae.set(cr,Rr),Yn.forEach(ri=>jr(ri,Rr))});const Ze=[],Yt=new Set,Wt=new Set;for(let Yn=0;Yn<this.collectedLeaveElements.length;Yn++){const cr=this.collectedLeaveElements[Yn],Rr=cr[zn];Rr&&Rr.setForRemoval&&(Ze.push(cr),Yt.add(cr),Rr.hasAnimation?this.driver.query(cr,".ng-star-inserted",!0).forEach(ri=>Yt.add(ri)):Wt.add(cr))}const _n=new Map,vn=dr(ae,Array.from(Yt));vn.forEach((Yn,cr)=>{const Rr=Nn+je++;_n.set(cr,Rr),Yn.forEach(ri=>jr(ri,Rr))}),s.push(()=>{fe.forEach((Yn,cr)=>{const Rr=Ae.get(cr);Yn.forEach(ri=>fs(ri,Rr))}),vn.forEach((Yn,cr)=>{const Rr=_n.get(cr);Yn.forEach(ri=>fs(ri,Rr))}),Ze.forEach(Yn=>{this.processLeaveNode(Yn)})});const fn=[],Dn=[];for(let Yn=this._namespaceList.length-1;Yn>=0;Yn--)this._namespaceList[Yn].drainQueuedTransitions(r).forEach(Rr=>{const ri=Rr.player,ko=Rr.element;if(fn.push(ri),this.collectedEnterElements.length){const xl=ko[zn];if(xl&&xl.setForMove){if(xl.previousTriggersValues&&xl.previousTriggersValues.has(Rr.triggerName)){const d_=xl.previousTriggersValues.get(Rr.triggerName),au=this.statesByElement.get(Rr.element);if(au&&au.has(Rr.triggerName)){const Ah=au.get(Rr.triggerName);Ah.value=d_,au.set(Rr.triggerName,Ah)}}return void ri.destroy()}}const tc=!q||!this.driver.containsElement(q,ko),Oa=_n.get(ko),Ac=Ae.get(ko),ao=this._buildInstruction(Rr,l,Ac,Oa,tc);if(ao.errors&&ao.errors.length)return void Dn.push(ao);if(tc)return ri.onStart(()=>xr(ko,ao.fromStyles)),ri.onDestroy(()=>sr(ko,ao.toStyles)),void u.push(ri);if(Rr.isFallbackTransition)return ri.onStart(()=>xr(ko,ao.fromStyles)),ri.onDestroy(()=>sr(ko,ao.toStyles)),void u.push(ri);const fg=[];ao.timelines.forEach(xl=>{xl.stretchStartingKeyframe=!0,this.disabledNodes.has(xl.element)||fg.push(xl)}),ao.timelines=fg,l.append(ko,ao.timelines),_.push({instruction:ao,player:ri,element:ko}),ao.queriedElements.forEach(xl=>Qn(y,xl,[]).push(ri)),ao.preStyleProps.forEach((xl,d_)=>{if(xl.size){let au=C.get(d_);au||C.set(d_,au=new Set),xl.forEach((Ah,pg)=>au.add(pg))}}),ao.postStyleProps.forEach((xl,d_)=>{let au=R.get(d_);au||R.set(d_,au=new Set),xl.forEach((Ah,pg)=>au.add(pg))})});if(Dn.length){const Yn=[];Dn.forEach(cr=>{Yn.push(function ss(){return new A.wOt(3505,!1)}())}),fn.forEach(cr=>cr.destroy()),this.reportError(Yn)}const Xn=new Map,Vn=new Map;_.forEach(Yn=>{const cr=Yn.element;l.has(cr)&&(Vn.set(cr,cr),this._beforeAnimationBuild(Yn.player.namespaceId,Yn.instruction,Xn))}),u.forEach(Yn=>{const cr=Yn.element;this._getPreviousPlayers(cr,!1,Yn.namespaceId,Yn.triggerName,null).forEach(ri=>{Qn(Xn,cr,[]).push(ri),ri.destroy()})});const wr=Ze.filter(Yn=>pl(Yn,C,R)),gi=new Map;Pn(gi,this.driver,Wt,R,kn.kp).forEach(Yn=>{pl(Yn,C,R)&&wr.push(Yn)});const ki=new Map;fe.forEach((Yn,cr)=>{Pn(ki,this.driver,new Set(Yn),C,kn.FX)}),wr.forEach(Yn=>{const cr=gi.get(Yn),Rr=ki.get(Yn);gi.set(Yn,new Map([...cr?.entries()??[],...Rr?.entries()??[]]))});const ya=[],Rl=[],Ks={};_.forEach(Yn=>{const{element:cr,player:Rr,instruction:ri}=Yn;if(l.has(cr)){if(U.has(cr))return Rr.onDestroy(()=>sr(cr,ri.toStyles)),Rr.disabled=!0,Rr.overrideTotalTime(ri.totalTime),void u.push(Rr);let ko=Ks;if(Vn.size>1){let Oa=cr;const Ac=[];for(;Oa=Oa.parentNode;){const ao=Vn.get(Oa);if(ao){ko=ao;break}Ac.push(Oa)}Ac.forEach(ao=>Vn.set(ao,ko))}const tc=this._buildAnimation(Rr.namespaceId,ri,Xn,p,ki,gi);if(Rr.setRealPlayer(tc),ko===Ks)ya.push(Rr);else{const Oa=this.playersByElement.get(ko);Oa&&Oa.length&&(Rr.parentPlayer=Me(Oa)),u.push(Rr)}}else xr(cr,ri.fromStyles),Rr.onDestroy(()=>sr(cr,ri.toStyles)),Rl.push(Rr),U.has(cr)&&u.push(Rr)}),Rl.forEach(Yn=>{const cr=p.get(Yn.element);if(cr&&cr.length){const Rr=Me(cr);Yn.setRealPlayer(Rr)}}),u.forEach(Yn=>{Yn.parentPlayer?Yn.syncPlayerEvents(Yn.parentPlayer):Yn.destroy()});for(let Yn=0;Yn<Ze.length;Yn++){const cr=Ze[Yn],Rr=cr[zn];if(fs(cr,Nn),Rr&&Rr.hasAnimation)continue;let ri=[];if(y.size){let tc=y.get(cr);tc&&tc.length&&ri.push(...tc);let Oa=this.driver.query(cr,us,!0);for(let Ac=0;Ac<Oa.length;Ac++){let ao=y.get(Oa[Ac]);ao&&ao.length&&ri.push(...ao)}}const ko=ri.filter(tc=>!tc.destroyed);ko.length?Ps(this,cr,ko):this.processLeaveNode(cr)}return Ze.length=0,ya.forEach(Yn=>{this.players.push(Yn),Yn.onDone(()=>{Yn.destroy();const cr=this.players.indexOf(Yn);this.players.splice(cr,1)}),Yn.play()}),ya}afterFlush(s){this._flushFns.push(s)}afterFlushAnimationsDone(s){this._whenQuietFns.push(s)}_getPreviousPlayers(s,r,l,u,p){let _=[];if(r){const y=this.playersByQueriedElement.get(s);y&&(_=y)}else{const y=this.playersByElement.get(s);if(y){const C=!p||p==Ir;y.forEach(R=>{R.queued||!C&&R.triggerName!=u||_.push(R)})}}return(l||u)&&(_=_.filter(y=>!(l&&l!=y.namespaceId||u&&u!=y.triggerName))),_}_beforeAnimationBuild(s,r,l){const p=r.element,_=r.isRemovalTransition?void 0:s,y=r.isRemovalTransition?void 0:r.triggerName;for(const C of r.timelines){const R=C.element,U=R!==p,q=Qn(l,R,[]);this._getPreviousPlayers(R,U,_,y,r.toState).forEach(fe=>{const Ae=fe.getRealPlayer();Ae.beforeDestroy&&Ae.beforeDestroy(),fe.destroy(),q.push(fe)})}xr(p,r.fromStyles)}_buildAnimation(s,r,l,u,p,_){const y=r.triggerName,C=r.element,R=[],U=new Set,q=new Set,ae=r.timelines.map(Ae=>{const je=Ae.element;U.add(je);const Ze=je[zn];if(Ze&&Ze.removedBeforeQueried)return new kn.sf(Ae.duration,Ae.delay);const Yt=je!==C,Wt=function ho(a){const s=[];return Fo(a,s),s}((l.get(je)||tn).map(Xn=>Xn.getRealPlayer())).filter(Xn=>!!Xn.element&&Xn.element===je),_n=p.get(je),vn=_.get(je),fn=rt(this._normalizer,Ae.keyframes,_n,vn),Dn=this._buildPlayer(Ae,fn,Wt);if(Ae.subTimeline&&u&&q.add(je),Yt){const Xn=new _s(s,y,je);Xn.setRealPlayer(Dn),R.push(Xn)}return Dn});R.forEach(Ae=>{Qn(this.playersByQueriedElement,Ae.element,[]).push(Ae),Ae.onDone(()=>function G(a,s,r){let l=a.get(s);if(l){if(l.length){const u=l.indexOf(r);l.splice(u,1)}0==l.length&&a.delete(s)}return l}(this.playersByQueriedElement,Ae.element,Ae))}),U.forEach(Ae=>jr(Ae,Wi));const fe=Me(ae);return fe.onDestroy(()=>{U.forEach(Ae=>fs(Ae,Wi)),sr(C,r.toStyles)}),q.forEach(Ae=>{Qn(u,Ae,[]).push(fe)}),fe}_buildPlayer(s,r,l){return r.length>0?this.driver.animate(s.element,r,s.duration,s.delay,s.easing,l):new kn.sf(s.duration,s.delay)}}class _s{namespaceId;triggerName;element;_player=new kn.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(s,r,l){this.namespaceId=s,this.triggerName=r,this.element=l}setRealPlayer(s){this._containsRealPlayer||(this._player=s,this._queuedCallbacks.forEach((r,l)=>{r.forEach(u=>nn(s,l,void 0,u))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(s.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(s){this.totalTime=s}syncPlayerEvents(s){const r=this._player;r.triggerCallback&&s.onStart(()=>r.triggerCallback("start")),s.onDone(()=>this.finish()),s.onDestroy(()=>this.destroy())}_queueEvent(s,r){Qn(this._queuedCallbacks,s,[]).push(r)}onDone(s){this.queued&&this._queueEvent("done",s),this._player.onDone(s)}onStart(s){this.queued&&this._queueEvent("start",s),this._player.onStart(s)}onDestroy(s){this.queued&&this._queueEvent("destroy",s),this._player.onDestroy(s)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(s){this.queued||this._player.setPosition(s)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(s){const r=this._player;r.triggerCallback&&r.triggerCallback(s)}}function L(a){return a&&1===a.nodeType}function Ue(a,s){const r=a.style.display;return a.style.display=s??"none",r}function Pn(a,s,r,l,u){const p=[];r.forEach(C=>p.push(Ue(C)));const _=[];l.forEach((C,R)=>{const U=new Map;C.forEach(q=>{const ae=s.computeStyle(R,q,u);U.set(q,ae),(!ae||0==ae.length)&&(R[zn]=Jn,_.push(R))}),a.set(R,U)});let y=0;return r.forEach(C=>Ue(C,p[y++])),_}function dr(a,s){const r=new Map;if(a.forEach(y=>r.set(y,[])),0==s.length)return r;const u=new Set(s),p=new Map;function _(y){if(!y)return 1;let C=p.get(y);if(C)return C;const R=y.parentNode;return C=r.has(R)?R:u.has(R)?1:_(R),p.set(y,C),C}return s.forEach(y=>{const C=_(y);1!==C&&r.get(C).push(y)}),r}function jr(a,s){a.classList?.add(s)}function fs(a,s){a.classList?.remove(s)}function Ps(a,s,r){Me(r).onDone(()=>a.processLeaveNode(s))}function Fo(a,s){for(let r=0;r<a.length;r++){const l=a[r];l instanceof kn.PZ?Fo(l.players,s):s.push(l)}}function pl(a,s,r){const l=r.get(a);if(!l)return!1;let u=s.get(a);return u?l.forEach(p=>u.add(p)):s.set(a,l),r.delete(a),!0}class ua{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(s,r)=>{};constructor(s,r,l){this._driver=r,this._normalizer=l,this._transitionEngine=new Ki(s.body,r,l),this._timelineEngine=new Ls(s.body,r,l),this._transitionEngine.onRemovalComplete=(u,p)=>this.onRemovalComplete(u,p)}registerTrigger(s,r,l,u,p){const _=s+"-"+u;let y=this._triggerCache[_];if(!y){const C=[],U=pr(this._driver,p,C,[]);if(C.length)throw function zi(){return new A.wOt(3404,!1)}();y=function Qr(a,s,r){return new os(a,s,r)}(u,U,this._normalizer),this._triggerCache[_]=y}this._transitionEngine.registerTrigger(r,u,y)}register(s,r){this._transitionEngine.register(s,r)}destroy(s,r){this._transitionEngine.destroy(s,r)}onInsert(s,r,l,u){this._transitionEngine.insertNode(s,r,l,u)}onRemove(s,r,l){this._transitionEngine.removeNode(s,r,l)}disableAnimations(s,r){this._transitionEngine.markElementAsDisabled(s,r)}process(s,r,l,u){if("@"==l.charAt(0)){const[p,_]=Zr(l);this._timelineEngine.command(p,r,_,u)}else this._transitionEngine.trigger(s,r,l,u)}listen(s,r,l,u,p){if("@"==l.charAt(0)){const[_,y]=Zr(l);return this._timelineEngine.listen(_,r,y,p)}return this._transitionEngine.listen(s,r,l,u,p)}flush(s=-1){this._transitionEngine.flush(s)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(s){this._transitionEngine.afterFlushAnimationsDone(s)}}let xc=(()=>{class a{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(r,l,u){this._element=r,this._startStyles=l,this._endStyles=u;let p=a.initialStylesByElement.get(r);p||a.initialStylesByElement.set(r,p=new Map),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&sr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sr(this._element,this._initialStyles),this._endStyles&&(sr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(a.initialStylesByElement.delete(this._element),this._startStyles&&(xr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xr(this._element,this._endStyles),this._endStyles=null),sr(this._element,this._initialStyles),this._state=3)}}return a})();function Pc(a){let s=null;return a.forEach((r,l)=>{(function Zs(a){return"display"===a||"position"===a})(l)&&(s=s||new Map,s.set(l,r))}),s}class Na{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(s,r,l,u){this.element=s,this.keyframes=r,this.options=l,this._specialStyles=u,this._duration=l.duration,this._delay=l.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const s=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,s,this.options),this._finalKeyframe=s.length?s[s.length-1]:new Map;const r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(s){const r=[];return s.forEach(l=>{r.push(Object.fromEntries(l))}),r}_triggerWebAnimation(s,r,l){return s.animate(this._convertKeyframesToObject(r),l)}onStart(s){this._originalOnStartFns.push(s),this._onStartFns.push(s)}onDone(s){this._originalOnDoneFns.push(s),this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(s=>s()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}setPosition(s){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=s*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const s=new Map;this.hasStarted()&&this._finalKeyframe.forEach((l,u)=>{"offset"!==u&&s.set(u,this._finished?l:pe(this.element,u))}),this.currentSnapshot=s}triggerCallback(s){const r="start"===s?this._onStartFns:this._onDoneFns;r.forEach(l=>l()),r.length=0}}class Qi{validateStyleProperty(s){return!0}validateAnimatableStyleProperty(s){return!0}containsElement(s,r){return qt(s,r)}getParentElement(s){return Ee(s)}query(s,r,l){return Vt(s,r,l)}computeStyle(s,r,l){return pe(s,r)}animate(s,r,l,u,p,_=[]){const C={duration:l,delay:u,fill:0==u?"both":"forwards"};p&&(C.easing=p);const R=new Map,U=_.filter(fe=>fe instanceof Na);(function Z(a,s){return 0===a||0===s})(l,u)&&U.forEach(fe=>{fe.currentSnapshot.forEach((Ae,je)=>R.set(je,Ae))});let q=function dn(a){return a.length?a[0]instanceof Map?a:a.map(s=>new Map(Object.entries(s))):[]}(r).map(fe=>new Map(fe));q=function Se(a,s,r){if(r.size&&s.length){let l=s[0],u=[];if(r.forEach((p,_)=>{l.has(_)||u.push(_),l.set(_,p)}),u.length)for(let p=1;p<s.length;p++){let _=s[p];u.forEach(y=>_.set(y,pe(a,y)))}}return s}(s,q,R);const ae=function Rc(a,s){let r=null,l=null;return Array.isArray(s)&&s.length?(r=Pc(s[0]),s.length>1&&(l=Pc(s[s.length-1]))):s instanceof Map&&(r=Pc(s)),r||l?new xc(a,r,l):null}(s,q);return new Na(s,q,C,ae)}}const wa="@.disabled";class ys{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(s,r,l,u){this.namespaceId=s,this.delegate=r,this.engine=l,this._onDestroy=u}get data(){return this.delegate.data}destroyNode(s){this.delegate.destroyNode?.(s)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(s,r){return this.delegate.createElement(s,r)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}appendChild(s,r){this.delegate.appendChild(s,r),this.engine.onInsert(this.namespaceId,r,s,!1)}insertBefore(s,r,l,u=!0){this.delegate.insertBefore(s,r,l),this.engine.onInsert(this.namespaceId,r,s,u)}removeChild(s,r,l){this.parentNode(r)&&this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(s,r){return this.delegate.selectRootElement(s,r)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,r,l,u){this.delegate.setAttribute(s,r,l,u)}removeAttribute(s,r,l){this.delegate.removeAttribute(s,r,l)}addClass(s,r){this.delegate.addClass(s,r)}removeClass(s,r){this.delegate.removeClass(s,r)}setStyle(s,r,l,u){this.delegate.setStyle(s,r,l,u)}removeStyle(s,r,l){this.delegate.removeStyle(s,r,l)}setProperty(s,r,l){"@"==r.charAt(0)&&r==wa?this.disableAnimations(s,!!l):this.delegate.setProperty(s,r,l)}setValue(s,r){this.delegate.setValue(s,r)}listen(s,r,l,u){return this.delegate.listen(s,r,l,u)}disableAnimations(s,r){this.engine.disableAnimations(s,r)}}class Pl extends ys{factory;constructor(s,r,l,u,p){super(r,l,u,p),this.factory=s,this.namespaceId=r}setProperty(s,r,l){"@"==r.charAt(0)?"."==r.charAt(1)&&r==wa?this.disableAnimations(s,l=void 0===l||!!l):this.engine.process(this.namespaceId,s,r.slice(1),l):this.delegate.setProperty(s,r,l)}listen(s,r,l,u){if("@"==r.charAt(0)){const p=function Ri(a){switch(a){case"body":return document.body;case"document":return document;case"window":return window;default:return a}}(s);let _=r.slice(1),y="";return"@"!=_.charAt(0)&&([_,y]=function wi(a){const s=a.indexOf(".");return[a.substring(0,s),a.slice(s+1)]}(_)),this.engine.listen(this.namespaceId,p,_,y,C=>{this.factory.scheduleListenerCallback(C._data||-1,l,C)})}return this.delegate.listen(s,r,l,u)}}class nc{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(s,r,l){this.delegate=s,this.engine=r,this._zone=l,r.onRemovalComplete=(u,p)=>{p?.removeChild(null,u)}}createRenderer(s,r){const u=this.delegate.createRenderer(s,r);if(!s||!r?.data?.animation){const R=this._rendererCache;let U=R.get(u);return U||(U=new ys("",u,this.engine,()=>R.delete(u)),R.set(u,U)),U}const p=r.id,_=r.id+"-"+this._currentId;this._currentId++,this.engine.register(_,s);const y=R=>{Array.isArray(R)?R.forEach(y):this.engine.registerTrigger(p,_,s,R.name,R)};return r.data.animation.forEach(y),new Pl(this,_,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(s,r,l){if(s>=0&&s<this._microtaskId)return void this._zone.run(()=>r(l));const u=this._animationCallbacksBuffer;0==u.length&&queueMicrotask(()=>{this._zone.run(()=>{u.forEach(p=>{const[_,y]=p;_(y)}),this._animationCallbacksBuffer=[]})}),u.push([r,l])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(s){this.engine.flush(),this.delegate.componentReplaced?.(s)}}let rc=(()=>{class a extends ua{constructor(r,l,u){super(r,l,u)}ngOnDestroy(){this.flush()}static \u0275fac=function(l){return new(l||a)(A.KVO(le.q),A.KVO(Ht),A.KVO(xn))};static \u0275prov=A.jDH({token:a,factory:a.\u0275fac})}return a})();const zu=[{provide:xn,useFactory:function cu(){return new Ai}},{provide:ua,useClass:rc},{provide:A._9s,useFactory:function Ml(a,s,r){return new nc(a,s,r)},deps:[xt,ua,A.SKi]}],sc=[{provide:Ht,useFactory:()=>new Qi},{provide:A.bc$,useFactory:()=>"BrowserAnimations"},...zu];var as=Q(6895);let Bo=(()=>{class a{title="todo-app";static \u0275fac=function(l){return new(l||a)};static \u0275cmp=A.VBU({type:a,selectors:[["app-root"]],decls:1,vars:0,template:function(l,u){1&l&&A.nrm(0,"router-outlet")},dependencies:[as.n3],encapsulation:2})}return a})();var Ts=Q(5207),Co=Q(467),Cs=Q(2881),ci=Q(6335),F=Q(5558);function V(a,s){if(1&a&&A.nrm(0,"i"),2&a){const r=A.XpG();A.ZvI("bi ",r.trendIconLeft,"")}}function J(a,s){if(1&a&&A.nrm(0,"i"),2&a){const r=A.XpG();A.ZvI("bi ",r.trendIcon," text-white")}}let ze=(()=>{class a{icon="";count="";label="";color="primary";footerText;trendIcon;trendIconLeft;static \u0275fac=function(l){return new(l||a)};static \u0275cmp=A.VBU({type:a,selectors:[["app-card-metric"]],inputs:{icon:"icon",count:"count",label:"label",color:"color",footerText:"footerText",trendIcon:"trendIcon",trendIconLeft:"trendIconLeft"},decls:15,vars:13,consts:[[1,"card","h-100","shadow-sm"],[1,"card-body","d-flex","justify-content-between","align-items-center","p-4"],[1,"d-flex","align-items-center","gap-3"],[1,"card-text","text-muted","m-0","f-size-3"],[1,"card-footer","d-flex","justify-content-between","align-items-center","py-2","px-3",3,"ngClass"],[1,"d-flex","align-items-center","gap-2","text-white"],[3,"class",4,"ngIf"]],template:function(l,u){1&l&&(A.j41(0,"div",0)(1,"div",1)(2,"div",2),A.nrm(3,"i"),A.j41(4,"div")(5,"h3"),A.EFF(6),A.k0s(),A.j41(7,"p",3),A.EFF(8),A.k0s()()()(),A.j41(9,"div",4)(10,"div",5),A.DNE(11,V,1,3,"i",6),A.j41(12,"small"),A.EFF(13),A.k0s()(),A.DNE(14,J,1,3,"i",6),A.k0s()()),2&l&&(A.R7$(3),A.STu("bi ",u.icon," f-size-20 text-",u.color,""),A.R7$(2),A.ZvI("card-title m-0 fw-bold text-",u.color,""),A.R7$(),A.JRh(u.count),A.R7$(2),A.JRh(u.label),A.R7$(),A.Y8G("ngClass","bg-"+u.color),A.R7$(2),A.Y8G("ngIf",u.trendIconLeft),A.R7$(2),A.JRh(u.footerText),A.R7$(),A.Y8G("ngIf",u.trendIcon))},dependencies:[Cs.MD,Cs.YU,Cs.bT],styles:[".card-extended[_ngcontent-%COMP%]{transition:transform .2s ease;border-radius:1rem}.card-extended[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.card-extended[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;min-height:40px;color:#fff!important}"]})}return a})();function Jt(a){return a+.5|0}const Kn=(a,s,r)=>Math.max(Math.min(a,r),s);function Or(a){return Kn(Jt(2.55*a),0,255)}function qi(a){return Kn(Jt(255*a),0,255)}function vs(a){return Kn(Jt(a/2.55)/100,0,1)}function tl(a){return Kn(Jt(100*a),0,100)}const Uo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Do=[..."0123456789ABCDEF"],bo=a=>Do[15&a],Ia=a=>Do[(240&a)>>4]+Do[15&a],Ao=a=>(240&a)>>4==(15&a);const da=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ol(a,s,r){const l=s*Math.min(r,1-r),u=(p,_=(p+a/30)%12)=>r-l*Math.max(Math.min(_-3,9-_,1),-1);return[u(0),u(8),u(4)]}function Mc(a,s,r){const l=(u,p=(u+a/60)%6)=>r-r*s*Math.max(Math.min(p,4-p,1),0);return[l(5),l(3),l(1)]}function Us(a,s,r){const l=Ol(a,1,.5);let u;for(s+r>1&&(u=1/(s+r),s*=u,r*=u),u=0;u<3;u++)l[u]*=1-s-r,l[u]+=s;return l}function M(a){const r=a.r/255,l=a.g/255,u=a.b/255,p=Math.max(r,l,u),_=Math.min(r,l,u),y=(p+_)/2;let C,R,U;return p!==_&&(U=p-_,R=y>.5?U/(2-p-_):U/(p+_),C=function js(a,s,r,l,u){return a===u?(s-r)/l+(s<r?6:0):s===u?(r-a)/l+2:(a-s)/l+4}(r,l,u,U,p),C=60*C+.5),[0|C,R||0,y]}function B(a,s,r,l){return(Array.isArray(s)?a(s[0],s[1],s[2]):a(s,r,l)).map(qi)}function O(a,s,r){return B(Ol,a,s,r)}function Ie(a){return(a%360+360)%360}const Sn={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ui={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ko;const ra=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,_l=a=>a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055,yl=a=>a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4);function uu(a,s,r){if(a){let l=M(a);l[s]=Math.max(0,Math.min(l[s]+l[s]*r,0===s?360:1)),l=O(l),a.r=l[0],a.g=l[1],a.b=l[2]}}function du(a,s){return a&&Object.assign(s||{},a)}function hu(a){var s={r:0,g:0,b:0,a:255};return Array.isArray(a)?a.length>=3&&(s={r:a[0],g:a[1],b:a[2],a:255},a.length>3&&(s.a=qi(a[3]))):(s=du(a,{r:0,g:0,b:0,a:1})).a=qi(s.a),s}function Wf(a){return"r"===a.charAt(0)?function Nl(a){const s=ra.exec(a);let l,u,p,r=255;if(s){if(s[7]!==l){const _=+s[7];r=s[8]?Or(_):Kn(255*_,0,255)}return l=+s[1],u=+s[3],p=+s[5],l=255&(s[2]?Or(l):Kn(l,0,255)),u=255&(s[4]?Or(u):Kn(u,0,255)),p=255&(s[6]?Or(p):Kn(p,0,255)),{r:l,g:u,b:p,a:r}}}(a):function _e(a){const s=da.exec(a);let l,r=255;if(!s)return;s[5]!==l&&(r=s[6]?Or(+s[5]):qi(+s[5]));const u=Ie(+s[2]),p=+s[3]/100,_=+s[4]/100;return l="hwb"===s[1]?function j(a,s,r){return B(Us,a,s,r)}(u,p,_):"hsv"===s[1]?function ee(a,s,r){return B(Mc,a,s,r)}(u,p,_):O(u,p,_),{r:l[0],g:l[1],b:l[2],a:r}}(a)}class nl{constructor(s){if(s instanceof nl)return s;const r=typeof s;let l;"object"===r?l=hu(s):"string"===r&&(l=function nr(a){var r,s=a.length;return"#"===a[0]&&(4===s||5===s?r={r:255&17*Uo[a[1]],g:255&17*Uo[a[2]],b:255&17*Uo[a[3]],a:5===s?17*Uo[a[4]]:255}:(7===s||9===s)&&(r={r:Uo[a[1]]<<4|Uo[a[2]],g:Uo[a[3]]<<4|Uo[a[4]],b:Uo[a[5]]<<4|Uo[a[6]],a:9===s?Uo[a[7]]<<4|Uo[a[8]]:255})),r}(s)||function $a(a){Ko||(Ko=function Er(){const a={},s=Object.keys(ui),r=Object.keys(Sn);let l,u,p,_,y;for(l=0;l<s.length;l++){for(_=y=s[l],u=0;u<r.length;u++)p=r[u],y=y.replace(p,Sn[p]);p=parseInt(ui[_],16),a[y]=[p>>16&255,p>>8&255,255&p]}return a}(),Ko.transparent=[0,0,0,0]);const s=Ko[a.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:4===s.length?s[3]:255}}(s)||Wf(s)),this._rgb=l,this._valid=!!l}get valid(){return this._valid}get rgb(){var s=du(this._rgb);return s&&(s.a=vs(s.a)),s}set rgb(s){this._rgb=hu(s)}rgbString(){return this._valid?function ml(a){return a&&(a.a<255?`rgba(${a.r}, ${a.g}, ${a.b}, ${vs(a.a)})`:`rgb(${a.r}, ${a.g}, ${a.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Ta(a){var s=(a=>Ao(a.r)&&Ao(a.g)&&Ao(a.b)&&Ao(a.a))(a)?bo:Ia;return a?"#"+s(a.r)+s(a.g)+s(a.b)+((a,s)=>a<255?s(a):"")(a.a,s):void 0}(this._rgb):void 0}hslString(){return this._valid?function $t(a){if(!a)return;const s=M(a),r=s[0],l=tl(s[1]),u=tl(s[2]);return a.a<255?`hsla(${r}, ${l}%, ${u}%, ${vs(a.a)})`:`hsl(${r}, ${l}%, ${u}%)`}(this._rgb):void 0}mix(s,r){if(s){const l=this.rgb,u=s.rgb;let p;const _=r===p?.5:r,y=2*_-1,C=l.a-u.a,R=((y*C==-1?y:(y+C)/(1+y*C))+1)/2;p=1-R,l.r=255&R*l.r+p*u.r+.5,l.g=255&R*l.g+p*u.g+.5,l.b=255&R*l.b+p*u.b+.5,l.a=_*l.a+(1-_)*u.a,this.rgb=l}return this}interpolate(s,r){return s&&(this._rgb=function Ph(a,s,r){const l=yl(vs(a.r)),u=yl(vs(a.g)),p=yl(vs(a.b));return{r:qi(_l(l+r*(yl(vs(s.r))-l))),g:qi(_l(u+r*(yl(vs(s.g))-u))),b:qi(_l(p+r*(yl(vs(s.b))-p))),a:a.a+r*(s.a-a.a)}}(this._rgb,s._rgb,r)),this}clone(){return new nl(this.rgb)}alpha(s){return this._rgb.a=qi(s),this}clearer(s){return this._rgb.a*=1-s,this}greyscale(){const s=this._rgb,r=Jt(.3*s.r+.59*s.g+.11*s.b);return s.r=s.g=s.b=r,this}opaquer(s){return this._rgb.a*=1+s,this}negate(){const s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return uu(this._rgb,2,s),this}darken(s){return uu(this._rgb,2,-s),this}saturate(s){return uu(this._rgb,1,s),this}desaturate(s){return uu(this._rgb,1,-s),this}rotate(s){return function Et(a,s){var r=M(a);r[0]=Ie(r[0]+s),r=O(r),a.r=r[0],a.g=r[1],a.b=r[2]}(this._rgb,s),this}}function rl(){}const tv=(()=>{let a=0;return()=>a++})();function Ji(a){return null===a||typeof a>"u"}function Ds(a){if(Array.isArray&&Array.isArray(a))return!0;const s=Object.prototype.toString.call(a);return"[object"===s.slice(0,7)&&"Array]"===s.slice(-6)}function $i(a){return null!==a&&"[object Object]"===Object.prototype.toString.call(a)}function go(a){return("number"==typeof a||a instanceof Number)&&isFinite(+a)}function Vi(a,s){return go(a)?a:s}function oi(a,s){return typeof a>"u"?s:a}const Wu=(a,s)=>"string"==typeof a&&a.endsWith("%")?parseFloat(a)/100*s:+a;function $s(a,s,r){if(a&&"function"==typeof a.call)return a.apply(r,s)}function Fr(a,s,r,l){let u,p,_;if(Ds(a))if(p=a.length,l)for(u=p-1;u>=0;u--)s.call(r,a[u],u);else for(u=0;u<p;u++)s.call(r,a[u],u);else if($i(a))for(_=Object.keys(a),p=_.length,u=0;u<p;u++)s.call(r,a[_[u]],_[u])}function Mh(a,s){let r,l,u,p;if(!a||!s||a.length!==s.length)return!1;for(r=0,l=a.length;r<l;++r)if(u=a[r],p=s[r],u.datasetIndex!==p.datasetIndex||u.index!==p.index)return!1;return!0}function Hi(a){if(Ds(a))return a.map(Hi);if($i(a)){const s=Object.create(null),r=Object.keys(a),l=r.length;let u=0;for(;u<l;++u)s[r[u]]=Hi(a[r[u]]);return s}return a}function kc(a){return-1===["__proto__","prototype","constructor"].indexOf(a)}function il(a,s,r,l){if(!kc(a))return;const u=s[a],p=r[a];$i(u)&&$i(p)?xi(u,p,l):s[a]=Hi(p)}function xi(a,s,r){const l=Ds(s)?s:[s],u=l.length;if(!$i(a))return a;const p=(r=r||{}).merger||il;let _;for(let y=0;y<u;++y){if(_=l[y],!$i(_))continue;const C=Object.keys(_);for(let R=0,U=C.length;R<U;++R)p(C[R],a,_,r)}return a}function Oc(a,s){return xi(a,s,{merger:Nc})}function Nc(a,s,r){if(!kc(a))return;const l=s[a],u=r[a];$i(l)&&$i(u)?Oc(l,u):Object.prototype.hasOwnProperty.call(s,a)||(s[a]=Hi(u))}const fu={"":a=>a,x:a=>a.x,y:a=>a.y};function Ca(a,s){return(fu[s]||(fu[s]=function Ha(a){const s=function Fl(a){const s=a.split("."),r=[];let l="";for(const u of s)l+=u,l.endsWith("\\")?l=l.slice(0,-1)+".":(r.push(l),l="");return r}(a);return r=>{for(const l of s){if(""===l)break;r=r&&r[l]}return r}}(s)))(a)}function qo(a){return a.charAt(0).toUpperCase()+a.slice(1)}const pu=a=>typeof a<"u",bs=a=>"function"==typeof a,Bi=(a,s)=>{if(a.size!==s.size)return!1;for(const r of a)if(!s.has(r))return!1;return!0},As=Math.PI,ps=2*As,mg=ps+As,ac=Number.POSITIVE_INFINITY,Gf=As/180,Ms=As/2,Da=As/4,Fc=2*As/3,So=Math.log10,ia=Math.sign;function Lc(a,s,r){return Math.abs(a-s)<r}function Kf(a){const s=Math.round(a);a=Lc(a,s,a/1e3)?s:a;const r=Math.pow(10,Math.floor(So(a))),l=a/r;return(l<=1?1:l<=2?2:l<=5?5:10)*r}function lc(a){return!isNaN(parseFloat(a))&&isFinite(a)}function Ad(a,s,r){let l,u,p;for(l=0,u=a.length;l<u;l++)p=a[l][r],isNaN(p)||(s.min=Math.min(s.min,p),s.max=Math.max(s.max,p))}function Vl(a){return a*(As/180)}function qf(a){return a*(180/As)}function kh(a){if(!go(a))return;let s=1,r=0;for(;Math.round(a*s)/s!==a;)s*=10,r++;return r}function Qf(a,s){const r=s.x-a.x,l=s.y-a.y,u=Math.sqrt(r*r+l*l);let p=Math.atan2(l,r);return p<-.5*As&&(p+=ps),{angle:p,distance:u}}function Wa(a,s){return Math.sqrt(Math.pow(s.x-a.x,2)+Math.pow(s.y-a.y,2))}function Sd(a,s){return(a-s+mg)%ps-As}function ha(a){return(a%ps+ps)%ps}function Oh(a,s,r,l){const u=ha(a),p=ha(s),_=ha(r),y=ha(p-u),C=ha(_-u),R=ha(u-p),U=ha(u-_);return u===p||u===_||l&&p===_||y>C&&R<U}function Ii(a,s,r){return Math.max(s,Math.min(r,a))}function zt(a,s,r,l=1e-6){return a>=Math.min(s,r)-l&&a<=Math.max(s,r)+l}function $r(a,s,r){r=r||(_=>a[_]<s);let p,l=a.length-1,u=0;for(;l-u>1;)p=u+l>>1,r(p)?u=p:l=p;return{lo:u,hi:l}}const fa=(a,s,r,l)=>$r(a,r,l?u=>{const p=a[u][s];return p<r||p===r&&a[u+1][s]===r}:u=>a[u][s]<r),Ga=(a,s,r)=>$r(a,r,l=>a[l][s]>=r),Xf=["push","pop","shift","splice","unshift"];function Aa(a,s){const r=a._chartjs;if(!r)return;const l=r.listeners,u=l.indexOf(s);-1!==u&&l.splice(u,1),!(l.length>0)&&(Xf.forEach(p=>{delete a[p]}),delete a._chartjs)}function xd(a){const s=new Set(a);return s.size===a.length?a:Array.from(s)}const Zf=typeof window>"u"?function(a){return a()}:window.requestAnimationFrame;function Jf(a,s){let r=[],l=!1;return function(...u){r=u,l||(l=!0,Zf.call(window,()=>{l=!1,a.apply(s,r)}))}}const Pd=a=>"start"===a?"left":"end"===a?"right":"center",pa=(a,s,r)=>"start"===a?s:"end"===a?r:(s+r)/2;function Qo(a,s,r){const l=s.length;let u=0,p=l;if(a._sorted){const{iScale:_,_parsed:y}=a,C=_.axis,{min:R,max:U,minDefined:q,maxDefined:ae}=_.getUserBounds();q&&(u=Ii(Math.min(fa(y,C,R).lo,r?l:fa(s,C,_.getPixelForValue(R)).lo),0,l-1)),p=ae?Ii(Math.max(fa(y,_.axis,U,!0).hi+1,r?0:fa(s,C,_.getPixelForValue(U),!0).hi+1),u,l)-u:l-u}return{start:u,count:p}}function qa(a){const{xScale:s,yScale:r,_scaleRanges:l}=a,u={xmin:s.min,xmax:s.max,ymin:r.min,ymax:r.max};if(!l)return a._scaleRanges=u,!0;const p=l.xmin!==s.min||l.xmax!==s.max||l.ymin!==r.min||l.ymax!==r.max;return Object.assign(l,u),p}const Md=a=>0===a||1===a,Sa=(a,s,r)=>-Math.pow(2,10*(a-=1))*Math.sin((a-s)*ps/r),Qa=(a,s,r)=>Math.pow(2,-10*a)*Math.sin((a-s)*ps/r)+1,kd={linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>a*a*a,easeOutCubic:a=>(a-=1)*a*a+1,easeInOutCubic:a=>(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-((a-=1)*a*a*a-1),easeInOutQuart:a=>(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>(a-=1)*a*a*a*a+1,easeInOutQuint:a=>(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>1-Math.cos(a*Ms),easeOutSine:a=>Math.sin(a*Ms),easeInOutSine:a=>-.5*(Math.cos(As*a)-1),easeInExpo:a=>0===a?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>1===a?1:1-Math.pow(2,-10*a),easeInOutExpo:a=>Md(a)?a:a<.5?.5*Math.pow(2,10*(2*a-1)):.5*(2-Math.pow(2,-10*(2*a-1))),easeInCirc:a=>a>=1?a:-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1-(a-=1)*a),easeInOutCirc:a=>(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInElastic:a=>Md(a)?a:Sa(a,.075,.3),easeOutElastic:a=>Md(a)?a:Qa(a,.075,.3),easeInOutElastic:a=>Md(a)?a:a<.5?.5*Sa(2*a,.1125,.45):.5+.5*Qa(2*a-1,.1125,.45),easeInBack:a=>a*a*(2.70158*a-1.70158),easeOutBack:a=>(a-=1)*a*(2.70158*a+1.70158)+1,easeInOutBack(a){let s=1.70158;return(a/=.5)<1?a*a*((1+(s*=1.525))*a-s)*.5:.5*((a-=2)*a*((1+(s*=1.525))*a+s)+2)},easeInBounce:a=>1-kd.easeOutBounce(1-a),easeOutBounce:a=>a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,easeInOutBounce:a=>a<.5?.5*kd.easeInBounce(2*a):.5*kd.easeOutBounce(2*a-1)+.5};function Vc(a){if(a&&"object"==typeof a){const s=a.toString();return"[object CanvasPattern]"===s||"[object CanvasGradient]"===s}return!1}function _g(a){return Vc(a)?a:new nl(a)}function Bl(a){return Vc(a)?a:new nl(a).saturate(.5).darken(.1).hexString()}const Ul=["x","y","borderWidth","radius","tension"],Gu=["color","borderColor","backgroundColor"],jl=new Map;function Bc(a,s,r){return function Lh(a,s){s=s||{};const r=a+JSON.stringify(s);let l=jl.get(r);return l||(l=new Intl.NumberFormat(a,s),jl.set(r,l)),l}(s,r).format(a)}const ep={values:a=>Ds(a)?a:""+a,numeric(a,s,r){if(0===a)return"0";const l=this.chart.options.locale;let u,p=a;if(r.length>1){const R=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(R<1e-4||R>1e15)&&(u="scientific"),p=function Nd(a,s){let r=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(r)>=1&&a!==Math.floor(a)&&(r=a-Math.floor(a)),r}(a,r)}const _=So(Math.abs(p)),y=isNaN(_)?1:Math.max(Math.min(-1*Math.floor(_),20),0),C={notation:u,minimumFractionDigits:y,maximumFractionDigits:y};return Object.assign(C,this.options.ticks.format),Bc(a,l,C)},logarithmic(a,s,r){if(0===a)return"0";const l=r[s].significand||a/Math.pow(10,Math.floor(So(a)));return[1,2,3,5,10,15].includes(l)||s>.8*r.length?ep.numeric.call(this,a,s,r):""}};var Xa={formatters:ep};const Ra=Object.create(null),cc=Object.create(null);function Eo(a,s){if(!s)return a;const r=s.split(".");for(let l=0,u=r.length;l<u;++l){const p=r[l];a=a[p]||(a[p]=Object.create(null))}return a}function vl(a,s,r){return"string"==typeof s?xi(Eo(a,s),r):xi(Eo(a,""),s)}class ls{constructor(s,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=l=>l.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(l,u)=>Bl(u.backgroundColor),this.hoverBorderColor=(l,u)=>Bl(u.borderColor),this.hoverColor=(l,u)=>Bl(u.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(s),this.apply(r)}set(s,r){return vl(this,s,r)}get(s){return Eo(this,s)}describe(s,r){return vl(cc,s,r)}override(s,r){return vl(Ra,s,r)}route(s,r,l,u){const p=Eo(this,s),_=Eo(this,l),y="_"+r;Object.defineProperties(p,{[y]:{value:p[r],writable:!0},[r]:{enumerable:!0,get(){const C=this[y],R=_[u];return $i(C)?Object.assign({},R,C):oi(C,R)},set(C){this[y]=C}}})}apply(s){s.forEach(r=>r(this))}}var io=new ls({_scriptable:a=>!a.startsWith("on"),_indexable:a=>"events"!==a,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Od(a){a.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),a.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>"onProgress"!==s&&"onComplete"!==s&&"fn"!==s}),a.set("animations",{colors:{type:"color",properties:Gu},numbers:{type:"number",properties:Ul}}),a.describe("animations",{_fallback:"animation"}),a.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>0|s}}}})},function Fh(a){a.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function mu(a){a.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,r)=>r.lineWidth,tickColor:(s,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xa.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),a.route("scale.ticks","color","","color"),a.route("scale.grid","color","","borderColor"),a.route("scale.border","color","","borderColor"),a.route("scale.title","color","","color"),a.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&"callback"!==s&&"parser"!==s,_indexable:s=>"borderDash"!==s&&"tickBorderDash"!==s&&"dash"!==s}),a.describe("scales",{_fallback:"scale"}),a.describe("scale.ticks",{_scriptable:s=>"backdropPadding"!==s&&"callback"!==s,_indexable:s=>"backdropPadding"!==s})}]);function Ku(a,s,r,l,u){let p=s[u];return p||(p=s[u]=a.measureText(u).width,r.push(u)),p>l&&(l=p),l}function Bh(a,s,r,l){let u=(l=l||{}).data=l.data||{},p=l.garbageCollect=l.garbageCollect||[];l.font!==s&&(u=l.data={},p=l.garbageCollect=[],l.font=s),a.save(),a.font=s;let _=0;const y=r.length;let C,R,U,q,ae;for(C=0;C<y;C++)if(q=r[C],null==q||Ds(q)){if(Ds(q))for(R=0,U=q.length;R<U;R++)ae=q[R],null!=ae&&!Ds(ae)&&(_=Ku(a,u,p,_,ae))}else _=Ku(a,u,p,_,q);a.restore();const fe=p.length/2;if(fe>r.length){for(C=0;C<fe;C++)delete u[p[C]];p.splice(0,fe)}return _}function $l(a,s,r){const l=a.currentDevicePixelRatio,u=0!==r?Math.max(r/2,.5):0;return Math.round((s-u)*l)/l+u}function Uc(a,s){(s=s||a.getContext("2d")).save(),s.resetTransform(),s.clearRect(0,0,a.width,a.height),s.restore()}function bl(a,s,r,l){El(a,s,r,l,null)}function El(a,s,r,l,u){let p,_,y,C,R,U,q,ae;const fe=s.pointStyle,Ae=s.rotation,je=s.radius;let Ze=(Ae||0)*Gf;if(fe&&"object"==typeof fe&&(p=fe.toString(),"[object HTMLImageElement]"===p||"[object HTMLCanvasElement]"===p))return a.save(),a.translate(r,l),a.rotate(Ze),a.drawImage(fe,-fe.width/2,-fe.height/2,fe.width,fe.height),void a.restore();if(!(isNaN(je)||je<=0)){switch(a.beginPath(),fe){default:u?a.ellipse(r,l,u/2,je,0,0,ps):a.arc(r,l,je,0,ps),a.closePath();break;case"triangle":U=u?u/2:je,a.moveTo(r+Math.sin(Ze)*U,l-Math.cos(Ze)*je),Ze+=Fc,a.lineTo(r+Math.sin(Ze)*U,l-Math.cos(Ze)*je),Ze+=Fc,a.lineTo(r+Math.sin(Ze)*U,l-Math.cos(Ze)*je),a.closePath();break;case"rectRounded":R=.516*je,C=je-R,_=Math.cos(Ze+Da)*C,q=Math.cos(Ze+Da)*(u?u/2-R:C),y=Math.sin(Ze+Da)*C,ae=Math.sin(Ze+Da)*(u?u/2-R:C),a.arc(r-q,l-y,R,Ze-As,Ze-Ms),a.arc(r+ae,l-_,R,Ze-Ms,Ze),a.arc(r+q,l+y,R,Ze,Ze+Ms),a.arc(r-ae,l+_,R,Ze+Ms,Ze+As),a.closePath();break;case"rect":if(!Ae){C=Math.SQRT1_2*je,U=u?u/2:C,a.rect(r-U,l-C,2*U,2*C);break}Ze+=Da;case"rectRot":q=Math.cos(Ze)*(u?u/2:je),_=Math.cos(Ze)*je,y=Math.sin(Ze)*je,ae=Math.sin(Ze)*(u?u/2:je),a.moveTo(r-q,l-y),a.lineTo(r+ae,l-_),a.lineTo(r+q,l+y),a.lineTo(r-ae,l+_),a.closePath();break;case"crossRot":Ze+=Da;case"cross":q=Math.cos(Ze)*(u?u/2:je),_=Math.cos(Ze)*je,y=Math.sin(Ze)*je,ae=Math.sin(Ze)*(u?u/2:je),a.moveTo(r-q,l-y),a.lineTo(r+q,l+y),a.moveTo(r+ae,l-_),a.lineTo(r-ae,l+_);break;case"star":q=Math.cos(Ze)*(u?u/2:je),_=Math.cos(Ze)*je,y=Math.sin(Ze)*je,ae=Math.sin(Ze)*(u?u/2:je),a.moveTo(r-q,l-y),a.lineTo(r+q,l+y),a.moveTo(r+ae,l-_),a.lineTo(r-ae,l+_),Ze+=Da,q=Math.cos(Ze)*(u?u/2:je),_=Math.cos(Ze)*je,y=Math.sin(Ze)*je,ae=Math.sin(Ze)*(u?u/2:je),a.moveTo(r-q,l-y),a.lineTo(r+q,l+y),a.moveTo(r+ae,l-_),a.lineTo(r-ae,l+_);break;case"line":_=u?u/2:Math.cos(Ze)*je,y=Math.sin(Ze)*je,a.moveTo(r-_,l-y),a.lineTo(r+_,l+y);break;case"dash":a.moveTo(r,l),a.lineTo(r+Math.cos(Ze)*(u?u/2:je),l+Math.sin(Ze)*je);break;case!1:a.closePath()}a.fill(),s.borderWidth>0&&a.stroke()}}function ga(a,s,r){return r=r||.5,!s||a&&a.x>s.left-r&&a.x<s.right+r&&a.y>s.top-r&&a.y<s.bottom+r}function sl(a,s){a.save(),a.beginPath(),a.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),a.clip()}function _u(a){a.restore()}function Fd(a,s,r,l,u){if(!s)return a.lineTo(r.x,r.y);if("middle"===u){const p=(s.x+r.x)/2;a.lineTo(p,s.y),a.lineTo(p,r.y)}else"after"===u!=!!l?a.lineTo(s.x,r.y):a.lineTo(r.x,s.y);a.lineTo(r.x,r.y)}function Ld(a,s,r,l){if(!s)return a.lineTo(r.x,r.y);a.bezierCurveTo(l?s.cp1x:s.cp2x,l?s.cp1y:s.cp2y,l?r.cp2x:r.cp1x,l?r.cp2y:r.cp1y,r.x,r.y)}function vg(a,s,r,l,u){if(u.strikethrough||u.underline){const p=a.measureText(l),_=s-p.actualBoundingBoxLeft,y=s+p.actualBoundingBoxRight,R=r+p.actualBoundingBoxDescent,U=u.strikethrough?(r-p.actualBoundingBoxAscent+R)/2:R;a.strokeStyle=a.fillStyle,a.beginPath(),a.lineWidth=u.decorationWidth||2,a.moveTo(_,U),a.lineTo(y,U),a.stroke()}}function Vd(a,s){const r=a.fillStyle;a.fillStyle=s.color,a.fillRect(s.left,s.top,s.width,s.height),a.fillStyle=r}function Ro(a,s,r,l,u,p={}){const _=Ds(s)?s:[s],y=p.strokeWidth>0&&""!==p.strokeColor;let C,R;for(a.save(),a.font=u.string,function yg(a,s){s.translation&&a.translate(s.translation[0],s.translation[1]),Ji(s.rotation)||a.rotate(s.rotation),s.color&&(a.fillStyle=s.color),s.textAlign&&(a.textAlign=s.textAlign),s.textBaseline&&(a.textBaseline=s.textBaseline)}(a,p),C=0;C<_.length;++C)R=_[C],p.backdrop&&Vd(a,p.backdrop),y&&(p.strokeColor&&(a.strokeStyle=p.strokeColor),Ji(p.strokeWidth)||(a.lineWidth=p.strokeWidth),a.strokeText(R,r,l,p.maxWidth)),a.fillText(R,r,l,p.maxWidth),vg(a,r,l,R,p),l+=Number(u.lineHeight);a.restore()}function ma(a,s){const{x:r,y:l,w:u,h:p,radius:_}=s;a.arc(r+_.topLeft,l+_.topLeft,_.topLeft,1.5*As,As,!0),a.lineTo(r,l+p-_.bottomLeft),a.arc(r+_.bottomLeft,l+p-_.bottomLeft,_.bottomLeft,As,Ms,!0),a.lineTo(r+u-_.bottomRight,l+p),a.arc(r+u-_.bottomRight,l+p-_.bottomRight,_.bottomRight,Ms,0,!0),a.lineTo(r+u,l+_.topRight),a.arc(r+u-_.topRight,l+_.topRight,_.topRight,0,-Ms,!0),a.lineTo(r+_.topLeft,l)}const Uh=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,yu=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function bg(a,s){const r=(""+a).match(Uh);if(!r||"normal"===r[1])return 1.2*s;switch(a=+r[2],r[3]){case"px":return a;case"%":a/=100}return s*a}const Bd=a=>+a||0;function jh(a,s){const r={},l=$i(s),u=l?Object.keys(s):s,p=$i(a)?l?_=>oi(a[_],a[s[_]]):_=>a[_]:()=>a;for(const _ of u)r[_]=Bd(p(_));return r}function m_(a){return jh(a,{top:"y",right:"x",bottom:"y",left:"x"})}function jc(a){return jh(a,["topLeft","topRight","bottomLeft","bottomRight"])}function Xo(a){const s=m_(a);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function wo(a,s){let r=oi((a=a||{}).size,(s=s||io.font).size);"string"==typeof r&&(r=parseInt(r,10));let l=oi(a.style,s.style);l&&!(""+l).match(yu)&&(console.warn('Invalid font style specified: "'+l+'"'),l=void 0);const u={family:oi(a.family,s.family),lineHeight:bg(oi(a.lineHeight,s.lineHeight),r),size:r,style:l,weight:oi(a.weight,s.weight),string:""};return u.string=function Vh(a){return!a||Ji(a.size)||Ji(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family}(u),u}function $c(a,s,r,l){let p,_,y,u=!0;for(p=0,_=a.length;p<_;++p)if(y=a[p],void 0!==y&&(void 0!==s&&"function"==typeof y&&(y=y(s),u=!1),void 0!==r&&Ds(y)&&(y=y[r%y.length],u=!1),void 0!==y))return l&&!u&&(l.cacheable=!1),y}function Hl(a,s){return Object.assign(Object.create(a),s)}function zl(a,s=[""],r,l,u=()=>a[0]){const p=r||a;typeof l>"u"&&(l=Eu("_fallback",a));const _={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:a,_rootScopes:p,_fallback:l,_getTarget:u,override:y=>zl([y,...a],s,p,l)};return new Proxy(_,{deleteProperty:(y,C)=>(delete y[C],delete y._keys,delete a[0][C],!0),get:(y,C)=>Ud(y,C,()=>function uc(a,s,r,l){let u;for(const p of s)if(u=Eu(qu(p,a),r),typeof u<"u")return zc(a,u)?Wc(r,l,a,u):u}(C,s,a,y)),getOwnPropertyDescriptor:(y,C)=>Reflect.getOwnPropertyDescriptor(y._scopes[0],C),getPrototypeOf:()=>Reflect.getPrototypeOf(a[0]),has:(y,C)=>np(y).includes(C),ownKeys:y=>np(y),set(y,C,R){const U=y._storage||(y._storage=u());return y[C]=U[C]=R,delete y._keys,!0}})}function Wl(a,s,r,l){const u={_cacheable:!1,_proxy:a,_context:s,_subProxy:r,_stack:new Set,_descriptors:$h(a,l),setContext:p=>Wl(a,p,r,l),override:p=>Wl(a.override(p),s,r,l)};return new Proxy(u,{deleteProperty:(p,_)=>(delete p[_],delete a[_],!0),get:(p,_,y)=>Ud(p,_,()=>function Eg(a,s,r){const{_proxy:l,_context:u,_subProxy:p,_descriptors:_}=a;let y=l[s];return bs(y)&&_.isScriptable(s)&&(y=function vu(a,s,r,l){const{_proxy:u,_context:p,_subProxy:_,_stack:y}=r;if(y.has(a))throw new Error("Recursion detected: "+Array.from(y).join("->")+"->"+a);y.add(a);let C=s(p,_||l);return y.delete(a),zc(a,C)&&(C=Wc(u._scopes,u,a,C)),C}(s,y,a,r)),Ds(y)&&y.length&&(y=function Qu(a,s,r,l){const{_proxy:u,_context:p,_subProxy:_,_descriptors:y}=r;if(typeof p.index<"u"&&l(a))return s[p.index%s.length];if($i(s[0])){const C=s,R=u._scopes.filter(U=>U!==C);s=[];for(const U of C){const q=Wc(R,u,a,U);s.push(Wl(q,p,_&&_[a],y))}}return s}(s,y,a,_.isIndexable)),zc(s,y)&&(y=Wl(y,u,p&&p[s],_)),y}(p,_,y)),getOwnPropertyDescriptor:(p,_)=>p._descriptors.allKeys?Reflect.has(a,_)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(a,_),getPrototypeOf:()=>Reflect.getPrototypeOf(a),has:(p,_)=>Reflect.has(a,_),ownKeys:()=>Reflect.ownKeys(a),set:(p,_,y)=>(a[_]=y,delete p[_],!0)})}function $h(a,s={scriptable:!0,indexable:!0}){const{_scriptable:r=s.scriptable,_indexable:l=s.indexable,_allKeys:u=s.allKeys}=a;return{allKeys:u,scriptable:r,indexable:l,isScriptable:bs(r)?r:()=>r,isIndexable:bs(l)?l:()=>l}}const qu=(a,s)=>a?a+qo(s):s,zc=(a,s)=>$i(s)&&"adapters"!==a&&(null===Object.getPrototypeOf(s)||s.constructor===Object);function Ud(a,s,r){if(Object.prototype.hasOwnProperty.call(a,s))return a[s];const l=r();return a[s]=l,l}function bu(a,s,r){return bs(a)?a(s,r):a}const wl=(a,s)=>!0===a?s:"string"==typeof a?Ca(s,a):void 0;function wg(a,s,r,l,u){for(const p of s){const _=wl(r,p);if(_){a.add(_);const y=bu(_._fallback,r,u);if(typeof y<"u"&&y!==r&&y!==l)return y}else if(!1===_&&typeof l<"u"&&r!==l)return null}return!1}function Wc(a,s,r,l){const u=s._rootScopes,p=bu(s._fallback,r,l),_=[...a,...u],y=new Set;y.add(l);let C=Io(y,_,r,p||r,l);return!(null===C||typeof p<"u"&&p!==r&&(C=Io(y,_,p,C,l),null===C))&&zl(Array.from(y),[""],u,p,()=>function tp(a,s,r){const l=a._getTarget();s in l||(l[s]={});const u=l[s];return Ds(u)&&$i(r)?r:u||{}}(s,r,l))}function Io(a,s,r,l,u){for(;r;)r=wg(a,s,r,l,u);return r}function Eu(a,s){for(const r of s){if(!r)continue;const l=r[a];if(typeof l<"u")return l}}function np(a){let s=a._keys;return s||(s=a._keys=function Gl(a){const s=new Set;for(const r of a)for(const l of Object.keys(r).filter(u=>!u.startsWith("_")))s.add(l);return Array.from(s)}(a._scopes)),s}function dc(a,s,r,l){const{iScale:u}=a,{key:p="r"}=this._parsing,_=new Array(l);let y,C,R,U;for(y=0,C=l;y<C;++y)R=y+r,U=s[R],_[y]={r:u.parse(Ca(U,p),R)};return _}const Ig=Number.EPSILON||1e-14,ol=(a,s)=>s<a.length&&!a[s].skip&&a[s],Hh=a=>"x"===a?"y":"x";function Kl(a,s,r,l){const u=a.skip?s:a,p=s,_=r.skip?s:r,y=Wa(p,u),C=Wa(_,p);let R=y/(y+C),U=C/(y+C);R=isNaN(R)?0:R,U=isNaN(U)?0:U;const q=l*R,ae=l*U;return{previous:{x:p.x-q*(_.x-u.x),y:p.y-q*(_.y-u.y)},next:{x:p.x+ae*(_.x-u.x),y:p.y+ae*(_.y-u.y)}}}function Xu(a,s,r){return Math.max(Math.min(a,r),s)}function wu(a,s,r,l,u){let p,_,y,C;if(s.spanGaps&&(a=a.filter(R=>!R.skip)),"monotone"===s.cubicInterpolationMode)!function zh(a,s="x"){const r=Hh(s),l=a.length,u=Array(l).fill(0),p=Array(l);let _,y,C,R=ol(a,0);for(_=0;_<l;++_)if(y=C,C=R,R=ol(a,_+1),C){if(R){const U=R[s]-C[s];u[_]=0!==U?(R[r]-C[r])/U:0}p[_]=y?R?ia(u[_-1])!==ia(u[_])?0:(u[_-1]+u[_])/2:u[_-1]:u[_]}(function hc(a,s,r){const l=a.length;let u,p,_,y,C,R=ol(a,0);for(let U=0;U<l-1;++U)if(C=R,R=ol(a,U+1),C&&R){if(Lc(s[U],0,Ig)){r[U]=r[U+1]=0;continue}u=r[U]/s[U],p=r[U+1]/s[U],y=Math.pow(u,2)+Math.pow(p,2),!(y<=9)&&(_=3/Math.sqrt(y),r[U]=u*_*s[U],r[U+1]=p*_*s[U])}})(a,u,p),function fc(a,s,r="x"){const l=Hh(r),u=a.length;let p,_,y,C=ol(a,0);for(let R=0;R<u;++R){if(_=y,y=C,C=ol(a,R+1),!y)continue;const U=y[r],q=y[l];_&&(p=(U-_[r])/3,y[`cp1${r}`]=U-p,y[`cp1${l}`]=q-p*s[R]),C&&(p=(C[r]-U)/3,y[`cp2${r}`]=U+p,y[`cp2${l}`]=q+p*s[R])}}(a,p,s)}(a,u);else{let R=l?a[a.length-1]:a[0];for(p=0,_=a.length;p<_;++p)y=a[p],C=Kl(R,y,a[Math.min(p+1,_-(l?0:1))%_],s.tension),y.cp1x=C.previous.x,y.cp1y=C.previous.y,y.cp2x=C.next.x,y.cp2y=C.next.y,R=y}s.capBezierPoints&&function pc(a,s){let r,l,u,p,_,y=ga(a[0],s);for(r=0,l=a.length;r<l;++r)_=p,p=y,y=r<l-1&&ga(a[r+1],s),p&&(u=a[r],_&&(u.cp1x=Xu(u.cp1x,s.left,s.right),u.cp1y=Xu(u.cp1y,s.top,s.bottom)),y&&(u.cp2x=Xu(u.cp2x,s.left,s.right),u.cp2y=Xu(u.cp2y,s.top,s.bottom)))}(a,r)}function so(){return typeof window<"u"&&typeof document<"u"}function rp(a){let s=a.parentNode;return s&&"[object ShadowRoot]"===s.toString()&&(s=s.host),s}function Iu(a,s,r){let l;return"string"==typeof a?(l=parseInt(a,10),-1!==a.indexOf("%")&&(l=l/100*s.parentNode[r])):l=a,l}const Yu=a=>a.ownerDocument.defaultView.getComputedStyle(a,null),ip=["top","right","bottom","left"];function x(a,s,r){const l={};r=r?"-"+r:"";for(let u=0;u<4;u++){const p=ip[u];l[p]=parseFloat(a[s+"-"+p+r])||0}return l.width=l.left+l.right,l.height=l.top+l.bottom,l}function k(a,s){if("native"in a)return a;const{canvas:r,currentDevicePixelRatio:l}=s,u=Yu(r),p="border-box"===u.boxSizing,_=x(u,"padding"),y=x(u,"border","width"),{x:C,y:R,box:U}=function w(a,s){const r=a.touches,l=r&&r.length?r[0]:a,{offsetX:u,offsetY:p}=l;let y,C,_=!1;if(((a,s,r)=>(a>0||s>0)&&(!r||!r.shadowRoot))(u,p,a.target))y=u,C=p;else{const R=s.getBoundingClientRect();y=l.clientX-R.left,C=l.clientY-R.top,_=!0}return{x:y,y:C,box:_}}(a,r),q=_.left+(U&&y.left),ae=_.top+(U&&y.top);let{width:fe,height:Ae}=s;return p&&(fe-=_.width+y.width,Ae-=_.height+y.height),{x:Math.round((C-q)/fe*r.width/l),y:Math.round((R-ae)/Ae*r.height/l)}}const he=a=>Math.round(10*a)/10;function gt(a,s,r){const l=s||1,u=Math.floor(a.height*l),p=Math.floor(a.width*l);a.height=Math.floor(a.height),a.width=Math.floor(a.width);const _=a.canvas;return _.style&&(r||!_.style.height&&!_.style.width)&&(_.style.height=`${a.height}px`,_.style.width=`${a.width}px`),(a.currentDevicePixelRatio!==l||_.height!==u||_.width!==p)&&(a.currentDevicePixelRatio=l,_.height=u,_.width=p,a.ctx.setTransform(l,0,0,l,0,0),!0)}const ln=function(){let a=!1;try{const s={get passive(){return a=!0,!1}};window.addEventListener("test",null,s),window.removeEventListener("test",null,s)}catch{}return a}();function $n(a,s){const r=function Wh(a,s){return Yu(a).getPropertyValue(s)}(a,s),l=r&&r.match(/^(\d+)(\.\d+)?px$/);return l?+l[1]:void 0}function or(a,s,r,l){return{x:a.x+r*(s.x-a.x),y:a.y+r*(s.y-a.y)}}function _r(a,s,r,l){return{x:a.x+r*(s.x-a.x),y:"middle"===l?r<.5?a.y:s.y:"after"===l?r<1?a.y:s.y:r>0?s.y:a.y}}function ai(a,s,r,l){const u={x:a.cp2x,y:a.cp2y},p={x:s.cp1x,y:s.cp1y},_=or(a,u,r),y=or(u,p,r),C=or(p,s,r),R=or(_,y,r),U=or(y,C,r);return or(R,U,r)}function al(a,s,r){return a?function(a,s){return{x:r=>a+a+s-r,setWidth(r){s=r},textAlign:r=>"center"===r?r:"right"===r?"left":"right",xPlus:(r,l)=>r-l,leftForLtr:(r,l)=>r-l}}(s,r):{x:a=>a,setWidth(a){},textAlign:a=>a,xPlus:(a,s)=>a+s,leftForLtr:(a,s)=>a}}function jd(a,s){let r,l;("ltr"===s||"rtl"===s)&&(r=a.canvas.style,l=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",s,"important"),a.prevTextDirection=l)}function $o(a,s){void 0!==s&&(delete a.prevTextDirection,a.canvas.style.setProperty("direction",s[0],s[1]))}function Tg(a){return"angle"===a?{between:Oh,compare:Sd,normalize:ha}:{between:zt,compare:(s,r)=>s-r,normalize:s=>s}}function Zu({start:a,end:s,count:r,loop:l,style:u}){return{start:a%r,end:s%r,loop:l&&(s-a+1)%r==0,style:u}}function Tu(a,s,r){if(!r)return[a];const{property:l,start:u,end:p}=r,_=s.length,{compare:y,between:C,normalize:R}=Tg(l),{start:U,end:q,loop:ae,style:fe}=function __(a,s,r){const{property:l,start:u,end:p}=r,{between:_,normalize:y}=Tg(l),C=s.length;let ae,fe,{start:R,end:U,loop:q}=a;if(q){for(R+=C,U+=C,ae=0,fe=C;ae<fe&&_(y(s[R%C][l]),u,p);++ae)R--,U--;R%=C,U%=C}return U<R&&(U+=C),{start:R,end:U,loop:q,style:a.style}}(a,s,r),Ae=[];let Yt,Wt,_n,je=!1,Ze=null;for(let Vn=U,wr=U;Vn<=q;++Vn)Wt=s[Vn%_],!Wt.skip&&(Yt=R(Wt[l]),Yt!==_n&&(je=C(Yt,u,p),null===Ze&&(je||C(u,_n,Yt)&&0!==y(u,_n))&&(Ze=0===y(Yt,u)?Vn:wr),null!==Ze&&(!je||0===y(p,Yt)||C(p,_n,Yt))&&(Ae.push(Zu({start:Ze,end:Vn,loop:ae,count:_,style:fe})),Ze=null),wr=Vn,_n=Yt));return null!==Ze&&Ae.push(Zu({start:Ze,end:q,loop:ae,count:_,style:fe})),Ae}function _a(a,s){const r=[],l=a.segments;for(let u=0;u<l.length;u++){const p=Tu(l[u],a.points,s);p.length&&r.push(...p)}return r}function op(a){return{backgroundColor:a.backgroundColor,borderCapStyle:a.borderCapStyle,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderJoinStyle:a.borderJoinStyle,borderWidth:a.borderWidth,borderColor:a.borderColor}}function Dg(a,s){if(!s)return!1;const r=[],l=function(u,p){return Vc(p)?(r.includes(p)||r.push(p),r.indexOf(p)):p};return JSON.stringify(a,l)!==JSON.stringify(s,l)}class Cu{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,r,l,u){const _=r.duration;r.listeners[u].forEach(y=>y({chart:s,initial:r.initial,numSteps:_,currentStep:Math.min(l-r.start,_)}))}_refresh(){this._request||(this._running=!0,this._request=Zf.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let r=0;this._charts.forEach((l,u)=>{if(!l.running||!l.items.length)return;const p=l.items;let C,_=p.length-1,y=!1;for(;_>=0;--_)C=p[_],C._active?(C._total>l.duration&&(l.duration=C._total),C.tick(s),y=!0):(p[_]=p[p.length-1],p.pop());y&&(u.draw(),this._notify(u,l,s,"progress")),p.length||(l.running=!1,this._notify(u,l,s,"complete"),l.initial=!1),r+=p.length}),this._lastDate=s,0===r&&(this._running=!1)}_getAnims(s){const r=this._charts;let l=r.get(s);return l||(l={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(s,l)),l}listen(s,r,l){this._getAnims(s).listeners[r].push(l)}add(s,r){!r||!r.length||this._getAnims(s).items.push(...r)}has(s){return this._getAnims(s).items.length>0}start(s){const r=this._charts.get(s);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((l,u)=>Math.max(l,u._duration),0),this._refresh())}running(s){if(!this._running)return!1;const r=this._charts.get(s);return!(!r||!r.running||!r.items.length)}stop(s){const r=this._charts.get(s);if(!r||!r.items.length)return;const l=r.items;let u=l.length-1;for(;u>=0;--u)l[u].cancel();r.items=[],this._notify(s,r,Date.now(),"complete")}remove(s){return this._charts.delete(s)}}var Ya=new Cu;const ap="transparent",gc={boolean:(a,s,r)=>r>.5?s:a,color(a,s,r){const l=_g(a||ap),u=l.valid&&_g(s||ap);return u&&u.valid?u.mix(l,r).hexString():s},number:(a,s,r)=>a+(s-a)*r};class $d{constructor(s,r,l,u){const p=r[l];u=$c([s.to,u,p,s.from]);const _=$c([s.from,p,u]);this._active=!0,this._fn=s.fn||gc[s.type||typeof _],this._easing=kd[s.easing]||kd.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=r,this._prop=l,this._from=_,this._to=u,this._promises=void 0}active(){return this._active}update(s,r,l){if(this._active){this._notify(!1);const u=this._target[this._prop],p=l-this._start,_=this._duration-p;this._start=l,this._duration=Math.floor(Math.max(_,s.duration)),this._total+=p,this._loop=!!s.loop,this._to=$c([s.to,r,u,s.from]),this._from=$c([s.from,u,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){const r=s-this._start,l=this._duration,u=this._prop,p=this._from,_=this._loop,y=this._to;let C;if(this._active=p!==y&&(_||r<l),!this._active)return this._target[u]=y,void this._notify(!0);r<0?this._target[u]=p:(C=r/l%2,C=_&&C>1?2-C:C,C=this._easing(Math.min(1,Math.max(0,C))),this._target[u]=this._fn(p,y,C))}wait(){const s=this._promises||(this._promises=[]);return new Promise((r,l)=>{s.push({res:r,rej:l})})}_notify(s){const r=s?"res":"rej",l=this._promises||[];for(let u=0;u<l.length;u++)l[u][r]()}}class y_{constructor(s,r){this._chart=s,this._properties=new Map,this.configure(r)}configure(s){if(!$i(s))return;const r=Object.keys(io.animation),l=this._properties;Object.getOwnPropertyNames(s).forEach(u=>{const p=s[u];if(!$i(p))return;const _={};for(const y of r)_[y]=p[y];(Ds(p.properties)&&p.properties||[u]).forEach(y=>{(y===u||!l.has(y))&&l.set(y,_)})})}_animateOptions(s,r){const l=r.options,u=function rv(a,s){if(!s)return;let r=a.options;if(r)return r.$shared&&(a.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r;a.options=s}(s,l);if(!u)return[];const p=this._createAnimations(u,l);return l.$shared&&function v_(a,s){const r=[],l=Object.keys(s);for(let u=0;u<l.length;u++){const p=a[l[u]];p&&p.active()&&r.push(p.wait())}return Promise.all(r)}(s.options.$animations,l).then(()=>{s.options=l},()=>{}),p}_createAnimations(s,r){const l=this._properties,u=[],p=s.$animations||(s.$animations={}),_=Object.keys(r),y=Date.now();let C;for(C=_.length-1;C>=0;--C){const R=_[C];if("$"===R.charAt(0))continue;if("options"===R){u.push(...this._animateOptions(s,r));continue}const U=r[R];let q=p[R];const ae=l.get(R);if(q){if(ae&&q.active()){q.update(ae,U,y);continue}q.cancel()}ae&&ae.duration?(p[R]=q=new $d(ae,s,R,U),u.push(q)):s[R]=U}return u}update(s,r){if(0===this._properties.size)return void Object.assign(s,r);const l=this._createAnimations(s,r);return l.length?(Ya.add(this._chart,l),!0):void 0}}function Ag(a,s){const r=a&&a.options||{},l=r.reverse,u=void 0===r.min?s:0,p=void 0===r.max?s:0;return{start:l?p:u,end:l?u:p}}function Hs(a,s){const r=[],l=a._getSortedDatasetMetas(s);let u,p;for(u=0,p=l.length;u<p;++u)r.push(l[u].index);return r}function Rg(a,s,r,l={}){const u=a.keys,p="single"===l.mode;let _,y,C,R;if(null!==s){for(_=0,y=u.length;_<y;++_){if(C=+u[_],C===r){if(l.all)continue;break}R=a.values[C],go(R)&&(p||0===s||ia(s)===ia(R))&&(s+=R)}return s}}function E_(a,s){const r=a&&a.options.stacked;return r||void 0===r&&void 0!==s.stack}function sv(a,s,r){const l=a[s]||(a[s]={});return l[r]||(l[r]={})}function Ju(a,s,r,l){for(const u of s.getMatchingVisibleMetas(l).reverse()){const p=a[u.index];if(r&&p>0||!r&&p<0)return u.index}return null}function Du(a,s){const{chart:r,_cachedMeta:l}=a,u=r._stacks||(r._stacks={}),{iScale:p,vScale:_,index:y}=l,C=p.axis,R=_.axis,U=function Jb(a,s,r){return`${a.id}.${s.id}.${r.stack||r.type}`}(p,_,l),q=s.length;let ae;for(let fe=0;fe<q;++fe){const Ae=s[fe],{[C]:je,[R]:Ze}=Ae;ae=(Ae._stacks||(Ae._stacks={}))[R]=sv(u,U,je),ae[y]=Ze,ae._top=Ju(ae,_,!0,l.type),ae._bottom=Ju(ae,_,!1,l.type),(ae._visualValues||(ae._visualValues={}))[y]=Ze}}function lp(a,s){const r=a.scales;return Object.keys(r).filter(l=>r[l].axis===s).shift()}function Gh(a,s){const r=a.controller.index,l=a.vScale&&a.vScale.axis;if(l){s=s||a._parsed;for(const u of s){const p=u._stacks;if(!p||void 0===p[l]||void 0===p[l][r])return;delete p[l][r],void 0!==p[l]._visualValues&&void 0!==p[l]._visualValues[r]&&delete p[l]._visualValues[r]}}}const Il=a=>"reset"===a||"none"===a,ov=(a,s)=>s?a:Object.assign({},a);let Hd=(()=>class a{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(r,l){this.chart=r,this._ctx=r.ctx,this.index=l,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const r=this._cachedMeta;this.configure(),this.linkScales(),r._stacked=E_(r.vScale,r),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(r){this.index!==r&&Gh(this._cachedMeta),this.index=r}linkScales(){const r=this.chart,l=this._cachedMeta,u=this.getDataset(),p=(ae,fe,Ae,je)=>"x"===ae?fe:"r"===ae?je:Ae,_=l.xAxisID=oi(u.xAxisID,lp(r,"x")),y=l.yAxisID=oi(u.yAxisID,lp(r,"y")),C=l.rAxisID=oi(u.rAxisID,lp(r,"r")),R=l.indexAxis,U=l.iAxisID=p(R,_,y,C),q=l.vAxisID=p(R,y,_,C);l.xScale=this.getScaleForId(_),l.yScale=this.getScaleForId(y),l.rScale=this.getScaleForId(C),l.iScale=this.getScaleForId(U),l.vScale=this.getScaleForId(q)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(r){return this.chart.scales[r]}_getOtherScale(r){const l=this._cachedMeta;return r===l.iScale?l.vScale:l.iScale}reset(){this._update("reset")}_destroy(){const r=this._cachedMeta;this._data&&Aa(this._data,this),r._stacked&&Gh(r)}_dataCheck(){const r=this.getDataset(),l=r.data||(r.data=[]),u=this._data;if($i(l))this._data=function b_(a){const s=Object.keys(a),r=new Array(s.length);let l,u,p;for(l=0,u=s.length;l<u;++l)p=s[l],r[l]={x:p,y:a[p]};return r}(l);else if(u!==l){if(u){Aa(u,this);const p=this._cachedMeta;Gh(p),p._parsed=[]}l&&Object.isExtensible(l)&&function Ka(a,s){a._chartjs?a._chartjs.listeners.push(s):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),Xf.forEach(r=>{const l="_onData"+qo(r),u=a[r];Object.defineProperty(a,r,{configurable:!0,enumerable:!1,value(...p){const _=u.apply(this,p);return a._chartjs.listeners.forEach(y=>{"function"==typeof y[l]&&y[l](...p)}),_}})}))}(l,this),this._syncList=[],this._data=l}}addElements(){const r=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(r.dataset=new this.datasetElementType)}buildOrUpdateElements(r){const l=this._cachedMeta,u=this.getDataset();let p=!1;this._dataCheck();const _=l._stacked;l._stacked=E_(l.vScale,l),l.stack!==u.stack&&(p=!0,Gh(l),l.stack=u.stack),this._resyncElements(r),(p||_!==l._stacked)&&Du(this,l._parsed)}configure(){const r=this.chart.config,l=r.datasetScopeKeys(this._type),u=r.getOptionScopes(this.getDataset(),l,!0);this.options=r.createResolver(u,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(r,l){const{_cachedMeta:u,_data:p}=this,{iScale:_,_stacked:y}=u,C=_.axis;let q,ae,fe,R=0===r&&l===p.length||u._sorted,U=r>0&&u._parsed[r-1];if(!1===this._parsing)u._parsed=p,u._sorted=!0,fe=p;else{fe=Ds(p[r])?this.parseArrayData(u,p,r,l):$i(p[r])?this.parseObjectData(u,p,r,l):this.parsePrimitiveData(u,p,r,l);const Ae=()=>null===ae[C]||U&&ae[C]<U[C];for(q=0;q<l;++q)u._parsed[q+r]=ae=fe[q],R&&(Ae()&&(R=!1),U=ae);u._sorted=R}y&&Du(this,fe)}parsePrimitiveData(r,l,u,p){const{iScale:_,vScale:y}=r,C=_.axis,R=y.axis,U=_.getLabels(),q=_===y,ae=new Array(p);let fe,Ae,je;for(fe=0,Ae=p;fe<Ae;++fe)je=fe+u,ae[fe]={[C]:q||_.parse(U[je],je),[R]:y.parse(l[je],je)};return ae}parseArrayData(r,l,u,p){const{xScale:_,yScale:y}=r,C=new Array(p);let R,U,q,ae;for(R=0,U=p;R<U;++R)q=R+u,ae=l[q],C[R]={x:_.parse(ae[0],q),y:y.parse(ae[1],q)};return C}parseObjectData(r,l,u,p){const{xScale:_,yScale:y}=r,{xAxisKey:C="x",yAxisKey:R="y"}=this._parsing,U=new Array(p);let q,ae,fe,Ae;for(q=0,ae=p;q<ae;++q)fe=q+u,Ae=l[fe],U[q]={x:_.parse(Ca(Ae,C),fe),y:y.parse(Ca(Ae,R),fe)};return U}getParsed(r){return this._cachedMeta._parsed[r]}getDataElement(r){return this._cachedMeta.data[r]}applyStack(r,l,u){const _=this._cachedMeta,y=l[r.axis];return Rg({keys:Hs(this.chart,!0),values:l._stacks[r.axis]._visualValues},y,_.index,{mode:u})}updateRangeFromParsed(r,l,u,p){const _=u[l.axis];let y=null===_?NaN:_;const C=p&&u._stacks[l.axis];p&&C&&(p.values=C,y=Rg(p,_,this._cachedMeta.index)),r.min=Math.min(r.min,y),r.max=Math.max(r.max,y)}getMinMax(r,l){const u=this._cachedMeta,p=u._parsed,_=u._sorted&&r===u.iScale,y=p.length,C=this._getOtherScale(r),R=((a,s)=>a&&!s.hidden&&s._stacked&&{keys:Hs(this.chart,!0),values:null})(l,u),U={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:q,max:ae}=function xg(a){const{min:s,max:r,minDefined:l,maxDefined:u}=a.getUserBounds();return{min:l?s:Number.NEGATIVE_INFINITY,max:u?r:Number.POSITIVE_INFINITY}}(C);let fe,Ae;function je(){Ae=p[fe];const Ze=Ae[C.axis];return!go(Ae[r.axis])||q>Ze||ae<Ze}for(fe=0;fe<y&&(je()||(this.updateRangeFromParsed(U,r,Ae,R),!_));++fe);if(_)for(fe=y-1;fe>=0;--fe)if(!je()){this.updateRangeFromParsed(U,r,Ae,R);break}return U}getAllParsedValues(r){const l=this._cachedMeta._parsed,u=[];let p,_,y;for(p=0,_=l.length;p<_;++p)y=l[p][r.axis],go(y)&&u.push(y);return u}getMaxOverflow(){return!1}getLabelAndValue(r){const l=this._cachedMeta,u=l.iScale,p=l.vScale,_=this.getParsed(r);return{label:u?""+u.getLabelForValue(_[u.axis]):"",value:p?""+p.getLabelForValue(_[p.axis]):""}}_update(r){const l=this._cachedMeta;this.update(r||"default"),l._clip=function iv(a){let s,r,l,u;return $i(a)?(s=a.top,r=a.right,l=a.bottom,u=a.left):s=r=l=u=a,{top:s,right:r,bottom:l,left:u,disabled:!1===a}}(oi(this.options.clip,function Sg(a,s,r){if(!1===r)return!1;const l=Ag(a,r),u=Ag(s,r);return{top:u.end,right:l.end,bottom:u.start,left:l.start}}(l.xScale,l.yScale,this.getMaxOverflow())))}update(r){}draw(){const r=this._ctx,u=this._cachedMeta,p=u.data||[],_=this.chart.chartArea,y=[],C=this._drawStart||0,R=this._drawCount||p.length-C,U=this.options.drawActiveElementsOnTop;let q;for(u.dataset&&u.dataset.draw(r,_,C,R),q=C;q<C+R;++q){const ae=p[q];ae.hidden||(ae.active&&U?y.push(ae):ae.draw(r,_))}for(q=0;q<y.length;++q)y[q].draw(r,_)}getStyle(r,l){const u=l?"active":"default";return void 0===r&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(u):this.resolveDataElementOptions(r||0,u)}getContext(r,l,u){const p=this.getDataset();let _;if(r>=0&&r<this._cachedMeta.data.length){const y=this._cachedMeta.data[r];_=y.$context||(y.$context=function w_(a,s,r){return Hl(a,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:r,index:s,mode:"default",type:"data"})}(this.getContext(),r,y)),_.parsed=this.getParsed(r),_.raw=p.data[r],_.index=_.dataIndex=r}else _=this.$context||(this.$context=function Pg(a,s){return Hl(a,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),_.dataset=p,_.index=_.datasetIndex=this.index;return _.active=!!l,_.mode=u,_}resolveDatasetElementOptions(r){return this._resolveElementOptions(this.datasetElementType.id,r)}resolveDataElementOptions(r,l){return this._resolveElementOptions(this.dataElementType.id,l,r)}_resolveElementOptions(r,l="default",u){const p="active"===l,_=this._cachedDataOpts,y=r+"-"+l,C=_[y],R=this.enableOptionSharing&&pu(u);if(C)return ov(C,R);const U=this.chart.config,q=U.datasetElementScopeKeys(this._type,r),ae=p?[`${r}Hover`,"hover",r,""]:[r,""],fe=U.getOptionScopes(this.getDataset(),q),Ae=Object.keys(io.elements[r]),Ze=U.resolveNamedOptions(fe,Ae,()=>this.getContext(u,p,l),ae);return Ze.$shared&&(Ze.$shared=R,_[y]=Object.freeze(ov(Ze,R))),Ze}_resolveAnimations(r,l,u){const p=this.chart,_=this._cachedDataOpts,y=`animation-${l}`,C=_[y];if(C)return C;let R;if(!1!==p.options.animation){const q=this.chart.config,ae=q.datasetAnimationScopeKeys(this._type,l),fe=q.getOptionScopes(this.getDataset(),ae);R=q.createResolver(fe,this.getContext(r,u,l))}const U=new y_(p,R&&R.animations);return R&&R._cacheable&&(_[y]=Object.freeze(U)),U}getSharedOptions(r){if(r.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},r))}includeOptions(r,l){return!l||Il(r)||this.chart._animationsDisabled}_getSharedOptions(r,l){const u=this.resolveDataElementOptions(r,l),p=this._sharedOptions,_=this.getSharedOptions(u),y=this.includeOptions(l,_)||_!==p;return this.updateSharedOptions(_,l,u),{sharedOptions:_,includeOptions:y}}updateElement(r,l,u,p){Il(p)?Object.assign(r,u):this._resolveAnimations(l,p).update(r,u)}updateSharedOptions(r,l,u){r&&!Il(l)&&this._resolveAnimations(void 0,l).update(r,u)}_setStyle(r,l,u,p){r.active=p;const _=this.getStyle(l,p);this._resolveAnimations(l,u,p).update(r,{options:!p&&this.getSharedOptions(_)||_})}removeHoverStyle(r,l,u){this._setStyle(r,u,"active",!1)}setHoverStyle(r,l,u){this._setStyle(r,u,"active",!0)}_removeDatasetHoverStyle(){const r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!1)}_setDatasetHoverStyle(){const r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!0)}_resyncElements(r){const l=this._data,u=this._cachedMeta.data;for(const[C,R,U]of this._syncList)this[C](R,U);this._syncList=[];const p=u.length,_=l.length,y=Math.min(_,p);y&&this.parse(0,y),_>p?this._insertElements(p,_-p,r):_<p&&this._removeElements(_,p-_)}_insertElements(r,l,u=!0){const p=this._cachedMeta,_=p.data,y=r+l;let C;const R=U=>{for(U.length+=l,C=U.length-1;C>=y;C--)U[C]=U[C-l]};for(R(_),C=r;C<y;++C)_[C]=new this.dataElementType;this._parsing&&R(p._parsed),this.parse(r,l),u&&this.updateElements(_,r,l,"reset")}updateElements(r,l,u,p){}_removeElements(r,l){const u=this._cachedMeta;if(this._parsing){const p=u._parsed.splice(r,l);u._stacked&&Gh(u,p)}u.data.splice(r,l)}_sync(r){if(this._parsing)this._syncList.push(r);else{const[l,u,p]=r;this[l](u,p)}this.chart._dataChanges.push([this.index,...r])}_onDataPush(){const r=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-r,r])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(r,l){l&&this._sync(["_removeElements",r,l]);const u=arguments.length-2;u&&this._sync(["_insertElements",r,u])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function I_(a){const s=a.iScale,r=function av(a,s){if(!a._cache.$bar){const r=a.getMatchingVisibleMetas(s);let l=[];for(let u=0,p=r.length;u<p;u++)l=l.concat(r[u].controller.getAllParsedValues(a));a._cache.$bar=xd(l.sort((u,p)=>u-p))}return a._cache.$bar}(s,a.type);let u,p,_,y,l=s._length;const C=()=>{32767===_||-32768===_||(pu(y)&&(l=Math.min(l,Math.abs(_-y)||l)),y=_)};for(u=0,p=r.length;u<p;++u)_=s.getPixelForValue(r[u]),C();for(y=void 0,u=0,p=s.ticks.length;u<p;++u)_=s.getPixelForTick(u),C();return l}function ed(a,s,r,l){return Ds(a)?function uv(a,s,r,l){const u=r.parse(a[0],l),p=r.parse(a[1],l),_=Math.min(u,p),y=Math.max(u,p);let C=_,R=y;Math.abs(_)>Math.abs(y)&&(C=y,R=_),s[r.axis]=R,s._custom={barStart:C,barEnd:R,start:u,end:p,min:_,max:y}}(a,s,r,l):s[r.axis]=r.parse(a,l),s}function td(a,s,r,l){const u=a.iScale,p=a.vScale,_=u.getLabels(),y=u===p,C=[];let R,U,q,ae;for(R=r,U=r+l;R<U;++R)ae=s[R],q={},q[u.axis]=y||u.parse(_[R],R),C.push(ed(ae,q,p,R));return C}function Tl(a){return a&&void 0!==a.barStart&&void 0!==a.barEnd}function Au(a,s,r,l){let u=s.borderSkipped;const p={};if(!u)return void(a.borderSkipped=p);if(!0===u)return void(a.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:_,end:y,reverse:C,top:R,bottom:U}=function kg(a){let s,r,l,u,p;return a.horizontal?(s=a.base>a.x,r="left",l="right"):(s=a.base<a.y,r="bottom",l="top"),s?(u="end",p="start"):(u="start",p="end"),{start:r,end:l,reverse:s,top:u,bottom:p}}(a);"middle"===u&&r&&(a.enableBorderRadius=!0,(r._top||0)===l?u=R:(r._bottom||0)===l?u=U:(p[zd(U,_,y,C)]=!0,u=R)),p[zd(u,_,y,C)]=!0,a.borderSkipped=p}function zd(a,s,r,l){return l?(a=function Og(a,s,r){return a===s?r:a===r?s:a}(a,s,r),a=Ng(a,r,s)):a=Ng(a,s,r),a}function Ng(a,s,r){return"start"===a?s:"end"===a?r:a}function dv(a,{inflateAmount:s},r){a.inflateAmount="auto"===s?1===r?.33:0:s}let up=(()=>class a extends Hd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(r,l,u,p){return td(r,l,u,p)}parseArrayData(r,l,u,p){return td(r,l,u,p)}parseObjectData(r,l,u,p){const{iScale:_,vScale:y}=r,{xAxisKey:C="x",yAxisKey:R="y"}=this._parsing,U="x"===_.axis?C:R,q="x"===y.axis?C:R,ae=[];let fe,Ae,je,Ze;for(fe=u,Ae=u+p;fe<Ae;++fe)Ze=l[fe],je={},je[_.axis]=_.parse(Ca(Ze,U),fe),ae.push(ed(Ca(Ze,q),je,y,fe));return ae}updateRangeFromParsed(r,l,u,p){super.updateRangeFromParsed(r,l,u,p);const _=u._custom;_&&l===this._cachedMeta.vScale&&(r.min=Math.min(r.min,_.min),r.max=Math.max(r.max,_.max))}getMaxOverflow(){return 0}getLabelAndValue(r){const l=this._cachedMeta,{iScale:u,vScale:p}=l,_=this.getParsed(r),y=_._custom,C=Tl(y)?"["+y.start+", "+y.end+"]":""+p.getLabelForValue(_[p.axis]);return{label:""+u.getLabelForValue(_[u.axis]),value:C}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(r){const l=this._cachedMeta;this.updateElements(l.data,0,l.data.length,r)}updateElements(r,l,u,p){const _="reset"===p,{index:y,_cachedMeta:{vScale:C}}=this,R=C.getBasePixel(),U=C.isHorizontal(),q=this._getRuler(),{sharedOptions:ae,includeOptions:fe}=this._getSharedOptions(l,p);for(let Ae=l;Ae<l+u;Ae++){const je=this.getParsed(Ae),Ze=_||Ji(je[C.axis])?{base:R,head:R}:this._calculateBarValuePixels(Ae),Yt=this._calculateBarIndexPixels(Ae,q),Wt=(je._stacks||{})[C.axis],_n={horizontal:U,base:Ze.base,enableBorderRadius:!Wt||Tl(je._custom)||y===Wt._top||y===Wt._bottom,x:U?Ze.head:Yt.center,y:U?Yt.center:Ze.head,height:U?Yt.size:Math.abs(Ze.size),width:U?Math.abs(Ze.size):Yt.size};fe&&(_n.options=ae||this.resolveDataElementOptions(Ae,r[Ae].active?"active":p));const vn=_n.options||r[Ae].options;Au(_n,vn,Wt,y),dv(_n,vn,q.ratio),this.updateElement(r[Ae],Ae,_n,p)}}_getStacks(r,l){const{iScale:u}=this._cachedMeta,p=u.getMatchingVisibleMetas(this._type).filter(R=>R.controller.options.grouped),_=u.options.stacked,y=[],C=R=>{const U=R.controller.getParsed(l),q=U&&U[R.vScale.axis];if(Ji(q)||isNaN(q))return!0};for(const R of p)if((void 0===l||!C(R))&&((!1===_||-1===y.indexOf(R.stack)||void 0===_&&void 0===R.stack)&&y.push(R.stack),R.index===r))break;return y.length||y.push(void 0),y}_getStackCount(r){return this._getStacks(void 0,r).length}_getStackIndex(r,l,u){const p=this._getStacks(r,u),_=void 0!==l?p.indexOf(l):-1;return-1===_?p.length-1:_}_getRuler(){const r=this.options,l=this._cachedMeta,u=l.iScale,p=[];let _,y;for(_=0,y=l.data.length;_<y;++_)p.push(u.getPixelForValue(this.getParsed(_)[u.axis],_));const C=r.barThickness;return{min:C||I_(l),pixels:p,start:u._startPixel,end:u._endPixel,stackCount:this._getStackCount(),scale:u,grouped:r.grouped,ratio:C?1:r.categoryPercentage*r.barPercentage}}_calculateBarValuePixels(r){const{_cachedMeta:{vScale:l,_stacked:u,index:p},options:{base:_,minBarLength:y}}=this,C=_||0,R=this.getParsed(r),U=R._custom,q=Tl(U);let je,Ze,ae=R[l.axis],fe=0,Ae=u?this.applyStack(l,R,u):ae;Ae!==ae&&(fe=Ae-ae,Ae=ae),q&&(ae=U.barStart,Ae=U.barEnd-U.barStart,0!==ae&&ia(ae)!==ia(U.barEnd)&&(fe=0),fe+=ae);const Yt=Ji(_)||q?fe:_;let Wt=l.getPixelForValue(Yt);if(je=this.chart.getDataVisibility(r)?l.getPixelForValue(fe+Ae):Wt,Ze=je-Wt,Math.abs(Ze)<y){Ze=function cp(a,s,r){return 0!==a?ia(a):(s.isHorizontal()?1:-1)*(s.min>=r?1:-1)}(Ze,l,C)*y,ae===C&&(Wt-=Ze/2);const _n=l.getPixelForDecimal(0),vn=l.getPixelForDecimal(1),fn=Math.min(_n,vn),Dn=Math.max(_n,vn);Wt=Math.max(Math.min(Wt,Dn),fn),je=Wt+Ze,u&&!q&&(R._stacks[l.axis]._visualValues[p]=l.getValueForPixel(je)-l.getValueForPixel(Wt))}if(Wt===l.getPixelForValue(C)){const _n=ia(Ze)*l.getLineWidthForValue(C)/2;Wt+=_n,Ze-=_n}return{size:Ze,base:Wt,head:je,center:je+Ze/2}}_calculateBarIndexPixels(r,l){const u=l.scale,p=this.options,_=p.skipNull,y=oi(p.maxBarThickness,1/0);let C,R;if(l.grouped){const U=_?this._getStackCount(r):l.stackCount,q="flex"===p.barThickness?function cv(a,s,r,l){const u=s.pixels,p=u[a];let _=a>0?u[a-1]:null,y=a<u.length-1?u[a+1]:null;const C=r.categoryPercentage;null===_&&(_=p-(null===y?s.end-s.start:y-p)),null===y&&(y=p+p-_);const R=p-(p-Math.min(_,y))/2*C;return{chunk:Math.abs(y-_)/2*C/l,ratio:r.barPercentage,start:R}}(r,l,p,U):function lv(a,s,r,l){const u=r.barThickness;let p,_;return Ji(u)?(p=s.min*r.categoryPercentage,_=r.barPercentage):(p=u*l,_=1),{chunk:p/l,ratio:_,start:s.pixels[a]-p/2}}(r,l,p,U),ae=this._getStackIndex(this.index,this._cachedMeta.stack,_?r:void 0);C=q.start+q.chunk*ae+q.chunk/2,R=Math.min(y,q.chunk*q.ratio)}else C=u.getPixelForValue(this.getParsed(r)[u.axis],r),R=Math.min(y,l.min*l.ratio);return{base:C-R/2,head:C+R/2,center:C,size:R}}draw(){const r=this._cachedMeta,l=r.vScale,u=r.data,p=u.length;let _=0;for(;_<p;++_)null!==this.getParsed(_)[l.axis]&&u[_].draw(this._ctx)}})(),hv=(()=>class a extends Hd{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(r,l,u,p){const _=super.parsePrimitiveData(r,l,u,p);for(let y=0;y<_.length;y++)_[y]._custom=this.resolveDataElementOptions(y+u).radius;return _}parseArrayData(r,l,u,p){const _=super.parseArrayData(r,l,u,p);for(let y=0;y<_.length;y++)_[y]._custom=oi(l[u+y][2],this.resolveDataElementOptions(y+u).radius);return _}parseObjectData(r,l,u,p){const _=super.parseObjectData(r,l,u,p);for(let y=0;y<_.length;y++){const C=l[u+y];_[y]._custom=oi(C&&C.r&&+C.r,this.resolveDataElementOptions(y+u).radius)}return _}getMaxOverflow(){const r=this._cachedMeta.data;let l=0;for(let u=r.length-1;u>=0;--u)l=Math.max(l,r[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}getLabelAndValue(r){const l=this._cachedMeta,u=this.chart.data.labels||[],{xScale:p,yScale:_}=l,y=this.getParsed(r),C=p.getLabelForValue(y.x),R=_.getLabelForValue(y.y),U=y._custom;return{label:u[r]||"",value:"("+C+", "+R+(U?", "+U:"")+")"}}update(r){const l=this._cachedMeta.data;this.updateElements(l,0,l.length,r)}updateElements(r,l,u,p){const _="reset"===p,{iScale:y,vScale:C}=this._cachedMeta,{sharedOptions:R,includeOptions:U}=this._getSharedOptions(l,p),q=y.axis,ae=C.axis;for(let fe=l;fe<l+u;fe++){const Ae=r[fe],je=!_&&this.getParsed(fe),Ze={},Yt=Ze[q]=_?y.getPixelForDecimal(.5):y.getPixelForValue(je[q]),Wt=Ze[ae]=_?C.getBasePixel():C.getPixelForValue(je[ae]);Ze.skip=isNaN(Yt)||isNaN(Wt),U&&(Ze.options=R||this.resolveDataElementOptions(fe,Ae.active?"active":p),_&&(Ze.options.radius=0)),this.updateElement(Ae,fe,Ze,p)}}resolveDataElementOptions(r,l){const u=this.getParsed(r);let p=super.resolveDataElementOptions(r,l);p.$shared&&(p=Object.assign({},p,{$shared:!1}));const _=p.radius;return"active"!==l&&(p.radius=0),p.radius+=oi(u&&u._custom,_),p}})(),Wd=(()=>class a extends Hd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:r=>"spacing"!==r,_indexable:r=>"spacing"!==r&&!r.startsWith("borderDash")&&!r.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){const l=r.data;if(l.labels.length&&l.datasets.length){const{labels:{pointStyle:u,color:p}}=r.legend.options;return l.labels.map((_,y)=>{const R=r.getDatasetMeta(0).controller.getStyle(y);return{text:_,fillStyle:R.backgroundColor,strokeStyle:R.borderColor,fontColor:p,lineWidth:R.borderWidth,pointStyle:u,hidden:!r.getDataVisibility(y),index:y}})}return[]}},onClick(r,l,u){u.chart.toggleDataVisibility(l.index),u.chart.update()}}}};constructor(r,l){super(r,l),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(r,l){const u=this.getDataset().data,p=this._cachedMeta;if(!1===this._parsing)p._parsed=u;else{let y,C,_=R=>+u[R];if($i(u[r])){const{key:R="value"}=this._parsing;_=U=>+Ca(u[U],R)}for(y=r,C=r+l;y<C;++y)p._parsed[y]=_(y)}}_getRotation(){return Vl(this.options.rotation-90)}_getCircumference(){return Vl(this.options.circumference)}_getRotationExtents(){let r=ps,l=-ps;for(let u=0;u<this.chart.data.datasets.length;++u)if(this.chart.isDatasetVisible(u)&&this.chart.getDatasetMeta(u).type===this._type){const p=this.chart.getDatasetMeta(u).controller,_=p._getRotation(),y=p._getCircumference();r=Math.min(r,_),l=Math.max(l,_+y)}return{rotation:r,circumference:l-r}}update(r){const l=this.chart,{chartArea:u}=l,p=this._cachedMeta,_=p.data,y=this.getMaxBorderWidth()+this.getMaxOffset(_)+this.options.spacing,C=Math.max((Math.min(u.width,u.height)-y)/2,0),R=Math.min(((a,s)=>"string"==typeof a&&a.endsWith("%")?parseFloat(a)/100:+a/s)(this.options.cutout,C),1),U=this._getRingWeight(this.index),{circumference:q,rotation:ae}=this._getRotationExtents(),{ratioX:fe,ratioY:Ae,offsetX:je,offsetY:Ze}=function Fg(a,s,r){let l=1,u=1,p=0,_=0;if(s<ps){const y=a,C=y+s,R=Math.cos(y),U=Math.sin(y),q=Math.cos(C),ae=Math.sin(C),fe=(_n,vn,fn)=>Oh(_n,y,C,!0)?1:Math.max(vn,vn*r,fn,fn*r),Ae=(_n,vn,fn)=>Oh(_n,y,C,!0)?-1:Math.min(vn,vn*r,fn,fn*r),je=fe(0,R,q),Ze=fe(Ms,U,ae),Yt=Ae(As,R,q),Wt=Ae(As+Ms,U,ae);l=(je-Yt)/2,u=(Ze-Wt)/2,p=-(je+Yt)/2,_=-(Ze+Wt)/2}return{ratioX:l,ratioY:u,offsetX:p,offsetY:_}}(ae,q,R),_n=Math.max(Math.min((u.width-y)/fe,(u.height-y)/Ae)/2,0),vn=Wu(this.options.radius,_n),Dn=(vn-Math.max(vn*R,0))/this._getVisibleDatasetWeightTotal();this.offsetX=je*vn,this.offsetY=Ze*vn,p.total=this.calculateTotal(),this.outerRadius=vn-Dn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Dn*U,0),this.updateElements(_,0,_.length,r)}_circumference(r,l){const u=this.options,p=this._cachedMeta,_=this._getCircumference();return l&&u.animation.animateRotate||!this.chart.getDataVisibility(r)||null===p._parsed[r]||p.data[r].hidden?0:this.calculateCircumference(p._parsed[r]*_/ps)}updateElements(r,l,u,p){const _="reset"===p,y=this.chart,C=y.chartArea,q=(C.left+C.right)/2,ae=(C.top+C.bottom)/2,fe=_&&y.options.animation.animateScale,Ae=fe?0:this.innerRadius,je=fe?0:this.outerRadius,{sharedOptions:Ze,includeOptions:Yt}=this._getSharedOptions(l,p);let _n,Wt=this._getRotation();for(_n=0;_n<l;++_n)Wt+=this._circumference(_n,_);for(_n=l;_n<l+u;++_n){const vn=this._circumference(_n,_),fn=r[_n],Dn={x:q+this.offsetX,y:ae+this.offsetY,startAngle:Wt,endAngle:Wt+vn,circumference:vn,outerRadius:je,innerRadius:Ae};Yt&&(Dn.options=Ze||this.resolveDataElementOptions(_n,fn.active?"active":p)),Wt+=vn,this.updateElement(fn,_n,Dn,p)}}calculateTotal(){const r=this._cachedMeta,l=r.data;let p,u=0;for(p=0;p<l.length;p++){const _=r._parsed[p];null!==_&&!isNaN(_)&&this.chart.getDataVisibility(p)&&!l[p].hidden&&(u+=Math.abs(_))}return u}calculateCircumference(r){const l=this._cachedMeta.total;return l>0&&!isNaN(r)?ps*(Math.abs(r)/l):0}getLabelAndValue(r){const u=this.chart,p=u.data.labels||[],_=Bc(this._cachedMeta._parsed[r],u.options.locale);return{label:p[r]||"",value:_}}getMaxBorderWidth(r){let l=0;const u=this.chart;let p,_,y,C,R;if(!r)for(p=0,_=u.data.datasets.length;p<_;++p)if(u.isDatasetVisible(p)){y=u.getDatasetMeta(p),r=y.data,C=y.controller;break}if(!r)return 0;for(p=0,_=r.length;p<_;++p)R=C.resolveDataElementOptions(p),"inner"!==R.borderAlign&&(l=Math.max(l,R.borderWidth||0,R.hoverBorderWidth||0));return l}getMaxOffset(r){let l=0;for(let u=0,p=r.length;u<p;++u){const _=this.resolveDataElementOptions(u);l=Math.max(l,_.offset||0,_.hoverOffset||0)}return l}_getRingWeightOffset(r){let l=0;for(let u=0;u<r;++u)this.chart.isDatasetVisible(u)&&(l+=this._getRingWeight(u));return l}_getRingWeight(r){return Math.max(oi(this.chart.data.datasets[r].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),Gd=(()=>class a extends Hd{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(r){const l=this._cachedMeta,{dataset:u,data:p=[],_dataset:_}=l,y=this.chart._animationsDisabled;let{start:C,count:R}=Qo(l,p,y);this._drawStart=C,this._drawCount=R,qa(l)&&(C=0,R=p.length),u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!_._decimated,u.points=p;const U=this.resolveDatasetElementOptions(r);this.options.showLine||(U.borderWidth=0),U.segment=this.options.segment,this.updateElement(u,void 0,{animated:!y,options:U},r),this.updateElements(p,C,R,r)}updateElements(r,l,u,p){const _="reset"===p,{iScale:y,vScale:C,_stacked:R,_dataset:U}=this._cachedMeta,{sharedOptions:q,includeOptions:ae}=this._getSharedOptions(l,p),fe=y.axis,Ae=C.axis,{spanGaps:je,segment:Ze}=this.options,Yt=lc(je)?je:Number.POSITIVE_INFINITY,Wt=this.chart._animationsDisabled||_||"none"===p,_n=l+u,vn=r.length;let fn=l>0&&this.getParsed(l-1);for(let Dn=0;Dn<vn;++Dn){const Xn=r[Dn],Vn=Wt?Xn:{};if(Dn<l||Dn>=_n){Vn.skip=!0;continue}const wr=this.getParsed(Dn),gi=Ji(wr[Ae]),Mi=Vn[fe]=y.getPixelForValue(wr[fe],Dn),ki=Vn[Ae]=_||gi?C.getBasePixel():C.getPixelForValue(R?this.applyStack(C,wr,R):wr[Ae],Dn);Vn.skip=isNaN(Mi)||isNaN(ki)||gi,Vn.stop=Dn>0&&Math.abs(wr[fe]-fn[fe])>Yt,Ze&&(Vn.parsed=wr,Vn.raw=U.data[Dn]),ae&&(Vn.options=q||this.resolveDataElementOptions(Dn,Xn.active?"active":p)),Wt||this.updateElement(Xn,Dn,Vn,p),fn=wr}}getMaxOverflow(){const r=this._cachedMeta,l=r.dataset,u=l.options&&l.options.borderWidth||0,p=r.data||[];if(!p.length)return u;const _=p[0].size(this.resolveDataElementOptions(0)),y=p[p.length-1].size(this.resolveDataElementOptions(p.length-1));return Math.max(u,_,y)/2}draw(){const r=this._cachedMeta;r.dataset.updateControlPoints(this.chart.chartArea,r.iScale.axis),super.draw()}})(),nd=(()=>class a extends Hd{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(r){const l=r.data;if(l.labels.length&&l.datasets.length){const{labels:{pointStyle:u,color:p}}=r.legend.options;return l.labels.map((_,y)=>{const R=r.getDatasetMeta(0).controller.getStyle(y);return{text:_,fillStyle:R.backgroundColor,strokeStyle:R.borderColor,fontColor:p,lineWidth:R.borderWidth,pointStyle:u,hidden:!r.getDataVisibility(y),index:y}})}return[]}},onClick(r,l,u){u.chart.toggleDataVisibility(l.index),u.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(r,l){super(r,l),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(r){const u=this.chart,p=u.data.labels||[],_=Bc(this._cachedMeta._parsed[r].r,u.options.locale);return{label:p[r]||"",value:_}}parseObjectData(r,l,u,p){return dc.bind(this)(r,l,u,p)}update(r){const l=this._cachedMeta.data;this._updateRadius(),this.updateElements(l,0,l.length,r)}getMinMax(){const l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((u,p)=>{const _=this.getParsed(p).r;!isNaN(_)&&this.chart.getDataVisibility(p)&&(_<l.min&&(l.min=_),_>l.max&&(l.max=_))}),l}_updateRadius(){const r=this.chart,l=r.chartArea,u=r.options,p=Math.min(l.right-l.left,l.bottom-l.top),_=Math.max(p/2,0),C=(_-Math.max(u.cutoutPercentage?_/100*u.cutoutPercentage:1,0))/r.getVisibleDatasetCount();this.outerRadius=_-C*this.index,this.innerRadius=this.outerRadius-C}updateElements(r,l,u,p){const _="reset"===p,y=this.chart,R=y.options.animation,U=this._cachedMeta.rScale,q=U.xCenter,ae=U.yCenter,fe=U.getIndexAngle(0)-.5*As;let je,Ae=fe;const Ze=360/this.countVisibleElements();for(je=0;je<l;++je)Ae+=this._computeAngle(je,p,Ze);for(je=l;je<l+u;je++){const Yt=r[je];let Wt=Ae,_n=Ae+this._computeAngle(je,p,Ze),vn=y.getDataVisibility(je)?U.getDistanceFromCenterForValue(this.getParsed(je).r):0;Ae=_n,_&&(R.animateScale&&(vn=0),R.animateRotate&&(Wt=_n=fe));const fn={x:q,y:ae,innerRadius:0,outerRadius:vn,startAngle:Wt,endAngle:_n,options:this.resolveDataElementOptions(je,Yt.active?"active":p)};this.updateElement(Yt,je,fn,p)}}countVisibleElements(){let l=0;return this._cachedMeta.data.forEach((u,p)=>{!isNaN(this.getParsed(p).r)&&this.chart.getDataVisibility(p)&&l++}),l}_computeAngle(r,l,u){return this.chart.getDataVisibility(r)?Vl(this.resolveDataElementOptions(r,l).angle||u):0}})();var Fa=Object.freeze({__proto__:null,BarController:up,BubbleController:hv,DoughnutController:Wd,LineController:Gd,PieController:(()=>class a extends Wd{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:nd,RadarController:(()=>class a extends Hd{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(r){const l=this._cachedMeta.vScale,u=this.getParsed(r);return{label:l.getLabels()[r],value:""+l.getLabelForValue(u[l.axis])}}parseObjectData(r,l,u,p){return dc.bind(this)(r,l,u,p)}update(r){const l=this._cachedMeta,u=l.dataset,p=l.data||[],_=l.iScale.getLabels();if(u.points=p,"resize"!==r){const y=this.resolveDatasetElementOptions(r);this.options.showLine||(y.borderWidth=0),this.updateElement(u,void 0,{_loop:!0,_fullLoop:_.length===p.length,options:y},r)}this.updateElements(p,0,p.length,r)}updateElements(r,l,u,p){const _=this._cachedMeta.rScale,y="reset"===p;for(let C=l;C<l+u;C++){const R=r[C],U=this.resolveDataElementOptions(C,R.active?"active":p),q=_.getPointPositionForValue(C,this.getParsed(C).r),ae=y?_.xCenter:q.x,fe=y?_.yCenter:q.y,Ae={x:ae,y:fe,angle:q.angle,skip:isNaN(ae)||isNaN(fe),options:U};this.updateElement(R,C,Ae,p)}}})(),ScatterController:(()=>class a extends Hd{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(r){const l=this._cachedMeta,u=this.chart.data.labels||[],{xScale:p,yScale:_}=l,y=this.getParsed(r),C=p.getLabelForValue(y.x),R=_.getLabelForValue(y.y);return{label:u[r]||"",value:"("+C+", "+R+")"}}update(r){const l=this._cachedMeta,{data:u=[]}=l,p=this.chart._animationsDisabled;let{start:_,count:y}=Qo(l,u,p);if(this._drawStart=_,this._drawCount=y,qa(l)&&(_=0,y=u.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:C,_dataset:R}=l;C._chart=this.chart,C._datasetIndex=this.index,C._decimated=!!R._decimated,C.points=u;const U=this.resolveDatasetElementOptions(r);U.segment=this.options.segment,this.updateElement(C,void 0,{animated:!p,options:U},r)}else this.datasetElementType&&(delete l.dataset,this.datasetElementType=!1);this.updateElements(u,_,y,r)}addElements(){const{showLine:r}=this.options;!this.datasetElementType&&r&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(r,l,u,p){const _="reset"===p,{iScale:y,vScale:C,_stacked:R,_dataset:U}=this._cachedMeta,q=this.resolveDataElementOptions(l,p),ae=this.getSharedOptions(q),fe=this.includeOptions(p,ae),Ae=y.axis,je=C.axis,{spanGaps:Ze,segment:Yt}=this.options,Wt=lc(Ze)?Ze:Number.POSITIVE_INFINITY,_n=this.chart._animationsDisabled||_||"none"===p;let vn=l>0&&this.getParsed(l-1);for(let fn=l;fn<l+u;++fn){const Dn=r[fn],Xn=this.getParsed(fn),Vn=_n?Dn:{},wr=Ji(Xn[je]),gi=Vn[Ae]=y.getPixelForValue(Xn[Ae],fn),Mi=Vn[je]=_||wr?C.getBasePixel():C.getPixelForValue(R?this.applyStack(C,Xn,R):Xn[je],fn);Vn.skip=isNaN(gi)||isNaN(Mi)||wr,Vn.stop=fn>0&&Math.abs(Xn[Ae]-vn[Ae])>Wt,Yt&&(Vn.parsed=Xn,Vn.raw=U.data[fn]),fe&&(Vn.options=ae||this.resolveDataElementOptions(fn,Dn.active?"active":p)),_n||this.updateElement(Dn,fn,Vn,p),vn=Xn}this.updateSharedOptions(ae,p,q)}getMaxOverflow(){const r=this._cachedMeta,l=r.data||[];if(!this.options.showLine){let C=0;for(let R=l.length-1;R>=0;--R)C=Math.max(C,l[R].size(this.resolveDataElementOptions(R))/2);return C>0&&C}const u=r.dataset,p=u.options&&u.options.borderWidth||0;if(!l.length)return p;const _=l[0].size(this.resolveDataElementOptions(0)),y=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(p,_,y)/2}})()});function Kd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lg{static override(s){Object.assign(Lg.prototype,s)}options;constructor(s){this.options=s||{}}init(){}formats(){return Kd()}parse(){return Kd()}format(){return Kd()}add(){return Kd()}diff(){return Kd()}startOf(){return Kd()}endOf(){return Kd()}}var dp__date=Lg;function qd(a,s,r,l){const{controller:u,data:p,_sorted:_}=a,y=u._cachedMeta.iScale;if(y&&s===y.axis&&"r"!==s&&_&&p.length){const C=y._reversePixels?Ga:fa;if(!l)return C(p,s,r);if(u._sharedOptions){const R=p[0],U="function"==typeof R.getRange&&R.getRange(s);if(U){const q=C(p,s,r-U),ae=C(p,s,r+U);return{lo:q.lo,hi:ae.hi}}}}return{lo:0,hi:p.length-1}}function Qd(a,s,r,l,u){const p=a.getSortedVisibleDatasetMetas(),_=r[s];for(let y=0,C=p.length;y<C;++y){const{index:R,data:U}=p[y],{lo:q,hi:ae}=qd(p[y],s,_,u);for(let fe=q;fe<=ae;++fe){const Ae=U[fe];Ae.skip||l(Ae,R,fe)}}}function xa(a,s,r,l,u){const p=[];return!u&&!a.isPointInArea(s)||Qd(a,r,s,function(y,C,R){!u&&!ga(y,a.chartArea,0)||y.inRange(s.x,s.y,l)&&p.push({element:y,datasetIndex:C,index:R})},!0),p}function hp(a,s,r,l,u,p){return p||a.isPointInArea(s)?"r"!==r||l?function pv(a,s,r,l,u,p){let _=[];const y=function fv(a){const s=-1!==a.indexOf("x"),r=-1!==a.indexOf("y");return function(l,u){const p=s?Math.abs(l.x-u.x):0,_=r?Math.abs(l.y-u.y):0;return Math.sqrt(Math.pow(p,2)+Math.pow(_,2))}}(r);let C=Number.POSITIVE_INFINITY;return Qd(a,r,s,function R(U,q,ae){const fe=U.inRange(s.x,s.y,u);if(l&&!fe)return;const Ae=U.getCenterPoint(u);if(!p&&!a.isPointInArea(Ae)&&!fe)return;const Ze=y(s,Ae);Ze<C?(_=[{element:U,datasetIndex:q,index:ae}],C=Ze):Ze===C&&_.push({element:U,datasetIndex:q,index:ae})}),_}(a,s,r,l,u,p):function D_(a,s,r,l){let u=[];return Qd(a,r,s,function p(_,y,C){const{startAngle:R,endAngle:U}=_.getProps(["startAngle","endAngle"],l),{angle:q}=Qf(_,{x:s.x,y:s.y});Oh(q,R,U)&&u.push({element:_,datasetIndex:y,index:C})}),u}(a,s,r,u):[]}function Za(a,s,r,l,u){const p=[],_="x"===r?"inXRange":"inYRange";let y=!1;return Qd(a,r,s,(C,R,U)=>{C[_](s[r],u)&&(p.push({element:C,datasetIndex:R,index:U}),y=y||C.inRange(s.x,s.y,u))}),l&&!y?[]:p}var fp={evaluateInteractionItems:Qd,modes:{index(a,s,r,l){const u=k(s,a),p=r.axis||"x",_=r.includeInvisible||!1,y=r.intersect?xa(a,u,p,l,_):hp(a,u,p,!1,l,_),C=[];return y.length?(a.getSortedVisibleDatasetMetas().forEach(R=>{const U=y[0].index,q=R.data[U];q&&!q.skip&&C.push({element:q,datasetIndex:R.index,index:U})}),C):[]},dataset(a,s,r,l){const u=k(s,a),p=r.axis||"xy",_=r.includeInvisible||!1;let y=r.intersect?xa(a,u,p,l,_):hp(a,u,p,!1,l,_);if(y.length>0){const C=y[0].datasetIndex,R=a.getDatasetMeta(C).data;y=[];for(let U=0;U<R.length;++U)y.push({element:R[U],datasetIndex:C,index:U})}return y},point:(a,s,r,l)=>xa(a,k(s,a),r.axis||"xy",l,r.includeInvisible||!1),nearest:(a,s,r,l)=>hp(a,k(s,a),r.axis||"xy",r.intersect,l,r.includeInvisible||!1),x:(a,s,r,l)=>Za(a,k(s,a),"x",r.intersect,l),y:(a,s,r,l)=>Za(a,k(s,a),"y",r.intersect,l)}};const Kc=["left","top","right","bottom"];function Kh(a,s){return a.filter(r=>r.pos===s)}function qh(a,s){return a.filter(r=>-1===Kc.indexOf(r.pos)&&r.box.axis===s)}function rd(a,s){return a.sort((r,l)=>{const u=s?l:r,p=s?r:l;return u.weight===p.weight?u.index-p.index:u.weight-p.weight})}function Ug(a,s,r,l){return Math.max(a[r],s[r])+Math.max(a[l],s[l])}function A_(a,s){a.top=Math.max(a.top,s.top),a.left=Math.max(a.left,s.left),a.bottom=Math.max(a.bottom,s.bottom),a.right=Math.max(a.right,s.right)}function S_(a,s,r,l){const{pos:u,box:p}=r,_=a.maxPadding;if(!$i(u)){r.size&&(a[u]-=r.size);const q=l[r.stack]||{size:0,count:1};q.size=Math.max(q.size,r.horizontal?p.height:p.width),r.size=q.size/q.count,a[u]+=r.size}p.getPadding&&A_(_,p.getPadding());const y=Math.max(0,s.outerWidth-Ug(_,a,"left","right")),C=Math.max(0,s.outerHeight-Ug(_,a,"top","bottom")),R=y!==a.w,U=C!==a.h;return a.w=y,a.h=C,r.horizontal?{same:R,other:U}:{same:U,other:R}}function Su(a,s){const r=s.maxPadding;return function l(u){const p={left:0,top:0,right:0,bottom:0};return u.forEach(_=>{p[_]=Math.max(s[_],r[_])}),p}(a?["left","right"]:["top","bottom"])}function Yd(a,s,r,l){const u=[];let p,_,y,C,R,U;for(p=0,_=a.length,R=0;p<_;++p){y=a[p],C=y.box,C.update(y.width||s.w,y.height||s.h,Su(y.horizontal,s));const{same:q,other:ae}=S_(s,r,y,l);R|=q&&u.length,U=U||ae,C.fullSize||u.push(y)}return R&&Yd(u,s,r,l)||U}function pp(a,s,r,l,u){a.top=r,a.left=s,a.right=s+l,a.bottom=r+u,a.width=l,a.height=u}function Zd(a,s,r,l){const u=r.padding;let{x:p,y:_}=s;for(const y of a){const C=y.box,R=l[y.stack]||{count:1,placed:0,weight:1},U=y.stackWeight/R.weight||1;if(y.horizontal){const q=s.w*U,ae=R.size||C.height;pu(R.start)&&(_=R.start),C.fullSize?pp(C,u.left,_,r.outerWidth-u.right-u.left,ae):pp(C,s.left+R.placed,_,q,ae),R.start=_,R.placed+=q,_=C.bottom}else{const q=s.h*U,ae=R.size||C.width;pu(R.start)&&(p=R.start),C.fullSize?pp(C,p,u.top,ae,r.outerHeight-u.bottom-u.top):pp(C,p,s.top+R.placed,ae,q),R.start=p,R.placed+=q,p=C.right}}s.x=p,s.y=_}var Pa={addBox(a,s){a.boxes||(a.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(r){s.draw(r)}}]},a.boxes.push(s)},removeBox(a,s){const r=a.boxes?a.boxes.indexOf(s):-1;-1!==r&&a.boxes.splice(r,1)},configure(a,s,r){s.fullSize=r.fullSize,s.position=r.position,s.weight=r.weight},update(a,s,r,l){if(!a)return;const u=Xo(a.options.layout.padding),p=Math.max(s-u.width,0),_=Math.max(r-u.height,0),y=function Xd(a){const s=function Qh(a){const s=[];let r,l,u,p,_,y;for(r=0,l=(a||[]).length;r<l;++r)u=a[r],({position:p,options:{stack:_,stackWeight:y=1}}=u),s.push({index:r,box:u,pos:p,horizontal:u.isHorizontal(),weight:u.weight,stack:_&&p+_,stackWeight:y});return s}(a),r=rd(s.filter(R=>R.box.fullSize),!0),l=rd(Kh(s,"left"),!0),u=rd(Kh(s,"right")),p=rd(Kh(s,"top"),!0),_=rd(Kh(s,"bottom")),y=qh(s,"x"),C=qh(s,"y");return{fullSize:r,leftAndTop:l.concat(p),rightAndBottom:u.concat(C).concat(_).concat(y),chartArea:Kh(s,"chartArea"),vertical:l.concat(u).concat(C),horizontal:p.concat(_).concat(y)}}(a.boxes),C=y.vertical,R=y.horizontal;Fr(a.boxes,je=>{"function"==typeof je.beforeLayout&&je.beforeLayout()});const U=C.reduce((je,Ze)=>Ze.box.options&&!1===Ze.box.options.display?je:je+1,0)||1,q=Object.freeze({outerWidth:s,outerHeight:r,padding:u,availableWidth:p,availableHeight:_,vBoxMaxWidth:p/2/U,hBoxMaxHeight:_/2}),ae=Object.assign({},u);A_(ae,Xo(l));const fe=Object.assign({maxPadding:ae,w:p,h:_,x:u.left,y:u.top},u),Ae=function Bg(a,s){const r=function Vg(a){const s={};for(const r of a){const{stack:l,pos:u,stackWeight:p}=r;if(!l||!Kc.includes(u))continue;const _=s[l]||(s[l]={count:0,placed:0,weight:0,size:0});_.count++,_.weight+=p}return s}(a),{vBoxMaxWidth:l,hBoxMaxHeight:u}=s;let p,_,y;for(p=0,_=a.length;p<_;++p){y=a[p];const{fullSize:C}=y.box,R=r[y.stack],U=R&&y.stackWeight/R.weight;y.horizontal?(y.width=U?U*l:C&&s.availableWidth,y.height=u):(y.width=l,y.height=U?U*u:C&&s.availableHeight)}return r}(C.concat(R),q);Yd(y.fullSize,fe,q,Ae),Yd(C,fe,q,Ae),Yd(R,fe,q,Ae)&&Yd(C,fe,q,Ae),function R_(a){const s=a.maxPadding;function r(l){const u=Math.max(s[l]-a[l],0);return a[l]+=u,u}a.y+=r("top"),a.x+=r("left"),r("right"),r("bottom")}(fe),Zd(y.leftAndTop,fe,q,Ae),fe.x+=fe.w,fe.y+=fe.h,Zd(y.rightAndBottom,fe,q,Ae),a.chartArea={left:fe.left,top:fe.top,right:fe.left+fe.w,bottom:fe.top+fe.h,height:fe.h,width:fe.w},Fr(y.chartArea,je=>{const Ze=je.box;Object.assign(Ze,a.chartArea),Ze.update(fe.w,fe.h,{left:0,top:0,right:0,bottom:0})})}};class gp{acquireContext(s,r){}releaseContext(s){return!1}addEventListener(s,r,l){}removeEventListener(s,r,l){}getDevicePixelRatio(){return 1}getMaximumSize(s,r,l,u){return r=Math.max(0,r||s.width),l=l||s.height,{width:r,height:Math.max(0,u?Math.floor(r/u):l)}}isAttached(s){return!0}updateConfig(s){}}class gv extends gp{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}}const Jd="$chartjs",tE={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jg=a=>null===a||""===a,Hg=!!ln&&{passive:!0};function eh(a,s,r){a.canvas.removeEventListener(s,r,Hg)}function zg(a,s){for(const r of a)if(r===s||r.contains(s))return!0}function nE(a,s,r){const l=a.canvas,u=new MutationObserver(p=>{let _=!1;for(const y of p)_=_||zg(y.addedNodes,l),_=_&&!zg(y.removedNodes,l);_&&r()});return u.observe(document,{childList:!0,subtree:!0}),u}function P_(a,s,r){const l=a.canvas,u=new MutationObserver(p=>{let _=!1;for(const y of p)_=_||zg(y.removedNodes,l),_=_&&!zg(y.addedNodes,l);_&&r()});return u.observe(document,{childList:!0,subtree:!0}),u}const id=new Map;let _v=0;function Cl(){const a=window.devicePixelRatio;a!==_v&&(_v=a,id.forEach((s,r)=>{r.currentDevicePixelRatio!==a&&s()}))}function k_(a,s,r){const l=a.canvas,u=l&&rp(l);if(!u)return;const p=Jf((y,C)=>{const R=u.clientWidth;r(y,C),R<u.clientWidth&&r()},window),_=new ResizeObserver(y=>{const C=y[0],R=C.contentRect.width,U=C.contentRect.height;0===R&&0===U||p(R,U)});return _.observe(u),function sd(a,s){id.size||window.addEventListener("resize",Cl),id.set(a,s)}(a,p),_}function mp(a,s,r){r&&r.disconnect(),"resize"===s&&function M_(a){id.delete(a),id.size||window.removeEventListener("resize",Cl)}(a)}function Aw(a,s,r){const l=a.canvas,u=Jf(p=>{null!==a.ctx&&r(function x_(a,s){const r=tE[a.type]||a.type,{x:l,y:u}=k(a,s);return{type:r,chart:s,native:a,x:void 0!==l?l:null,y:void 0!==u?u:null}}(p,a))},a);return function mv(a,s,r){a.addEventListener(s,r,Hg)}(l,s,u),u}class O_ extends gp{acquireContext(s,r){const l=s&&s.getContext&&s.getContext("2d");return l&&l.canvas===s?(function $g(a,s){const r=a.style,l=a.getAttribute("height"),u=a.getAttribute("width");if(a[Jd]={initial:{height:l,width:u,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",jg(u)){const p=$n(a,"width");void 0!==p&&(a.width=p)}if(jg(l))if(""===a.style.height)a.height=a.width/(s||2);else{const p=$n(a,"height");void 0!==p&&(a.height=p)}}(s,r),l):null}releaseContext(s){const r=s.canvas;if(!r[Jd])return!1;const l=r[Jd].initial;["height","width"].forEach(p=>{const _=l[p];Ji(_)?r.removeAttribute(p):r.setAttribute(p,_)});const u=l.style||{};return Object.keys(u).forEach(p=>{r.style[p]=u[p]}),r.width=r.width,delete r[Jd],!0}addEventListener(s,r,l){this.removeEventListener(s,r),(s.$proxies||(s.$proxies={}))[r]=({attach:nE,detach:P_,resize:k_}[r]||Aw)(s,r,l)}removeEventListener(s,r){const l=s.$proxies||(s.$proxies={}),u=l[r];u&&(({attach:mp,detach:mp,resize:mp}[r]||eh)(s,r,u),l[r]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,r,l,u){return function nt(a,s,r,l){const u=Yu(a),p=x(u,"margin"),_=Iu(u.maxWidth,a,"clientWidth")||ac,y=Iu(u.maxHeight,a,"clientHeight")||ac,C=function Y(a,s,r){let l,u;if(void 0===s||void 0===r){const p=rp(a);if(p){const _=p.getBoundingClientRect(),y=Yu(p),C=x(y,"border","width"),R=x(y,"padding");s=_.width-R.width-C.width,r=_.height-R.height-C.height,l=Iu(y.maxWidth,p,"clientWidth"),u=Iu(y.maxHeight,p,"clientHeight")}else s=a.clientWidth,r=a.clientHeight}return{width:s,height:r,maxWidth:l||ac,maxHeight:u||ac}}(a,s,r);let{width:R,height:U}=C;if("content-box"===u.boxSizing){const ae=x(u,"border","width"),fe=x(u,"padding");R-=fe.width+ae.width,U-=fe.height+ae.height}return R=Math.max(0,R-p.width),U=Math.max(0,l?R/l:U-p.height),R=he(Math.min(R,_,C.maxWidth)),U=he(Math.min(U,y,C.maxHeight)),R&&!U&&(U=he(R/2)),(void 0!==s||void 0!==r)&&l&&C.height&&U>C.height&&(U=C.height,R=he(Math.floor(U*l))),{width:R,height:U}}(s,r,l,u)}isAttached(s){const r=rp(s);return!(!r||!r.isConnected)}}class mc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(s){const{x:r,y:l}=this.getProps(["x","y"],s);return{x:r,y:l}}hasValue(){return lc(this.x)&&lc(this.y)}getProps(s,r){const l=this.$animations;if(!r||!l)return this;const u={};return s.forEach(p=>{u[p]=l[p]&&l[p].active()?l[p]._to:this[p]}),u}}function _c(a,s,r,l,u){const p=oi(l,0),_=Math.min(oi(u,a.length),a.length);let C,R,U,y=0;for(r=Math.ceil(r),u&&(C=u-l,r=C/Math.floor(C/r)),U=p;U<0;)y++,U=Math.round(p+y*r);for(R=Math.max(p,0);R<_;R++)R===U&&(s.push(a[R]),y++,U=Math.round(p+y*r))}const ad=(a,s,r)=>"top"===s||"left"===s?a[s]+r:a[s]-r,_p=(a,s)=>Math.min(s||a,a);function Gg(a,s){const r=[],l=a.length/s,u=a.length;let p=0;for(;p<u;p+=l)r.push(a[Math.floor(p)]);return r}function Yh(a,s,r){const l=a.ticks.length,u=Math.min(s,l-1),p=a._startPixel,_=a._endPixel,y=1e-6;let R,C=a.getPixelForTick(u);if(!(r&&(R=1===l?Math.max(C-p,_-C):0===s?(a.getPixelForTick(1)-C)/2:(C-a.getPixelForTick(u-1))/2,C+=u<s?R:-R,C<p-y||C>_+y)))return C}function cl(a){return a.drawTicks?a.tickLength:0}function Jh(a,s){if(!a.display)return 0;const r=wo(a.font,s),l=Xo(a.padding);return(Ds(a.text)?a.text.length:1)*r.lineHeight+l.height}function L_(a,s,r){let l=Pd(a);return(r&&"right"!==s||!r&&"right"===s)&&(l=(a=>"left"===a?"right":"right"===a?"left":a)(l)),l}class ql extends mc{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,r){return s}getUserBounds(){let{_userMin:s,_userMax:r,_suggestedMin:l,_suggestedMax:u}=this;return s=Vi(s,Number.POSITIVE_INFINITY),r=Vi(r,Number.NEGATIVE_INFINITY),l=Vi(l,Number.POSITIVE_INFINITY),u=Vi(u,Number.NEGATIVE_INFINITY),{min:Vi(s,l),max:Vi(r,u),minDefined:go(s),maxDefined:go(r)}}getMinMax(s){let _,{min:r,max:l,minDefined:u,maxDefined:p}=this.getUserBounds();if(u&&p)return{min:r,max:l};const y=this.getMatchingVisibleMetas();for(let C=0,R=y.length;C<R;++C)_=y[C].controller.getMinMax(this,s),u||(r=Math.min(r,_.min)),p||(l=Math.max(l,_.max));return r=p&&r>l?l:r,l=u&&r>l?r:l,{min:Vi(r,Vi(l,r)),max:Vi(l,Vi(r,l))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}getLabelItems(s=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(s))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){$s(this.options.beforeUpdate,[this])}update(s,r,l){const{beginAtZero:u,grace:p,ticks:_}=this.options,y=_.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=r,this._margins=l=Object.assign({left:0,right:0,top:0,bottom:0},l),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+l.left+l.right:this.height+l.top+l.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Hc(a,s,r){const{min:l,max:u}=a,p=Wu(s,(u-l)/2),_=(y,C)=>r&&0===y?0:y+C;return{min:_(l,-Math.abs(p)),max:_(u,p)}}(this,p,u),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const C=y<this.ticks.length;this._convertTicksToLabels(C?Gg(this.ticks,y):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),_.display&&(_.autoSkip||"auto"===_.source)&&(this.ticks=function N_(a,s){const r=a.options.ticks,l=function vv(a){const s=a.options.offset,r=a._tickSize();return Math.floor(Math.min(a._length/r+(s?0:1),a._maxLength/r))}(a),u=Math.min(r.maxTicksLimit||l,l),p=r.major.enabled?function ll(a){const s=[];let r,l;for(r=0,l=a.length;r<l;r++)a[r].major&&s.push(r);return s}(s):[],_=p.length,y=p[0],C=p[_-1],R=[];if(_>u)return function F_(a,s,r,l){let _,u=0,p=r[0];for(l=Math.ceil(l),_=0;_<a.length;_++)_===p&&(s.push(a[_]),u++,p=r[u*l])}(s,R,p,_/u),R;const U=function Xh(a,s,r){const l=function od(a){const s=a.length;let r,l;if(s<2)return!1;for(l=a[0],r=1;r<s;++r)if(a[r]-a[r-1]!==l)return!1;return l}(a),u=s.length/r;if(!l)return Math.max(u,1);const p=function ei(a){const s=[],r=Math.sqrt(a);let l;for(l=1;l<r;l++)a%l==0&&(s.push(l),s.push(a/l));return r===(0|r)&&s.push(r),s.sort((u,p)=>u-p).pop(),s}(l);for(let _=0,y=p.length-1;_<y;_++){const C=p[_];if(C>u)return C}return Math.max(u,1)}(p,s,u);if(_>0){let q,ae;const fe=_>1?Math.round((C-y)/(_-1)):null;for(_c(s,R,U,Ji(fe)?0:y-fe,y),q=0,ae=_-1;q<ae;q++)_c(s,R,U,p[q],p[q+1]);return _c(s,R,U,C,Ji(fe)?s.length:C+fe),R}return _c(s,R,U),R}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),C&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let r,l,s=this.options.reverse;this.isHorizontal()?(r=this.left,l=this.right):(r=this.top,l=this.bottom,s=!s),this._startPixel=r,this._endPixel=l,this._reversePixels=s,this._length=l-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){$s(this.options.afterUpdate,[this])}beforeSetDimensions(){$s(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){$s(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),$s(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){$s(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){const r=this.options.ticks;let l,u,p;for(l=0,u=s.length;l<u;l++)p=s[l],p.label=$s(r.callback,[p.value,l,s],this)}afterTickToLabelConversion(){$s(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){$s(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const s=this.options,r=s.ticks,l=_p(this.ticks.length,s.ticks.maxTicksLimit),u=r.minRotation||0,p=r.maxRotation;let y,C,R,_=u;if(!this._isVisible()||!r.display||u>=p||l<=1||!this.isHorizontal())return void(this.labelRotation=u);const U=this._getLabelSizes(),q=U.widest.width,ae=U.highest.height,fe=Ii(this.chart.width-q,0,this.maxWidth);y=s.offset?this.maxWidth/l:fe/(l-1),q+6>y&&(y=fe/(l-(s.offset?.5:1)),C=this.maxHeight-cl(s.grid)-r.padding-Jh(s.title,this.chart.options.font),R=Math.sqrt(q*q+ae*ae),_=qf(Math.min(Math.asin(Ii((U.highest.height+6)/y,-1,1)),Math.asin(Ii(C/R,-1,1))-Math.asin(Ii(ae/R,-1,1)))),_=Math.max(u,Math.min(p,_))),this.labelRotation=_}afterCalculateLabelRotation(){$s(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){$s(this.options.beforeFit,[this])}fit(){const s={width:0,height:0},{chart:r,options:{ticks:l,title:u,grid:p}}=this,_=this._isVisible(),y=this.isHorizontal();if(_){const C=Jh(u,r.options.font);if(y?(s.width=this.maxWidth,s.height=cl(p)+C):(s.height=this.maxHeight,s.width=cl(p)+C),l.display&&this.ticks.length){const{first:R,last:U,widest:q,highest:ae}=this._getLabelSizes(),fe=2*l.padding,Ae=Vl(this.labelRotation),je=Math.cos(Ae),Ze=Math.sin(Ae);y?s.height=Math.min(this.maxHeight,s.height+(l.mirror?0:Ze*q.width+je*ae.height)+fe):s.width=Math.min(this.maxWidth,s.width+(l.mirror?0:je*q.width+Ze*ae.height)+fe),this._calculatePadding(R,U,Ze,je)}}this._handleMargins(),y?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,r,l,u){const{ticks:{align:p,padding:_},position:y}=this.options,C=0!==this.labelRotation,R="top"!==y&&"x"===this.axis;if(this.isHorizontal()){const U=this.getPixelForTick(0)-this.left,q=this.right-this.getPixelForTick(this.ticks.length-1);let ae=0,fe=0;C?R?(ae=u*s.width,fe=l*r.height):(ae=l*s.height,fe=u*r.width):"start"===p?fe=r.width:"end"===p?ae=s.width:"inner"!==p&&(ae=s.width/2,fe=r.width/2),this.paddingLeft=Math.max((ae-U+_)*this.width/(this.width-U),0),this.paddingRight=Math.max((fe-q+_)*this.width/(this.width-q),0)}else{let U=r.height/2,q=s.height/2;"start"===p?(U=0,q=s.height):"end"===p&&(U=r.height,q=0),this.paddingTop=U+_,this.paddingBottom=q+_}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){$s(this.options.afterFit,[this])}isHorizontal(){const{axis:s,position:r}=this.options;return"top"===r||"bottom"===r||"x"===s}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){let r,l;for(this.beforeTickToLabelConversion(),this.generateTickLabels(s),r=0,l=s.length;r<l;r++)Ji(s[r].label)&&(s.splice(r,1),l--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){const r=this.options.ticks.sampleSize;let l=this.ticks;r<l.length&&(l=Gg(l,r)),this._labelSizes=s=this._computeLabelSizes(l,l.length,this.options.ticks.maxTicksLimit)}return s}_computeLabelSizes(s,r,l){const{ctx:u,_longestTextCache:p}=this,_=[],y=[],C=Math.floor(r/_p(r,l));let q,ae,fe,Ae,je,Ze,Yt,Wt,_n,vn,fn,R=0,U=0;for(q=0;q<r;q+=C){if(Ae=s[q].label,je=this._resolveTickFontOptions(q),u.font=Ze=je.string,Yt=p[Ze]=p[Ze]||{data:{},gc:[]},Wt=je.lineHeight,_n=vn=0,Ji(Ae)||Ds(Ae)){if(Ds(Ae))for(ae=0,fe=Ae.length;ae<fe;++ae)fn=Ae[ae],!Ji(fn)&&!Ds(fn)&&(_n=Ku(u,Yt.data,Yt.gc,_n,fn),vn+=Wt)}else _n=Ku(u,Yt.data,Yt.gc,_n,Ae),vn=Wt;_.push(_n),y.push(vn),R=Math.max(_n,R),U=Math.max(vn,U)}!function Zh(a,s){Fr(a,r=>{const l=r.gc,u=l.length/2;let p;if(u>s){for(p=0;p<u;++p)delete r.data[l[p]];l.splice(0,u)}})}(p,r);const Dn=_.indexOf(R),Xn=y.indexOf(U),Vn=wr=>({width:_[wr]||0,height:y[wr]||0});return{first:Vn(0),last:Vn(r-1),widest:Vn(Dn),highest:Vn(Xn),widths:_,heights:y}}getLabelForValue(s){return s}getPixelForValue(s,r){return NaN}getValueForPixel(s){}getPixelForTick(s){const r=this.ticks;return s<0||s>r.length-1?null:this.getPixelForValue(r[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);const r=this._startPixel+s*this._length;return function Rd(a){return Ii(a,-32768,32767)}(this._alignToPixels?$l(this.chart,r,0):r)}getDecimalForPixel(s){const r=(s-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:s,max:r}=this;return s<0&&r<0?r:s>0&&r>0?s:0}getContext(s){const r=this.ticks||[];if(s>=0&&s<r.length){const l=r[s];return l.$context||(l.$context=function yp(a,s,r){return Hl(a,{tick:r,index:s,type:"tick"})}(this.getContext(),s,l))}return this.$context||(this.$context=function ef(a,s){return Hl(a,{scale:s,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const s=this.options.ticks,r=Vl(this.labelRotation),l=Math.abs(Math.cos(r)),u=Math.abs(Math.sin(r)),p=this._getLabelSizes(),_=s.autoSkipPadding||0,y=p?p.widest.width+_:0,C=p?p.highest.height+_:0;return this.isHorizontal()?C*l>y*u?y/l:C/u:C*u<y*l?C/l:y/u}_isVisible(){const s=this.options.display;return"auto"!==s?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){const r=this.axis,l=this.chart,u=this.options,{grid:p,position:_,border:y}=u,C=p.offset,R=this.isHorizontal(),q=this.ticks.length+(C?1:0),ae=cl(p),fe=[],Ae=y.setContext(this.getContext()),je=Ae.display?Ae.width:0,Ze=je/2,Yt=function(Yn){return $l(l,Yn,je)};let Wt,_n,vn,fn,Dn,Xn,Vn,wr,gi,Mi,ki,ya;if("top"===_)Wt=Yt(this.bottom),Xn=this.bottom-ae,wr=Wt-Ze,Mi=Yt(s.top)+Ze,ya=s.bottom;else if("bottom"===_)Wt=Yt(this.top),Mi=s.top,ya=Yt(s.bottom)-Ze,Xn=Wt+Ze,wr=this.top+ae;else if("left"===_)Wt=Yt(this.right),Dn=this.right-ae,Vn=Wt-Ze,gi=Yt(s.left)+Ze,ki=s.right;else if("right"===_)Wt=Yt(this.left),gi=s.left,ki=Yt(s.right)-Ze,Dn=Wt+Ze,Vn=this.left+ae;else if("x"===r){if("center"===_)Wt=Yt((s.top+s.bottom)/2+.5);else if($i(_)){const Yn=Object.keys(_)[0];Wt=Yt(this.chart.scales[Yn].getPixelForValue(_[Yn]))}Mi=s.top,ya=s.bottom,Xn=Wt+Ze,wr=Xn+ae}else if("y"===r){if("center"===_)Wt=Yt((s.left+s.right)/2);else if($i(_)){const Yn=Object.keys(_)[0];Wt=Yt(this.chart.scales[Yn].getPixelForValue(_[Yn]))}Dn=Wt-Ze,Vn=Dn-ae,gi=s.left,ki=s.right}const Rl=oi(u.ticks.maxTicksLimit,q),Ks=Math.max(1,Math.ceil(q/Rl));for(_n=0;_n<q;_n+=Ks){const Yn=this.getContext(_n),cr=p.setContext(Yn),Rr=y.setContext(Yn),ri=cr.lineWidth,ko=cr.color,tc=Rr.dash||[],Oa=Rr.dashOffset,Ac=cr.tickWidth,ao=cr.tickColor,fg=cr.tickBorderDash||[],u_=cr.tickBorderDashOffset;vn=Yh(this,_n,C),void 0!==vn&&(fn=$l(l,vn,ri),R?Dn=Vn=gi=ki=fn:Xn=wr=Mi=ya=fn,fe.push({tx1:Dn,ty1:Xn,tx2:Vn,ty2:wr,x1:gi,y1:Mi,x2:ki,y2:ya,width:ri,color:ko,borderDash:tc,borderDashOffset:Oa,tickWidth:Ac,tickColor:ao,tickBorderDash:fg,tickBorderDashOffset:u_}))}return this._ticksLength=q,this._borderValue=Wt,fe}_computeLabelItems(s){const r=this.axis,l=this.options,{position:u,ticks:p}=l,_=this.isHorizontal(),y=this.ticks,{align:C,crossAlign:R,padding:U,mirror:q}=p,ae=cl(l.grid),fe=ae+U,Ae=q?-U:fe,je=-Vl(this.labelRotation),Ze=[];let Yt,Wt,_n,vn,fn,Dn,Xn,Vn,wr,gi,Mi,ki,ya="middle";if("top"===u)Dn=this.bottom-Ae,Xn=this._getXAxisLabelAlignment();else if("bottom"===u)Dn=this.top+Ae,Xn=this._getXAxisLabelAlignment();else if("left"===u){const Ks=this._getYAxisLabelAlignment(ae);Xn=Ks.textAlign,fn=Ks.x}else if("right"===u){const Ks=this._getYAxisLabelAlignment(ae);Xn=Ks.textAlign,fn=Ks.x}else if("x"===r){if("center"===u)Dn=(s.top+s.bottom)/2+fe;else if($i(u)){const Ks=Object.keys(u)[0];Dn=this.chart.scales[Ks].getPixelForValue(u[Ks])+fe}Xn=this._getXAxisLabelAlignment()}else if("y"===r){if("center"===u)fn=(s.left+s.right)/2-fe;else if($i(u)){const Ks=Object.keys(u)[0];fn=this.chart.scales[Ks].getPixelForValue(u[Ks])}Xn=this._getYAxisLabelAlignment(ae).textAlign}"y"===r&&("start"===C?ya="top":"end"===C&&(ya="bottom"));const Rl=this._getLabelSizes();for(Yt=0,Wt=y.length;Yt<Wt;++Yt){_n=y[Yt],vn=_n.label;const Ks=p.setContext(this.getContext(Yt));Vn=this.getPixelForTick(Yt)+p.labelOffset,wr=this._resolveTickFontOptions(Yt),gi=wr.lineHeight,Mi=Ds(vn)?vn.length:1;const Yn=Mi/2,cr=Ks.color,Rr=Ks.textStrokeColor,ri=Ks.textStrokeWidth;let tc,ko=Xn;if(_?(fn=Vn,"inner"===Xn&&(ko=Yt===Wt-1?this.options.reverse?"left":"right":0===Yt?this.options.reverse?"right":"left":"center"),ki="top"===u?"near"===R||0!==je?-Mi*gi+gi/2:"center"===R?-Rl.highest.height/2-Yn*gi+gi:gi/2-Rl.highest.height:"near"===R||0!==je?gi/2:"center"===R?Rl.highest.height/2-Yn*gi:Rl.highest.height-Mi*gi,q&&(ki*=-1),0!==je&&!Ks.showLabelBackdrop&&(fn+=gi/2*Math.sin(je))):(Dn=Vn,ki=(1-Mi)*gi/2),Ks.showLabelBackdrop){const Oa=Xo(Ks.backdropPadding),Ac=Rl.heights[Yt],ao=Rl.widths[Yt];let fg=ki-Oa.top,u_=0-Oa.left;switch(ya){case"middle":fg-=Ac/2;break;case"bottom":fg-=Ac}switch(Xn){case"center":u_-=ao/2;break;case"right":u_-=ao}tc={left:u_,top:fg,width:ao+Oa.width,height:Ac+Oa.height,color:Ks.backdropColor}}Ze.push({label:vn,font:wr,textOffset:ki,options:{rotation:je,color:cr,strokeColor:Rr,strokeWidth:ri,textAlign:ko,textBaseline:ya,translation:[fn,Dn],backdrop:tc}})}return Ze}_getXAxisLabelAlignment(){const{position:s,ticks:r}=this.options;if(-Vl(this.labelRotation))return"top"===s?"left":"right";let u="center";return"start"===r.align?u="left":"end"===r.align?u="right":"inner"===r.align&&(u="inner"),u}_getYAxisLabelAlignment(s){const{position:r,ticks:{crossAlign:l,mirror:u,padding:p}}=this.options,y=s+p,C=this._getLabelSizes().widest.width;let R,U;return"left"===r?u?(U=this.right+p,"near"===l?R="left":"center"===l?(R="center",U+=C/2):(R="right",U+=C)):(U=this.right-y,"near"===l?R="right":"center"===l?(R="center",U-=C/2):(R="left",U=this.left)):"right"===r?u?(U=this.left+p,"near"===l?R="right":"center"===l?(R="center",U-=C/2):(R="left",U-=C)):(U=this.left+y,"near"===l?R="left":"center"===l?(R="center",U+=C/2):(R="right",U=this.right)):R="right",{textAlign:R,x:U}}_computeLabelArea(){if(this.options.ticks.mirror)return;const s=this.chart,r=this.options.position;return"left"===r||"right"===r?{top:0,left:this.left,bottom:s.height,right:this.right}:"top"===r||"bottom"===r?{top:this.top,left:0,bottom:this.bottom,right:s.width}:void 0}drawBackground(){const{ctx:s,options:{backgroundColor:r},left:l,top:u,width:p,height:_}=this;r&&(s.save(),s.fillStyle=r,s.fillRect(l,u,p,_),s.restore())}getLineWidthForValue(s){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const u=this.ticks.findIndex(p=>p.value===s);return u>=0?r.setContext(this.getContext(u)).lineWidth:0}drawGrid(s){const r=this.options.grid,l=this.ctx,u=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s));let p,_;const y=(C,R,U)=>{!U.width||!U.color||(l.save(),l.lineWidth=U.width,l.strokeStyle=U.color,l.setLineDash(U.borderDash||[]),l.lineDashOffset=U.borderDashOffset,l.beginPath(),l.moveTo(C.x,C.y),l.lineTo(R.x,R.y),l.stroke(),l.restore())};if(r.display)for(p=0,_=u.length;p<_;++p){const C=u[p];r.drawOnChartArea&&y({x:C.x1,y:C.y1},{x:C.x2,y:C.y2},C),r.drawTicks&&y({x:C.tx1,y:C.ty1},{x:C.tx2,y:C.ty2},{color:C.tickColor,width:C.tickWidth,borderDash:C.tickBorderDash,borderDashOffset:C.tickBorderDashOffset})}}drawBorder(){const{chart:s,ctx:r,options:{border:l,grid:u}}=this,p=l.setContext(this.getContext()),_=l.display?p.width:0;if(!_)return;const y=u.setContext(this.getContext(0)).lineWidth,C=this._borderValue;let R,U,q,ae;this.isHorizontal()?(R=$l(s,this.left,_)-_/2,U=$l(s,this.right,y)+y/2,q=ae=C):(q=$l(s,this.top,_)-_/2,ae=$l(s,this.bottom,y)+y/2,R=U=C),r.save(),r.lineWidth=p.width,r.strokeStyle=p.color,r.beginPath(),r.moveTo(R,q),r.lineTo(U,ae),r.stroke(),r.restore()}drawLabels(s){if(!this.options.ticks.display)return;const l=this.ctx,u=this._computeLabelArea();u&&sl(l,u);const p=this.getLabelItems(s);for(const _ of p)Ro(l,_.label,0,_.textOffset,_.font,_.options);u&&_u(l)}drawTitle(){const{ctx:s,options:{position:r,title:l,reverse:u}}=this;if(!l.display)return;const p=wo(l.font),_=Xo(l.padding),y=l.align;let C=p.lineHeight/2;"bottom"===r||"center"===r||$i(r)?(C+=_.bottom,Ds(l.text)&&(C+=p.lineHeight*(l.text.length-1))):C+=_.top;const{titleX:R,titleY:U,maxWidth:q,rotation:ae}=function vp(a,s,r,l){const{top:u,left:p,bottom:_,right:y,chart:C}=a,{chartArea:R,scales:U}=C;let ae,fe,Ae,q=0;const je=_-u,Ze=y-p;if(a.isHorizontal()){if(fe=pa(l,p,y),$i(r)){const Yt=Object.keys(r)[0];Ae=U[Yt].getPixelForValue(r[Yt])+je-s}else Ae="center"===r?(R.bottom+R.top)/2+je-s:ad(a,r,s);ae=y-p}else{if($i(r)){const Yt=Object.keys(r)[0];fe=U[Yt].getPixelForValue(r[Yt])-Ze+s}else fe="center"===r?(R.left+R.right)/2-Ze+s:ad(a,r,s);Ae=pa(l,_,u),q="left"===r?-Ms:Ms}return{titleX:fe,titleY:Ae,maxWidth:ae,rotation:q}}(this,C,r,y);Ro(s,l.text,0,0,p,{color:l.color,maxWidth:q,rotation:ae,textAlign:L_(y,r,u),textBaseline:"middle",translation:[R,U]})}draw(s){this._isVisible()&&(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){const s=this.options,r=s.ticks&&s.ticks.z||0,l=oi(s.grid&&s.grid.z,-1),u=oi(s.border&&s.border.z,0);return this._isVisible()&&this.draw===ql.prototype.draw?[{z:l,draw:p=>{this.drawBackground(),this.drawGrid(p),this.drawTitle()}},{z:u,draw:()=>{this.drawBorder()}},{z:r,draw:p=>{this.drawLabels(p)}}]:[{z:r,draw:p=>{this.draw(p)}}]}getMatchingVisibleMetas(s){const r=this.chart.getSortedVisibleDatasetMetas(),l=this.axis+"AxisID",u=[];let p,_;for(p=0,_=r.length;p<_;++p){const y=r[p];y[l]===this.id&&(!s||y.type===s)&&u.push(y)}return u}_resolveTickFontOptions(s){return wo(this.options.ticks.setContext(this.getContext(s)).font)}_maxDigits(){const s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}}class tf{constructor(s,r,l){this.type=s,this.scope=r,this.override=l,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){const r=Object.getPrototypeOf(s);let l;(function V_(a){return"id"in a&&"defaults"in a})(r)&&(l=this.register(r));const u=this.items,p=s.id,_=this.scope+"."+p;if(!p)throw new Error("class does not have id: "+s);return p in u||(u[p]=s,function bp(a,s,r){const l=xi(Object.create(null),[r?io.get(r):{},io.get(s),a.defaults]);io.set(s,l),a.defaultRoutes&&function nf(a,s){Object.keys(s).forEach(r=>{const l=r.split("."),u=l.pop(),p=[a].concat(l).join("."),_=s[r].split("."),y=_.pop(),C=_.join(".");io.route(p,u,C,y)})}(s,a.defaultRoutes),a.descriptors&&io.describe(s,a.descriptors)}(s,_,l),this.override&&io.override(s.id,s.overrides)),_}get(s){return this.items[s]}unregister(s){const r=this.items,l=s.id,u=this.scope;l in r&&delete r[l],u&&l in io[u]&&(delete io[u][l],this.override&&delete Ra[l])}}class bv{constructor(){this.controllers=new tf(Hd,"datasets",!0),this.elements=new tf(mc,"elements"),this.plugins=new tf(Object,"plugins"),this.scales=new tf(ql,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,r,l){[...r].forEach(u=>{const p=l||this._getRegistryForType(u);l||p.isForType(u)||p===this.plugins&&u.id?this._exec(s,p,u):Fr(u,_=>{const y=l||this._getRegistryForType(_);this._exec(s,y,_)})})}_exec(s,r,l){const u=qo(s);$s(l["before"+u],[],l),r[s](l),$s(l["after"+u],[],l)}_getRegistryForType(s){for(let r=0;r<this._typedRegistries.length;r++){const l=this._typedRegistries[r];if(l.isForType(s))return l}return this.plugins}_get(s,r,l){const u=r.get(s);if(void 0===u)throw new Error('"'+s+'" is not a registered '+l+".");return u}}var Ql=new bv;class Kg{constructor(){this._init=[]}notify(s,r,l,u){"beforeInit"===r&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install"));const p=u?this._descriptors(s).filter(u):this._descriptors(s),_=this._notify(p,s,r,l);return"afterDestroy"===r&&(this._notify(p,s,"stop"),this._notify(this._init,s,"uninstall")),_}_notify(s,r,l,u){u=u||{};for(const p of s){const _=p.plugin;if(!1===$s(_[l],[r,u,p.options],_)&&u.cancelable)return!1}return!0}invalidate(){Ji(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),r}_createDescriptors(s,r){const l=s&&s.config,u=oi(l.options&&l.options.plugins,{}),p=function B_(a){const s={},r=[],l=Object.keys(Ql.plugins.items);for(let p=0;p<l.length;p++)r.push(Ql.getPlugin(l[p]));const u=a.plugins||[];for(let p=0;p<u.length;p++){const _=u[p];-1===r.indexOf(_)&&(r.push(_),s[_.id]=!0)}return{plugins:r,localIds:s}}(l);return!1!==u||r?function qc(a,{plugins:s,localIds:r},l,u){const p=[],_=a.getContext();for(const y of s){const C=y.id,R=U_(l[C],u);null!==R&&p.push({plugin:y,options:j_(a.config,{plugin:y,local:r[C]},R,_)})}return p}(s,p,u,r):[]}_notifyStateChanges(s){const r=this._oldCache||[],l=this._cache,u=(p,_)=>p.filter(y=>!_.some(C=>y.plugin.id===C.plugin.id));this._notify(u(r,l),s,"stop"),this._notify(u(l,r),s,"start")}}function U_(a,s){return s||!1!==a?!0===a?{}:a:null}function j_(a,{plugin:s,local:r},l,u){const p=a.pluginScopeKeys(s),_=a.getOptionScopes(l,p);return r&&s.defaults&&_.push(s.defaults),a.createResolver(_,u,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ld(a,s){return((s.datasets||{})[a]||{}).indexAxis||s.indexAxis||(io.datasets[a]||{}).indexAxis||"x"}function $_(a){if("x"===a||"y"===a||"r"===a)return a}function qg(a){return"top"===a||"bottom"===a?"x":"left"===a||"right"===a?"y":void 0}function Ep(a,...s){if($_(a))return a;for(const r of s){const l=r.axis||qg(r.position)||a.length>1&&$_(a[0].toLowerCase());if(l)return l}throw new Error(`Cannot determine type of '${a}' axis. Please provide 'axis' or 'position' option.`)}function cd(a,s,r){if(r[s+"AxisID"]===a)return{axis:s}}function Ip(a){const s=a.options||(a.options={});s.plugins=oi(s.plugins,{}),s.scales=function Qg(a,s){const r=Ra[a.type]||{scales:{}},l=s.scales||{},u=ld(a.type,s),p=Object.create(null);return Object.keys(l).forEach(_=>{const y=l[_];if(!$i(y))return console.error(`Invalid scale configuration for scale: ${_}`);if(y._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${_}`);const C=Ep(_,y,function wp(a,s){if(s.data&&s.data.datasets){const r=s.data.datasets.filter(l=>l.xAxisID===a||l.yAxisID===a);if(r.length)return cd(a,"x",r[0])||cd(a,"y",r[0])}return{}}(_,a),io.scales[y.type]),R=function ul(a,s){return a===s?"_index_":"_value_"}(C,u),U=r.scales||{};p[_]=Oc(Object.create(null),[{axis:C},y,U[C],U[R]])}),a.data.datasets.forEach(_=>{const y=_.type||a.type,C=_.indexAxis||ld(y,s),U=(Ra[y]||{}).scales||{};Object.keys(U).forEach(q=>{const ae=function Ev(a,s){let r=a;return"_index_"===a?r=s:"_value_"===a&&(r="x"===s?"y":"x"),r}(q,C),fe=_[ae+"AxisID"]||ae;p[fe]=p[fe]||Object.create(null),Oc(p[fe],[{axis:ae},l[fe],U[q]])})}),Object.keys(p).forEach(_=>{const y=p[_];Oc(y,[io.scales[y.type],io.scale])}),p}(a,s)}function H_(a){return(a=a||{}).datasets=a.datasets||[],a.labels=a.labels||[],a}const Yg=new Map,Zg=new Set;function Tp(a,s){let r=Yg.get(a);return r||(r=s(),Yg.set(a,r),Zg.add(r)),r}const rf=(a,s,r)=>{const l=Ca(s,r);void 0!==l&&a.add(l)};class xo{constructor(s){this._config=function Xg(a){return(a=a||{}).data=H_(a.data),Ip(a),a}(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=H_(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){const s=this._config;this.clearCache(),Ip(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return Tp(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,r){return Tp(`${s}.transition.${r}`,()=>[[`datasets.${s}.transitions.${r}`,`transitions.${r}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,r){return Tp(`${s}-${r}`,()=>[[`datasets.${s}.elements.${r}`,`datasets.${s}`,`elements.${r}`,""]])}pluginScopeKeys(s){const r=s.id;return Tp(`${this.type}-plugin-${r}`,()=>[[`plugins.${r}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,r){const l=this._scopeCache;let u=l.get(s);return(!u||r)&&(u=new Map,l.set(s,u)),u}getOptionScopes(s,r,l){const{options:u,type:p}=this,_=this._cachedScopes(s,l),y=_.get(r);if(y)return y;const C=new Set;r.forEach(U=>{s&&(C.add(s),U.forEach(q=>rf(C,s,q))),U.forEach(q=>rf(C,u,q)),U.forEach(q=>rf(C,Ra[p]||{},q)),U.forEach(q=>rf(C,io,q)),U.forEach(q=>rf(C,cc,q))});const R=Array.from(C);return 0===R.length&&R.push(Object.create(null)),Zg.has(r)&&_.set(r,R),R}chartOptionScopes(){const{options:s,type:r}=this;return[s,Ra[r]||{},io.datasets[r]||{},{type:r},io,cc]}resolveNamedOptions(s,r,l,u=[""]){const p={$shared:!0},{resolver:_,subPrefixes:y}=th(this._resolverCache,s,u);let C=_;(function zs(a,s){const{isScriptable:r,isIndexable:l}=$h(a);for(const u of s){const p=r(u),_=l(u),y=(_||p)&&a[u];if(p&&(bs(y)||z_(y))||_&&Ds(y))return!0}return!1})(_,r)&&(p.$shared=!1,C=Wl(_,l=bs(l)?l():l,this.createResolver(s,l,y)));for(const R of r)p[R]=C[R];return p}createResolver(s,r,l=[""],u){const{resolver:p}=th(this._resolverCache,s,l);return $i(r)?Wl(p,r,void 0,u):p}}function th(a,s,r){let l=a.get(s);l||(l=new Map,a.set(s,l));const u=r.join();let p=l.get(u);return p||(p={resolver:zl(s,r),subPrefixes:r.filter(y=>!y.toLowerCase().includes("hover"))},l.set(u,p)),p}const z_=a=>$i(a)&&Object.getOwnPropertyNames(a).reduce((s,r)=>s||bs(a[r]),!1),sf=["top","bottom","left","right","chartArea"];function Xl(a,s){return"top"===a||"bottom"===a||-1===sf.indexOf(a)&&"x"===s}function af(a,s){return function(r,l){return r[a]===l[a]?r[s]-l[s]:r[a]-l[a]}}function nh(a){const s=a.chart,r=s.options.animation;s.notifyPlugins("afterRender"),$s(r&&r.onComplete,[a],s)}function rE(a){const s=a.chart,r=s.options.animation;$s(r&&r.onProgress,[a],s)}function Jg(a){return so()&&"string"==typeof a?a=document.getElementById(a):a&&a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas),a}const yc={},em=a=>{const s=Jg(a);return Object.values(yc).filter(r=>r.canvas===s).pop()};function vc(a,s,r){const l=Object.keys(a);for(const u of l){const p=+u;if(p>=s){const _=a[u];delete a[u],(r>0||p>s)&&(a[p+r]=_)}}}function rh(a,s,r){return a.options.clip?a[r]:s[r]}let Qc=(()=>class a{static defaults=io;static instances=yc;static overrides=Ra;static registry=Ql;static version="4.4.0";static getChart=em;static register(...r){Ql.add(...r),bc()}static unregister(...r){Ql.remove(...r),bc()}constructor(r,l){const u=this.config=new xo(l),p=Jg(r),_=em(p);if(_)throw new Error("Canvas is already in use. Chart with ID '"+_.id+"' must be destroyed before the canvas with ID '"+_.canvas.id+"' can be reused.");const y=u.createResolver(u.chartOptionScopes(),this.getContext());this.platform=new(u.platform||function yv(a){return!so()||typeof OffscreenCanvas<"u"&&a instanceof OffscreenCanvas?gv:O_}(p)),this.platform.updateConfig(u);const C=this.platform.acquireContext(p,y.aspectRatio),R=C&&C.canvas,U=R&&R.height,q=R&&R.width;this.id=tv(),this.ctx=C,this.canvas=R,this.width=q,this.height=U,this._options=y,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Kg,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Nh(a,s){let r;return function(...l){return s?(clearTimeout(r),r=setTimeout(a,s,l)):a.apply(this,l),s}}(ae=>this.update(ae),y.resizeDelay||0),this._dataChanges=[],yc[this.id]=this,C&&R?(Ya.listen(this,"complete",nh),Ya.listen(this,"progress",rE),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:r,maintainAspectRatio:l},width:u,height:p,_aspectRatio:_}=this;return Ji(r)?l&&_?_:p?u/p:null:r}get data(){return this.config.data}set data(r){this.config.data=r}get options(){return this._options}set options(r){this.config.options=r}get registry(){return Ql}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():gt(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Uc(this.canvas,this.ctx),this}stop(){return Ya.stop(this),this}resize(r,l){Ya.running(this)?this._resizeBeforeDraw={width:r,height:l}:this._resize(r,l)}_resize(r,l){const u=this.options,y=this.platform.getMaximumSize(this.canvas,r,l,u.maintainAspectRatio&&this.aspectRatio),C=u.devicePixelRatio||this.platform.getDevicePixelRatio(),R=this.width?"resize":"attach";this.width=y.width,this.height=y.height,this._aspectRatio=this.aspectRatio,gt(this,C,!0)&&(this.notifyPlugins("resize",{size:y}),$s(u.onResize,[this,y],this),this.attached&&this._doResize(R)&&this.render())}ensureScalesHaveIDs(){Fr(this.options.scales||{},(u,p)=>{u.id=p})}buildOrUpdateScales(){const r=this.options,l=r.scales,u=this.scales,p=Object.keys(u).reduce((y,C)=>(y[C]=!1,y),{});let _=[];l&&(_=_.concat(Object.keys(l).map(y=>{const C=l[y],R=Ep(y,C),U="r"===R,q="x"===R;return{options:C,dposition:U?"chartArea":q?"bottom":"left",dtype:U?"radialLinear":q?"category":"linear"}}))),Fr(_,y=>{const C=y.options,R=C.id,U=Ep(R,C),q=oi(C.type,y.dtype);(void 0===C.position||Xl(C.position,U)!==Xl(y.dposition))&&(C.position=y.dposition),p[R]=!0;let ae=null;R in u&&u[R].type===q?ae=u[R]:(ae=new(Ql.getScale(q))({id:R,type:q,ctx:this.ctx,chart:this}),u[ae.id]=ae),ae.init(C,r)}),Fr(p,(y,C)=>{y||delete u[C]}),Fr(u,y=>{Pa.configure(this,y,y.options),Pa.addBox(this,y)})}_updateMetasets(){const r=this._metasets,l=this.data.datasets.length,u=r.length;if(r.sort((p,_)=>p.index-_.index),u>l){for(let p=l;p<u;++p)this._destroyDatasetMeta(p);r.splice(l,u-l)}this._sortedMetasets=r.slice(0).sort(af("order","index"))}_removeUnreferencedMetasets(){const{_metasets:r,data:{datasets:l}}=this;r.length>l.length&&delete this._stacks,r.forEach((u,p)=>{0===l.filter(_=>_===u._dataset).length&&this._destroyDatasetMeta(p)})}buildOrUpdateControllers(){const r=[],l=this.data.datasets;let u,p;for(this._removeUnreferencedMetasets(),u=0,p=l.length;u<p;u++){const _=l[u];let y=this.getDatasetMeta(u);const C=_.type||this.config.type;if(y.type&&y.type!==C&&(this._destroyDatasetMeta(u),y=this.getDatasetMeta(u)),y.type=C,y.indexAxis=_.indexAxis||ld(C,this.options),y.order=_.order||0,y.index=u,y.label=""+_.label,y.visible=this.isDatasetVisible(u),y.controller)y.controller.updateIndex(u),y.controller.linkScales();else{const R=Ql.getController(C),{datasetElementType:U,dataElementType:q}=io.datasets[C];Object.assign(R,{dataElementType:Ql.getElement(q),datasetElementType:U&&Ql.getElement(U)}),y.controller=new R(this,u),r.push(y.controller)}}return this._updateMetasets(),r}_resetElements(){Fr(this.data.datasets,(r,l)=>{this.getDatasetMeta(l).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(r){const l=this.config;l.update();const u=this._options=l.createResolver(l.chartOptionScopes(),this.getContext()),p=this._animationsDisabled=!u.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:r,cancelable:!0}))return;const _=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let y=0;for(let U=0,q=this.data.datasets.length;U<q;U++){const{controller:ae}=this.getDatasetMeta(U),fe=!p&&-1===_.indexOf(ae);ae.buildOrUpdateElements(fe),y=Math.max(+ae.getMaxOverflow(),y)}y=this._minPadding=u.layout.autoPadding?y:0,this._updateLayout(y),p||Fr(_,U=>{U.reset()}),this._updateDatasets(r),this.notifyPlugins("afterUpdate",{mode:r}),this._layers.sort(af("z","_idx"));const{_active:C,_lastEvent:R}=this;R?this._eventHandler(R,!0):C.length&&this._updateHoverStyles(C,C,!0),this.render()}_updateScales(){Fr(this.scales,r=>{Pa.removeBox(this,r)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const r=this.options,l=new Set(Object.keys(this._listeners)),u=new Set(r.events);(!Bi(l,u)||!!this._responsiveListeners!==r.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:r}=this,l=this._getUniformDataChanges()||[];for(const{method:u,start:p,count:_}of l)vc(r,p,"_removeElements"===u?-_:_)}_getUniformDataChanges(){const r=this._dataChanges;if(!r||!r.length)return;this._dataChanges=[];const l=this.data.datasets.length,u=_=>new Set(r.filter(y=>y[0]===_).map((y,C)=>C+","+y.splice(1).join(","))),p=u(0);for(let _=1;_<l;_++)if(!Bi(p,u(_)))return;return Array.from(p).map(_=>_.split(",")).map(_=>({method:_[1],start:+_[2],count:+_[3]}))}_updateLayout(r){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Pa.update(this,this.width,this.height,r);const l=this.chartArea,u=l.width<=0||l.height<=0;this._layers=[],Fr(this.boxes,p=>{u&&"chartArea"===p.position||(p.configure&&p.configure(),this._layers.push(...p._layers()))},this),this._layers.forEach((p,_)=>{p._idx=_}),this.notifyPlugins("afterLayout")}_updateDatasets(r){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:r,cancelable:!0})){for(let l=0,u=this.data.datasets.length;l<u;++l)this.getDatasetMeta(l).controller.configure();for(let l=0,u=this.data.datasets.length;l<u;++l)this._updateDataset(l,bs(r)?r({datasetIndex:l}):r);this.notifyPlugins("afterDatasetsUpdate",{mode:r})}}_updateDataset(r,l){const u=this.getDatasetMeta(r),p={meta:u,index:r,mode:l,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",p)&&(u.controller._update(l),p.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",p))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ya.has(this)?this.attached&&!Ya.running(this)&&Ya.start(this):(this.draw(),nh({chart:this})))}draw(){let r;if(this._resizeBeforeDraw){const{width:u,height:p}=this._resizeBeforeDraw;this._resize(u,p),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const l=this._layers;for(r=0;r<l.length&&l[r].z<=0;++r)l[r].draw(this.chartArea);for(this._drawDatasets();r<l.length;++r)l[r].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(r){const l=this._sortedMetasets,u=[];let p,_;for(p=0,_=l.length;p<_;++p){const y=l[p];(!r||y.visible)&&u.push(y)}return u}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const r=this.getSortedVisibleDatasetMetas();for(let l=r.length-1;l>=0;--l)this._drawDataset(r[l]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(r){const l=this.ctx,u=r._clip,p=!u.disabled,_=function Cp(a,s){const{xScale:r,yScale:l}=a;return r&&l?{left:rh(r,s,"left"),right:rh(r,s,"right"),top:rh(l,s,"top"),bottom:rh(l,s,"bottom")}:s}(r,this.chartArea),y={meta:r,index:r.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",y)&&(p&&sl(l,{left:!1===u.left?0:_.left-u.left,right:!1===u.right?this.width:_.right+u.right,top:!1===u.top?0:_.top-u.top,bottom:!1===u.bottom?this.height:_.bottom+u.bottom}),r.controller.draw(),p&&_u(l),y.cancelable=!1,this.notifyPlugins("afterDatasetDraw",y))}isPointInArea(r){return ga(r,this.chartArea,this._minPadding)}getElementsAtEventForMode(r,l,u,p){const _=fp.modes[l];return"function"==typeof _?_(this,r,u,p):[]}getDatasetMeta(r){const l=this.data.datasets[r],u=this._metasets;let p=u.filter(_=>_&&_._dataset===l).pop();return p||(p={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:l&&l.order||0,index:r,_dataset:l,_parsed:[],_sorted:!1},u.push(p)),p}getContext(){return this.$context||(this.$context=Hl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(r){const l=this.data.datasets[r];if(!l)return!1;const u=this.getDatasetMeta(r);return"boolean"==typeof u.hidden?!u.hidden:!l.hidden}setDatasetVisibility(r,l){this.getDatasetMeta(r).hidden=!l}toggleDataVisibility(r){this._hiddenIndices[r]=!this._hiddenIndices[r]}getDataVisibility(r){return!this._hiddenIndices[r]}_updateVisibility(r,l,u){const p=u?"show":"hide",_=this.getDatasetMeta(r),y=_.controller._resolveAnimations(void 0,p);pu(l)?(_.data[l].hidden=!u,this.update()):(this.setDatasetVisibility(r,u),y.update(_,{visible:u}),this.update(C=>C.datasetIndex===r?p:void 0))}hide(r,l){this._updateVisibility(r,l,!1)}show(r,l){this._updateVisibility(r,l,!0)}_destroyDatasetMeta(r){const l=this._metasets[r];l&&l.controller&&l.controller._destroy(),delete this._metasets[r]}_stop(){let r,l;for(this.stop(),Ya.remove(this),r=0,l=this.data.datasets.length;r<l;++r)this._destroyDatasetMeta(r)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:r,ctx:l}=this;this._stop(),this.config.clearCache(),r&&(this.unbindEvents(),Uc(r,l),this.platform.releaseContext(l),this.canvas=null,this.ctx=null),delete yc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...r){return this.canvas.toDataURL(...r)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const r=this._listeners,l=this.platform,u=(_,y)=>{l.addEventListener(this,_,y),r[_]=y},p=(_,y,C)=>{_.offsetX=y,_.offsetY=C,this._eventHandler(_)};Fr(this.options.events,_=>u(_,p))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const r=this._responsiveListeners,l=this.platform,u=(R,U)=>{l.addEventListener(this,R,U),r[R]=U},p=(R,U)=>{r[R]&&(l.removeEventListener(this,R,U),delete r[R])},_=(R,U)=>{this.canvas&&this.resize(R,U)};let y;const C=()=>{p("attach",C),this.attached=!0,this.resize(),u("resize",_),u("detach",y)};y=()=>{this.attached=!1,p("resize",_),this._stop(),this._resize(0,0),u("attach",C)},l.isAttached(this.canvas)?C():y()}unbindEvents(){Fr(this._listeners,(r,l)=>{this.platform.removeEventListener(this,l,r)}),this._listeners={},Fr(this._responsiveListeners,(r,l)=>{this.platform.removeEventListener(this,l,r)}),this._responsiveListeners=void 0}updateHoverStyle(r,l,u){const p=u?"set":"remove";let _,y,C,R;for("dataset"===l&&(_=this.getDatasetMeta(r[0].datasetIndex),_.controller["_"+p+"DatasetHoverStyle"]()),C=0,R=r.length;C<R;++C){y=r[C];const U=y&&this.getDatasetMeta(y.datasetIndex).controller;U&&U[p+"HoverStyle"](y.element,y.datasetIndex,y.index)}}getActiveElements(){return this._active||[]}setActiveElements(r){const l=this._active||[],u=r.map(({datasetIndex:_,index:y})=>{const C=this.getDatasetMeta(_);if(!C)throw new Error("No dataset found at index "+_);return{datasetIndex:_,element:C.data[y],index:y}});!Mh(u,l)&&(this._active=u,this._lastEvent=null,this._updateHoverStyles(u,l))}notifyPlugins(r,l,u){return this._plugins.notify(this,r,l,u)}isPluginEnabled(r){return 1===this._plugins._cache.filter(l=>l.plugin.id===r).length}_updateHoverStyles(r,l,u){const p=this.options.hover,_=(R,U)=>R.filter(q=>!U.some(ae=>q.datasetIndex===ae.datasetIndex&&q.index===ae.index)),y=_(l,r),C=u?r:_(r,l);y.length&&this.updateHoverStyle(y,p.mode,!1),C.length&&p.mode&&this.updateHoverStyle(C,p.mode,!0)}_eventHandler(r,l){const u={event:r,replay:l,cancelable:!0,inChartArea:this.isPointInArea(r)},p=y=>(y.options.events||this.options.events).includes(r.native.type);if(!1===this.notifyPlugins("beforeEvent",u,p))return;const _=this._handleEvent(r,l,u.inChartArea);return u.cancelable=!1,this.notifyPlugins("afterEvent",u,p),(_||u.changed)&&this.render(),this}_handleEvent(r,l,u){const{_active:p=[],options:_}=this,C=this._getActiveElements(r,p,u,l),R=function za(a){return"mouseup"===a.type||"click"===a.type||"contextmenu"===a.type}(r),U=function wv(a,s,r,l){return r&&"mouseout"!==a.type?l?s:a:null}(r,this._lastEvent,u,R);u&&(this._lastEvent=null,$s(_.onHover,[r,C,this],this),R&&$s(_.onClick,[r,C,this],this));const q=!Mh(C,p);return(q||l)&&(this._active=C,this._updateHoverStyles(C,p,l)),this._lastEvent=U,q}_getActiveElements(r,l,u,p){if("mouseout"===r.type)return[];if(!u)return l;const _=this.options.hover;return this.getElementsAtEventForMode(r,_.mode,_,p)}})();function bc(){return Fr(Qc.instances,a=>a._plugins.invalidate())}function lf(a,s,r,l){return{x:r+a*Math.cos(s),y:l+a*Math.sin(s)}}function Ho(a,s,r,l,u,p){const{x:_,y,startAngle:C,pixelMargin:R,innerRadius:U}=s,q=Math.max(s.outerRadius+l+r-R,0),ae=U>0?U+l+r+R:0;let fe=0;const Ae=u-C;if(l){const cr=((U>0?U-l:0)+(q>0?q-l:0))/2;fe=(Ae-(0!==cr?Ae*cr/(cr+l):Ae))/2}const Ze=(Ae-Math.max(.001,Ae*q-r/As)/q)/2,Yt=C+Ze+fe,Wt=u-Ze-fe,{outerStart:_n,outerEnd:vn,innerStart:fn,innerEnd:Dn}=function Ma(a,s,r,l){const u=function Dp(a){return jh(a,["outerStart","outerEnd","innerStart","innerEnd"])}(a.options.borderRadius),p=(r-s)/2,_=Math.min(p,l*s/2),y=C=>{const R=(r-Math.min(p,C))*l/2;return Ii(C,0,Math.min(p,R))};return{outerStart:y(u.outerStart),outerEnd:y(u.outerEnd),innerStart:Ii(u.innerStart,0,_),innerEnd:Ii(u.innerEnd,0,_)}}(s,ae,q,Wt-Yt),Xn=q-_n,Vn=q-vn,wr=Yt+_n/Xn,gi=Wt-vn/Vn,Mi=ae+fn,ki=ae+Dn,ya=Yt+fn/Mi,Rl=Wt-Dn/ki;if(a.beginPath(),p){const Ks=(wr+gi)/2;if(a.arc(_,y,q,wr,Ks),a.arc(_,y,q,Ks,gi),vn>0){const ri=lf(Vn,gi,_,y);a.arc(ri.x,ri.y,vn,gi,Wt+Ms)}const Yn=lf(ki,Wt,_,y);if(a.lineTo(Yn.x,Yn.y),Dn>0){const ri=lf(ki,Rl,_,y);a.arc(ri.x,ri.y,Dn,Wt+Ms,Rl+Math.PI)}const cr=(Wt-Dn/ae+(Yt+fn/ae))/2;if(a.arc(_,y,ae,Wt-Dn/ae,cr,!0),a.arc(_,y,ae,cr,Yt+fn/ae,!0),fn>0){const ri=lf(Mi,ya,_,y);a.arc(ri.x,ri.y,fn,ya+Math.PI,Yt-Ms)}const Rr=lf(Xn,Yt,_,y);if(a.lineTo(Rr.x,Rr.y),_n>0){const ri=lf(Xn,wr,_,y);a.arc(ri.x,ri.y,_n,Yt-Ms,wr)}}else{a.moveTo(_,y);const Ks=Math.cos(wr)*q+_,Yn=Math.sin(wr)*q+y;a.lineTo(Ks,Yn);const cr=Math.cos(gi)*q+_,Rr=Math.sin(gi)*q+y;a.lineTo(cr,Rr)}a.closePath()}function G_(a,s,r=s){a.lineCap=oi(r.borderCapStyle,s.borderCapStyle),a.setLineDash(oi(r.borderDash,s.borderDash)),a.lineDashOffset=oi(r.borderDashOffset,s.borderDashOffset),a.lineJoin=oi(r.borderJoinStyle,s.borderJoinStyle),a.lineWidth=oi(r.borderWidth,s.borderWidth),a.strokeStyle=oi(r.borderColor,s.borderColor)}function nm(a,s,r){a.lineTo(r.x,r.y)}function K_(a,s,r={}){const l=a.length,{start:u=0,end:p=l-1}=r,{start:_,end:y}=s,C=Math.max(u,_),R=Math.min(p,y);return{count:l,start:C,loop:s.loop,ilen:R<C&&!(u<_&&p<_||u>y&&p>y)?l+R-C:R-C}}function q_(a,s,r,l){const{points:u,options:p}=s,{count:_,start:y,loop:C,ilen:R}=K_(u,r,l),U=function sE(a){return a.stepped?Fd:a.tension||"monotone"===a.cubicInterpolationMode?Ld:nm}(p);let fe,Ae,je,{move:q=!0,reverse:ae}=l||{};for(fe=0;fe<=R;++fe)Ae=u[(y+(ae?R-fe:fe))%_],!Ae.skip&&(q?(a.moveTo(Ae.x,Ae.y),q=!1):U(a,je,Ae,ae,p.stepped),je=Ae);return C&&(Ae=u[(y+(ae?R:0))%_],U(a,je,Ae,ae,p.stepped)),!!C}function Q_(a,s,r,l){const u=s.points,{count:p,start:_,ilen:y}=K_(u,r,l),{move:C=!0,reverse:R}=l||{};let ae,fe,Ae,je,Ze,Yt,U=0,q=0;const Wt=vn=>(_+(R?y-vn:vn))%p,_n=()=>{je!==Ze&&(a.lineTo(U,Ze),a.lineTo(U,je),a.lineTo(U,Yt))};for(C&&(fe=u[Wt(0)],a.moveTo(fe.x,fe.y)),ae=0;ae<=y;++ae){if(fe=u[Wt(ae)],fe.skip)continue;const vn=fe.x,fn=fe.y,Dn=0|vn;Dn===Ae?(fn<je?je=fn:fn>Ze&&(Ze=fn),U=(q*U+vn)/++q):(_n(),a.lineTo(vn,fn),Ae=Dn,q=0,je=Ze=fn),Yt=fn}_n()}function X_(a){const s=a.options;return a._decimated||a._loop||s.tension||"monotone"===s.cubicInterpolationMode||s.stepped||s.borderDash&&s.borderDash.length?q_:Q_}const cf="function"==typeof Path2D;let Xc=(()=>class a extends mc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:r=>"borderDash"!==r&&"fill"!==r};constructor(r){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,r&&Object.assign(this,r)}updateControlPoints(r,l){const u=this.options;!u.tension&&"monotone"!==u.cubicInterpolationMode||u.stepped||this._pointsUpdated||(wu(this._points,u,r,u.spanGaps?this._loop:this._fullLoop,l),this._pointsUpdated=!0)}set points(r){this._points=r,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Yo(a,s){const r=a.points,l=a.options.spanGaps,u=r.length;if(!u)return[];const p=!!a._loop,{start:_,end:y}=function sp(a,s,r,l){let u=0,p=s-1;if(r&&!l)for(;u<s&&!a[u].skip;)u++;for(;u<s&&a[u].skip;)u++;for(u%=s,r&&(p+=u);p>u&&a[p%s].skip;)p--;return p%=s,{start:u,end:p}}(r,u,p,l);return function Gc(a,s,r,l){return l&&l.setContext&&r?function nv(a,s,r,l){const u=a._chart.getContext(),p=op(a.options),{_datasetIndex:_,options:{spanGaps:y}}=a,C=r.length,R=[];let U=p,q=s[0].start,ae=q;function fe(Ae,je,Ze,Yt){const Wt=y?-1:1;if(Ae!==je){for(Ae+=C;r[Ae%C].skip;)Ae-=Wt;for(;r[je%C].skip;)je+=Wt;Ae%C!=je%C&&(R.push({start:Ae%C,end:je%C,loop:Ze,style:Yt}),U=Yt,q=je%C)}}for(const Ae of s){q=y?q:Ae.start;let Ze,je=r[q%C];for(ae=q+1;ae<=Ae.end;ae++){const Yt=r[ae%C];Ze=op(l.setContext(Hl(u,{type:"segment",p0:je,p1:Yt,p0DataIndex:(ae-1)%C,p1DataIndex:ae%C,datasetIndex:_}))),Dg(Ze,U)&&fe(q,ae-1,Ae.loop,U),je=Yt,U=Ze}q<ae-1&&fe(q,ae-1,Ae.loop,U)}return R}(a,s,r,l):s}(a,!0===l?[{start:_,end:y,loop:p}]:function Cg(a,s,r,l){const u=a.length,p=[];let C,_=s,y=a[s];for(C=s+1;C<=r;++C){const R=a[C%u];R.skip||R.stop?y.skip||(p.push({start:s%u,end:(C-1)%u,loop:l=!1}),s=_=R.stop?C:null):(_=C,y.skip&&(s=C)),y=R}return null!==_&&p.push({start:s%u,end:_%u,loop:l}),p}(r,_,y<_?y+u:y,!!a._fullLoop&&0===_&&y===u-1),r,s)}(this,this.options.segment))}first(){const r=this.segments;return r.length&&this.points[r[0].start]}last(){const r=this.segments,u=r.length;return u&&this.points[r[u-1].end]}interpolate(r,l){const u=this.options,p=r[l],_=this.points,y=_a(this,{property:l,start:p,end:p});if(!y.length)return;const C=[],R=function rm(a){return a.stepped?_r:a.tension||"monotone"===a.cubicInterpolationMode?ai:or}(u);let U,q;for(U=0,q=y.length;U<q;++U){const{start:ae,end:fe}=y[U],Ae=_[ae],je=_[fe];if(Ae===je){C.push(Ae);continue}const Yt=R(Ae,je,Math.abs((p-Ae[l])/(je[l]-Ae[l])),u.stepped);Yt[l]=r[l],C.push(Yt)}return 1===C.length?C[0]:C}pathSegment(r,l,u){return X_(this)(r,this,l,u)}path(r,l,u){const p=this.segments,_=X_(this);let y=this._loop;l=l||0,u=u||this.points.length-l;for(const C of p)y&=_(r,this,C,{start:l,end:l+u-1});return!!y}draw(r,l,u,p){(this.points||[]).length&&(this.options||{}).borderWidth&&(r.save(),function uf(a,s,r,l){cf&&!s.options.segment?function Y_(a,s,r,l){let u=s._path;u||(u=s._path=new Path2D,s.path(u,r,l)&&u.closePath()),G_(a,s.options),a.stroke(u)}(a,s,r,l):function Sp(a,s,r,l){const{segments:u,options:p}=s,_=X_(s);for(const y of u)G_(a,p,y.style),a.beginPath(),_(a,s,y,{start:r,end:r+l-1})&&a.closePath(),a.stroke()}(a,s,r,l)}(r,this,u,p),r.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function Ru(a,s,r,l){const u=a.options,{[r]:p}=a.getProps([r],l);return Math.abs(s-p)<u.radius+u.hitRadius}let Z_=(()=>class a extends mc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(r){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,l,u){const p=this.options,{x:_,y}=this.getProps(["x","y"],u);return Math.pow(r-_,2)+Math.pow(l-y,2)<Math.pow(p.hitRadius+p.radius,2)}inXRange(r,l){return Ru(this,r,"x",l)}inYRange(r,l){return Ru(this,r,"y",l)}getCenterPoint(r){const{x:l,y:u}=this.getProps(["x","y"],r);return{x:l,y:u}}size(r){let l=(r=r||this.options||{}).radius||0;return l=Math.max(l,l&&r.hoverRadius||0),2*(l+(l&&r.borderWidth||0))}draw(r,l){const u=this.options;this.skip||u.radius<.1||!ga(this,l,this.size(u)/2)||(r.strokeStyle=u.borderColor,r.lineWidth=u.borderWidth,r.fillStyle=u.backgroundColor,bl(r,u,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}})();function ih(a,s){const{x:r,y:l,base:u,width:p,height:_}=a.getProps(["x","y","base","width","height"],s);let y,C,R,U,q;return a.horizontal?(q=_/2,y=Math.min(r,u),C=Math.max(r,u),R=l-q,U=l+q):(q=p/2,y=r-q,C=r+q,R=Math.min(l,u),U=Math.max(l,u)),{left:y,top:R,right:C,bottom:U}}function Ec(a,s,r,l){return a?0:Ii(s,r,l)}function om(a,s,r,l){const u=null===s,p=null===r,y=a&&!(u&&p)&&ih(a,l);return y&&(u||zt(s,y.left,y.right))&&(p||zt(r,y.top,y.bottom))}function Rp(a,s){a.rect(s.x,s.y,s.w,s.h)}function am(a,s,r={}){const l=a.x!==r.x?-s:0,u=a.y!==r.y?-s:0;return{x:a.x+l,y:a.y+u,w:a.w+((a.x+a.w!==r.x+r.w?s:0)-l),h:a.h+((a.y+a.h!==r.y+r.h?s:0)-u),radius:a.radius}}var Pu=Object.freeze({__proto__:null,ArcElement:class Ap extends mc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:s=>"borderDash"!==s};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(s){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,r,l){const u=this.getProps(["x","y"],l),{angle:p,distance:_}=Qf(u,{x:s,y:r}),{startAngle:y,endAngle:C,innerRadius:R,outerRadius:U,circumference:q}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],l),ae=(this.options.spacing+this.options.borderWidth)/2,Ae=oi(q,C-y)>=ps||Oh(p,y,C),je=zt(_,R+ae,U+ae);return Ae&&je}getCenterPoint(s){const{x:r,y:l,startAngle:u,endAngle:p,innerRadius:_,outerRadius:y}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:C,spacing:R}=this.options,U=(u+p)/2,q=(_+y+R+C)/2;return{x:r+Math.cos(U)*q,y:l+Math.sin(U)*q}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:r,circumference:l}=this,u=(r.offset||0)/4,p=(r.spacing||0)/2,_=r.circular;if(this.pixelMargin="inner"===r.borderAlign?.33:0,this.fullCircles=l>ps?Math.floor(l/ps):0,0===l||this.innerRadius<0||this.outerRadius<0)return;s.save();const y=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(y)*u,Math.sin(y)*u);const R=u*(1-Math.sin(Math.min(As,l||0)));s.fillStyle=r.backgroundColor,s.strokeStyle=r.borderColor,function W_(a,s,r,l,u){const{fullCircles:p,startAngle:_,circumference:y}=s;let C=s.endAngle;if(p){Ho(a,s,r,l,C,u);for(let R=0;R<p;++R)a.fill();isNaN(y)||(C=_+(y%ps||ps))}Ho(a,s,r,l,C,u),a.fill()}(s,this,R,p,_),function iE(a,s,r,l,u){const{fullCircles:p,startAngle:_,circumference:y,options:C}=s,{borderWidth:R,borderJoinStyle:U,borderDash:q,borderDashOffset:ae}=C,fe="inner"===C.borderAlign;if(!R)return;a.setLineDash(q||[]),a.lineDashOffset=ae,fe?(a.lineWidth=2*R,a.lineJoin=U||"round"):(a.lineWidth=R,a.lineJoin=U||"bevel");let Ae=s.endAngle;if(p){Ho(a,s,r,l,Ae,u);for(let je=0;je<p;++je)a.stroke();isNaN(y)||(Ae=_+(y%ps||ps))}fe&&function tm(a,s,r){const{startAngle:l,pixelMargin:u,x:p,y:_,outerRadius:y,innerRadius:C}=s;let R=u/y;a.beginPath(),a.arc(p,_,y,l-R,r+R),C>u?(R=u/C,a.arc(p,_,C,r+R,l-R,!0)):a.arc(p,_,u,r+Ms,l-Ms),a.closePath(),a.clip()}(a,s,Ae),p||(Ho(a,s,r,l,Ae,u),a.stroke())}(s,this,R,p,_),s.restore()}},BarElement:class oE extends mc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){const{inflateAmount:r,options:{borderColor:l,backgroundColor:u}}=this,{inner:p,outer:_}=function df(a){const s=ih(a),r=s.right-s.left,l=s.bottom-s.top,u=function im(a,s,r){const u=a.borderSkipped,p=m_(a.options.borderWidth);return{t:Ec(u.top,p.top,0,r),r:Ec(u.right,p.right,0,s),b:Ec(u.bottom,p.bottom,0,r),l:Ec(u.left,p.left,0,s)}}(a,r/2,l/2),p=function sm(a,s,r){const{enableBorderRadius:l}=a.getProps(["enableBorderRadius"]),u=a.options.borderRadius,p=jc(u),_=Math.min(s,r),y=a.borderSkipped,C=l||$i(u);return{topLeft:Ec(!C||y.top||y.left,p.topLeft,0,_),topRight:Ec(!C||y.top||y.right,p.topRight,0,_),bottomLeft:Ec(!C||y.bottom||y.left,p.bottomLeft,0,_),bottomRight:Ec(!C||y.bottom||y.right,p.bottomRight,0,_)}}(a,r/2,l/2);return{outer:{x:s.left,y:s.top,w:r,h:l,radius:p},inner:{x:s.left+u.l,y:s.top+u.t,w:r-u.l-u.r,h:l-u.t-u.b,radius:{topLeft:Math.max(0,p.topLeft-Math.max(u.t,u.l)),topRight:Math.max(0,p.topRight-Math.max(u.t,u.r)),bottomLeft:Math.max(0,p.bottomLeft-Math.max(u.b,u.l)),bottomRight:Math.max(0,p.bottomRight-Math.max(u.b,u.r))}}}}(this),y=function xu(a){return a.topLeft||a.topRight||a.bottomLeft||a.bottomRight}(_.radius)?ma:Rp;s.save(),(_.w!==p.w||_.h!==p.h)&&(s.beginPath(),y(s,am(_,r,p)),s.clip(),y(s,am(p,-r,_)),s.fillStyle=l,s.fill("evenodd")),s.beginPath(),y(s,am(p,r)),s.fillStyle=u,s.fill(),s.restore()}inRange(s,r,l){return om(this,s,r,l)}inXRange(s,r){return om(this,s,null,r)}inYRange(s,r){return om(this,null,s,r)}getCenterPoint(s){const{x:r,y:l,base:u,horizontal:p}=this.getProps(["x","y","base","horizontal"],s);return{x:p?(r+u)/2:r,y:p?l:(l+u)/2}}getRange(s){return"x"===s?this.width/2:this.height/2}},LineElement:Xc,PointElement:Z_});const Iv=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],xp=Iv.map(a=>a.replace("rgb(","rgba(").replace(")",", 0.5)"));function lm(a){return Iv[a%Iv.length]}function cm(a){return xp[a%xp.length]}function dm(a){let s;for(s in a)if(a[s].borderColor||a[s].backgroundColor)return!0;return!1}var dl={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(a,s,r){if(!r.enabled)return;const{data:{datasets:l},options:u}=a.config,{elements:p}=u;if(!r.forceOverride&&(dm(l)||function Tv(a){return a&&(a.borderColor||a.backgroundColor)}(u)||p&&dm(p)))return;const _=function Mp(a){let s=0;return(r,l)=>{const u=a.getDatasetMeta(l).controller;u instanceof Wd?s=function J_(a,s){return a.backgroundColor=a.data.map(()=>lm(s++)),s}(r,s):u instanceof nd?s=function um(a,s){return a.backgroundColor=a.data.map(()=>cm(s++)),s}(r,s):u&&(s=function Pp(a,s){return a.borderColor=lm(s),a.backgroundColor=cm(s),++s}(r,s))}}(a);l.forEach(_)}};function kp(a){if(a._decimated){const s=a._data;delete a._decimated,delete a._data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,writable:!0,value:s})}}function hf(a){a.data.datasets.forEach(s=>{kp(s)})}var Op={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(a,s,r)=>{if(!r.enabled)return void hf(a);const l=a.width;a.data.datasets.forEach((u,p)=>{const{_data:_,indexAxis:y}=u,C=a.getDatasetMeta(p),R=_||u.data;if("y"===$c([y,a.options.indexAxis])||!C.controller.supportsDecimation)return;const U=a.scales[C.xAxisID];if("linear"!==U.type&&"time"!==U.type||a.options.parsing)return;let Ae,{start:q,count:ae}=function ff(a,s){const r=s.length;let u,l=0;const{iScale:p}=a,{min:_,max:y,minDefined:C,maxDefined:R}=p.getUserBounds();return C&&(l=Ii(fa(s,p.axis,_).lo,0,r-1)),u=R?Ii(fa(s,p.axis,y).hi+1,l,r)-l:r-l,{start:l,count:u}}(C,R);if(ae<=(r.threshold||4*l))kp(u);else{switch(Ji(_)&&(u._data=R,delete u.data,Object.defineProperty(u,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(je){this._data=je}})),r.algorithm){case"lttb":Ae=function Cv(a,s,r,l,u){const p=u.samples||l;if(p>=r)return a.slice(s,s+r);const _=[],y=(r-2)/(p-2);let C=0;const R=s+r-1;let q,ae,fe,Ae,je,U=s;for(_[C++]=a[U],q=0;q<p-2;q++){let Wt,Ze=0,Yt=0;const _n=Math.floor((q+1)*y)+1+s,vn=Math.min(Math.floor((q+2)*y)+1,r)+s,fn=vn-_n;for(Wt=_n;Wt<vn;Wt++)Ze+=a[Wt].x,Yt+=a[Wt].y;Ze/=fn,Yt/=fn;const Dn=Math.floor(q*y)+1+s,Xn=Math.min(Math.floor((q+1)*y)+1,r)+s,{x:Vn,y:wr}=a[U];for(fe=Ae=-1,Wt=Dn;Wt<Xn;Wt++)Ae=.5*Math.abs((Vn-Ze)*(a[Wt].y-wr)-(Vn-a[Wt].x)*(Yt-wr)),Ae>fe&&(fe=Ae,ae=a[Wt],je=Wt);_[C++]=ae,U=je}return _[C++]=a[R],_}(R,q,ae,l,r);break;case"min-max":Ae=function Dv(a,s,r,l){let _,y,C,R,U,q,ae,fe,Ae,je,u=0,p=0;const Ze=[],Wt=a[s].x,vn=a[s+r-1].x-Wt;for(_=s;_<s+r;++_){y=a[_],C=(y.x-Wt)/vn*l,R=y.y;const fn=0|C;if(fn===U)R<Ae?(Ae=R,q=_):R>je&&(je=R,ae=_),u=(p*u+y.x)/++p;else{const Dn=_-1;if(!Ji(q)&&!Ji(ae)){const Xn=Math.min(q,ae),Vn=Math.max(q,ae);Xn!==fe&&Xn!==Dn&&Ze.push({...a[Xn],x:u}),Vn!==fe&&Vn!==Dn&&Ze.push({...a[Vn],x:u})}_>0&&Dn!==fe&&Ze.push(a[Dn]),Ze.push(y),U=fn,p=0,Ae=je=R,q=ae=fe=_}}return Ze}(R,q,ae,l);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}u._decimated=Ae}})},destroy(a){hf(a)}};function hm(a,s,r,l){if(l)return;let u=s[a],p=r[a];return"angle"===a&&(u=ha(u),p=ha(p)),{property:a,start:u,end:p}}function ey(a,s,r){for(;s>a;s--){const l=r[s];if(!isNaN(l.x)&&!isNaN(l.y))break}return s}function fm(a,s,r,l){return a&&s?l(a[r],s[r]):a?a[r]:s?s[r]:0}function ty(a,s){let r=[],l=!1;return Ds(a)?(l=!0,r=a):r=function Av(a,s){const{x:r=null,y:l=null}=a||{},u=s.points,p=[];return s.segments.forEach(({start:_,end:y})=>{y=ey(_,y,u);const C=u[_],R=u[y];null!==l?(p.push({x:C.x,y:l}),p.push({x:R.x,y:l})):null!==r&&(p.push({x:r,y:C.y}),p.push({x:r,y:R.y}))}),p}(a,s),r.length?new Xc({points:r,options:{tension:0},_loop:l,_fullLoop:l}):null}function Sv(a){return a&&!1!==a.fill}function lE(a,s,r){let u=a[s].fill;const p=[s];let _;if(!r)return u;for(;!1!==u&&-1===p.indexOf(u);){if(!go(u))return u;if(_=a[u],!_)return!1;if(_.visible)return u;p.push(u),u=_.fill}return!1}function Np(a,s,r){const l=function uE(a){const s=a.options,r=s.fill;let l=oi(r&&r.target,r);return void 0===l&&(l=!!s.backgroundColor),!1!==l&&null!==l&&(!0===l?"origin":l)}(a);if($i(l))return!isNaN(l.value)&&l;let u=parseFloat(l);return go(u)&&Math.floor(u)===u?function Rv(a,s,r,l){return("-"===a||"+"===a)&&(r=s+r),!(r===s||r<0||r>=l)&&r}(l[0],s,u,r):["origin","start","end","stack","shape"].indexOf(l)>=0&&l}function Fp(a,s,r){const l=[];for(let u=0;u<r.length;u++){const p=r[u],{first:_,last:y,point:C}=Pv(p,s,"x");if(!(!C||_&&y))if(_)l.unshift(C);else if(a.push(C),!y)break}a.push(...l)}function Pv(a,s,r){const l=a.interpolate(s,r);if(!l)return{};const u=l[r],p=a.segments,_=a.points;let y=!1,C=!1;for(let R=0;R<p.length;R++){const U=p[R],q=_[U.start][r],ae=_[U.end][r];if(zt(u,q,ae)){y=u===q,C=u===ae;break}}return{first:y,last:C,point:l}}class pf{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,r,l){const{x:u,y:p,radius:_}=this;return s.arc(u,p,_,(r=r||{start:0,end:ps}).end,r.start,!0),!l.bounds}interpolate(s){const{x:r,y:l,radius:u}=this,p=s.angle;return{x:r+Math.cos(p)*u,y:l+Math.sin(p)*u,angle:p}}}function pm(a,s,r){const l=function gf(a){const{chart:s,fill:r,line:l}=a;if(go(r))return function Pi(a,s){const r=a.getDatasetMeta(s);return r&&a.isDatasetVisible(s)?r.dataset:null}(s,r);if("stack"===r)return function dE(a){const{scale:s,index:r,line:l}=a,u=[],p=l.segments,_=l.points,y=function xv(a,s){const r=[],l=a.getMatchingVisibleMetas("line");for(let u=0;u<l.length;u++){const p=l[u];if(p.index===s)break;p.hidden||r.unshift(p.dataset)}return r}(s,r);y.push(ty({x:null,y:s.bottom},l));for(let C=0;C<p.length;C++){const R=p[C];for(let U=R.start;U<=R.end;U++)Fp(u,_[U],y)}return new Xc({points:u,options:{}})}(a);if("shape"===r)return!0;const u=function hE(a){return(a.scale||{}).getPointPositionForValue?function ry(a){const{scale:s,fill:r}=a,l=s.options,u=s.getLabels().length,p=l.reverse?s.max:s.min,_=function cE(a,s,r){let l;return l="start"===a?r:"end"===a?s.options.reverse?s.min:s.max:$i(a)?a.value:s.getBaseValue(),l}(r,s,p),y=[];if(l.grid.circular){const C=s.getPointPositionForValue(0,p);return new pf({x:C.x,y:C.y,radius:s.getDistanceFromCenterForValue(_)})}for(let C=0;C<u;++C)y.push(s.getPointPositionForValue(C,_));return y}(a):function fE(a){const{scale:s={},fill:r}=a,l=function ny(a,s){let r=null;return"start"===a?r=s.bottom:"end"===a?r=s.top:$i(a)?r=s.getPixelForValue(a.value):s.getBasePixel&&(r=s.getBasePixel()),r}(r,s);if(go(l)){const u=s.isHorizontal();return{x:u?l:null,y:u?null:l}}return null}(a)}(a);return u instanceof pf?u:ty(u,l)}(s),{line:u,scale:p,axis:_}=s,y=u.options,C=y.fill,R=y.backgroundColor,{above:U=R,below:q=R}=C||{};l&&u.points.length&&(sl(a,r),function mf(a,s){const{line:r,target:l,above:u,below:p,area:_,scale:y}=s,C=r._loop?"angle":s.axis;a.save(),"x"===C&&p!==u&&(gm(a,l,_.top),sa(a,{line:r,target:l,color:u,scale:y,property:C}),a.restore(),a.save(),gm(a,l,_.bottom)),sa(a,{line:r,target:l,color:p,scale:y,property:C}),a.restore()}(a,{line:u,target:l,above:U,below:q,area:r,scale:p,axis:_}),_u(a))}function gm(a,s,r){const{segments:l,points:u}=s;let p=!0,_=!1;a.beginPath();for(const y of l){const{start:C,end:R}=y,U=u[C],q=u[ey(C,R,u)];p?(a.moveTo(U.x,U.y),p=!1):(a.lineTo(U.x,r),a.lineTo(U.x,U.y)),_=!!s.pathSegment(a,y,{move:_}),_?a.closePath():a.lineTo(q.x,r)}a.lineTo(s.first().x,r),a.closePath(),a.clip()}function sa(a,s){const{line:r,target:l,property:u,color:p,scale:_}=s,y=function aE(a,s,r){const l=a.segments,u=a.points,p=s.points,_=[];for(const y of l){let{start:C,end:R}=y;R=ey(C,R,u);const U=hm(r,u[C],u[R],y.loop);if(!s.segments){_.push({source:y,target:U,start:u[C],end:u[R]});continue}const q=_a(s,U);for(const ae of q){const fe=hm(r,p[ae.start],p[ae.end],ae.loop),Ae=Tu(y,u,fe);for(const je of Ae)_.push({source:je,target:ae,start:{[r]:fm(U,fe,"start",Math.max)},end:{[r]:fm(U,fe,"end",Math.min)}})}}return _}(r,l,u);for(const{source:C,target:R,start:U,end:q}of y){const{style:{backgroundColor:ae=p}={}}=C,fe=!0!==l;a.save(),a.fillStyle=ae,Js(a,_,fe&&hm(u,U,q)),a.beginPath();const Ae=!!r.pathSegment(a,C);let je;if(fe){Ae?a.closePath():Yl(a,l,q,u);const Ze=!!l.pathSegment(a,R,{move:Ae,reverse:!0});je=Ae&&Ze,je||Yl(a,l,U,u)}a.closePath(),a.fill(je?"evenodd":"nonzero"),a.restore()}}function Js(a,s,r){const{top:l,bottom:u}=s.chart.chartArea,{property:p,start:_,end:y}=r||{};"x"===p&&(a.beginPath(),a.rect(_,l,y-_,u-l),a.clip())}function Yl(a,s,r,l){const u=s.interpolate(r,l);u&&a.lineTo(u.x,u.y)}var pE={id:"filler",afterDatasetsUpdate(a,s,r){const l=(a.data.datasets||[]).length,u=[];let p,_,y,C;for(_=0;_<l;++_)p=a.getDatasetMeta(_),y=p.dataset,C=null,y&&y.options&&y instanceof Xc&&(C={visible:a.isDatasetVisible(_),index:_,fill:Np(y,_,l),chart:a,axis:p.controller.options.indexAxis,scale:p.vScale,line:y}),p.$filler=C,u.push(C);for(_=0;_<l;++_)C=u[_],C&&!1!==C.fill&&(C.fill=lE(u,_,r.propagate))},beforeDraw(a,s,r){const l="beforeDraw"===r.drawTime,u=a.getSortedVisibleDatasetMetas(),p=a.chartArea;for(let _=u.length-1;_>=0;--_){const y=u[_].$filler;y&&(y.line.updateControlPoints(p,y.axis),l&&y.fill&&pm(a.ctx,y,p))}},beforeDatasetsDraw(a,s,r){if("beforeDatasetsDraw"!==r.drawTime)return;const l=a.getSortedVisibleDatasetMetas();for(let u=l.length-1;u>=0;--u){const p=l[u].$filler;Sv(p)&&pm(a.ctx,p,a.chartArea)}},beforeDatasetDraw(a,s,r){const l=s.meta.$filler;!Sv(l)||"beforeDatasetDraw"!==r.drawTime||pm(a.ctx,l,a.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const gE=(a,s)=>{let{boxHeight:r=s,boxWidth:l=s}=a;return a.usePointStyle&&(r=Math.min(r,s),l=a.pointStyleWidth||Math.min(l,s)),{boxWidth:l,boxHeight:r,itemHeight:Math.max(s,r)}};class mE extends mc{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,r,l){this.maxWidth=s,this.maxHeight=r,this._margins=l,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const s=this.options.labels||{};let r=$s(s.generateLabels,[this.chart],this)||[];s.filter&&(r=r.filter(l=>s.filter(l,this.chart.data))),s.sort&&(r=r.sort((l,u)=>s.sort(l,u,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:s,ctx:r}=this;if(!s.display)return void(this.width=this.height=0);const l=s.labels,u=wo(l.font),p=u.size,_=this._computeTitleHeight(),{boxWidth:y,itemHeight:C}=gE(l,p);let R,U;r.font=u.string,this.isHorizontal()?(R=this.maxWidth,U=this._fitRows(_,p,y,C)+10):(U=this.maxHeight,R=this._fitCols(_,u,y,C)+10),this.width=Math.min(R,s.maxWidth||this.maxWidth),this.height=Math.min(U,s.maxHeight||this.maxHeight)}_fitRows(s,r,l,u){const{ctx:p,maxWidth:_,options:{labels:{padding:y}}}=this,C=this.legendHitBoxes=[],R=this.lineWidths=[0],U=u+y;let q=s;p.textAlign="left",p.textBaseline="middle";let ae=-1,fe=-U;return this.legendItems.forEach((Ae,je)=>{const Ze=l+r/2+p.measureText(Ae.text).width;(0===je||R[R.length-1]+Ze+2*y>_)&&(q+=U,R[R.length-(je>0?0:1)]=0,fe+=U,ae++),C[je]={left:0,top:fe,row:ae,width:Ze,height:u},R[R.length-1]+=Ze+y}),q}_fitCols(s,r,l,u){const{ctx:p,maxHeight:_,options:{labels:{padding:y}}}=this,C=this.legendHitBoxes=[],R=this.columnSizes=[],U=_-s;let q=y,ae=0,fe=0,Ae=0,je=0;return this.legendItems.forEach((Ze,Yt)=>{const{itemWidth:Wt,itemHeight:_n}=function iy(a,s,r,l,u){const p=function kv(a,s,r,l){let u=a.text;return u&&"string"!=typeof u&&(u=u.reduce((p,_)=>p.length>_.length?p:_)),s+r.size/2+l.measureText(u).width}(l,a,s,r),_=function Ov(a,s,r){let l=a;return"string"!=typeof s.text&&(l=sy(s,r)),l}(u,l,s.lineHeight);return{itemWidth:p,itemHeight:_}}(l,r,p,Ze,u);Yt>0&&fe+_n+2*y>U&&(q+=ae+y,R.push({width:ae,height:fe}),Ae+=ae+y,je++,ae=fe=0),C[Yt]={left:Ae,top:fe,col:je,width:Wt,height:_n},ae=Math.max(ae,Wt),fe+=_n+y}),q+=ae,R.push({width:ae,height:fe}),q}adjustHitBoxes(){if(!this.options.display)return;const s=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:l,labels:{padding:u},rtl:p}}=this,_=al(p,this.left,this.width);if(this.isHorizontal()){let y=0,C=pa(l,this.left+u,this.right-this.lineWidths[y]);for(const R of r)y!==R.row&&(y=R.row,C=pa(l,this.left+u,this.right-this.lineWidths[y])),R.top+=this.top+s+u,R.left=_.leftForLtr(_.x(C),R.width),C+=R.width+u}else{let y=0,C=pa(l,this.top+s+u,this.bottom-this.columnSizes[y].height);for(const R of r)R.col!==y&&(y=R.col,C=pa(l,this.top+s+u,this.bottom-this.columnSizes[y].height)),R.top=C,R.left+=this.left+u,R.left=_.leftForLtr(_.x(R.left),R.width),C+=R.height+u}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const s=this.ctx;sl(s,this),this._draw(),_u(s)}}_draw(){const{options:s,columnSizes:r,lineWidths:l,ctx:u}=this,{align:p,labels:_}=s,y=io.color,C=al(s.rtl,this.left,this.width),R=wo(_.font),{padding:U}=_,q=R.size,ae=q/2;let fe;this.drawTitle(),u.textAlign=C.textAlign("left"),u.textBaseline="middle",u.lineWidth=.5,u.font=R.string;const{boxWidth:Ae,boxHeight:je,itemHeight:Ze}=gE(_,q),_n=this.isHorizontal(),vn=this._computeTitleHeight();fe=_n?{x:pa(p,this.left+U,this.right-l[0]),y:this.top+U+vn,line:0}:{x:this.left+U,y:pa(p,this.top+vn+U,this.bottom-r[0].height),line:0},jd(this.ctx,s.textDirection);const fn=Ze+U;this.legendItems.forEach((Dn,Xn)=>{u.strokeStyle=Dn.fontColor,u.fillStyle=Dn.fontColor;const Vn=u.measureText(Dn.text).width,wr=C.textAlign(Dn.textAlign||(Dn.textAlign=_.textAlign)),gi=Ae+ae+Vn;let Mi=fe.x,ki=fe.y;C.setWidth(this.width),_n?Xn>0&&Mi+gi+U>this.right&&(ki=fe.y+=fn,fe.line++,Mi=fe.x=pa(p,this.left+U,this.right-l[fe.line])):Xn>0&&ki+fn>this.bottom&&(Mi=fe.x=Mi+r[fe.line].width+U,fe.line++,ki=fe.y=pa(p,this.top+vn+U,this.bottom-r[fe.line].height)),function(Dn,Xn,Vn){if(isNaN(Ae)||Ae<=0||isNaN(je)||je<0)return;u.save();const wr=oi(Vn.lineWidth,1);if(u.fillStyle=oi(Vn.fillStyle,y),u.lineCap=oi(Vn.lineCap,"butt"),u.lineDashOffset=oi(Vn.lineDashOffset,0),u.lineJoin=oi(Vn.lineJoin,"miter"),u.lineWidth=wr,u.strokeStyle=oi(Vn.strokeStyle,y),u.setLineDash(oi(Vn.lineDash,[])),_.usePointStyle){const gi={radius:je*Math.SQRT2/2,pointStyle:Vn.pointStyle,rotation:Vn.rotation,borderWidth:wr},Mi=C.xPlus(Dn,Ae/2);El(u,gi,Mi,Xn+ae,_.pointStyleWidth&&Ae)}else{const gi=Xn+Math.max((q-je)/2,0),Mi=C.leftForLtr(Dn,Ae),ki=jc(Vn.borderRadius);u.beginPath(),Object.values(ki).some(ya=>0!==ya)?ma(u,{x:Mi,y:gi,w:Ae,h:je,radius:ki}):u.rect(Mi,gi,Ae,je),u.fill(),0!==wr&&u.stroke()}u.restore()}(C.x(Mi),ki,Dn),Mi=((a,s,r,l)=>a===(l?"left":"right")?r:"center"===a?(s+r)/2:s)(wr,Mi+Ae+ae,_n?Mi+gi:this.right,s.rtl),function(Dn,Xn,Vn){Ro(u,Vn.text,Dn,Xn+Ze/2,R,{strikethrough:Vn.hidden,textAlign:C.textAlign(Vn.textAlign)})}(C.x(Mi),ki,Dn),_n?fe.x+=gi+U:fe.y+="string"!=typeof Dn.text?sy(Dn,R.lineHeight)+U:fn}),$o(this.ctx,s.textDirection)}drawTitle(){const s=this.options,r=s.title,l=wo(r.font),u=Xo(r.padding);if(!r.display)return;const p=al(s.rtl,this.left,this.width),_=this.ctx,y=r.position,R=u.top+l.size/2;let U,q=this.left,ae=this.width;if(this.isHorizontal())ae=Math.max(...this.lineWidths),U=this.top+R,q=pa(s.align,q,this.right-ae);else{const Ae=this.columnSizes.reduce((je,Ze)=>Math.max(je,Ze.height),0);U=R+pa(s.align,this.top,this.bottom-Ae-s.labels.padding-this._computeTitleHeight())}const fe=pa(y,q,q+ae);_.textAlign=p.textAlign(Pd(y)),_.textBaseline="middle",_.strokeStyle=r.color,_.fillStyle=r.color,_.font=l.string,Ro(_,r.text,fe,U,l)}_computeTitleHeight(){const s=this.options.title,r=wo(s.font),l=Xo(s.padding);return s.display?r.lineHeight+l.height:0}_getLegendItemAt(s,r){let l,u,p;if(zt(s,this.left,this.right)&&zt(r,this.top,this.bottom))for(p=this.legendHitBoxes,l=0;l<p.length;++l)if(u=p[l],zt(s,u.left,u.left+u.width)&&zt(r,u.top,u.top+u.height))return this.legendItems[l];return null}handleEvent(s){const r=this.options;if(!function oy(a,s){return!(("mousemove"!==a&&"mouseout"!==a||!s.onHover&&!s.onLeave)&&(!s.onClick||"click"!==a&&"mouseup"!==a))}(s.type,r))return;const l=this._getLegendItemAt(s.x,s.y);if("mousemove"===s.type||"mouseout"===s.type){const u=this._hoveredItem,p=((a,s)=>null!==a&&null!==s&&a.datasetIndex===s.datasetIndex&&a.index===s.index)(u,l);u&&!p&&$s(r.onLeave,[s,u,this],this),this._hoveredItem=l,l&&!p&&$s(r.onHover,[s,l,this],this)}else l&&$s(r.onClick,[s,l,this],this)}}function sy(a,s){return s*(a.text?a.text.length:0)}var _E={id:"legend",_element:mE,start(a,s,r){const l=a.legend=new mE({ctx:a.ctx,options:r,chart:a});Pa.configure(a,l,r),Pa.addBox(a,l)},stop(a){Pa.removeBox(a,a.legend),delete a.legend},beforeUpdate(a,s,r){const l=a.legend;Pa.configure(a,l,r),l.options=r},afterUpdate(a){const s=a.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(a,s){s.replay||a.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(a,s,r){const l=s.datasetIndex,u=r.chart;u.isDatasetVisible(l)?(u.hide(l),s.hidden=!0):(u.show(l),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:a=>a.chart.options.color,boxWidth:40,padding:10,generateLabels(a){const s=a.data.datasets,{labels:{usePointStyle:r,pointStyle:l,textAlign:u,color:p,useBorderRadius:_,borderRadius:y}}=a.legend.options;return a._getSortedDatasetMetas().map(C=>{const R=C.controller.getStyle(r?0:void 0),U=Xo(R.borderWidth);return{text:s[C.index].label,fillStyle:R.backgroundColor,fontColor:p,hidden:!C.visible,lineCap:R.borderCapStyle,lineDash:R.borderDash,lineDashOffset:R.borderDashOffset,lineJoin:R.borderJoinStyle,lineWidth:(U.width+U.height)/4,strokeStyle:R.borderColor,pointStyle:l||R.pointStyle,rotation:R.rotation,textAlign:u||R.textAlign,borderRadius:_&&(y||R.borderRadius),datasetIndex:C.index}},this)}},title:{color:a=>a.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:a=>!a.startsWith("on"),labels:{_scriptable:a=>!["generateLabels","filter","sort"].includes(a)}}};class mm extends mc{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,r){const l=this.options;if(this.left=0,this.top=0,!l.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=s,this.height=this.bottom=r;const u=Ds(l.text)?l.text.length:1;this._padding=Xo(l.padding);const p=u*wo(l.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=p:this.width=p}isHorizontal(){const s=this.options.position;return"top"===s||"bottom"===s}_drawArgs(s){const{top:r,left:l,bottom:u,right:p,options:_}=this,y=_.align;let R,U,q,C=0;return this.isHorizontal()?(U=pa(y,l,p),q=r+s,R=p-l):("left"===_.position?(U=l+s,q=pa(y,u,r),C=-.5*As):(U=p-s,q=pa(y,r,u),C=.5*As),R=u-r),{titleX:U,titleY:q,maxWidth:R,rotation:C}}draw(){const s=this.ctx,r=this.options;if(!r.display)return;const l=wo(r.font),p=l.lineHeight/2+this._padding.top,{titleX:_,titleY:y,maxWidth:C,rotation:R}=this._drawArgs(p);Ro(s,r.text,0,0,l,{color:r.color,maxWidth:C,rotation:R,textAlign:Pd(r.align),textBaseline:"middle",translation:[_,y]})}}var Sw={id:"title",_element:mm,start(a,s,r){!function eo(a,s){const r=new mm({ctx:a.ctx,options:s,chart:a});Pa.configure(a,r,s),Pa.addBox(a,r),a.titleBlock=r}(a,r)},stop(a){Pa.removeBox(a,a.titleBlock),delete a.titleBlock},beforeUpdate(a,s,r){const l=a.titleBlock;Pa.configure(a,l,r),l.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _f=new WeakMap;var mo={id:"subtitle",start(a,s,r){const l=new mm({ctx:a.ctx,options:r,chart:a});Pa.configure(a,l,r),Pa.addBox(a,l),_f.set(a,l)},stop(a){Pa.removeBox(a,_f.get(a)),_f.delete(a)},beforeUpdate(a,s,r){const l=_f.get(a);Pa.configure(a,l,r),l.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yf={average(a){if(!a.length)return!1;let s,r,l=0,u=0,p=0;for(s=0,r=a.length;s<r;++s){const _=a[s].element;if(_&&_.hasValue()){const y=_.tooltipPosition();l+=y.x,u+=y.y,++p}}return{x:l/p,y:u/p}},nearest(a,s){if(!a.length)return!1;let p,_,y,r=s.x,l=s.y,u=Number.POSITIVE_INFINITY;for(p=0,_=a.length;p<_;++p){const C=a[p].element;if(C&&C.hasValue()){const U=Wa(s,C.getCenterPoint());U<u&&(u=U,y=C)}}if(y){const C=y.tooltipPosition();r=C.x,l=C.y}return{x:r,y:l}}};function Yc(a,s){return s&&(Ds(s)?Array.prototype.push.apply(a,s):a.push(s)),a}function Zc(a){return("string"==typeof a||a instanceof String)&&a.indexOf("\n")>-1?a.split("\n"):a}function Lp(a,s){const{element:r,datasetIndex:l,index:u}=s,p=a.getDatasetMeta(l).controller,{label:_,value:y}=p.getLabelAndValue(u);return{chart:a,label:_,parsed:p.getParsed(u),raw:a.data.datasets[l].data[u],formattedValue:y,dataset:p.getDataset(),dataIndex:u,datasetIndex:l,element:r}}function wc(a,s){const r=a.chart.ctx,{body:l,footer:u,title:p}=a,{boxWidth:_,boxHeight:y}=s,C=wo(s.bodyFont),R=wo(s.titleFont),U=wo(s.footerFont),q=p.length,ae=u.length,fe=l.length,Ae=Xo(s.padding);let je=Ae.height,Ze=0,Yt=l.reduce((vn,fn)=>vn+fn.before.length+fn.lines.length+fn.after.length,0);Yt+=a.beforeBody.length+a.afterBody.length,q&&(je+=q*R.lineHeight+(q-1)*s.titleSpacing+s.titleMarginBottom),Yt&&(je+=fe*(s.displayColors?Math.max(y,C.lineHeight):C.lineHeight)+(Yt-fe)*C.lineHeight+(Yt-1)*s.bodySpacing),ae&&(je+=s.footerMarginTop+ae*U.lineHeight+(ae-1)*s.footerSpacing);let Wt=0;const _n=function(vn){Ze=Math.max(Ze,r.measureText(vn).width+Wt)};return r.save(),r.font=R.string,Fr(a.title,_n),r.font=C.string,Fr(a.beforeBody.concat(a.afterBody),_n),Wt=s.displayColors?_+2+s.boxPadding:0,Fr(l,vn=>{Fr(vn.before,_n),Fr(vn.lines,_n),Fr(vn.after,_n)}),Wt=0,r.font=U.string,Fr(a.footer,_n),r.restore(),Ze+=Ae.width,{width:Ze,height:je}}function Vp(a,s,r,l){const{x:u,width:p}=r,{width:_,chartArea:{left:y,right:C}}=a;let R="center";return"center"===l?R=u<=(y+C)/2?"left":"right":u<=p/2?R="left":u>=_-p/2&&(R="right"),function yE(a,s,r,l){const{x:u,width:p}=l,_=r.caretSize+r.caretPadding;if("left"===a&&u+p+_>s.width||"right"===a&&u-p-_<0)return!0}(R,a,s,r)&&(R="center"),R}function vE(a,s,r){const l=r.yAlign||s.yAlign||function ay(a,s){const{y:r,height:l}=s;return r<l/2?"top":r>a.height-l/2?"bottom":"center"}(a,r);return{xAlign:r.xAlign||s.xAlign||Vp(a,s,r,l),yAlign:l}}function Fv(a,s,r,l){const{caretSize:u,caretPadding:p,cornerRadius:_}=a,{xAlign:y,yAlign:C}=r,R=u+p,{topLeft:U,topRight:q,bottomLeft:ae,bottomRight:fe}=jc(_);let Ae=function ly(a,s){let{x:r,width:l}=a;return"right"===s?r-=l:"center"===s&&(r-=l/2),r}(s,y);const je=function Nv(a,s,r){let{y:l,height:u}=a;return"top"===s?l+=r:l-="bottom"===s?u+r:u/2,l}(s,C,R);return"center"===C?"left"===y?Ae+=R:"right"===y&&(Ae-=R):"left"===y?Ae-=Math.max(U,ae)+u:"right"===y&&(Ae+=Math.max(q,fe)+u),{x:Ii(Ae,0,l.width-s.width),y:Ii(je,0,l.height-s.height)}}function Mu(a,s,r){const l=Xo(r.padding);return"center"===s?a.x+a.width/2:"right"===s?a.x+a.width-l.right:a.x+l.left}function cy(a){return Yc([],Zc(a))}function dd(a,s){const r=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return r?a.override(r):a}const bE={beforeTitle:rl,title(a){if(a.length>0){const s=a[0],r=s.chart.data.labels,l=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return s.dataset.label||"";if(s.label)return s.label;if(l>0&&s.dataIndex<l)return r[s.dataIndex]}return""},afterTitle:rl,beforeBody:rl,beforeLabel:rl,label(a){if(this&&this.options&&"dataset"===this.options.mode)return a.label+": "+a.formattedValue||a.formattedValue;let s=a.dataset.label||"";s&&(s+=": ");const r=a.formattedValue;return Ji(r)||(s+=r),s},labelColor(a){const r=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(a){const r=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:rl,afterBody:rl,beforeFooter:rl,footer:rl,afterFooter:rl};function oa(a,s,r,l){const u=a[s].call(r,l);return typeof u>"u"?bE[s].call(r,l):u}let _m=(()=>class a extends mc{static positioners=yf;constructor(r){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=r.chart,this.options=r.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(r){this.options=r,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const r=this._cachedAnimations;if(r)return r;const l=this.chart,u=this.options.setContext(this.getContext()),p=u.enabled&&l.options.animation&&u.animations,_=new y_(this.chart,p);return p._cacheable&&(this._cachedAnimations=Object.freeze(_)),_}getContext(){return this.$context||(this.$context=function Dl(a,s,r){return Hl(a,{tooltip:s,tooltipItems:r,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(r,l){const{callbacks:u}=l,p=oa(u,"beforeTitle",this,r),_=oa(u,"title",this,r),y=oa(u,"afterTitle",this,r);let C=[];return C=Yc(C,Zc(p)),C=Yc(C,Zc(_)),C=Yc(C,Zc(y)),C}getBeforeBody(r,l){return cy(oa(l.callbacks,"beforeBody",this,r))}getBody(r,l){const{callbacks:u}=l,p=[];return Fr(r,_=>{const y={before:[],lines:[],after:[]},C=dd(u,_);Yc(y.before,Zc(oa(C,"beforeLabel",this,_))),Yc(y.lines,oa(C,"label",this,_)),Yc(y.after,Zc(oa(C,"afterLabel",this,_))),p.push(y)}),p}getAfterBody(r,l){return cy(oa(l.callbacks,"afterBody",this,r))}getFooter(r,l){const{callbacks:u}=l,p=oa(u,"beforeFooter",this,r),_=oa(u,"footer",this,r),y=oa(u,"afterFooter",this,r);let C=[];return C=Yc(C,Zc(p)),C=Yc(C,Zc(_)),C=Yc(C,Zc(y)),C}_createItems(r){const l=this._active,u=this.chart.data,p=[],_=[],y=[];let R,U,C=[];for(R=0,U=l.length;R<U;++R)C.push(Lp(this.chart,l[R]));return r.filter&&(C=C.filter((q,ae,fe)=>r.filter(q,ae,fe,u))),r.itemSort&&(C=C.sort((q,ae)=>r.itemSort(q,ae,u))),Fr(C,q=>{const ae=dd(r.callbacks,q);p.push(oa(ae,"labelColor",this,q)),_.push(oa(ae,"labelPointStyle",this,q)),y.push(oa(ae,"labelTextColor",this,q))}),this.labelColors=p,this.labelPointStyles=_,this.labelTextColors=y,this.dataPoints=C,C}update(r,l){const u=this.options.setContext(this.getContext()),p=this._active;let _,y=[];if(p.length){const C=yf[u.position].call(this,p,this._eventPosition);y=this._createItems(u),this.title=this.getTitle(y,u),this.beforeBody=this.getBeforeBody(y,u),this.body=this.getBody(y,u),this.afterBody=this.getAfterBody(y,u),this.footer=this.getFooter(y,u);const R=this._size=wc(this,u),U=Object.assign({},C,R),q=vE(this.chart,u,U),ae=Fv(u,U,q,this.chart);this.xAlign=q.xAlign,this.yAlign=q.yAlign,_={opacity:1,x:ae.x,y:ae.y,width:R.width,height:R.height,caretX:C.x,caretY:C.y}}else 0!==this.opacity&&(_={opacity:0});this._tooltipItems=y,this.$context=void 0,_&&this._resolveAnimations().update(this,_),r&&u.external&&u.external.call(this,{chart:this.chart,tooltip:this,replay:l})}drawCaret(r,l,u,p){const _=this.getCaretPosition(r,u,p);l.lineTo(_.x1,_.y1),l.lineTo(_.x2,_.y2),l.lineTo(_.x3,_.y3)}getCaretPosition(r,l,u){const{xAlign:p,yAlign:_}=this,{caretSize:y,cornerRadius:C}=u,{topLeft:R,topRight:U,bottomLeft:q,bottomRight:ae}=jc(C),{x:fe,y:Ae}=r,{width:je,height:Ze}=l;let Yt,Wt,_n,vn,fn,Dn;return"center"===_?(fn=Ae+Ze/2,"left"===p?(Yt=fe,Wt=Yt-y,vn=fn+y,Dn=fn-y):(Yt=fe+je,Wt=Yt+y,vn=fn-y,Dn=fn+y),_n=Yt):(Wt="left"===p?fe+Math.max(R,q)+y:"right"===p?fe+je-Math.max(U,ae)-y:this.caretX,"top"===_?(vn=Ae,fn=vn-y,Yt=Wt-y,_n=Wt+y):(vn=Ae+Ze,fn=vn+y,Yt=Wt+y,_n=Wt-y),Dn=vn),{x1:Yt,x2:Wt,x3:_n,y1:vn,y2:fn,y3:Dn}}drawTitle(r,l,u){const p=this.title,_=p.length;let y,C,R;if(_){const U=al(u.rtl,this.x,this.width);for(r.x=Mu(this,u.titleAlign,u),l.textAlign=U.textAlign(u.titleAlign),l.textBaseline="middle",y=wo(u.titleFont),C=u.titleSpacing,l.fillStyle=u.titleColor,l.font=y.string,R=0;R<_;++R)l.fillText(p[R],U.x(r.x),r.y+y.lineHeight/2),r.y+=y.lineHeight+C,R+1===_&&(r.y+=u.titleMarginBottom-C)}}_drawColorBox(r,l,u,p,_){const y=this.labelColors[u],C=this.labelPointStyles[u],{boxHeight:R,boxWidth:U}=_,q=wo(_.bodyFont),ae=Mu(this,"left",_),fe=p.x(ae),je=l.y+(R<q.lineHeight?(q.lineHeight-R)/2:0);if(_.usePointStyle){const Ze={radius:Math.min(U,R)/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:1},Yt=p.leftForLtr(fe,U)+U/2,Wt=je+R/2;r.strokeStyle=_.multiKeyBackground,r.fillStyle=_.multiKeyBackground,bl(r,Ze,Yt,Wt),r.strokeStyle=y.borderColor,r.fillStyle=y.backgroundColor,bl(r,Ze,Yt,Wt)}else{r.lineWidth=$i(y.borderWidth)?Math.max(...Object.values(y.borderWidth)):y.borderWidth||1,r.strokeStyle=y.borderColor,r.setLineDash(y.borderDash||[]),r.lineDashOffset=y.borderDashOffset||0;const Ze=p.leftForLtr(fe,U),Yt=p.leftForLtr(p.xPlus(fe,1),U-2),Wt=jc(y.borderRadius);Object.values(Wt).some(_n=>0!==_n)?(r.beginPath(),r.fillStyle=_.multiKeyBackground,ma(r,{x:Ze,y:je,w:U,h:R,radius:Wt}),r.fill(),r.stroke(),r.fillStyle=y.backgroundColor,r.beginPath(),ma(r,{x:Yt,y:je+1,w:U-2,h:R-2,radius:Wt}),r.fill()):(r.fillStyle=_.multiKeyBackground,r.fillRect(Ze,je,U,R),r.strokeRect(Ze,je,U,R),r.fillStyle=y.backgroundColor,r.fillRect(Yt,je+1,U-2,R-2))}r.fillStyle=this.labelTextColors[u]}drawBody(r,l,u){const{body:p}=this,{bodySpacing:_,bodyAlign:y,displayColors:C,boxHeight:R,boxWidth:U,boxPadding:q}=u,ae=wo(u.bodyFont);let fe=ae.lineHeight,Ae=0;const je=al(u.rtl,this.x,this.width),Ze=function(wr){l.fillText(wr,je.x(r.x+Ae),r.y+fe/2),r.y+=fe+_},Yt=je.textAlign(y);let Wt,_n,vn,fn,Dn,Xn,Vn;for(l.textAlign=y,l.textBaseline="middle",l.font=ae.string,r.x=Mu(this,Yt,u),l.fillStyle=u.bodyColor,Fr(this.beforeBody,Ze),Ae=C&&"right"!==Yt?"center"===y?U/2+q:U+2+q:0,fn=0,Xn=p.length;fn<Xn;++fn){for(Wt=p[fn],_n=this.labelTextColors[fn],l.fillStyle=_n,Fr(Wt.before,Ze),vn=Wt.lines,C&&vn.length&&(this._drawColorBox(l,r,fn,je,u),fe=Math.max(ae.lineHeight,R)),Dn=0,Vn=vn.length;Dn<Vn;++Dn)Ze(vn[Dn]),fe=ae.lineHeight;Fr(Wt.after,Ze)}Ae=0,fe=ae.lineHeight,Fr(this.afterBody,Ze),r.y-=_}drawFooter(r,l,u){const p=this.footer,_=p.length;let y,C;if(_){const R=al(u.rtl,this.x,this.width);for(r.x=Mu(this,u.footerAlign,u),r.y+=u.footerMarginTop,l.textAlign=R.textAlign(u.footerAlign),l.textBaseline="middle",y=wo(u.footerFont),l.fillStyle=u.footerColor,l.font=y.string,C=0;C<_;++C)l.fillText(p[C],R.x(r.x),r.y+y.lineHeight/2),r.y+=y.lineHeight+u.footerSpacing}}drawBackground(r,l,u,p){const{xAlign:_,yAlign:y}=this,{x:C,y:R}=r,{width:U,height:q}=u,{topLeft:ae,topRight:fe,bottomLeft:Ae,bottomRight:je}=jc(p.cornerRadius);l.fillStyle=p.backgroundColor,l.strokeStyle=p.borderColor,l.lineWidth=p.borderWidth,l.beginPath(),l.moveTo(C+ae,R),"top"===y&&this.drawCaret(r,l,u,p),l.lineTo(C+U-fe,R),l.quadraticCurveTo(C+U,R,C+U,R+fe),"center"===y&&"right"===_&&this.drawCaret(r,l,u,p),l.lineTo(C+U,R+q-je),l.quadraticCurveTo(C+U,R+q,C+U-je,R+q),"bottom"===y&&this.drawCaret(r,l,u,p),l.lineTo(C+Ae,R+q),l.quadraticCurveTo(C,R+q,C,R+q-Ae),"center"===y&&"left"===_&&this.drawCaret(r,l,u,p),l.lineTo(C,R+ae),l.quadraticCurveTo(C,R,C+ae,R),l.closePath(),l.fill(),p.borderWidth>0&&l.stroke()}_updateAnimationTarget(r){const l=this.chart,u=this.$animations,p=u&&u.x,_=u&&u.y;if(p||_){const y=yf[r.position].call(this,this._active,this._eventPosition);if(!y)return;const C=this._size=wc(this,r),R=Object.assign({},y,this._size),U=vE(l,r,R),q=Fv(r,R,U,l);(p._to!==q.x||_._to!==q.y)&&(this.xAlign=U.xAlign,this.yAlign=U.yAlign,this.width=C.width,this.height=C.height,this.caretX=y.x,this.caretY=y.y,this._resolveAnimations().update(this,q))}}_willRender(){return!!this.opacity}draw(r){const l=this.options.setContext(this.getContext());let u=this.opacity;if(!u)return;this._updateAnimationTarget(l);const p={width:this.width,height:this.height},_={x:this.x,y:this.y};u=Math.abs(u)<.001?0:u;const y=Xo(l.padding);l.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(r.save(),r.globalAlpha=u,this.drawBackground(_,r,p,l),jd(r,l.textDirection),_.y+=y.top,this.drawTitle(_,r,l),this.drawBody(_,r,l),this.drawFooter(_,r,l),$o(r,l.textDirection),r.restore())}getActiveElements(){return this._active||[]}setActiveElements(r,l){const u=this._active,p=r.map(({datasetIndex:C,index:R})=>{const U=this.chart.getDatasetMeta(C);if(!U)throw new Error("Cannot find a dataset at index "+C);return{datasetIndex:C,element:U.data[R],index:R}}),_=!Mh(u,p),y=this._positionChanged(p,l);(_||y)&&(this._active=p,this._eventPosition=l,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(r,l,u=!0){if(l&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const p=this.options,_=this._active||[],y=this._getActiveElements(r,_,l,u),C=this._positionChanged(y,r),R=l||!Mh(y,_)||C;return R&&(this._active=y,(p.enabled||p.external)&&(this._eventPosition={x:r.x,y:r.y},this.update(!0,l))),R}_getActiveElements(r,l,u,p){const _=this.options;if("mouseout"===r.type)return[];if(!p)return l;const y=this.chart.getElementsAtEventForMode(r,_.mode,_,u);return _.reverse&&y.reverse(),y}_positionChanged(r,l){const{caretX:u,caretY:p,options:_}=this,y=yf[_.position].call(this,r,l);return!1!==y&&(u!==y.x||p!==y.y)}})();var ym={id:"tooltip",_element:_m,positioners:yf,afterInit(a,s,r){r&&(a.tooltip=new _m({chart:a,options:r}))},beforeUpdate(a,s,r){a.tooltip&&a.tooltip.initialize(r)},reset(a,s,r){a.tooltip&&a.tooltip.initialize(r)},afterDraw(a){const s=a.tooltip;if(s&&s._willRender()){const r={tooltip:s};if(!1===a.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0}))return;s.draw(a.ctx),a.notifyPlugins("afterTooltipDraw",r)}},afterEvent(a,s){a.tooltip&&a.tooltip.handleEvent(s.event,s.replay,s.inChartArea)&&(s.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(a,s)=>s.bodyFont.size,boxWidth:(a,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:a=>"filter"!==a&&"itemSort"!==a&&"external"!==a,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ku=Object.freeze({__proto__:null,Colors:dl,Decimation:Op,Filler:pE,Legend:_E,SubTitle:mo,Title:Sw,Tooltip:ym});function Bp(a){const s=this.getLabels();return a>=0&&a<s.length?s[a]:a}let EE=(()=>class a extends ql{static id="category";static defaults={ticks:{callback:Bp}};constructor(r){super(r),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(r){const l=this._addedLabels;if(l.length){const u=this.getLabels();for(const{index:p,label:_}of l)u[p]===_&&u.splice(p,1);this._addedLabels=[]}super.init(r)}parse(r,l){if(Ji(r))return null;const u=this.getLabels();return((a,s)=>null===a?null:Ii(Math.round(a),0,s))(l=isFinite(l)&&u[l]===r?l:function Lv(a,s,r,l){const u=a.indexOf(s);return-1===u?((a,s,r,l)=>("string"==typeof s?(r=a.push(s)-1,l.unshift({index:r,label:s})):isNaN(s)&&(r=null),r))(a,s,r,l):u!==a.lastIndexOf(s)?r:u}(u,r,oi(l,r),this._addedLabels),u.length-1)}determineDataLimits(){const{minDefined:r,maxDefined:l}=this.getUserBounds();let{min:u,max:p}=this.getMinMax(!0);"ticks"===this.options.bounds&&(r||(u=0),l||(p=this.getLabels().length-1)),this.min=u,this.max=p}buildTicks(){const r=this.min,l=this.max,u=this.options.offset,p=[];let _=this.getLabels();_=0===r&&l===_.length-1?_:_.slice(r,l+1),this._valueRange=Math.max(_.length-(u?0:1),1),this._startValue=this.min-(u?.5:0);for(let y=r;y<=l;y++)p.push({value:y});return p}getLabelForValue(r){return Bp.call(this,r)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(r){return"number"!=typeof r&&(r=this.parse(r)),null===r?NaN:this.getPixelForDecimal((r-this._startValue)/this._valueRange)}getPixelForTick(r){const l=this.ticks;return r<0||r>l.length-1?null:this.getPixelForValue(l[r].value)}getValueForPixel(r){return Math.round(this._startValue+this.getDecimalForPixel(r)*this._valueRange)}getBasePixel(){return this.bottom}})();function Up(a,s,{horizontal:r,minRotation:l}){const u=Vl(l),p=(r?Math.sin(u):Math.cos(u))||.001;return Math.min(s/p,.75*s*(""+a).length)}class Ou extends ql{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,r){return Ji(s)||("number"==typeof s||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){const{beginAtZero:s}=this.options,{minDefined:r,maxDefined:l}=this.getUserBounds();let{min:u,max:p}=this;const _=C=>u=r?u:C,y=C=>p=l?p:C;if(s){const C=ia(u),R=ia(p);C<0&&R<0?y(0):C>0&&R>0&&_(0)}if(u===p){let C=0===p?1:Math.abs(.05*p);y(p+C),s||_(u-C)}this.min=u,this.max=p}getTickLimit(){const s=this.options.ticks;let u,{maxTicksLimit:r,stepSize:l}=s;return l?(u=Math.ceil(this.max/l)-Math.floor(this.min/l)+1,u>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${l} would result generating up to ${u} ticks. Limiting to 1000.`),u=1e3)):(u=this.computeTickLimit(),r=r||11),r&&(u=Math.min(r,u)),u}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const s=this.options,r=s.ticks;let l=this.getTickLimit();l=Math.max(2,l);const _=function sh(a,s){const r=[],{bounds:u,step:p,min:_,max:y,precision:C,count:R,maxTicks:U,maxDigits:q,includeBounds:ae}=a,fe=p||1,Ae=U-1,{min:je,max:Ze}=s,Yt=!Ji(_),Wt=!Ji(y),_n=!Ji(R),vn=(Ze-je)/(q+1);let Dn,Xn,Vn,wr,fn=Kf((Ze-je)/Ae/fe)*fe;if(fn<1e-14&&!Yt&&!Wt)return[{value:je},{value:Ze}];wr=Math.ceil(Ze/fn)-Math.floor(je/fn),wr>Ae&&(fn=Kf(wr*fn/Ae/fe)*fe),Ji(C)||(Dn=Math.pow(10,C),fn=Math.ceil(fn*Dn)/Dn),"ticks"===u?(Xn=Math.floor(je/fn)*fn,Vn=Math.ceil(Ze/fn)*fn):(Xn=je,Vn=Ze),Yt&&Wt&&p&&function Ll(a,s){const r=Math.round(a);return r-s<=a&&r+s>=a}((y-_)/p,fn/1e3)?(wr=Math.round(Math.min((y-_)/fn,U)),fn=(y-_)/wr,Xn=_,Vn=y):_n?(Xn=Yt?_:Xn,Vn=Wt?y:Vn,wr=R-1,fn=(Vn-Xn)/wr):(wr=(Vn-Xn)/fn,wr=Lc(wr,Math.round(wr),fn/1e3)?Math.round(wr):Math.ceil(wr));const gi=Math.max(kh(fn),kh(Xn));Dn=Math.pow(10,Ji(C)?gi:C),Xn=Math.round(Xn*Dn)/Dn,Vn=Math.round(Vn*Dn)/Dn;let Mi=0;for(Yt&&(ae&&Xn!==_?(r.push({value:_}),Xn<_&&Mi++,Lc(Math.round((Xn+Mi*fn)*Dn)/Dn,_,Up(_,vn,a))&&Mi++):Xn<_&&Mi++);Mi<wr;++Mi){const ki=Math.round((Xn+Mi*fn)*Dn)/Dn;if(Wt&&ki>y)break;r.push({value:ki})}return Wt&&ae&&Vn!==y?r.length&&Lc(r[r.length-1].value,y,Up(y,vn,a))?r[r.length-1].value=y:r.push({value:y}):(!Wt||Vn===y)&&r.push({value:Vn}),r}({maxTicks:l,bounds:s.bounds,min:s.min,max:s.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:!1!==r.includeBounds},this._range||this);return"ticks"===s.bounds&&Ad(_,this,"value"),s.reverse?(_.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),_}configure(){const s=this.ticks;let r=this.min,l=this.max;if(super.configure(),this.options.offset&&s.length){const u=(l-r)/Math.max(s.length-1,1)/2;r-=u,l+=u}this._startValue=r,this._endValue=l,this._valueRange=l-r}getLabelForValue(s){return Bc(s,this.chart.options.locale,this.options.ticks.format)}}const oh=a=>Math.floor(So(a)),Nu=(a,s)=>Math.pow(10,oh(a)+s);function vm(a){return a/Math.pow(10,oh(a))==1}function ah(a,s,r){const l=Math.pow(10,r),u=Math.floor(a/l);return Math.ceil(s/l)-u}function Jc(a){const s=a.ticks;if(s.display&&a.display){const r=Xo(s.backdropPadding);return oi(s.font&&s.font.size,io.font.size)+r.height}return 0}function dy(a,s,r){return r=Ds(r)?r:[r],{w:Bh(a,s.string,r),h:r.length*s.lineHeight}}function Uv(a,s,r,l,u){return a===l||a===u?{start:s-r/2,end:s+r/2}:a<l||a>u?{start:s-r,end:s}:{start:s,end:s+r}}function bm(a,s,r,l,u){const p=Math.abs(Math.sin(r)),_=Math.abs(Math.cos(r));let y=0,C=0;l.start<s.l?(y=(s.l-l.start)/p,a.l=Math.min(a.l,s.l-y)):l.end>s.r&&(y=(l.end-s.r)/p,a.r=Math.max(a.r,s.r+y)),u.start<s.t?(C=(s.t-u.start)/_,a.t=Math.min(a.t,s.t-C)):u.end>s.b&&(C=(u.end-s.b)/_,a.b=Math.max(a.b,s.b+C))}function hy(a,s,r){const l=a.drawingArea,{extra:u,additionalAngle:p,padding:_,size:y}=r,C=a.getPointPosition(s,l+u+_,p),R=Math.round(qf(ha(C.angle+Ms))),U=function IE(a,s,r){return 90===r||270===r?a-=s/2:(r>270||r<90)&&(a-=s),a}(C.y,y.h,R),q=function wE(a){return 0===a||180===a?"center":a<180?"left":"right"}(R),ae=function Ef(a,s,r){return"right"===r?a-=s:"center"===r&&(a-=s/2),a}(C.x,y.w,q);return{visible:!0,x:C.x,y:U,textAlign:q,left:ae,top:U,right:ae+y.w,bottom:U+y.h}}function bf(a,s){if(!s)return!0;const{left:r,top:l,right:u,bottom:p}=a;return!(ga({x:r,y:l},s)||ga({x:r,y:p},s)||ga({x:u,y:l},s)||ga({x:u,y:p},s))}function Em(a,s,r){const{left:l,top:u,right:p,bottom:_}=r,{backdropColor:y}=s;if(!Ji(y)){const C=jc(s.borderRadius),R=Xo(s.backdropPadding);a.fillStyle=y;const U=l-R.left,q=u-R.top,ae=p-l+R.width,fe=_-u+R.height;Object.values(C).some(Ae=>0!==Ae)?(a.beginPath(),ma(a,{x:U,y:q,w:ae,h:fe,radius:C}),a.fill()):a.fillRect(U,q,ae,fe)}}function wm(a,s,r,l){const{ctx:u}=a;if(r)u.arc(a.xCenter,a.yCenter,s,0,ps);else{let p=a.getPointPosition(0,s);u.moveTo(p.x,p.y);for(let _=1;_<l;_++)p=a.getPointPosition(_,s),u.lineTo(p.x,p.y)}}const Im={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},aa=Object.keys(Im);function zv(a,s){return a-s}function Tm(a,s){if(Ji(s))return null;const r=a._adapter,{parser:l,round:u,isoWeekday:p}=a._parseOpts;let _=s;return"function"==typeof l&&(_=l(_)),go(_)||(_="string"==typeof l?r.parse(_,l):r.parse(_)),null===_?null:(u&&(_="week"!==u||!lc(p)&&!0!==p?r.startOf(_,u):r.startOf(_,"isoWeek",p)),+_)}function $p(a,s,r,l){const u=aa.length;for(let p=aa.indexOf(a);p<u-1;++p){const _=Im[aa[p]];if(_.common&&Math.ceil((r-s)/((_.steps?_.steps:Number.MAX_SAFE_INTEGER)*_.size))<=l)return aa[p]}return aa[u-1]}function ch(a,s,r){if(r){if(r.length){const{lo:l,hi:u}=$r(r,s);a[r[l]>=s?r[l]:r[u]]=!0}}else a[s]=!0}function Hp(a,s,r){const l=[],u={},p=s.length;let _,y;for(_=0;_<p;++_)y=s[_],u[y]=_,l.push({value:y,major:!1});return 0!==p&&r?function TE(a,s,r,l){const u=a._adapter,p=+u.startOf(s[0].value,l),_=s[s.length-1].value;let y,C;for(y=p;y<=_;y=+u.add(y,1,l))C=r[y],C>=0&&(s[C].major=!0);return s}(a,l,u,r):l}let Dm=(()=>class a extends ql{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(r){super(r),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(r,l={}){const u=r.time||(r.time={}),p=this._adapter=new dp__date(r.adapters.date);p.init(l),Oc(u.displayFormats,p.formats()),this._parseOpts={parser:u.parser,round:u.round,isoWeekday:u.isoWeekday},super.init(r),this._normalized=l.normalized}parse(r,l){return void 0===r?null:Tm(this,r)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const r=this.options,l=this._adapter,u=r.time.unit||"day";let{min:p,max:_,minDefined:y,maxDefined:C}=this.getUserBounds();function R(U){!y&&!isNaN(U.min)&&(p=Math.min(p,U.min)),!C&&!isNaN(U.max)&&(_=Math.max(_,U.max))}(!y||!C)&&(R(this._getLabelBounds()),("ticks"!==r.bounds||"labels"!==r.ticks.source)&&R(this.getMinMax(!1))),p=go(p)&&!isNaN(p)?p:+l.startOf(Date.now(),u),_=go(_)&&!isNaN(_)?_:+l.endOf(Date.now(),u)+1,this.min=Math.min(p,_-1),this.max=Math.max(p+1,_)}_getLabelBounds(){const r=this.getLabelTimestamps();let l=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY;return r.length&&(l=r[0],u=r[r.length-1]),{min:l,max:u}}buildTicks(){const r=this.options,l=r.time,u=r.ticks,p="labels"===u.source?this.getLabelTimestamps():this._generate();"ticks"===r.bounds&&p.length&&(this.min=this._userMin||p[0],this.max=this._userMax||p[p.length-1]);const _=this.min,C=function pi(a,s,r){let l=0,u=a.length;for(;l<u&&a[l]<s;)l++;for(;u>l&&a[u-1]>r;)u--;return l>0||u<a.length?a.slice(l,u):a}(p,_,this.max);return this._unit=l.unit||(u.autoSkip?$p(l.minUnit,this.min,this.max,this._getLabelCapacity(_)):function Wv(a,s,r,l,u){for(let p=aa.length-1;p>=aa.indexOf(r);p--){const _=aa[p];if(Im[_].common&&a._adapter.diff(u,l,_)>=s-1)return _}return aa[r?aa.indexOf(r):0]}(this,C.length,l.minUnit,this.min,this.max)),this._majorUnit=u.major.enabled&&"year"!==this._unit?function Cm(a){for(let s=aa.indexOf(a)+1,r=aa.length;s<r;++s)if(Im[aa[s]].common)return aa[s]}(this._unit):void 0,this.initOffsets(p),r.reverse&&C.reverse(),Hp(this,C,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(r=>+r.value))}initOffsets(r=[]){let p,_,l=0,u=0;this.options.offset&&r.length&&(p=this.getDecimalForValue(r[0]),l=1===r.length?1-p:(this.getDecimalForValue(r[1])-p)/2,_=this.getDecimalForValue(r[r.length-1]),u=1===r.length?_:(_-this.getDecimalForValue(r[r.length-2]))/2);const y=r.length<3?.5:.25;l=Ii(l,0,y),u=Ii(u,0,y),this._offsets={start:l,end:u,factor:1/(l+1+u)}}_generate(){const r=this._adapter,l=this.min,u=this.max,p=this.options,_=p.time,y=_.unit||$p(_.minUnit,l,u,this._getLabelCapacity(l)),C=oi(p.ticks.stepSize,1),R="week"===y&&_.isoWeekday,U=lc(R)||!0===R,q={};let fe,Ae,ae=l;if(U&&(ae=+r.startOf(ae,"isoWeek",R)),ae=+r.startOf(ae,U?"day":y),r.diff(u,l,y)>1e5*C)throw new Error(l+" and "+u+" are too far apart with stepSize of "+C+" "+y);const je="data"===p.ticks.source&&this.getDataTimestamps();for(fe=ae,Ae=0;fe<u;fe=+r.add(fe,C,y),Ae++)ch(q,fe,je);return(fe===u||"ticks"===p.bounds||1===Ae)&&ch(q,fe,je),Object.keys(q).sort(zv).map(Ze=>+Ze)}getLabelForValue(r){const u=this.options.time;return this._adapter.format(r,u.tooltipFormat?u.tooltipFormat:u.displayFormats.datetime)}format(r,l){return this._adapter.format(r,l||this.options.time.displayFormats[this._unit])}_tickFormatFunction(r,l,u,p){const _=this.options,y=_.ticks.callback;if(y)return $s(y,[r,l,u],this);const C=_.time.displayFormats,R=this._unit,U=this._majorUnit,ae=U&&C[U],fe=u[l];return this._adapter.format(r,p||(U&&ae&&fe&&fe.major?ae:R&&C[R]))}generateTickLabels(r){let l,u,p;for(l=0,u=r.length;l<u;++l)p=r[l],p.label=this._tickFormatFunction(p.value,l,r)}getDecimalForValue(r){return null===r?NaN:(r-this.min)/(this.max-this.min)}getPixelForValue(r){const l=this._offsets,u=this.getDecimalForValue(r);return this.getPixelForDecimal((l.start+u)*l.factor)}getValueForPixel(r){const l=this._offsets,u=this.getDecimalForPixel(r)/l.factor-l.end;return this.min+u*(this.max-this.min)}_getLabelSize(r){const l=this.options.ticks,u=this.ctx.measureText(r).width,p=Vl(this.isHorizontal()?l.maxRotation:l.minRotation),_=Math.cos(p),y=Math.sin(p),C=this._resolveTickFontOptions(0).size;return{w:u*_+C*y,h:u*y+C*_}}_getLabelCapacity(r){const l=this.options.time,u=l.displayFormats,p=u[l.unit]||u.millisecond,_=this._tickFormatFunction(r,0,Hp(this,[r],this._majorUnit),p),y=this._getLabelSize(_),C=Math.floor(this.isHorizontal()?this.width/y.w:this.height/y.h)-1;return C>0?C:1}getDataTimestamps(){let l,u,r=this._cache.data||[];if(r.length)return r;const p=this.getMatchingVisibleMetas();if(this._normalized&&p.length)return this._cache.data=p[0].controller.getAllParsedValues(this);for(l=0,u=p.length;l<u;++l)r=r.concat(p[l].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const r=this._cache.labels||[];let l,u;if(r.length)return r;const p=this.getLabels();for(l=0,u=p.length;l<u;++l)r.push(Tm(this,p[l]));return this._cache.labels=this._normalized?r:this.normalize(r)}normalize(r){return xd(r.sort(zv))}})();function Am(a,s,r){let p,_,y,C,l=0,u=a.length-1;r?(s>=a[l].pos&&s<=a[u].pos&&({lo:l,hi:u}=fa(a,"pos",s)),({pos:p,time:y}=a[l]),({pos:_,time:C}=a[u])):(s>=a[l].time&&s<=a[u].time&&({lo:l,hi:u}=fa(a,"time",s)),({time:p,pos:y}=a[l]),({time:_,pos:C}=a[u]));const R=_-p;return R?y+(C-y)*(s-p)/R:y}var Rw=Object.freeze({__proto__:null,CategoryScale:EE,LinearScale:class Bv extends Ou{static id="linear";static defaults={ticks:{callback:Xa.formatters.numeric}};determineDataLimits(){const{min:s,max:r}=this.getMinMax(!0);this.min=go(s)?s:0,this.max=go(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const s=this.isHorizontal(),r=s?this.width:this.height,l=Vl(this.options.ticks.minRotation),u=(s?Math.sin(l):Math.cos(l))||.001,p=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,p.lineHeight/u))}getPixelForValue(s){return null===s?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}},LogarithmicScale:class uy extends ql{static id="logarithmic";static defaults={ticks:{callback:Xa.formatters.logarithmic,major:{enabled:!0}}};constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(s,r){const l=Ou.prototype.parse.apply(this,[s,r]);if(0!==l)return go(l)&&l>0?l:null;this._zero=!0}determineDataLimits(){const{min:s,max:r}=this.getMinMax(!0);this.min=go(s)?Math.max(0,s):null,this.max=go(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!go(this._userMin)&&(this.min=s===Nu(this.min,0)?Nu(this.min,-1):Nu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:s,maxDefined:r}=this.getUserBounds();let l=this.min,u=this.max;const p=y=>l=s?l:y,_=y=>u=r?u:y;l===u&&(l<=0?(p(1),_(10)):(p(Nu(l,-1)),_(Nu(u,1)))),l<=0&&p(Nu(u,-1)),u<=0&&_(Nu(l,1)),this.min=l,this.max=u}buildTicks(){const s=this.options,l=function lh(a,{min:s,max:r}){s=Vi(a.min,s);const l=[],u=oh(s);let p=function Ic(a,s){let l=oh(s-a);for(;ah(a,s,l)>10;)l++;for(;ah(a,s,l)<10;)l--;return Math.min(l,oh(a))}(s,r),_=p<0?Math.pow(10,Math.abs(p)):1;const y=Math.pow(10,p),C=u>p?Math.pow(10,u):0,R=Math.round((s-C)*_)/_,U=Math.floor((s-C)/y/10)*y*10;let q=Math.floor((R-U)/Math.pow(10,p)),ae=Vi(a.min,Math.round((C+U+q*Math.pow(10,p))*_)/_);for(;ae<r;)l.push({value:ae,major:vm(ae),significand:q}),q>=10?q=q<15?15:20:q++,q>=20&&(p++,q=2,_=p>=0?1:_),ae=Math.round((C+U+q*Math.pow(10,p))*_)/_;const fe=Vi(a.max,ae);return l.push({value:fe,major:vm(fe),significand:q}),l}({min:this._userMin,max:this._userMax},this);return"ticks"===s.bounds&&Ad(l,this,"value"),s.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}getLabelForValue(s){return void 0===s?"0":Bc(s,this.chart.options.locale,this.options.ticks.format)}configure(){const s=this.min;super.configure(),this._startValue=So(s),this._valueRange=So(this.max)-So(s)}getPixelForValue(s){return(void 0===s||0===s)&&(s=this.min),null===s||isNaN(s)?NaN:this.getPixelForDecimal(s===this.min?0:(So(s)-this._startValue)/this._valueRange)}getValueForPixel(s){const r=this.getDecimalForPixel(s);return Math.pow(10,this._startValue+r*this._valueRange)}},RadialLinearScale:class wf extends Ou{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Xa.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:s=>s,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(s){super(s),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const s=this._padding=Xo(Jc(this.options)/2),r=this.width=this.maxWidth-s.width,l=this.height=this.maxHeight-s.height;this.xCenter=Math.floor(this.left+r/2+s.left),this.yCenter=Math.floor(this.top+l/2+s.top),this.drawingArea=Math.floor(Math.min(r,l)/2)}determineDataLimits(){const{min:s,max:r}=this.getMinMax(!1);this.min=go(s)&&!isNaN(s)?s:0,this.max=go(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Jc(this.options))}generateTickLabels(s){Ou.prototype.generateTickLabels.call(this,s),this._pointLabels=this.getLabels().map((r,l)=>{const u=$s(this.options.pointLabels.callback,[r,l],this);return u||0===u?u:""}).filter((r,l)=>this.chart.getDataVisibility(l))}fit(){const s=this.options;s.display&&s.pointLabels.display?function jv(a){const s={l:a.left+a._padding.left,r:a.right-a._padding.right,t:a.top+a._padding.top,b:a.bottom-a._padding.bottom},r=Object.assign({},s),l=[],u=[],p=a._pointLabels.length,_=a.options.pointLabels,y=_.centerPointLabels?As/p:0;for(let C=0;C<p;C++){const R=_.setContext(a.getPointLabelContext(C));u[C]=R.padding;const U=a.getPointPosition(C,a.drawingArea+u[C],y),q=wo(R.font),ae=dy(a.ctx,q,a._pointLabels[C]);l[C]=ae;const fe=ha(a.getIndexAngle(C)+y),Ae=Math.round(qf(fe));bm(r,s,fe,Uv(Ae,U.x,ae.w,0,180),Uv(Ae,U.y,ae.h,90,270))}a.setCenterPoint(s.l-r.l,r.r-s.r,s.t-r.t,r.b-s.b),a._pointLabelItems=function fy(a,s,r){const l=[],u=a._pointLabels.length,p=a.options,{centerPointLabels:_,display:y}=p.pointLabels,C={extra:Jc(p)/2,additionalAngle:_?As/u:0};let R;for(let U=0;U<u;U++){C.padding=r[U],C.size=s[U];const q=hy(a,U,C);l.push(q),"auto"===y&&(q.visible=bf(q,R),q.visible&&(R=q))}return l}(a,l,u)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(s,r,l,u){this.xCenter+=Math.floor((s-r)/2),this.yCenter+=Math.floor((l-u)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(s,r,l,u))}getIndexAngle(s){return ha(s*(ps/(this._pointLabels.length||1))+Vl(this.options.startAngle||0))}getDistanceFromCenterForValue(s){if(Ji(s))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-s)*r:(s-this.min)*r}getValueForDistanceFromCenter(s){if(Ji(s))return NaN;const r=s/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(s){const r=this._pointLabels||[];if(s>=0&&s<r.length){const l=r[s];return function Hv(a,s,r){return Hl(a,{label:r,index:s,type:"pointLabel"})}(this.getContext(),s,l)}}getPointPosition(s,r,l=0){const u=this.getIndexAngle(s)-Ms+l;return{x:Math.cos(u)*r+this.xCenter,y:Math.sin(u)*r+this.yCenter,angle:u}}getPointPositionForValue(s,r){return this.getPointPosition(s,this.getDistanceFromCenterForValue(r))}getBasePosition(s){return this.getPointPositionForValue(s||0,this.getBaseValue())}getPointLabelPosition(s){const{left:r,top:l,right:u,bottom:p}=this._pointLabelItems[s];return{left:r,top:l,right:u,bottom:p}}drawBackground(){const{backgroundColor:s,grid:{circular:r}}=this.options;if(s){const l=this.ctx;l.save(),l.beginPath(),wm(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),l.closePath(),l.fillStyle=s,l.fill(),l.restore()}}drawGrid(){const s=this.ctx,r=this.options,{angleLines:l,grid:u,border:p}=r,_=this._pointLabels.length;let y,C,R;if(r.pointLabels.display&&function $v(a,s){const{ctx:r,options:{pointLabels:l}}=a;for(let u=s-1;u>=0;u--){const p=a._pointLabelItems[u];if(!p.visible)continue;const _=l.setContext(a.getPointLabelContext(u));Em(r,_,p);const y=wo(_.font),{x:C,y:R,textAlign:U}=p;Ro(r,a._pointLabels[u],C,R+y.lineHeight/2,y,{color:_.color,textAlign:U,textBaseline:"middle"})}}(this,_),u.display&&this.ticks.forEach((U,q)=>{if(0!==q){C=this.getDistanceFromCenterForValue(U.value);const ae=this.getContext(q),fe=u.setContext(ae),Ae=p.setContext(ae);!function jp(a,s,r,l,u){const p=a.ctx,_=s.circular,{color:y,lineWidth:C}=s;!_&&!l||!y||!C||r<0||(p.save(),p.strokeStyle=y,p.lineWidth=C,p.setLineDash(u.dash),p.lineDashOffset=u.dashOffset,p.beginPath(),wm(a,r,_,l),p.closePath(),p.stroke(),p.restore())}(this,fe,C,_,Ae)}}),l.display){for(s.save(),y=_-1;y>=0;y--){const U=l.setContext(this.getPointLabelContext(y)),{color:q,lineWidth:ae}=U;!ae||!q||(s.lineWidth=ae,s.strokeStyle=q,s.setLineDash(U.borderDash),s.lineDashOffset=U.borderDashOffset,C=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),R=this.getPointPosition(y,C),s.beginPath(),s.moveTo(this.xCenter,this.yCenter),s.lineTo(R.x,R.y),s.stroke())}s.restore()}}drawBorder(){}drawLabels(){const s=this.ctx,r=this.options,l=r.ticks;if(!l.display)return;const u=this.getIndexAngle(0);let p,_;s.save(),s.translate(this.xCenter,this.yCenter),s.rotate(u),s.textAlign="center",s.textBaseline="middle",this.ticks.forEach((y,C)=>{if(0===C&&!r.reverse)return;const R=l.setContext(this.getContext(C)),U=wo(R.font);if(p=this.getDistanceFromCenterForValue(this.ticks[C].value),R.showLabelBackdrop){s.font=U.string,_=s.measureText(y.label).width,s.fillStyle=R.backdropColor;const q=Xo(R.backdropPadding);s.fillRect(-_/2-q.left,-p-U.size/2-q.top,_+q.width,U.size+q.height)}Ro(s,y.label,0,-p,U,{color:R.color,strokeColor:R.textStrokeColor,strokeWidth:R.textStrokeWidth})}),s.restore()}drawTitle(){}},TimeScale:Dm,TimeSeriesScale:class Sm extends Dm{static id="timeseries";static defaults=Dm.defaults;constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const s=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(s);this._minPos=Am(r,this.min),this._tableRange=Am(r,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){const{min:r,max:l}=this,u=[],p=[];let _,y,C,R,U;for(_=0,y=s.length;_<y;++_)R=s[_],R>=r&&R<=l&&u.push(R);if(u.length<2)return[{time:r,pos:0},{time:l,pos:1}];for(_=0,y=u.length;_<y;++_)U=u[_+1],C=u[_-1],R=u[_],Math.round((U+C)/2)!==R&&p.push({time:R,pos:_/(y-1)});return p}_generate(){const s=this.min,r=this.max;let l=super.getDataTimestamps();return(!l.includes(s)||!l.length)&&l.splice(0,0,s),(!l.includes(r)||1===l.length)&&l.push(r),l.sort((u,p)=>u-p)}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;const r=this.getDataTimestamps(),l=this.getLabelTimestamps();return s=r.length&&l.length?this.normalize(r.concat(l)):r.length?r:l,s=this._cache.all=s,s}getDecimalForValue(s){return(Am(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){const r=this._offsets,l=this.getDecimalForPixel(s)/r.factor-r.end;return Am(this._table,l*this._tableRange+this._minPos,!0)}}});const xw=[Fa,Pu,ku,Rw];var py=Q(3669),Rm=Q(9974),gy=Q(4360);function If(a,s){return a===s}const Pm=function DE(a,s){return a===s||a!=a&&s!=s},Mm=function Pw(a,s){for(var r=a.length;r--;)if(Pm(a[r][0],s))return r;return-1};var kw=Array.prototype.splice;function km(a){var s=-1,r=null==a?0:a.length;for(this.clear();++s<r;){var l=a[s];this.set(l[0],l[1])}}km.prototype.clear=function Gv(){this.__data__=[],this.size=0},km.prototype.delete=function uh(a){var s=this.__data__,r=Mm(s,a);return!(r<0||(r==s.length-1?s.pop():kw.call(s,r,1),--this.size,0))},km.prototype.get=function Cf(a){var s=this.__data__,r=Mm(s,a);return r<0?void 0:s[r][1]},km.prototype.has=function Ow(a){return Mm(this.__data__,a)>-1},km.prototype.set=function Nw(a,s){var r=this.__data__,l=Mm(r,a);return l<0?(++this.size,r.push([a,s])):r[l][1]=s,this};const qv=km,hh="object"==typeof global&&global&&global.Object===Object&&global;var hd="object"==typeof self&&self&&self.Object===Object&&self;const fh=hh||hd||Function("return this")();var Vw=fh.Symbol,RE=Object.prototype,Bw=RE.hasOwnProperty,xE=RE.toString,Wp=Vw?Vw.toStringTag:void 0;var PE=Object.prototype.toString;var Lu=Vw?Vw.toStringTag:void 0;const Fm=function Zv(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":Lu&&Lu in Object(a)?function $0(a){var s=Bw.call(a,Wp),r=a[Wp];try{a[Wp]=void 0;var l=!0}catch{}var u=xE.call(a);return l&&(s?a[Wp]=r:delete a[Wp]),u}(a):function _y(a){return PE.call(a)}(a)},Df=function $w(a){var s=typeof a;return null!=a&&("object"==s||"function"==s)},di=function Gw(a){if(!Df(a))return!1;var s=Fm(a);return"[object Function]"==s||"[object GeneratorFunction]"==s||"[object AsyncFunction]"==s||"[object Proxy]"==s};var a,Jv=fh["__core-js_shared__"],Lm=(a=/[^.]+$/.exec(Jv&&Jv.keys&&Jv.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";var NE=Function.prototype.toString;var qw=/^\[object .+?Constructor\]$/,n=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const d=function o(a){return!(!Df(a)||function yy(a){return!!Lm&&Lm in a}(a))&&(di(a)?n:qw).test(function Sf(a){if(null!=a){try{return NE.call(a)}catch{}try{return a+""}catch{}}return""}(a))},N=function D(a,s){var r=function g(a,s){return a?.[s]}(a,s);return d(r)?r:void 0},X=N(fh,"Map"),be=N(Object,"create");var Sr=Object.prototype.hasOwnProperty;var Ui=Object.prototype.hasOwnProperty;function Lt(a){var s=-1,r=null==a?0:a.length;for(this.clear();++s<r;){var l=a[s];this.set(l[0],l[1])}}Lt.prototype.clear=function Je(){this.__data__=be?be(null):{},this.size=0},Lt.prototype.delete=function cn(a){var s=this.has(a)&&delete this.__data__[a];return this.size-=s?1:0,s},Lt.prototype.get=function rr(a){var s=this.__data__;if(be){var r=s[a];return"__lodash_hash_undefined__"===r?void 0:r}return Sr.call(s,a)?s[a]:void 0},Lt.prototype.has=function wt(a){var s=this.__data__;return be?void 0!==s[a]:Ui.call(s,a)},Lt.prototype.set=function Tt(a,s){var r=this.__data__;return this.size+=this.has(a)?0:1,r[a]=be&&void 0===s?"__lodash_hash_undefined__":s,this};const it=Lt,xf=function qp(a,s){var r=a.__data__;return function by(a){var s=typeof a;return"string"==s||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==a:null===a}(s)?r["string"==typeof s?"string":"hash"]:r.map};function Sl(a){var s=-1,r=null==a?0:a.length;for(this.clear();++s<r;){var l=a[s];this.set(l[0],l[1])}}Sl.prototype.clear=function fd(){this.size=0,this.__data__={hash:new it,map:new(X||qv),string:new it}},Sl.prototype.delete=function Qp(a){var s=xf(this,a).delete(a);return this.size-=s?1:0,s},Sl.prototype.get=function Al(a){return xf(this,a).get(a)},Sl.prototype.has=function Ey(a){return xf(this,a).has(a)},Sl.prototype.set=function VE(a,s){var r=xf(this,a),l=r.size;return r.set(a,s),this.size+=r.size==l?0:1,this};const Pf=Sl;function gd(a){var s=this.__data__=new qv(a);this.size=s.size}gd.prototype.clear=function j0(){this.__data__=new qv,this.size=0},gd.prototype.delete=function my(a){var s=this.__data__,r=s.delete(a);return this.size=s.size,r},gd.prototype.get=function Qv(a){return this.__data__.get(a)},gd.prototype.has=function AE(a){return this.__data__.has(a)},gd.prototype.set=function Bm(a,s){var r=this.__data__;if(r instanceof qv){var l=r.__data__;if(!X||l.length<199)return l.push([a,s]),this.size=++r.size,this;r=this.__data__=new Pf(l)}return r.set(a,s),this.size=r.size,this};const Yp=gd;var mh=function(){try{var a=N(Object,"defineProperty");return a({},"",{}),a}catch{}}();const _h=mh,wy=function eb(a,s,r){"__proto__"==s&&_h?_h(a,s,{configurable:!0,enumerable:!0,value:r,writable:!0}):a[s]=r},Zp=function jm(a,s,r){(void 0!==r&&!Pm(a[s],r)||void 0===r&&!(s in a))&&wy(a,s,r)};var nb=function $m(a){return function(s,r,l){for(var u=-1,p=Object(s),_=l(s),y=_.length;y--;){var C=_[a?y:++u];if(!1===r(p[C],C,p))break}return s}}();const Jp=nb;var eg="object"==typeof exports&&exports&&!exports.nodeType&&exports,yh=eg&&"object"==typeof module&&module&&!module.nodeType&&module,ka=yh&&yh.exports===eg?fh.Buffer:void 0,vh=ka?ka.allocUnsafe:void 0;const bh=fh.Uint8Array,Iy=function md(a,s){var r=s?function rb(a){var s=new a.constructor(a.byteLength);return new bh(s).set(new bh(a)),s}(a.buffer):a.buffer;return new a.constructor(r,a.byteOffset,a.length)};var Ty=Object.create,ob=function(){function a(){}return function(s){if(!Df(s))return{};if(Ty)return Ty(s);a.prototype=s;var r=new a;return a.prototype=void 0,r}}();const ng=ob;var Eh=function Cy(a,s){return function(r){return a(s(r))}}(Object.getPrototypeOf,Object);const Wm=Eh;var rg=Object.prototype;const Vu=function lb(a){var s=a&&a.constructor;return a===("function"==typeof s&&s.prototype||rg)},eu=function Dy(a){return null!=a&&"object"==typeof a},Ay=function UE(a){return eu(a)&&"[object Arguments]"==Fm(a)};var Bu=Object.prototype,ub=Bu.hasOwnProperty,jE=Bu.propertyIsEnumerable,_d=Ay(function(){return arguments}())?Ay:function(a){return eu(a)&&ub.call(a,"callee")&&!jE.call(a,"callee")};const sg=_d,Cc=Array.isArray,Sy=function Mf(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=9007199254740991},Uu=function Km(a){return null!=a&&Sy(a.length)&&!di(a)};var Ry="object"==typeof exports&&exports&&!exports.nodeType&&exports,Qm=Ry&&"object"==typeof module&&module&&!module.nodeType&&module,nu=Qm&&Qm.exports===Ry?fh.Buffer:void 0;const db=(nu?nu.isBuffer:void 0)||function og(){return!1};var Xm=Function.prototype.toString,zE=Object.prototype.hasOwnProperty,gb=Xm.call(Object);var Ws={};Ws["[object Float32Array]"]=Ws["[object Float64Array]"]=Ws["[object Int8Array]"]=Ws["[object Int16Array]"]=Ws["[object Int32Array]"]=Ws["[object Uint8Array]"]=Ws["[object Uint8ClampedArray]"]=Ws["[object Uint16Array]"]=Ws["[object Uint32Array]"]=!0,Ws["[object Arguments]"]=Ws["[object Array]"]=Ws["[object ArrayBuffer]"]=Ws["[object Boolean]"]=Ws["[object DataView]"]=Ws["[object Date]"]=Ws["[object Error]"]=Ws["[object Function]"]=Ws["[object Map]"]=Ws["[object Number]"]=Ws["[object Object]"]=Ws["[object RegExp]"]=Ws["[object Set]"]=Ws["[object String]"]=Ws["[object WeakMap]"]=!1;var ky="object"==typeof exports&&exports&&!exports.nodeType&&exports,Dc=ky&&"object"==typeof module&&module&&!module.nodeType&&module,Zm=Dc&&Dc.exports===ky&&hh.process,ug=function(){try{return Dc&&Dc.require&&Dc.require("util").types||Zm&&Zm.binding&&Zm.binding("util")}catch{}}(),Oy=ug&&ug.isTypedArray;const To=Oy?function ju(a){return function(s){return a(s)}}(Oy):function wb(a){return eu(a)&&Sy(a.length)&&!!Ws[Fm(a)]},Ih=function Fy(a,s){if(("constructor"!==s||"function"!=typeof a[s])&&"__proto__"!=s)return a[s]};var Vy=Object.prototype.hasOwnProperty;const Ed=function Tb(a,s,r){var l=a[s];(!Vy.call(a,s)||!Pm(l,r)||void 0===r&&!(s in a))&&wy(a,s,r)};var Ab=/^(?:0|[1-9]\d*)$/;const hg=function Jm(a,s){var r=typeof a;return!!(s=s??9007199254740991)&&("number"==r||"symbol"!=r&&Ab.test(a))&&a>-1&&a%1==0&&a<s};var e_=Object.prototype.hasOwnProperty;const By=function Rb(a,s){var r=Cc(a),l=!r&&sg(a),u=!r&&!l&&db(a),p=!r&&!l&&!u&&To(a),_=r||l||u||p,y=_?function Cb(a,s){for(var r=-1,l=Array(a);++r<a;)l[r]=s(r);return l}(a.length,String):[],C=y.length;for(var R in a)(s||e_.call(a,R))&&(!_||!("length"==R||u&&("offset"==R||"parent"==R)||p&&("buffer"==R||"byteLength"==R||"byteOffset"==R)||hg(R,C)))&&y.push(R);return y};var Uy=Object.prototype.hasOwnProperty;const Pb=function jy(a){if(!Df(a))return function Vf(a){var s=[];if(null!=a)for(var r in Object(a))s.push(r);return s}(a);var s=Vu(a),r=[];for(var l in a)"constructor"==l&&(s||!Uy.call(a,l))||r.push(l);return r},$y=function n_(a){return Uu(a)?By(a,!0):Pb(a)},Ch=function r_(a){return function dg(a,s,r,l){var u=!r;r||(r={});for(var p=-1,_=s.length;++p<_;){var y=s[p],C=l?l(r[y],a[y],y,r,a):void 0;void 0===C&&(C=a[y]),u?wy(r,y,C):Ed(r,y,C)}return r}(a,$y(a))},kb=function Mb(a,s,r,l,u,p,_){var y=Ih(a,r),C=Ih(s,r),R=_.get(C);if(R)Zp(a,r,R);else{var U=p?p(y,C,r+"",a,s,_):void 0,q=void 0===U;if(q){var ae=Cc(C),fe=!ae&&db(C),Ae=!ae&&!fe&&To(C);U=C,ae||fe||Ae?Cc(y)?U=y:function $E(a){return eu(a)&&Uu(a)}(y)?U=function sb(a,s){var r=-1,l=a.length;for(s||(s=Array(l));++r<l;)s[r]=a[r];return s}(y):fe?(q=!1,U=function Hm(a,s){if(s)return a.slice();var r=a.length,l=vh?vh(r):new a.constructor(r);return a.copy(l),l}(C,!0)):Ae?(q=!1,U=Iy(C,!0)):U=[]:function WE(a){if(!eu(a)||"[object Object]"!=Fm(a))return!1;var s=Wm(a);if(null===s)return!0;var r=zE.call(s,"constructor")&&s.constructor;return"function"==typeof r&&r instanceof r&&Xm.call(r)==gb}(C)||sg(C)?(U=y,sg(y)?U=Ch(y):(!Df(y)||di(y))&&(U=function cb(a){return"function"!=typeof a.constructor||Vu(a)?{}:ng(Wm(a))}(C))):q=!1}q&&(_.set(C,U),u(U,C,l,p,_),_.delete(C)),Zp(a,r,U)}},Bf=function $u(a,s,r,l,u){a!==s&&Jp(s,function(p,_){if(u||(u=new Yp),Df(p))kb(a,s,_,r,$u,l,u);else{var y=l?l(Ih(a,_),p,_+"",a,s,u):void 0;void 0===y&&(y=p),Zp(a,_,y)}},$y)},Va=function Uf(a){return a};var Id=Math.max;const ye=function ne(a){return function(){return a}};var Nt=_h?function(a,s){return _h(a,"toString",{configurable:!0,enumerable:!1,value:ye(s),writable:!0})}:Va,Zo=Date.now,Ua=function es(a){var s=0,r=0;return function(){var l=Zo(),u=16-(l-r);if(r=l,u>0){if(++s>=800)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}(Nt);const jf=Ua,i_=function Zl(a,s){return jf(function I(a,s,r){return s=Id(void 0===s?a.length-1:s,0),function(){for(var l=arguments,u=-1,p=Id(l.length-s,0),_=Array(p);++u<p;)_[u]=l[s+u];u=-1;for(var y=Array(s+1);++u<s;)y[u]=l[u];return y[s]=r(_),function Ob(a,s,r){switch(r.length){case 0:return a.call(s);case 1:return a.call(s,r[0]);case 2:return a.call(s,r[0],r[1]);case 3:return a.call(s,r[0],r[1],r[2])}return a.apply(s,r)}(a,this,y)}}(a,s,Va),a+"")};var W0=function H0(a){return i_(function(s,r){var l=-1,u=r.length,p=u>1?r[u-1]:void 0,_=u>2?r[2]:void 0;for(p=a.length>3&&"function"==typeof p?(u--,p):void 0,_&&function Hy(a,s,r){if(!Df(r))return!1;var l=typeof s;return!!("number"==l?Uu(r)&&hg(s,r.length):"string"==l&&s in r)&&Pm(r[s],a)}(r[0],r[1],_)&&(p=u<3?void 0:p,u=1),s=Object(s);++l<u;){var y=r[l];y&&a(s,y,l,p)}return s})}(function(a,s,r){Bf(a,s,r)});const o_=W0;var XE=Q(4412);let G0=(()=>{class a{constructor(){this.colorschemesOptions=new XE.t(void 0)}setColorschemesOptions(r){this.pColorschemesOptions=r,this.colorschemesOptions.next(r)}getColorschemesOptions(){return this.pColorschemesOptions}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=A.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),YE=(()=>{class a{constructor(r,l,u){this.zone=l,this.themeService=u,this.type="bar",this.plugins=[],this.chartClick=new A.bkB,this.chartHover=new A.bkB,this.subs=[],this.ctx=r.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(function CE(a,s=py.D){return a=a??If,(0,Rm.N)((r,l)=>{let u,p=!0;r.subscribe((0,gy._)(l,_=>{const y=s(_);(p||!a(u,y))&&(p=!1,u=y,l.next(_))}))})}()).subscribe(p=>this.themeChanged(p)))}ngOnChanges(r){const l=["type"],u=Object.getOwnPropertyNames(r);if(u.some(p=>l.includes(p))||u.every(p=>r[p].isFirstChange()))this.render();else{const p=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,p.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,p.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,p.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(r=>r.unsubscribe())}render(){return this.chart&&this.chart.destroy(),Qc.register(...this.plugins),this.zone.runOutsideAngular(()=>this.chart=new Qc(this.ctx,this.getChartConfiguration()))}update(r){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(r))}hideDataset(r,l){this.chart&&(this.chart.getDatasetMeta(r).hidden=l,this.update())}isDatasetHidden(r){return this.chart?.getDatasetMeta(r)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(r){this.themeOverrides=r,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return o_({onHover:(r,l)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:r,active:l}))},onClick:(r,l)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:r,active:l}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return a.\u0275fac=function(r){return new(r||a)(A.rXU(A.aKT),A.rXU(A.SKi),A.rXU(G0))},a.\u0275dir=A.FsC({type:a,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!1,features:[A.OA$]}),a})();const K0=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],ZE={datasets:{line:{backgroundColor:a=>Jl(ou(a.datasetIndex),.4),borderColor:a=>Jl(ou(a.datasetIndex),1),pointBackgroundColor:a=>Jl(ou(a.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:a=>Jl(ou(a.datasetIndex),.6),borderColor:a=>Jl(ou(a.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:a=>Jl(ou(a.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:a=>Jl(ou(a.dataIndex),.6),borderColor:a=>Jl(ou(a.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Jl(a,s){return"rgba("+a.concat(s).join(",")+")"}function a_(a,s){return Math.floor(Math.random()*(s-a+1))+a}function ou(a=0){return K0[a]||function Xw(){return[a_(0,255),a_(0,255),a_(0,255)]}()}let Yw=(()=>{class a{constructor(){this.generateColors=!0}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275prov=A.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();Qc.register(...xw);let JE=(()=>{class a{constructor(r){r?.plugins&&Qc.register(...r?.plugins);const l=o_(r?.generateColors?ZE:{},r?.defaults||{});io.set(l)}static forRoot(r){return{ngModule:a,providers:[{provide:Yw,useValue:r}]}}}return a.\u0275fac=function(r){return new(r||a)(A.KVO(Yw,8))},a.\u0275mod=A.$C({type:a}),a.\u0275inj=A.G2t({}),a})();var ST=Q(6354),q0=Q(7673),Td=Q(1985),zy=Q(3236),ew=Q(9470);var c_=Q(8750),nw=Q(9437),Jw=Q(7643);let rw=(()=>{class a{http;BASE_PATH="assets/data/";DATA_FILE="dashboard-data.json";constructor(r){this.http=r,console.log("%c<<< Start MOCK-DATA service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getDashboardMetrics(){return this.http.get(`${this.BASE_PATH}dashboard-data.json`)}getTicketGraph(){return this.http.get(`${this.BASE_PATH}${this.DATA_FILE}`).pipe((0,ST.T)(r=>r.chartData.tickets))}getSatisfactionData(){return this.http.get(`${this.BASE_PATH}satisfaction.json`)}getChannelsData(){return this.http.get(`${this.BASE_PATH}channels.json`)}getNotifications(){return this.http.get(`${this.BASE_PATH}notifications.json`)}getReclamos(){return this.http.get(`${this.BASE_PATH}reclamos.json`).pipe(function Zw(a=1/0){let s;s=a&&"object"==typeof a?a:{count:a};const{count:r=1/0,delay:l,resetOnSuccess:u=!1}=s;return r<=0?py.D:(0,Rm.N)((p,_)=>{let C,y=0;const R=()=>{let U=!1;C=p.subscribe((0,gy._)(_,q=>{u&&(y=0),_.next(q)},void 0,q=>{if(y++<r){const ae=()=>{C?(C.unsubscribe(),C=null,R()):U=!0};if(null!=l){const fe="number"==typeof l?function tw(a=0,s,r=zy.b){let l=-1;return null!=s&&((0,ew.m)(s)?r=s:l=s),new Td.c(u=>{let p=function l_(a){return a instanceof Date&&!isNaN(a)}(a)?+a-r.now():a;p<0&&(p=0);let _=0;return r.schedule(function(){u.closed||(u.next(_++),0<=l?this.schedule(void 0,l):u.complete())},p)})}(l):(0,c_.Tg)(l(q,y)),Ae=(0,gy._)(_,()=>{Ae.unsubscribe(),ae()},()=>{_.complete()});fe.subscribe(Ae)}else ae()}else _.error(q)})),U&&(C.unsubscribe(),C=null,R())};R()})}(2),(0,nw.W)(r=>(console.error("\u274c Error al cargar reclamos:",r),(0,q0.of)([]))))}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const l=16*Math.random()|0;return("x"===r?l:3&l|8).toString(16)})}static \u0275fac=function(l){return new(l||a)(A.KVO(Jw.Qq))};static \u0275prov=A.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function Q0(a,s){if(1&a&&(A.j41(0,"div"),A.nrm(1,"canvas",5),A.k0s()),2&a){const r=A.XpG();A.R7$(),A.Y8G("data",r.lineChartData)("options",r.lineChartOptions)}}let X0=(()=>{class a{mockService;ticketsData;lineChartData;lineChartOptions={responsive:!0};constructor(r){this.mockService=r}ngOnChanges(){this.ticketsData&&(this.lineChartData={labels:this.ticketsData.labels,datasets:[{data:this.ticketsData.created,label:"Tickets creados",borderColor:"#0d6efd",tension:.3},{data:this.ticketsData.solved,label:"Tickets resueltos",borderColor:"#20c997",tension:.3}]})}static \u0275fac=function(l){return new(l||a)(A.rXU(rw))};static \u0275cmp=A.VBU({type:a,selectors:[["app-line-chart"]],inputs:{ticketsData:"ticketsData"},features:[A.OA$],decls:7,vars:1,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-description","text-muted"],[4,"ngIf"],["baseChart","","chartType","line",3,"data","options"]],template:function(l,u){1&l&&(A.j41(0,"div",0)(1,"div",1)(2,"h4",2),A.EFF(3,"Tickets por d\xeda"),A.k0s(),A.j41(4,"p",3),A.EFF(5," Este gr\xe1fico muestra los tickets creados y resueltos por d\xeda de la semana. \xdatil para identificar patrones de carga. "),A.k0s(),A.DNE(6,Q0,2,2,"div",4),A.k0s()()),2&l&&(A.R7$(6),A.Y8G("ngIf",u.lineChartData))},dependencies:[Cs.MD,Cs.bT,JE,YE],encapsulation:2})}return a})(),Y0=(()=>{class a{positive=0;negative=0;doughnutChartType="doughnut";doughnutChartData={labels:["Positiva","Negativa"],datasets:[{data:[0,0],backgroundColor:["#4CAF50","#F44336"]}]};ngOnChanges(r){(r.positive||r.negative)&&this.updateChartData()}updateChartData(){this.doughnutChartData={labels:["Positiva","Negativa"],datasets:[{data:[this.positive,this.negative],backgroundColor:["#4CAF50","#F44336"]}]}}static \u0275fac=function(l){return new(l||a)};static \u0275cmp=A.VBU({type:a,selectors:[["app-satisfaction-chart"]],inputs:{positive:"positive",negative:"negative"},features:[A.OA$],decls:7,vars:2,consts:[[1,"card","h-100"],[1,"card-body"],[1,"card-title"],[1,"card-description","text-muted"],["baseChart","",3,"data","type"]],template:function(l,u){1&l&&(A.j41(0,"div",0)(1,"div",1)(2,"h4",2),A.EFF(3,"Satisfacci\xf3n del Cliente"),A.k0s(),A.j41(4,"p",3),A.EFF(5," Este gr\xe1fico muestra los tickets creados y resueltos por d\xeda de la semana. \xdatil para identificar patrones de carga. "),A.k0s(),A.nrm(6,"canvas",4),A.k0s()()),2&l&&(A.R7$(6),A.Y8G("data",u.doughnutChartData)("type",u.doughnutChartType))},dependencies:[Cs.MD,JE,YE],styles:["[_nghost-%COMP%]{display:block;height:100%}canvas[_ngcontent-%COMP%]{max-width:300px;max-height:300px;margin:0 auto;display:block}"]})}return a})(),Z0=(()=>{class a{channels=[];ngOnInit(){console.log("%c[ngOnInit] Valor inicial del @Input ChannelsChartComponent:","background-color:#d63384;color:#ffffff,padding:.5rem",this.channels)}chartData={labels:[],datasets:[{label:"Tickets por canal",data:[],backgroundColor:["#0d6efd","#6610f2","#6f42c1","#d63384"]}]};chartType="bar";ngOnChanges(r){r.channels&&this.channels?.length&&(console.log("\u{1f504} [ngOnChanges] Nuevo valor:",this.channels),this.updateChartData())}updateChartData(){this.chartData={labels:this.channels.map(r=>r.name),datasets:[{label:"Tickets por canal",data:this.channels.map(r=>r.value),backgroundColor:["#0d6efd","#6610f2","#6f42c1","#d63384"]}]}}static \u0275fac=function(l){return new(l||a)};static \u0275cmp=A.VBU({type:a,selectors:[["app-channels-chart"]],inputs:{channels:"channels"},features:[A.OA$],decls:7,vars:2,consts:[[1,"card","h-100"],[1,"card-body"],[1,"card-title"],[1,"card-description","text-muted"],["baseChart","",3,"type","data"]],template:function(l,u){1&l&&(A.j41(0,"div",0)(1,"div",1)(2,"h4",2),A.EFF(3,"Tickets por Canal"),A.k0s(),A.j41(4,"p",3),A.EFF(5," Este gr\xe1fico muestra los tickets creados y resueltos por d\xeda de la semana. \xdatil para identificar patrones de carga. "),A.k0s(),A.nrm(6,"canvas",4),A.k0s()()),2&l&&(A.R7$(6),A.Y8G("type",u.chartType)("data",u.chartData))},dependencies:[Cs.MD,JE,YE],encapsulation:2})}return a})();function e0(a,s){if(1&a&&(A.j41(0,"li")(1,"div",6),A.nrm(2,"img",7),A.j41(3,"div")(4,"p",8),A.EFF(5),A.k0s(),A.j41(6,"p",9),A.EFF(7),A.k0s(),A.j41(8,"small"),A.EFF(9),A.k0s()()()()),2&a){const r=s.$implicit;A.R7$(2),A.Y8G("src",r.avatar,A.B4B)("alt",r.user),A.R7$(3),A.JRh(r.user),A.R7$(2),A.JRh(r.message),A.R7$(2),A.JRh(r.time)}}let t0=(()=>{class a{notifications=[];static \u0275fac=function(l){return new(l||a)};static \u0275cmp=A.VBU({type:a,selectors:[["app-notification-list"]],inputs:{notifications:"notifications"},decls:7,vars:1,consts:[[1,"card"],[1,"card-body","position-relative"],[1,"mdi","mdi-crown-circle","fs-4","text-warning",2,"position","absolute","top","1rem","right","1rem"],[1,"card-title"],[1,"icon-data-list"],[4,"ngFor","ngForOf"],[1,"d-flex"],[3,"src","alt"],[1,"text-info","mb-1"],[1,"mb-0"]],template:function(l,u){1&l&&(A.j41(0,"div",0)(1,"div",1),A.nrm(2,"span",2),A.j41(3,"p",3),A.EFF(4,"Notificaciones"),A.k0s(),A.j41(5,"ul",4),A.DNE(6,e0,10,5,"li",5),A.k0s()()()),2&l&&(A.R7$(6),A.Y8G("ngForOf",u.notifications))},dependencies:[Cs.MD,Cs.Sq],styles:[".icon-data-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:100%;margin-right:.75rem}.icon-data-list[_ngcontent-%COMP%]{list-style-type:none;padding-left:0;position:relative;margin-bottom:0;font-family:Geist,sans-serif}.icon-data-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1rem}.icon-data-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px;border-radius:100%}"]})}return a})();var ec=Q(4341),iw=Q(9332);const J0=()=>[],eI=(a,s,r,l)=>({"bg-success":a,"bg-warning text-dark":s,"bg-danger":r,"bg-secondary":l});function tI(a,s){1&a&&(A.j41(0,"div",27)(1,"div",28)(2,"span",29),A.EFF(3,"Cargando..."),A.k0s()()())}function nI(a,s){if(1&a){const r=A.RV6();A.j41(0,"tr")(1,"td")(2,"input",33),A.mxI("ngModelChange",function(u){const p=A.eBV(r).$implicit;return A.DH7(p.selected,u)||(p.selected=u),A.Njj(u)}),A.bIt("change",function(){A.eBV(r);const u=A.XpG(2);return A.Njj(u.checkMasterState())}),A.k0s()(),A.j41(3,"td")(4,"div",37),A.nrm(5,"img",38),A.j41(6,"div")(7,"h6",39),A.EFF(8),A.k0s(),A.j41(9,"small",40),A.EFF(10),A.k0s()()()(),A.j41(11,"td"),A.EFF(12),A.k0s(),A.j41(13,"td"),A.EFF(14),A.k0s(),A.j41(15,"td")(16,"span",41),A.EFF(17),A.k0s()(),A.j41(18,"td",34)(19,"button",42),A.bIt("click",function(){const u=A.eBV(r).$implicit,p=A.XpG(2);return A.Njj(p.editItem(u))}),A.nrm(20,"i",43),A.k0s(),A.j41(21,"button",44),A.bIt("click",function(){const u=A.eBV(r).$implicit,p=A.XpG(2);return A.Njj(p.deleteItem(u))}),A.nrm(22,"i",13),A.k0s()()()}if(2&a){const r=s.$implicit;A.R7$(2),A.R50("ngModel",r.selected),A.R7$(3),A.Y8G("src",r.foto,A.B4B),A.R7$(3),A.JRh(r.nombre),A.R7$(2),A.JRh(r.tipo),A.R7$(2),A.JRh(r.total),A.R7$(2),A.JRh(r.fecha),A.R7$(2),A.Y8G("ngClass",A.ziG(8,eI,"Cerrado"===r.estado,"Pendiente"===r.estado,"Cancelado"===r.estado,"Cerrado"!==r.estado&&"Pendiente"!==r.estado&&"Cancelado"!==r.estado)),A.R7$(),A.SpI(" ",r.estado," ")}}function rI(a,s){1&a&&(A.j41(0,"tr")(1,"td",45),A.EFF(2,"No hay reclamos para mostrar"),A.k0s()())}function RT(a,s){if(1&a){const r=A.RV6();A.j41(0,"div",30)(1,"table",31)(2,"thead",32)(3,"tr")(4,"th")(5,"input",33),A.mxI("ngModelChange",function(u){A.eBV(r);const p=A.XpG();return A.DH7(p.masterChecked,u)||(p.masterChecked=u),A.Njj(u)}),A.bIt("change",function(){A.eBV(r);const u=A.XpG();return A.Njj(u.toggleAll())}),A.k0s()(),A.j41(6,"th"),A.EFF(7,"Reclamo"),A.k0s(),A.j41(8,"th"),A.EFF(9,"Total Casos"),A.k0s(),A.j41(10,"th"),A.EFF(11,"Fecha \xdaltimo"),A.k0s(),A.j41(12,"th"),A.EFF(13,"Estado"),A.k0s(),A.j41(14,"th",34),A.EFF(15,"Acciones"),A.k0s()()(),A.j41(16,"tbody"),A.DNE(17,nI,23,13,"tr",35)(18,rI,3,0,"tr",36),A.k0s()()()}if(2&a){const r=A.XpG();A.R7$(5),A.R50("ngModel",r.masterChecked),A.R7$(12),A.Y8G("ngForOf",r.paginatedReclamos),A.R7$(),A.Y8G("ngIf",!r.paginatedReclamos.length&&!r.loading)}}function n0(a,s){if(1&a){const r=A.RV6();A.j41(0,"li",23)(1,"button",24),A.bIt("click",function(){const u=A.eBV(r).index,p=A.XpG();return A.Njj(p.changePage(u+1))}),A.EFF(2),A.k0s()()}if(2&a){const r=s.index,l=A.XpG();A.AVh("active",l.currentPage===r+1),A.R7$(2),A.JRh(r+1)}}function r0(a,s){if(1&a){const r=A.RV6();A.j41(0,"form",57)(1,"div",58)(2,"label",59),A.EFF(3,"Nombre"),A.k0s(),A.j41(4,"input",60),A.mxI("ngModelChange",function(u){A.eBV(r);const p=A.XpG(2);return A.DH7(p.selectedClaim.nombre,u)||(p.selectedClaim.nombre=u),A.Njj(u)}),A.k0s()(),A.j41(5,"div",58)(6,"label",59),A.EFF(7,"Asunto"),A.k0s(),A.j41(8,"input",61),A.mxI("ngModelChange",function(u){A.eBV(r);const p=A.XpG(2);return A.DH7(p.selectedClaim.tipo,u)||(p.selectedClaim.tipo=u),A.Njj(u)}),A.k0s()(),A.j41(9,"div",58)(10,"label",59),A.EFF(11,"Estado"),A.k0s(),A.j41(12,"select",62),A.mxI("ngModelChange",function(u){A.eBV(r);const p=A.XpG(2);return A.DH7(p.selectedClaim.estado,u)||(p.selectedClaim.estado=u),A.Njj(u)}),A.j41(13,"option",63),A.EFF(14,"Pendiente"),A.k0s(),A.j41(15,"option",64),A.EFF(16,"Cancelado"),A.k0s(),A.j41(17,"option",65),A.EFF(18,"Cerrado"),A.k0s()()(),A.j41(19,"div",58)(20,"label",59),A.EFF(21,"Fecha \xdaltimo"),A.k0s(),A.j41(22,"input",66),A.mxI("ngModelChange",function(u){A.eBV(r);const p=A.XpG(2);return A.DH7(p.selectedClaim.fecha,u)||(p.selectedClaim.fecha=u),A.Njj(u)}),A.k0s()()()}if(2&a){const r=A.XpG(2);A.R7$(4),A.R50("ngModel",r.selectedClaim.nombre),A.R7$(4),A.R50("ngModel",r.selectedClaim.tipo),A.R7$(4),A.R50("ngModel",r.selectedClaim.estado),A.R7$(10),A.R50("ngModel",r.selectedClaim.fecha)}}function s0(a,s){if(1&a){const r=A.RV6();A.j41(0,"div",46)(1,"div",47)(2,"div",48)(3,"div",49)(4,"h5",50),A.EFF(5,"Editar Reclamo"),A.k0s(),A.j41(6,"button",51),A.bIt("click",function(){A.eBV(r);const u=A.XpG();return A.Njj(u.cancelEdit())}),A.k0s()(),A.j41(7,"div",52),A.DNE(8,r0,23,4,"form",53),A.k0s(),A.j41(9,"div",54)(10,"button",55),A.bIt("click",function(){A.eBV(r);const u=A.XpG();return A.Njj(u.cancelEdit())}),A.EFF(11,"Cancelar"),A.k0s(),A.j41(12,"button",56),A.bIt("click",function(){A.eBV(r);const u=A.XpG();return A.Njj(u.saveChanges())}),A.EFF(13,"Guardar cambios"),A.k0s()()()()()}if(2&a){const r=A.XpG();A.R7$(8),A.Y8G("ngIf",r.selectedClaim)}}function iI(a,s){if(1&a){const r=A.RV6();A.j41(0,"form",57)(1,"div",58)(2,"label",59),A.EFF(3,"Nombre del Cliente"),A.k0s(),A.j41(4,"input",60),A.mxI("ngModelChange",function(u){A.eBV(r);const p=A.XpG(2);return A.DH7(p.newClaim.nombre,u)||(p.newClaim.nombre=u),A.Njj(u)}),A.k0s()(),A.j41(5,"div",58)(6,"label",59),A.EFF(7,"Tipo de Reclamo"),A.k0s(),A.j41(8,"input",61),A.mxI("ngModelChange",function(u){A.eBV(r);const p=A.XpG(2);return A.DH7(p.newClaim.tipo,u)||(p.newClaim.tipo=u),A.Njj(u)}),A.k0s()(),A.j41(9,"div",58)(10,"label",59),A.EFF(11,"Foto (URL)"),A.k0s(),A.j41(12,"input",68),A.mxI("ngModelChange",function(u){A.eBV(r);const p=A.XpG(2);return A.DH7(p.newClaim.foto,u)||(p.newClaim.foto=u),A.Njj(u)}),A.k0s()(),A.j41(13,"div",69)(14,"label",59),A.EFF(15,"Casos Totales"),A.k0s(),A.j41(16,"input",70),A.mxI("ngModelChange",function(u){A.eBV(r);const p=A.XpG(2);return A.DH7(p.newClaim.total,u)||(p.newClaim.total=u),A.Njj(u)}),A.k0s()(),A.j41(17,"div",69)(18,"label",59),A.EFF(19,"Fecha"),A.k0s(),A.j41(20,"input",71),A.mxI("ngModelChange",function(u){A.eBV(r);const p=A.XpG(2);return A.DH7(p.newClaim.fecha,u)||(p.newClaim.fecha=u),A.Njj(u)}),A.k0s()(),A.j41(21,"div",58)(22,"label",59),A.EFF(23,"Estado"),A.k0s(),A.j41(24,"select",62),A.mxI("ngModelChange",function(u){A.eBV(r);const p=A.XpG(2);return A.DH7(p.newClaim.estado,u)||(p.newClaim.estado=u),A.Njj(u)}),A.j41(25,"option",63),A.EFF(26,"Pendiente"),A.k0s(),A.j41(27,"option",64),A.EFF(28,"Cancelado"),A.k0s(),A.j41(29,"option",65),A.EFF(30,"Cerrado"),A.k0s()()()()}if(2&a){const r=A.XpG(2);A.R7$(4),A.R50("ngModel",r.newClaim.nombre),A.R7$(4),A.R50("ngModel",r.newClaim.tipo),A.R7$(4),A.R50("ngModel",r.newClaim.foto),A.R7$(4),A.R50("ngModel",r.newClaim.total),A.R7$(4),A.R50("ngModel",r.newClaim.fecha),A.R7$(4),A.R50("ngModel",r.newClaim.estado)}}function sI(a,s){if(1&a){const r=A.RV6();A.j41(0,"div",46)(1,"div",47)(2,"div",48)(3,"div",49)(4,"h5",50),A.EFF(5,"Agregar Nuevo Reclamo"),A.k0s(),A.j41(6,"button",67),A.bIt("click",function(){A.eBV(r);const u=A.XpG();return A.Njj(u.cancelNewClaim())}),A.k0s()(),A.j41(7,"div",52),A.DNE(8,iI,31,6,"form",53),A.k0s(),A.j41(9,"div",54)(10,"button",55),A.bIt("click",function(){A.eBV(r);const u=A.XpG();return A.Njj(u.cancelNewClaim())}),A.EFF(11,"Cancelar"),A.k0s(),A.j41(12,"button",56),A.bIt("click",function(){A.eBV(r);const u=A.XpG();return A.Njj(u.saveNewClaim())}),A.EFF(13,"Guardar Reclamo"),A.k0s()()()()()}if(2&a){const r=A.XpG();A.R7$(8),A.Y8G("ngIf",r.newClaim)}}let xT=(()=>{class a{mockData;alert;reclamos=[];masterChecked=!1;loading=!0;currentPage=1;itemsPerPage=6;selectedClaim=null;showModal=!1;newClaim=this.getEmptyClaim();showNewModal=!1;constructor(r,l){this.mockData=r,this.alert=l}ngOnInit(){const r=localStorage.getItem("claims");r?(this.reclamos=JSON.parse(r),console.table(this.reclamos),this.loading=!1):this.mockData.getReclamos().subscribe(l=>{this.reclamos=l.map(u=>({...u,selected:!1})),this.saveToLocal(),this.loading=!1})}get paginatedReclamos(){const r=(this.currentPage-1)*this.itemsPerPage;return this.reclamos.slice(r,r+this.itemsPerPage)}get totalPages(){return Math.ceil(this.reclamos.length/this.itemsPerPage)}changePage(r){r>=1&&r<=this.totalPages&&(this.currentPage=r,this.masterChecked=!1)}toggleAll(){this.paginatedReclamos.forEach(r=>r.selected=this.masterChecked)}checkMasterState(){this.masterChecked=this.paginatedReclamos.every(r=>r.selected)}hasSelected(){return this.reclamos.some(r=>r.selected)}selectedCount(){return this.reclamos.filter(r=>r.selected).length}deleteSelected(){this.reclamos=this.reclamos.filter(r=>!r.selected),this.masterChecked=!1,this.saveToLocal()}deleteItem(r){this.reclamos=this.reclamos.filter(l=>l.id!==r.id),this.saveToLocal()}editItem(r){this.selectedClaim={...r},this.showModal=!0}saveChanges(){if(!this.selectedClaim?.nombre||!this.selectedClaim?.tipo||!this.selectedClaim?.estado)return void this.alert.warning("Completa los campos obligatorios para editar el reclamo.");const r=this.reclamos.findIndex(l=>l.id===this.selectedClaim.id);-1!==r&&(this.reclamos[r]={...this.selectedClaim,selected:!1},this.saveToLocal(),this.alert.success("El reclamo fue editado correctamente.")),this.cancelEdit()}cancelEdit(){this.selectedClaim=null,this.showModal=!1}openNewModal(){this.newClaim=this.getEmptyClaim(),this.showNewModal=!0}saveNewClaim(){if(!this.newClaim.nombre||!this.newClaim.tipo||!this.newClaim.estado)return void this.alert.warning("Completa los campos obligatorios para crear un nuevo reclamo.");const r={...this.newClaim,id:this.mockData.generateUUID(),selected:!1};this.reclamos.unshift(r),this.saveToLocal(),this.alert.success("Nuevo reclamo agregado con \xe9xito."),this.showNewModal=!1}cancelNewClaim(){this.newClaim=this.getEmptyClaim(),this.showNewModal=!1}resetData(){localStorage.removeItem("claims"),this.ngOnInit(),this.alert.info("Datos restaurados a valores por defecto")}saveToLocal(){localStorage.setItem("claims",JSON.stringify(this.reclamos))}getEmptyClaim(){return{id:"",nombre:"",tipo:"",foto:"https://randomuser.me/api/portraits/lego/1.jpg",total:0,fecha:(new Date).toISOString().split("T")[0],estado:"Pendiente",selected:!1}}static \u0275fac=function(l){return new(l||a)(A.rXU(rw),A.rXU(iw.u))};static \u0275cmp=A.VBU({type:a,selectors:[["app-reclamos-table"]],decls:48,vars:14,consts:[[1,"card","h-100"],[1,"card-menu"],[1,"dropdown"],["type","button","id","dropdownMenuButton2","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle"],[1,"bi","bi-three-dots","card-menu-btn"],["aria-labelledby","dropdownMenuButton2",1,"dropdown-menu"],[1,"dropdown-header"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],[1,"card-body","d-flex","flex-column"],[1,"card-title"],[1,"mb-3","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-danger","btn-sm",3,"click","disabled"],[1,"bi","bi-trash"],[1,"btn","btn-success","btn-sm","ms-1",3,"click"],[1,"bi","bi-plus-circle"],[1,"btn","btn-warning","btn-sm",3,"click"],[1,"bi","bi-arrow-clockwise"],[1,"badge","bg-info","text-dark"],["class","text-center py-5 flex-grow-1",4,"ngIf"],["class","table-responsive flex-grow-1 overflow-auto","style","max-height: 500px",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-3"],[1,"pagination","pagination-sm","mb-0"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["class","modal fade show d-block","style","background-color: rgba(0,0,0,0.4); z-index: 1050;",4,"ngIf"],[1,"text-center","py-5","flex-grow-1"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"table-responsive","flex-grow-1","overflow-auto",2,"max-height","500px"],[1,"table","table-hover","table-info","align-middle","mb-0"],[1,"sticky-top"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"text-end"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","align-items-center","gap-2"],["alt","avatar","width","40","height","40","onerror","this.src='https://randomuser.me/api/portraits/lego/1.jpg'",1,"rounded-circle",3,"src"],[1,"mb-0"],[1,"text-muted"],[1,"badge",3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"bi","bi-pencil-square"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],["colspan","6",1,"text-center","text-muted"],[1,"modal","fade","show","d-block",2,"background-color","rgba(0,0,0,0.4)","z-index","1050"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content","rounded","shadow-lg"],[1,"modal-header"],[1,"modal-title"],["type","button","autofocus","",1,"btn-close",3,"click"],[1,"modal-body"],["class","row g-3",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label"],["name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","tipo",1,"form-control",3,"ngModelChange","ngModel"],["name","estado",1,"form-select",3,"ngModelChange","ngModel"],["value","Pendiente"],["value","Cancelado"],["value","Cerrado"],["name","fecha","type","date",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn-close",3,"click"],["name","foto",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["type","number","name","total",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","fecha",1,"form-control",3,"ngModelChange","ngModel"]],template:function(l,u){1&l&&(A.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),A.nrm(4,"i",4),A.k0s(),A.j41(5,"div",5)(6,"h6",6),A.EFF(7,"Settings"),A.k0s(),A.j41(8,"a",7),A.EFF(9,"Action"),A.k0s(),A.j41(10,"a",7),A.EFF(11,"Another action"),A.k0s(),A.j41(12,"a",7),A.EFF(13,"Something else here"),A.k0s(),A.nrm(14,"div",8),A.j41(15,"a",7),A.EFF(16,"Separated link"),A.k0s()()()(),A.j41(17,"div",9)(18,"h4",10),A.EFF(19,"Tipos de Reclamos Frecuentes"),A.k0s(),A.j41(20,"div",11)(21,"button",12),A.bIt("click",function(){return u.deleteSelected()}),A.nrm(22,"i",13),A.EFF(23," Eliminar seleccionados "),A.k0s(),A.j41(24,"button",14),A.bIt("click",function(){return u.openNewModal()}),A.nrm(25,"i",15),A.EFF(26," Nuevo reclamo "),A.k0s(),A.j41(27,"button",16),A.bIt("click",function(){return u.resetData()}),A.nrm(28,"i",17),A.EFF(29," Restaurar datos originales "),A.k0s(),A.j41(30,"span",18),A.EFF(31),A.k0s()(),A.DNE(32,tI,4,0,"div",19)(33,RT,19,3,"div",20),A.j41(34,"div",21)(35,"small"),A.EFF(36),A.k0s(),A.j41(37,"nav")(38,"ul",22)(39,"li",23)(40,"button",24),A.bIt("click",function(){return u.changePage(u.currentPage-1)}),A.EFF(41,"\u2039"),A.k0s()(),A.DNE(42,n0,3,3,"li",25),A.j41(43,"li",23)(44,"button",24),A.bIt("click",function(){return u.changePage(u.currentPage+1)}),A.EFF(45,"\u203a"),A.k0s()()()()()()(),A.DNE(46,s0,14,1,"div",26)(47,sI,14,1,"div",26)),2&l&&(A.R7$(21),A.Y8G("disabled",!u.hasSelected()),A.R7$(10),A.SpI("",u.selectedCount()," seleccionados"),A.R7$(),A.Y8G("ngIf",u.loading),A.R7$(),A.Y8G("ngIf",!u.loading),A.R7$(3),A.Lme("P\xe1gina ",u.currentPage," de ",u.totalPages,""),A.R7$(3),A.AVh("disabled",1===u.currentPage),A.R7$(3),A.Y8G("ngForOf",A.lJ4(13,J0).constructor(u.totalPages)),A.R7$(),A.AVh("disabled",u.currentPage===u.totalPages),A.R7$(3),A.Y8G("ngIf",u.showModal),A.R7$(),A.Y8G("ngIf",u.showNewModal))},dependencies:[Cs.MD,Cs.YU,Cs.Sq,Cs.bT,ec.YN,ec.qT,ec.xH,ec.y7,ec.me,ec.Q0,ec.Zm,ec.wz,ec.BC,ec.cb,ec.YS,ec.vS,ec.cV],encapsulation:2})}return a})();var oI=Q(9885),aI=Q(4796),lI=Q(6810);const Wy=()=>["/dashboard/todo"],cI=a=>["/dashboard/profile",a];function uI(a,s){if(1&a&&(A.j41(0,"span",48),A.EFF(1),A.k0s()),2&a){const r=A.XpG();A.R7$(),A.JRh(r.pendingCount)}}function Nb(a,s){1&a&&(A.j41(0,"div",49)(1,"div",50)(2,"span",51),A.EFF(3,"Loading..."),A.k0s()()())}function dI(a,s){if(1&a&&(A.j41(0,"div")(1,"div",52)(2,"div",53)(3,"div",54)(4,"div",55),A.nrm(5,"img",56),A.k0s(),A.j41(6,"div",57)(7,"h2",58),A.EFF(8),A.k0s(),A.j41(9,"h6",58),A.EFF(10,"Bienvenido a tu aplicaci\xf3n"),A.k0s(),A.j41(11,"p",59),A.EFF(12,"Este es tu panel de control, aqu\xed puedes administrar tus tareas, ver estad\xedsticas y m\xe1s."),A.k0s()()()()()()),2&a){const r=A.XpG();A.R7$(5),A.Y8G("src",r.userData.photoURL||r.imageDefault,A.B4B),A.R7$(3),A.SpI("Hola, ",r.userData.name||"Invitado","")}}function hI(a,s){if(1&a&&(A.j41(0,"div",60),A.nrm(1,"app-card-metric",61),A.k0s()),2&a){const r=s.$implicit;A.R7$(),A.Y8G("icon",r.icon)("count",r.count)("label",r.label)("color",r.color)("footerText",r.footerText)("trendIcon",r.trendIcon)}}let o0=(()=>{class a{route;auth;userService;authService;router;todoService;alertaService;mockService;userData=null;isLoading=!0;imagePath="assets/images/isotipo-webmain.svg";imageDefault="https://maxuber79.github.io/gsaforce/assets/images/face28.jpg";apodoUser="perrito";user=null;uid=null;profilePhotoURL="";pendingCount=0;todos=[];metrics="";tickets;satisfaction;channels;channelLabels=["Web","App","WhatsApp","Call Center"];channelData=[40,25,20,15];notifications=[];channelsData=[];constructor(r,l,u,p,_,y,C,R){this.route=r,this.auth=l,this.userService=u,this.authService=p,this.router=_,this.todoService=y,this.alertaService=C,this.mockService=R,console.log("%c<<< Start DashboardComponent >>>","background: #0d6efd; color: #ffffff; padding: 2px 5px;")}ngOnInit(){console.log("\u{1f4e6} Iniciando carga de usuario en dashboard..."),this.mockService.getDashboardMetrics().subscribe({next:r=>{console.log("%c<<< Datos recibidos del servicio >>>","background: #0d6efd; color: #ffffff; padding: 2px 5px;",r.metrics),this.metrics=r.metrics,console.log("%c<<< M\xc9TRICAS >>>","background:#0d6efd;color:#fff;padding:2px 5px;",this.metrics),this.tickets=r.chartData.tickets,console.log("%c<<< TICKETS >>>","background:#198754;color:#fff;padding:2px 5px;",this.tickets),this.satisfaction=r.chartData.satisfaction,console.log("%c<<< SATISFACCI\xd3N >>>","background:#ffc107;color:#000;padding:2px 5px;",this.satisfaction),this.channels=r.chartData.channel,console.log("%c<<< CANALES >>>","background:#6610f2;color:#fff;padding:2px 5px;",this.channels)},error:r=>{console.error("\u274c Error al obtener datos del servicio:",r)},complete:()=>{console.log("%c<<< complete graphics data >>>","background: #198754; color: #ffffff; padding: 2px 5px;")}}),this.mockService.getNotifications().subscribe(r=>{this.notifications=r,console.log("\u{1f4e3} Notificaciones cargadas:",this.notifications)}),this.authService.getAuthState().subscribe({next:r=>{},error:r=>{console.error("%cHTTP Error","background: #f8d7da; color: #842029; padding: 2px 5px;",r)},complete:()=>{console.log("%cHTTP request completed.","background: #d1e7dd; color: #0f5132; padding: 2px 5px;")}}),this.authService.getCurrentUser().pipe((0,F.n)(r=>this.userService.getUserData(r.uid))).subscribe({next:r=>{},error:r=>{console.error("%cHTTP Error","background: #f8d7da; color: #842029; padding: 2px 5px;",r)},complete:()=>{console.log("%cHTTP request completed.","background: #d1e7dd; color: #0f5132; padding: 2px 5px;")}}),(0,ci.hg)(this.auth,r=>{r&&r.uid?this.userService.getUserData(r.uid).subscribe({next:l=>{this.userData=l?{...l,createdDate:l.created_at?.seconds?new Date(1e3*l.created_at.seconds):void 0}:null,this.profilePhotoURL=r.photoURL||this.imageDefault,this.isLoading=!1},error:l=>{console.error("Error al cargar el perfil:",l),this.isLoading=!1}}):(console.warn("Usuario no autenticado"),this.isLoading=!1)}),this.userService.getUserData("").subscribe(r=>{r?this.userData=r:(console.warn("\u26a0\ufe0f No hay usuario logueado. Redirigiendo a login..."),this.router.navigate(["/login"])),this.isLoading=!1}),this.todoService.getPendingTodosCount().subscribe(r=>{this.pendingCount=r,console.log("\u{1f534} Tareas pendientes:",r)}),this.todoService.getTodos().subscribe({next:r=>{this.todos=r,console.log("\u{1f4cc} Todos recibidos en dashboard:",this.todos),this.alertaService.showToastSuccess("Tareas cargadas correctamente","\xc9xito")},error:r=>{console.error("\u274c Error al obtener tareas:",r)},complete:()=>{console.log("%cHTTP request completed.","background: #d1e7dd; color: #0f5132; padding: 2px 5px;")}})}onLogout(){var r=this;return(0,Co.A)(function*(){try{yield r.authService.logout(),r.router.navigate(["/"])}catch(l){console.error("\u274c Error al cerrar sesi\xf3n:",l)}})()}goToProfile(){this.userData?.uid?this.router.navigate(["/dashboard/profile",this.userData.uid]):console.error("\u274c No se encontr\xf3 UID para navegar al perfil")}static \u0275fac=function(l){return new(l||a)(A.rXU(as.nX),A.rXU(ci.Nj),A.rXU(oI.D),A.rXU(aI.u),A.rXU(as.Ix),A.rXU(lI.y),A.rXU(iw.u),A.rXU(rw))};static \u0275cmp=A.VBU({type:a,selectors:[["app-dashboard"]],decls:84,vars:16,consts:[[1,"d-flex","flex-column","min-vh-100","text-center","dashboard"],[1,"px-3","text-bg-dark"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["alt","","width","50",1,"",3,"src"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","#",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],["aria-disabled","true",1,"nav-link","disabled"],[1,"navbar-nav","flex-row","d-none","d-md-flex"],[1,"nav-item","me-3","me-lg-1","active"],[1,"bi","bi-gear-fill"],[1,"nav-item","me-3","me-lg-1"],[1,"bi","bi-bell-fill"],["class","badge rounded-pill badge-notification bg-danger",4,"ngIf"],[1,"dropdown","text-end"],["href","#","data-bs-toggle","dropdown","aria-expanded","false",1,"text-decoration-none","dropdown-toggle"],["alt","mdo","width","32","height","32",1,"rounded-circle",3,"src"],[1,"dropdown-menu","dropdown-menu-end","text-small"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-item",3,"click"],[1,"flex-grow-1","container","py-4"],[1,"container"],[1,"row"],[1,"col-12"],["class","d-flex justify-content-center align-items-center","style","height: 200px;",4,"ngIf"],[4,"ngIf"],[1,"row","g-3"],["class","col-md-6 col-xl-3 my-3",4,"ngFor","ngForOf"],[1,"col-12","grid-margin"],[3,"ticketsData"],[1,"col-sm-12","col-md-6","col-xl-6","grid-margin","stretch-card"],[3,"positive","negative"],[3,"channels"],[1,"col-md-8","grid-margin","stretch-card"],[1,"col-md-4","stretch-card","grid-margin"],[3,"notifications"],[1,"col-12","grid-margin","stretch-card"],[1,"badge","rounded-pill","badge-notification","bg-danger"],[1,"d-flex","justify-content-center","align-items-center",2,"height","200px"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"card"],[1,"card-body"],[1,"d-flex","align-items-center","mb-4","mb-lg-0","py-4"],[1,"position-relative","d-inline-block"],["alt","Profile Picture","width","100","height","100",1,"border","border-5","border-primary","rounded-circle","profile-pic","border-opacity-25","object-fit-cover","p-1",3,"src"],[1,"ms-3","text-start"],[1,"m-0","p-0"],[1,"m-0","p-0","text-muted"],[1,"col-md-6","col-xl-3","my-3"],[3,"icon","count","label","color","footerText","trendIcon"]],template:function(l,u){1&l&&(A.j41(0,"div",0)(1,"header",1)(2,"nav",2)(3,"div",3)(4,"a",4),A.nrm(5,"img",5),A.k0s(),A.j41(6,"button",6),A.nrm(7,"span",7),A.k0s(),A.j41(8,"div",8)(9,"ul",9)(10,"li",10)(11,"a",11),A.EFF(12,"Home"),A.k0s()(),A.j41(13,"li",10)(14,"a",12),A.EFF(15,"Link"),A.k0s()(),A.j41(16,"li",13)(17,"a",14),A.EFF(18," Dropdown "),A.k0s(),A.j41(19,"ul",15)(20,"li")(21,"a",16),A.EFF(22,"Action"),A.k0s()(),A.j41(23,"li")(24,"a",16),A.EFF(25,"Another action"),A.k0s()(),A.j41(26,"li"),A.nrm(27,"hr",17),A.k0s(),A.j41(28,"li")(29,"a",16),A.EFF(30,"Something else here"),A.k0s()()()(),A.j41(31,"li",10)(32,"a",18),A.EFF(33,"Disabled"),A.k0s()()(),A.j41(34,"ul",19)(35,"li",20)(36,"a",12)(37,"span"),A.nrm(38,"i",21),A.k0s()()(),A.j41(39,"li",22)(40,"a",12)(41,"span"),A.nrm(42,"i",23),A.k0s(),A.DNE(43,uI,2,1,"span",24),A.k0s()()(),A.j41(44,"div",25)(45,"a",26),A.nrm(46,"img",27),A.k0s(),A.j41(47,"ul",28)(48,"li")(49,"a",16),A.EFF(50,"New project..."),A.k0s()(),A.j41(51,"li")(52,"a",29),A.EFF(53,"To-Do"),A.k0s()(),A.j41(54,"li")(55,"a",29),A.EFF(56,"Profile"),A.k0s()(),A.j41(57,"li"),A.nrm(58,"hr",17),A.k0s(),A.j41(59,"li")(60,"a",30),A.bIt("click",function(){return u.onLogout()}),A.EFF(61,"Sign out"),A.k0s()()()()()()()(),A.j41(62,"main",31)(63,"div",32)(64,"div",33)(65,"div",34),A.DNE(66,Nb,4,0,"div",35)(67,dI,13,2,"div",36),A.k0s(),A.j41(68,"div",37),A.DNE(69,hI,2,6,"div",38),A.k0s(),A.j41(70,"div",37)(71,"div",39),A.nrm(72,"app-line-chart",40),A.k0s(),A.j41(73,"div",41),A.nrm(74,"app-satisfaction-chart",42),A.k0s(),A.j41(75,"div",41),A.nrm(76,"app-channels-chart",43),A.k0s()(),A.j41(77,"div",33)(78,"div",44),A.nrm(79,"app-reclamos-table"),A.k0s(),A.j41(80,"div",45),A.nrm(81,"app-notification-list",46),A.k0s()(),A.j41(82,"div",33),A.nrm(83,"div",47),A.k0s()()()()()),2&l&&(A.R7$(5),A.Y8G("src",u.imagePath,A.B4B),A.R7$(38),A.Y8G("ngIf",u.pendingCount>0),A.R7$(3),A.Y8G("src",(null==u.userData?null:u.userData.photoURL)||u.imageDefault,A.B4B),A.R7$(6),A.Y8G("routerLink",A.lJ4(13,Wy)),A.R7$(3),A.Y8G("routerLink",A.eq3(14,cI,null==u.userData?null:u.userData.uid)),A.R7$(11),A.Y8G("ngIf",u.isLoading),A.R7$(),A.Y8G("ngIf",!u.isLoading&&u.userData),A.R7$(2),A.Y8G("ngForOf",u.metrics),A.R7$(3),A.Y8G("ticketsData",u.tickets),A.R7$(2),A.Y8G("positive",(null==u.satisfaction?null:u.satisfaction.positive)||0)("negative",(null==u.satisfaction?null:u.satisfaction.negative)||0),A.R7$(2),A.Y8G("channels",u.channels),A.R7$(5),A.Y8G("notifications",u.notifications))},dependencies:[Cs.MD,Cs.Sq,Cs.bT,Ts.iI,Ts.Wk,ze,X0,Y0,Z0,t0,xT],styles:["[data-card=border][_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid var(--bs-border-color);box-shadow:none}.card[_ngcontent-%COMP%]{margin-bottom:var(--bs-gutter-x)}.card-title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px;color:var(--bs-card-title-color)}.card-subtitle[_ngcontent-%COMP%]{font-size:14px;line-height:24px;color:var(--bs-card-subtitle-color)}.card-hover[_ngcontent-%COMP%]{transition:.2s ease-in}.card-hover[_ngcontent-%COMP%]:hover{transform:translate3d(0,-5px,0)}.cardwithborder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid var(--bs-border-color)}.card-fullscreen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;overflow:auto}.draggable-cards[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{cursor:move}.card-moved[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:var(--bs-info);color:var(--bs-white)}"]})}return a})();function a0(a,s){1&a&&(A.j41(0,"div",5)(1,"div",6)(2,"span",7),A.EFF(3,"Cargando..."),A.k0s()(),A.j41(4,"p",8),A.EFF(5,"Procesando..."),A.k0s()())}let sw=(()=>{class a{router;userName="Nuevo Usuario";isLoading=!1;constructor(r){this.router=r}goToDashboard(){setTimeout(()=>{this.isLoading=!1,this.router.navigate(["/dashboard"])},2e3)}static \u0275fac=function(l){return new(l||a)(A.rXU(as.Ix))};static \u0275cmp=A.VBU({type:a,selectors:[["app-welcome"]],decls:8,vars:2,consts:[[1,"welcome-container"],[1,"welcome-title"],[1,"welcome-subtitle"],["class","text-center my-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"text-center","my-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"]],template:function(l,u){1&l&&(A.j41(0,"section",0)(1,"h1",1),A.EFF(2),A.k0s(),A.j41(3,"p",2),A.EFF(4," Gracias por registrarte en nuestra aplicaci\xf3n To-Do. Desde aqu\xed puedes acceder a tu panel de control. "),A.k0s(),A.DNE(5,a0,6,0,"div",3),A.j41(6,"button",4),A.bIt("click",function(){return u.goToDashboard()}),A.EFF(7,"Ir al Dashboard"),A.k0s()()),2&l&&(A.R7$(2),A.SpI("\xa1Bienvenido, ",u.userName,"! \u{1f44b}"),A.R7$(3),A.Y8G("ngIf",u.isLoading))},dependencies:[Cs.MD,Cs.bT],styles:[".welcome-container[_ngcontent-%COMP%]{text-align:center;padding:2rem}.welcome-container[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.welcome-container[_ngcontent-%COMP%]   .welcome-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:#555}.welcome-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1.5rem}"]})}return a})();var ow=Q(520);const l0=(a,s)=>{const r=(0,A.WQX)(ci.Nj),l=(0,A.WQX)(as.Ix);return new Td.c(u=>{const p=(0,ow.hg)(r,_=>{_?u.next(!0):(l.navigate(["/"]),u.next(!1)),u.complete(),p()})})},Fb=(a,s)=>{const r=(0,A.WQX)(ci.Nj),l=(0,A.WQX)(as.Ix);return new Td.c(u=>{const p=(0,ow.hg)(r,_=>{_?(l.navigate(["/dashboard"]),u.next(!1)):u.next(!0),u.complete(),p()})})},aw=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>Q.e(195).then(Q.bind(Q,7195)).then(a=>a.LoginComponent),canActivate:[Fb]},{path:"register",loadComponent:()=>Q.e(739).then(Q.bind(Q,2739)).then(a=>a.RegisterComponent),canActivate:[Fb]},{path:"forgot",loadComponent:()=>Q.e(439).then(Q.bind(Q,6439)).then(a=>a.ForgotPasswordComponent),canActivate:[Fb]},{path:"dashboard",component:o0,canActivate:[l0],loadChildren:()=>Q.e(913).then(Q.bind(Q,3913)).then(a=>a.default)},{path:"welcome",component:sw,canActivate:[l0]},{path:"**",loadComponent:()=>Q.e(887).then(Q.bind(Q,8887)).then(a=>a.NotFoundComponent)}],c0_firebaseConfig={apiKey:"AIzaSyCbOayfHpIwogvguhehOdr1JZO5IW1ELwA",authDomain:"to-do-app-2a154.firebaseapp.com",projectId:"to-do-app-2a154",storageBucket:"to-do-app-2a154.firebasestorage.app",messagingSenderId:"772395492262",appId:"1:772395492262:web:902eddb2ce4a22857da567"};var lw=Q(7440),u0=Q(9967),d0=Q(2107),fI=Q(5794);(function Rn(a,s){return(0,A.TL3)({rootComponent:a,...Dr(s)})})(Bo,{providers:[(0,Ts.lh)(aw),(0,Jw.$R)(),function Oi(){return(0,A.ngT)("NgEagerAnimations"),[...sc]}(),(0,lw.MW)(()=>(0,lw.Wp)(c0_firebaseConfig)),(0,ci._q)(()=>(0,ci.xI)()),(0,u0.hV)(()=>(0,u0.aU)()),(0,d0.Xm)(()=>(0,d0.c7)()),(0,fI.DP)({positionClass:"toast-bottom-right",timeOut:3e3,closeButton:!0,progressBar:!0})]}).catch(a=>console.error(a))},8071:(qn,ot,Q)=>{"use strict";function T(z){return"function"==typeof z}Q.d(ot,{T:()=>T})},8359:(qn,ot,Q)=>{"use strict";Q.d(ot,{Kn:()=>pt,yU:()=>We,Uv:()=>Oe});var T=Q(8071);const le=(0,Q(1853).L)(at=>function(Fe){at(this),this.message=Fe?`${Fe.length} errors occurred during unsubscription:\n${Fe.map((At,yt)=>`${yt+1}) ${At.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Fe});var A=Q(7908);class We{constructor(Ve){this.initialTeardown=Ve,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ve;if(!this.closed){this.closed=!0;const{_parentage:Fe}=this;if(Fe)if(this._parentage=null,Array.isArray(Fe))for(const Ct of Fe)Ct.remove(this);else Fe.remove(this);const{initialTeardown:At}=this;if((0,T.T)(At))try{At()}catch(Ct){Ve=Ct instanceof le?Ct.errors:[Ct]}const{_finalizers:yt}=this;if(yt){this._finalizers=null;for(const Ct of yt)try{Le(Ct)}catch(Qt){Ve=Ve??[],Qt instanceof le?Ve=[...Ve,...Qt.errors]:Ve.push(Qt)}}if(Ve)throw new le(Ve)}}add(Ve){var Fe;if(Ve&&Ve!==this)if(this.closed)Le(Ve);else{if(Ve instanceof We){if(Ve.closed||Ve._hasParent(this))return;Ve._addParent(this)}(this._finalizers=null!==(Fe=this._finalizers)&&void 0!==Fe?Fe:[]).push(Ve)}}_hasParent(Ve){const{_parentage:Fe}=this;return Fe===Ve||Array.isArray(Fe)&&Fe.includes(Ve)}_addParent(Ve){const{_parentage:Fe}=this;this._parentage=Array.isArray(Fe)?(Fe.push(Ve),Fe):Fe?[Fe,Ve]:Ve}_removeParent(Ve){const{_parentage:Fe}=this;Fe===Ve?this._parentage=null:Array.isArray(Fe)&&(0,A.o)(Fe,Ve)}remove(Ve){const{_finalizers:Fe}=this;Fe&&(0,A.o)(Fe,Ve),Ve instanceof We&&Ve._removeParent(this)}}We.EMPTY=(()=>{const at=new We;return at.closed=!0,at})();const pt=We.EMPTY;function Oe(at){return at instanceof We||at&&"closed"in at&&(0,T.T)(at.remove)&&(0,T.T)(at.add)&&(0,T.T)(at.unsubscribe)}function Le(at){(0,T.T)(at)?at():at.unsubscribe()}},8455:(qn,ot,Q)=>{"use strict";Q.d(ot,{H:()=>Qe});var T=Q(8750),z=Q(941),le=Q(6745),pt=Q(1985),Le=Q(4761),at=Q(8071),Ve=Q(5225);function At(vt,ht){if(!vt)throw new Error("Iterable cannot be null");return new pt.c(kt=>{(0,Ve.N)(kt,ht,()=>{const hn=vt[Symbol.asyncIterator]();(0,Ve.N)(kt,ht,()=>{hn.next().then(xt=>{xt.done?kt.complete():kt.next(xt.value)})},0,!0)})})}var yt=Q(5055),Ct=Q(9858),Qt=Q(7441),Zt=Q(5397),un=Q(7953),In=Q(591),Ut=Q(5196);function Qe(vt,ht){return ht?function Kt(vt,ht){if(null!=vt){if((0,yt.l)(vt))return function A(vt,ht){return(0,T.Tg)(vt).pipe((0,le._)(ht),(0,z.Q)(ht))}(vt,ht);if((0,Qt.X)(vt))return function Oe(vt,ht){return new pt.c(kt=>{let hn=0;return ht.schedule(function(){hn===vt.length?kt.complete():(kt.next(vt[hn++]),kt.closed||this.schedule())})})}(vt,ht);if((0,Ct.y)(vt))return function We(vt,ht){return(0,T.Tg)(vt).pipe((0,le._)(ht),(0,z.Q)(ht))}(vt,ht);if((0,un.T)(vt))return At(vt,ht);if((0,Zt.x)(vt))return function Fe(vt,ht){return new pt.c(kt=>{let hn;return(0,Ve.N)(kt,ht,()=>{hn=vt[Le.l](),(0,Ve.N)(kt,ht,()=>{let xt,Pt;try{({value:xt,done:Pt}=hn.next())}catch(lr){return void kt.error(lr)}Pt?kt.complete():kt.next(xt)},0,!0)}),()=>(0,at.T)(hn?.return)&&hn.return()})}(vt,ht);if((0,Ut.U)(vt))return function Gt(vt,ht){return At((0,Ut.C)(vt),ht)}(vt,ht)}throw(0,In.L)(vt)}(vt,ht):(0,T.Tg)(vt)}},8496:(qn,ot,Q)=>{"use strict";function T(z,le){return z.reduce((A,We,pt)=>(A[We]=le[pt],A),{})}Q.d(ot,{e:()=>T})},8750:(qn,ot,Q)=>{"use strict";Q.d(ot,{Tg:()=>yt});var T=Q(1635),z=Q(7441),le=Q(9858),A=Q(1985),We=Q(5055),pt=Q(7953),Oe=Q(591),Le=Q(5397),at=Q(5196),Ve=Q(8071),Fe=Q(5334),At=Q(3494);function yt(Kt){if(Kt instanceof A.c)return Kt;if(null!=Kt){if((0,We.l)(Kt))return function Ct(Kt){return new A.c(Qe=>{const vt=Kt[At.s]();if((0,Ve.T)(vt.subscribe))return vt.subscribe(Qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Kt);if((0,z.X)(Kt))return function Qt(Kt){return new A.c(Qe=>{for(let vt=0;vt<Kt.length&&!Qe.closed;vt++)Qe.next(Kt[vt]);Qe.complete()})}(Kt);if((0,le.y)(Kt))return function Zt(Kt){return new A.c(Qe=>{Kt.then(vt=>{Qe.closed||(Qe.next(vt),Qe.complete())},vt=>Qe.error(vt)).then(null,Fe.m)})}(Kt);if((0,pt.T)(Kt))return In(Kt);if((0,Le.x)(Kt))return function un(Kt){return new A.c(Qe=>{for(const vt of Kt)if(Qe.next(vt),Qe.closed)return;Qe.complete()})}(Kt);if((0,at.U)(Kt))return function Ut(Kt){return In((0,at.C)(Kt))}(Kt)}throw(0,Oe.L)(Kt)}function In(Kt){return new A.c(Qe=>{(function Gt(Kt,Qe){var vt,ht,kt,hn;return(0,T.sH)(this,void 0,void 0,function*(){try{for(vt=(0,T.xN)(Kt);!(ht=yield vt.next()).done;)if(Qe.next(ht.value),Qe.closed)return}catch(xt){kt={error:xt}}finally{try{ht&&!ht.done&&(hn=vt.return)&&(yield hn.call(vt))}finally{if(kt)throw kt.error}}Qe.complete()})})(Kt,Qe).catch(vt=>Qe.error(vt))})}},9270:(qn,ot,Q)=>{"use strict";Q.d(ot,{f:()=>T});const T={setTimeout(z,le,...A){const{delegate:We}=T;return We?.setTimeout?We.setTimeout(z,le,...A):setTimeout(z,le,...A)},clearTimeout(z){const{delegate:le}=T;return(le?.clearTimeout||clearTimeout)(z)},delegate:void 0}},9326:(qn,ot,Q)=>{"use strict";Q.d(ot,{lI:()=>We,ms:()=>A});var T=Q(8071),z=Q(9470);function le(Oe){return Oe[Oe.length-1]}function A(Oe){return(0,T.T)(le(Oe))?Oe.pop():void 0}function We(Oe){return(0,z.m)(le(Oe))?Oe.pop():void 0}},9332:(qn,ot,Q)=>{"use strict";Q.d(ot,{u:()=>We});var T=Q(8032),z=Q.n(T),le=Q(1360),A=Q(5794);let We=(()=>{class pt{toastr;constructor(Le){this.toastr=Le}success(Le,at="\xc9xito"){z().fire({icon:"success",title:at,text:Le,timer:2e3,showConfirmButton:!1})}error(Le,at="Error"){z().fire({icon:"error",title:at,text:Le})}warning(Le,at="Atenci\xf3n"){z().fire({icon:"warning",title:at,text:Le})}info(Le,at="Informaci\xf3n"){z().fire({icon:"info",title:at,text:Le})}confirm(Le,at="\xbfEst\xe1s seguro?"){return z().fire({icon:"question",title:at,text:Le,showCancelButton:!0,confirmButtonText:"S\xed",cancelButtonText:"No"})}showToastSuccess(Le,at="\xc9xito"){this.toastr.success(Le,at)}showToastError(Le,at="Error"){this.toastr.error(Le,at)}showToastInfo(Le,at="Info"){this.toastr.info(Le,at)}showToastWarning(Le,at="Atenci\xf3n"){this.toastr.warning(Le,at)}static \u0275fac=function(at){return new(at||pt)(le.KVO(A.tw))};static \u0275prov=le.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})()},9350:(qn,ot,Q)=>{"use strict";Q.d(ot,{G:()=>z});const z=(0,Q(1853).L)(le=>function(){le(this),this.name="EmptyError",this.message="no elements in sequence"})},9361:(qn,ot,Q)=>{"use strict";Q.d(ot,{q:()=>z});const z=new(Q(1360).nKC)("")},9377:(qn,ot,Q)=>{"use strict";function T(Oe,Le){Le=encodeURIComponent(Le);for(const at of Oe.split(";")){const Ve=at.indexOf("="),[Fe,At]=-1==Ve?[at,""]:[at.slice(0,Ve),at.slice(Ve+1)];if(Fe.trim()===Le)return decodeURIComponent(At)}return null}Q.d(ot,{N0:()=>pt,Vy:()=>We,Zn:()=>z,bS:()=>T});const z="browser",le="server";function We(Oe){return Oe===le}class pt{}},9437:(qn,ot,Q)=>{"use strict";Q.d(ot,{W:()=>A});var T=Q(8750),z=Q(4360),le=Q(9974);function A(We){return(0,le.N)((pt,Oe)=>{let Ve,Le=null,at=!1;Le=pt.subscribe((0,z._)(Oe,void 0,void 0,Fe=>{Ve=(0,T.Tg)(We(Fe,A(We)(pt))),Le?(Le.unsubscribe(),Le=null,Ve.subscribe(Oe)):at=!0})),at&&(Le.unsubscribe(),Le=null,Ve.subscribe(Oe))})}},9470:(qn,ot,Q)=>{"use strict";Q.d(ot,{m:()=>z});var T=Q(8071);function z(le){return le&&(0,T.T)(le.schedule)}},9786:(qn,ot,Q)=>{"use strict";Q.d(ot,{Y:()=>le,l:()=>A});var T=Q(1026);let z=null;function le(We){if(T.$.useDeprecatedSynchronousErrorHandling){const pt=!z;if(pt&&(z={errorThrown:!1,error:null}),We(),pt){const{errorThrown:Oe,error:Le}=z;if(z=null,Oe)throw Le}}else We()}function A(We){T.$.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=We)}},9858:(qn,ot,Q)=>{"use strict";Q.d(ot,{y:()=>z});var T=Q(8071);function z(le){return(0,T.T)(le?.then)}},9885:(qn,ot,Q)=>{"use strict";Q.d(ot,{D:()=>Ve});var T=Q(9967),z=Q(7673),le=Q(8455),A=Q(6354),We=Q(9437),pt=Q(5558),Oe=Q(1360),Le=Q(7643),at=Q(4796);let Ve=(()=>{class Fe{http;authService;firestore;usersCollectionName="users";constructor(yt,Ct,Qt){this.http=yt,this.authService=Ct,this.firestore=Qt,console.log("%c<<< Start USER service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getUserProfile(yt){if(!yt)return console.warn("\u26a0\ufe0f getUserProfile: UID no proporcionado."),(0,z.of)(void 0);const Ct=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${yt}`);return console.log("\u{1f4c4} Obteniendo perfil para UID:",yt),(0,T.Bg)(Ct).pipe((0,A.T)(Qt=>{if(Qt)return console.log("\u2705 Perfil obtenido:",Qt),{...Qt,uid:yt};console.warn("\u26a0\ufe0f No se encontr\xf3 perfil para UID:",yt)}),(0,We.W)(Qt=>(console.error("\u274c Error al obtener el perfil del usuario:",Qt),(0,z.of)(void 0))))}createUserProfile(yt){if(!yt.uid)return(0,le.H)(Promise.reject("\u274c createUserProfile: UID del usuario es requerido."));const Ct=new Date,Qt={...yt,created_at:Ct,createdDate:Ct},Zt=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${yt.uid}`);return console.log("\u{1f4dd} Creando perfil para usuario:",Qt),(0,le.H)((0,T.BN)(Zt,Qt))}updateUserProfile(yt,Ct){if(!yt)return(0,le.H)(Promise.reject("\u274c updateUserProfile: UID no proporcionado."));const Qt=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${yt}`);return console.log("\u{1f504} Actualizando perfil UID:",yt,"con datos:",Ct),(0,le.H)((0,T.mZ)(Qt,Ct))}deleteUserProfile(yt){if(!yt)return(0,le.H)(Promise.reject("\u274c deleteUserProfile: UID no proporcionado."));const Ct=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${yt}`);return console.log("\u{1f5d1} Eliminando perfil UID:",yt),(0,le.H)((0,T.kd)(Ct))}getUserData(yt){return this.authService.getAuthState().pipe((0,pt.n)(Ct=>{if(console.log("\u{1f4e1} authService.getAuthState() emiti\xf3:",Ct),Ct&&Ct.uid){const Qt=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${Ct.uid}`);return(0,T.Bg)(Qt).pipe((0,A.T)(Zt=>({...Zt,uid:Ct.uid})))}return console.warn("\u26a0\ufe0f Usuario no autenticado o sesi\xf3n expirada"),(0,z.of)(null)}))}static \u0275fac=function(Ct){return new(Ct||Fe)(Oe.KVO(Le.Qq),Oe.KVO(at.u),Oe.KVO(T._7))};static \u0275prov=Oe.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},9967:(qn,ot,Q)=>{"use strict";Q.d(ot,{_7:()=>bt,rJ:()=>kn,xs:()=>Dr,kd:()=>li,H9:()=>wn,Bg:()=>gr,x7:()=>rs,aU:()=>zi,hV:()=>me,P:()=>$e,BN:()=>dt,mZ:()=>Bt,_M:()=>tt});var T=Q(2967),z=Q(1360),le=Q(7440),A=Q(4125),We=Q(6335),pt=Q(2214),Oe=Q(3273),Le=Q(1985),at=Q(6354),Ve=function(){return Ve=Object.assign||function(Mt){for(var en,Tn=1,ir=arguments.length;Tn<ir;Tn++)for(var Nn in en=arguments[Tn])Object.prototype.hasOwnProperty.call(en,Nn)&&(Mt[Nn]=en[Nn]);return Mt},Ve.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var At={includeMetadataChanges:!1};function yt(Vt,Mt){return void 0===Mt&&(Mt=At),new Le.c(function(en){return{unsubscribe:(0,Oe.aQ)(Vt,Mt,{next:en.next.bind(en),error:en.error.bind(en),complete:en.complete.bind(en)})}})}function Qt(Vt,Mt){return void 0===Mt&&(Mt={}),function Ct(Vt){return yt(Vt,{includeMetadataChanges:!0})}(Vt).pipe((0,at.T)(function(en){return Zt(en,Mt)}))}function Zt(Vt,Mt){var en;void 0===Mt&&(Mt={});var Tn=Vt.data(Mt);return Vt.exists()&&"object"==typeof Tn&&null!==Tn&&Mt.idField?Ve(Ve({},Tn),((en={})[Mt.idField]=Vt.id,en)):Tn}function lr(Vt,Mt){return void 0===Mt&&(Mt={}),function hn(Vt){return yt(Vt,{includeMetadataChanges:!0}).pipe((0,at.T)(function(Mt){return Mt.docs}))}(Vt).pipe((0,at.T)(function(en){return en.map(function(Tn){return Zt(Tn,Mt)})}))}class bt{constructor(Mt){return Mt}}const Wn="firestore",rn=new z.nKC("angularfire2.firestore-instances");function de(Vt){return(Mt,en)=>{const Tn=Mt.runOutsideAngular(()=>Vt(en));return new bt(Tn)}}const Te={provide:class Ot{constructor(){return(0,T.CA)(Wn)}},deps:[[new z.Xx1,rn]]},De={provide:bt,useFactory:function st(Vt,Mt){const en=(0,T.lR)(Wn,Vt,Mt);return en&&new bt(en)},deps:[[new z.Xx1,rn],le.XU]};function me(Vt,...Mt){return(0,pt.KO)("angularfire",T.xv.full,"fst"),(0,z.EmA)([De,Te,{provide:rn,useFactory:de(Vt),multi:!0,deps:[z.SKi,z.zZn,T.u0,le.gL,[new z.Xx1,We.DF],[new z.Xx1,A.kR],...Mt]}])}const Dr=(0,T.S3)(lr,!0),gr=(0,T.S3)(Qt,!0),kn=(0,T.S3)(Oe.rJ,!0,2),li=(0,T.S3)(Oe.kd,!0,2),wn=(0,T.S3)(Oe.H9,!0,2),rs=(0,T.S3)(Oe.x7,!0),zi=(0,T.S3)(Oe.aU,!0),$e=(0,T.S3)(Oe.P,!0,2),dt=(0,T.S3)(Oe.BN,!0,2),Bt=(0,T.S3)(Oe.mZ,!0,2),tt=(0,T.S3)(Oe._M,!0,2)},9974:(qn,ot,Q)=>{"use strict";Q.d(ot,{N:()=>le,S:()=>z});var T=Q(8071);function z(A){return(0,T.T)(A?.lift)}function le(A){return We=>{if(z(We))return We.lift(function(pt){try{return A(pt,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}}},qn=>{qn(qn.s=8058)}]);