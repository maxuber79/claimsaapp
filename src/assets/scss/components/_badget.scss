@use '../abstracts'as *;
@use 'sass:list';
@use 'sass:color';

.badge {
  font-family: $font-base, sans-serif;
  font-weight: 500;
  font-size: 0.625rem;
  line-height: 1;
  padding: 0.276rem .512rem;
  border-radius: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.02em;
  display: inline-block;
  white-space: nowrap;
  vertical-align: middle;
  transition: all 0.2s ease;

  &.badge-pill {
    border-radius: 10rem;
  }
}

@each $type,
$pair in $badge-color-map {
  $bg-color: list.nth($pair, 1);
  $text-color: list.nth($pair, 2);

  // Nota: color.mix($a, $b, $weight) -> $weight favorece al primer color.
  // Se mantiene el 80% como en tu cÃ³digo original.
  $hover-color: color.mix($bg-color, #fff, 80%);
  $border-color: $bg-color;

  // ðŸŽ¨ Badge con fondo sÃ³lido
  .badge-full-#{$type} {
    @extend .badge;
    background-color: $bg-color;
    color: $text-color;
  }

  // ðŸª¶ Badge con borde (outline)
  .badge-outline-#{$type} {
    @extend .badge;
    background-color: transparent;
    color: $bg-color;
    border: 1px solid $border-color;

    &:hover {
      background-color: $hover-color;
      color: $text-color;
    }
  }

  // ðŸŒ‘ Dark mode
  body.dark-mode {
    .badge-gsa-#{$type} {
      // Equivalente a "lighten" ~20%
      background-color: color.adjust($bg-color, $lightness: 20%);
      // Aclarar texto ~30%
      color: color.adjust($text-color, $lightness: 30%);
    }

    .badge-outline-#{$type} {
      color: color.adjust($bg-color, $lightness: 15%);
      border-color: color.adjust($bg-color, $lightness: 15%);
      background-color: transparent;

      &:hover {
        // Mezcla hacia negro para hover en dark-mode
        background-color: color.mix($bg-color, #000, 40%);
        color: $text-color;
      }
    }
  }
}