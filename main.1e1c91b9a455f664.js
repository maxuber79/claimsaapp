(self.webpackChunkclaims_app=self.webpackChunkclaims_app||[]).push([[792],{274:(En,je,U)=>{"use strict";U.d(je,{H:()=>q});var b=U(1397),x=U(8071);function q(I,Ce){return(0,x.T)(Ce)?(0,b.Z)(I,Ce,1):(0,b.Z)(I,1)}},345:(En,je,U)=>{"use strict";U.d(je,{hE:()=>Ce,up:()=>_t});var b=U(9361),x=U(1360);let Ce=(()=>{class dt{_doc;constructor(Ze){this._doc=Ze}getTitle(){return this._doc.title}setTitle(Ze){this._doc.title=Ze||""}static \u0275fac=function(en){return new(en||dt)(x.KVO(b.q))};static \u0275prov=x.jDH({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})(),_t=(()=>{class dt{static \u0275fac=function(en){return new(en||dt)};static \u0275prov=x.jDH({token:dt,factory:function(en){let Rt=null;return Rt=en?new(en||dt):x.KVO(Dt),Rt},providedIn:"root"})}return dt})(),Dt=(()=>{class dt extends _t{_doc;constructor(Ze){super(),this._doc=Ze}sanitize(Ze,en){if(null==en)return null;switch(Ze){case x.WPN.NONE:return en;case x.WPN.HTML:return(0,x.ZF7)(en,"HTML")?(0,x.rcV)(en):(0,x.h9k)(this._doc,String(en)).toString();case x.WPN.STYLE:return(0,x.ZF7)(en,"Style")?(0,x.rcV)(en):en;case x.WPN.SCRIPT:if((0,x.ZF7)(en,"Script"))return(0,x.rcV)(en);throw new x.wOt(5200,!1);case x.WPN.URL:return(0,x.ZF7)(en,"URL")?(0,x.rcV)(en):(0,x.$MX)(String(en));case x.WPN.RESOURCE_URL:if((0,x.ZF7)(en,"ResourceURL"))return(0,x.rcV)(en);throw new x.wOt(5201,!1);default:throw new x.wOt(5202,!1)}}bypassSecurityTrustHtml(Ze){return(0,x.Kcf)(Ze)}bypassSecurityTrustStyle(Ze){return(0,x.cWb)(Ze)}bypassSecurityTrustScript(Ze){return(0,x.UyX)(Ze)}bypassSecurityTrustUrl(Ze){return(0,x.osQ)(Ze)}bypassSecurityTrustResourceUrl(Ze){return(0,x.e5t)(Ze)}static \u0275fac=function(en){return new(en||dt)(x.KVO(b.q))};static \u0275prov=x.jDH({token:dt,factory:dt.\u0275fac,providedIn:"root"})}return dt})()},467:(En,je,U)=>{"use strict";function b(q,I,Ce,Qe,Ee,fe,xe){try{var me=q[fe](xe),pe=me.value}catch(et){return void Ce(et)}me.done?I(pe):Promise.resolve(pe).then(Qe,Ee)}function x(q){return function(){var I=this,Ce=arguments;return new Promise(function(Qe,Ee){var fe=q.apply(I,Ce);function xe(pe){b(fe,Qe,Ee,xe,me,"next",pe)}function me(pe){b(fe,Qe,Ee,xe,me,"throw",pe)}xe(void 0)})}}U.d(je,{A:()=>x})},520:(En,je,U)=>{"use strict";U.d(je,{eJ:()=>Va,xI:()=>Jl,hg:()=>eo,J1:()=>wi,x9:()=>Wr,CI:()=>Ls});var b=U(467),x=U(7852),q=U(6858),I=U(8041),Ce=U(1635),Qe=U(1362);const At=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ut=new q.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xt=new I.Vy("@firebase/auth");function _t(D,...f){Xt.logLevel<=I.$b.ERROR&&Xt.error(`Auth (${x.MF}): ${D}`,...f)}function Dt(D,...f){throw Wt(D,...f)}function Me(D,...f){return Wt(D,...f)}function nt(D,f,_){const S=Object.assign(Object.assign({},At()),{[f]:_});return new q.FA("auth","Firebase",S).create(f,{appName:D.name})}function Xe(D){return nt(D,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wt(D,...f){if("string"!=typeof D){const _=f[0],S=[...f.slice(1)];return S[0]&&(S[0].appName=D.name),D._errorFactory.create(_,...S)}return Ut.create(D,...f)}function Et(D,f,..._){if(!D)throw Wt(f,..._)}function st(D){const f="INTERNAL ASSERTION FAILED: "+D;throw _t(f),new Error(f)}function Ln(D,f){D||st(f)}function Rn(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function dt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class en{constructor(f,_){this.shortDelay=f,this.longDelay=_,Ln(_>f,"Short delay should be less than long delay!"),this.isMobile=(0,q.jZ)()||(0,q.lV)()}get(){return function vn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Kn(){return"http:"===dt()||"https:"===dt()}()||(0,q.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rt(D,f){Ln(D.emulator,"Emulator should always be set here");const{url:_}=D.emulator;return f?`${_}${f.startsWith("/")?f.slice(1):f}`:_}class We{static initialize(f,_,S){this.fetchImpl=f,_&&(this.headersImpl=_),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void st("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void st("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void st("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ue=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],le=new en(3e4,6e4);function ge(D,f){return D.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:D.tenantId}):f}function ne(D,f,_,S){return de.apply(this,arguments)}function de(){return(de=(0,b.A)(function*(D,f,_,S,V={}){return Ke(D,V,(0,b.A)(function*(){let J={},Fe={};S&&("GET"===f?Fe=S:J={body:JSON.stringify(S)});const Je=(0,q.Am)(Object.assign({key:D.config.apiKey},Fe)).slice(1),Vt=yield D._getAdditionalHeaders();Vt["Content-Type"]="application/json",D.languageCode&&(Vt["X-Firebase-Locale"]=D.languageCode);const pn=Object.assign({method:f,headers:Vt},J);return(0,q.c1)()||(pn.referrerPolicy="no-referrer"),D.emulatorConfig&&(0,q.zJ)(D.emulatorConfig.host)&&(pn.credentials="include"),We.fetch()(yield nr(D,D.config.apiHost,_,Je),pn)}))})).apply(this,arguments)}function Ke(D,f,_){return gt.apply(this,arguments)}function gt(){return(gt=(0,b.A)(function*(D,f,_){D._canInitEmulator=!1;const S=Object.assign(Object.assign({},Y),f);try{const V=new Hn(D),J=yield Promise.race([_(),V.promise]);V.clearNetworkTimeout();const Fe=yield J.json();if("needConfirmation"in Fe)throw qt(D,"account-exists-with-different-credential",Fe);if(J.ok&&!("errorMessage"in Fe))return Fe;{const Je=J.ok?Fe.errorMessage:Fe.error.message,[Vt,pn]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Vt)throw qt(D,"credential-already-in-use",Fe);if("EMAIL_EXISTS"===Vt)throw qt(D,"email-already-in-use",Fe);if("USER_DISABLED"===Vt)throw qt(D,"user-disabled",Fe);const $n=S[Vt]||Vt.toLowerCase().replace(/[_\s]+/g,"-");if(pn)throw nt(D,$n,pn);Dt(D,$n)}}catch(V){if(V instanceof q.g)throw V;Dt(D,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function rn(D,f,_,S){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,b.A)(function*(D,f,_,S,V={}){const J=yield ne(D,f,_,S,V);return"mfaPendingCredential"in J&&Dt(D,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function nr(D,f,_,S){return zt.apply(this,arguments)}function zt(){return(zt=(0,b.A)(function*(D,f,_,S){const V=`${f}${_}?${S}`,J=D,Fe=J.config.emulator?Rt(D.config,V):`${D.config.apiScheme}://${V}`;return ue.includes(_)&&(yield J._persistenceManagerAvailable,"COOKIE"===J._getPersistenceType())?J._getPersistence()._getFinalTarget(Fe).toString():Fe})).apply(this,arguments)}function Zn(D){switch(D){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((_,S)=>{this.timer=setTimeout(()=>S(Me(this.auth,"network-request-failed")),le.get())})}}function qt(D,f,_){const S={appName:D.name};_.email&&(S.email=_.email),_.phoneNumber&&(S.phoneNumber=_.phoneNumber);const V=Me(D,f,S);return V.customData._tokenResponse=_,V}function tr(D){return void 0!==D&&void 0!==D.enterprise}class Tn{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===f)return Zn(_.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function hn(){return(hn=(0,b.A)(function*(D,f){return ne(D,"GET","/v2/recaptchaConfig",ge(D,f))})).apply(this,arguments)}function on(){return(on=(0,b.A)(function*(D,f){return ne(D,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ut(D,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,b.A)(function*(D,f){return ne(D,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function qn(D){if(D)try{const f=new Date(Number(D));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function oi(){return(oi=(0,b.A)(function*(D,f=!1){const _=(0,q.Ku)(D),S=yield _.getIdToken(f),V=br(S);Et(V&&V.exp&&V.auth_time&&V.iat,_.auth,"internal-error");const J="object"==typeof V.firebase?V.firebase:void 0,Fe=J?.sign_in_provider;return{claims:V,token:S,authTime:qn(li(V.auth_time)),issuedAtTime:qn(li(V.iat)),expirationTime:qn(li(V.exp)),signInProvider:Fe||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function li(D){return 1e3*Number(D)}function br(D){const[f,_,S]=D.split(".");if(void 0===f||void 0===_||void 0===S)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,q.u)(_);return V?JSON.parse(V):(_t("Failed to decode base64 JWT payload"),null)}catch(V){return _t("Caught error parsing JWT payload as JSON",V?.toString()),null}}function gi(D){const f=br(D);return Et(f,"internal-error"),Et(typeof f.exp<"u","internal-error"),Et(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}function Ar(D,f){return si.apply(this,arguments)}function si(){return(si=(0,b.A)(function*(D,f,_=!1){if(_)return f;try{return yield f}catch(S){throw S instanceof q.g&&function lr({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}(S)&&D.auth.currentUser===D&&(yield D.auth.signOut()),S}})).apply(this,arguments)}class sr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var _;if(f){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const V=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(f=!1){var _=this;if(!this.isRunning)return;const S=this.getInterval(f);this.timerId=setTimeout((0,b.A)(function*(){yield _.iteration()}),S)}iteration(){var f=this;return(0,b.A)(function*(){try{yield f.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&f.schedule(!0))}f.schedule()})()}}class di{constructor(f,_){this.createdAt=f,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dr(D){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,b.A)(function*(D){var f;const _=D.auth,S=yield D.getIdToken(),V=yield Ar(D,ut(_,{idToken:S}));Et(V?.users.length,_,"internal-error");const J=V.users[0];D._notifyReloadListener(J);const Fe=null!==(f=J.providerUserInfo)&&void 0!==f&&f.length?Xi(J.providerUserInfo):[],Je=function Wn(D,f){return[...D.filter(S=>!f.some(V=>V.providerId===S.providerId)),...f]}(D.providerData,Fe),$n=!!D.isAnonymous&&!(D.email&&J.passwordHash||Je?.length),zn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:Je,metadata:new di(J.createdAt,J.lastLoginAt),isAnonymous:$n};Object.assign(D,zn)})).apply(this,arguments)}function Nr(){return(Nr=(0,b.A)(function*(D){const f=(0,q.Ku)(D);yield dr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Xi(D){return D.map(f=>{var{providerId:_}=f,S=(0,Ce.Tt)(f,["providerId"]);return{providerId:_,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function Dr(){return(Dr=(0,b.A)(function*(D,f){const _=yield Ke(D,{},(0,b.A)(function*(){const S=(0,q.Am)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:V,apiKey:J}=D.config,Fe=yield nr(D,V,"/v1/token",`key=${J}`),Je=yield D._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",We.fetch()(Fe,{method:"POST",headers:Je,body:S})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function ni(){return(ni=(0,b.A)(function*(D,f){return ne(D,"POST","/v2/accounts:revokeToken",ge(D,f))})).apply(this,arguments)}class Oi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Et(f.idToken,"internal-error"),Et(typeof f.idToken<"u","internal-error"),Et(typeof f.refreshToken<"u","internal-error");const _="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):gi(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,_)}updateFromIdToken(f){Et(0!==f.length,"internal-error");const _=gi(f);this.updateTokensAndExpiration(f,null,_)}getToken(f){var _=this;return(0,b.A)(function*(S,V=!1){return V||!_.accessToken||_.isExpired?(Et(_.refreshToken,S,"user-token-expired"),_.refreshToken?(yield _.refresh(S,_.refreshToken),_.accessToken):null):_.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(f,_){var S=this;return(0,b.A)(function*(){const{accessToken:V,refreshToken:J,expiresIn:Fe}=yield function Le(D,f){return Dr.apply(this,arguments)}(f,_);S.updateTokensAndExpiration(V,J,Number(Fe))})()}updateTokensAndExpiration(f,_,S){this.refreshToken=_||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(f,_){const{refreshToken:S,accessToken:V,expirationTime:J}=_,Fe=new Oi;return S&&(Et("string"==typeof S,"internal-error",{appName:f}),Fe.refreshToken=S),V&&(Et("string"==typeof V,"internal-error",{appName:f}),Fe.accessToken=V),J&&(Et("number"==typeof J,"internal-error",{appName:f}),Fe.expirationTime=J),Fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Oi,this.toJSON())}_performRefresh(){return st("not implemented")}}function mn(D,f){Et("string"==typeof D||typeof D>"u","internal-error",{appName:f})}class pr{constructor(f){var{uid:_,auth:S,stsTokenManager:V}=f,J=(0,Ce.Tt)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=S,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new di(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(f){var _=this;return(0,b.A)(function*(){const S=yield Ar(_,_.stsTokenManager.getToken(_.auth,f));return Et(S,_.auth,"internal-error"),_.accessToken!==S&&(_.accessToken=S,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),S})()}getIdTokenResult(f){return function ti(D){return oi.apply(this,arguments)}(this,f)}reload(){return function Ei(D){return Nr.apply(this,arguments)}(this)}_assign(f){this!==f&&(Et(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(_=>Object.assign({},_)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const _=new pr(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(f){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f){var _=this;return(0,b.A)(function*(S,V=!1){let J=!1;S.idToken&&S.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(S),J=!0),V&&(yield dr(_)),yield _.auth._persistUserIfCurrent(_),J&&_.auth._notifyListenersIfCurrent(_)}).apply(this,arguments)}delete(){var f=this;return(0,b.A)(function*(){if((0,x.xZ)(f.auth.app))return Promise.reject(Xe(f.auth));const _=yield f.getIdToken();return yield Ar(f,function hr(D,f){return on.apply(this,arguments)}(f.auth,{idToken:_})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,_){var S,V,J,Fe,Je,Vt,pn,$n;const zn=null!==(S=_.displayName)&&void 0!==S?S:void 0,Sr=null!==(V=_.email)&&void 0!==V?V:void 0,Ao=null!==(J=_.phoneNumber)&&void 0!==J?J:void 0,to=null!==(Fe=_.photoURL)&&void 0!==Fe?Fe:void 0,Kc=null!==(Je=_.tenantId)&&void 0!==Je?Je:void 0,ed=null!==(Vt=_._redirectEventId)&&void 0!==Vt?Vt:void 0,gs=null!==(pn=_.createdAt)&&void 0!==pn?pn:void 0,Dg=null!==($n=_.lastLoginAt)&&void 0!==$n?$n:void 0,{uid:nl,emailVerified:Ag,isAnonymous:_u,providerData:Us,stsTokenManager:yh}=_;Et(nl&&yh,f,"internal-error");const Uf=Oi.fromJSON(this.name,yh);Et("string"==typeof nl,f,"internal-error"),mn(zn,f.name),mn(Sr,f.name),Et("boolean"==typeof Ag,f,"internal-error"),Et("boolean"==typeof _u,f,"internal-error"),mn(Ao,f.name),mn(to,f.name),mn(Kc,f.name),mn(ed,f.name),mn(gs,f.name),mn(Dg,f.name);const ms=new pr({uid:nl,auth:f,email:Sr,emailVerified:Ag,displayName:zn,isAnonymous:_u,photoURL:to,phoneNumber:Ao,tenantId:Kc,stsTokenManager:Uf,createdAt:gs,lastLoginAt:Dg});return Us&&Array.isArray(Us)&&(ms.providerData=Us.map(qc=>Object.assign({},qc))),ed&&(ms._redirectEventId=ed),ms}static _fromIdTokenResponse(f,_){return(0,b.A)(function*(S,V,J=!1){const Fe=new Oi;Fe.updateFromServerResponse(V);const Je=new pr({uid:V.localId,auth:S,stsTokenManager:Fe,isAnonymous:J});return yield dr(Je),Je}).apply(this,arguments)}static _fromGetAccountInfoResponse(f,_,S){return(0,b.A)(function*(){const V=_.users[0];Et(void 0!==V.localId,"internal-error");const J=void 0!==V.providerUserInfo?Xi(V.providerUserInfo):[],Fe=!(V.email&&V.passwordHash||J?.length),Je=new Oi;Je.updateFromIdToken(S);const Vt=new pr({uid:V.localId,auth:f,stsTokenManager:Je,isAnonymous:Fe}),pn={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:J,metadata:new di(V.createdAt,V.lastLoginAt),isAnonymous:!(V.email&&V.passwordHash||J?.length)};return Object.assign(Vt,pn),Vt})()}}const Ir=new Map;function Fi(D){Ln(D instanceof Function,"Expected a class definition");let f=Ir.get(D);return f?(Ln(f instanceof D,"Instance stored in cache mismatched with class"),f):(f=new D,Ir.set(D,f),f)}const Ni=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.A)(function*(){return!0})()}_set(_,S){var V=this;return(0,b.A)(function*(){V.storage[_]=S})()}_get(_){var S=this;return(0,b.A)(function*(){const V=S.storage[_];return void 0===V?null:V})()}_remove(_){var S=this;return(0,b.A)(function*(){delete S.storage[_]})()}_addListener(_,S){}_removeListener(_,S){}}return D.type="NONE",D})();function be(D,f,_){return`firebase:${D}:${f}:${_}`}class ye{constructor(f,_,S){this.persistence=f,this.auth=_,this.userKey=S;const{config:V,name:J}=this.auth;this.fullUserKey=be(this.userKey,V.apiKey,J),this.fullPersistenceKey=be("persistence",V.apiKey,J),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,b.A)(function*(){const _=yield f.persistence._get(f.fullUserKey);if(!_)return null;if("string"==typeof _){const S=yield ut(f.auth,{idToken:_}).catch(()=>{});return S?pr._fromGetAccountInfoResponse(f.auth,S,_):null}return pr._fromJSON(f.auth,_)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var _=this;return(0,b.A)(function*(){if(_.persistence===f)return;const S=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=f,S?_.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,_){return(0,b.A)(function*(S,V,J="authUser"){if(!V.length)return new ye(Fi(Ni),S,J);const Fe=(yield Promise.all(V.map(function(){var zn=(0,b.A)(function*(Sr){if(yield Sr._isAvailable())return Sr});return function(Sr){return zn.apply(this,arguments)}}()))).filter(zn=>zn);let Je=Fe[0]||Fi(Ni);const Vt=be(J,S.config.apiKey,S.name);let pn=null;for(const zn of V)try{const Sr=yield zn._get(Vt);if(Sr){let Ao;if("string"==typeof Sr){const to=yield ut(S,{idToken:Sr}).catch(()=>{});if(!to)break;Ao=yield pr._fromGetAccountInfoResponse(S,to,Sr)}else Ao=pr._fromJSON(S,Sr);zn!==Je&&(pn=Ao),Je=zn;break}}catch{}const $n=Fe.filter(zn=>zn._shouldAllowMigration);return Je._shouldAllowMigration&&$n.length?(Je=$n[0],pn&&(yield Je._set(Vt,pn.toJSON())),yield Promise.all(V.map(function(){var zn=(0,b.A)(function*(Sr){if(Sr!==Je)try{yield Sr._remove(Vt)}catch{}});return function(Sr){return zn.apply(this,arguments)}}())),new ye(Je,S,J)):new ye(Je,S,J)}).apply(this,arguments)}}function Ue(D){const f=D.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Cn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(kt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(te(f))return"Blackberry";if(se(f))return"Webos";if(Ye(f))return"Safari";if((f.includes("chrome/")||Qt(f))&&!f.includes("edge/"))return"Chrome";if(gr(f))return"Android";{const S=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function kt(D=(0,q.ZQ)()){return/firefox\//i.test(D)}function Ye(D=(0,q.ZQ)()){const f=D.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Qt(D=(0,q.ZQ)()){return/crios\//i.test(D)}function Cn(D=(0,q.ZQ)()){return/iemobile/i.test(D)}function gr(D=(0,q.ZQ)()){return/android/i.test(D)}function te(D=(0,q.ZQ)()){return/blackberry/i.test(D)}function se(D=(0,q.ZQ)()){return/webos/i.test(D)}function Ae(D=(0,q.ZQ)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function _e(D=(0,q.ZQ)()){return Ae(D)||gr(D)||se(D)||te(D)||/windows phone/i.test(D)||Cn(D)}function Oe(D,f=[]){let _;switch(D){case"Browser":_=Ue((0,q.ZQ)());break;case"Worker":_=`${Ue((0,q.ZQ)())}-${D}`;break;default:_=D}const S=f.length?f.join(","):"FirebaseCore-web";return`${_}/JsCore/${x.MF}/${S}`}class Ct{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,_){const S=J=>new Promise((Fe,Je)=>{try{Fe(f(J))}catch(Vt){Je(Vt)}});S.onAbort=_,this.queue.push(S);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(f){var _=this;return(0,b.A)(function*(){if(_.auth.currentUser===f)return;const S=[];try{for(const V of _.queue)yield V(f),V.onAbort&&S.push(V.onAbort)}catch(V){S.reverse();for(const J of S)try{J()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:V?.message})}})()}}function ft(){return(ft=(0,b.A)(function*(D,f={}){return ne(D,"GET","/v2/passwordPolicy",ge(D,f))})).apply(this,arguments)}class tn{constructor(f){var _,S,V,J;const Fe=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=Fe.minPasswordLength)&&void 0!==_?_:6,Fe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Fe.maxPasswordLength),void 0!==Fe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Fe.containsLowercaseCharacter),void 0!==Fe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Fe.containsUppercaseCharacter),void 0!==Fe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Fe.containsNumericCharacter),void 0!==Fe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Fe.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(V=null===(S=f.allowedNonAlphanumericCharacters)||void 0===S?void 0:S.join(""))&&void 0!==V?V:"",this.forceUpgradeOnSignin=null!==(J=f.forceUpgradeOnSignin)&&void 0!==J&&J,this.schemaVersion=f.schemaVersion}validatePassword(f){var _,S,V,J,Fe,Je;const Vt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,Vt),this.validatePasswordCharacterOptions(f,Vt),Vt.isValid&&(Vt.isValid=null===(_=Vt.meetsMinPasswordLength)||void 0===_||_),Vt.isValid&&(Vt.isValid=null===(S=Vt.meetsMaxPasswordLength)||void 0===S||S),Vt.isValid&&(Vt.isValid=null===(V=Vt.containsLowercaseLetter)||void 0===V||V),Vt.isValid&&(Vt.isValid=null===(J=Vt.containsUppercaseLetter)||void 0===J||J),Vt.isValid&&(Vt.isValid=null===(Fe=Vt.containsNumericCharacter)||void 0===Fe||Fe),Vt.isValid&&(Vt.isValid=null===(Je=Vt.containsNonAlphanumericCharacter)||void 0===Je||Je),Vt}validatePasswordLengthOptions(f,_){const S=this.customStrengthOptions.minPasswordLength,V=this.customStrengthOptions.maxPasswordLength;S&&(_.meetsMinPasswordLength=f.length>=S),V&&(_.meetsMaxPasswordLength=f.length<=V)}validatePasswordCharacterOptions(f,_){let S;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let V=0;V<f.length;V++)S=f.charAt(V),this.updatePasswordCharacterOptionsStatuses(_,S>="a"&&S<="z",S>="A"&&S<="Z",S>="0"&&S<="9",this.allowedNonAlphanumericCharacters.includes(S))}updatePasswordCharacterOptionsStatuses(f,_,S,V,J){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=S)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=V)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=J))}}class Vn{constructor(f,_,S,V){this.app=f,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=S,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gn(this),this.idTokenSubscription=new Gn(this),this.beforeStateQueue=new Ct(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ut,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=V.sdkClientVersion,this._persistenceManagerAvailable=new Promise(J=>this._resolvePersistenceManagerAvailable=J)}_initializeWithPersistence(f,_){var S=this;return _&&(this._popupRedirectResolver=Fi(_)),this._initializationPromise=this.queue((0,b.A)(function*(){var V,J,Fe;if(!S._deleted&&(S.persistenceManager=yield ye.create(S,f),null===(V=S._resolvePersistenceManagerAvailable)||void 0===V||V.call(S),!S._deleted)){if(null!==(J=S._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(_),S.lastNotifiedUid=(null===(Fe=S.currentUser)||void 0===Fe?void 0:Fe.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,b.A)(function*(){if(f._deleted)return;const _=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||_){if(f.currentUser&&_&&f.currentUser.uid===_.uid)return f._currentUser._assign(_),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(f){var _=this;return(0,b.A)(function*(){try{const S=yield ut(_,{idToken:f}),V=yield pr._fromGetAccountInfoResponse(_,S,f);yield _.directlySetCurrentUser(V)}catch(S){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",S),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(f){var _=this;return(0,b.A)(function*(){var S;if((0,x.xZ)(_.app)){const Je=_.app.settings.authIdToken;return Je?new Promise(Vt=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(Je).then(Vt,Vt))}):_.directlySetCurrentUser(null)}const V=yield _.assertedPersistence.getCurrentUser();let J=V,Fe=!1;if(f&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Je=null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId,Vt=J?._redirectEventId,pn=yield _.tryRedirectSignIn(f);(!Je||Je===Vt)&&pn?.user&&(J=pn.user,Fe=!0)}if(!J)return _.directlySetCurrentUser(null);if(!J._redirectEventId){if(Fe)try{yield _.beforeStateQueue.runMiddleware(J)}catch(Je){J=V,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Je))}return J?_.reloadAndSetCurrentUserOrClear(J):_.directlySetCurrentUser(null)}return Et(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===J._redirectEventId?_.directlySetCurrentUser(J):_.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(f){var _=this;return(0,b.A)(function*(){let S=null;try{S=yield _._popupRedirectResolver._completeRedirectFn(_,f,!0)}catch{yield _._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(f){var _=this;return(0,b.A)(function*(){try{yield dr(f)}catch(S){if("auth/network-request-failed"!==S?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var f=this;return(0,b.A)(function*(){f._deleted=!0})()}updateCurrentUser(f){var _=this;return(0,b.A)(function*(){if((0,x.xZ)(_.app))return Promise.reject(Xe(_));const S=f?(0,q.Ku)(f):null;return S&&Et(S.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(S&&S._clone(_))})()}_updateCurrentUser(f){var _=this;return(0,b.A)(function*(S,V=!1){if(!_._deleted)return S&&Et(_.tenantId===S.tenantId,_,"tenant-id-mismatch"),V||(yield _.beforeStateQueue.runMiddleware(S)),_.queue((0,b.A)(function*(){yield _.directlySetCurrentUser(S),_.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var f=this;return(0,b.A)(function*(){return(0,x.xZ)(f.app)?Promise.reject(Xe(f)):(yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0))})()}setPersistence(f){var _=this;return(0,x.xZ)(this.app)?Promise.reject(Xe(this)):this.queue((0,b.A)(function*(){yield _.assertedPersistence.setPersistence(Fi(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var _=this;return(0,b.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const S=_._getPasswordPolicyInternal();return S.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):S.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,b.A)(function*(){const _=yield function yt(D){return ft.apply(this,arguments)}(f),S=new tn(_);null===f.tenantId?f._projectPasswordPolicy=S:f._tenantPasswordPolicies[f.tenantId]=S})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(f){this._errorFactory=new q.FA("auth","Firebase",f())}onAuthStateChanged(f,_,S){return this.registerStateListener(this.authStateSubscription,f,_,S)}beforeAuthStateChanged(f,_){return this.beforeStateQueue.pushCallback(f,_)}onIdTokenChanged(f,_,S){return this.registerStateListener(this.idTokenSubscription,f,_,S)}authStateReady(){return new Promise((f,_)=>{if(this.currentUser)f();else{const S=this.onAuthStateChanged(()=>{S(),f()},_)}})}revokeAccessToken(f){var _=this;return(0,b.A)(function*(){if(_.currentUser){const S=yield _.currentUser.getIdToken(),V={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:S};null!=_.tenantId&&(V.tenantId=_.tenantId),yield function Zi(D,f){return ni.apply(this,arguments)}(_,V)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,_){var S=this;return(0,b.A)(function*(){const V=yield S.getOrInitRedirectPersistenceManager(_);return null===f?V.removeCurrentUser():V.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var _=this;return(0,b.A)(function*(){if(!_.redirectPersistenceManager){const S=f&&Fi(f)||_._popupRedirectResolver;Et(S,_,"argument-error"),_.redirectPersistenceManager=yield ye.create(_,[Fi(S._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(f){var _=this;return(0,b.A)(function*(){var S,V;return _._isInitialized&&(yield _.queue((0,b.A)(function*(){}))),(null===(S=_._currentUser)||void 0===S?void 0:S._redirectEventId)===f?_._currentUser:(null===(V=_.redirectUser)||void 0===V?void 0:V._redirectEventId)===f?_.redirectUser:null})()}_persistUserIfCurrent(f){var _=this;return(0,b.A)(function*(){if(f===_.currentUser)return _.queue((0,b.A)(function*(){return _.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(_=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,_,S,V){if(this._deleted)return()=>{};const J="function"==typeof _?_:_.next.bind(_);let Fe=!1;const Je=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(Je,this,"internal-error"),Je.then(()=>{Fe||J(this.currentUser)}),"function"==typeof _){const Vt=f.addObserver(_,S,V);return()=>{Fe=!0,Vt()}}{const Vt=f.addObserver(_);return()=>{Fe=!0,Vt()}}}directlySetCurrentUser(f){var _=this;return(0,b.A)(function*(){_.currentUser&&_.currentUser!==f&&_._currentUser._stopProactiveRefresh(),f&&_.isProactiveRefreshEnabled&&f._startProactiveRefresh(),_.currentUser=f,f?yield _.assertedPersistence.setCurrentUser(f):yield _.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Oe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,b.A)(function*(){var _;const S={"X-Client-Version":f.clientVersion};f.app.options.appId&&(S["X-Firebase-gmpid"]=f.app.options.appId);const V=yield null===(_=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();V&&(S["X-Firebase-Client"]=V);const J=yield f._getAppCheckToken();return J&&(S["X-Firebase-AppCheck"]=J),S})()}_getAppCheckToken(){var f=this;return(0,b.A)(function*(){var _;if((0,x.xZ)(f.app)&&f.app.settings.appCheckToken)return f.app.settings.appCheckToken;const S=yield null===(_=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return S?.error&&function pt(D,...f){Xt.logLevel<=I.$b.WARN&&Xt.warn(`Auth (${x.MF}): ${D}`,...f)}(`Error while retrieving App Check token: ${S.error}`),S?.token})()}}function an(D){return(0,q.Ku)(D)}class Gn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,q.tD)(_=>this.observer=_)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cr={loadJS:()=>(0,b.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ai(D){return cr.loadJS(D)}function Lt(D){return`__${D}${Math.floor(1e6*Math.random())}`}class rr{constructor(){this.enterprise=new jr}ready(f){f()}execute(f,_){return Promise.resolve("token")}render(f,_){return""}}class jr{ready(f){f()}execute(f,_){return Promise.resolve("token")}render(f,_){return""}}const Hi="NO_RECAPTCHA";class Lo{constructor(f){this.type="recaptcha-enterprise",this.auth=an(f)}verify(){var f=this;return(0,b.A)(function*(_="verify",S=!1){function J(){return J=(0,b.A)(function*(Je){if(!S){if(null==Je.tenantId&&null!=Je._agentRecaptchaConfig)return Je._agentRecaptchaConfig.siteKey;if(null!=Je.tenantId&&void 0!==Je._tenantRecaptchaConfigs[Je.tenantId])return Je._tenantRecaptchaConfigs[Je.tenantId].siteKey}return new Promise(function(){var Vt=(0,b.A)(function*(pn,$n){(function Di(D,f){return hn.apply(this,arguments)})(Je,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(zn=>{if(void 0!==zn.recaptchaKey){const Sr=new Tn(zn);return null==Je.tenantId?Je._agentRecaptchaConfig=Sr:Je._tenantRecaptchaConfigs[Je.tenantId]=Sr,pn(Sr.siteKey)}$n(new Error("recaptcha Enterprise site key undefined"))}).catch(zn=>{$n(zn)})});return function(pn,$n){return Vt.apply(this,arguments)}}())}),J.apply(this,arguments)}function Fe(Je,Vt,pn){const $n=window.grecaptcha;tr($n)?$n.enterprise.ready(()=>{$n.enterprise.execute(Je,{action:_}).then(zn=>{Vt(zn)}).catch(()=>{Vt(Hi)})}):pn(Error("No reCAPTCHA enterprise script loaded."))}return f.auth.settings.appVerificationDisabledForTesting?(new rr).execute("siteKey",{action:"verify"}):new Promise((Je,Vt)=>{(function V(Je){return J.apply(this,arguments)})(f.auth).then(pn=>{if(!S&&tr(window.grecaptcha))Fe(pn,Je,Vt);else{if(typeof window>"u")return void Vt(new Error("RecaptchaVerifier is only supported in browser"));let $n=function Ve(){return cr.recaptchaEnterpriseScript}();0!==$n.length&&($n+=pn),Ai($n).then(()=>{Fe(pn,Je,Vt)}).catch(zn=>{Vt(zn)})}}).catch(pn=>{Vt(pn)})})}).apply(this,arguments)}}function ro(D,f,_){return B.apply(this,arguments)}function B(){return(B=(0,b.A)(function*(D,f,_,S=!1,V=!1){const J=new Lo(D);let Fe;if(V)Fe=Hi;else try{Fe=yield J.verify(_)}catch{Fe=yield J.verify(_,!0)}const Je=Object.assign({},f);return"mfaSmsEnrollment"===_||"mfaSmsSignIn"===_?("phoneEnrollmentInfo"in Je?Object.assign(Je,{phoneEnrollmentInfo:{phoneNumber:Je.phoneEnrollmentInfo.phoneNumber,recaptchaToken:Je.phoneEnrollmentInfo.recaptchaToken,captchaResponse:Fe,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in Je&&Object.assign(Je,{phoneSignInInfo:{recaptchaToken:Je.phoneSignInInfo.recaptchaToken,captchaResponse:Fe,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),Je):(Object.assign(Je,S?{captchaResp:Fe}:{captchaResponse:Fe}),Object.assign(Je,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Je,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Je)})).apply(this,arguments)}function he(D,f,_,S,V){return K.apply(this,arguments)}function K(){return K=(0,b.A)(function*(D,f,_,S,V){var J,Fe;if("EMAIL_PASSWORD_PROVIDER"===V){if(null!==(J=D._getRecaptchaConfig())&&void 0!==J&&J.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Je=yield ro(D,f,_,"getOobCode"===_);return S(D,Je)}return S(D,f).catch(function(){var Je=(0,b.A)(function*(Vt){if("auth/missing-recaptcha-token"===Vt.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const pn=yield ro(D,f,_,"getOobCode"===_);return S(D,pn)}return Promise.reject(Vt)});return function(Vt){return Je.apply(this,arguments)}}())}if("PHONE_PROVIDER"===V){if(null!==(Fe=D._getRecaptchaConfig())&&void 0!==Fe&&Fe.isProviderEnabled("PHONE_PROVIDER")){const Je=yield ro(D,f,_);return S(D,Je).catch(function(){var Vt=(0,b.A)(function*(pn){var $n;if("AUDIT"===(null===($n=D._getRecaptchaConfig())||void 0===$n?void 0:$n.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===pn.code||"auth/invalid-app-credential"===pn.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${_} flow.`);const zn=yield ro(D,f,_,!1,!0);return S(D,zn)}return Promise.reject(pn)});return function(pn){return Vt.apply(this,arguments)}}())}{const Je=yield ro(D,f,_,!1,!0);return S(D,Je)}}return Promise.reject(V+" provider is not supported.")}),K.apply(this,arguments)}function ri(D){const f=D.indexOf(":");return f<0?"":D.substr(0,f+1)}function Kr(D){if(!D)return null;const f=Number(D);return isNaN(f)?null:f}class xn{constructor(f,_){this.providerId=f,this.signInMethod=_}toJSON(){return st("not implemented")}_getIdTokenResponse(f){return st("not implemented")}_linkToIdToken(f,_){return st("not implemented")}_getReauthenticationResolver(f){return st("not implemented")}}function jo(D,f){return ae.apply(this,arguments)}function ae(){return(ae=(0,b.A)(function*(D,f){return ne(D,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function ht(D,f){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,b.A)(function*(D,f){return rn(D,"POST","/v1/accounts:signInWithPassword",ge(D,f))})).apply(this,arguments)}function Un(){return(Un=(0,b.A)(function*(D,f){return ne(D,"POST","/v1/accounts:sendOobCode",ge(D,f))})).apply(this,arguments)}function ks(D,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,b.A)(function*(D,f){return function yn(D,f){return Un.apply(this,arguments)}(D,f)})).apply(this,arguments)}function qo(){return(qo=(0,b.A)(function*(D,f){return rn(D,"POST","/v1/accounts:signInWithEmailLink",ge(D,f))})).apply(this,arguments)}function Es(){return(Es=(0,b.A)(function*(D,f){return rn(D,"POST","/v1/accounts:signInWithEmailLink",ge(D,f))})).apply(this,arguments)}class os extends xn{constructor(f,_,S,V=null){super("password",S),this._email=f,this._password=_,this._tenantId=V}static _fromEmailAndPassword(f,_){return new os(f,_,"password")}static _fromEmailAndCode(f,_,S=null){return new os(f,_,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const _="string"==typeof f?JSON.parse(f):f;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(f){var _=this;return(0,b.A)(function*(){switch(_.signInMethod){case"password":return he(f,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ht,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function So(D,f){return qo.apply(this,arguments)}(f,{email:_._email,oobCode:_._password});default:Dt(f,"internal-error")}})()}_linkToIdToken(f,_){var S=this;return(0,b.A)(function*(){switch(S.signInMethod){case"password":return he(f,{idToken:_,returnSecureToken:!0,email:S._email,password:S._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jo,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Ro(D,f){return Es.apply(this,arguments)}(f,{idToken:_,email:S._email,oobCode:S._password});default:Dt(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function kr(D,f){return $o.apply(this,arguments)}function $o(){return($o=(0,b.A)(function*(D,f){return rn(D,"POST","/v1/accounts:signInWithIdp",ge(D,f))})).apply(this,arguments)}class No{constructor(f){var _,S,V,J,Fe,Je;const Vt=(0,q.I9)((0,q.hp)(f)),pn=null!==(_=Vt.apiKey)&&void 0!==_?_:null,$n=null!==(S=Vt.oobCode)&&void 0!==S?S:null,zn=function Vi(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=Vt.mode)&&void 0!==V?V:null);Et(pn&&$n&&zn,"argument-error"),this.apiKey=pn,this.operation=zn,this.code=$n,this.continueUrl=null!==(J=Vt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Fe=Vt.lang)&&void 0!==Fe?Fe:null,this.tenantId=null!==(Je=Vt.tenantId)&&void 0!==Je?Je:null}static parseLink(f){const _=function Hs(D){const f=(0,q.I9)((0,q.hp)(D)).link,_=f?(0,q.I9)((0,q.hp)(f)).deep_link_id:null,S=(0,q.I9)((0,q.hp)(D)).deep_link_id;return(S?(0,q.I9)((0,q.hp)(S)).link:null)||S||_||f||D}(f);try{return new No(_)}catch{return null}}}let _r=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(_,S){return os._fromEmailAndPassword(_,S)}static credentialWithLink(_,S){const V=No.parseLink(S);return Et(V,"argument-error"),os._fromEmailAndCode(_,V.code,V.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Ji{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ra extends Ji{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}function Pt(D,f){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,b.A)(function*(D,f){return rn(D,"POST","/v1/accounts:signUp",ge(D,f))})).apply(this,arguments)}class In{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,_,S){return(0,b.A)(function*(V,J,Fe,Je=!1){const Vt=yield pr._fromIdTokenResponse(V,Fe,Je),pn=fn(Fe);return new In({user:Vt,providerId:pn,_tokenResponse:Fe,operationType:J})}).apply(this,arguments)}static _forOperation(f,_,S){return(0,b.A)(function*(){yield f._updateTokensIfNecessary(S,!0);const V=fn(S);return new In({user:f,providerId:V,_tokenResponse:S,operationType:_})})()}}function fn(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}class Lr extends q.g{constructor(f,_,S,V){var J;super(_.code,_.message),this.operationType=S,this.user=V,Object.setPrototypeOf(this,Lr.prototype),this.customData={appName:f.name,tenantId:null!==(J=f.tenantId)&&void 0!==J?J:void 0,_serverResponse:_.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(f,_,S,V){return new Lr(f,_,S,V)}}function yi(D,f,_,S){return("reauthenticate"===f?_._getReauthenticationResolver(D):_._getIdTokenResponse(D)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?Lr._fromErrorAndOperation(D,J,f,S):J})}function ki(){return(ki=(0,b.A)(function*(D,f,_=!1){const S=yield Ar(D,f._linkToIdToken(D.auth,yield D.getIdToken()),_);return In._forOperation(D,"link",S)})).apply(this,arguments)}function To(){return(To=(0,b.A)(function*(D,f,_=!1){const{auth:S}=D;if((0,x.xZ)(S.app))return Promise.reject(Xe(S));const V="reauthenticate";try{const J=yield Ar(D,yi(S,V,f,D),_);Et(J.idToken,S,"internal-error");const Fe=br(J.idToken);Et(Fe,S,"internal-error");const{sub:Je}=Fe;return Et(D.uid===Je,S,"user-mismatch"),In._forOperation(D,V,J)}catch(J){throw"auth/user-not-found"===J?.code&&Dt(S,"user-mismatch"),J}})).apply(this,arguments)}function Jr(D,f){return go.apply(this,arguments)}function go(){return(go=(0,b.A)(function*(D,f,_=!1){if((0,x.xZ)(D.app))return Promise.reject(Xe(D));const S="signIn",V=yield yi(D,S,f),J=yield In._fromIdTokenResponse(D,S,V);return _||(yield D._updateCurrentUser(J.user)),J})).apply(this,arguments)}function ls(){return(ls=(0,b.A)(function*(D,f){return Jr(an(D),f)})).apply(this,arguments)}function Gs(D){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,b.A)(function*(D){const f=an(D);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function wi(D,f,_){return ha.apply(this,arguments)}function ha(){return(ha=(0,b.A)(function*(D,f,_){const S=an(D),V={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};_&&function Fs(D,f,_){var S;Et((null===(S=_.url)||void 0===S?void 0:S.length)>0,D,"invalid-continue-uri"),Et(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),Et(typeof _.linkDomain>"u"||_.linkDomain.length>0,D,"invalid-hosting-link-domain"),f.continueUrl=_.url,f.dynamicLinkDomain=_.dynamicLinkDomain,f.linkDomain=_.linkDomain,f.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Et(_.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),f.iOSBundleId=_.iOS.bundleId),_.android&&(Et(_.android.packageName.length>0,D,"missing-android-pkg-name"),f.androidInstallApp=_.android.installApp,f.androidMinimumVersionCode=_.android.minimumVersion,f.androidPackageName=_.android.packageName)}(S,V,_),yield he(S,V,"getOobCode",ks,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function Va(D,f,_){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,b.A)(function*(D,f,_){if((0,x.xZ)(D.app))return Promise.reject(Xe(D));const S=an(D),Fe=yield he(S,{returnSecureToken:!0,email:f,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pt,"EMAIL_PASSWORD_PROVIDER").catch(Vt=>{throw"auth/password-does-not-meet-requirements"===Vt.code&&Gs(D),Vt}),Je=yield In._fromIdTokenResponse(S,"signIn",Fe);return yield S._updateCurrentUser(Je.user),Je})).apply(this,arguments)}function Wr(D,f,_){return(0,x.xZ)(D.app)?Promise.reject(Xe(D)):function zo(D,f){return ls.apply(this,arguments)}((0,q.Ku)(D),_r.credential(f,_)).catch(function(){var S=(0,b.A)(function*(V){throw"auth/password-does-not-meet-requirements"===V.code&&Gs(D),V});return function(V){return S.apply(this,arguments)}}())}function eo(D,f,_,S){return(0,q.Ku)(D).onAuthStateChanged(f,_,S)}function Ls(D){return(0,q.Ku)(D).signOut()}const Fn="__sak";class Bn{constructor(f,_){this.storageRetriever=f,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Fn,"1"),this.storage.removeItem(Fn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,_){return this.storage.setItem(f,JSON.stringify(_)),Promise.resolve()}_get(f){const _=this.storage.getItem(f);return Promise.resolve(_?JSON.parse(_):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const mo=(()=>{class D extends Bn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,S)=>this.onStorageEvent(_,S),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_e(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const S of Object.keys(this.listeners)){const V=this.storage.getItem(S),J=this.localCache[S];V!==J&&_(S,J,V)}}onStorageEvent(_,S=!1){if(!_.key)return void this.forAllChangedKeys((Je,Vt,pn)=>{this.notifyListeners(Je,pn)});const V=_.key;S?this.detachListener():this.stopPolling();const J=()=>{const Je=this.storage.getItem(V);!S&&this.localCache[V]===Je||this.notifyListeners(V,Je)},Fe=this.storage.getItem(V);!function ie(){return(0,q.lT)()&&10===document.documentMode}()||Fe===_.newValue||_.newValue===_.oldValue?J():setTimeout(J,10)}notifyListeners(_,S){this.localCache[_]=S;const V=this.listeners[_];if(V)for(const J of Array.from(V))J(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,S,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:S,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,S){var V=()=>super._set,J=this;return(0,b.A)(function*(){yield V().call(J,_,S),J.localCache[_]=JSON.stringify(S)})()}_get(_){var S=()=>super._get,V=this;return(0,b.A)(function*(){const J=yield S().call(V,_);return V.localCache[_]=JSON.stringify(J),J})()}_remove(_){var S=()=>super._remove,V=this;return(0,b.A)(function*(){yield S().call(V,_),delete V.localCache[_]})()}}return D.type="LOCAL",D})(),Ii=(()=>{class D extends Bn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,S){}_removeListener(_,S){}}return D.type="SESSION",D})();let _c=(()=>{class D{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const S=this.receivers.find(J=>J.isListeningto(_));if(S)return S;const V=new D(_);return this.receivers.push(V),V}isListeningto(_){return this.eventTarget===_}handleEvent(_){var S=this;return(0,b.A)(function*(){const V=_,{eventId:J,eventType:Fe,data:Je}=V.data,Vt=S.handlersMap[Fe];if(!Vt?.size)return;V.ports[0].postMessage({status:"ack",eventId:J,eventType:Fe});const pn=Array.from(Vt).map(function(){var zn=(0,b.A)(function*(Sr){return Sr(V.origin,Je)});return function(Sr){return zn.apply(this,arguments)}}()),$n=yield function Ra(D){return Promise.all(D.map(function(){var f=(0,b.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(S){return{fulfilled:!1,reason:S}}});return function(_){return f.apply(this,arguments)}}()))}(pn);V.ports[0].postMessage({status:"done",eventId:J,eventType:Fe,response:$n})})()}_subscribe(_,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(S)}_unsubscribe(_,S){this.handlersMap[_]&&S&&this.handlersMap[_].delete(S),(!S||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function ia(D="",f=10){let _="";for(let S=0;S<f;S++)_+=Math.floor(10*Math.random());return D+_}class Wu{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,_){var S=this;return(0,b.A)(function*(V,J,Fe=50){const Je=typeof MessageChannel<"u"?new MessageChannel:null;if(!Je)throw new Error("connection_unavailable");let Vt,pn;return new Promise(($n,zn)=>{const Sr=ia("",20);Je.port1.start();const Ao=setTimeout(()=>{zn(new Error("unsupported_event"))},Fe);pn={messageChannel:Je,onMessage(to){const Kc=to;if(Kc.data.eventId===Sr)switch(Kc.data.status){case"ack":clearTimeout(Ao),Vt=setTimeout(()=>{zn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Vt),$n(Kc.data.response);break;default:clearTimeout(Ao),clearTimeout(Vt),zn(new Error("invalid_response"))}}},S.handlers.add(pn),Je.port1.addEventListener("message",pn.onMessage),S.target.postMessage({eventType:V,eventId:Sr,data:J},[Je.port2])}).finally(()=>{pn&&S.removeMessageHandler(pn)})}).apply(this,arguments)}}function qi(){return window}function ln(){return typeof qi().WorkerGlobalScope<"u"&&"function"==typeof qi().importScripts}function Xn(){return(Xn=(0,b.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cs="firebaseLocalStorageDb",Vs="firebaseLocalStorage",vi="fbase_key";class Ps{constructor(f){this.request=f}toPromise(){return new Promise((f,_)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ua(D,f){return D.transaction([Vs],f?"readwrite":"readonly").objectStore(Vs)}function Pa(){const D=indexedDB.open(cs,1);return new Promise((f,_)=>{D.addEventListener("error",()=>{_(D.error)}),D.addEventListener("upgradeneeded",()=>{const S=D.result;try{S.createObjectStore(Vs,{keyPath:vi})}catch(V){_(V)}}),D.addEventListener("success",(0,b.A)(function*(){const S=D.result;S.objectStoreNames.contains(Vs)?f(S):(S.close(),yield function Ti(){const D=indexedDB.deleteDatabase(cs);return new Ps(D).toPromise()}(),f(yield Pa()))}))})}function ui(D,f,_){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,b.A)(function*(D,f,_){const S=Ua(D,!0).put({[vi]:f,value:_});return new Ps(S).toPromise()})).apply(this,arguments)}function Gu(){return(Gu=(0,b.A)(function*(D,f){const _=Ua(D,!1).get(f),S=yield new Ps(_).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Lc(D,f){const _=Ua(D,!0).delete(f);return new Ps(_).toPromise()}const vc=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,b.A)(function*(){return _.db||(_.db=yield Pa()),_.db})()}_withRetries(_){var S=this;return(0,b.A)(function*(){let V=0;for(;;)try{const J=yield S._openDb();return yield _(J)}catch(J){if(V++>3)throw J;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,b.A)(function*(){return ln()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,b.A)(function*(){_.receiver=_c._getInstance(function xo(){return ln()?self:null}()),_.receiver._subscribe("keyChanged",function(){var S=(0,b.A)(function*(V,J){return{keyProcessed:(yield _._poll()).includes(J.key)}});return function(V,J){return S.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var S=(0,b.A)(function*(V,J){return["keyChanged"]});return function(V,J){return S.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,b.A)(function*(){var S,V;if(_.activeServiceWorker=yield function Jn(){return Xn.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Wu(_.activeServiceWorker);const J=yield _.sender._send("ping",{},800);J&&null!==(S=J[0])&&void 0!==S&&S.fulfilled&&null!==(V=J[0])&&void 0!==V&&V.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var S=this;return(0,b.A)(function*(){if(S.sender&&S.activeServiceWorker&&function jn(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:_},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.A)(function*(){try{if(!indexedDB)return!1;const _=yield Pa();return yield ui(_,Fn,"1"),yield Lc(_,Fn),!0}catch{}return!1})()}_withPendingWrite(_){var S=this;return(0,b.A)(function*(){S.pendingWrites++;try{yield _()}finally{S.pendingWrites--}})()}_set(_,S){var V=this;return(0,b.A)(function*(){return V._withPendingWrite((0,b.A)(function*(){return yield V._withRetries(J=>ui(J,_,S)),V.localCache[_]=S,V.notifyServiceWorker(_)}))})()}_get(_){var S=this;return(0,b.A)(function*(){const V=yield S._withRetries(J=>function bs(D,f){return Gu.apply(this,arguments)}(J,_));return S.localCache[_]=V,V})()}_remove(_){var S=this;return(0,b.A)(function*(){return S._withPendingWrite((0,b.A)(function*(){return yield S._withRetries(V=>Lc(V,_)),delete S.localCache[_],S.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,b.A)(function*(){const S=yield _._withRetries(Fe=>{const Je=Ua(Fe,!1).getAll();return new Ps(Je).toPromise()});if(!S)return[];if(0!==_.pendingWrites)return[];const V=[],J=new Set;if(0!==S.length)for(const{fbase_key:Fe,value:Je}of S)J.add(Fe),JSON.stringify(_.localCache[Fe])!==JSON.stringify(Je)&&(_.notifyListeners(Fe,Je),V.push(Fe));for(const Fe of Object.keys(_.localCache))_.localCache[Fe]&&!J.has(Fe)&&(_.notifyListeners(Fe,null),V.push(Fe));return V})()}notifyListeners(_,S){this.localCache[_]=S;const V=this.listeners[_];if(V)for(const J of Array.from(V))J(S)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,b.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();Lt("rcb"),new en(3e4,6e4);class Xs extends xn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return kr(f,this._buildIdpRequest())}_linkToIdToken(f,_){return kr(f,this._buildIdpRequest(_))}_getReauthenticationResolver(f){return kr(f,this._buildIdpRequest())}_buildIdpRequest(f){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(_.idToken=f),_}}function Vl(D){return Jr(D.auth,new Xs(D),D.bypassAuthState)}function Ul(D){const{auth:f,user:_}=D;return Et(_,f,"internal-error"),function Si(D,f){return To.apply(this,arguments)}(_,new Xs(D),D.bypassAuthState)}function Df(D){return Af.apply(this,arguments)}function Af(){return(Af=(0,b.A)(function*(D){const{auth:f,user:_}=D;return Et(_,f,"internal-error"),function Yr(D,f){return ki.apply(this,arguments)}(_,new Xs(D),D.bypassAuthState)})).apply(this,arguments)}class Bl{constructor(f,_,S,V,J=!1){this.auth=f,this.resolver=S,this.user=V,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var f=this;return new Promise(function(){var _=(0,b.A)(function*(S,V){f.pendingPromise={resolve:S,reject:V};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(J){f.reject(J)}});return function(S,V){return _.apply(this,arguments)}}())}onAuthEvent(f){var _=this;return(0,b.A)(function*(){const{urlResponse:S,sessionId:V,postBody:J,tenantId:Fe,error:Je,type:Vt}=f;if(Je)return void _.reject(Je);const pn={auth:_.auth,requestUri:S,sessionId:V,tenantId:Fe||void 0,postBody:J||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Vt)(pn))}catch($n){_.reject($n)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Vl;case"linkViaPopup":case"linkViaRedirect":return Df;case"reauthViaPopup":case"reauthViaRedirect":return Ul;default:Dt(this.auth,"internal-error")}}resolve(f){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new en(2e3,1e4);const lu=new Map;class Tg extends Bl{constructor(f,_,S=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,S),this.eventId=null}execute(){var f=()=>super.execute,_=this;return(0,b.A)(function*(){let S=lu.get(_.auth._key());if(!S){try{const J=(yield function Ic(D,f){return ja.apply(this,arguments)}(_.resolver,_.auth))?yield f().call(_):null;S=()=>Promise.resolve(J)}catch(V){S=()=>Promise.reject(V)}lu.set(_.auth._key(),S)}return _.bypassAuthState||lu.set(_.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(f){var _=()=>super.onAuthEvent,S=this;return(0,b.A)(function*(){if("signInViaRedirect"===f.type)return _().call(S,f);if("unknown"!==f.type){if(f.eventId){const V=yield S.auth._redirectUserForId(f.eventId);if(V)return S.user=V,_().call(S,f);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,b.A)(function*(){})()}cleanUp(){}}function ja(){return(ja=(0,b.A)(function*(D,f){const _=function Hl(D){return be("pendingRedirect",D.config.apiKey,D.name)}(f),S=function $l(D){return Fi(D._redirectPersistence)}(D);if(!(yield S._isAvailable()))return!1;const V="true"===(yield S._get(_));return yield S._remove(_),V})).apply(this,arguments)}function Ja(D,f){lu.set(D._key(),f)}function ah(D,f){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,b.A)(function*(D,f,_=!1){if((0,x.xZ)(D.app))return Promise.reject(Xe(D));const S=an(D),V=function aa(D,f){return f?Fi(f):(Et(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}(S,f),Fe=yield new Tg(S,V,_).execute();return Fe&&!_&&(delete Fe.user._redirectEventId,yield S._persistUserIfCurrent(Fe.user),yield S._setRedirectUser(null,f)),Fe})).apply(this,arguments)}class Ha{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let _=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(f,S)&&(_=!0,this.sendToConsumer(f,S),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Kl(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rc(D);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=f,_=!0)),_}sendToConsumer(f,_){var S;if(f.error&&!rc(f)){const V=(null===(S=f.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";_.onError(Me(this.auth,V))}else _.onAuthEvent(f)}isEventForConsumer(f,_){const S=null===_.eventId||!!f.eventId&&f.eventId===_.eventId;return _.filter.includes(f.type)&&S}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tc(f))}saveEventToCache(f){this.cachedEventUids.add(Tc(f)),this.lastProcessedEventTime=Date.now()}}function Tc(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(f=>f).join("-")}function rc({type:D,error:f}){return"unknown"===D&&"auth/no-auth-event"===f?.code}function Yu(){return(Yu=(0,b.A)(function*(D,f={}){return ne(D,"GET","/v1/projects",f)})).apply(this,arguments)}const Pf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mf=/^https?/;function Ys(){return Ys=(0,b.A)(function*(D){if(D.config.emulator)return;const{authorizedDomains:f}=yield function Zu(D){return Yu.apply(this,arguments)}(D);for(const _ of f)try{if(_a(_))return}catch{}Dt(D,"unauthorized-domain")}),Ys.apply(this,arguments)}function _a(D){const f=Rn(),{protocol:_,hostname:S}=new URL(f);if(D.startsWith("chrome-extension://")){const Fe=new URL(D);return""===Fe.hostname&&""===S?"chrome-extension:"===_&&D.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===_&&Fe.hostname===S}if(!Mf.test(_))return!1;if(Pf.test(D))return S===D;const V=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(S)}const ql=new en(3e4,6e4);function Hc(){const D=qi().___jsl;if(D?.H)for(const f of Object.keys(D.H))if(D.H[f].r=D.H[f].r||[],D.H[f].L=D.H[f].L||[],D.H[f].r=[...D.H[f].L],D.CP)for(let _=0;_<D.CP.length;_++)D.CP[_]=null}let el=null;const Wy=new en(5e3,15e3),uh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ql=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bc(D){const f=D.config;Et(f.authDomain,D,"auth-domain-config-required");const _=f.emulator?Rt(f,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,S={apiKey:f.apiKey,appName:D.name,v:x.MF},V=Ql.get(D.config.apiHost);V&&(S.eid=V);const J=D._getFrameworks();return J.length&&(S.fw=J.join(",")),`${_}?${(0,q.Am)(S).slice(1)}`}function Dc(){return Dc=(0,b.A)(function*(D){const f=yield function kf(D){return el=el||function Nf(D){return new Promise((f,_)=>{var S,V,J;function Fe(){Hc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Hc(),_(Me(D,"network-request-failed"))},timeout:ql.get()})}if(null!==(V=null===(S=qi().gapi)||void 0===S?void 0:S.iframes)&&void 0!==V&&V.Iframe)f(gapi.iframes.getContext());else{if(null===(J=qi().gapi)||void 0===J||!J.load){const Je=Lt("iframefcb");return qi()[Je]=()=>{gapi.load?Fe():_(Me(D,"network-request-failed"))},Ai(`${function qe(){return cr.gapiScript}()}?onload=${Je}`).catch(Vt=>_(Vt))}Fe()}}).catch(f=>{throw el=null,f})}(D),el}(D),_=qi().gapi;return Et(_,D,"internal-error"),f.open({where:document.body,url:bc(D),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uh,dontclear:!0},S=>new Promise(function(){var V=(0,b.A)(function*(J,Fe){yield S.restyle({setHideOnLeave:!1});const Je=Me(D,"network-request-failed"),Vt=qi().setTimeout(()=>{Fe(Je)},Wy.get());function pn(){qi().clearTimeout(Vt),J(S)}S.ping(pn).then(pn,()=>{Fe(Je)})});return function(J,Fe){return V.apply(this,arguments)}}()))}),Dc.apply(this,arguments)}const tl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Of{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ff=encodeURIComponent("fac");function mu(D,f,_,S,V,J){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,b.A)(function*(D,f,_,S,V,J){Et(D.config.authDomain,D,"auth-domain-config-required"),Et(D.config.apiKey,D,"invalid-api-key");const Fe={apiKey:D.config.apiKey,appName:D.name,authType:_,redirectUrl:S,v:x.MF,eventId:V};if(f instanceof Ji){f.setDefaultLanguage(D.languageCode),Fe.providerId=f.providerId||"",(0,q.Im)(f.getCustomParameters())||(Fe.customParameters=JSON.stringify(f.getCustomParameters()));for(const[$n,zn]of Object.entries(J||{}))Fe[$n]=zn}if(f instanceof ra){const $n=f.getScopes().filter(zn=>""!==zn);$n.length>0&&(Fe.scopes=$n.join(","))}D.tenantId&&(Fe.tid=D.tenantId);const Je=Fe;for(const $n of Object.keys(Je))void 0===Je[$n]&&delete Je[$n];const Vt=yield D._getAppCheckToken(),pn=Vt?`#${Ff}=${encodeURIComponent(Vt)}`:"";return`${function hh({config:D}){return D.emulator?Rt(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,q.Am)(Je).slice(1)}${pn}`})).apply(this,arguments)}const ic="webStorageSupport",Lf=class yu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ii,this._completeRedirectFn=ah,this._overrideRedirectResult=Ja}_openPopup(f,_,S,V){var J=this;return(0,b.A)(function*(){var Fe;Ln(null===(Fe=J.eventManagers[f._key()])||void 0===Fe?void 0:Fe.manager,"_initialize() not called before _openPopup()");const Je=yield mu(f,_,S,Rn(),V);return function zc(D,f,_,S=500,V=600){const J=Math.max((window.screen.availHeight-V)/2,0).toString(),Fe=Math.max((window.screen.availWidth-S)/2,0).toString();let Je="";const Vt=Object.assign(Object.assign({},tl),{width:S.toString(),height:V.toString(),top:J,left:Fe}),pn=(0,q.ZQ)().toLowerCase();_&&(Je=Qt(pn)?"_blank":_),kt(pn)&&(f=f||"http://localhost",Vt.scrollbars="yes");const $n=Object.entries(Vt).reduce((Sr,[Ao,to])=>`${Sr}${Ao}=${to},`,"");if(function It(D=(0,q.ZQ)()){var f;return Ae(D)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(pn)&&"_self"!==Je)return function pu(D,f){const _=document.createElement("a");_.href=D,_.target=f;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(S)}(f||"",Je),new Of(null);const zn=window.open(f||"",Je,$n);Et(zn,D,"popup-blocked");try{zn.focus()}catch{}return new Of(zn)}(f,Je,ia())})()}_openRedirect(f,_,S,V){var J=this;return(0,b.A)(function*(){return yield J._originValidation(f),function kl(D){qi().location.href=D}(yield mu(f,_,S,Rn(),V)),new Promise(()=>{})})()}_initialize(f){const _=f._key();if(this.eventManagers[_]){const{manager:V,promise:J}=this.eventManagers[_];return V?Promise.resolve(V):(Ln(J,"If manager is not set, promise should be"),J)}const S=this.initAndGetManager(f);return this.eventManagers[_]={promise:S},S.catch(()=>{delete this.eventManagers[_]}),S}initAndGetManager(f){var _=this;return(0,b.A)(function*(){const S=yield function lh(D){return Dc.apply(this,arguments)}(f),V=new Ha(f);return S.register("authEvent",J=>(Et(J?.authEvent,f,"invalid-auth-event"),{status:V.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[f._key()]={manager:V},_.iframes[f._key()]=S,V})()}_isIframeWebStorageSupported(f,_){this.iframes[f._key()].send(ic,{type:ic},V=>{var J;const Fe=null===(J=V?.[0])||void 0===J?void 0:J[ic];void 0!==Fe&&_(!!Fe),Dt(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const _=f._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ju(D){return Ys.apply(this,arguments)}(f)),this.originValidationPromises[_]}get _shouldInitProactively(){return _e()||Ye()||Ae()}};var sc="@firebase/auth";class ph{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var _=this;return(0,b.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const _=this.auth.onIdTokenChanged(S=>{f(S?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,_),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const _=this.internalListeners.get(f);_&&(this.internalListeners.delete(f),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bg=(0,q.XA)("authIdTokenMaxAge")||300;let Yl=null;const gh=D=>function(){var f=(0,b.A)(function*(_){const S=_&&(yield _.getIdTokenResult()),V=S&&((new Date).getTime()-Date.parse(S.issuedAtTime))/1e3;if(V&&V>bg)return;const J=S?.token;Yl!==J&&(Yl=J,yield fetch(D,{method:J?"POST":"DELETE",headers:J?{Authorization:`Bearer ${J}`}:{}}))});return function(_){return f.apply(this,arguments)}}();function Jl(D=(0,x.Sx)()){const f=(0,x.j6)(D,"auth");if(f.isInitialized())return f.getImmediate();const _=function Tt(D,f){const _=(0,x.j6)(D,"auth");if(_.isInitialized()){const V=_.getImmediate(),J=_.getOptions();if((0,q.bD)(J,f??{}))return V;Dt(V,"already-initialized")}return _.initialize({options:f})}(D,{popupRedirectResolver:Lf,persistence:[vc,mo,Ii]}),S=(0,q.XA)("authTokenSyncURL");if(S&&"boolean"==typeof isSecureContext&&isSecureContext){const J=new URL(S,location.origin);if(location.origin===J.origin){const Fe=gh(J.toString());(function Fc(D,f,_){(0,q.Ku)(D).beforeAuthStateChanged(f,_)})(_,Fe,()=>Fe(_.currentUser)),function Ri(D,f,_,S){(0,q.Ku)(D).onIdTokenChanged(f,_,S)}(_,Je=>Fe(Je))}}const V=(0,q.Tj)("auth");return V&&function Nn(D,f,_){const S=an(D);Et(/^https?:\/\//.test(f),S,"invalid-emulator-scheme");const V=!!_?.disableWarnings,J=ri(f),{host:Fe,port:Je}=function Gr(D){const f=ri(D),_=/(\/\/)?([^?#/]+)/.exec(D.substr(f.length));if(!_)return{host:"",port:null};const S=_[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(S);if(V){const J=V[1];return{host:J,port:Kr(S.substr(J.length+1))}}{const[J,Fe]=S.split(":");return{host:J,port:Kr(Fe)}}}(f),Vt=null===Je?"":`:${Je}`,pn={url:`${J}//${Fe}${Vt}/`},$n=Object.freeze({host:Fe,port:Je,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:V})});if(!S._canInitEmulator)return Et(S.config.emulator&&S.emulatorConfig,S,"emulator-config-failed"),void Et((0,q.bD)(pn,S.config.emulator)&&(0,q.bD)($n,S.emulatorConfig),S,"emulator-config-failed");S.config.emulator=pn,S.emulatorConfig=$n,S.settings.appVerificationDisabledForTesting=!0,(0,q.zJ)(Fe)?((0,q.gE)(`${J}//${Fe}${Vt}`),(0,q.P1)("Auth",!0)):V||function mr(){function D(){const f=document.createElement("p"),_=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(_,`http://${V}`),_}(function mi(D){cr=D})({loadJS:D=>new Promise((f,_)=>{const S=document.createElement("script");S.setAttribute("src",D),S.onload=f,S.onerror=V=>{const J=Me("internal-error");J.customData=V,_(J)},S.type="text/javascript",S.charset="UTF-8",function mh(){var D,f;return null!==(f=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==f?f:document}().appendChild(S)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Gc(D){(0,x.om)(new Qe.uA("auth",(f,{options:_})=>{const S=f.getProvider("app").getImmediate(),V=f.getProvider("heartbeat"),J=f.getProvider("app-check-internal"),{apiKey:Fe,authDomain:Je}=S.options;Et(Fe&&!Fe.includes(":"),"invalid-api-key",{appName:S.name});const Vt={apiKey:Fe,authDomain:Je,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Oe(D)},pn=new Vn(S,V,J,Vt);return function sn(D,f){const _=f?.persistence||[],S=(Array.isArray(_)?_:[_]).map(Fi);f?.errorMap&&D._updateErrorMap(f.errorMap),D._initializeWithPersistence(S,f?.popupRedirectResolver)}(pn,_),pn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,_,S)=>{f.getProvider("auth-internal").initialize()})),(0,x.om)(new Qe.uA("auth-internal",f=>{const _=an(f.getProvider("auth").getImmediate());return new ph(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.KO)(sc,"1.10.6",function ac(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(D)),(0,x.KO)(sc,"1.10.6","esm2017")}("Browser")},591:(En,je,U)=>{"use strict";function b(x){return new TypeError(`You provided ${null!==x&&"object"==typeof x?"an invalid object":`'${x}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(je,{L:()=>b})},941:(En,je,U)=>{"use strict";U.d(je,{Q:()=>I});var b=U(5225),x=U(9974),q=U(4360);function I(Ce,Qe=0){return(0,x.N)((Ee,fe)=>{Ee.subscribe((0,q._)(fe,xe=>(0,b.N)(fe,Ce,()=>fe.next(xe),Qe),()=>(0,b.N)(fe,Ce,()=>fe.complete(),Qe),xe=>(0,b.N)(fe,Ce,()=>fe.error(xe),Qe)))})}},969:(En,je,U)=>{"use strict";U.d(je,{FX:()=>Xt,If:()=>b,K2:()=>Qe,PZ:()=>Ft,hZ:()=>q,i0:()=>I,iF:()=>Ee,kY:()=>me,kp:()=>x,sf:()=>Ut,wk:()=>fe});var b=function(pt){return pt[pt.State=0]="State",pt[pt.Transition=1]="Transition",pt[pt.Sequence=2]="Sequence",pt[pt.Group=3]="Group",pt[pt.Animate=4]="Animate",pt[pt.Keyframes=5]="Keyframes",pt[pt.Style=6]="Style",pt[pt.Trigger=7]="Trigger",pt[pt.Reference=8]="Reference",pt[pt.AnimateChild=9]="AnimateChild",pt[pt.AnimateRef=10]="AnimateRef",pt[pt.Query=11]="Query",pt[pt.Stagger=12]="Stagger",pt}(b||{});const x="*";function q(pt,_t){return{type:b.Trigger,name:pt,definitions:_t,options:{}}}function I(pt,_t=null){return{type:b.Animate,styles:_t,timings:pt}}function Qe(pt,_t=null){return{type:b.Sequence,steps:pt,options:_t}}function Ee(pt){return{type:b.Style,styles:pt,offset:null}}function fe(pt,_t,Dt){return{type:b.State,name:pt,styles:_t,options:Dt}}function me(pt,_t,Dt=null){return{type:b.Transition,expr:pt,animation:_t,options:Dt}}class Ut{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(_t=0,Dt=0){this.totalTime=_t+Dt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_t=>_t()),this._onDoneFns=[])}onStart(_t){this._originalOnStartFns.push(_t),this._onStartFns.push(_t)}onDone(_t){this._originalOnDoneFns.push(_t),this._onDoneFns.push(_t)}onDestroy(_t){this._onDestroyFns.push(_t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_t=>_t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_t=>_t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_t){this._position=this.totalTime?_t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_t){const Dt="start"==_t?this._onStartFns:this._onDoneFns;Dt.forEach(Me=>Me()),Dt.length=0}}class Ft{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(_t){this.players=_t;let Dt=0,Me=0,nt=0;const Xe=this.players.length;0==Xe?queueMicrotask(()=>this._onFinish()):this.players.forEach(vt=>{vt.onDone(()=>{++Dt==Xe&&this._onFinish()}),vt.onDestroy(()=>{++Me==Xe&&this._onDestroy()}),vt.onStart(()=>{++nt==Xe&&this._onStart()})}),this.totalTime=this.players.reduce((vt,Wt)=>Math.max(vt,Wt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_t=>_t()),this._onDoneFns=[])}init(){this.players.forEach(_t=>_t.init())}onStart(_t){this._onStartFns.push(_t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_t=>_t()),this._onStartFns=[])}onDone(_t){this._onDoneFns.push(_t)}onDestroy(_t){this._onDestroyFns.push(_t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_t=>_t.play())}pause(){this.players.forEach(_t=>_t.pause())}restart(){this.players.forEach(_t=>_t.restart())}finish(){this._onFinish(),this.players.forEach(_t=>_t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_t=>_t.destroy()),this._onDestroyFns.forEach(_t=>_t()),this._onDestroyFns=[])}reset(){this.players.forEach(_t=>_t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_t){const Dt=_t*this.totalTime;this.players.forEach(Me=>{const nt=Me.totalTime?Math.min(1,Dt/Me.totalTime):1;Me.setPosition(nt)})}getPosition(){const _t=this.players.reduce((Dt,Me)=>null===Dt||Me.totalTime>Dt.totalTime?Me:Dt,null);return null!=_t?_t.getPosition():0}beforeDestroy(){this.players.forEach(_t=>{_t.beforeDestroy&&_t.beforeDestroy()})}triggerCallback(_t){const Dt="start"==_t?this._onStartFns:this._onDoneFns;Dt.forEach(Me=>Me()),Dt.length=0}}const Xt="!"},980:(En,je,U)=>{"use strict";U.d(je,{j:()=>x});var b=U(9974);function x(q){return(0,b.N)((I,Ce)=>{try{I.subscribe(Ce)}finally{Ce.add(q)}})}},983:(En,je,U)=>{"use strict";U.d(je,{w:()=>x});const x=new(U(1985).c)(Ce=>Ce.complete())},1026:(En,je,U)=>{"use strict";U.d(je,{$:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(En,je,U)=>{"use strict";U.d(je,{F:()=>x,m:()=>q});var b=U(3669);function x(...I){return q(I)}function q(I){return 0===I.length?b.D:1===I.length?I[0]:function(Qe){return I.reduce((Ee,fe)=>fe(Ee),Qe)}}},1360:(En,je,U)=>{"use strict";U.d(je,{bc$:()=>Qg,iLQ:()=>Sy,sZ2:()=>Eu,o8S:()=>mc,BIS:()=>g_,gRc:()=>$A,Ql9:()=>vN,OM3:()=>Ey,Ocv:()=>AN,abz:()=>Us,Z63:()=>Ji,aKT:()=>al,uvJ:()=>Jr,zcH:()=>uc,bkB:()=>cc,$GK:()=>xn,nKC:()=>ve,zZn:()=>gs,_q3:()=>cT,MKu:()=>uT,xe9:()=>rT,Co$:()=>D0,Vns:()=>ff,SKi:()=>yo,Xx1:()=>kr,Agw:()=>qg,PLl:()=>Kg,u5s:()=>rl,sFG:()=>TC,_9s:()=>Uw,czy:()=>Pu,WPN:()=>Md,kdw:()=>po,C4Q:()=>nf,NYb:()=>xR,giA:()=>J0,xvI:()=>yN,RxE:()=>MA,c1b:()=>Zv,gXe:()=>Pc,mal:()=>cm,Af3:()=>ko,L39:()=>vk,EWP:()=>$y,Ol2:()=>rI,w6W:()=>pS,Rfq:()=>Oi,WQX:()=>_n,hFB:()=>t_,naY:()=>LN,QuC:()=>we,EmA:()=>Se,phd:()=>LR,HJs:()=>Bk,N4e:()=>Os,vPA:()=>Xc,O8t:()=>cu,H3F:()=>hI,H8p:()=>ki,KH2:()=>_g,Ua0:()=>Qc,wOt:()=>ut,WHO:()=>Z0,e01:()=>Y0,Lf2:()=>ld,lNU:()=>Mr,h9k:()=>Cp,$MX:()=>Ad,ZF7:()=>bd,Kcf:()=>q_,e5t:()=>bp,UyX:()=>ew,cWb:()=>Tp,osQ:()=>yl,H5H:()=>FI,Zy3:()=>qn,mq5:()=>Kb,JZv:()=>Dn,TL3:()=>ZN,LfX:()=>Mt,plB:()=>hf,jNT:()=>yI,zjR:()=>tb,ngT:()=>wa,TL$:()=>kE,Tbb:()=>Le,rcV:()=>tu,Vt3:()=>oI,OA$:()=>Ts,Jv_:()=>JD,R7$:()=>E,BMQ:()=>II,HbH:()=>Pb,ZvI:()=>Lb,STu:()=>Vb,AVh:()=>RI,wni:()=>CD,VBU:()=>C0,FsC:()=>S0,jDH:()=>Oe,G2t:()=>yt,$C:()=>iI,EJ8:()=>R0,rXU:()=>ng,nrm:()=>xI,bVm:()=>dE,qex:()=>lE,k0s:()=>uE,j41:()=>cE,RV6:()=>Wb,xGo:()=>Yl,KVO:()=>Zr,kS0:()=>D,QTQ:()=>KT,bIt:()=>UI,lsd:()=>RD,joV:()=>ah,qSk:()=>Rf,XpG:()=>yD,nI1:()=>dA,i5U:()=>hA,Y8G:()=>AI,lJ4:()=>tA,eq3:()=>nA,l_i:()=>rA,sMw:()=>iA,ziG:()=>oA,mGM:()=>SD,sdS:()=>PD,Njj:()=>sa,eBV:()=>wc,npT:()=>sw,B4B:()=>J_,n$t:()=>$m,xc7:()=>SI,zvX:()=>OI,DNE:()=>uI,C5r:()=>fA,EFF:()=>BD,JRh:()=>$I,SpI:()=>mE,Lme:()=>HI,DH7:()=>QD,mxI:()=>WI,R50:()=>zI});var b=U(467);function x(e,t){return Object.is(e,t)}let q=null,I=!1,Ce=1;const Qe=Symbol("SIGNAL");function Ee(e){const t=q;return q=e,t}const pe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function et(e){if(I)throw new Error("");if(null===q)return;q.consumerOnSignalRead(e);const t=q.nextProducerIndex++;Wt(q),t<q.producerNode.length&&q.producerNode[t]!==e&&vt(q)&&Xe(q.producerNode[t],q.producerIndexOfThis[t]),q.producerNode[t]!==e&&(q.producerNode[t]=e,q.producerIndexOfThis[t]=vt(q)?nt(e,q,t):0),q.producerLastReadVersion[t]=e.version}function at(e){if((!vt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Ce)){if(!e.producerMustRecompute(e)&&!Dt(e))return void Xt(e);e.producerRecomputeValue(e),Xt(e)}}function At(e){if(void 0===e.liveConsumerNode)return;const t=I;I=!0;try{for(const r of e.liveConsumerNode)r.dirty||Ft(r)}finally{I=t}}function Ut(){return!1!==q?.consumerAllowSignalWrites}function Ft(e){e.dirty=!0,At(e),e.consumerMarkedDirty?.(e)}function Xt(e){e.dirty=!1,e.lastCleanEpoch=Ce}function pt(e){return e&&(e.nextProducerIndex=0),Ee(e)}function _t(e,t){if(Ee(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(vt(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Xe(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Dt(e){Wt(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(at(r),o!==r.version))return!0}return!1}function Me(e){if(Wt(e),vt(e))for(let t=0;t<e.producerNode.length;t++)Xe(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function nt(e,t,r){if(Et(e),0===e.liveConsumerNode.length&&st(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=nt(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Xe(e,t){if(Et(e),1===e.liveConsumerNode.length&&st(e))for(let o=0;o<e.producerNode.length;o++)Xe(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Wt(a),a.producerIndexOfThis[o]=t}}function vt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Wt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Et(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function st(e){return void 0!==e.producerNode}const Rn=Symbol("UNSET"),Kn=Symbol("COMPUTING"),dt=Symbol("ERRORED"),vn={...pe,value:Rn,dirty:!0,error:null,equal:x,kind:"computed",producerMustRecompute:e=>e.value===Rn||e.value===Kn,producerRecomputeValue(e){if(e.value===Kn)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Kn;const r=pt(e);let o,a=!1;try{o=e.computation(),Ee(null),a=t!==Rn&&t!==dt&&o!==dt&&e.equal(t,o)}catch(d){o=dt,e.error=d}finally{_t(e,r)}a?e.value=t:(e.value=o,e.version++)}};let en=function Ze(){throw new Error};function Rt(e){en(e)}let Y=null;function ge(e,t){Ut()||Rt(e),e.equal(e.value,t)||(e.value=t,function gt(e){e.version++,function He(){Ce++}(),At(e),Y?.()}(e))}const Ke={...pe,equal:x,value:void 0,kind:"signal"};let qt;function On(){return qt}function tr(e){const t=qt;return qt=e,t}const Tn=Symbol("NotFound");Error;var Di=U(4412),hn=U(1413),hr=U(8359),on=U(6354);const Mr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class ut extends Error{code;constructor(t,r){super(qn(t,r)),this.code=t}}function qn(e,t){return`${function wr(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const Kt=Symbol("InputSignalNode#UNSET"),ti={...Ke,transformFn:void 0,applyValueToInputSignal(e,t){ge(e,t)}};function li(e,t){const r=Object.create(ti);function o(){if(et(r),r.value===Kt)throw new ut(-950,null);return r.value}return r.value=e,r.transformFn=t?.transform,o[Qe]=r,o}function br(e){return{toString:e}.toString()}const Ar="__parameters__";function di(e,t,r){return br(()=>{const o=function sr(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...d){if(this instanceof a)return o.apply(this,d),this;const g=new a(...d);return w.annotation=g,w;function w(A,F,$){const Z=A.hasOwnProperty(Ar)?A[Ar]:Object.defineProperty(A,Ar,{value:[]})[Ar];for(;Z.length<=$;)Z.push(null);return(Z[$]=Z[$]||[]).push(g),A}}return a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Dn=globalThis;function Wn(e){for(let t in e)if(e[t]===Wn)return t;throw Error("Could not find renamed property on target object.")}function Xi(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Le(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Le).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const r=e.toString();if(null==r)return""+r;const o=r.indexOf("\n");return o>=0?r.slice(0,o):r}function Dr(e,t){return e?t?`${e} ${t}`:e:t||""}const ni=Wn({__forward_ref__:Wn});function Oi(e){return e.__forward_ref__=Oi,e.toString=function(){return Le(this())},e}function mn(e){return pr(e)?e():e}function pr(e){return"function"==typeof e&&e.hasOwnProperty(ni)&&e.__forward_ref__===Oi}function Oe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function yt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ft(e){return tn(e,Gn)||tn(e,mi)}function Mt(e){return null!==ft(e)}function tn(e,t){return e.hasOwnProperty(t)?e[t]:null}function an(e){return e&&(e.hasOwnProperty(cr)||e.hasOwnProperty(Ai))?e[cr]:null}const Gn=Wn({\u0275prov:Wn}),cr=Wn({\u0275inj:Wn}),mi=Wn({ngInjectableDef:Wn}),Ai=Wn({ngInjectorDef:Wn});class ve{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,r){this._desc=t,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Oe({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function so(e){return e&&!!e.\u0275providers}const Hi=Wn({\u0275cmp:Wn}),Lo=Wn({\u0275dir:Wn}),ro=Wn({\u0275pipe:Wn}),B=Wn({\u0275mod:Wn}),he=Wn({\u0275fac:Wn}),K=Wn({__NG_ELEMENT_ID__:Wn}),ee=Wn({__NG_ENV_ID__:Wn});function Re(e){return"string"==typeof e?e:null==e?"":String(e)}function ri(e,t){throw new ut(-200,e)}function mr(e,t){throw new ut(-201,!1)}var xn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(xn||{});let yr;function zi(){return yr}function hi(e){const t=yr;return yr=e,t}function Eo(e,t,r){const o=ft(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&xn.Optional?null:void 0!==t?t:void mr()}const tt={},Pe="__NG_DI_FLAG__";class ht{injector;constructor(t){this.injector=t}retrieve(t,r){return this.injector.get(t,r.optional?Tn:tt,r)}}const Yt="ngTempTokenPath",Un=/\n/gm,fo="__source";function ks(e,t=xn.Default){if(void 0===On())throw new ut(-203,!1);if(null===On())return Eo(e,void 0,t);{const r=On();let o;return o=r instanceof ht?r.injector:r,o.get(e,t&xn.Optional?null:void 0,t)}}function Zr(e,t=xn.Default){return(zi()||ks)(mn(e),t)}function _n(e,t=xn.Default){return Zr(e,is(t))}function is(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function wo(e){const t=[];for(let r=0;r<e.length;r++){const o=mn(e[r]);if(Array.isArray(o)){if(0===o.length)throw new ut(900,!1);let a,d=xn.Default;for(let g=0;g<o.length;g++){const w=o[g],A=qo(w);"number"==typeof A?-1===A?a=w.token:d|=A:a=w}t.push(Zr(a,d))}else t.push(Zr(o))}return t}function So(e,t){return e[Pe]=t,e.prototype[Pe]=t,e}function qo(e){return e[Pe]}const kr=So(di("Optional"),8),po=So(di("SkipSelf"),4);function ws(e,t){return e.hasOwnProperty(he)?e[he]:null}function qr(e,t){e.forEach(r=>Array.isArray(r)?qr(r,t):t(r))}function Qr(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Is(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Io(e,t,r){let o=Hs(e,t);return o>=0?e[1|o]=r:(o=~o,function us(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Vi(e,t){const r=Hs(e,t);if(r>=0)return e[1|r]}function Hs(e,t){return function No(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const d=o+(a-o>>1),g=e[d<<r];if(t===g)return d<<r;g>t?a=d:o=d+1}return~(a<<r)}(e,t,1)}const xr={},_r=[],Ji=new ve(""),ra=new ve("",-1),xs=new ve("");class Ta{get(t,r=tt){if(r===tt){const o=new Error(`NullInjectorError: No provider for ${Le(t)}!`);throw o.name="NullInjectorError",o}return r}}function Vo(e,t){const r=e[B]||null;if(!r&&!0===t)throw new Error(`Type ${Le(e)} does not have '\u0275mod' property.`);return r}function vr(e){return e[Hi]||null}function W(e){return e[Lo]||null}function z(e){return e[ro]||null}function we(e){const t=vr(e)||W(e)||z(e);return null!==t&&t.standalone}function Se(e){return{\u0275providers:e}}function Pt(...e){return{\u0275providers:Gt(0,e),\u0275fromNgModule:!0}}function Gt(e,...t){const r=[],o=new Set;let a;const d=g=>{r.push(g)};return qr(t,g=>{const w=g;fn(w,d,[],o)&&(a||=[],a.push(w))}),void 0!==a&&In(a,d),r}function In(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];Yn(a,d=>{t(d,o)})}}function fn(e,t,r,o){if(!(e=mn(e)))return!1;let a=null,d=an(e);const g=!d&&vr(e);if(d||g){if(g&&!g.standalone)return!1;a=e}else{const A=e.ngModule;if(d=an(A),!d)return!1;a=A}const w=o.has(a);if(g){if(w)return!1;if(o.add(a),g.dependencies){const A="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const F of A)fn(F,t,r,o)}}else{if(!d)return!1;{if(null!=d.imports&&!w){let F;o.add(a);try{qr(d.imports,$=>{fn($,t,r,o)&&(F||=[],F.push($))})}finally{}void 0!==F&&In(F,t)}if(!w){const F=ws(a)||(()=>new a);t({provide:a,useFactory:F,deps:_r},a),t({provide:xs,useValue:a,multi:!0},a),t({provide:Ji,useValue:()=>Zr(a),multi:!0},a)}const A=d.providers;if(null!=A&&!w){const F=e;Yn(A,$=>{t($,F)})}}}return a!==e&&void 0!==e.providers}function Yn(e,t){for(let r of e)so(r)&&(r=r.\u0275providers),Array.isArray(r)?Yn(r,t):t(r)}const Lr=Wn({provide:String,useValue:Wn});function yi(e){return null!==e&&"object"==typeof e&&Lr in e}function Ci(e){return"function"==typeof e}const ki=new ve(""),co={},pi={};let Si;function To(){return void 0===Si&&(Si=new Ta),Si}class Jr{}class go extends Jr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,io(t,g=>this.processProvider(g)),this.records.set(ra,ds(void 0,this)),a.has("environment")&&this.records.set(Jr,ds(void 0,this));const d=this.records.get(ki);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(xs,_r,xn.Self))}retrieve(t,r){return this.get(t,r.optional?Tn:tt,r)}destroy(){zs(this),this._destroyed=!0;const t=Ee(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(t)}}onDestroy(t){return zs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){zs(this);const r=tr(this),o=hi(void 0);try{return t()}finally{tr(r),hi(o)}}get(t,r=tt,o=xn.Default){if(zs(this),t.hasOwnProperty(ee))return t[ee](this);o=is(o);const d=tr(this),g=hi(void 0);try{if(!(o&xn.SkipSelf)){let A=this.records.get(t);if(void 0===A){const F=function Ws(e){return"function"==typeof e||"object"==typeof e&&e instanceof ve}(t)&&ft(t);A=F&&this.injectableDefInScope(F)?ds(zo(t),co):null,this.records.set(t,A)}if(null!=A)return this.hydrate(t,A,o)}return(o&xn.Self?To():this.parent).get(t,r=o&xn.Optional&&r===tt?null:r)}catch(w){if("NullInjectorError"===w.name){if((w[Yt]=w[Yt]||[]).unshift(Le(t)),d)throw w;return function Ro(e,t,r,o){const a=e[Yt];throw t[fo]&&a.unshift(t[fo]),e.message=function Es(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Le(t);if(Array.isArray(t))a=t.map(Le).join(" -> ");else if("object"==typeof t){let d=[];for(let g in t)if(t.hasOwnProperty(g)){let w=t[g];d.push(g+":"+("string"==typeof w?JSON.stringify(w):Le(w)))}a=`{${d.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(Un,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[Yt]=null,e}(w,t,"R3InjectorError",this.source)}throw w}finally{hi(g),tr(d)}}resolveInjectorInitializers(){const t=Ee(null),r=tr(this),o=hi(void 0);try{const d=this.get(Ji,_r,xn.Self);for(const g of d)g()}finally{tr(r),hi(o),Ee(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(Le(o));return`R3Injector[${t.join(", ")}]`}processProvider(t){let r=Ci(t=mn(t))?t:mn(t&&t.provide);const o=function la(e){return yi(e)?ds(void 0,e.useValue):ds(ba(e),co)}(t);if(!Ci(t)&&!0===t.multi){let a=this.records.get(r);a||(a=ds(void 0,co,!0),a.factory=()=>wo(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r,o){const a=Ee(null);try{return r.value===pi?ri(Le(t)):r.value===co&&(r.value=pi,r.value=r.factory(void 0,o)),"object"==typeof r.value&&r.value&&function da(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Ee(a)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=mn(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function zo(e){const t=ft(e),r=null!==t?t.factory:ws(e);if(null!==r)return r;if(e instanceof ve)throw new ut(204,!1);if(e instanceof Function)return function ls(e){if(e.length>0)throw new ut(204,!1);const r=function Vn(e){return e&&(e[Gn]||e[mi])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new ut(204,!1)}function ba(e,t,r){let o;if(Ci(e)){const a=mn(e);return ws(a)||zo(a)}if(yi(e))o=()=>mn(e.useValue);else if(function Ui(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...wo(e.deps||[]));else if(function fi(e){return!(!e||!e.useExisting)}(e))o=(a,d)=>Zr(mn(e.useExisting),void 0!==d&&d&xn.Optional?xn.Optional:void 0);else{const a=mn(e&&(e.useClass||e.provide));if(!function Fa(e){return!!e.deps}(e))return ws(a)||zo(a);o=()=>new a(...wo(e.deps))}return o}function zs(e){if(e.destroyed)throw new ut(205,!1)}function ds(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function io(e,t){for(const r of e)Array.isArray(r)?io(r,t):r&&so(r)?io(r.\u0275providers,t):t(r)}function Os(e,t){let r;e instanceof go?(zs(e),r=e):r=new ht(e);const a=tr(r),d=hi(void 0);try{return t()}finally{tr(a),hi(d)}}function ai(){return void 0!==zi()||null!=On()}function ko(e){if(!ai())throw new ut(-203,!1)}const Wr=0,Jt=1,ir=2,ci=3,Uo=4,Wi=5,Go=6,Qo=7,ei=8,P=9,N=10,j=11,De=12,Nt=13,An=14,ur=15,Bi=16,Gi=17,bo=18,Qs=19,Ca=20,Pn=26,pa=1,Sa=9,ji=10;function $i(e){return Array.isArray(e)&&"object"==typeof e[pa]}function Ri(e){return Array.isArray(e)&&!0===e[pa]}function Fc(e){return!!(4&e.flags)}function eo(e){return e.componentOffset>-1}function Za(e){return!(1&~e.flags)}function Ko(e){return!!e.template}function Ls(e){return!!(512&e[ir])}function l(e){return!(256&~e[ir])}class yc{previousValue;currentValue;firstChange;constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Ss(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}const Ts=(()=>{const e=()=>Rs;return e.ngInherit=!0,e})();function Rs(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ra),Ii}function Ii(){const e=ia(this),t=e?.current;if(t){const r=e.previous;if(r===xr)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Ra(e,t,r,o,a){const d=this.declaredInputs[o],g=ia(e)||function Wu(e,t){return e[_c]=t}(e,{previous:xr,current:null}),w=g.current||(g.current={}),A=g.previous,F=A[d];w[d]=new yc(F&&F.currentValue,r,A===xr),Ss(e,t,a,r)}const _c="__ngSimpleChanges__";function ia(e){return e[_c]||null}const ln=function(e,t=null,r){},Jn="svg";function jn(e){for(;Array.isArray(e);)e=e[Wr];return e}function cs(e,t){return jn(t[e])}function _i(e,t){return jn(t[e.index])}function vi(e,t){return e.data[t]}function Ps(e,t){return e[t]}function Ti(e,t){const r=t[e];return $i(r)?r:r[Wr]}function ui(e){return!(128&~e[ir])}function bs(e,t){return null==t?null:e[t]}function Gu(e){e[Gi]=0}function Lc(e){1024&e[ir]||(e[ir]|=1024,ui(e)&&vc(e))}function uu(e){return!!(9216&e[ir]||e[24]?.dirty)}function ih(e){e[N].changeDetectionScheduler?.notify(8),64&e[ir]&&(e[ir]|=1024),uu(e)&&vc(e)}function vc(e){e[N].changeDetectionScheduler?.notify(0);let t=oa(e);for(;null!==t&&!(8192&t[ir])&&(t[ir]|=8192,ui(t));)t=oa(t)}function Ya(e,t){if(l(e))throw new ut(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function oa(e){const t=e[ci];return Ri(t)?t[ci]:t}function Ec(e){return e[Qo]??=[]}function xl(e){return e.cleanup??=[]}const Tr={lFrame:Xu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Fl=!1;function Tf(){return Tr.bindingsEnabled}function St(){return Tr.lFrame.lView}function Er(){return Tr.lFrame.tView}function wc(e){return Tr.lFrame.contextLView=e,e[ei]}function sa(e){return Tr.lFrame.contextLView=null,e}function Ur(){let e=bf();for(;null!==e&&64===e.type;)e=e.parent;return e}function bf(){return Tr.lFrame.currentTNode}function Xs(e,t){const r=Tr.lFrame;r.currentTNode=e,r.isParent=t}function Vl(){return Tr.lFrame.isParent}function Ul(){Tr.lFrame.isParent=!1}function wg(){return Fl}function Uc(e){const t=Fl;return Fl=e,t}function Ds(){const e=Tr.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Zs(){return Tr.lFrame.bindingIndex++}function ya(e){const t=Tr.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Tg(e,t){const r=Tr.lFrame;r.bindingIndex=r.bindingRootIndex=e,ja(t)}function ja(e){Tr.lFrame.currentDirectiveIndex=e}function du(e){const t=Tr.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Qu(){return Tr.lFrame.currentQueryIndex}function jl(e){Tr.lFrame.currentQueryIndex=e}function Ja(e){const t=e[Jt];return 2===t.type?t.declTNode:1===t.type?e[Wi]:null}function $l(e,t,r){if(r&xn.SkipSelf){let a=t,d=e;for(;!(a=a.parent,null!==a||r&xn.Host||(a=Ja(d),null===a||(d=d[An],10&a.type))););if(null===a)return!1;t=a,e=d}const o=Tr.lFrame=Sf();return o.currentTNode=t,o.lView=e,!0}function Hl(e){const t=Sf(),r=e[Jt];Tr.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Sf(){const e=Tr.lFrame,t=null===e?null:e.child;return null===t?Xu(e):t}function Xu(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function $a(){const e=Tr.lFrame;return Tr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Bc=$a;function ec(){const e=$a();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function As(){return Tr.lFrame.selectedIndex}function tc(e){Tr.lFrame.selectedIndex=e}function Mi(){const e=Tr.lFrame;return vi(e.tView,e.selectedIndex)}function Rf(){Tr.lFrame.currentNamespace=Jn}function ah(){!function Wl(){Tr.lFrame.currentNamespace=null}()}let $c=!0;function nc(){return $c}function Ha(e){$c=e}function rc(e,t){for(let r=t.directiveStart,o=t.directiveEnd;r<o;r++){const d=e.data[r].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:A,ngAfterViewChecked:F,ngOnDestroy:$}=d;g&&(e.contentHooks??=[]).push(-r,g),w&&((e.contentHooks??=[]).push(r,w),(e.contentCheckHooks??=[]).push(r,w)),A&&(e.viewHooks??=[]).push(-r,A),F&&((e.viewHooks??=[]).push(r,F),(e.viewCheckHooks??=[]).push(r,F)),null!=$&&(e.destroyHooks??=[]).push(r,$)}}function Kl(e,t,r){Pf(e,t,3,r)}function Zu(e,t,r,o){(3&e[ir])===r&&Pf(e,t,r,o)}function Yu(e,t){let r=e[ir];(3&r)===t&&(r&=16383,r+=1,e[ir]=r)}function Pf(e,t,r,o){const d=o??-1,g=t.length-1;let w=0;for(let A=void 0!==o?65535&e[Gi]:0;A<g;A++)if("number"==typeof t[A+1]){if(w=t[A],null!=o&&w>=o)break}else t[A]<0&&(e[Gi]+=65536),(w<d||-1==d)&&(Ju(e,r,t,A),e[Gi]=(4294901760&e[Gi])+A+2),A++}function Mf(e,t){ln(4,e,t);const r=Ee(null);try{t.call(e)}finally{Ee(r),ln(5,e,t)}}function Ju(e,t,r,o){const a=r[o]<0,d=r[o+1],w=e[a?-r[o]:r[o]];a?e[ir]>>14<e[Gi]>>16&&(3&e[ir])===t&&(e[ir]+=16384,Mf(w,d)):Mf(w,d)}const Ys=-1;class _a{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,r,o){this.factory=t,this.canSeeViewProviders=r,this.injectImpl=o}}function uh(e){return 3===e||4===e||6===e}function Ql(e){return 64===e.charCodeAt(0)}function bc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||lh(e,r,a,0,-1===r||2===r?t[++o]:null)}}return e}function lh(e,t,r,o,a){let d=0,g=e.length;if(-1===t)g=-1;else for(;d<e.length;){const w=e[d++];if("number"==typeof w){if(w===t){g=-1;break}if(w>t){g=d-1;break}}}for(;d<e.length;){const w=e[d];if("number"==typeof w)break;if(w===r)return void(null!==a&&(e[d+1]=a));d++,null!==a&&d++}-1!==g&&(e.splice(g,0,t),d=g+1),e.splice(d++,0,r),null!==a&&e.splice(d++,0,a)}function Dc(e){return e!==Ys}function tl(e){return 32767&e}function hu(e,t){let r=function dh(e){return e>>16}(e),o=t;for(;r>0;)o=o[An],r--;return o}let fu=!0;function Xl(e){const t=fu;return fu=e,t}const zc=255,pu=5;let gu=0;const Na={};function mu(e,t){const r=hh(e,t);if(-1!==r)return r;const o=t[Jt];o.firstCreatePass&&(e.injectorIndex=t.length,Zo(o.data,e),Zo(t,null),Zo(o.blueprint,null));const a=ic(e,t),d=e.injectorIndex;if(Dc(a)){const g=tl(a),w=hu(a,t),A=w[Jt].data;for(let F=0;F<8;F++)t[d+F]=w[g+F]|A[g+F]}return t[d+8]=a,d}function Zo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ic(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=mh(a),null===o)return Ys;if(r++,a=a[An],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Ys}function yu(e,t,r){!function Ff(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(K)&&(o=r[K]),null==o&&(o=r[K]=gu++);const a=o&zc;t.data[e+(a>>pu)]|=1<<a}(e,t,r)}function za(e,t,r){if(r&xn.Optional||void 0!==e)return e;mr()}function Ac(e,t,r,o){if(r&xn.Optional&&void 0===o&&(o=null),!(r&(xn.Self|xn.Host))){const a=e[P],d=hi(void 0);try{return a?a.get(t,o,r&xn.Optional):Eo(t,o,r&xn.Optional)}finally{hi(d)}}return za(o,0,r)}function Vf(e,t,r,o=xn.Default,a){if(null!==e){if(2048&t[ir]&&!(o&xn.Self)){const g=function Jl(e,t,r,o,a){let d=e,g=t;for(;null!==d&&null!==g&&2048&g[ir]&&!Ls(g);){const w=Wc(d,g,r,o|xn.Self,Na);if(w!==Na)return w;let A=d.parent;if(!A){const F=g[Ca];if(F){const $=F.get(r,Na,o);if($!==Na)return $}A=mh(g),g=g[An]}d=A}return a}(e,t,r,o,Na);if(g!==Na)return g}const d=Wc(e,t,r,o,Na);if(d!==Na)return d}return Ac(t,r,o,a)}function Wc(e,t,r,o,a){const d=function sc(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(K)?e[K]:void 0;return"number"==typeof t?t>=0?t&zc:bg:t}(r);if("function"==typeof d){if(!$l(t,e,o))return o&xn.Host?za(a,0,o):Ac(t,r,o,a);try{let g;if(g=d(o),null!=g||o&xn.Optional)return g;mr()}finally{Bc()}}else if("number"==typeof d){let g=null,w=hh(e,t),A=Ys,F=o&xn.Host?t[ur][Wi]:null;for((-1===w||o&xn.SkipSelf)&&(A=-1===w?ic(e,t):t[w+8],A!==Ys&&ph(o,!1)?(g=t[Jt],w=tl(A),t=hu(A,t)):w=-1);-1!==w;){const $=t[Jt];if(Zl(d,w,$.data)){const Z=fh(w,t,r,g,o,F);if(Z!==Na)return Z}A=t[w+8],A!==Ys&&ph(o,t[Jt].data[w+8]===F)&&Zl(d,w,t)?(g=$,w=tl(A),t=hu(A,t)):w=-1}}return a}function fh(e,t,r,o,a,d){const g=t[Jt],w=g.data[e+8],$=Wa(w,g,r,null==o?eo(w)&&fu:o!=g&&!!(3&w.type),a&xn.Host&&d===w);return null!==$?oc(t,g,$,w,a):Na}function Wa(e,t,r,o,a){const d=e.providerIndexes,g=t.data,w=1048575&d,A=e.directiveStart,$=d>>20,Te=a?w+$:e.directiveEnd;for(let ce=o?w:w+$;ce<Te;ce++){const ze=g[ce];if(ce<A&&r===ze||ce>=A&&ze.type===r)return ce}if(a){const ce=g[A];if(ce&&Ko(ce)&&ce.type===r)return A}return null}function oc(e,t,r,o,a){let d=e[r];const g=t.data;if(d instanceof _a){const w=d;w.resolving&&ri(function Tt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Re(e)}(g[r]));const A=Xl(w.canSeeViewProviders);w.resolving=!0;const $=w.injectImpl?hi(w.injectImpl):null;$l(e,o,xn.Default);try{d=e[r]=w.factory(void 0,a,g,e,o),t.firstCreatePass&&r>=o.directiveStart&&function Tc(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:d}=t.type.prototype;if(o){const g=Rs(t);(r.preOrderHooks??=[]).push(e,g),(r.preOrderCheckHooks??=[]).push(e,g)}a&&(r.preOrderHooks??=[]).push(0-e,a),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}(r,g[r],t)}finally{null!==$&&hi($),Xl(A),w.resolving=!1,Bc()}}return d}function Zl(e,t,r){return!!(r[t+(e>>pu)]&1<<e)}function ph(e,t){return!(e&xn.Self||e&xn.Host&&t)}class Fo{_tNode;_lView;constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Vf(this._tNode,this._lView,t,is(o),r)}}function bg(){return new Fo(Ur(),St())}function Yl(e){return br(()=>{const t=e.prototype.constructor,r=t[he]||gh(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const d=a[he]||gh(a);if(d&&d!==r)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function gh(e){return pr(e)?()=>{const t=gh(mn(e));return t&&t()}:ws(e)}function mh(e){const t=e[Jt],r=t.type;return 2===r?t.declTNode:1===r?e[Wi]:null}function D(e){return function Lf(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const d=r[a];if(uh(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(d===t)return r[a+1];a+=2}}}return null}(Ur(),e)}function Kc(e,t=null,r=null,o){const a=ed(e,t,r,o);return a.resolveInjectorInitializers(),a}function ed(e,t=null,r=null,o,a=new Set){const d=[r||_r,Pt(e)];return o=o||("object"==typeof e?void 0:Le(e)),new go(d,t||To(),o||null,a)}class gs{static THROW_IF_NOT_FOUND=tt;static NULL=new Ta;static create(t,r){if(Array.isArray(t))return Kc({name:""},r,t,"");{const o=t.name??"";return Kc({name:o},t.parent,t.providers,o)}}static \u0275prov=Oe({token:gs,providedIn:"any",factory:()=>Zr(ra)});static __NG_ELEMENT_ID__=-1}new ve("").__NG_ELEMENT_ID__=e=>{const t=Ur();if(null===t)throw new ut(204,!1);if(2&t.type)return t.value;if(e&xn.Optional)return null;throw new ut(204,!1)};const _u=!1;let Us=(()=>class e{static __NG_ELEMENT_ID__=Uf;static __NG_ENV_ID__=r=>r})();class yh extends Us{_lView;constructor(t){super(),this._lView=t}onDestroy(t){const r=this._lView;return l(r)?(t(),()=>{}):(Ya(r,t),()=>function Vc(e,t){if(null===e[21])return;const r=e[21].indexOf(t);-1!==r&&e[21].splice(r,1)}(r,t))}}function Uf(){return new yh(St())}class ms{}const qc=new ve("",{providedIn:"root",factory:()=>!1}),Bf=new ve(""),jf=new ve("");let Qc=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Di.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})(),rl=(()=>{class e{internalPendingTasks=_n(Qc);scheduler=_n(ms);add(){const r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r))}}run(r){var o=this;return(0,b.A)(function*(){const a=o.add();try{return yield r()}finally{a()}})()}static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})();const cc=class $f extends hn.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,ai()&&(this.destroyRef=_n(Us,{optional:!0})??void 0,this.pendingTasks=_n(Qc,{optional:!0})??void 0)}emit(t){const r=Ee(null);try{super.next(t)}finally{Ee(r)}}subscribe(t,r,o){let a=t,d=r||(()=>null),g=o;if(t&&"object"==typeof t){const A=t;a=A.next?.bind(A),d=A.error?.bind(A),g=A.complete?.bind(A)}this.__isAsync&&(d=this.wrapInTimeout(d),a&&(a=this.wrapInTimeout(a)),g&&(g=this.wrapInTimeout(g)));const w=super.subscribe({next:a,error:d,complete:g});return t instanceof hr.yU&&t.add(w),w}wrapInTimeout(t){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{try{t(r)}finally{void 0!==o&&this.pendingTasks?.remove(o)}})}}};function il(...e){}function Ky(e){let t,r;function o(){e=il;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Cg(e){return queueMicrotask(()=>e()),()=>{e=il}}const Sg="isAngularZone",Hf=Sg+"_ID";let Qy=0;class yo{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new cc(!1);onMicrotaskEmpty=new cc(!1);onStable=new cc(!1);onError=new cc(!1);constructor(t){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:d=_u}=t;if(typeof Zone>"u")throw new ut(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!a&&o,g.shouldCoalesceRunChangeDetection=a,g.callbackScheduled=!1,g.scheduleInRootZone=d,function CE(e){const t=()=>{!function Xy(e){function t(){Ky(()=>{e.callbackScheduled=!1,zf(e),e.isCheckStableRunning=!0,Pg(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),zf(e))}(e)},r=Qy++;e._inner=e._inner.fork({name:"angular",properties:{[Sg]:!0,[Hf]:r,[Hf+r]:!0},onInvokeTask:(o,a,d,g,w,A)=>{if(function Mg(e){return Ng(e,"__ignore_ng_zone__")}(A))return o.invokeTask(d,g,w,A);try{return Zy(e),o.invokeTask(d,g,w,A)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),ol(e)}},onInvoke:(o,a,d,g,w,A,F)=>{try{return Zy(e),o.invoke(d,g,w,A,F)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Wf(e){return Ng(e,"__scheduler_tick__")}(A)&&t(),ol(e)}},onHasTask:(o,a,d,g)=>{o.hasTask(d,g),a===d&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,zf(e),Pg(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,a,d,g)=>(o.handleError(d,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Sg)}static assertInAngularZone(){if(!yo.isInAngularZone())throw new ut(909,!1)}static assertNotInAngularZone(){if(yo.isInAngularZone())throw new ut(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+a,t,Rg,il,il);try{return d.runTask(g,r,o)}finally{d.cancelTask(g)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const Rg={};function Pg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function zf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Zy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ol(e){e._nesting--,Pg(e)}class vu{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new cc;onMicrotaskEmpty=new cc;onStable=new cc;onError=new cc;run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function Ng(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class uc{_console=console;handleError(t){this._console.error("ERROR",t)}}const SE=new ve("",{providedIn:"root",factory:()=>{const e=_n(yo),t=_n(uc);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function kg(e,t){return li(e,t)}const t_=(kg.required=function e_(e){return li(Kt,e)},kg);function n_(){return sl(Ur(),St())}function sl(e,t){return new al(_i(e,t))}let al=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=n_})();function lc(e){return e instanceof al?e.nativeElement:e}function Xc(e,t){const r=function ue(e,t){const r=Object.create(Ke);r.value=e,void 0!==t&&(r.equal=t);const o=()=>(et(r),r.value);return o[Qe]=r,o}(e,t?.equal),o=r[Qe];return r.set=a=>ge(o,a),r.update=a=>function ne(e,t){Ut()||Rt(e),ge(e,t(e.value))}(o,a),r.asReadonly=td.bind(r),r}function td(){const e=this[Qe];if(void 0===e.readonlyFn){const t=()=>this();t[Qe]=e,e.readonlyFn=t}return e.readonlyFn}function qf(e){return function _h(e){return"function"==typeof e&&void 0!==e[Qe]}(e)&&"function"==typeof e.set}function xg(){return this._results[Symbol.iterator]()}class r_{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new hn.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function ao(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function zr(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],d=t[o];if(r&&(a=r(a),d=r(d)),d!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=xg}function cl(e){return!(128&~e.flags)}var Xf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Xf||{});const Zf=new Map;let Js=0;function ll(e){Zf.delete(e[Qs])}const Lg="__ngContext__";function va(e,t){$i(t)?(e[Lg]=t[Qs],function s_(e){Zf.set(e[Qs],e)}(t)):e[Lg]=t}function Yc(e){return d_(e[De])}function jg(e){return d_(e[Uo])}function d_(e){for(;null!==e&&!Ri(e);)e=e[Uo];return e}let ip;function kE(e){ip=e}function Ga(){if(void 0!==ip)return ip;if(typeof document<"u")return document;throw new ut(210,!1)}const Eu=new ve("",{providedIn:"root",factory:()=>Gg}),Gg="ng",Kg=new ve(""),qg=new ve("",{providedIn:"platform",factory:()=>"unknown"}),Qg=new ve(""),g_=new ve("",{providedIn:"root",factory:()=>Ga().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),y_=new ve("",{providedIn:"root",factory:()=>!1});var sm=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(sm||{});const ld=new ve(""),__=new Set;function wa(e){__.has(e)||(__.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let cp=(()=>class e{view;node;constructor(r,o){this.view=r,this.node=o}static __NG_ELEMENT_ID__=am})();function am(){return new cp(St(),Ur())}var pl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(pl||{});let Sh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})();const up=[pl.EarlyRead,pl.Write,pl.MixedReadWrite,pl.Read];let lp=(()=>{class e{ngZone=_n(yo);scheduler=_n(ms);errorHandler=_n(uc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){_n(ld,{optional:!0})}execute(){const r=this.sequences.size>0;r&&ln(16),this.executing=!0;for(const o of up)for(const a of this.sequences)if(!a.erroredOrDestroyed&&a.hooks[o])try{a.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,a.hooks[o])(a.pipelinedValue),a.snapshot))}catch(d){a.erroredOrDestroyed=!0,this.errorHandler?.handleError(d)}this.executing=!1;for(const o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(const o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&ln(17)}register(r){const{view:o}=r;void 0!==o?((o[25]??=[]).push(r),vc(o),o[ir]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,o){return o?o.run(sm.AFTER_NEXT_RENDER,r):r()}static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})();class E_{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,r,o,a,d,g=null){this.impl=t,this.hooks=r,this.view=o,this.once=a,this.snapshot=g,this.unregisterOnDestroy=d?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(r=>r!==this))}}function cm(e,t){!t?.injector&&ko();const r=t?.injector??_n(gs);return wa("NgAfterNextRender"),function w_(e,t,r,o){const a=t.get(Sh);a.impl??=t.get(lp);const d=t.get(ld,null,{optional:!0}),g=r?.phase??pl.MixedReadWrite,w=!0!==r?.manualCleanup?t.get(Us):null,A=t.get(cp,null,{optional:!0}),F=new E_(a.impl,function um(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,g),A?.view,o,w,d?.snapshot(null));return a.impl.register(F),F}(e,r,t,!0)}let Fh=(e,t,r,o)=>{};function ZE(e,t){const r=e.contentQueries;if(null!==r){const o=Ee(null);try{for(let a=0;a<r.length;a+=2){const g=r[a+1];if(-1!==g){const w=e.data[g];jl(r[a]),w.contentQueries(2,t[g],g)}}}finally{Ee(o)}}}function z_(e,t,r){jl(0);const o=Ee(null);try{t(e,r)}finally{Ee(o)}}function $h(e,t,r){if(Fc(t)){const o=Ee(null);try{const d=t.directiveEnd;for(let g=t.directiveStart;g<d;g++){const w=e.data[g];w.contentQueries&&w.contentQueries(1,r[g],g)}}finally{Ee(o)}}}var Pc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Pc||{});let Rm,Pm;function Hh(e){return function YE(){if(void 0===Rm&&(Rm=null,Dn.trustedTypes))try{Rm=Dn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Rm}()?.createHTML(e)||e}function W_(){if(void 0===Pm&&(Pm=null,Dn.trustedTypes))try{Pm=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pm}function JE(e){return W_()?.createHTML(e)||e}function G_(e){return W_()?.createScriptURL(e)||e}class ka{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mr})`}}class ml extends ka{getTypeName(){return"HTML"}}class ET extends ka{getTypeName(){return"Style"}}class Td extends ka{getTypeName(){return"Script"}}class Mm extends ka{getTypeName(){return"URL"}}class Ip extends ka{getTypeName(){return"ResourceURL"}}function tu(e){return e instanceof ka?e.changingThisBreaksApplicationSecurity:e}function bd(e,t){const r=function K_(e){return e instanceof ka&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Mr})`)}return r===t}function q_(e){return new ml(e)}function Tp(e){return new ET(e)}function ew(e){return new Td(e)}function yl(e){return new Mm(e)}function bp(e){return new Ip(e)}class Q_{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Hh(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.firstChild?.remove(),r)}catch{return null}}}class Nm{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Hh(t),r}}const xm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ad(e){return(e=String(e)).match(xm)?e:"unsafe:"+e}function pc(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function _l(...e){const t={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(t[o]=!0);return t}const Om=pc("area,br,col,hr,img,wbr"),Au=pc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fm=pc("rp,rt"),Lm=_l(Om,_l(Au,pc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_l(Fm,pc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_l(Fm,Au)),Cd=pc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sd=_l(Cd,pc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rw=pc("script,style,template");class Ap{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let r=t.firstChild,o=!0,a=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)a.push(r),r=zh(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let d=Um(r);if(d){r=d;break}r=a.pop()}return this.buf.join("")}startElement(t){const r=Y_(t).toLowerCase();if(!Lm.hasOwnProperty(r))return this.sanitizedSomething=!0,!rw.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=t.attributes;for(let a=0;a<o.length;a++){const d=o.item(a),g=d.name,w=g.toLowerCase();if(!Sd.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let A=d.value;Cd[w]&&(A=Ad(A)),this.buf.push(" ",g,'="',ow(A),'"')}return this.buf.push(">"),!0}endElement(t){const r=Y_(t).toLowerCase();Lm.hasOwnProperty(r)&&!Om.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(ow(t))}}function Um(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Rd(t);return t}function zh(e){const t=e.firstChild;if(t&&function Z_(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Rd(t);return t}function Y_(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Rd(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const iw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pd=/([^\#-~ |!])/g;function ow(e){return e.replace(/&/g,"&amp;").replace(iw,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Pd,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bm;function Cp(e,t){let r=null;try{Bm=Bm||function Dd(e){const t=new Nm(e);return function km(){try{return!!(new window.DOMParser).parseFromString(Hh(""),"text/html")}catch{return!1}}()?new Q_(t):t}(e);let o=t?String(t):"";r=Bm.getInertBodyElement(o);let a=5,d=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=d,d=r.innerHTML,r=Bm.getInertBodyElement(o)}while(o!==d);return Hh((new Ap).sanitizeChildren(jm(r)||r))}finally{if(r){const o=jm(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function jm(e){return"content"in e&&function Sp(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Md=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Md||{});function sw(e){const t=Nd();return t?JE(t.sanitize(Md.HTML,e)||""):bd(e,"HTML")?JE(tu(e)):Cp(Ga(),Re(e))}function J_(e){const t=Nd();return t?t.sanitize(Md.URL,e)||"":bd(e,"URL")?tu(e):Ad(Re(e))}function aw(e){const t=Nd();if(t)return G_(t.sanitize(Md.RESOURCE_URL,e)||"");if(bd(e,"ResourceURL"))return G_(tu(e));throw new ut(904,!1)}function $m(e,t,r){return function ev(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?aw:J_}(t,r)(e)}function Nd(){const e=St();return e&&e[N].sanitizer}const tv=/^>|^->|<!--|-->|--!>|<!-$/g,Mp=/(<|>)/g;function nu(e){return e instanceof Function?e():e}function xT(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=t.length;if(a+d===o||e.charCodeAt(a+d)<=32)return a}r=a+1}}const av="ng-template";function yw(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==xT(t[a+1].toLowerCase(),r,0))return!0}else if(zm(e))return!1;if(a=t.indexOf(1,a),a>-1){let d;for(;++a<t.length&&"string"==typeof(d=t[a]);)if(d.toLowerCase()===r)return!0}return!1}function zm(e){return 4===e.type&&e.value!==av}function OT(e,t,r){return t===(4!==e.type||r?e.value:av)}function _w(e,t,r){let o=4;const a=e.attrs,d=null!==a?function FT(e){for(let t=0;t<e.length;t++)if(uh(e[t]))return t;return e.length}(a):0;let g=!1;for(let w=0;w<t.length;w++){const A=t[w];if("number"!=typeof A){if(!g)if(4&o){if(o=2|1&o,""!==A&&!OT(e,A,r)||""===A&&1===t.length){if(gc(o))return!1;g=!0}}else if(8&o){if(null===a||!yw(e,a,A,r)){if(gc(o))return!1;g=!0}}else{const F=t[++w],$=Su(A,a,zm(e),r);if(-1===$){if(gc(o))return!1;g=!0;continue}if(""!==F){let Z;if(Z=$>d?"":a[$+1].toLowerCase(),2&o&&F!==Z){if(gc(o))return!1;g=!0}}}}else{if(!g&&!gc(o)&&!gc(A))return!1;if(g&&gc(A))continue;g=!1,o=A|1&o}}return gc(o)||g}function gc(e){return!(1&e)}function Su(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let d=!1;for(;a<t.length;){const g=t[a];if(g===e)return a;if(3===g||6===g)d=!0;else{if(1===g||2===g){let w=t[++a];for(;"string"==typeof w;)w=t[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=d?1:2}return-1}return function LT(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function cv(e,t,r=!1){for(let o=0;o<t.length;o++)if(_w(e,t[o],r))return!0;return!1}function Ew(e,t){return e?":not("+t.trim()+")":t}function UT(e){let t=e[0],r=1,o=2,a="",d=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const w=e[++r];a+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&o?a+="."+g:4&o&&(a+=" "+g);else""!==a&&!gc(g)&&(t+=Ew(d,a),a=""),o=g,d=d||!gc(o);r++}return""!==a&&(t+=Ew(d,a)),t}const Or={};function Gm(e,t){return e.createComment(function dw(e){return e.replace(tv,t=>t.replace(Mp,"\u200b$1\u200b"))}(t))}function Km(e,t,r){return e.createElement(t,r)}function Fd(e,t,r,o,a){e.insertBefore(t,r,o,a)}function ww(e,t,r){e.appendChild(t,r)}function Iw(e,t,r,o,a){null!==o?Fd(e,t,r,o,a):ww(e,t,r)}function Tw(e,t,r){const{mergedAttrs:o,classes:a,styles:d}=r;null!==o&&function ch(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const d=r[o++],g=r[o++],w=r[o++];e.setAttribute(t,g,w,d)}else{const d=a,g=r[++o];Ql(d)?e.setProperty(t,d,g):e.setAttribute(t,d,g),o++}}}(e,t,o),null!==a&&function HT(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}(e,t,a),null!==d&&function $T(e,t,r){e.setAttribute(t,"style",r)}(e,t,d)}function Gh(e,t,r,o,a,d,g,w,A,F,$){const Z=Pn+o,Te=Z+a,ce=function kp(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:Or);return r}(Z,Te),ze="function"==typeof F?F():F;return ce[Jt]={type:e,blueprint:ce,template:r,queries:null,viewQuery:w,declTNode:t,data:ce.slice().fill(null,Z),bindingStartIndex:Z,expandoStartIndex:Te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:A,consts:ze,incompleteFirstPass:!1,ssrId:$}}function n(e,t,r,o,a,d,g,w,A,F,$){const Z=t.blueprint.slice();return Z[Wr]=a,Z[ir]=1228|o,(null!==F||e&&2048&e[ir])&&(Z[ir]|=2048),Gu(Z),Z[ci]=Z[An]=e,Z[ei]=r,Z[N]=g||e&&e[N],Z[j]=w||e&&e[j],Z[P]=A||e&&e[P]||null,Z[Wi]=d,Z[Qs]=function RE(){return Js++}(),Z[Go]=$,Z[Ca]=F,Z[ur]=2==t.type?e[ur]:Z,Z}function s(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function u(e,t,r,o){if(0===r)return-1;const a=t.length;for(let d=0;d<r;d++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function p(e,t){return e[De]?e[Nt][Uo]=t:e[De]=t,e[Nt]=t,t}function E(e=1){R(Er(),St(),As()+e,!1)}function R(e,t,r,o){if(!o)if(3&~t[ir]){const d=e.preOrderHooks;null!==d&&Zu(t,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&Kl(t,d,r)}tc(r)}var k=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(k||{});function L(e,t,r,o){const a=Ee(null);try{const[d,g,w]=e.inputs[r];let A=null;!!(g&k.SignalBased)&&(A=t[d][Qe]),null!==A&&void 0!==A.transformFn?o=A.transformFn(o):null!==w&&(o=w.call(t,o)),null!==e.setInput?e.setInput(t,A,o,r,d):Ss(t,A,d,o)}finally{Ee(a)}}function X(e,t,r,o,a){const d=As(),g=2&o;try{tc(-1),g&&t.length>Pn&&R(e,t,Pn,!1),ln(g?2:0,a),r(o,a)}finally{tc(d),ln(g?3:1,a)}}function oe(e,t,r){(function it(e,t,r){const o=r.directiveStart,a=r.directiveEnd;eo(r)&&function i(e,t,r){const o=_i(t,e),a=function c(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(r),d=e[N].rendererFactory,g=p(e,n(e,a,null,s(r),o,t,null,d.createRenderer(o,r),null,null,null));e[t.index]=g}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||mu(r,t);const d=r.initialInputs;for(let g=o;g<a;g++){const w=e.data[g],A=oc(t,e,g,r);va(A,t),null!==d&&Be(0,g-o,A,w,0,d),Ko(w)&&(Ti(r.index,t)[ei]=oc(t,e,g,r))}})(e,t,r),!(64&~r.flags)&&function Ne(e,t,r){const o=r.directiveStart,a=r.directiveEnd,d=r.index,g=function Ic(){return Tr.lFrame.currentDirectiveIndex}();try{tc(d);for(let w=o;w<a;w++){const A=e.data[w],F=t[w];ja(w),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&$e(A,F)}}finally{tc(-1),ja(g)}}(e,t,r)}function ke(e,t,r=_i){const o=t.localNames;if(null!==o){let a=t.index+1;for(let d=0;d<o.length;d+=2){const g=o[d+1],w=-1===g?r(t,e):e[g];e[a++]=w}}}let cn=()=>null;function Mn(e,t,r,o,a,d,g,w){if(w||!wl(t,e,r,o,a)){if(3&t.type){const A=_i(t,r);o=function or(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=g?g(a,t.value||"",o):a,d.setProperty(A,o,a)}}else eo(t)&&function Fr(e,t){const r=Ti(t,e);16&r[ir]||(r[ir]|=64)}(r,t.index)}function $e(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ot(e,t){const r=e.directiveRegistry;let o=null;if(r)for(let a=0;a<r.length;a++){const d=r[a];cv(t,d.selectors,!1)&&(o??=[],Ko(d)?o.unshift(d):o.push(d))}return o}function ct(e,t,r,o,a,d){const g=_i(e,t);!function bt(e,t,r,o,a,d,g){if(null==d)e.removeAttribute(t,a,r);else{const w=null==g?Re(d):g(d,o||"",a);e.setAttribute(t,a,w,r)}}(t[j],g,d,e.value,r,o,a)}function Be(e,t,r,o,a,d){const g=d[t];if(null!==g)for(let w=0;w<g.length;w+=2)L(o,r,g[w],g[w+1])}function Vd(e,t,r){return(null===e||Ko(e))&&(r=function xo(e){for(;Array.isArray(e);){if("object"==typeof e[pa])return e;e=e[Wr]}return null}(r[t.index])),r[j]}function wl(e,t,r,o,a){const d=e.inputs?.[o],g=e.hostDirectiveInputs?.[o];let w=!1;if(g)for(let A=0;A<g.length;A+=2){const F=g[A];L(t.data[F],r[F],g[A+1],a),w=!0}if(d)for(const A of d)L(t.data[A],r[A],o,a),w=!0;return w}function Kh(e,t){const r=Ti(t,e),o=r[Jt];!function Xm(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[Wr];null!==a&&null===r[Go]&&(r[Go]=null),ln(18),qh(o,r,r[ei]),ln(19,r[ei])}function qh(e,t,r){Hl(t);try{const o=e.viewQuery;null!==o&&z_(1,o,r);const a=e.template;null!==a&&X(e,t,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[bo]?.finishViewCreation(e),e.staticContentQueries&&ZE(e,t),e.staticViewQueries&&z_(2,e.viewQuery,r);const d=e.components;null!==d&&function bw(e,t){for(let r=0;r<t.length;r++)Kh(e,t[r])}(t,d)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[ir]&=-5,ec()}}function Jo(e,t){return!t||null===t.firstChild||cl(e)}function Il(e,t){return undefined(e,t)}var Pu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Pu||{});function Mu(e){return!(32&~e.flags)}function Ud(e,t,r,o,a){if(null!=o){let d,g=!1;Ri(o)?d=o:$i(o)&&(g=!0,o=o[Wr]);const w=jn(o);0===e&&null!==r?null==a?ww(t,r,w):Fd(t,r,w,a||null,!0):1===e&&null!==r?Fd(t,r,w,a||null,!0):2===e?function Ld(e,t,r){e.removeChild(null,t,r)}(t,w,g):3===e&&t.destroyNode(w),null!=d&&function hv(e,t,r,o,a){const d=r[7];d!==jn(r)&&Ud(t,e,o,d,a);for(let w=ji;w<r.length;w++){const A=r[w];Yh(A[Jt],A,e,t,o,d)}}(t,e,d,r,a)}}function Op(e,t){t[N].changeDetectionScheduler?.notify(9),Yh(e,t,t[j],2,null,null)}function Xh(e,t){const r=e[Sa],o=r.indexOf(t);r.splice(o,1)}function Tl(e,t){if(l(t))return;const r=t[j];r.destroyNode&&Yh(e,t,r,3,null,null),function Ym(e){let t=e[De];if(!t)return Fp(e[Jt],e);for(;t;){let r=null;if($i(t))r=t[De];else{const o=t[ji];o&&(r=o)}if(!r){for(;t&&!t[Uo]&&t!==e;)$i(t)&&Fp(t[Jt],t),t=t[ci];null===t&&(t=e),$i(t)&&Fp(t[Jt],t),r=t&&t[Uo]}t=r}}(t)}function Fp(e,t){if(l(t))return;const r=Ee(null);try{t[ir]&=-129,t[ir]|=256,t[24]&&Me(t[24]),function Aw(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof _a)){const d=r[o+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const w=a[d[g]],A=d[g+1];ln(4,w,A);try{A.call(w)}finally{ln(5,w,A)}}else{ln(4,a,d);try{d.call(a)}finally{ln(5,a,d)}}}}}(e,t),function lv(e,t){const r=e.cleanup,o=t[Qo];if(null!==r)for(let g=0;g<r.length-1;g+=2)if("string"==typeof r[g]){const w=r[g+3];w>=0?o[w]():o[-w].unsubscribe(),g+=2}else r[g].call(o[r[g+1]]);null!==o&&(t[Qo]=null);const a=t[21];if(null!==a){t[21]=null;for(let g=0;g<a.length;g++)(0,a[g])()}const d=t[23];if(null!==d){t[23]=null;for(const g of d)g.destroy()}}(e,t),1===t[Jt].type&&t[j].destroy();const o=t[Bi];if(null!==o&&Ri(t[ci])){o!==t[ci]&&Xh(o,t);const a=t[bo];null!==a&&a.detachView(e)}ll(t)}finally{Ee(r)}}function Lp(e,t,r){return function Jm(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[Wr];if(eo(o)){const{encapsulation:a}=e.data[o.directiveStart+o.componentOffset];if(a===Pc.None||a===Pc.Emulated)return null}return _i(o,r)}(e,t.parent,r)}let Zh,dv=function ey(e,t,r){return 40&e.type?_i(e,r):null};function Bd(e,t,r,o){const a=Lp(e,o,t),d=t[j],w=function Vp(e,t,r){return dv(e,t,r)}(o.parent||t[Wi],o,t);if(null!=a)if(Array.isArray(r))for(let A=0;A<r.length;A++)Iw(d,a,r[A],w,!1);else Iw(d,a,r,w,!1);void 0!==Zh&&Zh(d,o,t,r,a)}function es(e,t){if(null!==t){const r=t.type;if(3&r)return _i(t,e);if(4&r)return jd(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return es(e,o);{const a=e[t.index];return Ri(a)?jd(-1,a):jn(a)}}if(128&r)return es(e,t.next);if(32&r)return Il(t,e)()||jn(e[t.index]);{const o=ea(e,t);return null!==o?Array.isArray(o)?o[0]:es(oa(e[ur]),o):es(e,t.next)}}return null}function ea(e,t){return null!==t?e[ur][Wi].projection[t.projection]:null}function jd(e,t){const r=ji+e+1;if(r<t.length){const o=t[r],a=o[Jt].firstChild;if(null!==a)return es(o,a)}return t[7]}function Bp(e,t,r,o,a,d,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const w=o[r.index],A=r.type;if(g&&0===t&&(w&&va(jn(w),o),r.flags|=2),!Mu(r))if(8&A)Bp(e,t,r.child,o,a,d,!1),Ud(t,e,a,w,d);else if(32&A){const F=Il(r,o);let $;for(;$=F();)Ud(t,e,a,$,d);Ud(t,e,a,w,d)}else 16&A?$d(e,t,o,r,a,d):Ud(t,e,a,w,d);r=g?r.projectionNext:r.next}}function Yh(e,t,r,o,a,d){Bp(r,o,e.firstChild,t,a,d,!1)}function $d(e,t,r,o,a,d){const g=r[ur],A=g[Wi].projection[o.projection];if(Array.isArray(A))for(let F=0;F<A.length;F++)Ud(t,e,a,A[F],d);else{let F=A;const $=g[ci];cl(o)&&(F.flags|=128),Bp(e,t,F,$,a,d,!0)}}function Nu(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const d=t[r.index];null!==d&&o.push(jn(d)),Ri(d)&&ty(d,o);const g=r.type;if(8&g)Nu(e,t,r.child,o);else if(32&g){const w=Il(r,t);let A;for(;A=w();)o.push(A)}else if(16&g){const w=ea(t,r);if(Array.isArray(w))o.push(...w);else{const A=oa(t[ur]);Nu(A[Jt],A,w,o,!0)}}r=a?r.projectionNext:r.next}return o}function ty(e,t){for(let r=ji;r<e.length;r++){const o=e[r],a=o[Jt].firstChild;null!==a&&Nu(o[Jt],o,a,t)}e[7]!==e[Wr]&&t.push(e[7])}function pv(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let jp=[];const ny={...pe,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{vc(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},bl={...pe,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=oa(e.lView);for(;t&&!iy(t[Jt]);)t=oa(t);t&&Lc(t)},consumerOnSignalRead(){this.lView[24]=this}};function iy(e){return 2!==e.type}function ef(e){if(null===e[23])return;let t=!0;for(;t;){let r=!1;for(const o of e[23])o.dirty&&(r=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));t=r&&!!(8192&e[ir])}}function ku(e,t=!0,r=0){const a=e[N].rendererFactory;a.begin?.();try{!function _v(e,t){const r=wg();try{Uc(!0),xu(e,t);let o=0;for(;uu(e);){if(100===o)throw new ut(103,!1);o++,xu(e,1)}}finally{Uc(r)}}(e,r)}catch(g){throw t&&function Qm(e,t){const r=e[P],o=r?r.get(uc,null):null;o&&o.handleError(t)}(e,g),g}finally{a.end?.()}}function oy(e,t,r,o){if(l(t))return;const a=t[ir];Hl(t);let w=!0,A=null,F=null;iy(e)?(F=function gv(e){return e[24]??function mv(e){const t=jp.pop()??Object.create(ny);return t.lView=e,t}(e)}(t),A=pt(F)):null===function fe(){return q}()?(w=!1,F=function ry(e){const t=e[24]??Object.create(bl);return t.lView=e,t}(t),A=pt(F)):t[24]&&(Me(t[24]),t[24]=null);try{Gu(t),function Cf(e){return Tr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&X(e,t,r,2,o);const $=!(3&~a);if($){const ce=e.preOrderCheckHooks;null!==ce&&Kl(t,ce,null)}else{const ce=e.preOrderHooks;null!==ce&&Zu(t,ce,0,null),Yu(t,0)}if(function tf(e){for(let t=Yc(e);null!==t;t=jg(t)){if(!(2&t[ir]))continue;const r=t[Sa];for(let o=0;o<r.length;o++)Lc(r[o])}}(t),ef(t),Hd(t,0),null!==e.contentQueries&&ZE(e,t),$){const ce=e.contentCheckHooks;null!==ce&&Kl(t,ce)}else{const ce=e.contentHooks;null!==ce&&Zu(t,ce,1),Yu(t,1)}!function Rw(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)tc(~a);else{const d=a,g=r[++o],w=r[++o];Tg(g,d);const A=t[d];ln(24,A),w(2,A),ln(25,A)}}}finally{tc(-1)}}(e,t);const Z=e.components;null!==Z&&Ev(t,Z,0);const Te=e.viewQuery;if(null!==Te&&z_(2,Te,o),$){const ce=e.viewCheckHooks;null!==ce&&Kl(t,ce)}else{const ce=e.viewHooks;null!==ce&&Zu(t,ce,2),Yu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const ce of t[22])ce();t[22]=null}pv(t),t[ir]&=-73}catch($){throw vc(t),$}finally{null!==F&&(_t(F,A),w&&function Jh(e){e.lView[24]!==e&&(e.lView=null,jp.push(e))}(F)),ec()}}function Hd(e,t){for(let r=Yc(e);null!==r;r=jg(r))for(let o=ji;o<r.length;o++)vv(r[o],t)}function Sw(e,t,r){ln(18);const o=Ti(t,e);vv(o,r),ln(19,o[ei])}function vv(e,t){ui(e)&&xu(e,t)}function xu(e,t){const o=e[Jt],a=e[ir],d=e[24];let g=!!(0===t&&16&a);if(g||=!!(64&a&&0===t),g||=!!(1024&a),g||=!(!d?.dirty||!Dt(d)),g||=!1,d&&(d.dirty=!1),e[ir]&=-9217,g)oy(o,e,o.template,e[ei]);else if(8192&a){ef(e),Hd(e,1);const w=o.components;null!==w&&Ev(e,w,1),pv(e)}}function Ev(e,t,r){for(let o=0;o<t.length;o++)Sw(e,t[o],r)}function Ou(e,t){const r=wg()?64:1088;for(e[N].changeDetectionScheduler?.notify(t);e;){e[ir]|=r;const o=oa(e);if(Ls(e)&&!o)return e;e=o}return null}function sy(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function zd(e,t){if(e.length<=ji)return;const r=ji+t,o=e[r];if(o){const a=o[Bi];null!==a&&a!==e&&Xh(a,o),t>0&&(e[r-1][Uo]=o[Uo]);const d=Is(e,ji+t);!function Qh(e,t){Op(e,t),t[Wr]=null,t[Wi]=null}(o[Jt],o);const g=d[bo];null!==g&&g.detachView(d[Jt]),o[ci]=null,o[Uo]=null,o[ir]&=-129}return o}function Hp(e,t){const r=e[Sa],o=t[ci];($i(o)||t[ur]!==o[ci][ur])&&(e[ir]|=2),null===r?e[Sa]=[t]:r.push(t)}let Dl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const t=this._lView,r=t[Jt];return Nu(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[ei]}set context(t){this._lView[ei]=t}get destroyed(){return l(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ci];if(Ri(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(zd(t,o),Is(r,o))}this._attachedToViewContainer=!1}Tl(this._lView[Jt],this._lView)}onDestroy(t){Ya(this._lView,t)}markForCheck(){Ou(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ir]&=-129}reattach(){ih(this._lView),this._lView[ir]|=128}detectChanges(){this._lView[ir]|=1024,ku(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ut(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Ls(this._lView),r=this._lView[Bi];null!==r&&!t&&Xh(r,this._lView),Op(this._lView[Jt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ut(902,!1);this._appRef=t;const r=Ls(this._lView),o=this._lView[Bi];null!==o&&!r&&Hp(o,this._lView),ih(this._lView)}},nf=(()=>class e{static __NG_ELEMENT_ID__=ay})();const zp=nf,Iv=class extends zp{_declarationLView;_declarationTContainer;elementRef;constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=function xa(e,t,r,o){const a=Ee(null);try{const d=t.tView,A=n(e,d,r,4096&e[ir]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);A[Bi]=e[t.index];const $=e[bo];return null!==$&&(A[bo]=$.createEmbeddedView(d)),qh(d,A,r),A}finally{Ee(a)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Dl(a)}};function ay(){return Fu(Ur(),St())}function Fu(e,t){return 4&e.type?new Iv(t,e,sl(e,t)):null}function xc(e,t,r,o,a){let d=e.data[t];if(null===d)d=function dy(e,t,r,o,a){const d=bf(),g=Vl(),A=e.data[t]=function Fw(e,t,r,o,a,d){let g=t?t.injectorIndex:-1,w=0;return function Ma(){return null!==Tr.skipHydrationRootTNode}()&&(w|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,r,t,o,a);return function Sv(e,t,r,o){null===e.firstChild&&(e.firstChild=t),null!==r&&(o?null==r.child&&null!==t.parent&&(r.child=t):null===r.next&&(r.next=t,t.prev=r))}(e,A,d,g),A}(e,t,r,o,a),function Ig(){return Tr.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=o,d.attrs=a;const g=function aa(){const e=Tr.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Xs(d,!0),d}let wC=class{},WT=class{};class IC{resolveComponentFactory(t){throw Error(`No component factory found for ${Le(t)}.`)}}let Ey=class{static NULL=new IC};class Uw{}let TC=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function bC(){const e=St(),r=Ti(Ur().index,e);return($i(r)?r:e)[j]}()})(),DC=(()=>{class e{static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>null})}return e})();function hf(e){return!!Vo(e)}const jw={};class tg{injector;parentInjector;constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=is(o);const a=this.injector.get(t,jw,o);return a!==jw||r===jw?a:this.parentInjector.get(t,r,o)}}function $w(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,d=0;if(null!==t)for(let g=0;g<t.length;g++){const w=t[g];"number"==typeof w?d=w:1==d?a=Dr(a,w):2==d&&(o=Dr(o,w+": "+t[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}function ng(e,t=xn.Default){const r=St();return null===r?Zr(e,t):Vf(Ur(),r,mn(e),t)}function KT(){throw new Error("invalid")}function Hw(e,t,r,o,a){const d=null===o?null:{"":-1},g=a(e,r);if(null!==g){let w,A=null,F=null;const $=function PC(e){let t=null,r=!1;for(let g=0;g<e.length;g++){const w=e[g];if(0===g&&Ko(w)&&(t=w),null!==w.findHostDirectiveDefs){r=!0;break}}if(!r)return null;let o=null,a=null,d=null;for(const g of e)null!==g.findHostDirectiveDefs&&(o??=[],a??=new Map,d??=new Map,MC(g,o,d,a)),g===t&&(o??=[],o.push(g));return null!==o?(o.push(...null===t?e:e.slice(1)),[o,a,d]):null}(g);null===$?w=g:[w,A,F]=$,function kC(e,t,r,o,a,d,g){const w=o.length;let A=!1;for(let Te=0;Te<w;Te++){const ce=o[Te];!A&&Ko(ce)&&(A=!0,NC(e,r,Te)),yu(mu(r,t),e,ce.type)}!function UC(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,w);for(let Te=0;Te<w;Te++){const ce=o[Te];ce.providersResolver&&ce.providersResolver(ce)}let F=!1,$=!1,Z=u(e,t,w,null);w>0&&(r.directiveToIndex=new Map);for(let Te=0;Te<w;Te++){const ce=o[Te];if(r.mergedAttrs=bc(r.mergedAttrs,ce.hostAttrs),OC(e,r,t,Z,ce),VC(Z,ce,a),null!==g&&g.has(ce)){const[Ot,dn]=g.get(ce);r.directiveToIndex.set(ce.type,[Z,Ot+r.directiveStart,dn+r.directiveStart])}else(null===d||!d.has(ce))&&r.directiveToIndex.set(ce.type,Z);null!==ce.contentQueries&&(r.flags|=4),(null!==ce.hostBindings||null!==ce.hostAttrs||0!==ce.hostVars)&&(r.flags|=64);const ze=ce.type.prototype;!F&&(ze.ngOnChanges||ze.ngOnInit||ze.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),F=!0),!$&&(ze.ngOnChanges||ze.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),$=!0),Z++}!function xC(e,t,r){for(let o=t.directiveStart;o<t.directiveEnd;o++){const a=e.data[o];if(null!==r&&r.has(a)){const d=r.get(a);QT(0,t,d,o),QT(1,t,d,o),ZT(t,o,!0)}else qT(0,t,a,o),qT(1,t,a,o),ZT(t,o,!1)}}(e,r,d)}(e,t,r,w,d,A,F)}null!==d&&null!==o&&function RC(e,t,r){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const d=r[t[a+1]];if(null==d)throw new ut(-301,!1);o.push(t[a],d)}}(r,o,d)}function MC(e,t,r,o){const a=t.length;e.findHostDirectiveDefs(e,t,o),r.set(e,[a,t.length-1])}function NC(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function qT(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const d in a)if(a.hasOwnProperty(d)){let g;g=0===e?t.inputs??={}:t.outputs??={},g[d]??=[],g[d].push(o),XT(t,d)}}function QT(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const d in a)if(a.hasOwnProperty(d)){const g=a[d];let w;w=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},w[g]??=[],w[g].push(o,d),XT(t,g)}}function XT(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function ZT(e,t,r){const{attrs:o,inputs:a,hostDirectiveInputs:d}=e;if(null===o||!r&&null===a||r&&null===d||zm(e))return e.initialInputs??=[],void e.initialInputs.push(null);let g=null,w=0;for(;w<o.length;){const A=o[w];if(0!==A)if(5!==A){if("number"==typeof A)break;if(!r&&a.hasOwnProperty(A)){const F=a[A];for(const $ of F)if($===t){g??=[],g.push(A,o[w+1]);break}}else if(r&&d.hasOwnProperty(A)){const F=d[A];for(let $=0;$<F.length;$+=2)if(F[$]===t){g??=[],g.push(F[$+1],o[w+1]);break}}w+=2}else w+=2;else w+=4}e.initialInputs??=[],e.initialInputs.push(g)}function OC(e,t,r,o,a){e.data[o]=a;const d=a.factory||(a.factory=ws(a.type)),g=new _a(d,Ko(a),ng);e.blueprint[o]=g,r[o]=g,function FC(e,t,r,o,a){const d=a.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const w=~t.index;(function LC(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(g)!=w&&g.push(w),g.push(r,o,d)}}(e,t,o,u(e,r,a.hostVars,Or),a)}function VC(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;Ko(t)&&(r[""]=e)}}function YT(e,t,r,o,a,d,g,w){const A=t.consts,$=xc(t,e,2,o,bs(A,g));return d&&Hw(t,r,$,bs(A,w),a),$.mergedAttrs=bc($.mergedAttrs,$.attrs),null!==$.attrs&&$w($,$.attrs,!1),null!==$.mergedAttrs&&$w($,$.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,$),$}function JT(e,t){rc(e,t),Fc(t)&&e.queries.elementEnd(t)}class e0 extends Ey{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=vr(t);return new Ty(r,this.ngModule)}}class Ty extends WT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function BC(e){return Object.keys(e).map(t=>{const[r,o,a]=e[t],d={propName:r,templateName:t,isSignal:!!(o&k.SignalBased)};return a&&(d.transform=a),d})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function jC(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function BT(e){return e.map(UT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!r}create(t,r,o,a){ln(22);const d=Ee(null);try{const g=this.componentDef,w=o?["ng-version","19.2.14"]:function jT(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===a?""!==d&&t.push(d,e[++o]):8===a&&r.push(d);else{if(!gc(a))break;a=d}o++}return r.length&&t.push(1,...r),t}(this.componentDef.selectors[0]),A=Gh(0,null,null,1,0,null,null,null,null,[w],null),F=function $C(e,t,r){let o=t instanceof Jr?t:t?.injector;return o&&null!==e.getStandaloneInjector&&(o=e.getStandaloneInjector(o)||o),o?new tg(r,o):r}(g,a||this.ngModule,t),$=function HC(e){const t=e.get(Uw,null);if(null===t)throw new ut(407,!1);return{rendererFactory:t,sanitizer:e.get(DC,null),changeDetectionScheduler:e.get(ms,null)}}(F),Z=$.rendererFactory.createRenderer(null,g),Te=o?function wt(e,t,r,o){const d=o.get(y_,!1)||r===Pc.ShadowDom,g=e.selectRootElement(t,d);return function Bt(e){cn(e)}(g),g}(Z,o,g.encapsulation,F):function zC(e,t){const r=(e.selectors[0][0]||"div").toLowerCase();return Km(t,r,"svg"===r?Jn:"math"===r?"math":null)}(g,Z),ce=n(null,A,null,512|s(g),null,null,$,Z,F,null,null);ce[Pn]=Te,Hl(ce);let ze=null;try{const Ot=YT(Pn,A,ce,"#host",()=>[this.componentDef],!0,0);Te&&(Tw(Z,Te,Ot),va(Te,ce)),oe(A,ce,Ot),$h(A,Ot,ce),JT(A,Ot),void 0!==r&&function GC(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const d=r[a];o.push(null!=d&&d.length?Array.from(d):null)}}(Ot,this.ngContentSelectors,r),ze=Ti(Ot.index,ce),ce[ei]=ze[ei],qh(A,ce,null)}catch(Ot){throw null!==ze&&ll(ze),ll(ce),Ot}finally{ln(23),ec()}return new WC(this.componentType,ce)}finally{Ee(d)}}}class WC extends wC{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,r){super(),this._rootLView=r,this._tNode=vi(r[Jt],Pn),this.location=sl(this._tNode,r),this.instance=Ti(this._tNode.index,r)[ei],this.hostView=this.changeDetectorRef=new Dl(r,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const a=this._rootLView;wl(o,a[Jt],a,t,r),this.previousInputValues.set(t,r),Ou(Ti(o.index,a),1)}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Zv=(()=>class e{static __NG_ELEMENT_ID__=KC})();function KC(){return r0(Ur(),St())}const qC=Zv,t0=class extends qC{_lContainer;_hostTNode;_hostLView;constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return sl(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const t=ic(this._hostTNode,this._hostLView);if(Dc(t)){const r=hu(t,this._hostLView),o=tl(t);return new Fo(r[Jt].data[o+8],r)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=n0(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-ji}createEmbeddedView(t,r,o){let a,d;"number"==typeof o?a=o:null!=o&&(a=o.index,d=o.injector);const w=t.createEmbeddedViewImpl(r||{},d,null);return this.insertImpl(w,a,Jo(this._hostTNode,null)),w}createComponent(t,r,o,a,d){const g=t&&!function Vr(e){return"function"==typeof e}(t);let w;if(g)w=r;else{const ze=r||{};w=ze.index,o=ze.injector,a=ze.projectableNodes,d=ze.environmentInjector||ze.ngModuleRef}const A=g?t:new Ty(vr(t)),F=o||this.parentInjector;if(!d&&null==A.ngModule){const Ot=(g?F:this.parentInjector).get(Jr,null);Ot&&(d=Ot)}vr(A.componentType??{});const ce=A.create(F,a,null,d);return this.insertImpl(ce.hostView,w,Jo(this._hostTNode,null)),ce}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function Hr(e){return Ri(e[ci])}(a)){const w=this.indexOf(t);if(-1!==w)this.detach(w);else{const A=a[ci],F=new t0(A,A[Wi],A[ci]);F.detach(F.indexOf(t))}}const d=this._adjustIndex(r),g=this._lContainer;return function ru(e,t,r,o=!0){const a=t[Jt];if(function wv(e,t,r,o){const a=ji+o,d=r.length;o>0&&(r[a-1][Uo]=t),o<d-ji?(t[Uo]=r[a],Qr(r,ji+o,t)):(r.push(t),t[Uo]=null),t[ci]=r;const g=t[Bi];null!==g&&r!==g&&Hp(g,t);const w=t[bo];null!==w&&w.insertView(e),ih(t),t[ir]|=128}(a,t,e,r),o){const g=jd(r,e),w=t[j],A=w.parentNode(e[7]);null!==A&&function xp(e,t,r,o,a,d){o[Wr]=a,o[Wi]=t,Yh(e,o,r,1,a,d)}(a,e[Wi],w,t,A,g)}const d=t[Go];null!==d&&null!==d.firstChild&&(d.firstChild=null)}(g,a,d,o),t.attachToViewContainerRef(),Qr(zw(g),d,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=n0(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=zd(this._lContainer,r);o&&(Is(zw(this._lContainer),r),Tl(o[Jt],o))}detach(t){const r=this._adjustIndex(t,-1),o=zd(this._lContainer,r);return o&&null!=Is(zw(this._lContainer),r)?new Dl(o):null}_adjustIndex(t,r=0){return t??this.length+r}};function n0(e){return e[8]}function zw(e){return e[8]||(e[8]=[])}function r0(e,t){let r;const o=t[e.index];return Ri(o)?r=o:(r=sy(o,t,null,e),t[e.index]=r,p(t,r)),o0(r,t,e,o),new t0(r,e,t)}let o0=function a0(e,t,r,o){if(e[7])return;let a;a=8&r.type?jn(o):function QC(e,t){const r=e[j],o=r.createComment(""),a=_i(t,e),d=r.parentNode(a);return Fd(r,d,o,r.nextSibling(a),!1),o}(t,r),e[7]=a},Ww=()=>!1;class Gw{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Gw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kw{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let d=0;d<o;d++){const g=r.getByIndex(d);a.push(this.queries[g.indexInDeclarationView].clone())}return new Kw(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==Yw(t,r).matches&&this.queries[r].setDirty()}}class c0{flags;read;predicate;constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function rS(e){return e.split(",").map(t=>t.trim())}(t):t}}class qw{queries;constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,d=this.getByIndex(o).embeddedTView(t,a);d&&(d.indexInDeclarationView=o,null!==r?r.push(d):r=[d])}return null!==r?new qw(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Qw{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,r=-1){this.metadata=t,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Qw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const d=o[a];this.matchTNodeWithReadOption(t,r,JC(r,d)),this.matchTNodeWithReadOption(t,r,Wa(r,t,d,!1,!1))}else o===nf?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Wa(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===al||a===Zv||a===nf&&4&r.type)this.addMatch(r.index,-2);else{const d=Wa(r,t,a,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function JC(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function tS(e,t,r,o){return-1===r?function eS(e,t){return 11&e.type?sl(e,t):4&e.type?Fu(e,t):null}(t,e):-2===r?function nS(e,t,r){return r===al?sl(t,e):r===nf?Fu(t,e):r===Zv?r0(t,e):void 0}(e,t,o):oc(e,e[Jt],r,t)}function u0(e,t,r,o){const a=t[bo].queries[o];if(null===a.matches){const d=e.data,g=r.matches,w=[];for(let A=0;null!==g&&A<g.length;A+=2){const F=g[A];w.push(F<0?null:tS(t,d[F],g[A+1],r.metadata.read))}a.matches=w}return a.matches}function Xw(e,t,r,o){const a=e.queries.getByIndex(r),d=a.matches;if(null!==d){const g=u0(e,t,a,r);for(let w=0;w<d.length;w+=2){const A=d[w];if(A>0)o.push(g[w/2]);else{const F=d[w+1],$=t[-A];for(let Z=ji;Z<$.length;Z++){const Te=$[Z];Te[Bi]===Te[ci]&&Xw(Te[Jt],Te,F,o)}if(null!==$[Sa]){const Z=$[Sa];for(let Te=0;Te<Z.length;Te++){const ce=Z[Te];Xw(ce[Jt],ce,F,o)}}}}}return o}function h0(e,t,r,o){const a=Er();if(a.firstCreatePass){const d=Ur();(function f0(e,t,r){null===e.queries&&(e.queries=new qw),e.queries.track(new Qw(t,r))})(a,new c0(t,r,o),d.index),function iS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return function l0(e,t,r){const o=new r_(!(4&~r));return function If(e,t,r,o){const a=Ec(t);a.push(r),e.firstCreatePass&&xl(e).push(o,a.length-1)}(e,t,o,o.destroy),(t[bo]??=new Kw).queries.push(new Gw(o))-1}(a,St(),r)}function Yw(e,t){return e.queries.getByIndex(t)}function p0(e,t){const r=e[Jt],o=Yw(r,t);return o.crossesNgTemplate?Xw(r,e,t,[]):u0(r,e,o,t)}let ff=class{},D0=class{};function pS(e,t){return new tI(e,t??null,[])}class tI extends ff{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new e0(this);constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r;const d=Vo(t);this._bootstrapComponents=nu(d.bootstrap),this._r3Injector=ed(t,r,[{provide:ff,useValue:this},{provide:Ey,useValue:this.componentFactoryResolver},...o],Le(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class nI extends D0{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new tI(this.moduleType,t,[])}}class A0 extends ff{injector;componentFactoryResolver=new e0(this);instance=null;constructor(t){super();const r=new go([...t.providers,{provide:ff,useValue:this},{provide:Ey,useValue:this.componentFactoryResolver}],t.parent||To(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rI(e,t,r=null){return new A0({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let mS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Gt(0,r.type),a=o.length>0?rI([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Oe({token:e,providedIn:"environment",factory:()=>new e(Zr(Jr))})}return e})();function C0(e){return br(()=>{const t=P0(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?a=>a.get(mS).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Pc.Emulated,styles:e.styles||_r,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&wa("NgStandalone"),M0(r);const o=e.dependencies;return r.directiveDefs=Yv(o,!1),r.pipeDefs=Yv(o,!0),r.id=function IS(e){let t=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const d of o.join("|"))t=Math.imul(31,t)+d.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function yS(e){return vr(e)||W(e)}function _S(e){return null!==e}function iI(e){return br(()=>({type:e.type,bootstrap:e.bootstrap||_r,declarations:e.declarations||_r,imports:e.imports||_r,exports:e.exports||_r,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function vS(e,t){if(null==e)return xr;const r={};for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];let d,g,w,A;Array.isArray(a)?(w=a[0],d=a[1],g=a[2]??d,A=a[3]||null):(d=a,g=a,w=k.None,A=null),r[d]=[o,w,A],t[d]=g}return r}function ES(e){if(null==e)return xr;const t={};for(const r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function S0(e){return br(()=>{const t=P0(e);return M0(t),t})}function R0(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function P0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||xr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||_r,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vS(e.inputs,t),outputs:ES(e.outputs),debugInfo:null}}function M0(e){e.features?.forEach(t=>t(e))}function Yv(e,t){if(!e)return null;const r=t?z:yS;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(_S)}function oI(e){let t=function N0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(Ko(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ut(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const g=e;g.inputs=sI(e.inputs),g.declaredInputs=sI(e.declaredInputs),g.outputs=sI(e.outputs);const w=a.hostBindings;w&&CS(e,w);const A=a.viewQuery,F=a.contentQueries;if(A&&DS(e,A),F&&AS(e,F),TS(e,a),Xi(e.outputs,a.outputs),Ko(a)&&a.data.animation){const $=e.data;$.animation=($.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let g=0;g<d.length;g++){const w=d[g];w&&w.ngInherit&&w(e),w===oI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function bS(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=bc(a.hostAttrs,r=bc(r,a.hostAttrs))}}(o)}function TS(e,t){for(const r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=t.inputs[r];void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=t.declaredInputs[r])}}function sI(e){return e===xr?{}:e===_r?[]:e}function DS(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function AS(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,d)=>{t(o,a,d),r(o,a,d)}:t}function CS(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function Jv(e){return!!cI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function cI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function $u(e,t,r){return e[t]=r}function _s(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function pf(e,t,r,o){const a=_s(e,t,r);return _s(e,t+1,o)||a}function Ay(e,t,r,o,a,d,g,w,A,F){const $=r+Pn,Z=t.firstCreatePass?function FS(e,t,r,o,a,d,g,w,A){const F=t.consts,$=xc(t,e,4,g||null,w||null);Tf()&&Hw(t,r,$,bs(F,A),ot),$.mergedAttrs=bc($.mergedAttrs,$.attrs),rc(t,$);const Z=$.tView=Gh(2,$,o,a,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,F,null);return null!==t.queries&&(t.queries.template(t,$),Z.queries=t.queries.embeddedTView($)),$}($,t,e,o,a,d,g,w,A):t.data[$];Xs(Z,!1);const Te=L0(t,e,Z,r);nc()&&Bd(t,e,Te,Z),va(Te,e);const ce=sy(Te,e,Te,Z);return e[$]=ce,p(e,ce),function s0(e,t,r){return Ww(e,t,r)}(ce,Z,e),Za(Z)&&oe(t,e,Z),null!=A&&ke(e,Z,F),Z}function uI(e,t,r,o,a,d,g,w){const A=St(),F=Er();return Ay(A,F,e,t,r,o,a,bs(F.consts,d),g,w),uI}let L0=function V0(e,t,r,o){return Ha(!0),t[j].createComment("")};let hI=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Z0=new ve(""),Y0=new ve("");let mI,xR=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(r,o,a){this._ngZone=r,this.registry=o,ai()&&(this._destroyRef=_n(Us,{optional:!0})??void 0),mI||(function OR(e){mI=e}(a),a.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const r=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),o=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{yo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{r.unsubscribe(),o.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,a){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),r()},o)),this._callbacks.push({doneCb:r,timeoutId:d,updateCb:a})}whenStable(r,o,a){if(a&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,a),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,a){return[]}static \u0275fac=function(o){return new(o||e)(Zr(yo),Zr(J0),Zr(Y0))};static \u0275prov=Oe({token:e,factory:e.\u0275fac})}return e})(),J0=(()=>{class e{_applications=new Map;registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return mI?.findTestabilityInTree(this,r,o)??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),eb=(()=>{class e{static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new FR})}return e})();class FR{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){const o=this.queues.get(t.zone);o.has(t)&&(o.delete(t),this.queuedEffectCount--)}enqueue(t){const r=t.zone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,r]of this.queues)null===t?this.flushQueue(r):t.run(()=>this.flushQueue(r))}flushQueue(t){for(const r of t)t.delete(r),this.queuedEffectCount--,r.run()}}function yI(e){return!!e&&"function"==typeof e.then}function tb(e){return!!e&&"function"==typeof e.subscribe}const nb=new ve("");function LR(e){return Se([{provide:nb,multi:!0,useValue:e}])}let rb=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o});appInits=_n(nb,{optional:!0})??[];injector=_n(gs);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const d=Os(this.injector,a);if(yI(d))r.push(d);else if(tb(d)){const g=new Promise((w,A)=>{d.subscribe({complete:w,error:A})});r.push(g)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(a=>{this.reject(a)}),0===r.length&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Sy=new ve("");let mc=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_n(SE);afterRenderManager=_n(Sh);zonelessEnabled=_n(qc);rootEffectScheduler=_n(eb);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new hn.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=_n(Qc).hasPendingTasks.pipe((0,on.T)(r=>!r));constructor(){_n(ld,{optional:!0})}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:a=>{a&&o()}})}).finally(()=>{r.unsubscribe()})}_injector=_n(Jr);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,o){return this.bootstrapImpl(r,o)}bootstrapImpl(r,o,a=gs.NULL){ln(10);const d=r instanceof WT;if(!this._injector.get(rb).done)throw new ut(405,"");let w;w=d?r:this._injector.get(Ey).resolveComponentFactory(r),this.componentTypes.push(w.componentType);const A=function VR(e){return e.isBoundToModule}(w)?void 0:this._injector.get(ff),$=w.create(a,[],o||w.selector,A),Z=$.location.nativeElement,Te=$.injector.get(Z0,null);return Te?.registerApplication(Z),$.onDestroy(()=>{this.detachView($.hostView),iE(this.components,$),Te?.unregisterApplication(Z)}),this._loadComponent($),ln(11,$),$}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ln(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(sm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ut(101,!1);const r=Ee(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ee(r),this.afterTick.next(),ln(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Uw,null,{optional:!0}));let r=0;for(;0!==this.dirtyFlags&&r++<10;)ln(14),this.synchronizeOnce(),ln(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:a}of this.allViews)BR(o,a,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>uu(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;iE(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Sy,[]).forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>iE(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ut(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function BR(e,t,r,o){(r||uu(e))&&ku(e,t,r&&!o?0:1)}function II(e,t,r,o){const a=St();return _s(a,Zs(),t)&&(Er(),ct(Mi(),a,e,t,r,o)),II}function ag(e,t,r,o){return _s(e,Zs(),r)?t+Re(r)+o:Or}function cg(e,t,r,o,a,d){const w=pf(e,function ma(){return Tr.lFrame.bindingIndex}(),r,a);return ya(2),w?t+Re(r)+o+Re(a)+d:Or}function oE(e,t){return e<<17|t<<2}function mf(e){return e>>17&32767}function TI(e){return 2|e}function gg(e){return(131068&e)>>2}function bI(e,t){return-131069&e|t<<2}function DI(e){return 1|e}function Tb(e,t,r,o){const a=e[r+1],d=null===t;let g=o?mf(a):gg(a),w=!1;for(;0!==g&&(!1===w||d);){const F=e[g+1];AP(e[g],t)&&(w=!0,e[g+1]=o?DI(F):TI(F)),g=o?mf(F):gg(F)}w&&(e[r+1]=o?TI(a):DI(a))}function AP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Hs(e,t)>=0}const $s={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bb(e){return e.substring($s.key,$s.keyEnd)}function Db(e,t){const r=$s.textEnd;return r===t?-1:(t=$s.keyEnd=function PP(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,$s.key=t,r),mg(e,t,r))}function mg(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function AI(e,t,r){const o=St();return _s(o,Zs(),t)&&Mn(Er(),Mi(),o,e,t,o[j],r,!1),AI}function CI(e,t,r,o,a){wl(t,e,r,a?"class":"style",o)}function SI(e,t,r){return su(e,t,r,!1),SI}function RI(e,t){return su(e,t,null,!0),RI}function Pb(e){au(UP,zu,e,!0)}function zu(e,t){for(let r=function SP(e){return function Cb(e){$s.key=0,$s.keyEnd=0,$s.value=0,$s.valueEnd=0,$s.textEnd=e.length}(e),Db(e,mg(e,0,$s.textEnd))}(t);r>=0;r=Db(t,r))Io(e,bb(t),!0)}function su(e,t,r,o){const a=St(),d=Er(),g=ya(2);d.firstUpdatePass&&Nb(d,e,g,o),t!==Or&&_s(a,g,t)&&xb(d,d.data[As()],a,a[j],e,a[g+1]=function jP(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Le(tu(e)))),e}(t,r),o,g)}function au(e,t,r,o){const a=Er(),d=ya(2);a.firstUpdatePass&&Nb(a,null,d,o);const g=St();if(r!==Or&&_s(g,d,r)){const w=a.data[As()];if(Fb(w,o)&&!Mb(a,d)){let A=o?w.classesWithoutHost:w.stylesWithoutHost;null!==A&&(r=Dr(A,r||"")),CI(a,w,g,r,o)}else!function BP(e,t,r,o,a,d,g,w){a===Or&&(a=_r);let A=0,F=0,$=0<a.length?a[0]:null,Z=0<d.length?d[0]:null;for(;null!==$||null!==Z;){const Te=A<a.length?a[A+1]:void 0,ce=F<d.length?d[F+1]:void 0;let Ot,ze=null;$===Z?(A+=2,F+=2,Te!==ce&&(ze=Z,Ot=ce)):null===Z||null!==$&&$<Z?(A+=2,ze=$):(F+=2,ze=Z,Ot=ce),null!==ze&&xb(e,t,r,o,ze,Ot,g,w),$=A<a.length?a[A]:null,Z=F<d.length?d[F]:null}}(a,w,g,g[j],g[d+1],g[d+1]=function VP(e,t,r){if(null==r||""===r)return _r;const o=[],a=tu(r);if(Array.isArray(a))for(let d=0;d<a.length;d++)e(o,a[d],!0);else if("object"==typeof a)for(const d in a)a.hasOwnProperty(d)&&e(o,d,a[d]);else"string"==typeof a&&t(o,a);return o}(e,t,r),o,d)}}function Mb(e,t){return t>=e.expandoStartIndex}function Nb(e,t,r,o){const a=e.data;if(null===a[r+1]){const d=a[As()],g=Mb(e,r);Fb(d,o)&&null===t&&!g&&(t=!1),t=function xP(e,t,r,o){const a=du(e);let d=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=Py(r=PI(null,e,t,r,o),t.attrs,o),d=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==a)if(r=PI(a,e,t,r,o),null===d){let A=function OP(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==gg(o))return e[mf(o)]}(e,t,o);void 0!==A&&Array.isArray(A)&&(A=PI(null,e,t,A[1],o),A=Py(A,t.attrs,o),function FP(e,t,r,o){e[mf(r?t.classBindings:t.styleBindings)]=o}(e,t,o,A))}else d=function LP(e,t,r){let o;const a=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<a;d++)o=Py(o,e[d].hostAttrs,r);return Py(o,t.attrs,r)}(e,t,o)}return void 0!==d&&(o?t.residualClasses=d:t.residualStyles=d),r}(a,d,t,o),function bP(e,t,r,o,a,d){let g=d?t.classBindings:t.styleBindings,w=mf(g),A=gg(g);e[o]=r;let $,F=!1;if(Array.isArray(r)?($=r[1],(null===$||Hs(r,$)>0)&&(F=!0)):$=r,a)if(0!==A){const Te=mf(e[w+1]);e[o+1]=oE(Te,w),0!==Te&&(e[Te+1]=bI(e[Te+1],o)),e[w+1]=function IP(e,t){return 131071&e|t<<17}(e[w+1],o)}else e[o+1]=oE(w,0),0!==w&&(e[w+1]=bI(e[w+1],o)),w=o;else e[o+1]=oE(A,0),0===w?w=o:e[A+1]=bI(e[A+1],o),A=o;F&&(e[o+1]=TI(e[o+1])),Tb(e,$,o,!0),Tb(e,$,o,!1),function DP(e,t,r,o,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&Hs(d,t)>=0&&(r[o+1]=DI(r[o+1]))}(t,$,e,o,d),g=oE(w,A),d?t.classBindings=g:t.styleBindings=g}(a,d,t,r,g,o)}}function PI(e,t,r,o,a){let d=null;const g=r.directiveEnd;let w=r.directiveStylingLast;for(-1===w?w=r.directiveStart:w++;w<g&&(d=t[w],o=Py(o,d.hostAttrs,a),d!==e);)w++;return null!==e&&(r.directiveStylingLast=w),o}function Py(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let d=0;d<t.length;d++){const g=t[d];"number"==typeof g?a=g:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Io(e,g,!!r||t[++d]))}return void 0===e?null:e}function UP(e,t,r){const o=String(t);""!==o&&!o.includes(" ")&&Io(e,o,r)}function xb(e,t,r,o,a,d,g,w){if(!(3&t.type))return;const A=e.data,F=A[w+1],$=function TP(e){return!(1&~e)}(F)?Ob(A,t,r,a,gg(F),g):void 0;sE($)||(sE(d)||function wP(e){return!(2&~e)}(F)&&(d=Ob(A,null,r,a,w,g)),function fv(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let d=-1===o.indexOf("-")?void 0:Pu.DashCase;null==a?e.removeStyle(r,o,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=Pu.Important),e.setStyle(r,o,a,d))}}(o,g,cs(As(),r),a,d))}function Ob(e,t,r,o,a,d){const g=null===t;let w;for(;a>0;){const A=e[a],F=Array.isArray(A),$=F?A[1]:A,Z=null===$;let Te=r[a+1];Te===Or&&(Te=Z?_r:void 0);let ce=Z?Vi(Te,o):$===o?Te:void 0;if(F&&!sE(ce)&&(ce=Vi(A,o)),sE(ce)&&(w=ce,g))return w;const ze=e[a+1];a=g?mf(ze):gg(ze)}if(null!==t){let A=d?t.residualClasses:t.residualStyles;null!=A&&(w=Vi(A,o))}return w}function sE(e){return void 0!==e}function Fb(e,t){return!!(e.flags&(t?8:16))}function Lb(e,t,r){au(Io,zu,ag(St(),e,t,r),!0)}function Vb(e,t,r,o,a){au(Io,zu,cg(St(),e,t,r,o,a),!0)}function cE(e,t,r,o){const a=St(),d=Er(),g=Pn+e,w=a[j],A=d.firstCreatePass?YT(g,d,a,t,ot,Tf(),r,o):d.data[g],F=$b(d,a,A,w,t,e);a[g]=F;const $=Za(A);return Xs(A,!0),Tw(w,F,A),!Mu(A)&&nc()&&Bd(d,a,F,A),(0===function Hy(){return Tr.lFrame.elementDepthCount}()||$)&&va(F,a),function Eg(){Tr.lFrame.elementDepthCount++}(),$&&(oe(d,a,A),$h(d,A,a)),null!==o&&ke(a,A),cE}function uE(){let e=Ur();Vl()?Ul():(e=e.parent,Xs(e,!1));const t=e;(function Ku(e){return Tr.skipHydrationRootTNode===e})(t)&&function qu(){Tr.skipHydrationRootTNode=null}(),function oh(){Tr.lFrame.elementDepthCount--}();const r=Er();return r.firstCreatePass&&JT(r,t),null!=t.classesWithoutHost&&function el(e){return!!(8&e.flags)}(t)&&CI(r,t,St(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function kf(e){return!!(16&e.flags)}(t)&&CI(r,t,St(),t.stylesWithoutHost,!1),uE}function xI(e,t,r,o){return cE(e,t,r,o),uE(),xI}let $b=(e,t,r,o,a,d)=>(Ha(!0),Km(o,a,function Gl(){return Tr.lFrame.currentNamespace}()));function lE(e,t,r){const o=St(),a=Er(),d=e+Pn,g=a.firstCreatePass?function l1(e,t,r,o,a){const d=t.consts,g=bs(d,o),w=xc(t,e,8,"ng-container",g);null!==g&&$w(w,g,!0);const A=bs(d,a);return Tf()&&Hw(t,r,w,A,ot),w.mergedAttrs=bc(w.mergedAttrs,w.attrs),null!==t.queries&&t.queries.elementStart(t,w),w}(d,a,o,t,r):a.data[d];Xs(g,!0);const w=zb(a,o,g,e);return o[d]=w,nc()&&Bd(a,o,w,g),va(w,o),Za(g)&&(oe(a,o,g),$h(a,g,o)),null!=r&&ke(o,g),lE}function dE(){let e=Ur();const t=Er();return Vl()?Ul():(e=e.parent,Xs(e,!1)),t.firstCreatePass&&(rc(t,e),Fc(e)&&t.queries.elementEnd(e)),dE}let zb=(e,t,r,o)=>(Ha(!0),Gm(t[j],""));function Wb(){return St()}function OI(e,t,r){const o=St();if(_s(o,Zs(),t)){const d=Er(),g=Mi();Mn(d,g,o,e,t,Vd(du(d.data),g,o),r,!0)}return OI}const yf=void 0;var p1=["en",[["a","p"],["AM","PM"],yf],[["AM","PM"],yf,yf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yf,"{1} 'at' {0}",yf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function f1(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let yg={};function FI(e){const t=function g1(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=qb(t);if(r)return r;const o=t.split("-")[0];if(r=qb(o),r)return r;if("en"===o)return p1;throw new ut(701,!1)}function Kb(e){return FI(e)[_g.PluralCase]}function qb(e){return e in yg||(yg[e]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[e]),yg[e]}var _g=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(_g||{});const hE="en-US";let Qb=hE;function fD(e,t,r){return function o(a){if(a===Function)return r;Ou(eo(e)?Ti(e.index,t):t,5);const g=t[ei];let w=pD(t,g,r,a),A=o.__ngNextListenerFn__;for(;A;)w=pD(t,g,A,a)&&w,A=A.__ngNextListenerFn__;return w}}function pD(e,t,r,o){const a=Ee(null);try{return ln(6,t,r),!1!==r(o)}catch(d){return function rM(e,t){const r=e[P],o=r?r.get(uc,null):null;o&&o.handleError(t)}(e,d),!1}finally{ln(7,t,r),Ee(a)}}function gD(e,t,r,o,a,d){const w=t[Jt],$=t[r][w.data[r].outputs[o]],Z=w.firstCreatePass?xl(w):null,Te=Ec(t),ce=$.subscribe(d),ze=Te.length;Te.push(d,ce),Z&&Z.push(a,e.index,ze,-(ze+1))}function UI(e,t,r,o){const a=St(),d=Er(),g=Ur();return BI(d,a,a[j],g,e,t,o),UI}function BI(e,t,r,o,a,d,g){const w=Za(o),F=e.firstCreatePass?xl(e):null,$=Ec(t);let Z=!0;if(3&o.type||g){const Te=_i(o,t),ce=g?g(Te):Te,ze=$.length,Ot=g?gn=>g(jn(gn[o.index])):o.index;let dn=null;if(!g&&w&&(dn=function iM(e,t,r,o){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const g=a[d];if(g===r&&a[d+1]===o){const w=t[Qo],A=a[d+2];return w.length>A?w[A]:null}"string"==typeof g&&(d+=2)}return null}(e,t,a,o.index)),null!==dn)(dn.__ngLastListenerFn__||dn).__ngNextListenerFn__=d,dn.__ngLastListenerFn__=d,Z=!1;else{!function wm(e,t,r,o){Fh(e,t,r,o)}(t,ce,a,d=fD(o,t,d));const gn=r.listen(ce,a,d);$.push(d,gn),F&&F.push(a,Ot,ze,ze+1)}}else d=fD(o,t,d);if(Z){const Te=o.outputs?.[a],ce=o.hostDirectiveOutputs?.[a];if(ce&&ce.length)for(let ze=0;ze<ce.length;ze+=2)gD(o,t,ce[ze],ce[ze+1],a,d);if(Te&&Te.length)for(const ze of Te)gD(o,t,ze,a,a,d)}}function yD(e=1){return function jc(e){return(Tr.lFrame.contextLView=function wf(e,t){for(;e>0;)t=t[An],e--;return t}(e,Tr.lFrame.contextLView))[ei]}(e)}function CD(e,t,r,o){h0(e,t,r,o)}function SD(e){const t=St(),r=Er(),o=Qu();jl(o+1);const a=Yw(r,o);if(e.dirty&&function Pa(e){return!(4&~e[ir])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const d=p0(t,o);e.reset(d,lc),e.notifyOnChanges()}return!0}return!1}function RD(){return function Zw(e,t){return e[bo].queries[t].queryList}(St(),Qu())}function PD(e){return Ps(function Df(){return Tr.lFrame.contextLView}(),Pn+e)}function BD(e,t=""){const r=St(),o=Er(),a=e+Pn,d=o.firstCreatePass?xc(o,a,1,t,null):o.data[a],g=jD(o,r,d,t,e);r[a]=g,nc()&&Bd(o,r,g,d),Xs(d,!1)}let jD=(e,t,r,o,a)=>(Ha(!0),function uv(e,t){return e.createText(t)}(t[j],o));function $I(e){return mE("",e,""),$I}function mE(e,t,r){const o=St(),a=ag(o,e,t,r);return a!==Or&&Nl(o,As(),a),mE}function HI(e,t,r,o,a){const d=St(),g=cg(d,e,t,r,o,a);return g!==Or&&Nl(d,As(),g),HI}function Nl(e,t,r){const o=cs(t,e);!function Wm(e,t,r){e.setValue(t,r)}(e[j],o,r)}function zI(e,t,r){qf(t)&&(t=t());const o=St();return _s(o,Zs(),t)&&Mn(Er(),Mi(),o,e,t,o[j],r,!1),zI}function QD(e,t){const r=qf(e);return r&&e.set(t),r}function WI(e,t){const r=St(),o=Er(),a=Ur();return BI(o,r,r[j],a,e,t),WI}function GI(e,t,r,o,a){if(e=mn(e),Array.isArray(e))for(let d=0;d<e.length;d++)GI(e[d],t,r,o,a);else{const d=Er(),g=St(),w=Ur();let A=Ci(e)?e:mn(e.provide);const F=ba(e),$=1048575&w.providerIndexes,Z=w.directiveStart,Te=w.providerIndexes>>20;if(Ci(e)||!e.multi){const ce=new _a(F,a,ng),ze=qI(A,t,a?$:$+Te,Z);-1===ze?(yu(mu(w,g),d,A),KI(d,e,t.length),t.push(A),w.directiveStart++,w.directiveEnd++,a&&(w.providerIndexes+=1048576),r.push(ce),g.push(ce)):(r[ze]=ce,g[ze]=ce)}else{const ce=qI(A,t,$+Te,Z),ze=qI(A,t,$,$+Te),dn=ze>=0&&r[ze];if(a&&!dn||!a&&!(ce>=0&&r[ce])){yu(mu(w,g),d,A);const gn=function PM(e,t,r,o,a){const d=new _a(e,r,ng);return d.multi=[],d.index=t,d.componentProviders=0,YD(d,a,o&&!r),d}(a?RM:SM,r.length,a,o,F);!a&&dn&&(r[ze].providerFactory=gn),KI(d,e,t.length,0),t.push(A),w.directiveStart++,w.directiveEnd++,a&&(w.providerIndexes+=1048576),r.push(gn),g.push(gn)}else KI(d,e,ce>-1?ce:ze,YD(r[a?ze:ce],F,!a&&o));!a&&o&&dn&&r[ze].componentProviders++}}}function KI(e,t,r,o){const a=Ci(t),d=function Yr(e){return!!e.useClass}(t);if(a||d){const A=(d?mn(t.useClass):t).prototype.ngOnDestroy;if(A){const F=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const $=F.indexOf(r);-1===$?F.push(r,[o,A]):F[$+1].push(o,A)}else F.push(r,A)}}}function YD(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function qI(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function SM(e,t,r,o,a){return QI(this.multi,[])}function RM(e,t,r,o,a){const d=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,A=oc(o,o[Jt],this.providerFactory.index,a);g=A.slice(0,w),QI(d,g);for(let F=w;F<A.length;F++)g.push(A[F])}else g=[],QI(d,g);return g}function QI(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function JD(e,t=[]){return r=>{r.providersResolver=(o,a)=>function CM(e,t,r){const o=Er();if(o.firstCreatePass){const a=Ko(e);GI(r,o.data,o.blueprint,a,!0),GI(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}function tA(e,t,r){const o=Ds()+e,a=St();return a[o]===Or?$u(a,o,r?t.call(r):t()):function Dy(e,t){return e[t]}(a,o)}function nA(e,t,r,o){return function sA(e,t,r,o,a,d){const g=t+r;return _s(e,g,a)?$u(e,g+1,d?o.call(d,a):o(a)):Fy(e,g+1)}(St(),Ds(),e,t,r,o)}function rA(e,t,r,o,a){return aA(St(),Ds(),e,t,r,o,a)}function iA(e,t,r,o,a,d){return function cA(e,t,r,o,a,d,g,w){const A=t+r;return function eE(e,t,r,o,a){const d=pf(e,t,r,o);return _s(e,t+2,a)||d}(e,A,a,d,g)?$u(e,A+3,w?o.call(w,a,d,g):o(a,d,g)):Fy(e,A+3)}(St(),Ds(),e,t,r,o,a,d)}function oA(e,t,r,o,a,d,g){return function uA(e,t,r,o,a,d,g,w,A){const F=t+r;return function Oc(e,t,r,o,a,d){const g=pf(e,t,r,o);return pf(e,t+2,a,d)||g}(e,F,a,d,g,w)?$u(e,F+4,A?o.call(A,a,d,g,w):o(a,d,g,w)):Fy(e,F+4)}(St(),Ds(),e,t,r,o,a,d,g)}function Fy(e,t){const r=e[t];return r===Or?void 0:r}function aA(e,t,r,o,a,d,g){const w=t+r;return pf(e,w,a,d)?$u(e,w+2,g?o.call(g,a,d):o(a,d)):Fy(e,w+2)}function dA(e,t){const r=Er();let o;const a=e+Pn;r.firstCreatePass?(o=function UM(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}}(t,r.pipeRegistry),r.data[a]=o,o.onDestroy&&(r.destroyHooks??=[]).push(a,o.onDestroy)):o=r.data[a];const d=o.factory||(o.factory=ws(o.type)),w=hi(ng);try{const A=Xl(!1),F=d();return Xl(A),function Ua(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,St(),a,F),F}finally{hi(w)}}function hA(e,t,r,o){const a=e+Pn,d=St(),g=Ps(d,a);return function Ly(e,t){return e[Jt].data[t].pure}(d,a)?aA(d,Ds(),t,g.transform,r,o,g):g.transform(r,o)}function fA(e,t){return Fu(e,t)}class MA{full;major;minor;patch;constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const yN=new MA("19.2.14");class _N{ngModuleFactory;componentFactories;constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let vN=(()=>{class e{compileModuleSync(r){return new nI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),d=nu(Vo(r).declarations).reduce((g,w)=>{const A=vr(w);return A&&g.push(new Ty(A)),g},[]);return new _N(o,d)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IN=(()=>{class e{zone=_n(yo);changeDetectionScheduler=_n(ms);applicationRef=_n(mc);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new yo({...tT(),scheduleInRootZone:r}),[{provide:yo,useFactory:e},{provide:Ji,multi:!0,useFactory:()=>{const o=_n(IN,{optional:!0});return()=>o.initialize()}},{provide:Ji,multi:!0,useFactory:()=>{const o=_n(bN);return()=>{o.initialize()}}},!0===t?{provide:Bf,useValue:!0}:[],{provide:jf,useValue:r??_u}]}function tT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let bN=(()=>{class e{subscription=new hr.yU;initialized=!1;zone=_n(yo);pendingTasks=_n(Qc);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{yo.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{yo.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uy=(()=>{class e{appRef=_n(mc);taskService=_n(Qc);ngZone=_n(yo);zonelessEnabled=_n(qc);tracing=_n(ld,{optional:!0});disableScheduling=_n(Bf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new hr.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_n(jf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vu||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let o=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,o=!0;break;case 12:this.appRef.dirtyFlags|=16,o=!0;break;case 11:o=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;const a=this.useMicrotaskScheduler?Cg:Ky;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const rT=new ve("",{providedIn:"root",factory:()=>_n(rT,xn.Optional|xn.SkipSelf)||function DN(){return typeof $localize<"u"&&$localize.locale||hE}()}),AN=new ve("",{providedIn:"root",factory:()=>"USD"}),EE=new ve(""),MN=new ve("");function By(e){return!e.moduleRef}let rh=null;function LN(){return!1}let $A=(()=>class e{static __NG_ELEMENT_ID__=VN})();function VN(e){return function UN(e,t,r){if(eo(e)&&!r){const o=Ti(e.index,t);return new Dl(o,o)}return 175&e.type?new Dl(t[ur],t):null}(Ur(),St(),!(16&~e))}class GA{constructor(){}supports(t){return Jv(t)}create(t){return new zN(t)}}const HN=(e,t)=>t;class zN{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||HN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,d=null;for(;r||o;){const g=!o||r&&r.currentIndex<qA(o,a,d)?r:o,w=qA(g,a,d),A=g.currentIndex;if(g===o)a--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)a++;else{d||(d=[]);const F=w-a,$=A-a;if(F!=$){for(let Te=0;Te<F;Te++){const ce=Te<d.length?d[Te]:d[Te]=0,ze=ce+Te;$<=ze&&ze<F&&(d[Te]=ce+1)}d[g.previousIndex]=$-F}}w!==A&&t(g,w,A)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Jv(t))throw new ut(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,d,g,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let w=0;w<this.length;w++)d=t[w],g=this._trackByFn(w,d),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,d,g,w)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,g,w),o=!0),r=r._next}else a=0,function xS(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,w=>{g=this._trackByFn(a,w),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,w,g,a)),Object.is(r.item,w)||this._addIdentityChange(r,w)):(r=this._mismatch(r,w,g,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,d,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,d,a)):t=this._addAfter(new WN(r,o),d,a),t}_verifyReinsertion(t,r,o,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?t=this._reinsertAfter(d,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,d=t._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new KA),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class WN{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,r){this.item=t,this.trackById=r}}class GN{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class KA{map=new Map;put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new GN,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qA(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class QA{constructor(){}supports(t){return t instanceof Map||cI(t)}create(){return new KN}}class KN{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||cI(t)))throw new ut(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const d=a._prev,g=a._next;return d&&(d._next=g),g&&(g._prev=d),a._next=null,a._prev=null,a}const o=new qN(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class qN{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function XA(){return new cT([new GA])}let cT=(()=>{class e{factories;static \u0275prov=Oe({token:e,providedIn:"root",factory:XA});constructor(r){this.factories=r}static create(r,o){if(null!=o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||XA()),deps:[[e,new po,new kr]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(null!=o)return o;throw new ut(901,!1)}}return e})();function ZA(){return new uT([new QA])}let uT=(()=>{class e{static \u0275prov=Oe({token:e,providedIn:"root",factory:ZA});factories;constructor(r){this.factories=r}static create(r,o){if(o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||ZA()),deps:[[e,new po,new kr]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(o)return o;throw new ut(901,!1)}}return e})();function ZN(e){ln(8);try{const{rootComponent:t,appProviders:r,platformProviders:o}=e,a=function FN(e=[]){if(rh)return rh;const t=function UA(e=[],t){return gs.create({name:t,providers:[{provide:ki,useValue:"platform"},{provide:EE,useValue:new Set([()=>rh=null])},...e]})}(e);return rh=t,function ib(){!function We(e){en=e}(()=>{throw new ut(600,!1)})}(),function BA(e){const t=e.get(Kg,null);Os(e,()=>{t?.forEach(r=>r())})}(t),t}(o),d=[eT({}),{provide:ms,useExisting:Uy},...r||[]];return function FA(e){const t=By(e)?e.r3Injector:e.moduleRef.injector,r=t.get(yo);return r.run(()=>{By(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(uc,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:d=>{o.handleError(d)}})}),By(e)){const d=()=>t.destroy(),g=e.platformInjector.get(EE);g.add(d),t.onDestroy(()=>{a.unsubscribe(),g.delete(d)})}else{const d=()=>e.moduleRef.destroy(),g=e.platformInjector.get(EE);g.add(d),e.moduleRef.onDestroy(()=>{iE(e.allPlatformModules,e.moduleRef),a.unsubscribe(),g.delete(d)})}return function kN(e,t,r){try{const o=r();return yI(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const d=t.get(rb);return d.runInitializers(),d.donePromise.then(()=>{if(function v1(e){"string"==typeof e&&(Qb=e.toLowerCase().replace(/_/g,"-"))}(t.get(rT,hE)||hE),!t.get(MN,!0))return By(e)?t.get(mc):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(By(e)){const A=t.get(mc);return void 0!==e.rootComponent&&A.bootstrap(e.rootComponent),A}return function NN(e,t){const r=e.injector.get(mc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new ut(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new A0({providers:d,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:a,rootComponent:t})}catch(t){return Promise.reject(t)}finally{ln(9)}}function vk(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function cu(e){return function Hn(e){const t=Ee(null);try{return e()}finally{Ee(t)}}(e)}function $y(e,t){return function Ln(e,t){const r=Object.create(vn);r.computation=e,void 0!==t&&(r.equal=t);const o=()=>{if(at(r),et(r),r.value===dt)throw r.error;return r.value};return o[Qe]=r,o}(e,t?.equal)}function Bk(e){const t=vr(e);if(!t)return null;const r=new Ty(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1362:(En,je,U)=>{"use strict";U.d(je,{h1:()=>fe,uA:()=>q});var b=U(467),x=U(6858);class q{constructor(me,pe,et){this.name=me,this.instanceFactory=pe,this.type=et,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(me){return this.instantiationMode=me,this}setMultipleInstances(me){return this.multipleInstances=me,this}setServiceProps(me){return this.serviceProps=me,this}setInstanceCreatedCallback(me){return this.onInstanceCreated=me,this}}const I="[DEFAULT]";class Ce{constructor(me,pe){this.name=me,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(me){const pe=this.normalizeInstanceIdentifier(me);if(!this.instancesDeferred.has(pe)){const et=new x.cY;if(this.instancesDeferred.set(pe,et),this.isInitialized(pe)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:pe});He&&et.resolve(He)}catch{}}return this.instancesDeferred.get(pe).promise}getImmediate(me){var pe;const et=this.normalizeInstanceIdentifier(me?.identifier),He=null!==(pe=me?.optional)&&void 0!==pe&&pe;if(!this.isInitialized(et)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:et})}catch(at){if(He)return null;throw at}}getComponent(){return this.component}setComponent(me){if(me.name!==this.name)throw Error(`Mismatching Component ${me.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=me,this.shouldAutoInitialize()){if(function Ee(xe){return"EAGER"===xe.instantiationMode}(me))try{this.getOrInitializeService({instanceIdentifier:I})}catch{}for(const[pe,et]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(pe);try{const at=this.getOrInitializeService({instanceIdentifier:He});et.resolve(at)}catch{}}}}clearInstance(me=I){this.instancesDeferred.delete(me),this.instancesOptions.delete(me),this.instances.delete(me)}delete(){var me=this;return(0,b.A)(function*(){const pe=Array.from(me.instances.values());yield Promise.all([...pe.filter(et=>"INTERNAL"in et).map(et=>et.INTERNAL.delete()),...pe.filter(et=>"_delete"in et).map(et=>et._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(me=I){return this.instances.has(me)}getOptions(me=I){return this.instancesOptions.get(me)||{}}initialize(me={}){const{options:pe={}}=me,et=this.normalizeInstanceIdentifier(me.instanceIdentifier);if(this.isInitialized(et))throw Error(`${this.name}(${et}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:et,options:pe});for(const[at,At]of this.instancesDeferred.entries())et===this.normalizeInstanceIdentifier(at)&&At.resolve(He);return He}onInit(me,pe){var et;const He=this.normalizeInstanceIdentifier(pe),at=null!==(et=this.onInitCallbacks.get(He))&&void 0!==et?et:new Set;at.add(me),this.onInitCallbacks.set(He,at);const At=this.instances.get(He);return At&&me(At,He),()=>{at.delete(me)}}invokeOnInitCallbacks(me,pe){const et=this.onInitCallbacks.get(pe);if(et)for(const He of et)try{He(me,pe)}catch{}}getOrInitializeService({instanceIdentifier:me,options:pe={}}){let et=this.instances.get(me);if(!et&&this.component&&(et=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=me,xe===I?void 0:xe),options:pe}),this.instances.set(me,et),this.instancesOptions.set(me,pe),this.invokeOnInitCallbacks(et,me),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,me,et)}catch{}var xe;return et||null}normalizeInstanceIdentifier(me=I){return this.component?this.component.multipleInstances?me:I:me}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(me){this.name=me,this.providers=new Map}addComponent(me){const pe=this.getProvider(me.name);if(pe.isComponentSet())throw new Error(`Component ${me.name} has already been registered with ${this.name}`);pe.setComponent(me)}addOrOverwriteComponent(me){this.getProvider(me.name).isComponentSet()&&this.providers.delete(me.name),this.addComponent(me)}getProvider(me){if(this.providers.has(me))return this.providers.get(me);const pe=new Ce(me,this);return this.providers.set(me,pe),pe}getProviders(){return Array.from(this.providers.values())}}},1397:(En,je,U)=>{"use strict";U.d(je,{Z:()=>fe});var b=U(6354),x=U(8750),q=U(9974),I=U(5225),Ce=U(4360),Ee=U(8071);function fe(xe,me,pe=1/0){return(0,Ee.T)(me)?fe((et,He)=>(0,b.T)((at,At)=>me(et,at,He,At))((0,x.Tg)(xe(et,He))),pe):("number"==typeof me&&(pe=me),(0,q.N)((et,He)=>function Qe(xe,me,pe,et,He,at,At,Ut){const Ft=[];let Xt=0,pt=0,_t=!1;const Dt=()=>{_t&&!Ft.length&&!Xt&&me.complete()},Me=Xe=>Xt<et?nt(Xe):Ft.push(Xe),nt=Xe=>{at&&me.next(Xe),Xt++;let vt=!1;(0,x.Tg)(pe(Xe,pt++)).subscribe((0,Ce._)(me,Wt=>{He?.(Wt),at?Me(Wt):me.next(Wt)},()=>{vt=!0},void 0,()=>{if(vt)try{for(Xt--;Ft.length&&Xt<et;){const Wt=Ft.shift();At?(0,I.N)(me,At,()=>nt(Wt)):nt(Wt)}Dt()}catch(Wt){me.error(Wt)}}))};return xe.subscribe((0,Ce._)(me,Me,()=>{_t=!0,Dt()})),()=>{Ut?.()}}(et,He,xe,pe)))}},1413:(En,je,U)=>{"use strict";U.d(je,{B:()=>Ee});var b=U(1985),x=U(8359);const I=(0,U(1853).L)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=U(7908),Qe=U(9786);let Ee=(()=>{class xe extends b.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const et=new fe(this,this);return et.operator=pe,et}_throwIfClosed(){if(this.closed)throw new I}next(pe){(0,Qe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const et of this.currentObservers)et.next(pe)}})}error(pe){(0,Qe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:et}=this;for(;et.length;)et.shift().error(pe)}})}complete(){(0,Qe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:et,isStopped:He,observers:at}=this;return et||He?x.Kn:(this.currentObservers=null,at.push(pe),new x.yU(()=>{this.currentObservers=null,(0,Ce.o)(at,pe)}))}_checkFinalizedStatuses(pe){const{hasError:et,thrownError:He,isStopped:at}=this;et?pe.error(He):at&&pe.complete()}asObservable(){const pe=new b.c;return pe.source=this,pe}}return xe.create=(me,pe)=>new fe(me,pe),xe})();class fe extends Ee{constructor(me,pe){super(),this.destination=me,this.source=pe}next(me){var pe,et;null===(et=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===et||et.call(pe,me)}error(me){var pe,et;null===(et=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===et||et.call(pe,me)}complete(){var me,pe;null===(pe=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===pe||pe.call(me)}_subscribe(me){var pe,et;return null!==(et=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(me))&&void 0!==et?et:x.Kn}}},1635:(En,je,U)=>{"use strict";function I(Y,ue){var le={};for(var ge in Y)Object.prototype.hasOwnProperty.call(Y,ge)&&ue.indexOf(ge)<0&&(le[ge]=Y[ge]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for(ge=Object.getOwnPropertySymbols(Y);ne<ge.length;ne++)ue.indexOf(ge[ne])<0&&Object.prototype.propertyIsEnumerable.call(Y,ge[ne])&&(le[ge[ne]]=Y[ge[ne]])}return le}function et(Y,ue,le,ge){return new(le||(le=Promise))(function(de,Ke){function gt(nr){try{Zt(ge.next(nr))}catch(zt){Ke(zt)}}function rn(nr){try{Zt(ge.throw(nr))}catch(zt){Ke(zt)}}function Zt(nr){nr.done?de(nr.value):function ne(de){return de instanceof le?de:new le(function(Ke){Ke(de)})}(nr.value).then(gt,rn)}Zt((ge=ge.apply(Y,ue||[])).next())})}function Dt(Y){return this instanceof Dt?(this.v=Y,this):new Dt(Y)}function Me(Y,ue,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,ge=le.apply(Y,ue||[]),de=[];return ne=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),gt("next"),gt("throw"),gt("return",function Ke(Hn){return function(qt){return Promise.resolve(qt).then(Hn,zt)}}),ne[Symbol.asyncIterator]=function(){return this},ne;function gt(Hn,qt){ge[Hn]&&(ne[Hn]=function(On){return new Promise(function(tr,Tn){de.push([Hn,On,tr,Tn])>1||rn(Hn,On)})},qt&&(ne[Hn]=qt(ne[Hn])))}function rn(Hn,qt){try{!function Zt(Hn){Hn.value instanceof Dt?Promise.resolve(Hn.value.v).then(nr,zt):Zn(de[0][2],Hn)}(ge[Hn](qt))}catch(On){Zn(de[0][3],On)}}function nr(Hn){rn("next",Hn)}function zt(Hn){rn("throw",Hn)}function Zn(Hn,qt){Hn(qt),de.shift(),de.length&&rn(de[0][0],de[0][1])}}function Xe(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ue=Y[Symbol.asyncIterator];return ue?ue.call(Y):(Y=function Ut(Y){var ue="function"==typeof Symbol&&Symbol.iterator,le=ue&&Y[ue],ge=0;if(le)return le.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ge>=Y.length&&(Y=void 0),{value:Y&&Y[ge++],done:!Y}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),le={},ge("next"),ge("throw"),ge("return"),le[Symbol.asyncIterator]=function(){return this},le);function ge(de){le[de]=Y[de]&&function(Ke){return new Promise(function(gt,rn){!function ne(de,Ke,gt,rn){Promise.resolve(rn).then(function(Zt){de({value:Zt,done:gt})},Ke)}(gt,rn,(Ke=Y[de](Ke)).done,Ke.value)})}}}U.d(je,{AQ:()=>Me,N3:()=>Dt,Tt:()=>I,sH:()=>et,xN:()=>Xe}),"function"==typeof SuppressedError&&SuppressedError},1853:(En,je,U)=>{"use strict";function b(x){const I=x(Ce=>{Error.call(Ce),Ce.stack=(new Error).stack});return I.prototype=Object.create(Error.prototype),I.prototype.constructor=I,I}U.d(je,{L:()=>b})},1985:(En,je,U)=>{"use strict";U.d(je,{c:()=>fe});var b=U(7707),x=U(8359),q=U(3494),I=U(1203),Ce=U(1026),Qe=U(8071),Ee=U(9786);let fe=(()=>{class et{constructor(at){at&&(this._subscribe=at)}lift(at){const At=new et;return At.source=this,At.operator=at,At}subscribe(at,At,Ut){const Ft=function pe(et){return et&&et instanceof b.vU||function me(et){return et&&(0,Qe.T)(et.next)&&(0,Qe.T)(et.error)&&(0,Qe.T)(et.complete)}(et)&&(0,x.Uv)(et)}(at)?at:new b.Ms(at,At,Ut);return(0,Ee.Y)(()=>{const{operator:Xt,source:pt}=this;Ft.add(Xt?Xt.call(Ft,pt):pt?this._subscribe(Ft):this._trySubscribe(Ft))}),Ft}_trySubscribe(at){try{return this._subscribe(at)}catch(At){at.error(At)}}forEach(at,At){return new(At=xe(At))((Ut,Ft)=>{const Xt=new b.Ms({next:pt=>{try{at(pt)}catch(_t){Ft(_t),Xt.unsubscribe()}},error:Ft,complete:Ut});this.subscribe(Xt)})}_subscribe(at){var At;return null===(At=this.source)||void 0===At?void 0:At.subscribe(at)}[q.s](){return this}pipe(...at){return(0,I.m)(at)(this)}toPromise(at){return new(at=xe(at))((At,Ut)=>{let Ft;this.subscribe(Xt=>Ft=Xt,Xt=>Ut(Xt),()=>At(Ft))})}}return et.create=He=>new et(He),et})();function xe(et){var He;return null!==(He=et??Ce.$.Promise)&&void 0!==He?He:Promise}},2107:(En,je,U)=>{"use strict";U.d(je,{wc:()=>Ro,c7:()=>No,Xm:()=>qr});var b=U(2967),x=U(1360),q=U(7440),I=U(4125),Ce=U(6335),Qe=U(2214),Ee=U(467),fe=U(7852),xe=U(6858),me=U(1362);const pe="firebasestorage.googleapis.com";class Ut extends xe.g{constructor(z,we,Se=0){super(Xt(z),`Firebase Storage: ${we} (${Xt(z)})`),this.status_=Se,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ut.prototype)}get status(){return this.status_}set status(z){this.status_=z}_codeEquals(z){return Xt(z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(z){this.customData.serverResponse=z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ft=function(W){return W.UNKNOWN="unknown",W.OBJECT_NOT_FOUND="object-not-found",W.BUCKET_NOT_FOUND="bucket-not-found",W.PROJECT_NOT_FOUND="project-not-found",W.QUOTA_EXCEEDED="quota-exceeded",W.UNAUTHENTICATED="unauthenticated",W.UNAUTHORIZED="unauthorized",W.UNAUTHORIZED_APP="unauthorized-app",W.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",W.INVALID_CHECKSUM="invalid-checksum",W.CANCELED="canceled",W.INVALID_EVENT_NAME="invalid-event-name",W.INVALID_URL="invalid-url",W.INVALID_DEFAULT_BUCKET="invalid-default-bucket",W.NO_DEFAULT_BUCKET="no-default-bucket",W.CANNOT_SLICE_BLOB="cannot-slice-blob",W.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",W.NO_DOWNLOAD_URL="no-download-url",W.INVALID_ARGUMENT="invalid-argument",W.INVALID_ARGUMENT_COUNT="invalid-argument-count",W.APP_DELETED="app-deleted",W.INVALID_ROOT_OPERATION="invalid-root-operation",W.INVALID_FORMAT="invalid-format",W.INTERNAL_ERROR="internal-error",W.UNSUPPORTED_ENVIRONMENT="unsupported-environment",W}(Ft||{});function Xt(W){return"storage/"+W}function Ze(W){return new Ut(Ft.INVALID_ARGUMENT,W)}function en(){return new Ut(Ft.APP_DELETED,"The Firebase app was deleted.")}class ue{constructor(z,we){this.bucket=z,this.path_=we}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const z=encodeURIComponent;return"/b/"+z(this.bucket)+"/o/"+z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(z,we){let Se;try{Se=ue.makeFromUrl(z,we)}catch{return new ue(z,"")}if(""===Se.path)return Se;throw function st(W){return new Ut(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+W+"'.")}(z)}static makeFromUrl(z,we){let Se=null;const rt="([A-Za-z0-9.\\-_]+)",In=new RegExp("^gs://"+rt+"(/(.*))?$","i");function fr(Si){Si.path_=decodeURIComponent(Si.path)}const Lr=we.replace(/[.]/g,"\\."),pi=[{regex:In,indices:{bucket:1,path:3},postModify:function Pt(Si){"/"===Si.path.charAt(Si.path.length-1)&&(Si.path_=Si.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Lr}/v[A-Za-z0-9_]+/b/${rt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:fr},{regex:new RegExp(`^https?://${we===pe?"(?:storage.googleapis.com|storage.cloud.google.com)":we}/${rt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:fr}];for(let Si=0;Si<pi.length;Si++){const To=pi[Si],Jr=To.regex.exec(z);if(Jr){let zo=Jr[To.indices.path];zo||(zo=""),Se=new ue(Jr[To.indices.bucket],zo),To.postModify(Se);break}}if(null==Se)throw function Et(W){return new Ut(Ft.INVALID_URL,"Invalid URL '"+W+"'.")}(z);return Se}}class le{constructor(z){this.promise_=Promise.reject(z)}getPromise(){return this.promise_}cancel(z=!1){}}function zt(W,z,we,Se){if(Se<z)throw Ze(`Invalid value for '${W}'. Expected ${z} or greater.`);if(Se>we)throw Ze(`Invalid value for '${W}'. Expected ${we} or less.`)}var qt=function(W){return W[W.NO_ERROR=0]="NO_ERROR",W[W.NETWORK_ERROR=1]="NETWORK_ERROR",W[W.ABORT=2]="ABORT",W}(qt||{});class tr{constructor(z,we,Se,rt,Pt,Gt,In,fn,fr,Yn,Lr,yi=!0,fi=!1){this.url_=z,this.method_=we,this.headers_=Se,this.body_=rt,this.successCodes_=Pt,this.additionalRetryCodes_=Gt,this.callback_=In,this.errorCallback_=fn,this.timeout_=fr,this.progressCallback_=Yn,this.connectionFactory_=Lr,this.retry=yi,this.isUsingEmulator=fi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ui,Ci)=>{this.resolve_=Ui,this.reject_=Ci,this.start_()})}start_(){const we=(Se,rt)=>{const Pt=this.resolve_,Gt=this.reject_,In=rt.connection;if(rt.wasSuccessCode)try{const fn=this.callback_(In,In.getResponse());!function de(W){return void 0!==W}(fn)?Pt():Pt(fn)}catch(fn){Gt(fn)}else if(null!==In){const fn=function pt(){return new Ut(Ft.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();fn.serverResponse=In.getErrorText(),Gt(this.errorCallback_?this.errorCallback_(In,fn):fn)}else Gt(rt.canceled?this.appDelete_?en():function Wt(){return new Ut(Ft.CANCELED,"User canceled the upload/download.")}():function vt(){return new Ut(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?we(0,new Tn(!1,null,!0)):this.backoffId_=function ge(W,z,we){let Se=1,rt=null,Pt=null,Gt=!1,In=0;function fn(){return 2===In}let fr=!1;function Yn(...Yr){fr||(fr=!0,z.apply(null,Yr))}function Lr(Yr){rt=setTimeout(()=>{rt=null,W(fi,fn())},Yr)}function yi(){Pt&&clearTimeout(Pt)}function fi(Yr,...ki){if(fr)return void yi();if(Yr)return yi(),void Yn.call(null,Yr,...ki);if(fn()||Gt)return yi(),void Yn.call(null,Yr,...ki);let pi;Se<64&&(Se*=2),1===In?(In=2,pi=0):pi=1e3*(Se+Math.random()),Lr(pi)}let Ui=!1;function Ci(Yr){Ui||(Ui=!0,yi(),!fr&&(null!==rt?(Yr||(In=2),clearTimeout(rt),Lr(0)):Yr||(In=1)))}return Lr(0),Pt=setTimeout(()=>{Gt=!0,Ci(!0)},we),Ci}((Se,rt)=>{if(rt)return void Se(!1,new Tn(!1,null,!0));const Pt=this.connectionFactory_();this.pendingConnection_=Pt;const Gt=In=>{null!==this.progressCallback_&&this.progressCallback_(In.loaded,In.lengthComputable?In.total:-1)};null!==this.progressCallback_&&Pt.addUploadProgressListener(Gt),Pt.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Pt.removeUploadProgressListener(Gt),this.pendingConnection_=null;const In=Pt.getErrorCode()===qt.NO_ERROR,fn=Pt.getStatus();if(!In||function On(W,z){const we=W>=500&&W<600,rt=-1!==[408,429].indexOf(W),Pt=-1!==z.indexOf(W);return we||rt||Pt}(fn,this.additionalRetryCodes_)&&this.retry){const Yn=Pt.getErrorCode()===qt.ABORT;return void Se(!1,new Tn(!1,null,Yn))}const fr=-1!==this.successCodes_.indexOf(fn);Se(!0,new Tn(fr,Pt))})},we,this.timeout_)}getPromise(){return this.promise_}cancel(z){this.canceled_=!0,this.appDelete_=z||!1,null!==this.backoffId_&&function ne(W){W(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Tn{constructor(z,we,Se){this.wasSuccessCode=z,this.connection=we,this.canceled=!!Se}}class rr{constructor(z,we){this._service=z,this._location=we instanceof ue?we:ue.makeFromUrl(we,z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(z,we){return new rr(z,we)}get root(){const z=new ue(this._location.bucket,"");return this._newRef(this._service,z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function Dn(W){const z=W.lastIndexOf("/",W.length-2);return-1===z?W:W.slice(z+1)}(this._location.path)}get storage(){return this._service}get parent(){const z=function di(W){if(0===W.length)return null;const z=W.lastIndexOf("/");return-1===z?"":W.slice(0,z)}(this._location.path);if(null===z)return null;const we=new ue(this._location.bucket,z);return new rr(this._service,we)}_throwIfRoot(z){if(""===this._location.path)throw function Rt(W){return new Ut(Ft.INVALID_ROOT_OPERATION,"The operation '"+W+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(z)}}function mr(W,z){const we=z?.storageBucket;return null==we?null:ue.makeFromBucketSpec(we,W)}class yr{constructor(z,we,Se,rt,Pt,Gt=!1){this.app=z,this._authProvider=we,this._appCheckProvider=Se,this._url=rt,this._firebaseVersion=Pt,this._isUsingEmulator=Gt,this._bucket=null,this._host=pe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=rt?ue.makeFromBucketSpec(rt,this._host):mr(this._host,this.app.options)}get host(){return this._host}set host(z){this._host=z,this._bucket=null!=this._url?ue.makeFromBucketSpec(this._url,z):mr(z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(z){zt("time",0,Number.POSITIVE_INFINITY,z),this._maxUploadRetryTime=z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(z){zt("time",0,Number.POSITIVE_INFINITY,z),this._maxOperationRetryTime=z}_getAuthToken(){var z=this;return(0,Ee.A)(function*(){if(z._overrideAuthToken)return z._overrideAuthToken;const we=z._authProvider.getImmediate({optional:!0});if(we){const Se=yield we.getToken();if(null!==Se)return Se.accessToken}return null})()}_getAppCheckToken(){var z=this;return(0,Ee.A)(function*(){if((0,fe.xZ)(z.app)&&z.app.settings.appCheckToken)return z.app.settings.appCheckToken;const we=z._appCheckProvider.getImmediate({optional:!0});return we?(yield we.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(z=>z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(z){return new rr(this,z)}_makeRequest(z,we,Se,rt,Pt=!0){if(this._deleted)return new le(en());{const Gt=function hr(W,z,we,Se,rt,Pt,Gt=!0,In=!1){const fn=function Hn(W){const z=encodeURIComponent;let we="?";for(const Se in W)W.hasOwnProperty(Se)&&(we=we+(z(Se)+"=")+z(W[Se])+"&");return we=we.slice(0,-1),we}(W.urlParams),fr=W.url+fn,Yn=Object.assign({},W.headers);return function Di(W,z){z&&(W["X-Firebase-GMPID"]=z)}(Yn,z),function Pr(W,z){null!==z&&z.length>0&&(W.Authorization="Firebase "+z)}(Yn,we),function Rr(W,z){W["X-Firebase-Storage-Version"]="webjs/"+(z??"AppManager")}(Yn,Pt),function hn(W,z){null!==z&&(W["X-Firebase-AppCheck"]=z)}(Yn,Se),new tr(fr,W.method,Yn,W.body,W.successCodes,W.additionalRetryCodes,W.handler,W.errorHandler,W.timeout,W.progressCallback,rt,Gt,In)}(z,this._appId,Se,rt,we,this._firebaseVersion,Pt,this._isUsingEmulator);return this._requests.add(Gt),Gt.getPromise().then(()=>this._requests.delete(Gt),()=>this._requests.delete(Gt)),Gt}}makeRequestWithTokens(z,we){var Se=this;return(0,Ee.A)(function*(){const[rt,Pt]=yield Promise.all([Se._getAuthToken(),Se._getAppCheckToken()]);return Se._makeRequest(z,we,rt,Pt).getPromise()})()}}const zi="@firebase/storage",hi="0.13.12",Eo="storage";function rs(W=(0,fe.Sx)(),z){W=(0,xe.Ku)(W);const Se=(0,fe.j6)(W,Eo).getImmediate({identifier:z}),rt=(0,xe.yU)("storage");return rt&&function _n(W,z,we,Se={}){!function xn(W,z,we,Se={}){W.host=`${z}:${we}`;const rt=(0,xe.zJ)(z);rt&&((0,xe.gE)(`https://${W.host}`),(0,xe.P1)("Storage",!0)),W._isUsingEmulator=!0,W._protocol=rt?"https":"http";const{mockUserToken:Pt}=Se;Pt&&(W._overrideAuthToken="string"==typeof Pt?Pt:(0,xe.Fy)(Pt,W.app.options.projectId))}(W,z,we,Se)}(Se,...rt),Se}function So(W,{instanceIdentifier:z}){const we=W.getProvider("app").getImmediate(),Se=W.getProvider("auth-internal"),rt=W.getProvider("app-check-internal");return new yr(we,Se,rt,z,fe.MF)}!function qo(){(0,fe.om)(new me.uA(Eo,So,"PUBLIC").setMultipleInstances(!0)),(0,fe.KO)(zi,hi,""),(0,fe.KO)(zi,hi,"esm2017")}();class Ro{constructor(z){return z}}const Es="storage",$o=new x.nKC("angularfire2.storage-instances");function Ho(W){return(z,we)=>{const Se=z.runOutsideAngular(()=>W(we));return new Ro(Se)}}const ws={provide:class os{constructor(){return(0,b.CA)(Es)}},deps:[[new x.Xx1,$o]]},zr={provide:Ro,useFactory:function po(W,z){const we=(0,b.lR)(Es,W,z);return we&&new Ro(we)},deps:[[new x.Xx1,$o],q.XU]};function qr(W,...z){return(0,Qe.KO)("angularfire",b.xv.full,"gcs"),(0,x.EmA)([zr,ws,{provide:$o,useFactory:Ho(W),multi:!0,deps:[x.SKi,x.zZn,b.u0,q.gL,[new x.Xx1,Ce.DF],[new x.Xx1,I.kR],...z]}])}const No=(0,b.S3)(rs,!0)},2214:(En,je,U)=>{"use strict";U.d(je,{Dk:()=>b.Dk,KO:()=>b.KO,Sx:()=>b.Sx,Wp:()=>b.Wp});var b=U(7852);(0,b.KO)("firebase","11.8.1","app")},2881:(En,je,U)=>{"use strict";U.d(je,{MD:()=>ro,Sq:()=>Li,YU:()=>mn,bT:()=>ye,fw:()=>q,vh:()=>ve});var b=U(1360),x=U(6048);let q=(()=>{class B extends x.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(K,ee){super(),this._platformLocation=K,null!=ee&&(this._baseHref=ee)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}path(K=!1){const ee=this._platformLocation.hash??"#";return ee.length>0?ee.substring(1):ee}prepareExternalUrl(K){const ee=(0,x.om)(this._baseHref,K);return ee.length>0?"#"+ee:ee}pushState(K,ee,Re,Tt){const sn=this.prepareExternalUrl(Re+(0,x.Q)(Tt))||this._platformLocation.pathname;this._platformLocation.pushState(K,ee,sn)}replaceState(K,ee,Re,Tt){const sn=this.prepareExternalUrl(Re+(0,x.Q)(Tt))||this._platformLocation.pathname;this._platformLocation.replaceState(K,ee,sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(K=0){this._platformLocation.historyGo?.(K)}static \u0275fac=function(ee){return new(ee||B)(b.KVO(x.Vw),b.KVO(x.kB,8))};static \u0275prov=b.jDH({token:B,factory:B.\u0275fac})}return B})();var Ee=function(B){return B[B.Format=0]="Format",B[B.Standalone=1]="Standalone",B}(Ee||{}),fe=function(B){return B[B.Narrow=0]="Narrow",B[B.Abbreviated=1]="Abbreviated",B[B.Wide=2]="Wide",B[B.Short=3]="Short",B}(fe||{}),xe=function(B){return B[B.Short=0]="Short",B[B.Medium=1]="Medium",B[B.Long=2]="Long",B[B.Full=3]="Full",B}(xe||{});function pt(B,he){return vn((0,b.H5H)(B)[b.KH2.DateFormat],he)}function _t(B,he){return vn((0,b.H5H)(B)[b.KH2.TimeFormat],he)}function Dt(B,he){return vn((0,b.H5H)(B)[b.KH2.DateTimeFormat],he)}function Me(B,he){const K=(0,b.H5H)(B),ee=K[b.KH2.NumberSymbols][he];if(typeof ee>"u"){if(12===he)return K[b.KH2.NumberSymbols][0];if(13===he)return K[b.KH2.NumberSymbols][1]}return ee}function Ln(B){if(!B[b.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${B[b.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vn(B,he){for(let K=he;K>-1;K--)if(typeof B[K]<"u")return B[K];throw new Error("Locale data API: locale data undefined")}function Ze(B){const[he,K]=B.split(":");return{hours:+he,minutes:+K}}const Y=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ue={},le=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ge(B,he,K,ee){let Re=function Mr(B){if(wr(B))return B;if("number"==typeof B&&!isNaN(B))return new Date(B);if("string"==typeof B){if(B=B.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(B)){const[Re,Tt=1,sn=1]=B.split("-").map(Nn=>+Nn);return ne(Re,Tt-1,sn)}const K=parseFloat(B);if(!isNaN(B-K))return new Date(K);let ee;if(ee=B.match(Y))return function ut(B){const he=new Date(0);let K=0,ee=0;const Re=B[8]?he.setUTCFullYear:he.setFullYear,Tt=B[8]?he.setUTCHours:he.setHours;B[9]&&(K=Number(B[9]+B[10]),ee=Number(B[9]+B[11])),Re.call(he,Number(B[1]),Number(B[2])-1,Number(B[3]));const sn=Number(B[4]||0)-K,Nn=Number(B[5]||0)-ee,ri=Number(B[6]||0),Gr=Math.floor(1e3*parseFloat("0."+(B[7]||0)));return Tt.call(he,sn,Nn,ri,Gr),he}(ee)}const he=new Date(B);if(!wr(he))throw new Error(`Unable to convert "${B}" into a date`);return he}(B);he=de(K,he)||he;let Nn,sn=[];for(;he;){if(Nn=le.exec(he),!Nn){sn.push(he);break}{sn=sn.concat(Nn.slice(1));const Kr=sn.pop();if(!Kr)break;he=Kr}}let ri=Re.getTimezoneOffset();ee&&(ri=hr(ee,ri),Re=function Qi(B,he){const Re=B.getTimezoneOffset();return function on(B,he){return(B=new Date(B.getTime())).setMinutes(B.getMinutes()+he),B}(B,-1*(hr(he,Re)-Re))}(Re,ee));let Gr="";return sn.forEach(Kr=>{const mr=function hn(B){if(Di[B])return Di[B];let he;switch(B){case"G":case"GG":case"GGG":he=zt(3,fe.Abbreviated);break;case"GGGG":he=zt(3,fe.Wide);break;case"GGGGG":he=zt(3,fe.Narrow);break;case"y":he=Zt(0,1,0,!1,!0);break;case"yy":he=Zt(0,2,0,!0,!0);break;case"yyy":he=Zt(0,3,0,!1,!0);break;case"yyyy":he=Zt(0,4,0,!1,!0);break;case"Y":he=Rr(1);break;case"YY":he=Rr(2,!0);break;case"YYY":he=Rr(3);break;case"YYYY":he=Rr(4);break;case"M":case"L":he=Zt(1,1,1);break;case"MM":case"LL":he=Zt(1,2,1);break;case"MMM":he=zt(2,fe.Abbreviated);break;case"MMMM":he=zt(2,fe.Wide);break;case"MMMMM":he=zt(2,fe.Narrow);break;case"LLL":he=zt(2,fe.Abbreviated,Ee.Standalone);break;case"LLLL":he=zt(2,fe.Wide,Ee.Standalone);break;case"LLLLL":he=zt(2,fe.Narrow,Ee.Standalone);break;case"w":he=Pr(1);break;case"ww":he=Pr(2);break;case"W":he=Pr(1,!0);break;case"d":he=Zt(2,1);break;case"dd":he=Zt(2,2);break;case"c":case"cc":he=Zt(7,1);break;case"ccc":he=zt(1,fe.Abbreviated,Ee.Standalone);break;case"cccc":he=zt(1,fe.Wide,Ee.Standalone);break;case"ccccc":he=zt(1,fe.Narrow,Ee.Standalone);break;case"cccccc":he=zt(1,fe.Short,Ee.Standalone);break;case"E":case"EE":case"EEE":he=zt(1,fe.Abbreviated);break;case"EEEE":he=zt(1,fe.Wide);break;case"EEEEE":he=zt(1,fe.Narrow);break;case"EEEEEE":he=zt(1,fe.Short);break;case"a":case"aa":case"aaa":he=zt(0,fe.Abbreviated);break;case"aaaa":he=zt(0,fe.Wide);break;case"aaaaa":he=zt(0,fe.Narrow);break;case"b":case"bb":case"bbb":he=zt(0,fe.Abbreviated,Ee.Standalone,!0);break;case"bbbb":he=zt(0,fe.Wide,Ee.Standalone,!0);break;case"bbbbb":he=zt(0,fe.Narrow,Ee.Standalone,!0);break;case"B":case"BB":case"BBB":he=zt(0,fe.Abbreviated,Ee.Format,!0);break;case"BBBB":he=zt(0,fe.Wide,Ee.Format,!0);break;case"BBBBB":he=zt(0,fe.Narrow,Ee.Format,!0);break;case"h":he=Zt(3,1,-12);break;case"hh":he=Zt(3,2,-12);break;case"H":he=Zt(3,1);break;case"HH":he=Zt(3,2);break;case"m":he=Zt(4,1);break;case"mm":he=Zt(4,2);break;case"s":he=Zt(5,1);break;case"ss":he=Zt(5,2);break;case"S":he=Zt(6,1);break;case"SS":he=Zt(6,2);break;case"SSS":he=Zt(6,3);break;case"Z":case"ZZ":case"ZZZ":he=Hn(0);break;case"ZZZZZ":he=Hn(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":he=Hn(1);break;case"OOOO":case"ZZZZ":case"zzzz":he=Hn(2);break;default:return null}return Di[B]=he,he}(Kr);Gr+=mr?mr(Re,K,ri):"''"===Kr?"'":Kr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Gr}function ne(B,he,K){const ee=new Date(0);return ee.setFullYear(B,he,K),ee.setHours(0,0,0),ee}function de(B,he){const K=function et(B){return(0,b.H5H)(B)[b.KH2.LocaleId]}(B);if(ue[K]??={},ue[K][he])return ue[K][he];let ee="";switch(he){case"shortDate":ee=pt(B,xe.Short);break;case"mediumDate":ee=pt(B,xe.Medium);break;case"longDate":ee=pt(B,xe.Long);break;case"fullDate":ee=pt(B,xe.Full);break;case"shortTime":ee=_t(B,xe.Short);break;case"mediumTime":ee=_t(B,xe.Medium);break;case"longTime":ee=_t(B,xe.Long);break;case"fullTime":ee=_t(B,xe.Full);break;case"short":const Re=de(B,"shortTime"),Tt=de(B,"shortDate");ee=Ke(Dt(B,xe.Short),[Re,Tt]);break;case"medium":const sn=de(B,"mediumTime"),Nn=de(B,"mediumDate");ee=Ke(Dt(B,xe.Medium),[sn,Nn]);break;case"long":const ri=de(B,"longTime"),Gr=de(B,"longDate");ee=Ke(Dt(B,xe.Long),[ri,Gr]);break;case"full":const Kr=de(B,"fullTime"),mr=de(B,"fullDate");ee=Ke(Dt(B,xe.Full),[Kr,mr])}return ee&&(ue[K][he]=ee),ee}function Ke(B,he){return he&&(B=B.replace(/\{([^}]+)}/g,function(K,ee){return null!=he&&ee in he?he[ee]:K})),B}function gt(B,he,K="-",ee,Re){let Tt="";(B<0||Re&&B<=0)&&(Re?B=1-B:(B=-B,Tt=K));let sn=String(B);for(;sn.length<he;)sn="0"+sn;return ee&&(sn=sn.slice(sn.length-he)),Tt+sn}function Zt(B,he,K=0,ee=!1,Re=!1){return function(Tt,sn){let Nn=function nr(B,he){switch(B){case 0:return he.getFullYear();case 1:return he.getMonth();case 2:return he.getDate();case 3:return he.getHours();case 4:return he.getMinutes();case 5:return he.getSeconds();case 6:return he.getMilliseconds();case 7:return he.getDay();default:throw new Error(`Unknown DateType value "${B}".`)}}(B,Tt);if((K>0||Nn>-K)&&(Nn+=K),3===B)0===Nn&&-12===K&&(Nn=12);else if(6===B)return function rn(B,he){return gt(B,3).substring(0,he)}(Nn,he);const ri=Me(sn,5);return gt(Nn,he,ri,ee,Re)}}function zt(B,he,K=Ee.Format,ee=!1){return function(Re,Tt){return function Zn(B,he,K,ee,Re,Tt){switch(K){case 2:return function At(B,he,K){const ee=(0,b.H5H)(B),Tt=vn([ee[b.KH2.MonthsFormat],ee[b.KH2.MonthsStandalone]],he);return vn(Tt,K)}(he,Re,ee)[B.getMonth()];case 1:return function at(B,he,K){const ee=(0,b.H5H)(B),Tt=vn([ee[b.KH2.DaysFormat],ee[b.KH2.DaysStandalone]],he);return vn(Tt,K)}(he,Re,ee)[B.getDay()];case 0:const sn=B.getHours(),Nn=B.getMinutes();if(Tt){const Gr=function Rn(B){const he=(0,b.H5H)(B);return Ln(he),(he[b.KH2.ExtraData][2]||[]).map(ee=>"string"==typeof ee?Ze(ee):[Ze(ee[0]),Ze(ee[1])])}(he),Kr=function Kn(B,he,K){const ee=(0,b.H5H)(B);Ln(ee);const Tt=vn([ee[b.KH2.ExtraData][0],ee[b.KH2.ExtraData][1]],he)||[];return vn(Tt,K)||[]}(he,Re,ee),mr=Gr.findIndex(xn=>{if(Array.isArray(xn)){const[yr,zi]=xn,hi=sn>=yr.hours&&Nn>=yr.minutes,Eo=sn<zi.hours||sn===zi.hours&&Nn<zi.minutes;if(yr.hours<zi.hours){if(hi&&Eo)return!0}else if(hi||Eo)return!0}else if(xn.hours===sn&&xn.minutes===Nn)return!0;return!1});if(-1!==mr)return Kr[mr]}return function He(B,he,K){const ee=(0,b.H5H)(B),Tt=vn([ee[b.KH2.DayPeriodsFormat],ee[b.KH2.DayPeriodsStandalone]],he);return vn(Tt,K)}(he,Re,ee)[sn<12?0:1];case 3:return function Ut(B,he){return vn((0,b.H5H)(B)[b.KH2.Eras],he)}(he,ee)[B.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${K}`)}}(Re,Tt,B,he,K,ee)}}function Hn(B){return function(he,K,ee){const Re=-1*ee,Tt=Me(K,5),sn=Re>0?Math.floor(Re/60):Math.ceil(Re/60);switch(B){case 0:return(Re>=0?"+":"")+gt(sn,2,Tt)+gt(Math.abs(Re%60),2,Tt);case 1:return"GMT"+(Re>=0?"+":"")+gt(sn,1,Tt);case 2:return"GMT"+(Re>=0?"+":"")+gt(sn,2,Tt)+":"+gt(Math.abs(Re%60),2,Tt);case 3:return 0===ee?"Z":(Re>=0?"+":"")+gt(sn,2,Tt)+":"+gt(Math.abs(Re%60),2,Tt);default:throw new Error(`Unknown zone width "${B}"`)}}}const qt=0,On=4;function Tn(B){const he=B.getDay(),K=0===he?-3:On-he;return ne(B.getFullYear(),B.getMonth(),B.getDate()+K)}function Pr(B,he=!1){return function(K,ee){let Re;if(he){const Tt=new Date(K.getFullYear(),K.getMonth(),1).getDay()-1,sn=K.getDate();Re=1+Math.floor((sn+Tt)/7)}else{const Tt=Tn(K),sn=function tr(B){const he=ne(B,qt,1).getDay();return ne(B,0,1+(he<=On?On:On+7)-he)}(Tt.getFullYear()),Nn=Tt.getTime()-sn.getTime();Re=1+Math.round(Nn/6048e5)}return gt(Re,B,Me(ee,5))}}function Rr(B,he=!1){return function(K,ee){return gt(Tn(K).getFullYear(),B,Me(ee,5),he)}}const Di={};function hr(B,he){B=B.replace(/:/g,"");const K=Date.parse("Jan 01, 1970 00:00:00 "+B)/6e4;return isNaN(K)?he:K}function wr(B){return B instanceof Date&&!isNaN(B.valueOf())}const ni=/\s+/,Oi=[];let mn=(()=>{class B{_ngEl;_renderer;initialClasses=Oi;rawClass;stateMap=new Map;constructor(K,ee){this._ngEl=K,this._renderer=ee}set klass(K){this.initialClasses=null!=K?K.trim().split(ni):Oi}set ngClass(K){this.rawClass="string"==typeof K?K.trim().split(ni):K}ngDoCheck(){for(const ee of this.initialClasses)this._updateState(ee,!0);const K=this.rawClass;if(Array.isArray(K)||K instanceof Set)for(const ee of K)this._updateState(ee,!0);else if(null!=K)for(const ee of Object.keys(K))this._updateState(ee,!!K[ee]);this._applyStateDiff()}_updateState(K,ee){const Re=this.stateMap.get(K);void 0!==Re?(Re.enabled!==ee&&(Re.changed=!0,Re.enabled=ee),Re.touched=!0):this.stateMap.set(K,{enabled:ee,changed:!0,touched:!0})}_applyStateDiff(){for(const K of this.stateMap){const ee=K[0],Re=K[1];Re.changed?(this._toggleClass(ee,Re.enabled),Re.changed=!1):Re.touched||(Re.enabled&&this._toggleClass(ee,!1),this.stateMap.delete(ee)),Re.touched=!1}}_toggleClass(K,ee){(K=K.trim()).length>0&&K.split(ni).forEach(Re=>{ee?this._renderer.addClass(this._ngEl.nativeElement,Re):this._renderer.removeClass(this._ngEl.nativeElement,Re)})}static \u0275fac=function(ee){return new(ee||B)(b.rXU(b.aKT),b.rXU(b.sFG))};static \u0275dir=b.FsC({type:B,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return B})();class Fi{$implicit;ngForOf;index;count;constructor(he,K,ee,Re){this.$implicit=he,this.ngForOf=K,this.index=ee,this.count=Re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class B{_viewContainer;_template;_differs;set ngForOf(K){this._ngForOf=K,this._ngForOfDirty=!0}set ngForTrackBy(K){this._trackByFn=K}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(K,ee,Re){this._viewContainer=K,this._template=ee,this._differs=Re}set ngForTemplate(K){K&&(this._template=K)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const K=this._ngForOf;!this._differ&&K&&(this._differ=this._differs.find(K).create(this.ngForTrackBy))}if(this._differ){const K=this._differ.diff(this._ngForOf);K&&this._applyChanges(K)}}_applyChanges(K){const ee=this._viewContainer;K.forEachOperation((Re,Tt,sn)=>{if(null==Re.previousIndex)ee.createEmbeddedView(this._template,new Fi(Re.item,this._ngForOf,-1,-1),null===sn?void 0:sn);else if(null==sn)ee.remove(null===Tt?void 0:Tt);else if(null!==Tt){const Nn=ee.get(Tt);ee.move(Nn,sn),Ni(Nn,Re)}});for(let Re=0,Tt=ee.length;Re<Tt;Re++){const Nn=ee.get(Re).context;Nn.index=Re,Nn.count=Tt,Nn.ngForOf=this._ngForOf}K.forEachIdentityChange(Re=>{Ni(ee.get(Re.currentIndex),Re)})}static ngTemplateContextGuard(K,ee){return!0}static \u0275fac=function(ee){return new(ee||B)(b.rXU(b.c1b),b.rXU(b.C4Q),b.rXU(b._q3))};static \u0275dir=b.FsC({type:B,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return B})();function Ni(B,he){B.context.$implicit=he.item}let ye=(()=>{class B{_viewContainer;_context=new Ue;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(K,ee){this._viewContainer=K,this._thenTemplateRef=ee}set ngIf(K){this._context.$implicit=this._context.ngIf=K,this._updateView()}set ngIfThen(K){kt(K),this._thenTemplateRef=K,this._thenViewRef=null,this._updateView()}set ngIfElse(K){kt(K),this._elseTemplateRef=K,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(K,ee){return!0}static \u0275fac=function(ee){return new(ee||B)(b.rXU(b.c1b),b.rXU(b.C4Q))};static \u0275dir=b.FsC({type:B,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return B})();class Ue{$implicit=null;ngIf=null}function kt(B,he){if(B&&!B.createEmbeddedView)throw new b.wOt(2020,!1)}const mi=new b.nKC(""),Ai=new b.nKC("");let ve=(()=>{class B{locale;defaultTimezone;defaultOptions;constructor(K,ee,Re){this.locale=K,this.defaultTimezone=ee,this.defaultOptions=Re}transform(K,ee,Re,Tt){if(null==K||""===K||K!=K)return null;try{return ge(K,ee??this.defaultOptions?.dateFormat??"mediumDate",Tt||this.locale,Re??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(sn){throw function _e(B,he){return new b.wOt(2100,!1)}()}}static \u0275fac=function(ee){return new(ee||B)(b.rXU(b.xe9,16),b.rXU(mi,24),b.rXU(Ai,24))};static \u0275pipe=b.EJ8({name:"date",type:B,pure:!0})}return B})(),ro=(()=>{class B{static \u0275fac=function(ee){return new(ee||B)};static \u0275mod=b.$C({type:B});static \u0275inj=b.G2t({})}return B})()},2967:(En,je,U)=>{"use strict";U.d(je,{xv:()=>nt,u0:()=>Kn,CA:()=>Wt,lR:()=>vt,S3:()=>We});var b=U(1360),x=U(2214),q=U(1985);function et(Y){void 0===Y&&((0,b.Af3)(et),Y=(0,b.WQX)(b.zZn));const ue=Y.get(b.u5s);return le=>new q.c(ge=>{const ne=ue.add();let de=!1;function Ke(){de||(ne(),de=!0)}const gt=le.subscribe({next:rn=>{ge.next(rn),Ke()},complete:()=>{ge.complete(),Ke()},error:rn=>{ge.error(rn),Ke()}});return gt.add(()=>{ge.unsubscribe(),Ke()}),gt})}var at=U(6780),Ut=U(3604);const Xt=new class Ft extends Ut.q{}(class At extends at.R{constructor(ue,le){super(ue,le),this.scheduler=ue,this.work=le}schedule(ue,le=0){return le>0?super.schedule(ue,le):(this.delay=le,this.state=ue,this.scheduler.flush(this),this)}execute(ue,le){return le>0||this.closed?super.execute(ue,le):this._execute(ue,le)}requestAsyncId(ue,le,ge=0){return null!=ge&&ge>0||null==ge&&this.delay>0?super.requestAsyncId(ue,le,ge):(ue.flush(this),0)}});var _t=U(3236),Dt=U(6745),Me=U(941);const nt=new b.RxE("ANGULARFIRE2_VERSION");function vt(Y,ue,le){if(ue){if(1===ue.length)return ue[0];const de=ue.filter(Ke=>Ke.app===le);if(1===de.length)return de[0]}return le.container.getProvider(Y).getImmediate({optional:!0})}const Wt=(Y,ue)=>{const le=ue?[ue]:(0,x.Dk)(),ge=[];return le.forEach(ne=>{ne.container.getProvider(Y).instances.forEach(Ke=>{ge.includes(Ke)||ge.push(Ke)})}),ge};var Et=function(Y){return Y[Y.SILENT=0]="SILENT",Y[Y.WARN=1]="WARN",Y[Y.VERBOSE=2]="VERBOSE",Y}(Et||{}),st=(0,b.naY)()&&typeof Zone<"u"?Et.WARN:Et.SILENT;class Rn{zone;delegate;constructor(ue,le=Xt){this.zone=ue,this.delegate=le}now(){return this.delegate.now()}schedule(ue,le,ge){const ne=this.zone;return this.delegate.schedule(function(Ke){ne?ne.runGuarded(()=>{ue.apply(this,[Ke])}):ue.apply(this,[Ke])},le,ge)}}let Kn=(()=>{class Y{outsideAngular;insideAngular;constructor(){const le=(0,b.WQX)(b.SKi);this.outsideAngular=le.runOutsideAngular(()=>new Rn(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=le.run(()=>new Rn(typeof Zone>"u"?void 0:Zone.current,_t.E))}static \u0275fac=function(ge){return new(ge||Y)};static \u0275prov=b.jDH({token:Y,factory:Y.\u0275fac,providedIn:"root"})}return Y})();var dt=!1;function en(Y){const ue=(0,b.WQX)(b.SKi,{optional:!0});return ue?ue.run(()=>Y()):Y()}const Rt=(Y,ue,le)=>(...ge)=>(ue&&setTimeout(ue,0),(0,b.N4e)(le,()=>en(()=>Y.apply(void 0,ge)))),We=(Y,ue,le)=>(le||=ue?Et.WARN:Et.VERBOSE,function(){let ge;const ne=arguments;let de,Ke,gt;try{de=(0,b.WQX)(Kn),Ke=(0,b.WQX)(b.u5s),gt=(0,b.WQX)(b.uvJ)}catch{return function vn(Y,ue){!dt&&(st>Et.SILENT||(0,b.naY)())&&(dt=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),st>=ue&&console.warn(`Firebase API called outside injection context: ${Y.name}`)}(Y,le),Y.apply(this,ne)}for(let Zt=0;Zt<arguments.length;Zt++)"function"==typeof ne[Zt]&&(ue&&(ge||=en(()=>Ke.add())),ne[Zt]=Rt(ne[Zt],ge,gt));const rn=function Ze(Y){const ue=(0,b.WQX)(b.SKi,{optional:!0});return ue?ue.runOutsideAngular(()=>Y()):Y()}(()=>Y.apply(this,ne));return ue?rn instanceof q.c?rn.pipe((0,Dt._)(de.outsideAngular),(0,Me.Q)(de.insideAngular),et(gt)):rn instanceof Promise?en(()=>new Promise((Zt,nr)=>{Ke.run(()=>rn).then(zt=>(0,b.N4e)(gt,()=>en(()=>Zt(zt))),zt=>(0,b.N4e)(gt,()=>en(()=>nr(zt))))})):"function"==typeof rn&&ge?function(){return setTimeout(ge,0),rn.apply(this,arguments)}:en(()=>rn):rn instanceof q.c?rn.pipe((0,Dt._)(de.outsideAngular),(0,Me.Q)(de.insideAngular)):en(()=>rn)})},3073:(En,je,U)=>{"use strict";U.d(je,{D:()=>Ce});const{isArray:b}=Array,{getPrototypeOf:x,prototype:q,keys:I}=Object;function Ce(Ee){if(1===Ee.length){const fe=Ee[0];if(b(fe))return{args:fe,keys:null};if(function Qe(Ee){return Ee&&"object"==typeof Ee&&x(Ee)===q}(fe)){const xe=I(fe);return{args:xe.map(me=>fe[me]),keys:xe}}}return{args:Ee,keys:null}}},3236:(En,je,U)=>{"use strict";U.d(je,{E:()=>q,b:()=>I});var b=U(6780);const q=new(U(3604).q)(b.R),I=q},3273:(En,je,U)=>{"use strict";U.d(je,{Dc:()=>hr,gS:()=>ov,rJ:()=>QE,kd:()=>iv,H9:()=>V_,x7:()=>CT,GG:()=>ST,aU:()=>Sm,aQ:()=>fw,My:()=>jm,P:()=>Y_,BN:()=>Np,mZ:()=>rv,_M:()=>iw,wP:()=>Or});var fe,xe,b=U(467),x=U(7852),q=U(1362),I=U(8041),Ce=U(6858),Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ee={};(function(){var c;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(it,Ne,$e){$e||($e=0);var ot=Array(16);if("string"==typeof Ne)for(var ct=0;16>ct;++ct)ot[ct]=Ne.charCodeAt($e++)|Ne.charCodeAt($e++)<<8|Ne.charCodeAt($e++)<<16|Ne.charCodeAt($e++)<<24;else for(ct=0;16>ct;++ct)ot[ct]=Ne[$e++]|Ne[$e++]<<8|Ne[$e++]<<16|Ne[$e++]<<24;var bt=it.g[3],Be=(Ne=it.g[0])+(bt^($e=it.g[1])&((ct=it.g[2])^bt))+ot[0]+3614090360&4294967295;Be=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=($e=(ct=(bt=(Ne=$e+(Be<<7&4294967295|Be>>>25))+((Be=bt+(ct^Ne&($e^ct))+ot[1]+3905402710&4294967295)<<12&4294967295|Be>>>20))+((Be=ct+($e^bt&(Ne^$e))+ot[2]+606105819&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Ne^ct&(bt^Ne))+ot[3]+3250441966&4294967295)<<22&4294967295|Be>>>10))+((Be=Ne+(bt^$e&(ct^bt))+ot[4]+4118548399&4294967295)<<7&4294967295|Be>>>25))+((Be=bt+(ct^Ne&($e^ct))+ot[5]+1200080426&4294967295)<<12&4294967295|Be>>>20))+((Be=ct+($e^bt&(Ne^$e))+ot[6]+2821735955&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Ne^ct&(bt^Ne))+ot[7]+4249261313&4294967295)<<22&4294967295|Be>>>10))+((Be=Ne+(bt^$e&(ct^bt))+ot[8]+1770035416&4294967295)<<7&4294967295|Be>>>25))+((Be=bt+(ct^Ne&($e^ct))+ot[9]+2336552879&4294967295)<<12&4294967295|Be>>>20))+((Be=ct+($e^bt&(Ne^$e))+ot[10]+4294925233&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Ne^ct&(bt^Ne))+ot[11]+2304563134&4294967295)<<22&4294967295|Be>>>10))+((Be=Ne+(bt^$e&(ct^bt))+ot[12]+1804603682&4294967295)<<7&4294967295|Be>>>25))+((Be=bt+(ct^Ne&($e^ct))+ot[13]+4254626195&4294967295)<<12&4294967295|Be>>>20))+((Be=ct+($e^bt&(Ne^$e))+ot[14]+2792965006&4294967295)<<17&4294967295|Be>>>15))+((Be=$e+(Ne^ct&(bt^Ne))+ot[15]+1236535329&4294967295)<<22&4294967295|Be>>>10))+((Be=Ne+(ct^bt&($e^ct))+ot[1]+4129170786&4294967295)<<5&4294967295|Be>>>27))+((Be=bt+($e^ct&(Ne^$e))+ot[6]+3225465664&4294967295)<<9&4294967295|Be>>>23))+((Be=ct+(Ne^$e&(bt^Ne))+ot[11]+643717713&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(bt^Ne&(ct^bt))+ot[0]+3921069994&4294967295)<<20&4294967295|Be>>>12))+((Be=Ne+(ct^bt&($e^ct))+ot[5]+3593408605&4294967295)<<5&4294967295|Be>>>27))+((Be=bt+($e^ct&(Ne^$e))+ot[10]+38016083&4294967295)<<9&4294967295|Be>>>23))+((Be=ct+(Ne^$e&(bt^Ne))+ot[15]+3634488961&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(bt^Ne&(ct^bt))+ot[4]+3889429448&4294967295)<<20&4294967295|Be>>>12))+((Be=Ne+(ct^bt&($e^ct))+ot[9]+568446438&4294967295)<<5&4294967295|Be>>>27))+((Be=bt+($e^ct&(Ne^$e))+ot[14]+3275163606&4294967295)<<9&4294967295|Be>>>23))+((Be=ct+(Ne^$e&(bt^Ne))+ot[3]+4107603335&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(bt^Ne&(ct^bt))+ot[8]+1163531501&4294967295)<<20&4294967295|Be>>>12))+((Be=Ne+(ct^bt&($e^ct))+ot[13]+2850285829&4294967295)<<5&4294967295|Be>>>27))+((Be=bt+($e^ct&(Ne^$e))+ot[2]+4243563512&4294967295)<<9&4294967295|Be>>>23))+((Be=ct+(Ne^$e&(bt^Ne))+ot[7]+1735328473&4294967295)<<14&4294967295|Be>>>18))+((Be=$e+(bt^Ne&(ct^bt))+ot[12]+2368359562&4294967295)<<20&4294967295|Be>>>12))+((Be=Ne+($e^ct^bt)+ot[5]+4294588738&4294967295)<<4&4294967295|Be>>>28))+((Be=bt+(Ne^$e^ct)+ot[8]+2272392833&4294967295)<<11&4294967295|Be>>>21))+((Be=ct+(bt^Ne^$e)+ot[11]+1839030562&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(ct^bt^Ne)+ot[14]+4259657740&4294967295)<<23&4294967295|Be>>>9))+((Be=Ne+($e^ct^bt)+ot[1]+2763975236&4294967295)<<4&4294967295|Be>>>28))+((Be=bt+(Ne^$e^ct)+ot[4]+1272893353&4294967295)<<11&4294967295|Be>>>21))+((Be=ct+(bt^Ne^$e)+ot[7]+4139469664&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(ct^bt^Ne)+ot[10]+3200236656&4294967295)<<23&4294967295|Be>>>9))+((Be=Ne+($e^ct^bt)+ot[13]+681279174&4294967295)<<4&4294967295|Be>>>28))+((Be=bt+(Ne^$e^ct)+ot[0]+3936430074&4294967295)<<11&4294967295|Be>>>21))+((Be=ct+(bt^Ne^$e)+ot[3]+3572445317&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(ct^bt^Ne)+ot[6]+76029189&4294967295)<<23&4294967295|Be>>>9))+((Be=Ne+($e^ct^bt)+ot[9]+3654602809&4294967295)<<4&4294967295|Be>>>28))+((Be=bt+(Ne^$e^ct)+ot[12]+3873151461&4294967295)<<11&4294967295|Be>>>21))+((Be=ct+(bt^Ne^$e)+ot[15]+530742520&4294967295)<<16&4294967295|Be>>>16))+((Be=$e+(ct^bt^Ne)+ot[2]+3299628645&4294967295)<<23&4294967295|Be>>>9))+((Be=Ne+(ct^($e|~bt))+ot[0]+4096336452&4294967295)<<6&4294967295|Be>>>26))+((Be=bt+($e^(Ne|~ct))+ot[7]+1126891415&4294967295)<<10&4294967295|Be>>>22))+((Be=ct+(Ne^(bt|~$e))+ot[14]+2878612391&4294967295)<<15&4294967295|Be>>>17))+((Be=$e+(bt^(ct|~Ne))+ot[5]+4237533241&4294967295)<<21&4294967295|Be>>>11))+((Be=Ne+(ct^($e|~bt))+ot[12]+1700485571&4294967295)<<6&4294967295|Be>>>26))+((Be=bt+($e^(Ne|~ct))+ot[3]+2399980690&4294967295)<<10&4294967295|Be>>>22))+((Be=ct+(Ne^(bt|~$e))+ot[10]+4293915773&4294967295)<<15&4294967295|Be>>>17))+((Be=$e+(bt^(ct|~Ne))+ot[1]+2240044497&4294967295)<<21&4294967295|Be>>>11))+((Be=Ne+(ct^($e|~bt))+ot[8]+1873313359&4294967295)<<6&4294967295|Be>>>26))+((Be=bt+($e^(Ne|~ct))+ot[15]+4264355552&4294967295)<<10&4294967295|Be>>>22))+((Be=ct+(Ne^(bt|~$e))+ot[6]+2734768916&4294967295)<<15&4294967295|Be>>>17))+((Be=$e+(bt^(ct|~Ne))+ot[13]+1309151649&4294967295)<<21&4294967295|Be>>>11))+((bt=(Ne=$e+((Be=Ne+(ct^($e|~bt))+ot[4]+4149444226&4294967295)<<6&4294967295|Be>>>26))+((Be=bt+($e^(Ne|~ct))+ot[11]+3174756917&4294967295)<<10&4294967295|Be>>>22))^((ct=bt+((Be=ct+(Ne^(bt|~$e))+ot[2]+718787259&4294967295)<<15&4294967295|Be>>>17))|~Ne))+ot[9]+3951481745&4294967295,it.g[0]=it.g[0]+Ne&4294967295,it.g[1]=it.g[1]+(ct+(Be<<21&4294967295|Be>>>11))&4294967295,it.g[2]=it.g[2]+ct&4294967295,it.g[3]=it.g[3]+bt&4294967295}function E(it,Ne){this.h=Ne;for(var $e=[],ot=!0,ct=it.length-1;0<=ct;ct--){var bt=0|it[ct];ot&&bt==Ne||($e[ct]=bt,ot=!1)}this.g=$e}(function n(it,Ne){function $e(){}$e.prototype=Ne.prototype,it.D=Ne.prototype,it.prototype=new $e,it.prototype.constructor=it,it.C=function(ot,ct,bt){for(var Be=Array(arguments.length-2),Ru=2;Ru<arguments.length;Ru++)Be[Ru-2]=arguments[Ru];return Ne.prototype[ct].apply(ot,Be)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(it,Ne){void 0===Ne&&(Ne=it.length);for(var $e=Ne-this.blockSize,ot=this.B,ct=this.h,bt=0;bt<Ne;){if(0==ct)for(;bt<=$e;)u(this,it,bt),bt+=this.blockSize;if("string"==typeof it){for(;bt<Ne;)if(ot[ct++]=it.charCodeAt(bt++),ct==this.blockSize){u(this,ot),ct=0;break}}else for(;bt<Ne;)if(ot[ct++]=it[bt++],ct==this.blockSize){u(this,ot),ct=0;break}}this.h=ct,this.o+=Ne},s.prototype.v=function(){var it=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);it[0]=128;for(var Ne=1;Ne<it.length-8;++Ne)it[Ne]=0;var $e=8*this.o;for(Ne=it.length-8;Ne<it.length;++Ne)it[Ne]=255&$e,$e/=256;for(this.u(it),it=Array(16),Ne=$e=0;4>Ne;++Ne)for(var ot=0;32>ot;ot+=8)it[$e++]=this.g[Ne]>>>ot&255;return it};var R={};function k(it){return-128<=it&&128>it?function p(it,Ne){var $e=R;return Object.prototype.hasOwnProperty.call($e,it)?$e[it]:$e[it]=Ne(it)}(it,function(Ne){return new E([0|Ne],0>Ne?-1:0)}):new E([0|it],0>it?-1:0)}function L(it){if(isNaN(it)||!isFinite(it))return oe;if(0>it)return nn(L(-it));for(var Ne=[],$e=1,ot=0;it>=$e;ot++)Ne[ot]=it/$e|0,$e*=4294967296;return new E(Ne,0)}var oe=k(0),ke=k(1),wt=k(16777216);function Bt(it){if(0!=it.h)return!1;for(var Ne=0;Ne<it.g.length;Ne++)if(0!=it.g[Ne])return!1;return!0}function cn(it){return-1==it.h}function nn(it){for(var Ne=it.g.length,$e=[],ot=0;ot<Ne;ot++)$e[ot]=~it.g[ot];return new E($e,~it.h).add(ke)}function er(it,Ne){return it.add(nn(Ne))}function or(it,Ne){for(;(65535&it[Ne])!=it[Ne];)it[Ne+1]+=it[Ne]>>>16,it[Ne]&=65535,Ne++}function Mn(it,Ne){this.g=it,this.h=Ne}function Fr(it,Ne){if(Bt(Ne))throw Error("division by zero");if(Bt(it))return new Mn(oe,oe);if(cn(it))return Ne=Fr(nn(it),Ne),new Mn(nn(Ne.g),nn(Ne.h));if(cn(Ne))return Ne=Fr(it,nn(Ne)),new Mn(nn(Ne.g),Ne.h);if(30<it.g.length){if(cn(it)||cn(Ne))throw Error("slowDivide_ only works with positive integers.");for(var $e=ke,ot=Ne;0>=ot.l(it);)$e=xi($e),ot=xi(ot);var ct=ii($e,1),bt=ii(ot,1);for(ot=ii(ot,2),$e=ii($e,2);!Bt(ot);){var Be=bt.add(ot);0>=Be.l(it)&&(ct=ct.add($e),bt=Be),ot=ii(ot,1),$e=ii($e,1)}return Ne=er(it,ct.j(Ne)),new Mn(ct,Ne)}for(ct=oe;0<=it.l(Ne);){for($e=Math.max(1,Math.floor(it.m()/Ne.m())),ot=48>=(ot=Math.ceil(Math.log($e)/Math.LN2))?1:Math.pow(2,ot-48),Be=(bt=L($e)).j(Ne);cn(Be)||0<Be.l(it);)Be=(bt=L($e-=ot)).j(Ne);Bt(bt)&&(bt=ke),ct=ct.add(bt),it=er(it,Be)}return new Mn(ct,it)}function xi(it){for(var Ne=it.g.length+1,$e=[],ot=0;ot<Ne;ot++)$e[ot]=it.i(ot)<<1|it.i(ot-1)>>>31;return new E($e,it.h)}function ii(it,Ne){var $e=Ne>>5;Ne%=32;for(var ot=it.g.length-$e,ct=[],bt=0;bt<ot;bt++)ct[bt]=0<Ne?it.i(bt+$e)>>>Ne|it.i(bt+$e+1)<<32-Ne:it.i(bt+$e);return new E(ct,it.h)}(c=E.prototype).m=function(){if(cn(this))return-nn(this).m();for(var it=0,Ne=1,$e=0;$e<this.g.length;$e++){var ot=this.i($e);it+=(0<=ot?ot:4294967296+ot)*Ne,Ne*=4294967296}return it},c.toString=function(it){if(2>(it=it||10)||36<it)throw Error("radix out of range: "+it);if(Bt(this))return"0";if(cn(this))return"-"+nn(this).toString(it);for(var Ne=L(Math.pow(it,6)),$e=this,ot="";;){var ct=Fr($e,Ne).g,bt=((0<($e=er($e,ct.j(Ne))).g.length?$e.g[0]:$e.h)>>>0).toString(it);if(Bt($e=ct))return bt+ot;for(;6>bt.length;)bt="0"+bt;ot=bt+ot}},c.i=function(it){return 0>it?0:it<this.g.length?this.g[it]:this.h},c.l=function(it){return cn(it=er(this,it))?-1:Bt(it)?0:1},c.abs=function(){return cn(this)?nn(this):this},c.add=function(it){for(var Ne=Math.max(this.g.length,it.g.length),$e=[],ot=0,ct=0;ct<=Ne;ct++){var bt=ot+(65535&this.i(ct))+(65535&it.i(ct)),Be=(bt>>>16)+(this.i(ct)>>>16)+(it.i(ct)>>>16);ot=Be>>>16,$e[ct]=(Be&=65535)<<16|(bt&=65535)}return new E($e,-2147483648&$e[$e.length-1]?-1:0)},c.j=function(it){if(Bt(this)||Bt(it))return oe;if(cn(this))return cn(it)?nn(this).j(nn(it)):nn(nn(this).j(it));if(cn(it))return nn(this.j(nn(it)));if(0>this.l(wt)&&0>it.l(wt))return L(this.m()*it.m());for(var Ne=this.g.length+it.g.length,$e=[],ot=0;ot<2*Ne;ot++)$e[ot]=0;for(ot=0;ot<this.g.length;ot++)for(var ct=0;ct<it.g.length;ct++){var bt=this.i(ot)>>>16,Be=65535&this.i(ot),Ru=it.i(ct)>>>16,Vd=65535&it.i(ct);$e[2*ot+2*ct]+=Be*Vd,or($e,2*ot+2*ct),$e[2*ot+2*ct+1]+=bt*Vd,or($e,2*ot+2*ct+1),$e[2*ot+2*ct+1]+=Be*Ru,or($e,2*ot+2*ct+1),$e[2*ot+2*ct+2]+=bt*Ru,or($e,2*ot+2*ct+2)}for(ot=0;ot<Ne;ot++)$e[ot]=$e[2*ot+1]<<16|$e[2*ot];for(ot=Ne;ot<2*Ne;ot++)$e[ot]=0;return new E($e,0)},c.A=function(it){return Fr(this,it).h},c.and=function(it){for(var Ne=Math.max(this.g.length,it.g.length),$e=[],ot=0;ot<Ne;ot++)$e[ot]=this.i(ot)&it.i(ot);return new E($e,this.h&it.h)},c.or=function(it){for(var Ne=Math.max(this.g.length,it.g.length),$e=[],ot=0;ot<Ne;ot++)$e[ot]=this.i(ot)|it.i(ot);return new E($e,this.h|it.h)},c.xor=function(it){for(var Ne=Math.max(this.g.length,it.g.length),$e=[],ot=0;ot<Ne;ot++)$e[ot]=this.i(ot)^it.i(ot);return new E($e,this.h^it.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,xe=Ee.Md5=s,E.prototype.add=E.prototype.add,E.prototype.multiply=E.prototype.j,E.prototype.modulo=E.prototype.A,E.prototype.compare=E.prototype.l,E.prototype.toNumber=E.prototype.m,E.prototype.toString=E.prototype.toString,E.prototype.getBits=E.prototype.i,E.fromNumber=L,E.fromString=function X(it,Ne){if(0==it.length)throw Error("number format error: empty string");if(2>(Ne=Ne||10)||36<Ne)throw Error("radix out of range: "+Ne);if("-"==it.charAt(0))return nn(X(it.substring(1),Ne));if(0<=it.indexOf("-"))throw Error('number format error: interior "-" character');for(var $e=L(Math.pow(Ne,8)),ot=oe,ct=0;ct<it.length;ct+=8){var bt=Math.min(8,it.length-ct),Be=parseInt(it.substring(ct,ct+bt),Ne);8>bt?(bt=L(Math.pow(Ne,bt)),ot=ot.j(bt).add(L(Be))):ot=(ot=ot.j($e)).add(L(Be))}return ot},fe=Ee.Integer=E}).apply(typeof Qe<"u"?Qe:typeof self<"u"?self:typeof window<"u"?window:{});var et,at,At,Ut,Ft,Xt,pt,_t,me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pe={};(function(){var c,n="function"==typeof Object.defineProperties?Object.defineProperty:function(v,O,H){return v==Array.prototype||v==Object.prototype||(v[O]=H.value),v},s=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof me&&me];for(var O=0;O<v.length;++O){var H=v[O];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}(this);!function u(v,O){if(O)e:{var H=s;v=v.split(".");for(var re=0;re<v.length-1;re++){var mt=v[re];if(!(mt in H))break e;H=H[mt]}(O=O(re=H[v=v[v.length-1]]))!=re&&null!=O&&n(H,v,{configurable:!0,writable:!0,value:O})}}("Array.prototype.values",function(v){return v||function(){return function p(v,O){v instanceof String&&(v+="");var H=0,re=!1,mt={next:function(){if(!re&&H<v.length){var xt=H++;return{value:O(xt,v[xt]),done:!1}}return re=!0,{done:!0,value:void 0}}};return mt[Symbol.iterator]=function(){return mt},mt}(this,function(O,H){return H})}});var E=E||{},R=this||self;function k(v){var O=typeof v;return"array"==(O="object"!=O?O:v?Array.isArray(v)?"array":O:"null")||"object"==O&&"number"==typeof v.length}function L(v){var O=typeof v;return"object"==O&&null!=v||"function"==O}function X(v,O,H){return v.call.apply(v.bind,arguments)}function oe(v,O,H){if(!v)throw Error();if(2<arguments.length){var re=Array.prototype.slice.call(arguments,2);return function(){var mt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(mt,re),v.apply(O,mt)}}return function(){return v.apply(O,arguments)}}function ke(v,O,H){return(ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X:oe).apply(null,arguments)}function wt(v,O){var H=Array.prototype.slice.call(arguments,1);return function(){var re=H.slice();return re.push.apply(re,arguments),v.apply(this,re)}}function Bt(v,O){function H(){}H.prototype=O.prototype,v.aa=O.prototype,v.prototype=new H,v.prototype.constructor=v,v.Qb=function(re,mt,xt){for(var Sn=Array(arguments.length-2),lo=2;lo<arguments.length;lo++)Sn[lo-2]=arguments[lo];return O.prototype[mt].apply(re,Sn)}}function cn(v){const O=v.length;if(0<O){const H=Array(O);for(let re=0;re<O;re++)H[re]=v[re];return H}return[]}function nn(v,O){for(let H=1;H<arguments.length;H++){const re=arguments[H];if(k(re)){const mt=v.length||0,xt=re.length||0;v.length=mt+xt;for(let Sn=0;Sn<xt;Sn++)v[mt+Sn]=re[Sn]}else v.push(re)}}function or(v){return/^[\s\xa0]*$/.test(v)}function Mn(){var v=R.navigator;return v&&(v=v.userAgent)?v:""}function Fr(v){return Fr[" "](v),v}Fr[" "]=function(){};var xi=!(-1==Mn().indexOf("Gecko")||-1!=Mn().toLowerCase().indexOf("webkit")&&-1==Mn().indexOf("Edge")||-1!=Mn().indexOf("Trident")||-1!=Mn().indexOf("MSIE")||-1!=Mn().indexOf("Edge"));function ii(v,O,H){for(const re in v)O.call(H,v[re],re,v)}function Ne(v){const O={};for(const H in v)O[H]=v[H];return O}const $e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(v,O){let H,re;for(let mt=1;mt<arguments.length;mt++){for(H in re=arguments[mt],re)v[H]=re[H];for(let xt=0;xt<$e.length;xt++)H=$e[xt],Object.prototype.hasOwnProperty.call(re,H)&&(v[H]=re[H])}}function ct(v){var O=1;v=v.split(":");const H=[];for(;0<O&&v.length;)H.push(v.shift()),O--;return v.length&&H.push(v.join(":")),H}function bt(v){R.setTimeout(()=>{throw v},0)}function Be(){var v=Xm;let O=null;return v.g&&(O=v.g,v.g=v.g.next,v.g||(v.h=null),O.next=null),O}var Vd=new class er{constructor(O,H){this.i=O,this.j=H,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}(()=>new Qm,v=>v.reset());class Qm{constructor(){this.next=this.g=this.h=null}set(O,H){this.h=O,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let wl,Kh=!1,Xm=new class Ru{constructor(){this.h=this.g=null}add(O,H){const re=Vd.get();re.set(O,H),this.h?this.h.next=re:this.g=re,this.h=re}},qh=()=>{const v=R.Promise.resolve(void 0);wl=()=>{v.then(bw)}};var bw=()=>{for(var v;v=Be();){try{v.h.call(v.g)}catch(H){bt(H)}var O=Vd;O.j(v),100>O.h&&(O.h++,v.next=O.g,O.g=v)}Kh=!1};function xa(){this.s=this.s,this.C=this.C}function Jo(v,O){this.type=v,this.g=this.target=O,this.defaultPrevented=!1}xa.prototype.s=!1,xa.prototype.ma=function(){this.s||(this.s=!0,this.N())},xa.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Jo.prototype.h=function(){this.defaultPrevented=!0};var Zm=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var v=!1,O=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const H=()=>{};R.addEventListener("test",H,O),R.removeEventListener("test",H,O)}catch{}return v}();function Il(v,O){if(Jo.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var H=this.type=v.type,re=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=O,O=v.relatedTarget){if(xi){e:{try{Fr(O.nodeName);var mt=!0;break e}catch{}mt=!1}mt||(O=null)}}else"mouseover"==H?O=v.fromElement:"mouseout"==H&&(O=v.toElement);this.relatedTarget=O,re?(this.clientX=void 0!==re.clientX?re.clientX:re.pageX,this.clientY=void 0!==re.clientY?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:Dw[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Il.aa.h.call(this)}}Bt(Il,Jo);var Dw={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Pu="closure_listenable_"+(1e6*Math.random()|0),Mu=0;function Ud(v,O,H,re,mt){this.listener=v,this.proxy=null,this.src=O,this.type=H,this.capture=!!re,this.ha=mt,this.key=++Mu,this.da=this.fa=!1}function Qh(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function xp(v){this.src=v,this.g={},this.h=0}function Op(v,O){var H=O.type;if(H in v.g){var xt,re=v.g[H],mt=Array.prototype.indexOf.call(re,O,void 0);(xt=0<=mt)&&Array.prototype.splice.call(re,mt,1),xt&&(Qh(O),0==v.g[H].length&&(delete v.g[H],v.h--))}}function Ym(v,O,H,re){for(var mt=0;mt<v.length;++mt){var xt=v[mt];if(!xt.da&&xt.listener==O&&xt.capture==!!H&&xt.ha==re)return mt}return-1}xp.prototype.add=function(v,O,H,re,mt){var xt=v.toString();(v=this.g[xt])||(v=this.g[xt]=[],this.h++);var Sn=Ym(v,O,re,mt);return-1<Sn?(O=v[Sn],H||(O.fa=!1)):((O=new Ud(O,this.src,xt,!!re,mt)).fa=H,v.push(O)),O};var Xh="closure_lm_"+(1e6*Math.random()|0),Tl={};function Fp(v,O,H,re,mt){if(re&&re.once)return Lp(v,O,H,re,mt);if(Array.isArray(O)){for(var xt=0;xt<O.length;xt++)Fp(v,O[xt],H,re,mt);return null}return H=Bd(H),v&&v[Pu]?v.K(O,H,L(re)?!!re.capture:!!re,mt):lv(v,O,H,!1,re,mt)}function lv(v,O,H,re,mt,xt){if(!O)throw Error("Invalid event type");var Sn=L(mt)?!!mt.capture:!!mt,lo=Zh(v);if(lo||(v[Xh]=lo=new xp(v)),(H=lo.add(O,H,re,Sn,xt)).proxy)return H;if(re=function Aw(){const O=dv;return function v(H){return O.call(v.src,v.listener,H)}}(),H.proxy=re,re.src=v,re.listener=H,v.addEventListener)Zm||(mt=Sn),void 0===mt&&(mt=!1),v.addEventListener(O.toString(),re,mt);else if(v.attachEvent)v.attachEvent(ey(O.toString()),re);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(re)}return H}function Lp(v,O,H,re,mt){if(Array.isArray(O)){for(var xt=0;xt<O.length;xt++)Lp(v,O[xt],H,re,mt);return null}return H=Bd(H),v&&v[Pu]?v.L(O,H,L(re)?!!re.capture:!!re,mt):lv(v,O,H,!0,re,mt)}function Jm(v,O,H,re,mt){if(Array.isArray(O))for(var xt=0;xt<O.length;xt++)Jm(v,O[xt],H,re,mt);else re=L(re)?!!re.capture:!!re,H=Bd(H),v&&v[Pu]?(v=v.i,(O=String(O).toString())in v.g&&-1<(H=Ym(xt=v.g[O],H,re,mt))&&(Qh(xt[H]),Array.prototype.splice.call(xt,H,1),0==xt.length&&(delete v.g[O],v.h--))):v&&(v=Zh(v))&&(O=v.g[O.toString()],v=-1,O&&(v=Ym(O,H,re,mt)),(H=-1<v?O[v]:null)&&Vp(H))}function Vp(v){if("number"!=typeof v&&v&&!v.da){var O=v.src;if(O&&O[Pu])Op(O.i,v);else{var H=v.type,re=v.proxy;O.removeEventListener?O.removeEventListener(H,re,v.capture):O.detachEvent?O.detachEvent(ey(H),re):O.addListener&&O.removeListener&&O.removeListener(re),(H=Zh(O))?(Op(H,v),0==H.h&&(H.src=null,O[Xh]=null)):Qh(v)}}}function ey(v){return v in Tl?Tl[v]:Tl[v]="on"+v}function dv(v,O){if(v.da)v=!0;else{O=new Il(O,this);var H=v.listener,re=v.ha||v.src;v.fa&&Vp(v),v=H.call(re,O)}return v}function Zh(v){return(v=v[Xh])instanceof xp?v:null}var Up="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bd(v){return"function"==typeof v?v:(v[Up]||(v[Up]=function(O){return v.handleEvent(O)}),v[Up])}function es(){xa.call(this),this.i=new xp(this),this.M=this,this.F=null}function ea(v,O){var H,re=v.F;if(re)for(H=[];re;re=re.F)H.push(re);if(v=v.M,re=O.type||O,"string"==typeof O)O=new Jo(O,v);else if(O instanceof Jo)O.target=O.target||v;else{var mt=O;ot(O=new Jo(re,v),mt)}if(mt=!0,H)for(var xt=H.length-1;0<=xt;xt--){var Sn=O.g=H[xt];mt=jd(Sn,re,!0,O)&&mt}if(mt=jd(Sn=O.g=v,re,!0,O)&&mt,mt=jd(Sn,re,!1,O)&&mt,H)for(xt=0;xt<H.length;xt++)mt=jd(Sn=O.g=H[xt],re,!1,O)&&mt}function jd(v,O,H,re){if(!(O=v.i.g[String(O)]))return!0;O=O.concat();for(var mt=!0,xt=0;xt<O.length;++xt){var Sn=O[xt];if(Sn&&!Sn.da&&Sn.capture==H){var lo=Sn.listener,ys=Sn.ha||Sn.src;Sn.fa&&Op(v.i,Sn),mt=!1!==lo.call(ys,re)&&mt}}return mt&&!re.defaultPrevented}function Bp(v,O,H){if("function"==typeof v)H&&(v=ke(v,H));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=ke(v.handleEvent,v)}return 2147483647<Number(O)?-1:R.setTimeout(v,O||0)}function Yh(v){v.g=Bp(()=>{v.g=null,v.i&&(v.i=!1,Yh(v))},v.l);const O=v.h;v.h=null,v.m.apply(null,O)}Bt(es,xa),es.prototype[Pu]=!0,es.prototype.removeEventListener=function(v,O,H,re){Jm(this,v,O,H,re)},es.prototype.N=function(){if(es.aa.N.call(this),this.i){var O,v=this.i;for(O in v.g){for(var H=v.g[O],re=0;re<H.length;re++)Qh(H[re]);delete v.g[O],v.h--}}this.F=null},es.prototype.K=function(v,O,H,re){return this.i.add(String(v),O,!1,H,re)},es.prototype.L=function(v,O,H,re){return this.i.add(String(v),O,!0,H,re)};class Cw extends xa{constructor(O,H){super(),this.m=O,this.l=H,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:Yh(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $d(v){xa.call(this),this.h=v,this.g={}}Bt($d,xa);var hv=[];function fv(v){ii(v.g,function(O,H){this.g.hasOwnProperty(H)&&Vp(O)},v),v.g={}}$d.prototype.N=function(){$d.aa.N.call(this),fv(this)},$d.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nu=R.JSON.stringify,ty=R.JSON.parse,pv=class{stringify(v){return R.JSON.stringify(v,void 0)}parse(v){return R.JSON.parse(v,void 0)}};function jp(){}function mv(){}jp.prototype.h=null;var Jh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ny(){Jo.call(this,"d")}function ry(){Jo.call(this,"c")}Bt(ny,Jo),Bt(ry,Jo);var bl={},iy=null;function ef(){return iy=iy||new es}function yv(v){Jo.call(this,bl.La,v)}function ku(v){const O=ef();ea(O,new yv(O))}function _v(v,O){Jo.call(this,bl.STAT_EVENT,v),this.stat=O}function ta(v){const O=ef();ea(O,new _v(O,v))}function oy(v,O){Jo.call(this,bl.Ma,v),this.size=O}function Hd(v,O){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){v()},O)}function tf(){this.g=!0}function xu(v,O,H,re){v.info(function(){return"XMLHTTP TEXT ("+O+"): "+function Rw(v,O){if(!v.g)return O;if(!O)return null;try{var H=JSON.parse(O);if(H)for(v=0;v<H.length;v++)if(Array.isArray(H[v])){var re=H[v];if(!(2>re.length)){var mt=re[1];if(Array.isArray(mt)&&!(1>mt.length)){var xt=mt[0];if("noop"!=xt&&"stop"!=xt&&"close"!=xt)for(var Sn=1;Sn<mt.length;Sn++)mt[Sn]=""}}}return Nu(H)}catch{return O}}(v,H)+(re?" "+re:"")})}bl.La="serverreachability",Bt(yv,Jo),bl.STAT_EVENT="statevent",Bt(_v,Jo),bl.Ma="timingevent",Bt(oy,Jo),tf.prototype.xa=function(){this.g=!1},tf.prototype.info=function(){};var $p,Ou={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ru(){}function Mc(v,O,H,re){this.j=v,this.i=O,this.l=H,this.R=re||1,this.U=new $d(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zd}function zd(){this.i=null,this.g="",this.h=!1}Bt(ru,jp),ru.prototype.g=function(){return new XMLHttpRequest},ru.prototype.i=function(){return{}},$p=new ru;var wv={},Hp={};function Dl(v,O,H){v.L=1,v.v=sf(kc(O)),v.m=H,v.P=!0,Pw(v,null)}function Pw(v,O){v.F=Date.now(),zp(v),v.A=kc(v.v);var H=v.A,re=v.R;Array.isArray(re)||(re=[String(re)]),Nv(H.i,"t",re),v.C=0,H=v.j.J,v.h=new zd,v.g=ju(v.j,H?O:null,!v.m),0<v.O&&(v.M=new Cw(ke(v.Y,v,v.g),v.O)),O=v.U,H=v.g,re=v.ca;var mt="readystatechange";Array.isArray(mt)||(mt&&(hv[0]=mt.toString()),mt=hv);for(var xt=0;xt<mt.length;xt++){var Sn=Fp(H,mt[xt],re||O.handleEvent,!1,O.h||O);if(!Sn)break;O.g[Sn.key]=Sn}O=v.H?Ne(v.H):{},v.m?(v.u||(v.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,O)):(v.u="GET",v.g.ea(v.A,v.u,null,O)),ku(),function Sw(v,O,H,re,mt,xt){v.info(function(){if(v.g)if(xt)for(var Sn="",lo=xt.split("&"),ys=0;ys<lo.length;ys++){var bi=lo[ys].split("=");if(1<bi.length){var js=bi[0];bi=bi[1];var na=js.split("_");Sn=2<=na.length&&"type"==na[1]?Sn+(js+"=")+bi+"&":Sn+(js+"=redacted&")}}else Sn=null;else Sn=xt;return"XMLHTTP REQ ("+re+") [attempt "+mt+"]: "+O+"\n"+H+"\n"+Sn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function Mw(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function nf(v,O){var H=v.C,re=O.indexOf("\n",H);return-1==re?Hp:(H=Number(O.substring(H,re)),isNaN(H)?wv:(re+=1)+H>O.length?Hp:(O=O.slice(re,re+H),v.C=re+H,O))}function zp(v){v.S=Date.now()+v.I,Iv(v,v.I)}function Iv(v,O){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Hd(ke(v.ba,v),O)}function ay(v){v.B&&(R.clearTimeout(v.B),v.B=null)}function Fu(v){0==v.j.G||v.J||Gv(v.j,v)}function iu(v){ay(v);var O=v.M;O&&"function"==typeof O.ma&&O.ma(),v.M=null,fv(v.U),v.g&&(O=v.g,v.g=null,O.abort(),O.ma())}function cy(v,O){try{var H=v.j;if(0!=H.G&&(H.g==v||Dv(H.h,v)))if(!v.K&&Dv(H.h,v)&&3==H.G){try{var re=H.Da.g.parse(O)}catch{re=null}if(Array.isArray(re)&&3==re.length){var mt=re;if(0==mt[0]){e:if(!H.u){if(H.g){if(!(H.g.F+3e3<v.F))break e;Zp(H),qp(H)}yy(H),ta(18)}}else H.za=mt[1],0<H.za-H.T&&37500>mt[2]&&H.F&&0==H.v&&!H.C&&(H.C=Hd(ke(H.Za,H),6e3));if(1>=bv(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Rl(H,11)}else if((v.K||H.g==v)&&Zp(H),!or(O))for(mt=H.Da.g.parse(O),O=0;O<mt.length;O++){let bi=mt[O];if(H.T=bi[0],bi=bi[1],2==H.G)if("c"==bi[0]){H.K=bi[1],H.ia=bi[2];const js=bi[3];null!=js&&(H.la=js,H.j.info("VER="+H.la));const na=bi[4];null!=na&&(H.Aa=na,H.j.info("SVER="+H.Aa));const Yd=bi[5];null!=Yd&&"number"==typeof Yd&&0<Yd&&(H.L=re=1.5*Yd,H.j.info("backChannelRequestTimeoutMs_="+re)),re=H;const Ka=v.g;if(Ka){const Jp=Ka.g?Ka.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jp){var xt=re.h;xt.g||-1==Jp.indexOf("spdy")&&-1==Jp.indexOf("quic")&&-1==Jp.indexOf("h2")||(xt.j=xt.l,xt.g=new Set,xt.h&&(uy(xt,xt.h),xt.h=null))}if(re.D){const vy=Ka.g?Ka.g.getResponseHeader("X-HTTP-Session-Id"):null;vy&&(re.ya=vy,oo(re.I,re.D,vy))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-v.F,H.j.info("Handshake RTT: "+H.R+"ms"));var Sn=v;if((re=H).qa=qv(re,re.J?re.ia:null,re.W),Sn.K){kw(re.h,Sn);var lo=Sn,ys=re.L;ys&&(lo.I=ys),lo.B&&(ay(lo),zp(lo)),re.g=Sn}else zv(re);0<H.i.length&&Qp(H)}else"stop"!=bi[0]&&"close"!=bi[0]||Rl(H,7);else 3==H.G&&("stop"==bi[0]||"close"==bi[0]?"stop"==bi[0]?Rl(H,7):Kp(H):"noop"!=bi[0]&&H.l&&H.l.ta(bi),H.v=0)}ku()}catch{}}Mc.prototype.ca=function(v){v=v.target;const O=this.M;O&&3==Bu(v)?O.j():this.Y(v)},Mc.prototype.Y=function(v){try{if(v==this.g)e:{const na=Bu(this.g);var O=this.g.Ba();if(this.g.Z(),!(3>na)&&(3!=na||this.g&&(this.h.h||this.g.oa()||Uv(this.g)))){this.J||4!=na||7==O||ku(),ay(this);var H=this.g.Z();this.X=H;t:if(Mw(this)){var re=Uv(this.g);v="";var mt=re.length,xt=4==Bu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){iu(this),Fu(this);var Sn="";break t}this.h.i=new R.TextDecoder}for(O=0;O<mt;O++)this.h.h=!0,v+=this.h.i.decode(re[O],{stream:!(xt&&O==mt-1)});re.length=0,this.h.g+=v,this.C=0,Sn=this.h.g}else Sn=this.g.oa();if(this.o=200==H,function vv(v,O,H,re,mt,xt,Sn){v.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+mt+"]: "+O+"\n"+H+"\n"+xt+" "+Sn})}(this.i,this.u,this.A,this.l,this.R,na,H),this.o){if(this.T&&!this.K){t:{if(this.g){var lo,ys=this.g;if((lo=ys.g?ys.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!or(lo)){var bi=lo;break t}}bi=null}if(!(H=bi)){this.o=!1,this.s=3,ta(12),iu(this),Fu(this);break e}xu(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cy(this,H)}if(this.P){let Ka;for(H=!0;!this.J&&this.C<Sn.length;){if(Ka=nf(this,Sn),Ka==Hp){4==na&&(this.s=4,ta(14),H=!1),xu(this.i,this.l,null,"[Incomplete Response]");break}if(Ka==wv){this.s=4,ta(15),xu(this.i,this.l,Sn,"[Invalid Chunk]"),H=!1;break}xu(this.i,this.l,Ka,null),cy(this,Ka)}if(Mw(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=na||0!=Sn.length||this.h.h||(this.s=1,ta(16),H=!1),this.o=this.o&&H,H){if(0<Sn.length&&!this.W){this.W=!0;var js=this.j;js.g==this&&js.ba&&!js.M&&(js.j.info("Great, no buffering proxy detected. Bytes received: "+Sn.length),_y(js),js.M=!0,ta(11))}}else xu(this.i,this.l,Sn,"[Invalid Chunked Response]"),iu(this),Fu(this)}else xu(this.i,this.l,Sn,null),cy(this,Sn);4==na&&iu(this),this.o&&!this.J&&(4==na?Gv(this.j,this):(this.o=!1,zp(this)))}else(function Bv(v){const O={};v=(v.g&&2<=Bu(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let re=0;re<v.length;re++){if(or(v[re]))continue;var H=ct(v[re]);const mt=H[0];if("string"!=typeof(H=H[1]))continue;H=H.trim();const xt=O[mt]||[];O[mt]=xt,xt.push(H)}!function it(v,O){for(const H in v)O.call(void 0,v[H],H,v)}(O,function(re){return re.join(", ")})})(this.g),400==H&&0<Sn.indexOf("Unknown SID")?(this.s=3,ta(12)):(this.s=0,ta(13)),iu(this),Fu(this)}}}catch{}},Mc.prototype.cancel=function(){this.J=!0,iu(this)},Mc.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function Ev(v,O){v.info(function(){return"TIMEOUT: "+O})}(this.i,this.A),2!=this.L&&(ku(),ta(17)),iu(this),this.s=2,Fu(this)):Iv(this,this.S-v)};var zT=class{constructor(v,O){this.g=v,this.map=O}};function Nw(v){this.l=v||10,v=R.PerformanceNavigationTiming?0<(v=R.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tv(v){return!!v.h||!!v.g&&v.g.size>=v.j}function bv(v){return v.h?1:v.g?v.g.size:0}function Dv(v,O){return v.h?v.h==O:!!v.g&&v.g.has(O)}function uy(v,O){v.g?v.g.add(O):v.h=O}function kw(v,O){v.h&&v.h==O?v.h=null:v.g&&v.g.has(O)&&v.g.delete(O)}function Av(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let O=v.i;for(const H of v.g.values())O=O.concat(H.D);return O}return cn(v.i)}function Wp(v,O){if(v.forEach&&"function"==typeof v.forEach)v.forEach(O,void 0);else if(k(v)||"string"==typeof v)Array.prototype.forEach.call(v,O,void 0);else for(var H=function Ow(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(k(v)||"string"==typeof v){var O=[];v=v.length;for(var H=0;H<v;H++)O.push(H);return O}O=[],H=0;for(const re in v)O[H++]=re;return O}}}(v),re=function xw(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(k(v)){for(var O=[],H=v.length,re=0;re<H;re++)O.push(v[re]);return O}for(re in O=[],H=0,v)O[H++]=v[re];return O}(v),mt=re.length,xt=0;xt<mt;xt++)O.call(void 0,re[xt],H&&H[xt],v)}Nw.prototype.cancel=function(){if(this.i=Av(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var Wd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nc(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Nc){this.h=v.h,Lu(this,v.j),this.o=v.o,this.g=v.g,rf(this,v.s),this.l=v.l;var O=v.i,H=new af;H.i=O.i,O.g&&(H.g=new Map(O.g),H.h=O.h),Cv(this,H),this.m=v.m}else v&&(O=String(v).match(Wd))?(this.h=!1,Lu(this,O[1]||"",!0),this.o=Gd(O[2]||""),this.g=Gd(O[3]||"",!0),rf(this,O[4]),this.l=Gd(O[5]||"",!0),Cv(this,O[6]||"",!0),this.m=Gd(O[7]||"")):(this.h=!1,this.i=new af(null,this.h))}function kc(v){return new Nc(v)}function Lu(v,O,H){v.j=H?Gd(O,!0):O,v.j&&(v.j=v.j.replace(/:$/,""))}function rf(v,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);v.s=O}else v.s=null}function Cv(v,O,H){O instanceof af?(v.i=O,function Gp(v,O){O&&!v.j&&(Vu(v),v.i=null,v.g.forEach(function(H,re){var mt=re.toLowerCase();re!=mt&&(Kd(this,re),Nv(this,mt,H))},v)),v.j=O}(v.i,v.h)):(H||(O=xc(O,Pv)),v.i=new af(O,v.h))}function oo(v,O,H){v.i.set(O,H)}function sf(v){return oo(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function Gd(v,O){return v?O?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function xc(v,O,H){return"string"==typeof v?(v=encodeURI(v).replace(O,dy),H&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function dy(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}Nc.prototype.toString=function(){var v=[],O=this.j;O&&v.push(xc(O,Sv,!0),":");var H=this.g;return(H||"file"==O)&&(v.push("//"),(O=this.o)&&v.push(xc(O,Sv,!0),"@"),v.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(H=this.s)&&v.push(":",String(H))),(H=this.l)&&(this.g&&"/"!=H.charAt(0)&&v.push("/"),v.push(xc(H,"/"==H.charAt(0)?Rv:Fw,!0))),(H=this.i.toString())&&v.push("?",H),(H=this.m)&&v.push("#",xc(H,Lw)),v.join("")};var Sv=/[#\/\?@]/g,Fw=/[#\?:]/g,Rv=/[#\?]/g,Pv=/[#\?@]/g,Lw=/#/g;function af(v,O){this.h=this.g=null,this.i=v||null,this.j=!!O}function Vu(v){v.g||(v.g=new Map,v.h=0,v.i&&function ly(v,O){if(v){v=v.split("&");for(var H=0;H<v.length;H++){var re=v[H].indexOf("="),mt=null;if(0<=re){var xt=v[H].substring(0,re);mt=v[H].substring(re+1)}else xt=v[H];O(xt,mt?decodeURIComponent(mt.replace(/\+/g," ")):"")}}}(v.i,function(O,H){v.add(decodeURIComponent(O.replace(/\+/g," ")),H)}))}function Kd(v,O){Vu(v),O=qd(v,O),v.g.has(O)&&(v.i=null,v.h-=v.g.get(O).length,v.g.delete(O))}function Mv(v,O){return Vu(v),O=qd(v,O),v.g.has(O)}function Nv(v,O,H){Kd(v,O),0<H.length&&(v.i=null,v.g.set(qd(v,O),cn(H)),v.h+=H.length)}function qd(v,O){return O=String(O),v.j&&(O=O.toLowerCase()),O}function ou(v,O,H,re,mt){try{mt&&(mt.onload=null,mt.onerror=null,mt.onabort=null,mt.ontimeout=null),re(H)}catch{}}function Vw(){this.g=new pv}function Ov(v,O,H){const re=H||"";try{Wp(v,function(mt,xt){let Sn=mt;L(mt)&&(Sn=Nu(mt)),O.push(re+xt+"="+encodeURIComponent(Sn))})}catch(mt){throw O.push(re+"type="+encodeURIComponent("_badmap")),mt}}function Al(v){this.l=v.Ub||null,this.j=v.eb||!1}function Cl(v,O){es.call(this),this.D=v,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Fv(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function cf(v){v.readyState=4,v.l=null,v.j=null,v.v=null,uf(v)}function uf(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function Lv(v){let O="";return ii(v,function(H,re){O+=re,O+=":",O+=H,O+="\r\n"}),O}function hy(v,O,H){e:{for(re in H){var re=!1;break e}re=!0}re||(H=Lv(H),"string"==typeof v?null!=H&&encodeURIComponent(String(H)):oo(v,O,H))}function ts(v){es.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=af.prototype).add=function(v,O){Vu(this),this.i=null,v=qd(this,v);var H=this.g.get(v);return H||this.g.set(v,H=[]),H.push(O),this.h+=1,this},c.forEach=function(v,O){Vu(this),this.g.forEach(function(H,re){H.forEach(function(mt){v.call(O,mt,re,this)},this)},this)},c.na=function(){Vu(this);const v=Array.from(this.g.values()),O=Array.from(this.g.keys()),H=[];for(let re=0;re<O.length;re++){const mt=v[re];for(let xt=0;xt<mt.length;xt++)H.push(O[re])}return H},c.V=function(v){Vu(this);let O=[];if("string"==typeof v)Mv(this,v)&&(O=O.concat(this.g.get(qd(this,v))));else{v=Array.from(this.g.values());for(let H=0;H<v.length;H++)O=O.concat(v[H])}return O},c.set=function(v,O){return Vu(this),this.i=null,Mv(this,v=qd(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[O]),this.h+=1,this},c.get=function(v,O){return v&&0<(v=this.V(v)).length?String(v[0]):O},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],O=Array.from(this.g.keys());for(var H=0;H<O.length;H++){var re=O[H];const xt=encodeURIComponent(String(re)),Sn=this.V(re);for(re=0;re<Sn.length;re++){var mt=xt;""!==Sn[re]&&(mt+="="+encodeURIComponent(String(Sn[re]))),v.push(mt)}}return this.i=v.join("&")},Bt(Al,jp),Al.prototype.g=function(){return new Cl(this.l,this.j)},Al.prototype.i=function(v){return function(){return v}}({}),Bt(Cl,es),(c=Cl.prototype).open=function(v,O){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=O,this.readyState=1,uf(this)},c.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(O.body=v),(this.D||R).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cf(this)),this.readyState=0},c.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,uf(this)),this.g&&(this.readyState=3,uf(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fv(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var O=v.value?v.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!v.done}))&&(this.response=this.responseText+=O)}v.done?cf(this):uf(this),3==this.readyState&&Fv(this)}},c.Ra=function(v){this.g&&(this.response=this.responseText=v,cf(this))},c.Qa=function(v){this.g&&(this.response=v,cf(this))},c.ga=function(){this.g&&cf(this)},c.setRequestHeader=function(v,O){this.u.append(v,O)},c.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],O=this.h.entries();for(var H=O.next();!H.done;)v.push((H=H.value)[0]+": "+H[1]),H=O.next();return v.join("\r\n")},Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),Bt(ts,es);var fy=/^https?$/i,lf=["POST","PUT"];function py(v,O){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=O,v.m=5,gy(v),Uu(v)}function gy(v){v.A||(v.A=!0,ea(v,"complete"),ea(v,"error"))}function Vv(v){if(v.h&&typeof E<"u"&&(!v.v[1]||4!=Bu(v)||2!=v.Z()))if(v.u&&4==Bu(v))Bp(v.Ea,0,v);else if(ea(v,"readystatechange"),4==Bu(v)){v.h=!1;try{const Sn=v.Z();e:switch(Sn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var H;if(!(H=O)){var re;if(re=0===Sn){var mt=String(v.D).match(Wd)[1]||null;!mt&&R.self&&R.self.location&&(mt=R.self.location.protocol.slice(0,-1)),re=!fy.test(mt?mt.toLowerCase():"")}H=re}if(H)ea(v,"complete"),ea(v,"success");else{v.m=6;try{var xt=2<Bu(v)?v.g.statusText:""}catch{xt=""}v.l=xt+" ["+v.Z()+"]",gy(v)}}finally{Uu(v)}}}function Uu(v,O){if(v.g){df(v);const H=v.g,re=v.v[0]?()=>{}:null;v.g=null,v.v=null,O||ea(v,"ready");try{H.onreadystatechange=re}catch{}}}function df(v){v.I&&(R.clearTimeout(v.I),v.I=null)}function Bu(v){return v.g?v.g.readyState:0}function Uv(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Sl(v,O,H){return H&&H.internalChannelParams&&H.internalChannelParams[v]||O}function jv(v){this.Aa=0,this.i=[],this.j=new tf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sl("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sl("baseRetryDelayMs",5e3,v),this.cb=Sl("retryDelaySeedMs",1e4,v),this.Wa=Sl("forwardChannelMaxRetries",2,v),this.wa=Sl("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Nw(v&&v.concurrentRequestLimit),this.Da=new Vw,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kp(v){if($v(v),3==v.G){var O=v.U++,H=kc(v.I);if(oo(H,"SID",v.K),oo(H,"RID",O),oo(H,"TYPE","terminate"),Qd(v,H),(O=new Mc(v,v.j,O)).L=2,O.v=sf(kc(H)),H=!1,R.navigator&&R.navigator.sendBeacon)try{H=R.navigator.sendBeacon(O.v.toString(),"")}catch{}!H&&R.Image&&((new Image).src=O.v,H=!0),H||(O.g=ju(O.j,null),O.g.ea(O.v)),O.F=Date.now(),zp(O)}Kv(v)}function qp(v){v.g&&(_y(v),v.g.cancel(),v.g=null)}function $v(v){qp(v),v.u&&(R.clearTimeout(v.u),v.u=null),Zp(v),v.h.cancel(),v.s&&("number"==typeof v.s&&R.clearTimeout(v.s),v.s=null)}function Qp(v){if(!Tv(v.h)&&!v.s){v.s=!0;var O=v.Ga;wl||qh(),Kh||(wl(),Kh=!0),Xm.add(O,v),v.B=0}}function my(v,O){var H;H=O?O.l:v.U++;const re=kc(v.I);oo(re,"SID",v.K),oo(re,"RID",H),oo(re,"AID",v.T),Qd(v,re),v.m&&v.o&&hy(re,v.m,v.o),H=new Mc(v,v.j,H,v.B+1),null===v.m&&(H.H=v.o),O&&(v.i=O.D.concat(v.i)),O=Xp(v,H,1e3),H.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),uy(v.h,H),Dl(H,re,O)}function Qd(v,O){v.H&&ii(v.H,function(H,re){oo(O,re,H)}),v.l&&Wp({},function(H,re){oo(O,re,H)})}function Xp(v,O,H){H=Math.min(v.i.length,H);var re=v.l?ke(v.l.Na,v.l,v):null;e:{var mt=v.i;let xt=-1;for(;;){const Sn=["count="+H];-1==xt?0<H?(xt=mt[0].g,Sn.push("ofs="+xt)):xt=0:Sn.push("ofs="+xt);let lo=!0;for(let ys=0;ys<H;ys++){let bi=mt[ys].g;const js=mt[ys].map;if(bi-=xt,0>bi)xt=Math.max(0,mt[ys].g-100),lo=!1;else try{Ov(js,Sn,"req"+bi+"_")}catch{re&&re(js)}}if(lo){re=Sn.join("&");break e}}}return v=v.i.splice(0,H),O.D=v,re}function zv(v){if(!v.g&&!v.u){v.Y=1;var O=v.Fa;wl||qh(),Kh||(wl(),Kh=!0),Xm.add(O,v),v.v=0}}function yy(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Hd(ke(v.Fa,v),Yp(v,v.v)),v.v++,0))}function _y(v){null!=v.A&&(R.clearTimeout(v.A),v.A=null)}function Wv(v){v.g=new Mc(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var O=kc(v.qa);oo(O,"RID","rpc"),oo(O,"SID",v.K),oo(O,"AID",v.T),oo(O,"CI",v.F?"0":"1"),!v.F&&v.ja&&oo(O,"TO",v.ja),oo(O,"TYPE","xmlhttp"),Qd(v,O),v.m&&v.o&&hy(O,v.m,v.o),v.L&&(v.g.I=v.L);var H=v.g;v=v.ia,H.L=1,H.v=sf(kc(O)),H.m=null,H.P=!0,Pw(H,v)}function Zp(v){null!=v.C&&(R.clearTimeout(v.C),v.C=null)}function Gv(v,O){var H=null;if(v.g==O){Zp(v),_y(v),v.g=null;var re=2}else{if(!Dv(v.h,O))return;H=O.D,kw(v.h,O),re=1}if(0!=v.G)if(O.o)if(1==re){H=O.m?O.m.length:0,O=Date.now()-O.F;var mt=v.B;ea(re=ef(),new oy(re,H)),Qp(v)}else zv(v);else if(3==(mt=O.s)||0==mt&&0<O.X||!(1==re&&function Hv(v,O){return!(bv(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=O.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Hd(ke(v.Ga,v,O),Yp(v,v.B)),v.B++,0)))}(v,O)||2==re&&yy(v)))switch(H&&0<H.length&&(O=v.h,O.i=O.i.concat(H)),mt){case 1:Rl(v,5);break;case 4:Rl(v,10);break;case 3:Rl(v,6);break;default:Rl(v,2)}}function Yp(v,O){let H=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(H*=2),H*O}function Rl(v,O){if(v.j.info("Error code "+O),2==O){var H=ke(v.fb,v),re=v.Xa;const mt=!re;re=new Nc(re||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Lu(re,"https"),sf(re),mt?function kv(v,O){const H=new tf;if(R.Image){const re=new Image;re.onload=wt(ou,H,"TestLoadImage: loaded",!0,O,re),re.onerror=wt(ou,H,"TestLoadImage: error",!1,O,re),re.onabort=wt(ou,H,"TestLoadImage: abort",!1,O,re),re.ontimeout=wt(ou,H,"TestLoadImage: timeout",!1,O,re),R.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=v}else O(!1)}(re.toString(),H):function xv(v,O){new tf;const re=new AbortController,mt=setTimeout(()=>{re.abort(),ou(0,0,!1,O)},1e4);fetch(v,{signal:re.signal}).then(xt=>{clearTimeout(mt),ou(0,0,!!xt.ok,O)}).catch(()=>{clearTimeout(mt),ou(0,0,!1,O)})}(re.toString(),H)}else ta(2);v.G=0,v.l&&v.l.sa(O),Kv(v),$v(v)}function Kv(v){if(v.G=0,v.ka=[],v.l){const O=Av(v.h);(0!=O.length||0!=v.i.length)&&(nn(v.ka,O),nn(v.ka,v.i),v.h.i.length=0,cn(v.i),v.i.length=0),v.l.ra()}}function qv(v,O,H){var re=H instanceof Nc?kc(H):new Nc(H);if(""!=re.g)O&&(re.g=O+"."+re.g),rf(re,re.s);else{var mt=R.location;re=mt.protocol,O=O?O+"."+mt.hostname:mt.hostname,mt=+mt.port;var xt=new Nc(null);re&&Lu(xt,re),O&&(xt.g=O),mt&&rf(xt,mt),H&&(xt.l=H),re=xt}return O=v.ya,(H=v.D)&&O&&oo(re,H,O),oo(re,"VER",v.la),Qd(v,re),re}function ju(v,O,H){if(O&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(O=new ts(v.Ca&&!v.pa?new Al({eb:H}):v.pa)).Ha(v.J),O}function Xd(){}function Zd(){}function ua(v,O){es.call(this),this.g=new jv(O),this.l=v,this.h=O&&O.messageUrlParams||null,v=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(v?v["X-WebChannel-Content-Type"]=O.messageContentType:v={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(v?v["X-WebChannel-Client-Profile"]=O.va:v={"X-WebChannel-Client-Profile":O.va}),this.g.S=v,(v=O&&O.Sb)&&!or(v)&&(this.g.m=v),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!or(O)&&(this.g.D=O,null!==(v=this.h)&&O in v&&O in(v=this.h)&&delete v[O]),this.j=new Ml(this)}function Qv(v){ny.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var O=v.__sm__;if(O){e:{for(const H in O){v=H;break e}v=void 0}(this.i=v)&&(v=this.i,O=null!==O&&v in O?O[v]:void 0),this.data=O}else this.data=v}function Pl(){ry.call(this),this.status=1}function Ml(v){this.g=v}(c=ts.prototype).Ha=function(v){this.J=v},c.ea=function(v,O,H,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);O=O?O.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$p.g(),this.v=function gv(v){return v.h||(v.h=v.i())}(this.o?this.o:$p),this.g.onreadystatechange=ke(this.Ea,this);try{this.B=!0,this.g.open(O,String(v),!0),this.B=!1}catch(xt){return void py(this,xt)}if(v=H||"",H=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var mt in re)H.set(mt,re[mt]);else{if("function"!=typeof re.keys||"function"!=typeof re.get)throw Error("Unknown input type for opt_headers: "+String(re));for(const xt of re.keys())H.set(xt,re.get(xt))}re=Array.from(H.keys()).find(xt=>"content-type"==xt.toLowerCase()),mt=R.FormData&&v instanceof R.FormData,!(0<=Array.prototype.indexOf.call(lf,O,void 0))||re||mt||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xt,Sn]of H)this.g.setRequestHeader(xt,Sn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{df(this),this.u=!0,this.g.send(v),this.u=!1}catch(xt){py(this,xt)}},c.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,ea(this,"complete"),ea(this,"abort"),Uu(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uu(this,!0)),ts.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?Vv(this):this.bb())},c.bb=function(){Vv(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<Bu(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(v){if(this.g){var O=this.g.responseText;return v&&0==O.indexOf(v)&&(O=O.substring(v.length)),ty(O)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=jv.prototype).la=8,c.G=1,c.connect=function(v,O,H,re){ta(0),this.W=v,this.H=O||{},H&&void 0!==re&&(this.H.OSID=H,this.H.OAID=re),this.F=this.X,this.I=qv(this,null,this.W),Qp(this)},c.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const mt=new Mc(this,this.j,v);let xt=this.o;if(this.S&&(xt?(xt=Ne(xt),ot(xt,this.S)):xt=this.S),null!==this.m||this.O||(mt.H=xt,xt=null),this.P)e:{for(var O=0,H=0;H<this.i.length;H++){var re=this.i[H];if(void 0===(re="__data__"in re.map&&"string"==typeof(re=re.map.__data__)?re.length:void 0))break;if(4096<(O+=re)){O=H;break e}if(4096===O||H===this.i.length-1){O=H+1;break e}}O=1e3}else O=1e3;O=Xp(this,mt,O),oo(H=kc(this.I),"RID",v),oo(H,"CVER",22),this.D&&oo(H,"X-HTTP-Session-Id",this.D),Qd(this,H),xt&&(this.O?O="headers="+encodeURIComponent(String(Lv(xt)))+"&"+O:this.m&&hy(H,this.m,xt)),uy(this.h,mt),this.Ua&&oo(H,"TYPE","init"),this.P?(oo(H,"$req",O),oo(H,"SID","null"),mt.T=!0,Dl(mt,H,null)):Dl(mt,H,O),this.G=2}}else 3==this.G&&(v?my(this,v):0==this.i.length||Tv(this.h)||my(this))},c.Fa=function(){if(this.u=null,Wv(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Hd(ke(this.ab,this),v)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ta(10),qp(this),Wv(this))},c.Za=function(){null!=this.C&&(this.C=null,qp(this),yy(this),ta(19))},c.fb=function(v){v?(this.j.info("Successfully pinged google.com"),ta(2)):(this.j.info("Failed to ping google.com"),ta(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=Xd.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Zd.prototype.g=function(v,O){return new ua(v,O)},Bt(ua,es),ua.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ua.prototype.close=function(){Kp(this.g)},ua.prototype.o=function(v){var O=this.g;if("string"==typeof v){var H={};H.__data__=v,v=H}else this.u&&((H={}).__data__=Nu(v),v=H);O.i.push(new zT(O.Ya++,v)),3==O.G&&Qp(O)},ua.prototype.N=function(){this.g.l=null,delete this.j,Kp(this.g),delete this.g,ua.aa.N.call(this)},Bt(Qv,ny),Bt(Pl,ry),Bt(Ml,Xd),Ml.prototype.ua=function(){ea(this.g,"a")},Ml.prototype.ta=function(v){ea(this.g,new Qv(v))},Ml.prototype.sa=function(v){ea(this.g,new Pl)},Ml.prototype.ra=function(){ea(this.g,"b")},Zd.prototype.createWebChannel=Zd.prototype.g,ua.prototype.send=ua.prototype.o,ua.prototype.open=ua.prototype.m,ua.prototype.close=ua.prototype.close,_t=pe.createWebChannelTransport=function(){return new Zd},pt=pe.getStatEventTarget=function(){return ef()},Xt=pe.Event=bl,Ft=pe.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ou.NO_ERROR=0,Ou.TIMEOUT=8,Ou.HTTP_ERROR=6,Ut=pe.ErrorCode=Ou,sy.COMPLETE="complete",At=pe.EventType=sy,mv.EventType=Jh,Jh.OPEN="a",Jh.CLOSE="b",Jh.ERROR="c",Jh.MESSAGE="d",es.prototype.listen=es.prototype.K,at=pe.WebChannel=mv,pe.FetchXmlHttpFactory=Al,ts.prototype.listenOnce=ts.prototype.L,ts.prototype.getLastError=ts.prototype.Ka,ts.prototype.getLastErrorCode=ts.prototype.Ba,ts.prototype.getStatus=ts.prototype.Z,ts.prototype.getResponseJson=ts.prototype.Oa,ts.prototype.getResponseText=ts.prototype.oa,ts.prototype.send=ts.prototype.ea,ts.prototype.setWithCredentials=ts.prototype.Ha,et=pe.XhrIo=ts}).apply(typeof me<"u"?me:typeof self<"u"?self:typeof window<"u"?window:{});const Dt="@firebase/firestore";class nt{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");let Xe="11.8.1";const vt=new I.Vy("@firebase/firestore");function Wt(){return vt.logLevel}function st(c,...n){if(vt.logLevel<=I.$b.DEBUG){const i=n.map(Kn);vt.debug(`Firestore (${Xe}): ${c}`,...i)}}function Ln(c,...n){if(vt.logLevel<=I.$b.ERROR){const i=n.map(Kn);vt.error(`Firestore (${Xe}): ${c}`,...i)}}function Rn(c,...n){if(vt.logLevel<=I.$b.WARN){const i=n.map(Kn);vt.warn(`Firestore (${Xe}): ${c}`,...i)}}function Kn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function dt(c,n,i){let s="Unexpected state";"string"==typeof n?s=n:i=n,vn(c,s,i)}function vn(c,n,i){let s=`FIRESTORE (${Xe}) INTERNAL ASSERTION FAILED: ${n} (ID: ${c.toString(16)})`;if(void 0!==i)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ln(s),new Error(s)}function Ze(c,n,i,s){let u="Unexpected state";"string"==typeof i?u=i:s=i,c||vn(n,u,s)}function Rt(c,n){return c}const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Ce.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ue{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class le{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class ge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(nt.UNAUTHENTICATED))}shutdown(){}}class ne{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class de{constructor(n){this.t=n,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;Ze(void 0===this.o,42304);let u=this.i;const p=L=>this.i!==u?(u=this.i,i(L)):Promise.resolve();let E=new ue;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new ue,n.enqueueRetryable(()=>p(this.currentUser))};const R=()=>{const L=E;n.enqueueRetryable((0,b.A)(function*(){yield L.promise,yield p(s.currentUser)}))},k=L=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=L,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(L=>k(L)),setTimeout(()=>{if(!this.auth){const L=this.t.getImmediate({optional:!0});L?k(L):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new ue)}},0),R()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze("string"==typeof s.accessToken,31837,{l:s}),new le(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Ze(null===n||"string"==typeof n,2055,{h:n}),new nt(n)}}class Ke{constructor(n,i,s){this.P=n,this.T=i,this.I=s,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gt{constructor(n,i,s){this.P=n,this.T=i,this.I=s}getToken(){return Promise.resolve(new Ke(this.P,this.T,this.I))}start(n,i){n.enqueueRetryable(()=>i(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rn{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zt{constructor(n,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,x.xZ)(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,i){Ze(void 0===this.o,3512);const s=p=>{null!=p.error&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const E=p.token!==this.m;return this.m=p.token,st("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?i(p.token):Promise.resolve()};this.o=p=>{n.enqueueRetryable(()=>s(p))};const u=p=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.V.getImmediate({optional:!0});p?u(p):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rn(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Ze("string"==typeof i.token,44558,{tokenResult:i}),this.m=i.token,new rn(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zt(c){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<c;s++)i[s]=Math.floor(256*Math.random());return i}function Zn(){return new TextEncoder}class Hn{static newId(){const i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=zt(40);for(let p=0;p<u.length;++p)s.length<20&&u[p]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return s}}function qt(c,n){return c<n?-1:c>n?1:0}function On(c,n){let i=0;for(;i<c.length&&i<n.length;){const s=c.codePointAt(i),u=n.codePointAt(i);if(s!==u){if(s<128&&u<128)return qt(s,u);{const p=Zn(),E=Tn(p.encode(tr(c,i)),p.encode(tr(n,i)));return 0!==E?E:qt(s,u)}}i+=s>65535?2:1}return qt(c.length,n.length)}function tr(c,n){return c.codePointAt(n)>65535?c.substring(n,n+2):c.substring(n,n+1)}function Tn(c,n){for(let i=0;i<c.length&&i<n.length;++i)if(c[i]!==n[i])return qt(c[i],n[i]);return qt(c.length,n.length)}function Pr(c,n,i){return c.length===n.length&&c.every((s,u)=>i(s,n[u]))}const Di=-62135596800;class hr{static now(){return hr.fromMillis(Date.now())}static fromDate(n){return hr.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new hr(i,s)}constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Y(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Y(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<Di)throw new Y(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Y(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?qt(this.nanoseconds,n.nanoseconds):qt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-Di).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class on{static fromTimestamp(n){return new on(n)}static min(){return new on(new hr(0,0))}static max(){return new on(new hr(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qi="__name__";class Mr{constructor(n,i,s){void 0===i?i=0:i>n.length&&dt(637,{offset:i,range:n.length}),void 0===s?s=n.length-i:s>n.length-i&&dt(1746,{length:s,range:n.length-i}),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===Mr.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Mr?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const p=Mr.compareSegments(n.get(u),i.get(u));if(0!==p)return p}return qt(n.length,i.length)}static compareSegments(n,i){const s=Mr.isNumericId(n),u=Mr.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?Mr.extractNumericId(n).compare(Mr.extractNumericId(i)):On(n,i)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return fe.fromString(n.substring(4,n.length-2))}}class ut extends Mr{construct(n,i,s){return new ut(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new Y(We.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new ut(i)}static emptyPath(){return new ut([])}}const wr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends Mr{construct(n,i,s){return new qn(n,i,s)}static isValidIdentifier(n){return wr.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Qi}static keyField(){return new qn([Qi])}static fromServerFormat(n){const i=[];let s="",u=0;const p=()=>{if(0===s.length)throw new Y(We.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let E=!1;for(;u<n.length;){const R=n[u];if("\\"===R){if(u+1===n.length)throw new Y(We.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const k=n[u+1];if("\\"!==k&&"."!==k&&"`"!==k)throw new Y(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=k,u+=2}else"`"===R?(E=!E,u++):"."!==R||E?(s+=R,u++):(p(),u++)}if(p(),E)throw new Y(We.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new qn(i)}static emptyPath(){return new qn([])}}class Kt{constructor(n){this.path=n}static fromPath(n){return new Kt(ut.fromString(n))}static fromName(n){return new Kt(ut.fromString(n).popFirst(5))}static empty(){return new Kt(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===ut.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return ut.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Kt(new ut(n.slice()))}}class dr{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new dr(on.min(),Kt.empty(),-1)}static max(){return new dr(on.max(),Kt.empty(),-1)}}function Dn(c,n){let i=c.readTime.compareTo(n.readTime);return 0!==i?i:(i=Kt.comparator(c.documentKey,n.documentKey),0!==i?i:qt(c.largestBatchId,n.largestBatchId))}class Nr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Wn(c){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,b.A)(function*(c){if(c.code!==We.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==c.message)throw c;st("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Le{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new Le((s,u)=>{this.nextCallback=p=>{this.wrapSuccess(n,p).next(s,u)},this.catchCallback=p=>{this.wrapFailure(i,p).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof Le?i:Le.resolve(i)}catch(i){return Le.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):Le.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):Le.reject(i)}static resolve(n){return new Le((i,s)=>{i(n)})}static reject(n){return new Le((i,s)=>{s(n)})}static waitFor(n){return new Le((i,s)=>{let u=0,p=0,E=!1;n.forEach(R=>{++u,R.next(()=>{++p,E&&p===u&&i()},k=>s(k))}),E=!0,p===u&&i()})}static or(n){let i=Le.resolve(!1);for(const s of n)i=i.next(u=>u?Le.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,p)=>{s.push(i.call(this,u,p))}),this.waitFor(s)}static mapArray(n,i){return new Le((s,u)=>{const p=n.length,E=new Array(p);let R=0;for(let k=0;k<p;k++){const L=k;i(n[L]).next(X=>{E[L]=X,++R,R===p&&s(E)},X=>u(X))}})}static doWhile(n,i){return new Le((s,u)=>{const p=()=>{!0===n()?i().next(()=>{p()},u):s()};p()})}}function Ir(c){return"IndexedDbTransactionError"===c.name}let Ye=(()=>{class c{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ue(u),this.ce=u=>s.writeSequenceNumber(u))}ue(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ce&&this.ce(i),i}}return c.le=-1,c})();function Cn(c){return null==c}function gr(c){return 0===c&&1/c==-1/0}function lt(c,n){let i=n;const s=c.length;for(let u=0;u<s;u++){const p=c.charAt(u);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function It(c){return c+"\x01\x01"}const yt="mutationQueues",Mt="mutations",Ai="documentMutations",kn="remoteDocumentGlobal",rr="targets",Cr="targetDocuments",B="targetGlobal",he="collectionParents",ee="clientMetadata",Tt="bundles",Nn="namedQueries";function $o(c){let n=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n++;return n}function po(c,n){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n(i,c[i])}function ws(c){for(const n in c)if(Object.prototype.hasOwnProperty.call(c,n))return!1;return!0}class zr{constructor(n,i){this.comparator=n,this.root=i||qr.EMPTY}insert(n,i){return new zr(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,qr.BLACK,null,null))}remove(n){return new zr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,qr.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new ao(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new ao(this.root,n,this.comparator,!1)}getReverseIterator(){return new ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new ao(this.root,n,this.comparator,!0)}}class ao{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!n.isEmpty();)if(p=i?s(n.key,i):1,i&&u&&(p*=-1),p<0)n=this.isReverse?n.left:n.right;else{if(0===p){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class qr{constructor(n,i,s,u,p){this.key=n,this.value=i,this.color=s??qr.RED,this.left=u??qr.EMPTY,this.right=p??qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,p){return new qr(n??this.key,i??this.value,s??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const p=s(n,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===p?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return qr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return qr.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw dt(27949);return n+(this.isRed()?0:1)}}qr.EMPTY=null,qr.RED=!0,qr.BLACK=!1,qr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(n,i,s,u,p){return this}insert(n,i,s){return new qr(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qr{constructor(n){this.comparator=n,this.data=new zr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Is(this.data.getIterator())}getIteratorFrom(n){return new Is(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof Qr)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Qr(this.comparator);return i.data=n,i}}class Is{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mo{constructor(n){this.fields=n,n.sort(qn.comparator)}static empty(){return new Mo([])}unionWith(n){let i=new Qr(qn.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new Mo(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Pr(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class us extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vi{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new us("Invalid base64 string: "+p):p}}(n);return new Vi(i)}static fromUint8Array(n){const i=function(u){let p="";for(let E=0;E<u.length;++E)p+=String.fromCharCode(u[E]);return p}(n);return new Vi(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return qt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Vi.EMPTY_BYTE_STRING=new Vi("");const Hs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(c){if(Ze(!!c,39018),"string"==typeof c){let n=0;const i=Hs.exec(c);if(Ze(!!i,46558,{timestamp:c}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(c);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:xr(c.seconds),nanos:xr(c.nanos)}}function xr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function _r(c){return"string"==typeof c?Vi.fromBase64String(c):Vi.fromUint8Array(c)}const Ji="server_timestamp",ra="__type__",xs="__previous_value__",Ta="__local_write_time__";function Vo(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[ra])||void 0===i?void 0:i.stringValue)===Ji}function vr(c){const n=c.mapValue.fields[xs];return Vo(n)?vr(n):n}function W(c){const n=No(c.mapValue.fields[Ta].timestampValue);return new hr(n.seconds,n.nanos)}class z{constructor(n,i,s,u,p,E,R,k,L,X){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=p,this.forceLongPolling=E,this.autoDetectLongPolling=R,this.longPollingOptions=k,this.useFetchStreams=L,this.isUsingEmulator=X}}const we="(default)";class Se{constructor(n,i){this.projectId=n,this.database=i||we}static empty(){return new Se("","")}get isDefaultDatabase(){return this.database===we}isEqual(n){return n instanceof Se&&n.projectId===this.projectId&&n.database===this.database}}const rt="__type__",Pt="__max__",Gt_mapValue={fields:{__type__:{stringValue:Pt}}},In="__vector__",fn="value";function Yn(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?Vo(c)?4:ba(c)?9007199254740991:ls(c)?10:11:dt(28295,{value:c})}function Lr(c,n){if(c===n)return!0;const i=Yn(c);if(i!==Yn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===n.booleanValue;case 4:return W(c).isEqual(W(n));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const E=No(u.timestampValue),R=No(p.timestampValue);return E.seconds===R.seconds&&E.nanos===R.nanos}(c,n);case 5:return c.stringValue===n.stringValue;case 6:return p=n,_r(c.bytesValue).isEqual(_r(p.bytesValue));case 7:return c.referenceValue===n.referenceValue;case 8:return function(u,p){return xr(u.geoPointValue.latitude)===xr(p.geoPointValue.latitude)&&xr(u.geoPointValue.longitude)===xr(p.geoPointValue.longitude)}(c,n);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return xr(u.integerValue)===xr(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const E=xr(u.doubleValue),R=xr(p.doubleValue);return E===R?gr(E)===gr(R):isNaN(E)&&isNaN(R)}return!1}(c,n);case 9:return Pr(c.arrayValue.values||[],n.arrayValue.values||[],Lr);case 10:case 11:return function(u,p){const E=u.mapValue.fields||{},R=p.mapValue.fields||{};if($o(E)!==$o(R))return!1;for(const k in E)if(E.hasOwnProperty(k)&&(void 0===R[k]||!Lr(E[k],R[k])))return!1;return!0}(c,n);default:return dt(52216,{left:c})}var p}function yi(c,n){return void 0!==(c.values||[]).find(i=>Lr(i,n))}function fi(c,n){if(c===n)return 0;const i=Yn(c),s=Yn(n);if(i!==s)return qt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return qt(c.booleanValue,n.booleanValue);case 2:return function(p,E){const R=xr(p.integerValue||p.doubleValue),k=xr(E.integerValue||E.doubleValue);return R<k?-1:R>k?1:R===k?0:isNaN(R)?isNaN(k)?0:-1:1}(c,n);case 3:return Ui(c.timestampValue,n.timestampValue);case 4:return Ui(W(c),W(n));case 5:return On(c.stringValue,n.stringValue);case 6:return function(p,E){const R=_r(p),k=_r(E);return R.compareTo(k)}(c.bytesValue,n.bytesValue);case 7:return function(p,E){const R=p.split("/"),k=E.split("/");for(let L=0;L<R.length&&L<k.length;L++){const X=qt(R[L],k[L]);if(0!==X)return X}return qt(R.length,k.length)}(c.referenceValue,n.referenceValue);case 8:return function(p,E){const R=qt(xr(p.latitude),xr(E.latitude));return 0!==R?R:qt(xr(p.longitude),xr(E.longitude))}(c.geoPointValue,n.geoPointValue);case 9:return Ci(c.arrayValue,n.arrayValue);case 10:return function(p,E){var R,k,L,X;const wt=null===(R=(p.fields||{})[fn])||void 0===R?void 0:R.arrayValue,Bt=null===(k=(E.fields||{})[fn])||void 0===k?void 0:k.arrayValue,cn=qt((null===(L=wt?.values)||void 0===L?void 0:L.length)||0,(null===(X=Bt?.values)||void 0===X?void 0:X.length)||0);return 0!==cn?cn:Ci(wt,Bt)}(c.mapValue,n.mapValue);case 11:return function(p,E){if(p===Gt_mapValue&&E===Gt_mapValue)return 0;if(p===Gt_mapValue)return 1;if(E===Gt_mapValue)return-1;const R=p.fields||{},k=Object.keys(R),L=E.fields||{},X=Object.keys(L);k.sort(),X.sort();for(let oe=0;oe<k.length&&oe<X.length;++oe){const ke=On(k[oe],X[oe]);if(0!==ke)return ke;const wt=fi(R[k[oe]],L[X[oe]]);if(0!==wt)return wt}return qt(k.length,X.length)}(c.mapValue,n.mapValue);default:throw dt(23264,{Pe:i})}}function Ui(c,n){if("string"==typeof c&&"string"==typeof n&&c.length===n.length)return qt(c,n);const i=No(c),s=No(n),u=qt(i.seconds,s.seconds);return 0!==u?u:qt(i.nanos,s.nanos)}function Ci(c,n){const i=c.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const p=fi(i[u],s[u]);if(p)return p}return qt(i.length,s.length)}function Yr(c){return ki(c)}function ki(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const s=No(i);return`time(${s.seconds},${s.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?_r(c.bytesValue).toBase64():"referenceValue"in c?Kt.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let s="[",u=!0;for(const p of i.values||[])u?u=!1:s+=",",s+=ki(p);return s+"]"}(c.arrayValue):"mapValue"in c?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",p=!0;for(const E of s)p?p=!1:u+=",",u+=`${E}:${ki(i.fields[E])}`;return u+"}"}(c.mapValue):dt(61005,{value:c})}function co(c){switch(Yn(c)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=vr(c);return n?16+co(n):16;case 5:return 2*c.stringValue.length;case 6:return _r(c.bytesValue).approximateByteSize();case 7:return c.referenceValue.length;case 9:return(c.arrayValue.values||[]).reduce((u,p)=>u+co(p),0);case 10:case 11:return function(s){let u=0;return po(s.fields,(p,E)=>{u+=p.length+co(E)}),u}(c.mapValue);default:throw dt(13486,{value:c})}}function pi(c,n){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${n.path.canonicalString()}`}}function Si(c){return!!c&&"integerValue"in c}function To(c){return!!c&&"arrayValue"in c}function Jr(c){return!!c&&"nullValue"in c}function go(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function zo(c){return!!c&&"mapValue"in c}function ls(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[rt])||void 0===i?void 0:i.stringValue)===In}function la(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const n={mapValue:{fields:{}}};return po(c.mapValue.fields,(i,s)=>n.mapValue.fields[i]=la(s)),n}if(c.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=la(c.arrayValue.values[i]);return n}return Object.assign({},c)}function ba(c){return(((c.mapValue||{}).fields||{}).__type__||{}).stringValue===Pt}class io{constructor(n){this.value=n}static empty(){return new io({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!zo(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=la(i)}setAll(n){let i=qn.emptyPath(),s={},u=[];n.forEach((E,R)=>{if(!i.isImmediateParentOf(R)){const k=this.getFieldsMap(i);this.applyChanges(k,s,u),s={},u=[],i=R.popLast()}E?s[R.lastSegment()]=la(E):u.push(R.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,s,u)}delete(n){const i=this.field(n.popLast());zo(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Lr(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];zo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){po(i,(u,p)=>n[u]=p);for(const u of s)delete n[u]}clone(){return new io(la(this.value))}}function Os(c){const n=[];return po(c.fields,(i,s)=>{const u=new qn([i]);if(zo(s)){const p=Os(s.mapValue).fields;if(0===p.length)n.push(u);else for(const E of p)n.push(u.child(E))}else n.push(u)}),new Mo(n)}class ai{constructor(n,i,s,u,p,E,R){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=p,this.data=E,this.documentState=R}static newInvalidDocument(n){return new ai(n,0,on.min(),on.min(),on.min(),io.empty(),0)}static newFoundDocument(n,i,s,u){return new ai(n,1,i,on.min(),s,u,0)}static newNoDocument(n,i){return new ai(n,2,i,on.min(),on.min(),io.empty(),0)}static newUnknownDocument(n,i){return new ai(n,3,i,on.min(),on.min(),io.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(on.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=on.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof ai&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ko{constructor(n,i){this.position=n,this.inclusive=i}}function Fs(c,n,i){let s=0;for(let u=0;u<c.position.length;u++){const p=n[u],E=c.position[u];if(s=p.field.isKeyField()?Kt.comparator(Kt.fromName(E.referenceValue),i.key):fi(E,i.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function Gs(c,n){if(null===c)return null===n;if(null===n||c.inclusive!==n.inclusive||c.position.length!==n.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!Lr(c.position[i],n.position[i]))return!1;return!0}class Ks{constructor(n,i="asc"){this.field=n,this.dir=i}}function wi(c,n){return c.dir===n.dir&&c.field.isEqual(n.field)}class ha{}class $r extends ha{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new Wr(n,i,s):"array-contains"===i?new Uo(n,s):"in"===i?new Wi(n,s):"not-in"===i?new Go(n,s):"array-contains-any"===i?new Qo(n,s):new $r(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new Jt(n,s):new ir(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&void 0===i.nullValue&&this.matchesComparison(fi(i,this.value)):null!==i&&Yn(this.value)===Yn(i)&&this.matchesComparison(fi(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends ha{constructor(n,i){super(),this.filters=n,this.op=i,this.Te=null}static create(n,i){return new Vr(n,i)}matches(n){return Da(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Da(c){return"and"===c.op}function Qa(c){return function Aa(c){for(const n of c.filters)if(n instanceof Vr)return!1;return!0}(c)&&Da(c)}function Xa(c){if(c instanceof $r)return c.field.canonicalString()+c.op.toString()+Yr(c.value);if(Qa(c))return c.filters.map(n=>Xa(n)).join(",");{const n=c.filters.map(i=>Xa(i)).join(",");return`${c.op}(${n})`}}function La(c,n){return c instanceof $r?(s=c,(u=n)instanceof $r&&s.op===u.op&&s.field.isEqual(u.field)&&Lr(s.value,u.value)):c instanceof Vr?function(s,u){return u instanceof Vr&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((p,E,R)=>p&&La(E,u.filters[R]),!0)}(c,n):void dt(19439);var s,u}function Wo(c){return c instanceof $r?`${(i=c).field.canonicalString()} ${i.op} ${Yr(i.value)}`:c instanceof Vr?function(i){return i.op.toString()+" {"+i.getFilters().map(Wo).join(" ,")+"}"}(c):"Filter";var i}class Wr extends $r{constructor(n,i,s){super(n,i,s),this.key=Kt.fromName(s.referenceValue)}matches(n){const i=Kt.comparator(n.key,this.key);return this.matchesComparison(i)}}class Jt extends $r{constructor(n,i){super(n,"in",i),this.keys=ci(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class ir extends $r{constructor(n,i){super(n,"not-in",i),this.keys=ci(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function ci(c,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>Kt.fromName(s.referenceValue))}class Uo extends $r{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return To(i)&&yi(i.arrayValue,this.value)}}class Wi extends $r{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&yi(this.value.arrayValue,i)}}class Go extends $r{constructor(n,i){super(n,"not-in",i)}matches(n){if(yi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&void 0===i.nullValue&&!yi(this.value.arrayValue,i)}}class Qo extends $r{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!To(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>yi(this.value.arrayValue,s))}}class ei{constructor(n,i=null,s=[],u=[],p=null,E=null,R=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=p,this.startAt=E,this.endAt=R,this.Ie=null}}function P(c,n=null,i=[],s=[],u=null,p=null,E=null){return new ei(c,n,i,s,u,p,E)}function N(c){const n=Rt(c);if(null===n.Ie){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>Xa(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),Cn(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Yr(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Yr(s)).join(",")),n.Ie=i}return n.Ie}function j(c,n){if(c.limit!==n.limit||c.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!wi(c.orderBy[i],n.orderBy[i]))return!1;if(c.filters.length!==n.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!La(c.filters[i],n.filters[i]))return!1;return c.collectionGroup===n.collectionGroup&&!!c.path.isEqual(n.path)&&!!Gs(c.startAt,n.startAt)&&Gs(c.endAt,n.endAt)}function De(c){return Kt.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}class Bi{constructor(n,i=null,s=[],u=[],p=null,E="F",R=null,k=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=p,this.limitType=E,this.startAt=R,this.endAt=k,this.Ee=null,this.de=null,this.Ae=null}}function bo(c){return new Bi(c)}function Qs(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function Ca(c){return null!==c.collectionGroup}function ss(c){const n=Rt(c);if(null===n.Ee){n.Ee=[];const i=new Set;for(const p of n.explicitOrderBy)n.Ee.push(p),i.add(p.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(E){let R=new Qr(qn.comparator);return E.filters.forEach(k=>{k.getFlattenedFilters().forEach(L=>{L.isInequality()&&(R=R.add(L.field))})}),R})(n).forEach(p=>{i.has(p.canonicalString())||p.isKeyField()||n.Ee.push(new Ks(p,s))}),i.has(qn.keyField().canonicalString())||n.Ee.push(new Ks(qn.keyField(),s))}return n.Ee}function Do(c){const n=Rt(c);return n.de||(n.de=function as(c,n){if("F"===c.limitType)return P(c.path,c.collectionGroup,n,c.filters,c.limit,c.startAt,c.endAt);{n=n.map(u=>new Ks(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new ko(c.endAt.position,c.endAt.inclusive):null,s=c.startAt?new ko(c.startAt.position,c.startAt.inclusive):null;return P(c.path,c.collectionGroup,n,c.filters,c.limit,i,s)}}(n,ss(c))),n.de}function fa(c,n){const i=c.filters.concat([n]);return new Bi(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function Pn(c,n,i){return new Bi(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),n,i,c.startAt,c.endAt)}function pa(c,n){return j(Do(c),Do(n))&&c.limitType===n.limitType}function Cs(c){return`${N(Do(c))}|lt:${c.limitType}`}function fs(c){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Wo(u)).join(", ")}]`),Cn(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(E=u).field.canonicalString()} (${E.dir})`;var E}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>Yr(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>Yr(u)).join(",")),`Target(${s})`}(Do(c))}; limitType=${c.limitType})`}function ga(c,n){return n.isFoundDocument()&&function(s,u){const p=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):Kt.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(c,n)&&function(s,u){for(const p of ss(s))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(c,n)&&function(s,u){for(const p of s.filters)if(!p.matches(u))return!1;return!0}(c,n)&&(u=n,!((s=c).startAt&&!function(E,R,k){const L=Fs(E,R,k);return E.inclusive?L<=0:L<0}(s.startAt,ss(s),u)||s.endAt&&!function(E,R,k){const L=Fs(E,R,k);return E.inclusive?L>=0:L>0}(s.endAt,ss(s),u)));var s,u}function ji(c){return(n,i)=>{let s=!1;for(const u of ss(c)){const p=$i(u,n,i);if(0!==p)return p;s=s||u.field.isKeyField()}return 0}}function $i(c,n,i){const s=c.field.isKeyField()?Kt.comparator(n.key,i.key):function(p,E,R){const k=E.data.field(p),L=R.data.field(p);return null!==k&&null!==L?fi(k,L):dt(42886)}(c.field,n,i);switch(c.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:c.dir})}}class Ri{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,p]of s)if(this.equalsFn(u,n))return p}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],n))return void(u[p]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){po(this.inner,(i,s)=>{for(const[u,p]of s)n(u,p)})}isEmpty(){return ws(this.inner)}size(){return this.innerSize}}const Fc=new zr(Kt.comparator);function eo(){return Fc}const Za=new zr(Kt.comparator);function Ko(...c){let n=Za;for(const i of c)n=n.insert(i.key,i);return n}function Ls(c){let n=Za;return c.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function C(){return l()}function y(){return l()}function l(){return new Ri(c=>c.toString(),(c,n)=>c.isEqual(n))}const h=new zr(Kt.comparator),m=new Qr(Kt.comparator);function T(...c){let n=m;for(const i of c)n=n.add(i);return n}const M=new Qr(qt);function Q(c,n){if(c.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gr(n)?"-0":n}}function Ie(c){return{integerValue:""+c}}function Ge(c,n){return function te(c){return"number"==typeof c&&Number.isInteger(c)&&!gr(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}(n)?Ie(n):Q(c,n)}class jt{constructor(){this._=void 0}}function un(c,n,i){return c instanceof Bn?function(u,p){const E={fields:{[ra]:{stringValue:Ji},[Ta]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&Vo(p)&&(p=vr(p)),p&&(E.fields[xs]=p),{mapValue:E}}(i,n):c instanceof Qn?Pi(c,n):c instanceof Ki?mo(c,n):function(u,p){const E=Fn(u,p),R=ps(E)+ps(u.Re);return Si(E)&&Si(u.Re)?Ie(R):Q(u.serializer,R)}(c,n)}function ar(c,n,i){return c instanceof Qn?Pi(c,n):c instanceof Ki?mo(c,n):i}function Fn(c,n){return c instanceof Xo?Si(s=n)||(p=s)&&"doubleValue"in p?n:{integerValue:0}:null;var s,p}class Bn extends jt{}class Qn extends jt{constructor(n){super(),this.elements=n}}function Pi(c,n){const i=yc(n);for(const s of c.elements)i.some(u=>Lr(u,s))||i.push(s);return{arrayValue:{values:i}}}class Ki extends jt{constructor(n){super(),this.elements=n}}function mo(c,n){let i=yc(n);for(const s of c.elements)i=i.filter(u=>!Lr(u,s));return{arrayValue:{values:i}}}class Xo extends jt{constructor(n,i){super(),this.serializer=n,this.Re=i}}function ps(c){return xr(c.integerValue||c.doubleValue)}function yc(c){return To(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class Rs{constructor(n,i){this.version=n,this.transformResults=i}}class Ii{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new Ii}static exists(n){return new Ii(void 0,n)}static updateTime(n){return new Ii(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Ra(c,n){return void 0!==c.updateTime?n.isFoundDocument()&&n.version.isEqual(c.updateTime):void 0===c.exists||c.exists===n.isFoundDocument()}class _c{}function ia(c,n){if(!c.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return c.isNoDocument()?new _i(c.key,Ii.none()):new Jn(c.key,c.data,Ii.none());{const i=c.data,s=io.empty();let u=new Qr(qn.comparator);for(let p of n.fields)if(!u.has(p)){let E=i.field(p);null===E&&p.length>1&&(p=p.popLast(),E=i.field(p)),null===E?s.delete(p):s.set(p,E),u=u.add(p)}return new Xn(c.key,s,new Mo(u.toArray()),Ii.none())}}function Wu(c,n,i){c instanceof Jn?function(u,p,E){const R=u.value.clone(),k=xo(u.fieldTransforms,p,E.transformResults);R.setAll(k),p.convertToFoundDocument(E.version,R).setHasCommittedMutations()}(c,n,i):c instanceof Xn?function(u,p,E){if(!Ra(u.precondition,p))return void p.convertToUnknownDocument(E.version);const R=xo(u.fieldTransforms,p,E.transformResults),k=p.data;k.setAll(jn(u)),k.setAll(R),p.convertToFoundDocument(E.version,k).setHasCommittedMutations()}(c,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function qi(c,n,i,s){return c instanceof Jn?function(p,E,R,k){if(!Ra(p.precondition,E))return R;const L=p.value.clone(),X=cs(p.fieldTransforms,k,E);return L.setAll(X),E.convertToFoundDocument(E.version,L).setHasLocalMutations(),null}(c,n,i,s):c instanceof Xn?function(p,E,R,k){if(!Ra(p.precondition,E))return R;const L=cs(p.fieldTransforms,k,E),X=E.data;return X.setAll(jn(p)),X.setAll(L),E.convertToFoundDocument(E.version,X).setHasLocalMutations(),null===R?null:R.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(oe=>oe.field))}(c,n,i,s):(R=i,Ra(c.precondition,E=n)?(E.convertToNoDocument(E.version).setHasLocalMutations(),null):R);var E,R}function kl(c,n){let i=null;for(const s of c.fieldTransforms){const u=n.data.field(s.field),p=Fn(s.transform,u||null);null!=p&&(null===i&&(i=io.empty()),i.set(s.field,p))}return i||null}function ln(c,n){return c.type===n.type&&!!c.key.isEqual(n.key)&&!!c.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=c.fieldTransforms)&&void 0===u||s&&u&&Pr(s,u,(p,E)=>function Ts(c,n){return c.field.isEqual(n.field)&&(u=n.transform,(s=c.transform)instanceof Qn&&u instanceof Qn||s instanceof Ki&&u instanceof Ki?Pr(s.elements,u.elements,Lr):s instanceof Xo&&u instanceof Xo?Lr(s.Re,u.Re):s instanceof Bn&&u instanceof Bn);var s,u}(p,E))))&&(0===c.type?c.value.isEqual(n.value):1!==c.type||c.data.isEqual(n.data)&&c.fieldMask.isEqual(n.fieldMask));var s,u}class Jn extends _c{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Xn extends _c{constructor(n,i,s,u,p=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function jn(c){const n=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=c.data.field(i);n.set(i,s)}}),n}function xo(c,n,i){const s=new Map;Ze(c.length===i.length,32656,{Ve:i.length,me:c.length});for(let u=0;u<i.length;u++){const p=c[u],E=p.transform,R=n.data.field(p.field);s.set(p.field,ar(E,R,i[u]))}return s}function cs(c,n,i){const s=new Map;for(const u of c){const p=u.transform,E=i.data.field(u.field);s.set(u.field,un(p,E,n))}return s}class _i extends _c{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vs extends _c{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vi{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(n.key)&&Wu(p,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=qi(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=qi(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=y();return this.mutations.forEach(u=>{const p=n.get(u.key),E=p.overlayedDocument;let R=this.applyToLocalView(E,p.mutatedFields);R=i.has(u.key)?null:R;const k=ia(E,R);null!==k&&s.set(u.key,k),E.isValidDocument()||E.convertToNoDocument(on.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),T())}isEqual(n){return this.batchId===n.batchId&&Pr(this.mutations,n.mutations,(i,s)=>ln(i,s))&&Pr(this.baseMutations,n.baseMutations,(i,s)=>ln(i,s))}}class Ps{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){Ze(n.mutations.length===s.length,58842,{fe:n.mutations.length,ge:s.length});let u=function(){return h}();const p=n.mutations;for(let E=0;E<p.length;E++)u=u.insert(p[E].key,s[E].version);return new Ps(n,i,s,u)}}class Ua{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pa{constructor(n,i){this.count=n,this.unchangedNames=i}}var ui,Hr;function Gu(c){if(void 0===c)return Ln("GRPC error has no .code"),We.UNKNOWN;switch(c){case ui.OK:return We.OK;case ui.CANCELLED:return We.CANCELLED;case ui.UNKNOWN:return We.UNKNOWN;case ui.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case ui.INTERNAL:return We.INTERNAL;case ui.UNAVAILABLE:return We.UNAVAILABLE;case ui.UNAUTHENTICATED:return We.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case ui.NOT_FOUND:return We.NOT_FOUND;case ui.ALREADY_EXISTS:return We.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return We.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case ui.ABORTED:return We.ABORTED;case ui.OUT_OF_RANGE:return We.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return We.UNIMPLEMENTED;case ui.DATA_LOSS:return We.DATA_LOSS;default:return dt(39323,{code:c})}}(Hr=ui||(ui={}))[Hr.OK=0]="OK",Hr[Hr.CANCELLED=1]="CANCELLED",Hr[Hr.UNKNOWN=2]="UNKNOWN",Hr[Hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hr[Hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hr[Hr.NOT_FOUND=5]="NOT_FOUND",Hr[Hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hr[Hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hr[Hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hr[Hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hr[Hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hr[Hr.ABORTED=10]="ABORTED",Hr[Hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hr[Hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hr[Hr.INTERNAL=13]="INTERNAL",Hr[Hr.UNAVAILABLE=14]="UNAVAILABLE",Hr[Hr.DATA_LOSS=15]="DATA_LOSS";const wf=new fe([4294967295,4294967295],0);function uu(c){const n=Zn().encode(c),i=new xe;return i.update(n),new Uint8Array(i.digest())}function ih(c){const n=new DataView(c.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),p=n.getUint32(12,!0);return[new fe([i,s],0),new fe([u,p],0)]}class vc{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ya(`Invalid padding: ${i}`);if(s<0)throw new Ya(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new Ya(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new Ya(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*n.length-i,this.ye=fe.fromNumber(this.pe)}we(n,i,s){let u=n.add(i.multiply(fe.fromNumber(s)));return 1===u.compare(wf)&&(u=new fe([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.pe)return!1;const i=uu(n),[s,u]=ih(i);for(let p=0;p<this.hashCount;p++){const E=this.we(s,u,p);if(!this.Se(E))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,p=new Uint8Array(Math.ceil(n/8)),E=new vc(p,u,i);return s.forEach(R=>E.insert(R)),E}insert(n){if(0===this.pe)return;const i=uu(n),[s,u]=ih(i);for(let p=0;p<this.hashCount;p++){const E=this.we(s,u,p);this.be(E)}}be(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vc{constructor(n,i,s,u,p){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,oa.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new Vc(on.min(),u,new zr(qt),eo(),T())}}class oa{constructor(n,i,s,u,p){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new oa(s,i,T(),T(),T())}}class Ec{constructor(n,i,s,u){this.De=n,this.removedTargetIds=i,this.key=s,this.ve=u}}class xl{constructor(n,i){this.targetId=n,this.Ce=i}}class If{constructor(n,i,s=Vi.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Tr{constructor(){this.Fe=0,this.Me=Fl(),this.xe=Vi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(n){n.approximateByteSize()>0&&(this.Ne=!0,this.xe=n)}qe(){let n=T(),i=T(),s=T();return this.Me.forEach((u,p)=>{switch(p){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:dt(38017,{changeType:p})}}),new oa(this.xe,this.Oe,n,i,s)}Qe(){this.Ne=!1,this.Me=Fl()}$e(n,i){this.Ne=!0,this.Me=this.Me.insert(n,i)}Ue(n){this.Ne=!0,this.Me=this.Me.remove(n)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ol{constructor(n){this.ze=n,this.je=new Map,this.He=eo(),this.Je=Ba(),this.Ye=Ba(),this.Ze=new zr(qt)}Xe(n){for(const i of n.De)n.ve&&n.ve.isFoundDocument()?this.et(i,n.ve):this.tt(i,n.key,n.ve);for(const i of n.removedTargetIds)this.tt(i,n.key,n.ve)}nt(n){this.forEachTarget(n,i=>{const s=this.rt(i);switch(n.state){case 0:this.it(i)&&s.ke(n.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(n.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(n.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(n.resumeToken));break;default:dt(56790,{state:n.state})}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.je.forEach((s,u)=>{this.it(u)&&i(u)})}ot(n){const i=n.targetId,s=n.Ce.count,u=this._t(i);if(u){const p=u.target;if(De(p))if(0===s){const E=new Kt(p.path);this.tt(i,E,ai.newNoDocument(E,on.min()))}else Ze(1===s,20013,{expectedCount:s});else{const E=this.ut(i);if(E!==s){const R=this.ct(n),k=R?this.lt(R,n,E):1;0!==k&&(this.st(i),this.Ze=this.Ze.insert(i,2===k?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ct(n){const i=n.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:p=0}=i;let E,R;try{E=_r(s).toUint8Array()}catch(k){if(k instanceof us)return Rn("Decoding the base64 bloom filter in existence filter failed ("+k.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw k}try{R=new vc(E,u,p)}catch(k){return Rn(k instanceof Ya?"BloomFilter error: ":"Applying bloom filter failed: ",k),null}return 0===R.pe?null:R}lt(n,i,s){return i.Ce.count===s-this.Tt(n,i.targetId)?0:2}Tt(n,i){const s=this.ze.getRemoteKeysForTarget(i);let u=0;return s.forEach(p=>{const E=this.ze.Pt(),R=`projects/${E.projectId}/databases/${E.database}/documents/${p.path.canonicalString()}`;n.mightContain(R)||(this.tt(i,p,null),u++)}),u}It(n){const i=new Map;this.je.forEach((p,E)=>{const R=this._t(E);if(R){if(p.current&&De(R.target)){const k=new Kt(R.target.path);this.Et(k).has(E)||this.dt(E,k)||this.tt(E,k,ai.newNoDocument(k,n))}p.Le&&(i.set(E,p.qe()),p.Qe())}});let s=T();this.Ye.forEach((p,E)=>{let R=!0;E.forEachWhile(k=>{const L=this._t(k);return!L||"TargetPurposeLimboResolution"===L.purpose||(R=!1,!1)}),R&&(s=s.add(p))}),this.He.forEach((p,E)=>E.setReadTime(n));const u=new Vc(n,i,this.Ze,this.He,s);return this.He=eo(),this.Je=Ba(),this.Ye=Ba(),this.Ze=new zr(qt),u}et(n,i){if(!this.it(n))return;const s=this.dt(n,i.key)?2:0;this.rt(n).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(n)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(n))}tt(n,i,s){if(!this.it(n))return;const u=this.rt(n);this.dt(n,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(n)),this.Ye=this.Ye.insert(i,this.At(i).add(n)),s&&(this.He=this.He.insert(i,s))}removeTarget(n){this.je.delete(n)}ut(n){const i=this.rt(n).qe();return this.ze.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}Ke(n){this.rt(n).Ke()}rt(n){let i=this.je.get(n);return i||(i=new Tr,this.je.set(n,i)),i}At(n){let i=this.Ye.get(n);return i||(i=new Qr(qt),this.Ye=this.Ye.insert(n,i)),i}Et(n){let i=this.Je.get(n);return i||(i=new Qr(qt),this.Je=this.Je.insert(n,i)),i}it(n){const i=null!==this._t(n);return i||st("WatchChangeAggregator","Detected inactive target",n),i}_t(n){const i=this.je.get(n);return i&&i.Be?null:this.ze.Rt(n)}st(n){this.je.set(n,new Tr),this.ze.getRemoteKeysForTarget(n).forEach(i=>{this.tt(n,i,null)})}dt(n,i){return this.ze.getRemoteKeysForTarget(n).has(i)}}function Ba(){return new zr(Kt.comparator)}function Fl(){return new zr(Kt.comparator)}const Hy={asc:"ASCENDING",desc:"DESCENDING"},Eg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oh={and:"AND",or:"OR"};class Tf{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function Ma(c,n){return c.useProto3Json||Cn(n)?n:{value:n}}function Ku(c,n){return c.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Ll(c,n){return c.useProto3Json?n.toBase64():n.toUint8Array()}function zy(c,n){return Ku(c,n.toTimestamp())}function Oo(c){return Ze(!!c,49232),on.fromTimestamp(function(i){const s=No(i);return new hr(s.seconds,s.nanos)}(c))}function qu(c,n){return St(c,n).canonicalString()}function St(c,n){const i=(u=c,new ut(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function Er(c){const n=ut.fromString(c);return Ze(jl(n),10190,{key:n.toString()}),n}function wc(c,n){return qu(c.databaseId,n.path)}function sa(c,n){const i=Er(n);if(i.get(1)!==c.databaseId.projectId)throw new Y(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new Y(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new Kt(Xs(i))}function Ur(c,n){return qu(c.databaseId,n)}function aa(c){return new ut(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Xs(c){return Ze(c.length>4&&"documents"===c.get(4),29091,{key:c.toString()}),c.popFirst(5)}function Vl(c,n,i){return{name:wc(c,n),fields:i.value.mapValue.fields}}function Uc(c,n){return{documents:[Ur(c,n.path)]}}function Ds(c,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Ur(c,u);const p=function(L){if(0!==L.length)return du(Vr.create(L,"and"))}(n.filters);p&&(i.structuredQuery.where=p);const E=function(L){if(0!==L.length)return L.map(X=>{return{field:Ic((ke=X).field),direction:Ig(ke.dir)};var ke})}(n.orderBy);E&&(i.structuredQuery.orderBy=E);const R=Ma(c,n.limit);return null!==R&&(i.structuredQuery.limit=R),n.startAt&&(i.structuredQuery.startAt={before:(L=n.startAt).inclusive,values:L.position}),n.endAt&&(i.structuredQuery.endAt=function(L){return{before:!L.inclusive,values:L.position}}(n.endAt)),{gt:i,parent:u};var L}function Cf(c){let n=function bf(c){const n=Er(c);return 4===n.length?ut.emptyPath():Xs(n)}(c.parent);const i=c.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ze(1===s,65062);const X=i.from[0];X.allDescendants?u=X.collectionId:n=n.child(X.collectionId)}let p=[];i.where&&(p=function(oe){const ke=ya(oe);return ke instanceof Vr&&Qa(ke)?ke.getFilters():[ke]}(i.where));let E=[];i.orderBy&&(E=i.orderBy.map(ke=>{return new Ks(ja((Bt=ke).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Bt.direction));var Bt}));let R=null;i.limit&&(R=function(oe){let ke;return ke="object"==typeof oe?oe.value:oe,Cn(ke)?null:ke}(i.limit));let k=null;var oe;i.startAt&&(k=new ko((oe=i.startAt).values||[],!!oe.before));let L=null;return i.endAt&&(L=function(oe){return new ko(oe.values||[],!oe.before)}(i.endAt)),function Gi(c,n,i,s,u,p,E,R){return new Bi(c,n,i,s,u,p,E,R)}(n,u,E,p,R,"F",k,L)}function ya(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ja(i.unaryFilter.field);return $r.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=ja(i.unaryFilter.field);return $r.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=ja(i.unaryFilter.field);return $r.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const E=ja(i.unaryFilter.field);return $r.create(E,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(c):void 0!==c.fieldFilter?$r.create(ja((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return Vr.create(i.compositeFilter.filters.map(s=>ya(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(i.compositeFilter.op))}(c):dt(30097,{filter:c});var i}function Ig(c){return Hy[c]}function lu(c){return Eg[c]}function Tg(c){return oh[c]}function Ic(c){return{fieldPath:c.canonicalString()}}function ja(c){return qn.fromServerFormat(c.fieldPath)}function du(c){return c instanceof $r?function(i){if("=="===i.op){if(go(i.value))return{unaryFilter:{field:Ic(i.field),op:"IS_NAN"}};if(Jr(i.value))return{unaryFilter:{field:Ic(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(go(i.value))return{unaryFilter:{field:Ic(i.field),op:"IS_NOT_NAN"}};if(Jr(i.value))return{unaryFilter:{field:Ic(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(i.field),op:lu(i.op),value:i.value}}}(c):c instanceof Vr?function(i){const s=i.getFilters().map(u=>du(u));return 1===s.length?s[0]:{compositeFilter:{op:Tg(i.op),filters:s}}}(c):dt(54877,{filter:c})}function Qu(c){const n=[];return c.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function jl(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class Ja{constructor(n,i,s,u,p=on.min(),E=on.min(),R=Vi.EMPTY_BYTE_STRING,k=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=R,this.expectedCount=k}withSequenceNumber(n){return new Ja(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class $l{constructor(n){this.wt=n}}function tc(c){const n=Cf({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?Pn(n,n.limit,"L"):n}class Tc{constructor(){}vt(n,i){this.Ct(n,i),i.Ft()}Ct(n,i){if("nullValue"in n)this.Mt(i,5);else if("booleanValue"in n)this.Mt(i,10),i.xt(n.booleanValue?1:0);else if("integerValue"in n)this.Mt(i,15),i.xt(xr(n.integerValue));else if("doubleValue"in n){const s=xr(n.doubleValue);isNaN(s)?this.Mt(i,13):(this.Mt(i,15),gr(s)?i.xt(0):i.xt(s))}else if("timestampValue"in n){let s=n.timestampValue;this.Mt(i,20),"string"==typeof s&&(s=No(s)),i.Ot(`${s.seconds||""}`),i.xt(s.nanos||0)}else if("stringValue"in n)this.Nt(n.stringValue,i),this.Bt(i);else if("bytesValue"in n)this.Mt(i,30),i.Lt(_r(n.bytesValue)),this.Bt(i);else if("referenceValue"in n)this.kt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.Mt(i,45),i.xt(s.latitude||0),i.xt(s.longitude||0)}else"mapValue"in n?ba(n)?this.Mt(i,Number.MAX_SAFE_INTEGER):ls(n)?this.qt(n.mapValue,i):(this.Qt(n.mapValue,i),this.Bt(i)):"arrayValue"in n?(this.$t(n.arrayValue,i),this.Bt(i)):dt(19022,{Ut:n})}Nt(n,i){this.Mt(i,25),this.Kt(n,i)}Kt(n,i){i.Ot(n)}Qt(n,i){const s=n.fields||{};this.Mt(i,55);for(const u of Object.keys(s))this.Nt(u,i),this.Ct(s[u],i)}qt(n,i){var s,u;const p=n.fields||{};this.Mt(i,53);const E=fn,R=(null===(u=null===(s=p[E].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.Mt(i,15),i.xt(xr(R)),this.Nt(E,i),this.Ct(p[E],i)}$t(n,i){const s=n.values||[];this.Mt(i,50);for(const u of s)this.Ct(u,i)}kt(n,i){this.Mt(i,37),Kt.fromName(n).path.forEach(s=>{this.Mt(i,60),this.Kt(s,i)})}Mt(n,i){n.xt(i)}Bt(n){n.xt(2)}}Tc.Wt=new Tc;class tl{constructor(){this.Cn=new dh}addToCollectionParentIndex(n,i){return this.Cn.add(i),Le.resolve()}getCollectionParents(n,i){return Le.resolve(this.Cn.getEntries(i))}addFieldIndex(n,i){return Le.resolve()}deleteFieldIndex(n,i){return Le.resolve()}deleteAllFieldIndexes(n){return Le.resolve()}createTargetIndexes(n,i){return Le.resolve()}getDocumentsMatchingTarget(n,i){return Le.resolve(null)}getIndexType(n,i){return Le.resolve(0)}getFieldIndexes(n,i){return Le.resolve([])}getNextCollectionGroupToUpdate(n){return Le.resolve(null)}getMinOffset(n,i){return Le.resolve(dr.min())}getMinOffsetFromCollectionGroup(n,i){return Le.resolve(dr.min())}updateCollectionGroup(n,i,s){return Le.resolve()}updateIndexEntries(n,i){return Le.resolve()}}class dh{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new Qr(ut.comparator),p=!u.has(s);return this.index[i]=u.add(s),p}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new Qr(ut.comparator)).toArray()}}new Uint8Array(0);const Ff={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zo{static withCacheSize(n){return new Zo(n,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Zo.DEFAULT_COLLECTION_PERCENTILE=10,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zo.DEFAULT=new Zo(41943040,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zo.DISABLED=new Zo(-1,0,0);class Wc{constructor(n){this.ur=n}next(){return this.ur+=2,this.ur}static cr(){return new Wc(0)}static lr(){return new Wc(-1)}}const Zl="LruGarbageCollector";function ac([c,n],[i,s]){const u=qt(c,i);return 0===u?qt(n,s):u}class Gc{constructor(n){this.Er=n,this.buffer=new Qr(ac),this.dr=0}Ar(){return++this.dr}Rr(n){const i=[n,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();ac(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Fo{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(n){var i=this;st(Zl,`Garbage collection scheduled in ${n}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,b.A)(function*(){i.Vr=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){Ir(s)?st(Zl,"Ignoring IndexedDB error during garbage collection: ",s):yield Wn(s)}yield i.mr(3e5)}))}}class bg{constructor(n,i){this.gr=n,this.params=i}calculateTargetCount(n,i){return this.gr.pr(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return Le.resolve(Ye.le);const s=new Gc(i);return this.gr.forEachTarget(n,u=>s.Rr(u.sequenceNumber)).next(()=>this.gr.yr(n,u=>s.Rr(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.gr.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.gr.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Le.resolve(Ff)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ff):this.wr(n,i))}getCacheSize(n){return this.gr.getCacheSize(n)}wr(n,i){let s,u,p,E,R,k,L;const X=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(oe=>(oe>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${oe}`),u=this.params.maximumSequenceNumbersToCollect):u=oe,E=Date.now(),this.nthSequenceNumber(n,u))).next(oe=>(s=oe,R=Date.now(),this.removeTargets(n,s,i))).next(oe=>(p=oe,k=Date.now(),this.removeOrphanedDocuments(n,s))).next(oe=>(L=Date.now(),Wt()<=I.$b.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-X}ms\n\tDetermined least recently used ${u} in `+(R-E)+`ms\n\tRemoved ${p} targets in `+(k-R)+`ms\n\tRemoved ${oe} documents in `+(L-k)+`ms\nTotal Duration: ${L-X}ms`),Le.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:oe})))}}class mh{constructor(){this.changes=new Ri(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,ai.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?Le.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Vt{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class pn{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&qi(s.mutation,u,Mo.empty(),hr.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,T()).next(()=>s))}getLocalViewOfDocuments(n,i,s=T()){const u=C();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(p=>{let E=Ko();return p.forEach((R,k)=>{E=E.insert(R,k.overlayedDocument)}),E}))}getOverlayedDocuments(n,i){const s=C();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,T()))}populateOverlays(n,i,s){const u=[];return s.forEach(p=>{i.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(n,u).next(p=>{p.forEach((E,R)=>{i.set(E,R)})})}computeViews(n,i,s,u){let p=eo();const E=l(),R=l();return i.forEach((k,L)=>{const X=s.get(L.key);u.has(L.key)&&(void 0===X||X.mutation instanceof Xn)?p=p.insert(L.key,L):void 0!==X?(E.set(L.key,X.mutation.getFieldMask()),qi(X.mutation,L,X.mutation.getFieldMask(),hr.now())):E.set(L.key,Mo.empty())}),this.recalculateAndSaveOverlays(n,p).next(k=>(k.forEach((L,X)=>E.set(L,X)),i.forEach((L,X)=>{var oe;return R.set(L,new Vt(X,null!==(oe=E.get(L))&&void 0!==oe?oe:null))}),R))}recalculateAndSaveOverlays(n,i){const s=l();let u=new zr((E,R)=>E-R),p=T();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(E=>{for(const R of E)R.keys().forEach(k=>{const L=i.get(k);if(null===L)return;let X=s.get(k)||Mo.empty();X=R.applyToLocalView(L,X),s.set(k,X);const oe=(u.get(R.batchId)||T()).add(k);u=u.insert(R.batchId,oe)})}).next(()=>{const E=[],R=u.getReverseIterator();for(;R.hasNext();){const k=R.getNext(),L=k.key,X=k.value,oe=y();X.forEach(ke=>{if(!p.has(ke)){const wt=ia(i.get(ke),s.get(ke));null!==wt&&oe.set(ke,wt),p=p.add(ke)}}),E.push(this.documentOverlayCache.saveOverlays(n,L,oe))}return Le.waitFor(E)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return Kt.isDocumentKey((E=i).path)&&null===E.collectionGroup&&0===E.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Ca(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var E}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(p=>{const E=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-p.size):Le.resolve(C());let R=-1,k=p;return E.next(L=>Le.forEach(L,(X,oe)=>(R<oe.largestBatchId&&(R=oe.largestBatchId),p.get(X)?Le.resolve():this.remoteDocumentCache.getEntry(n,X).next(ke=>{k=k.insert(X,ke)}))).next(()=>this.populateOverlays(n,L,p)).next(()=>this.computeViews(n,k,L,T())).next(X=>({batchId:R,changes:Ls(X)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Kt(i)).next(s=>{let u=Ko();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const p=i.collectionGroup;let E=Ko();return this.indexManager.getCollectionParents(n,p).next(R=>Le.forEach(R,k=>{const L=(oe=i,ke=k.child(p),new Bi(ke,null,oe.explicitOrderBy.slice(),oe.filters.slice(),oe.limit,oe.limitType,oe.startAt,oe.endAt));var oe,ke;return this.getDocumentsMatchingCollectionQuery(n,L,s,u).next(X=>{X.forEach((oe,ke)=>{E=E.insert(oe,ke)})})}).next(()=>E))}getDocumentsMatchingCollectionQuery(n,i,s,u){let p;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(E=>(p=E,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,p,u))).next(E=>{p.forEach((k,L)=>{const X=L.getKey();null===E.get(X)&&(E=E.insert(X,ai.newInvalidDocument(X)))});let R=Ko();return E.forEach((k,L)=>{const X=p.get(k);void 0!==X&&qi(X.mutation,L,Mo.empty(),hr.now()),ga(i,L)&&(R=R.insert(k,L))}),R})}}class $n{constructor(n){this.serializer=n,this.kr=new Map,this.qr=new Map}getBundleMetadata(n,i){return Le.resolve(this.kr.get(i))}saveBundleMetadata(n,i){return this.kr.set(i.id,{id:(u=i).id,version:u.version,createTime:Oo(u.createTime)}),Le.resolve();var u}getNamedQuery(n,i){return Le.resolve(this.qr.get(i))}saveNamedQuery(n,i){return this.qr.set(i.name,{name:(u=i).name,query:tc(u.bundledQuery),readTime:Oo(u.readTime)}),Le.resolve();var u}}class zn{constructor(){this.overlays=new zr(Kt.comparator),this.Qr=new Map}getOverlay(n,i){return Le.resolve(this.overlays.get(i))}getOverlays(n,i){const s=C();return Le.forEach(i,u=>this.getOverlay(n,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,p)=>{this.bt(n,i,p)}),Le.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.Qr.get(s);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.Qr.delete(s)),Le.resolve()}getOverlaysForCollection(n,i,s){const u=C(),p=i.length+1,E=new Kt(i.child("")),R=this.overlays.getIteratorFrom(E);for(;R.hasNext();){const k=R.getNext().value,L=k.getKey();if(!i.isPrefixOf(L.path))break;L.path.length===p&&k.largestBatchId>s&&u.set(k.getKey(),k)}return Le.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let p=new zr((L,X)=>L-X);const E=this.overlays.getIterator();for(;E.hasNext();){const L=E.getNext().value;if(L.getKey().getCollectionGroup()===i&&L.largestBatchId>s){let X=p.get(L.largestBatchId);null===X&&(X=C(),p=p.insert(L.largestBatchId,X)),X.set(L.getKey(),L)}}const R=C(),k=p.getIterator();for(;k.hasNext()&&(k.getNext().value.forEach((L,X)=>R.set(L,X)),!(R.size()>=u)););return Le.resolve(R)}bt(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const E=this.Qr.get(u.largestBatchId).delete(s.key);this.Qr.set(u.largestBatchId,E)}this.overlays=this.overlays.insert(s.key,new Ua(i,s));let p=this.Qr.get(i);void 0===p&&(p=T(),this.Qr.set(i,p)),this.Qr.set(i,p.add(s.key))}}class Sr{constructor(){this.sessionToken=Vi.EMPTY_BYTE_STRING}getSessionToken(n){return Le.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,Le.resolve()}}class Ao{constructor(){this.$r=new Qr(to.Ur),this.Kr=new Qr(to.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(n,i){const s=new to(n,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.zr(new to(n,i))}jr(n,i){n.forEach(s=>this.removeReference(s,i))}Hr(n){const i=new Kt(new ut([])),s=new to(i,n),u=new to(i,n+1),p=[];return this.Kr.forEachInRange([s,u],E=>{this.zr(E),p.push(E.key)}),p}Jr(){this.$r.forEach(n=>this.zr(n))}zr(n){this.$r=this.$r.delete(n),this.Kr=this.Kr.delete(n)}Yr(n){const i=new Kt(new ut([])),s=new to(i,n),u=new to(i,n+1);let p=T();return this.Kr.forEachInRange([s,u],E=>{p=p.add(E.key)}),p}containsKey(n){const i=new to(n,0),s=this.$r.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class to{constructor(n,i){this.key=n,this.Zr=i}static Ur(n,i){return Kt.comparator(n.key,i.key)||qt(n.Zr,i.Zr)}static Wr(n,i){return qt(n.Zr,i.Zr)||Kt.comparator(n.key,i.key)}}class Kc{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Qr(to.Ur)}checkEmpty(n){return Le.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const p=this.nr;this.nr++;const E=new vi(p,i,s,u);this.mutationQueue.push(E);for(const R of u)this.Xr=this.Xr.add(new to(R.key,p)),this.indexManager.addToCollectionParentIndex(n,R.key.path.popLast());return Le.resolve(E)}lookupMutationBatch(n,i){return Le.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.ti(i+1),p=u<0?0:u;return Le.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(0===this.mutationQueue.length?-1:this.nr-1)}getAllMutationBatches(n){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new to(i,0),u=new to(i,Number.POSITIVE_INFINITY),p=[];return this.Xr.forEachInRange([s,u],E=>{const R=this.ei(E.Zr);p.push(R)}),Le.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Qr(qt);return i.forEach(u=>{const p=new to(u,0),E=new to(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([p,E],R=>{s=s.add(R.Zr)})}),Le.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let p=s;Kt.isDocumentKey(p)||(p=p.child(""));const E=new to(new Kt(p),0);let R=new Qr(qt);return this.Xr.forEachWhile(k=>{const L=k.key.path;return!!s.isPrefixOf(L)&&(L.length===u&&(R=R.add(k.Zr)),!0)},E),Le.resolve(this.ni(R))}ni(n){const i=[];return n.forEach(s=>{const u=this.ei(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){Ze(0===this.ri(i.batchId,"removed"),55003),this.mutationQueue.shift();let s=this.Xr;return Le.forEach(i.mutations,u=>{const p=new to(u.key,i.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.Xr=s})}sr(n){}containsKey(n,i){const s=new to(i,0),u=this.Xr.firstAfterOrEqual(s);return Le.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return Le.resolve()}ri(n,i){return this.ti(n)}ti(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}ei(n){const i=this.ti(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ed{constructor(n){this.ii=n,this.docs=new zr(Kt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),p=u?u.size:0,E=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:E}),this.size+=E-p,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return Le.resolve(s?s.document.mutableCopy():ai.newInvalidDocument(i))}getEntries(n,i){let s=eo();return i.forEach(u=>{const p=this.docs.get(u);s=s.insert(u,p?p.document.mutableCopy():ai.newInvalidDocument(u))}),Le.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let p=eo();const E=i.path,R=new Kt(E.child("__id-9223372036854775808__")),k=this.docs.getIteratorFrom(R);for(;k.hasNext();){const{key:L,value:{document:X}}=k.getNext();if(!E.isPrefixOf(L.path))break;L.path.length>E.length+1||Dn(new dr((c=X).readTime,c.key,-1),s)<=0||(u.has(X.key)||ga(i,X))&&(p=p.insert(X.key,X.mutableCopy()))}var c;return Le.resolve(p)}getAllFromCollectionGroup(n,i,s,u){dt(9500)}si(n,i){return Le.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new gs(this)}getSize(n){return Le.resolve(this.size)}}class gs extends mh{constructor(n){super(),this.Br=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(n,u)):this.Br.removeEntry(s)}),Le.waitFor(i)}getFromCache(n,i){return this.Br.getEntry(n,i)}getAllFromCache(n,i){return this.Br.getEntries(n,i)}}class Dg{constructor(n){this.persistence=n,this.oi=new Ri(i=>N(i),j),this.lastRemoteSnapshotVersion=on.min(),this.highestTargetId=0,this._i=0,this.ai=new Ao,this.targetCount=0,this.ui=Wc.cr()}forEachTarget(n,i){return this.oi.forEach((s,u)=>i(u)),Le.resolve()}getLastRemoteSnapshotVersion(n){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Le.resolve(this._i)}allocateTargetId(n){return this.highestTargetId=this.ui.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),Le.resolve()}Tr(n){this.oi.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.ui=new Wc(i),this.highestTargetId=i),n.sequenceNumber>this._i&&(this._i=n.sequenceNumber)}addTargetData(n,i){return this.Tr(i),this.targetCount+=1,Le.resolve()}updateTargetData(n,i){return this.Tr(i),Le.resolve()}removeTargetData(n,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,Le.resolve()}removeTargets(n,i,s){let u=0;const p=[];return this.oi.forEach((E,R)=>{R.sequenceNumber<=i&&null===s.get(R.targetId)&&(this.oi.delete(E),p.push(this.removeMatchingKeysForTargetId(n,R.targetId)),u++)}),Le.waitFor(p).next(()=>u)}getTargetCount(n){return Le.resolve(this.targetCount)}getTargetData(n,i){const s=this.oi.get(i)||null;return Le.resolve(s)}addMatchingKeys(n,i,s){return this.ai.Gr(i,s),Le.resolve()}removeMatchingKeys(n,i,s){this.ai.jr(i,s);const u=this.persistence.referenceDelegate,p=[];return u&&i.forEach(E=>{p.push(u.markPotentiallyOrphaned(n,E))}),Le.waitFor(p)}removeMatchingKeysForTargetId(n,i){return this.ai.Hr(i),Le.resolve()}getMatchingKeysForTargetId(n,i){const s=this.ai.Yr(i);return Le.resolve(s)}containsKey(n,i){return Le.resolve(this.ai.containsKey(i))}}class nl{constructor(n,i){this.ci={},this.overlays={},this.li=new Ye(0),this.hi=!1,this.hi=!0,this.Pi=new Sr,this.referenceDelegate=n(this),this.Ti=new Dg(this),this.indexManager=new tl,this.remoteDocumentCache=new ed(s=>this.referenceDelegate.Ii(s)),this.serializer=new $l(i),this.Ei=new $n(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new zn,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.ci[n.toKey()];return s||(s=new Kc(i,this.referenceDelegate),this.ci[n.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(n,i,s){st("MemoryPersistence","Starting transaction:",n);const u=new Ag(this.li.next());return this.referenceDelegate.di(),s(u).next(p=>this.referenceDelegate.Ai(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Ri(n,i){return Le.or(Object.values(this.ci).map(s=>()=>s.containsKey(n,i)))}}class Ag extends Nr{constructor(n){super(),this.currentSequenceNumber=n}}class _u{constructor(n){this.persistence=n,this.Vi=new Ao,this.mi=null}static fi(n){return new _u(n)}get gi(){if(this.mi)return this.mi;throw dt(60996)}addReference(n,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),Le.resolve()}removeReference(n,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),Le.resolve()}markPotentiallyOrphaned(n,i){return this.gi.add(i.toString()),Le.resolve()}removeTarget(n,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(p=>this.gi.add(p.toString()))}).next(()=>s.removeTargetData(n,i))}di(){this.mi=new Set}Ai(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.gi,s=>{const u=Kt.fromPath(s);return this.pi(n,u).next(p=>{p||i.removeEntry(u,on.min())})}).next(()=>(this.mi=null,i.apply(n)))}updateLimboDocument(n,i){return this.pi(n,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(n){return 0}pi(n,i){return Le.or([()=>Le.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Ri(n,i)])}}class Us{constructor(n,i){this.persistence=n,this.yi=new Ri(s=>function Ae(c){let n="";for(let i=0;i<c.length;i++)n.length>0&&(n=It(n)),n=lt(c.get(i),n);return It(n)}(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=function Yl(c,n){return new bg(c,n)}(this,i)}static fi(n,i){return new Us(n,i)}di(){}Ai(n){return Le.resolve()}forEachTarget(n,i){return this.persistence.getTargetCache().forEachTarget(n,i)}pr(n){const i=this.Sr(n);return this.persistence.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}Sr(n){let i=0;return this.yr(n,s=>{i++}).next(()=>i)}yr(n,i){return Le.forEach(this.yi,(s,u)=>this.Dr(n,s,u).next(p=>p?Le.resolve():i(u)))}removeTargets(n,i,s){return this.persistence.getTargetCache().removeTargets(n,i,s)}removeOrphanedDocuments(n,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),p=u.newChangeBuffer();return u.si(n,E=>this.Dr(n,E,i).next(R=>{R||(s++,p.removeEntry(E,on.min()))})).next(()=>p.apply(n)).next(()=>s)}markPotentiallyOrphaned(n,i){return this.yi.set(i,n.currentSequenceNumber),Le.resolve()}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,s)}addReference(n,i,s){return this.yi.set(s,n.currentSequenceNumber),Le.resolve()}removeReference(n,i,s){return this.yi.set(s,n.currentSequenceNumber),Le.resolve()}updateLimboDocument(n,i){return this.yi.set(i,n.currentSequenceNumber),Le.resolve()}Ii(n){let i=n.key.toString().length;return n.isFoundDocument()&&(i+=co(n.data.value)),i}Dr(n,i,s){return Le.or([()=>this.persistence.Ri(n,i),()=>this.persistence.getTargetCache().containsKey(n,i),()=>{const u=this.yi.get(i);return Le.resolve(void 0!==u&&u>s)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}class il{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.ds=s,this.As=u}static Rs(n,i){let s=T(),u=T();for(const p of i.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new il(n,i.fromCache,s,u)}}class Ky{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Cg{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(0,Ce.nr)()?8:function Oi(c){const n=c.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}((0,Ce.ZQ)())>0?6:4}initialize(n,i){this.ys=n,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(n,i,s,u){const p={result:null};return this.ws(n,i).next(E=>{p.result=E}).next(()=>{if(!p.result)return this.Ss(n,i,u,s).next(E=>{p.result=E})}).next(()=>{if(p.result)return;const E=new Ky;return this.bs(n,i,E).next(R=>{if(p.result=R,this.fs)return this.Ds(n,i,E,R.size)})}).next(()=>p.result)}Ds(n,i,s,u){return s.documentReadCount<this.gs?(Wt()<=I.$b.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",fs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Le.resolve()):(Wt()<=I.$b.DEBUG&&st("QueryEngine","Query:",fs(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ps*u?(Wt()<=I.$b.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",fs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Do(i))):Le.resolve())}ws(n,i){if(Qs(i))return Le.resolve(null);let s=Do(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=Pn(i,null,"F"),s=Do(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(p=>{const E=T(...p);return this.ys.getDocuments(n,E).next(R=>this.indexManager.getMinOffset(n,s).next(k=>{const L=this.vs(i,R);return this.Cs(i,L,E,k.readTime)?this.ws(n,Pn(i,null,"F")):this.Fs(n,L,i,k)}))})))}Ss(n,i,s,u){return Qs(i)||u.isEqual(on.min())?Le.resolve(null):this.ys.getDocuments(n,s).next(p=>{const E=this.vs(i,p);return this.Cs(i,E,s,u)?Le.resolve(null):(Wt()<=I.$b.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),fs(i)),this.Fs(n,E,i,function sr(c,n){const i=c.toTimestamp().seconds,s=c.toTimestamp().nanoseconds+1,u=on.fromTimestamp(1e9===s?new hr(i+1,0):new hr(i,s));return new dr(u,Kt.empty(),n)}(u,-1)).next(R=>R))})}vs(n,i){let s=new Qr(ji(n));return i.forEach((u,p)=>{ga(n,p)&&(s=s.add(p))}),s}Cs(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const p="F"===n.limitType?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}bs(n,i,s){return Wt()<=I.$b.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",fs(i)),this.ys.getDocumentsMatchingQuery(n,i,dr.min(),s)}Fs(n,i,s,u){return this.ys.getDocumentsMatchingQuery(n,s,u).next(p=>(i.forEach(E=>{p=p.insert(E.key,E)}),p))}}const qy="LocalStore";class Hf{constructor(n,i,s,u){this.persistence=n,this.Ms=i,this.serializer=u,this.xs=new zr(qt),this.Os=new Ri(p=>N(p),j),this.Ns=new Map,this.Bs=n.getRemoteDocumentCache(),this.Ti=n.getTargetCache(),this.Ei=n.getBundleCache(),this.Ls(s)}Ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new pn(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.xs))}}function yo(c,n){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,b.A)(function*(c,n){const i=Rt(c);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(p=>(u=p,i.Ls(n),i.mutationQueue.getAllMutationBatches(s))).next(p=>{const E=[],R=[];let k=T();for(const L of u){E.push(L.batchId);for(const X of L.mutations)k=k.add(X.key)}for(const L of p){R.push(L.batchId);for(const X of L.mutations)k=k.add(X.key)}return i.localDocuments.getDocuments(s,k).next(L=>({ks:L,removedBatchIds:E,addedBatchIds:R}))})})})).apply(this,arguments)}function Xy(c){const n=Rt(c);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ti.getLastRemoteSnapshotVersion(i))}function Zy(c,n){const i=Rt(c);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function vu(c,n,i){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,b.A)(function*(c,n,i){const s=Rt(c),u=s.xs.get(n),p=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",p,E=>s.persistence.referenceDelegate.removeTarget(E,u)))}catch(E){if(!Ir(E))throw E;st(qy,`Failed to update sequence numbers for target ${n}: ${E}`)}s.xs=s.xs.remove(n),s.Os.delete(u.target)})).apply(this,arguments)}function Wf(c,n,i){const s=Rt(c);let u=on.min(),p=T();return s.persistence.runTransaction("Execute query","readwrite",E=>function(k,L,X){const oe=Rt(k),ke=oe.Os.get(X);return void 0!==ke?Le.resolve(oe.xs.get(ke)):oe.Ti.getTargetData(L,X)}(s,E,Do(n)).next(R=>{if(R)return u=R.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(E,R.targetId).next(k=>{p=k})}).next(()=>s.Ms.getDocumentsMatchingQuery(E,n,i?u:on.min(),i?p:T())).next(R=>(function uc(c,n,i){let s=c.Ns.get(n)||on.min();i.forEach((u,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),c.Ns.set(n,s)}(s,function Sa(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}(n),R),{documents:R,$s:p})))}class qf{constructor(){this.activeTargetIds=function G(){return M}()}js(n){this.activeTargetIds=this.activeTargetIds.add(n)}Hs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}zs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class r_{constructor(){this.xo=new qf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n,i=!0){return i&&this.xo.js(n),this.Oo[n]||"not-current"}updateQueryState(n,i,s){this.Oo[n]=i}removeLocalQueryTarget(n){this.xo.Hs(n)}isLocalQueryTarget(n){return this.xo.activeTargetIds.has(n)}clearQueryState(n){delete this.Oo[n]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(n){return this.xo.activeTargetIds.has(n)}start(){return this.xo=new qf,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class vh{No(n){}shutdown(){}}const i_="ConnectivityMonitor";class Qf{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(n){this.Qo.push(n)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){st(i_,"Network connectivity changed: AVAILABLE");for(const n of this.Qo)n(0)}qo(){st(i_,"Network connectivity changed: UNAVAILABLE");for(const n of this.Qo)n(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Eh=null;function cl(){return null===Eh?Eh=268435456+Math.round(2147483648*Math.random()):Eh++,"0x"+Eh.toString(16)}const ul="RestConnection",o_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xf{get Uo(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+n.host,this.Wo=`projects/${s}/databases/${u}`,this.Go=this.databaseId.database===we?`project_id=${s}`:`project_id=${s}&database_id=${u}`}zo(n,i,s,u,p){const E=cl(),R=this.jo(n,i.toUriEncodedString());st(ul,`Sending RPC '${n}' ${E}:`,R,s);const k={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(k,u,p);const{host:L}=new URL(R),X=(0,Ce.zJ)(L);return this.Jo(n,R,k,s,X).then(oe=>(st(ul,`Received RPC '${n}' ${E}: `,oe),oe),oe=>{throw Rn(ul,`RPC '${n}' ${E} failed with error: `,oe,"url: ",R,"request:",s),oe})}Yo(n,i,s,u,p,E){return this.zo(n,i,s,u,p)}Ho(n,i,s){n["X-Goog-Api-Client"]="gl-js/ fire/"+Xe,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,p)=>n[p]=u),s&&s.headers.forEach((u,p)=>n[p]=u)}jo(n,i){return`${this.Ko}/v1/${i}:${o_[n]}`}terminate(){}}class Zf{constructor(n){this.Zo=n.Zo,this.Xo=n.Xo}e_(n){this.t_=n}n_(n){this.r_=n}i_(n){this.s_=n}onMessage(n){this.o_=n}close(){this.Xo()}send(n){this.Zo(n)}__(){this.t_()}a_(){this.r_()}u_(n){this.s_(n)}c_(n){this.o_(n)}}const Js="WebChannelConnection";class RE extends Xf{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,i,s,u,p){const E=cl();return new Promise((R,k)=>{const L=new et;L.setWithCredentials(!0),L.listenOnce(At.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Ut.NO_ERROR:const oe=L.getResponseJson();st(Js,`XHR for RPC '${n}' ${E} received:`,JSON.stringify(oe)),R(oe);break;case Ut.TIMEOUT:st(Js,`RPC '${n}' ${E} timed out`),k(new Y(We.DEADLINE_EXCEEDED,"Request time out"));break;case Ut.HTTP_ERROR:const ke=L.getStatus();if(st(Js,`RPC '${n}' ${E} failed with status:`,ke,"response text:",L.getResponseText()),ke>0){let wt=L.getResponseJson();Array.isArray(wt)&&(wt=wt[0]);const Bt=wt?.error;if(Bt&&Bt.status&&Bt.message){const cn=function(er){const or=er.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(or)>=0?or:We.UNKNOWN}(Bt.status);k(new Y(cn,Bt.message))}else k(new Y(We.UNKNOWN,"Server responded with status "+L.getStatus()))}else k(new Y(We.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:n,streamId:E,h_:L.getLastErrorCode(),P_:L.getLastError()})}}finally{st(Js,`RPC '${n}' ${E} completed.`)}});const X=JSON.stringify(u);st(Js,`RPC '${n}' ${E} sending request:`,u),L.send(i,"POST",X,s,15)})}T_(n,i,s){const u=cl(),p=[this.Ko,"/","google.firestore.v1.Firestore","/",n,"/channel"],E=_t(),R=pt(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},L=this.longPollingOptions.timeoutSeconds;void 0!==L&&(k.longPollingTimeout=Math.round(1e3*L)),this.useFetchStreams&&(k.useFetchStreams=!0),this.Ho(k.initMessageHeaders,i,s),k.encodeInitMessageHeaders=!0;const X=p.join("");st(Js,`Creating RPC '${n}' stream ${u}: ${X}`,k);const oe=E.createWebChannel(X,k);let ke=!1,wt=!1;const Bt=new Zf({Zo:nn=>{wt?st(Js,`Not sending because RPC '${n}' stream ${u} is closed:`,nn):(ke||(st(Js,`Opening RPC '${n}' stream ${u} transport.`),oe.open(),ke=!0),st(Js,`RPC '${n}' stream ${u} sending:`,nn),oe.send(nn))},Xo:()=>oe.close()}),cn=(nn,er,or)=>{nn.listen(er,Mn=>{try{or(Mn)}catch(Fr){setTimeout(()=>{throw Fr},0)}})};return cn(oe,at.EventType.OPEN,()=>{wt||(st(Js,`RPC '${n}' stream ${u} transport opened.`),Bt.__())}),cn(oe,at.EventType.CLOSE,()=>{wt||(wt=!0,st(Js,`RPC '${n}' stream ${u} transport closed`),Bt.u_())}),cn(oe,at.EventType.ERROR,nn=>{wt||(wt=!0,Rn(Js,`RPC '${n}' stream ${u} transport errored. Name:`,nn.name,"Message:",nn.message),Bt.u_(new Y(We.UNAVAILABLE,"The operation could not be completed")))}),cn(oe,at.EventType.MESSAGE,nn=>{var er;if(!wt){const or=nn.data[0];Ze(!!or,16349);const Mn=or,Fr=Mn?.error||(null===(er=Mn[0])||void 0===er?void 0:er.error);if(Fr){st(Js,`RPC '${n}' stream ${u} received error:`,Fr);const xi=Fr.status;let ii=function($e){const ot=ui[$e];if(void 0!==ot)return Gu(ot)}(xi),it=Fr.message;void 0===ii&&(ii=We.INTERNAL,it="Unknown error status: "+xi+" with message "+Fr.message),wt=!0,Bt.u_(new Y(ii,it)),oe.close()}else st(Js,`RPC '${n}' stream ${u} received:`,or),Bt.c_(or)}}),cn(R,Xt.STAT_EVENT,nn=>{nn.stat===Ft.PROXY?st(Js,`RPC '${n}' stream ${u} detected buffering proxy`):nn.stat===Ft.NOPROXY&&st(Js,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Bt.a_()},0),Bt}}function wh(){return typeof document<"u"?document:null}function ll(c){return new Tf(c,!0)}class Og{constructor(n,i,s=1e3,u=1.5,p=6e4){this.xi=n,this.timerId=i,this.I_=s,this.E_=u,this.d_=p,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(n){this.cancel();const i=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-s);u>0&&st("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),n())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){null!==this.R_&&(this.R_.skipDelay(),this.R_=null)}cancel(){null!==this.R_&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}const a_="PersistentStream";class ca{constructor(n,i,s,u,p,E,R,k){this.xi=n,this.y_=s,this.w_=u,this.connection=p,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=R,this.listener=k,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Og(n,i)}F_(){return 1===this.state||5===this.state||this.M_()}M_(){return 2===this.state||3===this.state}start(){this.v_=0,4!==this.state?this.auth():this.x_()}stop(){var n=this;return(0,b.A)(function*(){n.F_()&&(yield n.close(0))})()}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&null===this.b_&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(n){this.k_(),this.stream.send(n)}B_(){var n=this;return(0,b.A)(function*(){if(n.M_())return n.close(0)})()}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(n,i){var s=this;return(0,b.A)(function*(){s.k_(),s.q_(),s.C_.cancel(),s.S_++,4!==n?s.C_.reset():i&&i.code===We.RESOURCE_EXHAUSTED?(Ln(i.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),s.C_.m_()):i&&i.code===We.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Q_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.i_(i)})()}Q_(){}auth(){this.state=1;const n=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.S_===i&&this.K_(s,u)},s=>{n(()=>{const u=new Y(We.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(u)})})}K_(n,i){const s=this.U_(this.S_);this.stream=this.G_(n,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{s(()=>this.W_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.v_?this.z_(u):this.onNext(u))})}x_(){var n=this;this.state=5,this.C_.f_((0,b.A)(function*(){n.state=0,n.start()}))}W_(n){return st(a_,`close with error: ${n}`),this.stream=null,this.close(4,n)}U_(n){return i=>{this.xi.enqueueAndForget(()=>this.S_===n?i():(st(a_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fg extends ca{constructor(n,i,s,u,p,E){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,E),this.serializer=p}G_(n,i){return this.connection.T_("Listen",n,i)}z_(n){return this.onNext(n)}onNext(n){this.C_.reset();const i=function Af(c,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(L=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:dt(39313,{state:L}),u=n.targetChange.targetIds||[],p=function(L,X){return L.useProto3Json?(Ze(void 0===X||"string"==typeof X,58123),Vi.fromBase64String(X||"")):(Ze(void 0===X||X instanceof Buffer||X instanceof Uint8Array,16193),Vi.fromUint8Array(X||new Uint8Array))}(c,n.targetChange.resumeToken),E=n.targetChange.cause,R=E&&function(L){const X=void 0===L.code?We.UNKNOWN:Gu(L.code);return new Y(X,L.message||"")}(E);i=new If(s,u,p,R||null)}else if("documentChange"in n){const s=n.documentChange,u=sa(c,s.document.name),p=Oo(s.document.updateTime),E=s.document.createTime?Oo(s.document.createTime):on.min(),R=new io({mapValue:{fields:s.document.fields}}),k=ai.newFoundDocument(u,p,E,R);i=new Ec(s.targetIds||[],s.removedTargetIds||[],k.key,k)}else if("documentDelete"in n){const s=n.documentDelete,u=sa(c,s.document),p=s.readTime?Oo(s.readTime):on.min(),E=ai.newNoDocument(u,p);i=new Ec([],s.removedTargetIds||[],E.key,E)}else if("documentRemove"in n){const s=n.documentRemove,u=sa(c,s.document);i=new Ec([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return dt(11601,{Vt:n});{const s=n.filter,{count:u=0,unchangedNames:p}=s,E=new Pa(u,p);i=new xl(s.targetId,E)}}var L;return i}(this.serializer,n),s=function(p){if(!("targetChange"in p))return on.min();const E=p.targetChange;return E.targetIds&&E.targetIds.length?on.min():E.readTime?Oo(E.readTime):on.min()}(n);return this.listener.j_(i,s)}H_(n){const i={};i.database=aa(this.serializer),i.addTarget=function(p,E){let R;const k=E.target;if(R=De(k)?{documents:Uc(p,k)}:{query:Ds(p,k).gt},R.targetId=E.targetId,E.resumeToken.approximateByteSize()>0){R.resumeToken=Ll(p,E.resumeToken);const L=Ma(p,E.expectedCount);null!==L&&(R.expectedCount=L)}else if(E.snapshotVersion.compareTo(on.min())>0){R.readTime=Ku(p,E.snapshotVersion.toTimestamp());const L=Ma(p,E.expectedCount);null!==L&&(R.expectedCount=L)}return R}(this.serializer,n);const s=function Zs(c,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:u})}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.L_(i)}J_(n){const i={};i.database=aa(this.serializer),i.removeTarget=n,this.L_(i)}}class c_ extends ca{constructor(n,i,s,u,p,E){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,E),this.serializer=p}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(n,i){return this.connection.T_("Write",n,i)}z_(n){return Ze(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,Ze(!n.writeResults||0===n.writeResults.length,55816),this.listener.X_()}onNext(n){Ze(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.C_.reset();const i=function wg(c,n){return c&&c.length>0?(Ze(void 0!==n,14353),c.map(i=>function(u,p){let E=Oo(u.updateTime?u.updateTime:p);return E.isEqual(on.min())&&(E=Oo(p)),new Rs(E,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=Oo(n.commitTime);return this.listener.ea(s,i)}ta(){const n={};n.database=aa(this.serializer),this.L_(n)}Z_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>function Bl(c,n){let i;if(n instanceof Jn)i={update:Vl(c,n.key,n.value)};else if(n instanceof _i)i={delete:wc(c,n.key)};else if(n instanceof Xn)i={update:Vl(c,n.key,n.data),updateMask:Qu(n.fieldMask)};else{if(!(n instanceof Vs))return dt(16599,{ft:n.type});i={verify:wc(c,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(p,E){const R=E.transform;if(R instanceof Bn)return{fieldPath:E.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof Qn)return{fieldPath:E.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof Ki)return{fieldPath:E.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Xo)return{fieldPath:E.field.canonicalString(),increment:R.Re};throw dt(20930,{transform:E.transform})}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(p=n.precondition).updateTime?{updateTime:zy(c,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:dt(27497)),i;var p}(this.serializer,s))};this.L_(i)}}class Lg{}class va extends Lg{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.na=!1}ra(){if(this.na)throw new Y(We.FAILED_PRECONDITION,"The client has already been terminated.")}zo(n,i,s,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,E])=>this.connection.zo(n,St(i,s),u,p,E)).catch(p=>{throw"FirebaseError"===p.name?(p.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Y(We.UNKNOWN,p.toString())})}Yo(n,i,s,u,p){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([E,R])=>this.connection.Yo(n,St(i,s),u,E,R,p)).catch(E=>{throw"FirebaseError"===E.name?(E.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),E):new Y(We.UNKNOWN,E.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Ih{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){0===this.ia&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(n){"Online"===this.state?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.aa("Offline")))}set(n){this.la(),this.ia=0,"Online"===n&&(this.oa=!1),this.aa(n)}aa(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ua(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ln(i),this.oa=!1):st("OnlineStateTracker",i)}la(){null!==this.sa&&(this.sa.cancel(),this.sa=null)}}const Zc="RemoteStore";class u_{constructor(n,i,s,u,p){var E=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=p,this.Ea.No(R=>{s.enqueueAndForget((0,b.A)(function*(){var k;Yc(E)&&(st(Zc,"Restarting streams for network reachability change."),yield(k=(0,b.A)(function*(X){const oe=Rt(X);oe.Ta.add(4),yield nd(oe),oe.da.set("Unknown"),oe.Ta.delete(4),yield Th(oe)}),function L(X){return k.apply(this,arguments)})(E))}))}),this.da=new Ih(s,u)}}function Th(c){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,b.A)(function*(c){if(Yc(c))for(const n of c.Ia)yield n(!0)})).apply(this,arguments)}function nd(c){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,b.A)(function*(c){for(const n of c.Ia)yield n(!1)})).apply(this,arguments)}function ep(c,n){const i=Rt(c);i.Pa.has(n.targetId)||(i.Pa.set(n.targetId,n),Bg(i)?Ug(i):id(i).M_()&&Vg(i,n))}function dl(c,n){const i=Rt(c),s=id(i);i.Pa.delete(n),s.M_()&&l_(i,n),0===i.Pa.size&&(s.M_()?s.N_():Yc(i)&&i.da.set("Unknown"))}function Vg(c,n){if(c.Aa.Ke(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(on.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}id(c).H_(n)}function l_(c,n){c.Aa.Ke(n),id(c).J_(n)}function Ug(c){c.Aa=new Ol({getRemoteKeysForTarget:n=>c.remoteSyncer.getRemoteKeysForTarget(n),Rt:n=>c.Pa.get(n)||null,Pt:()=>c.datastore.serializer.databaseId}),id(c).start(),c.da._a()}function Bg(c){return Yc(c)&&!id(c).F_()&&c.Pa.size>0}function Yc(c){return 0===Rt(c).Ta.size}function jg(c){c.Aa=void 0}function d_(c){return rd.apply(this,arguments)}function rd(){return(rd=(0,b.A)(function*(c){c.da.set("Online")})).apply(this,arguments)}function h_(c){return tp.apply(this,arguments)}function tp(){return(tp=(0,b.A)(function*(c){c.Pa.forEach((n,i)=>{Vg(c,n)})})).apply(this,arguments)}function f_(c,n){return np.apply(this,arguments)}function np(){return(np=(0,b.A)(function*(c,n){jg(c),Bg(c)?(c.da.ca(n),Ug(c)):c.da.set("Unknown")})).apply(this,arguments)}function PE(c,n,i){return $g.apply(this,arguments)}function $g(){return $g=(0,b.A)(function*(c,n,i){if(c.da.set("Online"),n instanceof If&&2===n.state&&n.cause)try{yield(s=(0,b.A)(function*(p,E){const R=E.cause;for(const k of E.targetIds)p.Pa.has(k)&&(yield p.remoteSyncer.rejectListen(k,R),p.Pa.delete(k),p.Aa.removeTarget(k))}),function u(p,E){return s.apply(this,arguments)})(c,n)}catch(s){st(Zc,"Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield rp(c,s)}else if(n instanceof Ec?c.Aa.Xe(n):n instanceof xl?c.Aa.ot(n):c.Aa.nt(n),!i.isEqual(on.min()))try{const s=yield Xy(c.localStore);i.compareTo(s)>=0&&(yield function(p,E){const R=p.Aa.It(E);return R.targetChanges.forEach((k,L)=>{if(k.resumeToken.approximateByteSize()>0){const X=p.Pa.get(L);X&&p.Pa.set(L,X.withResumeToken(k.resumeToken,E))}}),R.targetMismatches.forEach((k,L)=>{const X=p.Pa.get(k);if(!X)return;p.Pa.set(k,X.withResumeToken(Vi.EMPTY_BYTE_STRING,X.snapshotVersion)),l_(p,k);const oe=new Ja(X.target,k,L,X.sequenceNumber);Vg(p,oe)}),p.remoteSyncer.applyRemoteEvent(R)}(c,i))}catch(s){st(Zc,"Failed to raise snapshot:",s),yield rp(c,s)}var s}),$g.apply(this,arguments)}function rp(c,n,i){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,b.A)(function*(c,n,i){if(!Ir(n))throw n;c.Ta.add(1),yield nd(c),c.da.set("Offline"),i||(i=()=>Xy(c.localStore)),c.asyncQueue.enqueueRetryable((0,b.A)(function*(){st(Zc,"Retrying IndexedDB access"),yield i(),c.Ta.delete(1),yield Th(c)}))})).apply(this,arguments)}function p_(c,n){return n().catch(i=>rp(c,i,n))}function hl(c){return zg.apply(this,arguments)}function zg(){return(zg=(0,b.A)(function*(c){const n=Rt(c),i=Ea(n);let s=n.ha.length>0?n.ha[n.ha.length-1].batchId:-1;for(;ME(n);)try{const u=yield Zy(n.localStore,s);if(null===u){0===n.ha.length&&i.N_();break}s=u.batchId,NE(n,u)}catch(u){yield rp(n,u)}Wg(n)&&ip(n)})).apply(this,arguments)}function ME(c){return Yc(c)&&c.ha.length<10}function NE(c,n){c.ha.push(n);const i=Ea(c);i.M_()&&i.Y_&&i.Z_(n.mutations)}function Wg(c){return Yc(c)&&!Ea(c).F_()&&c.ha.length>0}function ip(c){Ea(c).start()}function kE(c){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,b.A)(function*(c){Ea(c).ta()})).apply(this,arguments)}function Eu(c){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,b.A)(function*(c){const n=Ea(c);for(const i of c.ha)n.Z_(i.mutations)})).apply(this,arguments)}function Kg(c,n,i){return qg.apply(this,arguments)}function qg(){return(qg=(0,b.A)(function*(c,n,i){const s=c.ha.shift(),u=Ps.from(s,n,i);yield p_(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield hl(c)})).apply(this,arguments)}function pT(c,n){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,b.A)(function*(c,n){var i;n&&Ea(c).Y_&&(yield(i=(0,b.A)(function*(u,p){if(function bs(c){switch(c){case We.OK:return dt(64938);case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0;default:return dt(15467,{code:c})}}(R=p.code)&&R!==We.ABORTED){const E=u.ha.shift();Ea(u).O_(),yield p_(u,()=>u.remoteSyncer.rejectFailedWrite(E.batchId,p)),yield hl(u)}var R}),function s(u,p){return i.apply(this,arguments)})(c,n)),Wg(c)&&ip(c)}),Qg.apply(this,arguments)}function g_(c,n){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,b.A)(function*(c,n){const i=Rt(c);i.asyncQueue.verifyOperationInProgress(),st(Zc,"RemoteStore received new credentials");const s=Yc(i);i.Ta.add(3),yield nd(i),s&&i.da.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.Ta.delete(3),yield Th(i)})).apply(this,arguments)}function m_(){return(m_=(0,b.A)(function*(c,n){const i=Rt(c);n?(i.Ta.delete(2),yield Th(i)):n||(i.Ta.add(2),yield nd(i),i.da.set("Unknown"))})).apply(this,arguments)}function id(c){return c.Ra||(c.Ra=function(i,s,u){const p=Rt(i);return p.ra(),new Fg(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(c.datastore,c.asyncQueue,{e_:d_.bind(null,c),n_:h_.bind(null,c),i_:f_.bind(null,c),j_:PE.bind(null,c)}),c.Ia.push(function(){var n=(0,b.A)(function*(i){i?(c.Ra.O_(),Bg(c)?Ug(c):c.da.set("Unknown")):(yield c.Ra.stop(),jg(c))});return function(i){return n.apply(this,arguments)}}())),c.Ra}function Ea(c){return c.Va||(c.Va=function(i,s,u){const p=Rt(i);return p.ra(),new c_(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(c.datastore,c.asyncQueue,{e_:()=>Promise.resolve(),n_:kE.bind(null,c),i_:pT.bind(null,c),X_:Eu.bind(null,c),ea:Kg.bind(null,c)}),c.Ia.push(function(){var n=(0,b.A)(function*(i){i?(c.Va.O_(),yield hl(c)):(yield c.Va.stop(),c.ha.length>0&&(st(Zc,`Stopping write stream with ${c.ha.length} pending writes`),c.ha=[]))});return function(i){return n.apply(this,arguments)}}())),c.Va}class Yg{constructor(n,i,s,u,p){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=p,this.deferred=new ue,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,p){const E=Date.now()+s,R=new Yg(n,i,E,u,p);return R.start(s),R}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Y(We.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wu(c,n){if(Ln("AsyncQueue",`${n}: ${c}`),Ir(c))return new Y(We.UNAVAILABLE,`${n}: ${c}`);throw c}class Iu{static emptySet(n){return new Iu(n.comparator)}constructor(n){this.comparator=n?(i,s)=>n(i,s)||Kt.comparator(i.key,s.key):(i,s)=>Kt.comparator(i.key,s.key),this.keyedMap=Ko(),this.sortedSet=new zr(this.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof Iu)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new Iu;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class op{constructor(){this.ma=new zr(Kt.comparator)}track(n){const i=n.doc.key,s=this.ma.get(i);s?0!==n.type&&3===s.type?this.ma=this.ma.insert(i,n):3===n.type&&1!==s.type?this.ma=this.ma.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.ma=this.ma.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.ma=this.ma.remove(i):1===n.type&&2===s.type?this.ma=this.ma.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):dt(63341,{Vt:n,fa:s}):this.ma=this.ma.insert(i,n)}ga(){const n=[];return this.ma.inorderTraversal((i,s)=>{n.push(s)}),n}}class fl{constructor(n,i,s,u,p,E,R,k,L){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=p,this.fromCache=E,this.syncStateChanged=R,this.excludesMetadataChanges=k,this.hasCachedResults=L}static fromInitialDocuments(n,i,s,u,p){const E=[];return i.forEach(R=>{E.push({type:0,doc:R})}),new fl(n,i,Iu.emptySet(i),E,s,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&pa(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class sp{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(n=>n.Sa())}}class Jg{constructor(){this.queries=od(),this.onlineState="Unknown",this.ba=new Set}terminate(){!function(i,s){const u=Rt(i),p=u.queries;u.queries=od(),p.forEach((E,R)=>{for(const k of R.ya)k.onError(s)})}(this,new Y(We.ABORTED,"Firestore shutting down"))}}function od(){return new Ri(c=>Cs(c),pa)}function sd(c,n){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,b.A)(function*(c,n){const i=Rt(c);let s=3;const u=n.query;let p=i.queries.get(u);p?!p.wa()&&n.Sa()&&(s=2):(p=new sp,s=n.Sa()?0:1);try{switch(s){case 0:p.pa=yield i.onListen(u,!0);break;case 1:p.pa=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(E){const R=wu(E,`Initialization of query '${fs(n.query)}' failed`);return void n.onError(R)}i.queries.set(u,p),p.ya.push(n),n.Da(i.onlineState),p.pa&&n.va(p.pa)&&Ah(i)})).apply(this,arguments)}function bh(c,n){return ad.apply(this,arguments)}function ad(){return(ad=(0,b.A)(function*(c,n){const i=Rt(c),s=n.query;let u=3;const p=i.queries.get(s);if(p){const E=p.ya.indexOf(n);E>=0&&(p.ya.splice(E,1),0===p.ya.length?u=n.Sa()?0:1:!p.wa()&&n.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Dh(c,n){const i=Rt(c);let s=!1;for(const u of n){const E=i.queries.get(u.query);if(E){for(const R of E.ya)R.va(u)&&(s=!0);E.pa=u}}s&&Ah(i)}function em(c,n,i){const s=Rt(c),u=s.queries.get(n);if(u)for(const p of u.ya)p.onError(i);s.queries.delete(n)}function Ah(c){c.ba.forEach(n=>{n.next()})}var cd,tm;(tm=cd||(cd={})).Ca="default",tm.Cache="cache";class Ch{constructor(n,i,s){this.query=n,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new fl(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.Ma?this.Oa(n)&&(this.Fa.next(n),i=!0):this.Na(n,this.onlineState)&&(this.Ba(n),i=!0),this.xa=n,i}onError(n){this.Fa.error(n)}Da(n){this.onlineState=n;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,n)&&(this.Ba(this.xa),i=!0),i}Na(n,i){return!n.fromCache||!this.Sa()||(!this.options.La||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}Oa(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.xa&&this.xa.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Ba(n){n=fl.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Ma=!0,this.Fa.next(n)}Sa(){return this.options.source!==cd.Cache}}class ap{constructor(n){this.key=n}}class im{constructor(n){this.key=n}}class om{constructor(n,i){this.query=n,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=T(),this.mutatedKeys=T(),this.Ha=ji(n),this.Ja=new Iu(this.Ha)}get Ya(){return this.Ga}Za(n,i){const s=i?i.Xa:new op,u=i?i.Ja:this.Ja;let p=i?i.mutatedKeys:this.mutatedKeys,E=u,R=!1;const k="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,L="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((X,oe)=>{const ke=u.get(X),wt=ga(this.query,oe)?oe:null,Bt=!!ke&&this.mutatedKeys.has(ke.key),cn=!!wt&&(wt.hasLocalMutations||this.mutatedKeys.has(wt.key)&&wt.hasCommittedMutations);let nn=!1;ke&&wt?ke.data.isEqual(wt.data)?Bt!==cn&&(s.track({type:3,doc:wt}),nn=!0):this.eu(ke,wt)||(s.track({type:2,doc:wt}),nn=!0,(k&&this.Ha(wt,k)>0||L&&this.Ha(wt,L)<0)&&(R=!0)):!ke&&wt?(s.track({type:0,doc:wt}),nn=!0):ke&&!wt&&(s.track({type:1,doc:ke}),nn=!0,(k||L)&&(R=!0)),nn&&(wt?(E=E.add(wt),p=cn?p.add(X):p.delete(X)):(E=E.delete(X),p=p.delete(X)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const X="F"===this.query.limitType?E.last():E.first();E=E.delete(X.key),p=p.delete(X.key),s.track({type:1,doc:X})}return{Ja:E,Xa:s,Cs:R,mutatedKeys:p}}eu(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const p=this.Ja;this.Ja=n.Ja,this.mutatedKeys=n.mutatedKeys;const E=n.Xa.ga();E.sort((X,oe)=>function(wt,Bt){const cn=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:nn})}};return cn(wt)-cn(Bt)}(X.type,oe.type)||this.Ha(X.doc,oe.doc)),this.tu(s),u=null!=u&&u;const R=i&&!u?this.nu():[],k=0===this.ja.size&&this.current&&!u?1:0,L=k!==this.za;return this.za=k,0!==E.length||L?{snapshot:new fl(this.query,n.Ja,p,E,n.mutatedKeys,0===k,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:R}:{ru:R}}Da(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new op,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(n){return!this.Ga.has(n)&&!!this.Ja.has(n)&&!this.Ja.get(n).hasLocalMutations}tu(n){n&&(n.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=n.current)}nu(){if(!this.current)return[];const n=this.ja;this.ja=T(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const i=[];return n.forEach(s=>{this.ja.has(s)||i.push(new im(s))}),this.ja.forEach(s=>{n.has(s)||i.push(new ap(s))}),i}su(n){this.Ga=n.$s,this.ja=T();const i=this.Za(n.documents);return this.applyChanges(i,!0)}ou(){return fl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,0===this.za,this.hasCachedResults)}}const Sc="SyncEngine";class sm{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class ld{constructor(n){this.key=n,this._u=!1}}class __{constructor(n,i,s,u,p,E){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=E,this.au={},this.uu=new Ri(R=>Cs(R),pa),this.cu=new Map,this.lu=new Set,this.hu=new zr(Kt.comparator),this.Pu=new Map,this.Tu=new Ao,this.Iu={},this.Eu=new Map,this.du=Wc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return!0===this.Au}}function wa(c,n){return v_.apply(this,arguments)}function v_(){return(v_=(0,b.A)(function*(c,n,i=!0){const s=gl(c);let u;const p=s.uu.get(n);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.ou()):u=yield pl(s,n,i,!0),u})).apply(this,arguments)}function cp(c,n){return am.apply(this,arguments)}function am(){return(am=(0,b.A)(function*(c,n){const i=gl(c);yield pl(i,n,!0,!1)})).apply(this,arguments)}function pl(c,n,i,s){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,b.A)(function*(c,n,i,s){const u=yield function ol(c,n){const i=Rt(c);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ti.getTargetData(s,n).next(p=>p?(u=p,Le.resolve(u)):i.Ti.allocateTargetId(s).next(E=>(u=new Ja(n,E,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.xs.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(n,s.targetId)),s})}(c.localStore,Do(n)),p=u.targetId,E=c.sharedClientState.addLocalQueryTarget(p,i);let R;return s&&(R=yield function up(c,n,i,s,u){return lp.apply(this,arguments)}(c,n,p,"current"===E,u.resumeToken)),c.isPrimaryClient&&i&&ep(c.remoteStore,u),R})).apply(this,arguments)}function lp(){return lp=(0,b.A)(function*(c,n,i,s,u){c.Ru=(oe,ke,wt)=>{return(Bt=(0,b.A)(function*(nn,er,or,Mn){let Fr=er.view.Za(or);Fr.Cs&&(Fr=yield Wf(nn.localStore,er.query,!1).then(({documents:Ne})=>er.view.Za(Ne,Fr)));const xi=Mn&&Mn.targetChanges.get(er.targetId),ii=Mn&&null!=Mn.targetMismatches.get(er.targetId),it=er.view.applyChanges(Fr,nn.isPrimaryClient,xi,ii);return hp(nn,er.targetId,it.ru),it.snapshot}),function cn(nn,er,or,Mn){return Bt.apply(this,arguments)})(c,oe,ke,wt);var Bt};const p=yield Wf(c.localStore,n,!0),E=new om(n,p.$s),R=E.Za(p.documents),k=oa.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==c.onlineState,u),L=E.applyChanges(R,c.isPrimaryClient,k);hp(c,i,L.ru);const X=new sm(n,i,E);return c.uu.set(n,X),c.cu.has(i)?c.cu.get(i).push(n):c.cu.set(i,[n]),L.snapshot}),lp.apply(this,arguments)}function E_(c,n,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,b.A)(function*(c,n,i){const s=Rt(c),u=s.uu.get(n),p=s.cu.get(u.targetId);if(p.length>1)return s.cu.set(u.targetId,p.filter(E=>!pa(E,n))),void s.uu.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield vu(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&dl(s.remoteStore,u.targetId),hc(s,u.targetId)}).catch(Wn))):(hc(s,u.targetId),yield vu(s.localStore,u.targetId,!0))})).apply(this,arguments)}function cm(c,n){return um.apply(this,arguments)}function um(){return(um=(0,b.A)(function*(c,n){const i=Rt(c),s=i.uu.get(n),u=i.cu.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),dl(i.remoteStore,s.targetId))})).apply(this,arguments)}function I_(){return(I_=(0,b.A)(function*(c,n,i){const s=function Du(c){const n=Rt(c);return n.remoteStore.remoteSyncer.applySuccessfulWrite=hd.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Rh.bind(null,n),n}(c);try{const u=yield function(E,R){const k=Rt(E),L=hr.now(),X=R.reduce((wt,Bt)=>wt.add(Bt.key),T());let oe,ke;return k.persistence.runTransaction("Locally write mutations","readwrite",wt=>{let Bt=eo(),cn=T();return k.Bs.getEntries(wt,X).next(nn=>{Bt=nn,Bt.forEach((er,or)=>{or.isValidDocument()||(cn=cn.add(er))})}).next(()=>k.localDocuments.getOverlayedDocuments(wt,Bt)).next(nn=>{oe=nn;const er=[];for(const or of R){const Mn=kl(or,oe.get(or.key).overlayedDocument);null!=Mn&&er.push(new Xn(or.key,Mn,Os(Mn.value.mapValue),Ii.exists(!0)))}return k.mutationQueue.addMutationBatch(wt,L,er,R)}).next(nn=>{ke=nn;const er=nn.applyToLocalDocumentSet(oe,cn);return k.documentOverlayCache.saveOverlays(wt,nn.batchId,er)})}).then(()=>({batchId:ke.batchId,changes:Ls(oe)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(E,R,k){let L=E.Iu[E.currentUser.toKey()];L||(L=new zr(qt)),L=L.insert(R,k),E.Iu[E.currentUser.toKey()]=L}(s,u.batchId,i),yield Rc(s,u.changes),yield hl(s.remoteStore)}catch(u){const p=wu(u,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function Yo(c,n){return dd.apply(this,arguments)}function dd(){return(dd=(0,b.A)(function*(c,n){const i=Rt(c);try{const s=yield function CE(c,n){const i=Rt(c),s=n.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const E=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const R=[];n.targetChanges.forEach((X,oe)=>{const ke=u.get(oe);if(!ke)return;R.push(i.Ti.removeMatchingKeys(p,X.removedDocuments,oe).next(()=>i.Ti.addMatchingKeys(p,X.addedDocuments,oe)));let wt=ke.withSequenceNumber(p.currentSequenceNumber);var cn,nn,er;null!==n.targetMismatches.get(oe)?wt=wt.withResumeToken(Vi.EMPTY_BYTE_STRING,on.min()).withLastLimboFreeSnapshotVersion(on.min()):X.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(X.resumeToken,s)),u=u.insert(oe,wt),nn=wt,er=X,(0===(cn=ke).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-cn.snapshotVersion.toMicroseconds()>=3e8||er.addedDocuments.size+er.modifiedDocuments.size+er.removedDocuments.size>0)&&R.push(i.Ti.updateTargetData(p,wt))});let k=eo(),L=T();if(n.documentUpdates.forEach(X=>{n.resolvedLimboDocuments.has(X)&&R.push(i.persistence.referenceDelegate.updateLimboDocument(p,X))}),R.push(function zf(c,n,i){let s=T(),u=T();return i.forEach(p=>s=s.add(p)),n.getEntries(c,s).next(p=>{let E=eo();return i.forEach((R,k)=>{const L=p.get(R);k.isFoundDocument()!==L.isFoundDocument()&&(u=u.add(R)),k.isNoDocument()&&k.version.isEqual(on.min())?(n.removeEntry(R,k.readTime),E=E.insert(R,k)):!L.isValidDocument()||k.version.compareTo(L.version)>0||0===k.version.compareTo(L.version)&&L.hasPendingWrites?(n.addEntry(k),E=E.insert(R,k)):st(qy,"Ignoring outdated watch update for ",R,". Current version:",L.version," Watch version:",k.version)}),{qs:E,Qs:u}})}(p,E,n.documentUpdates).next(X=>{k=X.qs,L=X.Qs})),!s.isEqual(on.min())){const X=i.Ti.getLastRemoteSnapshotVersion(p).next(oe=>i.Ti.setTargetsMetadata(p,p.currentSequenceNumber,s));R.push(X)}return Le.waitFor(R).next(()=>E.apply(p)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,k,L)).next(()=>k)}).then(p=>(i.xs=u,p))}(i.localStore,n);n.targetChanges.forEach((u,p)=>{const E=i.Pu.get(p);E&&(Ze(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?E._u=!0:u.modifiedDocuments.size>0?Ze(E._u,14607):u.removedDocuments.size>0&&(Ze(E._u,42227),E._u=!1))}),yield Rc(i,s,n)}catch(s){yield Wn(s)}})).apply(this,arguments)}function lm(c,n,i){const s=Rt(c);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.uu.forEach((p,E)=>{const R=E.view.Da(n);R.snapshot&&u.push(R.snapshot)}),function(E,R){const k=Rt(E);k.onlineState=R;let L=!1;k.queries.forEach((X,oe)=>{for(const ke of oe.ya)ke.Da(R)&&(L=!0)}),L&&Ah(k)}(s.eventManager,n),u.length&&s.au.j_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function uo(c,n,i){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,b.A)(function*(c,n,i){const s=Rt(c);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Pu.get(n),p=u&&u.key;if(p){let E=new zr(Kt.comparator);E=E.insert(p,ai.newNoDocument(p,on.min()));const R=T().add(p),k=new Vc(on.min(),new Map,new zr(qt),E,R);yield Yo(s,k),s.hu=s.hu.remove(p),s.Pu.delete(n),pd(s)}else yield vu(s.localStore,n,!1).then(()=>hc(s,n,i)).catch(Wn)})).apply(this,arguments)}function hd(c,n){return dc.apply(this,arguments)}function dc(){return(dc=(0,b.A)(function*(c,n){const i=Rt(c),s=n.batch.batchId;try{const u=yield function Pg(c,n){const i=Rt(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),p=i.Bs.newChangeBuffer({trackRemovals:!0});return function(R,k,L,X){const oe=L.batch,ke=oe.keys();let wt=Le.resolve();return ke.forEach(Bt=>{wt=wt.next(()=>X.getEntry(k,Bt)).next(cn=>{const nn=L.docVersions.get(Bt);Ze(null!==nn,48541),cn.version.compareTo(nn)<0&&(oe.applyToRemoteDocument(cn,L),cn.isValidDocument()&&(cn.setReadTime(L.commitVersion),X.addEntry(cn)))})}),wt.next(()=>R.mutationQueue.removeMutationBatch(k,oe))}(i,s,n,p).next(()=>p.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(R){let k=T();for(let L=0;L<R.mutationResults.length;++L)R.mutationResults[L].transformResults.length>0&&(k=k.add(R.batch.mutations[L].key));return k}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);hm(i,s,null),bu(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Rc(i,u)}catch(u){yield Wn(u)}})).apply(this,arguments)}function Rh(c,n,i){return fd.apply(this,arguments)}function fd(){return(fd=(0,b.A)(function*(c,n,i){const s=Rt(c);try{const u=yield function(E,R){const k=Rt(E);return k.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let X;return k.mutationQueue.lookupMutationBatch(L,R).next(oe=>(Ze(null!==oe,37113),X=oe.keys(),k.mutationQueue.removeMutationBatch(L,oe))).next(()=>k.mutationQueue.performConsistencyCheck(L)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(L,X,R)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,X)).next(()=>k.localDocuments.getDocuments(L,X))})}(s.localStore,n);hm(s,n,i),bu(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield Rc(s,u)}catch(u){yield Wn(u)}})).apply(this,arguments)}function bu(c,n){(c.Eu.get(n)||[]).forEach(i=>{i.resolve()}),c.Eu.delete(n)}function hm(c,n,i){const s=Rt(c);let u=s.Iu[s.currentUser.toKey()];if(u){const p=u.get(n);p&&(i?p.reject(i):p.resolve(),u=u.remove(n)),s.Iu[s.currentUser.toKey()]=u}}function hc(c,n,i=null){c.sharedClientState.removeLocalQueryTarget(n);for(const s of c.cu.get(n))c.uu.delete(s),i&&c.au.Vu(s,i);c.cu.delete(n),c.isPrimaryClient&&c.Tu.Hr(n).forEach(s=>{c.Tu.containsKey(s)||T_(c,s)})}function T_(c,n){c.lu.delete(n.path.canonicalString());const i=c.hu.get(n);null!==i&&(dl(c.remoteStore,i),c.hu=c.hu.remove(n),c.Pu.delete(i),pd(c))}function hp(c,n,i){for(const s of i)s instanceof ap?(c.Tu.addReference(s.key,n),Ph(c,s)):s instanceof im?(st(Sc,"Document no longer in limbo: "+s.key),c.Tu.removeReference(s.key,n),c.Tu.containsKey(s.key)||T_(c,s.key)):dt(19791,{mu:s})}function Ph(c,n){const i=n.key,s=i.path.canonicalString();c.hu.get(i)||c.lu.has(s)||(st(Sc,"New document in limbo: "+i),c.lu.add(s),pd(c))}function pd(c){for(;c.lu.size>0&&c.hu.size<c.maxConcurrentLimboResolutions;){const n=c.lu.values().next().value;c.lu.delete(n);const i=new Kt(ut.fromString(n)),s=c.du.next();c.Pu.set(s,new ld(i)),c.hu=c.hu.insert(i,s),ep(c.remoteStore,new Ja(Do(bo(i.path)),s,"TargetPurposeLimboResolution",Ye.le))}}function Rc(c,n,i){return fp.apply(this,arguments)}function fp(){return fp=(0,b.A)(function*(c,n,i){const s=Rt(c),u=[],p=[],E=[];var R;s.uu.isEmpty()||(s.uu.forEach((R,k)=>{E.push(s.Ru(k,n,i).then(L=>{var X;if((L||i)&&s.isPrimaryClient){const oe=L?!L.fromCache:null===(X=i?.targetChanges.get(k.targetId))||void 0===X?void 0:X.current;s.sharedClientState.updateQueryState(k.targetId,oe?"current":"not-current")}if(L){u.push(L);const oe=il.Rs(k.targetId,L);p.push(oe)}}))}),yield Promise.all(E),s.au.j_(u),yield(R=(0,b.A)(function*(L,X){const oe=Rt(L);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",ke=>Le.forEach(X,wt=>Le.forEach(wt.ds,Bt=>oe.persistence.referenceDelegate.addReference(ke,wt.targetId,Bt)).next(()=>Le.forEach(wt.As,Bt=>oe.persistence.referenceDelegate.removeReference(ke,wt.targetId,Bt)))))}catch(ke){if(!Ir(ke))throw ke;st(qy,"Failed to update sequence numbers: "+ke)}for(const ke of X){const wt=ke.targetId;if(!ke.fromCache){const Bt=oe.xs.get(wt),nn=Bt.withLastLimboFreeSnapshotVersion(Bt.snapshotVersion);oe.xs=oe.xs.insert(wt,nn)}}}),function k(L,X){return R.apply(this,arguments)})(s.localStore,p))}),fp.apply(this,arguments)}function Mh(c,n){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,b.A)(function*(c,n){const i=Rt(c);if(!i.currentUser.isEqual(n)){st(Sc,"User change. New user:",n.toKey());const s=yield yo(i.localStore,n);i.currentUser=n,(p=i).Eu.forEach(R=>{R.forEach(k=>{k.reject(new Y(We.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Eu.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield Rc(i,s.ks)}var p})).apply(this,arguments)}function OE(c,n){const i=Rt(c),s=i.Pu.get(n);if(s&&s._u)return T().add(s.key);{let u=T();const p=i.cu.get(n);if(!p)return u;for(const E of p){const R=i.uu.get(E);u=u.unionWith(R.view.Ya)}return u}}function gl(c){const n=Rt(c);return n.remoteStore.remoteSyncer.applyRemoteEvent=Yo.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=OE.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=uo.bind(null,n),n.au.j_=Dh.bind(null,n.eventManager),n.au.Vu=em.bind(null,n.eventManager),n}let yd=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,b.A)(function*(){s.serializer=ll(i.databaseInfo.databaseId),s.sharedClientState=s.pu(i),s.persistence=s.yu(i),yield s.persistence.start(),s.localStore=s.wu(i),s.gcScheduler=s.Su(i,s.localStore),s.indexBackfillerScheduler=s.bu(i,s.localStore)})()}Su(i,s){return null}bu(i,s){return null}wu(i){return function Qy(c,n,i,s){return new Hf(c,n,i,s)}(this.persistence,new Cg,i.initialUser,this.serializer)}yu(i){return new nl(_u.fi,this.serializer)}pu(i){return new r_}terminate(){var i=this;return(0,b.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class mp extends yd{constructor(n){super(),this.cacheSizeBytes=n}Su(n,i){return Ze(this.persistence.referenceDelegate instanceof Us,46915),new Fo(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}yu(n){const i=void 0!==this.cacheSizeBytes?Zo.withCacheSize(this.cacheSizeBytes):Zo.DEFAULT;return new nl(s=>Us.fi(s,i),this.serializer)}}let _d=(()=>{class c{initialize(i,s){var u=this;return(0,b.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=p=>lm(u.syncEngine,p,1),u.remoteStore.remoteSyncer.handleCredentialChange=Mh.bind(null,u.syncEngine),yield function Zg(c,n){return m_.apply(this,arguments)}(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Jg}createDatastore(i){const s=ll(i.databaseInfo.databaseId),u=new RE(i.databaseInfo);return new va(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,p=this.datastore,E=i.asyncQueue,R=s=>lm(this.syncEngine,s,0),k=Qf.C()?new Qf:new vh,new u_(u,p,E,R,k);var u,p,E,R,k}createSyncEngine(i,s){return function(p,E,R,k,L,X,oe){const ke=new __(p,E,R,k,L,X);return oe&&(ke.Au=!0),ke}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,b.A)(function*(){var s,u,p;yield(p=(0,b.A)(function*(R){const k=Rt(R);st(Zc,"RemoteStore shutting down."),k.Ta.add(5),yield nd(k),k.Ea.shutdown(),k.da.set("Unknown")}),function E(R){return p.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return c.provider={build:()=>new c},c})();class Jc{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.vu(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.vu(this.observer.error,n):Ln("Uncaught Error in snapshot listener:",n.toString()))}Cu(){this.muted=!0}vu(n,i){setTimeout(()=>{this.muted||n(i)},0)}}const eu="FirestoreClient";class gT{constructor(n,i,s,u,p){var E=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=nt.UNAUTHENTICATED,this.clientId=Hn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=p,this.authCredentials.start(s,function(){var R=(0,b.A)(function*(k){st(eu,"Received user=",k.uid),yield E.authCredentialListener(k),E.user=k});return function(k){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(s,R=>(st(eu,"Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new ue;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,b.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=wu(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function vp(c,n){return _m.apply(this,arguments)}function _m(){return _m=(0,b.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress(),st(eu,"Initializing OfflineComponentProvider");const i=c.configuration;yield n.initialize(i);let s=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,b.A)(function*(p){s.isEqual(p)||(yield yo(n.localStore,p),s=p)});return function(p){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=n}),_m.apply(this,arguments)}function vm(c,n){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,b.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress();const i=yield function Em(c){return Ep.apply(this,arguments)}(c);st(eu,"Initializing OnlineComponentProvider"),yield n.initialize(i,c.configuration),c.setCredentialChangeListener(s=>g_(n.remoteStore,s)),c.setAppCheckTokenChangeListener((s,u)=>g_(n.remoteStore,u)),c._onlineComponents=n})).apply(this,arguments)}function Ep(){return(Ep=(0,b.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){st(eu,"Using user provided OfflineComponentProvider");try{yield vp(c,c._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===We.FAILED_PRECONDITION||u.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;Rn("Error using user provided cache. Falling back to memory cache: "+n),yield vp(c,new yd)}}else st(eu,"Using default OfflineComponentProvider"),yield vp(c,new mp(void 0));var u;return c._offlineComponents})).apply(this,arguments)}function Fh(c){return wm.apply(this,arguments)}function wm(){return(wm=(0,b.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(st(eu,"Using user provided OnlineComponentProvider"),yield vm(c,c._uninitializedComponentsProvider._online)):(st(eu,"Using default OnlineComponentProvider"),yield vm(c,new _d))),c._onlineComponents})).apply(this,arguments)}function Lh(c){return vd.apply(this,arguments)}function vd(){return(vd=(0,b.A)(function*(c){const n=yield Fh(c),i=n.eventManager;return i.onListen=wa.bind(null,n.syncEngine),i.onUnlisten=E_.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=cp.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=cm.bind(null,n.syncEngine),i})).apply(this,arguments)}function WE(c){const n={};return void 0!==c.timeoutSeconds&&(n.timeoutSeconds=c.timeoutSeconds),n}const GE=new Map;function O_(c,n,i){if(!i)throw new Y(We.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${n}.`)}function F_(c){if(!Kt.isDocumentKey(c))throw new Y(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function jh(c){if(Kt.isDocumentKey(c))throw new Y(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function Ed(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const n=(s=c).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof c?"a function":dt(12329,{type:typeof c})}function Xr(c,n){if("_delegate"in c&&(c=c._delegate),!(c instanceof n)){if(n.name===c.constructor.name)throw new Y(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ed(c);throw new Y(We.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return c}const qE="firestore.googleapis.com";class L_{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new Y(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qE,this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.isUsingEmulator=void 0!==n.emulatorOptions,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Y(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}(function Bh(c,n,i,s){if(!0===n&&!0===s)throw new Y(We.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)})("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=WE(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new Y(We.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new Y(We.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new Y(We.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class wd{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Y(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(n),this._emulatorOptions=n.emulatorOptions||{},void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new ge;switch(s.type){case"firstParty":return new gt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Y(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,b.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=GE.get(i);s&&(st("ComponentProvider","Removing Datastore"),GE.delete(i),s.terminate())}(this),Promise.resolve()}}class Ns{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Ns(this.firestore,n,this._query)}}class _o{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fc(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new _o(this.firestore,n,this._key)}}class fc extends Ns{constructor(n,i,s){super(n,i,bo(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new _o(this.firestore,null,new Kt(n))}withConverter(n){return new fc(this.firestore,n,this._path)}}function QE(c,n,...i){if(c=(0,Ce.Ku)(c),O_("collection","path",n),c instanceof wd){const s=ut.fromString(n,...i);return jh(s),new fc(c,null,s)}{if(!(c instanceof _o||c instanceof fc))throw new Y(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(ut.fromString(n,...i));return jh(s),new fc(c.firestore,null,s)}}function V_(c,n,...i){if(c=(0,Ce.Ku)(c),1===arguments.length&&(n=Hn.newId()),O_("doc","path",n),c instanceof wd){const s=ut.fromString(n,...i);return F_(s),new _o(c,null,new Kt(s))}{if(!(c instanceof _o||c instanceof fc))throw new Y(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(ut.fromString(n,...i));return F_(s),new _o(c.firestore,c instanceof fc?c.converter:null,new Kt(s))}}const U_="AsyncQueue";class B_{constructor(n=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Og(this,"async_queue_retry"),this.ec=()=>{const s=wh();s&&st(U_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=n;const i=wh();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.nc(),this.rc(n)}enterRestrictedMode(n){if(!this.ju){this.ju=!0,this.Zu=n||!1;const i=wh();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(n){if(this.nc(),this.ju)return new Promise(()=>{});const i=new ue;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.zu.push(n),this.sc()))}sc(){var n=this;return(0,b.A)(function*(){if(0!==n.zu.length){try{yield n.zu[0](),n.zu.shift(),n.C_.reset()}catch(i){if(!Ir(i))throw i;st(U_,"Operation failed with retryable error: "+i)}n.zu.length>0&&n.C_.f_(()=>n.sc())}})()}rc(n){const i=this.tc.then(()=>(this.Yu=!0,n().catch(s=>{throw this.Ju=s,this.Yu=!1,Ln("INTERNAL UNHANDLED ERROR: ",j_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=i,i}enqueueAfterDelay(n,i,s){this.nc(),this.Xu.indexOf(n)>-1&&(i=0);const u=Yg.createAndSchedule(this,n,i,s,p=>this.oc(p));return this.Hu.push(u),u}nc(){this.Ju&&dt(47125,{_c:j_(this.Ju)})}verifyOperationInProgress(){}ac(){var n=this;return(0,b.A)(function*(){let i;do{i=n.tc,yield i}while(i!==n.tc)})()}uc(n){for(const i of this.Hu)if(i.timerId===n)return!0;return!1}cc(n){return this.ac().then(()=>{this.Hu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.ac()})}lc(n){this.Xu.push(n)}oc(n){const i=this.Hu.indexOf(n);this.Hu.splice(i,1)}}function j_(c){let n=c.message||"";return c.stack&&(n=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),n}function Cm(c){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(c)}class vo extends wd{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new B_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var n=this;return(0,b.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new B_(i),n._firestoreClient=void 0,yield i}})()}}function Sm(c,n){const i="object"==typeof c?c:(0,x.Sx)(),s="string"==typeof c?c:n||we,u=(0,x.j6)(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const p=(0,Ce.yU)("firestore");p&&function Dm(c,n,i,s={}){var u;c=Xr(c,wd);const p=(0,Ce.zJ)(n),E=c._getSettings(),R=Object.assign(Object.assign({},E),{emulatorOptions:c._getEmulatorOptions()}),k=`${n}:${i}`;p&&((0,Ce.gE)(`https://${k}`),(0,Ce.P1)("Firestore",!0)),E.host!==qE&&E.host!==k&&Rn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const L=Object.assign(Object.assign({},E),{host:k,ssl:p,emulatorOptions:s});if(!(0,Ce.bD)(L,R)&&(c._setSettings(L),s.mockUserToken)){let X,oe;if("string"==typeof s.mockUserToken)X=s.mockUserToken,oe=nt.MOCK_USER;else{X=(0,Ce.Fy)(s.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const ke=s.mockUserToken.sub||s.mockUserToken.user_id;if(!ke)throw new Y(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");oe=new nt(ke)}c._authCredentials=new ne(new le(X,oe))}}(u,...p)}return u}function Bo(c){if(c._terminated)throw new Y(We.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||function H_(c){var n,i,s;const u=c._freezeSettings(),p=(k=(null===(n=c._app)||void 0===n?void 0:n.options.appId)||"",new z(c._databaseId,k,c._persistenceKey,(X=u).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,WE(X.experimentalLongPollingOptions),X.useFetchStreams,X.isUsingEmulator));var k,X;c._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(c._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),c._firestoreClient=new gT(c._authCredentials,c._appCheckCredentials,c._queue,p,c._componentsProvider&&function(R){const k=R?._online.build();return{_offline:R?._offline.build(k),_online:k}}(c._componentsProvider))}(c),c._firestoreClient}class ka{constructor(n){this._byteString=n}static fromBase64String(n){try{return new ka(Vi.fromBase64String(n))}catch(i){throw new Y(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new ka(Vi.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ml{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Y(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Td{constructor(n){this._methodName=n}}class Mm{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Y(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Y(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return qt(this._lat,n._lat)||qt(this._long,n._long)}}class Ip{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let p=0;p<s.length;++p)if(s[p]!==u[p])return!1;return!0}(this._values,n._values)}}const tu=/^__.*__$/;class bd{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new Xn(n,this.data,this.fieldMask,i,this.fieldTransforms):new Jn(n,this.data,i,this.fieldTransforms)}}class K_{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new Xn(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function q_(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{hc:c})}}class Tp{constructor(n,i,s,u,p,E){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===p&&this.Pc(),this.fieldTransforms=p||[],this.fieldMask=E||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(n){return new Tp(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:s,Ec:!1});return u.dc(n),u}Ac(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:s,Ec:!1});return u.Pc(),u}Rc(n){return this.Tc({path:void 0,Ec:!0})}Vc(n){return Vm(n,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}Pc(){if(this.path)for(let n=0;n<this.path.length;n++)this.dc(this.path.get(n))}dc(n){if(0===n.length)throw this.Vc("Document fields must not be empty");if(q_(this.hc)&&tu.test(n))throw this.Vc('Document fields cannot begin and end with "__"')}}class ew{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||ll(n)}gc(n,i,s,u=!1){return new Tp({hc:n,methodName:i,fc:s,path:qn.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yl(c){const n=c._freezeSettings(),i=ll(c._databaseId);return new ew(c._databaseId,!!n.ignoreUndefinedProperties,i)}function bp(c,n,i,s,u,p={}){const E=c.gc(p.merge||p.mergeFields?2:0,n,i,u);X_("Data must be an object, but it was:",E,s);const R=Fm(s,E);let k,L;if(p.merge)k=new Mo(E.fieldMask),L=E.fieldTransforms;else if(p.mergeFields){const X=[];for(const oe of p.mergeFields){const ke=Dp(n,oe,i);if(!E.contains(ke))throw new Y(We.INVALID_ARGUMENT,`Field '${ke}' is specified in your field mask but missing from your input data.`);nw(X,ke)||X.push(ke)}k=new Mo(X),L=E.fieldTransforms.filter(oe=>k.covers(oe.field))}else k=null,L=E.fieldTransforms;return new bd(new io(R),k,L)}class Dd extends Td{_toFieldTransform(n){if(2!==n.hc)throw n.Vc(1===n.hc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Dd}}function pc(c,n,i,s){const u=c.gc(1,n,i);X_("Data must be an object, but it was:",u,s);const p=[],E=io.empty();po(s,(k,L)=>{const X=Cd(n,k,i);L=(0,Ce.Ku)(L);const oe=u.Ac(X);if(L instanceof Dd)p.push(X);else{const ke=Au(L,oe);null!=ke&&(p.push(X),E.set(X,ke))}});const R=new Mo(p);return new K_(E,R,u.fieldTransforms)}function _l(c,n,i,s,u,p){const E=c.gc(1,n,i),R=[Dp(n,s,i)],k=[u];if(p.length%2!=0)throw new Y(We.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ke=0;ke<p.length;ke+=2)R.push(Dp(n,p[ke])),k.push(p[ke+1]);const L=[],X=io.empty();for(let ke=R.length-1;ke>=0;--ke)if(!nw(L,R[ke])){const wt=R[ke];let Bt=k[ke];Bt=(0,Ce.Ku)(Bt);const cn=E.Ac(wt);if(Bt instanceof Dd)L.push(wt);else{const nn=Au(Bt,cn);null!=nn&&(L.push(wt),X.set(wt,nn))}}const oe=new Mo(L);return new K_(X,oe,E.fieldTransforms)}function Au(c,n){if(tw(c=(0,Ce.Ku)(c)))return X_("Unsupported field value:",n,c),Fm(c,n);if(c instanceof Td)return function(s,u){if(!q_(u.hc))throw u.Vc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(c,n),null;if(void 0===c&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),c instanceof Array){if(n.settings.Ec&&4!==n.hc)throw n.Vc("Nested arrays are not supported");return function(s,u){const p=[];let E=0;for(const R of s){let k=Au(R,u.Rc(E));null==k&&(k={nullValue:"NULL_VALUE"}),p.push(k),E++}return{arrayValue:{values:p}}}(c,n)}return function(s,u){if(null===(s=(0,Ce.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ge(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=hr.fromDate(s);return{timestampValue:Ku(u.serializer,p)}}if(s instanceof hr){const p=new hr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ku(u.serializer,p)}}if(s instanceof Mm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ka)return{bytesValue:Ll(u.serializer,s._byteString)};if(s instanceof _o){const p=u.databaseId,E=s.firestore._databaseId;if(!E.isEqual(p))throw u.Vc(`Document reference is for database ${E.projectId}/${E.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:qu(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ip)return E=s,R=u,{mapValue:{fields:{[rt]:{stringValue:In},[fn]:{arrayValue:{values:E.toArray().map(L=>{if("number"!=typeof L)throw R.Vc("VectorValues must only contain numeric values.");return Q(R.serializer,L)})}}}}};var E,R;throw u.Vc(`Unsupported field value: ${Ed(s)}`)}(c,n)}function Fm(c,n){const i={};return ws(c)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):po(c,(s,u)=>{const p=Au(u,n.Ic(s));null!=p&&(i[s]=p)}),{mapValue:{fields:i}}}function tw(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof hr||c instanceof Mm||c instanceof ka||c instanceof _o||c instanceof Td||c instanceof Ip)}function X_(c,n,i){if(!tw(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Ed(i);throw n.Vc("an object"===s?c+" a custom object":c+" "+s)}var u}function Dp(c,n,i){if((n=(0,Ce.Ku)(n))instanceof ml)return n._internalPath;if("string"==typeof n)return Cd(c,n);throw Vm("Field path arguments must be of type string or ",c,!1,void 0,i)}const Lm=new RegExp("[~\\*/\\[\\]]");function Cd(c,n,i){if(n.search(Lm)>=0)throw Vm(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new ml(...n.split("."))._internalPath}catch{throw Vm(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function Vm(c,n,i,s,u){const p=s&&!s.isEmpty(),E=void 0!==u;let R=`Function ${n}() called with invalid data`;i&&(R+=" (via `toFirestore()`)"),R+=". ";let k="";return(p||E)&&(k+=" (found",p&&(k+=` in field ${s}`),E&&(k+=` in document ${u}`),k+=")"),new Y(We.INVALID_ARGUMENT,R+c+k)}function nw(c,n){return c.some(i=>i.isEqual(n))}class Sd{constructor(n,i,s,u,p){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new _o(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new rw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class rw extends Sd{data(){return super.data()}}function Ap(c,n){return"string"==typeof n?Cd(c,n):n instanceof ml?n._internalPath:n._delegate._internalPath}function Z_(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new Y(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class zh extends Um{}function Y_(c,n,...i){let s=[];n instanceof Um&&s.push(n),s=s.concat(i),function(p){const E=p.filter(k=>k instanceof Pd).length,R=p.filter(k=>k instanceof Rd).length;if(E>1||E>0&&R>0)throw new Y(We.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)c=u._apply(c);return c}class Rd extends zh{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new Rd(n,i,s)}_apply(n){const i=this._parse(n);return uw(n._query,i),new Ns(n.firestore,n.converter,fa(n._query,i))}_parse(n){const i=yl(n.firestore);return function(p,E,R,k,L,X,oe){let ke;if(L.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new Y(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){cw(oe,X);const Bt=[];for(const cn of oe)Bt.push($m(k,p,cn));ke={arrayValue:{values:Bt}}}else ke=$m(k,p,oe)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||cw(oe,X),ke=function Om(c,n,i,s=!1){return Au(i,c.gc(s?4:3,n))}(R,"where",oe,"in"===X||"not-in"===X);return $r.create(L,X,ke)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}function iw(c,n,i){const s=n,u=Ap("where",c);return Rd._create(u,s,i)}class Pd extends Um{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Pd(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:Vr.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,p){let E=u;const R=p.getFlattenedFilters();for(const k of R)uw(E,k),E=fa(E,k)}(n._query,i),new Ns(n.firestore,n.converter,fa(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cp extends zh{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new Cp(n,i)}_apply(n){const i=function(u,p,E){if(null!==u.startAt)throw new Y(We.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Y(We.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ks(p,E)}(n._query,this._field,this._direction);return new Ns(n.firestore,n.converter,function(u,p){const E=u.explicitOrderBy.concat([p]);return new Bi(u.path,u.collectionGroup,E,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}function jm(c,n="asc"){const i=n,s=Ap("orderBy",c);return Cp._create(s,i)}function $m(c,n,i){if("string"==typeof(i=(0,Ce.Ku)(i))){if(""===i)throw new Y(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ca(n)&&-1!==i.indexOf("/"))throw new Y(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(ut.fromString(i));if(!Kt.isDocumentKey(s))throw new Y(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pi(c,new Kt(s))}if(i instanceof _o)return pi(c,i._key);throw new Y(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(i)}.`)}function cw(c,n){if(!Array.isArray(c)||0===c.length)throw new Y(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function uw(c,n){const i=function(u,p){for(const E of u)for(const R of E.getFlattenedFilters())if(p.indexOf(R.op)>=0)return R.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Y(We.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class tv{convertValue(n,i="none"){switch(Yn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return xr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(_r(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw dt(62114,{value:n})}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return po(n,(u,p)=>{s[u]=this.convertValue(p,i)}),s}convertVectorValue(n){var i,s,u;const p=null===(u=null===(s=null===(i=n.fields)||void 0===i?void 0:i[fn].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(E=>xr(E.doubleValue));return new Ip(p)}convertGeoPoint(n){return new Mm(xr(n.latitude),xr(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=vr(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(W(n));default:return null}}convertTimestamp(n){const i=No(n);return new hr(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=ut.fromString(n);Ze(jl(s),9688,{name:n});const u=new Se(s.get(1),s.get(3)),p=new Kt(s.popFirst(5));return u.isEqual(i)||Ln(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function Mp(c,n,i){let s;return s=c?i&&(i.merge||i.mergeFields)?c.toFirestore(n,i):c.toFirestore(n):n,s}class vl{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class kd extends Sd{constructor(n,i,s,u,p,E){super(n,i,s,u,E),this._firestore=n,this._firestoreImpl=n,this.metadata=p}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class xd extends kd{data(n={}){return super.data(n)}}class Wh{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new vl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new xd(this._firestore,this._userDataWriter,s.key,s,new vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Y(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let E=0;return u._snapshot.docChanges.map(R=>({type:"added",doc:new xd(u._firestore,u._userDataWriter,R.doc.key,R.doc,new vl(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:E++}))}{let E=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(R=>p||3!==R.type).map(R=>{const k=new xd(u._firestore,u._userDataWriter,R.doc.key,R.doc,new vl(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter);let L=-1,X=-1;return 0!==R.type&&(L=E.indexOf(R.doc.key),E=E.delete(R.doc.key)),1!==R.type&&(E=E.add(R.doc),X=E.indexOf(R.doc.key)),{type:AT(R.type),doc:k,oldIndex:L,newIndex:X}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function AT(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:c})}}function CT(c){c=Xr(c,_o);const n=Xr(c.firestore,vo);return function N_(c,n,i={}){const s=new ue;return c.asyncQueue.enqueueAndForget((0,b.A)(function*(){return function(p,E,R,k,L){const X=new Jc({next:ke=>{X.Cu(),E.enqueueAndForget(()=>bh(p,oe));const wt=ke.docs.has(R);!wt&&ke.fromCache?L.reject(new Y(We.UNAVAILABLE,"Failed to get document because the client is offline.")):wt&&ke.fromCache&&k&&"server"===k.source?L.reject(new Y(We.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(ke)},error:ke=>L.reject(ke)}),oe=new Ch(bo(R.path),X,{includeMetadataChanges:!0,La:!0});return sd(p,oe)}(yield Lh(c),c.asyncQueue,n,i,s)})),s.promise}(Bo(n),c._key).then(i=>Cu(n,c,i))}class El extends tv{constructor(n){super(),this.firestore=n}convertBytes(n){return new ka(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new _o(this.firestore,null,i)}}function ST(c){c=Xr(c,Ns);const n=Xr(c.firestore,vo),i=Bo(n),s=new El(n);return Z_(c._query),function Im(c,n,i={}){const s=new ue;return c.asyncQueue.enqueueAndForget((0,b.A)(function*(){return function(p,E,R,k,L){const X=new Jc({next:ke=>{X.Cu(),E.enqueueAndForget(()=>bh(p,oe)),ke.fromCache&&"server"===k.source?L.reject(new Y(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(ke)},error:ke=>L.reject(ke)}),oe=new Ch(R,X,{includeMetadataChanges:!0,La:!0});return sd(p,oe)}(yield Lh(c),c.asyncQueue,n,i,s)})),s.promise}(i,c._query).then(u=>new Wh(n,s,c,u))}function Np(c,n,i){c=Xr(c,_o);const s=Xr(c.firestore,vo),u=Mp(c.converter,n,i);return Od(s,[bp(yl(s),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,Ii.none())])}function rv(c,n,i,...s){c=Xr(c,_o);const u=Xr(c.firestore,vo),p=yl(u);let E;return E="string"==typeof(n=(0,Ce.Ku)(n))||n instanceof ml?_l(p,"updateDoc",c._key,n,i,s):pc(p,"updateDoc",c._key,n),Od(u,[E.toMutation(c._key,Ii.exists(!0))])}function iv(c){return Od(Xr(c.firestore,vo),[new _i(c._key,Ii.none())])}function ov(c,n){const i=Xr(c.firestore,vo),s=V_(c),u=Mp(c.converter,n);return Od(i,[bp(yl(c.firestore),"addDoc",s._key,u,null!==c.converter,{}).toMutation(s._key,Ii.exists(!1))]).then(()=>s)}function fw(c,...n){var i,s,u;c=(0,Ce.Ku)(c);let p={includeMetadataChanges:!1,source:"default"},E=0;"object"!=typeof n[E]||Cm(n[E])||(p=n[E],E++);const R={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(Cm(n[E])){const oe=n[E];n[E]=null===(i=oe.next)||void 0===i?void 0:i.bind(oe),n[E+1]=null===(s=oe.error)||void 0===s?void 0:s.bind(oe),n[E+2]=null===(u=oe.complete)||void 0===u?void 0:u.bind(oe)}let k,L,X;if(c instanceof _o)L=Xr(c.firestore,vo),X=bo(c._key.path),k={next:oe=>{n[E]&&n[E](Cu(L,c,oe))},error:n[E+1],complete:n[E+2]};else{const oe=Xr(c,Ns);L=Xr(oe.firestore,vo),X=oe._query;const ke=new El(L);k={next:wt=>{n[E]&&n[E](new Wh(L,ke,oe,wt))},error:n[E+1],complete:n[E+2]},Z_(c._query)}return function(ke,wt,Bt,cn){const nn=new Jc(cn),er=new Ch(wt,nn,Bt);return ke.asyncQueue.enqueueAndForget((0,b.A)(function*(){return sd(yield Lh(ke),er)})),()=>{nn.Cu(),ke.asyncQueue.enqueueAndForget((0,b.A)(function*(){return bh(yield Lh(ke),er)}))}}(Bo(L),X,R,k)}function Od(c,n){return function(s,u){const p=new ue;return s.asyncQueue.enqueueAndForget((0,b.A)(function*(){return function w_(c,n,i){return I_.apply(this,arguments)}(yield function P_(c){return Fh(c).then(n=>n.syncEngine)}(s),u,p)})),p.promise}(Bo(c),n)}function Cu(c,n,i){const s=i.docs.get(n._key),u=new El(c);return new kd(c,u,n._key,s,new vl(i.hasPendingWrites,i.fromCache),n.converter)}class gc{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=yl(n)}set(n,i,s){this._verifyNotCommitted();const u=Su(n,this._firestore),p=Mp(u.converter,i,s),E=bp(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,s);return this._mutations.push(E.toMutation(u._key,Ii.none())),this}update(n,i,s,...u){this._verifyNotCommitted();const p=Su(n,this._firestore);let E;return E="string"==typeof(i=(0,Ce.Ku)(i))||i instanceof ml?_l(this._dataReader,"WriteBatch.update",p._key,i,s,u):pc(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(E.toMutation(p._key,Ii.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Su(n,this._firestore);return this._mutations=this._mutations.concat(new _i(i._key,Ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Y(We.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Su(c,n){if((c=(0,Ce.Ku)(c)).firestore!==n)throw new Y(We.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}function Or(c){return Bo(c=Xr(c,vo)),new gc(c,n=>Od(c,n))}!function(n,i=!0){Xe=x.MF,(0,x.om)(new q.uA("firestore",(s,{instanceIdentifier:u,options:p})=>{const E=s.getProvider("app").getImmediate(),R=new vo(new de(s.getProvider("auth-internal")),new Zt(E,s.getProvider("app-check-internal")),function(L,X){if(!Object.prototype.hasOwnProperty.apply(L.options,["projectId"]))throw new Y(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Se(L.options.projectId,X)}(E,u),E);return p=Object.assign({useFetchStreams:i},p),R._setSettings(p),R},"PUBLIC").setMultipleInstances(!0)),(0,x.KO)(Dt,"4.7.16",n),(0,x.KO)(Dt,"4.7.16","esm2017")}()},3494:(En,je,U)=>{"use strict";U.d(je,{s:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},3604:(En,je,U)=>{"use strict";U.d(je,{q:()=>q});const b={now:()=>(b.delegate||Date).now(),delegate:void 0};class x{constructor(Ce,Qe=x.now){this.schedulerActionCtor=Ce,this.now=Qe}schedule(Ce,Qe=0,Ee){return new this.schedulerActionCtor(this,Ce).schedule(Ee,Qe)}}x.now=b.now;class q extends x{constructor(Ce,Qe=x.now){super(Ce,Qe),this.actions=[],this._active=!1}flush(Ce){const{actions:Qe}=this;if(this._active)return void Qe.push(Ce);let Ee;this._active=!0;do{if(Ee=Ce.execute(Ce.state,Ce.delay))break}while(Ce=Qe.shift());if(this._active=!1,Ee){for(;Ce=Qe.shift();)Ce.unsubscribe();throw Ee}}}},3669:(En,je,U)=>{"use strict";function b(x){return x}U.d(je,{D:()=>b})},4125:(En,je,U)=>{"use strict";U.d(je,{kR:()=>lt});var b=U(2967),Ce=(U(1360),U(7440),U(2214),U(467)),Qe=U(7852),Ee=U(1362),fe=U(6858),xe=U(8041);const me=new Map,pe={activated:!1,tokenObservers:[]},et={initialized:!1,enabled:!1};function He(ve){return me.get(ve)||Object.assign({},pe)}function At(){return et}class Me{constructor(Ve,qe,Lt,Ht,wn){if(this.operation=Ve,this.retryPolicy=qe,this.getWaitDuration=Lt,this.lowerBound=Ht,this.upperBound=wn,this.pending=null,this.nextErrorWaitInterval=Ht,Ht>wn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ve){var qe=this;return(0,Ce.A)(function*(){qe.stop();try{qe.pending=new fe.cY,qe.pending.promise.catch(Lt=>{}),yield function nt(ve){return new Promise(Ve=>{setTimeout(Ve,ve)})}(qe.getNextRun(Ve)),qe.pending.resolve(),yield qe.pending.promise,qe.pending=new fe.cY,qe.pending.promise.catch(Lt=>{}),yield qe.operation(),qe.pending.resolve(),yield qe.pending.promise,qe.process(!0).catch(()=>{})}catch(Lt){qe.retryPolicy(Lt)?qe.process(!1).catch(()=>{}):qe.stop()}})()}getNextRun(Ve){if(Ve)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),qe}}}const vt=new fe.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function Et(ve){if(!He(ve).activated)throw vt.create("use-before-activation",{appName:ve.name})}function Rn(ve,Ve){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,Ce.A)(function*({url:ve,body:Ve},qe){const Lt={"Content-Type":"application/json"},Ht=qe.getImmediate({optional:!0});if(Ht){const Cr=yield Ht.getHeartbeatsHeader();Cr&&(Lt["X-Firebase-Client"]=Cr)}const wn={method:"POST",body:JSON.stringify(Ve),headers:Lt};let kn,bn;try{kn=yield fetch(ve,wn)}catch(Cr){throw vt.create("fetch-network-error",{originalErrorMessage:Cr?.message})}if(200!==kn.status)throw vt.create("fetch-status-error",{httpStatus:kn.status});try{bn=yield kn.json()}catch(Cr){throw vt.create("fetch-parse-error",{originalErrorMessage:Cr?.message})}const rr=bn.ttl.match(/^([\d.]+)(s)$/);if(!rr||!rr[2]||isNaN(Number(rr[1])))throw vt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${bn.ttl}`});const jr=1e3*Number(rr[1]),Co=Date.now();return{token:bn.token,expireTimeMillis:Co+jr,issuedAtTimeMillis:Co}})).apply(this,arguments)}function Ze(ve,Ve){const{projectId:qe,appId:Lt,apiKey:Ht}=ve.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${qe}/apps/${Lt}:exchangeDebugToken?key=${Ht}`,body:{debug_token:Ve}}}const We="firebase-app-check-store";let ue=null;function rn(){return(rn=(0,Ce.A)(function*(ve,Ve){const Lt=(yield function le(){return ue||(ue=new Promise((ve,Ve)=>{try{const qe=indexedDB.open("firebase-app-check-database",1);qe.onsuccess=Lt=>{ve(Lt.target.result)},qe.onerror=Lt=>{var Ht;Ve(vt.create("storage-open",{originalErrorMessage:null===(Ht=Lt.target.error)||void 0===Ht?void 0:Ht.message}))},qe.onupgradeneeded=Lt=>{0===Lt.oldVersion&&Lt.target.result.createObjectStore(We,{keyPath:"compositeKey"})}}catch(qe){Ve(vt.create("storage-open",{originalErrorMessage:qe?.message}))}}),ue)}()).transaction(We,"readwrite"),wn=Lt.objectStore(We).put({compositeKey:ve,value:Ve});return new Promise((kn,bn)=>{wn.onsuccess=rr=>{kn()},Lt.onerror=rr=>{var jr;bn(vt.create("storage-set",{originalErrorMessage:null===(jr=rr.target.error)||void 0===jr?void 0:jr.message}))}})})).apply(this,arguments)}const Zn=new xe.Vy("@firebase/app-check");function On(ve,Ve){return(0,fe.zW)()?function ne(ve,Ve){return function gt(ve,Ve){return rn.apply(this,arguments)}(function zt(ve){return`${ve.options.appId}-${ve.name}`}(ve),Ve)}(ve,Ve).catch(qe=>{Zn.warn(`Failed to write token to IndexedDB. Error: ${qe}`)}):Promise.resolve()}function Pr(){return At().enabled}function Rr(){return Di.apply(this,arguments)}function Di(){return(Di=(0,Ce.A)(function*(){const ve=At();if(ve.enabled&&ve.token)return ve.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const hr={error:"UNKNOWN_ERROR"};function on(ve){return fe.K3.encodeString(JSON.stringify(ve),!1)}function Qi(ve){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,Ce.A)(function*(ve,Ve=!1,qe=!1){const Lt=ve.app;Et(Lt);const Ht=He(Lt);let kn,wn=Ht.token;if(wn&&!br(wn)&&(Ht.token=void 0,wn=void 0),!wn){const jr=yield Ht.cachedTokenPromise;jr&&(br(jr)?wn=jr:yield On(Lt,void 0))}if(!Ve&&wn&&br(wn))return{token:wn.token};let rr,bn=!1;if(Pr())try{Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=Rn(Ze(Lt,yield Rr()),ve.heartbeatServiceProvider).finally(()=>{Ht.exchangeTokenPromise=void 0}),bn=!0);const jr=yield Ht.exchangeTokenPromise;return yield On(Lt,jr),Ht.token=jr,{token:jr.token}}catch(jr){return"appCheck/throttled"===jr.code||"appCheck/initial-throttle"===jr.code?Zn.warn(jr.message):qe&&Zn.error(jr),gi(jr)}try{Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=Ht.provider.getToken().finally(()=>{Ht.exchangeTokenPromise=void 0}),bn=!0),wn=yield He(Lt).exchangeTokenPromise}catch(jr){"appCheck/throttled"===jr.code||"appCheck/initial-throttle"===jr.code?Zn.warn(jr.message):qe&&Zn.error(jr),kn=jr}return wn?kn?rr=br(wn)?{token:wn.token,internalError:kn}:gi(kn):(rr={token:wn.token},Ht.token=wn,yield On(Lt,wn)):rr=gi(kn),bn&&function li(ve,Ve){const qe=He(ve).tokenObservers;for(const Lt of qe)try{"EXTERNAL"===Lt.type&&null!=Ve.error?Lt.error(Ve.error):Lt.next(Ve)}catch{}}(Lt,rr),rr})).apply(this,arguments)}function wr(){return(wr=(0,Ce.A)(function*(ve){const Ve=ve.app;Et(Ve);const{provider:qe}=He(Ve);if(Pr()){const Lt=yield Rr(),{token:Ht}=yield Rn(Ze(Ve,Lt),ve.heartbeatServiceProvider);return{token:Ht}}{const{token:Lt}=yield qe.getToken();return{token:Lt}}})).apply(this,arguments)}function Kt(ve,Ve){const qe=He(ve),Lt=qe.tokenObservers.filter(Ht=>Ht.next!==Ve);0===Lt.length&&qe.tokenRefresher&&qe.tokenRefresher.isRunning()&&qe.tokenRefresher.stop(),qe.tokenObservers=Lt}function ti(ve){const{app:Ve}=ve,qe=He(Ve);let Lt=qe.tokenRefresher;Lt||(Lt=function oi(ve){const{app:Ve}=ve;return new Me((0,Ce.A)(function*(){let Lt;if(Lt=He(Ve).token?yield Qi(ve,!0):yield Qi(ve),Lt.error)throw Lt.error;if(Lt.internalError)throw Lt.internalError}),()=>!0,()=>{const qe=He(Ve);if(qe.token){let Lt=qe.token.issuedAtTimeMillis+.5*(qe.token.expireTimeMillis-qe.token.issuedAtTimeMillis)+3e5;return Lt=Math.min(Lt,qe.token.expireTimeMillis-3e5),Math.max(0,Lt-Date.now())}return 0},3e4,96e4)}(ve),qe.tokenRefresher=Lt),!Lt.isRunning()&&qe.isTokenAutoRefreshEnabled&&Lt.start()}function br(ve){return ve.expireTimeMillis-Date.now()>0}function gi(ve){return{token:on(hr),error:ve}}class Ar{constructor(Ve,qe){this.app=Ve,this.heartbeatServiceProvider=qe}_delete(){const{tokenObservers:Ve}=He(this.app);for(const qe of Ve)Kt(this.app,qe.next);return Promise.resolve()}}const gr="app-check-internal";!function te(){(0,Qe.om)(new Ee.uA("app-check",ve=>function si(ve,Ve){return new Ar(ve,Ve)}(ve.getProvider("app").getImmediate(),ve.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ve,Ve,qe)=>{ve.getProvider(gr).initialize()})),(0,Qe.om)(new Ee.uA(gr,ve=>function lr(ve){return{getToken:Ve=>Qi(ve,Ve),getLimitedUseToken:()=>function ut(ve){return wr.apply(this,arguments)}(ve),addTokenListener:Ve=>function qn(ve,Ve,qe,Lt){const{app:Ht}=ve,wn=He(Ht);if(wn.tokenObservers=[...wn.tokenObservers,{next:qe,error:Lt,type:Ve}],wn.token&&br(wn.token)){const bn=wn.token;Promise.resolve().then(()=>{qe({token:bn.token}),ti(ve)}).catch(()=>{})}wn.cachedTokenPromise.then(()=>ti(ve))}(ve,"INTERNAL",Ve),removeTokenListener:Ve=>Kt(ve.app,Ve)}}(ve.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Qe.KO)("@firebase/app-check","0.10.0")}();class lt{constructor(){return(0,b.CA)("app-check")}}typeof window<"u"&&window},4360:(En,je,U)=>{"use strict";U.d(je,{_:()=>x});var b=U(7707);function x(I,Ce,Qe,Ee,fe){return new q(I,Ce,Qe,Ee,fe)}class q extends b.vU{constructor(Ce,Qe,Ee,fe,xe,me){super(Ce),this.onFinalize=xe,this.shouldUnsubscribe=me,this._next=Qe?function(pe){try{Qe(pe)}catch(et){Ce.error(et)}}:super._next,this._error=fe?function(pe){try{fe(pe)}catch(et){Ce.error(et)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(pe){Ce.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Qe}=this;super.unsubscribe(),!Qe&&(null===(Ce=this.onFinalize)||void 0===Ce||Ce.call(this))}}}},4412:(En,je,U)=>{"use strict";U.d(je,{t:()=>x});var b=U(1413);class x extends b.B{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const Ce=super._subscribe(I);return!Ce.closed&&I.next(this._value),Ce}getValue(){const{hasError:I,thrownError:Ce,_value:Qe}=this;if(I)throw Ce;return this._throwIfClosed(),Qe}next(I){super.next(this._value=I)}}},4761:(En,je,U)=>{"use strict";U.d(je,{l:()=>x});const x=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4796:(En,je,U)=>{"use strict";U.d(je,{u:()=>I});var b=U(6335),x=U(5964),q=U(1360);let I=(()=>{class Ce{auth;constructor(Ee){this.auth=Ee,console.log("%c<<< Start AUTH service >>>","background: #cff4fc; color: #055160; padding: 2px 5px;")}getAuthState(){return console.log("\u{1f441} Observando el estado de autenticaci\xf3n..."),(0,b.wh)(this.auth)}getCurrentUser(){return this.getAuthState().pipe((0,x.p)(Ee=>!!Ee))}login(Ee,fe){return console.log("\u{1f510} Intentando iniciar sesi\xf3n con:",Ee),(0,b.x9)(this.auth,Ee,fe)}register(Ee,fe){return console.log("\u{1f4dd} Registrando nuevo usuario con:",Ee),(0,b.eJ)(this.auth,Ee,fe)}logout(){return console.log("\u{1f6aa} Cerrando sesi\xf3n del usuario actual"),(0,b.CI)(this.auth)}resetPassword(Ee){return console.log("\u{1f4e7} Enviando enlace de recuperaci\xf3n a:",Ee),(0,b.J1)(this.auth,Ee)}static \u0275fac=function(fe){return new(fe||Ce)(q.KVO(b.Nj))};static \u0275prov=q.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}return Ce})()},4843:(En,je,U)=>{"use strict";U.d(je,{_:()=>q});var b=U(9350),x=U(7707);function q(I,Ce){const Qe="object"==typeof Ce;return new Promise((Ee,fe)=>{const xe=new x.Ms({next:me=>{Ee(me),xe.unsubscribe()},error:fe,complete:()=>{Qe?Ee(Ce.defaultValue):fe(new b.G)}});I.subscribe(xe)})}},5055:(En,je,U)=>{"use strict";U.d(je,{l:()=>q});var b=U(3494),x=U(8071);function q(I){return(0,x.T)(I[b.s])}},5072:(En,je,U)=>{"use strict";U.d(je,{nX:()=>So,Pu:()=>Do,Zp:()=>Un,nU:()=>Wn,c1:()=>qr,XR:()=>Pn,wF:()=>Co,lW:()=>Lo,mo:()=>so,Z:()=>jr,J2:()=>pa,J_:()=>An,bw:()=>ur,tD:()=>Qr,Ix:()=>Za,D$:()=>Bi,n3:()=>zr,OY:()=>mr,Sd:()=>Nr,bK:()=>hs,gk:()=>Ri,Lg:()=>as,wO:()=>It,Us:()=>zi,we:()=>Is});var b=U(9361),x=U(6048),q=U(1360),I=U(1985),Ce=U(8071),Ee=U(8455),fe=U(7673),xe=U(4412),me=U(3073),pe=U(3669),et=U(6450),He=U(9326),at=U(8496),At=U(4360),Ut=U(5225);function Ft(...C){const y=(0,He.lI)(C),l=(0,He.ms)(C),{args:h,keys:m}=(0,me.D)(C);if(0===h.length)return(0,Ee.H)([],y);const T=new I.c(function Xt(C,y,l=pe.D){return h=>{pt(y,()=>{const{length:m}=C,T=new Array(m);let M=m,G=m;for(let Q=0;Q<m;Q++)pt(y,()=>{const Ie=(0,Ee.H)(C[Q],y);let Ge=!1;Ie.subscribe((0,At._)(h,jt=>{T[Q]=jt,Ge||(Ge=!0,G--),G||h.next(l(T.slice()))},()=>{--M||h.complete()}))},h)},h)}}(h,y,m?M=>(0,at.e)(m,M):pe.D));return l?T.pipe((0,et.I)(l)):T}function pt(C,y,l){C?(0,Ut.N)(l,C,y):y()}var _t=U(9350),Dt=U(6365);function nt(...C){return function Me(){return(0,Dt.U)(1)}()((0,Ee.H)(C,(0,He.lI)(C)))}var Xe=U(8750);function vt(C){return new I.c(y=>{(0,Xe.Tg)(C()).subscribe(y)})}var Wt=U(1203);function Et(C,y){const l=(0,Ce.T)(C)?C:()=>C,h=m=>m.error(l());return new I.c(y?m=>y.schedule(h,0,m):h)}var st=U(983),Ln=U(8359),Rn=U(9974);function Kn(){return(0,Rn.N)((C,y)=>{let l=null;C._refCount++;const h=(0,At._)(y,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(l=null);const m=C._connection,T=l;l=null,m&&(!T||m===T)&&m.unsubscribe(),y.unsubscribe()});C.subscribe(h),h.closed||(l=C.connect())})}class dt extends I.c{constructor(y,l){super(),this.source=y,this.subjectFactory=l,this._subject=null,this._refCount=0,this._connection=null,(0,Rn.S)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new Ln.yU;const l=this.getSubject();y.add(this.source.subscribe((0,At._)(l,void 0,()=>{this._teardown(),l.complete()},h=>{this._teardown(),l.error(h)},()=>this._teardown()))),y.closed&&(this._connection=null,y=Ln.yU.EMPTY)}return y}refCount(){return Kn()(this)}}var vn=U(1413),Ze=U(6354),en=U(5558);function Rt(C){return C<=0?()=>st.w:(0,Rn.N)((y,l)=>{let h=0;y.subscribe((0,At._)(l,m=>{++h<=C&&(l.next(m),C<=h&&l.complete())}))})}var Y=U(5964),ue=U(1397);function le(C){return(0,Rn.N)((y,l)=>{let h=!1;y.subscribe((0,At._)(l,m=>{h=!0,l.next(m)},()=>{h||l.next(C),l.complete()}))})}function ge(C=ne){return(0,Rn.N)((y,l)=>{let h=!1;y.subscribe((0,At._)(l,m=>{h=!0,l.next(m)},()=>h?l.complete():l.error(C())))})}function ne(){return new _t.G}function de(C,y){const l=arguments.length>=2;return h=>h.pipe(C?(0,Y.p)((m,T)=>C(m,T,h)):pe.D,Rt(1),l?le(y):ge(()=>new _t.G))}var Ke=U(274);function gt(C,y,l){const h=(0,Ce.T)(C)||y||l?{next:C,error:y,complete:l}:C;return h?(0,Rn.N)((m,T)=>{var M;null===(M=h.subscribe)||void 0===M||M.call(h);let G=!0;m.subscribe((0,At._)(T,Q=>{var Ie;null===(Ie=h.next)||void 0===Ie||Ie.call(h,Q),T.next(Q)},()=>{var Q;G=!1,null===(Q=h.complete)||void 0===Q||Q.call(h),T.complete()},Q=>{var Ie;G=!1,null===(Ie=h.error)||void 0===Ie||Ie.call(h,Q),T.error(Q)},()=>{var Q,Ie;G&&(null===(Q=h.unsubscribe)||void 0===Q||Q.call(h)),null===(Ie=h.finalize)||void 0===Ie||Ie.call(h)}))}):pe.D}var rn=U(9437);function zt(C){return C<=0?()=>st.w:(0,Rn.N)((y,l)=>{let h=[];y.subscribe((0,At._)(l,m=>{h.push(m),C<h.length&&h.shift()},()=>{for(const m of h)l.next(m);l.complete()},void 0,()=>{h=null}))})}var Hn=U(980),qt=U(5343),tr=U(345);const Tn="primary",Pr=Symbol("RouteTitle");class Rr{params;constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const l=this.params[y];return Array.isArray(l)?l[0]:l}return null}getAll(y){if(this.has(y)){const l=this.params[y];return Array.isArray(l)?l:[l]}return[]}get keys(){return Object.keys(this.params)}}function Di(C){return new Rr(C)}function hn(C,y,l){const h=l.path.split("/");if(h.length>C.length||"full"===l.pathMatch&&(y.hasChildren()||h.length<C.length))return null;const m={};for(let T=0;T<h.length;T++){const M=h[T],G=C[T];if(":"===M[0])m[M.substring(1)]=G;else if(M!==G.path)return null}return{consumed:C.slice(0,h.length),posParams:m}}function on(C,y){const l=C?Qi(C):void 0,h=y?Qi(y):void 0;if(!l||!h||l.length!=h.length)return!1;let m;for(let T=0;T<l.length;T++)if(m=l[T],!Mr(C[m],y[m]))return!1;return!0}function Qi(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}function Mr(C,y){if(Array.isArray(C)&&Array.isArray(y)){if(C.length!==y.length)return!1;const l=[...C].sort(),h=[...y].sort();return l.every((m,T)=>h[T]===m)}return C===y}function ut(C){return C.length>0?C[C.length-1]:null}function wr(C){return function Qe(C){return!!C&&(C instanceof I.c||(0,Ce.T)(C.lift)&&(0,Ce.T)(C.subscribe))}(C)?C:(0,q.jNT)(C)?(0,Ee.H)(Promise.resolve(C)):(0,fe.of)(C)}const qn={exact:function li(C,y,l){if(!Dn(C.segments,y.segments)||!si(C.segments,y.segments,l)||C.numberOfChildren!==y.numberOfChildren)return!1;for(const h in y.children)if(!C.children[h]||!li(C.children[h],y.children[h],l))return!1;return!0},subset:gi},Kt={exact:function oi(C,y){return on(C,y)},subset:function br(C,y){return Object.keys(y).length<=Object.keys(C).length&&Object.keys(y).every(l=>Mr(C[l],y[l]))},ignored:()=>!0};function ti(C,y,l){return qn[l.paths](C.root,y.root,l.matrixParams)&&Kt[l.queryParams](C.queryParams,y.queryParams)&&!("exact"===l.fragment&&C.fragment!==y.fragment)}function gi(C,y,l){return Ar(C,y,y.segments,l)}function Ar(C,y,l,h){if(C.segments.length>l.length){const m=C.segments.slice(0,l.length);return!(!Dn(m,l)||y.hasChildren()||!si(m,l,h))}if(C.segments.length===l.length){if(!Dn(C.segments,l)||!si(C.segments,l,h))return!1;for(const m in y.children)if(!C.children[m]||!gi(C.children[m],y.children[m],h))return!1;return!0}{const m=l.slice(0,C.segments.length),T=l.slice(C.segments.length);return!!(Dn(C.segments,m)&&si(C.segments,m,h)&&C.children[Tn])&&Ar(C.children[Tn],y,T,h)}}function si(C,y,l){return y.every((h,m)=>Kt[l](C[m].parameters,h.parameters))}class lr{root;queryParams;fragment;_queryParamMap;constructor(y=new sr([],{}),l={},h=null){this.root=y,this.queryParams=l,this.fragment=h}get queryParamMap(){return this._queryParamMap??=Di(this.queryParams),this._queryParamMap}toString(){return Xi.serialize(this)}}class sr{segments;children;parent=null;constructor(y,l){this.segments=y,this.children=l,Object.values(l).forEach(h=>h.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Le(this)}}class di{path;parameters;_parameterMap;constructor(y,l){this.path=y,this.parameters=l}get parameterMap(){return this._parameterMap??=Di(this.parameters),this._parameterMap}toString(){return Fi(this)}}function Dn(C,y){return C.length===y.length&&C.every((l,h)=>l.path===y[h].path)}let Nr=(()=>{class C{static \u0275fac=function(h){return new(h||C)};static \u0275prov=q.jDH({token:C,factory:()=>new Wn,providedIn:"root"})}return C})();class Wn{parse(y){const l=new te(y);return new lr(l.parseRootSegment(),l.parseQueryParams(),l.parseFragment())}serialize(y){const l=`/${Dr(y.root,!0)}`,h=function Ni(C){const y=Object.entries(C).map(([l,h])=>Array.isArray(h)?h.map(m=>`${ni(l)}=${ni(m)}`).join("&"):`${ni(l)}=${ni(h)}`).filter(l=>l);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${l}${h}${"string"==typeof y.fragment?`#${function Oi(C){return encodeURI(C)}(y.fragment)}`:""}`}}const Xi=new Wn;function Le(C){return C.segments.map(y=>Fi(y)).join("/")}function Dr(C,y){if(!C.hasChildren())return Le(C);if(y){const l=C.children[Tn]?Dr(C.children[Tn],!1):"",h=[];return Object.entries(C.children).forEach(([m,T])=>{m!==Tn&&h.push(`${m}:${Dr(T,!1)}`)}),h.length>0?`${l}(${h.join("//")})`:l}{const l=function Ei(C,y){let l=[];return Object.entries(C.children).forEach(([h,m])=>{h===Tn&&(l=l.concat(y(m,h)))}),Object.entries(C.children).forEach(([h,m])=>{h!==Tn&&(l=l.concat(y(m,h)))}),l}(C,(h,m)=>m===Tn?[Dr(C.children[Tn],!1)]:[`${m}:${Dr(h,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Tn]?`${Le(C)}/${l[0]}`:`${Le(C)}/(${l.join("//")})`}}function Zi(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ni(C){return Zi(C).replace(/%3B/gi,";")}function mn(C){return Zi(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pr(C){return decodeURIComponent(C)}function Ir(C){return pr(C.replace(/\+/g,"%20"))}function Fi(C){return`${mn(C.path)}${function Li(C){return Object.entries(C).map(([y,l])=>`;${mn(y)}=${mn(l)}`).join("")}(C.parameters)}`}const be=/^[^\/()?;#]+/;function ye(C){const y=C.match(be);return y?y[0]:""}const Ue=/^[^\/()?;=#]+/,Ye=/^[^=?&#]+/,Cn=/^[^&#]+/;class te{url;remaining;constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sr([],{}):new sr([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let l={};this.peekStartsWith("/(")&&(this.capture("/"),l=this.parseParens(!0));let h={};return this.peekStartsWith("(")&&(h=this.parseParens(!1)),(y.length>0||Object.keys(l).length>0)&&(h[Tn]=new sr(y,l)),h}parseSegment(){const y=ye(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new q.wOt(4009,!1);return this.capture(y),new di(pr(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const l=function kt(C){const y=C.match(Ue);return y?y[0]:""}(this.remaining);if(!l)return;this.capture(l);let h="";if(this.consumeOptional("=")){const m=ye(this.remaining);m&&(h=m,this.capture(h))}y[pr(l)]=pr(h)}parseQueryParam(y){const l=function Qt(C){const y=C.match(Ye);return y?y[0]:""}(this.remaining);if(!l)return;this.capture(l);let h="";if(this.consumeOptional("=")){const M=function gr(C){const y=C.match(Cn);return y?y[0]:""}(this.remaining);M&&(h=M,this.capture(h))}const m=Ir(l),T=Ir(h);if(y.hasOwnProperty(m)){let M=y[m];Array.isArray(M)||(M=[M],y[m]=M),M.push(T)}else y[m]=T}parseParens(y){const l={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const h=ye(this.remaining),m=this.remaining[h.length];if("/"!==m&&")"!==m&&";"!==m)throw new q.wOt(4010,!1);let T;h.indexOf(":")>-1?(T=h.slice(0,h.indexOf(":")),this.capture(T),this.capture(":")):y&&(T=Tn);const M=this.parseChildren();l[T]=1===Object.keys(M).length?M[Tn]:new sr([],M),this.consumeOptional("//")}return l}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new q.wOt(4011,!1)}}function se(C){return C.segments.length>0?new sr([],{[Tn]:C}):C}function Ae(C){const y={};for(const[h,m]of Object.entries(C.children)){const T=Ae(m);if(h===Tn&&0===T.segments.length&&T.hasChildren())for(const[M,G]of Object.entries(T.children))y[M]=G;else(T.segments.length>0||T.hasChildren())&&(y[h]=T)}return function lt(C){if(1===C.numberOfChildren&&C.children[Tn]){const y=C.children[Tn];return new sr(C.segments.concat(y.segments),y.children)}return C}(new sr(C.segments,y))}function It(C){return C instanceof lr}function _e(C){let y;const m=se(function l(T){const M={};for(const Q of T.children){const Ie=l(Q);M[Q.outlet]=Ie}const G=new sr(T.url,M);return T===C&&(y=G),G}(C.root));return y??m}function Oe(C,y,l,h){let m=C;for(;m.parent;)m=m.parent;if(0===y.length)return ft(m,m,m,l,h);const T=function Vn(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new tn(!0,0,C);let y=0,l=!1;const h=C.reduce((m,T,M)=>{if("object"==typeof T&&null!=T){if(T.outlets){const G={};return Object.entries(T.outlets).forEach(([Q,Ie])=>{G[Q]="string"==typeof Ie?Ie.split("/"):Ie}),[...m,{outlets:G}]}if(T.segmentPath)return[...m,T.segmentPath]}return"string"!=typeof T?[...m,T]:0===M?(T.split("/").forEach((G,Q)=>{0==Q&&"."===G||(0==Q&&""===G?l=!0:".."===G?y++:""!=G&&m.push(G))}),m):[...m,T]},[]);return new tn(l,y,h)}(y);if(T.toRoot())return ft(m,m,new sr([],{}),l,h);const M=function Gn(C,y,l){if(C.isAbsolute)return new an(y,!0,0);if(!l)return new an(y,!1,NaN);if(null===l.parent)return new an(l,!0,0);const h=Ct(C.commands[0])?0:1;return function cr(C,y,l){let h=C,m=y,T=l;for(;T>m;){if(T-=m,h=h.parent,!h)throw new q.wOt(4005,!1);m=h.segments.length}return new an(h,!1,m-T)}(l,l.segments.length-1+h,C.numberOfDoubleDots)}(T,m,C),G=M.processChildren?ve(M.segmentGroup,M.index,T.commands):Ai(M.segmentGroup,M.index,T.commands);return ft(m,M.segmentGroup,G,l,h)}function Ct(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function yt(C){return"object"==typeof C&&null!=C&&C.outlets}function ft(C,y,l,h,m){let M,T={};h&&Object.entries(h).forEach(([Q,Ie])=>{T[Q]=Array.isArray(Ie)?Ie.map(Ge=>`${Ge}`):`${Ie}`}),M=C===y?l:Mt(C,y,l);const G=se(Ae(M));return new lr(G,T,m)}function Mt(C,y,l){const h={};return Object.entries(C.children).forEach(([m,T])=>{h[m]=T===y?l:Mt(T,y,l)}),new sr(C.segments,h)}class tn{isAbsolute;numberOfDoubleDots;commands;constructor(y,l,h){if(this.isAbsolute=y,this.numberOfDoubleDots=l,this.commands=h,y&&h.length>0&&Ct(h[0]))throw new q.wOt(4003,!1);const m=h.find(yt);if(m&&m!==ut(h))throw new q.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class an{segmentGroup;processChildren;index;constructor(y,l,h){this.segmentGroup=y,this.processChildren=l,this.index=h}}function Ai(C,y,l){if(C??=new sr([],{}),0===C.segments.length&&C.hasChildren())return ve(C,y,l);const h=function Ve(C,y,l){let h=0,m=y;const T={match:!1,pathIndex:0,commandIndex:0};for(;m<C.segments.length;){if(h>=l.length)return T;const M=C.segments[m],G=l[h];if(yt(G))break;const Q=`${G}`,Ie=h<l.length-1?l[h+1]:null;if(m>0&&void 0===Q)break;if(Q&&Ie&&"object"==typeof Ie&&void 0===Ie.outlets){if(!wn(Q,Ie,M))return T;h+=2}else{if(!wn(Q,{},M))return T;h++}m++}return{match:!0,pathIndex:m,commandIndex:h}}(C,y,l),m=l.slice(h.commandIndex);if(h.match&&h.pathIndex<C.segments.length){const T=new sr(C.segments.slice(0,h.pathIndex),{});return T.children[Tn]=new sr(C.segments.slice(h.pathIndex),C.children),ve(T,0,m)}return h.match&&0===m.length?new sr(C.segments,{}):h.match&&!C.hasChildren()?qe(C,y,l):h.match?ve(C,0,m):qe(C,y,l)}function ve(C,y,l){if(0===l.length)return new sr(C.segments,{});{const h=function mi(C){return yt(C[0])?C[0].outlets:{[Tn]:C}}(l),m={};if(Object.keys(h).some(T=>T!==Tn)&&C.children[Tn]&&1===C.numberOfChildren&&0===C.children[Tn].segments.length){const T=ve(C.children[Tn],y,l);return new sr(C.segments,T.children)}return Object.entries(h).forEach(([T,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(m[T]=Ai(C.children[T],y,M))}),Object.entries(C.children).forEach(([T,M])=>{void 0===h[T]&&(m[T]=M)}),new sr(C.segments,m)}}function qe(C,y,l){const h=C.segments.slice(0,y);let m=0;for(;m<l.length;){const T=l[m];if(yt(T)){const Q=Lt(T.outlets);return new sr(h,Q)}if(0===m&&Ct(l[0])){h.push(new di(C.segments[y].path,Ht(l[0]))),m++;continue}const M=yt(T)?T.outlets[Tn]:`${T}`,G=m<l.length-1?l[m+1]:null;M&&G&&Ct(G)?(h.push(new di(M,Ht(G))),m+=2):(h.push(new di(M,{})),m++)}return new sr(h,{})}function Lt(C){const y={};return Object.entries(C).forEach(([l,h])=>{"string"==typeof h&&(h=[h]),null!==h&&(y[l]=qe(new sr([],{}),0,h))}),y}function Ht(C){const y={};return Object.entries(C).forEach(([l,h])=>y[l]=`${h}`),y}function wn(C,y,l){return C==l.path&&on(y,l.parameters)}const kn="imperative";var bn=function(C){return C[C.NavigationStart=0]="NavigationStart",C[C.NavigationEnd=1]="NavigationEnd",C[C.NavigationCancel=2]="NavigationCancel",C[C.NavigationError=3]="NavigationError",C[C.RoutesRecognized=4]="RoutesRecognized",C[C.ResolveStart=5]="ResolveStart",C[C.ResolveEnd=6]="ResolveEnd",C[C.GuardsCheckStart=7]="GuardsCheckStart",C[C.GuardsCheckEnd=8]="GuardsCheckEnd",C[C.RouteConfigLoadStart=9]="RouteConfigLoadStart",C[C.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",C[C.ChildActivationStart=11]="ChildActivationStart",C[C.ChildActivationEnd=12]="ChildActivationEnd",C[C.ActivationStart=13]="ActivationStart",C[C.ActivationEnd=14]="ActivationEnd",C[C.Scroll=15]="Scroll",C[C.NavigationSkipped=16]="NavigationSkipped",C}(bn||{});class rr{id;url;constructor(y,l){this.id=y,this.url=l}}class jr extends rr{type=bn.NavigationStart;navigationTrigger;restoredState;constructor(y,l,h="imperative",m=null){super(y,l),this.navigationTrigger=h,this.restoredState=m}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Co extends rr{urlAfterRedirects;type=bn.NavigationEnd;constructor(y,l,h){super(y,l),this.urlAfterRedirects=h}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Cr=function(C){return C[C.Redirect=0]="Redirect",C[C.SupersededByNewNavigation=1]="SupersededByNewNavigation",C[C.NoDataFromResolver=2]="NoDataFromResolver",C[C.GuardRejected=3]="GuardRejected",C}(Cr||{}),so=function(C){return C[C.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",C[C.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",C}(so||{});class Hi extends rr{reason;code;type=bn.NavigationCancel;constructor(y,l,h,m){super(y,l),this.reason=h,this.code=m}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lo extends rr{reason;code;type=bn.NavigationSkipped;constructor(y,l,h,m){super(y,l),this.reason=h,this.code=m}}class ro extends rr{error;target;type=bn.NavigationError;constructor(y,l,h,m){super(y,l),this.error=h,this.target=m}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class B extends rr{urlAfterRedirects;state;type=bn.RoutesRecognized;constructor(y,l,h,m){super(y,l),this.urlAfterRedirects=h,this.state=m}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class he extends rr{urlAfterRedirects;state;type=bn.GuardsCheckStart;constructor(y,l,h,m){super(y,l),this.urlAfterRedirects=h,this.state=m}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K extends rr{urlAfterRedirects;state;shouldActivate;type=bn.GuardsCheckEnd;constructor(y,l,h,m,T){super(y,l),this.urlAfterRedirects=h,this.state=m,this.shouldActivate=T}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ee extends rr{urlAfterRedirects;state;type=bn.ResolveStart;constructor(y,l,h,m){super(y,l),this.urlAfterRedirects=h,this.state=m}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends rr{urlAfterRedirects;state;type=bn.ResolveEnd;constructor(y,l,h,m){super(y,l),this.urlAfterRedirects=h,this.state=m}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tt{route;type=bn.RouteConfigLoadStart;constructor(y){this.route=y}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sn{route;type=bn.RouteConfigLoadEnd;constructor(y){this.route=y}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nn{snapshot;type=bn.ChildActivationStart;constructor(y){this.snapshot=y}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{snapshot;type=bn.ChildActivationEnd;constructor(y){this.snapshot=y}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gr{snapshot;type=bn.ActivationStart;constructor(y){this.snapshot=y}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kr{snapshot;type=bn.ActivationEnd;constructor(y){this.snapshot=y}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mr{routerEvent;position;anchor;type=bn.Scroll;constructor(y,l,h){this.routerEvent=y,this.position=l,this.anchor=h}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xn{}class yr{url;navigationBehaviorOptions;constructor(y,l){this.url=y,this.navigationBehaviorOptions=l}}function zi(C){switch(C.type){case bn.ActivationEnd:return`ActivationEnd(path: '${C.snapshot.routeConfig?.path||""}')`;case bn.ActivationStart:return`ActivationStart(path: '${C.snapshot.routeConfig?.path||""}')`;case bn.ChildActivationEnd:return`ChildActivationEnd(path: '${C.snapshot.routeConfig?.path||""}')`;case bn.ChildActivationStart:return`ChildActivationStart(path: '${C.snapshot.routeConfig?.path||""}')`;case bn.GuardsCheckEnd:return`GuardsCheckEnd(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state}, shouldActivate: ${C.shouldActivate})`;case bn.GuardsCheckStart:return`GuardsCheckStart(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case bn.NavigationCancel:return`NavigationCancel(id: ${C.id}, url: '${C.url}')`;case bn.NavigationSkipped:return`NavigationSkipped(id: ${C.id}, url: '${C.url}')`;case bn.NavigationEnd:return`NavigationEnd(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}')`;case bn.NavigationError:return`NavigationError(id: ${C.id}, url: '${C.url}', error: ${C.error})`;case bn.NavigationStart:return`NavigationStart(id: ${C.id}, url: '${C.url}')`;case bn.ResolveEnd:return`ResolveEnd(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case bn.ResolveStart:return`ResolveStart(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case bn.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${C.route.path})`;case bn.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${C.route.path})`;case bn.RoutesRecognized:return`RoutesRecognized(id: ${C.id}, url: '${C.url}', urlAfterRedirects: '${C.urlAfterRedirects}', state: ${C.state})`;case bn.Scroll:return`Scroll(anchor: '${C.anchor}', position: '${C.position?`${C.position[0]}, ${C.position[1]}`:null}')`}}function Pe(C){return C.outlet||Tn}function Yt(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let y=C.parent;y;y=y.parent){const l=y.routeConfig;if(l?._loadedInjector)return l._loadedInjector;if(l?._injector)return l._injector}return null}class yn{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Yt(this.route?.snapshot)??this.rootInjector}constructor(y){this.rootInjector=y,this.children=new Un(this.rootInjector)}}let Un=(()=>{class C{rootInjector;contexts=new Map;constructor(l){this.rootInjector=l}onChildOutletCreated(l,h){const m=this.getOrCreateContext(l);m.outlet=h,this.contexts.set(l,m)}onChildOutletDestroyed(l){const h=this.getContext(l);h&&(h.outlet=null,h.attachRef=null)}onOutletDeactivated(){const l=this.contexts;return this.contexts=new Map,l}onOutletReAttached(l){this.contexts=l}getOrCreateContext(l){let h=this.getContext(l);return h||(h=new yn(this.rootInjector),this.contexts.set(l,h)),h}getContext(l){return this.contexts.get(l)||null}static \u0275fac=function(h){return new(h||C)(q.KVO(q.uvJ))};static \u0275prov=q.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Yi{_root;constructor(y){this._root=y}get root(){return this._root.value}parent(y){const l=this.pathFromRoot(y);return l.length>1?l[l.length-2]:null}children(y){const l=fo(y,this._root);return l?l.children.map(h=>h.value):[]}firstChild(y){const l=fo(y,this._root);return l&&l.children.length>0?l.children[0].value:null}siblings(y){const l=ks(y,this._root);return l.length<2?[]:l[l.length-2].children.map(m=>m.value).filter(m=>m!==y)}pathFromRoot(y){return ks(y,this._root).map(l=>l.value)}}function fo(C,y){if(C===y.value)return y;for(const l of y.children){const h=fo(C,l);if(h)return h}return null}function ks(C,y){if(C===y.value)return[y];for(const l of y.children){const h=ks(C,l);if(h.length)return h.unshift(y),h}return[]}class Zr{value;children;constructor(y,l){this.value=y,this.children=l}toString(){return`TreeNode(${this.value})`}}function rs(C){const y={};return C&&C.children.forEach(l=>y[l.value.outlet]=l),y}class _n extends Yi{snapshot;constructor(y,l){super(y),this.snapshot=l,os(this,y)}toString(){return this.snapshot.toString()}}function is(C){const y=function wo(C){const T=new Ro([],{},{},"",{},Tn,C,null,{});return new Es("",new Zr(T,[]))}(C),l=new xe.t([new di("",{})]),h=new xe.t({}),m=new xe.t({}),T=new xe.t({}),M=new xe.t(""),G=new So(l,h,T,M,m,Tn,C,y.root);return G.snapshot=y.root,new _n(new Zr(G,[]),y)}class So{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(y,l,h,m,T,M,G,Q){this.urlSubject=y,this.paramsSubject=l,this.queryParamsSubject=h,this.fragmentSubject=m,this.dataSubject=T,this.outlet=M,this.component=G,this._futureSnapshot=Q,this.title=this.dataSubject?.pipe((0,Ze.T)(Ie=>Ie[Pr]))??(0,fe.of)(void 0),this.url=y,this.params=l,this.queryParams=h,this.fragment=m,this.data=T}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Ze.T)(y=>Di(y))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Ze.T)(y=>Di(y))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qo(C,y,l="emptyOnly"){let h;const{routeConfig:m}=C;return h=null===y||"always"!==l&&""!==m?.path&&(y.component||y.routeConfig?.loadComponent)?{params:{...C.params},data:{...C.data},resolve:{...C.data,...C._resolvedData??{}}}:{params:{...y.params,...C.params},data:{...y.data,...C.data},resolve:{...C.data,...y.data,...m?.data,...C._resolvedData}},m&&Ho(m)&&(h.resolve[Pr]=m.title),h}class Ro{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Pr]}constructor(y,l,h,m,T,M,G,Q,Ie){this.url=y,this.params=l,this.queryParams=h,this.fragment=m,this.data=T,this.outlet=M,this.component=G,this.routeConfig=Q,this._resolve=Ie}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Di(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Di(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(h=>h.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Es extends Yi{url;constructor(y,l){super(l),this.url=y,os(this,l)}toString(){return kr(this._root)}}function os(C,y){y.value._routerState=C,y.children.forEach(l=>os(C,l))}function kr(C){const y=C.children.length>0?` { ${C.children.map(kr).join(", ")} } `:"";return`${C.value}${y}`}function $o(C){if(C.snapshot){const y=C.snapshot,l=C._futureSnapshot;C.snapshot=l,on(y.queryParams,l.queryParams)||C.queryParamsSubject.next(l.queryParams),y.fragment!==l.fragment&&C.fragmentSubject.next(l.fragment),on(y.params,l.params)||C.paramsSubject.next(l.params),function hr(C,y){if(C.length!==y.length)return!1;for(let l=0;l<C.length;++l)if(!on(C[l],y[l]))return!1;return!0}(y.url,l.url)||C.urlSubject.next(l.url),on(y.data,l.data)||C.dataSubject.next(l.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function po(C,y){const l=on(C.params,y.params)&&function dr(C,y){return Dn(C,y)&&C.every((l,h)=>on(l.parameters,y[h].parameters))}(C.url,y.url);return l&&!(!C.parent!=!y.parent)&&(!C.parent||po(C.parent,y.parent))}function Ho(C){return"string"==typeof C.title||null===C.title}const ws=new q.nKC("");let zr=(()=>{class C{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Tn;activateEvents=new q.bkB;deactivateEvents=new q.bkB;attachEvents=new q.bkB;detachEvents=new q.bkB;routerOutletData=(0,q.hFB)(void 0);parentContexts=(0,q.WQX)(Un);location=(0,q.WQX)(q.c1b);changeDetector=(0,q.WQX)(q.gRc);inputBinder=(0,q.WQX)(qr,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(l){if(l.name){const{firstChange:h,previousValue:m}=l.name;if(h)return;this.isTrackedInParentContexts(m)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(m)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(l){return this.parentContexts.getContext(l)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const l=this.parentContexts.getContext(this.name);l?.route&&(l.attachRef?this.attach(l.attachRef,l.route):this.activateWith(l.route,l.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q.wOt(4012,!1);this.location.detach();const l=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(l.instance),l}attach(l,h){this.activated=l,this._activatedRoute=h,this.location.insert(l.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(l.instance)}deactivate(){if(this.activated){const l=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(l)}}activateWith(l,h){if(this.isActivated)throw new q.wOt(4013,!1);this._activatedRoute=l;const m=this.location,M=l.snapshot.component,G=this.parentContexts.getOrCreateContext(this.name).children,Q=new ao(l,G,m.injector,this.routerOutletData);this.activated=m.createComponent(M,{index:m.length,injector:Q,environmentInjector:h}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(h){return new(h||C)};static \u0275dir=q.FsC({type:C,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[q.OA$]})}return C})();class ao{route;childContexts;parent;outletData;constructor(y,l,h,m){this.route=y,this.childContexts=l,this.parent=h,this.outletData=m}get(y,l){return y===So?this.route:y===Un?this.childContexts:y===ws?this.outletData:this.parent.get(y,l)}}const qr=new q.nKC("");let Qr=(()=>{class C{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(l){this.unsubscribeFromRouteData(l),this.subscribeToRouteData(l)}unsubscribeFromRouteData(l){this.outletDataSubscriptions.get(l)?.unsubscribe(),this.outletDataSubscriptions.delete(l)}subscribeToRouteData(l){const{activatedRoute:h}=l,m=Ft([h.queryParams,h.params,h.data]).pipe((0,en.n)(([T,M,G],Q)=>(G={...T,...M,...G},0===Q?(0,fe.of)(G):Promise.resolve(G)))).subscribe(T=>{if(!l.isActivated||!l.activatedComponentRef||l.activatedRoute!==h||null===h.component)return void this.unsubscribeFromRouteData(l);const M=(0,q.HJs)(h.component);if(M)for(const{templateName:G}of M.inputs)l.activatedComponentRef.setInput(G,T[G]);else this.unsubscribeFromRouteData(l)});this.outletDataSubscriptions.set(l,m)}static \u0275fac=function(h){return new(h||C)};static \u0275prov=q.jDH({token:C,factory:C.\u0275fac})}return C})(),Is=(()=>{class C{static \u0275fac=function(h){return new(h||C)};static \u0275cmp=q.VBU({type:C,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(h,m){1&h&&q.nrm(0,"router-outlet")},dependencies:[zr],encapsulation:2})}return C})();function Po(C){const y=C.children&&C.children.map(Po),l=y?{...C,children:y}:{...C};return!l.component&&!l.loadComponent&&(y||l.loadChildren)&&l.outlet&&l.outlet!==Tn&&(l.component=Is),l}function us(C,y,l){if(l&&C.shouldReuseRoute(y.value,l.value.snapshot)){const h=l.value;h._futureSnapshot=y.value;const m=function Io(C,y,l){return y.children.map(h=>{for(const m of l.children)if(C.shouldReuseRoute(h.value,m.value.snapshot))return us(C,h,m);return us(C,h)})}(C,y,l);return new Zr(h,m)}{if(C.shouldAttach(y.value)){const T=C.retrieve(y.value);if(null!==T){const M=T.route;return M.value._futureSnapshot=y.value,M.children=y.children.map(G=>us(C,G)),M}}const h=function Vi(C){return new So(new xe.t(C.url),new xe.t(C.params),new xe.t(C.queryParams),new xe.t(C.fragment),new xe.t(C.data),C.outlet,C.component,C)}(y.value),m=y.children.map(T=>us(C,T));return new Zr(h,m)}}class Hs{redirectTo;navigationBehaviorOptions;constructor(y,l){this.redirectTo=y,this.navigationBehaviorOptions=l}}const No="ngNavigationCancelingError";function xr(C,y){const{redirectTo:l,navigationBehaviorOptions:h}=It(y)?{redirectTo:y,navigationBehaviorOptions:void 0}:y,m=_r(!1,Cr.Redirect);return m.url=l,m.navigationBehaviorOptions=h,m}function _r(C,y){const l=new Error(`NavigationCancelingError: ${C||""}`);return l[No]=!0,l.cancellationCode=y,l}function ra(C){return!!C&&C[No]}class Vo{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(y,l,h,m,T){this.routeReuseStrategy=y,this.futureState=l,this.currState=h,this.forwardEvent=m,this.inputBindingEnabled=T}activate(y){const l=this.futureState._root,h=this.currState?this.currState._root:null;this.deactivateChildRoutes(l,h,y),$o(this.futureState.root),this.activateChildRoutes(l,h,y)}deactivateChildRoutes(y,l,h){const m=rs(l);y.children.forEach(T=>{const M=T.value.outlet;this.deactivateRoutes(T,m[M],h),delete m[M]}),Object.values(m).forEach(T=>{this.deactivateRouteAndItsChildren(T,h)})}deactivateRoutes(y,l,h){const m=y.value,T=l?l.value:null;if(m===T)if(m.component){const M=h.getContext(m.outlet);M&&this.deactivateChildRoutes(y,l,M.children)}else this.deactivateChildRoutes(y,l,h);else T&&this.deactivateRouteAndItsChildren(l,h)}deactivateRouteAndItsChildren(y,l){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,l):this.deactivateRouteAndOutlet(y,l)}detachAndStoreRouteSubtree(y,l){const h=l.getContext(y.value.outlet),m=h&&y.value.component?h.children:l,T=rs(y);for(const M of Object.values(T))this.deactivateRouteAndItsChildren(M,m);if(h&&h.outlet){const M=h.outlet.detach(),G=h.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:M,route:y,contexts:G})}}deactivateRouteAndOutlet(y,l){const h=l.getContext(y.value.outlet),m=h&&y.value.component?h.children:l,T=rs(y);for(const M of Object.values(T))this.deactivateRouteAndItsChildren(M,m);h&&(h.outlet&&(h.outlet.deactivate(),h.children.onOutletDeactivated()),h.attachRef=null,h.route=null)}activateChildRoutes(y,l,h){const m=rs(l);y.children.forEach(T=>{this.activateRoutes(T,m[T.value.outlet],h),this.forwardEvent(new Kr(T.value.snapshot))}),y.children.length&&this.forwardEvent(new ri(y.value.snapshot))}activateRoutes(y,l,h){const m=y.value,T=l?l.value:null;if($o(m),m===T)if(m.component){const M=h.getOrCreateContext(m.outlet);this.activateChildRoutes(y,l,M.children)}else this.activateChildRoutes(y,l,h);else if(m.component){const M=h.getOrCreateContext(m.outlet);if(this.routeReuseStrategy.shouldAttach(m.snapshot)){const G=this.routeReuseStrategy.retrieve(m.snapshot);this.routeReuseStrategy.store(m.snapshot,null),M.children.onOutletReAttached(G.contexts),M.attachRef=G.componentRef,M.route=G.route.value,M.outlet&&M.outlet.attach(G.componentRef,G.route.value),$o(G.route.value),this.activateChildRoutes(y,null,M.children)}else M.attachRef=null,M.route=m,M.outlet&&M.outlet.activateWith(m,M.injector),this.activateChildRoutes(y,null,M.children)}else this.activateChildRoutes(y,null,h)}}class vr{path;route;constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class W{component;route;constructor(y,l){this.component=y,this.route=l}}function z(C,y,l){const h=C._root;return rt(h,y?y._root:null,l,[h.value])}function Se(C,y){const l=Symbol(),h=y.get(C,l);return h===l?"function"!=typeof C||(0,q.LfX)(C)?y.get(C):C:h}function rt(C,y,l,h,m={canDeactivateChecks:[],canActivateChecks:[]}){const T=rs(y);return C.children.forEach(M=>{(function Pt(C,y,l,h,m={canDeactivateChecks:[],canActivateChecks:[]}){const T=C.value,M=y?y.value:null,G=l?l.getContext(C.value.outlet):null;if(M&&T.routeConfig===M.routeConfig){const Q=function Gt(C,y,l){if("function"==typeof l)return l(C,y);switch(l){case"pathParamsChange":return!Dn(C.url,y.url);case"pathParamsOrQueryParamsChange":return!Dn(C.url,y.url)||!on(C.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!po(C,y)||!on(C.queryParams,y.queryParams);default:return!po(C,y)}}(M,T,T.routeConfig.runGuardsAndResolvers);Q?m.canActivateChecks.push(new vr(h)):(T.data=M.data,T._resolvedData=M._resolvedData),rt(C,y,T.component?G?G.children:null:l,h,m),Q&&G&&G.outlet&&G.outlet.isActivated&&m.canDeactivateChecks.push(new W(G.outlet.component,M))}else M&&In(y,G,m),m.canActivateChecks.push(new vr(h)),rt(C,null,T.component?G?G.children:null:l,h,m)})(M,T[M.value.outlet],l,h.concat([M.value]),m),delete T[M.value.outlet]}),Object.entries(T).forEach(([M,G])=>In(G,l.getContext(M),m)),m}function In(C,y,l){const h=rs(C),m=C.value;Object.entries(h).forEach(([T,M])=>{In(M,m.component?y?y.children.getContext(T):null:y,l)}),l.canDeactivateChecks.push(new W(m.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,m))}function fn(C){return"function"==typeof C}function Ci(C){return C instanceof _t.G||"EmptyError"===C?.name}const Yr=Symbol("INITIAL_VALUE");function ki(){return(0,en.n)(C=>Ft(C.map(y=>y.pipe(Rt(1),function We(...C){const y=(0,He.lI)(C);return(0,Rn.N)((l,h)=>{(y?nt(C,l,y):nt(C,l)).subscribe(h)})}(Yr)))).pipe((0,Ze.T)(y=>{for(const l of y)if(!0!==l){if(l===Yr)return Yr;if(!1===l||co(l))return l}return!0}),(0,Y.p)(y=>y!==Yr),Rt(1)))}function co(C){return It(C)||C instanceof Hs}function zs(C){return(0,Wt.F)(gt(y=>{if("boolean"!=typeof y)throw xr(0,y)}),(0,Ze.T)(y=>!0===y))}class Fa{segmentGroup;constructor(y){this.segmentGroup=y||null}}class da extends Error{urlTree;constructor(y){super(),this.urlTree=y}}function Ws(C){return Et(new Fa(C))}class ai{urlSerializer;urlTree;constructor(y,l){this.urlSerializer=y,this.urlTree=l}lineralizeSegments(y,l){let h=[],m=l.root;for(;;){if(h=h.concat(m.segments),0===m.numberOfChildren)return(0,fe.of)(h);if(m.numberOfChildren>1||!m.children[Tn])return Et(new q.wOt(4e3,!1));m=m.children[Tn]}}applyRedirectCommands(y,l,h,m,T){if("string"!=typeof l){const G=l,{queryParams:Q,fragment:Ie,routeConfig:Ge,url:jt,outlet:un,params:ar,data:Fn,title:Bn}=m,Qn=(0,q.N4e)(T,()=>G({params:ar,data:Fn,queryParams:Q,fragment:Ie,routeConfig:Ge,url:jt,outlet:un,title:Bn}));if(Qn instanceof lr)throw new da(Qn);l=Qn}const M=this.applyRedirectCreateUrlTree(l,this.urlSerializer.parse(l),y,h);if("/"===l[0])throw new da(M);return M}applyRedirectCreateUrlTree(y,l,h,m){const T=this.createSegmentGroup(y,l.root,h,m);return new lr(T,this.createQueryParams(l.queryParams,this.urlTree.queryParams),l.fragment)}createQueryParams(y,l){const h={};return Object.entries(y).forEach(([m,T])=>{if("string"==typeof T&&":"===T[0]){const G=T.substring(1);h[m]=l[G]}else h[m]=T}),h}createSegmentGroup(y,l,h,m){const T=this.createSegments(y,l.segments,h,m);let M={};return Object.entries(l.children).forEach(([G,Q])=>{M[G]=this.createSegmentGroup(y,Q,h,m)}),new sr(T,M)}createSegments(y,l,h,m){return l.map(T=>":"===T.path[0]?this.findPosParam(y,T,m):this.findOrReturn(T,h))}findPosParam(y,l,h){const m=h[l.path.substring(1)];if(!m)throw new q.wOt(4001,!1);return m}findOrReturn(y,l){let h=0;for(const m of l){if(m.path===y.path)return l.splice(h),m;h++}return y}}const ko={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fs(C,y,l,h,m){const T=Gs(C,y,l);return T.matched?(h=function hi(C,y){return C.providers&&!C._injector&&(C._injector=(0,q.Ol2)(C.providers,y,`Route: ${C.path}`)),C._injector??y}(y,h),function ds(C,y,l,h){const m=y.canMatch;if(!m||0===m.length)return(0,fe.of)(!0);const T=m.map(M=>{const G=Se(M,C);return wr(function Ui(C){return C&&fn(C.canMatch)}(G)?G.canMatch(y,l):(0,q.N4e)(C,()=>G(y,l)))});return(0,fe.of)(T).pipe(ki(),zs())}(h,y,l).pipe((0,Ze.T)(M=>!0===M?T:{...ko}))):(0,fe.of)(T)}function Gs(C,y,l){if("**"===y.path)return function Ks(C){return{matched:!0,parameters:C.length>0?ut(C).parameters:{},consumedSegments:C,remainingSegments:[],positionalParamSegments:{}}}(l);if(""===y.path)return"full"===y.pathMatch&&(C.hasChildren()||l.length>0)?{...ko}:{matched:!0,consumedSegments:[],remainingSegments:l,parameters:{},positionalParamSegments:{}};const m=(y.matcher||hn)(l,C,y);if(!m)return{...ko};const T={};Object.entries(m.posParams??{}).forEach(([G,Q])=>{T[G]=Q.path});const M=m.consumed.length>0?{...T,...m.consumed[m.consumed.length-1].parameters}:T;return{matched:!0,consumedSegments:m.consumed,remainingSegments:l.slice(m.consumed.length),parameters:M,positionalParamSegments:m.posParams??{}}}function wi(C,y,l,h){return l.length>0&&function Vr(C,y,l){return l.some(h=>qs(C,y,h)&&Pe(h)!==Tn)}(C,l,h)?{segmentGroup:new sr(y,$r(h,new sr(l,C.children))),slicedSegments:[]}:0===l.length&&function Da(C,y,l){return l.some(h=>qs(C,y,h))}(C,l,h)?{segmentGroup:new sr(C.segments,ha(C,l,h,C.children)),slicedSegments:l}:{segmentGroup:new sr(C.segments,C.children),slicedSegments:l}}function ha(C,y,l,h){const m={};for(const T of l)if(qs(C,y,T)&&!h[Pe(T)]){const M=new sr([],{});m[Pe(T)]=M}return{...h,...m}}function $r(C,y){const l={};l[Tn]=y;for(const h of C)if(""===h.path&&Pe(h)!==Tn){const m=new sr([],{});l[Pe(h)]=m}return l}function qs(C,y,l){return(!(C.hasChildren()||y.length>0)||"full"!==l.pathMatch)&&""===l.path}class Aa{}class Va{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(y,l,h,m,T,M,G){this.injector=y,this.configLoader=l,this.rootComponentType=h,this.config=m,this.urlTree=T,this.paramsInheritanceStrategy=M,this.urlSerializer=G,this.applyRedirects=new ai(this.urlSerializer,this.urlTree)}noMatchError(y){return new q.wOt(4002,`'${y.segmentGroup}'`)}recognize(){const y=wi(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(y).pipe((0,Ze.T)(({children:l,rootSnapshot:h})=>{const m=new Zr(h,l),T=new Es("",m),M=function ie(C,y,l=null,h=null){return Oe(_e(C),y,l,h)}(h,[],this.urlTree.queryParams,this.urlTree.fragment);return M.queryParams=this.urlTree.queryParams,T.url=this.urlSerializer.serialize(M),{state:T,tree:M}}))}match(y){const l=new Ro([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Tn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,y,Tn,l).pipe((0,Ze.T)(h=>({children:h,rootSnapshot:l})),(0,rn.W)(h=>{if(h instanceof da)return this.urlTree=h.urlTree,this.match(h.urlTree.root);throw h instanceof Fa?this.noMatchError(h):h}))}processSegmentGroup(y,l,h,m,T){return 0===h.segments.length&&h.hasChildren()?this.processChildren(y,l,h,T):this.processSegment(y,l,h,h.segments,m,!0,T).pipe((0,Ze.T)(M=>M instanceof Zr?[M]:[]))}processChildren(y,l,h,m){const T=[];for(const M of Object.keys(h.children))"primary"===M?T.unshift(M):T.push(M);return(0,Ee.H)(T).pipe((0,Ke.H)(M=>{const G=h.children[M],Q=function ht(C,y){const l=C.filter(h=>Pe(h)===y);return l.push(...C.filter(h=>Pe(h)!==y)),l}(l,M);return this.processSegmentGroup(y,Q,G,M,m)}),function nr(C,y){return(0,Rn.N)(function Zt(C,y,l,h,m){return(T,M)=>{let G=l,Q=y,Ie=0;T.subscribe((0,At._)(M,Ge=>{const jt=Ie++;Q=G?C(Q,Ge,jt):(G=!0,Ge),h&&M.next(Q)},m&&(()=>{G&&M.next(Q),M.complete()})))}}(C,y,arguments.length>=2,!0))}((M,G)=>(M.push(...G),M)),le(null),function Zn(C,y){const l=arguments.length>=2;return h=>h.pipe(C?(0,Y.p)((m,T)=>C(m,T,h)):pe.D,zt(1),l?le(y):ge(()=>new _t.G))}(),(0,ue.Z)(M=>{if(null===M)return Ws(h);const G=Jt(M);return function Wo(C){C.sort((y,l)=>y.value.outlet===Tn?-1:l.value.outlet===Tn?1:y.value.outlet.localeCompare(l.value.outlet))}(G),(0,fe.of)(G)}))}processSegment(y,l,h,m,T,M,G){return(0,Ee.H)(l).pipe((0,Ke.H)(Q=>this.processSegmentAgainstRoute(Q._injector??y,l,Q,h,m,T,M,G).pipe((0,rn.W)(Ie=>{if(Ie instanceof Fa)return(0,fe.of)(null);throw Ie}))),de(Q=>!!Q),(0,rn.W)(Q=>{if(Ci(Q))return function Qa(C,y,l){return 0===y.length&&!C.children[l]}(h,m,T)?(0,fe.of)(new Aa):Ws(h);throw Q}))}processSegmentAgainstRoute(y,l,h,m,T,M,G,Q){return Pe(h)===M||M!==Tn&&qs(m,T,h)?void 0===h.redirectTo?this.matchSegmentAgainstRoute(y,m,h,T,M,Q):this.allowRedirects&&G?this.expandSegmentAgainstRouteUsingRedirect(y,m,l,h,T,M,Q):Ws(m):Ws(m)}expandSegmentAgainstRouteUsingRedirect(y,l,h,m,T,M,G){const{matched:Q,parameters:Ie,consumedSegments:Ge,positionalParamSegments:jt,remainingSegments:un}=Gs(l,m,T);if(!Q)return Ws(l);"string"==typeof m.redirectTo&&"/"===m.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const ar=new Ro(T,Ie,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ci(m),Pe(m),m.component??m._loadedComponent??null,m,Uo(m)),Fn=qo(ar,G,this.paramsInheritanceStrategy);ar.params=Object.freeze(Fn.params),ar.data=Object.freeze(Fn.data);const Bn=this.applyRedirects.applyRedirectCommands(Ge,m.redirectTo,jt,ar,y);return this.applyRedirects.lineralizeSegments(m,Bn).pipe((0,ue.Z)(Qn=>this.processSegment(y,h,l,Qn.concat(un),M,!1,G)))}matchSegmentAgainstRoute(y,l,h,m,T,M){const G=Fs(l,h,m,y);return"**"===h.path&&(l.children={}),G.pipe((0,en.n)(Q=>Q.matched?this.getChildConfig(y=h._injector??y,h,m).pipe((0,en.n)(({routes:Ie})=>{const Ge=h._loadedInjector??y,{parameters:jt,consumedSegments:un,remainingSegments:ar}=Q,Fn=new Ro(un,jt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ci(h),Pe(h),h.component??h._loadedComponent??null,h,Uo(h)),Bn=qo(Fn,M,this.paramsInheritanceStrategy);Fn.params=Object.freeze(Bn.params),Fn.data=Object.freeze(Bn.data);const{segmentGroup:Qn,slicedSegments:Pi}=wi(l,un,ar,Ie);if(0===Pi.length&&Qn.hasChildren())return this.processChildren(Ge,Ie,Qn,Fn).pipe((0,Ze.T)(mo=>new Zr(Fn,mo)));if(0===Ie.length&&0===Pi.length)return(0,fe.of)(new Zr(Fn,[]));const Ki=Pe(h)===T;return this.processSegment(Ge,Ie,Qn,Pi,Ki?Tn:T,!0,Fn).pipe((0,Ze.T)(mo=>new Zr(Fn,mo instanceof Zr?[mo]:[])))})):Ws(l)))}getChildConfig(y,l,h){return l.children?(0,fe.of)({routes:l.children,injector:y}):l.loadChildren?void 0!==l._loadedRoutes?(0,fe.of)({routes:l._loadedRoutes,injector:l._loadedInjector}):function ba(C,y,l,h){const m=y.canLoad;if(void 0===m||0===m.length)return(0,fe.of)(!0);const T=m.map(M=>{const G=Se(M,C);return wr(function Yn(C){return C&&fn(C.canLoad)}(G)?G.canLoad(y,l):(0,q.N4e)(C,()=>G(y,l)))});return(0,fe.of)(T).pipe(ki(),zs())}(y,l,h).pipe((0,ue.Z)(m=>m?this.configLoader.loadChildren(y,l).pipe(gt(T=>{l._loadedRoutes=T.routes,l._loadedInjector=T.injector})):function Os(){return Et(_r(!1,Cr.GuardRejected))}())):(0,fe.of)({routes:[],injector:y})}}function Wr(C){const y=C.value.routeConfig;return y&&""===y.path}function Jt(C){const y=[],l=new Set;for(const h of C){if(!Wr(h)){y.push(h);continue}const m=y.find(T=>h.value.routeConfig===T.value.routeConfig);void 0!==m?(m.children.push(...h.children),l.add(m)):y.push(h)}for(const h of l){const m=Jt(h.children);y.push(new Zr(h.value,m))}return y.filter(h=>!l.has(h))}function ci(C){return C.data||{}}function Uo(C){return C.resolve||{}}function Qo(C){const y=C.children.map(l=>Qo(l)).flat();return[C,...y]}function j(C){return(0,en.n)(y=>{const l=C(y);return l?(0,Ee.H)(l).pipe((0,Ze.T)(()=>y)):(0,fe.of)(y)})}let De=(()=>{class C{buildTitle(l){let h,m=l.root;for(;void 0!==m;)h=this.getResolvedTitleForRoute(m)??h,m=m.children.find(T=>T.outlet===Tn);return h}getResolvedTitleForRoute(l){return l.data[Pr]}static \u0275fac=function(h){return new(h||C)};static \u0275prov=q.jDH({token:C,factory:()=>(0,q.WQX)(Nt),providedIn:"root"})}return C})(),Nt=(()=>{class C extends De{title;constructor(l){super(),this.title=l}updateTitle(l){const h=this.buildTitle(l);void 0!==h&&this.title.setTitle(h)}static \u0275fac=function(h){return new(h||C)(q.KVO(tr.hE))};static \u0275prov=q.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const An=new q.nKC("",{providedIn:"root",factory:()=>({})}),ur=new q.nKC("");let Bi=(()=>{class C{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,q.WQX)(q.Ql9);loadComponent(l){if(this.componentLoaders.get(l))return this.componentLoaders.get(l);if(l._loadedComponent)return(0,fe.of)(l._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(l);const h=wr(l.loadComponent()).pipe((0,Ze.T)(Qs),gt(T=>{this.onLoadEndListener&&this.onLoadEndListener(l),l._loadedComponent=T}),(0,Hn.j)(()=>{this.componentLoaders.delete(l)})),m=new dt(h,()=>new vn.B).pipe(Kn());return this.componentLoaders.set(l,m),m}loadChildren(l,h){if(this.childrenLoaders.get(h))return this.childrenLoaders.get(h);if(h._loadedRoutes)return(0,fe.of)({routes:h._loadedRoutes,injector:h._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(h);const T=function Gi(C,y,l,h){return wr(C.loadChildren()).pipe((0,Ze.T)(Qs),(0,ue.Z)(m=>m instanceof q.Co$||Array.isArray(m)?(0,fe.of)(m):(0,Ee.H)(y.compileModuleAsync(m))),(0,Ze.T)(m=>{h&&h(C);let T,M,G=!1;return Array.isArray(m)?(M=m,!0):(T=m.create(l).injector,M=T.get(ur,[],{optional:!0,self:!0}).flat()),{routes:M.map(Po),injector:T}}))}(h,this.compiler,l,this.onLoadEndListener).pipe((0,Hn.j)(()=>{this.childrenLoaders.delete(h)})),M=new dt(T,()=>new vn.B).pipe(Kn());return this.childrenLoaders.set(h,M),M}static \u0275fac=function(h){return new(h||C)};static \u0275prov=q.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Qs(C){return function bo(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let Ca=(()=>{class C{static \u0275fac=function(h){return new(h||C)};static \u0275prov=q.jDH({token:C,factory:()=>(0,q.WQX)(ss),providedIn:"root"})}return C})(),ss=(()=>{class C{shouldProcessUrl(l){return!0}extract(l){return l}merge(l,h){return l}static \u0275fac=function(h){return new(h||C)};static \u0275prov=q.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const Do=new q.nKC(""),hs=new q.nKC("");function as(C,y,l){const h=C.get(hs),m=C.get(b.q);return C.get(q.SKi).runOutsideAngular(()=>{if(!m.startViewTransition||h.skipNextTransition)return h.skipNextTransition=!1,new Promise(Ie=>setTimeout(Ie));let T;const M=new Promise(Ie=>{T=Ie}),G=m.startViewTransition(()=>(T(),function fa(C){return new Promise(y=>{(0,q.mal)({read:()=>setTimeout(y)},{injector:C})})}(C))),{onViewTransitionCreated:Q}=h;return Q&&(0,q.N4e)(C,()=>Q({transition:G,from:y,to:l})),M})}const Pn=new q.nKC("");let pa=(()=>{class C{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new vn.B;transitionAbortSubject=new vn.B;configLoader=(0,q.WQX)(Bi);environmentInjector=(0,q.WQX)(q.uvJ);destroyRef=(0,q.WQX)(q.abz);urlSerializer=(0,q.WQX)(Nr);rootContexts=(0,q.WQX)(Un);location=(0,q.WQX)(x.aZ);inputBindingEnabled=null!==(0,q.WQX)(qr,{optional:!0});titleStrategy=(0,q.WQX)(De);options=(0,q.WQX)(An,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,q.WQX)(Ca);createViewTransition=(0,q.WQX)(Do,{optional:!0});navigationErrorHandler=(0,q.WQX)(Pn,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,fe.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=m=>this.events.next(new sn(m)),this.configLoader.onLoadStartListener=m=>this.events.next(new Tt(m)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(l){const h=++this.navigationId;this.transitions?.next({...l,extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:h})}setupNavigations(l){return this.transitions=new xe.t(null),this.transitions.pipe((0,Y.p)(h=>null!==h),(0,en.n)(h=>{let m=!1,T=!1;return(0,fe.of)(h).pipe((0,en.n)(M=>{if(this.navigationId>h.id)return this.cancelNavigationTransition(h,"",Cr.SupersededByNewNavigation),st.w;this.currentTransition=h,this.currentNavigation={id:M.id,initialUrl:M.rawUrl,extractedUrl:M.extractedUrl,targetBrowserUrl:"string"==typeof M.extras.browserUrl?this.urlSerializer.parse(M.extras.browserUrl):M.extras.browserUrl,trigger:M.source,extras:M.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const G=!l.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!G&&"reload"!==(M.extras.onSameUrlNavigation??l.onSameUrlNavigation)){const Ie="";return this.events.next(new Lo(M.id,this.urlSerializer.serialize(M.rawUrl),Ie,so.IgnoredSameUrlNavigation)),M.resolve(!1),st.w}if(this.urlHandlingStrategy.shouldProcessUrl(M.rawUrl))return(0,fe.of)(M).pipe((0,en.n)(Ie=>(this.events.next(new jr(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),Ie.source,Ie.restoredState)),Ie.id!==this.navigationId?st.w:Promise.resolve(Ie))),function Wi(C,y,l,h,m,T){return(0,ue.Z)(M=>function Xa(C,y,l,h,m,T,M="emptyOnly"){return new Va(C,y,l,h,m,M,T).recognize()}(C,y,l,h,M.extractedUrl,m,T).pipe((0,Ze.T)(({state:G,tree:Q})=>({...M,targetSnapshot:G,urlAfterRedirects:Q}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,l.config,this.urlSerializer,this.paramsInheritanceStrategy),gt(Ie=>{h.targetSnapshot=Ie.targetSnapshot,h.urlAfterRedirects=Ie.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ie.urlAfterRedirects};const Ge=new B(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot);this.events.next(Ge)}));if(G&&this.urlHandlingStrategy.shouldProcessUrl(M.currentRawUrl)){const{id:Ie,extractedUrl:Ge,source:jt,restoredState:un,extras:ar}=M,Fn=new jr(Ie,this.urlSerializer.serialize(Ge),jt,un);this.events.next(Fn);const Bn=is(this.rootComponentType).snapshot;return this.currentTransition=h={...M,targetSnapshot:Bn,urlAfterRedirects:Ge,extras:{...ar,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ge,(0,fe.of)(h)}{const Ie="";return this.events.next(new Lo(M.id,this.urlSerializer.serialize(M.extractedUrl),Ie,so.IgnoredByUrlHandlingStrategy)),M.resolve(!1),st.w}}),gt(M=>{const G=new he(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(G)}),(0,Ze.T)(M=>(this.currentTransition=h={...M,guards:z(M.targetSnapshot,M.currentSnapshot,this.rootContexts)},h)),function pi(C,y){return(0,ue.Z)(l=>{const{targetSnapshot:h,currentSnapshot:m,guards:{canActivateChecks:T,canDeactivateChecks:M}}=l;return 0===M.length&&0===T.length?(0,fe.of)({...l,guardsResult:!0}):function Si(C,y,l,h){return(0,Ee.H)(C).pipe((0,ue.Z)(m=>function la(C,y,l,h,m){const T=y&&y.routeConfig?y.routeConfig.canDeactivate:null;if(!T||0===T.length)return(0,fe.of)(!0);const M=T.map(G=>{const Q=Yt(y)??m,Ie=Se(G,Q);return wr(function fi(C){return C&&fn(C.canDeactivate)}(Ie)?Ie.canDeactivate(C,y,l,h):(0,q.N4e)(Q,()=>Ie(C,y,l,h))).pipe(de())});return(0,fe.of)(M).pipe(ki())}(m.component,m.route,l,y,h)),de(m=>!0!==m,!0))}(M,h,m,C).pipe((0,ue.Z)(G=>G&&function fr(C){return"boolean"==typeof C}(G)?function To(C,y,l,h){return(0,Ee.H)(y).pipe((0,Ke.H)(m=>nt(function go(C,y){return null!==C&&y&&y(new Nn(C)),(0,fe.of)(!0)}(m.route.parent,h),function Jr(C,y){return null!==C&&y&&y(new Gr(C)),(0,fe.of)(!0)}(m.route,h),function ls(C,y,l){const h=y[y.length-1],T=y.slice(0,y.length-1).reverse().map(M=>function we(C){const y=C.routeConfig?C.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:C,guards:y}:null}(M)).filter(M=>null!==M).map(M=>vt(()=>{const G=M.guards.map(Q=>{const Ie=Yt(M.node)??l,Ge=Se(Q,Ie);return wr(function yi(C){return C&&fn(C.canActivateChild)}(Ge)?Ge.canActivateChild(h,C):(0,q.N4e)(Ie,()=>Ge(h,C))).pipe(de())});return(0,fe.of)(G).pipe(ki())}));return(0,fe.of)(T).pipe(ki())}(C,m.path,l),function zo(C,y,l){const h=y.routeConfig?y.routeConfig.canActivate:null;if(!h||0===h.length)return(0,fe.of)(!0);const m=h.map(T=>vt(()=>{const M=Yt(y)??l,G=Se(T,M);return wr(function Lr(C){return C&&fn(C.canActivate)}(G)?G.canActivate(y,C):(0,q.N4e)(M,()=>G(y,C))).pipe(de())}));return(0,fe.of)(m).pipe(ki())}(C,m.route,l))),de(m=>!0!==m,!0))}(h,T,C,y):(0,fe.of)(G)),(0,Ze.T)(G=>({...l,guardsResult:G})))})}(this.environmentInjector,M=>this.events.next(M)),gt(M=>{if(h.guardsResult=M.guardsResult,M.guardsResult&&"boolean"!=typeof M.guardsResult)throw xr(0,M.guardsResult);const G=new K(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot,!!M.guardsResult);this.events.next(G)}),(0,Y.p)(M=>!!M.guardsResult||(this.cancelNavigationTransition(M,"",Cr.GuardRejected),!1)),j(M=>{if(0!==M.guards.canActivateChecks.length)return(0,fe.of)(M).pipe(gt(G=>{const Q=new ee(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(Q)}),(0,en.n)(G=>{let Q=!1;return(0,fe.of)(G).pipe(function Go(C,y){return(0,ue.Z)(l=>{const{targetSnapshot:h,guards:{canActivateChecks:m}}=l;if(!m.length)return(0,fe.of)(l);const T=new Set(m.map(Q=>Q.route)),M=new Set;for(const Q of T)if(!M.has(Q))for(const Ie of Qo(Q))M.add(Ie);let G=0;return(0,Ee.H)(M).pipe((0,Ke.H)(Q=>T.has(Q)?function ei(C,y,l,h){const m=C.routeConfig,T=C._resolve;return void 0!==m?.title&&!Ho(m)&&(T[Pr]=m.title),function P(C,y,l,h){const m=Qi(C);if(0===m.length)return(0,fe.of)({});const T={};return(0,Ee.H)(m).pipe((0,ue.Z)(M=>function N(C,y,l,h){const m=Yt(y)??h,T=Se(C,m);return wr(T.resolve?T.resolve(y,l):(0,q.N4e)(m,()=>T(y,l)))}(C[M],y,l,h).pipe(de(),gt(G=>{if(G instanceof Hs)throw xr(new Wn,G);T[M]=G}))),zt(1),(0,Ze.T)(()=>T),(0,rn.W)(M=>Ci(M)?st.w:Et(M)))}(T,C,y,h).pipe((0,Ze.T)(M=>(C._resolvedData=M,C.data=qo(C,C.parent,l).resolve,null)))}(Q,h,C,y):(Q.data=qo(Q,Q.parent,C).resolve,(0,fe.of)(void 0))),gt(()=>G++),zt(1),(0,ue.Z)(Q=>G===M.size?(0,fe.of)(l):st.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>Q=!0,complete:()=>{Q||this.cancelNavigationTransition(G,"",Cr.NoDataFromResolver)}}))}),gt(G=>{const Q=new Re(G.id,this.urlSerializer.serialize(G.extractedUrl),this.urlSerializer.serialize(G.urlAfterRedirects),G.targetSnapshot);this.events.next(Q)}))}),j(M=>{const G=Q=>{const Ie=[];Q.routeConfig?.loadComponent&&!Q.routeConfig._loadedComponent&&Ie.push(this.configLoader.loadComponent(Q.routeConfig).pipe(gt(Ge=>{Q.component=Ge}),(0,Ze.T)(()=>{})));for(const Ge of Q.children)Ie.push(...G(Ge));return Ie};return Ft(G(M.targetSnapshot.root)).pipe(le(null),Rt(1))}),j(()=>this.afterPreactivation()),(0,en.n)(()=>{const{currentSnapshot:M,targetSnapshot:G}=h,Q=this.createViewTransition?.(this.environmentInjector,M.root,G.root);return Q?(0,Ee.H)(Q).pipe((0,Ze.T)(()=>h)):(0,fe.of)(h)}),(0,Ze.T)(M=>{const G=function Mo(C,y,l){const h=us(C,y._root,l?l._root:void 0);return new _n(h,y)}(l.routeReuseStrategy,M.targetSnapshot,M.currentRouterState);return this.currentTransition=h={...M,targetRouterState:G},this.currentNavigation.targetRouterState=G,h}),gt(()=>{this.events.next(new xn)}),((C,y,l,h)=>(0,Ze.T)(m=>(new Vo(y,m.targetRouterState,m.currentRouterState,l,h).activate(C),m)))(this.rootContexts,l.routeReuseStrategy,M=>this.events.next(M),this.inputBindingEnabled),Rt(1),gt({next:M=>{m=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Co(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects))),this.titleStrategy?.updateTitle(M.targetRouterState.snapshot),M.resolve(!0)},complete:()=>{m=!0}}),function On(C){return(0,Rn.N)((y,l)=>{(0,Xe.Tg)(C).subscribe((0,At._)(l,()=>l.complete(),qt.l)),!l.closed&&y.subscribe(l)})}(this.transitionAbortSubject.pipe(gt(M=>{throw M}))),(0,Hn.j)(()=>{!m&&!T&&this.cancelNavigationTransition(h,"",Cr.SupersededByNewNavigation),this.currentTransition?.id===h.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,rn.W)(M=>{if(this.destroyed)return h.resolve(!1),st.w;if(T=!0,ra(M))this.events.next(new Hi(h.id,this.urlSerializer.serialize(h.extractedUrl),M.message,M.cancellationCode)),function Ji(C){return ra(C)&&It(C.url)}(M)?this.events.next(new yr(M.url,M.navigationBehaviorOptions)):h.resolve(!1);else{const G=new ro(h.id,this.urlSerializer.serialize(h.extractedUrl),M,h.targetSnapshot??void 0);try{const Q=(0,q.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(G));if(!(Q instanceof Hs))throw this.events.next(G),M;{const{message:Ie,cancellationCode:Ge}=xr(0,Q);this.events.next(new Hi(h.id,this.urlSerializer.serialize(h.extractedUrl),Ie,Ge)),this.events.next(new yr(Q.redirectTo,Q.navigationBehaviorOptions))}}catch(Q){this.options.resolveNavigationPromiseOnError?h.resolve(!1):h.reject(Q)}}return st.w}))}))}cancelNavigationTransition(l,h,m){const T=new Hi(l.id,this.urlSerializer.serialize(l.extractedUrl),h,m);this.events.next(T),l.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const l=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),h=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return l.toString()!==h?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(h){return new(h||C)};static \u0275prov=q.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Cs(C){return C!==kn}let fs=(()=>{class C{static \u0275fac=function(h){return new(h||C)};static \u0275prov=q.jDH({token:C,factory:()=>(0,q.WQX)(Sa),providedIn:"root"})}return C})();class ga{shouldDetach(y){return!1}store(y,l){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,l){return y.routeConfig===l.routeConfig}}let Sa=(()=>{class C extends ga{static \u0275fac=(()=>{let l;return function(m){return(l||(l=q.xGo(C)))(m||C)}})();static \u0275prov=q.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),ji=(()=>{class C{urlSerializer=(0,q.WQX)(Nr);options=(0,q.WQX)(An,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,q.WQX)(x.aZ);urlHandlingStrategy=(0,q.WQX)(Ca);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new lr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:l,initialUrl:h,targetBrowserUrl:m}){const T=void 0!==l?this.urlHandlingStrategy.merge(l,h):h,M=m??T;return M instanceof lr?this.urlSerializer.serialize(M):M}commitTransition({targetRouterState:l,finalUrl:h,initialUrl:m}){h&&l?(this.currentUrlTree=h,this.rawUrlTree=this.urlHandlingStrategy.merge(h,m),this.routerState=l):this.rawUrlTree=m}routerState=is(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:l}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,l??this.rawUrlTree)}static \u0275fac=function(h){return new(h||C)};static \u0275prov=q.jDH({token:C,factory:()=>(0,q.WQX)($i),providedIn:"root"})}return C})(),$i=(()=>{class C extends ji{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(l){return this.location.subscribe(h=>{"popstate"===h.type&&setTimeout(()=>{l(h.url,h.state,"popstate")})})}handleRouterEvent(l,h){l instanceof jr?this.updateStateMemento():l instanceof Lo?this.commitTransition(h):l instanceof B?"eager"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(h),h)):l instanceof xn?(this.commitTransition(h),"deferred"===this.urlUpdateStrategy&&!h.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(h),h)):l instanceof Hi&&(l.code===Cr.GuardRejected||l.code===Cr.NoDataFromResolver)?this.restoreHistory(h):l instanceof ro?this.restoreHistory(h,!0):l instanceof Co&&(this.lastSuccessfulId=l.id,this.currentPageId=this.browserPageId)}setBrowserUrl(l,{extras:h,id:m}){const{replaceUrl:T,state:M}=h;if(this.location.isCurrentPathEqualTo(l)||T){const G=this.browserPageId,Q={...M,...this.generateNgRouterState(m,G)};this.location.replaceState(l,"",Q)}else{const G={...M,...this.generateNgRouterState(m,this.browserPageId+1)};this.location.go(l,"",G)}}restoreHistory(l,h=!1){if("computed"===this.canceledNavigationResolution){const T=this.currentPageId-this.browserPageId;0!==T?this.location.historyGo(T):this.getCurrentUrlTree()===l.finalUrl&&0===T&&(this.resetInternalState(l),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(h&&this.resetInternalState(l),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(l,h){return"computed"===this.canceledNavigationResolution?{navigationId:l,\u0275routerPageId:h}:{navigationId:l}}static \u0275fac=(()=>{let l;return function(m){return(l||(l=q.xGo(C)))(m||C)}})();static \u0275prov=q.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function Ri(C,y){C.events.pipe((0,Y.p)(l=>l instanceof Co||l instanceof Hi||l instanceof ro||l instanceof Lo),(0,Ze.T)(l=>l instanceof Co||l instanceof Lo?0:l instanceof Hi&&(l.code===Cr.Redirect||l.code===Cr.SupersededByNewNavigation)?2:1),(0,Y.p)(l=>2!==l),Rt(1)).subscribe(()=>{y()})}const Fc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Za=(()=>{class C{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,q.WQX)(q.H3F);stateManager=(0,q.WQX)(ji);options=(0,q.WQX)(An,{optional:!0})||{};pendingTasks=(0,q.WQX)(q.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,q.WQX)(pa);urlSerializer=(0,q.WQX)(Nr);location=(0,q.WQX)(x.aZ);urlHandlingStrategy=(0,q.WQX)(Ca);_events=new vn.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,q.WQX)(fs);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,q.WQX)(ur,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,q.WQX)(qr,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:l=>{this.console.warn(l)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ln.yU;subscribeToNavigationEvents(){const l=this.navigationTransitions.events.subscribe(h=>{try{const m=this.navigationTransitions.currentTransition,T=this.navigationTransitions.currentNavigation;if(null!==m&&null!==T)if(this.stateManager.handleRouterEvent(h,T),h instanceof Hi&&h.code!==Cr.Redirect&&h.code!==Cr.SupersededByNewNavigation)this.navigated=!0;else if(h instanceof Co)this.navigated=!0;else if(h instanceof yr){const M=h.navigationBehaviorOptions,G=this.urlHandlingStrategy.merge(h.url,m.currentRawUrl),Q={browserUrl:m.extras.browserUrl,info:m.extras.info,skipLocationChange:m.extras.skipLocationChange,replaceUrl:m.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Cs(m.source),...M};this.scheduleNavigation(G,kn,null,Q,{resolve:m.resolve,reject:m.reject,promise:m.promise})}(function Ls(C){return!(C instanceof xn||C instanceof yr)})(h)&&this._events.next(h)}catch(m){this.navigationTransitions.transitionAbortSubject.next(m)}});this.eventsSubscription.add(l)}resetRootComponentType(l){this.routerState.root.component=l,this.navigationTransitions.rootComponentType=l}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),kn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((l,h,m)=>{this.navigateToSyncWithBrowser(l,m,h)})}navigateToSyncWithBrowser(l,h,m){const T={replaceUrl:!0},M=m?.navigationId?m:null;if(m){const Q={...m};delete Q.navigationId,delete Q.\u0275routerPageId,0!==Object.keys(Q).length&&(T.state=Q)}const G=this.parseUrl(l);this.scheduleNavigation(G,h,M,T)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(l){this.config=l.map(Po),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(l,h={}){const{relativeTo:m,queryParams:T,fragment:M,queryParamsHandling:G,preserveFragment:Q}=h,Ie=Q?this.currentUrlTree.fragment:M;let jt,Ge=null;switch(G??this.options.defaultQueryParamsHandling){case"merge":Ge={...this.currentUrlTree.queryParams,...T};break;case"preserve":Ge=this.currentUrlTree.queryParams;break;default:Ge=T||null}null!==Ge&&(Ge=this.removeEmptyProps(Ge));try{jt=_e(m?m.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof l[0]||"/"!==l[0][0])&&(l=[]),jt=this.currentUrlTree.root}return Oe(jt,l,Ge,Ie??null)}navigateByUrl(l,h={skipLocationChange:!1}){const m=It(l)?l:this.parseUrl(l),T=this.urlHandlingStrategy.merge(m,this.rawUrlTree);return this.scheduleNavigation(T,kn,null,h)}navigate(l,h={skipLocationChange:!1}){return function Ko(C){for(let y=0;y<C.length;y++)if(null==C[y])throw new q.wOt(4008,!1)}(l),this.navigateByUrl(this.createUrlTree(l,h),h)}serializeUrl(l){return this.urlSerializer.serialize(l)}parseUrl(l){try{return this.urlSerializer.parse(l)}catch{return this.urlSerializer.parse("/")}}isActive(l,h){let m;if(m=!0===h?{...Fc}:!1===h?{...eo}:h,It(l))return ti(this.currentUrlTree,l,m);const T=this.parseUrl(l);return ti(this.currentUrlTree,T,m)}removeEmptyProps(l){return Object.entries(l).reduce((h,[m,T])=>(null!=T&&(h[m]=T),h),{})}scheduleNavigation(l,h,m,T,M){if(this.disposed)return Promise.resolve(!1);let G,Q,Ie;M?(G=M.resolve,Q=M.reject,Ie=M.promise):Ie=new Promise((jt,un)=>{G=jt,Q=un});const Ge=this.pendingTasks.add();return Ri(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ge))}),this.navigationTransitions.handleNavigationRequest({source:h,restoredState:m,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:l,extras:T,resolve:G,reject:Q,promise:Ie,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ie.catch(jt=>Promise.reject(jt))}static \u0275fac=function(h){return new(h||C)};static \u0275prov=q.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},5196:(En,je,U)=>{"use strict";U.d(je,{C:()=>q,U:()=>I});var b=U(1635),x=U(8071);function q(Ce){return(0,b.AQ)(this,arguments,function*(){const Ee=Ce.getReader();try{for(;;){const{value:fe,done:xe}=yield(0,b.N3)(Ee.read());if(xe)return yield(0,b.N3)(void 0);yield yield(0,b.N3)(fe)}}finally{Ee.releaseLock()}})}function I(Ce){return(0,x.T)(Ce?.getReader)}},5207:(En,je,U)=>{"use strict";U.d(je,{Wk:()=>Vn,iI:()=>Kr,lh:()=>Lt});var b=U(6048),x=U(1360),q=U(9361);let Qe=(()=>{class ae{static \u0275prov=(0,x.jDH)({token:ae,providedIn:"root",factory:()=>new Ee((0,x.WQX)(q.q),window)})}return ae})();class Ee{document;window;offset=()=>[0,0];constructor(tt,Pe){this.document=tt,this.window=Pe}setOffset(tt){this.offset=Array.isArray(tt)?()=>tt:tt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(tt){this.window.scrollTo(tt[0],tt[1])}scrollToAnchor(tt){const Pe=function fe(ae,tt){const Pe=ae.getElementById(tt)||ae.getElementsByName(tt)[0];if(Pe)return Pe;if("function"==typeof ae.createTreeWalker&&ae.body&&"function"==typeof ae.body.attachShadow){const ht=ae.createTreeWalker(ae.body,NodeFilter.SHOW_ELEMENT);let Yt=ht.currentNode;for(;Yt;){const yn=Yt.shadowRoot;if(yn){const Un=yn.getElementById(tt)||yn.querySelector(`[name="${tt}"]`);if(Un)return Un}Yt=ht.nextNode()}}return null}(this.document,tt);Pe&&(this.scrollToElement(Pe),Pe.focus())}setHistoryScrollRestoration(tt){this.window.history.scrollRestoration=tt}scrollToElement(tt){const Pe=tt.getBoundingClientRect(),ht=Pe.left+this.window.pageXOffset,Yt=Pe.top+this.window.pageYOffset,yn=this.offset();this.window.scrollTo(ht-yn[0],Yt-yn[1])}}var It=U(2881),ie=U(5072),_e=U(1413),Oe=U(7673),Ct=U(8455),yt=U(6365),ft=U(5964),Mt=U(274),tn=U(1397);let Vn=(()=>{class ae{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new _e.B;constructor(Pe,ht,Yt,yn,Un,Yi){this.router=Pe,this.route=ht,this.tabIndexAttribute=Yt,this.renderer=yn,this.el=Un,this.locationStrategy=Yi;const fo=Un.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===fo||"area"===fo,this.isAnchorElement?this.subscription=Pe.events.subscribe(ks=>{ks instanceof ie.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(Pe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Pe)}ngOnChanges(Pe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(Pe){null==Pe?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,ie.wO)(Pe)||Array.isArray(Pe)?Pe:[Pe],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Pe,ht,Yt,yn,Un){const Yi=this.urlTree;return!!(null===Yi||this.isAnchorElement&&(0!==Pe||ht||Yt||yn||Un||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Yi,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Pe=this.urlTree;this.href=null!==Pe&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Pe)):null;const ht=null===this.href?null:(0,x.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ht)}applyAttributeValue(Pe,ht){const Yt=this.renderer,yn=this.el.nativeElement;null!==ht?Yt.setAttribute(yn,Pe,ht):Yt.removeAttribute(yn,Pe)}get urlTree(){return null===this.routerLinkInput?null:(0,ie.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(ht){return new(ht||ae)(x.rXU(ie.Ix),x.rXU(ie.nX),x.kS0("tabindex"),x.rXU(x.sFG),x.rXU(x.aKT),x.rXU(b.hb))};static \u0275dir=x.FsC({type:ae,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(ht,Yt){1&ht&&x.bIt("click",function(Un){return Yt.onClick(Un.button,Un.ctrlKey,Un.shiftKey,Un.altKey,Un.metaKey)}),2&ht&&x.BMQ("target",Yt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",x.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",x.L39],replaceUrl:[2,"replaceUrl","replaceUrl",x.L39],routerLink:"routerLink"},features:[x.OA$]})}return ae})();class cr{}let ve=(()=>{class ae{router;injector;preloadingStrategy;loader;subscription;constructor(Pe,ht,Yt,yn){this.router=Pe,this.injector=ht,this.preloadingStrategy=Yt,this.loader=yn}setUpPreloading(){this.subscription=this.router.events.pipe((0,ft.p)(Pe=>Pe instanceof ie.wF),(0,Mt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Pe,ht){const Yt=[];for(const yn of ht){yn.providers&&!yn._injector&&(yn._injector=(0,x.Ol2)(yn.providers,Pe,`Route: ${yn.path}`));const Un=yn._injector??Pe,Yi=yn._loadedInjector??Un;(yn.loadChildren&&!yn._loadedRoutes&&void 0===yn.canLoad||yn.loadComponent&&!yn._loadedComponent)&&Yt.push(this.preloadConfig(Un,yn)),(yn.children||yn._loadedRoutes)&&Yt.push(this.processRoutes(Yi,yn.children??yn._loadedRoutes))}return(0,Ct.H)(Yt).pipe((0,yt.U)())}preloadConfig(Pe,ht){return this.preloadingStrategy.preload(ht,()=>{let Yt;Yt=ht.loadChildren&&void 0===ht.canLoad?this.loader.loadChildren(Pe,ht):(0,Oe.of)(null);const yn=Yt.pipe((0,tn.Z)(Un=>null===Un?(0,Oe.of)(void 0):(ht._loadedRoutes=Un.routes,ht._loadedInjector=Un.injector,this.processRoutes(Un.injector??Pe,Un.routes))));if(ht.loadComponent&&!ht._loadedComponent){const Un=this.loader.loadComponent(ht);return(0,Ct.H)([yn,Un]).pipe((0,yt.U)())}return yn})}static \u0275fac=function(ht){return new(ht||ae)(x.KVO(ie.Ix),x.KVO(x.uvJ),x.KVO(cr),x.KVO(ie.D$))};static \u0275prov=x.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();const Ve=new x.nKC("");let qe=(()=>{class ae{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(Pe,ht,Yt,yn,Un={}){this.urlSerializer=Pe,this.transitions=ht,this.viewportScroller=Yt,this.zone=yn,this.options=Un,Un.scrollPositionRestoration||="disabled",Un.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Pe=>{Pe instanceof ie.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Pe.navigationTrigger,this.restoredId=Pe.restoredState?Pe.restoredState.navigationId:0):Pe instanceof ie.wF?(this.lastId=Pe.id,this.scheduleScrollEvent(Pe,this.urlSerializer.parse(Pe.urlAfterRedirects).fragment)):Pe instanceof ie.lW&&Pe.code===ie.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Pe,this.urlSerializer.parse(Pe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Pe=>{Pe instanceof ie.OY&&(Pe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Pe.position):Pe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Pe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Pe,ht){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ie.OY(Pe,"popstate"===this.lastSource?this.store[this.restoredId]:null,ht))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(ht){x.QTQ()};static \u0275prov=x.jDH({token:ae,factory:ae.\u0275fac})}return ae})();function Lt(ae,...tt){return(0,x.EmA)([{provide:ie.bw,multi:!0,useValue:ae},[],{provide:ie.nX,useFactory:Ht,deps:[ie.Ix]},{provide:x.iLQ,multi:!0,useFactory:Co},tt.map(Pe=>Pe.\u0275providers)])}function Ht(ae){return ae.routerState.root}function wn(ae,tt){return{\u0275kind:ae,\u0275providers:tt}}function Co(){const ae=(0,x.WQX)(x.zZn);return tt=>{const Pe=ae.get(x.o8S);if(tt!==Pe.components[0])return;const ht=ae.get(ie.Ix),Yt=ae.get(Cr);1===ae.get(so)&&ht.initialNavigation(),ae.get(B,null,x.$GK.Optional)?.setUpPreloading(),ae.get(Ve,null,x.$GK.Optional)?.init(),ht.resetRootComponentType(Pe.componentTypes[0]),Yt.closed||(Yt.next(),Yt.complete(),Yt.unsubscribe())}}const Cr=new x.nKC("",{factory:()=>new _e.B}),so=new x.nKC("",{providedIn:"root",factory:()=>1}),B=new x.nKC("");function he(ae){return wn(0,[{provide:B,useExisting:ve},{provide:cr,useExisting:ae}])}function sn(ae){return(0,x.ngT)("NgRouterViewTransitions"),wn(9,[{provide:ie.Pu,useValue:ie.Lg},{provide:ie.bK,useValue:{skipNextTransition:!!ae?.skipInitialTransition,...ae}}])}const Gr=[b.aZ,{provide:ie.Sd,useClass:ie.nU},ie.Ix,ie.Zp,{provide:ie.nX,useFactory:Ht,deps:[ie.Ix]},ie.D$,[]];let Kr=(()=>{class ae{constructor(){}static forRoot(Pe,ht){return{ngModule:ae,providers:[Gr,[],{provide:ie.bw,multi:!0,useValue:Pe},[],ht?.errorHandler?{provide:ie.XR,useValue:ht.errorHandler}:[],{provide:ie.J_,useValue:ht||{}},ht?.useHash?{provide:b.hb,useClass:It.fw}:{provide:b.hb,useClass:b.Sm},{provide:Ve,useFactory:()=>{const ae=(0,x.WQX)(Qe),tt=(0,x.WQX)(x.SKi),Pe=(0,x.WQX)(ie.J_),ht=(0,x.WQX)(ie.J2),Yt=(0,x.WQX)(ie.Sd);return Pe.scrollOffset&&ae.setOffset(Pe.scrollOffset),new qe(Yt,ht,ae,tt,Pe)}},ht?.preloadingStrategy?he(ht.preloadingStrategy).\u0275providers:[],ht?.initialNavigation?hi(ht):[],ht?.bindToComponentInputs?wn(8,[ie.tD,{provide:ie.c1,useExisting:ie.tD}]).\u0275providers:[],ht?.enableViewTransitions?sn().\u0275providers:[],[{provide:Eo,useFactory:Co},{provide:x.iLQ,multi:!0,useExisting:Eo}]]}}static forChild(Pe){return{ngModule:ae,providers:[{provide:ie.bw,multi:!0,useValue:Pe}]}}static \u0275fac=function(ht){return new(ht||ae)};static \u0275mod=x.$C({type:ae});static \u0275inj=x.G2t({})}return ae})();function hi(ae){return["disabled"===ae.initialNavigation?wn(3,[(0,x.phd)(()=>{(0,x.WQX)(ie.Ix).setUpLocationChangeListener()}),{provide:so,useValue:2}]).\u0275providers:[],"enabledBlocking"===ae.initialNavigation?wn(2,[{provide:so,useValue:0},(0,x.phd)(()=>{const tt=(0,x.WQX)(x.zZn);return tt.get(b.hj,Promise.resolve()).then(()=>new Promise(ht=>{const Yt=tt.get(ie.Ix),yn=tt.get(Cr);(0,ie.gk)(Yt,()=>{ht(!0)}),tt.get(ie.J2).afterPreactivation=()=>(ht(!0),yn.closed?(0,Oe.of)(void 0):yn),Yt.initialNavigation()}))})]).\u0275providers:[]]}const Eo=new x.nKC("")},5225:(En,je,U)=>{"use strict";function b(x,q,I,Ce=0,Qe=!1){const Ee=q.schedule(function(){I(),Qe?x.add(this.schedule(null,Ce)):this.unsubscribe()},Ce);if(x.add(Ee),!Qe)return Ee}U.d(je,{N:()=>b})},5334:(En,je,U)=>{"use strict";U.d(je,{m:()=>q});var b=U(1026),x=U(9270);function q(I){x.f.setTimeout(()=>{const{onUnhandledError:Ce}=b.$;if(!Ce)throw I;Ce(I)})}},5343:(En,je,U)=>{"use strict";function b(){}U.d(je,{l:()=>b})},5397:(En,je,U)=>{"use strict";U.d(je,{x:()=>q});var b=U(4761),x=U(8071);function q(I){return(0,x.T)(I?.[b.l])}},5558:(En,je,U)=>{"use strict";U.d(je,{n:()=>I});var b=U(8750),x=U(9974),q=U(4360);function I(Ce,Qe){return(0,x.N)((Ee,fe)=>{let xe=null,me=0,pe=!1;const et=()=>pe&&!xe&&fe.complete();Ee.subscribe((0,q._)(fe,He=>{xe?.unsubscribe();let at=0;const At=me++;(0,b.Tg)(Ce(He,At)).subscribe(xe=(0,q._)(fe,Ut=>fe.next(Qe?Qe(He,Ut,At,at++):Ut),()=>{xe=null,et()}))},()=>{pe=!0,et()}))})}},5794:(En,je,U)=>{"use strict";U.d(je,{DP:()=>Ze,tw:()=>Kn});var b=U(1360),x=U(969),q=U(9361),I=U(2881),Ce=U(1413),Qe=U(345);const Ee=["toast-component",""];function fe(le,ge){if(1&le){const ne=b.RV6();b.j41(0,"button",5),b.bIt("click",function(){b.eBV(ne);const Ke=b.XpG();return b.Njj(Ke.remove())}),b.j41(1,"span",6),b.EFF(2,"\xd7"),b.k0s()()}}function xe(le,ge){if(1&le&&(b.qex(0),b.EFF(1),b.bVm()),2&le){const ne=b.XpG(2);b.R7$(),b.SpI("[",ne.duplicatesCount+1,"]")}}function me(le,ge){if(1&le&&(b.j41(0,"div"),b.EFF(1),b.DNE(2,xe,2,1,"ng-container",4),b.k0s()),2&le){const ne=b.XpG();b.HbH(ne.options.titleClass),b.BMQ("aria-label",ne.title),b.R7$(),b.SpI(" ",ne.title," "),b.R7$(),b.Y8G("ngIf",ne.duplicatesCount)}}function pe(le,ge){if(1&le&&b.nrm(0,"div",7),2&le){const ne=b.XpG();b.HbH(ne.options.messageClass),b.Y8G("innerHTML",ne.message,b.npT)}}function et(le,ge){if(1&le&&(b.j41(0,"div",8),b.EFF(1),b.k0s()),2&le){const ne=b.XpG();b.HbH(ne.options.messageClass),b.BMQ("aria-label",ne.message),b.R7$(),b.SpI(" ",ne.message," ")}}function He(le,ge){if(1&le&&(b.j41(0,"div"),b.nrm(1,"div",9),b.k0s()),2&le){const ne=b.XpG();b.R7$(),b.xc7("width",ne.width()+"%")}}class Dt{_attachedHost;component;viewContainerRef;injector;constructor(ge,ne){this.component=ge,this.injector=ne}attach(ge,ne){return this._attachedHost=ge,ge.attach(this,ne)}detach(){const ge=this._attachedHost;if(ge)return this._attachedHost=void 0,ge.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ge){this._attachedHost=ge}}class Me{_attachedPortal;_disposeFn;attach(ge,ne){return this._attachedPortal=ge,this.attachComponentPortal(ge,ne)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ge){this._disposeFn=ge}}class nt{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Ce.B;_activate=new Ce.B;_manualClose=new Ce.B;_resetTimeout=new Ce.B;_countDuplicate=new Ce.B;constructor(ge){this._overlayRef=ge}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ge,ne){ge&&this._resetTimeout.next(),ne&&this._countDuplicate.next(++this.duplicatesCount)}}class Xe{toastId;config;message;title;toastType;toastRef;_onTap=new Ce.B;_onAction=new Ce.B;constructor(ge,ne,de,Ke,gt,rn){this.toastId=ge,this.config=ne,this.message=de,this.title=Ke,this.toastType=gt,this.toastRef=rn,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ge){this._onAction.next(ge)}onAction(){return this._onAction.asObservable()}}const Wt=new b.nKC("ToastConfig");class Et extends Me{_hostDomElement;_componentFactoryResolver;_appRef;constructor(ge,ne,de){super(),this._hostDomElement=ge,this._componentFactoryResolver=ne,this._appRef=de}attachComponentPortal(ge,ne){const de=this._componentFactoryResolver.resolveComponentFactory(ge.component);let Ke;return Ke=de.create(ge.injector),this._appRef.attachView(Ke.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ke.hostView),Ke.destroy()}),ne?this._hostDomElement.insertBefore(this._getComponentRootNode(Ke),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ke)),Ke}_getComponentRootNode(ge){return ge.hostView.rootNodes[0]}}let st=(()=>{class le{_document=(0,b.WQX)(q.q);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ne=this._document.createElement("div");ne.classList.add("overlay-container"),ne.setAttribute("aria-live","polite"),this._document.body.appendChild(ne),this._containerElement=ne}static \u0275fac=function(de){return new(de||le)};static \u0275prov=b.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();class Ln{_portalHost;constructor(ge){this._portalHost=ge}attach(ge,ne=!0){return this._portalHost.attach(ge,ne)}detach(){return this._portalHost.detach()}}let Rn=(()=>{class le{_overlayContainer=(0,b.WQX)(st);_componentFactoryResolver=(0,b.WQX)(b.OM3);_appRef=(0,b.WQX)(b.o8S);_document=(0,b.WQX)(q.q);_paneElements=new Map;create(ne,de){return this._createOverlayRef(this.getPaneElement(ne,de))}getPaneElement(ne="",de){return this._paneElements.get(de)||this._paneElements.set(de,{}),this._paneElements.get(de)[ne]||(this._paneElements.get(de)[ne]=this._createPaneElement(ne,de)),this._paneElements.get(de)[ne]}_createPaneElement(ne,de){const Ke=this._document.createElement("div");return Ke.id="toast-container",Ke.classList.add(ne),Ke.classList.add("toast-container"),de?de.getContainerElement().appendChild(Ke):this._overlayContainer.getContainerElement().appendChild(Ke),Ke}_createPortalHost(ne){return new Et(ne,this._componentFactoryResolver,this._appRef)}_createOverlayRef(ne){return new Ln(this._createPortalHost(ne))}static \u0275fac=function(de){return new(de||le)};static \u0275prov=b.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),Kn=(()=>{class le{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(ne,de,Ke,gt,rn){this.overlay=de,this._injector=Ke,this.sanitizer=gt,this.ngZone=rn,this.toastrConfig={...ne.default,...ne.config},ne.config.iconClasses&&(this.toastrConfig.iconClasses={...ne.default.iconClasses,...ne.config.iconClasses})}show(ne,de,Ke={},gt=""){return this._preBuildNotification(gt,ne,de,this.applyConfig(Ke))}success(ne,de,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",ne,de,this.applyConfig(Ke))}error(ne,de,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",ne,de,this.applyConfig(Ke))}info(ne,de,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",ne,de,this.applyConfig(Ke))}warning(ne,de,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",ne,de,this.applyConfig(Ke))}clear(ne){for(const de of this.toasts)if(void 0!==ne){if(de.toastId===ne)return void de.toastRef.manualClose()}else de.toastRef.manualClose()}remove(ne){const de=this._findToast(ne);if(!de||(de.activeToast.toastRef.close(),this.toasts.splice(de.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ke=this.toasts[this.currentlyActive].toastRef;Ke.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ke.activate())}return!0}findDuplicate(ne="",de="",Ke,gt){const{includeTitleDuplicates:rn}=this.toastrConfig;for(const Zt of this.toasts)if((!rn||rn&&Zt.title===ne)&&Zt.message===de)return Zt.toastRef.onDuplicate(Ke,gt),Zt;return null}applyConfig(ne={}){return{...this.toastrConfig,...ne}}_findToast(ne){for(let de=0;de<this.toasts.length;de++)if(this.toasts[de].toastId===ne)return{index:de,activeToast:this.toasts[de]};return null}_preBuildNotification(ne,de,Ke,gt){return gt.onActivateTick?this.ngZone.run(()=>this._buildNotification(ne,de,Ke,gt)):this._buildNotification(ne,de,Ke,gt)}_buildNotification(ne,de,Ke,gt){if(!gt.toastComponent)throw new Error("toastComponent required");const rn=this.findDuplicate(Ke,de,this.toastrConfig.resetTimeoutOnDuplicate&&gt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ke||de)&&this.toastrConfig.preventDuplicates&&null!==rn)return rn;this.previousToastMessage=de;let Zt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Zt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const nr=this.overlay.create(gt.positionClass,this.overlayContainer);this.index=this.index+1;let zt=de;de&&gt.enableHtml&&(zt=this.sanitizer.sanitize(b.WPN.HTML,de));const Zn=new nt(nr),Hn=new Xe(this.index,gt,zt,Ke,ne,Zn),On=b.zZn.create({providers:[{provide:Xe,useValue:Hn}],parent:this._injector}),tr=new Dt(gt.toastComponent,On),Tn=nr.attach(tr,gt.newestOnTop);Zn.componentInstance=Tn.instance;const Pr={toastId:this.index,title:Ke||"",message:de||"",toastRef:Zn,onShown:Zn.afterActivate(),onHidden:Zn.afterClosed(),onTap:Hn.onTap(),onAction:Hn.onAction(),portal:Tn};return Zt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Pr.toastRef.activate()})),this.toasts.push(Pr),Pr}static \u0275fac=function(de){return new(de||le)(b.KVO(Wt),b.KVO(Rn),b.KVO(b.zZn),b.KVO(Qe.up),b.KVO(b.SKi))};static \u0275prov=b.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const vn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class le{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=(0,b.vPA)(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(ne,de,Ke){this.toastrService=ne,this.toastPackage=de,this.ngZone=Ke,this.message=de.message,this.title=de.title,this.options=de.config,this.originalTimeout=de.config.timeOut,this.toastClasses=`${de.toastType} ${de.config.toastClass}`,this.sub=de.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=de.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=de.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=de.toastRef.countDuplicate().subscribe(gt=>{this.duplicatesCount=gt}),this.state=(0,b.vPA)({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(ne=>({...ne,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const ne=(new Date).getTime();this.width.set((this.hideTime-ne)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(Ke=>100-Ke),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(ne=>({...ne,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(ne=>({...ne,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(ne,de){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(ne),de)):this.timeout=setTimeout(()=>ne(),de)}outsideInterval(ne,de){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(ne),de)):this.intervalId=setInterval(()=>ne(),de)}runInsideAngular(ne){this.ngZone?this.ngZone.run(()=>ne()):ne()}static \u0275fac=function(de){return new(de||le)(b.rXU(Kn),b.rXU(Xe),b.rXU(b.SKi))};static \u0275cmp=b.VBU({type:le,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(de,Ke){1&de&&b.bIt("click",function(){return Ke.tapToast()})("mouseenter",function(){return Ke.stickAround()})("mouseleave",function(){return Ke.delayedHideToast()}),2&de&&(b.zvX("@flyInOut",Ke._state),b.HbH(Ke.toastClasses),b.xc7("display",Ke.displayStyle))},attrs:Ee,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(de,Ke){1&de&&b.DNE(0,fe,3,0,"button",0)(1,me,3,5,"div",1)(2,pe,1,3,"div",2)(3,et,2,4,"div",3)(4,He,2,2,"div",4),2&de&&(b.Y8G("ngIf",Ke.options.closeButton),b.R7$(),b.Y8G("ngIf",Ke.title),b.R7$(),b.Y8G("ngIf",Ke.message&&Ke.options.enableHtml),b.R7$(),b.Y8G("ngIf",Ke.message&&!Ke.options.enableHtml),b.R7$(),b.Y8G("ngIf",Ke.options.progressBar))},dependencies:[I.bT],encapsulation:2,data:{animation:[(0,x.hZ)("flyInOut",[(0,x.wk)("inactive",(0,x.iF)({opacity:0})),(0,x.wk)("active",(0,x.iF)({opacity:1})),(0,x.wk)("removed",(0,x.iF)({opacity:0})),(0,x.kY)("inactive => active",(0,x.i0)("{{ easeTime }}ms {{ easing }}")),(0,x.kY)("active => removed",(0,x.i0)("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return le})()},Ze=(le={})=>(0,b.EmA)([{provide:Wt,useValue:{default:vn,config:le}}])},5964:(En,je,U)=>{"use strict";U.d(je,{p:()=>q});var b=U(9974),x=U(4360);function q(I,Ce){return(0,b.N)((Qe,Ee)=>{let fe=0;Qe.subscribe((0,x._)(Ee,xe=>I.call(Ce,xe,fe++)&&Ee.next(xe)))})}},6048:(En,je,U)=>{"use strict";U.d(je,{Q:()=>He,Sm:()=>Ut,Vw:()=>fe,aZ:()=>Ft,hb:()=>at,hj:()=>xe,ig:()=>Qe,kB:()=>At,om:()=>pe,qj:()=>Ee,rb:()=>Ce});var b=U(1360),x=U(1413),q=U(9361);let I=null;function Ce(){return I}function Qe(Me){I??=Me}class Ee{}let fe=(()=>{class Me{historyGo(Xe){throw new Error("")}static \u0275fac=function(vt){return new(vt||Me)};static \u0275prov=b.jDH({token:Me,factory:()=>(0,b.WQX)(me),providedIn:"platform"})}return Me})();const xe=new b.nKC("");let me=(()=>{class Me extends fe{_location;_history;_doc=(0,b.WQX)(q.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ce().getBaseHref(this._doc)}onPopState(Xe){const vt=Ce().getGlobalEventTarget(this._doc,"window");return vt.addEventListener("popstate",Xe,!1),()=>vt.removeEventListener("popstate",Xe)}onHashChange(Xe){const vt=Ce().getGlobalEventTarget(this._doc,"window");return vt.addEventListener("hashchange",Xe,!1),()=>vt.removeEventListener("hashchange",Xe)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Xe){this._location.pathname=Xe}pushState(Xe,vt,Wt){this._history.pushState(Xe,vt,Wt)}replaceState(Xe,vt,Wt){this._history.replaceState(Xe,vt,Wt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Xe=0){this._history.go(Xe)}getState(){return this._history.state}static \u0275fac=function(vt){return new(vt||Me)};static \u0275prov=b.jDH({token:Me,factory:()=>new Me,providedIn:"platform"})}return Me})();function pe(Me,nt){return Me?nt?Me.endsWith("/")?nt.startsWith("/")?Me+nt.slice(1):Me+nt:nt.startsWith("/")?Me+nt:`${Me}/${nt}`:Me:nt}function et(Me){const nt=Me.search(/#|\?|$/);return"/"===Me[nt-1]?Me.slice(0,nt-1)+Me.slice(nt):Me}function He(Me){return Me&&"?"!==Me[0]?`?${Me}`:Me}let at=(()=>{class Me{historyGo(Xe){throw new Error("")}static \u0275fac=function(vt){return new(vt||Me)};static \u0275prov=b.jDH({token:Me,factory:()=>(0,b.WQX)(Ut),providedIn:"root"})}return Me})();const At=new b.nKC("");let Ut=(()=>{class Me extends at{_platformLocation;_baseHref;_removeListenerFns=[];constructor(Xe,vt){super(),this._platformLocation=Xe,this._baseHref=vt??this._platformLocation.getBaseHrefFromDOM()??(0,b.WQX)(q.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Xe){this._removeListenerFns.push(this._platformLocation.onPopState(Xe),this._platformLocation.onHashChange(Xe))}getBaseHref(){return this._baseHref}prepareExternalUrl(Xe){return pe(this._baseHref,Xe)}path(Xe=!1){const vt=this._platformLocation.pathname+He(this._platformLocation.search),Wt=this._platformLocation.hash;return Wt&&Xe?`${vt}${Wt}`:vt}pushState(Xe,vt,Wt,Et){const st=this.prepareExternalUrl(Wt+He(Et));this._platformLocation.pushState(Xe,vt,st)}replaceState(Xe,vt,Wt,Et){const st=this.prepareExternalUrl(Wt+He(Et));this._platformLocation.replaceState(Xe,vt,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Xe=0){this._platformLocation.historyGo?.(Xe)}static \u0275fac=function(vt){return new(vt||Me)(b.KVO(fe),b.KVO(At,8))};static \u0275prov=b.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}return Me})(),Ft=(()=>{class Me{_subject=new x.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(Xe){this._locationStrategy=Xe;const vt=this._locationStrategy.getBaseHref();this._basePath=function Dt(Me){if(new RegExp("^(https?:)?//").test(Me)){const[,Xe]=Me.split(/\/\/[^\/]+/);return Xe}return Me}(et(_t(vt))),this._locationStrategy.onPopState(Wt=>{this._subject.next({url:this.path(!0),pop:!0,state:Wt.state,type:Wt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Xe=!1){return this.normalize(this._locationStrategy.path(Xe))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Xe,vt=""){return this.path()==this.normalize(Xe+He(vt))}normalize(Xe){return Me.stripTrailingSlash(function pt(Me,nt){if(!Me||!nt.startsWith(Me))return nt;const Xe=nt.substring(Me.length);return""===Xe||["/",";","?","#"].includes(Xe[0])?Xe:nt}(this._basePath,_t(Xe)))}prepareExternalUrl(Xe){return Xe&&"/"!==Xe[0]&&(Xe="/"+Xe),this._locationStrategy.prepareExternalUrl(Xe)}go(Xe,vt="",Wt=null){this._locationStrategy.pushState(Wt,"",Xe,vt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Xe+He(vt)),Wt)}replaceState(Xe,vt="",Wt=null){this._locationStrategy.replaceState(Wt,"",Xe,vt),this._notifyUrlChangeListeners(this.prepareExternalUrl(Xe+He(vt)),Wt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Xe=0){this._locationStrategy.historyGo?.(Xe)}onUrlChange(Xe){return this._urlChangeListeners.push(Xe),this._urlChangeSubscription??=this.subscribe(vt=>{this._notifyUrlChangeListeners(vt.url,vt.state)}),()=>{const vt=this._urlChangeListeners.indexOf(Xe);this._urlChangeListeners.splice(vt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Xe="",vt){this._urlChangeListeners.forEach(Wt=>Wt(Xe,vt))}subscribe(Xe,vt,Wt){return this._subject.subscribe({next:Xe,error:vt??void 0,complete:Wt??void 0})}static normalizeQueryParams=He;static joinWithSlash=pe;static stripTrailingSlash=et;static \u0275fac=function(vt){return new(vt||Me)(b.KVO(at))};static \u0275prov=b.jDH({token:Me,factory:()=>function Xt(){return new Ft((0,b.KVO)(at))}(),providedIn:"root"})}return Me})();function _t(Me){return Me.replace(/\/index.html$/,"")}},6335:(En,je,U)=>{"use strict";U.d(je,{Nj:()=>et,DF:()=>He,wh:()=>Me,eJ:()=>Rn,xI:()=>Ze,_q:()=>Dt,J1:()=>Pr,x9:()=>Qi,CI:()=>Kt});var b=U(2967),x=U(1360),q=U(7440),I=U(4125),Ce=U(2214),Qe=U(520),Ee=U(1985);function fe(dr){return new Ee.c(function(Dn){return{unsubscribe:(0,Qe.hg)(dr,Dn.next.bind(Dn),Dn.error.bind(Dn),Dn.complete.bind(Dn))}})}class et{constructor(Dn){return Dn}}class He{constructor(){return(0,b.CA)("auth")}}const At=new x.nKC("angularfire2.auth-instances");function Ft(dr){return(Dn,Ei)=>{const Nr=Dn.runOutsideAngular(()=>dr(Ei));return new et(Nr)}}const Xt={provide:He,deps:[[new x.Xx1,At]]},pt={provide:et,useFactory:function Ut(dr,Dn){const Ei=(0,b.lR)("auth",dr,Dn);return Ei&&new et(Ei)},deps:[[new x.Xx1,At],q.XU]};function Dt(dr,...Dn){return(0,Ce.KO)("angularfire",b.xv.full,"auth"),(0,x.EmA)([pt,Xt,{provide:At,useFactory:Ft(dr),multi:!0,deps:[x.SKi,x.zZn,b.u0,q.gL,[new x.Xx1,I.kR],...Dn]}])}const Me=(0,b.S3)(fe,!0),Rn=(0,b.S3)(Qe.eJ,!0,2),Ze=(0,b.S3)(Qe.xI,!0),Pr=(0,b.S3)(Qe.J1,!0,2),Qi=(0,b.S3)(Qe.x9,!0,2),Kt=(0,b.S3)(Qe.CI,!0,2)},6354:(En,je,U)=>{"use strict";U.d(je,{T:()=>q});var b=U(9974),x=U(4360);function q(I,Ce){return(0,b.N)((Qe,Ee)=>{let fe=0;Qe.subscribe((0,x._)(Ee,xe=>{Ee.next(I.call(Ce,xe,fe++))}))})}},6365:(En,je,U)=>{"use strict";U.d(je,{U:()=>q});var b=U(1397),x=U(3669);function q(I=1/0){return(0,b.Z)(x.D,I)}},6450:(En,je,U)=>{"use strict";U.d(je,{I:()=>I});var b=U(6354);const{isArray:x}=Array;function I(Ce){return(0,b.T)(Qe=>function q(Ce,Qe){return x(Qe)?Ce(...Qe):Ce(Qe)}(Ce,Qe))}},6745:(En,je,U)=>{"use strict";U.d(je,{_:()=>x});var b=U(9974);function x(q,I=0){return(0,b.N)((Ce,Qe)=>{Qe.add(q.schedule(()=>Ce.subscribe(Qe),I))})}},6780:(En,je,U)=>{"use strict";U.d(je,{R:()=>Ce});var b=U(8359);class x extends b.yU{constructor(Ee,fe){super()}schedule(Ee,fe=0){return this}}const q={setInterval(Qe,Ee,...fe){const{delegate:xe}=q;return xe?.setInterval?xe.setInterval(Qe,Ee,...fe):setInterval(Qe,Ee,...fe)},clearInterval(Qe){const{delegate:Ee}=q;return(Ee?.clearInterval||clearInterval)(Qe)},delegate:void 0};var I=U(7908);class Ce extends x{constructor(Ee,fe){super(Ee,fe),this.scheduler=Ee,this.work=fe,this.pending=!1}schedule(Ee,fe=0){var xe;if(this.closed)return this;this.state=Ee;const me=this.id,pe=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(pe,me,fe)),this.pending=!0,this.delay=fe,this.id=null!==(xe=this.id)&&void 0!==xe?xe:this.requestAsyncId(pe,this.id,fe),this}requestAsyncId(Ee,fe,xe=0){return q.setInterval(Ee.flush.bind(Ee,this),xe)}recycleAsyncId(Ee,fe,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return fe;null!=fe&&q.clearInterval(fe)}execute(Ee,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(Ee,fe);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,fe){let me,xe=!1;try{this.work(Ee)}catch(pe){xe=!0,me=pe||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),me}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:fe}=this,{actions:xe}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,I.o)(xe,this),null!=Ee&&(this.id=this.recycleAsyncId(fe,Ee,null)),this.delay=null,super.unsubscribe()}}}},6810:(En,je,U)=>{"use strict";U.d(je,{y:()=>me});var b=U(467),x=U(9967),q=U(3273),I=U(4843),Ce=U(5558),Qe=U(6354),Ee=U(1360),fe=U(6335),xe=U(4796);let me=(()=>{class pe{firestore;auth;authService;constructor(He,at,At){this.firestore=He,this.auth=at,this.authService=At,console.log("%c<<< Start TODO service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}addTodo(He){var at=this;return(0,b.A)(function*(){const At=yield(0,I._)(at.authService.getCurrentUser());if(!At?.uid)throw new Error("Usuario no autenticado");const Ut=(0,x.rJ)(at.firestore,`users/${At.uid}/todos`),Ft=(0,x.H9)(Ut),Xt=new Date,pt={...He,id:Ft.id,completed:!1,createdAt:Xt,updatedAt:Xt};console.log("\u{1f9fe} Creando tarea en:",`users/${At.uid}/todos/${Ft.id}`),console.log("\u{1f4dd} Datos:",pt),yield(0,x.BN)(Ft,pt)})()}getTodos(){return this.authService.getCurrentUser().pipe((0,Ce.n)(He=>{const at=(0,x.rJ)(this.firestore,`users/${He.uid}/todos`);return(0,x.xs)(at,{idField:"id"})}))}updateTodo(He,at){var At=this;return(0,b.A)(function*(){const Ut=yield(0,I._)(At.authService.getCurrentUser());if(!Ut?.uid)throw new Error("Usuario no autenticado");const Ft=(0,x.H9)(At.firestore,`users/${Ut.uid}/todos/${He}`);yield(0,x.mZ)(Ft,{...at,updatedAt:q.Dc.now()})})()}deleteTodo(He){var at=this;return(0,b.A)(function*(){const At=yield(0,I._)(at.authService.getCurrentUser());if(!At?.uid)throw new Error("Usuario no autenticado");const Ut=(0,x.H9)(at.firestore,`users/${At.uid}/todos/${He}`);yield(0,x.kd)(Ut)})()}clearAllTodos(){var He=this;return(0,b.A)(function*(){const at=yield(0,I._)(He.getTodos()),At=yield(0,I._)(He.authService.getCurrentUser());if(!At?.uid)throw new Error("Usuario no autenticado");const Ut=at.map(Ft=>(0,x.kd)((0,x.H9)(He.firestore,`users/${At.uid}/todos/${Ft.id}`)));yield Promise.all(Ut)})()}getPendingTodosCount(){return this.authService.getCurrentUser().pipe((0,Ce.n)(He=>{const at=(0,x.rJ)(this.firestore,`users/${He.uid}/todos`),At=(0,x.P)(at,(0,x._M)("completed","==",!1));return(0,x.xs)(At).pipe((0,Qe.T)(Ut=>Ut.length))}))}getTodoById(He){var at=this;return(0,b.A)(function*(){const At=yield(0,I._)(at.authService.getCurrentUser());if(!At?.uid)throw new Error("Usuario no autenticado");const Ut=(0,x.H9)(at.firestore,`users/${At.uid}/todos/${He}`),Ft=yield(0,x.x7)(Ut);if(!Ft.exists())throw new Error("Tarea no encontrada");return Ft.data()})()}static \u0275fac=function(at){return new(at||pe)(Ee.KVO(x._7),Ee.KVO(fe.Nj),Ee.KVO(xe.u))};static \u0275prov=Ee.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})()},6858:(En,je,U)=>{"use strict";U.d(je,{cY:()=>vt,FA:()=>tr,g:()=>On,K3:()=>fe,u:()=>et,Uj:()=>pe,Fy:()=>Ln,tD:()=>lr,bD:()=>ti,hp:()=>Ar,T9:()=>nt,Tj:()=>Dt,yU:()=>Me,XA:()=>Xe,mS:()=>Ut,Ku:()=>Ni,ZQ:()=>en,sr:()=>ge,zJ:()=>Wt,c1:()=>le,Im:()=>qn,lT:()=>Ke,zW:()=>zt,jZ:()=>Rt,lV:()=>ne,nr:()=>Zt,Ov:()=>nr,gE:()=>Et,Am:()=>br,I9:()=>gi,P1:()=>Ze,eX:()=>Zn});var b=U(467);const Qe=function(be){const ye=[];let Ue=0;for(let kt=0;kt<be.length;kt++){let Ye=be.charCodeAt(kt);Ye<128?ye[Ue++]=Ye:Ye<2048?(ye[Ue++]=Ye>>6|192,ye[Ue++]=63&Ye|128):55296==(64512&Ye)&&kt+1<be.length&&56320==(64512&be.charCodeAt(kt+1))?(Ye=65536+((1023&Ye)<<10)+(1023&be.charCodeAt(++kt)),ye[Ue++]=Ye>>18|240,ye[Ue++]=Ye>>12&63|128,ye[Ue++]=Ye>>6&63|128,ye[Ue++]=63&Ye|128):(ye[Ue++]=Ye>>12|224,ye[Ue++]=Ye>>6&63|128,ye[Ue++]=63&Ye|128)}return ye},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(be,ye){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ue=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,kt=[];for(let Ye=0;Ye<be.length;Ye+=3){const Qt=be[Ye],Cn=Ye+1<be.length,gr=Cn?be[Ye+1]:0,te=Ye+2<be.length,se=te?be[Ye+2]:0;let It=(15&gr)<<2|se>>6,ie=63&se;te||(ie=64,Cn||(It=64)),kt.push(Ue[Qt>>2],Ue[(3&Qt)<<4|gr>>4],Ue[It],Ue[ie])}return kt.join("")},encodeString(be,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(be):this.encodeByteArray(Qe(be),ye)},decodeString(be,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(be):function(be){const ye=[];let Ue=0,kt=0;for(;Ue<be.length;){const Ye=be[Ue++];if(Ye<128)ye[kt++]=String.fromCharCode(Ye);else if(Ye>191&&Ye<224){const Qt=be[Ue++];ye[kt++]=String.fromCharCode((31&Ye)<<6|63&Qt)}else if(Ye>239&&Ye<365){const te=((7&Ye)<<18|(63&be[Ue++])<<12|(63&be[Ue++])<<6|63&be[Ue++])-65536;ye[kt++]=String.fromCharCode(55296+(te>>10)),ye[kt++]=String.fromCharCode(56320+(1023&te))}else{const Qt=be[Ue++],Cn=be[Ue++];ye[kt++]=String.fromCharCode((15&Ye)<<12|(63&Qt)<<6|63&Cn)}}return ye.join("")}(this.decodeStringToByteArray(be,ye))},decodeStringToByteArray(be,ye){this.init_();const Ue=ye?this.charToByteMapWebSafe_:this.charToByteMap_,kt=[];for(let Ye=0;Ye<be.length;){const Qt=Ue[be.charAt(Ye++)],gr=Ye<be.length?Ue[be.charAt(Ye)]:0;++Ye;const se=Ye<be.length?Ue[be.charAt(Ye)]:64;++Ye;const lt=Ye<be.length?Ue[be.charAt(Ye)]:64;if(++Ye,null==Qt||null==gr||null==se||null==lt)throw new xe;kt.push(Qt<<2|gr>>4),64!==se&&(kt.push(gr<<4&240|se>>2),64!==lt&&kt.push(se<<6&192|lt))}return kt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}};class xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function(be){return function(be){const ye=Qe(be);return fe.encodeByteArray(ye,!0)}(be).replace(/\./g,"")},et=function(be){try{return fe.decodeString(be,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function Ut(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _t=()=>{try{return Ut().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const be=process.env.__FIREBASE_DEFAULTS__;return be?JSON.parse(be):void 0})()||(()=>{if(typeof document>"u")return;let be;try{be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ye=be&&et(be[1]);return ye&&JSON.parse(ye)})()}catch(be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${be}`)}},Dt=be=>{var ye,Ue;return null===(Ue=null===(ye=_t())||void 0===ye?void 0:ye.emulatorHosts)||void 0===Ue?void 0:Ue[be]},Me=be=>{const ye=Dt(be);if(!ye)return;const Ue=ye.lastIndexOf(":");if(Ue<=0||Ue+1===ye.length)throw new Error(`Invalid host ${ye} with no separate hostname and port!`);const kt=parseInt(ye.substring(Ue+1),10);return"["===ye[0]?[ye.substring(1,Ue-1),kt]:[ye.substring(0,Ue),kt]},nt=()=>{var be;return null===(be=_t())||void 0===be?void 0:be.config},Xe=be=>{var ye;return null===(ye=_t())||void 0===ye?void 0:ye[`_${be}`]};class vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,Ue)=>{this.resolve=ye,this.reject=Ue})}wrapCallback(ye){return(Ue,kt)=>{Ue?this.reject(Ue):this.resolve(kt),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(Ue):ye(Ue,kt))}}}function Wt(be){return be.endsWith(".cloudworkstations.dev")}function Et(be){return st.apply(this,arguments)}function st(){return(st=(0,b.A)(function*(be){return(yield fetch(be,{credentials:"include"})).ok})).apply(this,arguments)}function Ln(be,ye){if(be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const kt=ye||"demo-project",Ye=be.iat||0,Qt=be.sub||be.user_id;if(!Qt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Cn=Object.assign({iss:`https://securetoken.google.com/${kt}`,aud:kt,iat:Ye,exp:Ye+3600,auth_time:Ye,sub:Qt,user_id:Qt,firebase:{sign_in_provider:"custom",identities:{}}},be);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Cn)),""].join(".")}const Rn={};let vn=!1;function Ze(be,ye){if(typeof window>"u"||typeof document>"u"||!Wt(window.location.host)||Rn[be]===ye||Rn[be]||vn)return;function Ue(It){return`__firebase__banner__${It}`}Rn[be]=ye;const kt="__firebase__banner",Qt=function Kn(){const be={prod:[],emulator:[]};for(const ye of Object.keys(Rn))Rn[ye]?be.emulator.push(ye):be.prod.push(ye);return be}().prod.length>0;function lt(){const It=function dt(be){let ye=document.getElementById(be),Ue=!1;return ye||(ye=document.createElement("div"),ye.setAttribute("id",be),Ue=!0),{created:Ue,element:ye}}(kt),ie=Ue("text"),_e=document.getElementById(ie)||document.createElement("span"),Oe=Ue("learnmore"),Ct=document.getElementById(Oe)||document.createElement("a"),yt=Ue("preprendIcon"),ft=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(It.created){const Mt=It.element;(function gr(It){It.style.display="flex",It.style.background="#7faaf0",It.style.position="fixed",It.style.bottom="5px",It.style.left="5px",It.style.padding=".5em",It.style.borderRadius="5px",It.style.alignItems="center"})(Mt),function Ae(It,ie){It.setAttribute("id",ie),It.innerText="Learn more",It.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",It.setAttribute("target","__blank"),It.style.paddingLeft="5px",It.style.textDecoration="underline"}(Ct,Oe);const tn=function se(){const It=document.createElement("span");return It.style.cursor="pointer",It.style.marginLeft="16px",It.style.fontSize="24px",It.innerHTML=" &times;",It.onclick=()=>{vn=!0,function Cn(){const It=document.getElementById(kt);It&&It.remove()}()},It}();(function te(It,ie){It.setAttribute("width","24"),It.setAttribute("id",ie),It.setAttribute("height","24"),It.setAttribute("viewBox","0 0 24 24"),It.setAttribute("fill","none"),It.style.marginLeft="-6px"})(ft,yt),Mt.append(ft,_e,Ct,tn),document.body.appendChild(Mt)}Qt?(_e.innerText="Preview backend disconnected.",ft.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(ft.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',_e.innerText="Preview backend running in this workspace."),_e.setAttribute("id",ie)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",lt):lt()}function en(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Rt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function We(){var be;const ye=null===(be=_t())||void 0===be?void 0:be.forceEnvironment;if("node"===ye)return!0;if("browser"===ye)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function le(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function ge(){const be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){const be=en();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function Zt(){return!We()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nr(){return!We()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function zt(){try{return"object"==typeof indexedDB}catch{return!1}}function Zn(){return new Promise((be,ye)=>{try{let Ue=!0;const kt="validate-browser-context-for-indexeddb-analytics-module",Ye=self.indexedDB.open(kt);Ye.onsuccess=()=>{Ye.result.close(),Ue||self.indexedDB.deleteDatabase(kt),be(!0)},Ye.onupgradeneeded=()=>{Ue=!1},Ye.onerror=()=>{var Qt;ye((null===(Qt=Ye.error)||void 0===Qt?void 0:Qt.message)||"")}}catch(Ue){ye(Ue)}})}class On extends Error{constructor(ye,Ue,kt){super(Ue),this.code=ye,this.customData=kt,this.name="FirebaseError",Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tr.prototype.create)}}class tr{constructor(ye,Ue,kt){this.service=ye,this.serviceName=Ue,this.errors=kt}create(ye,...Ue){const kt=Ue[0]||{},Ye=`${this.service}/${ye}`,Qt=this.errors[ye],Cn=Qt?function Tn(be,ye){return be.replace(Pr,(Ue,kt)=>{const Ye=ye[kt];return null!=Ye?String(Ye):`<${kt}?>`})}(Qt,kt):"Error";return new On(Ye,`${this.serviceName}: ${Cn} (${Ye}).`,kt)}}const Pr=/\{\$([^}]+)}/g;function qn(be){for(const ye in be)if(Object.prototype.hasOwnProperty.call(be,ye))return!1;return!0}function ti(be,ye){if(be===ye)return!0;const Ue=Object.keys(be),kt=Object.keys(ye);for(const Ye of Ue){if(!kt.includes(Ye))return!1;const Qt=be[Ye],Cn=ye[Ye];if(oi(Qt)&&oi(Cn)){if(!ti(Qt,Cn))return!1}else if(Qt!==Cn)return!1}for(const Ye of kt)if(!Ue.includes(Ye))return!1;return!0}function oi(be){return null!==be&&"object"==typeof be}function br(be){const ye=[];for(const[Ue,kt]of Object.entries(be))Array.isArray(kt)?kt.forEach(Ye=>{ye.push(encodeURIComponent(Ue)+"="+encodeURIComponent(Ye))}):ye.push(encodeURIComponent(Ue)+"="+encodeURIComponent(kt));return ye.length?"&"+ye.join("&"):""}function gi(be){const ye={};return be.replace(/^\?/,"").split("&").forEach(kt=>{if(kt){const[Ye,Qt]=kt.split("=");ye[decodeURIComponent(Ye)]=decodeURIComponent(Qt)}}),ye}function Ar(be){const ye=be.indexOf("?");if(!ye)return"";const Ue=be.indexOf("#",ye);return be.substring(ye,Ue>0?Ue:void 0)}function lr(be,ye){const Ue=new sr(be,ye);return Ue.subscribe.bind(Ue)}class sr{constructor(ye,Ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ue,this.task.then(()=>{ye(this)}).catch(kt=>{this.error(kt)})}next(ye){this.forEachObserver(Ue=>{Ue.next(ye)})}error(ye){this.forEachObserver(Ue=>{Ue.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,Ue,kt){let Ye;if(void 0===ye&&void 0===Ue&&void 0===kt)throw new Error("Missing Observer.");Ye=function dr(be,ye){if("object"!=typeof be||null===be)return!1;for(const Ue of ye)if(Ue in be&&"function"==typeof be[Ue])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:Ue,complete:kt},void 0===Ye.next&&(Ye.next=Dn),void 0===Ye.error&&(Ye.error=Dn),void 0===Ye.complete&&(Ye.complete=Dn);const Qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ye.error(this.finalError):Ye.complete()}catch{}}),this.observers.push(Ye),Qt}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let Ue=0;Ue<this.observers.length;Ue++)this.sendOne(Ue,ye)}sendOne(ye,Ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{Ue(this.observers[ye])}catch(kt){typeof console<"u"&&console.error&&console.error(kt)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}function Ni(be){return be&&be._delegate?be._delegate:be}},7440:(En,je,U)=>{"use strict";U.d(je,{MW:()=>He,Wp:()=>Ft,XU:()=>I,gL:()=>Ce});var b=U(2214),x=U(1360),q=U(2967);class I{constructor(nt){return nt}}class Ce{constructor(){return(0,b.Dk)()}}const fe=new x.nKC("angularfire2._apps"),xe={provide:I,useFactory:function Ee(Me){return Me&&1===Me.length?Me[0]:new I((0,b.Sx)())},deps:[[new x.Xx1,fe]]},me={provide:Ce,deps:[[new x.Xx1,fe]]};function pe(Me){return(nt,Xe)=>{const vt=Xe.get(x.Agw);(0,b.KO)("angularfire",q.xv.full,"core"),(0,b.KO)("angularfire",q.xv.full,"app"),(0,b.KO)("angular",x.xvI.full,vt.toString());const Wt=nt.runOutsideAngular(()=>Me(Xe));return new I(Wt)}}function He(Me,...nt){return(0,x.EmA)([xe,me,{provide:fe,useFactory:pe(Me),multi:!0,deps:[x.SKi,x.zZn,q.u0,...nt]}])}const Ft=(0,q.S3)(b.Wp,!0)},7441:(En,je,U)=>{"use strict";U.d(je,{X:()=>b});const b=x=>x&&"number"==typeof x.length&&"function"!=typeof x},7473:(En,je,U)=>{"use strict";U.d(je,{J:()=>Ce});var b=U(467),x=U(9967),q=U(3273),I=U(1360);let Ce=(()=>{class Qe{firestore;constructor(fe){this.firestore=fe,console.log("%c<<< Start NOTIFICATION service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}sendToUser(fe,xe,me){var pe=this;return(0,b.A)(function*(){try{const et={message:xe,type:me,timestamp:q.Dc.now(),read:!1},He=(0,x.rJ)(pe.firestore,`users/${fe}/notifications`),at=yield(0,x.gS)(He,et);console.log("\u2705 Notificaci\xf3n enviada:",{uid:fe,message:xe,docId:at.id})}catch(et){throw console.error("\u274c Error al enviar notificaci\xf3n:",et),et}})()}getUserNotifications(fe){const xe=(0,x.rJ)(this.firestore,`users/${fe}/notifications`),me=(0,x.P)(xe,(0,x.My)("timestamp","desc"));return(0,x.xs)(me,{idField:"id"})}markAsRead(fe,xe){var me=this;return(0,b.A)(function*(){try{const pe=(0,q.H9)(me.firestore,`users/${fe}/notifications/${xe}`);yield(0,q.mZ)(pe,{read:!0}),console.log("\u2705 Notificaci\xf3n marcada como le\xedda:",xe)}catch(pe){console.error("\u274c Error al marcar notificaci\xf3n como le\xedda:",pe)}})()}markAllAsRead(fe){var xe=this;return(0,b.A)(function*(){const me=(0,x.rJ)(xe.firestore,`users/${fe}/notifications`),pe=yield(0,q.GG)(me),et=(0,q.wP)(xe.firestore);pe.forEach(He=>{He.data().read||et.update(He.ref,{read:!0})}),yield et.commit(),console.log(`\u2705 Todas las notificaciones del usuario ${fe} marcadas como le\xeddas.`)})()}deleteNotification(fe,xe){const me=(0,q.H9)(this.firestore,`users/${fe}/notifications/${xe}`);return(0,q.kd)(me).then(()=>console.log(`\u{1f9f9} Notificaci\xf3n ${xe} eliminada de Firestore`)).catch(pe=>console.error("\u274c Error al eliminar notificaci\xf3n:",pe))}static \u0275fac=function(xe){return new(xe||Qe)(I.KVO(x._7))};static \u0275prov=I.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}return Qe})()},7643:(En,je,U)=>{"use strict";U.d(je,{$R:()=>Ir,Qq:()=>Zt}),U(467);var x=U(1360),q=U(274),I=U(5964),Ce=U(6354),Qe=U(980),Ee=U(5558),fe=U(7673),xe=U(1985),me=U(8455),pe=U(9377),et=U(9361);class He{}class at{}class At{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(se){se?"string"==typeof se?this.lazyInit=()=>{this.headers=new Map,se.split("\n").forEach(Ae=>{const lt=Ae.indexOf(":");if(lt>0){const It=Ae.slice(0,lt),ie=Ae.slice(lt+1).trim();this.addHeaderEntry(It,ie)}})}:typeof Headers<"u"&&se instanceof Headers?(this.headers=new Map,se.forEach((Ae,lt)=>{this.addHeaderEntry(lt,Ae)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(se).forEach(([Ae,lt])=>{this.setHeaderEntries(Ae,lt)})}:this.headers=new Map}has(se){return this.init(),this.headers.has(se.toLowerCase())}get(se){this.init();const Ae=this.headers.get(se.toLowerCase());return Ae&&Ae.length>0?Ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(se){return this.init(),this.headers.get(se.toLowerCase())||null}append(se,Ae){return this.clone({name:se,value:Ae,op:"a"})}set(se,Ae){return this.clone({name:se,value:Ae,op:"s"})}delete(se,Ae){return this.clone({name:se,value:Ae,op:"d"})}maybeSetNormalizedName(se,Ae){this.normalizedNames.has(Ae)||this.normalizedNames.set(Ae,se)}init(){this.lazyInit&&(this.lazyInit instanceof At?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(se=>this.applyUpdate(se)),this.lazyUpdate=null))}copyFrom(se){se.init(),Array.from(se.headers.keys()).forEach(Ae=>{this.headers.set(Ae,se.headers.get(Ae)),this.normalizedNames.set(Ae,se.normalizedNames.get(Ae))})}clone(se){const Ae=new At;return Ae.lazyInit=this.lazyInit&&this.lazyInit instanceof At?this.lazyInit:this,Ae.lazyUpdate=(this.lazyUpdate||[]).concat([se]),Ae}applyUpdate(se){const Ae=se.name.toLowerCase();switch(se.op){case"a":case"s":let lt=se.value;if("string"==typeof lt&&(lt=[lt]),0===lt.length)return;this.maybeSetNormalizedName(se.name,Ae);const It=("a"===se.op?this.headers.get(Ae):void 0)||[];It.push(...lt),this.headers.set(Ae,It);break;case"d":const ie=se.value;if(ie){let _e=this.headers.get(Ae);if(!_e)return;_e=_e.filter(Oe=>-1===ie.indexOf(Oe)),0===_e.length?(this.headers.delete(Ae),this.normalizedNames.delete(Ae)):this.headers.set(Ae,_e)}else this.headers.delete(Ae),this.normalizedNames.delete(Ae)}}addHeaderEntry(se,Ae){const lt=se.toLowerCase();this.maybeSetNormalizedName(se,lt),this.headers.has(lt)?this.headers.get(lt).push(Ae):this.headers.set(lt,[Ae])}setHeaderEntries(se,Ae){const lt=(Array.isArray(Ae)?Ae:[Ae]).map(ie=>ie.toString()),It=se.toLowerCase();this.headers.set(It,lt),this.maybeSetNormalizedName(se,It)}forEach(se){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ae=>se(this.normalizedNames.get(Ae),this.headers.get(Ae)))}}class Ft{encodeKey(se){return Dt(se)}encodeValue(se){return Dt(se)}decodeKey(se){return decodeURIComponent(se)}decodeValue(se){return decodeURIComponent(se)}}const pt=/%(\d[a-f0-9])/gi,_t={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dt(te){return encodeURIComponent(te).replace(pt,(se,Ae)=>_t[Ae]??se)}function Me(te){return`${te}`}class nt{map;encoder;updates=null;cloneFrom=null;constructor(se={}){if(this.encoder=se.encoder||new Ft,se.fromString){if(se.fromObject)throw new x.wOt(2805,!1);this.map=function Xt(te,se){const Ae=new Map;return te.length>0&&te.replace(/^\?/,"").split("&").forEach(It=>{const ie=It.indexOf("="),[_e,Oe]=-1==ie?[se.decodeKey(It),""]:[se.decodeKey(It.slice(0,ie)),se.decodeValue(It.slice(ie+1))],Ct=Ae.get(_e)||[];Ct.push(Oe),Ae.set(_e,Ct)}),Ae}(se.fromString,this.encoder)}else se.fromObject?(this.map=new Map,Object.keys(se.fromObject).forEach(Ae=>{const lt=se.fromObject[Ae],It=Array.isArray(lt)?lt.map(Me):[Me(lt)];this.map.set(Ae,It)})):this.map=null}has(se){return this.init(),this.map.has(se)}get(se){this.init();const Ae=this.map.get(se);return Ae?Ae[0]:null}getAll(se){return this.init(),this.map.get(se)||null}keys(){return this.init(),Array.from(this.map.keys())}append(se,Ae){return this.clone({param:se,value:Ae,op:"a"})}appendAll(se){const Ae=[];return Object.keys(se).forEach(lt=>{const It=se[lt];Array.isArray(It)?It.forEach(ie=>{Ae.push({param:lt,value:ie,op:"a"})}):Ae.push({param:lt,value:It,op:"a"})}),this.clone(Ae)}set(se,Ae){return this.clone({param:se,value:Ae,op:"s"})}delete(se,Ae){return this.clone({param:se,value:Ae,op:"d"})}toString(){return this.init(),this.keys().map(se=>{const Ae=this.encoder.encodeKey(se);return this.map.get(se).map(lt=>Ae+"="+this.encoder.encodeValue(lt)).join("&")}).filter(se=>""!==se).join("&")}clone(se){const Ae=new nt({encoder:this.encoder});return Ae.cloneFrom=this.cloneFrom||this,Ae.updates=(this.updates||[]).concat(se),Ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(se=>this.map.set(se,this.cloneFrom.map.get(se))),this.updates.forEach(se=>{switch(se.op){case"a":case"s":const Ae=("a"===se.op?this.map.get(se.param):void 0)||[];Ae.push(Me(se.value)),this.map.set(se.param,Ae);break;case"d":if(void 0===se.value){this.map.delete(se.param);break}{let lt=this.map.get(se.param)||[];const It=lt.indexOf(Me(se.value));-1!==It&&lt.splice(It,1),lt.length>0?this.map.set(se.param,lt):this.map.delete(se.param)}}}),this.cloneFrom=this.updates=null)}}class vt{map=new Map;set(se,Ae){return this.map.set(se,Ae),this}get(se){return this.map.has(se)||this.map.set(se,se.defaultValue()),this.map.get(se)}delete(se){return this.map.delete(se),this}has(se){return this.map.has(se)}keys(){return this.map.keys()}}function Et(te){return typeof ArrayBuffer<"u"&&te instanceof ArrayBuffer}function st(te){return typeof Blob<"u"&&te instanceof Blob}function Ln(te){return typeof FormData<"u"&&te instanceof FormData}const Kn="Content-Type",vn="X-Request-URL",Ze="text/plain",en="application/json",Rt=`${en}, ${Ze}, */*`;class We{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(se,Ae,lt,It){let ie;if(this.url=Ae,this.method=se.toUpperCase(),function Wt(te){switch(te){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||It?(this.body=void 0!==lt?lt:null,ie=It):ie=lt,ie&&(this.reportProgress=!!ie.reportProgress,this.withCredentials=!!ie.withCredentials,ie.responseType&&(this.responseType=ie.responseType),ie.headers&&(this.headers=ie.headers),ie.context&&(this.context=ie.context),ie.params&&(this.params=ie.params),this.transferCache=ie.transferCache),this.headers??=new At,this.context??=new vt,this.params){const _e=this.params.toString();if(0===_e.length)this.urlWithParams=Ae;else{const Oe=Ae.indexOf("?");this.urlWithParams=Ae+(-1===Oe?"?":Oe<Ae.length-1?"&":"")+_e}}else this.params=new nt,this.urlWithParams=Ae}serializeBody(){return null===this.body?null:"string"==typeof this.body||Et(this.body)||st(this.body)||Ln(this.body)||function Rn(te){return typeof URLSearchParams<"u"&&te instanceof URLSearchParams}(this.body)?this.body:this.body instanceof nt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ln(this.body)?null:st(this.body)?this.body.type||null:Et(this.body)?null:"string"==typeof this.body?Ze:this.body instanceof nt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?en:null}clone(se={}){const Ae=se.method||this.method,lt=se.url||this.url,It=se.responseType||this.responseType,ie=se.transferCache??this.transferCache,_e=void 0!==se.body?se.body:this.body,Oe=se.withCredentials??this.withCredentials,Ct=se.reportProgress??this.reportProgress;let yt=se.headers||this.headers,ft=se.params||this.params;const Mt=se.context??this.context;return void 0!==se.setHeaders&&(yt=Object.keys(se.setHeaders).reduce((tn,Vn)=>tn.set(Vn,se.setHeaders[Vn]),yt)),se.setParams&&(ft=Object.keys(se.setParams).reduce((tn,Vn)=>tn.set(Vn,se.setParams[Vn]),ft)),new We(Ae,lt,_e,{params:ft,headers:yt,context:Mt,reportProgress:Ct,responseType:It,withCredentials:Oe,transferCache:ie})}}var Y=function(te){return te[te.Sent=0]="Sent",te[te.UploadProgress=1]="UploadProgress",te[te.ResponseHeader=2]="ResponseHeader",te[te.DownloadProgress=3]="DownloadProgress",te[te.Response=4]="Response",te[te.User=5]="User",te}(Y||{});class ue{headers;status;statusText;url;ok;type;constructor(se,Ae=200,lt="OK"){this.headers=se.headers||new At,this.status=void 0!==se.status?se.status:Ae,this.statusText=se.statusText||lt,this.url=se.url||null,this.ok=this.status>=200&&this.status<300}}class le extends ue{constructor(se={}){super(se)}type=Y.ResponseHeader;clone(se={}){return new le({headers:se.headers||this.headers,status:void 0!==se.status?se.status:this.status,statusText:se.statusText||this.statusText,url:se.url||this.url||void 0})}}class ge extends ue{body;constructor(se={}){super(se),this.body=void 0!==se.body?se.body:null}type=Y.Response;clone(se={}){return new ge({body:void 0!==se.body?se.body:this.body,headers:se.headers||this.headers,status:void 0!==se.status?se.status:this.status,statusText:se.statusText||this.statusText,url:se.url||this.url||void 0})}}class ne extends ue{name="HttpErrorResponse";message;error;ok=!1;constructor(se){super(se,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${se.url||"(unknown url)"}`:`Http failure response for ${se.url||"(unknown url)"}: ${se.status} ${se.statusText}`,this.error=se.error||null}}function rn(te,se){return{body:se,headers:te.headers,context:te.context,observe:te.observe,params:te.params,reportProgress:te.reportProgress,responseType:te.responseType,withCredentials:te.withCredentials,transferCache:te.transferCache}}let Zt=(()=>{class te{handler;constructor(Ae){this.handler=Ae}request(Ae,lt,It={}){let ie;if(Ae instanceof We)ie=Ae;else{let Ct,yt;Ct=It.headers instanceof At?It.headers:new At(It.headers),It.params&&(yt=It.params instanceof nt?It.params:new nt({fromObject:It.params})),ie=new We(Ae,lt,void 0!==It.body?It.body:null,{headers:Ct,context:It.context,params:yt,reportProgress:It.reportProgress,responseType:It.responseType||"json",withCredentials:It.withCredentials,transferCache:It.transferCache})}const _e=(0,fe.of)(ie).pipe((0,q.H)(Ct=>this.handler.handle(Ct)));if(Ae instanceof We||"events"===It.observe)return _e;const Oe=_e.pipe((0,I.p)(Ct=>Ct instanceof ge));switch(It.observe||"body"){case"body":switch(ie.responseType){case"arraybuffer":return Oe.pipe((0,Ce.T)(Ct=>{if(null!==Ct.body&&!(Ct.body instanceof ArrayBuffer))throw new x.wOt(2806,!1);return Ct.body}));case"blob":return Oe.pipe((0,Ce.T)(Ct=>{if(null!==Ct.body&&!(Ct.body instanceof Blob))throw new x.wOt(2807,!1);return Ct.body}));case"text":return Oe.pipe((0,Ce.T)(Ct=>{if(null!==Ct.body&&"string"!=typeof Ct.body)throw new x.wOt(2808,!1);return Ct.body}));default:return Oe.pipe((0,Ce.T)(Ct=>Ct.body))}case"response":return Oe;default:throw new x.wOt(2809,!1)}}delete(Ae,lt={}){return this.request("DELETE",Ae,lt)}get(Ae,lt={}){return this.request("GET",Ae,lt)}head(Ae,lt={}){return this.request("HEAD",Ae,lt)}jsonp(Ae,lt){return this.request("JSONP",Ae,{params:(new nt).append(lt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ae,lt={}){return this.request("OPTIONS",Ae,lt)}patch(Ae,lt,It={}){return this.request("PATCH",Ae,rn(It,lt))}post(Ae,lt,It={}){return this.request("POST",Ae,rn(It,lt))}put(Ae,lt,It={}){return this.request("PUT",Ae,rn(It,lt))}static \u0275fac=function(lt){return new(lt||te)(x.KVO(He))};static \u0275prov=x.jDH({token:te,factory:te.\u0275fac})}return te})();const Zn=new x.nKC("");function Tn(te,se){return se(te)}const hn=new x.nKC(""),hr=new x.nKC(""),on=new x.nKC("",{providedIn:"root",factory:()=>!0});let ut=(()=>{class te extends He{backend;injector;chain=null;pendingTasks=(0,x.WQX)(x.Ua0);contributeToStability=(0,x.WQX)(on);constructor(Ae,lt){super(),this.backend=Ae,this.injector=lt}handle(Ae){if(null===this.chain){const lt=Array.from(new Set([...this.injector.get(hn),...this.injector.get(hr,[])]));this.chain=lt.reduceRight((It,ie)=>function Rr(te,se,Ae){return(lt,It)=>(0,x.N4e)(Ae,()=>se(lt,ie=>te(ie,It)))}(It,ie,this.injector),Tn)}if(this.contributeToStability){const lt=this.pendingTasks.add();return this.chain(Ae,It=>this.backend.handle(It)).pipe((0,Qe.j)(()=>this.pendingTasks.remove(lt)))}return this.chain(Ae,lt=>this.backend.handle(lt))}static \u0275fac=function(lt){return new(lt||te)(x.KVO(at),x.KVO(x.uvJ))};static \u0275prov=x.jDH({token:te,factory:te.\u0275fac})}return te})();const sr=/^\)\]\}',?\n/,di=RegExp(`^${vn}:`,"m");let Dn=(()=>{class te{xhrFactory;constructor(Ae){this.xhrFactory=Ae}handle(Ae){if("JSONP"===Ae.method)throw new x.wOt(-2800,!1);const lt=this.xhrFactory;return(lt.\u0275loadImpl?(0,me.H)(lt.\u0275loadImpl()):(0,fe.of)(null)).pipe((0,Ee.n)(()=>new xe.c(ie=>{const _e=lt.build();if(_e.open(Ae.method,Ae.urlWithParams),Ae.withCredentials&&(_e.withCredentials=!0),Ae.headers.forEach((Gn,cr)=>_e.setRequestHeader(Gn,cr.join(","))),Ae.headers.has("Accept")||_e.setRequestHeader("Accept",Rt),!Ae.headers.has(Kn)){const Gn=Ae.detectContentTypeHeader();null!==Gn&&_e.setRequestHeader(Kn,Gn)}if(Ae.responseType){const Gn=Ae.responseType.toLowerCase();_e.responseType="json"!==Gn?Gn:"text"}const Oe=Ae.serializeBody();let Ct=null;const yt=()=>{if(null!==Ct)return Ct;const Gn=_e.statusText||"OK",cr=new At(_e.getAllResponseHeaders()),mi=function dr(te){return"responseURL"in te&&te.responseURL?te.responseURL:di.test(te.getAllResponseHeaders())?te.getResponseHeader(vn):null}(_e)||Ae.url;return Ct=new le({headers:cr,status:_e.status,statusText:Gn,url:mi}),Ct},ft=()=>{let{headers:Gn,status:cr,statusText:mi,url:Ai}=yt(),ve=null;204!==cr&&(ve=typeof _e.response>"u"?_e.responseText:_e.response),0===cr&&(cr=ve?200:0);let Ve=cr>=200&&cr<300;if("json"===Ae.responseType&&"string"==typeof ve){const qe=ve;ve=ve.replace(sr,"");try{ve=""!==ve?JSON.parse(ve):null}catch(Lt){ve=qe,Ve&&(Ve=!1,ve={error:Lt,text:ve})}}Ve?(ie.next(new ge({body:ve,headers:Gn,status:cr,statusText:mi,url:Ai||void 0})),ie.complete()):ie.error(new ne({error:ve,headers:Gn,status:cr,statusText:mi,url:Ai||void 0}))},Mt=Gn=>{const{url:cr}=yt(),mi=new ne({error:Gn,status:_e.status||0,statusText:_e.statusText||"Unknown Error",url:cr||void 0});ie.error(mi)};let tn=!1;const Vn=Gn=>{tn||(ie.next(yt()),tn=!0);let cr={type:Y.DownloadProgress,loaded:Gn.loaded};Gn.lengthComputable&&(cr.total=Gn.total),"text"===Ae.responseType&&_e.responseText&&(cr.partialText=_e.responseText),ie.next(cr)},an=Gn=>{let cr={type:Y.UploadProgress,loaded:Gn.loaded};Gn.lengthComputable&&(cr.total=Gn.total),ie.next(cr)};return _e.addEventListener("load",ft),_e.addEventListener("error",Mt),_e.addEventListener("timeout",Mt),_e.addEventListener("abort",Mt),Ae.reportProgress&&(_e.addEventListener("progress",Vn),null!==Oe&&_e.upload&&_e.upload.addEventListener("progress",an)),_e.send(Oe),ie.next({type:Y.Sent}),()=>{_e.removeEventListener("error",Mt),_e.removeEventListener("abort",Mt),_e.removeEventListener("load",ft),_e.removeEventListener("timeout",Mt),Ae.reportProgress&&(_e.removeEventListener("progress",Vn),null!==Oe&&_e.upload&&_e.upload.removeEventListener("progress",an)),_e.readyState!==_e.DONE&&_e.abort()}})))}static \u0275fac=function(lt){return new(lt||te)(x.KVO(pe.N0))};static \u0275prov=x.jDH({token:te,factory:te.\u0275fac})}return te})();const Ei=new x.nKC(""),Wn=new x.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Le=new x.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dr{}let Zi=(()=>{class te{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(Ae,lt){this.doc=Ae,this.cookieName=lt}getToken(){const Ae=this.doc.cookie||"";return Ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,pe.bS)(Ae,this.cookieName),this.lastCookieString=Ae),this.lastToken}static \u0275fac=function(lt){return new(lt||te)(x.KVO(et.q),x.KVO(Wn))};static \u0275prov=x.jDH({token:te,factory:te.\u0275fac})}return te})();function ni(te,se){const Ae=te.url.toLowerCase();if(!(0,x.WQX)(Ei)||"GET"===te.method||"HEAD"===te.method||Ae.startsWith("http://")||Ae.startsWith("https://"))return se(te);const lt=(0,x.WQX)(Dr).getToken(),It=(0,x.WQX)(Le);return null!=lt&&!te.headers.has(It)&&(te=te.clone({headers:te.headers.set(It,lt)})),se(te)}function Ir(...te){const se=[Zt,Dn,ut,{provide:He,useExisting:ut},{provide:at,useFactory:()=>(0,x.WQX)(Zn,{optional:!0})??(0,x.WQX)(Dn)},{provide:hn,useValue:ni,multi:!0},{provide:Ei,useValue:!0},{provide:Dr,useClass:Zi}];for(const Ae of te)se.push(...Ae.\u0275providers);return(0,x.EmA)(se)}},7673:(En,je,U)=>{"use strict";U.d(je,{of:()=>q});var b=U(9326),x=U(8455);function q(...I){const Ce=(0,b.lI)(I);return(0,x.H)(I,Ce)}},7707:(En,je,U)=>{"use strict";U.d(je,{Ms:()=>Ut,vU:()=>et});var b=U(8071),x=U(8359),q=U(1026),I=U(5334),Ce=U(5343);const Qe=xe("C",void 0,void 0);function xe(Dt,Me,nt){return{kind:Dt,value:Me,error:nt}}var me=U(9270),pe=U(9786);class et extends x.yU{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,x.Uv)(Me)&&Me.add(this)):this.destination=_t}static create(Me,nt,Xe){return new Ut(Me,nt,Xe)}next(Me){this.isStopped?pt(function fe(Dt){return xe("N",Dt,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?pt(function Ee(Dt){return xe("E",void 0,Dt)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?pt(Qe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function at(Dt,Me){return He.call(Dt,Me)}class At{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:nt}=this;if(nt.next)try{nt.next(Me)}catch(Xe){Ft(Xe)}}error(Me){const{partialObserver:nt}=this;if(nt.error)try{nt.error(Me)}catch(Xe){Ft(Xe)}else Ft(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(nt){Ft(nt)}}}class Ut extends et{constructor(Me,nt,Xe){let vt;if(super(),(0,b.T)(Me)||!Me)vt={next:Me??void 0,error:nt??void 0,complete:Xe??void 0};else{let Wt;this&&q.$.useDeprecatedNextContext?(Wt=Object.create(Me),Wt.unsubscribe=()=>this.unsubscribe(),vt={next:Me.next&&at(Me.next,Wt),error:Me.error&&at(Me.error,Wt),complete:Me.complete&&at(Me.complete,Wt)}):vt=Me}this.destination=new At(vt)}}function Ft(Dt){q.$.useDeprecatedSynchronousErrorHandling?(0,pe.l)(Dt):(0,I.m)(Dt)}function pt(Dt,Me){const{onStoppedNotification:nt}=q.$;nt&&me.f.setTimeout(()=>nt(Dt,Me))}const _t={closed:!0,next:Ce.l,error:function Xt(Dt){throw Dt},complete:Ce.l}},7759:(En,je,U)=>{"use strict";U.d(je,{I:()=>Ut});var b=U(6354),x=U(7673),q=U(9974),I=U(4360),Ce=U(3669),Qe=U(1985),Ee=U(3236),fe=U(9470);var pe=U(8750),He=U(9437),at=U(1360),At=U(7643);let Ut=(()=>{class Ft{http;BASE_PATH="assets/data/";DATA_FILE="dashboard-data.json";constructor(pt){this.http=pt,console.log("%c<<< Start MOCK-DATA service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getDashboardMetrics(){return this.http.get(`${this.BASE_PATH}dashboard-data.json`)}getTicketGraph(){return this.http.get(`${this.BASE_PATH}${this.DATA_FILE}`).pipe((0,b.T)(pt=>pt.chartData.tickets))}getSatisfactionData(){return this.http.get(`${this.BASE_PATH}satisfaction.json`)}getChannelsData(){return this.http.get(`${this.BASE_PATH}channels.json`)}getNotifications(){return this.http.get(`${this.BASE_PATH}notifications.json`)}getReclamos(){return this.http.get(`${this.BASE_PATH}reclamos.json`).pipe(function et(Ft=1/0){let Xt;Xt=Ft&&"object"==typeof Ft?Ft:{count:Ft};const{count:pt=1/0,delay:_t,resetOnSuccess:Dt=!1}=Xt;return pt<=0?Ce.D:(0,q.N)((Me,nt)=>{let vt,Xe=0;const Wt=()=>{let Et=!1;vt=Me.subscribe((0,I._)(nt,st=>{Dt&&(Xe=0),nt.next(st)},void 0,st=>{if(Xe++<pt){const Ln=()=>{vt?(vt.unsubscribe(),vt=null,Wt()):Et=!0};if(null!=_t){const Rn="number"==typeof _t?function me(Ft=0,Xt,pt=Ee.b){let _t=-1;return null!=Xt&&((0,fe.m)(Xt)?pt=Xt:_t=Xt),new Qe.c(Dt=>{let Me=function xe(Ft){return Ft instanceof Date&&!isNaN(Ft)}(Ft)?+Ft-pt.now():Ft;Me<0&&(Me=0);let nt=0;return pt.schedule(function(){Dt.closed||(Dt.next(nt++),0<=_t?this.schedule(void 0,_t):Dt.complete())},Me)})}(_t):(0,pe.Tg)(_t(st,Xe)),Kn=(0,I._)(nt,()=>{Kn.unsubscribe(),Ln()},()=>{nt.complete()});Rn.subscribe(Kn)}else Ln()}else nt.error(st)})),Et&&(vt.unsubscribe(),vt=null,Wt())};Wt()})}(2),(0,He.W)(pt=>(console.error("\u274c Error al cargar reclamos:",pt),(0,x.of)([]))))}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(pt){const _t=16*Math.random()|0;return("x"===pt?_t:3&_t|8).toString(16)})}static \u0275fac=function(_t){return new(_t||Ft)(at.KVO(At.Qq))};static \u0275prov=at.jDH({token:Ft,factory:Ft.\u0275fac,providedIn:"root"})}return Ft})()},7852:(En,je,U)=>{"use strict";U.d(je,{MF:()=>Dn,j6:()=>oi,xZ:()=>gi,om:()=>ti,Sx:()=>Wn,Dk:()=>Xi,Wp:()=>Ei,KO:()=>Zi});var b=U(467),x=U(1362),q=U(8041),I=U(6858);let Qe,Ee;const me=new WeakMap,pe=new WeakMap,et=new WeakMap,He=new WeakMap,at=new WeakMap;let Ft={get(ie,_e,Oe){if(ie instanceof IDBTransaction){if("done"===_e)return pe.get(ie);if("objectStoreNames"===_e)return ie.objectStoreNames||et.get(ie);if("store"===_e)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Dt(ie[_e])},set:(ie,_e,Oe)=>(ie[_e]=Oe,!0),has:(ie,_e)=>ie instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in ie};function _t(ie){return"function"==typeof ie?function pt(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(..._e){return ie.apply(Me(this),_e),Dt(me.get(this))}:function(..._e){return Dt(ie.apply(Me(this),_e))}:function(_e,...Oe){const Ct=ie.call(Me(this),_e,...Oe);return et.set(Ct,_e.sort?_e.sort():[_e]),Dt(Ct)}}(ie):(ie instanceof IDBTransaction&&function Ut(ie){if(pe.has(ie))return;const _e=new Promise((Oe,Ct)=>{const yt=()=>{ie.removeEventListener("complete",ft),ie.removeEventListener("error",Mt),ie.removeEventListener("abort",Mt)},ft=()=>{Oe(),yt()},Mt=()=>{Ct(ie.error||new DOMException("AbortError","AbortError")),yt()};ie.addEventListener("complete",ft),ie.addEventListener("error",Mt),ie.addEventListener("abort",Mt)});pe.set(ie,_e)}(ie),((ie,_e)=>_e.some(Oe=>ie instanceof Oe))(ie,function fe(){return Qe||(Qe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,Ft):ie)}function Dt(ie){if(ie instanceof IDBRequest)return function At(ie){const _e=new Promise((Oe,Ct)=>{const yt=()=>{ie.removeEventListener("success",ft),ie.removeEventListener("error",Mt)},ft=()=>{Oe(Dt(ie.result)),yt()},Mt=()=>{Ct(ie.error),yt()};ie.addEventListener("success",ft),ie.addEventListener("error",Mt)});return _e.then(Oe=>{Oe instanceof IDBCursor&&me.set(Oe,ie)}).catch(()=>{}),at.set(_e,ie),_e}(ie);if(He.has(ie))return He.get(ie);const _e=_t(ie);return _e!==ie&&(He.set(ie,_e),at.set(_e,ie)),_e}const Me=ie=>at.get(ie),vt=["get","getKey","getAll","getAllKeys","count"],Wt=["put","add","delete","clear"],Et=new Map;function st(ie,_e){if(!(ie instanceof IDBDatabase)||_e in ie||"string"!=typeof _e)return;if(Et.get(_e))return Et.get(_e);const Oe=_e.replace(/FromIndex$/,""),Ct=_e!==Oe,yt=Wt.includes(Oe);if(!(Oe in(Ct?IDBIndex:IDBObjectStore).prototype)||!yt&&!vt.includes(Oe))return;const ft=function(){var Mt=(0,b.A)(function*(tn,...Vn){const an=this.transaction(tn,yt?"readwrite":"readonly");let Gn=an.store;return Ct&&(Gn=Gn.index(Vn.shift())),(yield Promise.all([Gn[Oe](...Vn),yt&&an.done]))[0]});return function(Vn){return Mt.apply(this,arguments)}}();return Et.set(_e,ft),ft}!function Xt(ie){Ft=ie(Ft)}(ie=>({...ie,get:(_e,Oe,Ct)=>st(_e,Oe)||ie.get(_e,Oe,Ct),has:(_e,Oe)=>!!st(_e,Oe)||ie.has(_e,Oe)}));class Ln{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function Rn(ie){const _e=ie.getComponent();return"VERSION"===_e?.type}(Oe)){const Ct=Oe.getImmediate();return`${Ct.library}/${Ct.version}`}return null}).filter(Oe=>Oe).join(" ")}}const Kn="@firebase/app",vn=new q.Vy("@firebase/app"),Ze="@firebase/app-compat",en="@firebase/analytics-compat",Rt="@firebase/analytics",We="@firebase/app-check-compat",Y="@firebase/app-check",ue="@firebase/auth",le="@firebase/auth-compat",ge="@firebase/database",ne="@firebase/data-connect",de="@firebase/database-compat",Ke="@firebase/functions",gt="@firebase/functions-compat",rn="@firebase/installations",Zt="@firebase/installations-compat",nr="@firebase/messaging",zt="@firebase/messaging-compat",Zn="@firebase/performance",Hn="@firebase/performance-compat",qt="@firebase/remote-config",On="@firebase/remote-config-compat",tr="@firebase/storage",Tn="@firebase/storage-compat",Pr="@firebase/firestore",Rr="@firebase/ai",Di="@firebase/firestore-compat",hn="firebase",on="[DEFAULT]",Qi={[Kn]:"fire-core",[Ze]:"fire-core-compat",[Rt]:"fire-analytics",[en]:"fire-analytics-compat",[Y]:"fire-app-check",[We]:"fire-app-check-compat",[ue]:"fire-auth",[le]:"fire-auth-compat",[ge]:"fire-rtdb",[ne]:"fire-data-connect",[de]:"fire-rtdb-compat",[Ke]:"fire-fn",[gt]:"fire-fn-compat",[rn]:"fire-iid",[Zt]:"fire-iid-compat",[nr]:"fire-fcm",[zt]:"fire-fcm-compat",[Zn]:"fire-perf",[Hn]:"fire-perf-compat",[qt]:"fire-rc",[On]:"fire-rc-compat",[tr]:"fire-gcs",[Tn]:"fire-gcs-compat",[Pr]:"fire-fst",[Di]:"fire-fst-compat",[Rr]:"fire-vertex","fire-js":"fire-js",[hn]:"fire-js-all"},Mr=new Map,ut=new Map,wr=new Map;function qn(ie,_e){try{ie.container.addComponent(_e)}catch(Oe){vn.debug(`Component ${_e.name} failed to register with FirebaseApp ${ie.name}`,Oe)}}function ti(ie){const _e=ie.name;if(wr.has(_e))return vn.debug(`There were multiple attempts to register component ${_e}.`),!1;wr.set(_e,ie);for(const Oe of Mr.values())qn(Oe,ie);for(const Oe of ut.values())qn(Oe,ie);return!0}function oi(ie,_e){const Oe=ie.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),ie.container.getProvider(_e)}function gi(ie){return null!=ie&&void 0!==ie.settings}const lr=new I.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class sr{constructor(_e,Oe,Ct){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=Ct,this.container.addComponent(new x.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const Dn="11.8.0";function Ei(ie,_e={}){let Oe=ie;"object"!=typeof _e&&(_e={name:_e});const Ct=Object.assign({name:on,automaticDataCollectionEnabled:!0},_e),yt=Ct.name;if("string"!=typeof yt||!yt)throw lr.create("bad-app-name",{appName:String(yt)});if(Oe||(Oe=(0,I.T9)()),!Oe)throw lr.create("no-options");const ft=Mr.get(yt);if(ft){if((0,I.bD)(Oe,ft.options)&&(0,I.bD)(Ct,ft.config))return ft;throw lr.create("duplicate-app",{appName:yt})}const Mt=new x.h1(yt);for(const Vn of wr.values())Mt.addComponent(Vn);const tn=new sr(Oe,Ct,Mt);return Mr.set(yt,tn),tn}function Wn(ie=on){const _e=Mr.get(ie);if(!_e&&ie===on&&(0,I.T9)())return Ei();if(!_e)throw lr.create("no-app",{appName:ie});return _e}function Xi(){return Array.from(Mr.values())}function Zi(ie,_e,Oe){var Ct;let yt=null!==(Ct=Qi[ie])&&void 0!==Ct?Ct:ie;Oe&&(yt+=`-${Oe}`);const ft=yt.match(/\s|\//),Mt=_e.match(/\s|\//);if(ft||Mt){const tn=[`Unable to register library "${yt}" with version "${_e}":`];return ft&&tn.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),ft&&Mt&&tn.push("and"),Mt&&tn.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void vn.warn(tn.join(" "))}ti(new x.uA(`${yt}-version`,()=>({library:yt,version:_e}),"VERSION"))}const Ir="firebase-heartbeat-store";let Fi=null;function Li(){return Fi||(Fi=function nt(ie,_e,{blocked:Oe,upgrade:Ct,blocking:yt,terminated:ft}={}){const Mt=indexedDB.open(ie,_e),tn=Dt(Mt);return Ct&&Mt.addEventListener("upgradeneeded",Vn=>{Ct(Dt(Mt.result),Vn.oldVersion,Vn.newVersion,Dt(Mt.transaction),Vn)}),Oe&&Mt.addEventListener("blocked",Vn=>Oe(Vn.oldVersion,Vn.newVersion,Vn)),tn.then(Vn=>{ft&&Vn.addEventListener("close",()=>ft()),yt&&Vn.addEventListener("versionchange",an=>yt(an.oldVersion,an.newVersion,an))}).catch(()=>{}),tn}("firebase-heartbeat-database",1,{upgrade:(ie,_e)=>{if(0===_e)try{ie.createObjectStore(Ir)}catch(Oe){console.warn(Oe)}}}).catch(ie=>{throw lr.create("idb-open",{originalErrorMessage:ie.message})})),Fi}function be(){return(be=(0,b.A)(function*(ie){try{const Oe=(yield Li()).transaction(Ir),Ct=yield Oe.objectStore(Ir).get(kt(ie));return yield Oe.done,Ct}catch(_e){if(_e instanceof I.g)vn.warn(_e.message);else{const Oe=lr.create("idb-get",{originalErrorMessage:_e?.message});vn.warn(Oe.message)}}})).apply(this,arguments)}function ye(ie,_e){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,b.A)(function*(ie,_e){try{const Ct=(yield Li()).transaction(Ir,"readwrite");yield Ct.objectStore(Ir).put(_e,kt(ie)),yield Ct.done}catch(Oe){if(Oe instanceof I.g)vn.warn(Oe.message);else{const Ct=lr.create("idb-set",{originalErrorMessage:Oe?.message});vn.warn(Ct.message)}}})).apply(this,arguments)}function kt(ie){return`${ie.name}!${ie.options.appId}`}class Cn{constructor(_e){this.container=_e,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new se(Oe),this._heartbeatsCachePromise=this._storage.read().then(Ct=>(this._heartbeatsCache=Ct,Ct))}triggerHeartbeat(){var _e=this;return(0,b.A)(function*(){var Oe,Ct;try{const ft=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=gr();if(null==(null===(Oe=_e._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise,null==(null===(Ct=_e._heartbeatsCache)||void 0===Ct?void 0:Ct.heartbeats))||_e._heartbeatsCache.lastSentHeartbeatDate===Mt||_e._heartbeatsCache.heartbeats.some(tn=>tn.date===Mt))return;if(_e._heartbeatsCache.heartbeats.push({date:Mt,agent:ft}),_e._heartbeatsCache.heartbeats.length>30){const tn=function lt(ie){if(0===ie.length)return-1;let _e=0,Oe=ie[0].date;for(let Ct=1;Ct<ie.length;Ct++)ie[Ct].date<Oe&&(Oe=ie[Ct].date,_e=Ct);return _e}(_e._heartbeatsCache.heartbeats);_e._heartbeatsCache.heartbeats.splice(tn,1)}return _e._storage.overwrite(_e._heartbeatsCache)}catch(yt){vn.warn(yt)}})()}getHeartbeatsHeader(){var _e=this;return(0,b.A)(function*(){var Oe;try{if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null==(null===(Oe=_e._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)||0===_e._heartbeatsCache.heartbeats.length)return"";const Ct=gr(),{heartbeatsToSend:yt,unsentEntries:ft}=function te(ie,_e=1024){const Oe=[];let Ct=ie.slice();for(const yt of ie){const ft=Oe.find(Mt=>Mt.agent===yt.agent);if(ft){if(ft.dates.push(yt.date),Ae(Oe)>_e){ft.dates.pop();break}}else if(Oe.push({agent:yt.agent,dates:[yt.date]}),Ae(Oe)>_e){Oe.pop();break}Ct=Ct.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:Ct}}(_e._heartbeatsCache.heartbeats),Mt=(0,I.Uj)(JSON.stringify({version:2,heartbeats:yt}));return _e._heartbeatsCache.lastSentHeartbeatDate=Ct,ft.length>0?(_e._heartbeatsCache.heartbeats=ft,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),Mt}catch(Ct){return vn.warn(Ct),""}})()}}function gr(){return(new Date).toISOString().substring(0,10)}class se{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.A)(function*(){return!!(0,I.zW)()&&(0,I.eX)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,b.A)(function*(){if(yield _e._canUseIndexedDBPromise){const Ct=yield function Ni(ie){return be.apply(this,arguments)}(_e.app);return Ct?.heartbeats?Ct:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(_e){var Oe=this;return(0,b.A)(function*(){var Ct;if(yield Oe._canUseIndexedDBPromise){const ft=yield Oe.read();return ye(Oe.app,{lastSentHeartbeatDate:null!==(Ct=_e.lastSentHeartbeatDate)&&void 0!==Ct?Ct:ft.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var Oe=this;return(0,b.A)(function*(){var Ct;if(yield Oe._canUseIndexedDBPromise){const ft=yield Oe.read();return ye(Oe.app,{lastSentHeartbeatDate:null!==(Ct=_e.lastSentHeartbeatDate)&&void 0!==Ct?Ct:ft.lastSentHeartbeatDate,heartbeats:[...ft.heartbeats,..._e.heartbeats]})}})()}}function Ae(ie){return(0,I.Uj)(JSON.stringify({version:2,heartbeats:ie})).length}!function It(ie){ti(new x.uA("platform-logger",_e=>new Ln(_e),"PRIVATE")),ti(new x.uA("heartbeat",_e=>new Cn(_e),"PRIVATE")),Zi(Kn,"0.13.0",ie),Zi(Kn,"0.13.0","esm2017"),Zi("fire-js","")}("")},7908:(En,je,U)=>{"use strict";function b(x,q){if(x){const I=x.indexOf(q);0<=I&&x.splice(I,1)}}U.d(je,{o:()=>b})},7953:(En,je,U)=>{"use strict";U.d(je,{T:()=>x});var b=U(8071);function x(q){return Symbol.asyncIterator&&(0,b.T)(q?.[Symbol.asyncIterator])}},8032:function(En){En.exports=function(){"use strict";var je={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const b=P=>{const N={};for(const j in P)N[P[j]]="swal2-"+P[j];return N},x=b(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),q=b(["success","warning","info","question","error"]),I="SweetAlert2:",Qe=P=>P.charAt(0).toUpperCase()+P.slice(1),Ee=P=>{console.warn(`${I} ${"object"==typeof P?P.join(" "):P}`)},fe=P=>{console.error(`${I} ${P}`)},xe=[],pe=(P,N)=>{(P=>{xe.includes(P)||(xe.push(P),Ee(P))})(`"${P}" is deprecated and will be removed in the next major release. Please use "${N}" instead.`)},et=P=>"function"==typeof P?P():P,He=P=>P&&"function"==typeof P.toPromise,at=P=>He(P)?P.toPromise():Promise.resolve(P),At=P=>P&&Promise.resolve(P)===P,Ut=()=>document.body.querySelector(`.${x.container}`),Ft=P=>{const N=Ut();return N?N.querySelector(P):null},Xt=P=>Ft(`.${P}`),pt=()=>Xt(x.popup),_t=()=>Xt(x.icon),Me=()=>Xt(x.title),nt=()=>Xt(x["html-container"]),Xe=()=>Xt(x.image),vt=()=>Xt(x["progress-steps"]),Wt=()=>Xt(x["validation-message"]),Et=()=>Ft(`.${x.actions} .${x.confirm}`),st=()=>Ft(`.${x.actions} .${x.deny}`),Rn=()=>Ft(`.${x.loader}`),Kn=()=>Ft(`.${x.actions} .${x.cancel}`),dt=()=>Xt(x.actions),vn=()=>Xt(x.footer),Ze=()=>Xt(x["timer-progress-bar"]),en=()=>Xt(x.close),We=()=>{const P=Array.from(pt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((j,De)=>{const Nt=parseInt(j.getAttribute("tabindex")),An=parseInt(De.getAttribute("tabindex"));return Nt>An?1:Nt<An?-1:0}),N=Array.from(pt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(j=>"-1"!==j.getAttribute("tabindex"));return(P=>{const N=[];for(let j=0;j<P.length;j++)-1===N.indexOf(P[j])&&N.push(P[j]);return N})(P.concat(N)).filter(j=>Rr(j))},Y=()=>de(document.body,x.shown)&&!de(document.body,x["toast-shown"])&&!de(document.body,x["no-backdrop"]),ue=()=>pt()&&de(pt(),x.toast),ge={previousBodyPadding:null},ne=(P,N)=>{if(P.textContent="",N){const De=(new DOMParser).parseFromString(N,"text/html");Array.from(De.querySelector("head").childNodes).forEach(Nt=>{P.appendChild(Nt)}),Array.from(De.querySelector("body").childNodes).forEach(Nt=>{Nt instanceof HTMLVideoElement||Nt instanceof HTMLAudioElement?P.appendChild(Nt.cloneNode(!0)):P.appendChild(Nt)})}},de=(P,N)=>{if(!N)return!1;const j=N.split(/\s+/);for(let De=0;De<j.length;De++)if(!P.classList.contains(j[De]))return!1;return!0},gt=(P,N,j)=>{if(((P,N)=>{Array.from(P.classList).forEach(j=>{!Object.values(x).includes(j)&&!Object.values(q).includes(j)&&!Object.values(N.showClass).includes(j)&&P.classList.remove(j)})})(P,N),N.customClass&&N.customClass[j]){if("string"!=typeof N.customClass[j]&&!N.customClass[j].forEach)return void Ee(`Invalid type of customClass.${j}! Expected string or iterable object, got "${typeof N.customClass[j]}"`);zt(P,N.customClass[j])}},rn=(P,N)=>{if(!N)return null;switch(N){case"select":case"textarea":case"file":return P.querySelector(`.${x.popup} > .${x[N]}`);case"checkbox":return P.querySelector(`.${x.popup} > .${x.checkbox} input`);case"radio":return P.querySelector(`.${x.popup} > .${x.radio} input:checked`)||P.querySelector(`.${x.popup} > .${x.radio} input:first-child`);case"range":return P.querySelector(`.${x.popup} > .${x.range} input`);default:return P.querySelector(`.${x.popup} > .${x.input}`)}},Zt=P=>{if(P.focus(),"file"!==P.type){const N=P.value;P.value="",P.value=N}},nr=(P,N,j)=>{!P||!N||("string"==typeof N&&(N=N.split(/\s+/).filter(Boolean)),N.forEach(De=>{Array.isArray(P)?P.forEach(Nt=>{j?Nt.classList.add(De):Nt.classList.remove(De)}):j?P.classList.add(De):P.classList.remove(De)}))},zt=(P,N)=>{nr(P,N,!0)},Zn=(P,N)=>{nr(P,N,!1)},Hn=(P,N)=>{const j=Array.from(P.children);for(let De=0;De<j.length;De++){const Nt=j[De];if(Nt instanceof HTMLElement&&de(Nt,N))return Nt}},qt=(P,N,j)=>{j===`${parseInt(j)}`&&(j=parseInt(j)),j||0===parseInt(j)?P.style[N]="number"==typeof j?`${j}px`:j:P.style.removeProperty(N)},On=function(P){P.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},tr=P=>{P.style.display="none"},Tn=(P,N,j,De)=>{const Nt=P.querySelector(N);Nt&&(Nt.style[j]=De)},Pr=function(P,N){N?On(P,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):tr(P)},Rr=P=>!(!P||!(P.offsetWidth||P.offsetHeight||P.getClientRects().length)),hn=P=>P.scrollHeight>P.clientHeight,hr=P=>{const N=window.getComputedStyle(P),j=parseFloat(N.getPropertyValue("animation-duration")||"0"),De=parseFloat(N.getPropertyValue("transition-duration")||"0");return j>0||De>0},on=function(P){let N=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const j=Ze();Rr(j)&&(N&&(j.style.transition="none",j.style.width="100%"),setTimeout(()=>{j.style.transition=`width ${P/1e3}s linear`,j.style.width="0%"},10))},ut={},qn=P=>new Promise(N=>{if(!P)return N();const j=window.scrollX,De=window.scrollY;ut.restoreFocusTimeout=setTimeout(()=>{ut.previousActiveElement instanceof HTMLElement?(ut.previousActiveElement.focus(),ut.previousActiveElement=null):document.body&&document.body.focus(),N()},100),window.scrollTo(j,De)}),Kt=()=>typeof window>"u"||typeof document>"u",ti=`\n <div aria-labelledby="${x.title}" aria-describedby="${x["html-container"]}" class="${x.popup}" tabindex="-1">\n   <button type="button" class="${x.close}"></button>\n   <ul class="${x["progress-steps"]}"></ul>\n   <div class="${x.icon}"></div>\n   <img class="${x.image}" />\n   <h2 class="${x.title}" id="${x.title}"></h2>\n   <div class="${x["html-container"]}" id="${x["html-container"]}"></div>\n   <input class="${x.input}" />\n   <input type="file" class="${x.file}" />\n   <div class="${x.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${x.select}"></select>\n   <div class="${x.radio}"></div>\n   <label for="${x.checkbox}" class="${x.checkbox}">\n     <input type="checkbox" />\n     <span class="${x.label}"></span>\n   </label>\n   <textarea class="${x.textarea}"></textarea>\n   <div class="${x["validation-message"]}" id="${x["validation-message"]}"></div>\n   <div class="${x.actions}">\n     <div class="${x.loader}"></div>\n     <button type="button" class="${x.confirm}"></button>\n     <button type="button" class="${x.deny}"></button>\n     <button type="button" class="${x.cancel}"></button>\n   </div>\n   <div class="${x.footer}"></div>\n   <div class="${x["timer-progress-bar-container"]}">\n     <div class="${x["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),li=()=>{ut.currentInstance.resetValidationMessage()},lr=P=>{const N=(()=>{const P=Ut();return!!P&&(P.remove(),Zn([document.documentElement,document.body],[x["no-backdrop"],x["toast-shown"],x["has-column"]]),!0)})();if(Kt())return void fe("SweetAlert2 requires document to initialize");const j=document.createElement("div");j.className=x.container,N&&zt(j,x["no-transition"]),ne(j,ti);const De=(P=>"string"==typeof P?document.querySelector(P):P)(P.target);De.appendChild(j),(P=>{const N=pt();N.setAttribute("role",P.toast?"alert":"dialog"),N.setAttribute("aria-live",P.toast?"polite":"assertive"),P.toast||N.setAttribute("aria-modal","true")})(P),(P=>{"rtl"===window.getComputedStyle(P).direction&&zt(Ut(),x.rtl)})(De),(()=>{const P=pt(),N=Hn(P,x.input),j=Hn(P,x.file),De=P.querySelector(`.${x.range} input`),Nt=P.querySelector(`.${x.range} output`),An=Hn(P,x.select),ur=P.querySelector(`.${x.checkbox} input`),Bi=Hn(P,x.textarea);N.oninput=li,j.onchange=li,An.onchange=li,ur.onchange=li,Bi.oninput=li,De.oninput=()=>{li(),Nt.value=De.value},De.onchange=()=>{li(),Nt.value=De.value}})()},sr=(P,N)=>{P instanceof HTMLElement?N.appendChild(P):"object"==typeof P?di(P,N):P&&ne(N,P)},di=(P,N)=>{P.jquery?dr(N,P):ne(N,P.toString())},dr=(P,N)=>{if(P.textContent="",0 in N)for(let j=0;j in N;j++)P.appendChild(N[j].cloneNode(!0));else P.appendChild(N.cloneNode(!0))},Dn=(()=>{if(Kt())return!1;const P=document.createElement("div"),N={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const j in N)if(Object.prototype.hasOwnProperty.call(N,j)&&typeof P.style[j]<"u")return N[j];return!1})(),Nr=(P,N)=>{const j=dt(),De=Rn();N.showConfirmButton||N.showDenyButton||N.showCancelButton?On(j):tr(j),gt(j,N,"actions"),function Wn(P,N,j){const De=Et(),Nt=st(),An=Kn();Le(De,"confirm",j),Le(Nt,"deny",j),Le(An,"cancel",j),function Xi(P,N,j,De){De.buttonsStyling?(zt([P,N,j],x.styled),De.confirmButtonColor&&(P.style.backgroundColor=De.confirmButtonColor,zt(P,x["default-outline"])),De.denyButtonColor&&(N.style.backgroundColor=De.denyButtonColor,zt(N,x["default-outline"])),De.cancelButtonColor&&(j.style.backgroundColor=De.cancelButtonColor,zt(j,x["default-outline"]))):Zn([P,N,j],x.styled)}(De,Nt,An,j),j.reverseButtons&&(j.toast?(P.insertBefore(An,De),P.insertBefore(Nt,De)):(P.insertBefore(An,N),P.insertBefore(Nt,N),P.insertBefore(De,N)))}(j,De,N),ne(De,N.loaderHtml),gt(De,N,"loader")};function Le(P,N,j){Pr(P,j[`show${Qe(N)}Button`],"inline-block"),ne(P,j[`${N}ButtonText`]),P.setAttribute("aria-label",j[`${N}ButtonAriaLabel`]),P.className=x[N],gt(P,j,`${N}Button`),zt(P,j[`${N}ButtonClass`])}const Zi=(P,N)=>{const j=Ut();j&&(function ni(P,N){"string"==typeof N?P.style.background=N:N||zt([document.documentElement,document.body],x["no-backdrop"])}(j,N.backdrop),function Oi(P,N){N in x?zt(P,x[N]):(Ee('The "position" parameter is not valid, defaulting to "center"'),zt(P,x.center))}(j,N.position),function mn(P,N){if(N&&"string"==typeof N){const j=`grow-${N}`;j in x&&zt(P,x[j])}}(j,N.grow),gt(j,N,"container"))};const pr=["input","file","range","select","radio","checkbox","textarea"],Fi=P=>{if(!Qt[P.input])return void fe(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${P.input}"`);const N=kt(P.input),j=Qt[P.input](N,P);On(N),setTimeout(()=>{Zt(j)})},Ni=(P,N)=>{const j=rn(pt(),P);if(j){(P=>{for(let N=0;N<P.attributes.length;N++){const j=P.attributes[N].name;["type","value","style"].includes(j)||P.removeAttribute(j)}})(j);for(const De in N)j.setAttribute(De,N[De])}},be=P=>{const N=kt(P.input);"object"==typeof P.customClass&&zt(N,P.customClass.input)},ye=(P,N)=>{(!P.placeholder||N.inputPlaceholder)&&(P.placeholder=N.inputPlaceholder)},Ue=(P,N,j)=>{if(j.inputLabel){P.id=x.input;const De=document.createElement("label"),Nt=x["input-label"];De.setAttribute("for",P.id),De.className=Nt,"object"==typeof j.customClass&&zt(De,j.customClass.inputLabel),De.innerText=j.inputLabel,N.insertAdjacentElement("beforebegin",De)}},kt=P=>Hn(pt(),x[P]||x.input),Ye=(P,N)=>{["string","number"].includes(typeof N)?P.value=`${N}`:At(N)||Ee(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof N}"`)},Qt={};Qt.text=Qt.email=Qt.password=Qt.number=Qt.tel=Qt.url=(P,N)=>(Ye(P,N.inputValue),Ue(P,P,N),ye(P,N),P.type=N.input,P),Qt.file=(P,N)=>(Ue(P,P,N),ye(P,N),P),Qt.range=(P,N)=>{const j=P.querySelector("input"),De=P.querySelector("output");return Ye(j,N.inputValue),j.type=N.input,Ye(De,N.inputValue),Ue(j,P,N),P},Qt.select=(P,N)=>{if(P.textContent="",N.inputPlaceholder){const j=document.createElement("option");ne(j,N.inputPlaceholder),j.value="",j.disabled=!0,j.selected=!0,P.appendChild(j)}return Ue(P,P,N),P},Qt.radio=P=>(P.textContent="",P),Qt.checkbox=(P,N)=>{const j=rn(pt(),"checkbox");j.value="1",j.id=x.checkbox,j.checked=!!N.inputValue;const De=P.querySelector("span");return ne(De,N.inputPlaceholder),j},Qt.textarea=(P,N)=>{Ye(P,N.inputValue),ye(P,N),Ue(P,P,N);return setTimeout(()=>{if("MutationObserver"in window){const De=parseInt(window.getComputedStyle(pt()).width);new MutationObserver(()=>{const An=P.offsetWidth+(De=>parseInt(window.getComputedStyle(De).marginLeft)+parseInt(window.getComputedStyle(De).marginRight))(P);pt().style.width=An>De?`${An}px`:null}).observe(P,{attributes:!0,attributeFilter:["style"]})}}),P};const Cn=(P,N)=>{const j=nt();gt(j,N,"htmlContainer"),N.html?(sr(N.html,j),On(j,"block")):N.text?(j.textContent=N.text,On(j,"block")):tr(j),((P,N)=>{const j=pt(),De=je.innerParams.get(P),Nt=!De||N.input!==De.input;pr.forEach(An=>{const ur=Hn(j,x[An]);Ni(An,N.inputAttributes),ur.className=x[An],Nt&&tr(ur)}),N.input&&(Nt&&Fi(N),be(N))})(P,N)},se=(P,N)=>{for(const j in q)N.icon!==j&&Zn(P,q[j]);zt(P,q[N.icon]),_e(P,N),Ae(),gt(P,N,"icon")},Ae=()=>{const P=pt(),N=window.getComputedStyle(P).getPropertyValue("background-color"),j=P.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let De=0;De<j.length;De++)j[De].style.backgroundColor=N},ie=(P,N)=>{let De,j=P.innerHTML;N.iconHtml?De=Oe(N.iconHtml):"success"===N.icon?(De='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',j=j.replace(/ style=".*?"/g,"")):De="error"===N.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Oe({question:"?",warning:"!",info:"i"}[N.icon]),j.trim()!==De.trim()&&ne(P,De)},_e=(P,N)=>{if(N.iconColor){P.style.color=N.iconColor,P.style.borderColor=N.iconColor;for(const j of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Tn(P,j,"backgroundColor",N.iconColor);Tn(P,".swal2-success-ring","borderColor",N.iconColor)}},Oe=P=>`<div class="${x["icon-content"]}">${P}</div>`,ft=(P,N)=>{P.className=`${x.popup} ${Rr(P)?N.showClass.popup:""}`,N.toast?(zt([document.documentElement,document.body],x["toast-shown"]),zt(P,x.toast)):zt(P,x.modal),gt(P,N,"popup"),"string"==typeof N.customClass&&zt(P,N.customClass),N.icon&&zt(P,x[`icon-${N.icon}`])},tn=P=>{const N=document.createElement("li");return zt(N,x["progress-step"]),ne(N,P),N},Vn=P=>{const N=document.createElement("li");return zt(N,x["progress-step-line"]),P.progressStepsDistance&&qt(N,"width",P.progressStepsDistance),N},Gn=(P,N)=>{((P,N)=>{const j=Ut(),De=pt();N.toast?(qt(j,"width",N.width),De.style.width="100%",De.insertBefore(Rn(),_t())):qt(De,"width",N.width),qt(De,"padding",N.padding),N.color&&(De.style.color=N.color),N.background&&(De.style.background=N.background),tr(Wt()),ft(De,N)})(0,N),Zi(0,N),((P,N)=>{const j=vt();N.progressSteps&&0!==N.progressSteps.length?(On(j),j.textContent="",N.currentProgressStep>=N.progressSteps.length&&Ee("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),N.progressSteps.forEach((De,Nt)=>{const An=tn(De);if(j.appendChild(An),Nt===N.currentProgressStep&&zt(An,x["active-progress-step"]),Nt!==N.progressSteps.length-1){const ur=Vn(N);j.appendChild(ur)}})):tr(j)})(0,N),((P,N)=>{const j=je.innerParams.get(P),De=_t();j&&N.icon===j.icon?(ie(De,N),se(De,N)):N.icon||N.iconHtml?N.icon&&-1===Object.keys(q).indexOf(N.icon)?(fe(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${N.icon}"`),tr(De)):(On(De),ie(De,N),se(De,N),zt(De,N.showClass.icon)):tr(De)})(P,N),((P,N)=>{const j=Xe();N.imageUrl?(On(j,""),j.setAttribute("src",N.imageUrl),j.setAttribute("alt",N.imageAlt),qt(j,"width",N.imageWidth),qt(j,"height",N.imageHeight),j.className=x.image,gt(j,N,"image")):tr(j)})(0,N),((P,N)=>{const j=Me();Pr(j,N.title||N.titleText,"block"),N.title&&sr(N.title,j),N.titleText&&(j.innerText=N.titleText),gt(j,N,"title")})(0,N),((P,N)=>{const j=en();ne(j,N.closeButtonHtml),gt(j,N,"closeButton"),Pr(j,N.showCloseButton),j.setAttribute("aria-label",N.closeButtonAriaLabel)})(0,N),Cn(P,N),Nr(0,N),((P,N)=>{const j=vn();Pr(j,N.footer),N.footer&&sr(N.footer,j),gt(j,N,"footer")})(0,N),"function"==typeof N.didRender&&N.didRender(pt())};function cr(){const P=je.innerParams.get(this);if(!P)return;const N=je.domCache.get(this);tr(N.loader),ue()?P.icon&&On(_t()):mi(N),Zn([N.popup,N.actions],x.loading),N.popup.removeAttribute("aria-busy"),N.popup.removeAttribute("data-loading"),N.confirmButton.disabled=!1,N.denyButton.disabled=!1,N.cancelButton.disabled=!1}const mi=P=>{const N=P.popup.getElementsByClassName(P.loader.getAttribute("data-button-to-replace"));N.length?On(N[0],"inline-block"):!Rr(Et())&&!Rr(st())&&!Rr(Kn())&&tr(P.actions)};const Ve=()=>Et()&&Et().click(),Ht=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),wn=P=>{P.keydownTarget&&P.keydownHandlerAdded&&(P.keydownTarget.removeEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!1)},bn=(P,N,j)=>{const De=We();if(De.length)return(N+=j)===De.length?N=0:-1===N&&(N=De.length-1),De[N].focus();pt().focus()},rr=["ArrowRight","ArrowDown"],jr=["ArrowLeft","ArrowUp"],Co=(P,N,j)=>{const De=je.innerParams.get(P);De&&(N.isComposing||229===N.keyCode||(De.stopKeydownPropagation&&N.stopPropagation(),"Enter"===N.key?Cr(P,N,De):"Tab"===N.key?so(N,De):[...rr,...jr].includes(N.key)?Hi(N.key):"Escape"===N.key&&Lo(N,De,j)))},Cr=(P,N,j)=>{if(et(j.allowEnterKey)&&N.target&&P.getInput()&&N.target instanceof HTMLElement&&N.target.outerHTML===P.getInput().outerHTML){if(["textarea","file"].includes(j.input))return;Ve(),N.preventDefault()}},so=(P,N)=>{const j=P.target,De=We();let Nt=-1;for(let An=0;An<De.length;An++)if(j===De[An]){Nt=An;break}bn(0,Nt,P.shiftKey?-1:1),P.stopPropagation(),P.preventDefault()},Hi=P=>{const N=Et(),j=st(),De=Kn();if(document.activeElement instanceof HTMLElement&&![N,j,De].includes(document.activeElement))return;const Nt=rr.includes(P)?"nextElementSibling":"previousElementSibling";let An=document.activeElement;for(let ur=0;ur<dt().children.length;ur++){if(An=An[Nt],!An)return;if(An instanceof HTMLButtonElement&&Rr(An))break}An instanceof HTMLButtonElement&&An.focus()},Lo=(P,N,j)=>{et(N.allowEscapeKey)&&(P.preventDefault(),j(Ht.esc))};var ro={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const he=()=>{Array.from(document.body.children).forEach(N=>{N.hasAttribute("data-previous-aria-hidden")?(N.setAttribute("aria-hidden",N.getAttribute("data-previous-aria-hidden")),N.removeAttribute("data-previous-aria-hidden")):N.removeAttribute("aria-hidden")})},ee=()=>{const P=navigator.userAgent,N=!!P.match(/iPad/i)||!!P.match(/iPhone/i),j=!!P.match(/WebKit/i);N&&j&&!P.match(/CriOS/i)&&pt().scrollHeight>window.innerHeight-44&&(Ut().style.paddingBottom="44px")},Re=()=>{const P=Ut();let N;P.ontouchstart=j=>{N=Tt(j)},P.ontouchmove=j=>{N&&(j.preventDefault(),j.stopPropagation())}},Tt=P=>{const N=P.target,j=Ut();return!sn(P)&&!Nn(P)&&(N===j||!hn(j)&&N instanceof HTMLElement&&"INPUT"!==N.tagName&&"TEXTAREA"!==N.tagName&&!(hn(nt())&&nt().contains(N)))},sn=P=>P.touches&&P.touches.length&&"stylus"===P.touches[0].touchType,Nn=P=>P.touches&&P.touches.length>1,Gr=()=>{null===ge.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(ge.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ge.previousBodyPadding+(()=>{const P=document.createElement("div");P.className=x["scrollbar-measure"],document.body.appendChild(P);const N=P.getBoundingClientRect().width-P.clientWidth;return document.body.removeChild(P),N})()}px`)};function mr(P,N,j,De){ue()?ht(P,De):(qn(j).then(()=>ht(P,De)),wn(ut)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(N.setAttribute("style","display:none !important"),N.removeAttribute("class"),N.innerHTML=""):N.remove(),Y()&&(null!==ge.previousBodyPadding&&(document.body.style.paddingRight=`${ge.previousBodyPadding}px`,ge.previousBodyPadding=null),(()=>{if(de(document.body,x.iosfix)){const P=parseInt(document.body.style.top,10);Zn(document.body,x.iosfix),document.body.style.top="",document.body.scrollTop=-1*P}})(),he()),function xn(){Zn([document.documentElement,document.body],[x.shown,x["height-auto"],x["no-backdrop"],x["toast-shown"]])}()}function yr(P){P=ae(P);const N=ro.swalPromiseResolve.get(this),j=hi(this);this.isAwaitingPromise()?P.isDismissed||(jo(this),N(P)):j&&N(P)}const hi=P=>{const N=pt();if(!N)return!1;const j=je.innerParams.get(P);if(!j||de(N,j.hideClass.popup))return!1;Zn(N,j.showClass.popup),zt(N,j.hideClass.popup);const De=Ut();return Zn(De,j.showClass.backdrop),zt(De,j.hideClass.backdrop),tt(P,N,j),!0};const jo=P=>{P.isAwaitingPromise()&&(je.awaitingPromise.delete(P),je.innerParams.get(P)||P._destroy())},ae=P=>typeof P>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},P),tt=(P,N,j)=>{const De=Ut(),Nt=Dn&&hr(N);"function"==typeof j.willClose&&j.willClose(N),Nt?Pe(P,N,De,j.returnFocus,j.didClose):mr(P,De,j.returnFocus,j.didClose)},Pe=(P,N,j,De,Nt)=>{ut.swalCloseEventFinishedCallback=mr.bind(null,P,j,De,Nt),N.addEventListener(Dn,function(An){An.target===N&&(ut.swalCloseEventFinishedCallback(),delete ut.swalCloseEventFinishedCallback)})},ht=(P,N)=>{setTimeout(()=>{"function"==typeof N&&N.bind(P.params)(),P._destroy()})};function Yt(P,N,j){const De=je.domCache.get(P);N.forEach(Nt=>{De[Nt].disabled=j})}function yn(P,N){if(P)if("radio"===P.type){const De=P.parentNode.parentNode.querySelectorAll("input");for(let Nt=0;Nt<De.length;Nt++)De[Nt].disabled=N}else P.disabled=N}const _n={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},is=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],wo={},So=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],qo=P=>Object.prototype.hasOwnProperty.call(_n,P),Ro=P=>-1!==is.indexOf(P),Es=P=>wo[P],os=P=>{qo(P)||Ee(`Unknown parameter "${P}"`)},kr=P=>{So.includes(P)&&Ee(`The parameter "${P}" is incompatible with toasts`)},$o=P=>{Es(P)&&pe(P,Es(P))};const ws=P=>{const N={};return Object.keys(P).forEach(j=>{Ro(j)?N[j]=P[j]:Ee(`Invalid parameter to update: ${j}`)}),N};const ao=P=>{qr(P),delete P.params,delete ut.keydownHandler,delete ut.keydownTarget,delete ut.currentInstance},qr=P=>{P.isAwaitingPromise()?(Qr(je,P),je.awaitingPromise.set(P,!0)):(Qr(ro,P),Qr(je,P))},Qr=(P,N)=>{for(const j in P)P[j].delete(N)};var Is=Object.freeze({__proto__:null,hideLoading:cr,disableLoading:cr,getInput:function Ai(P){const N=je.innerParams.get(P||this),j=je.domCache.get(P||this);return j?rn(j.popup,N.input):null},close:yr,isAwaitingPromise:function zi(){return!!je.awaitingPromise.get(this)},rejectPromise:function Eo(P){const N=ro.swalPromiseReject.get(this);jo(this),N&&N(P)},handleAwaitingPromise:jo,closePopup:yr,closeModal:yr,closeToast:yr,enableButtons:function Un(){Yt(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Yi(){Yt(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function fo(){yn(this.getInput(),!1)},disableInput:function ks(){yn(this.getInput(),!0)},showValidationMessage:function Zr(P){const N=je.domCache.get(this),j=je.innerParams.get(this);ne(N.validationMessage,P),N.validationMessage.className=x["validation-message"],j.customClass&&j.customClass.validationMessage&&zt(N.validationMessage,j.customClass.validationMessage),On(N.validationMessage);const De=this.getInput();De&&(De.setAttribute("aria-invalid",!0),De.setAttribute("aria-describedby",x["validation-message"]),Zt(De),zt(De,x.inputerror))},resetValidationMessage:function rs(){const P=je.domCache.get(this);P.validationMessage&&tr(P.validationMessage);const N=this.getInput();N&&(N.removeAttribute("aria-invalid"),N.removeAttribute("aria-describedby"),Zn(N,x.inputerror))},update:function Ho(P){const N=pt(),j=je.innerParams.get(this);if(!N||de(N,j.hideClass.popup))return void Ee("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const De=ws(P),Nt=Object.assign({},j,De);Gn(this,Nt),je.innerParams.set(this,Nt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,P),writable:!1,enumerable:!0}})},_destroy:function zr(){const P=je.domCache.get(this),N=je.innerParams.get(this);N?(P.popup&&ut.swalCloseEventFinishedCallback&&(ut.swalCloseEventFinishedCallback(),delete ut.swalCloseEventFinishedCallback),"function"==typeof N.didDestroy&&N.didDestroy(),ao(this)):qr(this)}});const Po=P=>{let N=pt();N||new ei,N=pt();const j=Rn();ue()?tr(_t()):Mo(N,P),On(j),N.setAttribute("data-loading","true"),N.setAttribute("aria-busy","true"),N.focus()},Mo=(P,N)=>{const j=dt(),De=Rn();!N&&Rr(Et())&&(N=Et()),On(j),N&&(tr(N),De.setAttribute("data-button-to-replace",N.className)),De.parentNode.insertBefore(De,N),zt([P,j],x.loading)},Vi=P=>P.checked?1:0,Hs=P=>P.checked?P.value:null,No=P=>P.files.length?null!==P.getAttribute("multiple")?P.files:P.files[0]:null,xr=(P,N)=>{const j=pt(),De=Nt=>{Ji[N.input](j,ra(Nt),N)};He(N.inputOptions)||At(N.inputOptions)?(Po(Et()),at(N.inputOptions).then(Nt=>{P.hideLoading(),De(Nt)})):"object"==typeof N.inputOptions?De(N.inputOptions):fe("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof N.inputOptions)},_r=(P,N)=>{const j=P.getInput();tr(j),at(N.inputValue).then(De=>{j.value="number"===N.input?`${parseFloat(De)||0}`:`${De}`,On(j),j.focus(),P.hideLoading()}).catch(De=>{fe(`Error in inputValue promise: ${De}`),j.value="",On(j),j.focus(),P.hideLoading()})},Ji={select:(P,N,j)=>{const De=Hn(P,x.select),Nt=(An,ur,Bi)=>{const Gi=document.createElement("option");Gi.value=Bi,ne(Gi,ur),Gi.selected=xs(Bi,j.inputValue),An.appendChild(Gi)};N.forEach(An=>{const ur=An[0],Bi=An[1];if(Array.isArray(Bi)){const Gi=document.createElement("optgroup");Gi.label=ur,Gi.disabled=!1,De.appendChild(Gi),Bi.forEach(bo=>Nt(Gi,bo[1],bo[0]))}else Nt(De,Bi,ur)}),De.focus()},radio:(P,N,j)=>{const De=Hn(P,x.radio);N.forEach(An=>{const ur=An[0],Bi=An[1],Gi=document.createElement("input"),bo=document.createElement("label");Gi.type="radio",Gi.name=x.radio,Gi.value=ur,xs(ur,j.inputValue)&&(Gi.checked=!0);const Qs=document.createElement("span");ne(Qs,Bi),Qs.className=x.label,bo.appendChild(Gi),bo.appendChild(Qs),De.appendChild(bo)});const Nt=De.querySelectorAll("input");Nt.length&&Nt[0].focus()}},ra=P=>{const N=[];return typeof Map<"u"&&P instanceof Map?P.forEach((j,De)=>{let Nt=j;"object"==typeof Nt&&(Nt=ra(Nt)),N.push([De,Nt])}):Object.keys(P).forEach(j=>{let De=P[j];"object"==typeof De&&(De=ra(De)),N.push([j,De])}),N},xs=(P,N)=>N&&N.toString()===P.toString(),W=(P,N)=>{const j=je.innerParams.get(P);if(!j.input)return void fe(`The "input" parameter is needed to be set when using returnInputValueOn${Qe(N)}`);const De=((P,N)=>{const j=P.getInput();if(!j)return null;switch(N.input){case"checkbox":return Vi(j);case"radio":return Hs(j);case"file":return No(j);default:return N.inputAutoTrim?j.value.trim():j.value}})(P,j);j.inputValidator?z(P,De,N):P.getInput().checkValidity()?"deny"===N?we(P,De):Pt(P,De):(P.enableButtons(),P.showValidationMessage(j.validationMessage))},z=(P,N,j)=>{const De=je.innerParams.get(P);P.disableInput(),Promise.resolve().then(()=>at(De.inputValidator(N,De.validationMessage))).then(An=>{P.enableButtons(),P.enableInput(),An?P.showValidationMessage(An):"deny"===j?we(P,N):Pt(P,N)})},we=(P,N)=>{const j=je.innerParams.get(P||void 0);j.showLoaderOnDeny&&Po(st()),j.preDeny?(je.awaitingPromise.set(P||void 0,!0),Promise.resolve().then(()=>at(j.preDeny(N,j.validationMessage))).then(Nt=>{!1===Nt?(P.hideLoading(),jo(P)):P.close({isDenied:!0,value:typeof Nt>"u"?N:Nt})}).catch(Nt=>rt(P||void 0,Nt))):P.close({isDenied:!0,value:N})},Se=(P,N)=>{P.close({isConfirmed:!0,value:N})},rt=(P,N)=>{P.rejectPromise(N)},Pt=(P,N)=>{const j=je.innerParams.get(P||void 0);j.showLoaderOnConfirm&&Po(),j.preConfirm?(P.resetValidationMessage(),je.awaitingPromise.set(P||void 0,!0),Promise.resolve().then(()=>at(j.preConfirm(N,j.validationMessage))).then(Nt=>{Rr(Wt())||!1===Nt?(P.hideLoading(),jo(P)):Se(P,typeof Nt>"u"?N:Nt)}).catch(Nt=>rt(P||void 0,Nt))):Se(P,N)},In=(P,N,j)=>{N.popup.onclick=()=>{const De=je.innerParams.get(P);De&&(fn(De)||De.timer||De.input)||j(Ht.close)}},fn=P=>P.showConfirmButton||P.showDenyButton||P.showCancelButton||P.showCloseButton;let fr=!1;const Yn=P=>{P.popup.onmousedown=()=>{P.container.onmouseup=function(N){P.container.onmouseup=void 0,N.target===P.container&&(fr=!0)}}},Lr=P=>{P.container.onmousedown=()=>{P.popup.onmouseup=function(N){P.popup.onmouseup=void 0,(N.target===P.popup||P.popup.contains(N.target))&&(fr=!0)}}},yi=(P,N,j)=>{N.container.onclick=De=>{const Nt=je.innerParams.get(P);fr?fr=!1:De.target===N.container&&et(Nt.allowOutsideClick)&&j(Ht.backdrop)}},Ui=P=>P instanceof Element||(P=>"object"==typeof P&&P.jquery)(P);const pi=()=>{if(ut.timeout)return(()=>{const P=Ze(),N=parseInt(window.getComputedStyle(P).width);P.style.removeProperty("transition"),P.style.width="100%";const De=N/parseInt(window.getComputedStyle(P).width)*100;P.style.removeProperty("transition"),P.style.width=`${De}%`})(),ut.timeout.stop()},Si=()=>{if(ut.timeout){const P=ut.timeout.start();return on(P),P}};let zo=!1;const ls={};const ba=P=>{for(let N=P.target;N&&N!==document;N=N.parentNode)for(const j in ls){const De=N.getAttribute(j);if(De)return void ls[j].fire({template:De})}};var zs=Object.freeze({__proto__:null,isValidParameter:qo,isUpdatableParameter:Ro,isDeprecatedParameter:Es,argsToParams:P=>{const N={};return"object"!=typeof P[0]||Ui(P[0])?["title","html","icon"].forEach((j,De)=>{const Nt=P[De];"string"==typeof Nt||Ui(Nt)?N[j]=Nt:void 0!==Nt&&fe(`Unexpected type of ${j}! Expected "string" or "Element", got ${typeof Nt}`)}):Object.assign(N,P[0]),N},getContainer:Ut,getPopup:pt,getTitle:Me,getHtmlContainer:nt,getImage:Xe,getIcon:_t,getIconContent:()=>Xt(x["icon-content"]),getInputLabel:()=>Xt(x["input-label"]),getCloseButton:en,getActions:dt,getConfirmButton:Et,getDenyButton:st,getCancelButton:Kn,getLoader:Rn,getFooter:vn,getTimerProgressBar:Ze,getFocusableElements:We,getValidationMessage:Wt,getProgressSteps:vt,isLoading:()=>pt().hasAttribute("data-loading"),isVisible:()=>Rr(pt()),clickConfirm:Ve,clickDeny:()=>st()&&st().click(),clickCancel:()=>Kn()&&Kn().click(),fire:function Yr(){for(var N=arguments.length,j=new Array(N),De=0;De<N;De++)j[De]=arguments[De];return new this(...j)},mixin:function ki(P){return class N extends(this){_main(De,Nt){return super._main(De,Object.assign({},P,Nt))}}},showLoading:Po,enableLoading:Po,getTimerLeft:()=>ut.timeout&&ut.timeout.getTimerLeft(),stopTimer:pi,resumeTimer:Si,toggleTimer:()=>{const P=ut.timeout;return P&&(P.running?pi():Si())},increaseTimer:P=>{if(ut.timeout){const N=ut.timeout.increase(P);return on(N,!0),N}},isTimerRunning:()=>ut.timeout&&ut.timeout.isRunning(),bindClickHandler:function la(){ls[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,zo||(document.body.addEventListener("click",ba),zo=!0)}});class ds{constructor(N,j){this.callback=N,this.remaining=j,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(N){const j=this.running;return j&&this.stop(),this.remaining+=N,j&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Fa=["swal-title","swal-html","swal-footer"],Ws=P=>{const N={};return Array.from(P.querySelectorAll("swal-param")).forEach(De=>{wi(De,["name","value"]);const Nt=De.getAttribute("name"),An=De.getAttribute("value");N[Nt]="boolean"==typeof _n[Nt]?"false"!==An:"object"==typeof _n[Nt]?JSON.parse(An):An}),N},io=P=>{const N={};return Array.from(P.querySelectorAll("swal-function-param")).forEach(De=>{const Nt=De.getAttribute("name"),An=De.getAttribute("value");N[Nt]=new Function(`return ${An}`)()}),N},Os=P=>{const N={};return Array.from(P.querySelectorAll("swal-button")).forEach(De=>{wi(De,["type","color","aria-label"]);const Nt=De.getAttribute("type");N[`${Nt}ButtonText`]=De.innerHTML,N[`show${Qe(Nt)}Button`]=!0,De.hasAttribute("color")&&(N[`${Nt}ButtonColor`]=De.getAttribute("color")),De.hasAttribute("aria-label")&&(N[`${Nt}ButtonAriaLabel`]=De.getAttribute("aria-label"))}),N},ai=P=>{const N={},j=P.querySelector("swal-image");return j&&(wi(j,["src","width","height","alt"]),j.hasAttribute("src")&&(N.imageUrl=j.getAttribute("src")),j.hasAttribute("width")&&(N.imageWidth=j.getAttribute("width")),j.hasAttribute("height")&&(N.imageHeight=j.getAttribute("height")),j.hasAttribute("alt")&&(N.imageAlt=j.getAttribute("alt"))),N},ko=P=>{const N={},j=P.querySelector("swal-icon");return j&&(wi(j,["type","color"]),j.hasAttribute("type")&&(N.icon=j.getAttribute("type")),j.hasAttribute("color")&&(N.iconColor=j.getAttribute("color")),N.iconHtml=j.innerHTML),N},Fs=P=>{const N={},j=P.querySelector("swal-input");j&&(wi(j,["type","label","placeholder","value"]),N.input=j.getAttribute("type")||"text",j.hasAttribute("label")&&(N.inputLabel=j.getAttribute("label")),j.hasAttribute("placeholder")&&(N.inputPlaceholder=j.getAttribute("placeholder")),j.hasAttribute("value")&&(N.inputValue=j.getAttribute("value")));const De=Array.from(P.querySelectorAll("swal-input-option"));return De.length&&(N.inputOptions={},De.forEach(Nt=>{wi(Nt,["value"]);const An=Nt.getAttribute("value");N.inputOptions[An]=Nt.innerHTML})),N},Gs=(P,N)=>{const j={};for(const De in N){const Nt=N[De],An=P.querySelector(Nt);An&&(wi(An,[]),j[Nt.replace(/^swal-/,"")]=An.innerHTML.trim())}return j},Ks=P=>{const N=Fa.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(P.children).forEach(j=>{const De=j.tagName.toLowerCase();N.includes(De)||Ee(`Unrecognized element <${De}>`)})},wi=(P,N)=>{Array.from(P.attributes).forEach(j=>{-1===N.indexOf(j.name)&&Ee([`Unrecognized attribute "${j.name}" on <${P.tagName.toLowerCase()}>.`,N.length?`Allowed attributes are: ${N.join(", ")}`:"To set the value, use HTML within the element."])})},$r=P=>{const N=Ut(),j=pt();"function"==typeof P.willOpen&&P.willOpen(j);const Nt=window.getComputedStyle(document.body).overflowY;Qa(N,j,P),setTimeout(()=>{Da(N,j)},10),Y()&&(qs(N,P.scrollbarPadding,Nt),Array.from(document.body.children).forEach(N=>{N===Ut()||N.contains(Ut())||(N.hasAttribute("aria-hidden")&&N.setAttribute("data-previous-aria-hidden",N.getAttribute("aria-hidden")),N.setAttribute("aria-hidden","true"))})),!ue()&&!ut.previousActiveElement&&(ut.previousActiveElement=document.activeElement),"function"==typeof P.didOpen&&setTimeout(()=>P.didOpen(j)),Zn(N,x["no-transition"])},Vr=P=>{const N=pt();if(P.target!==N)return;const j=Ut();N.removeEventListener(Dn,Vr),j.style.overflowY="auto"},Da=(P,N)=>{Dn&&hr(N)?(P.style.overflowY="hidden",N.addEventListener(Dn,Vr)):P.style.overflowY="auto"},qs=(P,N,j)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!de(document.body,x.iosfix)){const N=document.body.scrollTop;document.body.style.top=-1*N+"px",zt(document.body,x.iosfix),Re(),ee()}})(),N&&"hidden"!==j&&Gr(),setTimeout(()=>{P.scrollTop=0})},Qa=(P,N,j)=>{zt(P,j.showClass.backdrop),N.style.setProperty("opacity","0","important"),On(N,"grid"),setTimeout(()=>{zt(N,j.showClass.popup),N.style.removeProperty("opacity")},10),zt([document.documentElement,document.body],x.shown),j.heightAuto&&j.backdrop&&!j.toast&&zt([document.documentElement,document.body],x["height-auto"])};var Aa={email:(P,N)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(P)?Promise.resolve():Promise.resolve(N||"Invalid email address"),url:(P,N)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(P)?Promise.resolve():Promise.resolve(N||"Invalid URL")};function Va(P){(function Xa(P){P.inputValidator||Object.keys(Aa).forEach(N=>{P.input===N&&(P.inputValidator=Aa[N])})})(P),P.showLoaderOnConfirm&&!P.preConfirm&&Ee("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function La(P){(!P.target||"string"==typeof P.target&&!document.querySelector(P.target)||"string"!=typeof P.target&&!P.target.appendChild)&&(Ee('Target parameter is not valid, defaulting to "body"'),P.target="body")}(P),"string"==typeof P.title&&(P.title=P.title.split("\n").join("<br />")),lr(P)}let Wo;class Wr{constructor(){if(typeof window>"u")return;Wo=this;for(var N=arguments.length,j=new Array(N),De=0;De<N;De++)j[De]=arguments[De];const Nt=Object.freeze(this.constructor.argsToParams(j));Object.defineProperties(this,{params:{value:Nt,writable:!1,enumerable:!0,configurable:!0}});const An=Wo._main(Wo.params);je.promise.set(this,An)}_main(N){let j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(P=>{!1===P.backdrop&&P.allowOutsideClick&&Ee('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const N in P)os(N),P.toast&&kr(N),$o(N)})(Object.assign({},j,N)),ut.currentInstance&&(ut.currentInstance._destroy(),Y()&&he()),ut.currentInstance=Wo;const De=ir(N,j);Va(De),Object.freeze(De),ut.timeout&&(ut.timeout.stop(),delete ut.timeout),clearTimeout(ut.restoreFocusTimeout);const Nt=ci(Wo);return Gn(Wo,De),je.innerParams.set(Wo,De),Jt(Wo,Nt,De)}then(N){return je.promise.get(this).then(N)}finally(N){return je.promise.get(this).finally(N)}}const Jt=(P,N,j)=>new Promise((De,Nt)=>{const An=ur=>{P.close({isDismissed:!0,dismiss:ur})};ro.swalPromiseResolve.set(P,De),ro.swalPromiseReject.set(P,Nt),N.confirmButton.onclick=()=>{(P=>{const N=je.innerParams.get(P);P.disableButtons(),N.input?W(P,"confirm"):Pt(P,!0)})(P)},N.denyButton.onclick=()=>{(P=>{const N=je.innerParams.get(P);P.disableButtons(),N.returnInputValueOnDeny?W(P,"deny"):we(P,!1)})(P)},N.cancelButton.onclick=()=>{((P,N)=>{P.disableButtons(),N(Ht.cancel)})(P,An)},N.closeButton.onclick=()=>{An(Ht.close)},((P,N,j)=>{je.innerParams.get(P).toast?In(P,N,j):(Yn(N),Lr(N),yi(P,N,j))})(P,N,An),((P,N,j,De)=>{wn(N),j.toast||(N.keydownHandler=Nt=>Co(P,Nt,De),N.keydownTarget=j.keydownListenerCapture?window:pt(),N.keydownListenerCapture=j.keydownListenerCapture,N.keydownTarget.addEventListener("keydown",N.keydownHandler,{capture:N.keydownListenerCapture}),N.keydownHandlerAdded=!0)})(P,ut,j,An),((P,N)=>{"select"===N.input||"radio"===N.input?xr(P,N):["text","email","number","tel","textarea"].includes(N.input)&&(He(N.inputValue)||At(N.inputValue))&&(Po(Et()),_r(P,N))})(P,j),$r(j),Uo(ut,j,An),Wi(N,j),setTimeout(()=>{N.container.scrollTop=0})}),ir=(P,N)=>{const j=(P=>{const N="string"==typeof P.template?document.querySelector(P.template):P.template;if(!N)return{};const j=N.content;return Ks(j),Object.assign(Ws(j),io(j),Os(j),ai(j),ko(j),Fs(j),Gs(j,Fa))})(P),De=Object.assign({},_n,N,j,P);return De.showClass=Object.assign({},_n.showClass,De.showClass),De.hideClass=Object.assign({},_n.hideClass,De.hideClass),De},ci=P=>{const N={popup:pt(),container:Ut(),actions:dt(),confirmButton:Et(),denyButton:st(),cancelButton:Kn(),loader:Rn(),closeButton:en(),validationMessage:Wt(),progressSteps:vt()};return je.domCache.set(P,N),N},Uo=(P,N,j)=>{const De=Ze();tr(De),N.timer&&(P.timeout=new ds(()=>{j("timer"),delete P.timeout},N.timer),N.timerProgressBar&&(On(De),gt(De,N,"timerProgressBar"),setTimeout(()=>{P.timeout&&P.timeout.running&&on(N.timer)})))},Wi=(P,N)=>{if(!N.toast){if(!et(N.allowEnterKey))return void Qo();Go(P,N)||bn(0,-1,1)}},Go=(P,N)=>N.focusDeny&&Rr(P.denyButton)?(P.denyButton.focus(),!0):N.focusCancel&&Rr(P.cancelButton)?(P.cancelButton.focus(),!0):!(!N.focusConfirm||!Rr(P.confirmButton)||(P.confirmButton.focus(),0)),Qo=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const P=new Date,N=localStorage.getItem("swal-initiation");N?(P.getTime()-Date.parse(N))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const j=document.createElement("audio");j.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",j.loop=!0,document.body.appendChild(j),setTimeout(()=>{j.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${P}`)}Object.assign(Wr.prototype,Is),Object.assign(Wr,zs),Object.keys(Is).forEach(P=>{Wr[P]=function(){if(Wo)return Wo[P](...arguments)}}),Wr.DismissReason=Ht,Wr.version="11.6.13";const ei=Wr;return ei.default=ei,ei}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(je,U){var b=je.createElement("style");if(je.getElementsByTagName("head")[0].appendChild(b),b.styleSheet)b.styleSheet.disabled||(b.styleSheet.cssText=U);else try{b.innerHTML=U}catch{b.innerText=U}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8041:(En,je,U)=>{"use strict";U.d(je,{$b:()=>x,Vy:()=>Ee});const b=[];var x=function(me){return me[me.DEBUG=0]="DEBUG",me[me.VERBOSE=1]="VERBOSE",me[me.INFO=2]="INFO",me[me.WARN=3]="WARN",me[me.ERROR=4]="ERROR",me[me.SILENT=5]="SILENT",me}(x||{});const q={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},I=x.INFO,Ce={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},Qe=(me,pe,...et)=>{if(pe<me.logLevel)return;const He=(new Date).toISOString(),at=Ce[pe];if(!at)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[at](`[${He}]  ${me.name}:`,...et)};class Ee{constructor(pe){this.name=pe,this._logLevel=I,this._logHandler=Qe,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in x))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?q[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...pe),this._logHandler(this,x.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...pe),this._logHandler(this,x.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,x.INFO,...pe),this._logHandler(this,x.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,x.WARN,...pe),this._logHandler(this,x.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,x.ERROR,...pe),this._logHandler(this,x.ERROR,...pe)}}},8071:(En,je,U)=>{"use strict";function b(x){return"function"==typeof x}U.d(je,{T:()=>b})},8359:(En,je,U)=>{"use strict";U.d(je,{Kn:()=>Qe,yU:()=>Ce,Uv:()=>Ee});var b=U(8071);const q=(0,U(1853).L)(xe=>function(pe){xe(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((et,He)=>`${He+1}) ${et.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var I=U(7908);class Ce{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const at of pe)at.remove(this);else pe.remove(this);const{initialTeardown:et}=this;if((0,b.T)(et))try{et()}catch(at){me=at instanceof q?at.errors:[at]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const at of He)try{fe(at)}catch(At){me=me??[],At instanceof q?me=[...me,...At.errors]:me.push(At)}}if(me)throw new q(me)}}add(me){var pe;if(me&&me!==this)if(this.closed)fe(me);else{if(me instanceof Ce){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(me)}}_hasParent(me){const{_parentage:pe}=this;return pe===me||Array.isArray(pe)&&pe.includes(me)}_addParent(me){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(me),pe):pe?[pe,me]:me}_removeParent(me){const{_parentage:pe}=this;pe===me?this._parentage=null:Array.isArray(pe)&&(0,I.o)(pe,me)}remove(me){const{_finalizers:pe}=this;pe&&(0,I.o)(pe,me),me instanceof Ce&&me._removeParent(this)}}Ce.EMPTY=(()=>{const xe=new Ce;return xe.closed=!0,xe})();const Qe=Ce.EMPTY;function Ee(xe){return xe instanceof Ce||xe&&"closed"in xe&&(0,b.T)(xe.remove)&&(0,b.T)(xe.add)&&(0,b.T)(xe.unsubscribe)}function fe(xe){(0,b.T)(xe)?xe():xe.unsubscribe()}},8399:(En,je,U)=>{"use strict";var b=U(6048),x=U(9377),q=U(9361),I=U(1360);const Ce=new I.nKC("");let Qe=(()=>{class y{_zone;_plugins;_eventNameToPlugin=new Map;constructor(h,m){this._zone=m,h.forEach(T=>{T.manager=this}),this._plugins=h.slice().reverse()}addEventListener(h,m,T,M){return this._findPluginFor(m).addEventListener(h,m,T,M)}getZone(){return this._zone}_findPluginFor(h){let m=this._eventNameToPlugin.get(h);if(m)return m;if(m=this._plugins.find(M=>M.supports(h)),!m)throw new I.wOt(5101,!1);return this._eventNameToPlugin.set(h,m),m}static \u0275fac=function(m){return new(m||y)(I.KVO(Ce),I.KVO(I.SKi))};static \u0275prov=I.jDH({token:y,factory:y.\u0275fac})}return y})();class Ee{_doc;constructor(l){this._doc=l}manager}const fe="ng-app-id";function xe(y){for(const l of y)l.remove()}function me(y,l){const h=l.createElement("style");return h.textContent=y,h}function et(y,l){const h=l.createElement("link");return h.setAttribute("rel","stylesheet"),h.setAttribute("href",y),h}let He=(()=>{class y{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(h,m,T,M={}){this.doc=h,this.appId=m,this.nonce=T,this.isServer=(0,x.Vy)(M),function pe(y,l,h,m){const T=y.head?.querySelectorAll(`style[${fe}="${l}"],link[${fe}="${l}"]`);if(T)for(const M of T)M.removeAttribute(fe),M instanceof HTMLLinkElement?m.set(M.href.slice(M.href.lastIndexOf("/")+1),{usage:0,elements:[M]}):M.textContent&&h.set(M.textContent,{usage:0,elements:[M]})}(h,m,this.inline,this.external),this.hosts.add(h.head)}addStyles(h,m){for(const T of h)this.addUsage(T,this.inline,me);m?.forEach(T=>this.addUsage(T,this.external,et))}removeStyles(h,m){for(const T of h)this.removeUsage(T,this.inline);m?.forEach(T=>this.removeUsage(T,this.external))}addUsage(h,m,T){const M=m.get(h);M?M.usage++:m.set(h,{usage:1,elements:[...this.hosts].map(G=>this.addElement(G,T(h,this.doc)))})}removeUsage(h,m){const T=m.get(h);T&&(T.usage--,T.usage<=0&&(xe(T.elements),m.delete(h)))}ngOnDestroy(){for(const[,{elements:h}]of[...this.inline,...this.external])xe(h);this.hosts.clear()}addHost(h){this.hosts.add(h);for(const[m,{elements:T}]of this.inline)T.push(this.addElement(h,me(m,this.doc)));for(const[m,{elements:T}]of this.external)T.push(this.addElement(h,et(m,this.doc)))}removeHost(h){this.hosts.delete(h)}addElement(h,m){return this.nonce&&m.setAttribute("nonce",this.nonce),this.isServer&&m.setAttribute(fe,this.appId),h.appendChild(m)}static \u0275fac=function(m){return new(m||y)(I.KVO(q.q),I.KVO(I.sZ2),I.KVO(I.BIS,8),I.KVO(I.Agw))};static \u0275prov=I.jDH({token:y,factory:y.\u0275fac})}return y})();const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},At=/%COMP%/g,Me=new I.nKC("",{providedIn:"root",factory:()=>!0});function vt(y,l){return l.map(h=>h.replace(At,y))}let Et=(()=>{class y{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(h,m,T,M,G,Q,Ie,Ge=null,jt=null){this.eventManager=h,this.sharedStylesHost=m,this.appId=T,this.removeStylesOnCompDestroy=M,this.doc=G,this.platformId=Q,this.ngZone=Ie,this.nonce=Ge,this.tracingService=jt,this.platformIsServer=(0,x.Vy)(Q),this.defaultRenderer=new st(h,G,Ie,this.platformIsServer,this.tracingService)}createRenderer(h,m){if(!h||!m)return this.defaultRenderer;this.platformIsServer&&m.encapsulation===I.gXe.ShadowDom&&(m={...m,encapsulation:I.gXe.Emulated});const T=this.getOrCreateRenderer(h,m);return T instanceof Ze?T.applyToHost(h):T instanceof vn&&T.applyStyles(),T}getOrCreateRenderer(h,m){const T=this.rendererByCompId;let M=T.get(m.id);if(!M){const G=this.doc,Q=this.ngZone,Ie=this.eventManager,Ge=this.sharedStylesHost,jt=this.removeStylesOnCompDestroy,un=this.platformIsServer,ar=this.tracingService;switch(m.encapsulation){case I.gXe.Emulated:M=new Ze(Ie,Ge,m,this.appId,jt,G,Q,un,ar);break;case I.gXe.ShadowDom:return new dt(Ie,Ge,h,m,G,Q,this.nonce,un,ar);default:M=new vn(Ie,Ge,m,jt,G,Q,un,ar)}T.set(m.id,M)}return M}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(h){this.rendererByCompId.delete(h)}static \u0275fac=function(m){return new(m||y)(I.KVO(Qe),I.KVO(He),I.KVO(I.sZ2),I.KVO(Me),I.KVO(q.q),I.KVO(I.Agw),I.KVO(I.SKi),I.KVO(I.BIS),I.KVO(I.Lf2,8))};static \u0275prov=I.jDH({token:y,factory:y.\u0275fac})}return y})();class st{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(l,h,m,T,M){this.eventManager=l,this.doc=h,this.ngZone=m,this.platformIsServer=T,this.tracingService=M}destroy(){}destroyNode=null;createElement(l,h){return h?this.doc.createElementNS(at[h]||h,l):this.doc.createElement(l)}createComment(l){return this.doc.createComment(l)}createText(l){return this.doc.createTextNode(l)}appendChild(l,h){(Kn(l)?l.content:l).appendChild(h)}insertBefore(l,h,m){l&&(Kn(l)?l.content:l).insertBefore(h,m)}removeChild(l,h){h.remove()}selectRootElement(l,h){let m="string"==typeof l?this.doc.querySelector(l):l;if(!m)throw new I.wOt(-5104,!1);return h||(m.textContent=""),m}parentNode(l){return l.parentNode}nextSibling(l){return l.nextSibling}setAttribute(l,h,m,T){if(T){h=T+":"+h;const M=at[T];M?l.setAttributeNS(M,h,m):l.setAttribute(h,m)}else l.setAttribute(h,m)}removeAttribute(l,h,m){if(m){const T=at[m];T?l.removeAttributeNS(T,h):l.removeAttribute(`${m}:${h}`)}else l.removeAttribute(h)}addClass(l,h){l.classList.add(h)}removeClass(l,h){l.classList.remove(h)}setStyle(l,h,m,T){T&(I.czy.DashCase|I.czy.Important)?l.style.setProperty(h,m,T&I.czy.Important?"important":""):l.style[h]=m}removeStyle(l,h,m){m&I.czy.DashCase?l.style.removeProperty(h):l.style[h]=""}setProperty(l,h,m){null!=l&&(l[h]=m)}setValue(l,h){l.nodeValue=h}listen(l,h,m,T){if("string"==typeof l&&!(l=(0,b.rb)().getGlobalEventTarget(this.doc,l)))throw new I.wOt(5102,!1);let M=this.decoratePreventDefault(m);return this.tracingService?.wrapEventListener&&(M=this.tracingService.wrapEventListener(l,h,M)),this.eventManager.addEventListener(l,h,M,T)}decoratePreventDefault(l){return h=>{if("__ngUnwrap__"===h)return l;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>l(h)):l(h))&&h.preventDefault()}}}function Kn(y){return"TEMPLATE"===y.tagName&&void 0!==y.content}class dt extends st{sharedStylesHost;hostEl;shadowRoot;constructor(l,h,m,T,M,G,Q,Ie,Ge){super(l,M,G,Ie,Ge),this.sharedStylesHost=h,this.hostEl=m,this.shadowRoot=m.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let jt=T.styles;jt=vt(T.id,jt);for(const ar of jt){const Fn=document.createElement("style");Q&&Fn.setAttribute("nonce",Q),Fn.textContent=ar,this.shadowRoot.appendChild(Fn)}const un=T.getExternalStyles?.();if(un)for(const ar of un){const Fn=et(ar,M);Q&&Fn.setAttribute("nonce",Q),this.shadowRoot.appendChild(Fn)}}nodeOrShadowRoot(l){return l===this.hostEl?this.shadowRoot:l}appendChild(l,h){return super.appendChild(this.nodeOrShadowRoot(l),h)}insertBefore(l,h,m){return super.insertBefore(this.nodeOrShadowRoot(l),h,m)}removeChild(l,h){return super.removeChild(null,h)}parentNode(l){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(l)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vn extends st{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(l,h,m,T,M,G,Q,Ie,Ge){super(l,M,G,Q,Ie),this.sharedStylesHost=h,this.removeStylesOnCompDestroy=T;let jt=m.styles;this.styles=Ge?vt(Ge,jt):jt,this.styleUrls=m.getExternalStyles?.(Ge)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Ze extends vn{contentAttr;hostAttr;constructor(l,h,m,T,M,G,Q,Ie,Ge){const jt=T+"-"+m.id;super(l,h,m,M,G,Q,Ie,Ge,jt),this.contentAttr=function nt(y){return"_ngcontent-%COMP%".replace(At,y)}(jt),this.hostAttr=function Xe(y){return"_nghost-%COMP%".replace(At,y)}(jt)}applyToHost(l){this.applyStyles(),this.setAttribute(l,this.hostAttr,"")}createElement(l,h){const m=super.createElement(l,h);return super.setAttribute(m,this.contentAttr,""),m}}class en extends b.qj{supportsDOMEvents=!0;static makeCurrent(){(0,b.ig)(new en)}onAndCancel(l,h,m,T){return l.addEventListener(h,m,T),()=>{l.removeEventListener(h,m,T)}}dispatchEvent(l,h){l.dispatchEvent(h)}remove(l){l.remove()}createElement(l,h){return(h=h||this.getDefaultDocument()).createElement(l)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(l){return l.nodeType===Node.ELEMENT_NODE}isShadowRoot(l){return l instanceof DocumentFragment}getGlobalEventTarget(l,h){return"window"===h?window:"document"===h?l:"body"===h?l.body:null}getBaseHref(l){const h=function We(){return Rt=Rt||document.head.querySelector("base"),Rt?Rt.getAttribute("href"):null}();return null==h?null:function Y(y){return new URL(y,document.baseURI).pathname}(h)}resetBaseElement(){Rt=null}getUserAgent(){return window.navigator.userAgent}getCookie(l){return(0,x.bS)(document.cookie,l)}}let Rt=null,le=(()=>{class y{build(){return new XMLHttpRequest}static \u0275fac=function(m){return new(m||y)};static \u0275prov=I.jDH({token:y,factory:y.\u0275fac})}return y})(),ge=(()=>{class y extends Ee{constructor(h){super(h)}supports(h){return!0}addEventListener(h,m,T,M){return h.addEventListener(m,T,M),()=>this.removeEventListener(h,m,T,M)}removeEventListener(h,m,T,M){return h.removeEventListener(m,T,M)}static \u0275fac=function(m){return new(m||y)(I.KVO(q.q))};static \u0275prov=I.jDH({token:y,factory:y.\u0275fac})}return y})();const ne=["alt","control","meta","shift"],de={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ke={alt:y=>y.altKey,control:y=>y.ctrlKey,meta:y=>y.metaKey,shift:y=>y.shiftKey};let gt=(()=>{class y extends Ee{constructor(h){super(h)}supports(h){return null!=y.parseEventName(h)}addEventListener(h,m,T,M){const G=y.parseEventName(m),Q=y.eventCallback(G.fullKey,T,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.rb)().onAndCancel(h,G.domEventName,Q,M))}static parseEventName(h){const m=h.toLowerCase().split("."),T=m.shift();if(0===m.length||"keydown"!==T&&"keyup"!==T)return null;const M=y._normalizeKey(m.pop());let G="",Q=m.indexOf("code");if(Q>-1&&(m.splice(Q,1),G="code."),ne.forEach(Ge=>{const jt=m.indexOf(Ge);jt>-1&&(m.splice(jt,1),G+=Ge+".")}),G+=M,0!=m.length||0===M.length)return null;const Ie={};return Ie.domEventName=T,Ie.fullKey=G,Ie}static matchEventFullKeyCode(h,m){let T=de[h.key]||h.key,M="";return m.indexOf("code.")>-1&&(T=h.code,M="code."),!(null==T||!T)&&(T=T.toLowerCase()," "===T?T="space":"."===T&&(T="dot"),ne.forEach(G=>{G!==T&&(0,Ke[G])(h)&&(M+=G+".")}),M+=T,M===m)}static eventCallback(h,m,T){return M=>{y.matchEventFullKeyCode(M,h)&&T.runGuarded(()=>m(M))}}static _normalizeKey(h){return"esc"===h?"escape":h}static \u0275fac=function(m){return new(m||y)(I.KVO(q.q))};static \u0275prov=I.jDH({token:y,factory:y.\u0275fac})}return y})();function nr(y){return{appProviders:[...Rr,...y?.providers??[]],platformProviders:On}}const On=[{provide:I.Agw,useValue:x.Zn},{provide:I.PLl,useValue:function Zn(){en.makeCurrent()},multi:!0},{provide:q.q,useFactory:function qt(){return(0,I.TL$)(document),document}}],Rr=[{provide:I.H8p,useValue:"root"},{provide:I.zcH,useFactory:function Hn(){return new I.zcH}},{provide:Ce,useClass:ge,multi:!0,deps:[q.q]},{provide:Ce,useClass:gt,multi:!0,deps:[q.q]},Et,He,Qe,{provide:I._9s,useExisting:Et},{provide:x.N0,useClass:le},[]];var hn=U(969);function on(y){return new I.wOt(3e3,!1)}function ye(y){switch(y.length){case 0:return new hn.sf;case 1:return y[0];default:return new hn.PZ(y)}}function Ue(y,l,h=new Map,m=new Map){const T=[],M=[];let G=-1,Q=null;if(l.forEach(Ie=>{const Ge=Ie.get("offset"),jt=Ge==G,un=jt&&Q||new Map;Ie.forEach((ar,Fn)=>{let Bn=Fn,Qn=ar;if("offset"!==Fn)switch(Bn=y.normalizePropertyName(Bn,T),Qn){case hn.FX:Qn=h.get(Fn);break;case hn.kp:Qn=m.get(Fn);break;default:Qn=y.normalizeStyleValue(Fn,Bn,Qn,T)}un.set(Bn,Qn)}),jt||M.push(un),Q=un,G=Ge}),T.length)throw function Le(){return new I.wOt(3502,!1)}();return M}function kt(y,l,h,m){switch(l){case"start":y.onStart(()=>m(h&&Ye(h,"start",y)));break;case"done":y.onDone(()=>m(h&&Ye(h,"done",y)));break;case"destroy":y.onDestroy(()=>m(h&&Ye(h,"destroy",y)))}}function Ye(y,l,h){const M=Qt(y.element,y.triggerName,y.fromState,y.toState,l||y.phaseName,h.totalTime??y.totalTime,!!h.disabled),G=y._data;return null!=G&&(M._data=G),M}function Qt(y,l,h,m,T="",M=0,G){return{element:y,triggerName:l,fromState:h,toState:m,phaseName:T,totalTime:M,disabled:!!G}}function Cn(y,l,h){let m=y.get(l);return m||y.set(l,m=h),m}function gr(y){const l=y.indexOf(":");return[y.substring(1,l),y.slice(l+1)]}const te=typeof document>"u"?null:document.documentElement;function se(y){const l=y.parentNode||y.host||null;return l===te?null:l}let lt=null,It=!1;function Ct(y,l){for(;l;){if(l===y)return!0;l=se(l)}return!1}function yt(y,l,h){if(h)return Array.from(y.querySelectorAll(l));const m=y.querySelector(l);return m?[m]:[]}const Vn="ng-enter",an="ng-leave",Gn="ng-trigger",cr=".ng-trigger",mi="ng-animating",Ai=".ng-animating";function ve(y){if("number"==typeof y)return y;const l=y.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:Ve(parseFloat(l[1]),l[2])}function Ve(y,l){return"s"===l?1e3*y:y}function qe(y,l,h){return y.hasOwnProperty("duration")?y:function Lt(y,l,h){let T,M=0,G="";if("string"==typeof y){const Q=y.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Q)return l.push(on()),{duration:0,delay:0,easing:""};T=Ve(parseFloat(Q[1]),Q[2]);const Ie=Q[3];null!=Ie&&(M=Ve(parseFloat(Ie),Q[4]));const Ge=Q[5];Ge&&(G=Ge)}else T=y;if(!h){let Q=!1,Ie=l.length;T<0&&(l.push(function Qi(){return new I.wOt(3100,!1)}()),Q=!0),M<0&&(l.push(function Mr(){return new I.wOt(3101,!1)}()),Q=!0),Q&&l.splice(Ie,0,on())}return{duration:T,delay:M,easing:G}}(y,l,h)}function kn(y,l,h){l.forEach((m,T)=>{const M=Lo(T);h&&!h.has(T)&&h.set(T,y.style[M]),y.style[M]=m})}function bn(y,l){l.forEach((h,m)=>{const T=Lo(m);y.style[T]=""})}function rr(y){return Array.isArray(y)?1==y.length?y[0]:(0,hn.K2)(y):y}const Co=new RegExp("{{\\s*(.+?)\\s*}}","g");function Cr(y){let l=[];if("string"==typeof y){let h;for(;h=Co.exec(y);)l.push(h[1]);Co.lastIndex=0}return l}function so(y,l,h){const m=`${y}`,T=m.replace(Co,(M,G)=>{let Q=l[G];return null==Q&&(h.push(function wr(){return new I.wOt(3003,!1)}()),Q=""),Q.toString()});return T==m?y:T}const Hi=/-+([a-z0-9])/g;function Lo(y){return y.replace(Hi,(...l)=>l[1].toUpperCase())}function K(y,l,h){switch(l.type){case hn.If.Trigger:return y.visitTrigger(l,h);case hn.If.State:return y.visitState(l,h);case hn.If.Transition:return y.visitTransition(l,h);case hn.If.Sequence:return y.visitSequence(l,h);case hn.If.Group:return y.visitGroup(l,h);case hn.If.Animate:return y.visitAnimate(l,h);case hn.If.Keyframes:return y.visitKeyframes(l,h);case hn.If.Style:return y.visitStyle(l,h);case hn.If.Reference:return y.visitReference(l,h);case hn.If.AnimateChild:return y.visitAnimateChild(l,h);case hn.If.AnimateRef:return y.visitAnimateRef(l,h);case hn.If.Query:return y.visitQuery(l,h);case hn.If.Stagger:return y.visitStagger(l,h);default:throw function qn(){return new I.wOt(3004,!1)}()}}function ee(y,l){return window.getComputedStyle(y)[l]}let Re=(()=>{class y{validateStyleProperty(h){return function ie(y){lt||(lt=function Oe(){return typeof document<"u"?document.body:null}()||{},It=!!lt.style&&"WebkitAppearance"in lt.style);let l=!0;return lt.style&&!function Ae(y){return"ebkit"==y.substring(1,6)}(y)&&(l=y in lt.style,!l&&It&&(l="Webkit"+y.charAt(0).toUpperCase()+y.slice(1)in lt.style)),l}(h)}containsElement(h,m){return Ct(h,m)}getParentElement(h){return se(h)}query(h,m,T){return yt(h,m,T)}computeStyle(h,m,T){return T||""}animate(h,m,T,M,G,Q=[],Ie){return new hn.sf(T,M)}static \u0275fac=function(m){return new(m||y)};static \u0275prov=I.jDH({token:y,factory:y.\u0275fac})}return y})();class Tt{static NOOP=new Re}class sn{}const ri=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gr extends sn{normalizePropertyName(l,h){return Lo(l)}normalizeStyleValue(l,h,m,T){let M="";const G=m.toString().trim();if(ri.has(h)&&0!==m&&"0"!==m)if("number"==typeof m)M="px";else{const Q=m.match(/^[+-]?[\d\.]+([a-z]*)$/);Q&&0==Q[1].length&&T.push(function Kt(){return new I.wOt(3005,!1)}())}return G+M}}const tt=new Set(["true","1"]),Pe=new Set(["false","0"]);function ht(y,l){const h=tt.has(y)||Pe.has(y),m=tt.has(l)||Pe.has(l);return(T,M)=>{let G="*"==y||y==T,Q="*"==l||l==M;return!G&&h&&"boolean"==typeof T&&(G=T?tt.has(y):Pe.has(y)),!Q&&m&&"boolean"==typeof M&&(Q=M?tt.has(l):Pe.has(l)),G&&Q}}const yn=new RegExp("s*:selfs*,?","g");function Un(y,l,h,m){return new fo(y).build(l,h,m)}class fo{_driver;constructor(l){this._driver=l}build(l,h,m){const T=new rs(h);return this._resetContextStyleTimingState(T),K(this,rr(l),T)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles=new Map,l.collectedStyles.set("",new Map),l.currentTime=0}visitTrigger(l,h){let m=h.queryCount=0,T=h.depCount=0;const M=[],G=[];return"@"==l.name.charAt(0)&&h.errors.push(function ti(){return new I.wOt(3006,!1)}()),l.definitions.forEach(Q=>{if(this._resetContextStyleTimingState(h),Q.type==hn.If.State){const Ie=Q,Ge=Ie.name;Ge.toString().split(/\s*,\s*/).forEach(jt=>{Ie.name=jt,M.push(this.visitState(Ie,h))}),Ie.name=Ge}else if(Q.type==hn.If.Transition){const Ie=this.visitTransition(Q,h);m+=Ie.queryCount,T+=Ie.depCount,G.push(Ie)}else h.errors.push(function oi(){return new I.wOt(3007,!1)}())}),{type:hn.If.Trigger,name:l.name,states:M,transitions:G,queryCount:m,depCount:T,options:null}}visitState(l,h){const m=this.visitStyle(l.styles,h),T=l.options&&l.options.params||null;if(m.containsDynamicStyles){const M=new Set,G=T||{};m.styles.forEach(Q=>{Q instanceof Map&&Q.forEach(Ie=>{Cr(Ie).forEach(Ge=>{G.hasOwnProperty(Ge)||M.add(Ge)})})}),M.size&&h.errors.push(function li(){return new I.wOt(3008,!1)}(0,M.values()))}return{type:hn.If.State,name:l.name,style:m,options:T?{params:T}:null}}visitTransition(l,h){h.queryCount=0,h.depCount=0;const m=K(this,rr(l.animation),h),T=function Eo(y,l){const h=[];return"string"==typeof y?y.split(/\s*,\s*/).forEach(m=>function jo(y,l,h){if(":"==y[0]){const Ie=function ae(y,l){switch(y){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(h,m)=>parseFloat(m)>parseFloat(h);case":decrement":return(h,m)=>parseFloat(m)<parseFloat(h);default:return l.push(function Ei(){return new I.wOt(3016,!1)}()),"* => *"}}(y,h);if("function"==typeof Ie)return void l.push(Ie);y=Ie}const m=y.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==m||m.length<4)return h.push(function Dn(){return new I.wOt(3015,!1)}()),l;const T=m[1],M=m[2],G=m[3];l.push(ht(T,G)),"<"==M[0]&&("*"!=T||"*"!=G)&&l.push(ht(G,T))}(m,h,l)):h.push(y),h}(l.expr,h.errors);return{type:hn.If.Transition,matchers:T,animation:m,queryCount:h.queryCount,depCount:h.depCount,options:wo(l.options)}}visitSequence(l,h){return{type:hn.If.Sequence,steps:l.steps.map(m=>K(this,m,h)),options:wo(l.options)}}visitGroup(l,h){const m=h.currentTime;let T=0;const M=l.steps.map(G=>{h.currentTime=m;const Q=K(this,G,h);return T=Math.max(T,h.currentTime),Q});return h.currentTime=T,{type:hn.If.Group,steps:M,options:wo(l.options)}}visitAnimate(l,h){const m=function is(y,l){if(y.hasOwnProperty("duration"))return y;if("number"==typeof y)return So(qe(y,l).duration,0,"");const h=y;if(h.split(/\s+/).some(M=>"{"==M.charAt(0)&&"{"==M.charAt(1))){const M=So(0,0,"");return M.dynamic=!0,M.strValue=h,M}const T=qe(h,l);return So(T.duration,T.delay,T.easing)}(l.timings,h.errors);h.currentAnimateTimings=m;let T,M=l.styles?l.styles:(0,hn.iF)({});if(M.type==hn.If.Keyframes)T=this.visitKeyframes(M,h);else{let G=l.styles,Q=!1;if(!G){Q=!0;const Ge={};m.easing&&(Ge.easing=m.easing),G=(0,hn.iF)(Ge)}h.currentTime+=m.duration+m.delay;const Ie=this.visitStyle(G,h);Ie.isEmptyStep=Q,T=Ie}return h.currentAnimateTimings=null,{type:hn.If.Animate,timings:m,style:T,options:null}}visitStyle(l,h){const m=this._makeStyleAst(l,h);return this._validateStyleAst(m,h),m}_makeStyleAst(l,h){const m=[],T=Array.isArray(l.styles)?l.styles:[l.styles];for(let Q of T)"string"==typeof Q?Q===hn.kp?m.push(Q):h.errors.push(new I.wOt(3002,!1)):m.push(new Map(Object.entries(Q)));let M=!1,G=null;return m.forEach(Q=>{if(Q instanceof Map&&(Q.has("easing")&&(G=Q.get("easing"),Q.delete("easing")),!M))for(let Ie of Q.values())if(Ie.toString().indexOf("{{")>=0){M=!0;break}}),{type:hn.If.Style,styles:m,easing:G,offset:l.offset,containsDynamicStyles:M,options:null}}_validateStyleAst(l,h){const m=h.currentAnimateTimings;let T=h.currentTime,M=h.currentTime;m&&M>0&&(M-=m.duration+m.delay),l.styles.forEach(G=>{"string"!=typeof G&&G.forEach((Q,Ie)=>{const Ge=h.collectedStyles.get(h.currentQuerySelector),jt=Ge.get(Ie);let un=!0;jt&&(M!=T&&M>=jt.startTime&&T<=jt.endTime&&(h.errors.push(function gi(){return new I.wOt(3010,!1)}()),un=!1),M=jt.startTime),un&&Ge.set(Ie,{startTime:M,endTime:T}),h.options&&function jr(y,l,h){const m=l.params||{},T=Cr(y);T.length&&T.forEach(M=>{m.hasOwnProperty(M)||h.push(function ut(){return new I.wOt(3001,!1)}())})}(Q,h.options,h.errors)})})}visitKeyframes(l,h){const m={type:hn.If.Keyframes,styles:[],options:null};if(!h.currentAnimateTimings)return h.errors.push(function Ar(){return new I.wOt(3011,!1)}()),m;let M=0;const G=[];let Q=!1,Ie=!1,Ge=0;const jt=l.steps.map(Ki=>{const mo=this._makeStyleAst(Ki,h);let Xo=null!=mo.offset?mo.offset:function _n(y){if("string"==typeof y)return null;let l=null;if(Array.isArray(y))y.forEach(h=>{if(h instanceof Map&&h.has("offset")){const m=h;l=parseFloat(m.get("offset")),m.delete("offset")}});else if(y instanceof Map&&y.has("offset")){const h=y;l=parseFloat(h.get("offset")),h.delete("offset")}return l}(mo.styles),ps=0;return null!=Xo&&(M++,ps=mo.offset=Xo),Ie=Ie||ps<0||ps>1,Q=Q||ps<Ge,Ge=ps,G.push(ps),mo});Ie&&h.errors.push(function si(){return new I.wOt(3012,!1)}()),Q&&h.errors.push(function lr(){return new I.wOt(3200,!1)}());const un=l.steps.length;let ar=0;M>0&&M<un?h.errors.push(function sr(){return new I.wOt(3202,!1)}()):0==M&&(ar=1/(un-1));const Fn=un-1,Bn=h.currentTime,Qn=h.currentAnimateTimings,Pi=Qn.duration;return jt.forEach((Ki,mo)=>{const Xo=ar>0?mo==Fn?1:ar*mo:G[mo],ps=Xo*Pi;h.currentTime=Bn+Qn.delay+ps,Qn.duration=ps,this._validateStyleAst(Ki,h),Ki.offset=Xo,m.styles.push(Ki)}),m}visitReference(l,h){return{type:hn.If.Reference,animation:K(this,rr(l.animation),h),options:wo(l.options)}}visitAnimateChild(l,h){return h.depCount++,{type:hn.If.AnimateChild,options:wo(l.options)}}visitAnimateRef(l,h){return{type:hn.If.AnimateRef,animation:this.visitReference(l.animation,h),options:wo(l.options)}}visitQuery(l,h){const m=h.currentQuerySelector,T=l.options||{};h.queryCount++,h.currentQuery=l;const[M,G]=function ks(y){const l=!!y.split(/\s*,\s*/).find(h=>":self"==h);return l&&(y=y.replace(yn,"")),y=y.replace(/@\*/g,cr).replace(/@\w+/g,h=>cr+"-"+h.slice(1)).replace(/:animating/g,Ai),[y,l]}(l.selector);h.currentQuerySelector=m.length?m+" "+M:M,Cn(h.collectedStyles,h.currentQuerySelector,new Map);const Q=K(this,rr(l.animation),h);return h.currentQuery=null,h.currentQuerySelector=m,{type:hn.If.Query,selector:M,limit:T.limit||0,optional:!!T.optional,includeSelf:G,animation:Q,originalSelector:l.selector,options:wo(l.options)}}visitStagger(l,h){h.currentQuery||h.errors.push(function di(){return new I.wOt(3013,!1)}());const m="full"===l.timings?{duration:0,delay:0,easing:"full"}:qe(l.timings,h.errors,!0);return{type:hn.If.Stagger,animation:K(this,rr(l.animation),h),timings:m,options:null}}}class rs{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(l){this.errors=l}}function wo(y){return y?(y={...y}).params&&(y.params=function Zr(y){return y?{...y}:null}(y.params)):y={},y}function So(y,l,h){return{duration:y,delay:l,easing:h}}function qo(y,l,h,m,T,M,G=null,Q=!1){return{type:1,element:y,keyframes:l,preStyleProps:h,postStyleProps:m,duration:T,delay:M,totalTime:T+M,easing:G,subTimeline:Q}}class Ro{_map=new Map;get(l){return this._map.get(l)||[]}append(l,h){let m=this._map.get(l);m||this._map.set(l,m=[]),m.push(...h)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const kr=new RegExp(":enter","g"),po=new RegExp(":leave","g");function Ho(y,l,h,m,T,M=new Map,G=new Map,Q,Ie,Ge=[]){return(new ws).buildKeyframes(y,l,h,m,T,M,G,Q,Ie,Ge)}class ws{buildKeyframes(l,h,m,T,M,G,Q,Ie,Ge,jt=[]){Ge=Ge||new Ro;const un=new ao(l,h,Ge,T,M,jt,[]);un.options=Ie;const ar=Ie.delay?ve(Ie.delay):0;un.currentTimeline.delayNextStep(ar),un.currentTimeline.setStyles([G],null,un.errors,Ie),K(this,m,un);const Fn=un.timelines.filter(Bn=>Bn.containsAnimation());if(Fn.length&&Q.size){let Bn;for(let Qn=Fn.length-1;Qn>=0;Qn--){const Pi=Fn[Qn];if(Pi.element===h){Bn=Pi;break}}Bn&&!Bn.allowOnlyTimelineStyles()&&Bn.setStyles([Q],null,un.errors,Ie)}return Fn.length?Fn.map(Bn=>Bn.buildKeyframes()):[qo(h,[],[],[],0,ar,"",!1)]}visitTrigger(l,h){}visitState(l,h){}visitTransition(l,h){}visitAnimateChild(l,h){const m=h.subInstructions.get(h.element);if(m){const T=h.createSubContext(l.options),M=h.currentTimeline.currentTime,G=this._visitSubInstructions(m,T,T.options);M!=G&&h.transformIntoNewTimeline(G)}h.previousNode=l}visitAnimateRef(l,h){const m=h.createSubContext(l.options);m.transformIntoNewTimeline(),this._applyAnimationRefDelays([l.options,l.animation.options],h,m),this.visitReference(l.animation,m),h.transformIntoNewTimeline(m.currentTimeline.currentTime),h.previousNode=l}_applyAnimationRefDelays(l,h,m){for(const T of l){const M=T?.delay;if(M){const G="number"==typeof M?M:ve(so(M,T?.params??{},h.errors));m.delayNextStep(G)}}}_visitSubInstructions(l,h,m){let M=h.currentTimeline.currentTime;const G=null!=m.duration?ve(m.duration):null,Q=null!=m.delay?ve(m.delay):null;return 0!==G&&l.forEach(Ie=>{const Ge=h.appendInstructionToTimeline(Ie,G,Q);M=Math.max(M,Ge.duration+Ge.delay)}),M}visitReference(l,h){h.updateOptions(l.options,!0),K(this,l.animation,h),h.previousNode=l}visitSequence(l,h){const m=h.subContextCount;let T=h;const M=l.options;if(M&&(M.params||M.delay)&&(T=h.createSubContext(M),T.transformIntoNewTimeline(),null!=M.delay)){T.previousNode.type==hn.If.Style&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=zr);const G=ve(M.delay);T.delayNextStep(G)}l.steps.length&&(l.steps.forEach(G=>K(this,G,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>m&&T.transformIntoNewTimeline()),h.previousNode=l}visitGroup(l,h){const m=[];let T=h.currentTimeline.currentTime;const M=l.options&&l.options.delay?ve(l.options.delay):0;l.steps.forEach(G=>{const Q=h.createSubContext(l.options);M&&Q.delayNextStep(M),K(this,G,Q),T=Math.max(T,Q.currentTimeline.currentTime),m.push(Q.currentTimeline)}),m.forEach(G=>h.currentTimeline.mergeTimelineCollectedStyles(G)),h.transformIntoNewTimeline(T),h.previousNode=l}_visitTiming(l,h){if(l.dynamic){const m=l.strValue;return qe(h.params?so(m,h.params,h.errors):m,h.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,h){const m=h.currentAnimateTimings=this._visitTiming(l.timings,h),T=h.currentTimeline;m.delay&&(h.incrementTime(m.delay),T.snapshotCurrentStyles());const M=l.style;M.type==hn.If.Keyframes?this.visitKeyframes(M,h):(h.incrementTime(m.duration),this.visitStyle(M,h),T.applyStylesToKeyframe()),h.currentAnimateTimings=null,h.previousNode=l}visitStyle(l,h){const m=h.currentTimeline,T=h.currentAnimateTimings;!T&&m.hasCurrentStyleProperties()&&m.forwardFrame();const M=T&&T.easing||l.easing;l.isEmptyStep?m.applyEmptyStep(M):m.setStyles(l.styles,M,h.errors,h.options),h.previousNode=l}visitKeyframes(l,h){const m=h.currentAnimateTimings,T=h.currentTimeline.duration,M=m.duration,Q=h.createSubContext().currentTimeline;Q.easing=m.easing,l.styles.forEach(Ie=>{Q.forwardTime((Ie.offset||0)*M),Q.setStyles(Ie.styles,Ie.easing,h.errors,h.options),Q.applyStylesToKeyframe()}),h.currentTimeline.mergeTimelineCollectedStyles(Q),h.transformIntoNewTimeline(T+M),h.previousNode=l}visitQuery(l,h){const m=h.currentTimeline.currentTime,T=l.options||{},M=T.delay?ve(T.delay):0;M&&(h.previousNode.type===hn.If.Style||0==m&&h.currentTimeline.hasCurrentStyleProperties())&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=zr);let G=m;const Q=h.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!T.optional,h.errors);h.currentQueryTotal=Q.length;let Ie=null;Q.forEach((Ge,jt)=>{h.currentQueryIndex=jt;const un=h.createSubContext(l.options,Ge);M&&un.delayNextStep(M),Ge===h.element&&(Ie=un.currentTimeline),K(this,l.animation,un),un.currentTimeline.applyStylesToKeyframe(),G=Math.max(G,un.currentTimeline.currentTime)}),h.currentQueryIndex=0,h.currentQueryTotal=0,h.transformIntoNewTimeline(G),Ie&&(h.currentTimeline.mergeTimelineCollectedStyles(Ie),h.currentTimeline.snapshotCurrentStyles()),h.previousNode=l}visitStagger(l,h){const m=h.parentContext,T=h.currentTimeline,M=l.timings,G=Math.abs(M.duration),Q=G*(h.currentQueryTotal-1);let Ie=G*h.currentQueryIndex;switch(M.duration<0?"reverse":M.easing){case"reverse":Ie=Q-Ie;break;case"full":Ie=m.currentStaggerTime}const jt=h.currentTimeline;Ie&&jt.delayNextStep(Ie);const un=jt.currentTime;K(this,l.animation,h),h.previousNode=l,m.currentStaggerTime=T.currentTime-un+(T.startTime-m.currentTimeline.startTime)}}const zr={};class ao{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=zr;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(l,h,m,T,M,G,Q,Ie){this._driver=l,this.element=h,this.subInstructions=m,this._enterClassName=T,this._leaveClassName=M,this.errors=G,this.timelines=Q,this.currentTimeline=Ie||new qr(this._driver,h,0),Q.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,h){if(!l)return;const m=l;let T=this.options;null!=m.duration&&(T.duration=ve(m.duration)),null!=m.delay&&(T.delay=ve(m.delay));const M=m.params;if(M){let G=T.params;G||(G=this.options.params={}),Object.keys(M).forEach(Q=>{(!h||!G.hasOwnProperty(Q))&&(G[Q]=so(M[Q],G,this.errors))})}}_copyOptions(){const l={};if(this.options){const h=this.options.params;if(h){const m=l.params={};Object.keys(h).forEach(T=>{m[T]=h[T]})}}return l}createSubContext(l=null,h,m){const T=h||this.element,M=new ao(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,m||0));return M.previousNode=this.previousNode,M.currentAnimateTimings=this.currentAnimateTimings,M.options=this._copyOptions(),M.updateOptions(l),M.currentQueryIndex=this.currentQueryIndex,M.currentQueryTotal=this.currentQueryTotal,M.parentContext=this,this.subContextCount++,M}transformIntoNewTimeline(l){return this.previousNode=zr,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,h,m){const T={duration:h??l.duration,delay:this.currentTimeline.currentTime+(m??0)+l.delay,easing:""},M=new Qr(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,T,l.stretchStartingKeyframe);return this.timelines.push(M),T}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,h,m,T,M,G){let Q=[];if(T&&Q.push(this.element),l.length>0){l=(l=l.replace(kr,"."+this._enterClassName)).replace(po,"."+this._leaveClassName);let Ge=this._driver.query(this.element,l,1!=m);0!==m&&(Ge=m<0?Ge.slice(Ge.length+m,Ge.length):Ge.slice(0,m)),Q.push(...Ge)}return!M&&0==Q.length&&G.push(function dr(){return new I.wOt(3014,!1)}()),Q}}class qr{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(l,h,m,T){this._driver=l,this.element=h,this.startTime=m,this._elementTimelineStylesLookup=T,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(h),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(h,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const h=1===this._keyframes.size&&this._pendingStyles.size;this.duration||h?(this.forwardTime(this.currentTime+l),h&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,h){return this.applyStylesToKeyframe(),new qr(this._driver,l,h||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,h){this._localTimelineStyles.set(l,h),this._globalTimelineStyles.set(l,h),this._styleSummary.set(l,{time:this.currentTime,value:h})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&this._previousKeyframe.set("easing",l);for(let[h,m]of this._globalTimelineStyles)this._backFill.set(h,m||hn.kp),this._currentKeyframe.set(h,hn.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,h,m,T){h&&this._previousKeyframe.set("easing",h);const M=T&&T.params||{},G=function Po(y,l){const h=new Map;let m;return y.forEach(T=>{if("*"===T){m??=l.keys();for(let M of m)h.set(M,hn.kp)}else for(let[M,G]of T)h.set(M,G)}),h}(l,this._globalTimelineStyles);for(let[Q,Ie]of G){const Ge=so(Ie,M,m);this._pendingStyles.set(Q,Ge),this._localTimelineStyles.has(Q)||this._backFill.set(Q,this._globalTimelineStyles.get(Q)??hn.kp),this._updateStyle(Q,Ge)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((l,h)=>{this._currentKeyframe.set(h,l)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((l,h)=>{this._currentKeyframe.has(h)||this._currentKeyframe.set(h,l)}))}snapshotCurrentStyles(){for(let[l,h]of this._localTimelineStyles)this._pendingStyles.set(l,h),this._updateStyle(l,h)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let h in this._currentKeyframe)l.push(h);return l}mergeTimelineCollectedStyles(l){l._styleSummary.forEach((h,m)=>{const T=this._styleSummary.get(m);(!T||h.time>T.time)&&this._updateStyle(m,h.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,h=new Set,m=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((Q,Ie)=>{const Ge=new Map([...this._backFill,...Q]);Ge.forEach((jt,un)=>{jt===hn.FX?l.add(un):jt===hn.kp&&h.add(un)}),m||Ge.set("offset",Ie/this.duration),T.push(Ge)});const M=[...l.values()],G=[...h.values()];if(m){const Q=T[0],Ie=new Map(Q);Q.set("offset",0),Ie.set("offset",1),T=[Q,Ie]}return qo(this.element,T,M,G,this.duration,this.startTime,this.easing,!1)}}class Qr extends qr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(l,h,m,T,M,G,Q=!1){super(l,h,G.delay),this.keyframes=m,this.preStyleProps=T,this.postStyleProps=M,this._stretchStartingKeyframe=Q,this.timings={duration:G.duration,delay:G.delay,easing:G.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:h,duration:m,easing:T}=this.timings;if(this._stretchStartingKeyframe&&h){const M=[],G=m+h,Q=h/G,Ie=new Map(l[0]);Ie.set("offset",0),M.push(Ie);const Ge=new Map(l[0]);Ge.set("offset",Is(Q)),M.push(Ge);const jt=l.length-1;for(let un=1;un<=jt;un++){let ar=new Map(l[un]);const Fn=ar.get("offset");ar.set("offset",Is((h+Fn*m)/G)),M.push(ar)}m=G,h=0,T="",l=M}return qo(this.element,l,this.preStyleProps,this.postStyleProps,m,h,T,!0)}}function Is(y,l=3){const h=Math.pow(10,l-1);return Math.round(y*h)/h}function Mo(y,l,h,m,T,M,G,Q,Ie,Ge,jt,un,ar){return{type:0,element:y,triggerName:l,isRemovalTransition:T,fromState:h,fromStyles:M,toState:m,toStyles:G,timelines:Q,queriedElements:Ie,preStyleProps:Ge,postStyleProps:jt,totalTime:un,errors:ar}}const us={};class Io{_triggerName;ast;_stateStyles;constructor(l,h,m){this._triggerName=l,this.ast=h,this._stateStyles=m}match(l,h,m,T){return function Hs(y,l,h,m,T){return y.some(M=>M(l,h,m,T))}(this.ast.matchers,l,h,m,T)}buildStyles(l,h,m){let T=this._stateStyles.get("*");return void 0!==l&&(T=this._stateStyles.get(l?.toString())||T),T?T.buildStyles(h,m):new Map}build(l,h,m,T,M,G,Q,Ie,Ge,jt){const un=[],ar=this.ast.options&&this.ast.options.params||us,Bn=this.buildStyles(m,Q&&Q.params||us,un),Qn=Ie&&Ie.params||us,Pi=this.buildStyles(T,Qn,un),Ki=new Set,mo=new Map,Xo=new Map,ps="void"===T,yc={params:No(Qn,ar),delay:this.ast.options?.delay},Ss=jt?[]:Ho(l,h,this.ast.animation,M,G,Bn,Pi,yc,Ge,un);let Ts=0;return Ss.forEach(Rs=>{Ts=Math.max(Rs.duration+Rs.delay,Ts)}),un.length?Mo(h,this._triggerName,m,T,ps,Bn,Pi,[],[],mo,Xo,Ts,un):(Ss.forEach(Rs=>{const Ii=Rs.element,Ra=Cn(mo,Ii,new Set);Rs.preStyleProps.forEach(ia=>Ra.add(ia));const _c=Cn(Xo,Ii,new Set);Rs.postStyleProps.forEach(ia=>_c.add(ia)),Ii!==h&&Ki.add(Ii)}),Mo(h,this._triggerName,m,T,ps,Bn,Pi,Ss,[...Ki.values()],mo,Xo,Ts))}}function No(y,l){const h={...l};return Object.entries(y).forEach(([m,T])=>{null!=T&&(h[m]=T)}),h}class xr{styles;defaultParams;normalizer;constructor(l,h,m){this.styles=l,this.defaultParams=h,this.normalizer=m}buildStyles(l,h){const m=new Map,T=No(l,this.defaultParams);return this.styles.styles.forEach(M=>{"string"!=typeof M&&M.forEach((G,Q)=>{G&&(G=so(G,T,h));const Ie=this.normalizer.normalizePropertyName(Q,h);G=this.normalizer.normalizeStyleValue(Q,Ie,G,h),m.set(Q,G)})}),m}}class Ji{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(l,h,m){this.name=l,this.ast=h,this._normalizer=m,h.states.forEach(T=>{this.states.set(T.name,new xr(T.style,T.options&&T.options.params||{},m))}),xs(this.states,"true","1"),xs(this.states,"false","0"),h.transitions.forEach(T=>{this.transitionFactories.push(new Io(l,T,this.states))}),this.fallbackTransition=function ra(y,l){return new Io(y,{type:hn.If.Transition,animation:{type:hn.If.Sequence,steps:[],options:null},matchers:[(G,Q)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,h,m,T){return this.transitionFactories.find(G=>G.match(l,h,m,T))||null}matchStyles(l,h,m){return this.fallbackTransition.buildStyles(l,h,m)}}function xs(y,l,h){y.has(l)?y.has(h)||y.set(h,y.get(l)):y.has(h)&&y.set(l,y.get(h))}const Ta=new Ro;class Vo{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(l,h,m){this.bodyNode=l,this._driver=h,this._normalizer=m}register(l,h){const m=[],M=Un(this._driver,h,m,[]);if(m.length)throw function Dr(){return new I.wOt(3503,!1)}();this._animations.set(l,M)}_buildPlayer(l,h,m){const T=l.element,M=Ue(this._normalizer,l.keyframes,h,m);return this._driver.animate(T,M,l.duration,l.delay,l.easing,[],!0)}create(l,h,m={}){const T=[],M=this._animations.get(l);let G;const Q=new Map;if(M?(G=Ho(this._driver,h,M,Vn,an,new Map,new Map,m,Ta,T),G.forEach(jt=>{const un=Cn(Q,jt.element,new Map);jt.postStyleProps.forEach(ar=>un.set(ar,null))})):(T.push(function Zi(){return new I.wOt(3300,!1)}()),G=[]),T.length)throw function ni(){return new I.wOt(3504,!1)}();Q.forEach((jt,un)=>{jt.forEach((ar,Fn)=>{jt.set(Fn,this._driver.computeStyle(un,Fn,hn.kp))})});const Ge=ye(G.map(jt=>{const un=Q.get(jt.element);return this._buildPlayer(jt,new Map,un)}));return this._playersById.set(l,Ge),Ge.onDestroy(()=>this.destroy(l)),this.players.push(Ge),Ge}destroy(l){const h=this._getPlayer(l);h.destroy(),this._playersById.delete(l);const m=this.players.indexOf(h);m>=0&&this.players.splice(m,1)}_getPlayer(l){const h=this._playersById.get(l);if(!h)throw function Oi(){return new I.wOt(3301,!1)}();return h}listen(l,h,m,T){const M=Qt(h,"","","");return kt(this._getPlayer(l),m,M,T),()=>{}}command(l,h,m,T){if("register"==m)return void this.register(l,T[0]);if("create"==m)return void this.create(l,h,T[0]||{});const M=this._getPlayer(l);switch(m){case"play":M.play();break;case"pause":M.pause();break;case"reset":M.reset();break;case"restart":M.restart();break;case"finish":M.finish();break;case"init":M.init();break;case"setPosition":M.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(l)}}}const vr="ng-animate-queued",z="ng-animate-disabled",Pt=[],Gt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},In={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fn="__ng_removed";class fr{namespaceId;value;options;get params(){return this.options.params}constructor(l,h=""){this.namespaceId=h;const m=l&&l.hasOwnProperty("value");if(this.value=function Yr(y){return y??null}(m?l.value:l),m){const{value:M,...G}=l;this.options=G}else this.options={};this.options.params||(this.options.params={})}absorbOptions(l){const h=l.params;if(h){const m=this.options.params;Object.keys(h).forEach(T=>{null==m[T]&&(m[T]=h[T])})}}}const Yn="void",Lr=new fr(Yn);class yi{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(l,h,m){this.id=l,this.hostElement=h,this._engine=m,this._hostClassName="ng-tns-"+l,Jr(h,this._hostClassName)}listen(l,h,m,T){if(!this._triggers.has(h))throw function mn(){return new I.wOt(3302,!1)}();if(null==m||0==m.length)throw function pr(){return new I.wOt(3303,!1)}();if(!function co(y){return"start"==y||"done"==y}(m))throw function Ir(){return new I.wOt(3400,!1)}();const M=Cn(this._elementListeners,l,[]),G={name:h,phase:m,callback:T};M.push(G);const Q=Cn(this._engine.statesByElement,l,new Map);return Q.has(h)||(Jr(l,Gn),Jr(l,Gn+"-"+h),Q.set(h,Lr)),()=>{this._engine.afterFlush(()=>{const Ie=M.indexOf(G);Ie>=0&&M.splice(Ie,1),this._triggers.has(h)||Q.delete(h)})}}register(l,h){return!this._triggers.has(l)&&(this._triggers.set(l,h),!0)}_getTrigger(l){const h=this._triggers.get(l);if(!h)throw function Fi(){return new I.wOt(3401,!1)}();return h}trigger(l,h,m,T=!0){const M=this._getTrigger(h),G=new Ui(this.id,h,l);let Q=this._engine.statesByElement.get(l);Q||(Jr(l,Gn),Jr(l,Gn+"-"+h),this._engine.statesByElement.set(l,Q=new Map));let Ie=Q.get(h);const Ge=new fr(m,this.id);if(!(m&&m.hasOwnProperty("value"))&&Ie&&Ge.absorbOptions(Ie.options),Q.set(h,Ge),Ie||(Ie=Lr),Ge.value!==Yn&&Ie.value===Ge.value){if(!function ba(y,l){const h=Object.keys(y),m=Object.keys(l);if(h.length!=m.length)return!1;for(let T=0;T<h.length;T++){const M=h[T];if(!l.hasOwnProperty(M)||y[M]!==l[M])return!1}return!0}(Ie.params,Ge.params)){const Qn=[],Pi=M.matchStyles(Ie.value,Ie.params,Qn),Ki=M.matchStyles(Ge.value,Ge.params,Qn);Qn.length?this._engine.reportError(Qn):this._engine.afterFlush(()=>{bn(l,Pi),kn(l,Ki)})}return}const ar=Cn(this._engine.playersByElement,l,[]);ar.forEach(Qn=>{Qn.namespaceId==this.id&&Qn.triggerName==h&&Qn.queued&&Qn.destroy()});let Fn=M.matchTransition(Ie.value,Ge.value,l,Ge.params),Bn=!1;if(!Fn){if(!T)return;Fn=M.fallbackTransition,Bn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:h,transition:Fn,fromState:Ie,toState:Ge,player:G,isFallbackTransition:Bn}),Bn||(Jr(l,vr),G.onStart(()=>{go(l,vr)})),G.onDone(()=>{let Qn=this.players.indexOf(G);Qn>=0&&this.players.splice(Qn,1);const Pi=this._engine.playersByElement.get(l);if(Pi){let Ki=Pi.indexOf(G);Ki>=0&&Pi.splice(Ki,1)}}),this.players.push(G),ar.push(G),G}deregister(l){this._triggers.delete(l),this._engine.statesByElement.forEach(h=>h.delete(l)),this._elementListeners.forEach((h,m)=>{this._elementListeners.set(m,h.filter(T=>T.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const h=this._engine.playersByElement.get(l);h&&(h.forEach(m=>m.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,h){const m=this._engine.driver.query(l,cr,!0);m.forEach(T=>{if(T[fn])return;const M=this._engine.fetchNamespacesByElement(T);M.size?M.forEach(G=>G.triggerLeaveAnimation(T,h,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>m.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(l,h,m,T){const M=this._engine.statesByElement.get(l),G=new Map;if(M){const Q=[];if(M.forEach((Ie,Ge)=>{if(G.set(Ge,Ie.value),this._triggers.has(Ge)){const jt=this.trigger(l,Ge,Yn,T);jt&&Q.push(jt)}}),Q.length)return this._engine.markElementAsRemoved(this.id,l,!0,h,G),m&&ye(Q).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const h=this._elementListeners.get(l),m=this._engine.statesByElement.get(l);if(h&&m){const T=new Set;h.forEach(M=>{const G=M.name;if(T.has(G))return;T.add(G);const Ie=this._triggers.get(G).fallbackTransition,Ge=m.get(G)||Lr,jt=new fr(Yn),un=new Ui(this.id,G,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:G,transition:Ie,fromState:Ge,toState:jt,player:un,isFallbackTransition:!0})})}}removeNode(l,h){const m=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,h),this.triggerLeaveAnimation(l,h,!0))return;let T=!1;if(m.totalAnimations){const M=m.players.length?m.playersByQueriedElement.get(l):[];if(M&&M.length)T=!0;else{let G=l;for(;G=G.parentNode;)if(m.statesByElement.get(G)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(l),T)m.markElementAsRemoved(this.id,l,!1,h);else{const M=l[fn];(!M||M===Gt)&&(m.afterFlush(()=>this.clearElementCache(l)),m.destroyInnerAnimations(l),m._onRemovalComplete(l,h))}}insertNode(l,h){Jr(l,this._hostClassName)}drainQueuedTransitions(l){const h=[];return this._queue.forEach(m=>{const T=m.player;if(T.destroyed)return;const M=m.element,G=this._elementListeners.get(M);G&&G.forEach(Q=>{if(Q.name==m.triggerName){const Ie=Qt(M,m.triggerName,m.fromState.value,m.toState.value);Ie._data=l,kt(m.player,Q.phase,Ie,Q.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):h.push(m)}),this._queue=[],h.sort((m,T)=>{const M=m.transition.ast.depCount,G=T.transition.ast.depCount;return 0==M||0==G?M-G:this._engine.driver.containsElement(m.element,T.element)?1:-1})}destroy(l){this.players.forEach(h=>h.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}}class fi{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(l,h)=>{};_onRemovalComplete(l,h){this.onRemovalComplete(l,h)}constructor(l,h,m){this.bodyNode=l,this.driver=h,this._normalizer=m}get queuedPlayers(){const l=[];return this._namespaceList.forEach(h=>{h.players.forEach(m=>{m.queued&&l.push(m)})}),l}createNamespace(l,h){const m=new yi(l,h,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,h)?this._balanceNamespaceList(m,h):(this.newHostElements.set(h,m),this.collectEnterElement(h)),this._namespaceLookup[l]=m}_balanceNamespaceList(l,h){const m=this._namespaceList,T=this.namespacesByHostElement;if(m.length-1>=0){let G=!1,Q=this.driver.getParentElement(h);for(;Q;){const Ie=T.get(Q);if(Ie){const Ge=m.indexOf(Ie);m.splice(Ge+1,0,l),G=!0;break}Q=this.driver.getParentElement(Q)}G||m.unshift(l)}else m.push(l);return T.set(h,l),l}register(l,h){let m=this._namespaceLookup[l];return m||(m=this.createNamespace(l,h)),m}registerTrigger(l,h,m){let T=this._namespaceLookup[l];T&&T.register(h,m)&&this.totalAnimations++}destroy(l,h){l&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const m=this._fetchNamespace(l);this.namespacesByHostElement.delete(m.hostElement);const T=this._namespaceList.indexOf(m);T>=0&&this._namespaceList.splice(T,1),m.destroy(h),delete this._namespaceLookup[l]}))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const h=new Set,m=this.statesByElement.get(l);if(m)for(let T of m.values())if(T.namespaceId){const M=this._fetchNamespace(T.namespaceId);M&&h.add(M)}return h}trigger(l,h,m,T){if(ki(h)){const M=this._fetchNamespace(l);if(M)return M.trigger(h,m,T),!0}return!1}insertNode(l,h,m,T){if(!ki(h))return;const M=h[fn];if(M&&M.setForRemoval){M.setForRemoval=!1,M.setForMove=!0;const G=this.collectedLeaveElements.indexOf(h);G>=0&&this.collectedLeaveElements.splice(G,1)}if(l){const G=this._fetchNamespace(l);G&&G.insertNode(h,m)}T&&this.collectEnterElement(h)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,h){h?this.disabledNodes.has(l)||(this.disabledNodes.add(l),Jr(l,z)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),go(l,z))}removeNode(l,h,m){if(ki(h)){const T=l?this._fetchNamespace(l):null;T?T.removeNode(h,m):this.markElementAsRemoved(l,h,!1,m);const M=this.namespacesByHostElement.get(h);M&&M.id!==l&&M.removeNode(h,m)}else this._onRemovalComplete(h,m)}markElementAsRemoved(l,h,m,T,M){this.collectedLeaveElements.push(h),h[fn]={namespaceId:l,setForRemoval:T,hasAnimation:m,removedBeforeQueried:!1,previousTriggersValues:M}}listen(l,h,m,T,M){return ki(h)?this._fetchNamespace(l).listen(h,m,T,M):()=>{}}_buildInstruction(l,h,m,T,M){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,m,T,l.fromState.options,l.toState.options,h,M)}destroyInnerAnimations(l){let h=this.driver.query(l,cr,!0);h.forEach(m=>this.destroyActiveAnimationsForElement(m)),0!=this.playersByQueriedElement.size&&(h=this.driver.query(l,Ai,!0),h.forEach(m=>this.finishActiveQueriedAnimationOnElement(m)))}destroyActiveAnimationsForElement(l){const h=this.playersByElement.get(l);h&&h.forEach(m=>{m.queued?m.markedForDestroy=!0:m.destroy()})}finishActiveQueriedAnimationOnElement(l){const h=this.playersByQueriedElement.get(l);h&&h.forEach(m=>m.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return ye(this.players).onDone(()=>l());l()})}processLeaveNode(l){const h=l[fn];if(h&&h.setForRemoval){if(l[fn]=Gt,h.namespaceId){this.destroyInnerAnimations(l);const m=this._fetchNamespace(h.namespaceId);m&&m.clearElementCache(l)}this._onRemovalComplete(l,h.setForRemoval)}l.classList?.contains(z)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(m=>{this.markElementAsDisabled(m,!1)})}flush(l=-1){let h=[];if(this.newHostElements.size&&(this.newHostElements.forEach((m,T)=>this._balanceNamespaceList(m,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let m=0;m<this.collectedEnterElements.length;m++)Jr(this.collectedEnterElements[m],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const m=[];try{h=this._flushAnimations(m,l)}finally{for(let T=0;T<m.length;T++)m[T]()}}else for(let m=0;m<this.collectedLeaveElements.length;m++)this.processLeaveNode(this.collectedLeaveElements[m]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(m=>m()),this._flushFns=[],this._whenQuietFns.length){const m=this._whenQuietFns;this._whenQuietFns=[],h.length?ye(h).onDone(()=>{m.forEach(T=>T())}):m.forEach(T=>T())}}reportError(l){throw function Li(){return new I.wOt(3402,!1)}()}_flushAnimations(l,h){const m=new Ro,T=[],M=new Map,G=[],Q=new Map,Ie=new Map,Ge=new Map,jt=new Set;this.disabledNodes.forEach(ln=>{jt.add(ln);const Jn=this.driver.query(ln,".ng-animate-queued",!0);for(let Xn=0;Xn<Jn.length;Xn++)jt.add(Jn[Xn])});const un=this.bodyNode,ar=Array.from(this.statesByElement.keys()),Fn=To(ar,this.collectedEnterElements),Bn=new Map;let Qn=0;Fn.forEach((ln,Jn)=>{const Xn=Vn+Qn++;Bn.set(Jn,Xn),ln.forEach(jn=>Jr(jn,Xn))});const Pi=[],Ki=new Set,mo=new Set;for(let ln=0;ln<this.collectedLeaveElements.length;ln++){const Jn=this.collectedLeaveElements[ln],Xn=Jn[fn];Xn&&Xn.setForRemoval&&(Pi.push(Jn),Ki.add(Jn),Xn.hasAnimation?this.driver.query(Jn,".ng-star-inserted",!0).forEach(jn=>Ki.add(jn)):mo.add(Jn))}const Xo=new Map,ps=To(ar,Array.from(Ki));ps.forEach((ln,Jn)=>{const Xn=an+Qn++;Xo.set(Jn,Xn),ln.forEach(jn=>Jr(jn,Xn))}),l.push(()=>{Fn.forEach((ln,Jn)=>{const Xn=Bn.get(Jn);ln.forEach(jn=>go(jn,Xn))}),ps.forEach((ln,Jn)=>{const Xn=Xo.get(Jn);ln.forEach(jn=>go(jn,Xn))}),Pi.forEach(ln=>{this.processLeaveNode(ln)})});const yc=[],Ss=[];for(let ln=this._namespaceList.length-1;ln>=0;ln--)this._namespaceList[ln].drainQueuedTransitions(h).forEach(Xn=>{const jn=Xn.player,xo=Xn.element;if(yc.push(jn),this.collectedEnterElements.length){const Ti=xo[fn];if(Ti&&Ti.setForMove){if(Ti.previousTriggersValues&&Ti.previousTriggersValues.has(Xn.triggerName)){const Pa=Ti.previousTriggersValues.get(Xn.triggerName),ui=this.statesByElement.get(Xn.element);if(ui&&ui.has(Xn.triggerName)){const Hr=ui.get(Xn.triggerName);Hr.value=Pa,ui.set(Xn.triggerName,Hr)}}return void jn.destroy()}}const cs=!un||!this.driver.containsElement(un,xo),_i=Xo.get(xo),Vs=Bn.get(xo),vi=this._buildInstruction(Xn,m,Vs,_i,cs);if(vi.errors&&vi.errors.length)return void Ss.push(vi);if(cs)return jn.onStart(()=>bn(xo,vi.fromStyles)),jn.onDestroy(()=>kn(xo,vi.toStyles)),void T.push(jn);if(Xn.isFallbackTransition)return jn.onStart(()=>bn(xo,vi.fromStyles)),jn.onDestroy(()=>kn(xo,vi.toStyles)),void T.push(jn);const Ps=[];vi.timelines.forEach(Ti=>{Ti.stretchStartingKeyframe=!0,this.disabledNodes.has(Ti.element)||Ps.push(Ti)}),vi.timelines=Ps,m.append(xo,vi.timelines),G.push({instruction:vi,player:jn,element:xo}),vi.queriedElements.forEach(Ti=>Cn(Q,Ti,[]).push(jn)),vi.preStyleProps.forEach((Ti,Pa)=>{if(Ti.size){let ui=Ie.get(Pa);ui||Ie.set(Pa,ui=new Set),Ti.forEach((Hr,bs)=>ui.add(bs))}}),vi.postStyleProps.forEach((Ti,Pa)=>{let ui=Ge.get(Pa);ui||Ge.set(Pa,ui=new Set),Ti.forEach((Hr,bs)=>ui.add(bs))})});if(Ss.length){const ln=[];Ss.forEach(Jn=>{ln.push(function Ni(){return new I.wOt(3505,!1)}())}),yc.forEach(Jn=>Jn.destroy()),this.reportError(ln)}const Ts=new Map,Rs=new Map;G.forEach(ln=>{const Jn=ln.element;m.has(Jn)&&(Rs.set(Jn,Jn),this._beforeAnimationBuild(ln.player.namespaceId,ln.instruction,Ts))}),T.forEach(ln=>{const Jn=ln.element;this._getPreviousPlayers(Jn,!1,ln.namespaceId,ln.triggerName,null).forEach(jn=>{Cn(Ts,Jn,[]).push(jn),jn.destroy()})});const Ii=Pi.filter(ln=>zs(ln,Ie,Ge)),Ra=new Map;Si(Ra,this.driver,mo,Ge,hn.kp).forEach(ln=>{zs(ln,Ie,Ge)&&Ii.push(ln)});const ia=new Map;Fn.forEach((ln,Jn)=>{Si(ia,this.driver,new Set(ln),Ie,hn.FX)}),Ii.forEach(ln=>{const Jn=Ra.get(ln),Xn=ia.get(ln);Ra.set(ln,new Map([...Jn?.entries()??[],...Xn?.entries()??[]]))});const Wu=[],qi=[],kl={};G.forEach(ln=>{const{element:Jn,player:Xn,instruction:jn}=ln;if(m.has(Jn)){if(jt.has(Jn))return Xn.onDestroy(()=>kn(Jn,jn.toStyles)),Xn.disabled=!0,Xn.overrideTotalTime(jn.totalTime),void T.push(Xn);let xo=kl;if(Rs.size>1){let _i=Jn;const Vs=[];for(;_i=_i.parentNode;){const vi=Rs.get(_i);if(vi){xo=vi;break}Vs.push(_i)}Vs.forEach(vi=>Rs.set(vi,xo))}const cs=this._buildAnimation(Xn.namespaceId,jn,Ts,M,ia,Ra);if(Xn.setRealPlayer(cs),xo===kl)Wu.push(Xn);else{const _i=this.playersByElement.get(xo);_i&&_i.length&&(Xn.parentPlayer=ye(_i)),T.push(Xn)}}else bn(Jn,jn.fromStyles),Xn.onDestroy(()=>kn(Jn,jn.toStyles)),qi.push(Xn),jt.has(Jn)&&T.push(Xn)}),qi.forEach(ln=>{const Jn=M.get(ln.element);if(Jn&&Jn.length){const Xn=ye(Jn);ln.setRealPlayer(Xn)}}),T.forEach(ln=>{ln.parentPlayer?ln.syncPlayerEvents(ln.parentPlayer):ln.destroy()});for(let ln=0;ln<Pi.length;ln++){const Jn=Pi[ln],Xn=Jn[fn];if(go(Jn,an),Xn&&Xn.hasAnimation)continue;let jn=[];if(Q.size){let cs=Q.get(Jn);cs&&cs.length&&jn.push(...cs);let _i=this.driver.query(Jn,Ai,!0);for(let Vs=0;Vs<_i.length;Vs++){let vi=Q.get(_i[Vs]);vi&&vi.length&&jn.push(...vi)}}const xo=jn.filter(cs=>!cs.destroyed);xo.length?zo(this,Jn,xo):this.processLeaveNode(Jn)}return Pi.length=0,Wu.forEach(ln=>{this.players.push(ln),ln.onDone(()=>{ln.destroy();const Jn=this.players.indexOf(ln);this.players.splice(Jn,1)}),ln.play()}),Wu}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,h,m,T,M){let G=[];if(h){const Q=this.playersByQueriedElement.get(l);Q&&(G=Q)}else{const Q=this.playersByElement.get(l);if(Q){const Ie=!M||M==Yn;Q.forEach(Ge=>{Ge.queued||!Ie&&Ge.triggerName!=T||G.push(Ge)})}}return(m||T)&&(G=G.filter(Q=>!(m&&m!=Q.namespaceId||T&&T!=Q.triggerName))),G}_beforeAnimationBuild(l,h,m){const M=h.element,G=h.isRemovalTransition?void 0:l,Q=h.isRemovalTransition?void 0:h.triggerName;for(const Ie of h.timelines){const Ge=Ie.element,jt=Ge!==M,un=Cn(m,Ge,[]);this._getPreviousPlayers(Ge,jt,G,Q,h.toState).forEach(Fn=>{const Bn=Fn.getRealPlayer();Bn.beforeDestroy&&Bn.beforeDestroy(),Fn.destroy(),un.push(Fn)})}bn(M,h.fromStyles)}_buildAnimation(l,h,m,T,M,G){const Q=h.triggerName,Ie=h.element,Ge=[],jt=new Set,un=new Set,ar=h.timelines.map(Bn=>{const Qn=Bn.element;jt.add(Qn);const Pi=Qn[fn];if(Pi&&Pi.removedBeforeQueried)return new hn.sf(Bn.duration,Bn.delay);const Ki=Qn!==Ie,mo=function ls(y){const l=[];return la(y,l),l}((m.get(Qn)||Pt).map(Ts=>Ts.getRealPlayer())).filter(Ts=>!!Ts.element&&Ts.element===Qn),Xo=M.get(Qn),ps=G.get(Qn),yc=Ue(this._normalizer,Bn.keyframes,Xo,ps),Ss=this._buildPlayer(Bn,yc,mo);if(Bn.subTimeline&&T&&un.add(Qn),Ki){const Ts=new Ui(l,Q,Qn);Ts.setRealPlayer(Ss),Ge.push(Ts)}return Ss});Ge.forEach(Bn=>{Cn(this.playersByQueriedElement,Bn.element,[]).push(Bn),Bn.onDone(()=>function Ci(y,l,h){let m=y.get(l);if(m){if(m.length){const T=m.indexOf(h);m.splice(T,1)}0==m.length&&y.delete(l)}return m}(this.playersByQueriedElement,Bn.element,Bn))}),jt.forEach(Bn=>Jr(Bn,mi));const Fn=ye(ar);return Fn.onDestroy(()=>{jt.forEach(Bn=>go(Bn,mi)),kn(Ie,h.toStyles)}),un.forEach(Bn=>{Cn(T,Bn,[]).push(Fn)}),Fn}_buildPlayer(l,h,m){return h.length>0?this.driver.animate(l.element,h,l.duration,l.delay,l.easing,m):new hn.sf(l.duration,l.delay)}}class Ui{namespaceId;triggerName;element;_player=new hn.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(l,h,m){this.namespaceId=l,this.triggerName=h,this.element=m}setRealPlayer(l){this._containsRealPlayer||(this._player=l,this._queuedCallbacks.forEach((h,m)=>{h.forEach(T=>kt(l,m,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const h=this._player;h.triggerCallback&&l.onStart(()=>h.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,h){Cn(this._queuedCallbacks,l,[]).push(h)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const h=this._player;h.triggerCallback&&h.triggerCallback(l)}}function ki(y){return y&&1===y.nodeType}function pi(y,l){const h=y.style.display;return y.style.display=l??"none",h}function Si(y,l,h,m,T){const M=[];h.forEach(Ie=>M.push(pi(Ie)));const G=[];m.forEach((Ie,Ge)=>{const jt=new Map;Ie.forEach(un=>{const ar=l.computeStyle(Ge,un,T);jt.set(un,ar),(!ar||0==ar.length)&&(Ge[fn]=In,G.push(Ge))}),y.set(Ge,jt)});let Q=0;return h.forEach(Ie=>pi(Ie,M[Q++])),G}function To(y,l){const h=new Map;if(y.forEach(Q=>h.set(Q,[])),0==l.length)return h;const T=new Set(l),M=new Map;function G(Q){if(!Q)return 1;let Ie=M.get(Q);if(Ie)return Ie;const Ge=Q.parentNode;return Ie=h.has(Ge)?Ge:T.has(Ge)?1:G(Ge),M.set(Q,Ie),Ie}return l.forEach(Q=>{const Ie=G(Q);1!==Ie&&h.get(Ie).push(Q)}),h}function Jr(y,l){y.classList?.add(l)}function go(y,l){y.classList?.remove(l)}function zo(y,l,h){ye(h).onDone(()=>y.processLeaveNode(l))}function la(y,l){for(let h=0;h<y.length;h++){const m=y[h];m instanceof hn.PZ?la(m.players,l):l.push(m)}}function zs(y,l,h){const m=h.get(y);if(!m)return!1;let T=l.get(y);return T?m.forEach(M=>T.add(M)):l.set(y,m),h.delete(y),!0}class ds{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(l,h)=>{};constructor(l,h,m){this._driver=h,this._normalizer=m,this._transitionEngine=new fi(l.body,h,m),this._timelineEngine=new Vo(l.body,h,m),this._transitionEngine.onRemovalComplete=(T,M)=>this.onRemovalComplete(T,M)}registerTrigger(l,h,m,T,M){const G=l+"-"+T;let Q=this._triggerCache[G];if(!Q){const Ie=[],jt=Un(this._driver,M,Ie,[]);if(Ie.length)throw function Xi(){return new I.wOt(3404,!1)}();Q=function _r(y,l,h){return new Ji(y,l,h)}(T,jt,this._normalizer),this._triggerCache[G]=Q}this._transitionEngine.registerTrigger(h,T,Q)}register(l,h){this._transitionEngine.register(l,h)}destroy(l,h){this._transitionEngine.destroy(l,h)}onInsert(l,h,m,T){this._transitionEngine.insertNode(l,h,m,T)}onRemove(l,h,m){this._transitionEngine.removeNode(l,h,m)}disableAnimations(l,h){this._transitionEngine.markElementAsDisabled(l,h)}process(l,h,m,T){if("@"==m.charAt(0)){const[M,G]=gr(m);this._timelineEngine.command(M,h,G,T)}else this._transitionEngine.trigger(l,h,m,T)}listen(l,h,m,T,M){if("@"==m.charAt(0)){const[G,Q]=gr(m);return this._timelineEngine.listen(G,h,Q,M)}return this._transitionEngine.listen(l,h,m,T,M)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(l){this._transitionEngine.afterFlushAnimationsDone(l)}}let da=(()=>{class y{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(h,m,T){this._element=h,this._startStyles=m,this._endStyles=T;let M=y.initialStylesByElement.get(h);M||y.initialStylesByElement.set(h,M=new Map),this._initialStyles=M}start(){this._state<1&&(this._startStyles&&kn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kn(this._element,this._initialStyles),this._endStyles&&(kn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(y.initialStylesByElement.delete(this._element),this._startStyles&&(bn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bn(this._element,this._endStyles),this._endStyles=null),kn(this._element,this._initialStyles),this._state=3)}}return y})();function Ws(y){let l=null;return y.forEach((h,m)=>{(function io(y){return"display"===y||"position"===y})(m)&&(l=l||new Map,l.set(m,h))}),l}class Os{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(l,h,m,T){this.element=l,this.keyframes=h,this.options=m,this._specialStyles=T,this._duration=m.duration,this._delay=m.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:new Map;const h=()=>this._onFinish();this.domPlayer.addEventListener("finish",h),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",h)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(l){const h=[];return l.forEach(m=>{h.push(Object.fromEntries(m))}),h}_triggerWebAnimation(l,h,m){return l.animate(this._convertKeyframesToObject(h),m)}onStart(l){this._originalOnStartFns.push(l),this._onStartFns.push(l)}onDone(l){this._originalOnDoneFns.push(l),this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l=new Map;this.hasStarted()&&this._finalKeyframe.forEach((m,T)=>{"offset"!==T&&l.set(T,this._finished?m:ee(this.element,T))}),this.currentSnapshot=l}triggerCallback(l){const h="start"===l?this._onStartFns:this._onDoneFns;h.forEach(m=>m()),h.length=0}}class ai{validateStyleProperty(l){return!0}validateAnimatableStyleProperty(l){return!0}containsElement(l,h){return Ct(l,h)}getParentElement(l){return se(l)}query(l,h,m){return yt(l,h,m)}computeStyle(l,h,m){return ee(l,h)}animate(l,h,m,T,M,G=[]){const Ie={duration:m,delay:T,fill:0==T?"both":"forwards"};M&&(Ie.easing=M);const Ge=new Map,jt=G.filter(Fn=>Fn instanceof Os);(function B(y,l){return 0===y||0===l})(m,T)&&jt.forEach(Fn=>{Fn.currentSnapshot.forEach((Bn,Qn)=>Ge.set(Qn,Bn))});let un=function Ht(y){return y.length?y[0]instanceof Map?y:y.map(l=>new Map(Object.entries(l))):[]}(h).map(Fn=>new Map(Fn));un=function he(y,l,h){if(h.size&&l.length){let m=l[0],T=[];if(h.forEach((M,G)=>{m.has(G)||T.push(G),m.set(G,M)}),T.length)for(let M=1;M<l.length;M++){let G=l[M];T.forEach(Q=>G.set(Q,ee(y,Q)))}}return l}(l,un,Ge);const ar=function Fa(y,l){let h=null,m=null;return Array.isArray(l)&&l.length?(h=Ws(l[0]),l.length>1&&(m=Ws(l[l.length-1]))):l instanceof Map&&(h=Ws(l)),h||m?new da(y,h,m):null}(l,un);return new Os(l,un,Ie,ar)}}const Ks="@.disabled";class wi{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(l,h,m,T){this.namespaceId=l,this.delegate=h,this.engine=m,this._onDestroy=T}get data(){return this.delegate.data}destroyNode(l){this.delegate.destroyNode?.(l)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(l,h){return this.delegate.createElement(l,h)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,h){this.delegate.appendChild(l,h),this.engine.onInsert(this.namespaceId,h,l,!1)}insertBefore(l,h,m,T=!0){this.delegate.insertBefore(l,h,m),this.engine.onInsert(this.namespaceId,h,l,T)}removeChild(l,h,m){this.parentNode(h)&&this.engine.onRemove(this.namespaceId,h,this.delegate)}selectRootElement(l,h){return this.delegate.selectRootElement(l,h)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,h,m,T){this.delegate.setAttribute(l,h,m,T)}removeAttribute(l,h,m){this.delegate.removeAttribute(l,h,m)}addClass(l,h){this.delegate.addClass(l,h)}removeClass(l,h){this.delegate.removeClass(l,h)}setStyle(l,h,m,T){this.delegate.setStyle(l,h,m,T)}removeStyle(l,h,m){this.delegate.removeStyle(l,h,m)}setProperty(l,h,m){"@"==h.charAt(0)&&h==Ks?this.disableAnimations(l,!!m):this.delegate.setProperty(l,h,m)}setValue(l,h){this.delegate.setValue(l,h)}listen(l,h,m,T){return this.delegate.listen(l,h,m,T)}disableAnimations(l,h){this.engine.disableAnimations(l,h)}}class ha extends wi{factory;constructor(l,h,m,T,M){super(h,m,T,M),this.factory=l,this.namespaceId=h}setProperty(l,h,m){"@"==h.charAt(0)?"."==h.charAt(1)&&h==Ks?this.disableAnimations(l,m=void 0===m||!!m):this.engine.process(this.namespaceId,l,h.slice(1),m):this.delegate.setProperty(l,h,m)}listen(l,h,m,T){if("@"==h.charAt(0)){const M=function $r(y){switch(y){case"body":return document.body;case"document":return document;case"window":return window;default:return y}}(l);let G=h.slice(1),Q="";return"@"!=G.charAt(0)&&([G,Q]=function Vr(y){const l=y.indexOf(".");return[y.substring(0,l),y.slice(l+1)]}(G)),this.engine.listen(this.namespaceId,M,G,Q,Ie=>{this.factory.scheduleListenerCallback(Ie._data||-1,m,Ie)})}return this.delegate.listen(l,h,m,T)}}class Da{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(l,h,m){this.delegate=l,this.engine=h,this._zone=m,h.onRemovalComplete=(T,M)=>{M?.removeChild(null,T)}}createRenderer(l,h){const T=this.delegate.createRenderer(l,h);if(!l||!h?.data?.animation){const Ge=this._rendererCache;let jt=Ge.get(T);return jt||(jt=new wi("",T,this.engine,()=>Ge.delete(T)),Ge.set(T,jt)),jt}const M=h.id,G=h.id+"-"+this._currentId;this._currentId++,this.engine.register(G,l);const Q=Ge=>{Array.isArray(Ge)?Ge.forEach(Q):this.engine.registerTrigger(M,G,l,Ge.name,Ge)};return h.data.animation.forEach(Q),new ha(this,G,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(l,h,m){if(l>=0&&l<this._microtaskId)return void this._zone.run(()=>h(m));const T=this._animationCallbacksBuffer;0==T.length&&queueMicrotask(()=>{this._zone.run(()=>{T.forEach(M=>{const[G,Q]=M;G(Q)}),this._animationCallbacksBuffer=[]})}),T.push([h,m])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(l){this.engine.flush(),this.delegate.componentReplaced?.(l)}}const Xa=[{provide:sn,useFactory:function Qa(){return new Gr}},{provide:ds,useClass:(()=>{class y extends ds{constructor(h,m,T){super(h,m,T)}ngOnDestroy(){this.flush()}static \u0275fac=function(m){return new(m||y)(I.KVO(q.q),I.KVO(Tt),I.KVO(sn))};static \u0275prov=I.jDH({token:y,factory:y.\u0275fac})}return y})()},{provide:I._9s,useFactory:function Aa(y,l,h){return new Da(y,l,h)},deps:[Et,ds,I.SKi]}],Va=[{provide:Tt,useFactory:()=>new ai},{provide:I.bc$,useFactory:()=>"BrowserAnimations"},...Xa];var ci=U(5072);let Uo=(()=>{class y{title="todo-app";static \u0275fac=function(m){return new(m||y)};static \u0275cmp=I.VBU({type:y,selectors:[["app-root"]],decls:1,vars:0,template:function(m,T){1&m&&I.nrm(0,"router-outlet")},dependencies:[ci.n3],encapsulation:2})}return y})();var Wi=U(5207),Go=U(467),Qo=U(2881);let ei=(()=>{class y{static \u0275fac=function(m){return new(m||y)};static \u0275cmp=I.VBU({type:y,selectors:[["app-components"]],decls:335,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title","fw-semibold","mb-4"],[1,"card-body","p-4"],["type","button",1,"btn","btn-full","--primary","m-1"],["type","button",1,"btn","btn-full","--secondary","m-1"],["type","button",1,"btn","btn-full","--success","m-1"],["type","button",1,"btn","btn-full","--danger","m-1"],["type","button",1,"btn","btn-full","--warning","m-1"],["type","button",1,"btn","btn-full","--info","m-1"],["type","button",1,"btn","btn-full","--light","m-1"],["type","button",1,"btn","btn-full","--dark","m-1"],["type","button",1,"btn","btn-full","--link","m-1"],[1,"card","mb-0"],["type","button",1,"btn","btn-border","--primary","m-1"],["type","button",1,"btn","btn-border","--secondary","m-1"],["type","button",1,"btn","btn-border","--success","m-1"],["type","button",1,"btn","btn-border","--danger","m-1"],["type","button",1,"btn","btn-border","--warning","m-1"],["type","button",1,"btn","btn-border","--info","m-1"],["type","button",1,"btn","btn-border","--light","m-1"],["type","button",1,"btn","btn-border","--dark","m-1"],["type","button",1,"btn","btn-border","--link","m-1"],["id","tables",1,"min-vh-100","d-flex","align-items-center","py-5"],[1,"display-5","fw-bold","font-raleway","mb-3"],[1,"col-sm-12","col-md-6","py-2","grid-margin","stretch-card"],[1,"card-title"],[1,"card-description"],[1,"table-responsive"],[1,"table"],[1,"badge","badge-type","badge-outline-danger"],[1,"badge","badge-type","badge-outline-success"],[1,"badge","badge-type","badge-outline-info"],[1,"badge","badge-type","badge-outline-warning"],[1,"table","table-hover"],[1,"text-danger"],[1,"ti-arrow-down"],[1,"text-success"],[1,"ti-arrow-up"],[1,"col-12","py-2","grid-margin","stretch-card"],[1,"table","table-light","table-hover"],[1,"py-1"],["src","https://randomuser.me/api/portraits/thumb/men/20.jpg","alt","image"],[1,"progress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","25%"],[1,"badge","badge-full-success"],["src","https://randomuser.me/api/portraits/thumb/men/7.jpg","alt","image"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","75%"],[1,"badge","badge-full-danger"],["src","https://randomuser.me/api/portraits/thumb/men/2.jpg","alt","image"],["role","progressbar","aria-valuenow","90","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning",2,"width","90%"],[1,"badge","badge-full-warning"],["src","https://randomuser.me/api/portraits/thumb/women/1.jpg","alt","image"],["role","progressbar","aria-valuenow","50","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","50%"],[1,"badge","badge-full-primary"],["src","https://randomuser.me/api/portraits/thumb/women/3.jpg","alt","image"],["role","progressbar","aria-valuenow","35","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","35%"],[1,"badge","badge-full-secondary"],["src","https://randomuser.me/api/portraits/thumb/women/6.jpg","alt","image"],["role","progressbar","aria-valuenow","65","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","65%"],[1,"badge","badge-full-info"],["src","https://randomuser.me/api/portraits/thumb/men/12.jpg","alt","image"],["role","progressbar","aria-valuenow","20","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning",2,"width","20%"]],template:function(m,T){1&m&&(I.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),I.EFF(6,"Buttons"),I.k0s(),I.j41(7,"div",3)(8,"div",6)(9,"button",7),I.EFF(10,"Primary"),I.k0s(),I.j41(11,"button",8),I.EFF(12,"Secondary"),I.k0s(),I.j41(13,"button",9),I.EFF(14,"Success"),I.k0s(),I.j41(15,"button",10),I.EFF(16,"Danger"),I.k0s(),I.j41(17,"button",11),I.EFF(18,"Warning"),I.k0s(),I.j41(19,"button",12),I.EFF(20,"Info"),I.k0s(),I.j41(21,"button",13),I.EFF(22,"Light"),I.k0s(),I.j41(23,"button",14),I.EFF(24,"Dark"),I.k0s(),I.j41(25,"button",15),I.EFF(26,"Link"),I.k0s()()(),I.j41(27,"h5",5),I.EFF(28,"Outline buttons"),I.k0s(),I.j41(29,"div",16)(30,"div",6)(31,"button",17),I.EFF(32,"Primary"),I.k0s(),I.j41(33,"button",18),I.EFF(34,"Secondary"),I.k0s(),I.j41(35,"button",19),I.EFF(36,"Success"),I.k0s(),I.j41(37,"button",20),I.EFF(38,"Danger"),I.k0s(),I.j41(39,"button",21),I.EFF(40,"Warning"),I.k0s(),I.j41(41,"button",22),I.EFF(42,"Info"),I.k0s(),I.j41(43,"button",23),I.EFF(44,"Light"),I.k0s(),I.j41(45,"button",24),I.EFF(46,"Dark"),I.k0s(),I.j41(47,"button",25),I.EFF(48,"Link"),I.k0s()()()()()()()(),I.j41(49,"section",26)(50,"div",0)(51,"div",1)(52,"div",2)(53,"h2",27),I.EFF(54,"Tables"),I.k0s()(),I.j41(55,"div",28)(56,"div",3)(57,"div",4)(58,"h4",29),I.EFF(59,"Basic Table"),I.k0s(),I.j41(60,"p",30),I.EFF(61," Add class "),I.j41(62,"code"),I.EFF(63,".table"),I.k0s()(),I.j41(64,"div",31)(65,"table",32)(66,"thead")(67,"tr")(68,"th"),I.EFF(69,"Profile"),I.k0s(),I.j41(70,"th"),I.EFF(71,"VatNo."),I.k0s(),I.j41(72,"th"),I.EFF(73,"Created"),I.k0s(),I.j41(74,"th"),I.EFF(75,"Status"),I.k0s()()(),I.j41(76,"tbody")(77,"tr")(78,"td"),I.EFF(79,"Jacob"),I.k0s(),I.j41(80,"td"),I.EFF(81,"53275531"),I.k0s(),I.j41(82,"td"),I.EFF(83,"12 May 2017"),I.k0s(),I.j41(84,"td")(85,"label",33),I.EFF(86,"Pending"),I.k0s()()(),I.j41(87,"tr")(88,"td"),I.EFF(89,"Messsy"),I.k0s(),I.j41(90,"td"),I.EFF(91,"53275532"),I.k0s(),I.j41(92,"td"),I.EFF(93,"15 May 2017"),I.k0s(),I.j41(94,"td")(95,"label",34),I.EFF(96,"In progress"),I.k0s()()(),I.j41(97,"tr")(98,"td"),I.EFF(99,"John"),I.k0s(),I.j41(100,"td"),I.EFF(101,"53275533"),I.k0s(),I.j41(102,"td"),I.EFF(103,"14 May 2017"),I.k0s(),I.j41(104,"td")(105,"label",35),I.EFF(106,"Fixed"),I.k0s()()(),I.j41(107,"tr")(108,"td"),I.EFF(109,"Peter"),I.k0s(),I.j41(110,"td"),I.EFF(111,"53275534"),I.k0s(),I.j41(112,"td"),I.EFF(113,"16 May 2017"),I.k0s(),I.j41(114,"td")(115,"label",34),I.EFF(116,"Completed"),I.k0s()()(),I.j41(117,"tr")(118,"td"),I.EFF(119,"Dave"),I.k0s(),I.j41(120,"td"),I.EFF(121,"53275535"),I.k0s(),I.j41(122,"td"),I.EFF(123,"20 May 2017"),I.k0s(),I.j41(124,"td")(125,"label",36),I.EFF(126,"In progress"),I.k0s()()()()()()()()(),I.j41(127,"div",28)(128,"div",3)(129,"div",4)(130,"h4",29),I.EFF(131,"Hoverable Table"),I.k0s(),I.j41(132,"p",30),I.EFF(133," Add class "),I.j41(134,"code"),I.EFF(135,".table-hover"),I.k0s()(),I.j41(136,"div",31)(137,"table",37)(138,"thead")(139,"tr")(140,"th"),I.EFF(141,"User"),I.k0s(),I.j41(142,"th"),I.EFF(143,"Product"),I.k0s(),I.j41(144,"th"),I.EFF(145,"Sale"),I.k0s(),I.j41(146,"th"),I.EFF(147,"Status"),I.k0s()()(),I.j41(148,"tbody")(149,"tr")(150,"td"),I.EFF(151,"Jacob"),I.k0s(),I.j41(152,"td"),I.EFF(153,"Photoshop"),I.k0s(),I.j41(154,"td",38),I.EFF(155," 28.76% "),I.nrm(156,"i",39),I.k0s(),I.j41(157,"td")(158,"label",33),I.EFF(159,"Pending"),I.k0s()()(),I.j41(160,"tr")(161,"td"),I.EFF(162,"Messsy"),I.k0s(),I.j41(163,"td"),I.EFF(164,"Flash"),I.k0s(),I.j41(165,"td",38),I.EFF(166," 21.06% "),I.nrm(167,"i",39),I.k0s(),I.j41(168,"td")(169,"label",36),I.EFF(170,"In progress"),I.k0s()()(),I.j41(171,"tr")(172,"td"),I.EFF(173,"John"),I.k0s(),I.j41(174,"td"),I.EFF(175,"Premier"),I.k0s(),I.j41(176,"td",38),I.EFF(177," 35.00% "),I.nrm(178,"i",39),I.k0s(),I.j41(179,"td")(180,"label",35),I.EFF(181,"Fixed"),I.k0s()()(),I.j41(182,"tr")(183,"td"),I.EFF(184,"Peter"),I.k0s(),I.j41(185,"td"),I.EFF(186,"After effects"),I.k0s(),I.j41(187,"td",40),I.EFF(188," 82.00% "),I.nrm(189,"i",41),I.k0s(),I.j41(190,"td")(191,"label",34),I.EFF(192,"Completed"),I.k0s()()(),I.j41(193,"tr")(194,"td"),I.EFF(195,"Dave"),I.k0s(),I.j41(196,"td"),I.EFF(197,"53275535"),I.k0s(),I.j41(198,"td",40),I.EFF(199," 98.05% "),I.nrm(200,"i",41),I.k0s(),I.j41(201,"td")(202,"label",36),I.EFF(203,"In progress"),I.k0s()()()()()()()()(),I.j41(204,"div",42)(205,"div",3)(206,"div",4)(207,"h4",29),I.EFF(208,"Striped Table"),I.k0s(),I.j41(209,"p",30),I.EFF(210," Add class "),I.j41(211,"code"),I.EFF(212,".table-striped"),I.k0s()(),I.j41(213,"div",31)(214,"table",43)(215,"thead")(216,"tr")(217,"th"),I.EFF(218," User "),I.k0s(),I.j41(219,"th"),I.EFF(220," First name "),I.k0s(),I.j41(221,"th"),I.EFF(222," Progress "),I.k0s(),I.j41(223,"th"),I.EFF(224," Amount "),I.k0s(),I.j41(225,"th"),I.EFF(226," Deadline "),I.k0s(),I.j41(227,"th"),I.EFF(228," Status "),I.k0s()()(),I.j41(229,"tbody")(230,"tr")(231,"td",44),I.nrm(232,"img",45),I.k0s(),I.j41(233,"td"),I.EFF(234," Herman Beck "),I.k0s(),I.j41(235,"td")(236,"div",46),I.nrm(237,"div",47),I.k0s()(),I.j41(238,"td"),I.EFF(239," $ 77.99 "),I.k0s(),I.j41(240,"td"),I.EFF(241," May 15, 2015 "),I.k0s(),I.j41(242,"td")(243,"label",48),I.EFF(244,"In progress"),I.k0s()()(),I.j41(245,"tr")(246,"td",44),I.nrm(247,"img",49),I.k0s(),I.j41(248,"td"),I.EFF(249," Messsy Adam "),I.k0s(),I.j41(250,"td")(251,"div",46),I.nrm(252,"div",50),I.k0s()(),I.j41(253,"td"),I.EFF(254," $245.30 "),I.k0s(),I.j41(255,"td"),I.EFF(256," July 1, 2015 "),I.k0s(),I.j41(257,"td")(258,"label",51),I.EFF(259,"In progress"),I.k0s()()(),I.j41(260,"tr")(261,"td",44),I.nrm(262,"img",52),I.k0s(),I.j41(263,"td"),I.EFF(264," John Richards "),I.k0s(),I.j41(265,"td")(266,"div",46),I.nrm(267,"div",53),I.k0s()(),I.j41(268,"td"),I.EFF(269," $138.00 "),I.k0s(),I.j41(270,"td"),I.EFF(271," Apr 12, 2015 "),I.k0s(),I.j41(272,"td")(273,"label",54),I.EFF(274,"In progress"),I.k0s()()(),I.j41(275,"tr")(276,"td",44),I.nrm(277,"img",55),I.k0s(),I.j41(278,"td"),I.EFF(279," Peter Meggik "),I.k0s(),I.j41(280,"td")(281,"div",46),I.nrm(282,"div",56),I.k0s()(),I.j41(283,"td"),I.EFF(284," $ 77.99 "),I.k0s(),I.j41(285,"td"),I.EFF(286," May 15, 2015 "),I.k0s(),I.j41(287,"td")(288,"label",57),I.EFF(289,"In progress"),I.k0s()()(),I.j41(290,"tr")(291,"td",44),I.nrm(292,"img",58),I.k0s(),I.j41(293,"td"),I.EFF(294," Edward "),I.k0s(),I.j41(295,"td")(296,"div",46),I.nrm(297,"div",59),I.k0s()(),I.j41(298,"td"),I.EFF(299," $ 160.25 "),I.k0s(),I.j41(300,"td"),I.EFF(301," May 03, 2015 "),I.k0s(),I.j41(302,"td")(303,"label",60),I.EFF(304,"In progress"),I.k0s()()(),I.j41(305,"tr")(306,"td",44),I.nrm(307,"img",61),I.k0s(),I.j41(308,"td"),I.EFF(309," John Doe "),I.k0s(),I.j41(310,"td")(311,"div",46),I.nrm(312,"div",62),I.k0s()(),I.j41(313,"td"),I.EFF(314," $ 123.21 "),I.k0s(),I.j41(315,"td"),I.EFF(316," April 05, 2015 "),I.k0s(),I.j41(317,"td")(318,"label",63),I.EFF(319,"In progress"),I.k0s()()(),I.j41(320,"tr")(321,"td",44),I.nrm(322,"img",64),I.k0s(),I.j41(323,"td"),I.EFF(324," Henry Tom "),I.k0s(),I.j41(325,"td")(326,"div",46),I.nrm(327,"div",65),I.k0s()(),I.j41(328,"td"),I.EFF(329," $ 150.00 "),I.k0s(),I.j41(330,"td"),I.EFF(331," June 16, 2015 "),I.k0s(),I.j41(332,"td")(333,"label",54),I.EFF(334,"In progress"),I.k0s()()()()()()()()()()()())},encapsulation:2})}return y})();var P=U(6335),N=U(9885),j=U(4796),De=U(6810),Nt=U(9332),An=U(7759),ur=U(7473);const Bi=y=>["/dashboard/profile",y],Gi=()=>["/dashboard/claims"],bo=y=>({"bg-dark bg-opacity-15":y}),Qs=(y,l,h,m)=>({"bi-bell-fill text-warning":y,"bi-exclamation-circle-fill text-danger":l,"bi-pencil-fill text-primary":h,"bi-check-circle-fill text-success":m}),Ca=(y,l,h,m)=>({"bg-warning text-dark":y,"bg-danger":l,"bg-primary":h,"bg-success":m}),ss=()=>["/dashboard/admin-users"];function Do(y,l){if(1&y&&(I.j41(0,"span",48),I.EFF(1),I.k0s()),2&y){const h=I.XpG();I.R7$(),I.SpI(" ",h.unreadCount," ")}}function hs(y,l){if(1&y){const h=I.RV6();I.j41(0,"a",53),I.bIt("click",function(){const T=I.eBV(h).$implicit,M=I.XpG(2);return I.Njj(M.marcarComoLeida(T))}),I.j41(1,"div",54),I.nrm(2,"i",55),I.j41(3,"span",56),I.EFF(4),I.k0s()(),I.j41(5,"span",57),I.EFF(6),I.k0s()()}if(2&y){const h=l.$implicit;I.Y8G("ngClass",I.eq3(5,bo,h.read)),I.R7$(2),I.Y8G("ngClass",I.ziG(7,Qs,"asignado"===h.type,"urgente"===h.type,"editado"===h.type,"cerrado"===h.type)),I.R7$(2),I.JRh(h.message),I.R7$(),I.Y8G("ngClass",I.ziG(12,Ca,"asignado"===h.type,"urgente"===h.type,"editado"===h.type,"cerrado"===h.type)),I.R7$(),I.SpI(" ","asignado"===h.type?"Asignado":"urgente"===h.type?"Urgente":"editado"===h.type?"Editado":h.message.includes("cerrado")?"Cerrado":"Info"," ")}}function as(y,l){if(1&y){const h=I.RV6();I.qex(0),I.DNE(1,hs,7,17,"a",49),I.j41(2,"div",50)(3,"button",51),I.bIt("click",function(){I.eBV(h);const T=I.XpG();return I.Njj(T.marcarTodasComoLeidas())}),I.nrm(4,"i",52),I.EFF(5," Marcar todas como le\xeddas "),I.k0s()(),I.bVm()}if(2&y){const h=I.XpG();I.R7$(),I.Y8G("ngForOf",h.unreadNotifications)}}function fa(y,l){1&y&&(I.j41(0,"div",58),I.nrm(1,"i",59),I.EFF(2," Sin notificaciones "),I.k0s())}function Pn(y,l){1&y&&(I.j41(0,"li")(1,"a",26),I.EFF(2," Admin Usuarios "),I.k0s()()),2&y&&(I.R7$(),I.Y8G("routerLink",I.lJ4(1,ss)))}let pa=(()=>{class y{route;auth;userService;authService;router;todoService;alertaService;mockService;notificationService;userData=null;isLoading=!0;imagePath="assets/images/isotipo-webmain.svg";imageDefault="https://maxuber79.github.io/gsaforce/assets/images/face28.jpg";apodoUser="perrito";user=null;uid=null;profilePhotoURL="";pendingCount=0;todos=[];metrics="";tickets;satisfaction;channels;channelLabels=["Web","App","WhatsApp","Call Center"];channelData=[40,25,20,15];channelsData=[];perfil=null;userRol="";notifications=[];pendingCountNotification=0;uidNotification="";showNotiDropdown=!1;currentUid="";unreadCount=0;constructor(h,m,T,M,G,Q,Ie,Ge,jt){this.route=h,this.auth=m,this.userService=T,this.authService=M,this.router=G,this.todoService=Q,this.alertaService=Ie,this.mockService=Ge,this.notificationService=jt,console.log("%c<<< Start DashboardComponent >>>","background: #0d6efd; color: #ffffff; padding: 2px 5px;")}ngOnInit(){console.log("\u{1f4e6} Iniciando carga de usuario en dashboard..."),this.authService.getCurrentUser().subscribe(h=>{h&&(this.uid=h.uid,console.log(`%c \u{1f4e6} Usuario autenticado: ${h.uid}:`,"background: #d1e7dd; color: #0f5132; padding: 2px 5px;",h),this.userService.getUserData(h.uid).subscribe(m=>{console.log(`%c \u{1f4e6} Usuario autenticado ----\x3e ${h.uid}:`,"background: #d1e7dd; color: #0f5132; padding: 2px 5px;",m),this.userData=m,this.uid=m?.uid||"",this.perfil=m,this.userRol=m?.rol||"Usuario",console.log("Rol del usuario:",this.userRol)}),this.notificationService.getUserNotifications(h.uid).subscribe(m=>{this.notifications=m,this.unreadCount=m.filter(T=>!T.read).length,console.log("\u{1f514} --- Notificaciones del usuario:",this.notifications),console.log("\u{1f514} ::: Todas las notificaciones:",m),console.log("\u{1f4ec} Cantidad de no le\xeddas:",this.unreadCount),m.forEach(T=>console.log(`\u{1f4c4} ${T.message} | Le\xedda: ${T.read}`)),console.log("\u{1f4ec} Cantidad de no le\xeddas ----\x3e",this.unreadCount),this.notifications.forEach(T=>{console.log(`\u{1f538} Mensaje: ${T.message} | Le\xedda: ${T.read}`)})}))})}toggleNotiDropdown(){this.showNotiDropdown=!this.showNotiDropdown}listenToNotifications(){this.notificationService.getUserNotifications(this.uidNotification).subscribe(h=>{this.notifications=h,this.pendingCountNotification=h.filter(m=>!m.read).length,console.log("\u{1f514} Notificaciones para",this.uidNotification,":",this.notifications),console.log("\u{1f4ec} No le\xeddas:",this.pendingCountNotification)})}marcarComoLeida(h){console.log("\u{1f514} Marcando como le\xedda la notificaci\xf3n:",h),!h.read&&h.id&&this.uid&&this.notificationService.markAsRead(this.uid,h.id).then(()=>console.log(`\u{1f4ec} Notificaci\xf3n marcada como le\xedda: ${h.message}`)).catch(m=>console.error("\u274c Error al marcar como le\xedda:",m))}marcarTodasComoLeidas(){this.uid&&this.notificationService.markAllAsRead(this.uid).then(()=>console.log("\u{1f4ec} Todas las notificaciones marcadas como le\xeddas")).catch(h=>console.error("\u274c Error al marcar todas como le\xeddas:",h))}eliminarNotificacion(h){!h.id||!this.uid||!confirm("\xbfEst\xe1s seguro de eliminar esta notificaci\xf3n?")||this.notificationService.deleteNotification(this.uid,h.id).then(()=>console.log(`\u{1f5d1}\ufe0f Notificaci\xf3n eliminada: ${h.message}`)).catch(T=>console.error("\u274c Error al eliminar notificaci\xf3n:",T))}onLogout(){var h=this;return(0,Go.A)(function*(){try{yield h.authService.logout(),h.router.navigate(["/"])}catch(m){console.error("\u274c Error al cerrar sesi\xf3n:",m)}})()}goToProfile(){this.userData?.uid?this.router.navigate(["/dashboard/profile",this.userData.uid]):console.error("\u274c No se encontr\xf3 UID para navegar al perfil")}get unreadNotificationsCount(){const h=this.notifications?.filter(m=>!m.read).length||0;return console.log("\u{1f534} Notificaciones no le\xeddas:",h),h}get unreadNotifications(){return this.notifications.filter(h=>!h.read).slice(0,5)}static \u0275fac=function(m){return new(m||y)(I.rXU(ci.nX),I.rXU(P.Nj),I.rXU(N.D),I.rXU(j.u),I.rXU(ci.Ix),I.rXU(De.y),I.rXU(Nt.u),I.rXU(An.I),I.rXU(ur.J))};static \u0275cmp=I.VBU({type:y,selectors:[["app-dashboard"]],decls:80,vars:11,consts:[["noNotifications",""],[1,"d-flex","flex-column","min-vh-100","dashboard"],[1,"px-3","text-bg-dark"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["alt","","width","50",1,"",3,"src"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"navbar-nav","flex-row","d-none","d-md-flex"],[1,"nav-item","me-3","me-lg-1","active"],["href","#",1,"nav-link"],[1,"bi","bi-gear-fill"],[1,"nav-item","me-3","me-lg-1","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","position-relative"],[1,"bi","bi-bell-fill"],["class","position-absolute translate-middle badge rounded-pill bg-danger","style","top: 6px; right: -1px;",4,"ngIf"],[1,"dropdown-menu","dropdown-menu-end","p-0","shadow",2,"width","360px"],[1,"list-group","list-group-flush"],[4,"ngIf","ngIfElse"],[1,"dropdown","text-end"],["href","#","data-bs-toggle","dropdown","aria-expanded","false",1,"text-decoration-none","dropdown-toggle"],["alt","mdo","width","32","height","32",1,"border","border-light-subtle","border-2","object-fit-cover","rounded-circle",3,"src"],[1,"dropdown-menu","dropdown-menu-end","text-small"],[1,"dropdown-item",3,"routerLink"],[4,"ngIf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"flex-grow-1","container","py-4"],[1,"container"],["data-bs-theme","dark",1,"py-4","bg-dark"],[1,"d-lg-flex","justify-content-between","py-3","py-lg-2"],[1,"small","mb-2","mb-lg-0"],[1,"text-muted","mb-0","me-5"],[1,"d-flex","small","align-items-end","justify-content-between"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3","mb-2","mb-lg-0"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3"],[1,"d-none","d-lg-block","ms-3"],["href","",1,"me-2"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-pinterest","text-primary"],["d","M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-twitter","text-primary"],["d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-facebook","text-primary"],["d","M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"],[1,"d-lg-none"],[1,"position-absolute","translate-middle","badge","rounded-pill","bg-danger",2,"top","6px","right","-1px"],["href","#","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center","style","min-height: 65px;",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"text-center","p-3","border-top"],[1,"btn","btn-full","--success","m-1","w-100",3,"click"],[1,"bi","bi-check-circle-fill"],["href","#",1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"min-height","65px",3,"click","ngClass"],[1,"d-flex","align-items-center"],[1,"bi","me-3",3,"ngClass"],[1,"text-wrap","lh-sm"],[1,"badge","rounded-pill","ms-3",3,"ngClass"],[1,"list-group-item","text-center","text-warning-emphasis","p-3"],[1,"bi","bi-bell-slash"]],template:function(m,T){if(1&m){const M=I.RV6();I.j41(0,"div",1)(1,"header",2)(2,"nav",3)(3,"div",4)(4,"a",5),I.nrm(5,"img",6),I.k0s(),I.j41(6,"button",7),I.nrm(7,"span",8),I.k0s(),I.j41(8,"div",9),I.nrm(9,"ul",10),I.j41(10,"ul",11)(11,"li",12)(12,"a",13)(13,"span"),I.nrm(14,"i",14),I.k0s()()(),I.j41(15,"li",15)(16,"a",16),I.nrm(17,"i",17),I.DNE(18,Do,2,1,"span",18),I.k0s(),I.j41(19,"div",19)(20,"div",20),I.DNE(21,as,6,1,"ng-container",21)(22,fa,3,0,"ng-template",null,0,I.C5r),I.k0s()()()(),I.j41(24,"div",22)(25,"a",23),I.nrm(26,"img",24),I.k0s(),I.j41(27,"ul",25)(28,"li")(29,"a",26),I.EFF(30,"Mi perfil"),I.k0s()(),I.j41(31,"li")(32,"a",26),I.EFF(33,"Mis Reclamos"),I.k0s()(),I.DNE(34,Pn,3,2,"li",27),I.j41(35,"li"),I.nrm(36,"hr",28),I.k0s(),I.j41(37,"li")(38,"a",29),I.bIt("click",function(){return I.eBV(M),I.Njj(T.onLogout())}),I.EFF(39,"Sign out"),I.k0s()()()()()()()(),I.j41(40,"main",30)(41,"section",31),I.nrm(42,"router-outlet"),I.k0s(),I.nrm(43,"app-components"),I.k0s(),I.j41(44,"footer",32)(45,"div",31)(46,"div",33)(47,"div",34)(48,"p",35),I.EFF(49,"\xa9 2023 FreeFrontend.dev. All rights reserved."),I.k0s()(),I.j41(50,"div",36)(51,"div")(52,"a",37),I.EFF(53,"Privacy Policy"),I.k0s(),I.j41(54,"a",37),I.EFF(55,"Terms"),I.k0s(),I.j41(56,"a",37),I.EFF(57,"Cookies"),I.k0s(),I.j41(58,"a",38),I.EFF(59,"Sitemap"),I.k0s()(),I.j41(60,"div",39)(61,"a",40),I.qSk(),I.j41(62,"svg",41),I.nrm(63,"path",42),I.k0s()(),I.joV(),I.j41(64,"a",40),I.qSk(),I.j41(65,"svg",43),I.nrm(66,"path",44),I.k0s()(),I.joV(),I.j41(67,"a",40),I.qSk(),I.j41(68,"svg",45),I.nrm(69,"path",46),I.k0s()()(),I.joV(),I.j41(70,"div",47)(71,"a",40),I.qSk(),I.j41(72,"svg",41),I.nrm(73,"path",42),I.k0s()(),I.joV(),I.j41(74,"a",40),I.qSk(),I.j41(75,"svg",43),I.nrm(76,"path",44),I.k0s()(),I.joV(),I.j41(77,"a",40),I.qSk(),I.j41(78,"svg",45),I.nrm(79,"path",46),I.k0s()()()()()()()()}if(2&m){const M=I.sdS(23);I.R7$(5),I.Y8G("src",T.imagePath,I.B4B),I.R7$(13),I.Y8G("ngIf",T.unreadCount>0),I.R7$(3),I.Y8G("ngIf",T.unreadNotifications.length>0)("ngIfElse",M),I.R7$(5),I.Y8G("src",(null==T.userData?null:T.userData.photoURL)||T.imageDefault,I.B4B),I.R7$(3),I.Y8G("routerLink",I.eq3(8,Bi,T.uid)),I.R7$(3),I.Y8G("routerLink",I.lJ4(10,Gi)),I.R7$(2),I.Y8G("ngIf","Administrador"===T.userRol)}},dependencies:[Qo.MD,Qo.YU,Qo.Sq,Qo.bT,Wi.iI,ci.n3,Wi.Wk,ei],styles:["[data-card=border][_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid var(--bs-border-color);box-shadow:none}.card[_ngcontent-%COMP%]{margin-bottom:var(--bs-gutter-x)}.card-title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px;color:var(--bs-card-title-color)}.card-subtitle[_ngcontent-%COMP%]{font-size:14px;line-height:24px;color:var(--bs-card-subtitle-color)}.card-hover[_ngcontent-%COMP%]{transition:.2s ease-in}.card-hover[_ngcontent-%COMP%]:hover{transform:translate3d(0,-5px,0)}.cardwithborder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid var(--bs-border-color)}.card-fullscreen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;overflow:auto}.draggable-cards[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{cursor:move}.card-moved[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:var(--bs-info);color:var(--bs-white)}"]})}return y})();function Cs(y,l){1&y&&(I.j41(0,"div",5)(1,"div",6)(2,"span",7),I.EFF(3,"Cargando..."),I.k0s()(),I.j41(4,"p",8),I.EFF(5,"Procesando..."),I.k0s()())}let fs=(()=>{class y{router;userName="Nuevo Usuario";isLoading=!1;constructor(h){this.router=h}goToDashboard(){setTimeout(()=>{this.isLoading=!1,this.router.navigate(["/dashboard"])},2e3)}static \u0275fac=function(m){return new(m||y)(I.rXU(ci.Ix))};static \u0275cmp=I.VBU({type:y,selectors:[["app-welcome"]],decls:8,vars:2,consts:[[1,"welcome-container"],[1,"welcome-title"],[1,"welcome-subtitle"],["class","text-center my-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"text-center","my-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"]],template:function(m,T){1&m&&(I.j41(0,"section",0)(1,"h1",1),I.EFF(2),I.k0s(),I.j41(3,"p",2),I.EFF(4," Gracias por registrarte en nuestra aplicaci\xf3n To-Do. Desde aqu\xed puedes acceder a tu panel de control. "),I.k0s(),I.DNE(5,Cs,6,0,"div",3),I.j41(6,"button",4),I.bIt("click",function(){return T.goToDashboard()}),I.EFF(7,"Ir al Dashboard"),I.k0s()()),2&m&&(I.R7$(2),I.SpI("\xa1Bienvenido, ",T.userName,"! \u{1f44b}"),I.R7$(3),I.Y8G("ngIf",T.isLoading))},dependencies:[Qo.MD,Qo.bT],styles:[".welcome-container[_ngcontent-%COMP%]{text-align:center;padding:2rem}.welcome-container[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.welcome-container[_ngcontent-%COMP%]   .welcome-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:#555}.welcome-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1.5rem}"]})}return y})();var ga=U(520),Sa=U(1985);const ji=(y,l)=>{const h=(0,I.WQX)(P.Nj),m=(0,I.WQX)(ci.Ix);return new Sa.c(T=>{const M=(0,ga.hg)(h,G=>{G?T.next(!0):(m.navigate(["/"]),T.next(!1)),T.complete(),M()})})},$i=(y,l)=>{const h=(0,I.WQX)(P.Nj),m=(0,I.WQX)(ci.Ix);return new Sa.c(T=>{const M=(0,ga.hg)(h,G=>{G?(m.navigate(["/dashboard"]),T.next(!1)):T.next(!0),T.complete(),M()})})},Ri=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>Promise.all([U.e(341),U.e(195)]).then(U.bind(U,7195)).then(y=>y.LoginComponent),canActivate:[$i]},{path:"register",loadComponent:()=>Promise.all([U.e(341),U.e(739)]).then(U.bind(U,2739)).then(y=>y.RegisterComponent),canActivate:[$i]},{path:"forgot",loadComponent:()=>Promise.all([U.e(341),U.e(439)]).then(U.bind(U,6439)).then(y=>y.ForgotPasswordComponent),canActivate:[$i]},{path:"dashboard",component:pa,canActivate:[ji],loadChildren:()=>Promise.all([U.e(341),U.e(69)]).then(U.bind(U,9069)).then(y=>y.routes)},{path:"welcome",component:fs,canActivate:[ji]},{path:"**",loadComponent:()=>U.e(887).then(U.bind(U,8887)).then(y=>y.NotFoundComponent)}];var Fc=U(7643);const eo_firebaseConfig={apiKey:"AIzaSyCbOayfHpIwogvguhehOdr1JZO5IW1ELwA",authDomain:"to-do-app-2a154.firebaseapp.com",projectId:"to-do-app-2a154",storageBucket:"to-do-app-2a154.firebasestorage.app",messagingSenderId:"772395492262",appId:"1:772395492262:web:902eddb2ce4a22857da567"};var Za=U(7440),Ko=U(9967),Ls=U(2107),C=U(5794);(function rn(y,l){return(0,I.TL3)({rootComponent:y,...nr(l)})})(Uo,{providers:[(0,Wi.lh)(Ri),(0,Fc.$R)(),function Wr(){return(0,I.ngT)("NgEagerAnimations"),[...Va]}(),(0,Za.MW)(()=>(0,Za.Wp)(eo_firebaseConfig)),(0,P._q)(()=>(0,P.xI)()),(0,Ko.hV)(()=>(0,Ko.aU)()),(0,Ls.Xm)(()=>(0,Ls.c7)()),(0,C.DP)({positionClass:"toast-bottom-right",timeOut:3e3,closeButton:!0,progressBar:!0})]}).catch(y=>console.error(y))},8455:(En,je,U)=>{"use strict";U.d(je,{H:()=>Me});var b=U(8750),x=U(941),q=U(6745),Qe=U(1985),fe=U(4761),xe=U(8071),me=U(5225);function et(nt,Xe){if(!nt)throw new Error("Iterable cannot be null");return new Qe.c(vt=>{(0,me.N)(vt,Xe,()=>{const Wt=nt[Symbol.asyncIterator]();(0,me.N)(vt,Xe,()=>{Wt.next().then(Et=>{Et.done?vt.complete():vt.next(Et.value)})},0,!0)})})}var He=U(5055),at=U(9858),At=U(7441),Ut=U(5397),Ft=U(7953),Xt=U(591),pt=U(5196);function Me(nt,Xe){return Xe?function Dt(nt,Xe){if(null!=nt){if((0,He.l)(nt))return function I(nt,Xe){return(0,b.Tg)(nt).pipe((0,q._)(Xe),(0,x.Q)(Xe))}(nt,Xe);if((0,At.X)(nt))return function Ee(nt,Xe){return new Qe.c(vt=>{let Wt=0;return Xe.schedule(function(){Wt===nt.length?vt.complete():(vt.next(nt[Wt++]),vt.closed||this.schedule())})})}(nt,Xe);if((0,at.y)(nt))return function Ce(nt,Xe){return(0,b.Tg)(nt).pipe((0,q._)(Xe),(0,x.Q)(Xe))}(nt,Xe);if((0,Ft.T)(nt))return et(nt,Xe);if((0,Ut.x)(nt))return function pe(nt,Xe){return new Qe.c(vt=>{let Wt;return(0,me.N)(vt,Xe,()=>{Wt=nt[fe.l](),(0,me.N)(vt,Xe,()=>{let Et,st;try{({value:Et,done:st}=Wt.next())}catch(Ln){return void vt.error(Ln)}st?vt.complete():vt.next(Et)},0,!0)}),()=>(0,xe.T)(Wt?.return)&&Wt.return()})}(nt,Xe);if((0,pt.U)(nt))return function _t(nt,Xe){return et((0,pt.C)(nt),Xe)}(nt,Xe)}throw(0,Xt.L)(nt)}(nt,Xe):(0,b.Tg)(nt)}},8496:(En,je,U)=>{"use strict";function b(x,q){return x.reduce((I,Ce,Qe)=>(I[Ce]=q[Qe],I),{})}U.d(je,{e:()=>b})},8750:(En,je,U)=>{"use strict";U.d(je,{Tg:()=>He});var b=U(1635),x=U(7441),q=U(9858),I=U(1985),Ce=U(5055),Qe=U(7953),Ee=U(591),fe=U(5397),xe=U(5196),me=U(8071),pe=U(5334),et=U(3494);function He(Dt){if(Dt instanceof I.c)return Dt;if(null!=Dt){if((0,Ce.l)(Dt))return function at(Dt){return new I.c(Me=>{const nt=Dt[et.s]();if((0,me.T)(nt.subscribe))return nt.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Dt);if((0,x.X)(Dt))return function At(Dt){return new I.c(Me=>{for(let nt=0;nt<Dt.length&&!Me.closed;nt++)Me.next(Dt[nt]);Me.complete()})}(Dt);if((0,q.y)(Dt))return function Ut(Dt){return new I.c(Me=>{Dt.then(nt=>{Me.closed||(Me.next(nt),Me.complete())},nt=>Me.error(nt)).then(null,pe.m)})}(Dt);if((0,Qe.T)(Dt))return Xt(Dt);if((0,fe.x)(Dt))return function Ft(Dt){return new I.c(Me=>{for(const nt of Dt)if(Me.next(nt),Me.closed)return;Me.complete()})}(Dt);if((0,xe.U)(Dt))return function pt(Dt){return Xt((0,xe.C)(Dt))}(Dt)}throw(0,Ee.L)(Dt)}function Xt(Dt){return new I.c(Me=>{(function _t(Dt,Me){var nt,Xe,vt,Wt;return(0,b.sH)(this,void 0,void 0,function*(){try{for(nt=(0,b.xN)(Dt);!(Xe=yield nt.next()).done;)if(Me.next(Xe.value),Me.closed)return}catch(Et){vt={error:Et}}finally{try{Xe&&!Xe.done&&(Wt=nt.return)&&(yield Wt.call(nt))}finally{if(vt)throw vt.error}}Me.complete()})})(Dt,Me).catch(nt=>Me.error(nt))})}},9270:(En,je,U)=>{"use strict";U.d(je,{f:()=>b});const b={setTimeout(x,q,...I){const{delegate:Ce}=b;return Ce?.setTimeout?Ce.setTimeout(x,q,...I):setTimeout(x,q,...I)},clearTimeout(x){const{delegate:q}=b;return(q?.clearTimeout||clearTimeout)(x)},delegate:void 0}},9326:(En,je,U)=>{"use strict";U.d(je,{lI:()=>Ce,ms:()=>I});var b=U(8071),x=U(9470);function q(Ee){return Ee[Ee.length-1]}function I(Ee){return(0,b.T)(q(Ee))?Ee.pop():void 0}function Ce(Ee){return(0,x.m)(q(Ee))?Ee.pop():void 0}},9332:(En,je,U)=>{"use strict";U.d(je,{u:()=>Ce});var b=U(8032),x=U.n(b),q=U(1360),I=U(5794);let Ce=(()=>{class Qe{toastr;constructor(fe){this.toastr=fe}success(fe,xe="\xc9xito"){x().fire({icon:"success",title:xe,text:fe,timer:2e3,showConfirmButton:!1})}error(fe,xe="Error"){x().fire({icon:"error",title:xe,text:fe})}warning(fe,xe="Atenci\xf3n"){x().fire({icon:"warning",title:xe,text:fe})}info(fe,xe="Informaci\xf3n"){x().fire({icon:"info",title:xe,text:fe})}confirm(fe,xe="\xbfEst\xe1s seguro?"){return x().fire({icon:"question",title:xe,text:fe,showCancelButton:!0,confirmButtonText:"S\xed",cancelButtonText:"No"})}showToastSuccess(fe,xe="\xc9xito"){this.toastr.success(fe,xe)}showToastError(fe,xe="Error"){this.toastr.error(fe,xe)}showToastInfo(fe,xe="Info"){this.toastr.info(fe,xe)}showToastWarning(fe,xe="Atenci\xf3n"){this.toastr.warning(fe,xe)}static \u0275fac=function(xe){return new(xe||Qe)(q.KVO(I.tw))};static \u0275prov=q.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}return Qe})()},9350:(En,je,U)=>{"use strict";U.d(je,{G:()=>x});const x=(0,U(1853).L)(q=>function(){q(this),this.name="EmptyError",this.message="no elements in sequence"})},9361:(En,je,U)=>{"use strict";U.d(je,{q:()=>x});const x=new(U(1360).nKC)("")},9377:(En,je,U)=>{"use strict";function b(Ee,fe){fe=encodeURIComponent(fe);for(const xe of Ee.split(";")){const me=xe.indexOf("="),[pe,et]=-1==me?[xe,""]:[xe.slice(0,me),xe.slice(me+1)];if(pe.trim()===fe)return decodeURIComponent(et)}return null}U.d(je,{N0:()=>Qe,Vy:()=>Ce,Zn:()=>x,bS:()=>b});const x="browser",q="server";function Ce(Ee){return Ee===q}class Qe{}},9437:(En,je,U)=>{"use strict";U.d(je,{W:()=>I});var b=U(8750),x=U(4360),q=U(9974);function I(Ce){return(0,q.N)((Qe,Ee)=>{let me,fe=null,xe=!1;fe=Qe.subscribe((0,x._)(Ee,void 0,void 0,pe=>{me=(0,b.Tg)(Ce(pe,I(Ce)(Qe))),fe?(fe.unsubscribe(),fe=null,me.subscribe(Ee)):xe=!0})),xe&&(fe.unsubscribe(),fe=null,me.subscribe(Ee))})}},9470:(En,je,U)=>{"use strict";U.d(je,{m:()=>x});var b=U(8071);function x(q){return q&&(0,b.T)(q.schedule)}},9786:(En,je,U)=>{"use strict";U.d(je,{Y:()=>q,l:()=>I});var b=U(1026);let x=null;function q(Ce){if(b.$.useDeprecatedSynchronousErrorHandling){const Qe=!x;if(Qe&&(x={errorThrown:!1,error:null}),Ce(),Qe){const{errorThrown:Ee,error:fe}=x;if(x=null,Ee)throw fe}}else Ce()}function I(Ce){b.$.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=Ce)}},9858:(En,je,U)=>{"use strict";U.d(je,{y:()=>x});var b=U(8071);function x(q){return(0,b.T)(q?.then)}},9885:(En,je,U)=>{"use strict";U.d(je,{D:()=>me});var b=U(9967),x=U(7673),q=U(8455),I=U(6354),Ce=U(9437),Qe=U(5558),Ee=U(1360),fe=U(7643),xe=U(4796);let me=(()=>{class pe{http;authService;firestore;usersCollectionName="users";constructor(He,at,At){this.http=He,this.authService=at,this.firestore=At,console.log("%c<<< Start USER service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getUserProfile(He){if(!He)return console.warn("\u26a0\ufe0f getUserProfile: UID no proporcionado."),(0,x.of)(void 0);const at=(0,b.H9)(this.firestore,`${this.usersCollectionName}/${He}`);return console.log("\u{1f4c4} Obteniendo perfil para UID:",He),(0,b.Bg)(at).pipe((0,I.T)(At=>{if(At)return console.log("\u2705 Perfil obtenido:",At),{...At,uid:He};console.warn("\u26a0\ufe0f No se encontr\xf3 perfil para UID:",He)}),(0,Ce.W)(At=>(console.error("\u274c Error al obtener el perfil del usuario:",At),(0,x.of)(void 0))))}createUserProfile(He){if(!He.uid)return(0,q.H)(Promise.reject("\u274c createUserProfile: UID del usuario es requerido."));const at=new Date,At={...He,created_at:at,createdDate:at},Ut=(0,b.H9)(this.firestore,`${this.usersCollectionName}/${He.uid}`);return console.log("\u{1f4dd} Creando perfil para usuario:",At),(0,q.H)((0,b.BN)(Ut,At))}updateUserProfile(He,at){if(!He)return(0,q.H)(Promise.reject("\u274c updateUserProfile: UID no proporcionado."));const At=(0,b.H9)(this.firestore,`${this.usersCollectionName}/${He}`);return console.log("\u{1f504} Actualizando perfil UID:",He,"con datos:",at),(0,q.H)((0,b.mZ)(At,at))}deleteUserProfile(He){if(!He)return(0,q.H)(Promise.reject("\u274c deleteUserProfile: UID no proporcionado."));const at=(0,b.H9)(this.firestore,`${this.usersCollectionName}/${He}`);return console.log("\u{1f5d1} Eliminando perfil UID:",He),(0,q.H)((0,b.kd)(at))}getUserData(He){return this.authService.getAuthState().pipe((0,Qe.n)(at=>{if(console.log("\u{1f4e1} authService.getAuthState() emiti\xf3:",at),at&&at.uid){const At=(0,b.H9)(this.firestore,`${this.usersCollectionName}/${at.uid}`);return(0,b.Bg)(At).pipe((0,I.T)(Ut=>({...Ut,uid:at.uid})))}return console.warn("\u26a0\ufe0f Usuario no autenticado o sesi\xf3n expirada"),(0,x.of)(null)}))}getAllUsers(){const He=(0,b.rJ)(this.firestore,"users");return(0,b.xs)(He,{idField:"uid"})}toggleUserStatus(He,at){const At=(0,b.H9)(this.firestore,`users/${He}`);return(0,b.mZ)(At,{activo:at})}updateUserRole(He,at){const At=(0,b.H9)(this.firestore,`users/${He}`);return(0,b.mZ)(At,{rol:at})}getCurrentUserUid(){return this.authService.getAuthState().pipe((0,I.T)(He=>He?.uid||null))}getCurrentUserRole(){return this.authService.getAuthState().pipe((0,Qe.n)(He=>{if(He&&He.uid){const at=(0,b.H9)(this.firestore,`${this.usersCollectionName}/${He.uid}`);return(0,b.Bg)(at).pipe((0,I.T)(At=>At.rol||null))}return console.warn("\u26a0\ufe0f No hay usuario autenticado"),(0,x.of)(null)}),(0,Ce.W)(He=>(console.error("\u274c Error al obtener el rol:",He),(0,x.of)(null))))}getExecutives(){const He=(0,b.P)((0,b.rJ)(this.firestore,this.usersCollectionName),(0,b._M)("rol","==","Ejecutivo"));return(0,b.xs)(He,{idField:"uid"})}static \u0275fac=function(at){return new(at||pe)(Ee.KVO(fe.Qq),Ee.KVO(xe.u),Ee.KVO(b._7))};static \u0275prov=Ee.jDH({token:pe,factory:pe.\u0275fac,providedIn:"root"})}return pe})()},9967:(En,je,U)=>{"use strict";U.d(je,{_7:()=>dt,gS:()=>tr,rJ:()=>hn,xs:()=>nr,kd:()=>Mr,H9:()=>Kt,Bg:()=>Zn,x7:()=>di,aU:()=>Xi,My:()=>Ni,hV:()=>ne,P:()=>be,BN:()=>Ye,mZ:()=>It,_M:()=>Oe});var b=U(2967),x=U(1360),q=U(7440),I=U(4125),Ce=U(6335),Qe=U(2214),Ee=U(3273),fe=U(1985),xe=U(6354),me=function(){return me=Object.assign||function(ft){for(var Mt,tn=1,Vn=arguments.length;tn<Vn;tn++)for(var an in Mt=arguments[tn])Object.prototype.hasOwnProperty.call(Mt,an)&&(ft[an]=Mt[an]);return ft},me.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var et={includeMetadataChanges:!1};function He(yt,ft){return void 0===ft&&(ft=et),new fe.c(function(Mt){return{unsubscribe:(0,Ee.aQ)(yt,ft,{next:Mt.next.bind(Mt),error:Mt.error.bind(Mt),complete:Mt.complete.bind(Mt)})}})}function At(yt,ft){return void 0===ft&&(ft={}),function at(yt){return He(yt,{includeMetadataChanges:!0})}(yt).pipe((0,xe.T)(function(Mt){return Ut(Mt,ft)}))}function Ut(yt,ft){var Mt;void 0===ft&&(ft={});var tn=yt.data(ft);return yt.exists()&&"object"==typeof tn&&null!==tn&&ft.idField?me(me({},tn),((Mt={})[ft.idField]=yt.id,Mt)):tn}function Ln(yt,ft){return void 0===ft&&(ft={}),function Wt(yt){return He(yt,{includeMetadataChanges:!0}).pipe((0,xe.T)(function(ft){return ft.docs}))}(yt).pipe((0,xe.T)(function(Mt){return Mt.map(function(tn){return Ut(tn,ft)})}))}class dt{constructor(ft){return ft}}const vn="firestore",Rt=new x.nKC("angularfire2.firestore-instances");function Y(yt){return(ft,Mt)=>{const tn=ft.runOutsideAngular(()=>yt(Mt));return new dt(tn)}}const ue={provide:class Ze{constructor(){return(0,b.CA)(vn)}},deps:[[new x.Xx1,Rt]]},le={provide:dt,useFactory:function We(yt,ft){const Mt=(0,b.lR)(vn,yt,ft);return Mt&&new dt(Mt)},deps:[[new x.Xx1,Rt],q.XU]};function ne(yt,...ft){return(0,Qe.KO)("angularfire",b.xv.full,"fst"),(0,x.EmA)([le,ue,{provide:Rt,useFactory:Y(yt),multi:!0,deps:[x.SKi,x.zZn,b.u0,q.gL,[new x.Xx1,Ce.DF],[new x.Xx1,I.kR],...ft]}])}const nr=(0,b.S3)(Ln,!0),Zn=(0,b.S3)(At,!0),tr=(0,b.S3)(Ee.gS,!0,2),hn=(0,b.S3)(Ee.rJ,!0,2),Mr=(0,b.S3)(Ee.kd,!0,2),Kt=(0,b.S3)(Ee.H9,!0,2),di=(0,b.S3)(Ee.x7,!0),Xi=(0,b.S3)(Ee.aU,!0),Ni=(0,b.S3)(Ee.My,!0,2),be=(0,b.S3)(Ee.P,!0,2),Ye=(0,b.S3)(Ee.BN,!0,2),It=(0,b.S3)(Ee.mZ,!0,2),Oe=(0,b.S3)(Ee._M,!0,2)},9974:(En,je,U)=>{"use strict";U.d(je,{N:()=>q,S:()=>x});var b=U(8071);function x(I){return(0,b.T)(I?.lift)}function q(I){return Ce=>{if(x(Ce))return Ce.lift(function(Qe){try{return I(Qe,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}}},En=>{En(En.s=8399)}]);