"use strict";(self.webpackChunkclaims_app=self.webpackChunkclaims_app||[]).push([[739],{2739:(N,u,s)=>{s.r(u),s.d(u,{RegisterComponent:()=>$});var v=s(467),e=s(1360),m=s(2881),n=s(4341),_=s(5207),p=s(6335),g=s(9967),C=s(5072);const l=(r,i)=>({"is-invalid":r,"is-valid":i}),h=()=>["/"];function w(r,i){1&r&&(e.j41(0,"div"),e.EFF(1,"El nombre completo es obligatorio!"),e.k0s())}function P(r,i){if(1&r&&(e.j41(0,"div",42),e.DNE(1,w,2,0,"div",43),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.getControl.name.errors.required)}}function F(r,i){1&r&&(e.j41(0,"div"),e.EFF(1,"El nombre completo es obligatorio!"),e.k0s())}function E(r,i){if(1&r&&(e.j41(0,"div",42),e.DNE(1,F,2,0,"div",43),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.getControl.last_name.errors.required)}}function k(r,i){1&r&&(e.j41(0,"div"),e.EFF(1,"El nombre completo es obligatorio!"),e.k0s())}function y(r,i){if(1&r&&(e.j41(0,"div",42),e.DNE(1,k,2,0,"div",43),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.getControl.user_name.errors.required)}}function R(r,i){1&r&&(e.j41(0,"div"),e.EFF(1,"Ingresa un correo v\xe1lido."),e.k0s())}function M(r,i){if(1&r&&(e.j41(0,"div",42),e.DNE(1,R,2,0,"div",43),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.getControl.email.errors.required)}}function O(r,i){1&r&&(e.j41(0,"div"),e.EFF(1," La contrase\xf1a es obligatoria. "),e.k0s())}function j(r,i){1&r&&(e.j41(0,"div"),e.EFF(1," Debe tener al menos 6 caracteres. "),e.k0s())}function I(r,i){if(1&r&&(e.j41(0,"div",42),e.DNE(1,O,2,0,"div",43)(2,j,2,0,"div",43),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.getControl.password.errors.required),e.R7$(),e.Y8G("ngIf",t.getControl.password.errors.minlength)}}function D(r,i){1&r&&(e.j41(0,"div",42),e.EFF(1," Debes repetir la contrase\xf1a. "),e.k0s())}function G(r,i){1&r&&(e.j41(0,"div",42),e.EFF(1," Las contrase\xf1as no coinciden. "),e.k0s())}function T(r,i){1&r&&(e.j41(0,"div",44)(1,"div",45)(2,"span",46),e.EFF(3,"Cargando..."),e.k0s()(),e.j41(4,"p",47),e.EFF(5,"Procesando..."),e.k0s()())}let $=(()=>{class r{fb;auth;firestore;router;imagePath="assets/images/webmain.svg";angularVersion=e.xvI.full;myTitle="My first Claims";mySubTitle=`in Angular ${this.angularVersion}`;textContent="Lorem ipsum dolor sit amet consectetur adipisicing elit Eveniet, itaque accusantium odio, soluta, corrupti aliquam quibusdam tempora at cupiditate quis eum maiores liber veritatis? Dicta facilis sint aliquid ipsum atque?";isLoading=!1;passwordVisible=!1;confirmPasswordVisible=!1;registerForm;constructor(t,a,o,d){this.fb=t,this.auth=a,this.firestore=o,this.router=d,console.log("%c<<< start constructor >>>","background: #0d6efd; color: #ffffff; padding: 2px 5px;"),this.registerForm=this.fb.group({name:["",n.k0.required],last_name:["",n.k0.required],user_name:["",n.k0.required],email:["",[n.k0.required,n.k0.email]],password:["",[n.k0.required,n.k0.minLength(6)]],confirmPassword:["",n.k0.required]},{validators:[this.passwordMatchValidator]}),console.log("%c<<< end component >>>","background: #198754; color: #ffffff; padding: 2px 5px;")}passwordMatchValidator(t){const a=t.get("password")?.value,o=t.get("confirmPassword")?.value;return a===o?null:{passwordMismatch:!0}}togglePasswordVisibility(){this.passwordVisible=!this.passwordVisible}toggleConfirmPasswordVisibility(){this.confirmPasswordVisible=!this.confirmPasswordVisible}get getControl(){return this.registerForm.controls}onSubmit(){var t=this;return(0,v.A)(function*(){if(console.log("%c<<< click button resgister >>>","background: #6610f2; color: #ffffff; padding: 2px 5px;",t.registerForm.value),t.isLoading=!0,t.registerForm.invalid)return;const{name:a,last_name:o,user_name:d,email:f,password:Y}=t.registerForm.value;try{const b=(yield(0,p.eJ)(t.auth,f,Y)).user.uid;yield(0,g.BN)((0,g.H9)(t.firestore,"users",b),{name:a,last_name:o,user_name:d,email:f,rol:"Ejecutivo",isProfileComplete:!1,created_at:new Date}),console.log("\u2705 Usuario registrado correctamente:",b),alert(JSON.stringify(t.registerForm.value,null,2)),t.router.navigate(["/welcome"]),t.isLoading=!1}catch(c){console.error("\u274c Error al registrar el usuario:",c),"auth/email-already-in-use"===c.code?alert("Este correo ya est\xe1 registrado. Intenta con otro."):alert("Ocurri\xf3 un error al registrar el usuario. Intenta nuevamente.")}})()}static \u0275fac=function(a){return new(a||r)(e.rXU(n.ok),e.rXU(p.Nj),e.rXU(g._7),e.rXU(C.Ix))};static \u0275cmp=e.VBU({type:r,selectors:[["app-register"]],decls:74,vars:44,consts:[[2,"background-color","lightcyan"],[1,"w-100","px-4","py-5","px-md-5","text-center","text-lg-start"],[1,"container-fluid"],[1,"row","gx-lg-5","align-items-center"],[1,"col-lg-5","mb-5","mb-lg-0","mh-100"],[1,"my-5","display-3","fw-bold","ls-tight"],[1,"text-primary","fw-normal"],[2,"color","hsl(217, 10%, 50.8%)"],[1,"col-lg-7","mb-5","mb-lg-0"],[1,"card"],[1,"card-header","text-center","border","border-0"],["alt","",1,"logo-login","my-2",3,"src"],[1,"h2","mb-2","fw-bold"],[1,"mb-2"],[1,"card-body","py-5","px-md-5"],["novalidate","",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-6"],[1,"form-floating","mb-3"],["type","text","id","name","placeholder","Nombre","formControlName","name",1,"form-control",3,"ngClass"],["for","name"],["class","invalid-feedback animate__animated animate__fadeIn",4,"ngIf"],["type","text","id","last_name","placeholder","Apellido","formControlName","last_name",1,"form-control",3,"ngClass"],["for","last_name"],[1,"col-12"],["type","text","id","user_name","placeholder","Nombre de usuario","formControlName","user_name",1,"form-control",3,"ngClass"],["for","user_name"],["type","email","id","email","placeholder","Correo","formControlName","email",1,"form-control",3,"ngClass"],["for","email"],[1,"input-group","form-floating","mb-3"],["id","password","placeholder","Contrase\xf1a","formControlName","password",1,"form-control",3,"type","ngClass"],["for","password"],["type","button","tabindex","-1",1,"btn","btn-outline-secondary",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],[1,"bi",3,"ngClass"],["id","confirmPassword","placeholder","Repite tu contrase\xf1a","formControlName","confirmPassword",1,"form-control",3,"type","ngClass"],["for","confirmPassword"],["class","text-center my-3",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"col-12","text-center","mt-5"],[1,"login-wrapper-footer-text"],["id","back-to-login-from-forget-link",3,"routerLink"],[1,"invalid-feedback","animate__animated","animate__fadeIn"],[4,"ngIf"],[1,"text-center","my-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"]],template:function(a,o){1&a&&(e.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e.EFF(6),e.nrm(7,"br"),e.j41(8,"span",6),e.EFF(9),e.k0s()(),e.j41(10,"p",7),e.EFF(11),e.k0s()(),e.j41(12,"div",8)(13,"div",9)(14,"div",10),e.nrm(15,"img",11),e.j41(16,"h2",12),e.EFF(17,"Please sign in"),e.k0s(),e.j41(18,"p",13),e.EFF(19,"Your Admin Dashboard"),e.k0s()(),e.j41(20,"div",14)(21,"form",15),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(22,"div",16)(23,"div",17)(24,"div",18),e.nrm(25,"input",19),e.j41(26,"label",20),e.EFF(27,"Nombre"),e.k0s(),e.DNE(28,P,2,1,"div",21),e.k0s()(),e.j41(29,"div",17)(30,"div",18),e.nrm(31,"input",22),e.j41(32,"label",23),e.EFF(33,"Apellido"),e.k0s(),e.DNE(34,E,2,1,"div",21),e.k0s()(),e.j41(35,"div",24)(36,"div",18),e.nrm(37,"input",25),e.j41(38,"label",26),e.EFF(39,"Nombre de usuario"),e.k0s(),e.DNE(40,y,2,1,"div",21),e.k0s()(),e.j41(41,"div",24)(42,"div",18),e.nrm(43,"input",27),e.j41(44,"label",28),e.EFF(45,"Correo electr\xf3nico"),e.k0s(),e.DNE(46,M,2,1,"div",21),e.k0s()(),e.j41(47,"div",24)(48,"div",29),e.nrm(49,"input",30),e.j41(50,"label",31),e.EFF(51,"Contrase\xf1a"),e.k0s(),e.j41(52,"button",32),e.bIt("click",function(){return o.togglePasswordVisibility()}),e.nrm(53,"i",33),e.k0s(),e.DNE(54,I,3,2,"div",21),e.k0s()(),e.j41(55,"div",24)(56,"div",29),e.nrm(57,"input",34),e.j41(58,"label",35),e.EFF(59,"Repite tu contrase\xf1a"),e.k0s(),e.j41(60,"button",32),e.bIt("click",function(){return o.toggleConfirmPasswordVisibility()}),e.nrm(61,"i",33),e.k0s(),e.DNE(62,D,2,0,"div",21)(63,G,2,0,"div",21),e.k0s()(),e.j41(64,"div",24),e.DNE(65,T,6,0,"div",36),e.j41(66,"div",37)(67,"button",38),e.EFF(68," Registrarse "),e.k0s()()(),e.j41(69,"div",39)(70,"p",40),e.EFF(71,"Did you save your password? "),e.j41(72,"a",41),e.EFF(73,"Back to Login"),e.k0s()()()()()()()()()()()()),2&a&&(e.R7$(6),e.SpI(" ",o.myTitle," "),e.R7$(3),e.JRh(o.mySubTitle),e.R7$(2),e.SpI(" ",o.textContent," "),e.R7$(4),e.Y8G("src",o.imagePath,e.B4B),e.R7$(6),e.Y8G("formGroup",o.registerForm),e.R7$(4),e.Y8G("ngClass",e.l_i(25,l,o.getControl.name.errors&&(o.getControl.name.dirty||o.getControl.name.touched),o.getControl.name.valid)),e.R7$(3),e.Y8G("ngIf",o.getControl.name.errors&&o.getControl.name.invalid&&o.getControl.name.touched),e.R7$(3),e.Y8G("ngClass",e.l_i(28,l,o.getControl.last_name.errors&&(o.getControl.last_name.dirty||o.getControl.last_name.touched),o.getControl.last_name.valid)),e.R7$(3),e.Y8G("ngIf",o.getControl.last_name.errors&&o.getControl.last_name.invalid&&o.getControl.last_name.touched),e.R7$(3),e.Y8G("ngClass",e.l_i(31,l,o.getControl.user_name.errors&&(o.getControl.user_name.dirty||o.getControl.user_name.touched),o.getControl.user_name.valid)),e.R7$(3),e.Y8G("ngIf",o.getControl.user_name.errors&&o.getControl.user_name.invalid&&o.getControl.user_name.touched),e.R7$(3),e.Y8G("ngClass",e.l_i(34,l,o.getControl.email.errors&&(o.getControl.email.dirty||o.getControl.email.touched),o.getControl.email.valid)),e.R7$(3),e.Y8G("ngIf",o.getControl.email.errors&&o.getControl.email.invalid&&o.getControl.email.touched),e.R7$(3),e.Y8G("type",o.passwordVisible?"text":"password")("ngClass",e.l_i(37,l,o.getControl.password.errors&&(o.getControl.password.dirty||o.getControl.password.touched),o.getControl.password.valid)),e.R7$(4),e.Y8G("ngClass",o.passwordVisible?"bi-eye-slash":"bi-eye"),e.R7$(),e.Y8G("ngIf",o.getControl.password.errors&&o.getControl.password.touched),e.R7$(3),e.Y8G("type",o.confirmPasswordVisible?"text":"password")("ngClass",e.l_i(40,l,o.getControl.confirmPassword.touched&&o.getControl.confirmPassword.invalid||(null==o.registerForm.errors?null:o.registerForm.errors.passwordMismatch),o.getControl.confirmPassword.valid&&!(null!=o.registerForm.errors&&o.registerForm.errors.passwordMismatch))),e.R7$(4),e.Y8G("ngClass",o.confirmPasswordVisible?"bi-eye-slash":"bi-eye"),e.R7$(),e.Y8G("ngIf",o.getControl.confirmPassword.touched&&(null==o.getControl.confirmPassword.errors?null:o.getControl.confirmPassword.errors.required)),e.R7$(),e.Y8G("ngIf",(null==o.registerForm.errors?null:o.registerForm.errors.passwordMismatch)&&o.getControl.confirmPassword.touched),e.R7$(2),e.Y8G("ngIf",o.isLoading),e.R7$(2),e.Y8G("disabled",o.registerForm.invalid),e.R7$(5),e.Y8G("routerLink",e.lJ4(43,h)))},dependencies:[m.MD,m.YU,m.bT,n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,_.iI,_.Wk],styles:['.logo-login[_ngcontent-%COMP%]{width:100px;height:auto;display:inline-block}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{width:100%;height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}.btn-bd-primary[_ngcontent-%COMP%]{--bd-violet-bg: #712cf9;--bd-violet-rgb: 112.520718, 44.062154, 249.437846;--bs-btn-font-weight: 600;--bs-btn-color: var(--bs-white);--bs-btn-bg: var(--bd-violet-bg);--bs-btn-border-color: var(--bd-violet-bg);--bs-btn-hover-color: var(--bs-white);--bs-btn-hover-bg: #6528e0;--bs-btn-hover-border-color: #6528e0;--bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);--bs-btn-active-color: var(--bs-btn-hover-color);--bs-btn-active-bg: #5a23c8;--bs-btn-active-border-color: #5a23c8 }.bd-mode-toggle[_ngcontent-%COMP%]{z-index:1500}.bd-mode-toggle[_ngcontent-%COMP%]   .bi[_ngcontent-%COMP%]{width:1em;height:1em}.bd-mode-toggle[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .bi[_ngcontent-%COMP%]{display:block!important}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.form-signin[_ngcontent-%COMP%]{max-width:330px;padding:1rem}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.divider[_ngcontent-%COMP%]:after, .divider[_ngcontent-%COMP%]:before{content:"";flex:1;height:1px;background:#eee}.input-group.form-floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{z-index:20}']})}return r})()}}]);