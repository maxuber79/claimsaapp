(self.webpackChunkclaims_app=self.webpackChunkclaims_app||[]).push([[792],{274:(Cn,ze,W)=>{"use strict";W.d(ze,{H:()=>Q});var D=W(1397),F=W(8071);function Q(w,Se){return(0,F.T)(Se)?(0,D.Z)(w,Se,1):(0,D.Z)(w,1)}},345:(Cn,ze,W)=>{"use strict";W.d(ze,{hE:()=>Se,up:()=>Rt});var D=W(9361),F=W(1360);let Se=(()=>{class ut{_doc;constructor(Xe){this._doc=Xe}getTitle(){return this._doc.title}setTitle(Xe){this._doc.title=Xe||""}static \u0275fac=function(en){return new(en||ut)(F.KVO(D.q))};static \u0275prov=F.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})(),Rt=(()=>{class ut{static \u0275fac=function(en){return new(en||ut)};static \u0275prov=F.jDH({token:ut,factory:function(en){let Pt=null;return Pt=en?new(en||ut):F.KVO(St),Pt},providedIn:"root"})}return ut})(),St=(()=>{class ut extends Rt{_doc;constructor(Xe){super(),this._doc=Xe}sanitize(Xe,en){if(null==en)return null;switch(Xe){case F.WPN.NONE:return en;case F.WPN.HTML:return(0,F.ZF7)(en,"HTML")?(0,F.rcV)(en):(0,F.h9k)(this._doc,String(en)).toString();case F.WPN.STYLE:return(0,F.ZF7)(en,"Style")?(0,F.rcV)(en):en;case F.WPN.SCRIPT:if((0,F.ZF7)(en,"Script"))return(0,F.rcV)(en);throw new F.wOt(5200,!1);case F.WPN.URL:return(0,F.ZF7)(en,"URL")?(0,F.rcV)(en):(0,F.$MX)(String(en));case F.WPN.RESOURCE_URL:if((0,F.ZF7)(en,"ResourceURL"))return(0,F.rcV)(en);throw new F.wOt(5201,!1);default:throw new F.wOt(5202,!1)}}bypassSecurityTrustHtml(Xe){return(0,F.Kcf)(Xe)}bypassSecurityTrustStyle(Xe){return(0,F.cWb)(Xe)}bypassSecurityTrustScript(Xe){return(0,F.UyX)(Xe)}bypassSecurityTrustUrl(Xe){return(0,F.osQ)(Xe)}bypassSecurityTrustResourceUrl(Xe){return(0,F.e5t)(Xe)}static \u0275fac=function(en){return new(en||ut)(F.KVO(D.q))};static \u0275prov=F.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})()},467:(Cn,ze,W)=>{"use strict";function D(Q,w,Se,Ze,be,ge,Ue){try{var _e=Q[ge](Ue),we=_e.value}catch(qe){return void Se(qe)}_e.done?w(we):Promise.resolve(we).then(Ze,be)}function F(Q){return function(){var w=this,Se=arguments;return new Promise(function(Ze,be){var ge=Q.apply(w,Se);function Ue(we){D(ge,Ze,be,Ue,_e,"next",we)}function _e(we){D(ge,Ze,be,Ue,_e,"throw",we)}Ue(void 0)})}}W.d(ze,{A:()=>F})},520:(Cn,ze,W)=>{"use strict";W.d(ze,{eJ:()=>Va,xI:()=>Jl,hg:()=>to,J1:()=>Di,x9:()=>Kr,CI:()=>Vs});var D=W(467),F=W(7852),Q=W(6858),w=W(8041),Se=W(1635),Ze=W(1362);const Ot=function Ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Bt=new Q.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),hn=new w.Vy("@firebase/auth");function Rt(T,...h){hn.logLevel<=w.$b.ERROR&&hn.error(`Auth (${F.MF}): ${T}`,...h)}function St(T,...h){throw Xt(T,...h)}function Ne(T,...h){return Xt(T,...h)}function ct(T,h,y){const C=Object.assign(Object.assign({},Ot()),{[h]:y});return new Q.FA("auth","Firebase",C).create(h,{appName:T.name})}function et(T){return ct(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xt(T,...h){if("string"!=typeof T){const y=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=T.name),T._errorFactory.create(y,...C)}return Bt.create(T,...h)}function vt(T,h,...y){if(!T)throw Xt(h,...y)}function dt(T){const h="INTERNAL ASSERTION FAILED: "+T;throw Rt(h),new Error(h)}function $n(T,h){T||dt(h)}function kn(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function ut(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class en{constructor(h,y){this.shortDelay=h,this.longDelay=y,$n(y>h,"Short delay should be less than long delay!"),this.isMobile=(0,Q.jZ)()||(0,Q.lV)()}get(){return function wn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function er(){return"http:"===ut()||"https:"===ut()}()||(0,Q.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pt(T,h){$n(T.emulator,"Emulator should always be set here");const{url:y}=T.emulator;return h?`${y}${h.startsWith("/")?h.slice(1):h}`:y}class Ge{static initialize(h,y,C){this.fetchImpl=h,y&&(this.headersImpl=y),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void dt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void dt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void dt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},le=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],de=new en(3e4,6e4);function pe(T,h){return T.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:T.tenantId}):h}function re(T,h,y,C){return he.apply(this,arguments)}function he(){return(he=(0,D.A)(function*(T,h,y,C,B={}){return Ke(T,B,(0,D.A)(function*(){let J={},Fe={};C&&("GET"===h?Fe=C:J={body:JSON.stringify(C)});const Je=(0,Q.Am)(Object.assign({key:T.config.apiKey},Fe)).slice(1),Ut=yield T._getAdditionalHeaders();Ut["Content-Type"]="application/json",T.languageCode&&(Ut["X-Firebase-Locale"]=T.languageCode);const mn=Object.assign({method:h,headers:Ut},J);return(0,Q.c1)()||(mn.referrerPolicy="no-referrer"),T.emulatorConfig&&(0,Q.zJ)(T.emulatorConfig.host)&&(mn.credentials="include"),Ge.fetch()(yield nr(T,T.config.apiHost,y,Je),mn)}))})).apply(this,arguments)}function Ke(T,h,y){return gt.apply(this,arguments)}function gt(){return(gt=(0,D.A)(function*(T,h,y){T._canInitEmulator=!1;const C=Object.assign(Object.assign({},Z),h);try{const B=new Hn(T),J=yield Promise.race([y(),B.promise]);B.clearNetworkTimeout();const Fe=yield J.json();if("needConfirmation"in Fe)throw Kt(T,"account-exists-with-different-credential",Fe);if(J.ok&&!("errorMessage"in Fe))return Fe;{const Je=J.ok?Fe.errorMessage:Fe.error.message,[Ut,mn]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ut)throw Kt(T,"credential-already-in-use",Fe);if("EMAIL_EXISTS"===Ut)throw Kt(T,"email-already-in-use",Fe);if("USER_DISABLED"===Ut)throw Kt(T,"user-disabled",Fe);const jn=C[Ut]||Ut.toLowerCase().replace(/[_\s]+/g,"-");if(mn)throw ct(T,jn,mn);St(T,jn)}}catch(B){if(B instanceof Q.g)throw B;St(T,"network-request-failed",{message:String(B)})}})).apply(this,arguments)}function rn(T,h,y,C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,D.A)(function*(T,h,y,C,B={}){const J=yield re(T,h,y,C,B);return"mfaPendingCredential"in J&&St(T,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function nr(T,h,y,C){return zt.apply(this,arguments)}function zt(){return(zt=(0,D.A)(function*(T,h,y,C){const B=`${h}${y}?${C}`,J=T,Fe=J.config.emulator?Pt(T.config,B):`${T.config.apiScheme}://${B}`;return le.includes(y)&&(yield J._persistenceManagerAvailable,"COOKIE"===J._getPersistenceType())?J._getPersistence()._getFinalTarget(Fe).toString():Fe})).apply(this,arguments)}function Qn(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((y,C)=>{this.timer=setTimeout(()=>C(Ne(this.auth,"network-request-failed")),de.get())})}}function Kt(T,h,y){const C={appName:T.name};y.email&&(C.email=y.email),y.phoneNumber&&(C.phoneNumber=y.phoneNumber);const B=Ne(T,h,C);return B.customData._tokenResponse=y,B}function tr(T){return void 0!==T&&void 0!==T.enterprise}class bn{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const y of this.recaptchaEnforcementState)if(y.provider&&y.provider===h)return Qn(y.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function fn(){return(fn=(0,D.A)(function*(T,h){return re(T,"GET","/v2/recaptchaConfig",pe(T,h))})).apply(this,arguments)}function on(){return(on=(0,D.A)(function*(T,h){return re(T,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function st(T,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,D.A)(function*(T,h){return re(T,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Kn(T){if(T)try{const h=new Date(Number(T));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function li(){return(li=(0,D.A)(function*(T,h=!1){const y=(0,Q.Ku)(T),C=yield y.getIdToken(h),B=Dr(C);vt(B&&B.exp&&B.auth_time&&B.iat,y.auth,"internal-error");const J="object"==typeof B.firebase?B.firebase:void 0,Fe=J?.sign_in_provider;return{claims:B,token:C,authTime:Kn(gi(B.auth_time)),issuedAtTime:Kn(gi(B.iat)),expirationTime:Kn(gi(B.exp)),signInProvider:Fe||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function gi(T){return 1e3*Number(T)}function Dr(T){const[h,y,C]=T.split(".");if(void 0===h||void 0===y||void 0===C)return Rt("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,Q.u)(y);return B?JSON.parse(B):(Rt("Failed to decode base64 JWT payload"),null)}catch(B){return Rt("Caught error parsing JWT payload as JSON",B?.toString()),null}}function Ei(T){const h=Dr(T);return vt(h,"internal-error"),vt(typeof h.exp<"u","internal-error"),vt(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function Cr(T,h){return di.apply(this,arguments)}function di(){return(di=(0,D.A)(function*(T,h,y=!1){if(y)return h;try{return yield h}catch(C){throw C instanceof Q.g&&function lr({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(C)&&T.auth.currentUser===T&&(yield T.auth.signOut()),C}})).apply(this,arguments)}class sr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var y;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const B=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(h=!1){var y=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,D.A)(function*(){yield y.iteration()}),C)}iteration(){var h=this;return(0,D.A)(function*(){try{yield h.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&h.schedule(!0))}h.schedule()})()}}class mi{constructor(h,y){this.createdAt=h,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kn(this.lastLoginAt),this.creationTime=Kn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hr(T){return An.apply(this,arguments)}function An(){return(An=(0,D.A)(function*(T){var h;const y=T.auth,C=yield T.getIdToken(),B=yield Cr(T,st(y,{idToken:C}));vt(B?.users.length,y,"internal-error");const J=B.users[0];T._notifyReloadListener(J);const Fe=null!==(h=J.providerUserInfo)&&void 0!==h&&h.length?Yi(J.providerUserInfo):[],Je=function Gn(T,h){return[...T.filter(C=>!h.some(B=>B.providerId===C.providerId)),...h]}(T.providerData,Fe),jn=!!T.isAnonymous&&!(T.email&&J.passwordHash||Je?.length),Wn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:Je,metadata:new mi(J.createdAt,J.lastLoginAt),isAnonymous:jn};Object.assign(T,Wn)})).apply(this,arguments)}function xr(){return(xr=(0,D.A)(function*(T){const h=(0,Q.Ku)(T);yield hr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Yi(T){return T.map(h=>{var{providerId:y}=h,C=(0,Se.Tt)(h,["providerId"]);return{providerId:y,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ar(){return(Ar=(0,D.A)(function*(T,h){const y=yield Ke(T,{},(0,D.A)(function*(){const C=(0,Q.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:B,apiKey:J}=T.config,Fe=yield nr(T,B,"/v1/token",`key=${J}`),Je=yield T._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",Ge.fetch()(Fe,{method:"POST",headers:Je,body:C})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}function ai(){return(ai=(0,D.A)(function*(T,h){return re(T,"POST","/v2/accounts:revokeToken",pe(T,h))})).apply(this,arguments)}class Vi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){vt(h.idToken,"internal-error"),vt(typeof h.idToken<"u","internal-error"),vt(typeof h.refreshToken<"u","internal-error");const y="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):Ei(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,y)}updateFromIdToken(h){vt(0!==h.length,"internal-error");const y=Ei(h);this.updateTokensAndExpiration(h,null,y)}getToken(h){var y=this;return(0,D.A)(function*(C,B=!1){return B||!y.accessToken||y.isExpired?(vt(y.refreshToken,C,"user-token-expired"),y.refreshToken?(yield y.refresh(C,y.refreshToken),y.accessToken):null):y.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,y){var C=this;return(0,D.A)(function*(){const{accessToken:B,refreshToken:J,expiresIn:Fe}=yield function Le(T,h){return Ar.apply(this,arguments)}(h,y);C.updateTokensAndExpiration(B,J,Number(Fe))})()}updateTokensAndExpiration(h,y,C){this.refreshToken=y||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,y){const{refreshToken:C,accessToken:B,expirationTime:J}=y,Fe=new Vi;return C&&(vt("string"==typeof C,"internal-error",{appName:h}),Fe.refreshToken=C),B&&(vt("string"==typeof B,"internal-error",{appName:h}),Fe.accessToken=B),J&&(vt("number"==typeof J,"internal-error",{appName:h}),Fe.expirationTime=J),Fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Vi,this.toJSON())}_performRefresh(){return dt("not implemented")}}function _n(T,h){vt("string"==typeof T||typeof T>"u","internal-error",{appName:h})}class gr{constructor(h){var{uid:y,auth:C,stsTokenManager:B}=h,J=(0,Se.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=C,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new mi(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(h){var y=this;return(0,D.A)(function*(){const C=yield Cr(y,y.stsTokenManager.getToken(y.auth,h));return vt(C,y.auth,"internal-error"),y.accessToken!==C&&(y.accessToken=C,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),C})()}getIdTokenResult(h){return function si(T){return li.apply(this,arguments)}(this,h)}reload(){return function bi(T){return xr.apply(this,arguments)}(this)}_assign(h){this!==h&&(vt(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(y=>Object.assign({},y)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const y=new gr(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(h){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var y=this;return(0,D.A)(function*(C,B=!1){let J=!1;C.idToken&&C.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(C),J=!0),B&&(yield hr(y)),yield y.auth._persistUserIfCurrent(y),J&&y.auth._notifyListenersIfCurrent(y)}).apply(this,arguments)}delete(){var h=this;return(0,D.A)(function*(){if((0,F.xZ)(h.auth.app))return Promise.reject(et(h.auth));const y=yield h.getIdToken();return yield Cr(h,function fr(T,h){return on.apply(this,arguments)}(h.auth,{idToken:y})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,y){var C,B,J,Fe,Je,Ut,mn,jn;const Wn=null!==(C=y.displayName)&&void 0!==C?C:void 0,Rr=null!==(B=y.email)&&void 0!==B?B:void 0,Ro=null!==(J=y.phoneNumber)&&void 0!==J?J:void 0,no=null!==(Fe=y.photoURL)&&void 0!==Fe?Fe:void 0,qc=null!==(Je=y.tenantId)&&void 0!==Je?Je:void 0,ed=null!==(Ut=y._redirectEventId)&&void 0!==Ut?Ut:void 0,vs=null!==(mn=y.createdAt)&&void 0!==mn?mn:void 0,Dg=null!==(jn=y.lastLoginAt)&&void 0!==jn?jn:void 0,{uid:nl,emailVerified:Ag,isAnonymous:_u,providerData:Us,stsTokenManager:yh}=y;vt(nl&&yh,h,"internal-error");const Uf=Vi.fromJSON(this.name,yh);vt("string"==typeof nl,h,"internal-error"),_n(Wn,h.name),_n(Rr,h.name),vt("boolean"==typeof Ag,h,"internal-error"),vt("boolean"==typeof _u,h,"internal-error"),_n(Ro,h.name),_n(no,h.name),_n(qc,h.name),_n(ed,h.name),_n(vs,h.name),_n(Dg,h.name);const Es=new gr({uid:nl,auth:h,email:Rr,emailVerified:Ag,displayName:Wn,isAnonymous:_u,photoURL:no,phoneNumber:Ro,tenantId:qc,stsTokenManager:Uf,createdAt:vs,lastLoginAt:Dg});return Us&&Array.isArray(Us)&&(Es.providerData=Us.map(Kc=>Object.assign({},Kc))),ed&&(Es._redirectEventId=ed),Es}static _fromIdTokenResponse(h,y){return(0,D.A)(function*(C,B,J=!1){const Fe=new Vi;Fe.updateFromServerResponse(B);const Je=new gr({uid:B.localId,auth:C,stsTokenManager:Fe,isAnonymous:J});return yield hr(Je),Je}).apply(this,arguments)}static _fromGetAccountInfoResponse(h,y,C){return(0,D.A)(function*(){const B=y.users[0];vt(void 0!==B.localId,"internal-error");const J=void 0!==B.providerUserInfo?Yi(B.providerUserInfo):[],Fe=!(B.email&&B.passwordHash||J?.length),Je=new Vi;Je.updateFromIdToken(C);const Ut=new gr({uid:B.localId,auth:h,stsTokenManager:Je,isAnonymous:Fe}),mn={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:J,metadata:new mi(B.createdAt,B.lastLoginAt),isAnonymous:!(B.email&&B.passwordHash||J?.length)};return Object.assign(Ut,mn),Ut})()}}const Tr=new Map;function Ui(T){$n(T instanceof Function,"Expected a class definition");let h=Tr.get(T);return h?($n(h instanceof T,"Instance stored in cache mismatched with class"),h):(h=new T,Tr.set(T,h),h)}const xi=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.A)(function*(){return!0})()}_set(y,C){var B=this;return(0,D.A)(function*(){B.storage[y]=C})()}_get(y){var C=this;return(0,D.A)(function*(){const B=C.storage[y];return void 0===B?null:B})()}_remove(y){var C=this;return(0,D.A)(function*(){delete C.storage[y]})()}_addListener(y,C){}_removeListener(y,C){}}return T.type="NONE",T})();function De(T,h,y){return`firebase:${T}:${h}:${y}`}class me{constructor(h,y,C){this.persistence=h,this.auth=y,this.userKey=C;const{config:B,name:J}=this.auth;this.fullUserKey=De(this.userKey,B.apiKey,J),this.fullPersistenceKey=De("persistence",B.apiKey,J),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,D.A)(function*(){const y=yield h.persistence._get(h.fullUserKey);if(!y)return null;if("string"==typeof y){const C=yield st(h.auth,{idToken:y}).catch(()=>{});return C?gr._fromGetAccountInfoResponse(h.auth,C,y):null}return gr._fromJSON(h.auth,y)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var y=this;return(0,D.A)(function*(){if(y.persistence===h)return;const C=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=h,C?y.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,y){return(0,D.A)(function*(C,B,J="authUser"){if(!B.length)return new me(Ui(xi),C,J);const Fe=(yield Promise.all(B.map(function(){var Wn=(0,D.A)(function*(Rr){if(yield Rr._isAvailable())return Rr});return function(Rr){return Wn.apply(this,arguments)}}()))).filter(Wn=>Wn);let Je=Fe[0]||Ui(xi);const Ut=De(J,C.config.apiKey,C.name);let mn=null;for(const Wn of B)try{const Rr=yield Wn._get(Ut);if(Rr){let Ro;if("string"==typeof Rr){const no=yield st(C,{idToken:Rr}).catch(()=>{});if(!no)break;Ro=yield gr._fromGetAccountInfoResponse(C,no,Rr)}else Ro=gr._fromJSON(C,Rr);Wn!==Je&&(mn=Ro),Je=Wn;break}}catch{}const jn=Fe.filter(Wn=>Wn._shouldAllowMigration);return Je._shouldAllowMigration&&jn.length?(Je=jn[0],mn&&(yield Je._set(Ut,mn.toJSON())),yield Promise.all(B.map(function(){var Wn=(0,D.A)(function*(Rr){if(Rr!==Je)try{yield Rr._remove(Ut)}catch{}});return function(Rr){return Wn.apply(this,arguments)}}())),new me(Je,C,J)):new me(Je,C,J)}).apply(this,arguments)}}function Be(T){const h=T.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Rn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(xt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ne(h))return"Blackberry";if(ae(h))return"Webos";if(Ye(h))return"Safari";if((h.includes("chrome/")||Qt(h))&&!h.includes("edge/"))return"Chrome";if(mr(h))return"Android";{const C=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function xt(T=(0,Q.ZQ)()){return/firefox\//i.test(T)}function Ye(T=(0,Q.ZQ)()){const h=T.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Qt(T=(0,Q.ZQ)()){return/crios\//i.test(T)}function Rn(T=(0,Q.ZQ)()){return/iemobile/i.test(T)}function mr(T=(0,Q.ZQ)()){return/android/i.test(T)}function ne(T=(0,Q.ZQ)()){return/blackberry/i.test(T)}function ae(T=(0,Q.ZQ)()){return/webos/i.test(T)}function Ce(T=(0,Q.ZQ)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function ye(T=(0,Q.ZQ)()){return Ce(T)||mr(T)||ae(T)||ne(T)||/windows phone/i.test(T)||Rn(T)}function Oe(T,h=[]){let y;switch(T){case"Browser":y=Be((0,Q.ZQ)());break;case"Worker":y=`${Be((0,Q.ZQ)())}-${T}`;break;default:y=T}const C=h.length?h.join(","):"FirebaseCore-web";return`${y}/JsCore/${F.MF}/${C}`}class bt{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,y){const C=J=>new Promise((Fe,Je)=>{try{Fe(h(J))}catch(Ut){Je(Ut)}});C.onAbort=y,this.queue.push(C);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(h){var y=this;return(0,D.A)(function*(){if(y.auth.currentUser===h)return;const C=[];try{for(const B of y.queue)yield B(h),B.onAbort&&C.push(B.onAbort)}catch(B){C.reverse();for(const J of C)try{J()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:B?.message})}})()}}function ht(){return(ht=(0,D.A)(function*(T,h={}){return re(T,"GET","/v2/passwordPolicy",pe(T,h))})).apply(this,arguments)}class tn{constructor(h){var y,C,B,J;const Fe=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(y=Fe.minPasswordLength)&&void 0!==y?y:6,Fe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Fe.maxPasswordLength),void 0!==Fe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Fe.containsLowercaseCharacter),void 0!==Fe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Fe.containsUppercaseCharacter),void 0!==Fe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Fe.containsNumericCharacter),void 0!==Fe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Fe.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(B=null===(C=h.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==B?B:"",this.forceUpgradeOnSignin=null!==(J=h.forceUpgradeOnSignin)&&void 0!==J&&J,this.schemaVersion=h.schemaVersion}validatePassword(h){var y,C,B,J,Fe,Je;const Ut={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Ut),this.validatePasswordCharacterOptions(h,Ut),Ut.isValid&&(Ut.isValid=null===(y=Ut.meetsMinPasswordLength)||void 0===y||y),Ut.isValid&&(Ut.isValid=null===(C=Ut.meetsMaxPasswordLength)||void 0===C||C),Ut.isValid&&(Ut.isValid=null===(B=Ut.containsLowercaseLetter)||void 0===B||B),Ut.isValid&&(Ut.isValid=null===(J=Ut.containsUppercaseLetter)||void 0===J||J),Ut.isValid&&(Ut.isValid=null===(Fe=Ut.containsNumericCharacter)||void 0===Fe||Fe),Ut.isValid&&(Ut.isValid=null===(Je=Ut.containsNonAlphanumericCharacter)||void 0===Je||Je),Ut}validatePasswordLengthOptions(h,y){const C=this.customStrengthOptions.minPasswordLength,B=this.customStrengthOptions.maxPasswordLength;C&&(y.meetsMinPasswordLength=h.length>=C),B&&(y.meetsMaxPasswordLength=h.length<=B)}validatePasswordCharacterOptions(h,y){let C;this.updatePasswordCharacterOptionsStatuses(y,!1,!1,!1,!1);for(let B=0;B<h.length;B++)C=h.charAt(B),this.updatePasswordCharacterOptionsStatuses(y,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(h,y,C,B,J){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=y)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=B)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=J))}}class Un{constructor(h,y,C,B){this.app=h,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=C,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qn(this),this.idTokenSubscription=new qn(this),this.beforeStateQueue=new bt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=B.sdkClientVersion,this._persistenceManagerAvailable=new Promise(J=>this._resolvePersistenceManagerAvailable=J)}_initializeWithPersistence(h,y){var C=this;return y&&(this._popupRedirectResolver=Ui(y)),this._initializationPromise=this.queue((0,D.A)(function*(){var B,J,Fe;if(!C._deleted&&(C.persistenceManager=yield me.create(C,h),null===(B=C._resolvePersistenceManagerAvailable)||void 0===B||B.call(C),!C._deleted)){if(null!==(J=C._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(y),C.lastNotifiedUid=(null===(Fe=C.currentUser)||void 0===Fe?void 0:Fe.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,D.A)(function*(){if(h._deleted)return;const y=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||y){if(h.currentUser&&y&&h.currentUser.uid===y.uid)return h._currentUser._assign(y),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(y,!0)}})()}initializeCurrentUserFromIdToken(h){var y=this;return(0,D.A)(function*(){try{const C=yield st(y,{idToken:h}),B=yield gr._fromGetAccountInfoResponse(y,C,h);yield y.directlySetCurrentUser(B)}catch(C){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",C),yield y.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var y=this;return(0,D.A)(function*(){var C;if((0,F.xZ)(y.app)){const Je=y.app.settings.authIdToken;return Je?new Promise(Ut=>{setTimeout(()=>y.initializeCurrentUserFromIdToken(Je).then(Ut,Ut))}):y.directlySetCurrentUser(null)}const B=yield y.assertedPersistence.getCurrentUser();let J=B,Fe=!1;if(h&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Je=null===(C=y.redirectUser)||void 0===C?void 0:C._redirectEventId,Ut=J?._redirectEventId,mn=yield y.tryRedirectSignIn(h);(!Je||Je===Ut)&&mn?.user&&(J=mn.user,Fe=!0)}if(!J)return y.directlySetCurrentUser(null);if(!J._redirectEventId){if(Fe)try{yield y.beforeStateQueue.runMiddleware(J)}catch(Je){J=B,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Je))}return J?y.reloadAndSetCurrentUserOrClear(J):y.directlySetCurrentUser(null)}return vt(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===J._redirectEventId?y.directlySetCurrentUser(J):y.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(h){var y=this;return(0,D.A)(function*(){let C=null;try{C=yield y._popupRedirectResolver._completeRedirectFn(y,h,!0)}catch{yield y._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var y=this;return(0,D.A)(function*(){try{yield hr(h)}catch(C){if("auth/network-request-failed"!==C?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Xe(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var h=this;return(0,D.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var y=this;return(0,D.A)(function*(){if((0,F.xZ)(y.app))return Promise.reject(et(y));const C=h?(0,Q.Ku)(h):null;return C&&vt(C.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(C&&C._clone(y))})()}_updateCurrentUser(h){var y=this;return(0,D.A)(function*(C,B=!1){if(!y._deleted)return C&&vt(y.tenantId===C.tenantId,y,"tenant-id-mismatch"),B||(yield y.beforeStateQueue.runMiddleware(C)),y.queue((0,D.A)(function*(){yield y.directlySetCurrentUser(C),y.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,D.A)(function*(){return(0,F.xZ)(h.app)?Promise.reject(et(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var y=this;return(0,F.xZ)(this.app)?Promise.reject(et(this)):this.queue((0,D.A)(function*(){yield y.assertedPersistence.setPersistence(Ui(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var y=this;return(0,D.A)(function*(){y._getPasswordPolicyInternal()||(yield y._updatePasswordPolicy());const C=y._getPasswordPolicyInternal();return C.schemaVersion!==y.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(y._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,D.A)(function*(){const y=yield function yt(T){return ht.apply(this,arguments)}(h),C=new tn(y);null===h.tenantId?h._projectPasswordPolicy=C:h._tenantPasswordPolicies[h.tenantId]=C})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(h){this._errorFactory=new Q.FA("auth","Firebase",h())}onAuthStateChanged(h,y,C){return this.registerStateListener(this.authStateSubscription,h,y,C)}beforeAuthStateChanged(h,y){return this.beforeStateQueue.pushCallback(h,y)}onIdTokenChanged(h,y,C){return this.registerStateListener(this.idTokenSubscription,h,y,C)}authStateReady(){return new Promise((h,y)=>{if(this.currentUser)h();else{const C=this.onAuthStateChanged(()=>{C(),h()},y)}})}revokeAccessToken(h){var y=this;return(0,D.A)(function*(){if(y.currentUser){const C=yield y.currentUser.getIdToken(),B={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:C};null!=y.tenantId&&(B.tenantId=y.tenantId),yield function Zi(T,h){return ai.apply(this,arguments)}(y,B)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,y){var C=this;return(0,D.A)(function*(){const B=yield C.getOrInitRedirectPersistenceManager(y);return null===h?B.removeCurrentUser():B.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var y=this;return(0,D.A)(function*(){if(!y.redirectPersistenceManager){const C=h&&Ui(h)||y._popupRedirectResolver;vt(C,y,"argument-error"),y.redirectPersistenceManager=yield me.create(y,[Ui(C._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(h){var y=this;return(0,D.A)(function*(){var C,B;return y._isInitialized&&(yield y.queue((0,D.A)(function*(){}))),(null===(C=y._currentUser)||void 0===C?void 0:C._redirectEventId)===h?y._currentUser:(null===(B=y.redirectUser)||void 0===B?void 0:B._redirectEventId)===h?y.redirectUser:null})()}_persistUserIfCurrent(h){var y=this;return(0,D.A)(function*(){if(h===y.currentUser)return y.queue((0,D.A)(function*(){return y.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(y=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,y,C,B){if(this._deleted)return()=>{};const J="function"==typeof y?y:y.next.bind(y);let Fe=!1;const Je=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(Je,this,"internal-error"),Je.then(()=>{Fe||J(this.currentUser)}),"function"==typeof y){const Ut=h.addObserver(y,C,B);return()=>{Fe=!0,Ut()}}{const Ut=h.addObserver(y);return()=>{Fe=!0,Ut()}}}directlySetCurrentUser(h){var y=this;return(0,D.A)(function*(){y.currentUser&&y.currentUser!==h&&y._currentUser._stopProactiveRefresh(),h&&y.isProactiveRefreshEnabled&&h._startProactiveRefresh(),y.currentUser=h,h?yield y.assertedPersistence.setCurrentUser(h):yield y.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Oe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,D.A)(function*(){var y;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const B=yield null===(y=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();B&&(C["X-Firebase-Client"]=B);const J=yield h._getAppCheckToken();return J&&(C["X-Firebase-AppCheck"]=J),C})()}_getAppCheckToken(){var h=this;return(0,D.A)(function*(){var y;if((0,F.xZ)(h.app)&&h.app.settings.appCheckToken)return h.app.settings.appCheckToken;const C=yield null===(y=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return C?.error&&function Dt(T,...h){hn.logLevel<=w.$b.WARN&&hn.warn(`Auth (${F.MF}): ${T}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function cn(T){return(0,Q.Ku)(T)}class qn{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Q.tD)(y=>this.observer=y)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ar={loadJS:()=>(0,D.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ri(T){return ar.loadJS(T)}function Vt(T){return`__${T}${Math.floor(1e6*Math.random())}`}class rr{constructor(){this.enterprise=new zr}ready(h){h()}execute(h,y){return Promise.resolve("token")}render(h,y){return""}}class zr{ready(h){h()}execute(h,y){return Promise.resolve("token")}render(h,y){return""}}const Wi="NO_RECAPTCHA";class Bo{constructor(h){this.type="recaptcha-enterprise",this.auth=cn(h)}verify(){var h=this;return(0,D.A)(function*(y="verify",C=!1){function J(){return J=(0,D.A)(function*(Je){if(!C){if(null==Je.tenantId&&null!=Je._agentRecaptchaConfig)return Je._agentRecaptchaConfig.siteKey;if(null!=Je.tenantId&&void 0!==Je._tenantRecaptchaConfigs[Je.tenantId])return Je._tenantRecaptchaConfigs[Je.tenantId].siteKey}return new Promise(function(){var Ut=(0,D.A)(function*(mn,jn){(function Si(T,h){return fn.apply(this,arguments)})(Je,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wn=>{if(void 0!==Wn.recaptchaKey){const Rr=new bn(Wn);return null==Je.tenantId?Je._agentRecaptchaConfig=Rr:Je._tenantRecaptchaConfigs[Je.tenantId]=Rr,mn(Rr.siteKey)}jn(new Error("recaptcha Enterprise site key undefined"))}).catch(Wn=>{jn(Wn)})});return function(mn,jn){return Ut.apply(this,arguments)}}())}),J.apply(this,arguments)}function Fe(Je,Ut,mn){const jn=window.grecaptcha;tr(jn)?jn.enterprise.ready(()=>{jn.enterprise.execute(Je,{action:y}).then(Wn=>{Ut(Wn)}).catch(()=>{Ut(Wi)})}):mn(Error("No reCAPTCHA enterprise script loaded."))}return h.auth.settings.appVerificationDisabledForTesting?(new rr).execute("siteKey",{action:"verify"}):new Promise((Je,Ut)=>{(function B(Je){return J.apply(this,arguments)})(h.auth).then(mn=>{if(!C&&tr(window.grecaptcha))Fe(mn,Je,Ut);else{if(typeof window>"u")return void Ut(new Error("RecaptchaVerifier is only supported in browser"));let jn=function Ve(){return ar.recaptchaEnterpriseScript}();0!==jn.length&&(jn+=mn),Ri(jn).then(()=>{Fe(mn,Je,Ut)}).catch(Wn=>{Ut(Wn)})}}).catch(mn=>{Ut(mn)})})}).apply(this,arguments)}}function io(T,h,y){return j.apply(this,arguments)}function j(){return(j=(0,D.A)(function*(T,h,y,C=!1,B=!1){const J=new Bo(T);let Fe;if(B)Fe=Wi;else try{Fe=yield J.verify(y)}catch{Fe=yield J.verify(y,!0)}const Je=Object.assign({},h);return"mfaSmsEnrollment"===y||"mfaSmsSignIn"===y?("phoneEnrollmentInfo"in Je?Object.assign(Je,{phoneEnrollmentInfo:{phoneNumber:Je.phoneEnrollmentInfo.phoneNumber,recaptchaToken:Je.phoneEnrollmentInfo.recaptchaToken,captchaResponse:Fe,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in Je&&Object.assign(Je,{phoneSignInInfo:{recaptchaToken:Je.phoneSignInInfo.recaptchaToken,captchaResponse:Fe,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),Je):(Object.assign(Je,C?{captchaResp:Fe}:{captchaResponse:Fe}),Object.assign(Je,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Je,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Je)})).apply(this,arguments)}function fe(T,h,y,C,B){return K.apply(this,arguments)}function K(){return K=(0,D.A)(function*(T,h,y,C,B){var J,Fe;if("EMAIL_PASSWORD_PROVIDER"===B){if(null!==(J=T._getRecaptchaConfig())&&void 0!==J&&J.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Je=yield io(T,h,y,"getOobCode"===y);return C(T,Je)}return C(T,h).catch(function(){var Je=(0,D.A)(function*(Ut){if("auth/missing-recaptcha-token"===Ut.code){console.log(`${y} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const mn=yield io(T,h,y,"getOobCode"===y);return C(T,mn)}return Promise.reject(Ut)});return function(Ut){return Je.apply(this,arguments)}}())}if("PHONE_PROVIDER"===B){if(null!==(Fe=T._getRecaptchaConfig())&&void 0!==Fe&&Fe.isProviderEnabled("PHONE_PROVIDER")){const Je=yield io(T,h,y);return C(T,Je).catch(function(){var Ut=(0,D.A)(function*(mn){var jn;if("AUDIT"===(null===(jn=T._getRecaptchaConfig())||void 0===jn?void 0:jn.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===mn.code||"auth/invalid-app-credential"===mn.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${y} flow.`);const Wn=yield io(T,h,y,!1,!0);return C(T,Wn)}return Promise.reject(mn)});return function(mn){return Ut.apply(this,arguments)}}())}{const Je=yield io(T,h,y,!1,!0);return C(T,Je)}}return Promise.reject(B+" provider is not supported.")}),K.apply(this,arguments)}function ci(T){const h=T.indexOf(":");return h<0?"":T.substr(0,h+1)}function Yr(T){if(!T)return null;const h=Number(T);return isNaN(h)?null:h}class Ln{constructor(h,y){this.providerId=h,this.signInMethod=y}toJSON(){return dt("not implemented")}_getIdTokenResponse(h){return dt("not implemented")}_linkToIdToken(h,y){return dt("not implemented")}_getReauthenticationResolver(h){return dt("not implemented")}}function Wo(T,h){return ce.apply(this,arguments)}function ce(){return(ce=(0,D.A)(function*(T,h){return re(T,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function lt(T,h){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,D.A)(function*(T,h){return rn(T,"POST","/v1/accounts:signInWithPassword",pe(T,h))})).apply(this,arguments)}function Bn(){return(Bn=(0,D.A)(function*(T,h){return re(T,"POST","/v1/accounts:sendOobCode",pe(T,h))})).apply(this,arguments)}function xs(T,h){return ni.apply(this,arguments)}function ni(){return(ni=(0,D.A)(function*(T,h){return function vn(T,h){return Bn.apply(this,arguments)}(T,h)})).apply(this,arguments)}function Yo(){return(Yo=(0,D.A)(function*(T,h){return rn(T,"POST","/v1/accounts:signInWithEmailLink",pe(T,h))})).apply(this,arguments)}function bs(){return(bs=(0,D.A)(function*(T,h){return rn(T,"POST","/v1/accounts:signInWithEmailLink",pe(T,h))})).apply(this,arguments)}class cs extends Ln{constructor(h,y,C,B=null){super("password",C),this._email=h,this._password=y,this._tenantId=B}static _fromEmailAndPassword(h,y){return new cs(h,y,"password")}static _fromEmailAndCode(h,y,C=null){return new cs(h,y,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const y="string"==typeof h?JSON.parse(h):h;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(h){var y=this;return(0,D.A)(function*(){switch(y.signInMethod){case"password":return fe(h,{returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",lt,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Mo(T,h){return Yo.apply(this,arguments)}(h,{email:y._email,oobCode:y._password});default:St(h,"internal-error")}})()}_linkToIdToken(h,y){var C=this;return(0,D.A)(function*(){switch(C.signInMethod){case"password":return fe(h,{idToken:y,returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wo,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function ko(T,h){return bs.apply(this,arguments)}(h,{idToken:y,email:C._email,oobCode:C._password});default:St(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Or(T,h){return Go.apply(this,arguments)}function Go(){return(Go=(0,D.A)(function*(T,h){return rn(T,"POST","/v1/accounts:signInWithIdp",pe(T,h))})).apply(this,arguments)}class Oo{constructor(h){var y,C,B,J,Fe,Je;const Ut=(0,Q.I9)((0,Q.hp)(h)),mn=null!==(y=Ut.apiKey)&&void 0!==y?y:null,jn=null!==(C=Ut.oobCode)&&void 0!==C?C:null,Wn=function ji(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=Ut.mode)&&void 0!==B?B:null);vt(mn&&jn&&Wn,"argument-error"),this.apiKey=mn,this.operation=Wn,this.code=jn,this.continueUrl=null!==(J=Ut.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(Fe=Ut.lang)&&void 0!==Fe?Fe:null,this.tenantId=null!==(Je=Ut.tenantId)&&void 0!==Je?Je:null}static parseLink(h){const y=function Hs(T){const h=(0,Q.I9)((0,Q.hp)(T)).link,y=h?(0,Q.I9)((0,Q.hp)(h)).deep_link_id:null,C=(0,Q.I9)((0,Q.hp)(T)).deep_link_id;return(C?(0,Q.I9)((0,Q.hp)(C)).link:null)||C||y||h||T}(h);try{return new Oo(y)}catch{return null}}}let vr=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(y,C){return cs._fromEmailAndPassword(y,C)}static credentialWithLink(y,C){const B=Oo.parseLink(C);return vt(B,"argument-error"),cs._fromEmailAndCode(y,B.code,B.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class eo{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ra extends eo{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function Mt(T,h){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,D.A)(function*(T,h){return rn(T,"POST","/v1/accounts:signUp",pe(T,h))})).apply(this,arguments)}class Tn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,y,C){return(0,D.A)(function*(B,J,Fe,Je=!1){const Ut=yield gr._fromIdTokenResponse(B,Fe,Je),mn=pn(Fe);return new Tn({user:Ut,providerId:mn,_tokenResponse:Fe,operationType:J})}).apply(this,arguments)}static _forOperation(h,y,C){return(0,D.A)(function*(){yield h._updateTokensIfNecessary(C,!0);const B=pn(C);return new Tn({user:h,providerId:B,_tokenResponse:C,operationType:y})})()}}function pn(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}class Ur extends Q.g{constructor(h,y,C,B){var J;super(y.code,y.message),this.operationType=C,this.user=B,Object.setPrototypeOf(this,Ur.prototype),this.customData={appName:h.name,tenantId:null!==(J=h.tenantId)&&void 0!==J?J:void 0,_serverResponse:y.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,y,C,B){return new Ur(h,y,C,B)}}function Ii(T,h,y,C){return("reauthenticate"===h?y._getReauthenticationResolver(T):y._getIdTokenResponse(T)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?Ur._fromErrorAndOperation(T,J,h,C):J})}function Oi(){return(Oi=(0,D.A)(function*(T,h,y=!1){const C=yield Cr(T,h._linkToIdToken(T.auth,yield T.getIdToken()),y);return Tn._forOperation(T,"link",C)})).apply(this,arguments)}function bo(){return(bo=(0,D.A)(function*(T,h,y=!1){const{auth:C}=T;if((0,F.xZ)(C.app))return Promise.reject(et(C));const B="reauthenticate";try{const J=yield Cr(T,Ii(C,B,h,T),y);vt(J.idToken,C,"internal-error");const Fe=Dr(J.idToken);vt(Fe,C,"internal-error");const{sub:Je}=Fe;return vt(T.uid===Je,C,"user-mismatch"),Tn._forOperation(T,B,J)}catch(J){throw"auth/user-not-found"===J?.code&&St(C,"user-mismatch"),J}})).apply(this,arguments)}function ii(T,h){return yo.apply(this,arguments)}function yo(){return(yo=(0,D.A)(function*(T,h,y=!1){if((0,F.xZ)(T.app))return Promise.reject(et(T));const C="signIn",B=yield Ii(T,C,h),J=yield Tn._fromIdTokenResponse(T,C,B);return y||(yield T._updateCurrentUser(J.user)),J})).apply(this,arguments)}function gs(){return(gs=(0,D.A)(function*(T,h){return ii(cn(T),h)})).apply(this,arguments)}function Gs(T){return qs.apply(this,arguments)}function qs(){return(qs=(0,D.A)(function*(T){const h=cn(T);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Di(T,h,y){return ha.apply(this,arguments)}function ha(){return(ha=(0,D.A)(function*(T,h,y){const C=cn(T),B={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};y&&function Ls(T,h,y){var C;vt((null===(C=y.url)||void 0===C?void 0:C.length)>0,T,"invalid-continue-uri"),vt(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),vt(typeof y.linkDomain>"u"||y.linkDomain.length>0,T,"invalid-hosting-link-domain"),h.continueUrl=y.url,h.dynamicLinkDomain=y.dynamicLinkDomain,h.linkDomain=y.linkDomain,h.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(vt(y.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),h.iOSBundleId=y.iOS.bundleId),y.android&&(vt(y.android.packageName.length>0,T,"missing-android-pkg-name"),h.androidInstallApp=y.android.installApp,h.androidMinimumVersionCode=y.android.minimumVersion,h.androidPackageName=y.android.packageName)}(C,B,y),yield fe(C,B,"getOobCode",xs,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function Va(T,h,y){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,D.A)(function*(T,h,y){if((0,F.xZ)(T.app))return Promise.reject(et(T));const C=cn(T),Fe=yield fe(C,{returnSecureToken:!0,email:h,password:y,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mt,"EMAIL_PASSWORD_PROVIDER").catch(Ut=>{throw"auth/password-does-not-meet-requirements"===Ut.code&&Gs(T),Ut}),Je=yield Tn._fromIdTokenResponse(C,"signIn",Fe);return yield C._updateCurrentUser(Je.user),Je})).apply(this,arguments)}function Kr(T,h,y){return(0,F.xZ)(T.app)?Promise.reject(et(T)):function Ko(T,h){return gs.apply(this,arguments)}((0,Q.Ku)(T),vr.credential(h,y)).catch(function(){var C=(0,D.A)(function*(B){throw"auth/password-does-not-meet-requirements"===B.code&&Gs(T),B});return function(B){return C.apply(this,arguments)}}())}function to(T,h,y,C){return(0,Q.Ku)(T).onAuthStateChanged(h,y,C)}function Vs(T){return(0,Q.Ku)(T).signOut()}const ln="__sak";class Yn{constructor(h,y){this.storageRetriever=h,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(ln,"1"),this.storage.removeItem(ln),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,y){return this.storage.setItem(h,JSON.stringify(y)),Promise.resolve()}_get(h){const y=this.storage.getItem(h);return Promise.resolve(y?JSON.parse(y):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fi=(()=>{class T extends Yn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,C)=>this.onStorageEvent(y,C),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ye(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const C of Object.keys(this.listeners)){const B=this.storage.getItem(C),J=this.localCache[C];B!==J&&y(C,J,B)}}onStorageEvent(y,C=!1){if(!y.key)return void this.forAllChangedKeys((Je,Ut,mn)=>{this.notifyListeners(Je,mn)});const B=y.key;C?this.detachListener():this.stopPolling();const J=()=>{const Je=this.storage.getItem(B);!C&&this.localCache[B]===Je||this.notifyListeners(B,Je)},Fe=this.storage.getItem(B);!function oe(){return(0,Q.lT)()&&10===document.documentMode}()||Fe===y.newValue||y.newValue===y.oldValue?J():setTimeout(J,10)}notifyListeners(y,C){this.localCache[y]=C;const B=this.listeners[y];if(B)for(const J of Array.from(B))J(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,C,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:C,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,C){var B=()=>super._set,J=this;return(0,D.A)(function*(){yield B().call(J,y,C),J.localCache[y]=JSON.stringify(C)})()}_get(y){var C=()=>super._get,B=this;return(0,D.A)(function*(){const J=yield C().call(B,y);return B.localCache[y]=JSON.stringify(J),J})()}_remove(y){var C=()=>super._remove,B=this;return(0,D.A)(function*(){yield C().call(B,y),delete B.localCache[y]})()}}return T.type="LOCAL",T})(),Gr=(()=>{class T extends Yn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,C){}_removeListener(y,C){}}return T.type="SESSION",T})();let ia=(()=>{class T{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const C=this.receivers.find(J=>J.isListeningto(y));if(C)return C;const B=new T(y);return this.receivers.push(B),B}isListeningto(y){return this.eventTarget===y}handleEvent(y){var C=this;return(0,D.A)(function*(){const B=y,{eventId:J,eventType:Fe,data:Je}=B.data,Ut=C.handlersMap[Fe];if(!Ut?.size)return;B.ports[0].postMessage({status:"ack",eventId:J,eventType:Fe});const mn=Array.from(Ut).map(function(){var Wn=(0,D.A)(function*(Rr){return Rr(B.origin,Je)});return function(Rr){return Wn.apply(this,arguments)}}()),jn=yield function hs(T){return Promise.all(T.map(function(){var h=(0,D.A)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(C){return{fulfilled:!1,reason:C}}});return function(y){return h.apply(this,arguments)}}()))}(mn);B.ports[0].postMessage({status:"done",eventId:J,eventType:Fe,response:jn})})()}_subscribe(y,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(C)}_unsubscribe(y,C){this.handlersMap[y]&&C&&this.handlersMap[y].delete(C),(!C||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function ma(T="",h=10){let y="";for(let C=0;C<h;C++)y+=Math.floor(10*Math.random());return T+y}class Nl{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,y){var C=this;return(0,D.A)(function*(B,J,Fe=50){const Je=typeof MessageChannel<"u"?new MessageChannel:null;if(!Je)throw new Error("connection_unavailable");let Ut,mn;return new Promise((jn,Wn)=>{const Rr=ma("",20);Je.port1.start();const Ro=setTimeout(()=>{Wn(new Error("unsupported_event"))},Fe);mn={messageChannel:Je,onMessage(no){const qc=no;if(qc.data.eventId===Rr)switch(qc.data.status){case"ack":clearTimeout(Ro),Ut=setTimeout(()=>{Wn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ut),jn(qc.data.response);break;default:clearTimeout(Ro),clearTimeout(Ut),Wn(new Error("invalid_response"))}}},C.handlers.add(mn),Je.port1.addEventListener("message",mn.onMessage),C.target.postMessage({eventType:B,eventId:Rr,data:J},[Je.port2])}).finally(()=>{mn&&C.removeMessageHandler(mn)})}).apply(this,arguments)}}function Ti(){return window}function pi(){return typeof Ti().WorkerGlobalScope<"u"&&"function"==typeof Ti().importScripts}function Nn(){return(Nn=(0,D.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const jr="firebaseLocalStorageDb",Ss="firebaseLocalStorage",So="fbase_key";class Ho{constructor(h){this.request=h}toPromise(){return new Promise((h,y)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ki(T,h){return T.transaction([Ss],h?"readwrite":"readonly").objectStore(Ss)}function Gu(){const T=indexedDB.open(jr,1);return new Promise((h,y)=>{T.addEventListener("error",()=>{y(T.error)}),T.addEventListener("upgradeneeded",()=>{const C=T.result;try{C.createObjectStore(Ss,{keyPath:So})}catch(B){y(B)}}),T.addEventListener("success",(0,D.A)(function*(){const C=T.result;C.objectStoreNames.contains(Ss)?h(C):(C.close(),yield function fs(){const T=indexedDB.deleteDatabase(jr);return new Ho(T).toPromise()}(),h(yield Gu()))}))})}function Qr(T,h,y){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,D.A)(function*(T,h,y){const C=ki(T,!0).put({[So]:h,value:y});return new Ho(C).toPromise()})).apply(this,arguments)}function ja(){return(ja=(0,D.A)(function*(T,h){const y=ki(T,!1).get(h),C=yield new Ho(y).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Pa(T,h){const y=ki(T,!0).delete(h);return new Ho(y).toPromise()}const wc=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,D.A)(function*(){return y.db||(y.db=yield Gu()),y.db})()}_withRetries(y){var C=this;return(0,D.A)(function*(){let B=0;for(;;)try{const J=yield C._openDb();return yield y(J)}catch(J){if(B++>3)throw J;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,D.A)(function*(){return pi()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,D.A)(function*(){y.receiver=ia._getInstance(function dr(){return pi()?self:null}()),y.receiver._subscribe("keyChanged",function(){var C=(0,D.A)(function*(B,J){return{keyProcessed:(yield y._poll()).includes(J.key)}});return function(B,J){return C.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var C=(0,D.A)(function*(B,J){return["keyChanged"]});return function(B,J){return C.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,D.A)(function*(){var C,B;if(y.activeServiceWorker=yield function Ba(){return Nn.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Nl(y.activeServiceWorker);const J=yield y.sender._send("ping",{},800);J&&null!==(C=J[0])&&void 0!==C&&C.fulfilled&&null!==(B=J[0])&&void 0!==B&&B.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var C=this;return(0,D.A)(function*(){if(C.sender&&C.activeServiceWorker&&function gn(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:y},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,D.A)(function*(){try{if(!indexedDB)return!1;const y=yield Gu();return yield Qr(y,ln,"1"),yield Pa(y,ln),!0}catch{}return!1})()}_withPendingWrite(y){var C=this;return(0,D.A)(function*(){C.pendingWrites++;try{yield y()}finally{C.pendingWrites--}})()}_set(y,C){var B=this;return(0,D.A)(function*(){return B._withPendingWrite((0,D.A)(function*(){return yield B._withRetries(J=>Qr(J,y,C)),B.localCache[y]=C,B.notifyServiceWorker(y)}))})()}_get(y){var C=this;return(0,D.A)(function*(){const B=yield C._withRetries(J=>function lo(T,h){return ja.apply(this,arguments)}(J,y));return C.localCache[y]=B,B})()}_remove(y){var C=this;return(0,D.A)(function*(){return C._withPendingWrite((0,D.A)(function*(){return yield C._withRetries(B=>Pa(B,y)),delete C.localCache[y],C.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,D.A)(function*(){const C=yield y._withRetries(Fe=>{const Je=ki(Fe,!1).getAll();return new Ho(Je).toPromise()});if(!C)return[];if(0!==y.pendingWrites)return[];const B=[],J=new Set;if(0!==C.length)for(const{fbase_key:Fe,value:Je}of C)J.add(Fe),JSON.stringify(y.localCache[Fe])!==JSON.stringify(Je)&&(y.notifyListeners(Fe,Je),B.push(Fe));for(const Fe of Object.keys(y.localCache))y.localCache[Fe]&&!J.has(Fe)&&(y.notifyListeners(Fe,null),B.push(Fe));return B})()}notifyListeners(y,C){this.localCache[y]=C;const B=this.listeners[y];if(B)for(const J of Array.from(B))J(C)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,D.A)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})();Vt("rcb"),new en(3e4,6e4);class Xs extends Ln{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Or(h,this._buildIdpRequest())}_linkToIdToken(h,y){return Or(h,this._buildIdpRequest(y))}_getReauthenticationResolver(h){return Or(h,this._buildIdpRequest())}_buildIdpRequest(h){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(y.idToken=h),y}}function Vl(T){return ii(T.auth,new Xs(T),T.bypassAuthState)}function Ul(T){const{auth:h,user:y}=T;return vt(y,h,"internal-error"),function Mi(T,h){return bo.apply(this,arguments)}(y,new Xs(T),T.bypassAuthState)}function Df(T){return Af.apply(this,arguments)}function Af(){return(Af=(0,D.A)(function*(T){const{auth:h,user:y}=T;return vt(y,h,"internal-error"),function ri(T,h){return Oi.apply(this,arguments)}(y,new Xs(T),T.bypassAuthState)})).apply(this,arguments)}class Bl{constructor(h,y,C,B,J=!1){this.auth=h,this.resolver=C,this.user=B,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var h=this;return new Promise(function(){var y=(0,D.A)(function*(C,B){h.pendingPromise={resolve:C,reject:B};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(J){h.reject(J)}});return function(C,B){return y.apply(this,arguments)}}())}onAuthEvent(h){var y=this;return(0,D.A)(function*(){const{urlResponse:C,sessionId:B,postBody:J,tenantId:Fe,error:Je,type:Ut}=h;if(Je)return void y.reject(Je);const mn={auth:y.auth,requestUri:C,sessionId:B,tenantId:Fe||void 0,postBody:J||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Ut)(mn))}catch(jn){y.reject(jn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Vl;case"linkViaPopup":case"linkViaRedirect":return Df;case"reauthViaPopup":case"reauthViaRedirect":return Ul;default:St(this.auth,"internal-error")}}resolve(h){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new en(2e3,1e4);const lu=new Map;class Tg extends Bl{constructor(h,y,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,y=this;return(0,D.A)(function*(){let C=lu.get(y.auth._key());if(!C){try{const J=(yield function bc(T,h){return Ha.apply(this,arguments)}(y.resolver,y.auth))?yield h().call(y):null;C=()=>Promise.resolve(J)}catch(B){C=()=>Promise.reject(B)}lu.set(y.auth._key(),C)}return y.bypassAuthState||lu.set(y.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var y=()=>super.onAuthEvent,C=this;return(0,D.A)(function*(){if("signInViaRedirect"===h.type)return y().call(C,h);if("unknown"!==h.type){if(h.eventId){const B=yield C.auth._redirectUserForId(h.eventId);if(B)return C.user=B,y().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,D.A)(function*(){})()}cleanUp(){}}function Ha(){return(Ha=(0,D.A)(function*(T,h){const y=function Hl(T){return De("pendingRedirect",T.config.apiKey,T.name)}(h),C=function $l(T){return Ui(T._redirectPersistence)}(T);if(!(yield C._isAvailable()))return!1;const B="true"===(yield C._get(y));return yield C._remove(y),B})).apply(this,arguments)}function tc(T,h){lu.set(T._key(),h)}function ah(T,h){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,D.A)(function*(T,h,y=!1){if((0,F.xZ)(T.app))return Promise.reject(et(T));const C=cn(T),B=function aa(T,h){return h?Ui(h):(vt(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}(C,h),Fe=yield new Tg(C,B,y).execute();return Fe&&!y&&(delete Fe.user._redirectEventId,yield C._persistUserIfCurrent(Fe.user),yield C._setRedirectUser(null,h)),Fe})).apply(this,arguments)}class Wa{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let y=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(y=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ql(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oc(T);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=h,y=!0)),y}sendToConsumer(h,y){var C;if(h.error&&!oc(h)){const B=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";y.onError(Ne(this.auth,B))}else y.onAuthEvent(h)}isEventForConsumer(h,y){const C=null===y.eventId||!!h.eventId&&h.eventId===y.eventId;return y.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dc(h))}saveEventToCache(h){this.cachedEventUids.add(Dc(h)),this.lastProcessedEventTime=Date.now()}}function Dc(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(h=>h).join("-")}function oc({type:T,error:h}){return"unknown"===T&&"auth/no-auth-event"===h?.code}function Zu(){return(Zu=(0,D.A)(function*(T,h={}){return re(T,"GET","/v1/projects",h)})).apply(this,arguments)}const Pf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mf=/^https?/;function Zs(){return Zs=(0,D.A)(function*(T){if(T.config.emulator)return;const{authorizedDomains:h}=yield function Yu(T){return Zu.apply(this,arguments)}(T);for(const y of h)try{if(va(y))return}catch{}St(T,"unauthorized-domain")}),Zs.apply(this,arguments)}function va(T){const h=kn(),{protocol:y,hostname:C}=new URL(h);if(T.startsWith("chrome-extension://")){const Fe=new URL(T);return""===Fe.hostname&&""===C?"chrome-extension:"===y&&T.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===y&&Fe.hostname===C}if(!Mf.test(y))return!1;if(Pf.test(T))return C===T;const B=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(C)}const Kl=new en(3e4,6e4);function Hc(){const T=Ti().___jsl;if(T?.H)for(const h of Object.keys(T.H))if(T.H[h].r=T.H[h].r||[],T.H[h].L=T.H[h].L||[],T.H[h].r=[...T.H[h].L],T.CP)for(let y=0;y<T.CP.length;y++)T.CP[y]=null}let el=null;const Wy=new en(5e3,15e3),uh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ql=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ac(T){const h=T.config;vt(h.authDomain,T,"auth-domain-config-required");const y=h.emulator?Pt(h,"emulator/auth/iframe"):`https://${T.config.authDomain}/__/auth/iframe`,C={apiKey:h.apiKey,appName:T.name,v:F.MF},B=Ql.get(T.config.apiHost);B&&(C.eid=B);const J=T._getFrameworks();return J.length&&(C.fw=J.join(",")),`${y}?${(0,Q.Am)(C).slice(1)}`}function Cc(){return Cc=(0,D.A)(function*(T){const h=yield function Nf(T){return el=el||function kf(T){return new Promise((h,y)=>{var C,B,J;function Fe(){Hc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Hc(),y(Ne(T,"network-request-failed"))},timeout:Kl.get()})}if(null!==(B=null===(C=Ti().gapi)||void 0===C?void 0:C.iframes)&&void 0!==B&&B.Iframe)h(gapi.iframes.getContext());else{if(null===(J=Ti().gapi)||void 0===J||!J.load){const Je=Vt("iframefcb");return Ti()[Je]=()=>{gapi.load?Fe():y(Ne(T,"network-request-failed"))},Ri(`${function Qe(){return ar.gapiScript}()}?onload=${Je}`).catch(Ut=>y(Ut))}Fe()}}).catch(h=>{throw el=null,h})}(T),el}(T),y=Ti().gapi;return vt(y,T,"internal-error"),h.open({where:document.body,url:Ac(T),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uh,dontclear:!0},C=>new Promise(function(){var B=(0,D.A)(function*(J,Fe){yield C.restyle({setHideOnLeave:!1});const Je=Ne(T,"network-request-failed"),Ut=Ti().setTimeout(()=>{Fe(Je)},Wy.get());function mn(){Ti().clearTimeout(Ut),J(C)}C.ping(mn).then(mn,()=>{Fe(Je)})});return function(J,Fe){return B.apply(this,arguments)}}()))}),Cc.apply(this,arguments)}const tl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Of{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ff=encodeURIComponent("fac");function mu(T,h,y,C,B,J){return es.apply(this,arguments)}function es(){return(es=(0,D.A)(function*(T,h,y,C,B,J){vt(T.config.authDomain,T,"auth-domain-config-required"),vt(T.config.apiKey,T,"invalid-api-key");const Fe={apiKey:T.config.apiKey,appName:T.name,authType:y,redirectUrl:C,v:F.MF,eventId:B};if(h instanceof eo){h.setDefaultLanguage(T.languageCode),Fe.providerId=h.providerId||"",(0,Q.Im)(h.getCustomParameters())||(Fe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[jn,Wn]of Object.entries(J||{}))Fe[jn]=Wn}if(h instanceof ra){const jn=h.getScopes().filter(Wn=>""!==Wn);jn.length>0&&(Fe.scopes=jn.join(","))}T.tenantId&&(Fe.tid=T.tenantId);const Je=Fe;for(const jn of Object.keys(Je))void 0===Je[jn]&&delete Je[jn];const Ut=yield T._getAppCheckToken(),mn=Ut?`#${Ff}=${encodeURIComponent(Ut)}`:"";return`${function hh({config:T}){return T.emulator?Pt(T,"emulator/auth/handler"):`https://${T.authDomain}/__/auth/handler`}(T)}?${(0,Q.Am)(Je).slice(1)}${mn}`})).apply(this,arguments)}const sc="webStorageSupport",Lf=class yu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gr,this._completeRedirectFn=ah,this._overrideRedirectResult=tc}_openPopup(h,y,C,B){var J=this;return(0,D.A)(function*(){var Fe;$n(null===(Fe=J.eventManagers[h._key()])||void 0===Fe?void 0:Fe.manager,"_initialize() not called before _openPopup()");const Je=yield mu(h,y,C,kn(),B);return function zc(T,h,y,C=500,B=600){const J=Math.max((window.screen.availHeight-B)/2,0).toString(),Fe=Math.max((window.screen.availWidth-C)/2,0).toString();let Je="";const Ut=Object.assign(Object.assign({},tl),{width:C.toString(),height:B.toString(),top:J,left:Fe}),mn=(0,Q.ZQ)().toLowerCase();y&&(Je=Qt(mn)?"_blank":y),xt(mn)&&(h=h||"http://localhost",Ut.scrollbars="yes");const jn=Object.entries(Ut).reduce((Rr,[Ro,no])=>`${Rr}${Ro}=${no},`,"");if(function Et(T=(0,Q.ZQ)()){var h;return Ce(T)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(mn)&&"_self"!==Je)return function pu(T,h){const y=document.createElement("a");y.href=T,y.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(C)}(h||"",Je),new Of(null);const Wn=window.open(h||"",Je,jn);vt(Wn,T,"popup-blocked");try{Wn.focus()}catch{}return new Of(Wn)}(h,Je,ma())})()}_openRedirect(h,y,C,B){var J=this;return(0,D.A)(function*(){return yield J._originValidation(h),function Wu(T){Ti().location.href=T}(yield mu(h,y,C,kn(),B)),new Promise(()=>{})})()}_initialize(h){const y=h._key();if(this.eventManagers[y]){const{manager:B,promise:J}=this.eventManagers[y];return B?Promise.resolve(B):($n(J,"If manager is not set, promise should be"),J)}const C=this.initAndGetManager(h);return this.eventManagers[y]={promise:C},C.catch(()=>{delete this.eventManagers[y]}),C}initAndGetManager(h){var y=this;return(0,D.A)(function*(){const C=yield function lh(T){return Cc.apply(this,arguments)}(h),B=new Wa(h);return C.register("authEvent",J=>(vt(J?.authEvent,h,"invalid-auth-event"),{status:B.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[h._key()]={manager:B},y.iframes[h._key()]=C,B})()}_isIframeWebStorageSupported(h,y){this.iframes[h._key()].send(sc,{type:sc},B=>{var J;const Fe=null===(J=B?.[0])||void 0===J?void 0:J[sc];void 0!==Fe&&y(!!Fe),St(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const y=h._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Ju(T){return Zs.apply(this,arguments)}(h)),this.originValidationPromises[y]}get _shouldInitProactively(){return ye()||Ye()||Ce()}};var cc="@firebase/auth";class ph{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var y=this;return(0,D.A)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const y=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,y),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const y=this.internalListeners.get(h);y&&(this.internalListeners.delete(h),y(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bg=(0,Q.XA)("authIdTokenMaxAge")||300;let Zl=null;const gh=T=>function(){var h=(0,D.A)(function*(y){const C=y&&(yield y.getIdTokenResult()),B=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(B&&B>bg)return;const J=C?.token;Zl!==J&&(Zl=J,yield fetch(T,{method:J?"POST":"DELETE",headers:J?{Authorization:`Bearer ${J}`}:{}}))});return function(y){return h.apply(this,arguments)}}();function Jl(T=(0,F.Sx)()){const h=(0,F.j6)(T,"auth");if(h.isInitialized())return h.getImmediate();const y=function wt(T,h){const y=(0,F.j6)(T,"auth");if(y.isInitialized()){const B=y.getImmediate(),J=y.getOptions();if((0,Q.bD)(J,h??{}))return B;St(B,"already-initialized")}return y.initialize({options:h})}(T,{popupRedirectResolver:Lf,persistence:[wc,Fi,Gr]}),C=(0,Q.XA)("authTokenSyncURL");if(C&&"boolean"==typeof isSecureContext&&isSecureContext){const J=new URL(C,location.origin);if(location.origin===J.origin){const Fe=gh(J.toString());(function Ja(T,h,y){(0,Q.Ku)(T).beforeAuthStateChanged(h,y)})(y,Fe,()=>Fe(y.currentUser)),function Ai(T,h,y,C){(0,Q.Ku)(T).onIdTokenChanged(h,y,C)}(y,Je=>Fe(Je))}}const B=(0,Q.Tj)("auth");return B&&function On(T,h,y){const C=cn(T);vt(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const B=!!y?.disableWarnings,J=ci(h),{host:Fe,port:Je}=function Xr(T){const h=ci(T),y=/(\/\/)?([^?#/]+)/.exec(T.substr(h.length));if(!y)return{host:"",port:null};const C=y[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(C);if(B){const J=B[1];return{host:J,port:Yr(C.substr(J.length+1))}}{const[J,Fe]=C.split(":");return{host:J,port:Yr(Fe)}}}(h),Ut=null===Je?"":`:${Je}`,mn={url:`${J}//${Fe}${Ut}/`},jn=Object.freeze({host:Fe,port:Je,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:B})});if(!C._canInitEmulator)return vt(C.config.emulator&&C.emulatorConfig,C,"emulator-config-failed"),void vt((0,Q.bD)(mn,C.config.emulator)&&(0,Q.bD)(jn,C.emulatorConfig),C,"emulator-config-failed");C.config.emulator=mn,C.emulatorConfig=jn,C.settings.appVerificationDisabledForTesting=!0,(0,Q.zJ)(Fe)?((0,Q.gE)(`${J}//${Fe}${Ut}`),(0,Q.P1)("Auth",!0)):B||function yr(){function T(){const h=document.createElement("p"),y=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}(y,`http://${B}`),y}(function wi(T){ar=T})({loadJS:T=>new Promise((h,y)=>{const C=document.createElement("script");C.setAttribute("src",T),C.onload=h,C.onerror=B=>{const J=Ne("internal-error");J.customData=B,y(J)},C.type="text/javascript",C.charset="UTF-8",function mh(){var T,h;return null!==(h=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==h?h:document}().appendChild(C)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Gc(T){(0,F.om)(new Ze.uA("auth",(h,{options:y})=>{const C=h.getProvider("app").getImmediate(),B=h.getProvider("heartbeat"),J=h.getProvider("app-check-internal"),{apiKey:Fe,authDomain:Je}=C.options;vt(Fe&&!Fe.includes(":"),"invalid-api-key",{appName:C.name});const Ut={apiKey:Fe,authDomain:Je,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Oe(T)},mn=new Un(C,B,J,Ut);return function sn(T,h){const y=h?.persistence||[],C=(Array.isArray(y)?y:[y]).map(Ui);h?.errorMap&&T._updateErrorMap(h.errorMap),T._initializeWithPersistence(C,h?.popupRedirectResolver)}(mn,y),mn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,y,C)=>{h.getProvider("auth-internal").initialize()})),(0,F.om)(new Ze.uA("auth-internal",h=>{const y=cn(h.getProvider("auth").getImmediate());return new ph(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.KO)(cc,"1.10.6",function uc(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,F.KO)(cc,"1.10.6","esm2017")}("Browser")},591:(Cn,ze,W)=>{"use strict";function D(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}W.d(ze,{L:()=>D})},941:(Cn,ze,W)=>{"use strict";W.d(ze,{Q:()=>w});var D=W(5225),F=W(9974),Q=W(4360);function w(Se,Ze=0){return(0,F.N)((be,ge)=>{be.subscribe((0,Q._)(ge,Ue=>(0,D.N)(ge,Se,()=>ge.next(Ue),Ze),()=>(0,D.N)(ge,Se,()=>ge.complete(),Ze),Ue=>(0,D.N)(ge,Se,()=>ge.error(Ue),Ze)))})}},969:(Cn,ze,W)=>{"use strict";W.d(ze,{FX:()=>hn,If:()=>D,K2:()=>Ze,PZ:()=>Gt,hZ:()=>Q,i0:()=>w,iF:()=>be,kY:()=>_e,kp:()=>F,sf:()=>Bt,wk:()=>ge});var D=function(Dt){return Dt[Dt.State=0]="State",Dt[Dt.Transition=1]="Transition",Dt[Dt.Sequence=2]="Sequence",Dt[Dt.Group=3]="Group",Dt[Dt.Animate=4]="Animate",Dt[Dt.Keyframes=5]="Keyframes",Dt[Dt.Style=6]="Style",Dt[Dt.Trigger=7]="Trigger",Dt[Dt.Reference=8]="Reference",Dt[Dt.AnimateChild=9]="AnimateChild",Dt[Dt.AnimateRef=10]="AnimateRef",Dt[Dt.Query=11]="Query",Dt[Dt.Stagger=12]="Stagger",Dt}(D||{});const F="*";function Q(Dt,Rt){return{type:D.Trigger,name:Dt,definitions:Rt,options:{}}}function w(Dt,Rt=null){return{type:D.Animate,styles:Rt,timings:Dt}}function Ze(Dt,Rt=null){return{type:D.Sequence,steps:Dt,options:Rt}}function be(Dt){return{type:D.Style,styles:Dt,offset:null}}function ge(Dt,Rt,St){return{type:D.State,name:Dt,styles:Rt,options:St}}function _e(Dt,Rt,St=null){return{type:D.Transition,expr:Dt,animation:Rt,options:St}}class Bt{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(Rt=0,St=0){this.totalTime=Rt+St}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Rt=>Rt()),this._onDoneFns=[])}onStart(Rt){this._originalOnStartFns.push(Rt),this._onStartFns.push(Rt)}onDone(Rt){this._originalOnDoneFns.push(Rt),this._onDoneFns.push(Rt)}onDestroy(Rt){this._onDestroyFns.push(Rt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Rt=>Rt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Rt=>Rt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Rt){this._position=this.totalTime?Rt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Rt){const St="start"==Rt?this._onStartFns:this._onDoneFns;St.forEach(Ne=>Ne()),St.length=0}}class Gt{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(Rt){this.players=Rt;let St=0,Ne=0,ct=0;const et=this.players.length;0==et?queueMicrotask(()=>this._onFinish()):this.players.forEach(Tt=>{Tt.onDone(()=>{++St==et&&this._onFinish()}),Tt.onDestroy(()=>{++Ne==et&&this._onDestroy()}),Tt.onStart(()=>{++ct==et&&this._onStart()})}),this.totalTime=this.players.reduce((Tt,Xt)=>Math.max(Tt,Xt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Rt=>Rt()),this._onDoneFns=[])}init(){this.players.forEach(Rt=>Rt.init())}onStart(Rt){this._onStartFns.push(Rt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Rt=>Rt()),this._onStartFns=[])}onDone(Rt){this._onDoneFns.push(Rt)}onDestroy(Rt){this._onDestroyFns.push(Rt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Rt=>Rt.play())}pause(){this.players.forEach(Rt=>Rt.pause())}restart(){this.players.forEach(Rt=>Rt.restart())}finish(){this._onFinish(),this.players.forEach(Rt=>Rt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Rt=>Rt.destroy()),this._onDestroyFns.forEach(Rt=>Rt()),this._onDestroyFns=[])}reset(){this.players.forEach(Rt=>Rt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Rt){const St=Rt*this.totalTime;this.players.forEach(Ne=>{const ct=Ne.totalTime?Math.min(1,St/Ne.totalTime):1;Ne.setPosition(ct)})}getPosition(){const Rt=this.players.reduce((St,Ne)=>null===St||Ne.totalTime>St.totalTime?Ne:St,null);return null!=Rt?Rt.getPosition():0}beforeDestroy(){this.players.forEach(Rt=>{Rt.beforeDestroy&&Rt.beforeDestroy()})}triggerCallback(Rt){const St="start"==Rt?this._onStartFns:this._onDoneFns;St.forEach(Ne=>Ne()),St.length=0}}const hn="!"},980:(Cn,ze,W)=>{"use strict";W.d(ze,{j:()=>F});var D=W(9974);function F(Q){return(0,D.N)((w,Se)=>{try{w.subscribe(Se)}finally{Se.add(Q)}})}},983:(Cn,ze,W)=>{"use strict";W.d(ze,{w:()=>F});const F=new(W(1985).c)(Se=>Se.complete())},1026:(Cn,ze,W)=>{"use strict";W.d(ze,{$:()=>D});const D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(Cn,ze,W)=>{"use strict";W.d(ze,{F:()=>F,m:()=>Q});var D=W(3669);function F(...w){return Q(w)}function Q(w){return 0===w.length?D.D:1===w.length?w[0]:function(Ze){return w.reduce((be,ge)=>ge(be),Ze)}}},1360:(Cn,ze,W)=>{"use strict";W.d(ze,{bc$:()=>Qg,iLQ:()=>Sy,sZ2:()=>Eu,o8S:()=>_c,BIS:()=>g_,gRc:()=>HA,Ql9:()=>vk,OM3:()=>Ey,Ocv:()=>Ak,abz:()=>Us,Z63:()=>eo,aKT:()=>al,uvJ:()=>ii,zcH:()=>dc,bkB:()=>lc,$GK:()=>Ln,nKC:()=>ve,zZn:()=>vs,_q3:()=>cT,MKu:()=>uT,xe9:()=>rT,Co$:()=>D0,Vns:()=>ff,SKi:()=>_o,Xx1:()=>Or,Agw:()=>Kg,PLl:()=>qg,u5s:()=>rl,sFG:()=>bC,_9s:()=>Uw,czy:()=>Pu,WPN:()=>Md,kdw:()=>mo,C4Q:()=>nf,NYb:()=>OR,giA:()=>J0,xvI:()=>yk,RxE:()=>kA,c1b:()=>Yv,gXe:()=>kc,mal:()=>cm,Af3:()=>Fo,L39:()=>vN,EWP:()=>$y,Ol2:()=>rI,w6W:()=>gS,Rfq:()=>Vi,WQX:()=>En,hFB:()=>t_,naY:()=>Lk,QuC:()=>Ie,EmA:()=>Re,phd:()=>VR,HJs:()=>BN,N4e:()=>Fs,vPA:()=>Xc,O8t:()=>cu,H3F:()=>hI,H8p:()=>Oi,KH2:()=>_g,Ua0:()=>Qc,wOt:()=>st,WHO:()=>Y0,e01:()=>Z0,Lf2:()=>ld,lNU:()=>Nr,h9k:()=>Cp,$MX:()=>Ad,ZF7:()=>bd,Kcf:()=>K_,e5t:()=>bp,UyX:()=>ew,cWb:()=>Tp,osQ:()=>yl,H5H:()=>FI,Zy3:()=>Kn,mq5:()=>qb,JZv:()=>An,TL3:()=>Yk,LfX:()=>kt,plB:()=>hf,jNT:()=>yI,zjR:()=>tb,ngT:()=>Ia,TL$:()=>NE,Tbb:()=>Le,rcV:()=>tu,Vt3:()=>oI,OA$:()=>Ec,Jv_:()=>JD,R7$:()=>v,BMQ:()=>II,HbH:()=>Pb,ZvI:()=>Lb,STu:()=>Vb,AVh:()=>RI,wni:()=>CD,VBU:()=>C0,FsC:()=>S0,jDH:()=>Oe,G2t:()=>yt,$C:()=>iI,EJ8:()=>R0,rXU:()=>ng,nrm:()=>xI,bVm:()=>dE,qex:()=>lE,k0s:()=>uE,j41:()=>cE,RV6:()=>Wb,xGo:()=>Zl,KVO:()=>ni,kS0:()=>T,QTQ:()=>qT,bIt:()=>UI,lsd:()=>RD,joV:()=>ah,qSk:()=>Rf,XpG:()=>yD,nI1:()=>hA,i5U:()=>fA,Y8G:()=>AI,lJ4:()=>tA,eq3:()=>nA,l_i:()=>rA,sMw:()=>iA,ziG:()=>oA,s1E:()=>sA,mGM:()=>SD,sdS:()=>PD,Njj:()=>sa,eBV:()=>Tc,npT:()=>sw,B4B:()=>J_,n$t:()=>$m,xc7:()=>SI,zvX:()=>OI,DNE:()=>uI,C5r:()=>pA,EFF:()=>BD,JRh:()=>$I,SpI:()=>mE,Lme:()=>HI,DH7:()=>QD,mxI:()=>WI,R50:()=>zI});var D=W(467);function F(e,t){return Object.is(e,t)}let Q=null,w=!1,Se=1;const Ze=Symbol("SIGNAL");function be(e){const t=Q;return Q=e,t}const we={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qe(e){if(w)throw new Error("");if(null===Q)return;Q.consumerOnSignalRead(e);const t=Q.nextProducerIndex++;Xt(Q),t<Q.producerNode.length&&Q.producerNode[t]!==e&&Tt(Q)&&et(Q.producerNode[t],Q.producerIndexOfThis[t]),Q.producerNode[t]!==e&&(Q.producerNode[t]=e,Q.producerIndexOfThis[t]=Tt(Q)?ct(e,Q,t):0),Q.producerLastReadVersion[t]=e.version}function ft(e){if((!Tt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Se)){if(!e.producerMustRecompute(e)&&!St(e))return void hn(e);e.producerRecomputeValue(e),hn(e)}}function Ot(e){if(void 0===e.liveConsumerNode)return;const t=w;w=!0;try{for(const r of e.liveConsumerNode)r.dirty||Gt(r)}finally{w=t}}function Bt(){return!1!==Q?.consumerAllowSignalWrites}function Gt(e){e.dirty=!0,Ot(e),e.consumerMarkedDirty?.(e)}function hn(e){e.dirty=!1,e.lastCleanEpoch=Se}function Dt(e){return e&&(e.nextProducerIndex=0),be(e)}function Rt(e,t){if(be(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Tt(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)et(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function St(e){Xt(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(ft(r),o!==r.version))return!0}return!1}function Ne(e){if(Xt(e),Tt(e))for(let t=0;t<e.producerNode.length;t++)et(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ct(e,t,r){if(vt(e),0===e.liveConsumerNode.length&&dt(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=ct(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function et(e,t){if(vt(e),1===e.liveConsumerNode.length&&dt(e))for(let o=0;o<e.producerNode.length;o++)et(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Xt(a),a.producerIndexOfThis[o]=t}}function Tt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Xt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function vt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function dt(e){return void 0!==e.producerNode}const kn=Symbol("UNSET"),er=Symbol("COMPUTING"),ut=Symbol("ERRORED"),wn={...we,value:kn,dirty:!0,error:null,equal:F,kind:"computed",producerMustRecompute:e=>e.value===kn||e.value===er,producerRecomputeValue(e){if(e.value===er)throw new Error("Detected cycle in computations.");const t=e.value;e.value=er;const r=Dt(e);let o,a=!1;try{o=e.computation(),be(null),a=t!==kn&&t!==ut&&o!==ut&&e.equal(t,o)}catch(l){o=ut,e.error=l}finally{Rt(e,r)}a?e.value=t:(e.value=o,e.version++)}};let en=function Xe(){throw new Error};function Pt(e){en(e)}let Z=null;function pe(e,t){Bt()||Pt(e),e.equal(e.value,t)||(e.value=t,function gt(e){e.version++,function Ct(){Se++}(),Ot(e),Z?.()}(e))}const Ke={...we,equal:F,value:void 0,kind:"signal"};let Kt;function Vn(){return Kt}function tr(e){const t=Kt;return Kt=e,t}const bn=Symbol("NotFound");Error;var Si=W(4412),fn=W(1413),fr=W(8359),on=W(6354);const Nr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class st extends Error{code;constructor(t,r){super(Kn(t,r)),this.code=t}}function Kn(e,t){return`${function Ir(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const qt=Symbol("InputSignalNode#UNSET"),si={...Ke,transformFn:void 0,applyValueToInputSignal(e,t){pe(e,t)}};function gi(e,t){const r=Object.create(si);function o(){if(qe(r),r.value===qt)throw new st(-950,null);return r.value}return r.value=e,r.transformFn=t?.transform,o[Ze]=r,o}function Dr(e){return{toString:e}.toString()}const Cr="__parameters__";function mi(e,t,r){return Dr(()=>{const o=function sr(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...l){if(this instanceof a)return o.apply(this,l),this;const g=new a(...l);return I.annotation=g,I;function I(b,L,H){const Y=b.hasOwnProperty(Cr)?b[Cr]:Object.defineProperty(b,Cr,{value:[]})[Cr];for(;Y.length<=H;)Y.push(null);return(Y[H]=Y[H]||[]).push(g),b}}return a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const An=globalThis;function Gn(e){for(let t in e)if(e[t]===Gn)return t;throw Error("Could not find renamed property on target object.")}function Yi(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Le(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Le).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const r=e.toString();if(null==r)return""+r;const o=r.indexOf("\n");return o>=0?r.slice(0,o):r}function Ar(e,t){return e?t?`${e} ${t}`:e:t||""}const ai=Gn({__forward_ref__:Gn});function Vi(e){return e.__forward_ref__=Vi,e.toString=function(){return Le(this())},e}function _n(e){return gr(e)?e():e}function gr(e){return"function"==typeof e&&e.hasOwnProperty(ai)&&e.__forward_ref__===Vi}function Oe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function yt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ht(e){return tn(e,qn)||tn(e,wi)}function kt(e){return null!==ht(e)}function tn(e,t){return e.hasOwnProperty(t)?e[t]:null}function cn(e){return e&&(e.hasOwnProperty(ar)||e.hasOwnProperty(Ri))?e[ar]:null}const qn=Gn({\u0275prov:Gn}),ar=Gn({\u0275inj:Gn}),wi=Gn({ngInjectableDef:Gn}),Ri=Gn({ngInjectorDef:Gn});class ve{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,r){this._desc=t,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Oe({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ao(e){return e&&!!e.\u0275providers}const Wi=Gn({\u0275cmp:Gn}),Bo=Gn({\u0275dir:Gn}),io=Gn({\u0275pipe:Gn}),j=Gn({\u0275mod:Gn}),fe=Gn({\u0275fac:Gn}),K=Gn({__NG_ELEMENT_ID__:Gn}),te=Gn({__NG_ENV_ID__:Gn});function Pe(e){return"string"==typeof e?e:null==e?"":String(e)}function ci(e,t){throw new st(-200,e)}function yr(e,t){throw new st(-201,!1)}var Ln=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ln||{});let _r;function Gi(){return _r}function yi(e){const t=_r;return _r=e,t}function wo(e,t,r){const o=ht(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Ln.Optional?null:void 0!==t?t:void yr()}const tt={},Me="__NG_DI_FLAG__";class lt{injector;constructor(t){this.injector=t}retrieve(t,r){return this.injector.get(t,r.optional?bn:tt,r)}}const Zt="ngTempTokenPath",Bn=/\n/gm,go="__source";function xs(e,t=Ln.Default){if(void 0===Vn())throw new st(-203,!1);if(null===Vn())return wo(e,void 0,t);{const r=Vn();let o;return o=r instanceof lt?r.injector:r,o.get(e,t&Ln.Optional?null:void 0,t)}}function ni(e,t=Ln.Default){return(Gi()||xs)(_n(e),t)}function En(e,t=Ln.Default){return ni(e,as(t))}function as(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Io(e){const t=[];for(let r=0;r<e.length;r++){const o=_n(e[r]);if(Array.isArray(o)){if(0===o.length)throw new st(900,!1);let a,l=Ln.Default;for(let g=0;g<o.length;g++){const I=o[g],b=Yo(I);"number"==typeof b?-1===b?a=I.token:l|=b:a=I}t.push(ni(a,l))}else t.push(ni(o))}return t}function Mo(e,t){return e[Me]=t,e.prototype[Me]=t,e}function Yo(e){return e[Me]}const Or=Mo(mi("Optional"),8),mo=Mo(mi("SkipSelf"),4);function Ds(e,t){return e.hasOwnProperty(fe)?e[fe]:null}function Zr(e,t){e.forEach(r=>Array.isArray(r)?Zr(r,t):t(r))}function Jr(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function As(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function To(e,t,r){let o=Hs(e,t);return o>=0?e[1|o]=r:(o=~o,function ps(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function ji(e,t){const r=Hs(e,t);if(r>=0)return e[1|r]}function Hs(e,t){return function Oo(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const l=o+(a-o>>1),g=e[l<<r];if(t===g)return l<<r;g>t?a=l:o=l+1}return~(a<<r)}(e,t,1)}const Fr={},vr=[],eo=new ve(""),ra=new ve("",-1),Os=new ve("");class ba{get(t,r=tt){if(r===tt){const o=new Error(`NullInjectorError: No provider for ${Le(t)}!`);throw o.name="NullInjectorError",o}return r}}function jo(e,t){const r=e[j]||null;if(!r&&!0===t)throw new Error(`Type ${Le(e)} does not have '\u0275mod' property.`);return r}function Er(e){return e[Wi]||null}function q(e){return e[Bo]||null}function G(e){return e[io]||null}function Ie(e){const t=Er(e)||q(e)||G(e);return null!==t&&t.standalone}function Re(e){return{\u0275providers:e}}function Mt(...e){return{\u0275providers:Wt(0,e),\u0275fromNgModule:!0}}function Wt(e,...t){const r=[],o=new Set;let a;const l=g=>{r.push(g)};return Zr(t,g=>{const I=g;pn(I,l,[],o)&&(a||=[],a.push(I))}),void 0!==a&&Tn(a,l),r}function Tn(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];Xn(a,l=>{t(l,o)})}}function pn(e,t,r,o){if(!(e=_n(e)))return!1;let a=null,l=cn(e);const g=!l&&Er(e);if(l||g){if(g&&!g.standalone)return!1;a=e}else{const b=e.ngModule;if(l=cn(b),!l)return!1;a=b}const I=o.has(a);if(g){if(I)return!1;if(o.add(a),g.dependencies){const b="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const L of b)pn(L,t,r,o)}}else{if(!l)return!1;{if(null!=l.imports&&!I){let L;o.add(a);try{Zr(l.imports,H=>{pn(H,t,r,o)&&(L||=[],L.push(H))})}finally{}void 0!==L&&Tn(L,t)}if(!I){const L=Ds(a)||(()=>new a);t({provide:a,useFactory:L,deps:vr},a),t({provide:Os,useValue:a,multi:!0},a),t({provide:eo,useValue:()=>ni(a),multi:!0},a)}const b=l.providers;if(null!=b&&!I){const L=e;Xn(b,H=>{t(H,L)})}}}return a!==e&&void 0!==e.providers}function Xn(e,t){for(let r of e)ao(r)&&(r=r.\u0275providers),Array.isArray(r)?Xn(r,t):t(r)}const Ur=Gn({provide:String,useValue:Gn});function Ii(e){return null!==e&&"object"==typeof e&&Ur in e}function Pi(e){return"function"==typeof e}const Oi=new ve(""),uo={},vi={};let Mi;function bo(){return void 0===Mi&&(Mi=new ba),Mi}class ii{}class yo extends ii{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,oo(t,g=>this.processProvider(g)),this.records.set(ra,ms(void 0,this)),a.has("environment")&&this.records.set(ii,ms(void 0,this));const l=this.records.get(Oi);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Os,vr,Ln.Self))}retrieve(t,r){return this.get(t,r.optional?bn:tt,r)}destroy(){zs(this),this._destroyed=!0;const t=be(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),be(t)}}onDestroy(t){return zs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){zs(this);const r=tr(this),o=yi(void 0);try{return t()}finally{tr(r),yi(o)}}get(t,r=tt,o=Ln.Default){if(zs(this),t.hasOwnProperty(te))return t[te](this);o=as(o);const l=tr(this),g=yi(void 0);try{if(!(o&Ln.SkipSelf)){let b=this.records.get(t);if(void 0===b){const L=function Ws(e){return"function"==typeof e||"object"==typeof e&&e instanceof ve}(t)&&ht(t);b=L&&this.injectableDefInScope(L)?ms(Ko(t),uo):null,this.records.set(t,b)}if(null!=b)return this.hydrate(t,b,o)}return(o&Ln.Self?bo():this.parent).get(t,r=o&Ln.Optional&&r===tt?null:r)}catch(I){if("NullInjectorError"===I.name){if((I[Zt]=I[Zt]||[]).unshift(Le(t)),l)throw I;return function ko(e,t,r,o){const a=e[Zt];throw t[go]&&a.unshift(t[go]),e.message=function bs(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Le(t);if(Array.isArray(t))a=t.map(Le).join(" -> ");else if("object"==typeof t){let l=[];for(let g in t)if(t.hasOwnProperty(g)){let I=t[g];l.push(g+":"+("string"==typeof I?JSON.stringify(I):Le(I)))}a=`{${l.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(Bn,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[Zt]=null,e}(I,t,"R3InjectorError",this.source)}throw I}finally{yi(g),tr(l)}}resolveInjectorInitializers(){const t=be(null),r=tr(this),o=yi(void 0);try{const l=this.get(eo,vr,Ln.Self);for(const g of l)g()}finally{tr(r),yi(o),be(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(Le(o));return`R3Injector[${t.join(", ")}]`}processProvider(t){let r=Pi(t=_n(t))?t:_n(t&&t.provide);const o=function la(e){return Ii(e)?ms(void 0,e.useValue):ms(Da(e),uo)}(t);if(!Pi(t)&&!0===t.multi){let a=this.records.get(r);a||(a=ms(void 0,uo,!0),a.factory=()=>Io(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r,o){const a=be(null);try{return r.value===vi?ci(Le(t)):r.value===uo&&(r.value=vi,r.value=r.factory(void 0,o)),"object"==typeof r.value&&r.value&&function da(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{be(a)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=_n(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Ko(e){const t=ht(e),r=null!==t?t.factory:Ds(e);if(null!==r)return r;if(e instanceof ve)throw new st(204,!1);if(e instanceof Function)return function gs(e){if(e.length>0)throw new st(204,!1);const r=function Un(e){return e&&(e[qn]||e[wi])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new st(204,!1)}function Da(e,t,r){let o;if(Pi(e)){const a=_n(e);return Ds(a)||Ko(a)}if(Ii(e))o=()=>_n(e.useValue);else if(function $i(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Io(e.deps||[]));else if(function _i(e){return!(!e||!e.useExisting)}(e))o=(a,l)=>ni(_n(e.useExisting),void 0!==l&&l&Ln.Optional?Ln.Optional:void 0);else{const a=_n(e&&(e.useClass||e.provide));if(!function Fa(e){return!!e.deps}(e))return Ds(a)||Ko(a);o=()=>new a(...Io(e.deps))}return o}function zs(e){if(e.destroyed)throw new st(205,!1)}function ms(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function oo(e,t){for(const r of e)Array.isArray(r)?oo(r,t):r&&ao(r)?oo(r.\u0275providers,t):t(r)}function Fs(e,t){let r;e instanceof yo?(zs(e),r=e):r=new lt(e);const a=tr(r),l=yi(void 0);try{return t()}finally{tr(a),yi(l)}}function hi(){return void 0!==Gi()||null!=Vn()}function Fo(e){if(!hi())throw new st(-203,!1)}const Kr=0,Jt=1,ir=2,fi=3,$o=4,qi=5,Xo=6,Zo=7,oi=8,P=9,N=10,$=11,Ae=12,Nt=13,Sn=14,cr=15,Hi=16,Ki=17,Do=18,Qs=19,Sa=20,Mn=26,pa=1,Ua=9,zi=10;function Qi(e){return Array.isArray(e)&&"object"==typeof e[pa]}function Ai(e){return Array.isArray(e)&&!0===e[pa]}function Ja(e){return!!(4&e.flags)}function to(e){return e.componentOffset>-1}function vc(e){return!(1&~e.flags)}function Jo(e){return!!e.template}function Vs(e){return!!(512&e[ir])}function S(e){return!(256&~e[ir])}class Cs{previousValue;currentValue;firstChange;constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Lo(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}const Ec=(()=>{const e=()=>ga;return e.ngInherit=!0,e})();function ga(e){return e.type.prototype.ngOnChanges&&(e.setInput=hs),Gr}function Gr(){const e=ma(this),t=e?.current;if(t){const r=e.previous;if(r===Fr)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function hs(e,t,r,o,a){const l=this.declaredInputs[o],g=ma(e)||function Nl(e,t){return e[ia]=t}(e,{previous:Fr,current:null}),I=g.current||(g.current={}),b=g.previous,L=b[l];I[l]=new Cs(L&&L.currentValue,r,b===Fr),Lo(e,t,a,r)}const ia="__ngSimpleChanges__";function ma(e){return e[ia]||null}const pi=function(e,t=null,r){},Ba="svg";function gn(e){for(;Array.isArray(e);)e=e[Kr];return e}function jr(e,t){return gn(t[e])}function ei(e,t){return gn(t[e.index])}function So(e,t){return e.data[t]}function Ho(e,t){return e[t]}function fs(e,t){const r=t[e];return Qi(r)?r:r[Kr]}function Qr(e){return!(128&~e[ir])}function lo(e,t){return null==t?null:e[t]}function ja(e){e[Ki]=0}function Pa(e){1024&e[ir]||(e[ir]|=1024,Qr(e)&&wc(e))}function uu(e){return!!(9216&e[ir]||e[24]?.dirty)}function ih(e){e[N].changeDetectionScheduler?.notify(8),64&e[ir]&&(e[ir]|=1024),uu(e)&&wc(e)}function wc(e){e[N].changeDetectionScheduler?.notify(0);let t=oa(e);for(;null!==t&&!(8192&t[ir])&&(t[ir]|=8192,Qr(t));)t=oa(t)}function ec(e,t){if(S(e))throw new st(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function oa(e){const t=e[fi];return Ai(t)?t[fi]:t}function Ic(e){return e[Zo]??=[]}function xl(e){return e.cleanup??=[]}const br={lFrame:Xu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Fl=!1;function Tf(){return br.bindingsEnabled}function At(){return br.lFrame.lView}function wr(){return br.lFrame.tView}function Tc(e){return br.lFrame.contextLView=e,e[oi]}function sa(e){return br.lFrame.contextLView=null,e}function $r(){let e=bf();for(;null!==e&&64===e.type;)e=e.parent;return e}function bf(){return br.lFrame.currentTNode}function Xs(e,t){const r=br.lFrame;r.currentTNode=e,r.isParent=t}function Vl(){return br.lFrame.isParent}function Ul(){br.lFrame.isParent=!1}function wg(){return Fl}function Uc(e){const t=Fl;return Fl=e,t}function Rs(){const e=br.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ys(){return br.lFrame.bindingIndex++}function _a(e){const t=br.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Tg(e,t){const r=br.lFrame;r.bindingIndex=r.bindingRootIndex=e,Ha(t)}function Ha(e){br.lFrame.currentDirectiveIndex=e}function du(e){const t=br.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Qu(){return br.lFrame.currentQueryIndex}function jl(e){br.lFrame.currentQueryIndex=e}function tc(e){const t=e[Jt];return 2===t.type?t.declTNode:1===t.type?e[qi]:null}function $l(e,t,r){if(r&Ln.SkipSelf){let a=t,l=e;for(;!(a=a.parent,null!==a||r&Ln.Host||(a=tc(l),null===a||(l=l[Sn],10&a.type))););if(null===a)return!1;t=a,e=l}const o=br.lFrame=Sf();return o.currentTNode=t,o.lView=e,!0}function Hl(e){const t=Sf(),r=e[Jt];br.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Sf(){const e=br.lFrame,t=null===e?null:e.child;return null===t?Xu(e):t}function Xu(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function za(){const e=br.lFrame;return br.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Bc=za;function nc(){const e=za();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ps(){return br.lFrame.selectedIndex}function rc(e){br.lFrame.selectedIndex=e}function Ni(){const e=br.lFrame;return So(e.tView,e.selectedIndex)}function Rf(){br.lFrame.currentNamespace=Ba}function ah(){!function Wl(){br.lFrame.currentNamespace=null}()}let $c=!0;function ic(){return $c}function Wa(e){$c=e}function oc(e,t){for(let r=t.directiveStart,o=t.directiveEnd;r<o;r++){const l=e.data[r].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:I,ngAfterViewInit:b,ngAfterViewChecked:L,ngOnDestroy:H}=l;g&&(e.contentHooks??=[]).push(-r,g),I&&((e.contentHooks??=[]).push(r,I),(e.contentCheckHooks??=[]).push(r,I)),b&&(e.viewHooks??=[]).push(-r,b),L&&((e.viewHooks??=[]).push(r,L),(e.viewCheckHooks??=[]).push(r,L)),null!=H&&(e.destroyHooks??=[]).push(r,H)}}function ql(e,t,r){Pf(e,t,3,r)}function Yu(e,t,r,o){(3&e[ir])===r&&Pf(e,t,r,o)}function Zu(e,t){let r=e[ir];(3&r)===t&&(r&=16383,r+=1,e[ir]=r)}function Pf(e,t,r,o){const l=o??-1,g=t.length-1;let I=0;for(let b=void 0!==o?65535&e[Ki]:0;b<g;b++)if("number"==typeof t[b+1]){if(I=t[b],null!=o&&I>=o)break}else t[b]<0&&(e[Ki]+=65536),(I<l||-1==l)&&(Ju(e,r,t,b),e[Ki]=(4294901760&e[Ki])+b+2),b++}function Mf(e,t){pi(4,e,t);const r=be(null);try{t.call(e)}finally{be(r),pi(5,e,t)}}function Ju(e,t,r,o){const a=r[o]<0,l=r[o+1],I=e[a?-r[o]:r[o]];a?e[ir]>>14<e[Ki]>>16&&(3&e[ir])===t&&(e[ir]+=16384,Mf(I,l)):Mf(I,l)}const Zs=-1;class va{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,r,o){this.factory=t,this.canSeeViewProviders=r,this.injectImpl=o}}function uh(e){return 3===e||4===e||6===e}function Ql(e){return 64===e.charCodeAt(0)}function Ac(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||lh(e,r,a,0,-1===r||2===r?t[++o]:null)}}return e}function lh(e,t,r,o,a){let l=0,g=e.length;if(-1===t)g=-1;else for(;l<e.length;){const I=e[l++];if("number"==typeof I){if(I===t){g=-1;break}if(I>t){g=l-1;break}}}for(;l<e.length;){const I=e[l];if("number"==typeof I)break;if(I===r)return void(null!==a&&(e[l+1]=a));l++,null!==a&&l++}-1!==g&&(e.splice(g,0,t),l=g+1),e.splice(l++,0,r),null!==a&&e.splice(l++,0,a)}function Cc(e){return e!==Zs}function tl(e){return 32767&e}function hu(e,t){let r=function dh(e){return e>>16}(e),o=t;for(;r>0;)o=o[Sn],r--;return o}let fu=!0;function Xl(e){const t=fu;return fu=e,t}const zc=255,pu=5;let gu=0;const ka={};function mu(e,t){const r=hh(e,t);if(-1!==r)return r;const o=t[Jt];o.firstCreatePass&&(e.injectorIndex=t.length,es(o.data,e),es(t,null),es(o.blueprint,null));const a=sc(e,t),l=e.injectorIndex;if(Cc(a)){const g=tl(a),I=hu(a,t),b=I[Jt].data;for(let L=0;L<8;L++)t[l+L]=I[g+L]|b[g+L]}return t[l+8]=a,l}function es(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function sc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=mh(a),null===o)return Zs;if(r++,a=a[Sn],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Zs}function yu(e,t,r){!function Ff(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(K)&&(o=r[K]),null==o&&(o=r[K]=gu++);const a=o&zc;t.data[e+(a>>pu)]|=1<<a}(e,t,r)}function Ga(e,t,r){if(r&Ln.Optional||void 0!==e)return e;yr()}function Sc(e,t,r,o){if(r&Ln.Optional&&void 0===o&&(o=null),!(r&(Ln.Self|Ln.Host))){const a=e[P],l=yi(void 0);try{return a?a.get(t,o,r&Ln.Optional):wo(t,o,r&Ln.Optional)}finally{yi(l)}}return Ga(o,0,r)}function Vf(e,t,r,o=Ln.Default,a){if(null!==e){if(2048&t[ir]&&!(o&Ln.Self)){const g=function Jl(e,t,r,o,a){let l=e,g=t;for(;null!==l&&null!==g&&2048&g[ir]&&!Vs(g);){const I=Wc(l,g,r,o|Ln.Self,ka);if(I!==ka)return I;let b=l.parent;if(!b){const L=g[Sa];if(L){const H=L.get(r,ka,o);if(H!==ka)return H}b=mh(g),g=g[Sn]}l=b}return a}(e,t,r,o,ka);if(g!==ka)return g}const l=Wc(e,t,r,o,ka);if(l!==ka)return l}return Sc(t,r,o,a)}function Wc(e,t,r,o,a){const l=function cc(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(K)?e[K]:void 0;return"number"==typeof t?t>=0?t&zc:bg:t}(r);if("function"==typeof l){if(!$l(t,e,o))return o&Ln.Host?Ga(a,0,o):Sc(t,r,o,a);try{let g;if(g=l(o),null!=g||o&Ln.Optional)return g;yr()}finally{Bc()}}else if("number"==typeof l){let g=null,I=hh(e,t),b=Zs,L=o&Ln.Host?t[cr][qi]:null;for((-1===I||o&Ln.SkipSelf)&&(b=-1===I?sc(e,t):t[I+8],b!==Zs&&ph(o,!1)?(g=t[Jt],I=tl(b),t=hu(b,t)):I=-1);-1!==I;){const H=t[Jt];if(Yl(l,I,H.data)){const Y=fh(I,t,r,g,o,L);if(Y!==ka)return Y}b=t[I+8],b!==Zs&&ph(o,t[Jt].data[I+8]===L)&&Yl(l,I,t)?(g=H,I=tl(b),t=hu(b,t)):I=-1}}return a}function fh(e,t,r,o,a,l){const g=t[Jt],I=g.data[e+8],H=qa(I,g,r,null==o?to(I)&&fu:o!=g&&!!(3&I.type),a&Ln.Host&&l===I);return null!==H?ac(t,g,H,I,a):ka}function qa(e,t,r,o,a){const l=e.providerIndexes,g=t.data,I=1048575&l,b=e.directiveStart,H=l>>20,Te=a?I+H:e.directiveEnd;for(let ue=o?I:I+H;ue<Te;ue++){const He=g[ue];if(ue<b&&r===He||ue>=b&&He.type===r)return ue}if(a){const ue=g[b];if(ue&&Jo(ue)&&ue.type===r)return b}return null}function ac(e,t,r,o,a){let l=e[r];const g=t.data;if(l instanceof va){const I=l;I.resolving&&ci(function wt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Pe(e)}(g[r]));const b=Xl(I.canSeeViewProviders);I.resolving=!0;const H=I.injectImpl?yi(I.injectImpl):null;$l(e,o,Ln.Default);try{l=e[r]=I.factory(void 0,a,g,e,o),t.firstCreatePass&&r>=o.directiveStart&&function Dc(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:l}=t.type.prototype;if(o){const g=ga(t);(r.preOrderHooks??=[]).push(e,g),(r.preOrderCheckHooks??=[]).push(e,g)}a&&(r.preOrderHooks??=[]).push(0-e,a),l&&((r.preOrderHooks??=[]).push(e,l),(r.preOrderCheckHooks??=[]).push(e,l))}(r,g[r],t)}finally{null!==H&&yi(H),Xl(b),I.resolving=!1,Bc()}}return l}function Yl(e,t,r){return!!(r[t+(e>>pu)]&1<<e)}function ph(e,t){return!(e&Ln.Self||e&Ln.Host&&t)}class Uo{_tNode;_lView;constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Vf(this._tNode,this._lView,t,as(o),r)}}function bg(){return new Uo($r(),At())}function Zl(e){return Dr(()=>{const t=e.prototype.constructor,r=t[fe]||gh(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const l=a[fe]||gh(a);if(l&&l!==r)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function gh(e){return gr(e)?()=>{const t=gh(_n(e));return t&&t()}:Ds(e)}function mh(e){const t=e[Jt],r=t.type;return 2===r?t.declTNode:1===r?e[qi]:null}function T(e){return function Lf(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const l=r[a];if(uh(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(l===t)return r[a+1];a+=2}}}return null}($r(),e)}function qc(e,t=null,r=null,o){const a=ed(e,t,r,o);return a.resolveInjectorInitializers(),a}function ed(e,t=null,r=null,o,a=new Set){const l=[r||vr,Mt(e)];return o=o||("object"==typeof e?void 0:Le(e)),new yo(l,t||bo(),o||null,a)}class vs{static THROW_IF_NOT_FOUND=tt;static NULL=new ba;static create(t,r){if(Array.isArray(t))return qc({name:""},r,t,"");{const o=t.name??"";return qc({name:o},t.parent,t.providers,o)}}static \u0275prov=Oe({token:vs,providedIn:"any",factory:()=>ni(ra)});static __NG_ELEMENT_ID__=-1}new ve("").__NG_ELEMENT_ID__=e=>{const t=$r();if(null===t)throw new st(204,!1);if(2&t.type)return t.value;if(e&Ln.Optional)return null;throw new st(204,!1)};const _u=!1;let Us=(()=>class e{static __NG_ELEMENT_ID__=Uf;static __NG_ENV_ID__=r=>r})();class yh extends Us{_lView;constructor(t){super(),this._lView=t}onDestroy(t){const r=this._lView;return S(r)?(t(),()=>{}):(ec(r,t),()=>function Vc(e,t){if(null===e[21])return;const r=e[21].indexOf(t);-1!==r&&e[21].splice(r,1)}(r,t))}}function Uf(){return new yh(At())}class Es{}const Kc=new ve("",{providedIn:"root",factory:()=>!1}),Bf=new ve(""),jf=new ve("");let Qc=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Si.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})(),rl=(()=>{class e{internalPendingTasks=En(Qc);scheduler=En(Es);add(){const r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r))}}run(r){var o=this;return(0,D.A)(function*(){const a=o.add();try{return yield r()}finally{a()}})()}static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})();const lc=class $f extends fn.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,hi()&&(this.destroyRef=En(Us,{optional:!0})??void 0,this.pendingTasks=En(Qc,{optional:!0})??void 0)}emit(t){const r=be(null);try{super.next(t)}finally{be(r)}}subscribe(t,r,o){let a=t,l=r||(()=>null),g=o;if(t&&"object"==typeof t){const b=t;a=b.next?.bind(b),l=b.error?.bind(b),g=b.complete?.bind(b)}this.__isAsync&&(l=this.wrapInTimeout(l),a&&(a=this.wrapInTimeout(a)),g&&(g=this.wrapInTimeout(g)));const I=super.subscribe({next:a,error:l,complete:g});return t instanceof fr.yU&&t.add(I),I}wrapInTimeout(t){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{try{t(r)}finally{void 0!==o&&this.pendingTasks?.remove(o)}})}}};function il(...e){}function qy(e){let t,r;function o(){e=il;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Cg(e){return queueMicrotask(()=>e()),()=>{e=il}}const Sg="isAngularZone",Hf=Sg+"_ID";let Qy=0;class _o{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new lc(!1);onMicrotaskEmpty=new lc(!1);onStable=new lc(!1);onError=new lc(!1);constructor(t){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:l=_u}=t;if(typeof Zone>"u")throw new st(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!a&&o,g.shouldCoalesceRunChangeDetection=a,g.callbackScheduled=!1,g.scheduleInRootZone=l,function CE(e){const t=()=>{!function Xy(e){function t(){qy(()=>{e.callbackScheduled=!1,zf(e),e.isCheckStableRunning=!0,Pg(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),zf(e))}(e)},r=Qy++;e._inner=e._inner.fork({name:"angular",properties:{[Sg]:!0,[Hf]:r,[Hf+r]:!0},onInvokeTask:(o,a,l,g,I,b)=>{if(function Mg(e){return kg(e,"__ignore_ng_zone__")}(b))return o.invokeTask(l,g,I,b);try{return Yy(e),o.invokeTask(l,g,I,b)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),ol(e)}},onInvoke:(o,a,l,g,I,b,L)=>{try{return Yy(e),o.invoke(l,g,I,b,L)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Wf(e){return kg(e,"__scheduler_tick__")}(b)&&t(),ol(e)}},onHasTask:(o,a,l,g)=>{o.hasTask(l,g),a===l&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,zf(e),Pg(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,a,l,g)=>(o.handleError(l,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Sg)}static assertInAngularZone(){if(!_o.isInAngularZone())throw new st(909,!1)}static assertNotInAngularZone(){if(_o.isInAngularZone())throw new st(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const l=this._inner,g=l.scheduleEventTask("NgZoneEvent: "+a,t,Rg,il,il);try{return l.runTask(g,r,o)}finally{l.cancelTask(g)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const Rg={};function Pg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function zf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Yy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ol(e){e._nesting--,Pg(e)}class vu{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new lc;onMicrotaskEmpty=new lc;onStable=new lc;onError=new lc;run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function kg(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class dc{_console=console;handleError(t){this._console.error("ERROR",t)}}const SE=new ve("",{providedIn:"root",factory:()=>{const e=En(_o),t=En(dc);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Ng(e,t){return gi(e,t)}const t_=(Ng.required=function e_(e){return gi(qt,e)},Ng);function n_(){return sl($r(),At())}function sl(e,t){return new al(ei(e,t))}let al=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=n_})();function hc(e){return e instanceof al?e.nativeElement:e}function Xc(e,t){const r=function le(e,t){const r=Object.create(Ke);r.value=e,void 0!==t&&(r.equal=t);const o=()=>(qe(r),r.value);return o[Ze]=r,o}(e,t?.equal),o=r[Ze];return r.set=a=>pe(o,a),r.update=a=>function re(e,t){Bt()||Pt(e),pe(e,t(e.value))}(o,a),r.asReadonly=td.bind(r),r}function td(){const e=this[Ze];if(void 0===e.readonlyFn){const t=()=>this();t[Ze]=e,e.readonlyFn=t}return e.readonlyFn}function Kf(e){return function _h(e){return"function"==typeof e&&void 0!==e[Ze]}(e)&&"function"==typeof e.set}function xg(){return this._results[Symbol.iterator]()}class r_{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new fn.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function co(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function qr(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o];if(r&&(a=r(a),l=r(l)),l!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=xg}function cl(e){return!(128&~e.flags)}var Xf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Xf||{});const Yf=new Map;let Js=0;function ll(e){Yf.delete(e[Qs])}const Lg="__ngContext__";function Ea(e,t){Qi(t)?(e[Lg]=t[Qs],function s_(e){Yf.set(e[Qs],e)}(t)):e[Lg]=t}function Zc(e){return d_(e[Ae])}function jg(e){return d_(e[$o])}function d_(e){for(;null!==e&&!Ai(e);)e=e[$o];return e}let ip;function NE(e){ip=e}function Ka(){if(void 0!==ip)return ip;if(typeof document<"u")return document;throw new st(210,!1)}const Eu=new ve("",{providedIn:"root",factory:()=>Gg}),Gg="ng",qg=new ve(""),Kg=new ve("",{providedIn:"platform",factory:()=>"unknown"}),Qg=new ve(""),g_=new ve("",{providedIn:"root",factory:()=>Ka().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),y_=new ve("",{providedIn:"root",factory:()=>!1});var sm=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(sm||{});const ld=new ve(""),__=new Set;function Ia(e){__.has(e)||(__.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let cp=(()=>class e{view;node;constructor(r,o){this.view=r,this.node=o}static __NG_ELEMENT_ID__=am})();function am(){return new cp(At(),$r())}var pl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(pl||{});let Sh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})();const up=[pl.EarlyRead,pl.Write,pl.MixedReadWrite,pl.Read];let lp=(()=>{class e{ngZone=En(_o);scheduler=En(Es);errorHandler=En(dc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){En(ld,{optional:!0})}execute(){const r=this.sequences.size>0;r&&pi(16),this.executing=!0;for(const o of up)for(const a of this.sequences)if(!a.erroredOrDestroyed&&a.hooks[o])try{a.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,a.hooks[o])(a.pipelinedValue),a.snapshot))}catch(l){a.erroredOrDestroyed=!0,this.errorHandler?.handleError(l)}this.executing=!1;for(const o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(const o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&pi(17)}register(r){const{view:o}=r;void 0!==o?((o[25]??=[]).push(r),wc(o),o[ir]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,o){return o?o.run(sm.AFTER_NEXT_RENDER,r):r()}static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new e})}return e})();class E_{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,r,o,a,l,g=null){this.impl=t,this.hooks=r,this.view=o,this.once=a,this.snapshot=g,this.unregisterOnDestroy=l?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(r=>r!==this))}}function cm(e,t){!t?.injector&&Fo();const r=t?.injector??En(vs);return Ia("NgAfterNextRender"),function w_(e,t,r,o){const a=t.get(Sh);a.impl??=t.get(lp);const l=t.get(ld,null,{optional:!0}),g=r?.phase??pl.MixedReadWrite,I=!0!==r?.manualCleanup?t.get(Us):null,b=t.get(cp,null,{optional:!0}),L=new E_(a.impl,function um(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,g),b?.view,o,I,l?.snapshot(null));return a.impl.register(L),L}(e,r,t,!0)}let Fh=(e,t,r,o)=>{};function YE(e,t){const r=e.contentQueries;if(null!==r){const o=be(null);try{for(let a=0;a<r.length;a+=2){const g=r[a+1];if(-1!==g){const I=e.data[g];jl(r[a]),I.contentQueries(2,t[g],g)}}}finally{be(o)}}}function z_(e,t,r){jl(0);const o=be(null);try{t(e,r)}finally{be(o)}}function $h(e,t,r){if(Ja(t)){const o=be(null);try{const l=t.directiveEnd;for(let g=t.directiveStart;g<l;g++){const I=e.data[g];I.contentQueries&&I.contentQueries(1,r[g],g)}}finally{be(o)}}}var kc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(kc||{});let Rm,Pm;function Hh(e){return function ZE(){if(void 0===Rm&&(Rm=null,An.trustedTypes))try{Rm=An.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Rm}()?.createHTML(e)||e}function W_(){if(void 0===Pm&&(Pm=null,An.trustedTypes))try{Pm=An.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pm}function JE(e){return W_()?.createHTML(e)||e}function G_(e){return W_()?.createScriptURL(e)||e}class Na{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nr})`}}class ml extends Na{getTypeName(){return"HTML"}}class ET extends Na{getTypeName(){return"Style"}}class Td extends Na{getTypeName(){return"Script"}}class Mm extends Na{getTypeName(){return"URL"}}class Ip extends Na{getTypeName(){return"ResourceURL"}}function tu(e){return e instanceof Na?e.changingThisBreaksApplicationSecurity:e}function bd(e,t){const r=function q_(e){return e instanceof Na&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Nr})`)}return r===t}function K_(e){return new ml(e)}function Tp(e){return new ET(e)}function ew(e){return new Td(e)}function yl(e){return new Mm(e)}function bp(e){return new Ip(e)}class Q_{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Hh(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.firstChild?.remove(),r)}catch{return null}}}class km{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Hh(t),r}}const xm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ad(e){return(e=String(e)).match(xm)?e:"unsafe:"+e}function mc(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function _l(...e){const t={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(t[o]=!0);return t}const Om=mc("area,br,col,hr,img,wbr"),Au=mc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fm=mc("rp,rt"),Lm=_l(Om,_l(Au,mc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_l(Fm,mc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_l(Fm,Au)),Cd=mc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sd=_l(Cd,mc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rw=mc("script,style,template");class Ap{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let r=t.firstChild,o=!0,a=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)a.push(r),r=zh(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let l=Um(r);if(l){r=l;break}r=a.pop()}return this.buf.join("")}startElement(t){const r=Z_(t).toLowerCase();if(!Lm.hasOwnProperty(r))return this.sanitizedSomething=!0,!rw.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=t.attributes;for(let a=0;a<o.length;a++){const l=o.item(a),g=l.name,I=g.toLowerCase();if(!Sd.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let b=l.value;Cd[I]&&(b=Ad(b)),this.buf.push(" ",g,'="',ow(b),'"')}return this.buf.push(">"),!0}endElement(t){const r=Z_(t).toLowerCase();Lm.hasOwnProperty(r)&&!Om.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(ow(t))}}function Um(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Rd(t);return t}function zh(e){const t=e.firstChild;if(t&&function Y_(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Rd(t);return t}function Z_(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Rd(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const iw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pd=/([^\#-~ |!])/g;function ow(e){return e.replace(/&/g,"&amp;").replace(iw,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Pd,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bm;function Cp(e,t){let r=null;try{Bm=Bm||function Dd(e){const t=new km(e);return function Nm(){try{return!!(new window.DOMParser).parseFromString(Hh(""),"text/html")}catch{return!1}}()?new Q_(t):t}(e);let o=t?String(t):"";r=Bm.getInertBodyElement(o);let a=5,l=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=l,l=r.innerHTML,r=Bm.getInertBodyElement(o)}while(o!==l);return Hh((new Ap).sanitizeChildren(jm(r)||r))}finally{if(r){const o=jm(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function jm(e){return"content"in e&&function Sp(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Md=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Md||{});function sw(e){const t=kd();return t?JE(t.sanitize(Md.HTML,e)||""):bd(e,"HTML")?JE(tu(e)):Cp(Ka(),Pe(e))}function J_(e){const t=kd();return t?t.sanitize(Md.URL,e)||"":bd(e,"URL")?tu(e):Ad(Pe(e))}function aw(e){const t=kd();if(t)return G_(t.sanitize(Md.RESOURCE_URL,e)||"");if(bd(e,"ResourceURL"))return G_(tu(e));throw new st(904,!1)}function $m(e,t,r){return function ev(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?aw:J_}(t,r)(e)}function kd(){const e=At();return e&&e[N].sanitizer}const tv=/^>|^->|<!--|-->|--!>|<!-$/g,Mp=/(<|>)/g;function nu(e){return e instanceof Function?e():e}function xT(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const l=t.length;if(a+l===o||e.charCodeAt(a+l)<=32)return a}r=a+1}}const av="ng-template";function yw(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==xT(t[a+1].toLowerCase(),r,0))return!0}else if(zm(e))return!1;if(a=t.indexOf(1,a),a>-1){let l;for(;++a<t.length&&"string"==typeof(l=t[a]);)if(l.toLowerCase()===r)return!0}return!1}function zm(e){return 4===e.type&&e.value!==av}function OT(e,t,r){return t===(4!==e.type||r?e.value:av)}function _w(e,t,r){let o=4;const a=e.attrs,l=null!==a?function FT(e){for(let t=0;t<e.length;t++)if(uh(e[t]))return t;return e.length}(a):0;let g=!1;for(let I=0;I<t.length;I++){const b=t[I];if("number"!=typeof b){if(!g)if(4&o){if(o=2|1&o,""!==b&&!OT(e,b,r)||""===b&&1===t.length){if(yc(o))return!1;g=!0}}else if(8&o){if(null===a||!yw(e,a,b,r)){if(yc(o))return!1;g=!0}}else{const L=t[++I],H=Su(b,a,zm(e),r);if(-1===H){if(yc(o))return!1;g=!0;continue}if(""!==L){let Y;if(Y=H>l?"":a[H+1].toLowerCase(),2&o&&L!==Y){if(yc(o))return!1;g=!0}}}}else{if(!g&&!yc(o)&&!yc(b))return!1;if(g&&yc(b))continue;g=!1,o=b|1&o}}return yc(o)||g}function yc(e){return!(1&e)}function Su(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let l=!1;for(;a<t.length;){const g=t[a];if(g===e)return a;if(3===g||6===g)l=!0;else{if(1===g||2===g){let I=t[++a];for(;"string"==typeof I;)I=t[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=l?1:2}return-1}return function LT(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function cv(e,t,r=!1){for(let o=0;o<t.length;o++)if(_w(e,t[o],r))return!0;return!1}function Ew(e,t){return e?":not("+t.trim()+")":t}function UT(e){let t=e[0],r=1,o=2,a="",l=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const I=e[++r];a+="["+g+(I.length>0?'="'+I+'"':"")+"]"}else 8&o?a+="."+g:4&o&&(a+=" "+g);else""!==a&&!yc(g)&&(t+=Ew(l,a),a=""),o=g,l=l||!yc(o);r++}return""!==a&&(t+=Ew(l,a)),t}const Lr={};function Gm(e,t){return e.createComment(function dw(e){return e.replace(tv,t=>t.replace(Mp,"\u200b$1\u200b"))}(t))}function qm(e,t,r){return e.createElement(t,r)}function Fd(e,t,r,o,a){e.insertBefore(t,r,o,a)}function ww(e,t,r){e.appendChild(t,r)}function Iw(e,t,r,o,a){null!==o?Fd(e,t,r,o,a):ww(e,t,r)}function Tw(e,t,r){const{mergedAttrs:o,classes:a,styles:l}=r;null!==o&&function ch(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const l=r[o++],g=r[o++],I=r[o++];e.setAttribute(t,g,I,l)}else{const l=a,g=r[++o];Ql(l)?e.setProperty(t,l,g):e.setAttribute(t,l,g),o++}}}(e,t,o),null!==a&&function HT(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}(e,t,a),null!==l&&function $T(e,t,r){e.setAttribute(t,"style",r)}(e,t,l)}function Gh(e,t,r,o,a,l,g,I,b,L,H){const Y=Mn+o,Te=Y+a,ue=function Np(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:Lr);return r}(Y,Te),He="function"==typeof L?L():L;return ue[Jt]={type:e,blueprint:ue,template:r,queries:null,viewQuery:I,declTNode:t,data:ue.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:Te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:b,consts:He,incompleteFirstPass:!1,ssrId:H}}function n(e,t,r,o,a,l,g,I,b,L,H){const Y=t.blueprint.slice();return Y[Kr]=a,Y[ir]=1228|o,(null!==L||e&&2048&e[ir])&&(Y[ir]|=2048),ja(Y),Y[fi]=Y[Sn]=e,Y[oi]=r,Y[N]=g||e&&e[N],Y[$]=I||e&&e[$],Y[P]=b||e&&e[P]||null,Y[qi]=l,Y[Qs]=function RE(){return Js++}(),Y[Xo]=H,Y[Sa]=L,Y[cr]=2==t.type?e[cr]:Y,Y}function s(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function u(e,t,r,o){if(0===r)return-1;const a=t.length;for(let l=0;l<r;l++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function p(e,t){return e[Ae]?e[Nt][$o]=t:e[Ae]=t,e[Nt]=t,t}function v(e=1){R(wr(),At(),Ps()+e,!1)}function R(e,t,r,o){if(!o)if(3&~t[ir]){const l=e.preOrderHooks;null!==l&&Yu(t,l,0,r)}else{const l=e.preOrderCheckHooks;null!==l&&ql(t,l,r)}rc(r)}var x=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(x||{});function U(e,t,r,o){const a=be(null);try{const[l,g,I]=e.inputs[r];let b=null;!!(g&x.SignalBased)&&(b=t[l][Ze]),null!==b&&void 0!==b.transformFn?o=b.transformFn(o):null!==I&&(o=I.call(t,o)),null!==e.setInput?e.setInput(t,b,o,r,l):Lo(t,b,l,o)}finally{be(a)}}function X(e,t,r,o,a){const l=Ps(),g=2&o;try{rc(-1),g&&t.length>Mn&&R(e,t,Mn,!1),pi(g?2:0,a),r(o,a)}finally{rc(l),pi(g?3:1,a)}}function se(e,t,r){(function rt(e,t,r){const o=r.directiveStart,a=r.directiveEnd;to(r)&&function i(e,t,r){const o=ei(t,e),a=function c(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(r),l=e[N].rendererFactory,g=p(e,n(e,a,null,s(r),o,t,null,l.createRenderer(o,r),null,null,null));e[t.index]=g}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||mu(r,t);const l=r.initialInputs;for(let g=o;g<a;g++){const I=e.data[g],b=ac(t,e,g,r);Ea(b,t),null!==l&&je(0,g-o,b,I,0,l),Jo(I)&&(fs(r.index,t)[oi]=ac(t,e,g,r))}})(e,t,r),!(64&~r.flags)&&function ke(e,t,r){const o=r.directiveStart,a=r.directiveEnd,l=r.index,g=function bc(){return br.lFrame.currentDirectiveIndex}();try{rc(l);for(let I=o;I<a;I++){const b=e.data[I],L=t[I];Ha(I),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&$e(b,L)}}finally{rc(-1),Ha(g)}}(e,t,r)}function xe(e,t,r=ei){const o=t.localNames;if(null!==o){let a=t.index+1;for(let l=0;l<o.length;l+=2){const g=o[l+1],I=-1===g?r(t,e):e[g];e[a++]=I}}}let un=()=>null;function xn(e,t,r,o,a,l,g,I){if(I||!wl(t,e,r,o,a)){if(3&t.type){const b=ei(t,r);o=function or(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=g?g(a,t.value||"",o):a,l.setProperty(b,o,a)}}else to(t)&&function Vr(e,t){const r=fs(t,e);16&r[ir]||(r[ir]|=64)}(r,t.index)}function $e(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function it(e,t){const r=e.directiveRegistry;let o=null;if(r)for(let a=0;a<r.length;a++){const l=r[a];cv(t,l.selectors,!1)&&(o??=[],Jo(l)?o.unshift(l):o.push(l))}return o}function ot(e,t,r,o,a,l){const g=ei(e,t);!function It(e,t,r,o,a,l,g){if(null==l)e.removeAttribute(t,a,r);else{const I=null==g?Pe(l):g(l,o||"",a);e.setAttribute(t,a,I,r)}}(t[$],g,l,e.value,r,o,a)}function je(e,t,r,o,a,l){const g=l[t];if(null!==g)for(let I=0;I<g.length;I+=2)U(o,r,g[I],g[I+1])}function Vd(e,t,r){return(null===e||Jo(e))&&(r=function dr(e){for(;Array.isArray(e);){if("object"==typeof e[pa])return e;e=e[Kr]}return null}(r[t.index])),r[$]}function wl(e,t,r,o,a){const l=e.inputs?.[o],g=e.hostDirectiveInputs?.[o];let I=!1;if(g)for(let b=0;b<g.length;b+=2){const L=g[b];U(t.data[L],r[L],g[b+1],a),I=!0}if(l)for(const b of l)U(t.data[b],r[b],o,a),I=!0;return I}function qh(e,t){const r=fs(t,e),o=r[Jt];!function Xm(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[Kr];null!==a&&null===r[Xo]&&(r[Xo]=null),pi(18),Kh(o,r,r[oi]),pi(19,r[oi])}function Kh(e,t,r){Hl(t);try{const o=e.viewQuery;null!==o&&z_(1,o,r);const a=e.template;null!==a&&X(e,t,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[Do]?.finishViewCreation(e),e.staticContentQueries&&YE(e,t),e.staticViewQueries&&z_(2,e.viewQuery,r);const l=e.components;null!==l&&function bw(e,t){for(let r=0;r<t.length;r++)qh(e,t[r])}(t,l)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[ir]&=-5,nc()}}function ns(e,t){return!t||null===t.firstChild||cl(e)}function Il(e,t){return undefined(e,t)}var Pu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Pu||{});function Mu(e){return!(32&~e.flags)}function Ud(e,t,r,o,a){if(null!=o){let l,g=!1;Ai(o)?l=o:Qi(o)&&(g=!0,o=o[Kr]);const I=gn(o);0===e&&null!==r?null==a?ww(t,r,I):Fd(t,r,I,a||null,!0):1===e&&null!==r?Fd(t,r,I,a||null,!0):2===e?function Ld(e,t,r){e.removeChild(null,t,r)}(t,I,g):3===e&&t.destroyNode(I),null!=l&&function hv(e,t,r,o,a){const l=r[7];l!==gn(r)&&Ud(t,e,o,l,a);for(let I=zi;I<r.length;I++){const b=r[I];Zh(b[Jt],b,e,t,o,l)}}(t,e,l,r,a)}}function Op(e,t){t[N].changeDetectionScheduler?.notify(9),Zh(e,t,t[$],2,null,null)}function Xh(e,t){const r=e[Ua],o=r.indexOf(t);r.splice(o,1)}function Tl(e,t){if(S(t))return;const r=t[$];r.destroyNode&&Zh(e,t,r,3,null,null),function Zm(e){let t=e[Ae];if(!t)return Fp(e[Jt],e);for(;t;){let r=null;if(Qi(t))r=t[Ae];else{const o=t[zi];o&&(r=o)}if(!r){for(;t&&!t[$o]&&t!==e;)Qi(t)&&Fp(t[Jt],t),t=t[fi];null===t&&(t=e),Qi(t)&&Fp(t[Jt],t),r=t&&t[$o]}t=r}}(t)}function Fp(e,t){if(S(t))return;const r=be(null);try{t[ir]&=-129,t[ir]|=256,t[24]&&Ne(t[24]),function Aw(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof va)){const l=r[o+1];if(Array.isArray(l))for(let g=0;g<l.length;g+=2){const I=a[l[g]],b=l[g+1];pi(4,I,b);try{b.call(I)}finally{pi(5,I,b)}}else{pi(4,a,l);try{l.call(a)}finally{pi(5,a,l)}}}}}(e,t),function lv(e,t){const r=e.cleanup,o=t[Zo];if(null!==r)for(let g=0;g<r.length-1;g+=2)if("string"==typeof r[g]){const I=r[g+3];I>=0?o[I]():o[-I].unsubscribe(),g+=2}else r[g].call(o[r[g+1]]);null!==o&&(t[Zo]=null);const a=t[21];if(null!==a){t[21]=null;for(let g=0;g<a.length;g++)(0,a[g])()}const l=t[23];if(null!==l){t[23]=null;for(const g of l)g.destroy()}}(e,t),1===t[Jt].type&&t[$].destroy();const o=t[Hi];if(null!==o&&Ai(t[fi])){o!==t[fi]&&Xh(o,t);const a=t[Do];null!==a&&a.detachView(e)}ll(t)}finally{be(r)}}function Lp(e,t,r){return function Jm(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[Kr];if(to(o)){const{encapsulation:a}=e.data[o.directiveStart+o.componentOffset];if(a===kc.None||a===kc.Emulated)return null}return ei(o,r)}(e,t.parent,r)}let Yh,dv=function ey(e,t,r){return 40&e.type?ei(e,r):null};function Bd(e,t,r,o){const a=Lp(e,o,t),l=t[$],I=function Vp(e,t,r){return dv(e,t,r)}(o.parent||t[qi],o,t);if(null!=a)if(Array.isArray(r))for(let b=0;b<r.length;b++)Iw(l,a,r[b],I,!1);else Iw(l,a,r,I,!1);void 0!==Yh&&Yh(l,o,t,r,a)}function rs(e,t){if(null!==t){const r=t.type;if(3&r)return ei(t,e);if(4&r)return jd(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return rs(e,o);{const a=e[t.index];return Ai(a)?jd(-1,a):gn(a)}}if(128&r)return rs(e,t.next);if(32&r)return Il(t,e)()||gn(e[t.index]);{const o=ea(e,t);return null!==o?Array.isArray(o)?o[0]:rs(oa(e[cr]),o):rs(e,t.next)}}return null}function ea(e,t){return null!==t?e[cr][qi].projection[t.projection]:null}function jd(e,t){const r=zi+e+1;if(r<t.length){const o=t[r],a=o[Jt].firstChild;if(null!==a)return rs(o,a)}return t[7]}function Bp(e,t,r,o,a,l,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const I=o[r.index],b=r.type;if(g&&0===t&&(I&&Ea(gn(I),o),r.flags|=2),!Mu(r))if(8&b)Bp(e,t,r.child,o,a,l,!1),Ud(t,e,a,I,l);else if(32&b){const L=Il(r,o);let H;for(;H=L();)Ud(t,e,a,H,l);Ud(t,e,a,I,l)}else 16&b?$d(e,t,o,r,a,l):Ud(t,e,a,I,l);r=g?r.projectionNext:r.next}}function Zh(e,t,r,o,a,l){Bp(r,o,e.firstChild,t,a,l,!1)}function $d(e,t,r,o,a,l){const g=r[cr],b=g[qi].projection[o.projection];if(Array.isArray(b))for(let L=0;L<b.length;L++)Ud(t,e,a,b[L],l);else{let L=b;const H=g[fi];cl(o)&&(L.flags|=128),Bp(e,t,L,H,a,l,!0)}}function ku(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const l=t[r.index];null!==l&&o.push(gn(l)),Ai(l)&&ty(l,o);const g=r.type;if(8&g)ku(e,t,r.child,o);else if(32&g){const I=Il(r,t);let b;for(;b=I();)o.push(b)}else if(16&g){const I=ea(t,r);if(Array.isArray(I))o.push(...I);else{const b=oa(t[cr]);ku(b[Jt],b,I,o,!0)}}r=a?r.projectionNext:r.next}return o}function ty(e,t){for(let r=zi;r<e.length;r++){const o=e[r],a=o[Jt].firstChild;null!==a&&ku(o[Jt],o,a,t)}e[7]!==e[Kr]&&t.push(e[7])}function pv(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let jp=[];const ny={...we,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{wc(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},bl={...we,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=oa(e.lView);for(;t&&!iy(t[Jt]);)t=oa(t);t&&Pa(t)},consumerOnSignalRead(){this.lView[24]=this}};function iy(e){return 2!==e.type}function ef(e){if(null===e[23])return;let t=!0;for(;t;){let r=!1;for(const o of e[23])o.dirty&&(r=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));t=r&&!!(8192&e[ir])}}function Nu(e,t=!0,r=0){const a=e[N].rendererFactory;a.begin?.();try{!function _v(e,t){const r=wg();try{Uc(!0),xu(e,t);let o=0;for(;uu(e);){if(100===o)throw new st(103,!1);o++,xu(e,1)}}finally{Uc(r)}}(e,r)}catch(g){throw t&&function Qm(e,t){const r=e[P],o=r?r.get(dc,null):null;o&&o.handleError(t)}(e,g),g}finally{a.end?.()}}function oy(e,t,r,o){if(S(t))return;const a=t[ir];Hl(t);let I=!0,b=null,L=null;iy(e)?(L=function gv(e){return e[24]??function mv(e){const t=jp.pop()??Object.create(ny);return t.lView=e,t}(e)}(t),b=Dt(L)):null===function ge(){return Q}()?(I=!1,L=function ry(e){const t=e[24]??Object.create(bl);return t.lView=e,t}(t),b=Dt(L)):t[24]&&(Ne(t[24]),t[24]=null);try{ja(t),function Cf(e){return br.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&X(e,t,r,2,o);const H=!(3&~a);if(H){const ue=e.preOrderCheckHooks;null!==ue&&ql(t,ue,null)}else{const ue=e.preOrderHooks;null!==ue&&Yu(t,ue,0,null),Zu(t,0)}if(function tf(e){for(let t=Zc(e);null!==t;t=jg(t)){if(!(2&t[ir]))continue;const r=t[Ua];for(let o=0;o<r.length;o++)Pa(r[o])}}(t),ef(t),Hd(t,0),null!==e.contentQueries&&YE(e,t),H){const ue=e.contentCheckHooks;null!==ue&&ql(t,ue)}else{const ue=e.contentHooks;null!==ue&&Yu(t,ue,1),Zu(t,1)}!function Rw(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)rc(~a);else{const l=a,g=r[++o],I=r[++o];Tg(g,l);const b=t[l];pi(24,b),I(2,b),pi(25,b)}}}finally{rc(-1)}}(e,t);const Y=e.components;null!==Y&&Ev(t,Y,0);const Te=e.viewQuery;if(null!==Te&&z_(2,Te,o),H){const ue=e.viewCheckHooks;null!==ue&&ql(t,ue)}else{const ue=e.viewHooks;null!==ue&&Yu(t,ue,2),Zu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const ue of t[22])ue();t[22]=null}pv(t),t[ir]&=-73}catch(H){throw wc(t),H}finally{null!==L&&(Rt(L,b),I&&function Jh(e){e.lView[24]!==e&&(e.lView=null,jp.push(e))}(L)),nc()}}function Hd(e,t){for(let r=Zc(e);null!==r;r=jg(r))for(let o=zi;o<r.length;o++)vv(r[o],t)}function Sw(e,t,r){pi(18);const o=fs(t,e);vv(o,r),pi(19,o[oi])}function vv(e,t){Qr(e)&&xu(e,t)}function xu(e,t){const o=e[Jt],a=e[ir],l=e[24];let g=!!(0===t&&16&a);if(g||=!!(64&a&&0===t),g||=!!(1024&a),g||=!(!l?.dirty||!St(l)),g||=!1,l&&(l.dirty=!1),e[ir]&=-9217,g)oy(o,e,o.template,e[oi]);else if(8192&a){ef(e),Hd(e,1);const I=o.components;null!==I&&Ev(e,I,1),pv(e)}}function Ev(e,t,r){for(let o=0;o<t.length;o++)Sw(e,t[o],r)}function Ou(e,t){const r=wg()?64:1088;for(e[N].changeDetectionScheduler?.notify(t);e;){e[ir]|=r;const o=oa(e);if(Vs(e)&&!o)return e;e=o}return null}function sy(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function zd(e,t){if(e.length<=zi)return;const r=zi+t,o=e[r];if(o){const a=o[Hi];null!==a&&a!==e&&Xh(a,o),t>0&&(e[r-1][$o]=o[$o]);const l=As(e,zi+t);!function Qh(e,t){Op(e,t),t[Kr]=null,t[qi]=null}(o[Jt],o);const g=l[Do];null!==g&&g.detachView(l[Jt]),o[fi]=null,o[$o]=null,o[ir]&=-129}return o}function Hp(e,t){const r=e[Ua],o=t[fi];(Qi(o)||t[cr]!==o[fi][cr])&&(e[ir]|=2),null===r?e[Ua]=[t]:r.push(t)}let Dl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const t=this._lView,r=t[Jt];return ku(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[oi]}set context(t){this._lView[oi]=t}get destroyed(){return S(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[fi];if(Ai(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(zd(t,o),As(r,o))}this._attachedToViewContainer=!1}Tl(this._lView[Jt],this._lView)}onDestroy(t){ec(this._lView,t)}markForCheck(){Ou(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ir]&=-129}reattach(){ih(this._lView),this._lView[ir]|=128}detectChanges(){this._lView[ir]|=1024,Nu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new st(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Vs(this._lView),r=this._lView[Hi];null!==r&&!t&&Xh(r,this._lView),Op(this._lView[Jt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new st(902,!1);this._appRef=t;const r=Vs(this._lView),o=this._lView[Hi];null!==o&&!r&&Hp(o,this._lView),ih(this._lView)}},nf=(()=>class e{static __NG_ELEMENT_ID__=ay})();const zp=nf,Iv=class extends zp{_declarationLView;_declarationTContainer;elementRef;constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=function xa(e,t,r,o){const a=be(null);try{const l=t.tView,b=n(e,l,r,4096&e[ir]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);b[Hi]=e[t.index];const H=e[Do];return null!==H&&(b[Do]=H.createEmbeddedView(l)),Kh(l,b,r),b}finally{be(a)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Dl(a)}};function ay(){return Fu($r(),At())}function Fu(e,t){return 4&e.type?new Iv(t,e,sl(e,t)):null}function Fc(e,t,r,o,a){let l=e.data[t];if(null===l)l=function dy(e,t,r,o,a){const l=bf(),g=Vl(),b=e.data[t]=function Fw(e,t,r,o,a,l){let g=t?t.injectorIndex:-1,I=0;return function Ma(){return null!==br.skipHydrationRootTNode}()&&(I|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?l:l&&l.parent,r,t,o,a);return function Sv(e,t,r,o){null===e.firstChild&&(e.firstChild=t),null!==r&&(o?null==r.child&&null!==t.parent&&(r.child=t):null===r.next&&(r.next=t,t.prev=r))}(e,b,l,g),b}(e,t,r,o,a),function Ig(){return br.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=r,l.value=o,l.attrs=a;const g=function aa(){const e=br.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===g?-1:g.injectorIndex}return Xs(l,!0),l}let IC=class{},WT=class{};class TC{resolveComponentFactory(t){throw Error(`No component factory found for ${Le(t)}.`)}}let Ey=class{static NULL=new TC};class Uw{}let bC=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function DC(){const e=At(),r=fs($r().index,e);return(Qi(r)?r:e)[$]}()})(),AC=(()=>{class e{static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>null})}return e})();function hf(e){return!!jo(e)}const jw={};class tg{injector;parentInjector;constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=as(o);const a=this.injector.get(t,jw,o);return a!==jw||r===jw?a:this.parentInjector.get(t,r,o)}}function $w(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,l=0;if(null!==t)for(let g=0;g<t.length;g++){const I=t[g];"number"==typeof I?l=I:1==l?a=Ar(a,I):2==l&&(o=Ar(o,I+": "+t[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}function ng(e,t=Ln.Default){const r=At();return null===r?ni(e,t):Vf($r(),r,_n(e),t)}function qT(){throw new Error("invalid")}function Hw(e,t,r,o,a){const l=null===o?null:{"":-1},g=a(e,r);if(null!==g){let I,b=null,L=null;const H=function MC(e){let t=null,r=!1;for(let g=0;g<e.length;g++){const I=e[g];if(0===g&&Jo(I)&&(t=I),null!==I.findHostDirectiveDefs){r=!0;break}}if(!r)return null;let o=null,a=null,l=null;for(const g of e)null!==g.findHostDirectiveDefs&&(o??=[],a??=new Map,l??=new Map,kC(g,o,l,a)),g===t&&(o??=[],o.push(g));return null!==o?(o.push(...null===t?e:e.slice(1)),[o,a,l]):null}(g);null===H?I=g:[I,b,L]=H,function xC(e,t,r,o,a,l,g){const I=o.length;let b=!1;for(let Te=0;Te<I;Te++){const ue=o[Te];!b&&Jo(ue)&&(b=!0,NC(e,r,Te)),yu(mu(r,t),e,ue.type)}!function BC(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,I);for(let Te=0;Te<I;Te++){const ue=o[Te];ue.providersResolver&&ue.providersResolver(ue)}let L=!1,H=!1,Y=u(e,t,I,null);I>0&&(r.directiveToIndex=new Map);for(let Te=0;Te<I;Te++){const ue=o[Te];if(r.mergedAttrs=Ac(r.mergedAttrs,ue.hostAttrs),FC(e,r,t,Y,ue),UC(Y,ue,a),null!==g&&g.has(ue)){const[Lt,dn]=g.get(ue);r.directiveToIndex.set(ue.type,[Y,Lt+r.directiveStart,dn+r.directiveStart])}else(null===l||!l.has(ue))&&r.directiveToIndex.set(ue.type,Y);null!==ue.contentQueries&&(r.flags|=4),(null!==ue.hostBindings||null!==ue.hostAttrs||0!==ue.hostVars)&&(r.flags|=64);const He=ue.type.prototype;!L&&(He.ngOnChanges||He.ngOnInit||He.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),L=!0),!H&&(He.ngOnChanges||He.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),H=!0),Y++}!function OC(e,t,r){for(let o=t.directiveStart;o<t.directiveEnd;o++){const a=e.data[o];if(null!==r&&r.has(a)){const l=r.get(a);QT(0,t,l,o),QT(1,t,l,o),YT(t,o,!0)}else KT(0,t,a,o),KT(1,t,a,o),YT(t,o,!1)}}(e,r,l)}(e,t,r,I,l,b,L)}null!==l&&null!==o&&function PC(e,t,r){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const l=r[t[a+1]];if(null==l)throw new st(-301,!1);o.push(t[a],l)}}(r,o,l)}function kC(e,t,r,o){const a=t.length;e.findHostDirectiveDefs(e,t,o),r.set(e,[a,t.length-1])}function NC(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function KT(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const l in a)if(a.hasOwnProperty(l)){let g;g=0===e?t.inputs??={}:t.outputs??={},g[l]??=[],g[l].push(o),XT(t,l)}}function QT(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const l in a)if(a.hasOwnProperty(l)){const g=a[l];let I;I=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},I[g]??=[],I[g].push(o,l),XT(t,g)}}function XT(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function YT(e,t,r){const{attrs:o,inputs:a,hostDirectiveInputs:l}=e;if(null===o||!r&&null===a||r&&null===l||zm(e))return e.initialInputs??=[],void e.initialInputs.push(null);let g=null,I=0;for(;I<o.length;){const b=o[I];if(0!==b)if(5!==b){if("number"==typeof b)break;if(!r&&a.hasOwnProperty(b)){const L=a[b];for(const H of L)if(H===t){g??=[],g.push(b,o[I+1]);break}}else if(r&&l.hasOwnProperty(b)){const L=l[b];for(let H=0;H<L.length;H+=2)if(L[H]===t){g??=[],g.push(L[H+1],o[I+1]);break}}I+=2}else I+=2;else I+=4}e.initialInputs??=[],e.initialInputs.push(g)}function FC(e,t,r,o,a){e.data[o]=a;const l=a.factory||(a.factory=Ds(a.type)),g=new va(l,Jo(a),ng);e.blueprint[o]=g,r[o]=g,function LC(e,t,r,o,a){const l=a.hostBindings;if(l){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const I=~t.index;(function VC(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(g)!=I&&g.push(I),g.push(r,o,l)}}(e,t,o,u(e,r,a.hostVars,Lr),a)}function UC(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;Jo(t)&&(r[""]=e)}}function ZT(e,t,r,o,a,l,g,I){const b=t.consts,H=Fc(t,e,2,o,lo(b,g));return l&&Hw(t,r,H,lo(b,I),a),H.mergedAttrs=Ac(H.mergedAttrs,H.attrs),null!==H.attrs&&$w(H,H.attrs,!1),null!==H.mergedAttrs&&$w(H,H.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,H),H}function JT(e,t){oc(e,t),Ja(t)&&e.queries.elementEnd(t)}class e0 extends Ey{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Er(t);return new Ty(r,this.ngModule)}}class Ty extends WT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function jC(e){return Object.keys(e).map(t=>{const[r,o,a]=e[t],l={propName:r,templateName:t,isSignal:!!(o&x.SignalBased)};return a&&(l.transform=a),l})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function $C(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function BT(e){return e.map(UT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!r}create(t,r,o,a){pi(22);const l=be(null);try{const g=this.componentDef,I=o?["ng-version","19.2.14"]:function jT(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let l=e[o];if("string"==typeof l)2===a?""!==l&&t.push(l,e[++o]):8===a&&r.push(l);else{if(!yc(a))break;a=l}o++}return r.length&&t.push(1,...r),t}(this.componentDef.selectors[0]),b=Gh(0,null,null,1,0,null,null,null,null,[I],null),L=function HC(e,t,r){let o=t instanceof ii?t:t?.injector;return o&&null!==e.getStandaloneInjector&&(o=e.getStandaloneInjector(o)||o),o?new tg(r,o):r}(g,a||this.ngModule,t),H=function zC(e){const t=e.get(Uw,null);if(null===t)throw new st(407,!1);return{rendererFactory:t,sanitizer:e.get(AC,null),changeDetectionScheduler:e.get(Es,null)}}(L),Y=H.rendererFactory.createRenderer(null,g),Te=o?function _t(e,t,r,o){const l=o.get(y_,!1)||r===kc.ShadowDom,g=e.selectRootElement(t,l);return function jt(e){un(e)}(g),g}(Y,o,g.encapsulation,L):function WC(e,t){const r=(e.selectors[0][0]||"div").toLowerCase();return qm(t,r,"svg"===r?Ba:"math"===r?"math":null)}(g,Y),ue=n(null,b,null,512|s(g),null,null,H,Y,L,null,null);ue[Mn]=Te,Hl(ue);let He=null;try{const Lt=ZT(Mn,b,ue,"#host",()=>[this.componentDef],!0,0);Te&&(Tw(Y,Te,Lt),Ea(Te,ue)),se(b,ue,Lt),$h(b,Lt,ue),JT(b,Lt),void 0!==r&&function qC(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const l=r[a];o.push(null!=l&&l.length?Array.from(l):null)}}(Lt,this.ngContentSelectors,r),He=fs(Lt.index,ue),ue[oi]=He[oi],Kh(b,ue,null)}catch(Lt){throw null!==He&&ll(He),ll(ue),Lt}finally{pi(23),nc()}return new GC(this.componentType,ue)}finally{be(l)}}}class GC extends IC{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,r){super(),this._rootLView=r,this._tNode=So(r[Jt],Mn),this.location=sl(this._tNode,r),this.instance=fs(this._tNode.index,r)[oi],this.hostView=this.changeDetectorRef=new Dl(r,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const a=this._rootLView;wl(o,a[Jt],a,t,r),this.previousInputValues.set(t,r),Ou(fs(o.index,a),1)}get injector(){return new Uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Yv=(()=>class e{static __NG_ELEMENT_ID__=KC})();function KC(){return r0($r(),At())}const QC=Yv,t0=class extends QC{_lContainer;_hostTNode;_hostLView;constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return sl(this._hostTNode,this._hostLView)}get injector(){return new Uo(this._hostTNode,this._hostLView)}get parentInjector(){const t=sc(this._hostTNode,this._hostLView);if(Cc(t)){const r=hu(t,this._hostLView),o=tl(t);return new Uo(r[Jt].data[o+8],r)}return new Uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=n0(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-zi}createEmbeddedView(t,r,o){let a,l;"number"==typeof o?a=o:null!=o&&(a=o.index,l=o.injector);const I=t.createEmbeddedViewImpl(r||{},l,null);return this.insertImpl(I,a,ns(this._hostTNode,null)),I}createComponent(t,r,o,a,l){const g=t&&!function Br(e){return"function"==typeof e}(t);let I;if(g)I=r;else{const He=r||{};I=He.index,o=He.injector,a=He.projectableNodes,l=He.environmentInjector||He.ngModuleRef}const b=g?t:new Ty(Er(t)),L=o||this.parentInjector;if(!l&&null==b.ngModule){const Lt=(g?L:this.parentInjector).get(ii,null);Lt&&(l=Lt)}Er(b.componentType??{});const ue=b.create(L,a,null,l);return this.insertImpl(ue.hostView,I,ns(this._hostTNode,null)),ue}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function Mr(e){return Ai(e[fi])}(a)){const I=this.indexOf(t);if(-1!==I)this.detach(I);else{const b=a[fi],L=new t0(b,b[qi],b[fi]);L.detach(L.indexOf(t))}}const l=this._adjustIndex(r),g=this._lContainer;return function ru(e,t,r,o=!0){const a=t[Jt];if(function wv(e,t,r,o){const a=zi+o,l=r.length;o>0&&(r[a-1][$o]=t),o<l-zi?(t[$o]=r[a],Jr(r,zi+o,t)):(r.push(t),t[$o]=null),t[fi]=r;const g=t[Hi];null!==g&&r!==g&&Hp(g,t);const I=t[Do];null!==I&&I.insertView(e),ih(t),t[ir]|=128}(a,t,e,r),o){const g=jd(r,e),I=t[$],b=I.parentNode(e[7]);null!==b&&function xp(e,t,r,o,a,l){o[Kr]=a,o[qi]=t,Zh(e,o,r,1,a,l)}(a,e[qi],I,t,b,g)}const l=t[Xo];null!==l&&null!==l.firstChild&&(l.firstChild=null)}(g,a,l,o),t.attachToViewContainerRef(),Jr(zw(g),l,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=n0(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=zd(this._lContainer,r);o&&(As(zw(this._lContainer),r),Tl(o[Jt],o))}detach(t){const r=this._adjustIndex(t,-1),o=zd(this._lContainer,r);return o&&null!=As(zw(this._lContainer),r)?new Dl(o):null}_adjustIndex(t,r=0){return t??this.length+r}};function n0(e){return e[8]}function zw(e){return e[8]||(e[8]=[])}function r0(e,t){let r;const o=t[e.index];return Ai(o)?r=o:(r=sy(o,t,null,e),t[e.index]=r,p(t,r)),o0(r,t,e,o),new t0(r,e,t)}let o0=function a0(e,t,r,o){if(e[7])return;let a;a=8&r.type?gn(o):function XC(e,t){const r=e[$],o=r.createComment(""),a=ei(t,e),l=r.parentNode(a);return Fd(r,l,o,r.nextSibling(a),!1),o}(t,r),e[7]=a},Ww=()=>!1;class Gw{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Gw(this.queryList)}setDirty(){this.queryList.setDirty()}}class qw{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let l=0;l<o;l++){const g=r.getByIndex(l);a.push(this.queries[g.indexInDeclarationView].clone())}return new qw(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==Zw(t,r).matches&&this.queries[r].setDirty()}}class c0{flags;read;predicate;constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function iS(e){return e.split(",").map(t=>t.trim())}(t):t}}class Kw{queries;constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,l=this.getByIndex(o).embeddedTView(t,a);l&&(l.indexInDeclarationView=o,null!==r?r.push(l):r=[l])}return null!==r?new Kw(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Qw{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,r=-1){this.metadata=t,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Qw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const l=o[a];this.matchTNodeWithReadOption(t,r,eS(r,l)),this.matchTNodeWithReadOption(t,r,qa(r,t,l,!1,!1))}else o===nf?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,qa(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===al||a===Yv||a===nf&&4&r.type)this.addMatch(r.index,-2);else{const l=qa(r,t,a,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function eS(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function nS(e,t,r,o){return-1===r?function tS(e,t){return 11&e.type?sl(e,t):4&e.type?Fu(e,t):null}(t,e):-2===r?function rS(e,t,r){return r===al?sl(t,e):r===nf?Fu(t,e):r===Yv?r0(t,e):void 0}(e,t,o):ac(e,e[Jt],r,t)}function u0(e,t,r,o){const a=t[Do].queries[o];if(null===a.matches){const l=e.data,g=r.matches,I=[];for(let b=0;null!==g&&b<g.length;b+=2){const L=g[b];I.push(L<0?null:nS(t,l[L],g[b+1],r.metadata.read))}a.matches=I}return a.matches}function Xw(e,t,r,o){const a=e.queries.getByIndex(r),l=a.matches;if(null!==l){const g=u0(e,t,a,r);for(let I=0;I<l.length;I+=2){const b=l[I];if(b>0)o.push(g[I/2]);else{const L=l[I+1],H=t[-b];for(let Y=zi;Y<H.length;Y++){const Te=H[Y];Te[Hi]===Te[fi]&&Xw(Te[Jt],Te,L,o)}if(null!==H[Ua]){const Y=H[Ua];for(let Te=0;Te<Y.length;Te++){const ue=Y[Te];Xw(ue[Jt],ue,L,o)}}}}}return o}function h0(e,t,r,o){const a=wr();if(a.firstCreatePass){const l=$r();(function f0(e,t,r){null===e.queries&&(e.queries=new Kw),e.queries.track(new Qw(t,r))})(a,new c0(t,r,o),l.index),function oS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return function l0(e,t,r){const o=new r_(!(4&~r));return function If(e,t,r,o){const a=Ic(t);a.push(r),e.firstCreatePass&&xl(e).push(o,a.length-1)}(e,t,o,o.destroy),(t[Do]??=new qw).queries.push(new Gw(o))-1}(a,At(),r)}function Zw(e,t){return e.queries.getByIndex(t)}function p0(e,t){const r=e[Jt],o=Zw(r,t);return o.crossesNgTemplate?Xw(r,e,t,[]):u0(r,e,o,t)}let ff=class{},D0=class{};function gS(e,t){return new tI(e,t??null,[])}class tI extends ff{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new e0(this);constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r;const l=jo(t);this._bootstrapComponents=nu(l.bootstrap),this._r3Injector=ed(t,r,[{provide:ff,useValue:this},{provide:Ey,useValue:this.componentFactoryResolver},...o],Le(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class nI extends D0{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new tI(this.moduleType,t,[])}}class A0 extends ff{injector;componentFactoryResolver=new e0(this);instance=null;constructor(t){super();const r=new yo([...t.providers,{provide:ff,useValue:this},{provide:Ey,useValue:this.componentFactoryResolver}],t.parent||bo(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rI(e,t,r=null){return new A0({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let yS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Wt(0,r.type),a=o.length>0?rI([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Oe({token:e,providedIn:"environment",factory:()=>new e(ni(ii))})}return e})();function C0(e){return Dr(()=>{const t=P0(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?a=>a.get(yS).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||kc.Emulated,styles:e.styles||vr,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&Ia("NgStandalone"),M0(r);const o=e.dependencies;return r.directiveDefs=Zv(o,!1),r.pipeDefs=Zv(o,!0),r.id=function TS(e){let t=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const l of o.join("|"))t=Math.imul(31,t)+l.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function _S(e){return Er(e)||q(e)}function vS(e){return null!==e}function iI(e){return Dr(()=>({type:e.type,bootstrap:e.bootstrap||vr,declarations:e.declarations||vr,imports:e.imports||vr,exports:e.exports||vr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ES(e,t){if(null==e)return Fr;const r={};for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];let l,g,I,b;Array.isArray(a)?(I=a[0],l=a[1],g=a[2]??l,b=a[3]||null):(l=a,g=a,I=x.None,b=null),r[l]=[o,I,b],t[l]=g}return r}function wS(e){if(null==e)return Fr;const t={};for(const r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function S0(e){return Dr(()=>{const t=P0(e);return M0(t),t})}function R0(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function P0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Fr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||vr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ES(e.inputs,t),outputs:wS(e.outputs),debugInfo:null}}function M0(e){e.features?.forEach(t=>t(e))}function Zv(e,t){if(!e)return null;const r=t?G:_S;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(vS)}function oI(e){let t=function k0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(Jo(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new st(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const g=e;g.inputs=sI(e.inputs),g.declaredInputs=sI(e.declaredInputs),g.outputs=sI(e.outputs);const I=a.hostBindings;I&&SS(e,I);const b=a.viewQuery,L=a.contentQueries;if(b&&AS(e,b),L&&CS(e,L),bS(e,a),Yi(e.outputs,a.outputs),Jo(a)&&a.data.animation){const H=e.data;H.animation=(H.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let g=0;g<l.length;g++){const I=l[g];I&&I.ngInherit&&I(e),I===oI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function DS(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Ac(a.hostAttrs,r=Ac(r,a.hostAttrs))}}(o)}function bS(e,t){for(const r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=t.inputs[r];void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=t.declaredInputs[r])}}function sI(e){return e===Fr?{}:e===vr?[]:e}function AS(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function CS(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,l)=>{t(o,a,l),r(o,a,l)}:t}function SS(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function Jv(e){return!!cI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function cI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function $u(e,t,r){return e[t]=r}function Dy(e,t){return e[t]}function Is(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function pf(e,t,r,o){const a=Is(e,t,r);return Is(e,t+1,o)||a}function Lc(e,t,r,o,a,l){const g=pf(e,t,r,o);return pf(e,t+2,a,l)||g}function Ay(e,t,r,o,a,l,g,I,b,L){const H=r+Mn,Y=t.firstCreatePass?function LS(e,t,r,o,a,l,g,I,b){const L=t.consts,H=Fc(t,e,4,g||null,I||null);Tf()&&Hw(t,r,H,lo(L,b),it),H.mergedAttrs=Ac(H.mergedAttrs,H.attrs),oc(t,H);const Y=H.tView=Gh(2,H,o,a,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,L,null);return null!==t.queries&&(t.queries.template(t,H),Y.queries=t.queries.embeddedTView(H)),H}(H,t,e,o,a,l,g,I,b):t.data[H];Xs(Y,!1);const Te=L0(t,e,Y,r);ic()&&Bd(t,e,Te,Y),Ea(Te,e);const ue=sy(Te,e,Te,Y);return e[H]=ue,p(e,ue),function s0(e,t,r){return Ww(e,t,r)}(ue,Y,e),vc(Y)&&se(t,e,Y),null!=b&&xe(e,Y,L),Y}function uI(e,t,r,o,a,l,g,I){const b=At(),L=wr();return Ay(b,L,e,t,r,o,a,lo(L.consts,l),g,I),uI}let L0=function V0(e,t,r,o){return Wa(!0),t[$].createComment("")};let hI=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Y0=new ve(""),Z0=new ve("");let mI,OR=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(r,o,a){this._ngZone=r,this.registry=o,hi()&&(this._destroyRef=En(Us,{optional:!0})??void 0),mI||(function FR(e){mI=e}(a),a.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const r=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),o=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{_o.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{r.unsubscribe(),o.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,a){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==l),r()},o)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:a})}whenStable(r,o,a){if(a&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,a),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,a){return[]}static \u0275fac=function(o){return new(o||e)(ni(_o),ni(J0),ni(Z0))};static \u0275prov=Oe({token:e,factory:e.\u0275fac})}return e})(),J0=(()=>{class e{_applications=new Map;registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return mI?.findTestabilityInTree(this,r,o)??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),eb=(()=>{class e{static \u0275prov=Oe({token:e,providedIn:"root",factory:()=>new LR})}return e})();class LR{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){const o=this.queues.get(t.zone);o.has(t)&&(o.delete(t),this.queuedEffectCount--)}enqueue(t){const r=t.zone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,r]of this.queues)null===t?this.flushQueue(r):t.run(()=>this.flushQueue(r))}flushQueue(t){for(const r of t)t.delete(r),this.queuedEffectCount--,r.run()}}function yI(e){return!!e&&"function"==typeof e.then}function tb(e){return!!e&&"function"==typeof e.subscribe}const nb=new ve("");function VR(e){return Re([{provide:nb,multi:!0,useValue:e}])}let rb=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o});appInits=En(nb,{optional:!0})??[];injector=En(vs);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const l=Fs(this.injector,a);if(yI(l))r.push(l);else if(tb(l)){const g=new Promise((I,b)=>{l.subscribe({complete:I,error:b})});r.push(g)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(a=>{this.reject(a)}),0===r.length&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Sy=new ve("");let _c=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=En(SE);afterRenderManager=En(Sh);zonelessEnabled=En(Kc);rootEffectScheduler=En(eb);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new fn.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=En(Qc).hasPendingTasks.pipe((0,on.T)(r=>!r));constructor(){En(ld,{optional:!0})}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:a=>{a&&o()}})}).finally(()=>{r.unsubscribe()})}_injector=En(ii);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,o){return this.bootstrapImpl(r,o)}bootstrapImpl(r,o,a=vs.NULL){pi(10);const l=r instanceof WT;if(!this._injector.get(rb).done)throw new st(405,"");let I;I=l?r:this._injector.get(Ey).resolveComponentFactory(r),this.componentTypes.push(I.componentType);const b=function UR(e){return e.isBoundToModule}(I)?void 0:this._injector.get(ff),H=I.create(a,[],o||I.selector,b),Y=H.location.nativeElement,Te=H.injector.get(Y0,null);return Te?.registerApplication(Y),H.onDestroy(()=>{this.detachView(H.hostView),iE(this.components,H),Te?.unregisterApplication(Y)}),this._loadComponent(H),pi(11,H),H}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){pi(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(sm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new st(101,!1);const r=be(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,be(r),this.afterTick.next(),pi(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Uw,null,{optional:!0}));let r=0;for(;0!==this.dirtyFlags&&r++<10;)pi(14),this.synchronizeOnce(),pi(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:a}of this.allViews)jR(o,a,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>uu(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;iE(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Sy,[]).forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>iE(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new st(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function jR(e,t,r,o){(r||uu(e))&&Nu(e,t,r&&!o?0:1)}function II(e,t,r,o){const a=At();return Is(a,Ys(),t)&&(wr(),ot(Ni(),a,e,t,r,o)),II}function ag(e,t,r,o){return Is(e,Ys(),r)?t+Pe(r)+o:Lr}function cg(e,t,r,o,a,l){const I=pf(e,function ya(){return br.lFrame.bindingIndex}(),r,a);return _a(2),I?t+Pe(r)+o+Pe(a)+l:Lr}function oE(e,t){return e<<17|t<<2}function mf(e){return e>>17&32767}function TI(e){return 2|e}function gg(e){return(131068&e)>>2}function bI(e,t){return-131069&e|t<<2}function DI(e){return 1|e}function Tb(e,t,r,o){const a=e[r+1],l=null===t;let g=o?mf(a):gg(a),I=!1;for(;0!==g&&(!1===I||l);){const L=e[g+1];CP(e[g],t)&&(I=!0,e[g+1]=o?DI(L):TI(L)),g=o?mf(L):gg(L)}I&&(e[r+1]=o?TI(a):DI(a))}function CP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Hs(e,t)>=0}const $s={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bb(e){return e.substring($s.key,$s.keyEnd)}function Db(e,t){const r=$s.textEnd;return r===t?-1:(t=$s.keyEnd=function MP(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,$s.key=t,r),mg(e,t,r))}function mg(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function AI(e,t,r){const o=At();return Is(o,Ys(),t)&&xn(wr(),Ni(),o,e,t,o[$],r,!1),AI}function CI(e,t,r,o,a){wl(t,e,r,a?"class":"style",o)}function SI(e,t,r){return su(e,t,r,!1),SI}function RI(e,t){return su(e,t,null,!0),RI}function Pb(e){au(BP,zu,e,!0)}function zu(e,t){for(let r=function RP(e){return function Cb(e){$s.key=0,$s.keyEnd=0,$s.value=0,$s.valueEnd=0,$s.textEnd=e.length}(e),Db(e,mg(e,0,$s.textEnd))}(t);r>=0;r=Db(t,r))To(e,bb(t),!0)}function su(e,t,r,o){const a=At(),l=wr(),g=_a(2);l.firstUpdatePass&&kb(l,e,g,o),t!==Lr&&Is(a,g,t)&&xb(l,l.data[Ps()],a,a[$],e,a[g+1]=function $P(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Le(tu(e)))),e}(t,r),o,g)}function au(e,t,r,o){const a=wr(),l=_a(2);a.firstUpdatePass&&kb(a,null,l,o);const g=At();if(r!==Lr&&Is(g,l,r)){const I=a.data[Ps()];if(Fb(I,o)&&!Mb(a,l)){let b=o?I.classesWithoutHost:I.stylesWithoutHost;null!==b&&(r=Ar(b,r||"")),CI(a,I,g,r,o)}else!function jP(e,t,r,o,a,l,g,I){a===Lr&&(a=vr);let b=0,L=0,H=0<a.length?a[0]:null,Y=0<l.length?l[0]:null;for(;null!==H||null!==Y;){const Te=b<a.length?a[b+1]:void 0,ue=L<l.length?l[L+1]:void 0;let Lt,He=null;H===Y?(b+=2,L+=2,Te!==ue&&(He=Y,Lt=ue)):null===Y||null!==H&&H<Y?(b+=2,He=H):(L+=2,He=Y,Lt=ue),null!==He&&xb(e,t,r,o,He,Lt,g,I),H=b<a.length?a[b]:null,Y=L<l.length?l[L]:null}}(a,I,g,g[$],g[l+1],g[l+1]=function UP(e,t,r){if(null==r||""===r)return vr;const o=[],a=tu(r);if(Array.isArray(a))for(let l=0;l<a.length;l++)e(o,a[l],!0);else if("object"==typeof a)for(const l in a)a.hasOwnProperty(l)&&e(o,l,a[l]);else"string"==typeof a&&t(o,a);return o}(e,t,r),o,l)}}function Mb(e,t){return t>=e.expandoStartIndex}function kb(e,t,r,o){const a=e.data;if(null===a[r+1]){const l=a[Ps()],g=Mb(e,r);Fb(l,o)&&null===t&&!g&&(t=!1),t=function OP(e,t,r,o){const a=du(e);let l=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=Py(r=PI(null,e,t,r,o),t.attrs,o),l=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==a)if(r=PI(a,e,t,r,o),null===l){let b=function FP(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==gg(o))return e[mf(o)]}(e,t,o);void 0!==b&&Array.isArray(b)&&(b=PI(null,e,t,b[1],o),b=Py(b,t.attrs,o),function LP(e,t,r,o){e[mf(r?t.classBindings:t.styleBindings)]=o}(e,t,o,b))}else l=function VP(e,t,r){let o;const a=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<a;l++)o=Py(o,e[l].hostAttrs,r);return Py(o,t.attrs,r)}(e,t,o)}return void 0!==l&&(o?t.residualClasses=l:t.residualStyles=l),r}(a,l,t,o),function DP(e,t,r,o,a,l){let g=l?t.classBindings:t.styleBindings,I=mf(g),b=gg(g);e[o]=r;let H,L=!1;if(Array.isArray(r)?(H=r[1],(null===H||Hs(r,H)>0)&&(L=!0)):H=r,a)if(0!==b){const Te=mf(e[I+1]);e[o+1]=oE(Te,I),0!==Te&&(e[Te+1]=bI(e[Te+1],o)),e[I+1]=function TP(e,t){return 131071&e|t<<17}(e[I+1],o)}else e[o+1]=oE(I,0),0!==I&&(e[I+1]=bI(e[I+1],o)),I=o;else e[o+1]=oE(b,0),0===I?I=o:e[b+1]=bI(e[b+1],o),b=o;L&&(e[o+1]=TI(e[o+1])),Tb(e,H,o,!0),Tb(e,H,o,!1),function AP(e,t,r,o,a){const l=a?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&Hs(l,t)>=0&&(r[o+1]=DI(r[o+1]))}(t,H,e,o,l),g=oE(I,b),l?t.classBindings=g:t.styleBindings=g}(a,l,t,r,g,o)}}function PI(e,t,r,o,a){let l=null;const g=r.directiveEnd;let I=r.directiveStylingLast;for(-1===I?I=r.directiveStart:I++;I<g&&(l=t[I],o=Py(o,l.hostAttrs,a),l!==e);)I++;return null!==e&&(r.directiveStylingLast=I),o}function Py(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let l=0;l<t.length;l++){const g=t[l];"number"==typeof g?a=g:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),To(e,g,!!r||t[++l]))}return void 0===e?null:e}function BP(e,t,r){const o=String(t);""!==o&&!o.includes(" ")&&To(e,o,r)}function xb(e,t,r,o,a,l,g,I){if(!(3&t.type))return;const b=e.data,L=b[I+1],H=function bP(e){return!(1&~e)}(L)?Ob(b,t,r,a,gg(L),g):void 0;sE(H)||(sE(l)||function IP(e){return!(2&~e)}(L)&&(l=Ob(b,null,r,a,I,g)),function fv(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let l=-1===o.indexOf("-")?void 0:Pu.DashCase;null==a?e.removeStyle(r,o,l):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),l|=Pu.Important),e.setStyle(r,o,a,l))}}(o,g,jr(Ps(),r),a,l))}function Ob(e,t,r,o,a,l){const g=null===t;let I;for(;a>0;){const b=e[a],L=Array.isArray(b),H=L?b[1]:b,Y=null===H;let Te=r[a+1];Te===Lr&&(Te=Y?vr:void 0);let ue=Y?ji(Te,o):H===o?Te:void 0;if(L&&!sE(ue)&&(ue=ji(b,o)),sE(ue)&&(I=ue,g))return I;const He=e[a+1];a=g?mf(He):gg(He)}if(null!==t){let b=l?t.residualClasses:t.residualStyles;null!=b&&(I=ji(b,o))}return I}function sE(e){return void 0!==e}function Fb(e,t){return!!(e.flags&(t?8:16))}function Lb(e,t,r){au(To,zu,ag(At(),e,t,r),!0)}function Vb(e,t,r,o,a){au(To,zu,cg(At(),e,t,r,o,a),!0)}function cE(e,t,r,o){const a=At(),l=wr(),g=Mn+e,I=a[$],b=l.firstCreatePass?ZT(g,l,a,t,it,Tf(),r,o):l.data[g],L=$b(l,a,b,I,t,e);a[g]=L;const H=vc(b);return Xs(b,!0),Tw(I,L,b),!Mu(b)&&ic()&&Bd(l,a,L,b),(0===function Hy(){return br.lFrame.elementDepthCount}()||H)&&Ea(L,a),function Eg(){br.lFrame.elementDepthCount++}(),H&&(se(l,a,b),$h(l,b,a)),null!==o&&xe(a,b),cE}function uE(){let e=$r();Vl()?Ul():(e=e.parent,Xs(e,!1));const t=e;(function qu(e){return br.skipHydrationRootTNode===e})(t)&&function Ku(){br.skipHydrationRootTNode=null}(),function oh(){br.lFrame.elementDepthCount--}();const r=wr();return r.firstCreatePass&&JT(r,t),null!=t.classesWithoutHost&&function el(e){return!!(8&e.flags)}(t)&&CI(r,t,At(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Nf(e){return!!(16&e.flags)}(t)&&CI(r,t,At(),t.stylesWithoutHost,!1),uE}function xI(e,t,r,o){return cE(e,t,r,o),uE(),xI}let $b=(e,t,r,o,a,l)=>(Wa(!0),qm(o,a,function Gl(){return br.lFrame.currentNamespace}()));function lE(e,t,r){const o=At(),a=wr(),l=e+Mn,g=a.firstCreatePass?function d1(e,t,r,o,a){const l=t.consts,g=lo(l,o),I=Fc(t,e,8,"ng-container",g);null!==g&&$w(I,g,!0);const b=lo(l,a);return Tf()&&Hw(t,r,I,b,it),I.mergedAttrs=Ac(I.mergedAttrs,I.attrs),null!==t.queries&&t.queries.elementStart(t,I),I}(l,a,o,t,r):a.data[l];Xs(g,!0);const I=zb(a,o,g,e);return o[l]=I,ic()&&Bd(a,o,I,g),Ea(I,o),vc(g)&&(se(a,o,g),$h(a,g,o)),null!=r&&xe(o,g),lE}function dE(){let e=$r();const t=wr();return Vl()?Ul():(e=e.parent,Xs(e,!1)),t.firstCreatePass&&(oc(t,e),Ja(e)&&t.queries.elementEnd(e)),dE}let zb=(e,t,r,o)=>(Wa(!0),Gm(t[$],""));function Wb(){return At()}function OI(e,t,r){const o=At();if(Is(o,Ys(),t)){const l=wr(),g=Ni();xn(l,g,o,e,t,Vd(du(l.data),g,o),r,!0)}return OI}const yf=void 0;var g1=["en",[["a","p"],["AM","PM"],yf],[["AM","PM"],yf,yf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yf,"{1} 'at' {0}",yf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function p1(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let yg={};function FI(e){const t=function m1(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=Kb(t);if(r)return r;const o=t.split("-")[0];if(r=Kb(o),r)return r;if("en"===o)return g1;throw new st(701,!1)}function qb(e){return FI(e)[_g.PluralCase]}function Kb(e){return e in yg||(yg[e]=An.ng&&An.ng.common&&An.ng.common.locales&&An.ng.common.locales[e]),yg[e]}var _g=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(_g||{});const hE="en-US";let Qb=hE;function fD(e,t,r){return function o(a){if(a===Function)return r;Ou(to(e)?fs(e.index,t):t,5);const g=t[oi];let I=pD(t,g,r,a),b=o.__ngNextListenerFn__;for(;b;)I=pD(t,g,b,a)&&I,b=b.__ngNextListenerFn__;return I}}function pD(e,t,r,o){const a=be(null);try{return pi(6,t,r),!1!==r(o)}catch(l){return function iM(e,t){const r=e[P],o=r?r.get(dc,null):null;o&&o.handleError(t)}(e,l),!1}finally{pi(7,t,r),be(a)}}function gD(e,t,r,o,a,l){const I=t[Jt],H=t[r][I.data[r].outputs[o]],Y=I.firstCreatePass?xl(I):null,Te=Ic(t),ue=H.subscribe(l),He=Te.length;Te.push(l,ue),Y&&Y.push(a,e.index,He,-(He+1))}function UI(e,t,r,o){const a=At(),l=wr(),g=$r();return BI(l,a,a[$],g,e,t,o),UI}function BI(e,t,r,o,a,l,g){const I=vc(o),L=e.firstCreatePass?xl(e):null,H=Ic(t);let Y=!0;if(3&o.type||g){const Te=ei(o,t),ue=g?g(Te):Te,He=H.length,Lt=g?yn=>g(gn(yn[o.index])):o.index;let dn=null;if(!g&&I&&(dn=function oM(e,t,r,o){const a=e.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const g=a[l];if(g===r&&a[l+1]===o){const I=t[Zo],b=a[l+2];return I.length>b?I[b]:null}"string"==typeof g&&(l+=2)}return null}(e,t,a,o.index)),null!==dn)(dn.__ngLastListenerFn__||dn).__ngNextListenerFn__=l,dn.__ngLastListenerFn__=l,Y=!1;else{!function wm(e,t,r,o){Fh(e,t,r,o)}(t,ue,a,l=fD(o,t,l));const yn=r.listen(ue,a,l);H.push(l,yn),L&&L.push(a,Lt,He,He+1)}}else l=fD(o,t,l);if(Y){const Te=o.outputs?.[a],ue=o.hostDirectiveOutputs?.[a];if(ue&&ue.length)for(let He=0;He<ue.length;He+=2)gD(o,t,ue[He],ue[He+1],a,l);if(Te&&Te.length)for(const He of Te)gD(o,t,He,a,a,l)}}function yD(e=1){return function jc(e){return(br.lFrame.contextLView=function wf(e,t){for(;e>0;)t=t[Sn],e--;return t}(e,br.lFrame.contextLView))[oi]}(e)}function CD(e,t,r,o){h0(e,t,r,o)}function SD(e){const t=At(),r=wr(),o=Qu();jl(o+1);const a=Zw(r,o);if(e.dirty&&function Gu(e){return!(4&~e[ir])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const l=p0(t,o);e.reset(l,hc),e.notifyOnChanges()}return!0}return!1}function RD(){return function Yw(e,t){return e[Do].queries[t].queryList}(At(),Qu())}function PD(e){return Ho(function Df(){return br.lFrame.contextLView}(),Mn+e)}function BD(e,t=""){const r=At(),o=wr(),a=e+Mn,l=o.firstCreatePass?Fc(o,a,1,t,null):o.data[a],g=jD(o,r,l,t,e);r[a]=g,ic()&&Bd(o,r,g,l),Xs(l,!1)}let jD=(e,t,r,o,a)=>(Wa(!0),function uv(e,t){return e.createText(t)}(t[$],o));function $I(e){return mE("",e,""),$I}function mE(e,t,r){const o=At(),a=ag(o,e,t,r);return a!==Lr&&kl(o,Ps(),a),mE}function HI(e,t,r,o,a){const l=At(),g=cg(l,e,t,r,o,a);return g!==Lr&&kl(l,Ps(),g),HI}function kl(e,t,r){const o=jr(t,e);!function Wm(e,t,r){e.setValue(t,r)}(e[$],o,r)}function zI(e,t,r){Kf(t)&&(t=t());const o=At();return Is(o,Ys(),t)&&xn(wr(),Ni(),o,e,t,o[$],r,!1),zI}function QD(e,t){const r=Kf(e);return r&&e.set(t),r}function WI(e,t){const r=At(),o=wr(),a=$r();return BI(o,r,r[$],a,e,t),WI}function GI(e,t,r,o,a){if(e=_n(e),Array.isArray(e))for(let l=0;l<e.length;l++)GI(e[l],t,r,o,a);else{const l=wr(),g=At(),I=$r();let b=Pi(e)?e:_n(e.provide);const L=Da(e),H=1048575&I.providerIndexes,Y=I.directiveStart,Te=I.providerIndexes>>20;if(Pi(e)||!e.multi){const ue=new va(L,a,ng),He=KI(b,t,a?H:H+Te,Y);-1===He?(yu(mu(I,g),l,b),qI(l,e,t.length),t.push(b),I.directiveStart++,I.directiveEnd++,a&&(I.providerIndexes+=1048576),r.push(ue),g.push(ue)):(r[He]=ue,g[He]=ue)}else{const ue=KI(b,t,H+Te,Y),He=KI(b,t,H,H+Te),dn=He>=0&&r[He];if(a&&!dn||!a&&!(ue>=0&&r[ue])){yu(mu(I,g),l,b);const yn=function MM(e,t,r,o,a){const l=new va(e,r,ng);return l.multi=[],l.index=t,l.componentProviders=0,ZD(l,a,o&&!r),l}(a?PM:RM,r.length,a,o,L);!a&&dn&&(r[He].providerFactory=yn),qI(l,e,t.length,0),t.push(b),I.directiveStart++,I.directiveEnd++,a&&(I.providerIndexes+=1048576),r.push(yn),g.push(yn)}else qI(l,e,ue>-1?ue:He,ZD(r[a?He:ue],L,!a&&o));!a&&o&&dn&&r[He].componentProviders++}}}function qI(e,t,r,o){const a=Pi(t),l=function ri(e){return!!e.useClass}(t);if(a||l){const b=(l?_n(t.useClass):t).prototype.ngOnDestroy;if(b){const L=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const H=L.indexOf(r);-1===H?L.push(r,[o,b]):L[H+1].push(o,b)}else L.push(r,b)}}}function ZD(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function KI(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function RM(e,t,r,o,a){return QI(this.multi,[])}function PM(e,t,r,o,a){const l=this.multi;let g;if(this.providerFactory){const I=this.providerFactory.componentProviders,b=ac(o,o[Jt],this.providerFactory.index,a);g=b.slice(0,I),QI(l,g);for(let L=I;L<b.length;L++)g.push(b[L])}else g=[],QI(l,g);return g}function QI(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function JD(e,t=[]){return r=>{r.providersResolver=(o,a)=>function SM(e,t,r){const o=wr();if(o.firstCreatePass){const a=Jo(e);GI(r,o.data,o.blueprint,a,!0),GI(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}function tA(e,t,r){const o=Rs()+e,a=At();return a[o]===Lr?$u(a,o,r?t.call(r):t()):Dy(a,o)}function nA(e,t,r,o){return function aA(e,t,r,o,a,l){const g=t+r;return Is(e,g,a)?$u(e,g+1,l?o.call(l,a):o(a)):Fy(e,g+1)}(At(),Rs(),e,t,r,o)}function rA(e,t,r,o,a){return cA(At(),Rs(),e,t,r,o,a)}function iA(e,t,r,o,a,l){return function uA(e,t,r,o,a,l,g,I){const b=t+r;return function eE(e,t,r,o,a){const l=pf(e,t,r,o);return Is(e,t+2,a)||l}(e,b,a,l,g)?$u(e,b+3,I?o.call(I,a,l,g):o(a,l,g)):Fy(e,b+3)}(At(),Rs(),e,t,r,o,a,l)}function oA(e,t,r,o,a,l,g){return function lA(e,t,r,o,a,l,g,I,b){const L=t+r;return Lc(e,L,a,l,g,I)?$u(e,L+4,b?o.call(b,a,l,g,I):o(a,l,g,I)):Fy(e,L+4)}(At(),Rs(),e,t,r,o,a,l,g)}function sA(e,t,r,o,a,l,g,I){const b=Rs()+e,L=At(),H=Lc(L,b,r,o,a,l);return Is(L,b+4,g)||H?$u(L,b+5,I?t.call(I,r,o,a,l,g):t(r,o,a,l,g)):Dy(L,b+5)}function Fy(e,t){const r=e[t];return r===Lr?void 0:r}function cA(e,t,r,o,a,l,g){const I=t+r;return pf(e,I,a,l)?$u(e,I+2,g?o.call(g,a,l):o(a,l)):Fy(e,I+2)}function hA(e,t){const r=wr();let o;const a=e+Mn;r.firstCreatePass?(o=function UM(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}}(t,r.pipeRegistry),r.data[a]=o,o.onDestroy&&(r.destroyHooks??=[]).push(a,o.onDestroy)):o=r.data[a];const l=o.factory||(o.factory=Ds(o.type)),I=yi(ng);try{const b=Xl(!1),L=l();return Xl(b),function ki(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,At(),a,L),L}finally{yi(I)}}function fA(e,t,r,o){const a=e+Mn,l=At(),g=Ho(l,a);return function Ly(e,t){return e[Jt].data[t].pure}(l,a)?cA(l,Rs(),t,g.transform,r,o,g):g.transform(r,o)}function pA(e,t){return Fu(e,t)}class kA{full;major;minor;patch;constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const yk=new kA("19.2.14");class _k{ngModuleFactory;componentFactories;constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let vk=(()=>{class e{compileModuleSync(r){return new nI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),l=nu(jo(r).declarations).reduce((g,I)=>{const b=Er(I);return b&&g.push(new Ty(b)),g},[]);return new _k(o,l)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ik=(()=>{class e{zone=En(_o);changeDetectionScheduler=En(Es);applicationRef=En(_c);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new _o({...tT(),scheduleInRootZone:r}),[{provide:_o,useFactory:e},{provide:eo,multi:!0,useFactory:()=>{const o=En(Ik,{optional:!0});return()=>o.initialize()}},{provide:eo,multi:!0,useFactory:()=>{const o=En(bk);return()=>{o.initialize()}}},!0===t?{provide:Bf,useValue:!0}:[],{provide:jf,useValue:r??_u}]}function tT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let bk=(()=>{class e{subscription=new fr.yU;initialized=!1;zone=En(_o);pendingTasks=En(Qc);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_o.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_o.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uy=(()=>{class e{appRef=En(_c);taskService=En(Qc);ngZone=En(_o);zonelessEnabled=En(Kc);tracing=En(ld,{optional:!0});disableScheduling=En(Bf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new fr.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(En(jf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vu||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let o=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,o=!0;break;case 12:this.appRef.dirtyFlags|=16,o=!0;break;case 11:o=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;const a=this.useMicrotaskScheduler?Cg:qy;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Oe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const rT=new ve("",{providedIn:"root",factory:()=>En(rT,Ln.Optional|Ln.SkipSelf)||function Dk(){return typeof $localize<"u"&&$localize.locale||hE}()}),Ak=new ve("",{providedIn:"root",factory:()=>"USD"}),EE=new ve(""),Mk=new ve("");function By(e){return!e.moduleRef}let rh=null;function Lk(){return!1}let HA=(()=>class e{static __NG_ELEMENT_ID__=Vk})();function Vk(e){return function Uk(e,t,r){if(to(e)&&!r){const o=fs(e.index,t);return new Dl(o,o)}return 175&e.type?new Dl(t[cr],t):null}($r(),At(),!(16&~e))}class qA{constructor(){}supports(t){return Jv(t)}create(t){return new zk(t)}}const Hk=(e,t)=>t;class zk{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||Hk}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,l=null;for(;r||o;){const g=!o||r&&r.currentIndex<QA(o,a,l)?r:o,I=QA(g,a,l),b=g.currentIndex;if(g===o)a--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)a++;else{l||(l=[]);const L=I-a,H=b-a;if(L!=H){for(let Te=0;Te<L;Te++){const ue=Te<l.length?l[Te]:l[Te]=0,He=ue+Te;H<=He&&He<L&&(l[Te]=ue+1)}l[g.previousIndex]=H-L}}I!==b&&t(g,I,b)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Jv(t))throw new st(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,l,g,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let I=0;I<this.length;I++)l=t[I],g=this._trackByFn(I,l),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,l,g,I)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,g,I),o=!0),r=r._next}else a=0,function OS(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,I=>{g=this._trackByFn(a,I),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,I,g,a)),Object.is(r.item,I)||this._addIdentityChange(r,I)):(r=this._mismatch(r,I,g,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,l,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,l,a)):t=this._addAfter(new Wk(r,o),l,a),t}_verifyReinsertion(t,r,o,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?t=this._reinsertAfter(l,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,l=t._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new KA),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Wk{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,r){this.item=t,this.trackById=r}}class Gk{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class KA{map=new Map;put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new Gk,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QA(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class XA{constructor(){}supports(t){return t instanceof Map||cI(t)}create(){return new qk}}class qk{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||cI(t)))throw new st(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const l=a._prev,g=a._next;return l&&(l._next=g),g&&(g._prev=l),a._next=null,a._prev=null,a}const o=new Kk(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class Kk{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function YA(){return new cT([new qA])}let cT=(()=>{class e{factories;static \u0275prov=Oe({token:e,providedIn:"root",factory:YA});constructor(r){this.factories=r}static create(r,o){if(null!=o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||YA()),deps:[[e,new mo,new Or]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(null!=o)return o;throw new st(901,!1)}}return e})();function ZA(){return new uT([new XA])}let uT=(()=>{class e{static \u0275prov=Oe({token:e,providedIn:"root",factory:ZA});factories;constructor(r){this.factories=r}static create(r,o){if(o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||ZA()),deps:[[e,new mo,new Or]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(o)return o;throw new st(901,!1)}}return e})();function Yk(e){pi(8);try{const{rootComponent:t,appProviders:r,platformProviders:o}=e,a=function Fk(e=[]){if(rh)return rh;const t=function BA(e=[],t){return vs.create({name:t,providers:[{provide:Oi,useValue:"platform"},{provide:EE,useValue:new Set([()=>rh=null])},...e]})}(e);return rh=t,function ib(){!function Ge(e){en=e}(()=>{throw new st(600,!1)})}(),function jA(e){const t=e.get(qg,null);Fs(e,()=>{t?.forEach(r=>r())})}(t),t}(o),l=[eT({}),{provide:Es,useExisting:Uy},...r||[]];return function LA(e){const t=By(e)?e.r3Injector:e.moduleRef.injector,r=t.get(_o);return r.run(()=>{By(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(dc,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:l=>{o.handleError(l)}})}),By(e)){const l=()=>t.destroy(),g=e.platformInjector.get(EE);g.add(l),t.onDestroy(()=>{a.unsubscribe(),g.delete(l)})}else{const l=()=>e.moduleRef.destroy(),g=e.platformInjector.get(EE);g.add(l),e.moduleRef.onDestroy(()=>{iE(e.allPlatformModules,e.moduleRef),a.unsubscribe(),g.delete(l)})}return function Nk(e,t,r){try{const o=r();return yI(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const l=t.get(rb);return l.runInitializers(),l.donePromise.then(()=>{if(function E1(e){"string"==typeof e&&(Qb=e.toLowerCase().replace(/_/g,"-"))}(t.get(rT,hE)||hE),!t.get(Mk,!0))return By(e)?t.get(_c):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(By(e)){const b=t.get(_c);return void 0!==e.rootComponent&&b.bootstrap(e.rootComponent),b}return function kk(e,t){const r=e.injector.get(_c);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new st(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new A0({providers:l,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:a,rootComponent:t})}catch(t){return Promise.reject(t)}finally{pi(9)}}function vN(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function cu(e){return function Hn(e){const t=be(null);try{return e()}finally{be(t)}}(e)}function $y(e,t){return function $n(e,t){const r=Object.create(wn);r.computation=e,void 0!==t&&(r.equal=t);const o=()=>{if(ft(r),qe(r),r.value===ut)throw r.error;return r.value};return o[Ze]=r,o}(e,t?.equal)}function BN(e){const t=Er(e);if(!t)return null;const r=new Ty(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1362:(Cn,ze,W)=>{"use strict";W.d(ze,{h1:()=>ge,uA:()=>Q});var D=W(467),F=W(6858);class Q{constructor(_e,we,qe){this.name=_e,this.instanceFactory=we,this.type=qe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}const w="[DEFAULT]";class Se{constructor(_e,we){this.name=_e,this.container=we,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const we=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(we)){const qe=new F.cY;if(this.instancesDeferred.set(we,qe),this.isInitialized(we)||this.shouldAutoInitialize())try{const Ct=this.getOrInitializeService({instanceIdentifier:we});Ct&&qe.resolve(Ct)}catch{}}return this.instancesDeferred.get(we).promise}getImmediate(_e){var we;const qe=this.normalizeInstanceIdentifier(_e?.identifier),Ct=null!==(we=_e?.optional)&&void 0!==we&&we;if(!this.isInitialized(qe)&&!this.shouldAutoInitialize()){if(Ct)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:qe})}catch(ft){if(Ct)return null;throw ft}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,this.shouldAutoInitialize()){if(function be(Ue){return"EAGER"===Ue.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:w})}catch{}for(const[we,qe]of this.instancesDeferred.entries()){const Ct=this.normalizeInstanceIdentifier(we);try{const ft=this.getOrInitializeService({instanceIdentifier:Ct});qe.resolve(ft)}catch{}}}}clearInstance(_e=w){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}delete(){var _e=this;return(0,D.A)(function*(){const we=Array.from(_e.instances.values());yield Promise.all([...we.filter(qe=>"INTERNAL"in qe).map(qe=>qe.INTERNAL.delete()),...we.filter(qe=>"_delete"in qe).map(qe=>qe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_e=w){return this.instances.has(_e)}getOptions(_e=w){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:we={}}=_e,qe=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(qe))throw Error(`${this.name}(${qe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ct=this.getOrInitializeService({instanceIdentifier:qe,options:we});for(const[ft,Ot]of this.instancesDeferred.entries())qe===this.normalizeInstanceIdentifier(ft)&&Ot.resolve(Ct);return Ct}onInit(_e,we){var qe;const Ct=this.normalizeInstanceIdentifier(we),ft=null!==(qe=this.onInitCallbacks.get(Ct))&&void 0!==qe?qe:new Set;ft.add(_e),this.onInitCallbacks.set(Ct,ft);const Ot=this.instances.get(Ct);return Ot&&_e(Ot,Ct),()=>{ft.delete(_e)}}invokeOnInitCallbacks(_e,we){const qe=this.onInitCallbacks.get(we);if(qe)for(const Ct of qe)try{Ct(_e,we)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:we={}}){let qe=this.instances.get(_e);if(!qe&&this.component&&(qe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ue=_e,Ue===w?void 0:Ue),options:we}),this.instances.set(_e,qe),this.instancesOptions.set(_e,we),this.invokeOnInitCallbacks(qe,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,qe)}catch{}var Ue;return qe||null}normalizeInstanceIdentifier(_e=w){return this.component?this.component.multipleInstances?_e:w:_e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const we=this.getProvider(_e.name);if(we.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);we.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const we=new Se(_e,this);return this.providers.set(_e,we),we}getProviders(){return Array.from(this.providers.values())}}},1397:(Cn,ze,W)=>{"use strict";W.d(ze,{Z:()=>ge});var D=W(6354),F=W(8750),Q=W(9974),w=W(5225),Se=W(4360),be=W(8071);function ge(Ue,_e,we=1/0){return(0,be.T)(_e)?ge((qe,Ct)=>(0,D.T)((ft,Ot)=>_e(qe,ft,Ct,Ot))((0,F.Tg)(Ue(qe,Ct))),we):("number"==typeof _e&&(we=_e),(0,Q.N)((qe,Ct)=>function Ze(Ue,_e,we,qe,Ct,ft,Ot,Bt){const Gt=[];let hn=0,Dt=0,Rt=!1;const St=()=>{Rt&&!Gt.length&&!hn&&_e.complete()},Ne=et=>hn<qe?ct(et):Gt.push(et),ct=et=>{ft&&_e.next(et),hn++;let Tt=!1;(0,F.Tg)(we(et,Dt++)).subscribe((0,Se._)(_e,Xt=>{Ct?.(Xt),ft?Ne(Xt):_e.next(Xt)},()=>{Tt=!0},void 0,()=>{if(Tt)try{for(hn--;Gt.length&&hn<qe;){const Xt=Gt.shift();Ot?(0,w.N)(_e,Ot,()=>ct(Xt)):ct(Xt)}St()}catch(Xt){_e.error(Xt)}}))};return Ue.subscribe((0,Se._)(_e,Ne,()=>{Rt=!0,St()})),()=>{Bt?.()}}(qe,Ct,Ue,we)))}},1413:(Cn,ze,W)=>{"use strict";W.d(ze,{B:()=>be});var D=W(1985),F=W(8359);const w=(0,W(1853).L)(Ue=>function(){Ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=W(7908),Ze=W(9786);let be=(()=>{class Ue extends D.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(we){const qe=new ge(this,this);return qe.operator=we,qe}_throwIfClosed(){if(this.closed)throw new w}next(we){(0,Ze.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const qe of this.currentObservers)qe.next(we)}})}error(we){(0,Ze.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=we;const{observers:qe}=this;for(;qe.length;)qe.shift().error(we)}})}complete(){(0,Ze.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:we}=this;for(;we.length;)we.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var we;return(null===(we=this.observers)||void 0===we?void 0:we.length)>0}_trySubscribe(we){return this._throwIfClosed(),super._trySubscribe(we)}_subscribe(we){return this._throwIfClosed(),this._checkFinalizedStatuses(we),this._innerSubscribe(we)}_innerSubscribe(we){const{hasError:qe,isStopped:Ct,observers:ft}=this;return qe||Ct?F.Kn:(this.currentObservers=null,ft.push(we),new F.yU(()=>{this.currentObservers=null,(0,Se.o)(ft,we)}))}_checkFinalizedStatuses(we){const{hasError:qe,thrownError:Ct,isStopped:ft}=this;qe?we.error(Ct):ft&&we.complete()}asObservable(){const we=new D.c;return we.source=this,we}}return Ue.create=(_e,we)=>new ge(_e,we),Ue})();class ge extends be{constructor(_e,we){super(),this.destination=_e,this.source=we}next(_e){var we,qe;null===(qe=null===(we=this.destination)||void 0===we?void 0:we.next)||void 0===qe||qe.call(we,_e)}error(_e){var we,qe;null===(qe=null===(we=this.destination)||void 0===we?void 0:we.error)||void 0===qe||qe.call(we,_e)}complete(){var _e,we;null===(we=null===(_e=this.destination)||void 0===_e?void 0:_e.complete)||void 0===we||we.call(_e)}_subscribe(_e){var we,qe;return null!==(qe=null===(we=this.source)||void 0===we?void 0:we.subscribe(_e))&&void 0!==qe?qe:F.Kn}}},1635:(Cn,ze,W)=>{"use strict";function w(Z,le){var de={};for(var pe in Z)Object.prototype.hasOwnProperty.call(Z,pe)&&le.indexOf(pe)<0&&(de[pe]=Z[pe]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var re=0;for(pe=Object.getOwnPropertySymbols(Z);re<pe.length;re++)le.indexOf(pe[re])<0&&Object.prototype.propertyIsEnumerable.call(Z,pe[re])&&(de[pe[re]]=Z[pe[re]])}return de}function qe(Z,le,de,pe){return new(de||(de=Promise))(function(he,Ke){function gt(nr){try{Yt(pe.next(nr))}catch(zt){Ke(zt)}}function rn(nr){try{Yt(pe.throw(nr))}catch(zt){Ke(zt)}}function Yt(nr){nr.done?he(nr.value):function re(he){return he instanceof de?he:new de(function(Ke){Ke(he)})}(nr.value).then(gt,rn)}Yt((pe=pe.apply(Z,le||[])).next())})}function St(Z){return this instanceof St?(this.v=Z,this):new St(Z)}function Ne(Z,le,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,pe=de.apply(Z,le||[]),he=[];return re=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),gt("next"),gt("throw"),gt("return",function Ke(Hn){return function(Kt){return Promise.resolve(Kt).then(Hn,zt)}}),re[Symbol.asyncIterator]=function(){return this},re;function gt(Hn,Kt){pe[Hn]&&(re[Hn]=function(Vn){return new Promise(function(tr,bn){he.push([Hn,Vn,tr,bn])>1||rn(Hn,Vn)})},Kt&&(re[Hn]=Kt(re[Hn])))}function rn(Hn,Kt){try{!function Yt(Hn){Hn.value instanceof St?Promise.resolve(Hn.value.v).then(nr,zt):Qn(he[0][2],Hn)}(pe[Hn](Kt))}catch(Vn){Qn(he[0][3],Vn)}}function nr(Hn){rn("next",Hn)}function zt(Hn){rn("throw",Hn)}function Qn(Hn,Kt){Hn(Kt),he.shift(),he.length&&rn(he[0][0],he[0][1])}}function et(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,le=Z[Symbol.asyncIterator];return le?le.call(Z):(Z=function Bt(Z){var le="function"==typeof Symbol&&Symbol.iterator,de=le&&Z[le],pe=0;if(de)return de.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&pe>=Z.length&&(Z=void 0),{value:Z&&Z[pe++],done:!Z}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),de={},pe("next"),pe("throw"),pe("return"),de[Symbol.asyncIterator]=function(){return this},de);function pe(he){de[he]=Z[he]&&function(Ke){return new Promise(function(gt,rn){!function re(he,Ke,gt,rn){Promise.resolve(rn).then(function(Yt){he({value:Yt,done:gt})},Ke)}(gt,rn,(Ke=Z[he](Ke)).done,Ke.value)})}}}W.d(ze,{AQ:()=>Ne,N3:()=>St,Tt:()=>w,sH:()=>qe,xN:()=>et}),"function"==typeof SuppressedError&&SuppressedError},1853:(Cn,ze,W)=>{"use strict";function D(F){const w=F(Se=>{Error.call(Se),Se.stack=(new Error).stack});return w.prototype=Object.create(Error.prototype),w.prototype.constructor=w,w}W.d(ze,{L:()=>D})},1985:(Cn,ze,W)=>{"use strict";W.d(ze,{c:()=>ge});var D=W(7707),F=W(8359),Q=W(3494),w=W(1203),Se=W(1026),Ze=W(8071),be=W(9786);let ge=(()=>{class qe{constructor(ft){ft&&(this._subscribe=ft)}lift(ft){const Ot=new qe;return Ot.source=this,Ot.operator=ft,Ot}subscribe(ft,Ot,Bt){const Gt=function we(qe){return qe&&qe instanceof D.vU||function _e(qe){return qe&&(0,Ze.T)(qe.next)&&(0,Ze.T)(qe.error)&&(0,Ze.T)(qe.complete)}(qe)&&(0,F.Uv)(qe)}(ft)?ft:new D.Ms(ft,Ot,Bt);return(0,be.Y)(()=>{const{operator:hn,source:Dt}=this;Gt.add(hn?hn.call(Gt,Dt):Dt?this._subscribe(Gt):this._trySubscribe(Gt))}),Gt}_trySubscribe(ft){try{return this._subscribe(ft)}catch(Ot){ft.error(Ot)}}forEach(ft,Ot){return new(Ot=Ue(Ot))((Bt,Gt)=>{const hn=new D.Ms({next:Dt=>{try{ft(Dt)}catch(Rt){Gt(Rt),hn.unsubscribe()}},error:Gt,complete:Bt});this.subscribe(hn)})}_subscribe(ft){var Ot;return null===(Ot=this.source)||void 0===Ot?void 0:Ot.subscribe(ft)}[Q.s](){return this}pipe(...ft){return(0,w.m)(ft)(this)}toPromise(ft){return new(ft=Ue(ft))((Ot,Bt)=>{let Gt;this.subscribe(hn=>Gt=hn,hn=>Bt(hn),()=>Ot(Gt))})}}return qe.create=Ct=>new qe(Ct),qe})();function Ue(qe){var Ct;return null!==(Ct=qe??Se.$.Promise)&&void 0!==Ct?Ct:Promise}},2107:(Cn,ze,W)=>{"use strict";W.d(ze,{wc:()=>ko,c7:()=>Oo,Xm:()=>Zr});var D=W(2967),F=W(1360),Q=W(7440),w=W(4125),Se=W(6335),Ze=W(2214),be=W(467),ge=W(7852),Ue=W(6858),_e=W(1362);const we="firebasestorage.googleapis.com";class Bt extends Ue.g{constructor(G,Ie,Re=0){super(hn(G),`Firebase Storage: ${Ie} (${hn(G)})`),this.status_=Re,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bt.prototype)}get status(){return this.status_}set status(G){this.status_=G}_codeEquals(G){return hn(G)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(G){this.customData.serverResponse=G,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Gt=function(q){return q.UNKNOWN="unknown",q.OBJECT_NOT_FOUND="object-not-found",q.BUCKET_NOT_FOUND="bucket-not-found",q.PROJECT_NOT_FOUND="project-not-found",q.QUOTA_EXCEEDED="quota-exceeded",q.UNAUTHENTICATED="unauthenticated",q.UNAUTHORIZED="unauthorized",q.UNAUTHORIZED_APP="unauthorized-app",q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",q.INVALID_CHECKSUM="invalid-checksum",q.CANCELED="canceled",q.INVALID_EVENT_NAME="invalid-event-name",q.INVALID_URL="invalid-url",q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",q.NO_DEFAULT_BUCKET="no-default-bucket",q.CANNOT_SLICE_BLOB="cannot-slice-blob",q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",q.NO_DOWNLOAD_URL="no-download-url",q.INVALID_ARGUMENT="invalid-argument",q.INVALID_ARGUMENT_COUNT="invalid-argument-count",q.APP_DELETED="app-deleted",q.INVALID_ROOT_OPERATION="invalid-root-operation",q.INVALID_FORMAT="invalid-format",q.INTERNAL_ERROR="internal-error",q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",q}(Gt||{});function hn(q){return"storage/"+q}function Xe(q){return new Bt(Gt.INVALID_ARGUMENT,q)}function en(){return new Bt(Gt.APP_DELETED,"The Firebase app was deleted.")}class le{constructor(G,Ie){this.bucket=G,this.path_=Ie}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const G=encodeURIComponent;return"/b/"+G(this.bucket)+"/o/"+G(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(G,Ie){let Re;try{Re=le.makeFromUrl(G,Ie)}catch{return new le(G,"")}if(""===Re.path)return Re;throw function dt(q){return new Bt(Gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+q+"'.")}(G)}static makeFromUrl(G,Ie){let Re=null;const nt="([A-Za-z0-9.\\-_]+)",Tn=new RegExp("^gs://"+nt+"(/(.*))?$","i");function pr(Mi){Mi.path_=decodeURIComponent(Mi.path)}const Ur=Ie.replace(/[.]/g,"\\."),vi=[{regex:Tn,indices:{bucket:1,path:3},postModify:function Mt(Mi){"/"===Mi.path.charAt(Mi.path.length-1)&&(Mi.path_=Mi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ur}/v[A-Za-z0-9_]+/b/${nt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:pr},{regex:new RegExp(`^https?://${Ie===we?"(?:storage.googleapis.com|storage.cloud.google.com)":Ie}/${nt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:pr}];for(let Mi=0;Mi<vi.length;Mi++){const bo=vi[Mi],ii=bo.regex.exec(G);if(ii){let Ko=ii[bo.indices.path];Ko||(Ko=""),Re=new le(ii[bo.indices.bucket],Ko),bo.postModify(Re);break}}if(null==Re)throw function vt(q){return new Bt(Gt.INVALID_URL,"Invalid URL '"+q+"'.")}(G);return Re}}class de{constructor(G){this.promise_=Promise.reject(G)}getPromise(){return this.promise_}cancel(G=!1){}}function zt(q,G,Ie,Re){if(Re<G)throw Xe(`Invalid value for '${q}'. Expected ${G} or greater.`);if(Re>Ie)throw Xe(`Invalid value for '${q}'. Expected ${Ie} or less.`)}var Kt=function(q){return q[q.NO_ERROR=0]="NO_ERROR",q[q.NETWORK_ERROR=1]="NETWORK_ERROR",q[q.ABORT=2]="ABORT",q}(Kt||{});class tr{constructor(G,Ie,Re,nt,Mt,Wt,Tn,pn,pr,Xn,Ur,Ii=!0,_i=!1){this.url_=G,this.method_=Ie,this.headers_=Re,this.body_=nt,this.successCodes_=Mt,this.additionalRetryCodes_=Wt,this.callback_=Tn,this.errorCallback_=pn,this.timeout_=pr,this.progressCallback_=Xn,this.connectionFactory_=Ur,this.retry=Ii,this.isUsingEmulator=_i,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($i,Pi)=>{this.resolve_=$i,this.reject_=Pi,this.start_()})}start_(){const Ie=(Re,nt)=>{const Mt=this.resolve_,Wt=this.reject_,Tn=nt.connection;if(nt.wasSuccessCode)try{const pn=this.callback_(Tn,Tn.getResponse());!function he(q){return void 0!==q}(pn)?Mt():Mt(pn)}catch(pn){Wt(pn)}else if(null!==Tn){const pn=function Dt(){return new Bt(Gt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();pn.serverResponse=Tn.getErrorText(),Wt(this.errorCallback_?this.errorCallback_(Tn,pn):pn)}else Wt(nt.canceled?this.appDelete_?en():function Xt(){return new Bt(Gt.CANCELED,"User canceled the upload/download.")}():function Tt(){return new Bt(Gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?Ie(0,new bn(!1,null,!0)):this.backoffId_=function pe(q,G,Ie){let Re=1,nt=null,Mt=null,Wt=!1,Tn=0;function pn(){return 2===Tn}let pr=!1;function Xn(...ri){pr||(pr=!0,G.apply(null,ri))}function Ur(ri){nt=setTimeout(()=>{nt=null,q(_i,pn())},ri)}function Ii(){Mt&&clearTimeout(Mt)}function _i(ri,...Oi){if(pr)return void Ii();if(ri)return Ii(),void Xn.call(null,ri,...Oi);if(pn()||Wt)return Ii(),void Xn.call(null,ri,...Oi);let vi;Re<64&&(Re*=2),1===Tn?(Tn=2,vi=0):vi=1e3*(Re+Math.random()),Ur(vi)}let $i=!1;function Pi(ri){$i||($i=!0,Ii(),!pr&&(null!==nt?(ri||(Tn=2),clearTimeout(nt),Ur(0)):ri||(Tn=1)))}return Ur(0),Mt=setTimeout(()=>{Wt=!0,Pi(!0)},Ie),Pi}((Re,nt)=>{if(nt)return void Re(!1,new bn(!1,null,!0));const Mt=this.connectionFactory_();this.pendingConnection_=Mt;const Wt=Tn=>{null!==this.progressCallback_&&this.progressCallback_(Tn.loaded,Tn.lengthComputable?Tn.total:-1)};null!==this.progressCallback_&&Mt.addUploadProgressListener(Wt),Mt.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Mt.removeUploadProgressListener(Wt),this.pendingConnection_=null;const Tn=Mt.getErrorCode()===Kt.NO_ERROR,pn=Mt.getStatus();if(!Tn||function Vn(q,G){const Ie=q>=500&&q<600,nt=-1!==[408,429].indexOf(q),Mt=-1!==G.indexOf(q);return Ie||nt||Mt}(pn,this.additionalRetryCodes_)&&this.retry){const Xn=Mt.getErrorCode()===Kt.ABORT;return void Re(!1,new bn(!1,null,Xn))}const pr=-1!==this.successCodes_.indexOf(pn);Re(!0,new bn(pr,Mt))})},Ie,this.timeout_)}getPromise(){return this.promise_}cancel(G){this.canceled_=!0,this.appDelete_=G||!1,null!==this.backoffId_&&function re(q){q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bn{constructor(G,Ie,Re){this.wasSuccessCode=G,this.connection=Ie,this.canceled=!!Re}}class rr{constructor(G,Ie){this._service=G,this._location=Ie instanceof le?Ie:le.makeFromUrl(Ie,G.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(G,Ie){return new rr(G,Ie)}get root(){const G=new le(this._location.bucket,"");return this._newRef(this._service,G)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function An(q){const G=q.lastIndexOf("/",q.length-2);return-1===G?q:q.slice(G+1)}(this._location.path)}get storage(){return this._service}get parent(){const G=function mi(q){if(0===q.length)return null;const G=q.lastIndexOf("/");return-1===G?"":q.slice(0,G)}(this._location.path);if(null===G)return null;const Ie=new le(this._location.bucket,G);return new rr(this._service,Ie)}_throwIfRoot(G){if(""===this._location.path)throw function Pt(q){return new Bt(Gt.INVALID_ROOT_OPERATION,"The operation '"+q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(G)}}function yr(q,G){const Ie=G?.storageBucket;return null==Ie?null:le.makeFromBucketSpec(Ie,q)}class _r{constructor(G,Ie,Re,nt,Mt,Wt=!1){this.app=G,this._authProvider=Ie,this._appCheckProvider=Re,this._url=nt,this._firebaseVersion=Mt,this._isUsingEmulator=Wt,this._bucket=null,this._host=we,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=nt?le.makeFromBucketSpec(nt,this._host):yr(this._host,this.app.options)}get host(){return this._host}set host(G){this._host=G,this._bucket=null!=this._url?le.makeFromBucketSpec(this._url,G):yr(G,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(G){zt("time",0,Number.POSITIVE_INFINITY,G),this._maxUploadRetryTime=G}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(G){zt("time",0,Number.POSITIVE_INFINITY,G),this._maxOperationRetryTime=G}_getAuthToken(){var G=this;return(0,be.A)(function*(){if(G._overrideAuthToken)return G._overrideAuthToken;const Ie=G._authProvider.getImmediate({optional:!0});if(Ie){const Re=yield Ie.getToken();if(null!==Re)return Re.accessToken}return null})()}_getAppCheckToken(){var G=this;return(0,be.A)(function*(){if((0,ge.xZ)(G.app)&&G.app.settings.appCheckToken)return G.app.settings.appCheckToken;const Ie=G._appCheckProvider.getImmediate({optional:!0});return Ie?(yield Ie.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(G=>G.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(G){return new rr(this,G)}_makeRequest(G,Ie,Re,nt,Mt=!0){if(this._deleted)return new de(en());{const Wt=function fr(q,G,Ie,Re,nt,Mt,Wt=!0,Tn=!1){const pn=function Hn(q){const G=encodeURIComponent;let Ie="?";for(const Re in q)q.hasOwnProperty(Re)&&(Ie=Ie+(G(Re)+"=")+G(q[Re])+"&");return Ie=Ie.slice(0,-1),Ie}(q.urlParams),pr=q.url+pn,Xn=Object.assign({},q.headers);return function Si(q,G){G&&(q["X-Firebase-GMPID"]=G)}(Xn,G),function kr(q,G){null!==G&&G.length>0&&(q.Authorization="Firebase "+G)}(Xn,Ie),function Pr(q,G){q["X-Firebase-Storage-Version"]="webjs/"+(G??"AppManager")}(Xn,Mt),function fn(q,G){null!==G&&(q["X-Firebase-AppCheck"]=G)}(Xn,Re),new tr(pr,q.method,Xn,q.body,q.successCodes,q.additionalRetryCodes,q.handler,q.errorHandler,q.timeout,q.progressCallback,nt,Wt,Tn)}(G,this._appId,Re,nt,Ie,this._firebaseVersion,Mt,this._isUsingEmulator);return this._requests.add(Wt),Wt.getPromise().then(()=>this._requests.delete(Wt),()=>this._requests.delete(Wt)),Wt}}makeRequestWithTokens(G,Ie){var Re=this;return(0,be.A)(function*(){const[nt,Mt]=yield Promise.all([Re._getAuthToken(),Re._getAppCheckToken()]);return Re._makeRequest(G,Ie,nt,Mt).getPromise()})()}}const Gi="@firebase/storage",yi="0.13.12",wo="storage";function ss(q=(0,ge.Sx)(),G){q=(0,Ue.Ku)(q);const Re=(0,ge.j6)(q,wo).getImmediate({identifier:G}),nt=(0,Ue.yU)("storage");return nt&&function En(q,G,Ie,Re={}){!function Ln(q,G,Ie,Re={}){q.host=`${G}:${Ie}`;const nt=(0,Ue.zJ)(G);nt&&((0,Ue.gE)(`https://${q.host}`),(0,Ue.P1)("Storage",!0)),q._isUsingEmulator=!0,q._protocol=nt?"https":"http";const{mockUserToken:Mt}=Re;Mt&&(q._overrideAuthToken="string"==typeof Mt?Mt:(0,Ue.Fy)(Mt,q.app.options.projectId))}(q,G,Ie,Re)}(Re,...nt),Re}function Mo(q,{instanceIdentifier:G}){const Ie=q.getProvider("app").getImmediate(),Re=q.getProvider("auth-internal"),nt=q.getProvider("app-check-internal");return new _r(Ie,Re,nt,G,ge.MF)}!function Yo(){(0,ge.om)(new _e.uA(wo,Mo,"PUBLIC").setMultipleInstances(!0)),(0,ge.KO)(Gi,yi,""),(0,ge.KO)(Gi,yi,"esm2017")}();class ko{constructor(G){return G}}const bs="storage",Go=new F.nKC("angularfire2.storage-instances");function qo(q){return(G,Ie)=>{const Re=G.runOutsideAngular(()=>q(Ie));return new ko(Re)}}const Ds={provide:class cs{constructor(){return(0,D.CA)(bs)}},deps:[[new F.Xx1,Go]]},qr={provide:ko,useFactory:function mo(q,G){const Ie=(0,D.lR)(bs,q,G);return Ie&&new ko(Ie)},deps:[[new F.Xx1,Go],Q.XU]};function Zr(q,...G){return(0,Ze.KO)("angularfire",D.xv.full,"gcs"),(0,F.EmA)([qr,Ds,{provide:Go,useFactory:qo(q),multi:!0,deps:[F.SKi,F.zZn,D.u0,Q.gL,[new F.Xx1,Se.DF],[new F.Xx1,w.kR],...G]}])}const Oo=(0,D.S3)(ss,!0)},2214:(Cn,ze,W)=>{"use strict";W.d(ze,{Dk:()=>D.Dk,KO:()=>D.KO,Sx:()=>D.Sx,Wp:()=>D.Wp});var D=W(7852);(0,D.KO)("firebase","11.8.1","app")},2881:(Cn,ze,W)=>{"use strict";W.d(ze,{MD:()=>io,Sq:()=>Bi,YU:()=>_n,bT:()=>me,fw:()=>Q,vh:()=>ve});var D=W(1360),F=W(6048);let Q=(()=>{class j extends F.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(K,te){super(),this._platformLocation=K,null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(K){this._removeListenerFns.push(this._platformLocation.onPopState(K),this._platformLocation.onHashChange(K))}getBaseHref(){return this._baseHref}path(K=!1){const te=this._platformLocation.hash??"#";return te.length>0?te.substring(1):te}prepareExternalUrl(K){const te=(0,F.om)(this._baseHref,K);return te.length>0?"#"+te:te}pushState(K,te,Pe,wt){const sn=this.prepareExternalUrl(Pe+(0,F.Q)(wt))||this._platformLocation.pathname;this._platformLocation.pushState(K,te,sn)}replaceState(K,te,Pe,wt){const sn=this.prepareExternalUrl(Pe+(0,F.Q)(wt))||this._platformLocation.pathname;this._platformLocation.replaceState(K,te,sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(K=0){this._platformLocation.historyGo?.(K)}static \u0275fac=function(te){return new(te||j)(D.KVO(F.Vw),D.KVO(F.kB,8))};static \u0275prov=D.jDH({token:j,factory:j.\u0275fac})}return j})();var be=function(j){return j[j.Format=0]="Format",j[j.Standalone=1]="Standalone",j}(be||{}),ge=function(j){return j[j.Narrow=0]="Narrow",j[j.Abbreviated=1]="Abbreviated",j[j.Wide=2]="Wide",j[j.Short=3]="Short",j}(ge||{}),Ue=function(j){return j[j.Short=0]="Short",j[j.Medium=1]="Medium",j[j.Long=2]="Long",j[j.Full=3]="Full",j}(Ue||{});function Dt(j,fe){return wn((0,D.H5H)(j)[D.KH2.DateFormat],fe)}function Rt(j,fe){return wn((0,D.H5H)(j)[D.KH2.TimeFormat],fe)}function St(j,fe){return wn((0,D.H5H)(j)[D.KH2.DateTimeFormat],fe)}function Ne(j,fe){const K=(0,D.H5H)(j),te=K[D.KH2.NumberSymbols][fe];if(typeof te>"u"){if(12===fe)return K[D.KH2.NumberSymbols][0];if(13===fe)return K[D.KH2.NumberSymbols][1]}return te}function $n(j){if(!j[D.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${j[D.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wn(j,fe){for(let K=fe;K>-1;K--)if(typeof j[K]<"u")return j[K];throw new Error("Locale data API: locale data undefined")}function Xe(j){const[fe,K]=j.split(":");return{hours:+fe,minutes:+K}}const Z=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,le={},de=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function pe(j,fe,K,te){let Pe=function Nr(j){if(Ir(j))return j;if("number"==typeof j&&!isNaN(j))return new Date(j);if("string"==typeof j){if(j=j.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(j)){const[Pe,wt=1,sn=1]=j.split("-").map(On=>+On);return re(Pe,wt-1,sn)}const K=parseFloat(j);if(!isNaN(j-K))return new Date(K);let te;if(te=j.match(Z))return function st(j){const fe=new Date(0);let K=0,te=0;const Pe=j[8]?fe.setUTCFullYear:fe.setFullYear,wt=j[8]?fe.setUTCHours:fe.setHours;j[9]&&(K=Number(j[9]+j[10]),te=Number(j[9]+j[11])),Pe.call(fe,Number(j[1]),Number(j[2])-1,Number(j[3]));const sn=Number(j[4]||0)-K,On=Number(j[5]||0)-te,ci=Number(j[6]||0),Xr=Math.floor(1e3*parseFloat("0."+(j[7]||0)));return wt.call(fe,sn,On,ci,Xr),fe}(te)}const fe=new Date(j);if(!Ir(fe))throw new Error(`Unable to convert "${j}" into a date`);return fe}(j);fe=he(K,fe)||fe;let On,sn=[];for(;fe;){if(On=de.exec(fe),!On){sn.push(fe);break}{sn=sn.concat(On.slice(1));const Yr=sn.pop();if(!Yr)break;fe=Yr}}let ci=Pe.getTimezoneOffset();te&&(ci=fr(te,ci),Pe=function Xi(j,fe){const Pe=j.getTimezoneOffset();return function on(j,fe){return(j=new Date(j.getTime())).setMinutes(j.getMinutes()+fe),j}(j,-1*(fr(fe,Pe)-Pe))}(Pe,te));let Xr="";return sn.forEach(Yr=>{const yr=function fn(j){if(Si[j])return Si[j];let fe;switch(j){case"G":case"GG":case"GGG":fe=zt(3,ge.Abbreviated);break;case"GGGG":fe=zt(3,ge.Wide);break;case"GGGGG":fe=zt(3,ge.Narrow);break;case"y":fe=Yt(0,1,0,!1,!0);break;case"yy":fe=Yt(0,2,0,!0,!0);break;case"yyy":fe=Yt(0,3,0,!1,!0);break;case"yyyy":fe=Yt(0,4,0,!1,!0);break;case"Y":fe=Pr(1);break;case"YY":fe=Pr(2,!0);break;case"YYY":fe=Pr(3);break;case"YYYY":fe=Pr(4);break;case"M":case"L":fe=Yt(1,1,1);break;case"MM":case"LL":fe=Yt(1,2,1);break;case"MMM":fe=zt(2,ge.Abbreviated);break;case"MMMM":fe=zt(2,ge.Wide);break;case"MMMMM":fe=zt(2,ge.Narrow);break;case"LLL":fe=zt(2,ge.Abbreviated,be.Standalone);break;case"LLLL":fe=zt(2,ge.Wide,be.Standalone);break;case"LLLLL":fe=zt(2,ge.Narrow,be.Standalone);break;case"w":fe=kr(1);break;case"ww":fe=kr(2);break;case"W":fe=kr(1,!0);break;case"d":fe=Yt(2,1);break;case"dd":fe=Yt(2,2);break;case"c":case"cc":fe=Yt(7,1);break;case"ccc":fe=zt(1,ge.Abbreviated,be.Standalone);break;case"cccc":fe=zt(1,ge.Wide,be.Standalone);break;case"ccccc":fe=zt(1,ge.Narrow,be.Standalone);break;case"cccccc":fe=zt(1,ge.Short,be.Standalone);break;case"E":case"EE":case"EEE":fe=zt(1,ge.Abbreviated);break;case"EEEE":fe=zt(1,ge.Wide);break;case"EEEEE":fe=zt(1,ge.Narrow);break;case"EEEEEE":fe=zt(1,ge.Short);break;case"a":case"aa":case"aaa":fe=zt(0,ge.Abbreviated);break;case"aaaa":fe=zt(0,ge.Wide);break;case"aaaaa":fe=zt(0,ge.Narrow);break;case"b":case"bb":case"bbb":fe=zt(0,ge.Abbreviated,be.Standalone,!0);break;case"bbbb":fe=zt(0,ge.Wide,be.Standalone,!0);break;case"bbbbb":fe=zt(0,ge.Narrow,be.Standalone,!0);break;case"B":case"BB":case"BBB":fe=zt(0,ge.Abbreviated,be.Format,!0);break;case"BBBB":fe=zt(0,ge.Wide,be.Format,!0);break;case"BBBBB":fe=zt(0,ge.Narrow,be.Format,!0);break;case"h":fe=Yt(3,1,-12);break;case"hh":fe=Yt(3,2,-12);break;case"H":fe=Yt(3,1);break;case"HH":fe=Yt(3,2);break;case"m":fe=Yt(4,1);break;case"mm":fe=Yt(4,2);break;case"s":fe=Yt(5,1);break;case"ss":fe=Yt(5,2);break;case"S":fe=Yt(6,1);break;case"SS":fe=Yt(6,2);break;case"SSS":fe=Yt(6,3);break;case"Z":case"ZZ":case"ZZZ":fe=Hn(0);break;case"ZZZZZ":fe=Hn(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":fe=Hn(1);break;case"OOOO":case"ZZZZ":case"zzzz":fe=Hn(2);break;default:return null}return Si[j]=fe,fe}(Yr);Xr+=yr?yr(Pe,K,ci):"''"===Yr?"'":Yr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Xr}function re(j,fe,K){const te=new Date(0);return te.setFullYear(j,fe,K),te.setHours(0,0,0),te}function he(j,fe){const K=function qe(j){return(0,D.H5H)(j)[D.KH2.LocaleId]}(j);if(le[K]??={},le[K][fe])return le[K][fe];let te="";switch(fe){case"shortDate":te=Dt(j,Ue.Short);break;case"mediumDate":te=Dt(j,Ue.Medium);break;case"longDate":te=Dt(j,Ue.Long);break;case"fullDate":te=Dt(j,Ue.Full);break;case"shortTime":te=Rt(j,Ue.Short);break;case"mediumTime":te=Rt(j,Ue.Medium);break;case"longTime":te=Rt(j,Ue.Long);break;case"fullTime":te=Rt(j,Ue.Full);break;case"short":const Pe=he(j,"shortTime"),wt=he(j,"shortDate");te=Ke(St(j,Ue.Short),[Pe,wt]);break;case"medium":const sn=he(j,"mediumTime"),On=he(j,"mediumDate");te=Ke(St(j,Ue.Medium),[sn,On]);break;case"long":const ci=he(j,"longTime"),Xr=he(j,"longDate");te=Ke(St(j,Ue.Long),[ci,Xr]);break;case"full":const Yr=he(j,"fullTime"),yr=he(j,"fullDate");te=Ke(St(j,Ue.Full),[Yr,yr])}return te&&(le[K][fe]=te),te}function Ke(j,fe){return fe&&(j=j.replace(/\{([^}]+)}/g,function(K,te){return null!=fe&&te in fe?fe[te]:K})),j}function gt(j,fe,K="-",te,Pe){let wt="";(j<0||Pe&&j<=0)&&(Pe?j=1-j:(j=-j,wt=K));let sn=String(j);for(;sn.length<fe;)sn="0"+sn;return te&&(sn=sn.slice(sn.length-fe)),wt+sn}function Yt(j,fe,K=0,te=!1,Pe=!1){return function(wt,sn){let On=function nr(j,fe){switch(j){case 0:return fe.getFullYear();case 1:return fe.getMonth();case 2:return fe.getDate();case 3:return fe.getHours();case 4:return fe.getMinutes();case 5:return fe.getSeconds();case 6:return fe.getMilliseconds();case 7:return fe.getDay();default:throw new Error(`Unknown DateType value "${j}".`)}}(j,wt);if((K>0||On>-K)&&(On+=K),3===j)0===On&&-12===K&&(On=12);else if(6===j)return function rn(j,fe){return gt(j,3).substring(0,fe)}(On,fe);const ci=Ne(sn,5);return gt(On,fe,ci,te,Pe)}}function zt(j,fe,K=be.Format,te=!1){return function(Pe,wt){return function Qn(j,fe,K,te,Pe,wt){switch(K){case 2:return function Ot(j,fe,K){const te=(0,D.H5H)(j),wt=wn([te[D.KH2.MonthsFormat],te[D.KH2.MonthsStandalone]],fe);return wn(wt,K)}(fe,Pe,te)[j.getMonth()];case 1:return function ft(j,fe,K){const te=(0,D.H5H)(j),wt=wn([te[D.KH2.DaysFormat],te[D.KH2.DaysStandalone]],fe);return wn(wt,K)}(fe,Pe,te)[j.getDay()];case 0:const sn=j.getHours(),On=j.getMinutes();if(wt){const Xr=function kn(j){const fe=(0,D.H5H)(j);return $n(fe),(fe[D.KH2.ExtraData][2]||[]).map(te=>"string"==typeof te?Xe(te):[Xe(te[0]),Xe(te[1])])}(fe),Yr=function er(j,fe,K){const te=(0,D.H5H)(j);$n(te);const wt=wn([te[D.KH2.ExtraData][0],te[D.KH2.ExtraData][1]],fe)||[];return wn(wt,K)||[]}(fe,Pe,te),yr=Xr.findIndex(Ln=>{if(Array.isArray(Ln)){const[_r,Gi]=Ln,yi=sn>=_r.hours&&On>=_r.minutes,wo=sn<Gi.hours||sn===Gi.hours&&On<Gi.minutes;if(_r.hours<Gi.hours){if(yi&&wo)return!0}else if(yi||wo)return!0}else if(Ln.hours===sn&&Ln.minutes===On)return!0;return!1});if(-1!==yr)return Yr[yr]}return function Ct(j,fe,K){const te=(0,D.H5H)(j),wt=wn([te[D.KH2.DayPeriodsFormat],te[D.KH2.DayPeriodsStandalone]],fe);return wn(wt,K)}(fe,Pe,te)[sn<12?0:1];case 3:return function Bt(j,fe){return wn((0,D.H5H)(j)[D.KH2.Eras],fe)}(fe,te)[j.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${K}`)}}(Pe,wt,j,fe,K,te)}}function Hn(j){return function(fe,K,te){const Pe=-1*te,wt=Ne(K,5),sn=Pe>0?Math.floor(Pe/60):Math.ceil(Pe/60);switch(j){case 0:return(Pe>=0?"+":"")+gt(sn,2,wt)+gt(Math.abs(Pe%60),2,wt);case 1:return"GMT"+(Pe>=0?"+":"")+gt(sn,1,wt);case 2:return"GMT"+(Pe>=0?"+":"")+gt(sn,2,wt)+":"+gt(Math.abs(Pe%60),2,wt);case 3:return 0===te?"Z":(Pe>=0?"+":"")+gt(sn,2,wt)+":"+gt(Math.abs(Pe%60),2,wt);default:throw new Error(`Unknown zone width "${j}"`)}}}const Kt=0,Vn=4;function bn(j){const fe=j.getDay(),K=0===fe?-3:Vn-fe;return re(j.getFullYear(),j.getMonth(),j.getDate()+K)}function kr(j,fe=!1){return function(K,te){let Pe;if(fe){const wt=new Date(K.getFullYear(),K.getMonth(),1).getDay()-1,sn=K.getDate();Pe=1+Math.floor((sn+wt)/7)}else{const wt=bn(K),sn=function tr(j){const fe=re(j,Kt,1).getDay();return re(j,0,1+(fe<=Vn?Vn:Vn+7)-fe)}(wt.getFullYear()),On=wt.getTime()-sn.getTime();Pe=1+Math.round(On/6048e5)}return gt(Pe,j,Ne(te,5))}}function Pr(j,fe=!1){return function(K,te){return gt(bn(K).getFullYear(),j,Ne(te,5),fe)}}const Si={};function fr(j,fe){j=j.replace(/:/g,"");const K=Date.parse("Jan 01, 1970 00:00:00 "+j)/6e4;return isNaN(K)?fe:K}function Ir(j){return j instanceof Date&&!isNaN(j.valueOf())}const ai=/\s+/,Vi=[];let _n=(()=>{class j{_ngEl;_renderer;initialClasses=Vi;rawClass;stateMap=new Map;constructor(K,te){this._ngEl=K,this._renderer=te}set klass(K){this.initialClasses=null!=K?K.trim().split(ai):Vi}set ngClass(K){this.rawClass="string"==typeof K?K.trim().split(ai):K}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const K=this.rawClass;if(Array.isArray(K)||K instanceof Set)for(const te of K)this._updateState(te,!0);else if(null!=K)for(const te of Object.keys(K))this._updateState(te,!!K[te]);this._applyStateDiff()}_updateState(K,te){const Pe=this.stateMap.get(K);void 0!==Pe?(Pe.enabled!==te&&(Pe.changed=!0,Pe.enabled=te),Pe.touched=!0):this.stateMap.set(K,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const K of this.stateMap){const te=K[0],Pe=K[1];Pe.changed?(this._toggleClass(te,Pe.enabled),Pe.changed=!1):Pe.touched||(Pe.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),Pe.touched=!1}}_toggleClass(K,te){(K=K.trim()).length>0&&K.split(ai).forEach(Pe=>{te?this._renderer.addClass(this._ngEl.nativeElement,Pe):this._renderer.removeClass(this._ngEl.nativeElement,Pe)})}static \u0275fac=function(te){return new(te||j)(D.rXU(D.aKT),D.rXU(D.sFG))};static \u0275dir=D.FsC({type:j,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return j})();class Ui{$implicit;ngForOf;index;count;constructor(fe,K,te,Pe){this.$implicit=fe,this.ngForOf=K,this.index=te,this.count=Pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bi=(()=>{class j{_viewContainer;_template;_differs;set ngForOf(K){this._ngForOf=K,this._ngForOfDirty=!0}set ngForTrackBy(K){this._trackByFn=K}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(K,te,Pe){this._viewContainer=K,this._template=te,this._differs=Pe}set ngForTemplate(K){K&&(this._template=K)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const K=this._ngForOf;!this._differ&&K&&(this._differ=this._differs.find(K).create(this.ngForTrackBy))}if(this._differ){const K=this._differ.diff(this._ngForOf);K&&this._applyChanges(K)}}_applyChanges(K){const te=this._viewContainer;K.forEachOperation((Pe,wt,sn)=>{if(null==Pe.previousIndex)te.createEmbeddedView(this._template,new Ui(Pe.item,this._ngForOf,-1,-1),null===sn?void 0:sn);else if(null==sn)te.remove(null===wt?void 0:wt);else if(null!==wt){const On=te.get(wt);te.move(On,sn),xi(On,Pe)}});for(let Pe=0,wt=te.length;Pe<wt;Pe++){const On=te.get(Pe).context;On.index=Pe,On.count=wt,On.ngForOf=this._ngForOf}K.forEachIdentityChange(Pe=>{xi(te.get(Pe.currentIndex),Pe)})}static ngTemplateContextGuard(K,te){return!0}static \u0275fac=function(te){return new(te||j)(D.rXU(D.c1b),D.rXU(D.C4Q),D.rXU(D._q3))};static \u0275dir=D.FsC({type:j,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return j})();function xi(j,fe){j.context.$implicit=fe.item}let me=(()=>{class j{_viewContainer;_context=new Be;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(K,te){this._viewContainer=K,this._thenTemplateRef=te}set ngIf(K){this._context.$implicit=this._context.ngIf=K,this._updateView()}set ngIfThen(K){xt(K),this._thenTemplateRef=K,this._thenViewRef=null,this._updateView()}set ngIfElse(K){xt(K),this._elseTemplateRef=K,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(K,te){return!0}static \u0275fac=function(te){return new(te||j)(D.rXU(D.c1b),D.rXU(D.C4Q))};static \u0275dir=D.FsC({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return j})();class Be{$implicit=null;ngIf=null}function xt(j,fe){if(j&&!j.createEmbeddedView)throw new D.wOt(2020,!1)}const wi=new D.nKC(""),Ri=new D.nKC("");let ve=(()=>{class j{locale;defaultTimezone;defaultOptions;constructor(K,te,Pe){this.locale=K,this.defaultTimezone=te,this.defaultOptions=Pe}transform(K,te,Pe,wt){if(null==K||""===K||K!=K)return null;try{return pe(K,te??this.defaultOptions?.dateFormat??"mediumDate",wt||this.locale,Pe??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(sn){throw function ye(j,fe){return new D.wOt(2100,!1)}()}}static \u0275fac=function(te){return new(te||j)(D.rXU(D.xe9,16),D.rXU(wi,24),D.rXU(Ri,24))};static \u0275pipe=D.EJ8({name:"date",type:j,pure:!0})}return j})(),io=(()=>{class j{static \u0275fac=function(te){return new(te||j)};static \u0275mod=D.$C({type:j});static \u0275inj=D.G2t({})}return j})()},2967:(Cn,ze,W)=>{"use strict";W.d(ze,{xv:()=>ct,u0:()=>er,CA:()=>Xt,lR:()=>Tt,S3:()=>Ge});var D=W(1360),F=W(2214),Q=W(1985);function qe(Z){void 0===Z&&((0,D.Af3)(qe),Z=(0,D.WQX)(D.zZn));const le=Z.get(D.u5s);return de=>new Q.c(pe=>{const re=le.add();let he=!1;function Ke(){he||(re(),he=!0)}const gt=de.subscribe({next:rn=>{pe.next(rn),Ke()},complete:()=>{pe.complete(),Ke()},error:rn=>{pe.error(rn),Ke()}});return gt.add(()=>{pe.unsubscribe(),Ke()}),gt})}var ft=W(6780),Bt=W(3604);const hn=new class Gt extends Bt.q{}(class Ot extends ft.R{constructor(le,de){super(le,de),this.scheduler=le,this.work=de}schedule(le,de=0){return de>0?super.schedule(le,de):(this.delay=de,this.state=le,this.scheduler.flush(this),this)}execute(le,de){return de>0||this.closed?super.execute(le,de):this._execute(le,de)}requestAsyncId(le,de,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(le,de,pe):(le.flush(this),0)}});var Rt=W(3236),St=W(6745),Ne=W(941);const ct=new D.RxE("ANGULARFIRE2_VERSION");function Tt(Z,le,de){if(le){if(1===le.length)return le[0];const he=le.filter(Ke=>Ke.app===de);if(1===he.length)return he[0]}return de.container.getProvider(Z).getImmediate({optional:!0})}const Xt=(Z,le)=>{const de=le?[le]:(0,F.Dk)(),pe=[];return de.forEach(re=>{re.container.getProvider(Z).instances.forEach(Ke=>{pe.includes(Ke)||pe.push(Ke)})}),pe};var vt=function(Z){return Z[Z.SILENT=0]="SILENT",Z[Z.WARN=1]="WARN",Z[Z.VERBOSE=2]="VERBOSE",Z}(vt||{}),dt=(0,D.naY)()&&typeof Zone<"u"?vt.WARN:vt.SILENT;class kn{zone;delegate;constructor(le,de=hn){this.zone=le,this.delegate=de}now(){return this.delegate.now()}schedule(le,de,pe){const re=this.zone;return this.delegate.schedule(function(Ke){re?re.runGuarded(()=>{le.apply(this,[Ke])}):le.apply(this,[Ke])},de,pe)}}let er=(()=>{class Z{outsideAngular;insideAngular;constructor(){const de=(0,D.WQX)(D.SKi);this.outsideAngular=de.runOutsideAngular(()=>new kn(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=de.run(()=>new kn(typeof Zone>"u"?void 0:Zone.current,Rt.E))}static \u0275fac=function(pe){return new(pe||Z)};static \u0275prov=D.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})();var ut=!1;function en(Z){const le=(0,D.WQX)(D.SKi,{optional:!0});return le?le.run(()=>Z()):Z()}const Pt=(Z,le,de)=>(...pe)=>(le&&setTimeout(le,0),(0,D.N4e)(de,()=>en(()=>Z.apply(void 0,pe)))),Ge=(Z,le,de)=>(de||=le?vt.WARN:vt.VERBOSE,function(){let pe;const re=arguments;let he,Ke,gt;try{he=(0,D.WQX)(er),Ke=(0,D.WQX)(D.u5s),gt=(0,D.WQX)(D.uvJ)}catch{return function wn(Z,le){!ut&&(dt>vt.SILENT||(0,D.naY)())&&(ut=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),dt>=le&&console.warn(`Firebase API called outside injection context: ${Z.name}`)}(Z,de),Z.apply(this,re)}for(let Yt=0;Yt<arguments.length;Yt++)"function"==typeof re[Yt]&&(le&&(pe||=en(()=>Ke.add())),re[Yt]=Pt(re[Yt],pe,gt));const rn=function Xe(Z){const le=(0,D.WQX)(D.SKi,{optional:!0});return le?le.runOutsideAngular(()=>Z()):Z()}(()=>Z.apply(this,re));return le?rn instanceof Q.c?rn.pipe((0,St._)(he.outsideAngular),(0,Ne.Q)(he.insideAngular),qe(gt)):rn instanceof Promise?en(()=>new Promise((Yt,nr)=>{Ke.run(()=>rn).then(zt=>(0,D.N4e)(gt,()=>en(()=>Yt(zt))),zt=>(0,D.N4e)(gt,()=>en(()=>nr(zt))))})):"function"==typeof rn&&pe?function(){return setTimeout(pe,0),rn.apply(this,arguments)}:en(()=>rn):rn instanceof Q.c?rn.pipe((0,St._)(he.outsideAngular),(0,Ne.Q)(he.insideAngular)):en(()=>rn)})},3073:(Cn,ze,W)=>{"use strict";W.d(ze,{D:()=>Se});const{isArray:D}=Array,{getPrototypeOf:F,prototype:Q,keys:w}=Object;function Se(be){if(1===be.length){const ge=be[0];if(D(ge))return{args:ge,keys:null};if(function Ze(be){return be&&"object"==typeof be&&F(be)===Q}(ge)){const Ue=w(ge);return{args:Ue.map(_e=>ge[_e]),keys:Ue}}}return{args:be,keys:null}}},3236:(Cn,ze,W)=>{"use strict";W.d(ze,{E:()=>Q,b:()=>w});var D=W(6780);const Q=new(W(3604).q)(D.R),w=Q},3273:(Cn,ze,W)=>{"use strict";W.d(ze,{Dc:()=>fr,gS:()=>ov,rJ:()=>QE,kd:()=>iv,H9:()=>V_,x7:()=>CT,GG:()=>ST,aU:()=>Sm,aQ:()=>fw,My:()=>jm,P:()=>Z_,BN:()=>kp,mZ:()=>rv,_M:()=>iw,wP:()=>Lr});var ge,Ue,D=W(467),F=W(7852),Q=W(1362),w=W(8041),Se=W(6858),Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},be={};(function(){var c;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(rt,ke,$e){$e||($e=0);var it=Array(16);if("string"==typeof ke)for(var ot=0;16>ot;++ot)it[ot]=ke.charCodeAt($e++)|ke.charCodeAt($e++)<<8|ke.charCodeAt($e++)<<16|ke.charCodeAt($e++)<<24;else for(ot=0;16>ot;++ot)it[ot]=ke[$e++]|ke[$e++]<<8|ke[$e++]<<16|ke[$e++]<<24;var It=rt.g[3],je=(ke=rt.g[0])+(It^($e=rt.g[1])&((ot=rt.g[2])^It))+it[0]+3614090360&4294967295;je=($e=(ot=(It=(ke=($e=(ot=(It=(ke=($e=(ot=(It=(ke=($e=(ot=(It=(ke=($e=(ot=(It=(ke=($e=(ot=(It=(ke=($e=(ot=(It=(ke=($e=(ot=(It=(ke=($e=(ot=(It=(ke=($e=(ot=(It=(ke=($e=(ot=(It=(ke=($e=(ot=(It=(ke=($e=(ot=(It=(ke=($e=(ot=(It=(ke=($e=(ot=(It=(ke=$e+(je<<7&4294967295|je>>>25))+((je=It+(ot^ke&($e^ot))+it[1]+3905402710&4294967295)<<12&4294967295|je>>>20))+((je=ot+($e^It&(ke^$e))+it[2]+606105819&4294967295)<<17&4294967295|je>>>15))+((je=$e+(ke^ot&(It^ke))+it[3]+3250441966&4294967295)<<22&4294967295|je>>>10))+((je=ke+(It^$e&(ot^It))+it[4]+4118548399&4294967295)<<7&4294967295|je>>>25))+((je=It+(ot^ke&($e^ot))+it[5]+1200080426&4294967295)<<12&4294967295|je>>>20))+((je=ot+($e^It&(ke^$e))+it[6]+2821735955&4294967295)<<17&4294967295|je>>>15))+((je=$e+(ke^ot&(It^ke))+it[7]+4249261313&4294967295)<<22&4294967295|je>>>10))+((je=ke+(It^$e&(ot^It))+it[8]+1770035416&4294967295)<<7&4294967295|je>>>25))+((je=It+(ot^ke&($e^ot))+it[9]+2336552879&4294967295)<<12&4294967295|je>>>20))+((je=ot+($e^It&(ke^$e))+it[10]+4294925233&4294967295)<<17&4294967295|je>>>15))+((je=$e+(ke^ot&(It^ke))+it[11]+2304563134&4294967295)<<22&4294967295|je>>>10))+((je=ke+(It^$e&(ot^It))+it[12]+1804603682&4294967295)<<7&4294967295|je>>>25))+((je=It+(ot^ke&($e^ot))+it[13]+4254626195&4294967295)<<12&4294967295|je>>>20))+((je=ot+($e^It&(ke^$e))+it[14]+2792965006&4294967295)<<17&4294967295|je>>>15))+((je=$e+(ke^ot&(It^ke))+it[15]+1236535329&4294967295)<<22&4294967295|je>>>10))+((je=ke+(ot^It&($e^ot))+it[1]+4129170786&4294967295)<<5&4294967295|je>>>27))+((je=It+($e^ot&(ke^$e))+it[6]+3225465664&4294967295)<<9&4294967295|je>>>23))+((je=ot+(ke^$e&(It^ke))+it[11]+643717713&4294967295)<<14&4294967295|je>>>18))+((je=$e+(It^ke&(ot^It))+it[0]+3921069994&4294967295)<<20&4294967295|je>>>12))+((je=ke+(ot^It&($e^ot))+it[5]+3593408605&4294967295)<<5&4294967295|je>>>27))+((je=It+($e^ot&(ke^$e))+it[10]+38016083&4294967295)<<9&4294967295|je>>>23))+((je=ot+(ke^$e&(It^ke))+it[15]+3634488961&4294967295)<<14&4294967295|je>>>18))+((je=$e+(It^ke&(ot^It))+it[4]+3889429448&4294967295)<<20&4294967295|je>>>12))+((je=ke+(ot^It&($e^ot))+it[9]+568446438&4294967295)<<5&4294967295|je>>>27))+((je=It+($e^ot&(ke^$e))+it[14]+3275163606&4294967295)<<9&4294967295|je>>>23))+((je=ot+(ke^$e&(It^ke))+it[3]+4107603335&4294967295)<<14&4294967295|je>>>18))+((je=$e+(It^ke&(ot^It))+it[8]+1163531501&4294967295)<<20&4294967295|je>>>12))+((je=ke+(ot^It&($e^ot))+it[13]+2850285829&4294967295)<<5&4294967295|je>>>27))+((je=It+($e^ot&(ke^$e))+it[2]+4243563512&4294967295)<<9&4294967295|je>>>23))+((je=ot+(ke^$e&(It^ke))+it[7]+1735328473&4294967295)<<14&4294967295|je>>>18))+((je=$e+(It^ke&(ot^It))+it[12]+2368359562&4294967295)<<20&4294967295|je>>>12))+((je=ke+($e^ot^It)+it[5]+4294588738&4294967295)<<4&4294967295|je>>>28))+((je=It+(ke^$e^ot)+it[8]+2272392833&4294967295)<<11&4294967295|je>>>21))+((je=ot+(It^ke^$e)+it[11]+1839030562&4294967295)<<16&4294967295|je>>>16))+((je=$e+(ot^It^ke)+it[14]+4259657740&4294967295)<<23&4294967295|je>>>9))+((je=ke+($e^ot^It)+it[1]+2763975236&4294967295)<<4&4294967295|je>>>28))+((je=It+(ke^$e^ot)+it[4]+1272893353&4294967295)<<11&4294967295|je>>>21))+((je=ot+(It^ke^$e)+it[7]+4139469664&4294967295)<<16&4294967295|je>>>16))+((je=$e+(ot^It^ke)+it[10]+3200236656&4294967295)<<23&4294967295|je>>>9))+((je=ke+($e^ot^It)+it[13]+681279174&4294967295)<<4&4294967295|je>>>28))+((je=It+(ke^$e^ot)+it[0]+3936430074&4294967295)<<11&4294967295|je>>>21))+((je=ot+(It^ke^$e)+it[3]+3572445317&4294967295)<<16&4294967295|je>>>16))+((je=$e+(ot^It^ke)+it[6]+76029189&4294967295)<<23&4294967295|je>>>9))+((je=ke+($e^ot^It)+it[9]+3654602809&4294967295)<<4&4294967295|je>>>28))+((je=It+(ke^$e^ot)+it[12]+3873151461&4294967295)<<11&4294967295|je>>>21))+((je=ot+(It^ke^$e)+it[15]+530742520&4294967295)<<16&4294967295|je>>>16))+((je=$e+(ot^It^ke)+it[2]+3299628645&4294967295)<<23&4294967295|je>>>9))+((je=ke+(ot^($e|~It))+it[0]+4096336452&4294967295)<<6&4294967295|je>>>26))+((je=It+($e^(ke|~ot))+it[7]+1126891415&4294967295)<<10&4294967295|je>>>22))+((je=ot+(ke^(It|~$e))+it[14]+2878612391&4294967295)<<15&4294967295|je>>>17))+((je=$e+(It^(ot|~ke))+it[5]+4237533241&4294967295)<<21&4294967295|je>>>11))+((je=ke+(ot^($e|~It))+it[12]+1700485571&4294967295)<<6&4294967295|je>>>26))+((je=It+($e^(ke|~ot))+it[3]+2399980690&4294967295)<<10&4294967295|je>>>22))+((je=ot+(ke^(It|~$e))+it[10]+4293915773&4294967295)<<15&4294967295|je>>>17))+((je=$e+(It^(ot|~ke))+it[1]+2240044497&4294967295)<<21&4294967295|je>>>11))+((je=ke+(ot^($e|~It))+it[8]+1873313359&4294967295)<<6&4294967295|je>>>26))+((je=It+($e^(ke|~ot))+it[15]+4264355552&4294967295)<<10&4294967295|je>>>22))+((je=ot+(ke^(It|~$e))+it[6]+2734768916&4294967295)<<15&4294967295|je>>>17))+((je=$e+(It^(ot|~ke))+it[13]+1309151649&4294967295)<<21&4294967295|je>>>11))+((It=(ke=$e+((je=ke+(ot^($e|~It))+it[4]+4149444226&4294967295)<<6&4294967295|je>>>26))+((je=It+($e^(ke|~ot))+it[11]+3174756917&4294967295)<<10&4294967295|je>>>22))^((ot=It+((je=ot+(ke^(It|~$e))+it[2]+718787259&4294967295)<<15&4294967295|je>>>17))|~ke))+it[9]+3951481745&4294967295,rt.g[0]=rt.g[0]+ke&4294967295,rt.g[1]=rt.g[1]+(ot+(je<<21&4294967295|je>>>11))&4294967295,rt.g[2]=rt.g[2]+ot&4294967295,rt.g[3]=rt.g[3]+It&4294967295}function v(rt,ke){this.h=ke;for(var $e=[],it=!0,ot=rt.length-1;0<=ot;ot--){var It=0|rt[ot];it&&It==ke||($e[ot]=It,it=!1)}this.g=$e}(function n(rt,ke){function $e(){}$e.prototype=ke.prototype,rt.D=ke.prototype,rt.prototype=new $e,rt.prototype.constructor=rt,rt.C=function(it,ot,It){for(var je=Array(arguments.length-2),Ru=2;Ru<arguments.length;Ru++)je[Ru-2]=arguments[Ru];return ke.prototype[ot].apply(it,je)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(rt,ke){void 0===ke&&(ke=rt.length);for(var $e=ke-this.blockSize,it=this.B,ot=this.h,It=0;It<ke;){if(0==ot)for(;It<=$e;)u(this,rt,It),It+=this.blockSize;if("string"==typeof rt){for(;It<ke;)if(it[ot++]=rt.charCodeAt(It++),ot==this.blockSize){u(this,it),ot=0;break}}else for(;It<ke;)if(it[ot++]=rt[It++],ot==this.blockSize){u(this,it),ot=0;break}}this.h=ot,this.o+=ke},s.prototype.v=function(){var rt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);rt[0]=128;for(var ke=1;ke<rt.length-8;++ke)rt[ke]=0;var $e=8*this.o;for(ke=rt.length-8;ke<rt.length;++ke)rt[ke]=255&$e,$e/=256;for(this.u(rt),rt=Array(16),ke=$e=0;4>ke;++ke)for(var it=0;32>it;it+=8)rt[$e++]=this.g[ke]>>>it&255;return rt};var R={};function x(rt){return-128<=rt&&128>rt?function p(rt,ke){var $e=R;return Object.prototype.hasOwnProperty.call($e,rt)?$e[rt]:$e[rt]=ke(rt)}(rt,function(ke){return new v([0|ke],0>ke?-1:0)}):new v([0|rt],0>rt?-1:0)}function U(rt){if(isNaN(rt)||!isFinite(rt))return se;if(0>rt)return nn(U(-rt));for(var ke=[],$e=1,it=0;rt>=$e;it++)ke[it]=rt/$e|0,$e*=4294967296;return new v(ke,0)}var se=x(0),xe=x(1),_t=x(16777216);function jt(rt){if(0!=rt.h)return!1;for(var ke=0;ke<rt.g.length;ke++)if(0!=rt.g[ke])return!1;return!0}function un(rt){return-1==rt.h}function nn(rt){for(var ke=rt.g.length,$e=[],it=0;it<ke;it++)$e[it]=~rt.g[it];return new v($e,~rt.h).add(xe)}function Jn(rt,ke){return rt.add(nn(ke))}function or(rt,ke){for(;(65535&rt[ke])!=rt[ke];)rt[ke+1]+=rt[ke]>>>16,rt[ke]&=65535,ke++}function xn(rt,ke){this.g=rt,this.h=ke}function Vr(rt,ke){if(jt(ke))throw Error("division by zero");if(jt(rt))return new xn(se,se);if(un(rt))return ke=Vr(nn(rt),ke),new xn(nn(ke.g),nn(ke.h));if(un(ke))return ke=Vr(rt,nn(ke)),new xn(nn(ke.g),ke.h);if(30<rt.g.length){if(un(rt)||un(ke))throw Error("slowDivide_ only works with positive integers.");for(var $e=xe,it=ke;0>=it.l(rt);)$e=Li($e),it=Li(it);var ot=ui($e,1),It=ui(it,1);for(it=ui(it,2),$e=ui($e,2);!jt(it);){var je=It.add(it);0>=je.l(rt)&&(ot=ot.add($e),It=je),it=ui(it,1),$e=ui($e,1)}return ke=Jn(rt,ot.j(ke)),new xn(ot,ke)}for(ot=se;0<=rt.l(ke);){for($e=Math.max(1,Math.floor(rt.m()/ke.m())),it=48>=(it=Math.ceil(Math.log($e)/Math.LN2))?1:Math.pow(2,it-48),je=(It=U($e)).j(ke);un(je)||0<je.l(rt);)je=(It=U($e-=it)).j(ke);jt(It)&&(It=xe),ot=ot.add(It),rt=Jn(rt,je)}return new xn(ot,rt)}function Li(rt){for(var ke=rt.g.length+1,$e=[],it=0;it<ke;it++)$e[it]=rt.i(it)<<1|rt.i(it-1)>>>31;return new v($e,rt.h)}function ui(rt,ke){var $e=ke>>5;ke%=32;for(var it=rt.g.length-$e,ot=[],It=0;It<it;It++)ot[It]=0<ke?rt.i(It+$e)>>>ke|rt.i(It+$e+1)<<32-ke:rt.i(It+$e);return new v(ot,rt.h)}(c=v.prototype).m=function(){if(un(this))return-nn(this).m();for(var rt=0,ke=1,$e=0;$e<this.g.length;$e++){var it=this.i($e);rt+=(0<=it?it:4294967296+it)*ke,ke*=4294967296}return rt},c.toString=function(rt){if(2>(rt=rt||10)||36<rt)throw Error("radix out of range: "+rt);if(jt(this))return"0";if(un(this))return"-"+nn(this).toString(rt);for(var ke=U(Math.pow(rt,6)),$e=this,it="";;){var ot=Vr($e,ke).g,It=((0<($e=Jn($e,ot.j(ke))).g.length?$e.g[0]:$e.h)>>>0).toString(rt);if(jt($e=ot))return It+it;for(;6>It.length;)It="0"+It;it=It+it}},c.i=function(rt){return 0>rt?0:rt<this.g.length?this.g[rt]:this.h},c.l=function(rt){return un(rt=Jn(this,rt))?-1:jt(rt)?0:1},c.abs=function(){return un(this)?nn(this):this},c.add=function(rt){for(var ke=Math.max(this.g.length,rt.g.length),$e=[],it=0,ot=0;ot<=ke;ot++){var It=it+(65535&this.i(ot))+(65535&rt.i(ot)),je=(It>>>16)+(this.i(ot)>>>16)+(rt.i(ot)>>>16);it=je>>>16,$e[ot]=(je&=65535)<<16|(It&=65535)}return new v($e,-2147483648&$e[$e.length-1]?-1:0)},c.j=function(rt){if(jt(this)||jt(rt))return se;if(un(this))return un(rt)?nn(this).j(nn(rt)):nn(nn(this).j(rt));if(un(rt))return nn(this.j(nn(rt)));if(0>this.l(_t)&&0>rt.l(_t))return U(this.m()*rt.m());for(var ke=this.g.length+rt.g.length,$e=[],it=0;it<2*ke;it++)$e[it]=0;for(it=0;it<this.g.length;it++)for(var ot=0;ot<rt.g.length;ot++){var It=this.i(it)>>>16,je=65535&this.i(it),Ru=rt.i(ot)>>>16,Vd=65535&rt.i(ot);$e[2*it+2*ot]+=je*Vd,or($e,2*it+2*ot),$e[2*it+2*ot+1]+=It*Vd,or($e,2*it+2*ot+1),$e[2*it+2*ot+1]+=je*Ru,or($e,2*it+2*ot+1),$e[2*it+2*ot+2]+=It*Ru,or($e,2*it+2*ot+2)}for(it=0;it<ke;it++)$e[it]=$e[2*it+1]<<16|$e[2*it];for(it=ke;it<2*ke;it++)$e[it]=0;return new v($e,0)},c.A=function(rt){return Vr(this,rt).h},c.and=function(rt){for(var ke=Math.max(this.g.length,rt.g.length),$e=[],it=0;it<ke;it++)$e[it]=this.i(it)&rt.i(it);return new v($e,this.h&rt.h)},c.or=function(rt){for(var ke=Math.max(this.g.length,rt.g.length),$e=[],it=0;it<ke;it++)$e[it]=this.i(it)|rt.i(it);return new v($e,this.h|rt.h)},c.xor=function(rt){for(var ke=Math.max(this.g.length,rt.g.length),$e=[],it=0;it<ke;it++)$e[it]=this.i(it)^rt.i(it);return new v($e,this.h^rt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ue=be.Md5=s,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=U,v.fromString=function X(rt,ke){if(0==rt.length)throw Error("number format error: empty string");if(2>(ke=ke||10)||36<ke)throw Error("radix out of range: "+ke);if("-"==rt.charAt(0))return nn(X(rt.substring(1),ke));if(0<=rt.indexOf("-"))throw Error('number format error: interior "-" character');for(var $e=U(Math.pow(ke,8)),it=se,ot=0;ot<rt.length;ot+=8){var It=Math.min(8,rt.length-ot),je=parseInt(rt.substring(ot,ot+It),ke);8>It?(It=U(Math.pow(ke,It)),it=it.j(It).add(U(je))):it=(it=it.j($e)).add(U(je))}return it},ge=be.Integer=v}).apply(typeof Ze<"u"?Ze:typeof self<"u"?self:typeof window<"u"?window:{});var qe,ft,Ot,Bt,Gt,hn,Dt,Rt,_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},we={};(function(){var c,n="function"==typeof Object.defineProperties?Object.defineProperty:function(_,O,z){return _==Array.prototype||_==Object.prototype||(_[O]=z.value),_},s=function i(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof _e&&_e];for(var O=0;O<_.length;++O){var z=_[O];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}(this);!function u(_,O){if(O)e:{var z=s;_=_.split(".");for(var ie=0;ie<_.length-1;ie++){var mt=_[ie];if(!(mt in z))break e;z=z[mt]}(O=O(ie=z[_=_[_.length-1]]))!=ie&&null!=O&&n(z,_,{configurable:!0,writable:!0,value:O})}}("Array.prototype.values",function(_){return _||function(){return function p(_,O){_ instanceof String&&(_+="");var z=0,ie=!1,mt={next:function(){if(!ie&&z<_.length){var Ft=z++;return{value:O(Ft,_[Ft]),done:!1}}return ie=!0,{done:!0,value:void 0}}};return mt[Symbol.iterator]=function(){return mt},mt}(this,function(O,z){return z})}});var v=v||{},R=this||self;function x(_){var O=typeof _;return"array"==(O="object"!=O?O:_?Array.isArray(_)?"array":O:"null")||"object"==O&&"number"==typeof _.length}function U(_){var O=typeof _;return"object"==O&&null!=_||"function"==O}function X(_,O,z){return _.call.apply(_.bind,arguments)}function se(_,O,z){if(!_)throw Error();if(2<arguments.length){var ie=Array.prototype.slice.call(arguments,2);return function(){var mt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(mt,ie),_.apply(O,mt)}}return function(){return _.apply(O,arguments)}}function xe(_,O,z){return(xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X:se).apply(null,arguments)}function _t(_,O){var z=Array.prototype.slice.call(arguments,1);return function(){var ie=z.slice();return ie.push.apply(ie,arguments),_.apply(this,ie)}}function jt(_,O){function z(){}z.prototype=O.prototype,_.aa=O.prototype,_.prototype=new z,_.prototype.constructor=_,_.Qb=function(ie,mt,Ft){for(var Pn=Array(arguments.length-2),fo=2;fo<arguments.length;fo++)Pn[fo-2]=arguments[fo];return O.prototype[mt].apply(ie,Pn)}}function un(_){const O=_.length;if(0<O){const z=Array(O);for(let ie=0;ie<O;ie++)z[ie]=_[ie];return z}return[]}function nn(_,O){for(let z=1;z<arguments.length;z++){const ie=arguments[z];if(x(ie)){const mt=_.length||0,Ft=ie.length||0;_.length=mt+Ft;for(let Pn=0;Pn<Ft;Pn++)_[mt+Pn]=ie[Pn]}else _.push(ie)}}function or(_){return/^[\s\xa0]*$/.test(_)}function xn(){var _=R.navigator;return _&&(_=_.userAgent)?_:""}function Vr(_){return Vr[" "](_),_}Vr[" "]=function(){};var Li=!(-1==xn().indexOf("Gecko")||-1!=xn().toLowerCase().indexOf("webkit")&&-1==xn().indexOf("Edge")||-1!=xn().indexOf("Trident")||-1!=xn().indexOf("MSIE")||-1!=xn().indexOf("Edge"));function ui(_,O,z){for(const ie in _)O.call(z,_[ie],ie,_)}function ke(_){const O={};for(const z in _)O[z]=_[z];return O}const $e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(_,O){let z,ie;for(let mt=1;mt<arguments.length;mt++){for(z in ie=arguments[mt],ie)_[z]=ie[z];for(let Ft=0;Ft<$e.length;Ft++)z=$e[Ft],Object.prototype.hasOwnProperty.call(ie,z)&&(_[z]=ie[z])}}function ot(_){var O=1;_=_.split(":");const z=[];for(;0<O&&_.length;)z.push(_.shift()),O--;return _.length&&z.push(_.join(":")),z}function It(_){R.setTimeout(()=>{throw _},0)}function je(){var _=Xm;let O=null;return _.g&&(O=_.g,_.g=_.g.next,_.g||(_.h=null),O.next=null),O}var Vd=new class Jn{constructor(O,z){this.i=O,this.j=z,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}(()=>new Qm,_=>_.reset());class Qm{constructor(){this.next=this.g=this.h=null}set(O,z){this.h=O,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let wl,qh=!1,Xm=new class Ru{constructor(){this.h=this.g=null}add(O,z){const ie=Vd.get();ie.set(O,z),this.h?this.h.next=ie:this.g=ie,this.h=ie}},Kh=()=>{const _=R.Promise.resolve(void 0);wl=()=>{_.then(bw)}};var bw=()=>{for(var _;_=je();){try{_.h.call(_.g)}catch(z){It(z)}var O=Vd;O.j(_),100>O.h&&(O.h++,_.next=O.g,O.g=_)}qh=!1};function xa(){this.s=this.s,this.C=this.C}function ns(_,O){this.type=_,this.g=this.target=O,this.defaultPrevented=!1}xa.prototype.s=!1,xa.prototype.ma=function(){this.s||(this.s=!0,this.N())},xa.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ns.prototype.h=function(){this.defaultPrevented=!0};var Ym=function(){if(!R.addEventListener||!Object.defineProperty)return!1;var _=!1,O=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const z=()=>{};R.addEventListener("test",z,O),R.removeEventListener("test",z,O)}catch{}return _}();function Il(_,O){if(ns.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var z=this.type=_.type,ie=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=O,O=_.relatedTarget){if(Li){e:{try{Vr(O.nodeName);var mt=!0;break e}catch{}mt=!1}mt||(O=null)}}else"mouseover"==z?O=_.fromElement:"mouseout"==z&&(O=_.toElement);this.relatedTarget=O,ie?(this.clientX=void 0!==ie.clientX?ie.clientX:ie.pageX,this.clientY=void 0!==ie.clientY?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:Dw[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&Il.aa.h.call(this)}}jt(Il,ns);var Dw={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Pu="closure_listenable_"+(1e6*Math.random()|0),Mu=0;function Ud(_,O,z,ie,mt){this.listener=_,this.proxy=null,this.src=O,this.type=z,this.capture=!!ie,this.ha=mt,this.key=++Mu,this.da=this.fa=!1}function Qh(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function xp(_){this.src=_,this.g={},this.h=0}function Op(_,O){var z=O.type;if(z in _.g){var Ft,ie=_.g[z],mt=Array.prototype.indexOf.call(ie,O,void 0);(Ft=0<=mt)&&Array.prototype.splice.call(ie,mt,1),Ft&&(Qh(O),0==_.g[z].length&&(delete _.g[z],_.h--))}}function Zm(_,O,z,ie){for(var mt=0;mt<_.length;++mt){var Ft=_[mt];if(!Ft.da&&Ft.listener==O&&Ft.capture==!!z&&Ft.ha==ie)return mt}return-1}xp.prototype.add=function(_,O,z,ie,mt){var Ft=_.toString();(_=this.g[Ft])||(_=this.g[Ft]=[],this.h++);var Pn=Zm(_,O,ie,mt);return-1<Pn?(O=_[Pn],z||(O.fa=!1)):((O=new Ud(O,this.src,Ft,!!ie,mt)).fa=z,_.push(O)),O};var Xh="closure_lm_"+(1e6*Math.random()|0),Tl={};function Fp(_,O,z,ie,mt){if(ie&&ie.once)return Lp(_,O,z,ie,mt);if(Array.isArray(O)){for(var Ft=0;Ft<O.length;Ft++)Fp(_,O[Ft],z,ie,mt);return null}return z=Bd(z),_&&_[Pu]?_.K(O,z,U(ie)?!!ie.capture:!!ie,mt):lv(_,O,z,!1,ie,mt)}function lv(_,O,z,ie,mt,Ft){if(!O)throw Error("Invalid event type");var Pn=U(mt)?!!mt.capture:!!mt,fo=Yh(_);if(fo||(_[Xh]=fo=new xp(_)),(z=fo.add(O,z,ie,Pn,Ft)).proxy)return z;if(ie=function Aw(){const O=dv;return function _(z){return O.call(_.src,_.listener,z)}}(),z.proxy=ie,ie.src=_,ie.listener=z,_.addEventListener)Ym||(mt=Pn),void 0===mt&&(mt=!1),_.addEventListener(O.toString(),ie,mt);else if(_.attachEvent)_.attachEvent(ey(O.toString()),ie);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(ie)}return z}function Lp(_,O,z,ie,mt){if(Array.isArray(O)){for(var Ft=0;Ft<O.length;Ft++)Lp(_,O[Ft],z,ie,mt);return null}return z=Bd(z),_&&_[Pu]?_.L(O,z,U(ie)?!!ie.capture:!!ie,mt):lv(_,O,z,!0,ie,mt)}function Jm(_,O,z,ie,mt){if(Array.isArray(O))for(var Ft=0;Ft<O.length;Ft++)Jm(_,O[Ft],z,ie,mt);else ie=U(ie)?!!ie.capture:!!ie,z=Bd(z),_&&_[Pu]?(_=_.i,(O=String(O).toString())in _.g&&-1<(z=Zm(Ft=_.g[O],z,ie,mt))&&(Qh(Ft[z]),Array.prototype.splice.call(Ft,z,1),0==Ft.length&&(delete _.g[O],_.h--))):_&&(_=Yh(_))&&(O=_.g[O.toString()],_=-1,O&&(_=Zm(O,z,ie,mt)),(z=-1<_?O[_]:null)&&Vp(z))}function Vp(_){if("number"!=typeof _&&_&&!_.da){var O=_.src;if(O&&O[Pu])Op(O.i,_);else{var z=_.type,ie=_.proxy;O.removeEventListener?O.removeEventListener(z,ie,_.capture):O.detachEvent?O.detachEvent(ey(z),ie):O.addListener&&O.removeListener&&O.removeListener(ie),(z=Yh(O))?(Op(z,_),0==z.h&&(z.src=null,O[Xh]=null)):Qh(_)}}}function ey(_){return _ in Tl?Tl[_]:Tl[_]="on"+_}function dv(_,O){if(_.da)_=!0;else{O=new Il(O,this);var z=_.listener,ie=_.ha||_.src;_.fa&&Vp(_),_=z.call(ie,O)}return _}function Yh(_){return(_=_[Xh])instanceof xp?_:null}var Up="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bd(_){return"function"==typeof _?_:(_[Up]||(_[Up]=function(O){return _.handleEvent(O)}),_[Up])}function rs(){xa.call(this),this.i=new xp(this),this.M=this,this.F=null}function ea(_,O){var z,ie=_.F;if(ie)for(z=[];ie;ie=ie.F)z.push(ie);if(_=_.M,ie=O.type||O,"string"==typeof O)O=new ns(O,_);else if(O instanceof ns)O.target=O.target||_;else{var mt=O;it(O=new ns(ie,_),mt)}if(mt=!0,z)for(var Ft=z.length-1;0<=Ft;Ft--){var Pn=O.g=z[Ft];mt=jd(Pn,ie,!0,O)&&mt}if(mt=jd(Pn=O.g=_,ie,!0,O)&&mt,mt=jd(Pn,ie,!1,O)&&mt,z)for(Ft=0;Ft<z.length;Ft++)mt=jd(Pn=O.g=z[Ft],ie,!1,O)&&mt}function jd(_,O,z,ie){if(!(O=_.i.g[String(O)]))return!0;O=O.concat();for(var mt=!0,Ft=0;Ft<O.length;++Ft){var Pn=O[Ft];if(Pn&&!Pn.da&&Pn.capture==z){var fo=Pn.listener,ws=Pn.ha||Pn.src;Pn.fa&&Op(_.i,Pn),mt=!1!==fo.call(ws,ie)&&mt}}return mt&&!ie.defaultPrevented}function Bp(_,O,z){if("function"==typeof _)z&&(_=xe(_,z));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=xe(_.handleEvent,_)}return 2147483647<Number(O)?-1:R.setTimeout(_,O||0)}function Zh(_){_.g=Bp(()=>{_.g=null,_.i&&(_.i=!1,Zh(_))},_.l);const O=_.h;_.h=null,_.m.apply(null,O)}jt(rs,xa),rs.prototype[Pu]=!0,rs.prototype.removeEventListener=function(_,O,z,ie){Jm(this,_,O,z,ie)},rs.prototype.N=function(){if(rs.aa.N.call(this),this.i){var O,_=this.i;for(O in _.g){for(var z=_.g[O],ie=0;ie<z.length;ie++)Qh(z[ie]);delete _.g[O],_.h--}}this.F=null},rs.prototype.K=function(_,O,z,ie){return this.i.add(String(_),O,!1,z,ie)},rs.prototype.L=function(_,O,z,ie){return this.i.add(String(_),O,!0,z,ie)};class Cw extends xa{constructor(O,z){super(),this.m=O,this.l=z,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:Zh(this)}N(){super.N(),this.g&&(R.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $d(_){xa.call(this),this.h=_,this.g={}}jt($d,xa);var hv=[];function fv(_){ui(_.g,function(O,z){this.g.hasOwnProperty(z)&&Vp(O)},_),_.g={}}$d.prototype.N=function(){$d.aa.N.call(this),fv(this)},$d.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ku=R.JSON.stringify,ty=R.JSON.parse,pv=class{stringify(_){return R.JSON.stringify(_,void 0)}parse(_){return R.JSON.parse(_,void 0)}};function jp(){}function mv(){}jp.prototype.h=null;var Jh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ny(){ns.call(this,"d")}function ry(){ns.call(this,"c")}jt(ny,ns),jt(ry,ns);var bl={},iy=null;function ef(){return iy=iy||new rs}function yv(_){ns.call(this,bl.La,_)}function Nu(_){const O=ef();ea(O,new yv(O))}function _v(_,O){ns.call(this,bl.STAT_EVENT,_),this.stat=O}function ta(_){const O=ef();ea(O,new _v(O,_))}function oy(_,O){ns.call(this,bl.Ma,_),this.size=O}function Hd(_,O){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return R.setTimeout(function(){_()},O)}function tf(){this.g=!0}function xu(_,O,z,ie){_.info(function(){return"XMLHTTP TEXT ("+O+"): "+function Rw(_,O){if(!_.g)return O;if(!O)return null;try{var z=JSON.parse(O);if(z)for(_=0;_<z.length;_++)if(Array.isArray(z[_])){var ie=z[_];if(!(2>ie.length)){var mt=ie[1];if(Array.isArray(mt)&&!(1>mt.length)){var Ft=mt[0];if("noop"!=Ft&&"stop"!=Ft&&"close"!=Ft)for(var Pn=1;Pn<mt.length;Pn++)mt[Pn]=""}}}return ku(z)}catch{return O}}(_,z)+(ie?" "+ie:"")})}bl.La="serverreachability",jt(yv,ns),bl.STAT_EVENT="statevent",jt(_v,ns),bl.Ma="timingevent",jt(oy,ns),tf.prototype.xa=function(){this.g=!1},tf.prototype.info=function(){};var $p,Ou={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ru(){}function Nc(_,O,z,ie){this.j=_,this.i=O,this.l=z,this.R=ie||1,this.U=new $d(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zd}function zd(){this.i=null,this.g="",this.h=!1}jt(ru,jp),ru.prototype.g=function(){return new XMLHttpRequest},ru.prototype.i=function(){return{}},$p=new ru;var wv={},Hp={};function Dl(_,O,z){_.L=1,_.v=sf(Oc(O)),_.m=z,_.P=!0,Pw(_,null)}function Pw(_,O){_.F=Date.now(),zp(_),_.A=Oc(_.v);var z=_.A,ie=_.R;Array.isArray(ie)||(ie=[String(ie)]),kv(z.i,"t",ie),_.C=0,z=_.j.J,_.h=new zd,_.g=ju(_.j,z?O:null,!_.m),0<_.O&&(_.M=new Cw(xe(_.Y,_,_.g),_.O)),O=_.U,z=_.g,ie=_.ca;var mt="readystatechange";Array.isArray(mt)||(mt&&(hv[0]=mt.toString()),mt=hv);for(var Ft=0;Ft<mt.length;Ft++){var Pn=Fp(z,mt[Ft],ie||O.handleEvent,!1,O.h||O);if(!Pn)break;O.g[Pn.key]=Pn}O=_.H?ke(_.H):{},_.m?(_.u||(_.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,O)):(_.u="GET",_.g.ea(_.A,_.u,null,O)),Nu(),function Sw(_,O,z,ie,mt,Ft){_.info(function(){if(_.g)if(Ft)for(var Pn="",fo=Ft.split("&"),ws=0;ws<fo.length;ws++){var Ci=fo[ws].split("=");if(1<Ci.length){var js=Ci[0];Ci=Ci[1];var na=js.split("_");Pn=2<=na.length&&"type"==na[1]?Pn+(js+"=")+Ci+"&":Pn+(js+"=redacted&")}}else Pn=null;else Pn=Ft;return"XMLHTTP REQ ("+ie+") [attempt "+mt+"]: "+O+"\n"+z+"\n"+Pn})}(_.i,_.u,_.A,_.l,_.R,_.m)}function Mw(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function nf(_,O){var z=_.C,ie=O.indexOf("\n",z);return-1==ie?Hp:(z=Number(O.substring(z,ie)),isNaN(z)?wv:(ie+=1)+z>O.length?Hp:(O=O.slice(ie,ie+z),_.C=ie+z,O))}function zp(_){_.S=Date.now()+_.I,Iv(_,_.I)}function Iv(_,O){if(null!=_.B)throw Error("WatchDog timer not null");_.B=Hd(xe(_.ba,_),O)}function ay(_){_.B&&(R.clearTimeout(_.B),_.B=null)}function Fu(_){0==_.j.G||_.J||Gv(_.j,_)}function iu(_){ay(_);var O=_.M;O&&"function"==typeof O.ma&&O.ma(),_.M=null,fv(_.U),_.g&&(O=_.g,_.g=null,O.abort(),O.ma())}function cy(_,O){try{var z=_.j;if(0!=z.G&&(z.g==_||Dv(z.h,_)))if(!_.K&&Dv(z.h,_)&&3==z.G){try{var ie=z.Da.g.parse(O)}catch{ie=null}if(Array.isArray(ie)&&3==ie.length){var mt=ie;if(0==mt[0]){e:if(!z.u){if(z.g){if(!(z.g.F+3e3<_.F))break e;Yp(z),Kp(z)}yy(z),ta(18)}}else z.za=mt[1],0<z.za-z.T&&37500>mt[2]&&z.F&&0==z.v&&!z.C&&(z.C=Hd(xe(z.Za,z),6e3));if(1>=bv(z.h)&&z.ca){try{z.ca()}catch{}z.ca=void 0}}else Rl(z,11)}else if((_.K||z.g==_)&&Yp(z),!or(O))for(mt=z.Da.g.parse(O),O=0;O<mt.length;O++){let Ci=mt[O];if(z.T=Ci[0],Ci=Ci[1],2==z.G)if("c"==Ci[0]){z.K=Ci[1],z.ia=Ci[2];const js=Ci[3];null!=js&&(z.la=js,z.j.info("VER="+z.la));const na=Ci[4];null!=na&&(z.Aa=na,z.j.info("SVER="+z.Aa));const Zd=Ci[5];null!=Zd&&"number"==typeof Zd&&0<Zd&&(z.L=ie=1.5*Zd,z.j.info("backChannelRequestTimeoutMs_="+ie)),ie=z;const Qa=_.g;if(Qa){const Jp=Qa.g?Qa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jp){var Ft=ie.h;Ft.g||-1==Jp.indexOf("spdy")&&-1==Jp.indexOf("quic")&&-1==Jp.indexOf("h2")||(Ft.j=Ft.l,Ft.g=new Set,Ft.h&&(uy(Ft,Ft.h),Ft.h=null))}if(ie.D){const vy=Qa.g?Qa.g.getResponseHeader("X-HTTP-Session-Id"):null;vy&&(ie.ya=vy,so(ie.I,ie.D,vy))}}z.G=3,z.l&&z.l.ua(),z.ba&&(z.R=Date.now()-_.F,z.j.info("Handshake RTT: "+z.R+"ms"));var Pn=_;if((ie=z).qa=Kv(ie,ie.J?ie.ia:null,ie.W),Pn.K){Nw(ie.h,Pn);var fo=Pn,ws=ie.L;ws&&(fo.I=ws),fo.B&&(ay(fo),zp(fo)),ie.g=Pn}else zv(ie);0<z.i.length&&Qp(z)}else"stop"!=Ci[0]&&"close"!=Ci[0]||Rl(z,7);else 3==z.G&&("stop"==Ci[0]||"close"==Ci[0]?"stop"==Ci[0]?Rl(z,7):qp(z):"noop"!=Ci[0]&&z.l&&z.l.ta(Ci),z.v=0)}Nu()}catch{}}Nc.prototype.ca=function(_){_=_.target;const O=this.M;O&&3==Bu(_)?O.j():this.Y(_)},Nc.prototype.Y=function(_){try{if(_==this.g)e:{const na=Bu(this.g);var O=this.g.Ba();if(this.g.Z(),!(3>na)&&(3!=na||this.g&&(this.h.h||this.g.oa()||Uv(this.g)))){this.J||4!=na||7==O||Nu(),ay(this);var z=this.g.Z();this.X=z;t:if(Mw(this)){var ie=Uv(this.g);_="";var mt=ie.length,Ft=4==Bu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){iu(this),Fu(this);var Pn="";break t}this.h.i=new R.TextDecoder}for(O=0;O<mt;O++)this.h.h=!0,_+=this.h.i.decode(ie[O],{stream:!(Ft&&O==mt-1)});ie.length=0,this.h.g+=_,this.C=0,Pn=this.h.g}else Pn=this.g.oa();if(this.o=200==z,function vv(_,O,z,ie,mt,Ft,Pn){_.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+mt+"]: "+O+"\n"+z+"\n"+Ft+" "+Pn})}(this.i,this.u,this.A,this.l,this.R,na,z),this.o){if(this.T&&!this.K){t:{if(this.g){var fo,ws=this.g;if((fo=ws.g?ws.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!or(fo)){var Ci=fo;break t}}Ci=null}if(!(z=Ci)){this.o=!1,this.s=3,ta(12),iu(this),Fu(this);break e}xu(this.i,this.l,z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cy(this,z)}if(this.P){let Qa;for(z=!0;!this.J&&this.C<Pn.length;){if(Qa=nf(this,Pn),Qa==Hp){4==na&&(this.s=4,ta(14),z=!1),xu(this.i,this.l,null,"[Incomplete Response]");break}if(Qa==wv){this.s=4,ta(15),xu(this.i,this.l,Pn,"[Invalid Chunk]"),z=!1;break}xu(this.i,this.l,Qa,null),cy(this,Qa)}if(Mw(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=na||0!=Pn.length||this.h.h||(this.s=1,ta(16),z=!1),this.o=this.o&&z,z){if(0<Pn.length&&!this.W){this.W=!0;var js=this.j;js.g==this&&js.ba&&!js.M&&(js.j.info("Great, no buffering proxy detected. Bytes received: "+Pn.length),_y(js),js.M=!0,ta(11))}}else xu(this.i,this.l,Pn,"[Invalid Chunked Response]"),iu(this),Fu(this)}else xu(this.i,this.l,Pn,null),cy(this,Pn);4==na&&iu(this),this.o&&!this.J&&(4==na?Gv(this.j,this):(this.o=!1,zp(this)))}else(function Bv(_){const O={};_=(_.g&&2<=Bu(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let ie=0;ie<_.length;ie++){if(or(_[ie]))continue;var z=ot(_[ie]);const mt=z[0];if("string"!=typeof(z=z[1]))continue;z=z.trim();const Ft=O[mt]||[];O[mt]=Ft,Ft.push(z)}!function rt(_,O){for(const z in _)O.call(void 0,_[z],z,_)}(O,function(ie){return ie.join(", ")})})(this.g),400==z&&0<Pn.indexOf("Unknown SID")?(this.s=3,ta(12)):(this.s=0,ta(13)),iu(this),Fu(this)}}}catch{}},Nc.prototype.cancel=function(){this.J=!0,iu(this)},Nc.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function Ev(_,O){_.info(function(){return"TIMEOUT: "+O})}(this.i,this.A),2!=this.L&&(Nu(),ta(17)),iu(this),this.s=2,Fu(this)):Iv(this,this.S-_)};var zT=class{constructor(_,O){this.g=_,this.map=O}};function kw(_){this.l=_||10,_=R.PerformanceNavigationTiming?0<(_=R.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(R.chrome&&R.chrome.loadTimes&&R.chrome.loadTimes()&&R.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tv(_){return!!_.h||!!_.g&&_.g.size>=_.j}function bv(_){return _.h?1:_.g?_.g.size:0}function Dv(_,O){return _.h?_.h==O:!!_.g&&_.g.has(O)}function uy(_,O){_.g?_.g.add(O):_.h=O}function Nw(_,O){_.h&&_.h==O?_.h=null:_.g&&_.g.has(O)&&_.g.delete(O)}function Av(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let O=_.i;for(const z of _.g.values())O=O.concat(z.D);return O}return un(_.i)}function Wp(_,O){if(_.forEach&&"function"==typeof _.forEach)_.forEach(O,void 0);else if(x(_)||"string"==typeof _)Array.prototype.forEach.call(_,O,void 0);else for(var z=function Ow(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(x(_)||"string"==typeof _){var O=[];_=_.length;for(var z=0;z<_;z++)O.push(z);return O}O=[],z=0;for(const ie in _)O[z++]=ie;return O}}}(_),ie=function xw(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(x(_)){for(var O=[],z=_.length,ie=0;ie<z;ie++)O.push(_[ie]);return O}for(ie in O=[],z=0,_)O[z++]=_[ie];return O}(_),mt=ie.length,Ft=0;Ft<mt;Ft++)O.call(void 0,ie[Ft],z&&z[Ft],_)}kw.prototype.cancel=function(){if(this.i=Av(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var Wd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xc(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof xc){this.h=_.h,Lu(this,_.j),this.o=_.o,this.g=_.g,rf(this,_.s),this.l=_.l;var O=_.i,z=new af;z.i=O.i,O.g&&(z.g=new Map(O.g),z.h=O.h),Cv(this,z),this.m=_.m}else _&&(O=String(_).match(Wd))?(this.h=!1,Lu(this,O[1]||"",!0),this.o=Gd(O[2]||""),this.g=Gd(O[3]||"",!0),rf(this,O[4]),this.l=Gd(O[5]||"",!0),Cv(this,O[6]||"",!0),this.m=Gd(O[7]||"")):(this.h=!1,this.i=new af(null,this.h))}function Oc(_){return new xc(_)}function Lu(_,O,z){_.j=z?Gd(O,!0):O,_.j&&(_.j=_.j.replace(/:$/,""))}function rf(_,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);_.s=O}else _.s=null}function Cv(_,O,z){O instanceof af?(_.i=O,function Gp(_,O){O&&!_.j&&(Vu(_),_.i=null,_.g.forEach(function(z,ie){var mt=ie.toLowerCase();ie!=mt&&(qd(this,ie),kv(this,mt,z))},_)),_.j=O}(_.i,_.h)):(z||(O=Fc(O,Pv)),_.i=new af(O,_.h))}function so(_,O,z){_.i.set(O,z)}function sf(_){return so(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Gd(_,O){return _?O?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Fc(_,O,z){return"string"==typeof _?(_=encodeURI(_).replace(O,dy),z&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function dy(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}xc.prototype.toString=function(){var _=[],O=this.j;O&&_.push(Fc(O,Sv,!0),":");var z=this.g;return(z||"file"==O)&&(_.push("//"),(O=this.o)&&_.push(Fc(O,Sv,!0),"@"),_.push(encodeURIComponent(String(z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(z=this.s)&&_.push(":",String(z))),(z=this.l)&&(this.g&&"/"!=z.charAt(0)&&_.push("/"),_.push(Fc(z,"/"==z.charAt(0)?Rv:Fw,!0))),(z=this.i.toString())&&_.push("?",z),(z=this.m)&&_.push("#",Fc(z,Lw)),_.join("")};var Sv=/[#\/\?@]/g,Fw=/[#\?:]/g,Rv=/[#\?]/g,Pv=/[#\?@]/g,Lw=/#/g;function af(_,O){this.h=this.g=null,this.i=_||null,this.j=!!O}function Vu(_){_.g||(_.g=new Map,_.h=0,_.i&&function ly(_,O){if(_){_=_.split("&");for(var z=0;z<_.length;z++){var ie=_[z].indexOf("="),mt=null;if(0<=ie){var Ft=_[z].substring(0,ie);mt=_[z].substring(ie+1)}else Ft=_[z];O(Ft,mt?decodeURIComponent(mt.replace(/\+/g," ")):"")}}}(_.i,function(O,z){_.add(decodeURIComponent(O.replace(/\+/g," ")),z)}))}function qd(_,O){Vu(_),O=Kd(_,O),_.g.has(O)&&(_.i=null,_.h-=_.g.get(O).length,_.g.delete(O))}function Mv(_,O){return Vu(_),O=Kd(_,O),_.g.has(O)}function kv(_,O,z){qd(_,O),0<z.length&&(_.i=null,_.g.set(Kd(_,O),un(z)),_.h+=z.length)}function Kd(_,O){return O=String(O),_.j&&(O=O.toLowerCase()),O}function ou(_,O,z,ie,mt){try{mt&&(mt.onload=null,mt.onerror=null,mt.onabort=null,mt.ontimeout=null),ie(z)}catch{}}function Vw(){this.g=new pv}function Ov(_,O,z){const ie=z||"";try{Wp(_,function(mt,Ft){let Pn=mt;U(mt)&&(Pn=ku(mt)),O.push(ie+Ft+"="+encodeURIComponent(Pn))})}catch(mt){throw O.push(ie+"type="+encodeURIComponent("_badmap")),mt}}function Al(_){this.l=_.Ub||null,this.j=_.eb||!1}function Cl(_,O){rs.call(this),this.D=_,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Fv(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function cf(_){_.readyState=4,_.l=null,_.j=null,_.v=null,uf(_)}function uf(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function Lv(_){let O="";return ui(_,function(z,ie){O+=ie,O+=":",O+=z,O+="\r\n"}),O}function hy(_,O,z){e:{for(ie in z){var ie=!1;break e}ie=!0}ie||(z=Lv(z),"string"==typeof _?null!=z&&encodeURIComponent(String(z)):so(_,O,z))}function is(_){rs.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=af.prototype).add=function(_,O){Vu(this),this.i=null,_=Kd(this,_);var z=this.g.get(_);return z||this.g.set(_,z=[]),z.push(O),this.h+=1,this},c.forEach=function(_,O){Vu(this),this.g.forEach(function(z,ie){z.forEach(function(mt){_.call(O,mt,ie,this)},this)},this)},c.na=function(){Vu(this);const _=Array.from(this.g.values()),O=Array.from(this.g.keys()),z=[];for(let ie=0;ie<O.length;ie++){const mt=_[ie];for(let Ft=0;Ft<mt.length;Ft++)z.push(O[ie])}return z},c.V=function(_){Vu(this);let O=[];if("string"==typeof _)Mv(this,_)&&(O=O.concat(this.g.get(Kd(this,_))));else{_=Array.from(this.g.values());for(let z=0;z<_.length;z++)O=O.concat(_[z])}return O},c.set=function(_,O){return Vu(this),this.i=null,Mv(this,_=Kd(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[O]),this.h+=1,this},c.get=function(_,O){return _&&0<(_=this.V(_)).length?String(_[0]):O},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],O=Array.from(this.g.keys());for(var z=0;z<O.length;z++){var ie=O[z];const Ft=encodeURIComponent(String(ie)),Pn=this.V(ie);for(ie=0;ie<Pn.length;ie++){var mt=Ft;""!==Pn[ie]&&(mt+="="+encodeURIComponent(String(Pn[ie]))),_.push(mt)}}return this.i=_.join("&")},jt(Al,jp),Al.prototype.g=function(){return new Cl(this.l,this.j)},Al.prototype.i=function(_){return function(){return _}}({}),jt(Cl,rs),(c=Cl.prototype).open=function(_,O){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=O,this.readyState=1,uf(this)},c.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(O.body=_),(this.D||R).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cf(this)),this.readyState=0},c.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,uf(this)),this.g&&(this.readyState=3,uf(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof R.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fv(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var O=_.value?_.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!_.done}))&&(this.response=this.responseText+=O)}_.done?cf(this):uf(this),3==this.readyState&&Fv(this)}},c.Ra=function(_){this.g&&(this.response=this.responseText=_,cf(this))},c.Qa=function(_){this.g&&(this.response=_,cf(this))},c.ga=function(){this.g&&cf(this)},c.setRequestHeader=function(_,O){this.u.append(_,O)},c.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],O=this.h.entries();for(var z=O.next();!z.done;)_.push((z=z.value)[0]+": "+z[1]),z=O.next();return _.join("\r\n")},Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),jt(is,rs);var fy=/^https?$/i,lf=["POST","PUT"];function py(_,O){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=O,_.m=5,gy(_),Uu(_)}function gy(_){_.A||(_.A=!0,ea(_,"complete"),ea(_,"error"))}function Vv(_){if(_.h&&typeof v<"u"&&(!_.v[1]||4!=Bu(_)||2!=_.Z()))if(_.u&&4==Bu(_))Bp(_.Ea,0,_);else if(ea(_,"readystatechange"),4==Bu(_)){_.h=!1;try{const Pn=_.Z();e:switch(Pn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var z;if(!(z=O)){var ie;if(ie=0===Pn){var mt=String(_.D).match(Wd)[1]||null;!mt&&R.self&&R.self.location&&(mt=R.self.location.protocol.slice(0,-1)),ie=!fy.test(mt?mt.toLowerCase():"")}z=ie}if(z)ea(_,"complete"),ea(_,"success");else{_.m=6;try{var Ft=2<Bu(_)?_.g.statusText:""}catch{Ft=""}_.l=Ft+" ["+_.Z()+"]",gy(_)}}finally{Uu(_)}}}function Uu(_,O){if(_.g){df(_);const z=_.g,ie=_.v[0]?()=>{}:null;_.g=null,_.v=null,O||ea(_,"ready");try{z.onreadystatechange=ie}catch{}}}function df(_){_.I&&(R.clearTimeout(_.I),_.I=null)}function Bu(_){return _.g?_.g.readyState:0}function Uv(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Sl(_,O,z){return z&&z.internalChannelParams&&z.internalChannelParams[_]||O}function jv(_){this.Aa=0,this.i=[],this.j=new tf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sl("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sl("baseRetryDelayMs",5e3,_),this.cb=Sl("retryDelaySeedMs",1e4,_),this.Wa=Sl("forwardChannelMaxRetries",2,_),this.wa=Sl("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new kw(_&&_.concurrentRequestLimit),this.Da=new Vw,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function qp(_){if($v(_),3==_.G){var O=_.U++,z=Oc(_.I);if(so(z,"SID",_.K),so(z,"RID",O),so(z,"TYPE","terminate"),Qd(_,z),(O=new Nc(_,_.j,O)).L=2,O.v=sf(Oc(z)),z=!1,R.navigator&&R.navigator.sendBeacon)try{z=R.navigator.sendBeacon(O.v.toString(),"")}catch{}!z&&R.Image&&((new Image).src=O.v,z=!0),z||(O.g=ju(O.j,null),O.g.ea(O.v)),O.F=Date.now(),zp(O)}qv(_)}function Kp(_){_.g&&(_y(_),_.g.cancel(),_.g=null)}function $v(_){Kp(_),_.u&&(R.clearTimeout(_.u),_.u=null),Yp(_),_.h.cancel(),_.s&&("number"==typeof _.s&&R.clearTimeout(_.s),_.s=null)}function Qp(_){if(!Tv(_.h)&&!_.s){_.s=!0;var O=_.Ga;wl||Kh(),qh||(wl(),qh=!0),Xm.add(O,_),_.B=0}}function my(_,O){var z;z=O?O.l:_.U++;const ie=Oc(_.I);so(ie,"SID",_.K),so(ie,"RID",z),so(ie,"AID",_.T),Qd(_,ie),_.m&&_.o&&hy(ie,_.m,_.o),z=new Nc(_,_.j,z,_.B+1),null===_.m&&(z.H=_.o),O&&(_.i=O.D.concat(_.i)),O=Xp(_,z,1e3),z.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),uy(_.h,z),Dl(z,ie,O)}function Qd(_,O){_.H&&ui(_.H,function(z,ie){so(O,ie,z)}),_.l&&Wp({},function(z,ie){so(O,ie,z)})}function Xp(_,O,z){z=Math.min(_.i.length,z);var ie=_.l?xe(_.l.Na,_.l,_):null;e:{var mt=_.i;let Ft=-1;for(;;){const Pn=["count="+z];-1==Ft?0<z?(Ft=mt[0].g,Pn.push("ofs="+Ft)):Ft=0:Pn.push("ofs="+Ft);let fo=!0;for(let ws=0;ws<z;ws++){let Ci=mt[ws].g;const js=mt[ws].map;if(Ci-=Ft,0>Ci)Ft=Math.max(0,mt[ws].g-100),fo=!1;else try{Ov(js,Pn,"req"+Ci+"_")}catch{ie&&ie(js)}}if(fo){ie=Pn.join("&");break e}}}return _=_.i.splice(0,z),O.D=_,ie}function zv(_){if(!_.g&&!_.u){_.Y=1;var O=_.Fa;wl||Kh(),qh||(wl(),qh=!0),Xm.add(O,_),_.v=0}}function yy(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=Hd(xe(_.Fa,_),Zp(_,_.v)),_.v++,0))}function _y(_){null!=_.A&&(R.clearTimeout(_.A),_.A=null)}function Wv(_){_.g=new Nc(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var O=Oc(_.qa);so(O,"RID","rpc"),so(O,"SID",_.K),so(O,"AID",_.T),so(O,"CI",_.F?"0":"1"),!_.F&&_.ja&&so(O,"TO",_.ja),so(O,"TYPE","xmlhttp"),Qd(_,O),_.m&&_.o&&hy(O,_.m,_.o),_.L&&(_.g.I=_.L);var z=_.g;_=_.ia,z.L=1,z.v=sf(Oc(O)),z.m=null,z.P=!0,Pw(z,_)}function Yp(_){null!=_.C&&(R.clearTimeout(_.C),_.C=null)}function Gv(_,O){var z=null;if(_.g==O){Yp(_),_y(_),_.g=null;var ie=2}else{if(!Dv(_.h,O))return;z=O.D,Nw(_.h,O),ie=1}if(0!=_.G)if(O.o)if(1==ie){z=O.m?O.m.length:0,O=Date.now()-O.F;var mt=_.B;ea(ie=ef(),new oy(ie,z)),Qp(_)}else zv(_);else if(3==(mt=O.s)||0==mt&&0<O.X||!(1==ie&&function Hv(_,O){return!(bv(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=O.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=Hd(xe(_.Ga,_,O),Zp(_,_.B)),_.B++,0)))}(_,O)||2==ie&&yy(_)))switch(z&&0<z.length&&(O=_.h,O.i=O.i.concat(z)),mt){case 1:Rl(_,5);break;case 4:Rl(_,10);break;case 3:Rl(_,6);break;default:Rl(_,2)}}function Zp(_,O){let z=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(z*=2),z*O}function Rl(_,O){if(_.j.info("Error code "+O),2==O){var z=xe(_.fb,_),ie=_.Xa;const mt=!ie;ie=new xc(ie||"//www.google.com/images/cleardot.gif"),R.location&&"http"==R.location.protocol||Lu(ie,"https"),sf(ie),mt?function Nv(_,O){const z=new tf;if(R.Image){const ie=new Image;ie.onload=_t(ou,z,"TestLoadImage: loaded",!0,O,ie),ie.onerror=_t(ou,z,"TestLoadImage: error",!1,O,ie),ie.onabort=_t(ou,z,"TestLoadImage: abort",!1,O,ie),ie.ontimeout=_t(ou,z,"TestLoadImage: timeout",!1,O,ie),R.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=_}else O(!1)}(ie.toString(),z):function xv(_,O){new tf;const ie=new AbortController,mt=setTimeout(()=>{ie.abort(),ou(0,0,!1,O)},1e4);fetch(_,{signal:ie.signal}).then(Ft=>{clearTimeout(mt),ou(0,0,!!Ft.ok,O)}).catch(()=>{clearTimeout(mt),ou(0,0,!1,O)})}(ie.toString(),z)}else ta(2);_.G=0,_.l&&_.l.sa(O),qv(_),$v(_)}function qv(_){if(_.G=0,_.ka=[],_.l){const O=Av(_.h);(0!=O.length||0!=_.i.length)&&(nn(_.ka,O),nn(_.ka,_.i),_.h.i.length=0,un(_.i),_.i.length=0),_.l.ra()}}function Kv(_,O,z){var ie=z instanceof xc?Oc(z):new xc(z);if(""!=ie.g)O&&(ie.g=O+"."+ie.g),rf(ie,ie.s);else{var mt=R.location;ie=mt.protocol,O=O?O+"."+mt.hostname:mt.hostname,mt=+mt.port;var Ft=new xc(null);ie&&Lu(Ft,ie),O&&(Ft.g=O),mt&&rf(Ft,mt),z&&(Ft.l=z),ie=Ft}return O=_.ya,(z=_.D)&&O&&so(ie,z,O),so(ie,"VER",_.la),Qd(_,ie),ie}function ju(_,O,z){if(O&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(O=new is(_.Ca&&!_.pa?new Al({eb:z}):_.pa)).Ha(_.J),O}function Xd(){}function Yd(){}function ua(_,O){rs.call(this),this.g=new jv(O),this.l=_,this.h=O&&O.messageUrlParams||null,_=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(_?_["X-WebChannel-Content-Type"]=O.messageContentType:_={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(_?_["X-WebChannel-Client-Profile"]=O.va:_={"X-WebChannel-Client-Profile":O.va}),this.g.S=_,(_=O&&O.Sb)&&!or(_)&&(this.g.m=_),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!or(O)&&(this.g.D=O,null!==(_=this.h)&&O in _&&O in(_=this.h)&&delete _[O]),this.j=new Ml(this)}function Qv(_){ny.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var O=_.__sm__;if(O){e:{for(const z in O){_=z;break e}_=void 0}(this.i=_)&&(_=this.i,O=null!==O&&_ in O?O[_]:void 0),this.data=O}else this.data=_}function Pl(){ry.call(this),this.status=1}function Ml(_){this.g=_}(c=is.prototype).Ha=function(_){this.J=_},c.ea=function(_,O,z,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);O=O?O.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$p.g(),this.v=function gv(_){return _.h||(_.h=_.i())}(this.o?this.o:$p),this.g.onreadystatechange=xe(this.Ea,this);try{this.B=!0,this.g.open(O,String(_),!0),this.B=!1}catch(Ft){return void py(this,Ft)}if(_=z||"",z=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var mt in ie)z.set(mt,ie[mt]);else{if("function"!=typeof ie.keys||"function"!=typeof ie.get)throw Error("Unknown input type for opt_headers: "+String(ie));for(const Ft of ie.keys())z.set(Ft,ie.get(Ft))}ie=Array.from(z.keys()).find(Ft=>"content-type"==Ft.toLowerCase()),mt=R.FormData&&_ instanceof R.FormData,!(0<=Array.prototype.indexOf.call(lf,O,void 0))||ie||mt||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ft,Pn]of z)this.g.setRequestHeader(Ft,Pn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{df(this),this.u=!0,this.g.send(_),this.u=!1}catch(Ft){py(this,Ft)}},c.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,ea(this,"complete"),ea(this,"abort"),Uu(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uu(this,!0)),is.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?Vv(this):this.bb())},c.bb=function(){Vv(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<Bu(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(_){if(this.g){var O=this.g.responseText;return _&&0==O.indexOf(_)&&(O=O.substring(_.length)),ty(O)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=jv.prototype).la=8,c.G=1,c.connect=function(_,O,z,ie){ta(0),this.W=_,this.H=O||{},z&&void 0!==ie&&(this.H.OSID=z,this.H.OAID=ie),this.F=this.X,this.I=Kv(this,null,this.W),Qp(this)},c.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const mt=new Nc(this,this.j,_);let Ft=this.o;if(this.S&&(Ft?(Ft=ke(Ft),it(Ft,this.S)):Ft=this.S),null!==this.m||this.O||(mt.H=Ft,Ft=null),this.P)e:{for(var O=0,z=0;z<this.i.length;z++){var ie=this.i[z];if(void 0===(ie="__data__"in ie.map&&"string"==typeof(ie=ie.map.__data__)?ie.length:void 0))break;if(4096<(O+=ie)){O=z;break e}if(4096===O||z===this.i.length-1){O=z+1;break e}}O=1e3}else O=1e3;O=Xp(this,mt,O),so(z=Oc(this.I),"RID",_),so(z,"CVER",22),this.D&&so(z,"X-HTTP-Session-Id",this.D),Qd(this,z),Ft&&(this.O?O="headers="+encodeURIComponent(String(Lv(Ft)))+"&"+O:this.m&&hy(z,this.m,Ft)),uy(this.h,mt),this.Ua&&so(z,"TYPE","init"),this.P?(so(z,"$req",O),so(z,"SID","null"),mt.T=!0,Dl(mt,z,null)):Dl(mt,z,O),this.G=2}}else 3==this.G&&(_?my(this,_):0==this.i.length||Tv(this.h)||my(this))},c.Fa=function(){if(this.u=null,Wv(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Hd(xe(this.ab,this),_)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ta(10),Kp(this),Wv(this))},c.Za=function(){null!=this.C&&(this.C=null,Kp(this),yy(this),ta(19))},c.fb=function(_){_?(this.j.info("Successfully pinged google.com"),ta(2)):(this.j.info("Failed to ping google.com"),ta(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=Xd.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Yd.prototype.g=function(_,O){return new ua(_,O)},jt(ua,rs),ua.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ua.prototype.close=function(){qp(this.g)},ua.prototype.o=function(_){var O=this.g;if("string"==typeof _){var z={};z.__data__=_,_=z}else this.u&&((z={}).__data__=ku(_),_=z);O.i.push(new zT(O.Ya++,_)),3==O.G&&Qp(O)},ua.prototype.N=function(){this.g.l=null,delete this.j,qp(this.g),delete this.g,ua.aa.N.call(this)},jt(Qv,ny),jt(Pl,ry),jt(Ml,Xd),Ml.prototype.ua=function(){ea(this.g,"a")},Ml.prototype.ta=function(_){ea(this.g,new Qv(_))},Ml.prototype.sa=function(_){ea(this.g,new Pl)},Ml.prototype.ra=function(){ea(this.g,"b")},Yd.prototype.createWebChannel=Yd.prototype.g,ua.prototype.send=ua.prototype.o,ua.prototype.open=ua.prototype.m,ua.prototype.close=ua.prototype.close,Rt=we.createWebChannelTransport=function(){return new Yd},Dt=we.getStatEventTarget=function(){return ef()},hn=we.Event=bl,Gt=we.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ou.NO_ERROR=0,Ou.TIMEOUT=8,Ou.HTTP_ERROR=6,Bt=we.ErrorCode=Ou,sy.COMPLETE="complete",Ot=we.EventType=sy,mv.EventType=Jh,Jh.OPEN="a",Jh.CLOSE="b",Jh.ERROR="c",Jh.MESSAGE="d",rs.prototype.listen=rs.prototype.K,ft=we.WebChannel=mv,we.FetchXmlHttpFactory=Al,is.prototype.listenOnce=is.prototype.L,is.prototype.getLastError=is.prototype.Ka,is.prototype.getLastErrorCode=is.prototype.Ba,is.prototype.getStatus=is.prototype.Z,is.prototype.getResponseJson=is.prototype.Oa,is.prototype.getResponseText=is.prototype.oa,is.prototype.send=is.prototype.ea,is.prototype.setWithCredentials=is.prototype.Ha,qe=we.XhrIo=is}).apply(typeof _e<"u"?_e:typeof self<"u"?self:typeof window<"u"?window:{});const St="@firebase/firestore";class ct{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");let et="11.8.1";const Tt=new w.Vy("@firebase/firestore");function Xt(){return Tt.logLevel}function dt(c,...n){if(Tt.logLevel<=w.$b.DEBUG){const i=n.map(er);Tt.debug(`Firestore (${et}): ${c}`,...i)}}function $n(c,...n){if(Tt.logLevel<=w.$b.ERROR){const i=n.map(er);Tt.error(`Firestore (${et}): ${c}`,...i)}}function kn(c,...n){if(Tt.logLevel<=w.$b.WARN){const i=n.map(er);Tt.warn(`Firestore (${et}): ${c}`,...i)}}function er(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function ut(c,n,i){let s="Unexpected state";"string"==typeof n?s=n:i=n,wn(c,s,i)}function wn(c,n,i){let s=`FIRESTORE (${et}) INTERNAL ASSERTION FAILED: ${n} (ID: ${c.toString(16)})`;if(void 0!==i)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw $n(s),new Error(s)}function Xe(c,n,i,s){let u="Unexpected state";"string"==typeof i?u=i:s=i,c||wn(n,u,s)}function Pt(c,n){return c}const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Se.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class le{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class de{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class pe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(ct.UNAUTHENTICATED))}shutdown(){}}class re{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class he{constructor(n){this.t=n,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;Xe(void 0===this.o,42304);let u=this.i;const p=U=>this.i!==u?(u=this.i,i(U)):Promise.resolve();let v=new le;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new le,n.enqueueRetryable(()=>p(this.currentUser))};const R=()=>{const U=v;n.enqueueRetryable((0,D.A)(function*(){yield U.promise,yield p(s.currentUser)}))},x=U=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(U=>x(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?x(U):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new le)}},0),R()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe("string"==typeof s.accessToken,31837,{l:s}),new de(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Xe(null===n||"string"==typeof n,2055,{h:n}),new ct(n)}}class Ke{constructor(n,i,s){this.P=n,this.T=i,this.I=s,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gt{constructor(n,i,s){this.P=n,this.T=i,this.I=s}getToken(){return Promise.resolve(new Ke(this.P,this.T,this.I))}start(n,i){n.enqueueRetryable(()=>i(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rn{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yt{constructor(n,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,F.xZ)(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,i){Xe(void 0===this.o,3512);const s=p=>{null!=p.error&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const v=p.token!==this.m;return this.m=p.token,dt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?i(p.token):Promise.resolve()};this.o=p=>{n.enqueueRetryable(()=>s(p))};const u=p=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.V.getImmediate({optional:!0});p?u(p):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rn(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Xe("string"==typeof i.token,44558,{tokenResult:i}),this.m=i.token,new rn(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zt(c){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<c;s++)i[s]=Math.floor(256*Math.random());return i}function Qn(){return new TextEncoder}class Hn{static newId(){const i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=zt(40);for(let p=0;p<u.length;++p)s.length<20&&u[p]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return s}}function Kt(c,n){return c<n?-1:c>n?1:0}function Vn(c,n){let i=0;for(;i<c.length&&i<n.length;){const s=c.codePointAt(i),u=n.codePointAt(i);if(s!==u){if(s<128&&u<128)return Kt(s,u);{const p=Qn(),v=bn(p.encode(tr(c,i)),p.encode(tr(n,i)));return 0!==v?v:Kt(s,u)}}i+=s>65535?2:1}return Kt(c.length,n.length)}function tr(c,n){return c.codePointAt(n)>65535?c.substring(n,n+2):c.substring(n,n+1)}function bn(c,n){for(let i=0;i<c.length&&i<n.length;++i)if(c[i]!==n[i])return Kt(c[i],n[i]);return Kt(c.length,n.length)}function kr(c,n,i){return c.length===n.length&&c.every((s,u)=>i(s,n[u]))}const Si=-62135596800;class fr{static now(){return fr.fromMillis(Date.now())}static fromDate(n){return fr.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new fr(i,s)}constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Z(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Z(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<Si)throw new Z(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Z(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Kt(this.nanoseconds,n.nanoseconds):Kt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-Si).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class on{static fromTimestamp(n){return new on(n)}static min(){return new on(new fr(0,0))}static max(){return new on(new fr(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xi="__name__";class Nr{constructor(n,i,s){void 0===i?i=0:i>n.length&&ut(637,{offset:i,range:n.length}),void 0===s?s=n.length-i:s>n.length-i&&ut(1746,{length:s,range:n.length-i}),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===Nr.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Nr?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const p=Nr.compareSegments(n.get(u),i.get(u));if(0!==p)return p}return Kt(n.length,i.length)}static compareSegments(n,i){const s=Nr.isNumericId(n),u=Nr.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?Nr.extractNumericId(n).compare(Nr.extractNumericId(i)):Vn(n,i)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return ge.fromString(n.substring(4,n.length-2))}}class st extends Nr{construct(n,i,s){return new st(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new Z(Ge.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new st(i)}static emptyPath(){return new st([])}}const Ir=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends Nr{construct(n,i,s){return new Kn(n,i,s)}static isValidIdentifier(n){return Ir.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Xi}static keyField(){return new Kn([Xi])}static fromServerFormat(n){const i=[];let s="",u=0;const p=()=>{if(0===s.length)throw new Z(Ge.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let v=!1;for(;u<n.length;){const R=n[u];if("\\"===R){if(u+1===n.length)throw new Z(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const x=n[u+1];if("\\"!==x&&"."!==x&&"`"!==x)throw new Z(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=x,u+=2}else"`"===R?(v=!v,u++):"."!==R||v?(s+=R,u++):(p(),u++)}if(p(),v)throw new Z(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Kn(i)}static emptyPath(){return new Kn([])}}class qt{constructor(n){this.path=n}static fromPath(n){return new qt(st.fromString(n))}static fromName(n){return new qt(st.fromString(n).popFirst(5))}static empty(){return new qt(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===st.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return st.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new qt(new st(n.slice()))}}class hr{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new hr(on.min(),qt.empty(),-1)}static max(){return new hr(on.max(),qt.empty(),-1)}}function An(c,n){let i=c.readTime.compareTo(n.readTime);return 0!==i?i:(i=qt.comparator(c.documentKey,n.documentKey),0!==i?i:Kt(c.largestBatchId,n.largestBatchId))}class xr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Gn(c){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,D.A)(function*(c){if(c.code!==Ge.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==c.message)throw c;dt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Le{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new Le((s,u)=>{this.nextCallback=p=>{this.wrapSuccess(n,p).next(s,u)},this.catchCallback=p=>{this.wrapFailure(i,p).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof Le?i:Le.resolve(i)}catch(i){return Le.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):Le.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):Le.reject(i)}static resolve(n){return new Le((i,s)=>{i(n)})}static reject(n){return new Le((i,s)=>{s(n)})}static waitFor(n){return new Le((i,s)=>{let u=0,p=0,v=!1;n.forEach(R=>{++u,R.next(()=>{++p,v&&p===u&&i()},x=>s(x))}),v=!0,p===u&&i()})}static or(n){let i=Le.resolve(!1);for(const s of n)i=i.next(u=>u?Le.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,p)=>{s.push(i.call(this,u,p))}),this.waitFor(s)}static mapArray(n,i){return new Le((s,u)=>{const p=n.length,v=new Array(p);let R=0;for(let x=0;x<p;x++){const U=x;i(n[U]).next(X=>{v[U]=X,++R,R===p&&s(v)},X=>u(X))}})}static doWhile(n,i){return new Le((s,u)=>{const p=()=>{!0===n()?i().next(()=>{p()},u):s()};p()})}}function Tr(c){return"IndexedDbTransactionError"===c.name}let Ye=(()=>{class c{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ue(u),this.ce=u=>s.writeSequenceNumber(u))}ue(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ce&&this.ce(i),i}}return c.le=-1,c})();function Rn(c){return null==c}function mr(c){return 0===c&&1/c==-1/0}function at(c,n){let i=n;const s=c.length;for(let u=0;u<s;u++){const p=c.charAt(u);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function Et(c){return c+"\x01\x01"}const yt="mutationQueues",kt="mutations",Ri="documentMutations",Fn="remoteDocumentGlobal",rr="targets",Sr="targetDocuments",j="targetGlobal",fe="collectionParents",te="clientMetadata",wt="bundles",On="namedQueries";function Go(c){let n=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n++;return n}function mo(c,n){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n(i,c[i])}function Ds(c){for(const n in c)if(Object.prototype.hasOwnProperty.call(c,n))return!1;return!0}class qr{constructor(n,i){this.comparator=n,this.root=i||Zr.EMPTY}insert(n,i){return new qr(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(n){return new qr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new co(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new co(this.root,n,this.comparator,!1)}getReverseIterator(){return new co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new co(this.root,n,this.comparator,!0)}}class co{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!n.isEmpty();)if(p=i?s(n.key,i):1,i&&u&&(p*=-1),p<0)n=this.isReverse?n.left:n.right;else{if(0===p){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Zr{constructor(n,i,s,u,p){this.key=n,this.value=i,this.color=s??Zr.RED,this.left=u??Zr.EMPTY,this.right=p??Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,p){return new Zr(n??this.key,i??this.value,s??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const p=s(n,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===p?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return Zr.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ut(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw ut(27949);return n+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1,Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut(57766)}get value(){throw ut(16141)}get color(){throw ut(16727)}get left(){throw ut(29726)}get right(){throw ut(36894)}copy(n,i,s,u,p){return this}insert(n,i,s){return new Zr(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jr{constructor(n){this.comparator=n,this.data=new qr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new As(this.data.getIterator())}getIteratorFrom(n){return new As(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof Jr)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Jr(this.comparator);return i.data=n,i}}class As{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xo{constructor(n){this.fields=n,n.sort(Kn.comparator)}static empty(){return new xo([])}unionWith(n){let i=new Jr(Kn.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new xo(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return kr(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class ps extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ji{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new ps("Invalid base64 string: "+p):p}}(n);return new ji(i)}static fromUint8Array(n){const i=function(u){let p="";for(let v=0;v<u.length;++v)p+=String.fromCharCode(u[v]);return p}(n);return new ji(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Kt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}ji.EMPTY_BYTE_STRING=new ji("");const Hs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(c){if(Xe(!!c,39018),"string"==typeof c){let n=0;const i=Hs.exec(c);if(Xe(!!i,46558,{timestamp:c}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(c);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:Fr(c.seconds),nanos:Fr(c.nanos)}}function Fr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function vr(c){return"string"==typeof c?ji.fromBase64String(c):ji.fromUint8Array(c)}const eo="server_timestamp",ra="__type__",Os="__previous_value__",ba="__local_write_time__";function jo(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[ra])||void 0===i?void 0:i.stringValue)===eo}function Er(c){const n=c.mapValue.fields[Os];return jo(n)?Er(n):n}function q(c){const n=Oo(c.mapValue.fields[ba].timestampValue);return new fr(n.seconds,n.nanos)}class G{constructor(n,i,s,u,p,v,R,x,U,X){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=p,this.forceLongPolling=v,this.autoDetectLongPolling=R,this.longPollingOptions=x,this.useFetchStreams=U,this.isUsingEmulator=X}}const Ie="(default)";class Re{constructor(n,i){this.projectId=n,this.database=i||Ie}static empty(){return new Re("","")}get isDefaultDatabase(){return this.database===Ie}isEqual(n){return n instanceof Re&&n.projectId===this.projectId&&n.database===this.database}}const nt="__type__",Mt="__max__",Wt_mapValue={fields:{__type__:{stringValue:Mt}}},Tn="__vector__",pn="value";function Xn(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?jo(c)?4:Da(c)?9007199254740991:gs(c)?10:11:ut(28295,{value:c})}function Ur(c,n){if(c===n)return!0;const i=Xn(c);if(i!==Xn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===n.booleanValue;case 4:return q(c).isEqual(q(n));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const v=Oo(u.timestampValue),R=Oo(p.timestampValue);return v.seconds===R.seconds&&v.nanos===R.nanos}(c,n);case 5:return c.stringValue===n.stringValue;case 6:return p=n,vr(c.bytesValue).isEqual(vr(p.bytesValue));case 7:return c.referenceValue===n.referenceValue;case 8:return function(u,p){return Fr(u.geoPointValue.latitude)===Fr(p.geoPointValue.latitude)&&Fr(u.geoPointValue.longitude)===Fr(p.geoPointValue.longitude)}(c,n);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return Fr(u.integerValue)===Fr(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const v=Fr(u.doubleValue),R=Fr(p.doubleValue);return v===R?mr(v)===mr(R):isNaN(v)&&isNaN(R)}return!1}(c,n);case 9:return kr(c.arrayValue.values||[],n.arrayValue.values||[],Ur);case 10:case 11:return function(u,p){const v=u.mapValue.fields||{},R=p.mapValue.fields||{};if(Go(v)!==Go(R))return!1;for(const x in v)if(v.hasOwnProperty(x)&&(void 0===R[x]||!Ur(v[x],R[x])))return!1;return!0}(c,n);default:return ut(52216,{left:c})}var p}function Ii(c,n){return void 0!==(c.values||[]).find(i=>Ur(i,n))}function _i(c,n){if(c===n)return 0;const i=Xn(c),s=Xn(n);if(i!==s)return Kt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Kt(c.booleanValue,n.booleanValue);case 2:return function(p,v){const R=Fr(p.integerValue||p.doubleValue),x=Fr(v.integerValue||v.doubleValue);return R<x?-1:R>x?1:R===x?0:isNaN(R)?isNaN(x)?0:-1:1}(c,n);case 3:return $i(c.timestampValue,n.timestampValue);case 4:return $i(q(c),q(n));case 5:return Vn(c.stringValue,n.stringValue);case 6:return function(p,v){const R=vr(p),x=vr(v);return R.compareTo(x)}(c.bytesValue,n.bytesValue);case 7:return function(p,v){const R=p.split("/"),x=v.split("/");for(let U=0;U<R.length&&U<x.length;U++){const X=Kt(R[U],x[U]);if(0!==X)return X}return Kt(R.length,x.length)}(c.referenceValue,n.referenceValue);case 8:return function(p,v){const R=Kt(Fr(p.latitude),Fr(v.latitude));return 0!==R?R:Kt(Fr(p.longitude),Fr(v.longitude))}(c.geoPointValue,n.geoPointValue);case 9:return Pi(c.arrayValue,n.arrayValue);case 10:return function(p,v){var R,x,U,X;const _t=null===(R=(p.fields||{})[pn])||void 0===R?void 0:R.arrayValue,jt=null===(x=(v.fields||{})[pn])||void 0===x?void 0:x.arrayValue,un=Kt((null===(U=_t?.values)||void 0===U?void 0:U.length)||0,(null===(X=jt?.values)||void 0===X?void 0:X.length)||0);return 0!==un?un:Pi(_t,jt)}(c.mapValue,n.mapValue);case 11:return function(p,v){if(p===Wt_mapValue&&v===Wt_mapValue)return 0;if(p===Wt_mapValue)return 1;if(v===Wt_mapValue)return-1;const R=p.fields||{},x=Object.keys(R),U=v.fields||{},X=Object.keys(U);x.sort(),X.sort();for(let se=0;se<x.length&&se<X.length;++se){const xe=Vn(x[se],X[se]);if(0!==xe)return xe;const _t=_i(R[x[se]],U[X[se]]);if(0!==_t)return _t}return Kt(x.length,X.length)}(c.mapValue,n.mapValue);default:throw ut(23264,{Pe:i})}}function $i(c,n){if("string"==typeof c&&"string"==typeof n&&c.length===n.length)return Kt(c,n);const i=Oo(c),s=Oo(n),u=Kt(i.seconds,s.seconds);return 0!==u?u:Kt(i.nanos,s.nanos)}function Pi(c,n){const i=c.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const p=_i(i[u],s[u]);if(p)return p}return Kt(i.length,s.length)}function ri(c){return Oi(c)}function Oi(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const s=Oo(i);return`time(${s.seconds},${s.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?vr(c.bytesValue).toBase64():"referenceValue"in c?qt.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let s="[",u=!0;for(const p of i.values||[])u?u=!1:s+=",",s+=Oi(p);return s+"]"}(c.arrayValue):"mapValue"in c?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",p=!0;for(const v of s)p?p=!1:u+=",",u+=`${v}:${Oi(i.fields[v])}`;return u+"}"}(c.mapValue):ut(61005,{value:c})}function uo(c){switch(Xn(c)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=Er(c);return n?16+uo(n):16;case 5:return 2*c.stringValue.length;case 6:return vr(c.bytesValue).approximateByteSize();case 7:return c.referenceValue.length;case 9:return(c.arrayValue.values||[]).reduce((u,p)=>u+uo(p),0);case 10:case 11:return function(s){let u=0;return mo(s.fields,(p,v)=>{u+=p.length+uo(v)}),u}(c.mapValue);default:throw ut(13486,{value:c})}}function vi(c,n){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${n.path.canonicalString()}`}}function Mi(c){return!!c&&"integerValue"in c}function bo(c){return!!c&&"arrayValue"in c}function ii(c){return!!c&&"nullValue"in c}function yo(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function Ko(c){return!!c&&"mapValue"in c}function gs(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[nt])||void 0===i?void 0:i.stringValue)===Tn}function la(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const n={mapValue:{fields:{}}};return mo(c.mapValue.fields,(i,s)=>n.mapValue.fields[i]=la(s)),n}if(c.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=la(c.arrayValue.values[i]);return n}return Object.assign({},c)}function Da(c){return(((c.mapValue||{}).fields||{}).__type__||{}).stringValue===Mt}class oo{constructor(n){this.value=n}static empty(){return new oo({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!Ko(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=la(i)}setAll(n){let i=Kn.emptyPath(),s={},u=[];n.forEach((v,R)=>{if(!i.isImmediateParentOf(R)){const x=this.getFieldsMap(i);this.applyChanges(x,s,u),s={},u=[],i=R.popLast()}v?s[R.lastSegment()]=la(v):u.push(R.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,s,u)}delete(n){const i=this.field(n.popLast());Ko(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Ur(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];Ko(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){mo(i,(u,p)=>n[u]=p);for(const u of s)delete n[u]}clone(){return new oo(la(this.value))}}function Fs(c){const n=[];return mo(c.fields,(i,s)=>{const u=new Kn([i]);if(Ko(s)){const p=Fs(s.mapValue).fields;if(0===p.length)n.push(u);else for(const v of p)n.push(u.child(v))}else n.push(u)}),new xo(n)}class hi{constructor(n,i,s,u,p,v,R){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=p,this.data=v,this.documentState=R}static newInvalidDocument(n){return new hi(n,0,on.min(),on.min(),on.min(),oo.empty(),0)}static newFoundDocument(n,i,s,u){return new hi(n,1,i,on.min(),s,u,0)}static newNoDocument(n,i){return new hi(n,2,i,on.min(),on.min(),oo.empty(),0)}static newUnknownDocument(n,i){return new hi(n,3,i,on.min(),on.min(),oo.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(on.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=oo.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=on.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof hi&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fo{constructor(n,i){this.position=n,this.inclusive=i}}function Ls(c,n,i){let s=0;for(let u=0;u<c.position.length;u++){const p=n[u],v=c.position[u];if(s=p.field.isKeyField()?qt.comparator(qt.fromName(v.referenceValue),i.key):_i(v,i.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function Gs(c,n){if(null===c)return null===n;if(null===n||c.inclusive!==n.inclusive||c.position.length!==n.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!Ur(c.position[i],n.position[i]))return!1;return!0}class qs{constructor(n,i="asc"){this.field=n,this.dir=i}}function Di(c,n){return c.dir===n.dir&&c.field.isEqual(n.field)}class ha{}class Wr extends ha{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new Kr(n,i,s):"array-contains"===i?new $o(n,s):"in"===i?new qi(n,s):"not-in"===i?new Xo(n,s):"array-contains-any"===i?new Zo(n,s):new Wr(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new Jt(n,s):new ir(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&void 0===i.nullValue&&this.matchesComparison(_i(i,this.value)):null!==i&&Xn(this.value)===Xn(i)&&this.matchesComparison(_i(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Br extends ha{constructor(n,i){super(),this.filters=n,this.op=i,this.Te=null}static create(n,i){return new Br(n,i)}matches(n){return Aa(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Aa(c){return"and"===c.op}function Ya(c){return function Ca(c){for(const n of c.filters)if(n instanceof Br)return!1;return!0}(c)&&Aa(c)}function Za(c){if(c instanceof Wr)return c.field.canonicalString()+c.op.toString()+ri(c.value);if(Ya(c))return c.filters.map(n=>Za(n)).join(",");{const n=c.filters.map(i=>Za(i)).join(",");return`${c.op}(${n})`}}function La(c,n){return c instanceof Wr?(s=c,(u=n)instanceof Wr&&s.op===u.op&&s.field.isEqual(u.field)&&Ur(s.value,u.value)):c instanceof Br?function(s,u){return u instanceof Br&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((p,v,R)=>p&&La(v,u.filters[R]),!0)}(c,n):void ut(19439);var s,u}function Qo(c){return c instanceof Wr?`${(i=c).field.canonicalString()} ${i.op} ${ri(i.value)}`:c instanceof Br?function(i){return i.op.toString()+" {"+i.getFilters().map(Qo).join(" ,")+"}"}(c):"Filter";var i}class Kr extends Wr{constructor(n,i,s){super(n,i,s),this.key=qt.fromName(s.referenceValue)}matches(n){const i=qt.comparator(n.key,this.key);return this.matchesComparison(i)}}class Jt extends Wr{constructor(n,i){super(n,"in",i),this.keys=fi(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class ir extends Wr{constructor(n,i){super(n,"not-in",i),this.keys=fi(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function fi(c,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>qt.fromName(s.referenceValue))}class $o extends Wr{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return bo(i)&&Ii(i.arrayValue,this.value)}}class qi extends Wr{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&Ii(this.value.arrayValue,i)}}class Xo extends Wr{constructor(n,i){super(n,"not-in",i)}matches(n){if(Ii(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&void 0===i.nullValue&&!Ii(this.value.arrayValue,i)}}class Zo extends Wr{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!bo(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Ii(this.value.arrayValue,s))}}class oi{constructor(n,i=null,s=[],u=[],p=null,v=null,R=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=p,this.startAt=v,this.endAt=R,this.Ie=null}}function P(c,n=null,i=[],s=[],u=null,p=null,v=null){return new oi(c,n,i,s,u,p,v)}function N(c){const n=Pt(c);if(null===n.Ie){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>Za(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),Rn(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>ri(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>ri(s)).join(",")),n.Ie=i}return n.Ie}function $(c,n){if(c.limit!==n.limit||c.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!Di(c.orderBy[i],n.orderBy[i]))return!1;if(c.filters.length!==n.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!La(c.filters[i],n.filters[i]))return!1;return c.collectionGroup===n.collectionGroup&&!!c.path.isEqual(n.path)&&!!Gs(c.startAt,n.startAt)&&Gs(c.endAt,n.endAt)}function Ae(c){return qt.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}class Hi{constructor(n,i=null,s=[],u=[],p=null,v="F",R=null,x=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=p,this.limitType=v,this.startAt=R,this.endAt=x,this.Ee=null,this.de=null,this.Ae=null}}function Do(c){return new Hi(c)}function Qs(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function Sa(c){return null!==c.collectionGroup}function us(c){const n=Pt(c);if(null===n.Ee){n.Ee=[];const i=new Set;for(const p of n.explicitOrderBy)n.Ee.push(p),i.add(p.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(v){let R=new Jr(Kn.comparator);return v.filters.forEach(x=>{x.getFlattenedFilters().forEach(U=>{U.isInequality()&&(R=R.add(U.field))})}),R})(n).forEach(p=>{i.has(p.canonicalString())||p.isKeyField()||n.Ee.push(new qs(p,s))}),i.has(Kn.keyField().canonicalString())||n.Ee.push(new qs(Kn.keyField(),s))}return n.Ee}function Ao(c){const n=Pt(c);return n.de||(n.de=function ls(c,n){if("F"===c.limitType)return P(c.path,c.collectionGroup,n,c.filters,c.limit,c.startAt,c.endAt);{n=n.map(u=>new qs(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new Fo(c.endAt.position,c.endAt.inclusive):null,s=c.startAt?new Fo(c.startAt.position,c.startAt.inclusive):null;return P(c.path,c.collectionGroup,n,c.filters,c.limit,i,s)}}(n,us(c))),n.de}function fa(c,n){const i=c.filters.concat([n]);return new Hi(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function Mn(c,n,i){return new Hi(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),n,i,c.startAt,c.endAt)}function pa(c,n){return $(Ao(c),Ao(n))&&c.limitType===n.limitType}function Ms(c){return`${N(Ao(c))}|lt:${c.limitType}`}function _s(c){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Qo(u)).join(", ")}]`),Rn(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(v=u).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>ri(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>ri(u)).join(",")),`Target(${s})`}(Ao(c))}; limitType=${c.limitType})`}function Ra(c,n){return n.isFoundDocument()&&function(s,u){const p=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):qt.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(c,n)&&function(s,u){for(const p of us(s))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(c,n)&&function(s,u){for(const p of s.filters)if(!p.matches(u))return!1;return!0}(c,n)&&(u=n,!((s=c).startAt&&!function(v,R,x){const U=Ls(v,R,x);return v.inclusive?U<=0:U<0}(s.startAt,us(s),u)||s.endAt&&!function(v,R,x){const U=Ls(v,R,x);return v.inclusive?U>=0:U>0}(s.endAt,us(s),u)));var s,u}function zi(c){return(n,i)=>{let s=!1;for(const u of us(c)){const p=Qi(u,n,i);if(0!==p)return p;s=s||u.field.isKeyField()}return 0}}function Qi(c,n,i){const s=c.field.isKeyField()?qt.comparator(n.key,i.key):function(p,v,R){const x=v.data.field(p),U=R.data.field(p);return null!==x&&null!==U?_i(x,U):ut(42886)}(c.field,n,i);switch(c.dir){case"asc":return s;case"desc":return-1*s;default:return ut(19790,{direction:c.dir})}}class Ai{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,p]of s)if(this.equalsFn(u,n))return p}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],n))return void(u[p]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){mo(this.inner,(i,s)=>{for(const[u,p]of s)n(u,p)})}isEmpty(){return Ds(this.inner)}size(){return this.innerSize}}const Ja=new qr(qt.comparator);function to(){return Ja}const vc=new qr(qt.comparator);function Jo(...c){let n=vc;for(const i of c)n=n.insert(i.key,i);return n}function Vs(c){let n=vc;return c.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function A(){return S()}function k(){return S()}function S(){return new Ai(c=>c.toString(),(c,n)=>c.isEqual(n))}const m=new qr(qt.comparator),d=new Jr(qt.comparator);function f(...c){let n=d;for(const i of c)n=n.add(i);return n}const E=new Jr(Kt);function V(c,n){if(c.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mr(n)?"-0":n}}function ee(c){return{integerValue:""+c}}function Ee(c,n){return function ne(c){return"number"==typeof c&&Number.isInteger(c)&&!mr(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}(n)?ee(n):V(c,n)}class We{constructor(){this._=void 0}}function pt(c,n,i){return c instanceof Yn?function(u,p){const v={fields:{[ra]:{stringValue:eo},[ba]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&jo(p)&&(p=Er(p)),p&&(v.fields[Os]=p),{mapValue:v}}(i,n):c instanceof zn?Zn(c,n):c instanceof ur?Fi(c,n):function(u,p){const v=ln(u,p),R=ds(v)+ds(u.Re);return Mi(v)&&Mi(u.Re)?ee(R):V(u.serializer,R)}(c,n)}function an(c,n,i){return c instanceof zn?Zn(c,n):c instanceof ur?Fi(c,n):i}function ln(c,n){return c instanceof Co?Mi(s=n)||(p=s)&&"doubleValue"in p?n:{integerValue:0}:null;var s,p}class Yn extends We{}class zn extends We{constructor(n){super(),this.elements=n}}function Zn(c,n){const i=Cs(n);for(const s of c.elements)i.some(u=>Ur(u,s))||i.push(s);return{arrayValue:{values:i}}}class ur extends We{constructor(n){super(),this.elements=n}}function Fi(c,n){let i=Cs(n);for(const s of c.elements)i=i.filter(u=>!Ur(u,s));return{arrayValue:{values:i}}}class Co extends We{constructor(n,i){super(),this.serializer=n,this.Re=i}}function ds(c){return Fr(c.integerValue||c.doubleValue)}function Cs(c){return bo(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class ga{constructor(n,i){this.version=n,this.transformResults=i}}class Gr{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new Gr}static exists(n){return new Gr(void 0,n)}static updateTime(n){return new Gr(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function hs(c,n){return void 0!==c.updateTime?n.isFoundDocument()&&n.version.isEqual(c.updateTime):void 0===c.exists||c.exists===n.isFoundDocument()}class ia{}function ma(c,n){if(!c.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return c.isNoDocument()?new ei(c.key,Gr.none()):new Ba(c.key,c.data,Gr.none());{const i=c.data,s=oo.empty();let u=new Jr(Kn.comparator);for(let p of n.fields)if(!u.has(p)){let v=i.field(p);null===v&&p.length>1&&(p=p.popLast(),v=i.field(p)),null===v?s.delete(p):s.set(p,v),u=u.add(p)}return new Nn(c.key,s,new xo(u.toArray()),Gr.none())}}function Nl(c,n,i){c instanceof Ba?function(u,p,v){const R=u.value.clone(),x=dr(u.fieldTransforms,p,v.transformResults);R.setAll(x),p.convertToFoundDocument(v.version,R).setHasCommittedMutations()}(c,n,i):c instanceof Nn?function(u,p,v){if(!hs(u.precondition,p))return void p.convertToUnknownDocument(v.version);const R=dr(u.fieldTransforms,p,v.transformResults),x=p.data;x.setAll(gn(u)),x.setAll(R),p.convertToFoundDocument(v.version,x).setHasCommittedMutations()}(c,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Ti(c,n,i,s){return c instanceof Ba?function(p,v,R,x){if(!hs(p.precondition,v))return R;const U=p.value.clone(),X=jr(p.fieldTransforms,x,v);return U.setAll(X),v.convertToFoundDocument(v.version,U).setHasLocalMutations(),null}(c,n,i,s):c instanceof Nn?function(p,v,R,x){if(!hs(p.precondition,v))return R;const U=jr(p.fieldTransforms,x,v),X=v.data;return X.setAll(gn(p)),X.setAll(U),v.convertToFoundDocument(v.version,X).setHasLocalMutations(),null===R?null:R.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(se=>se.field))}(c,n,i,s):(R=i,hs(c.precondition,v=n)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):R);var v,R}function Wu(c,n){let i=null;for(const s of c.fieldTransforms){const u=n.data.field(s.field),p=ln(s.transform,u||null);null!=p&&(null===i&&(i=oo.empty()),i.set(s.field,p))}return i||null}function pi(c,n){return c.type===n.type&&!!c.key.isEqual(n.key)&&!!c.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=c.fieldTransforms)&&void 0===u||s&&u&&kr(s,u,(p,v)=>function Ec(c,n){return c.field.isEqual(n.field)&&(u=n.transform,(s=c.transform)instanceof zn&&u instanceof zn||s instanceof ur&&u instanceof ur?kr(s.elements,u.elements,Ur):s instanceof Co&&u instanceof Co?Ur(s.Re,u.Re):s instanceof Yn&&u instanceof Yn);var s,u}(p,v))))&&(0===c.type?c.value.isEqual(n.value):1!==c.type||c.data.isEqual(n.data)&&c.fieldMask.isEqual(n.fieldMask));var s,u}class Ba extends ia{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Nn extends ia{constructor(n,i,s,u,p=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function gn(c){const n=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=c.data.field(i);n.set(i,s)}}),n}function dr(c,n,i){const s=new Map;Xe(c.length===i.length,32656,{Ve:i.length,me:c.length});for(let u=0;u<i.length;u++){const p=c[u],v=p.transform,R=n.data.field(p.field);s.set(p.field,an(v,R,i[u]))}return s}function jr(c,n,i){const s=new Map;for(const u of c){const p=u.transform,v=i.data.field(u.field);s.set(u.field,pt(p,v,n))}return s}class ei extends ia{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ss extends ia{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class So{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(n.key)&&Nl(p,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=Ti(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=Ti(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=k();return this.mutations.forEach(u=>{const p=n.get(u.key),v=p.overlayedDocument;let R=this.applyToLocalView(v,p.mutatedFields);R=i.has(u.key)?null:R;const x=ma(v,R);null!==x&&s.set(u.key,x),v.isValidDocument()||v.convertToNoDocument(on.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),f())}isEqual(n){return this.batchId===n.batchId&&kr(this.mutations,n.mutations,(i,s)=>pi(i,s))&&kr(this.baseMutations,n.baseMutations,(i,s)=>pi(i,s))}}class Ho{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){Xe(n.mutations.length===s.length,58842,{fe:n.mutations.length,ge:s.length});let u=function(){return m}();const p=n.mutations;for(let v=0;v<p.length;v++)u=u.insert(p[v].key,s[v].version);return new Ho(n,i,s,u)}}class ki{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Gu{constructor(n,i){this.count=n,this.unchangedNames=i}}var Qr,Mr;function ja(c){if(void 0===c)return $n("GRPC error has no .code"),Ge.UNKNOWN;switch(c){case Qr.OK:return Ge.OK;case Qr.CANCELLED:return Ge.CANCELLED;case Qr.UNKNOWN:return Ge.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return Ge.INTERNAL;case Qr.UNAVAILABLE:return Ge.UNAVAILABLE;case Qr.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case Qr.NOT_FOUND:return Ge.NOT_FOUND;case Qr.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case Qr.ABORTED:return Ge.ABORTED;case Qr.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case Qr.DATA_LOSS:return Ge.DATA_LOSS;default:return ut(39323,{code:c})}}(Mr=Qr||(Qr={}))[Mr.OK=0]="OK",Mr[Mr.CANCELLED=1]="CANCELLED",Mr[Mr.UNKNOWN=2]="UNKNOWN",Mr[Mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mr[Mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mr[Mr.NOT_FOUND=5]="NOT_FOUND",Mr[Mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mr[Mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mr[Mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mr[Mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mr[Mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mr[Mr.ABORTED=10]="ABORTED",Mr[Mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mr[Mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mr[Mr.INTERNAL=13]="INTERNAL",Mr[Mr.UNAVAILABLE=14]="UNAVAILABLE",Mr[Mr.DATA_LOSS=15]="DATA_LOSS";const wf=new ge([4294967295,4294967295],0);function uu(c){const n=Qn().encode(c),i=new Ue;return i.update(n),new Uint8Array(i.digest())}function ih(c){const n=new DataView(c.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),p=n.getUint32(12,!0);return[new ge([i,s],0),new ge([u,p],0)]}class wc{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ec(`Invalid padding: ${i}`);if(s<0)throw new ec(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new ec(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new ec(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*n.length-i,this.ye=ge.fromNumber(this.pe)}we(n,i,s){let u=n.add(i.multiply(ge.fromNumber(s)));return 1===u.compare(wf)&&(u=new ge([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.pe)return!1;const i=uu(n),[s,u]=ih(i);for(let p=0;p<this.hashCount;p++){const v=this.we(s,u,p);if(!this.Se(v))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,p=new Uint8Array(Math.ceil(n/8)),v=new wc(p,u,i);return s.forEach(R=>v.insert(R)),v}insert(n){if(0===this.pe)return;const i=uu(n),[s,u]=ih(i);for(let p=0;p<this.hashCount;p++){const v=this.we(s,u,p);this.be(v)}}be(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vc{constructor(n,i,s,u,p){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,oa.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new Vc(on.min(),u,new qr(Kt),to(),f())}}class oa{constructor(n,i,s,u,p){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new oa(s,i,f(),f(),f())}}class Ic{constructor(n,i,s,u){this.De=n,this.removedTargetIds=i,this.key=s,this.ve=u}}class xl{constructor(n,i){this.targetId=n,this.Ce=i}}class If{constructor(n,i,s=ji.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class br{constructor(){this.Fe=0,this.Me=Fl(),this.xe=ji.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(n){n.approximateByteSize()>0&&(this.Ne=!0,this.xe=n)}qe(){let n=f(),i=f(),s=f();return this.Me.forEach((u,p)=>{switch(p){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:ut(38017,{changeType:p})}}),new oa(this.xe,this.Oe,n,i,s)}Qe(){this.Ne=!1,this.Me=Fl()}$e(n,i){this.Ne=!0,this.Me=this.Me.insert(n,i)}Ue(n){this.Ne=!0,this.Me=this.Me.remove(n)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ol{constructor(n){this.ze=n,this.je=new Map,this.He=to(),this.Je=$a(),this.Ye=$a(),this.Ze=new qr(Kt)}Xe(n){for(const i of n.De)n.ve&&n.ve.isFoundDocument()?this.et(i,n.ve):this.tt(i,n.key,n.ve);for(const i of n.removedTargetIds)this.tt(i,n.key,n.ve)}nt(n){this.forEachTarget(n,i=>{const s=this.rt(i);switch(n.state){case 0:this.it(i)&&s.ke(n.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(n.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(n.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(n.resumeToken));break;default:ut(56790,{state:n.state})}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.je.forEach((s,u)=>{this.it(u)&&i(u)})}ot(n){const i=n.targetId,s=n.Ce.count,u=this._t(i);if(u){const p=u.target;if(Ae(p))if(0===s){const v=new qt(p.path);this.tt(i,v,hi.newNoDocument(v,on.min()))}else Xe(1===s,20013,{expectedCount:s});else{const v=this.ut(i);if(v!==s){const R=this.ct(n),x=R?this.lt(R,n,v):1;0!==x&&(this.st(i),this.Ze=this.Ze.insert(i,2===x?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ct(n){const i=n.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:p=0}=i;let v,R;try{v=vr(s).toUint8Array()}catch(x){if(x instanceof ps)return kn("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{R=new wc(v,u,p)}catch(x){return kn(x instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return 0===R.pe?null:R}lt(n,i,s){return i.Ce.count===s-this.Tt(n,i.targetId)?0:2}Tt(n,i){const s=this.ze.getRemoteKeysForTarget(i);let u=0;return s.forEach(p=>{const v=this.ze.Pt(),R=`projects/${v.projectId}/databases/${v.database}/documents/${p.path.canonicalString()}`;n.mightContain(R)||(this.tt(i,p,null),u++)}),u}It(n){const i=new Map;this.je.forEach((p,v)=>{const R=this._t(v);if(R){if(p.current&&Ae(R.target)){const x=new qt(R.target.path);this.Et(x).has(v)||this.dt(v,x)||this.tt(v,x,hi.newNoDocument(x,n))}p.Le&&(i.set(v,p.qe()),p.Qe())}});let s=f();this.Ye.forEach((p,v)=>{let R=!0;v.forEachWhile(x=>{const U=this._t(x);return!U||"TargetPurposeLimboResolution"===U.purpose||(R=!1,!1)}),R&&(s=s.add(p))}),this.He.forEach((p,v)=>v.setReadTime(n));const u=new Vc(n,i,this.Ze,this.He,s);return this.He=to(),this.Je=$a(),this.Ye=$a(),this.Ze=new qr(Kt),u}et(n,i){if(!this.it(n))return;const s=this.dt(n,i.key)?2:0;this.rt(n).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(n)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(n))}tt(n,i,s){if(!this.it(n))return;const u=this.rt(n);this.dt(n,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(n)),this.Ye=this.Ye.insert(i,this.At(i).add(n)),s&&(this.He=this.He.insert(i,s))}removeTarget(n){this.je.delete(n)}ut(n){const i=this.rt(n).qe();return this.ze.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}Ke(n){this.rt(n).Ke()}rt(n){let i=this.je.get(n);return i||(i=new br,this.je.set(n,i)),i}At(n){let i=this.Ye.get(n);return i||(i=new Jr(Kt),this.Ye=this.Ye.insert(n,i)),i}Et(n){let i=this.Je.get(n);return i||(i=new Jr(Kt),this.Je=this.Je.insert(n,i)),i}it(n){const i=null!==this._t(n);return i||dt("WatchChangeAggregator","Detected inactive target",n),i}_t(n){const i=this.je.get(n);return i&&i.Be?null:this.ze.Rt(n)}st(n){this.je.set(n,new br),this.ze.getRemoteKeysForTarget(n).forEach(i=>{this.tt(n,i,null)})}dt(n,i){return this.ze.getRemoteKeysForTarget(n).has(i)}}function $a(){return new qr(qt.comparator)}function Fl(){return new qr(qt.comparator)}const Hy={asc:"ASCENDING",desc:"DESCENDING"},Eg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oh={and:"AND",or:"OR"};class Tf{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function Ma(c,n){return c.useProto3Json||Rn(n)?n:{value:n}}function qu(c,n){return c.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Ll(c,n){return c.useProto3Json?n.toBase64():n.toUint8Array()}function zy(c,n){return qu(c,n.toTimestamp())}function Vo(c){return Xe(!!c,49232),on.fromTimestamp(function(i){const s=Oo(i);return new fr(s.seconds,s.nanos)}(c))}function Ku(c,n){return At(c,n).canonicalString()}function At(c,n){const i=(u=c,new st(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function wr(c){const n=st.fromString(c);return Xe(jl(n),10190,{key:n.toString()}),n}function Tc(c,n){return Ku(c.databaseId,n.path)}function sa(c,n){const i=wr(n);if(i.get(1)!==c.databaseId.projectId)throw new Z(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new Z(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new qt(Xs(i))}function $r(c,n){return Ku(c.databaseId,n)}function aa(c){return new st(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Xs(c){return Xe(c.length>4&&"documents"===c.get(4),29091,{key:c.toString()}),c.popFirst(5)}function Vl(c,n,i){return{name:Tc(c,n),fields:i.value.mapValue.fields}}function Uc(c,n){return{documents:[$r(c,n.path)]}}function Rs(c,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=$r(c,u);const p=function(U){if(0!==U.length)return du(Br.create(U,"and"))}(n.filters);p&&(i.structuredQuery.where=p);const v=function(U){if(0!==U.length)return U.map(X=>{return{field:bc((xe=X).field),direction:Ig(xe.dir)};var xe})}(n.orderBy);v&&(i.structuredQuery.orderBy=v);const R=Ma(c,n.limit);return null!==R&&(i.structuredQuery.limit=R),n.startAt&&(i.structuredQuery.startAt={before:(U=n.startAt).inclusive,values:U.position}),n.endAt&&(i.structuredQuery.endAt=function(U){return{before:!U.inclusive,values:U.position}}(n.endAt)),{gt:i,parent:u};var U}function Cf(c){let n=function bf(c){const n=wr(c);return 4===n.length?st.emptyPath():Xs(n)}(c.parent);const i=c.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Xe(1===s,65062);const X=i.from[0];X.allDescendants?u=X.collectionId:n=n.child(X.collectionId)}let p=[];i.where&&(p=function(se){const xe=_a(se);return xe instanceof Br&&Ya(xe)?xe.getFilters():[xe]}(i.where));let v=[];i.orderBy&&(v=i.orderBy.map(xe=>{return new qs(Ha((jt=xe).field),function(nn){switch(nn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(jt.direction));var jt}));let R=null;i.limit&&(R=function(se){let xe;return xe="object"==typeof se?se.value:se,Rn(xe)?null:xe}(i.limit));let x=null;var se;i.startAt&&(x=new Fo((se=i.startAt).values||[],!!se.before));let U=null;return i.endAt&&(U=function(se){return new Fo(se.values||[],!se.before)}(i.endAt)),function Ki(c,n,i,s,u,p,v,R){return new Hi(c,n,i,s,u,p,v,R)}(n,u,v,p,R,"F",x,U)}function _a(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ha(i.unaryFilter.field);return Wr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Ha(i.unaryFilter.field);return Wr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Ha(i.unaryFilter.field);return Wr.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Ha(i.unaryFilter.field);return Wr.create(v,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ut(61313);default:return ut(60726)}}(c):void 0!==c.fieldFilter?Wr.create(Ha((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ut(58110);default:return ut(50506)}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return Br.create(i.compositeFilter.filters.map(s=>_a(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ut(1026)}}(i.compositeFilter.op))}(c):ut(30097,{filter:c});var i}function Ig(c){return Hy[c]}function lu(c){return Eg[c]}function Tg(c){return oh[c]}function bc(c){return{fieldPath:c.canonicalString()}}function Ha(c){return Kn.fromServerFormat(c.fieldPath)}function du(c){return c instanceof Wr?function(i){if("=="===i.op){if(yo(i.value))return{unaryFilter:{field:bc(i.field),op:"IS_NAN"}};if(ii(i.value))return{unaryFilter:{field:bc(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(yo(i.value))return{unaryFilter:{field:bc(i.field),op:"IS_NOT_NAN"}};if(ii(i.value))return{unaryFilter:{field:bc(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(i.field),op:lu(i.op),value:i.value}}}(c):c instanceof Br?function(i){const s=i.getFilters().map(u=>du(u));return 1===s.length?s[0]:{compositeFilter:{op:Tg(i.op),filters:s}}}(c):ut(54877,{filter:c})}function Qu(c){const n=[];return c.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function jl(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class tc{constructor(n,i,s,u,p=on.min(),v=on.min(),R=ji.EMPTY_BYTE_STRING,x=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=R,this.expectedCount=x}withSequenceNumber(n){return new tc(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class $l{constructor(n){this.wt=n}}function rc(c){const n=Cf({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?Mn(n,n.limit,"L"):n}class Dc{constructor(){}vt(n,i){this.Ct(n,i),i.Ft()}Ct(n,i){if("nullValue"in n)this.Mt(i,5);else if("booleanValue"in n)this.Mt(i,10),i.xt(n.booleanValue?1:0);else if("integerValue"in n)this.Mt(i,15),i.xt(Fr(n.integerValue));else if("doubleValue"in n){const s=Fr(n.doubleValue);isNaN(s)?this.Mt(i,13):(this.Mt(i,15),mr(s)?i.xt(0):i.xt(s))}else if("timestampValue"in n){let s=n.timestampValue;this.Mt(i,20),"string"==typeof s&&(s=Oo(s)),i.Ot(`${s.seconds||""}`),i.xt(s.nanos||0)}else if("stringValue"in n)this.Nt(n.stringValue,i),this.Bt(i);else if("bytesValue"in n)this.Mt(i,30),i.Lt(vr(n.bytesValue)),this.Bt(i);else if("referenceValue"in n)this.kt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.Mt(i,45),i.xt(s.latitude||0),i.xt(s.longitude||0)}else"mapValue"in n?Da(n)?this.Mt(i,Number.MAX_SAFE_INTEGER):gs(n)?this.qt(n.mapValue,i):(this.Qt(n.mapValue,i),this.Bt(i)):"arrayValue"in n?(this.$t(n.arrayValue,i),this.Bt(i)):ut(19022,{Ut:n})}Nt(n,i){this.Mt(i,25),this.Kt(n,i)}Kt(n,i){i.Ot(n)}Qt(n,i){const s=n.fields||{};this.Mt(i,55);for(const u of Object.keys(s))this.Nt(u,i),this.Ct(s[u],i)}qt(n,i){var s,u;const p=n.fields||{};this.Mt(i,53);const v=pn,R=(null===(u=null===(s=p[v].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.Mt(i,15),i.xt(Fr(R)),this.Nt(v,i),this.Ct(p[v],i)}$t(n,i){const s=n.values||[];this.Mt(i,50);for(const u of s)this.Ct(u,i)}kt(n,i){this.Mt(i,37),qt.fromName(n).path.forEach(s=>{this.Mt(i,60),this.Kt(s,i)})}Mt(n,i){n.xt(i)}Bt(n){n.xt(2)}}Dc.Wt=new Dc;class tl{constructor(){this.Cn=new dh}addToCollectionParentIndex(n,i){return this.Cn.add(i),Le.resolve()}getCollectionParents(n,i){return Le.resolve(this.Cn.getEntries(i))}addFieldIndex(n,i){return Le.resolve()}deleteFieldIndex(n,i){return Le.resolve()}deleteAllFieldIndexes(n){return Le.resolve()}createTargetIndexes(n,i){return Le.resolve()}getDocumentsMatchingTarget(n,i){return Le.resolve(null)}getIndexType(n,i){return Le.resolve(0)}getFieldIndexes(n,i){return Le.resolve([])}getNextCollectionGroupToUpdate(n){return Le.resolve(null)}getMinOffset(n,i){return Le.resolve(hr.min())}getMinOffsetFromCollectionGroup(n,i){return Le.resolve(hr.min())}updateCollectionGroup(n,i,s){return Le.resolve()}updateIndexEntries(n,i){return Le.resolve()}}class dh{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new Jr(st.comparator),p=!u.has(s);return this.index[i]=u.add(s),p}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new Jr(st.comparator)).toArray()}}new Uint8Array(0);const Ff={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class es{static withCacheSize(n){return new es(n,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(41943040,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);class Wc{constructor(n){this.ur=n}next(){return this.ur+=2,this.ur}static cr(){return new Wc(0)}static lr(){return new Wc(-1)}}const Yl="LruGarbageCollector";function uc([c,n],[i,s]){const u=Kt(c,i);return 0===u?Kt(n,s):u}class Gc{constructor(n){this.Er=n,this.buffer=new Jr(uc),this.dr=0}Ar(){return++this.dr}Rr(n){const i=[n,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();uc(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Uo{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(n){var i=this;dt(Yl,`Garbage collection scheduled in ${n}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,D.A)(function*(){i.Vr=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){Tr(s)?dt(Yl,"Ignoring IndexedDB error during garbage collection: ",s):yield Gn(s)}yield i.mr(3e5)}))}}class bg{constructor(n,i){this.gr=n,this.params=i}calculateTargetCount(n,i){return this.gr.pr(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return Le.resolve(Ye.le);const s=new Gc(i);return this.gr.forEachTarget(n,u=>s.Rr(u.sequenceNumber)).next(()=>this.gr.yr(n,u=>s.Rr(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.gr.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.gr.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),Le.resolve(Ff)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ff):this.wr(n,i))}getCacheSize(n){return this.gr.getCacheSize(n)}wr(n,i){let s,u,p,v,R,x,U;const X=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(se=>(se>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${se}`),u=this.params.maximumSequenceNumbersToCollect):u=se,v=Date.now(),this.nthSequenceNumber(n,u))).next(se=>(s=se,R=Date.now(),this.removeTargets(n,s,i))).next(se=>(p=se,x=Date.now(),this.removeOrphanedDocuments(n,s))).next(se=>(U=Date.now(),Xt()<=w.$b.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-X}ms\n\tDetermined least recently used ${u} in `+(R-v)+`ms\n\tRemoved ${p} targets in `+(x-R)+`ms\n\tRemoved ${se} documents in `+(U-x)+`ms\nTotal Duration: ${U-X}ms`),Le.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:se})))}}class mh{constructor(){this.changes=new Ai(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,hi.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?Le.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Ut{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class mn{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&Ti(s.mutation,u,xo.empty(),fr.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,f()).next(()=>s))}getLocalViewOfDocuments(n,i,s=f()){const u=A();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(p=>{let v=Jo();return p.forEach((R,x)=>{v=v.insert(R,x.overlayedDocument)}),v}))}getOverlayedDocuments(n,i){const s=A();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,f()))}populateOverlays(n,i,s){const u=[];return s.forEach(p=>{i.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(n,u).next(p=>{p.forEach((v,R)=>{i.set(v,R)})})}computeViews(n,i,s,u){let p=to();const v=S(),R=S();return i.forEach((x,U)=>{const X=s.get(U.key);u.has(U.key)&&(void 0===X||X.mutation instanceof Nn)?p=p.insert(U.key,U):void 0!==X?(v.set(U.key,X.mutation.getFieldMask()),Ti(X.mutation,U,X.mutation.getFieldMask(),fr.now())):v.set(U.key,xo.empty())}),this.recalculateAndSaveOverlays(n,p).next(x=>(x.forEach((U,X)=>v.set(U,X)),i.forEach((U,X)=>{var se;return R.set(U,new Ut(X,null!==(se=v.get(U))&&void 0!==se?se:null))}),R))}recalculateAndSaveOverlays(n,i){const s=S();let u=new qr((v,R)=>v-R),p=f();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(v=>{for(const R of v)R.keys().forEach(x=>{const U=i.get(x);if(null===U)return;let X=s.get(x)||xo.empty();X=R.applyToLocalView(U,X),s.set(x,X);const se=(u.get(R.batchId)||f()).add(x);u=u.insert(R.batchId,se)})}).next(()=>{const v=[],R=u.getReverseIterator();for(;R.hasNext();){const x=R.getNext(),U=x.key,X=x.value,se=k();X.forEach(xe=>{if(!p.has(xe)){const _t=ma(i.get(xe),s.get(xe));null!==_t&&se.set(xe,_t),p=p.add(xe)}}),v.push(this.documentOverlayCache.saveOverlays(n,U,se))}return Le.waitFor(v)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return qt.isDocumentKey((v=i).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Sa(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var v}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(p=>{const v=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-p.size):Le.resolve(A());let R=-1,x=p;return v.next(U=>Le.forEach(U,(X,se)=>(R<se.largestBatchId&&(R=se.largestBatchId),p.get(X)?Le.resolve():this.remoteDocumentCache.getEntry(n,X).next(xe=>{x=x.insert(X,xe)}))).next(()=>this.populateOverlays(n,U,p)).next(()=>this.computeViews(n,x,U,f())).next(X=>({batchId:R,changes:Vs(X)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new qt(i)).next(s=>{let u=Jo();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const p=i.collectionGroup;let v=Jo();return this.indexManager.getCollectionParents(n,p).next(R=>Le.forEach(R,x=>{const U=(se=i,xe=x.child(p),new Hi(xe,null,se.explicitOrderBy.slice(),se.filters.slice(),se.limit,se.limitType,se.startAt,se.endAt));var se,xe;return this.getDocumentsMatchingCollectionQuery(n,U,s,u).next(X=>{X.forEach((se,xe)=>{v=v.insert(se,xe)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(n,i,s,u){let p;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(v=>(p=v,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,p,u))).next(v=>{p.forEach((x,U)=>{const X=U.getKey();null===v.get(X)&&(v=v.insert(X,hi.newInvalidDocument(X)))});let R=Jo();return v.forEach((x,U)=>{const X=p.get(x);void 0!==X&&Ti(X.mutation,U,xo.empty(),fr.now()),Ra(i,U)&&(R=R.insert(x,U))}),R})}}class jn{constructor(n){this.serializer=n,this.kr=new Map,this.qr=new Map}getBundleMetadata(n,i){return Le.resolve(this.kr.get(i))}saveBundleMetadata(n,i){return this.kr.set(i.id,{id:(u=i).id,version:u.version,createTime:Vo(u.createTime)}),Le.resolve();var u}getNamedQuery(n,i){return Le.resolve(this.qr.get(i))}saveNamedQuery(n,i){return this.qr.set(i.name,{name:(u=i).name,query:rc(u.bundledQuery),readTime:Vo(u.readTime)}),Le.resolve();var u}}class Wn{constructor(){this.overlays=new qr(qt.comparator),this.Qr=new Map}getOverlay(n,i){return Le.resolve(this.overlays.get(i))}getOverlays(n,i){const s=A();return Le.forEach(i,u=>this.getOverlay(n,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,p)=>{this.bt(n,i,p)}),Le.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.Qr.get(s);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.Qr.delete(s)),Le.resolve()}getOverlaysForCollection(n,i,s){const u=A(),p=i.length+1,v=new qt(i.child("")),R=this.overlays.getIteratorFrom(v);for(;R.hasNext();){const x=R.getNext().value,U=x.getKey();if(!i.isPrefixOf(U.path))break;U.path.length===p&&x.largestBatchId>s&&u.set(x.getKey(),x)}return Le.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let p=new qr((U,X)=>U-X);const v=this.overlays.getIterator();for(;v.hasNext();){const U=v.getNext().value;if(U.getKey().getCollectionGroup()===i&&U.largestBatchId>s){let X=p.get(U.largestBatchId);null===X&&(X=A(),p=p.insert(U.largestBatchId,X)),X.set(U.getKey(),U)}}const R=A(),x=p.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((U,X)=>R.set(U,X)),!(R.size()>=u)););return Le.resolve(R)}bt(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const v=this.Qr.get(u.largestBatchId).delete(s.key);this.Qr.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new ki(i,s));let p=this.Qr.get(i);void 0===p&&(p=f(),this.Qr.set(i,p)),this.Qr.set(i,p.add(s.key))}}class Rr{constructor(){this.sessionToken=ji.EMPTY_BYTE_STRING}getSessionToken(n){return Le.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,Le.resolve()}}class Ro{constructor(){this.$r=new Jr(no.Ur),this.Kr=new Jr(no.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(n,i){const s=new no(n,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.zr(new no(n,i))}jr(n,i){n.forEach(s=>this.removeReference(s,i))}Hr(n){const i=new qt(new st([])),s=new no(i,n),u=new no(i,n+1),p=[];return this.Kr.forEachInRange([s,u],v=>{this.zr(v),p.push(v.key)}),p}Jr(){this.$r.forEach(n=>this.zr(n))}zr(n){this.$r=this.$r.delete(n),this.Kr=this.Kr.delete(n)}Yr(n){const i=new qt(new st([])),s=new no(i,n),u=new no(i,n+1);let p=f();return this.Kr.forEachInRange([s,u],v=>{p=p.add(v.key)}),p}containsKey(n){const i=new no(n,0),s=this.$r.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class no{constructor(n,i){this.key=n,this.Zr=i}static Ur(n,i){return qt.comparator(n.key,i.key)||Kt(n.Zr,i.Zr)}static Wr(n,i){return Kt(n.Zr,i.Zr)||qt.comparator(n.key,i.key)}}class qc{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Jr(no.Ur)}checkEmpty(n){return Le.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const p=this.nr;this.nr++;const v=new So(p,i,s,u);this.mutationQueue.push(v);for(const R of u)this.Xr=this.Xr.add(new no(R.key,p)),this.indexManager.addToCollectionParentIndex(n,R.key.path.popLast());return Le.resolve(v)}lookupMutationBatch(n,i){return Le.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.ti(i+1),p=u<0?0:u;return Le.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(0===this.mutationQueue.length?-1:this.nr-1)}getAllMutationBatches(n){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new no(i,0),u=new no(i,Number.POSITIVE_INFINITY),p=[];return this.Xr.forEachInRange([s,u],v=>{const R=this.ei(v.Zr);p.push(R)}),Le.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Jr(Kt);return i.forEach(u=>{const p=new no(u,0),v=new no(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([p,v],R=>{s=s.add(R.Zr)})}),Le.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let p=s;qt.isDocumentKey(p)||(p=p.child(""));const v=new no(new qt(p),0);let R=new Jr(Kt);return this.Xr.forEachWhile(x=>{const U=x.key.path;return!!s.isPrefixOf(U)&&(U.length===u&&(R=R.add(x.Zr)),!0)},v),Le.resolve(this.ni(R))}ni(n){const i=[];return n.forEach(s=>{const u=this.ei(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){Xe(0===this.ri(i.batchId,"removed"),55003),this.mutationQueue.shift();let s=this.Xr;return Le.forEach(i.mutations,u=>{const p=new no(u.key,i.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.Xr=s})}sr(n){}containsKey(n,i){const s=new no(i,0),u=this.Xr.firstAfterOrEqual(s);return Le.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return Le.resolve()}ri(n,i){return this.ti(n)}ti(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}ei(n){const i=this.ti(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ed{constructor(n){this.ii=n,this.docs=new qr(qt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),p=u?u.size:0,v=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:v}),this.size+=v-p,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return Le.resolve(s?s.document.mutableCopy():hi.newInvalidDocument(i))}getEntries(n,i){let s=to();return i.forEach(u=>{const p=this.docs.get(u);s=s.insert(u,p?p.document.mutableCopy():hi.newInvalidDocument(u))}),Le.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let p=to();const v=i.path,R=new qt(v.child("__id-9223372036854775808__")),x=this.docs.getIteratorFrom(R);for(;x.hasNext();){const{key:U,value:{document:X}}=x.getNext();if(!v.isPrefixOf(U.path))break;U.path.length>v.length+1||An(new hr((c=X).readTime,c.key,-1),s)<=0||(u.has(X.key)||Ra(i,X))&&(p=p.insert(X.key,X.mutableCopy()))}var c;return Le.resolve(p)}getAllFromCollectionGroup(n,i,s,u){ut(9500)}si(n,i){return Le.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new vs(this)}getSize(n){return Le.resolve(this.size)}}class vs extends mh{constructor(n){super(),this.Br=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(n,u)):this.Br.removeEntry(s)}),Le.waitFor(i)}getFromCache(n,i){return this.Br.getEntry(n,i)}getAllFromCache(n,i){return this.Br.getEntries(n,i)}}class Dg{constructor(n){this.persistence=n,this.oi=new Ai(i=>N(i),$),this.lastRemoteSnapshotVersion=on.min(),this.highestTargetId=0,this._i=0,this.ai=new Ro,this.targetCount=0,this.ui=Wc.cr()}forEachTarget(n,i){return this.oi.forEach((s,u)=>i(u)),Le.resolve()}getLastRemoteSnapshotVersion(n){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Le.resolve(this._i)}allocateTargetId(n){return this.highestTargetId=this.ui.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),Le.resolve()}Tr(n){this.oi.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.ui=new Wc(i),this.highestTargetId=i),n.sequenceNumber>this._i&&(this._i=n.sequenceNumber)}addTargetData(n,i){return this.Tr(i),this.targetCount+=1,Le.resolve()}updateTargetData(n,i){return this.Tr(i),Le.resolve()}removeTargetData(n,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,Le.resolve()}removeTargets(n,i,s){let u=0;const p=[];return this.oi.forEach((v,R)=>{R.sequenceNumber<=i&&null===s.get(R.targetId)&&(this.oi.delete(v),p.push(this.removeMatchingKeysForTargetId(n,R.targetId)),u++)}),Le.waitFor(p).next(()=>u)}getTargetCount(n){return Le.resolve(this.targetCount)}getTargetData(n,i){const s=this.oi.get(i)||null;return Le.resolve(s)}addMatchingKeys(n,i,s){return this.ai.Gr(i,s),Le.resolve()}removeMatchingKeys(n,i,s){this.ai.jr(i,s);const u=this.persistence.referenceDelegate,p=[];return u&&i.forEach(v=>{p.push(u.markPotentiallyOrphaned(n,v))}),Le.waitFor(p)}removeMatchingKeysForTargetId(n,i){return this.ai.Hr(i),Le.resolve()}getMatchingKeysForTargetId(n,i){const s=this.ai.Yr(i);return Le.resolve(s)}containsKey(n,i){return Le.resolve(this.ai.containsKey(i))}}class nl{constructor(n,i){this.ci={},this.overlays={},this.li=new Ye(0),this.hi=!1,this.hi=!0,this.Pi=new Rr,this.referenceDelegate=n(this),this.Ti=new Dg(this),this.indexManager=new tl,this.remoteDocumentCache=new ed(s=>this.referenceDelegate.Ii(s)),this.serializer=new $l(i),this.Ei=new jn(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new Wn,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.ci[n.toKey()];return s||(s=new qc(i,this.referenceDelegate),this.ci[n.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(n,i,s){dt("MemoryPersistence","Starting transaction:",n);const u=new Ag(this.li.next());return this.referenceDelegate.di(),s(u).next(p=>this.referenceDelegate.Ai(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Ri(n,i){return Le.or(Object.values(this.ci).map(s=>()=>s.containsKey(n,i)))}}class Ag extends xr{constructor(n){super(),this.currentSequenceNumber=n}}class _u{constructor(n){this.persistence=n,this.Vi=new Ro,this.mi=null}static fi(n){return new _u(n)}get gi(){if(this.mi)return this.mi;throw ut(60996)}addReference(n,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),Le.resolve()}removeReference(n,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),Le.resolve()}markPotentiallyOrphaned(n,i){return this.gi.add(i.toString()),Le.resolve()}removeTarget(n,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(p=>this.gi.add(p.toString()))}).next(()=>s.removeTargetData(n,i))}di(){this.mi=new Set}Ai(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.gi,s=>{const u=qt.fromPath(s);return this.pi(n,u).next(p=>{p||i.removeEntry(u,on.min())})}).next(()=>(this.mi=null,i.apply(n)))}updateLimboDocument(n,i){return this.pi(n,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(n){return 0}pi(n,i){return Le.or([()=>Le.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Ri(n,i)])}}class Us{constructor(n,i){this.persistence=n,this.yi=new Ai(s=>function Ce(c){let n="";for(let i=0;i<c.length;i++)n.length>0&&(n=Et(n)),n=at(c.get(i),n);return Et(n)}(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=function Zl(c,n){return new bg(c,n)}(this,i)}static fi(n,i){return new Us(n,i)}di(){}Ai(n){return Le.resolve()}forEachTarget(n,i){return this.persistence.getTargetCache().forEachTarget(n,i)}pr(n){const i=this.Sr(n);return this.persistence.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}Sr(n){let i=0;return this.yr(n,s=>{i++}).next(()=>i)}yr(n,i){return Le.forEach(this.yi,(s,u)=>this.Dr(n,s,u).next(p=>p?Le.resolve():i(u)))}removeTargets(n,i,s){return this.persistence.getTargetCache().removeTargets(n,i,s)}removeOrphanedDocuments(n,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),p=u.newChangeBuffer();return u.si(n,v=>this.Dr(n,v,i).next(R=>{R||(s++,p.removeEntry(v,on.min()))})).next(()=>p.apply(n)).next(()=>s)}markPotentiallyOrphaned(n,i){return this.yi.set(i,n.currentSequenceNumber),Le.resolve()}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,s)}addReference(n,i,s){return this.yi.set(s,n.currentSequenceNumber),Le.resolve()}removeReference(n,i,s){return this.yi.set(s,n.currentSequenceNumber),Le.resolve()}updateLimboDocument(n,i){return this.yi.set(i,n.currentSequenceNumber),Le.resolve()}Ii(n){let i=n.key.toString().length;return n.isFoundDocument()&&(i+=uo(n.data.value)),i}Dr(n,i,s){return Le.or([()=>this.persistence.Ri(n,i),()=>this.persistence.getTargetCache().containsKey(n,i),()=>{const u=this.yi.get(i);return Le.resolve(void 0!==u&&u>s)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}class il{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.ds=s,this.As=u}static Rs(n,i){let s=f(),u=f();for(const p of i.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new il(n,i.fromCache,s,u)}}class qy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Cg{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(0,Se.nr)()?8:function Vi(c){const n=c.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}((0,Se.ZQ)())>0?6:4}initialize(n,i){this.ys=n,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(n,i,s,u){const p={result:null};return this.ws(n,i).next(v=>{p.result=v}).next(()=>{if(!p.result)return this.Ss(n,i,u,s).next(v=>{p.result=v})}).next(()=>{if(p.result)return;const v=new qy;return this.bs(n,i,v).next(R=>{if(p.result=R,this.fs)return this.Ds(n,i,v,R.size)})}).next(()=>p.result)}Ds(n,i,s,u){return s.documentReadCount<this.gs?(Xt()<=w.$b.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",_s(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Le.resolve()):(Xt()<=w.$b.DEBUG&&dt("QueryEngine","Query:",_s(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ps*u?(Xt()<=w.$b.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",_s(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Ao(i))):Le.resolve())}ws(n,i){if(Qs(i))return Le.resolve(null);let s=Ao(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=Mn(i,null,"F"),s=Ao(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(p=>{const v=f(...p);return this.ys.getDocuments(n,v).next(R=>this.indexManager.getMinOffset(n,s).next(x=>{const U=this.vs(i,R);return this.Cs(i,U,v,x.readTime)?this.ws(n,Mn(i,null,"F")):this.Fs(n,U,i,x)}))})))}Ss(n,i,s,u){return Qs(i)||u.isEqual(on.min())?Le.resolve(null):this.ys.getDocuments(n,s).next(p=>{const v=this.vs(i,p);return this.Cs(i,v,s,u)?Le.resolve(null):(Xt()<=w.$b.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),_s(i)),this.Fs(n,v,i,function sr(c,n){const i=c.toTimestamp().seconds,s=c.toTimestamp().nanoseconds+1,u=on.fromTimestamp(1e9===s?new fr(i+1,0):new fr(i,s));return new hr(u,qt.empty(),n)}(u,-1)).next(R=>R))})}vs(n,i){let s=new Jr(zi(n));return i.forEach((u,p)=>{Ra(n,p)&&(s=s.add(p))}),s}Cs(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const p="F"===n.limitType?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}bs(n,i,s){return Xt()<=w.$b.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",_s(i)),this.ys.getDocumentsMatchingQuery(n,i,hr.min(),s)}Fs(n,i,s,u){return this.ys.getDocumentsMatchingQuery(n,s,u).next(p=>(i.forEach(v=>{p=p.insert(v.key,v)}),p))}}const Ky="LocalStore";class Hf{constructor(n,i,s,u){this.persistence=n,this.Ms=i,this.serializer=u,this.xs=new qr(Kt),this.Os=new Ai(p=>N(p),$),this.Ns=new Map,this.Bs=n.getRemoteDocumentCache(),this.Ti=n.getTargetCache(),this.Ei=n.getBundleCache(),this.Ls(s)}Ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new mn(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.xs))}}function _o(c,n){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,D.A)(function*(c,n){const i=Pt(c);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(p=>(u=p,i.Ls(n),i.mutationQueue.getAllMutationBatches(s))).next(p=>{const v=[],R=[];let x=f();for(const U of u){v.push(U.batchId);for(const X of U.mutations)x=x.add(X.key)}for(const U of p){R.push(U.batchId);for(const X of U.mutations)x=x.add(X.key)}return i.localDocuments.getDocuments(s,x).next(U=>({ks:U,removedBatchIds:v,addedBatchIds:R}))})})})).apply(this,arguments)}function Xy(c){const n=Pt(c);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ti.getLastRemoteSnapshotVersion(i))}function Yy(c,n){const i=Pt(c);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function vu(c,n,i){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,D.A)(function*(c,n,i){const s=Pt(c),u=s.xs.get(n),p=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",p,v=>s.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!Tr(v))throw v;dt(Ky,`Failed to update sequence numbers for target ${n}: ${v}`)}s.xs=s.xs.remove(n),s.Os.delete(u.target)})).apply(this,arguments)}function Wf(c,n,i){const s=Pt(c);let u=on.min(),p=f();return s.persistence.runTransaction("Execute query","readwrite",v=>function(x,U,X){const se=Pt(x),xe=se.Os.get(X);return void 0!==xe?Le.resolve(se.xs.get(xe)):se.Ti.getTargetData(U,X)}(s,v,Ao(n)).next(R=>{if(R)return u=R.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(v,R.targetId).next(x=>{p=x})}).next(()=>s.Ms.getDocumentsMatchingQuery(v,n,i?u:on.min(),i?p:f())).next(R=>(function dc(c,n,i){let s=c.Ns.get(n)||on.min();i.forEach((u,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),c.Ns.set(n,s)}(s,function Ua(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}(n),R),{documents:R,$s:p})))}class Kf{constructor(){this.activeTargetIds=function M(){return E}()}js(n){this.activeTargetIds=this.activeTargetIds.add(n)}Hs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}zs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class r_{constructor(){this.xo=new Kf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n,i=!0){return i&&this.xo.js(n),this.Oo[n]||"not-current"}updateQueryState(n,i,s){this.Oo[n]=i}removeLocalQueryTarget(n){this.xo.Hs(n)}isLocalQueryTarget(n){return this.xo.activeTargetIds.has(n)}clearQueryState(n){delete this.Oo[n]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(n){return this.xo.activeTargetIds.has(n)}start(){return this.xo=new Kf,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class vh{No(n){}shutdown(){}}const i_="ConnectivityMonitor";class Qf{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(n){this.Qo.push(n)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){dt(i_,"Network connectivity changed: AVAILABLE");for(const n of this.Qo)n(0)}qo(){dt(i_,"Network connectivity changed: UNAVAILABLE");for(const n of this.Qo)n(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Eh=null;function cl(){return null===Eh?Eh=268435456+Math.round(2147483648*Math.random()):Eh++,"0x"+Eh.toString(16)}const ul="RestConnection",o_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xf{get Uo(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+n.host,this.Wo=`projects/${s}/databases/${u}`,this.Go=this.databaseId.database===Ie?`project_id=${s}`:`project_id=${s}&database_id=${u}`}zo(n,i,s,u,p){const v=cl(),R=this.jo(n,i.toUriEncodedString());dt(ul,`Sending RPC '${n}' ${v}:`,R,s);const x={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(x,u,p);const{host:U}=new URL(R),X=(0,Se.zJ)(U);return this.Jo(n,R,x,s,X).then(se=>(dt(ul,`Received RPC '${n}' ${v}: `,se),se),se=>{throw kn(ul,`RPC '${n}' ${v} failed with error: `,se,"url: ",R,"request:",s),se})}Yo(n,i,s,u,p,v){return this.zo(n,i,s,u,p)}Ho(n,i,s){n["X-Goog-Api-Client"]="gl-js/ fire/"+et,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,p)=>n[p]=u),s&&s.headers.forEach((u,p)=>n[p]=u)}jo(n,i){return`${this.Ko}/v1/${i}:${o_[n]}`}terminate(){}}class Yf{constructor(n){this.Zo=n.Zo,this.Xo=n.Xo}e_(n){this.t_=n}n_(n){this.r_=n}i_(n){this.s_=n}onMessage(n){this.o_=n}close(){this.Xo()}send(n){this.Zo(n)}__(){this.t_()}a_(){this.r_()}u_(n){this.s_(n)}c_(n){this.o_(n)}}const Js="WebChannelConnection";class RE extends Xf{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,i,s,u,p){const v=cl();return new Promise((R,x)=>{const U=new qe;U.setWithCredentials(!0),U.listenOnce(Ot.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Bt.NO_ERROR:const se=U.getResponseJson();dt(Js,`XHR for RPC '${n}' ${v} received:`,JSON.stringify(se)),R(se);break;case Bt.TIMEOUT:dt(Js,`RPC '${n}' ${v} timed out`),x(new Z(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case Bt.HTTP_ERROR:const xe=U.getStatus();if(dt(Js,`RPC '${n}' ${v} failed with status:`,xe,"response text:",U.getResponseText()),xe>0){let _t=U.getResponseJson();Array.isArray(_t)&&(_t=_t[0]);const jt=_t?.error;if(jt&&jt.status&&jt.message){const un=function(Jn){const or=Jn.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(or)>=0?or:Ge.UNKNOWN}(jt.status);x(new Z(un,jt.message))}else x(new Z(Ge.UNKNOWN,"Server responded with status "+U.getStatus()))}else x(new Z(Ge.UNAVAILABLE,"Connection failed."));break;default:ut(9055,{l_:n,streamId:v,h_:U.getLastErrorCode(),P_:U.getLastError()})}}finally{dt(Js,`RPC '${n}' ${v} completed.`)}});const X=JSON.stringify(u);dt(Js,`RPC '${n}' ${v} sending request:`,u),U.send(i,"POST",X,s,15)})}T_(n,i,s){const u=cl(),p=[this.Ko,"/","google.firestore.v1.Firestore","/",n,"/channel"],v=Rt(),R=Dt(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(x.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(x.useFetchStreams=!0),this.Ho(x.initMessageHeaders,i,s),x.encodeInitMessageHeaders=!0;const X=p.join("");dt(Js,`Creating RPC '${n}' stream ${u}: ${X}`,x);const se=v.createWebChannel(X,x);let xe=!1,_t=!1;const jt=new Yf({Zo:nn=>{_t?dt(Js,`Not sending because RPC '${n}' stream ${u} is closed:`,nn):(xe||(dt(Js,`Opening RPC '${n}' stream ${u} transport.`),se.open(),xe=!0),dt(Js,`RPC '${n}' stream ${u} sending:`,nn),se.send(nn))},Xo:()=>se.close()}),un=(nn,Jn,or)=>{nn.listen(Jn,xn=>{try{or(xn)}catch(Vr){setTimeout(()=>{throw Vr},0)}})};return un(se,ft.EventType.OPEN,()=>{_t||(dt(Js,`RPC '${n}' stream ${u} transport opened.`),jt.__())}),un(se,ft.EventType.CLOSE,()=>{_t||(_t=!0,dt(Js,`RPC '${n}' stream ${u} transport closed`),jt.u_())}),un(se,ft.EventType.ERROR,nn=>{_t||(_t=!0,kn(Js,`RPC '${n}' stream ${u} transport errored. Name:`,nn.name,"Message:",nn.message),jt.u_(new Z(Ge.UNAVAILABLE,"The operation could not be completed")))}),un(se,ft.EventType.MESSAGE,nn=>{var Jn;if(!_t){const or=nn.data[0];Xe(!!or,16349);const xn=or,Vr=xn?.error||(null===(Jn=xn[0])||void 0===Jn?void 0:Jn.error);if(Vr){dt(Js,`RPC '${n}' stream ${u} received error:`,Vr);const Li=Vr.status;let ui=function($e){const it=Qr[$e];if(void 0!==it)return ja(it)}(Li),rt=Vr.message;void 0===ui&&(ui=Ge.INTERNAL,rt="Unknown error status: "+Li+" with message "+Vr.message),_t=!0,jt.u_(new Z(ui,rt)),se.close()}else dt(Js,`RPC '${n}' stream ${u} received:`,or),jt.c_(or)}}),un(R,hn.STAT_EVENT,nn=>{nn.stat===Gt.PROXY?dt(Js,`RPC '${n}' stream ${u} detected buffering proxy`):nn.stat===Gt.NOPROXY&&dt(Js,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{jt.a_()},0),jt}}function wh(){return typeof document<"u"?document:null}function ll(c){return new Tf(c,!0)}class Og{constructor(n,i,s=1e3,u=1.5,p=6e4){this.xi=n,this.timerId=i,this.I_=s,this.E_=u,this.d_=p,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(n){this.cancel();const i=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-s);u>0&&dt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),n())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){null!==this.R_&&(this.R_.skipDelay(),this.R_=null)}cancel(){null!==this.R_&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}const a_="PersistentStream";class ca{constructor(n,i,s,u,p,v,R,x){this.xi=n,this.y_=s,this.w_=u,this.connection=p,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=R,this.listener=x,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Og(n,i)}F_(){return 1===this.state||5===this.state||this.M_()}M_(){return 2===this.state||3===this.state}start(){this.v_=0,4!==this.state?this.auth():this.x_()}stop(){var n=this;return(0,D.A)(function*(){n.F_()&&(yield n.close(0))})()}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&null===this.b_&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(n){this.k_(),this.stream.send(n)}B_(){var n=this;return(0,D.A)(function*(){if(n.M_())return n.close(0)})()}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(n,i){var s=this;return(0,D.A)(function*(){s.k_(),s.q_(),s.C_.cancel(),s.S_++,4!==n?s.C_.reset():i&&i.code===Ge.RESOURCE_EXHAUSTED?($n(i.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),s.C_.m_()):i&&i.code===Ge.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Q_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.i_(i)})()}Q_(){}auth(){this.state=1;const n=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.S_===i&&this.K_(s,u)},s=>{n(()=>{const u=new Z(Ge.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(u)})})}K_(n,i){const s=this.U_(this.S_);this.stream=this.G_(n,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{s(()=>this.W_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.v_?this.z_(u):this.onNext(u))})}x_(){var n=this;this.state=5,this.C_.f_((0,D.A)(function*(){n.state=0,n.start()}))}W_(n){return dt(a_,`close with error: ${n}`),this.stream=null,this.close(4,n)}U_(n){return i=>{this.xi.enqueueAndForget(()=>this.S_===n?i():(dt(a_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fg extends ca{constructor(n,i,s,u,p,v){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,v),this.serializer=p}G_(n,i){return this.connection.T_("Listen",n,i)}z_(n){return this.onNext(n)}onNext(n){this.C_.reset();const i=function Af(c,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(U=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===U?1:"REMOVE"===U?2:"CURRENT"===U?3:"RESET"===U?4:ut(39313,{state:U}),u=n.targetChange.targetIds||[],p=function(U,X){return U.useProto3Json?(Xe(void 0===X||"string"==typeof X,58123),ji.fromBase64String(X||"")):(Xe(void 0===X||X instanceof Buffer||X instanceof Uint8Array,16193),ji.fromUint8Array(X||new Uint8Array))}(c,n.targetChange.resumeToken),v=n.targetChange.cause,R=v&&function(U){const X=void 0===U.code?Ge.UNKNOWN:ja(U.code);return new Z(X,U.message||"")}(v);i=new If(s,u,p,R||null)}else if("documentChange"in n){const s=n.documentChange,u=sa(c,s.document.name),p=Vo(s.document.updateTime),v=s.document.createTime?Vo(s.document.createTime):on.min(),R=new oo({mapValue:{fields:s.document.fields}}),x=hi.newFoundDocument(u,p,v,R);i=new Ic(s.targetIds||[],s.removedTargetIds||[],x.key,x)}else if("documentDelete"in n){const s=n.documentDelete,u=sa(c,s.document),p=s.readTime?Vo(s.readTime):on.min(),v=hi.newNoDocument(u,p);i=new Ic([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in n){const s=n.documentRemove,u=sa(c,s.document);i=new Ic([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return ut(11601,{Vt:n});{const s=n.filter,{count:u=0,unchangedNames:p}=s,v=new Gu(u,p);i=new xl(s.targetId,v)}}var U;return i}(this.serializer,n),s=function(p){if(!("targetChange"in p))return on.min();const v=p.targetChange;return v.targetIds&&v.targetIds.length?on.min():v.readTime?Vo(v.readTime):on.min()}(n);return this.listener.j_(i,s)}H_(n){const i={};i.database=aa(this.serializer),i.addTarget=function(p,v){let R;const x=v.target;if(R=Ae(x)?{documents:Uc(p,x)}:{query:Rs(p,x).gt},R.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){R.resumeToken=Ll(p,v.resumeToken);const U=Ma(p,v.expectedCount);null!==U&&(R.expectedCount=U)}else if(v.snapshotVersion.compareTo(on.min())>0){R.readTime=qu(p,v.snapshotVersion.toTimestamp());const U=Ma(p,v.expectedCount);null!==U&&(R.expectedCount=U)}return R}(this.serializer,n);const s=function Ys(c,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut(28987,{purpose:u})}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.L_(i)}J_(n){const i={};i.database=aa(this.serializer),i.removeTarget=n,this.L_(i)}}class c_ extends ca{constructor(n,i,s,u,p,v){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,v),this.serializer=p}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(n,i){return this.connection.T_("Write",n,i)}z_(n){return Xe(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,Xe(!n.writeResults||0===n.writeResults.length,55816),this.listener.X_()}onNext(n){Xe(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.C_.reset();const i=function wg(c,n){return c&&c.length>0?(Xe(void 0!==n,14353),c.map(i=>function(u,p){let v=Vo(u.updateTime?u.updateTime:p);return v.isEqual(on.min())&&(v=Vo(p)),new ga(v,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=Vo(n.commitTime);return this.listener.ea(s,i)}ta(){const n={};n.database=aa(this.serializer),this.L_(n)}Z_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>function Bl(c,n){let i;if(n instanceof Ba)i={update:Vl(c,n.key,n.value)};else if(n instanceof ei)i={delete:Tc(c,n.key)};else if(n instanceof Nn)i={update:Vl(c,n.key,n.data),updateMask:Qu(n.fieldMask)};else{if(!(n instanceof Ss))return ut(16599,{ft:n.type});i={verify:Tc(c,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(p,v){const R=v.transform;if(R instanceof Yn)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(R instanceof zn)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:R.elements}};if(R instanceof ur)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:R.elements}};if(R instanceof Co)return{fieldPath:v.field.canonicalString(),increment:R.Re};throw ut(20930,{transform:v.transform})}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(p=n.precondition).updateTime?{updateTime:zy(c,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:ut(27497)),i;var p}(this.serializer,s))};this.L_(i)}}class Lg{}class Ea extends Lg{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.na=!1}ra(){if(this.na)throw new Z(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}zo(n,i,s,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,v])=>this.connection.zo(n,At(i,s),u,p,v)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Z(Ge.UNKNOWN,p.toString())})}Yo(n,i,s,u,p){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,R])=>this.connection.Yo(n,At(i,s),u,v,R,p)).catch(v=>{throw"FirebaseError"===v.name?(v.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new Z(Ge.UNKNOWN,v.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Ih{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){0===this.ia&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(n){"Online"===this.state?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.aa("Offline")))}set(n){this.la(),this.ia=0,"Online"===n&&(this.oa=!1),this.aa(n)}aa(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ua(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?($n(i),this.oa=!1):dt("OnlineStateTracker",i)}la(){null!==this.sa&&(this.sa.cancel(),this.sa=null)}}const Yc="RemoteStore";class u_{constructor(n,i,s,u,p){var v=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=p,this.Ea.No(R=>{s.enqueueAndForget((0,D.A)(function*(){var x;Zc(v)&&(dt(Yc,"Restarting streams for network reachability change."),yield(x=(0,D.A)(function*(X){const se=Pt(X);se.Ta.add(4),yield nd(se),se.da.set("Unknown"),se.Ta.delete(4),yield Th(se)}),function U(X){return x.apply(this,arguments)})(v))}))}),this.da=new Ih(s,u)}}function Th(c){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,D.A)(function*(c){if(Zc(c))for(const n of c.Ia)yield n(!0)})).apply(this,arguments)}function nd(c){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,D.A)(function*(c){for(const n of c.Ia)yield n(!1)})).apply(this,arguments)}function ep(c,n){const i=Pt(c);i.Pa.has(n.targetId)||(i.Pa.set(n.targetId,n),Bg(i)?Ug(i):id(i).M_()&&Vg(i,n))}function dl(c,n){const i=Pt(c),s=id(i);i.Pa.delete(n),s.M_()&&l_(i,n),0===i.Pa.size&&(s.M_()?s.N_():Zc(i)&&i.da.set("Unknown"))}function Vg(c,n){if(c.Aa.Ke(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(on.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}id(c).H_(n)}function l_(c,n){c.Aa.Ke(n),id(c).J_(n)}function Ug(c){c.Aa=new Ol({getRemoteKeysForTarget:n=>c.remoteSyncer.getRemoteKeysForTarget(n),Rt:n=>c.Pa.get(n)||null,Pt:()=>c.datastore.serializer.databaseId}),id(c).start(),c.da._a()}function Bg(c){return Zc(c)&&!id(c).F_()&&c.Pa.size>0}function Zc(c){return 0===Pt(c).Ta.size}function jg(c){c.Aa=void 0}function d_(c){return rd.apply(this,arguments)}function rd(){return(rd=(0,D.A)(function*(c){c.da.set("Online")})).apply(this,arguments)}function h_(c){return tp.apply(this,arguments)}function tp(){return(tp=(0,D.A)(function*(c){c.Pa.forEach((n,i)=>{Vg(c,n)})})).apply(this,arguments)}function f_(c,n){return np.apply(this,arguments)}function np(){return(np=(0,D.A)(function*(c,n){jg(c),Bg(c)?(c.da.ca(n),Ug(c)):c.da.set("Unknown")})).apply(this,arguments)}function PE(c,n,i){return $g.apply(this,arguments)}function $g(){return $g=(0,D.A)(function*(c,n,i){if(c.da.set("Online"),n instanceof If&&2===n.state&&n.cause)try{yield(s=(0,D.A)(function*(p,v){const R=v.cause;for(const x of v.targetIds)p.Pa.has(x)&&(yield p.remoteSyncer.rejectListen(x,R),p.Pa.delete(x),p.Aa.removeTarget(x))}),function u(p,v){return s.apply(this,arguments)})(c,n)}catch(s){dt(Yc,"Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield rp(c,s)}else if(n instanceof Ic?c.Aa.Xe(n):n instanceof xl?c.Aa.ot(n):c.Aa.nt(n),!i.isEqual(on.min()))try{const s=yield Xy(c.localStore);i.compareTo(s)>=0&&(yield function(p,v){const R=p.Aa.It(v);return R.targetChanges.forEach((x,U)=>{if(x.resumeToken.approximateByteSize()>0){const X=p.Pa.get(U);X&&p.Pa.set(U,X.withResumeToken(x.resumeToken,v))}}),R.targetMismatches.forEach((x,U)=>{const X=p.Pa.get(x);if(!X)return;p.Pa.set(x,X.withResumeToken(ji.EMPTY_BYTE_STRING,X.snapshotVersion)),l_(p,x);const se=new tc(X.target,x,U,X.sequenceNumber);Vg(p,se)}),p.remoteSyncer.applyRemoteEvent(R)}(c,i))}catch(s){dt(Yc,"Failed to raise snapshot:",s),yield rp(c,s)}var s}),$g.apply(this,arguments)}function rp(c,n,i){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,D.A)(function*(c,n,i){if(!Tr(n))throw n;c.Ta.add(1),yield nd(c),c.da.set("Offline"),i||(i=()=>Xy(c.localStore)),c.asyncQueue.enqueueRetryable((0,D.A)(function*(){dt(Yc,"Retrying IndexedDB access"),yield i(),c.Ta.delete(1),yield Th(c)}))})).apply(this,arguments)}function p_(c,n){return n().catch(i=>rp(c,i,n))}function hl(c){return zg.apply(this,arguments)}function zg(){return(zg=(0,D.A)(function*(c){const n=Pt(c),i=wa(n);let s=n.ha.length>0?n.ha[n.ha.length-1].batchId:-1;for(;ME(n);)try{const u=yield Yy(n.localStore,s);if(null===u){0===n.ha.length&&i.N_();break}s=u.batchId,kE(n,u)}catch(u){yield rp(n,u)}Wg(n)&&ip(n)})).apply(this,arguments)}function ME(c){return Zc(c)&&c.ha.length<10}function kE(c,n){c.ha.push(n);const i=wa(c);i.M_()&&i.Y_&&i.Z_(n.mutations)}function Wg(c){return Zc(c)&&!wa(c).F_()&&c.ha.length>0}function ip(c){wa(c).start()}function NE(c){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,D.A)(function*(c){wa(c).ta()})).apply(this,arguments)}function Eu(c){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,D.A)(function*(c){const n=wa(c);for(const i of c.ha)n.Z_(i.mutations)})).apply(this,arguments)}function qg(c,n,i){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,D.A)(function*(c,n,i){const s=c.ha.shift(),u=Ho.from(s,n,i);yield p_(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield hl(c)})).apply(this,arguments)}function pT(c,n){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,D.A)(function*(c,n){var i;n&&wa(c).Y_&&(yield(i=(0,D.A)(function*(u,p){if(function lo(c){switch(c){case Ge.OK:return ut(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return ut(15467,{code:c})}}(R=p.code)&&R!==Ge.ABORTED){const v=u.ha.shift();wa(u).O_(),yield p_(u,()=>u.remoteSyncer.rejectFailedWrite(v.batchId,p)),yield hl(u)}var R}),function s(u,p){return i.apply(this,arguments)})(c,n)),Wg(c)&&ip(c)}),Qg.apply(this,arguments)}function g_(c,n){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,D.A)(function*(c,n){const i=Pt(c);i.asyncQueue.verifyOperationInProgress(),dt(Yc,"RemoteStore received new credentials");const s=Zc(i);i.Ta.add(3),yield nd(i),s&&i.da.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.Ta.delete(3),yield Th(i)})).apply(this,arguments)}function m_(){return(m_=(0,D.A)(function*(c,n){const i=Pt(c);n?(i.Ta.delete(2),yield Th(i)):n||(i.Ta.add(2),yield nd(i),i.da.set("Unknown"))})).apply(this,arguments)}function id(c){return c.Ra||(c.Ra=function(i,s,u){const p=Pt(i);return p.ra(),new Fg(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(c.datastore,c.asyncQueue,{e_:d_.bind(null,c),n_:h_.bind(null,c),i_:f_.bind(null,c),j_:PE.bind(null,c)}),c.Ia.push(function(){var n=(0,D.A)(function*(i){i?(c.Ra.O_(),Bg(c)?Ug(c):c.da.set("Unknown")):(yield c.Ra.stop(),jg(c))});return function(i){return n.apply(this,arguments)}}())),c.Ra}function wa(c){return c.Va||(c.Va=function(i,s,u){const p=Pt(i);return p.ra(),new c_(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(c.datastore,c.asyncQueue,{e_:()=>Promise.resolve(),n_:NE.bind(null,c),i_:pT.bind(null,c),X_:Eu.bind(null,c),ea:qg.bind(null,c)}),c.Ia.push(function(){var n=(0,D.A)(function*(i){i?(c.Va.O_(),yield hl(c)):(yield c.Va.stop(),c.ha.length>0&&(dt(Yc,`Stopping write stream with ${c.ha.length} pending writes`),c.ha=[]))});return function(i){return n.apply(this,arguments)}}())),c.Va}class Zg{constructor(n,i,s,u,p){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=p,this.deferred=new le,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,p){const v=Date.now()+s,R=new Zg(n,i,v,u,p);return R.start(s),R}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Z(Ge.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wu(c,n){if($n("AsyncQueue",`${n}: ${c}`),Tr(c))return new Z(Ge.UNAVAILABLE,`${n}: ${c}`);throw c}class Iu{static emptySet(n){return new Iu(n.comparator)}constructor(n){this.comparator=n?(i,s)=>n(i,s)||qt.comparator(i.key,s.key):(i,s)=>qt.comparator(i.key,s.key),this.keyedMap=Jo(),this.sortedSet=new qr(this.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof Iu)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new Iu;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class op{constructor(){this.ma=new qr(qt.comparator)}track(n){const i=n.doc.key,s=this.ma.get(i);s?0!==n.type&&3===s.type?this.ma=this.ma.insert(i,n):3===n.type&&1!==s.type?this.ma=this.ma.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.ma=this.ma.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.ma=this.ma.remove(i):1===n.type&&2===s.type?this.ma=this.ma.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):ut(63341,{Vt:n,fa:s}):this.ma=this.ma.insert(i,n)}ga(){const n=[];return this.ma.inorderTraversal((i,s)=>{n.push(s)}),n}}class fl{constructor(n,i,s,u,p,v,R,x,U){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=p,this.fromCache=v,this.syncStateChanged=R,this.excludesMetadataChanges=x,this.hasCachedResults=U}static fromInitialDocuments(n,i,s,u,p){const v=[];return i.forEach(R=>{v.push({type:0,doc:R})}),new fl(n,i,Iu.emptySet(i),v,s,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&pa(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class sp{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(n=>n.Sa())}}class Jg{constructor(){this.queries=od(),this.onlineState="Unknown",this.ba=new Set}terminate(){!function(i,s){const u=Pt(i),p=u.queries;u.queries=od(),p.forEach((v,R)=>{for(const x of R.ya)x.onError(s)})}(this,new Z(Ge.ABORTED,"Firestore shutting down"))}}function od(){return new Ai(c=>Ms(c),pa)}function sd(c,n){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,D.A)(function*(c,n){const i=Pt(c);let s=3;const u=n.query;let p=i.queries.get(u);p?!p.wa()&&n.Sa()&&(s=2):(p=new sp,s=n.Sa()?0:1);try{switch(s){case 0:p.pa=yield i.onListen(u,!0);break;case 1:p.pa=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(v){const R=wu(v,`Initialization of query '${_s(n.query)}' failed`);return void n.onError(R)}i.queries.set(u,p),p.ya.push(n),n.Da(i.onlineState),p.pa&&n.va(p.pa)&&Ah(i)})).apply(this,arguments)}function bh(c,n){return ad.apply(this,arguments)}function ad(){return(ad=(0,D.A)(function*(c,n){const i=Pt(c),s=n.query;let u=3;const p=i.queries.get(s);if(p){const v=p.ya.indexOf(n);v>=0&&(p.ya.splice(v,1),0===p.ya.length?u=n.Sa()?0:1:!p.wa()&&n.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Dh(c,n){const i=Pt(c);let s=!1;for(const u of n){const v=i.queries.get(u.query);if(v){for(const R of v.ya)R.va(u)&&(s=!0);v.pa=u}}s&&Ah(i)}function em(c,n,i){const s=Pt(c),u=s.queries.get(n);if(u)for(const p of u.ya)p.onError(i);s.queries.delete(n)}function Ah(c){c.ba.forEach(n=>{n.next()})}var cd,tm;(tm=cd||(cd={})).Ca="default",tm.Cache="cache";class Ch{constructor(n,i,s){this.query=n,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new fl(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.Ma?this.Oa(n)&&(this.Fa.next(n),i=!0):this.Na(n,this.onlineState)&&(this.Ba(n),i=!0),this.xa=n,i}onError(n){this.Fa.error(n)}Da(n){this.onlineState=n;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,n)&&(this.Ba(this.xa),i=!0),i}Na(n,i){return!n.fromCache||!this.Sa()||(!this.options.La||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}Oa(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.xa&&this.xa.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Ba(n){n=fl.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Ma=!0,this.Fa.next(n)}Sa(){return this.options.source!==cd.Cache}}class ap{constructor(n){this.key=n}}class im{constructor(n){this.key=n}}class om{constructor(n,i){this.query=n,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=f(),this.mutatedKeys=f(),this.Ha=zi(n),this.Ja=new Iu(this.Ha)}get Ya(){return this.Ga}Za(n,i){const s=i?i.Xa:new op,u=i?i.Ja:this.Ja;let p=i?i.mutatedKeys:this.mutatedKeys,v=u,R=!1;const x="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,U="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((X,se)=>{const xe=u.get(X),_t=Ra(this.query,se)?se:null,jt=!!xe&&this.mutatedKeys.has(xe.key),un=!!_t&&(_t.hasLocalMutations||this.mutatedKeys.has(_t.key)&&_t.hasCommittedMutations);let nn=!1;xe&&_t?xe.data.isEqual(_t.data)?jt!==un&&(s.track({type:3,doc:_t}),nn=!0):this.eu(xe,_t)||(s.track({type:2,doc:_t}),nn=!0,(x&&this.Ha(_t,x)>0||U&&this.Ha(_t,U)<0)&&(R=!0)):!xe&&_t?(s.track({type:0,doc:_t}),nn=!0):xe&&!_t&&(s.track({type:1,doc:xe}),nn=!0,(x||U)&&(R=!0)),nn&&(_t?(v=v.add(_t),p=un?p.add(X):p.delete(X)):(v=v.delete(X),p=p.delete(X)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const X="F"===this.query.limitType?v.last():v.first();v=v.delete(X.key),p=p.delete(X.key),s.track({type:1,doc:X})}return{Ja:v,Xa:s,Cs:R,mutatedKeys:p}}eu(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const p=this.Ja;this.Ja=n.Ja,this.mutatedKeys=n.mutatedKeys;const v=n.Xa.ga();v.sort((X,se)=>function(_t,jt){const un=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut(20277,{Vt:nn})}};return un(_t)-un(jt)}(X.type,se.type)||this.Ha(X.doc,se.doc)),this.tu(s),u=null!=u&&u;const R=i&&!u?this.nu():[],x=0===this.ja.size&&this.current&&!u?1:0,U=x!==this.za;return this.za=x,0!==v.length||U?{snapshot:new fl(this.query,n.Ja,p,v,n.mutatedKeys,0===x,U,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:R}:{ru:R}}Da(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new op,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(n){return!this.Ga.has(n)&&!!this.Ja.has(n)&&!this.Ja.get(n).hasLocalMutations}tu(n){n&&(n.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=n.current)}nu(){if(!this.current)return[];const n=this.ja;this.ja=f(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const i=[];return n.forEach(s=>{this.ja.has(s)||i.push(new im(s))}),this.ja.forEach(s=>{n.has(s)||i.push(new ap(s))}),i}su(n){this.Ga=n.$s,this.ja=f();const i=this.Za(n.documents);return this.applyChanges(i,!0)}ou(){return fl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,0===this.za,this.hasCachedResults)}}const Pc="SyncEngine";class sm{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class ld{constructor(n){this.key=n,this._u=!1}}class __{constructor(n,i,s,u,p,v){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=v,this.au={},this.uu=new Ai(R=>Ms(R),pa),this.cu=new Map,this.lu=new Set,this.hu=new qr(qt.comparator),this.Pu=new Map,this.Tu=new Ro,this.Iu={},this.Eu=new Map,this.du=Wc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return!0===this.Au}}function Ia(c,n){return v_.apply(this,arguments)}function v_(){return(v_=(0,D.A)(function*(c,n,i=!0){const s=gl(c);let u;const p=s.uu.get(n);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.ou()):u=yield pl(s,n,i,!0),u})).apply(this,arguments)}function cp(c,n){return am.apply(this,arguments)}function am(){return(am=(0,D.A)(function*(c,n){const i=gl(c);yield pl(i,n,!0,!1)})).apply(this,arguments)}function pl(c,n,i,s){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,D.A)(function*(c,n,i,s){const u=yield function ol(c,n){const i=Pt(c);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ti.getTargetData(s,n).next(p=>p?(u=p,Le.resolve(u)):i.Ti.allocateTargetId(s).next(v=>(u=new tc(n,v,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.xs.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(n,s.targetId)),s})}(c.localStore,Ao(n)),p=u.targetId,v=c.sharedClientState.addLocalQueryTarget(p,i);let R;return s&&(R=yield function up(c,n,i,s,u){return lp.apply(this,arguments)}(c,n,p,"current"===v,u.resumeToken)),c.isPrimaryClient&&i&&ep(c.remoteStore,u),R})).apply(this,arguments)}function lp(){return lp=(0,D.A)(function*(c,n,i,s,u){c.Ru=(se,xe,_t)=>{return(jt=(0,D.A)(function*(nn,Jn,or,xn){let Vr=Jn.view.Za(or);Vr.Cs&&(Vr=yield Wf(nn.localStore,Jn.query,!1).then(({documents:ke})=>Jn.view.Za(ke,Vr)));const Li=xn&&xn.targetChanges.get(Jn.targetId),ui=xn&&null!=xn.targetMismatches.get(Jn.targetId),rt=Jn.view.applyChanges(Vr,nn.isPrimaryClient,Li,ui);return hp(nn,Jn.targetId,rt.ru),rt.snapshot}),function un(nn,Jn,or,xn){return jt.apply(this,arguments)})(c,se,xe,_t);var jt};const p=yield Wf(c.localStore,n,!0),v=new om(n,p.$s),R=v.Za(p.documents),x=oa.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==c.onlineState,u),U=v.applyChanges(R,c.isPrimaryClient,x);hp(c,i,U.ru);const X=new sm(n,i,v);return c.uu.set(n,X),c.cu.has(i)?c.cu.get(i).push(n):c.cu.set(i,[n]),U.snapshot}),lp.apply(this,arguments)}function E_(c,n,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,D.A)(function*(c,n,i){const s=Pt(c),u=s.uu.get(n),p=s.cu.get(u.targetId);if(p.length>1)return s.cu.set(u.targetId,p.filter(v=>!pa(v,n))),void s.uu.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield vu(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&dl(s.remoteStore,u.targetId),pc(s,u.targetId)}).catch(Gn))):(pc(s,u.targetId),yield vu(s.localStore,u.targetId,!0))})).apply(this,arguments)}function cm(c,n){return um.apply(this,arguments)}function um(){return(um=(0,D.A)(function*(c,n){const i=Pt(c),s=i.uu.get(n),u=i.cu.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),dl(i.remoteStore,s.targetId))})).apply(this,arguments)}function I_(){return(I_=(0,D.A)(function*(c,n,i){const s=function Du(c){const n=Pt(c);return n.remoteStore.remoteSyncer.applySuccessfulWrite=hd.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Rh.bind(null,n),n}(c);try{const u=yield function(v,R){const x=Pt(v),U=fr.now(),X=R.reduce((_t,jt)=>_t.add(jt.key),f());let se,xe;return x.persistence.runTransaction("Locally write mutations","readwrite",_t=>{let jt=to(),un=f();return x.Bs.getEntries(_t,X).next(nn=>{jt=nn,jt.forEach((Jn,or)=>{or.isValidDocument()||(un=un.add(Jn))})}).next(()=>x.localDocuments.getOverlayedDocuments(_t,jt)).next(nn=>{se=nn;const Jn=[];for(const or of R){const xn=Wu(or,se.get(or.key).overlayedDocument);null!=xn&&Jn.push(new Nn(or.key,xn,Fs(xn.value.mapValue),Gr.exists(!0)))}return x.mutationQueue.addMutationBatch(_t,U,Jn,R)}).next(nn=>{xe=nn;const Jn=nn.applyToLocalDocumentSet(se,un);return x.documentOverlayCache.saveOverlays(_t,nn.batchId,Jn)})}).then(()=>({batchId:xe.batchId,changes:Vs(se)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(v,R,x){let U=v.Iu[v.currentUser.toKey()];U||(U=new qr(Kt)),U=U.insert(R,x),v.Iu[v.currentUser.toKey()]=U}(s,u.batchId,i),yield Mc(s,u.changes),yield hl(s.remoteStore)}catch(u){const p=wu(u,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function ts(c,n){return dd.apply(this,arguments)}function dd(){return(dd=(0,D.A)(function*(c,n){const i=Pt(c);try{const s=yield function CE(c,n){const i=Pt(c),s=n.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const v=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const R=[];n.targetChanges.forEach((X,se)=>{const xe=u.get(se);if(!xe)return;R.push(i.Ti.removeMatchingKeys(p,X.removedDocuments,se).next(()=>i.Ti.addMatchingKeys(p,X.addedDocuments,se)));let _t=xe.withSequenceNumber(p.currentSequenceNumber);var un,nn,Jn;null!==n.targetMismatches.get(se)?_t=_t.withResumeToken(ji.EMPTY_BYTE_STRING,on.min()).withLastLimboFreeSnapshotVersion(on.min()):X.resumeToken.approximateByteSize()>0&&(_t=_t.withResumeToken(X.resumeToken,s)),u=u.insert(se,_t),nn=_t,Jn=X,(0===(un=xe).resumeToken.approximateByteSize()||nn.snapshotVersion.toMicroseconds()-un.snapshotVersion.toMicroseconds()>=3e8||Jn.addedDocuments.size+Jn.modifiedDocuments.size+Jn.removedDocuments.size>0)&&R.push(i.Ti.updateTargetData(p,_t))});let x=to(),U=f();if(n.documentUpdates.forEach(X=>{n.resolvedLimboDocuments.has(X)&&R.push(i.persistence.referenceDelegate.updateLimboDocument(p,X))}),R.push(function zf(c,n,i){let s=f(),u=f();return i.forEach(p=>s=s.add(p)),n.getEntries(c,s).next(p=>{let v=to();return i.forEach((R,x)=>{const U=p.get(R);x.isFoundDocument()!==U.isFoundDocument()&&(u=u.add(R)),x.isNoDocument()&&x.version.isEqual(on.min())?(n.removeEntry(R,x.readTime),v=v.insert(R,x)):!U.isValidDocument()||x.version.compareTo(U.version)>0||0===x.version.compareTo(U.version)&&U.hasPendingWrites?(n.addEntry(x),v=v.insert(R,x)):dt(Ky,"Ignoring outdated watch update for ",R,". Current version:",U.version," Watch version:",x.version)}),{qs:v,Qs:u}})}(p,v,n.documentUpdates).next(X=>{x=X.qs,U=X.Qs})),!s.isEqual(on.min())){const X=i.Ti.getLastRemoteSnapshotVersion(p).next(se=>i.Ti.setTargetsMetadata(p,p.currentSequenceNumber,s));R.push(X)}return Le.waitFor(R).next(()=>v.apply(p)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,x,U)).next(()=>x)}).then(p=>(i.xs=u,p))}(i.localStore,n);n.targetChanges.forEach((u,p)=>{const v=i.Pu.get(p);v&&(Xe(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?v._u=!0:u.modifiedDocuments.size>0?Xe(v._u,14607):u.removedDocuments.size>0&&(Xe(v._u,42227),v._u=!1))}),yield Mc(i,s,n)}catch(s){yield Gn(s)}})).apply(this,arguments)}function lm(c,n,i){const s=Pt(c);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.uu.forEach((p,v)=>{const R=v.view.Da(n);R.snapshot&&u.push(R.snapshot)}),function(v,R){const x=Pt(v);x.onlineState=R;let U=!1;x.queries.forEach((X,se)=>{for(const xe of se.ya)xe.Da(R)&&(U=!0)}),U&&Ah(x)}(s.eventManager,n),u.length&&s.au.j_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function ho(c,n,i){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,D.A)(function*(c,n,i){const s=Pt(c);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Pu.get(n),p=u&&u.key;if(p){let v=new qr(qt.comparator);v=v.insert(p,hi.newNoDocument(p,on.min()));const R=f().add(p),x=new Vc(on.min(),new Map,new qr(Kt),v,R);yield ts(s,x),s.hu=s.hu.remove(p),s.Pu.delete(n),pd(s)}else yield vu(s.localStore,n,!1).then(()=>pc(s,n,i)).catch(Gn)})).apply(this,arguments)}function hd(c,n){return fc.apply(this,arguments)}function fc(){return(fc=(0,D.A)(function*(c,n){const i=Pt(c),s=n.batch.batchId;try{const u=yield function Pg(c,n){const i=Pt(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),p=i.Bs.newChangeBuffer({trackRemovals:!0});return function(R,x,U,X){const se=U.batch,xe=se.keys();let _t=Le.resolve();return xe.forEach(jt=>{_t=_t.next(()=>X.getEntry(x,jt)).next(un=>{const nn=U.docVersions.get(jt);Xe(null!==nn,48541),un.version.compareTo(nn)<0&&(se.applyToRemoteDocument(un,U),un.isValidDocument()&&(un.setReadTime(U.commitVersion),X.addEntry(un)))})}),_t.next(()=>R.mutationQueue.removeMutationBatch(x,se))}(i,s,n,p).next(()=>p.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(R){let x=f();for(let U=0;U<R.mutationResults.length;++U)R.mutationResults[U].transformResults.length>0&&(x=x.add(R.batch.mutations[U].key));return x}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);hm(i,s,null),bu(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Mc(i,u)}catch(u){yield Gn(u)}})).apply(this,arguments)}function Rh(c,n,i){return fd.apply(this,arguments)}function fd(){return(fd=(0,D.A)(function*(c,n,i){const s=Pt(c);try{const u=yield function(v,R){const x=Pt(v);return x.persistence.runTransaction("Reject batch","readwrite-primary",U=>{let X;return x.mutationQueue.lookupMutationBatch(U,R).next(se=>(Xe(null!==se,37113),X=se.keys(),x.mutationQueue.removeMutationBatch(U,se))).next(()=>x.mutationQueue.performConsistencyCheck(U)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(U,X,R)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(U,X)).next(()=>x.localDocuments.getDocuments(U,X))})}(s.localStore,n);hm(s,n,i),bu(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield Mc(s,u)}catch(u){yield Gn(u)}})).apply(this,arguments)}function bu(c,n){(c.Eu.get(n)||[]).forEach(i=>{i.resolve()}),c.Eu.delete(n)}function hm(c,n,i){const s=Pt(c);let u=s.Iu[s.currentUser.toKey()];if(u){const p=u.get(n);p&&(i?p.reject(i):p.resolve(),u=u.remove(n)),s.Iu[s.currentUser.toKey()]=u}}function pc(c,n,i=null){c.sharedClientState.removeLocalQueryTarget(n);for(const s of c.cu.get(n))c.uu.delete(s),i&&c.au.Vu(s,i);c.cu.delete(n),c.isPrimaryClient&&c.Tu.Hr(n).forEach(s=>{c.Tu.containsKey(s)||T_(c,s)})}function T_(c,n){c.lu.delete(n.path.canonicalString());const i=c.hu.get(n);null!==i&&(dl(c.remoteStore,i),c.hu=c.hu.remove(n),c.Pu.delete(i),pd(c))}function hp(c,n,i){for(const s of i)s instanceof ap?(c.Tu.addReference(s.key,n),Ph(c,s)):s instanceof im?(dt(Pc,"Document no longer in limbo: "+s.key),c.Tu.removeReference(s.key,n),c.Tu.containsKey(s.key)||T_(c,s.key)):ut(19791,{mu:s})}function Ph(c,n){const i=n.key,s=i.path.canonicalString();c.hu.get(i)||c.lu.has(s)||(dt(Pc,"New document in limbo: "+i),c.lu.add(s),pd(c))}function pd(c){for(;c.lu.size>0&&c.hu.size<c.maxConcurrentLimboResolutions;){const n=c.lu.values().next().value;c.lu.delete(n);const i=new qt(st.fromString(n)),s=c.du.next();c.Pu.set(s,new ld(i)),c.hu=c.hu.insert(i,s),ep(c.remoteStore,new tc(Ao(Do(i.path)),s,"TargetPurposeLimboResolution",Ye.le))}}function Mc(c,n,i){return fp.apply(this,arguments)}function fp(){return fp=(0,D.A)(function*(c,n,i){const s=Pt(c),u=[],p=[],v=[];var R;s.uu.isEmpty()||(s.uu.forEach((R,x)=>{v.push(s.Ru(x,n,i).then(U=>{var X;if((U||i)&&s.isPrimaryClient){const se=U?!U.fromCache:null===(X=i?.targetChanges.get(x.targetId))||void 0===X?void 0:X.current;s.sharedClientState.updateQueryState(x.targetId,se?"current":"not-current")}if(U){u.push(U);const se=il.Rs(x.targetId,U);p.push(se)}}))}),yield Promise.all(v),s.au.j_(u),yield(R=(0,D.A)(function*(U,X){const se=Pt(U);try{yield se.persistence.runTransaction("notifyLocalViewChanges","readwrite",xe=>Le.forEach(X,_t=>Le.forEach(_t.ds,jt=>se.persistence.referenceDelegate.addReference(xe,_t.targetId,jt)).next(()=>Le.forEach(_t.As,jt=>se.persistence.referenceDelegate.removeReference(xe,_t.targetId,jt)))))}catch(xe){if(!Tr(xe))throw xe;dt(Ky,"Failed to update sequence numbers: "+xe)}for(const xe of X){const _t=xe.targetId;if(!xe.fromCache){const jt=se.xs.get(_t),nn=jt.withLastLimboFreeSnapshotVersion(jt.snapshotVersion);se.xs=se.xs.insert(_t,nn)}}}),function x(U,X){return R.apply(this,arguments)})(s.localStore,p))}),fp.apply(this,arguments)}function Mh(c,n){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,D.A)(function*(c,n){const i=Pt(c);if(!i.currentUser.isEqual(n)){dt(Pc,"User change. New user:",n.toKey());const s=yield _o(i.localStore,n);i.currentUser=n,(p=i).Eu.forEach(R=>{R.forEach(x=>{x.reject(new Z(Ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Eu.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield Mc(i,s.ks)}var p})).apply(this,arguments)}function OE(c,n){const i=Pt(c),s=i.Pu.get(n);if(s&&s._u)return f().add(s.key);{let u=f();const p=i.cu.get(n);if(!p)return u;for(const v of p){const R=i.uu.get(v);u=u.unionWith(R.view.Ya)}return u}}function gl(c){const n=Pt(c);return n.remoteStore.remoteSyncer.applyRemoteEvent=ts.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=OE.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=ho.bind(null,n),n.au.j_=Dh.bind(null,n.eventManager),n.au.Vu=em.bind(null,n.eventManager),n}let yd=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,D.A)(function*(){s.serializer=ll(i.databaseInfo.databaseId),s.sharedClientState=s.pu(i),s.persistence=s.yu(i),yield s.persistence.start(),s.localStore=s.wu(i),s.gcScheduler=s.Su(i,s.localStore),s.indexBackfillerScheduler=s.bu(i,s.localStore)})()}Su(i,s){return null}bu(i,s){return null}wu(i){return function Qy(c,n,i,s){return new Hf(c,n,i,s)}(this.persistence,new Cg,i.initialUser,this.serializer)}yu(i){return new nl(_u.fi,this.serializer)}pu(i){return new r_}terminate(){var i=this;return(0,D.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class mp extends yd{constructor(n){super(),this.cacheSizeBytes=n}Su(n,i){return Xe(this.persistence.referenceDelegate instanceof Us,46915),new Uo(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}yu(n){const i=void 0!==this.cacheSizeBytes?es.withCacheSize(this.cacheSizeBytes):es.DEFAULT;return new nl(s=>Us.fi(s,i),this.serializer)}}let _d=(()=>{class c{initialize(i,s){var u=this;return(0,D.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=p=>lm(u.syncEngine,p,1),u.remoteStore.remoteSyncer.handleCredentialChange=Mh.bind(null,u.syncEngine),yield function Yg(c,n){return m_.apply(this,arguments)}(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Jg}createDatastore(i){const s=ll(i.databaseInfo.databaseId),u=new RE(i.databaseInfo);return new Ea(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,p=this.datastore,v=i.asyncQueue,R=s=>lm(this.syncEngine,s,0),x=Qf.C()?new Qf:new vh,new u_(u,p,v,R,x);var u,p,v,R,x}createSyncEngine(i,s){return function(p,v,R,x,U,X,se){const xe=new __(p,v,R,x,U,X);return se&&(xe.Au=!0),xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,D.A)(function*(){var s,u,p;yield(p=(0,D.A)(function*(R){const x=Pt(R);dt(Yc,"RemoteStore shutting down."),x.Ta.add(5),yield nd(x),x.Ea.shutdown(),x.da.set("Unknown")}),function v(R){return p.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return c.provider={build:()=>new c},c})();class Jc{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.vu(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.vu(this.observer.error,n):$n("Uncaught Error in snapshot listener:",n.toString()))}Cu(){this.muted=!0}vu(n,i){setTimeout(()=>{this.muted||n(i)},0)}}const eu="FirestoreClient";class gT{constructor(n,i,s,u,p){var v=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=ct.UNAUTHENTICATED,this.clientId=Hn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=p,this.authCredentials.start(s,function(){var R=(0,D.A)(function*(x){dt(eu,"Received user=",x.uid),yield v.authCredentialListener(x),v.user=x});return function(x){return R.apply(this,arguments)}}()),this.appCheckCredentials.start(s,R=>(dt(eu,"Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new le;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,D.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=wu(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function vp(c,n){return _m.apply(this,arguments)}function _m(){return _m=(0,D.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress(),dt(eu,"Initializing OfflineComponentProvider");const i=c.configuration;yield n.initialize(i);let s=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,D.A)(function*(p){s.isEqual(p)||(yield _o(n.localStore,p),s=p)});return function(p){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=n}),_m.apply(this,arguments)}function vm(c,n){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,D.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress();const i=yield function Em(c){return Ep.apply(this,arguments)}(c);dt(eu,"Initializing OnlineComponentProvider"),yield n.initialize(i,c.configuration),c.setCredentialChangeListener(s=>g_(n.remoteStore,s)),c.setAppCheckTokenChangeListener((s,u)=>g_(n.remoteStore,u)),c._onlineComponents=n})).apply(this,arguments)}function Ep(){return(Ep=(0,D.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){dt(eu,"Using user provided OfflineComponentProvider");try{yield vp(c,c._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===Ge.FAILED_PRECONDITION||u.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;kn("Error using user provided cache. Falling back to memory cache: "+n),yield vp(c,new yd)}}else dt(eu,"Using default OfflineComponentProvider"),yield vp(c,new mp(void 0));var u;return c._offlineComponents})).apply(this,arguments)}function Fh(c){return wm.apply(this,arguments)}function wm(){return(wm=(0,D.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(dt(eu,"Using user provided OnlineComponentProvider"),yield vm(c,c._uninitializedComponentsProvider._online)):(dt(eu,"Using default OnlineComponentProvider"),yield vm(c,new _d))),c._onlineComponents})).apply(this,arguments)}function Lh(c){return vd.apply(this,arguments)}function vd(){return(vd=(0,D.A)(function*(c){const n=yield Fh(c),i=n.eventManager;return i.onListen=Ia.bind(null,n.syncEngine),i.onUnlisten=E_.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=cp.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=cm.bind(null,n.syncEngine),i})).apply(this,arguments)}function WE(c){const n={};return void 0!==c.timeoutSeconds&&(n.timeoutSeconds=c.timeoutSeconds),n}const GE=new Map;function O_(c,n,i){if(!i)throw new Z(Ge.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${n}.`)}function F_(c){if(!qt.isDocumentKey(c))throw new Z(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function jh(c){if(qt.isDocumentKey(c))throw new Z(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function Ed(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const n=(s=c).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof c?"a function":ut(12329,{type:typeof c})}function ti(c,n){if("_delegate"in c&&(c=c._delegate),!(c instanceof n)){if(n.name===c.constructor.name)throw new Z(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ed(c);throw new Z(Ge.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return c}const KE="firestore.googleapis.com";class L_{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new Z(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KE,this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.isUsingEmulator=void 0!==n.emulatorOptions,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Z(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}(function Bh(c,n,i,s){if(!0===n&&!0===s)throw new Z(Ge.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)})("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=WE(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new Z(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new Z(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new Z(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class wd{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Z(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(n),this._emulatorOptions=n.emulatorOptions||{},void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new pe;switch(s.type){case"firstParty":return new gt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Z(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,D.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=GE.get(i);s&&(dt("ComponentProvider","Removing Datastore"),GE.delete(i),s.terminate())}(this),Promise.resolve()}}class Ns{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Ns(this.firestore,n,this._query)}}class vo{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new vo(this.firestore,n,this._key)}}class gc extends Ns{constructor(n,i,s){super(n,i,Do(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new vo(this.firestore,null,new qt(n))}withConverter(n){return new gc(this.firestore,n,this._path)}}function QE(c,n,...i){if(c=(0,Se.Ku)(c),O_("collection","path",n),c instanceof wd){const s=st.fromString(n,...i);return jh(s),new gc(c,null,s)}{if(!(c instanceof vo||c instanceof gc))throw new Z(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(st.fromString(n,...i));return jh(s),new gc(c.firestore,null,s)}}function V_(c,n,...i){if(c=(0,Se.Ku)(c),1===arguments.length&&(n=Hn.newId()),O_("doc","path",n),c instanceof wd){const s=st.fromString(n,...i);return F_(s),new vo(c,null,new qt(s))}{if(!(c instanceof vo||c instanceof gc))throw new Z(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(st.fromString(n,...i));return F_(s),new vo(c.firestore,c instanceof gc?c.converter:null,new qt(s))}}const U_="AsyncQueue";class B_{constructor(n=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Og(this,"async_queue_retry"),this.ec=()=>{const s=wh();s&&dt(U_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=n;const i=wh();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.nc(),this.rc(n)}enterRestrictedMode(n){if(!this.ju){this.ju=!0,this.Zu=n||!1;const i=wh();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(n){if(this.nc(),this.ju)return new Promise(()=>{});const i=new le;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.zu.push(n),this.sc()))}sc(){var n=this;return(0,D.A)(function*(){if(0!==n.zu.length){try{yield n.zu[0](),n.zu.shift(),n.C_.reset()}catch(i){if(!Tr(i))throw i;dt(U_,"Operation failed with retryable error: "+i)}n.zu.length>0&&n.C_.f_(()=>n.sc())}})()}rc(n){const i=this.tc.then(()=>(this.Yu=!0,n().catch(s=>{throw this.Ju=s,this.Yu=!1,$n("INTERNAL UNHANDLED ERROR: ",j_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=i,i}enqueueAfterDelay(n,i,s){this.nc(),this.Xu.indexOf(n)>-1&&(i=0);const u=Zg.createAndSchedule(this,n,i,s,p=>this.oc(p));return this.Hu.push(u),u}nc(){this.Ju&&ut(47125,{_c:j_(this.Ju)})}verifyOperationInProgress(){}ac(){var n=this;return(0,D.A)(function*(){let i;do{i=n.tc,yield i}while(i!==n.tc)})()}uc(n){for(const i of this.Hu)if(i.timerId===n)return!0;return!1}cc(n){return this.ac().then(()=>{this.Hu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.ac()})}lc(n){this.Xu.push(n)}oc(n){const i=this.Hu.indexOf(n);this.Hu.splice(i,1)}}function j_(c){let n=c.message||"";return c.stack&&(n=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),n}function Cm(c){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(c)}class Eo extends wd{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new B_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var n=this;return(0,D.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new B_(i),n._firestoreClient=void 0,yield i}})()}}function Sm(c,n){const i="object"==typeof c?c:(0,F.Sx)(),s="string"==typeof c?c:n||Ie,u=(0,F.j6)(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const p=(0,Se.yU)("firestore");p&&function Dm(c,n,i,s={}){var u;c=ti(c,wd);const p=(0,Se.zJ)(n),v=c._getSettings(),R=Object.assign(Object.assign({},v),{emulatorOptions:c._getEmulatorOptions()}),x=`${n}:${i}`;p&&((0,Se.gE)(`https://${x}`),(0,Se.P1)("Firestore",!0)),v.host!==KE&&v.host!==x&&kn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const U=Object.assign(Object.assign({},v),{host:x,ssl:p,emulatorOptions:s});if(!(0,Se.bD)(U,R)&&(c._setSettings(U),s.mockUserToken)){let X,se;if("string"==typeof s.mockUserToken)X=s.mockUserToken,se=ct.MOCK_USER;else{X=(0,Se.Fy)(s.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const xe=s.mockUserToken.sub||s.mockUserToken.user_id;if(!xe)throw new Z(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");se=new ct(xe)}c._authCredentials=new re(new de(X,se))}}(u,...p)}return u}function zo(c){if(c._terminated)throw new Z(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||function H_(c){var n,i,s;const u=c._freezeSettings(),p=(x=(null===(n=c._app)||void 0===n?void 0:n.options.appId)||"",new G(c._databaseId,x,c._persistenceKey,(X=u).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,WE(X.experimentalLongPollingOptions),X.useFetchStreams,X.isUsingEmulator));var x,X;c._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(c._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),c._firestoreClient=new gT(c._authCredentials,c._appCheckCredentials,c._queue,p,c._componentsProvider&&function(R){const x=R?._online.build();return{_offline:R?._offline.build(x),_online:x}}(c._componentsProvider))}(c),c._firestoreClient}class Na{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Na(ji.fromBase64String(n))}catch(i){throw new Z(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new Na(ji.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class ml{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Z(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Td{constructor(n){this._methodName=n}}class Mm{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Z(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Z(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Kt(this._lat,n._lat)||Kt(this._long,n._long)}}class Ip{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let p=0;p<s.length;++p)if(s[p]!==u[p])return!1;return!0}(this._values,n._values)}}const tu=/^__.*__$/;class bd{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new Nn(n,this.data,this.fieldMask,i,this.fieldTransforms):new Ba(n,this.data,i,this.fieldTransforms)}}class q_{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new Nn(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function K_(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut(40011,{hc:c})}}class Tp{constructor(n,i,s,u,p,v){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===p&&this.Pc(),this.fieldTransforms=p||[],this.fieldMask=v||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(n){return new Tp(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:s,Ec:!1});return u.dc(n),u}Ac(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:s,Ec:!1});return u.Pc(),u}Rc(n){return this.Tc({path:void 0,Ec:!0})}Vc(n){return Vm(n,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}Pc(){if(this.path)for(let n=0;n<this.path.length;n++)this.dc(this.path.get(n))}dc(n){if(0===n.length)throw this.Vc("Document fields must not be empty");if(K_(this.hc)&&tu.test(n))throw this.Vc('Document fields cannot begin and end with "__"')}}class ew{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||ll(n)}gc(n,i,s,u=!1){return new Tp({hc:n,methodName:i,fc:s,path:Kn.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yl(c){const n=c._freezeSettings(),i=ll(c._databaseId);return new ew(c._databaseId,!!n.ignoreUndefinedProperties,i)}function bp(c,n,i,s,u,p={}){const v=c.gc(p.merge||p.mergeFields?2:0,n,i,u);X_("Data must be an object, but it was:",v,s);const R=Fm(s,v);let x,U;if(p.merge)x=new xo(v.fieldMask),U=v.fieldTransforms;else if(p.mergeFields){const X=[];for(const se of p.mergeFields){const xe=Dp(n,se,i);if(!v.contains(xe))throw new Z(Ge.INVALID_ARGUMENT,`Field '${xe}' is specified in your field mask but missing from your input data.`);nw(X,xe)||X.push(xe)}x=new xo(X),U=v.fieldTransforms.filter(se=>x.covers(se.field))}else x=null,U=v.fieldTransforms;return new bd(new oo(R),x,U)}class Dd extends Td{_toFieldTransform(n){if(2!==n.hc)throw n.Vc(1===n.hc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Dd}}function mc(c,n,i,s){const u=c.gc(1,n,i);X_("Data must be an object, but it was:",u,s);const p=[],v=oo.empty();mo(s,(x,U)=>{const X=Cd(n,x,i);U=(0,Se.Ku)(U);const se=u.Ac(X);if(U instanceof Dd)p.push(X);else{const xe=Au(U,se);null!=xe&&(p.push(X),v.set(X,xe))}});const R=new xo(p);return new q_(v,R,u.fieldTransforms)}function _l(c,n,i,s,u,p){const v=c.gc(1,n,i),R=[Dp(n,s,i)],x=[u];if(p.length%2!=0)throw new Z(Ge.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xe=0;xe<p.length;xe+=2)R.push(Dp(n,p[xe])),x.push(p[xe+1]);const U=[],X=oo.empty();for(let xe=R.length-1;xe>=0;--xe)if(!nw(U,R[xe])){const _t=R[xe];let jt=x[xe];jt=(0,Se.Ku)(jt);const un=v.Ac(_t);if(jt instanceof Dd)U.push(_t);else{const nn=Au(jt,un);null!=nn&&(U.push(_t),X.set(_t,nn))}}const se=new xo(U);return new q_(X,se,v.fieldTransforms)}function Au(c,n){if(tw(c=(0,Se.Ku)(c)))return X_("Unsupported field value:",n,c),Fm(c,n);if(c instanceof Td)return function(s,u){if(!K_(u.hc))throw u.Vc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(c,n),null;if(void 0===c&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),c instanceof Array){if(n.settings.Ec&&4!==n.hc)throw n.Vc("Nested arrays are not supported");return function(s,u){const p=[];let v=0;for(const R of s){let x=Au(R,u.Rc(v));null==x&&(x={nullValue:"NULL_VALUE"}),p.push(x),v++}return{arrayValue:{values:p}}}(c,n)}return function(s,u){if(null===(s=(0,Se.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Ee(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=fr.fromDate(s);return{timestampValue:qu(u.serializer,p)}}if(s instanceof fr){const p=new fr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qu(u.serializer,p)}}if(s instanceof Mm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Na)return{bytesValue:Ll(u.serializer,s._byteString)};if(s instanceof vo){const p=u.databaseId,v=s.firestore._databaseId;if(!v.isEqual(p))throw u.Vc(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:Ku(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ip)return v=s,R=u,{mapValue:{fields:{[nt]:{stringValue:Tn},[pn]:{arrayValue:{values:v.toArray().map(U=>{if("number"!=typeof U)throw R.Vc("VectorValues must only contain numeric values.");return V(R.serializer,U)})}}}}};var v,R;throw u.Vc(`Unsupported field value: ${Ed(s)}`)}(c,n)}function Fm(c,n){const i={};return Ds(c)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):mo(c,(s,u)=>{const p=Au(u,n.Ic(s));null!=p&&(i[s]=p)}),{mapValue:{fields:i}}}function tw(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof fr||c instanceof Mm||c instanceof Na||c instanceof vo||c instanceof Td||c instanceof Ip)}function X_(c,n,i){if(!tw(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Ed(i);throw n.Vc("an object"===s?c+" a custom object":c+" "+s)}var u}function Dp(c,n,i){if((n=(0,Se.Ku)(n))instanceof ml)return n._internalPath;if("string"==typeof n)return Cd(c,n);throw Vm("Field path arguments must be of type string or ",c,!1,void 0,i)}const Lm=new RegExp("[~\\*/\\[\\]]");function Cd(c,n,i){if(n.search(Lm)>=0)throw Vm(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new ml(...n.split("."))._internalPath}catch{throw Vm(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function Vm(c,n,i,s,u){const p=s&&!s.isEmpty(),v=void 0!==u;let R=`Function ${n}() called with invalid data`;i&&(R+=" (via `toFirestore()`)"),R+=". ";let x="";return(p||v)&&(x+=" (found",p&&(x+=` in field ${s}`),v&&(x+=` in document ${u}`),x+=")"),new Z(Ge.INVALID_ARGUMENT,R+c+x)}function nw(c,n){return c.some(i=>i.isEqual(n))}class Sd{constructor(n,i,s,u,p){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new vo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new rw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class rw extends Sd{data(){return super.data()}}function Ap(c,n){return"string"==typeof n?Cd(c,n):n instanceof ml?n._internalPath:n._delegate._internalPath}function Y_(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new Z(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class zh extends Um{}function Z_(c,n,...i){let s=[];n instanceof Um&&s.push(n),s=s.concat(i),function(p){const v=p.filter(x=>x instanceof Pd).length,R=p.filter(x=>x instanceof Rd).length;if(v>1||v>0&&R>0)throw new Z(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)c=u._apply(c);return c}class Rd extends zh{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new Rd(n,i,s)}_apply(n){const i=this._parse(n);return uw(n._query,i),new Ns(n.firestore,n.converter,fa(n._query,i))}_parse(n){const i=yl(n.firestore);return function(p,v,R,x,U,X,se){let xe;if(U.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new Z(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){cw(se,X);const jt=[];for(const un of se)jt.push($m(x,p,un));xe={arrayValue:{values:jt}}}else xe=$m(x,p,se)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||cw(se,X),xe=function Om(c,n,i,s=!1){return Au(i,c.gc(s?4:3,n))}(R,"where",se,"in"===X||"not-in"===X);return Wr.create(U,X,xe)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}function iw(c,n,i){const s=n,u=Ap("where",c);return Rd._create(u,s,i)}class Pd extends Um{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Pd(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:Br.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,p){let v=u;const R=p.getFlattenedFilters();for(const x of R)uw(v,x),v=fa(v,x)}(n._query,i),new Ns(n.firestore,n.converter,fa(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cp extends zh{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new Cp(n,i)}_apply(n){const i=function(u,p,v){if(null!==u.startAt)throw new Z(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Z(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qs(p,v)}(n._query,this._field,this._direction);return new Ns(n.firestore,n.converter,function(u,p){const v=u.explicitOrderBy.concat([p]);return new Hi(u.path,u.collectionGroup,v,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}function jm(c,n="asc"){const i=n,s=Ap("orderBy",c);return Cp._create(s,i)}function $m(c,n,i){if("string"==typeof(i=(0,Se.Ku)(i))){if(""===i)throw new Z(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sa(n)&&-1!==i.indexOf("/"))throw new Z(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(st.fromString(i));if(!qt.isDocumentKey(s))throw new Z(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vi(c,new qt(s))}if(i instanceof vo)return vi(c,i._key);throw new Z(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ed(i)}.`)}function cw(c,n){if(!Array.isArray(c)||0===c.length)throw new Z(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function uw(c,n){const i=function(u,p){for(const v of u)for(const R of v.getFlattenedFilters())if(p.indexOf(R.op)>=0)return R.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Z(Ge.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class tv{convertValue(n,i="none"){switch(Xn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Fr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(vr(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw ut(62114,{value:n})}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return mo(n,(u,p)=>{s[u]=this.convertValue(p,i)}),s}convertVectorValue(n){var i,s,u;const p=null===(u=null===(s=null===(i=n.fields)||void 0===i?void 0:i[pn].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(v=>Fr(v.doubleValue));return new Ip(p)}convertGeoPoint(n){return new Mm(Fr(n.latitude),Fr(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=Er(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(q(n));default:return null}}convertTimestamp(n){const i=Oo(n);return new fr(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=st.fromString(n);Xe(jl(s),9688,{name:n});const u=new Re(s.get(1),s.get(3)),p=new qt(s.popFirst(5));return u.isEqual(i)||$n(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function Mp(c,n,i){let s;return s=c?i&&(i.merge||i.mergeFields)?c.toFirestore(n,i):c.toFirestore(n):n,s}class vl{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Nd extends Sd{constructor(n,i,s,u,p,v){super(n,i,s,u,v),this._firestore=n,this._firestoreImpl=n,this.metadata=p}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class xd extends Nd{data(n={}){return super.data(n)}}class Wh{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new vl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new xd(this._firestore,this._userDataWriter,s.key,s,new vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Z(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let v=0;return u._snapshot.docChanges.map(R=>({type:"added",doc:new xd(u._firestore,u._userDataWriter,R.doc.key,R.doc,new vl(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:v++}))}{let v=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(R=>p||3!==R.type).map(R=>{const x=new xd(u._firestore,u._userDataWriter,R.doc.key,R.doc,new vl(u._snapshot.mutatedKeys.has(R.doc.key),u._snapshot.fromCache),u.query.converter);let U=-1,X=-1;return 0!==R.type&&(U=v.indexOf(R.doc.key),v=v.delete(R.doc.key)),1!==R.type&&(v=v.add(R.doc),X=v.indexOf(R.doc.key)),{type:AT(R.type),doc:x,oldIndex:U,newIndex:X}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function AT(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut(61501,{type:c})}}function CT(c){c=ti(c,vo);const n=ti(c.firestore,Eo);return function k_(c,n,i={}){const s=new le;return c.asyncQueue.enqueueAndForget((0,D.A)(function*(){return function(p,v,R,x,U){const X=new Jc({next:xe=>{X.Cu(),v.enqueueAndForget(()=>bh(p,se));const _t=xe.docs.has(R);!_t&&xe.fromCache?U.reject(new Z(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):_t&&xe.fromCache&&x&&"server"===x.source?U.reject(new Z(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):U.resolve(xe)},error:xe=>U.reject(xe)}),se=new Ch(Do(R.path),X,{includeMetadataChanges:!0,La:!0});return sd(p,se)}(yield Lh(c),c.asyncQueue,n,i,s)})),s.promise}(zo(n),c._key).then(i=>Cu(n,c,i))}class El extends tv{constructor(n){super(),this.firestore=n}convertBytes(n){return new Na(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new vo(this.firestore,null,i)}}function ST(c){c=ti(c,Ns);const n=ti(c.firestore,Eo),i=zo(n),s=new El(n);return Y_(c._query),function Im(c,n,i={}){const s=new le;return c.asyncQueue.enqueueAndForget((0,D.A)(function*(){return function(p,v,R,x,U){const X=new Jc({next:xe=>{X.Cu(),v.enqueueAndForget(()=>bh(p,se)),xe.fromCache&&"server"===x.source?U.reject(new Z(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):U.resolve(xe)},error:xe=>U.reject(xe)}),se=new Ch(R,X,{includeMetadataChanges:!0,La:!0});return sd(p,se)}(yield Lh(c),c.asyncQueue,n,i,s)})),s.promise}(i,c._query).then(u=>new Wh(n,s,c,u))}function kp(c,n,i){c=ti(c,vo);const s=ti(c.firestore,Eo),u=Mp(c.converter,n,i);return Od(s,[bp(yl(s),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,Gr.none())])}function rv(c,n,i,...s){c=ti(c,vo);const u=ti(c.firestore,Eo),p=yl(u);let v;return v="string"==typeof(n=(0,Se.Ku)(n))||n instanceof ml?_l(p,"updateDoc",c._key,n,i,s):mc(p,"updateDoc",c._key,n),Od(u,[v.toMutation(c._key,Gr.exists(!0))])}function iv(c){return Od(ti(c.firestore,Eo),[new ei(c._key,Gr.none())])}function ov(c,n){const i=ti(c.firestore,Eo),s=V_(c),u=Mp(c.converter,n);return Od(i,[bp(yl(c.firestore),"addDoc",s._key,u,null!==c.converter,{}).toMutation(s._key,Gr.exists(!1))]).then(()=>s)}function fw(c,...n){var i,s,u;c=(0,Se.Ku)(c);let p={includeMetadataChanges:!1,source:"default"},v=0;"object"!=typeof n[v]||Cm(n[v])||(p=n[v],v++);const R={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(Cm(n[v])){const se=n[v];n[v]=null===(i=se.next)||void 0===i?void 0:i.bind(se),n[v+1]=null===(s=se.error)||void 0===s?void 0:s.bind(se),n[v+2]=null===(u=se.complete)||void 0===u?void 0:u.bind(se)}let x,U,X;if(c instanceof vo)U=ti(c.firestore,Eo),X=Do(c._key.path),x={next:se=>{n[v]&&n[v](Cu(U,c,se))},error:n[v+1],complete:n[v+2]};else{const se=ti(c,Ns);U=ti(se.firestore,Eo),X=se._query;const xe=new El(U);x={next:_t=>{n[v]&&n[v](new Wh(U,xe,se,_t))},error:n[v+1],complete:n[v+2]},Y_(c._query)}return function(xe,_t,jt,un){const nn=new Jc(un),Jn=new Ch(_t,nn,jt);return xe.asyncQueue.enqueueAndForget((0,D.A)(function*(){return sd(yield Lh(xe),Jn)})),()=>{nn.Cu(),xe.asyncQueue.enqueueAndForget((0,D.A)(function*(){return bh(yield Lh(xe),Jn)}))}}(zo(U),X,R,x)}function Od(c,n){return function(s,u){const p=new le;return s.asyncQueue.enqueueAndForget((0,D.A)(function*(){return function w_(c,n,i){return I_.apply(this,arguments)}(yield function P_(c){return Fh(c).then(n=>n.syncEngine)}(s),u,p)})),p.promise}(zo(c),n)}function Cu(c,n,i){const s=i.docs.get(n._key),u=new El(c);return new Nd(c,u,n._key,s,new vl(i.hasPendingWrites,i.fromCache),n.converter)}class yc{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=yl(n)}set(n,i,s){this._verifyNotCommitted();const u=Su(n,this._firestore),p=Mp(u.converter,i,s),v=bp(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,s);return this._mutations.push(v.toMutation(u._key,Gr.none())),this}update(n,i,s,...u){this._verifyNotCommitted();const p=Su(n,this._firestore);let v;return v="string"==typeof(i=(0,Se.Ku)(i))||i instanceof ml?_l(this._dataReader,"WriteBatch.update",p._key,i,s,u):mc(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(v.toMutation(p._key,Gr.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Su(n,this._firestore);return this._mutations=this._mutations.concat(new ei(i._key,Gr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Z(Ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Su(c,n){if((c=(0,Se.Ku)(c)).firestore!==n)throw new Z(Ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}function Lr(c){return zo(c=ti(c,Eo)),new yc(c,n=>Od(c,n))}!function(n,i=!0){et=F.MF,(0,F.om)(new Q.uA("firestore",(s,{instanceIdentifier:u,options:p})=>{const v=s.getProvider("app").getImmediate(),R=new Eo(new he(s.getProvider("auth-internal")),new Yt(v,s.getProvider("app-check-internal")),function(U,X){if(!Object.prototype.hasOwnProperty.apply(U.options,["projectId"]))throw new Z(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Re(U.options.projectId,X)}(v,u),v);return p=Object.assign({useFetchStreams:i},p),R._setSettings(p),R},"PUBLIC").setMultipleInstances(!0)),(0,F.KO)(St,"4.7.16",n),(0,F.KO)(St,"4.7.16","esm2017")}()},3494:(Cn,ze,W)=>{"use strict";W.d(ze,{s:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},3604:(Cn,ze,W)=>{"use strict";W.d(ze,{q:()=>Q});const D={now:()=>(D.delegate||Date).now(),delegate:void 0};class F{constructor(Se,Ze=F.now){this.schedulerActionCtor=Se,this.now=Ze}schedule(Se,Ze=0,be){return new this.schedulerActionCtor(this,Se).schedule(be,Ze)}}F.now=D.now;class Q extends F{constructor(Se,Ze=F.now){super(Se,Ze),this.actions=[],this._active=!1}flush(Se){const{actions:Ze}=this;if(this._active)return void Ze.push(Se);let be;this._active=!0;do{if(be=Se.execute(Se.state,Se.delay))break}while(Se=Ze.shift());if(this._active=!1,be){for(;Se=Ze.shift();)Se.unsubscribe();throw be}}}},3669:(Cn,ze,W)=>{"use strict";function D(F){return F}W.d(ze,{D:()=>D})},4125:(Cn,ze,W)=>{"use strict";W.d(ze,{kR:()=>at});var D=W(2967),Se=(W(1360),W(7440),W(2214),W(467)),Ze=W(7852),be=W(1362),ge=W(6858),Ue=W(8041);const _e=new Map,we={activated:!1,tokenObservers:[]},qe={initialized:!1,enabled:!1};function Ct(ve){return _e.get(ve)||Object.assign({},we)}function Ot(){return qe}class Ne{constructor(Ve,Qe,Vt,Ht,In){if(this.operation=Ve,this.retryPolicy=Qe,this.getWaitDuration=Vt,this.lowerBound=Ht,this.upperBound=In,this.pending=null,this.nextErrorWaitInterval=Ht,Ht>In)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ve){var Qe=this;return(0,Se.A)(function*(){Qe.stop();try{Qe.pending=new ge.cY,Qe.pending.promise.catch(Vt=>{}),yield function ct(ve){return new Promise(Ve=>{setTimeout(Ve,ve)})}(Qe.getNextRun(Ve)),Qe.pending.resolve(),yield Qe.pending.promise,Qe.pending=new ge.cY,Qe.pending.promise.catch(Vt=>{}),yield Qe.operation(),Qe.pending.resolve(),yield Qe.pending.promise,Qe.process(!0).catch(()=>{})}catch(Vt){Qe.retryPolicy(Vt)?Qe.process(!1).catch(()=>{}):Qe.stop()}})()}getNextRun(Ve){if(Ve)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Qe}}}const Tt=new ge.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function vt(ve){if(!Ct(ve).activated)throw Tt.create("use-before-activation",{appName:ve.name})}function kn(ve,Ve){return er.apply(this,arguments)}function er(){return(er=(0,Se.A)(function*({url:ve,body:Ve},Qe){const Vt={"Content-Type":"application/json"},Ht=Qe.getImmediate({optional:!0});if(Ht){const Sr=yield Ht.getHeartbeatsHeader();Sr&&(Vt["X-Firebase-Client"]=Sr)}const In={method:"POST",body:JSON.stringify(Ve),headers:Vt};let Fn,Dn;try{Fn=yield fetch(ve,In)}catch(Sr){throw Tt.create("fetch-network-error",{originalErrorMessage:Sr?.message})}if(200!==Fn.status)throw Tt.create("fetch-status-error",{httpStatus:Fn.status});try{Dn=yield Fn.json()}catch(Sr){throw Tt.create("fetch-parse-error",{originalErrorMessage:Sr?.message})}const rr=Dn.ttl.match(/^([\d.]+)(s)$/);if(!rr||!rr[2]||isNaN(Number(rr[1])))throw Tt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Dn.ttl}`});const zr=1e3*Number(rr[1]),Po=Date.now();return{token:Dn.token,expireTimeMillis:Po+zr,issuedAtTimeMillis:Po}})).apply(this,arguments)}function Xe(ve,Ve){const{projectId:Qe,appId:Vt,apiKey:Ht}=ve.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Qe}/apps/${Vt}:exchangeDebugToken?key=${Ht}`,body:{debug_token:Ve}}}const Ge="firebase-app-check-store";let le=null;function rn(){return(rn=(0,Se.A)(function*(ve,Ve){const Vt=(yield function de(){return le||(le=new Promise((ve,Ve)=>{try{const Qe=indexedDB.open("firebase-app-check-database",1);Qe.onsuccess=Vt=>{ve(Vt.target.result)},Qe.onerror=Vt=>{var Ht;Ve(Tt.create("storage-open",{originalErrorMessage:null===(Ht=Vt.target.error)||void 0===Ht?void 0:Ht.message}))},Qe.onupgradeneeded=Vt=>{0===Vt.oldVersion&&Vt.target.result.createObjectStore(Ge,{keyPath:"compositeKey"})}}catch(Qe){Ve(Tt.create("storage-open",{originalErrorMessage:Qe?.message}))}}),le)}()).transaction(Ge,"readwrite"),In=Vt.objectStore(Ge).put({compositeKey:ve,value:Ve});return new Promise((Fn,Dn)=>{In.onsuccess=rr=>{Fn()},Vt.onerror=rr=>{var zr;Dn(Tt.create("storage-set",{originalErrorMessage:null===(zr=rr.target.error)||void 0===zr?void 0:zr.message}))}})})).apply(this,arguments)}const Qn=new Ue.Vy("@firebase/app-check");function Vn(ve,Ve){return(0,ge.zW)()?function re(ve,Ve){return function gt(ve,Ve){return rn.apply(this,arguments)}(function zt(ve){return`${ve.options.appId}-${ve.name}`}(ve),Ve)}(ve,Ve).catch(Qe=>{Qn.warn(`Failed to write token to IndexedDB. Error: ${Qe}`)}):Promise.resolve()}function kr(){return Ot().enabled}function Pr(){return Si.apply(this,arguments)}function Si(){return(Si=(0,Se.A)(function*(){const ve=Ot();if(ve.enabled&&ve.token)return ve.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fr={error:"UNKNOWN_ERROR"};function on(ve){return ge.K3.encodeString(JSON.stringify(ve),!1)}function Xi(ve){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,Se.A)(function*(ve,Ve=!1,Qe=!1){const Vt=ve.app;vt(Vt);const Ht=Ct(Vt);let Fn,In=Ht.token;if(In&&!Dr(In)&&(Ht.token=void 0,In=void 0),!In){const zr=yield Ht.cachedTokenPromise;zr&&(Dr(zr)?In=zr:yield Vn(Vt,void 0))}if(!Ve&&In&&Dr(In))return{token:In.token};let rr,Dn=!1;if(kr())try{Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=kn(Xe(Vt,yield Pr()),ve.heartbeatServiceProvider).finally(()=>{Ht.exchangeTokenPromise=void 0}),Dn=!0);const zr=yield Ht.exchangeTokenPromise;return yield Vn(Vt,zr),Ht.token=zr,{token:zr.token}}catch(zr){return"appCheck/throttled"===zr.code||"appCheck/initial-throttle"===zr.code?Qn.warn(zr.message):Qe&&Qn.error(zr),Ei(zr)}try{Ht.exchangeTokenPromise||(Ht.exchangeTokenPromise=Ht.provider.getToken().finally(()=>{Ht.exchangeTokenPromise=void 0}),Dn=!0),In=yield Ct(Vt).exchangeTokenPromise}catch(zr){"appCheck/throttled"===zr.code||"appCheck/initial-throttle"===zr.code?Qn.warn(zr.message):Qe&&Qn.error(zr),Fn=zr}return In?Fn?rr=Dr(In)?{token:In.token,internalError:Fn}:Ei(Fn):(rr={token:In.token},Ht.token=In,yield Vn(Vt,In)):rr=Ei(Fn),Dn&&function gi(ve,Ve){const Qe=Ct(ve).tokenObservers;for(const Vt of Qe)try{"EXTERNAL"===Vt.type&&null!=Ve.error?Vt.error(Ve.error):Vt.next(Ve)}catch{}}(Vt,rr),rr})).apply(this,arguments)}function Ir(){return(Ir=(0,Se.A)(function*(ve){const Ve=ve.app;vt(Ve);const{provider:Qe}=Ct(Ve);if(kr()){const Vt=yield Pr(),{token:Ht}=yield kn(Xe(Ve,Vt),ve.heartbeatServiceProvider);return{token:Ht}}{const{token:Vt}=yield Qe.getToken();return{token:Vt}}})).apply(this,arguments)}function qt(ve,Ve){const Qe=Ct(ve),Vt=Qe.tokenObservers.filter(Ht=>Ht.next!==Ve);0===Vt.length&&Qe.tokenRefresher&&Qe.tokenRefresher.isRunning()&&Qe.tokenRefresher.stop(),Qe.tokenObservers=Vt}function si(ve){const{app:Ve}=ve,Qe=Ct(Ve);let Vt=Qe.tokenRefresher;Vt||(Vt=function li(ve){const{app:Ve}=ve;return new Ne((0,Se.A)(function*(){let Vt;if(Vt=Ct(Ve).token?yield Xi(ve,!0):yield Xi(ve),Vt.error)throw Vt.error;if(Vt.internalError)throw Vt.internalError}),()=>!0,()=>{const Qe=Ct(Ve);if(Qe.token){let Vt=Qe.token.issuedAtTimeMillis+.5*(Qe.token.expireTimeMillis-Qe.token.issuedAtTimeMillis)+3e5;return Vt=Math.min(Vt,Qe.token.expireTimeMillis-3e5),Math.max(0,Vt-Date.now())}return 0},3e4,96e4)}(ve),Qe.tokenRefresher=Vt),!Vt.isRunning()&&Qe.isTokenAutoRefreshEnabled&&Vt.start()}function Dr(ve){return ve.expireTimeMillis-Date.now()>0}function Ei(ve){return{token:on(fr),error:ve}}class Cr{constructor(Ve,Qe){this.app=Ve,this.heartbeatServiceProvider=Qe}_delete(){const{tokenObservers:Ve}=Ct(this.app);for(const Qe of Ve)qt(this.app,Qe.next);return Promise.resolve()}}const mr="app-check-internal";!function ne(){(0,Ze.om)(new be.uA("app-check",ve=>function di(ve,Ve){return new Cr(ve,Ve)}(ve.getProvider("app").getImmediate(),ve.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ve,Ve,Qe)=>{ve.getProvider(mr).initialize()})),(0,Ze.om)(new be.uA(mr,ve=>function lr(ve){return{getToken:Ve=>Xi(ve,Ve),getLimitedUseToken:()=>function st(ve){return Ir.apply(this,arguments)}(ve),addTokenListener:Ve=>function Kn(ve,Ve,Qe,Vt){const{app:Ht}=ve,In=Ct(Ht);if(In.tokenObservers=[...In.tokenObservers,{next:Qe,error:Vt,type:Ve}],In.token&&Dr(In.token)){const Dn=In.token;Promise.resolve().then(()=>{Qe({token:Dn.token}),si(ve)}).catch(()=>{})}In.cachedTokenPromise.then(()=>si(ve))}(ve,"INTERNAL",Ve),removeTokenListener:Ve=>qt(ve.app,Ve)}}(ve.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ze.KO)("@firebase/app-check","0.10.0")}();class at{constructor(){return(0,D.CA)("app-check")}}typeof window<"u"&&window},4360:(Cn,ze,W)=>{"use strict";W.d(ze,{_:()=>F});var D=W(7707);function F(w,Se,Ze,be,ge){return new Q(w,Se,Ze,be,ge)}class Q extends D.vU{constructor(Se,Ze,be,ge,Ue,_e){super(Se),this.onFinalize=Ue,this.shouldUnsubscribe=_e,this._next=Ze?function(we){try{Ze(we)}catch(qe){Se.error(qe)}}:super._next,this._error=ge?function(we){try{ge(we)}catch(qe){Se.error(qe)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(we){Se.error(we)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ze}=this;super.unsubscribe(),!Ze&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},4412:(Cn,ze,W)=>{"use strict";W.d(ze,{t:()=>F});var D=W(1413);class F extends D.B{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const Se=super._subscribe(w);return!Se.closed&&w.next(this._value),Se}getValue(){const{hasError:w,thrownError:Se,_value:Ze}=this;if(w)throw Se;return this._throwIfClosed(),Ze}next(w){super.next(this._value=w)}}},4761:(Cn,ze,W)=>{"use strict";W.d(ze,{l:()=>F});const F=function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4796:(Cn,ze,W)=>{"use strict";W.d(ze,{u:()=>w});var D=W(1360),F=W(6335),Q=W(5964);let w=(()=>{class Se{auth=(0,D.WQX)(F.Nj);constructor(){console.log("%c<<< Start AUTH service >>>","background: #cff4fc; color: #055160; padding: 2px 5px;")}getAuthState(){return console.log("\u{1f441} Observando el estado de autenticaci\xf3n..."),(0,F.wh)(this.auth)}getCurrentUser(){return this.getAuthState().pipe((0,Q.p)(be=>!!be))}login(be,ge){return console.log("\u{1f510} Intentando iniciar sesi\xf3n con:",be),(0,F.x9)(this.auth,be,ge)}register(be,ge){return console.log("\u{1f4dd} Registrando nuevo usuario con:",be),(0,F.eJ)(this.auth,be,ge)}logout(){return console.log("\u{1f6aa} Cerrando sesi\xf3n del usuario actual"),(0,F.CI)(this.auth)}resetPassword(be){return console.log("\u{1f4e7} Enviando enlace de recuperaci\xf3n a:",be),(0,F.J1)(this.auth,be)}static \u0275fac=function(ge){return new(ge||Se)};static \u0275prov=D.jDH({token:Se,factory:Se.\u0275fac,providedIn:"root"})}return Se})()},5055:(Cn,ze,W)=>{"use strict";W.d(ze,{l:()=>Q});var D=W(3494),F=W(8071);function Q(w){return(0,F.T)(w[D.s])}},5072:(Cn,ze,W)=>{"use strict";W.d(ze,{nX:()=>Mo,Pu:()=>Ao,Zp:()=>Bn,nU:()=>Gn,c1:()=>Zr,XR:()=>Mn,wF:()=>Po,lW:()=>Bo,mo:()=>ao,Z:()=>zr,J2:()=>pa,J_:()=>Sn,bw:()=>cr,tD:()=>Jr,Ix:()=>vc,D$:()=>Hi,n3:()=>qr,OY:()=>yr,Sd:()=>xr,bK:()=>ys,gk:()=>Ai,Lg:()=>ls,wO:()=>Et,Us:()=>Gi,we:()=>As});var D=W(9361),F=W(6048),Q=W(1360),w=W(1985),Se=W(8071),be=W(8455),ge=W(7673),Ue=W(4412),_e=W(3073),we=W(3669),qe=W(6450),Ct=W(9326),ft=W(8496),Ot=W(4360),Bt=W(5225);function Gt(...A){const k=(0,Ct.lI)(A),S=(0,Ct.ms)(A),{args:m,keys:d}=(0,_e.D)(A);if(0===m.length)return(0,be.H)([],k);const f=new w.c(function hn(A,k,S=we.D){return m=>{Dt(k,()=>{const{length:d}=A,f=new Array(d);let E=d,M=d;for(let V=0;V<d;V++)Dt(k,()=>{const ee=(0,be.H)(A[V],k);let Ee=!1;ee.subscribe((0,Ot._)(m,We=>{f[V]=We,Ee||(Ee=!0,M--),M||m.next(S(f.slice()))},()=>{--E||m.complete()}))},m)},m)}}(m,k,d?E=>(0,ft.e)(d,E):we.D));return S?f.pipe((0,qe.I)(S)):f}function Dt(A,k,S){A?(0,Bt.N)(S,A,k):k()}var Rt=W(9350),St=W(6365);function ct(...A){return function Ne(){return(0,St.U)(1)}()((0,be.H)(A,(0,Ct.lI)(A)))}var et=W(8750);function Tt(A){return new w.c(k=>{(0,et.Tg)(A()).subscribe(k)})}var Xt=W(1203);function vt(A,k){const S=(0,Se.T)(A)?A:()=>A,m=d=>d.error(S());return new w.c(k?d=>k.schedule(m,0,d):m)}var dt=W(983),$n=W(8359),kn=W(9974);function er(){return(0,kn.N)((A,k)=>{let S=null;A._refCount++;const m=(0,Ot._)(k,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(S=null);const d=A._connection,f=S;S=null,d&&(!f||d===f)&&d.unsubscribe(),k.unsubscribe()});A.subscribe(m),m.closed||(S=A.connect())})}class ut extends w.c{constructor(k,S){super(),this.source=k,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,kn.S)(k)&&(this.lift=k.lift)}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:k}=this;this._subject=this._connection=null,k?.unsubscribe()}connect(){let k=this._connection;if(!k){k=this._connection=new $n.yU;const S=this.getSubject();k.add(this.source.subscribe((0,Ot._)(S,void 0,()=>{this._teardown(),S.complete()},m=>{this._teardown(),S.error(m)},()=>this._teardown()))),k.closed&&(this._connection=null,k=$n.yU.EMPTY)}return k}refCount(){return er()(this)}}var wn=W(1413),Xe=W(6354),en=W(5558);function Pt(A){return A<=0?()=>dt.w:(0,kn.N)((k,S)=>{let m=0;k.subscribe((0,Ot._)(S,d=>{++m<=A&&(S.next(d),A<=m&&S.complete())}))})}var Z=W(5964),le=W(1397);function de(A){return(0,kn.N)((k,S)=>{let m=!1;k.subscribe((0,Ot._)(S,d=>{m=!0,S.next(d)},()=>{m||S.next(A),S.complete()}))})}function pe(A=re){return(0,kn.N)((k,S)=>{let m=!1;k.subscribe((0,Ot._)(S,d=>{m=!0,S.next(d)},()=>m?S.complete():S.error(A())))})}function re(){return new Rt.G}function he(A,k){const S=arguments.length>=2;return m=>m.pipe(A?(0,Z.p)((d,f)=>A(d,f,m)):we.D,Pt(1),S?de(k):pe(()=>new Rt.G))}var Ke=W(274);function gt(A,k,S){const m=(0,Se.T)(A)||k||S?{next:A,error:k,complete:S}:A;return m?(0,kn.N)((d,f)=>{var E;null===(E=m.subscribe)||void 0===E||E.call(m);let M=!0;d.subscribe((0,Ot._)(f,V=>{var ee;null===(ee=m.next)||void 0===ee||ee.call(m,V),f.next(V)},()=>{var V;M=!1,null===(V=m.complete)||void 0===V||V.call(m),f.complete()},V=>{var ee;M=!1,null===(ee=m.error)||void 0===ee||ee.call(m,V),f.error(V)},()=>{var V,ee;M&&(null===(V=m.unsubscribe)||void 0===V||V.call(m)),null===(ee=m.finalize)||void 0===ee||ee.call(m)}))}):we.D}var rn=W(9437);function zt(A){return A<=0?()=>dt.w:(0,kn.N)((k,S)=>{let m=[];k.subscribe((0,Ot._)(S,d=>{m.push(d),A<m.length&&m.shift()},()=>{for(const d of m)S.next(d);S.complete()},void 0,()=>{m=null}))})}var Hn=W(980),Kt=W(5343),tr=W(345);const bn="primary",kr=Symbol("RouteTitle");class Pr{params;constructor(k){this.params=k||{}}has(k){return Object.prototype.hasOwnProperty.call(this.params,k)}get(k){if(this.has(k)){const S=this.params[k];return Array.isArray(S)?S[0]:S}return null}getAll(k){if(this.has(k)){const S=this.params[k];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function Si(A){return new Pr(A)}function fn(A,k,S){const m=S.path.split("/");if(m.length>A.length||"full"===S.pathMatch&&(k.hasChildren()||m.length<A.length))return null;const d={};for(let f=0;f<m.length;f++){const E=m[f],M=A[f];if(":"===E[0])d[E.substring(1)]=M;else if(E!==M.path)return null}return{consumed:A.slice(0,m.length),posParams:d}}function on(A,k){const S=A?Xi(A):void 0,m=k?Xi(k):void 0;if(!S||!m||S.length!=m.length)return!1;let d;for(let f=0;f<S.length;f++)if(d=S[f],!Nr(A[d],k[d]))return!1;return!0}function Xi(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function Nr(A,k){if(Array.isArray(A)&&Array.isArray(k)){if(A.length!==k.length)return!1;const S=[...A].sort(),m=[...k].sort();return S.every((d,f)=>m[f]===d)}return A===k}function st(A){return A.length>0?A[A.length-1]:null}function Ir(A){return function Ze(A){return!!A&&(A instanceof w.c||(0,Se.T)(A.lift)&&(0,Se.T)(A.subscribe))}(A)?A:(0,Q.jNT)(A)?(0,be.H)(Promise.resolve(A)):(0,ge.of)(A)}const Kn={exact:function gi(A,k,S){if(!An(A.segments,k.segments)||!di(A.segments,k.segments,S)||A.numberOfChildren!==k.numberOfChildren)return!1;for(const m in k.children)if(!A.children[m]||!gi(A.children[m],k.children[m],S))return!1;return!0},subset:Ei},qt={exact:function li(A,k){return on(A,k)},subset:function Dr(A,k){return Object.keys(k).length<=Object.keys(A).length&&Object.keys(k).every(S=>Nr(A[S],k[S]))},ignored:()=>!0};function si(A,k,S){return Kn[S.paths](A.root,k.root,S.matrixParams)&&qt[S.queryParams](A.queryParams,k.queryParams)&&!("exact"===S.fragment&&A.fragment!==k.fragment)}function Ei(A,k,S){return Cr(A,k,k.segments,S)}function Cr(A,k,S,m){if(A.segments.length>S.length){const d=A.segments.slice(0,S.length);return!(!An(d,S)||k.hasChildren()||!di(d,S,m))}if(A.segments.length===S.length){if(!An(A.segments,S)||!di(A.segments,S,m))return!1;for(const d in k.children)if(!A.children[d]||!Ei(A.children[d],k.children[d],m))return!1;return!0}{const d=S.slice(0,A.segments.length),f=S.slice(A.segments.length);return!!(An(A.segments,d)&&di(A.segments,d,m)&&A.children[bn])&&Cr(A.children[bn],k,f,m)}}function di(A,k,S){return k.every((m,d)=>qt[S](A[d].parameters,m.parameters))}class lr{root;queryParams;fragment;_queryParamMap;constructor(k=new sr([],{}),S={},m=null){this.root=k,this.queryParams=S,this.fragment=m}get queryParamMap(){return this._queryParamMap??=Si(this.queryParams),this._queryParamMap}toString(){return Yi.serialize(this)}}class sr{segments;children;parent=null;constructor(k,S){this.segments=k,this.children=S,Object.values(S).forEach(m=>m.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Le(this)}}class mi{path;parameters;_parameterMap;constructor(k,S){this.path=k,this.parameters=S}get parameterMap(){return this._parameterMap??=Si(this.parameters),this._parameterMap}toString(){return Ui(this)}}function An(A,k){return A.length===k.length&&A.every((S,m)=>S.path===k[m].path)}let xr=(()=>{class A{static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:()=>new Gn,providedIn:"root"})}return A})();class Gn{parse(k){const S=new ne(k);return new lr(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(k){const S=`/${Ar(k.root,!0)}`,m=function xi(A){const k=Object.entries(A).map(([S,m])=>Array.isArray(m)?m.map(d=>`${ai(S)}=${ai(d)}`).join("&"):`${ai(S)}=${ai(m)}`).filter(S=>S);return k.length?`?${k.join("&")}`:""}(k.queryParams);return`${S}${m}${"string"==typeof k.fragment?`#${function Vi(A){return encodeURI(A)}(k.fragment)}`:""}`}}const Yi=new Gn;function Le(A){return A.segments.map(k=>Ui(k)).join("/")}function Ar(A,k){if(!A.hasChildren())return Le(A);if(k){const S=A.children[bn]?Ar(A.children[bn],!1):"",m=[];return Object.entries(A.children).forEach(([d,f])=>{d!==bn&&m.push(`${d}:${Ar(f,!1)}`)}),m.length>0?`${S}(${m.join("//")})`:S}{const S=function bi(A,k){let S=[];return Object.entries(A.children).forEach(([m,d])=>{m===bn&&(S=S.concat(k(d,m)))}),Object.entries(A.children).forEach(([m,d])=>{m!==bn&&(S=S.concat(k(d,m)))}),S}(A,(m,d)=>d===bn?[Ar(A.children[bn],!1)]:[`${d}:${Ar(m,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[bn]?`${Le(A)}/${S[0]}`:`${Le(A)}/(${S.join("//")})`}}function Zi(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ai(A){return Zi(A).replace(/%3B/gi,";")}function _n(A){return Zi(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gr(A){return decodeURIComponent(A)}function Tr(A){return gr(A.replace(/\+/g,"%20"))}function Ui(A){return`${_n(A.path)}${function Bi(A){return Object.entries(A).map(([k,S])=>`;${_n(k)}=${_n(S)}`).join("")}(A.parameters)}`}const De=/^[^\/()?;#]+/;function me(A){const k=A.match(De);return k?k[0]:""}const Be=/^[^\/()?;=#]+/,Ye=/^[^=?&#]+/,Rn=/^[^&#]+/;class ne{url;remaining;constructor(k){this.url=k,this.remaining=k}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sr([],{}):new sr([],this.parseChildren())}parseQueryParams(){const k={};if(this.consumeOptional("?"))do{this.parseQueryParam(k)}while(this.consumeOptional("&"));return k}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const k=[];for(this.peekStartsWith("(")||k.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),k.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let m={};return this.peekStartsWith("(")&&(m=this.parseParens(!1)),(k.length>0||Object.keys(S).length>0)&&(m[bn]=new sr(k,S)),m}parseSegment(){const k=me(this.remaining);if(""===k&&this.peekStartsWith(";"))throw new Q.wOt(4009,!1);return this.capture(k),new mi(gr(k),this.parseMatrixParams())}parseMatrixParams(){const k={};for(;this.consumeOptional(";");)this.parseParam(k);return k}parseParam(k){const S=function xt(A){const k=A.match(Be);return k?k[0]:""}(this.remaining);if(!S)return;this.capture(S);let m="";if(this.consumeOptional("=")){const d=me(this.remaining);d&&(m=d,this.capture(m))}k[gr(S)]=gr(m)}parseQueryParam(k){const S=function Qt(A){const k=A.match(Ye);return k?k[0]:""}(this.remaining);if(!S)return;this.capture(S);let m="";if(this.consumeOptional("=")){const E=function mr(A){const k=A.match(Rn);return k?k[0]:""}(this.remaining);E&&(m=E,this.capture(m))}const d=Tr(S),f=Tr(m);if(k.hasOwnProperty(d)){let E=k[d];Array.isArray(E)||(E=[E],k[d]=E),E.push(f)}else k[d]=f}parseParens(k){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const m=me(this.remaining),d=this.remaining[m.length];if("/"!==d&&")"!==d&&";"!==d)throw new Q.wOt(4010,!1);let f;m.indexOf(":")>-1?(f=m.slice(0,m.indexOf(":")),this.capture(f),this.capture(":")):k&&(f=bn);const E=this.parseChildren();S[f]=1===Object.keys(E).length?E[bn]:new sr([],E),this.consumeOptional("//")}return S}peekStartsWith(k){return this.remaining.startsWith(k)}consumeOptional(k){return!!this.peekStartsWith(k)&&(this.remaining=this.remaining.substring(k.length),!0)}capture(k){if(!this.consumeOptional(k))throw new Q.wOt(4011,!1)}}function ae(A){return A.segments.length>0?new sr([],{[bn]:A}):A}function Ce(A){const k={};for(const[m,d]of Object.entries(A.children)){const f=Ce(d);if(m===bn&&0===f.segments.length&&f.hasChildren())for(const[E,M]of Object.entries(f.children))k[E]=M;else(f.segments.length>0||f.hasChildren())&&(k[m]=f)}return function at(A){if(1===A.numberOfChildren&&A.children[bn]){const k=A.children[bn];return new sr(A.segments.concat(k.segments),k.children)}return A}(new sr(A.segments,k))}function Et(A){return A instanceof lr}function ye(A){let k;const d=ae(function S(f){const E={};for(const V of f.children){const ee=S(V);E[V.outlet]=ee}const M=new sr(f.url,E);return f===A&&(k=M),M}(A.root));return k??d}function Oe(A,k,S,m){let d=A;for(;d.parent;)d=d.parent;if(0===k.length)return ht(d,d,d,S,m);const f=function Un(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new tn(!0,0,A);let k=0,S=!1;const m=A.reduce((d,f,E)=>{if("object"==typeof f&&null!=f){if(f.outlets){const M={};return Object.entries(f.outlets).forEach(([V,ee])=>{M[V]="string"==typeof ee?ee.split("/"):ee}),[...d,{outlets:M}]}if(f.segmentPath)return[...d,f.segmentPath]}return"string"!=typeof f?[...d,f]:0===E?(f.split("/").forEach((M,V)=>{0==V&&"."===M||(0==V&&""===M?S=!0:".."===M?k++:""!=M&&d.push(M))}),d):[...d,f]},[]);return new tn(S,k,m)}(k);if(f.toRoot())return ht(d,d,new sr([],{}),S,m);const E=function qn(A,k,S){if(A.isAbsolute)return new cn(k,!0,0);if(!S)return new cn(k,!1,NaN);if(null===S.parent)return new cn(S,!0,0);const m=bt(A.commands[0])?0:1;return function ar(A,k,S){let m=A,d=k,f=S;for(;f>d;){if(f-=d,m=m.parent,!m)throw new Q.wOt(4005,!1);d=m.segments.length}return new cn(m,!1,d-f)}(S,S.segments.length-1+m,A.numberOfDoubleDots)}(f,d,A),M=E.processChildren?ve(E.segmentGroup,E.index,f.commands):Ri(E.segmentGroup,E.index,f.commands);return ht(d,E.segmentGroup,M,S,m)}function bt(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function yt(A){return"object"==typeof A&&null!=A&&A.outlets}function ht(A,k,S,m,d){let E,f={};m&&Object.entries(m).forEach(([V,ee])=>{f[V]=Array.isArray(ee)?ee.map(Ee=>`${Ee}`):`${ee}`}),E=A===k?S:kt(A,k,S);const M=ae(Ce(E));return new lr(M,f,d)}function kt(A,k,S){const m={};return Object.entries(A.children).forEach(([d,f])=>{m[d]=f===k?S:kt(f,k,S)}),new sr(A.segments,m)}class tn{isAbsolute;numberOfDoubleDots;commands;constructor(k,S,m){if(this.isAbsolute=k,this.numberOfDoubleDots=S,this.commands=m,k&&m.length>0&&bt(m[0]))throw new Q.wOt(4003,!1);const d=m.find(yt);if(d&&d!==st(m))throw new Q.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cn{segmentGroup;processChildren;index;constructor(k,S,m){this.segmentGroup=k,this.processChildren=S,this.index=m}}function Ri(A,k,S){if(A??=new sr([],{}),0===A.segments.length&&A.hasChildren())return ve(A,k,S);const m=function Ve(A,k,S){let m=0,d=k;const f={match:!1,pathIndex:0,commandIndex:0};for(;d<A.segments.length;){if(m>=S.length)return f;const E=A.segments[d],M=S[m];if(yt(M))break;const V=`${M}`,ee=m<S.length-1?S[m+1]:null;if(d>0&&void 0===V)break;if(V&&ee&&"object"==typeof ee&&void 0===ee.outlets){if(!In(V,ee,E))return f;m+=2}else{if(!In(V,{},E))return f;m++}d++}return{match:!0,pathIndex:d,commandIndex:m}}(A,k,S),d=S.slice(m.commandIndex);if(m.match&&m.pathIndex<A.segments.length){const f=new sr(A.segments.slice(0,m.pathIndex),{});return f.children[bn]=new sr(A.segments.slice(m.pathIndex),A.children),ve(f,0,d)}return m.match&&0===d.length?new sr(A.segments,{}):m.match&&!A.hasChildren()?Qe(A,k,S):m.match?ve(A,0,d):Qe(A,k,S)}function ve(A,k,S){if(0===S.length)return new sr(A.segments,{});{const m=function wi(A){return yt(A[0])?A[0].outlets:{[bn]:A}}(S),d={};if(Object.keys(m).some(f=>f!==bn)&&A.children[bn]&&1===A.numberOfChildren&&0===A.children[bn].segments.length){const f=ve(A.children[bn],k,S);return new sr(A.segments,f.children)}return Object.entries(m).forEach(([f,E])=>{"string"==typeof E&&(E=[E]),null!==E&&(d[f]=Ri(A.children[f],k,E))}),Object.entries(A.children).forEach(([f,E])=>{void 0===m[f]&&(d[f]=E)}),new sr(A.segments,d)}}function Qe(A,k,S){const m=A.segments.slice(0,k);let d=0;for(;d<S.length;){const f=S[d];if(yt(f)){const V=Vt(f.outlets);return new sr(m,V)}if(0===d&&bt(S[0])){m.push(new mi(A.segments[k].path,Ht(S[0]))),d++;continue}const E=yt(f)?f.outlets[bn]:`${f}`,M=d<S.length-1?S[d+1]:null;E&&M&&bt(M)?(m.push(new mi(E,Ht(M))),d+=2):(m.push(new mi(E,{})),d++)}return new sr(m,{})}function Vt(A){const k={};return Object.entries(A).forEach(([S,m])=>{"string"==typeof m&&(m=[m]),null!==m&&(k[S]=Qe(new sr([],{}),0,m))}),k}function Ht(A){const k={};return Object.entries(A).forEach(([S,m])=>k[S]=`${m}`),k}function In(A,k,S){return A==S.path&&on(k,S.parameters)}const Fn="imperative";var Dn=function(A){return A[A.NavigationStart=0]="NavigationStart",A[A.NavigationEnd=1]="NavigationEnd",A[A.NavigationCancel=2]="NavigationCancel",A[A.NavigationError=3]="NavigationError",A[A.RoutesRecognized=4]="RoutesRecognized",A[A.ResolveStart=5]="ResolveStart",A[A.ResolveEnd=6]="ResolveEnd",A[A.GuardsCheckStart=7]="GuardsCheckStart",A[A.GuardsCheckEnd=8]="GuardsCheckEnd",A[A.RouteConfigLoadStart=9]="RouteConfigLoadStart",A[A.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",A[A.ChildActivationStart=11]="ChildActivationStart",A[A.ChildActivationEnd=12]="ChildActivationEnd",A[A.ActivationStart=13]="ActivationStart",A[A.ActivationEnd=14]="ActivationEnd",A[A.Scroll=15]="Scroll",A[A.NavigationSkipped=16]="NavigationSkipped",A}(Dn||{});class rr{id;url;constructor(k,S){this.id=k,this.url=S}}class zr extends rr{type=Dn.NavigationStart;navigationTrigger;restoredState;constructor(k,S,m="imperative",d=null){super(k,S),this.navigationTrigger=m,this.restoredState=d}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Po extends rr{urlAfterRedirects;type=Dn.NavigationEnd;constructor(k,S,m){super(k,S),this.urlAfterRedirects=m}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Sr=function(A){return A[A.Redirect=0]="Redirect",A[A.SupersededByNewNavigation=1]="SupersededByNewNavigation",A[A.NoDataFromResolver=2]="NoDataFromResolver",A[A.GuardRejected=3]="GuardRejected",A}(Sr||{}),ao=function(A){return A[A.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",A[A.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",A}(ao||{});class Wi extends rr{reason;code;type=Dn.NavigationCancel;constructor(k,S,m,d){super(k,S),this.reason=m,this.code=d}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bo extends rr{reason;code;type=Dn.NavigationSkipped;constructor(k,S,m,d){super(k,S),this.reason=m,this.code=d}}class io extends rr{error;target;type=Dn.NavigationError;constructor(k,S,m,d){super(k,S),this.error=m,this.target=d}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class j extends rr{urlAfterRedirects;state;type=Dn.RoutesRecognized;constructor(k,S,m,d){super(k,S),this.urlAfterRedirects=m,this.state=d}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fe extends rr{urlAfterRedirects;state;type=Dn.GuardsCheckStart;constructor(k,S,m,d){super(k,S),this.urlAfterRedirects=m,this.state=d}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K extends rr{urlAfterRedirects;state;shouldActivate;type=Dn.GuardsCheckEnd;constructor(k,S,m,d,f){super(k,S),this.urlAfterRedirects=m,this.state=d,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class te extends rr{urlAfterRedirects;state;type=Dn.ResolveStart;constructor(k,S,m,d){super(k,S),this.urlAfterRedirects=m,this.state=d}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pe extends rr{urlAfterRedirects;state;type=Dn.ResolveEnd;constructor(k,S,m,d){super(k,S),this.urlAfterRedirects=m,this.state=d}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wt{route;type=Dn.RouteConfigLoadStart;constructor(k){this.route=k}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sn{route;type=Dn.RouteConfigLoadEnd;constructor(k){this.route=k}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class On{snapshot;type=Dn.ChildActivationStart;constructor(k){this.snapshot=k}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ci{snapshot;type=Dn.ChildActivationEnd;constructor(k){this.snapshot=k}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xr{snapshot;type=Dn.ActivationStart;constructor(k){this.snapshot=k}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yr{snapshot;type=Dn.ActivationEnd;constructor(k){this.snapshot=k}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yr{routerEvent;position;anchor;type=Dn.Scroll;constructor(k,S,m){this.routerEvent=k,this.position=S,this.anchor=m}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ln{}class _r{url;navigationBehaviorOptions;constructor(k,S){this.url=k,this.navigationBehaviorOptions=S}}function Gi(A){switch(A.type){case Dn.ActivationEnd:return`ActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case Dn.ActivationStart:return`ActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case Dn.ChildActivationEnd:return`ChildActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case Dn.ChildActivationStart:return`ChildActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case Dn.GuardsCheckEnd:return`GuardsCheckEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state}, shouldActivate: ${A.shouldActivate})`;case Dn.GuardsCheckStart:return`GuardsCheckStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case Dn.NavigationCancel:return`NavigationCancel(id: ${A.id}, url: '${A.url}')`;case Dn.NavigationSkipped:return`NavigationSkipped(id: ${A.id}, url: '${A.url}')`;case Dn.NavigationEnd:return`NavigationEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}')`;case Dn.NavigationError:return`NavigationError(id: ${A.id}, url: '${A.url}', error: ${A.error})`;case Dn.NavigationStart:return`NavigationStart(id: ${A.id}, url: '${A.url}')`;case Dn.ResolveEnd:return`ResolveEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case Dn.ResolveStart:return`ResolveStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case Dn.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${A.route.path})`;case Dn.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${A.route.path})`;case Dn.RoutesRecognized:return`RoutesRecognized(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case Dn.Scroll:return`Scroll(anchor: '${A.anchor}', position: '${A.position?`${A.position[0]}, ${A.position[1]}`:null}')`}}function Me(A){return A.outlet||bn}function Zt(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let k=A.parent;k;k=k.parent){const S=k.routeConfig;if(S?._loadedInjector)return S._loadedInjector;if(S?._injector)return S._injector}return null}class vn{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Zt(this.route?.snapshot)??this.rootInjector}constructor(k){this.rootInjector=k,this.children=new Bn(this.rootInjector)}}let Bn=(()=>{class A{rootInjector;contexts=new Map;constructor(S){this.rootInjector=S}onChildOutletCreated(S,m){const d=this.getOrCreateContext(S);d.outlet=m,this.contexts.set(S,d)}onChildOutletDestroyed(S){const m=this.getContext(S);m&&(m.outlet=null,m.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let m=this.getContext(S);return m||(m=new vn(this.rootInjector),this.contexts.set(S,m)),m}getContext(S){return this.contexts.get(S)||null}static \u0275fac=function(m){return new(m||A)(Q.KVO(Q.uvJ))};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();class Ji{_root;constructor(k){this._root=k}get root(){return this._root.value}parent(k){const S=this.pathFromRoot(k);return S.length>1?S[S.length-2]:null}children(k){const S=go(k,this._root);return S?S.children.map(m=>m.value):[]}firstChild(k){const S=go(k,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(k){const S=xs(k,this._root);return S.length<2?[]:S[S.length-2].children.map(d=>d.value).filter(d=>d!==k)}pathFromRoot(k){return xs(k,this._root).map(S=>S.value)}}function go(A,k){if(A===k.value)return k;for(const S of k.children){const m=go(A,S);if(m)return m}return null}function xs(A,k){if(A===k.value)return[k];for(const S of k.children){const m=xs(A,S);if(m.length)return m.unshift(k),m}return[]}class ni{value;children;constructor(k,S){this.value=k,this.children=S}toString(){return`TreeNode(${this.value})`}}function ss(A){const k={};return A&&A.children.forEach(S=>k[S.value.outlet]=S),k}class En extends Ji{snapshot;constructor(k,S){super(k),this.snapshot=S,cs(this,k)}toString(){return this.snapshot.toString()}}function as(A){const k=function Io(A){const f=new ko([],{},{},"",{},bn,A,null,{});return new bs("",new ni(f,[]))}(A),S=new Ue.t([new mi("",{})]),m=new Ue.t({}),d=new Ue.t({}),f=new Ue.t({}),E=new Ue.t(""),M=new Mo(S,m,f,E,d,bn,A,k.root);return M.snapshot=k.root,new En(new ni(M,[]),k)}class Mo{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(k,S,m,d,f,E,M,V){this.urlSubject=k,this.paramsSubject=S,this.queryParamsSubject=m,this.fragmentSubject=d,this.dataSubject=f,this.outlet=E,this.component=M,this._futureSnapshot=V,this.title=this.dataSubject?.pipe((0,Xe.T)(ee=>ee[kr]))??(0,ge.of)(void 0),this.url=k,this.params=S,this.queryParams=m,this.fragment=d,this.data=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Xe.T)(k=>Si(k))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Xe.T)(k=>Si(k))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yo(A,k,S="emptyOnly"){let m;const{routeConfig:d}=A;return m=null===k||"always"!==S&&""!==d?.path&&(k.component||k.routeConfig?.loadComponent)?{params:{...A.params},data:{...A.data},resolve:{...A.data,...A._resolvedData??{}}}:{params:{...k.params,...A.params},data:{...k.data,...A.data},resolve:{...A.data,...k.data,...d?.data,...A._resolvedData}},d&&qo(d)&&(m.resolve[kr]=d.title),m}class ko{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[kr]}constructor(k,S,m,d,f,E,M,V,ee){this.url=k,this.params=S,this.queryParams=m,this.fragment=d,this.data=f,this.outlet=E,this.component=M,this.routeConfig=V,this._resolve=ee}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Si(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Si(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(m=>m.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bs extends Ji{url;constructor(k,S){super(S),this.url=k,cs(this,S)}toString(){return Or(this._root)}}function cs(A,k){k.value._routerState=A,k.children.forEach(S=>cs(A,S))}function Or(A){const k=A.children.length>0?` { ${A.children.map(Or).join(", ")} } `:"";return`${A.value}${k}`}function Go(A){if(A.snapshot){const k=A.snapshot,S=A._futureSnapshot;A.snapshot=S,on(k.queryParams,S.queryParams)||A.queryParamsSubject.next(S.queryParams),k.fragment!==S.fragment&&A.fragmentSubject.next(S.fragment),on(k.params,S.params)||A.paramsSubject.next(S.params),function fr(A,k){if(A.length!==k.length)return!1;for(let S=0;S<A.length;++S)if(!on(A[S],k[S]))return!1;return!0}(k.url,S.url)||A.urlSubject.next(S.url),on(k.data,S.data)||A.dataSubject.next(S.data)}else A.snapshot=A._futureSnapshot,A.dataSubject.next(A._futureSnapshot.data)}function mo(A,k){const S=on(A.params,k.params)&&function hr(A,k){return An(A,k)&&A.every((S,m)=>on(S.parameters,k[m].parameters))}(A.url,k.url);return S&&!(!A.parent!=!k.parent)&&(!A.parent||mo(A.parent,k.parent))}function qo(A){return"string"==typeof A.title||null===A.title}const Ds=new Q.nKC("");let qr=(()=>{class A{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=bn;activateEvents=new Q.bkB;deactivateEvents=new Q.bkB;attachEvents=new Q.bkB;detachEvents=new Q.bkB;routerOutletData=(0,Q.hFB)(void 0);parentContexts=(0,Q.WQX)(Bn);location=(0,Q.WQX)(Q.c1b);changeDetector=(0,Q.WQX)(Q.gRc);inputBinder=(0,Q.WQX)(Zr,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(S){if(S.name){const{firstChange:m,previousValue:d}=S.name;if(m)return;this.isTrackedInParentContexts(d)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(d)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){return this.parentContexts.getContext(S)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);S?.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q.wOt(4012,!1);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,m){this.activated=S,this._activatedRoute=m,this.location.insert(S.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,m){if(this.isActivated)throw new Q.wOt(4013,!1);this._activatedRoute=S;const d=this.location,E=S.snapshot.component,M=this.parentContexts.getOrCreateContext(this.name).children,V=new co(S,M,d.injector,this.routerOutletData);this.activated=d.createComponent(E,{index:d.length,injector:V,environmentInjector:m}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(m){return new(m||A)};static \u0275dir=Q.FsC({type:A,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Q.OA$]})}return A})();class co{route;childContexts;parent;outletData;constructor(k,S,m,d){this.route=k,this.childContexts=S,this.parent=m,this.outletData=d}get(k,S){return k===Mo?this.route:k===Bn?this.childContexts:k===Ds?this.outletData:this.parent.get(k,S)}}const Zr=new Q.nKC("");let Jr=(()=>{class A{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(S){this.unsubscribeFromRouteData(S),this.subscribeToRouteData(S)}unsubscribeFromRouteData(S){this.outletDataSubscriptions.get(S)?.unsubscribe(),this.outletDataSubscriptions.delete(S)}subscribeToRouteData(S){const{activatedRoute:m}=S,d=Gt([m.queryParams,m.params,m.data]).pipe((0,en.n)(([f,E,M],V)=>(M={...f,...E,...M},0===V?(0,ge.of)(M):Promise.resolve(M)))).subscribe(f=>{if(!S.isActivated||!S.activatedComponentRef||S.activatedRoute!==m||null===m.component)return void this.unsubscribeFromRouteData(S);const E=(0,Q.HJs)(m.component);if(E)for(const{templateName:M}of E.inputs)S.activatedComponentRef.setInput(M,f[M]);else this.unsubscribeFromRouteData(S)});this.outletDataSubscriptions.set(S,d)}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac})}return A})(),As=(()=>{class A{static \u0275fac=function(m){return new(m||A)};static \u0275cmp=Q.VBU({type:A,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(m,d){1&m&&Q.nrm(0,"router-outlet")},dependencies:[qr],encapsulation:2})}return A})();function No(A){const k=A.children&&A.children.map(No),S=k?{...A,children:k}:{...A};return!S.component&&!S.loadComponent&&(k||S.loadChildren)&&S.outlet&&S.outlet!==bn&&(S.component=As),S}function ps(A,k,S){if(S&&A.shouldReuseRoute(k.value,S.value.snapshot)){const m=S.value;m._futureSnapshot=k.value;const d=function To(A,k,S){return k.children.map(m=>{for(const d of S.children)if(A.shouldReuseRoute(m.value,d.value.snapshot))return ps(A,m,d);return ps(A,m)})}(A,k,S);return new ni(m,d)}{if(A.shouldAttach(k.value)){const f=A.retrieve(k.value);if(null!==f){const E=f.route;return E.value._futureSnapshot=k.value,E.children=k.children.map(M=>ps(A,M)),E}}const m=function ji(A){return new Mo(new Ue.t(A.url),new Ue.t(A.params),new Ue.t(A.queryParams),new Ue.t(A.fragment),new Ue.t(A.data),A.outlet,A.component,A)}(k.value),d=k.children.map(f=>ps(A,f));return new ni(m,d)}}class Hs{redirectTo;navigationBehaviorOptions;constructor(k,S){this.redirectTo=k,this.navigationBehaviorOptions=S}}const Oo="ngNavigationCancelingError";function Fr(A,k){const{redirectTo:S,navigationBehaviorOptions:m}=Et(k)?{redirectTo:k,navigationBehaviorOptions:void 0}:k,d=vr(!1,Sr.Redirect);return d.url=S,d.navigationBehaviorOptions=m,d}function vr(A,k){const S=new Error(`NavigationCancelingError: ${A||""}`);return S[Oo]=!0,S.cancellationCode=k,S}function ra(A){return!!A&&A[Oo]}class jo{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(k,S,m,d,f){this.routeReuseStrategy=k,this.futureState=S,this.currState=m,this.forwardEvent=d,this.inputBindingEnabled=f}activate(k){const S=this.futureState._root,m=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,m,k),Go(this.futureState.root),this.activateChildRoutes(S,m,k)}deactivateChildRoutes(k,S,m){const d=ss(S);k.children.forEach(f=>{const E=f.value.outlet;this.deactivateRoutes(f,d[E],m),delete d[E]}),Object.values(d).forEach(f=>{this.deactivateRouteAndItsChildren(f,m)})}deactivateRoutes(k,S,m){const d=k.value,f=S?S.value:null;if(d===f)if(d.component){const E=m.getContext(d.outlet);E&&this.deactivateChildRoutes(k,S,E.children)}else this.deactivateChildRoutes(k,S,m);else f&&this.deactivateRouteAndItsChildren(S,m)}deactivateRouteAndItsChildren(k,S){k.value.component&&this.routeReuseStrategy.shouldDetach(k.value.snapshot)?this.detachAndStoreRouteSubtree(k,S):this.deactivateRouteAndOutlet(k,S)}detachAndStoreRouteSubtree(k,S){const m=S.getContext(k.value.outlet),d=m&&k.value.component?m.children:S,f=ss(k);for(const E of Object.values(f))this.deactivateRouteAndItsChildren(E,d);if(m&&m.outlet){const E=m.outlet.detach(),M=m.children.onOutletDeactivated();this.routeReuseStrategy.store(k.value.snapshot,{componentRef:E,route:k,contexts:M})}}deactivateRouteAndOutlet(k,S){const m=S.getContext(k.value.outlet),d=m&&k.value.component?m.children:S,f=ss(k);for(const E of Object.values(f))this.deactivateRouteAndItsChildren(E,d);m&&(m.outlet&&(m.outlet.deactivate(),m.children.onOutletDeactivated()),m.attachRef=null,m.route=null)}activateChildRoutes(k,S,m){const d=ss(S);k.children.forEach(f=>{this.activateRoutes(f,d[f.value.outlet],m),this.forwardEvent(new Yr(f.value.snapshot))}),k.children.length&&this.forwardEvent(new ci(k.value.snapshot))}activateRoutes(k,S,m){const d=k.value,f=S?S.value:null;if(Go(d),d===f)if(d.component){const E=m.getOrCreateContext(d.outlet);this.activateChildRoutes(k,S,E.children)}else this.activateChildRoutes(k,S,m);else if(d.component){const E=m.getOrCreateContext(d.outlet);if(this.routeReuseStrategy.shouldAttach(d.snapshot)){const M=this.routeReuseStrategy.retrieve(d.snapshot);this.routeReuseStrategy.store(d.snapshot,null),E.children.onOutletReAttached(M.contexts),E.attachRef=M.componentRef,E.route=M.route.value,E.outlet&&E.outlet.attach(M.componentRef,M.route.value),Go(M.route.value),this.activateChildRoutes(k,null,E.children)}else E.attachRef=null,E.route=d,E.outlet&&E.outlet.activateWith(d,E.injector),this.activateChildRoutes(k,null,E.children)}else this.activateChildRoutes(k,null,m)}}class Er{path;route;constructor(k){this.path=k,this.route=this.path[this.path.length-1]}}class q{component;route;constructor(k,S){this.component=k,this.route=S}}function G(A,k,S){const m=A._root;return nt(m,k?k._root:null,S,[m.value])}function Re(A,k){const S=Symbol(),m=k.get(A,S);return m===S?"function"!=typeof A||(0,Q.LfX)(A)?k.get(A):A:m}function nt(A,k,S,m,d={canDeactivateChecks:[],canActivateChecks:[]}){const f=ss(k);return A.children.forEach(E=>{(function Mt(A,k,S,m,d={canDeactivateChecks:[],canActivateChecks:[]}){const f=A.value,E=k?k.value:null,M=S?S.getContext(A.value.outlet):null;if(E&&f.routeConfig===E.routeConfig){const V=function Wt(A,k,S){if("function"==typeof S)return S(A,k);switch(S){case"pathParamsChange":return!An(A.url,k.url);case"pathParamsOrQueryParamsChange":return!An(A.url,k.url)||!on(A.queryParams,k.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mo(A,k)||!on(A.queryParams,k.queryParams);default:return!mo(A,k)}}(E,f,f.routeConfig.runGuardsAndResolvers);V?d.canActivateChecks.push(new Er(m)):(f.data=E.data,f._resolvedData=E._resolvedData),nt(A,k,f.component?M?M.children:null:S,m,d),V&&M&&M.outlet&&M.outlet.isActivated&&d.canDeactivateChecks.push(new q(M.outlet.component,E))}else E&&Tn(k,M,d),d.canActivateChecks.push(new Er(m)),nt(A,null,f.component?M?M.children:null:S,m,d)})(E,f[E.value.outlet],S,m.concat([E.value]),d),delete f[E.value.outlet]}),Object.entries(f).forEach(([E,M])=>Tn(M,S.getContext(E),d)),d}function Tn(A,k,S){const m=ss(A),d=A.value;Object.entries(m).forEach(([f,E])=>{Tn(E,d.component?k?k.children.getContext(f):null:k,S)}),S.canDeactivateChecks.push(new q(d.component&&k&&k.outlet&&k.outlet.isActivated?k.outlet.component:null,d))}function pn(A){return"function"==typeof A}function Pi(A){return A instanceof Rt.G||"EmptyError"===A?.name}const ri=Symbol("INITIAL_VALUE");function Oi(){return(0,en.n)(A=>Gt(A.map(k=>k.pipe(Pt(1),function Ge(...A){const k=(0,Ct.lI)(A);return(0,kn.N)((S,m)=>{(k?ct(A,S,k):ct(A,S)).subscribe(m)})}(ri)))).pipe((0,Xe.T)(k=>{for(const S of k)if(!0!==S){if(S===ri)return ri;if(!1===S||uo(S))return S}return!0}),(0,Z.p)(k=>k!==ri),Pt(1)))}function uo(A){return Et(A)||A instanceof Hs}function zs(A){return(0,Xt.F)(gt(k=>{if("boolean"!=typeof k)throw Fr(0,k)}),(0,Xe.T)(k=>!0===k))}class Fa{segmentGroup;constructor(k){this.segmentGroup=k||null}}class da extends Error{urlTree;constructor(k){super(),this.urlTree=k}}function Ws(A){return vt(new Fa(A))}class hi{urlSerializer;urlTree;constructor(k,S){this.urlSerializer=k,this.urlTree=S}lineralizeSegments(k,S){let m=[],d=S.root;for(;;){if(m=m.concat(d.segments),0===d.numberOfChildren)return(0,ge.of)(m);if(d.numberOfChildren>1||!d.children[bn])return vt(new Q.wOt(4e3,!1));d=d.children[bn]}}applyRedirectCommands(k,S,m,d,f){if("string"!=typeof S){const M=S,{queryParams:V,fragment:ee,routeConfig:Ee,url:We,outlet:pt,params:an,data:ln,title:Yn}=d,zn=(0,Q.N4e)(f,()=>M({params:an,data:ln,queryParams:V,fragment:ee,routeConfig:Ee,url:We,outlet:pt,title:Yn}));if(zn instanceof lr)throw new da(zn);S=zn}const E=this.applyRedirectCreateUrlTree(S,this.urlSerializer.parse(S),k,m);if("/"===S[0])throw new da(E);return E}applyRedirectCreateUrlTree(k,S,m,d){const f=this.createSegmentGroup(k,S.root,m,d);return new lr(f,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(k,S){const m={};return Object.entries(k).forEach(([d,f])=>{if("string"==typeof f&&":"===f[0]){const M=f.substring(1);m[d]=S[M]}else m[d]=f}),m}createSegmentGroup(k,S,m,d){const f=this.createSegments(k,S.segments,m,d);let E={};return Object.entries(S.children).forEach(([M,V])=>{E[M]=this.createSegmentGroup(k,V,m,d)}),new sr(f,E)}createSegments(k,S,m,d){return S.map(f=>":"===f.path[0]?this.findPosParam(k,f,d):this.findOrReturn(f,m))}findPosParam(k,S,m){const d=m[S.path.substring(1)];if(!d)throw new Q.wOt(4001,!1);return d}findOrReturn(k,S){let m=0;for(const d of S){if(d.path===k.path)return S.splice(m),d;m++}return k}}const Fo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ls(A,k,S,m,d){const f=Gs(A,k,S);return f.matched?(m=function yi(A,k){return A.providers&&!A._injector&&(A._injector=(0,Q.Ol2)(A.providers,k,`Route: ${A.path}`)),A._injector??k}(k,m),function ms(A,k,S,m){const d=k.canMatch;if(!d||0===d.length)return(0,ge.of)(!0);const f=d.map(E=>{const M=Re(E,A);return Ir(function $i(A){return A&&pn(A.canMatch)}(M)?M.canMatch(k,S):(0,Q.N4e)(A,()=>M(k,S)))});return(0,ge.of)(f).pipe(Oi(),zs())}(m,k,S).pipe((0,Xe.T)(E=>!0===E?f:{...Fo}))):(0,ge.of)(f)}function Gs(A,k,S){if("**"===k.path)return function qs(A){return{matched:!0,parameters:A.length>0?st(A).parameters:{},consumedSegments:A,remainingSegments:[],positionalParamSegments:{}}}(S);if(""===k.path)return"full"===k.pathMatch&&(A.hasChildren()||S.length>0)?{...Fo}:{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const d=(k.matcher||fn)(S,A,k);if(!d)return{...Fo};const f={};Object.entries(d.posParams??{}).forEach(([M,V])=>{f[M]=V.path});const E=d.consumed.length>0?{...f,...d.consumed[d.consumed.length-1].parameters}:f;return{matched:!0,consumedSegments:d.consumed,remainingSegments:S.slice(d.consumed.length),parameters:E,positionalParamSegments:d.posParams??{}}}function Di(A,k,S,m){return S.length>0&&function Br(A,k,S){return S.some(m=>Ks(A,k,m)&&Me(m)!==bn)}(A,S,m)?{segmentGroup:new sr(k,Wr(m,new sr(S,A.children))),slicedSegments:[]}:0===S.length&&function Aa(A,k,S){return S.some(m=>Ks(A,k,m))}(A,S,m)?{segmentGroup:new sr(A.segments,ha(A,S,m,A.children)),slicedSegments:S}:{segmentGroup:new sr(A.segments,A.children),slicedSegments:S}}function ha(A,k,S,m){const d={};for(const f of S)if(Ks(A,k,f)&&!m[Me(f)]){const E=new sr([],{});d[Me(f)]=E}return{...m,...d}}function Wr(A,k){const S={};S[bn]=k;for(const m of A)if(""===m.path&&Me(m)!==bn){const d=new sr([],{});S[Me(m)]=d}return S}function Ks(A,k,S){return(!(A.hasChildren()||k.length>0)||"full"!==S.pathMatch)&&""===S.path}class Ca{}class Va{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(k,S,m,d,f,E,M){this.injector=k,this.configLoader=S,this.rootComponentType=m,this.config=d,this.urlTree=f,this.paramsInheritanceStrategy=E,this.urlSerializer=M,this.applyRedirects=new hi(this.urlSerializer,this.urlTree)}noMatchError(k){return new Q.wOt(4002,`'${k.segmentGroup}'`)}recognize(){const k=Di(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(k).pipe((0,Xe.T)(({children:S,rootSnapshot:m})=>{const d=new ni(m,S),f=new bs("",d),E=function oe(A,k,S=null,m=null){return Oe(ye(A),k,S,m)}(m,[],this.urlTree.queryParams,this.urlTree.fragment);return E.queryParams=this.urlTree.queryParams,f.url=this.urlSerializer.serialize(E),{state:f,tree:E}}))}match(k){const S=new ko([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),bn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,k,bn,S).pipe((0,Xe.T)(m=>({children:m,rootSnapshot:S})),(0,rn.W)(m=>{if(m instanceof da)return this.urlTree=m.urlTree,this.match(m.urlTree.root);throw m instanceof Fa?this.noMatchError(m):m}))}processSegmentGroup(k,S,m,d,f){return 0===m.segments.length&&m.hasChildren()?this.processChildren(k,S,m,f):this.processSegment(k,S,m,m.segments,d,!0,f).pipe((0,Xe.T)(E=>E instanceof ni?[E]:[]))}processChildren(k,S,m,d){const f=[];for(const E of Object.keys(m.children))"primary"===E?f.unshift(E):f.push(E);return(0,be.H)(f).pipe((0,Ke.H)(E=>{const M=m.children[E],V=function lt(A,k){const S=A.filter(m=>Me(m)===k);return S.push(...A.filter(m=>Me(m)!==k)),S}(S,E);return this.processSegmentGroup(k,V,M,E,d)}),function nr(A,k){return(0,kn.N)(function Yt(A,k,S,m,d){return(f,E)=>{let M=S,V=k,ee=0;f.subscribe((0,Ot._)(E,Ee=>{const We=ee++;V=M?A(V,Ee,We):(M=!0,Ee),m&&E.next(V)},d&&(()=>{M&&E.next(V),E.complete()})))}}(A,k,arguments.length>=2,!0))}((E,M)=>(E.push(...M),E)),de(null),function Qn(A,k){const S=arguments.length>=2;return m=>m.pipe(A?(0,Z.p)((d,f)=>A(d,f,m)):we.D,zt(1),S?de(k):pe(()=>new Rt.G))}(),(0,le.Z)(E=>{if(null===E)return Ws(m);const M=Jt(E);return function Qo(A){A.sort((k,S)=>k.value.outlet===bn?-1:S.value.outlet===bn?1:k.value.outlet.localeCompare(S.value.outlet))}(M),(0,ge.of)(M)}))}processSegment(k,S,m,d,f,E,M){return(0,be.H)(S).pipe((0,Ke.H)(V=>this.processSegmentAgainstRoute(V._injector??k,S,V,m,d,f,E,M).pipe((0,rn.W)(ee=>{if(ee instanceof Fa)return(0,ge.of)(null);throw ee}))),he(V=>!!V),(0,rn.W)(V=>{if(Pi(V))return function Ya(A,k,S){return 0===k.length&&!A.children[S]}(m,d,f)?(0,ge.of)(new Ca):Ws(m);throw V}))}processSegmentAgainstRoute(k,S,m,d,f,E,M,V){return Me(m)===E||E!==bn&&Ks(d,f,m)?void 0===m.redirectTo?this.matchSegmentAgainstRoute(k,d,m,f,E,V):this.allowRedirects&&M?this.expandSegmentAgainstRouteUsingRedirect(k,d,S,m,f,E,V):Ws(d):Ws(d)}expandSegmentAgainstRouteUsingRedirect(k,S,m,d,f,E,M){const{matched:V,parameters:ee,consumedSegments:Ee,positionalParamSegments:We,remainingSegments:pt}=Gs(S,d,f);if(!V)return Ws(S);"string"==typeof d.redirectTo&&"/"===d.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const an=new ko(f,ee,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fi(d),Me(d),d.component??d._loadedComponent??null,d,$o(d)),ln=Yo(an,M,this.paramsInheritanceStrategy);an.params=Object.freeze(ln.params),an.data=Object.freeze(ln.data);const Yn=this.applyRedirects.applyRedirectCommands(Ee,d.redirectTo,We,an,k);return this.applyRedirects.lineralizeSegments(d,Yn).pipe((0,le.Z)(zn=>this.processSegment(k,m,S,zn.concat(pt),E,!1,M)))}matchSegmentAgainstRoute(k,S,m,d,f,E){const M=Ls(S,m,d,k);return"**"===m.path&&(S.children={}),M.pipe((0,en.n)(V=>V.matched?this.getChildConfig(k=m._injector??k,m,d).pipe((0,en.n)(({routes:ee})=>{const Ee=m._loadedInjector??k,{parameters:We,consumedSegments:pt,remainingSegments:an}=V,ln=new ko(pt,We,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fi(m),Me(m),m.component??m._loadedComponent??null,m,$o(m)),Yn=Yo(ln,E,this.paramsInheritanceStrategy);ln.params=Object.freeze(Yn.params),ln.data=Object.freeze(Yn.data);const{segmentGroup:zn,slicedSegments:Zn}=Di(S,pt,an,ee);if(0===Zn.length&&zn.hasChildren())return this.processChildren(Ee,ee,zn,ln).pipe((0,Xe.T)(Fi=>new ni(ln,Fi)));if(0===ee.length&&0===Zn.length)return(0,ge.of)(new ni(ln,[]));const ur=Me(m)===f;return this.processSegment(Ee,ee,zn,Zn,ur?bn:f,!0,ln).pipe((0,Xe.T)(Fi=>new ni(ln,Fi instanceof ni?[Fi]:[])))})):Ws(S)))}getChildConfig(k,S,m){return S.children?(0,ge.of)({routes:S.children,injector:k}):S.loadChildren?void 0!==S._loadedRoutes?(0,ge.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):function Da(A,k,S,m){const d=k.canLoad;if(void 0===d||0===d.length)return(0,ge.of)(!0);const f=d.map(E=>{const M=Re(E,A);return Ir(function Xn(A){return A&&pn(A.canLoad)}(M)?M.canLoad(k,S):(0,Q.N4e)(A,()=>M(k,S)))});return(0,ge.of)(f).pipe(Oi(),zs())}(k,S,m).pipe((0,le.Z)(d=>d?this.configLoader.loadChildren(k,S).pipe(gt(f=>{S._loadedRoutes=f.routes,S._loadedInjector=f.injector})):function Fs(){return vt(vr(!1,Sr.GuardRejected))}())):(0,ge.of)({routes:[],injector:k})}}function Kr(A){const k=A.value.routeConfig;return k&&""===k.path}function Jt(A){const k=[],S=new Set;for(const m of A){if(!Kr(m)){k.push(m);continue}const d=k.find(f=>m.value.routeConfig===f.value.routeConfig);void 0!==d?(d.children.push(...m.children),S.add(d)):k.push(m)}for(const m of S){const d=Jt(m.children);k.push(new ni(m.value,d))}return k.filter(m=>!S.has(m))}function fi(A){return A.data||{}}function $o(A){return A.resolve||{}}function Zo(A){const k=A.children.map(S=>Zo(S)).flat();return[A,...k]}function $(A){return(0,en.n)(k=>{const S=A(k);return S?(0,be.H)(S).pipe((0,Xe.T)(()=>k)):(0,ge.of)(k)})}let Ae=(()=>{class A{buildTitle(S){let m,d=S.root;for(;void 0!==d;)m=this.getResolvedTitleForRoute(d)??m,d=d.children.find(f=>f.outlet===bn);return m}getResolvedTitleForRoute(S){return S.data[kr]}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:()=>(0,Q.WQX)(Nt),providedIn:"root"})}return A})(),Nt=(()=>{class A extends Ae{title;constructor(S){super(),this.title=S}updateTitle(S){const m=this.buildTitle(S);void 0!==m&&this.title.setTitle(m)}static \u0275fac=function(m){return new(m||A)(Q.KVO(tr.hE))};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();const Sn=new Q.nKC("",{providedIn:"root",factory:()=>({})}),cr=new Q.nKC("");let Hi=(()=>{class A{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,Q.WQX)(Q.Ql9);loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,ge.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const m=Ir(S.loadComponent()).pipe((0,Xe.T)(Qs),gt(f=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=f}),(0,Hn.j)(()=>{this.componentLoaders.delete(S)})),d=new ut(m,()=>new wn.B).pipe(er());return this.componentLoaders.set(S,d),d}loadChildren(S,m){if(this.childrenLoaders.get(m))return this.childrenLoaders.get(m);if(m._loadedRoutes)return(0,ge.of)({routes:m._loadedRoutes,injector:m._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(m);const f=function Ki(A,k,S,m){return Ir(A.loadChildren()).pipe((0,Xe.T)(Qs),(0,le.Z)(d=>d instanceof Q.Co$||Array.isArray(d)?(0,ge.of)(d):(0,be.H)(k.compileModuleAsync(d))),(0,Xe.T)(d=>{m&&m(A);let f,E,M=!1;return Array.isArray(d)?(E=d,!0):(f=d.create(S).injector,E=f.get(cr,[],{optional:!0,self:!0}).flat()),{routes:E.map(No),injector:f}}))}(m,this.compiler,S,this.onLoadEndListener).pipe((0,Hn.j)(()=>{this.childrenLoaders.delete(m)})),E=new ut(f,()=>new wn.B).pipe(er());return this.childrenLoaders.set(m,E),E}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();function Qs(A){return function Do(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let Sa=(()=>{class A{static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:()=>(0,Q.WQX)(us),providedIn:"root"})}return A})(),us=(()=>{class A{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,m){return S}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();const Ao=new Q.nKC(""),ys=new Q.nKC("");function ls(A,k,S){const m=A.get(ys),d=A.get(D.q);return A.get(Q.SKi).runOutsideAngular(()=>{if(!d.startViewTransition||m.skipNextTransition)return m.skipNextTransition=!1,new Promise(ee=>setTimeout(ee));let f;const E=new Promise(ee=>{f=ee}),M=d.startViewTransition(()=>(f(),function fa(A){return new Promise(k=>{(0,Q.mal)({read:()=>setTimeout(k)},{injector:A})})}(A))),{onViewTransitionCreated:V}=m;return V&&(0,Q.N4e)(A,()=>V({transition:M,from:k,to:S})),E})}const Mn=new Q.nKC("");let pa=(()=>{class A{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new wn.B;transitionAbortSubject=new wn.B;configLoader=(0,Q.WQX)(Hi);environmentInjector=(0,Q.WQX)(Q.uvJ);destroyRef=(0,Q.WQX)(Q.abz);urlSerializer=(0,Q.WQX)(xr);rootContexts=(0,Q.WQX)(Bn);location=(0,Q.WQX)(F.aZ);inputBindingEnabled=null!==(0,Q.WQX)(Zr,{optional:!0});titleStrategy=(0,Q.WQX)(Ae);options=(0,Q.WQX)(Sn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,Q.WQX)(Sa);createViewTransition=(0,Q.WQX)(Ao,{optional:!0});navigationErrorHandler=(0,Q.WQX)(Mn,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,ge.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=d=>this.events.next(new sn(d)),this.configLoader.onLoadStartListener=d=>this.events.next(new wt(d)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(S){const m=++this.navigationId;this.transitions?.next({...S,extractedUrl:this.urlHandlingStrategy.extract(S.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:m})}setupNavigations(S){return this.transitions=new Ue.t(null),this.transitions.pipe((0,Z.p)(m=>null!==m),(0,en.n)(m=>{let d=!1,f=!1;return(0,ge.of)(m).pipe((0,en.n)(E=>{if(this.navigationId>m.id)return this.cancelNavigationTransition(m,"",Sr.SupersededByNewNavigation),dt.w;this.currentTransition=m,this.currentNavigation={id:E.id,initialUrl:E.rawUrl,extractedUrl:E.extractedUrl,targetBrowserUrl:"string"==typeof E.extras.browserUrl?this.urlSerializer.parse(E.extras.browserUrl):E.extras.browserUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const M=!S.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!M&&"reload"!==(E.extras.onSameUrlNavigation??S.onSameUrlNavigation)){const ee="";return this.events.next(new Bo(E.id,this.urlSerializer.serialize(E.rawUrl),ee,ao.IgnoredSameUrlNavigation)),E.resolve(!1),dt.w}if(this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl))return(0,ge.of)(E).pipe((0,en.n)(ee=>(this.events.next(new zr(ee.id,this.urlSerializer.serialize(ee.extractedUrl),ee.source,ee.restoredState)),ee.id!==this.navigationId?dt.w:Promise.resolve(ee))),function qi(A,k,S,m,d,f){return(0,le.Z)(E=>function Za(A,k,S,m,d,f,E="emptyOnly"){return new Va(A,k,S,m,d,E,f).recognize()}(A,k,S,m,E.extractedUrl,d,f).pipe((0,Xe.T)(({state:M,tree:V})=>({...E,targetSnapshot:M,urlAfterRedirects:V}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,this.paramsInheritanceStrategy),gt(ee=>{m.targetSnapshot=ee.targetSnapshot,m.urlAfterRedirects=ee.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ee.urlAfterRedirects};const Ee=new j(ee.id,this.urlSerializer.serialize(ee.extractedUrl),this.urlSerializer.serialize(ee.urlAfterRedirects),ee.targetSnapshot);this.events.next(Ee)}));if(M&&this.urlHandlingStrategy.shouldProcessUrl(E.currentRawUrl)){const{id:ee,extractedUrl:Ee,source:We,restoredState:pt,extras:an}=E,ln=new zr(ee,this.urlSerializer.serialize(Ee),We,pt);this.events.next(ln);const Yn=as(this.rootComponentType).snapshot;return this.currentTransition=m={...E,targetSnapshot:Yn,urlAfterRedirects:Ee,extras:{...an,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ee,(0,ge.of)(m)}{const ee="";return this.events.next(new Bo(E.id,this.urlSerializer.serialize(E.extractedUrl),ee,ao.IgnoredByUrlHandlingStrategy)),E.resolve(!1),dt.w}}),gt(E=>{const M=new fe(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(M)}),(0,Xe.T)(E=>(this.currentTransition=m={...E,guards:G(E.targetSnapshot,E.currentSnapshot,this.rootContexts)},m)),function vi(A,k){return(0,le.Z)(S=>{const{targetSnapshot:m,currentSnapshot:d,guards:{canActivateChecks:f,canDeactivateChecks:E}}=S;return 0===E.length&&0===f.length?(0,ge.of)({...S,guardsResult:!0}):function Mi(A,k,S,m){return(0,be.H)(A).pipe((0,le.Z)(d=>function la(A,k,S,m,d){const f=k&&k.routeConfig?k.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,ge.of)(!0);const E=f.map(M=>{const V=Zt(k)??d,ee=Re(M,V);return Ir(function _i(A){return A&&pn(A.canDeactivate)}(ee)?ee.canDeactivate(A,k,S,m):(0,Q.N4e)(V,()=>ee(A,k,S,m))).pipe(he())});return(0,ge.of)(E).pipe(Oi())}(d.component,d.route,S,k,m)),he(d=>!0!==d,!0))}(E,m,d,A).pipe((0,le.Z)(M=>M&&function pr(A){return"boolean"==typeof A}(M)?function bo(A,k,S,m){return(0,be.H)(k).pipe((0,Ke.H)(d=>ct(function yo(A,k){return null!==A&&k&&k(new On(A)),(0,ge.of)(!0)}(d.route.parent,m),function ii(A,k){return null!==A&&k&&k(new Xr(A)),(0,ge.of)(!0)}(d.route,m),function gs(A,k,S){const m=k[k.length-1],f=k.slice(0,k.length-1).reverse().map(E=>function Ie(A){const k=A.routeConfig?A.routeConfig.canActivateChild:null;return k&&0!==k.length?{node:A,guards:k}:null}(E)).filter(E=>null!==E).map(E=>Tt(()=>{const M=E.guards.map(V=>{const ee=Zt(E.node)??S,Ee=Re(V,ee);return Ir(function Ii(A){return A&&pn(A.canActivateChild)}(Ee)?Ee.canActivateChild(m,A):(0,Q.N4e)(ee,()=>Ee(m,A))).pipe(he())});return(0,ge.of)(M).pipe(Oi())}));return(0,ge.of)(f).pipe(Oi())}(A,d.path,S),function Ko(A,k,S){const m=k.routeConfig?k.routeConfig.canActivate:null;if(!m||0===m.length)return(0,ge.of)(!0);const d=m.map(f=>Tt(()=>{const E=Zt(k)??S,M=Re(f,E);return Ir(function Ur(A){return A&&pn(A.canActivate)}(M)?M.canActivate(k,A):(0,Q.N4e)(E,()=>M(k,A))).pipe(he())}));return(0,ge.of)(d).pipe(Oi())}(A,d.route,S))),he(d=>!0!==d,!0))}(m,f,A,k):(0,ge.of)(M)),(0,Xe.T)(M=>({...S,guardsResult:M})))})}(this.environmentInjector,E=>this.events.next(E)),gt(E=>{if(m.guardsResult=E.guardsResult,E.guardsResult&&"boolean"!=typeof E.guardsResult)throw Fr(0,E.guardsResult);const M=new K(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.events.next(M)}),(0,Z.p)(E=>!!E.guardsResult||(this.cancelNavigationTransition(E,"",Sr.GuardRejected),!1)),$(E=>{if(0!==E.guards.canActivateChecks.length)return(0,ge.of)(E).pipe(gt(M=>{const V=new te(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(V)}),(0,en.n)(M=>{let V=!1;return(0,ge.of)(M).pipe(function Xo(A,k){return(0,le.Z)(S=>{const{targetSnapshot:m,guards:{canActivateChecks:d}}=S;if(!d.length)return(0,ge.of)(S);const f=new Set(d.map(V=>V.route)),E=new Set;for(const V of f)if(!E.has(V))for(const ee of Zo(V))E.add(ee);let M=0;return(0,be.H)(E).pipe((0,Ke.H)(V=>f.has(V)?function oi(A,k,S,m){const d=A.routeConfig,f=A._resolve;return void 0!==d?.title&&!qo(d)&&(f[kr]=d.title),function P(A,k,S,m){const d=Xi(A);if(0===d.length)return(0,ge.of)({});const f={};return(0,be.H)(d).pipe((0,le.Z)(E=>function N(A,k,S,m){const d=Zt(k)??m,f=Re(A,d);return Ir(f.resolve?f.resolve(k,S):(0,Q.N4e)(d,()=>f(k,S)))}(A[E],k,S,m).pipe(he(),gt(M=>{if(M instanceof Hs)throw Fr(new Gn,M);f[E]=M}))),zt(1),(0,Xe.T)(()=>f),(0,rn.W)(E=>Pi(E)?dt.w:vt(E)))}(f,A,k,m).pipe((0,Xe.T)(E=>(A._resolvedData=E,A.data=Yo(A,A.parent,S).resolve,null)))}(V,m,A,k):(V.data=Yo(V,V.parent,A).resolve,(0,ge.of)(void 0))),gt(()=>M++),zt(1),(0,le.Z)(V=>M===E.size?(0,ge.of)(S):dt.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>V=!0,complete:()=>{V||this.cancelNavigationTransition(M,"",Sr.NoDataFromResolver)}}))}),gt(M=>{const V=new Pe(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(V)}))}),$(E=>{const M=V=>{const ee=[];V.routeConfig?.loadComponent&&!V.routeConfig._loadedComponent&&ee.push(this.configLoader.loadComponent(V.routeConfig).pipe(gt(Ee=>{V.component=Ee}),(0,Xe.T)(()=>{})));for(const Ee of V.children)ee.push(...M(Ee));return ee};return Gt(M(E.targetSnapshot.root)).pipe(de(null),Pt(1))}),$(()=>this.afterPreactivation()),(0,en.n)(()=>{const{currentSnapshot:E,targetSnapshot:M}=m,V=this.createViewTransition?.(this.environmentInjector,E.root,M.root);return V?(0,be.H)(V).pipe((0,Xe.T)(()=>m)):(0,ge.of)(m)}),(0,Xe.T)(E=>{const M=function xo(A,k,S){const m=ps(A,k._root,S?S._root:void 0);return new En(m,k)}(S.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return this.currentTransition=m={...E,targetRouterState:M},this.currentNavigation.targetRouterState=M,m}),gt(()=>{this.events.next(new Ln)}),((A,k,S,m)=>(0,Xe.T)(d=>(new jo(k,d.targetRouterState,d.currentRouterState,S,m).activate(A),d)))(this.rootContexts,S.routeReuseStrategy,E=>this.events.next(E),this.inputBindingEnabled),Pt(1),gt({next:E=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Po(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects))),this.titleStrategy?.updateTitle(E.targetRouterState.snapshot),E.resolve(!0)},complete:()=>{d=!0}}),function Vn(A){return(0,kn.N)((k,S)=>{(0,et.Tg)(A).subscribe((0,Ot._)(S,()=>S.complete(),Kt.l)),!S.closed&&k.subscribe(S)})}(this.transitionAbortSubject.pipe(gt(E=>{throw E}))),(0,Hn.j)(()=>{!d&&!f&&this.cancelNavigationTransition(m,"",Sr.SupersededByNewNavigation),this.currentTransition?.id===m.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,rn.W)(E=>{if(this.destroyed)return m.resolve(!1),dt.w;if(f=!0,ra(E))this.events.next(new Wi(m.id,this.urlSerializer.serialize(m.extractedUrl),E.message,E.cancellationCode)),function eo(A){return ra(A)&&Et(A.url)}(E)?this.events.next(new _r(E.url,E.navigationBehaviorOptions)):m.resolve(!1);else{const M=new io(m.id,this.urlSerializer.serialize(m.extractedUrl),E,m.targetSnapshot??void 0);try{const V=(0,Q.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(M));if(!(V instanceof Hs))throw this.events.next(M),E;{const{message:ee,cancellationCode:Ee}=Fr(0,V);this.events.next(new Wi(m.id,this.urlSerializer.serialize(m.extractedUrl),ee,Ee)),this.events.next(new _r(V.redirectTo,V.navigationBehaviorOptions))}}catch(V){this.options.resolveNavigationPromiseOnError?m.resolve(!1):m.reject(V)}}return dt.w}))}))}cancelNavigationTransition(S,m,d){const f=new Wi(S.id,this.urlSerializer.serialize(S.extractedUrl),m,d);this.events.next(f),S.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const S=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),m=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return S.toString()!==m?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();function Ms(A){return A!==Fn}let _s=(()=>{class A{static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:()=>(0,Q.WQX)(Ua),providedIn:"root"})}return A})();class Ra{shouldDetach(k){return!1}store(k,S){}shouldAttach(k){return!1}retrieve(k){return null}shouldReuseRoute(k,S){return k.routeConfig===S.routeConfig}}let Ua=(()=>{class A extends Ra{static \u0275fac=(()=>{let S;return function(d){return(S||(S=Q.xGo(A)))(d||A)}})();static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})(),zi=(()=>{class A{urlSerializer=(0,Q.WQX)(xr);options=(0,Q.WQX)(Sn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,Q.WQX)(F.aZ);urlHandlingStrategy=(0,Q.WQX)(Sa);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new lr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:S,initialUrl:m,targetBrowserUrl:d}){const f=void 0!==S?this.urlHandlingStrategy.merge(S,m):m,E=d??f;return E instanceof lr?this.urlSerializer.serialize(E):E}commitTransition({targetRouterState:S,finalUrl:m,initialUrl:d}){m&&S?(this.currentUrlTree=m,this.rawUrlTree=this.urlHandlingStrategy.merge(m,d),this.routerState=S):this.rawUrlTree=d}routerState=as(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:S}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S??this.rawUrlTree)}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:()=>(0,Q.WQX)(Qi),providedIn:"root"})}return A})(),Qi=(()=>{class A extends zi{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(S){return this.location.subscribe(m=>{"popstate"===m.type&&setTimeout(()=>{S(m.url,m.state,"popstate")})})}handleRouterEvent(S,m){S instanceof zr?this.updateStateMemento():S instanceof Bo?this.commitTransition(m):S instanceof j?"eager"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(m),m)):S instanceof Ln?(this.commitTransition(m),"deferred"===this.urlUpdateStrategy&&!m.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(m),m)):S instanceof Wi&&(S.code===Sr.GuardRejected||S.code===Sr.NoDataFromResolver)?this.restoreHistory(m):S instanceof io?this.restoreHistory(m,!0):S instanceof Po&&(this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId)}setBrowserUrl(S,{extras:m,id:d}){const{replaceUrl:f,state:E}=m;if(this.location.isCurrentPathEqualTo(S)||f){const M=this.browserPageId,V={...E,...this.generateNgRouterState(d,M)};this.location.replaceState(S,"",V)}else{const M={...E,...this.generateNgRouterState(d,this.browserPageId+1)};this.location.go(S,"",M)}}restoreHistory(S,m=!1){if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-this.browserPageId;0!==f?this.location.historyGo(f):this.getCurrentUrlTree()===S.finalUrl&&0===f&&(this.resetInternalState(S),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(m&&this.resetInternalState(S),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,m){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:m}:{navigationId:S}}static \u0275fac=(()=>{let S;return function(d){return(S||(S=Q.xGo(A)))(d||A)}})();static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();function Ai(A,k){A.events.pipe((0,Z.p)(S=>S instanceof Po||S instanceof Wi||S instanceof io||S instanceof Bo),(0,Xe.T)(S=>S instanceof Po||S instanceof Bo?0:S instanceof Wi&&(S.code===Sr.Redirect||S.code===Sr.SupersededByNewNavigation)?2:1),(0,Z.p)(S=>2!==S),Pt(1)).subscribe(()=>{k()})}const Ja={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},to={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vc=(()=>{class A{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,Q.WQX)(Q.H3F);stateManager=(0,Q.WQX)(zi);options=(0,Q.WQX)(Sn,{optional:!0})||{};pendingTasks=(0,Q.WQX)(Q.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,Q.WQX)(pa);urlSerializer=(0,Q.WQX)(xr);location=(0,Q.WQX)(F.aZ);urlHandlingStrategy=(0,Q.WQX)(Sa);_events=new wn.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,Q.WQX)(_s);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,Q.WQX)(cr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,Q.WQX)(Zr,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:S=>{this.console.warn(S)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $n.yU;subscribeToNavigationEvents(){const S=this.navigationTransitions.events.subscribe(m=>{try{const d=this.navigationTransitions.currentTransition,f=this.navigationTransitions.currentNavigation;if(null!==d&&null!==f)if(this.stateManager.handleRouterEvent(m,f),m instanceof Wi&&m.code!==Sr.Redirect&&m.code!==Sr.SupersededByNewNavigation)this.navigated=!0;else if(m instanceof Po)this.navigated=!0;else if(m instanceof _r){const E=m.navigationBehaviorOptions,M=this.urlHandlingStrategy.merge(m.url,d.currentRawUrl),V={browserUrl:d.extras.browserUrl,info:d.extras.info,skipLocationChange:d.extras.skipLocationChange,replaceUrl:d.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Ms(d.source),...E};this.scheduleNavigation(M,Fn,null,V,{resolve:d.resolve,reject:d.reject,promise:d.promise})}(function Vs(A){return!(A instanceof Ln||A instanceof _r)})(m)&&this._events.next(m)}catch(d){this.navigationTransitions.transitionAbortSubject.next(d)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((S,m,d)=>{this.navigateToSyncWithBrowser(S,d,m)})}navigateToSyncWithBrowser(S,m,d){const f={replaceUrl:!0},E=d?.navigationId?d:null;if(d){const V={...d};delete V.navigationId,delete V.\u0275routerPageId,0!==Object.keys(V).length&&(f.state=V)}const M=this.parseUrl(S);this.scheduleNavigation(M,m,E,f)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(No),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,m={}){const{relativeTo:d,queryParams:f,fragment:E,queryParamsHandling:M,preserveFragment:V}=m,ee=V?this.currentUrlTree.fragment:E;let We,Ee=null;switch(M??this.options.defaultQueryParamsHandling){case"merge":Ee={...this.currentUrlTree.queryParams,...f};break;case"preserve":Ee=this.currentUrlTree.queryParams;break;default:Ee=f||null}null!==Ee&&(Ee=this.removeEmptyProps(Ee));try{We=ye(d?d.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof S[0]||"/"!==S[0][0])&&(S=[]),We=this.currentUrlTree.root}return Oe(We,S,Ee,ee??null)}navigateByUrl(S,m={skipLocationChange:!1}){const d=Et(S)?S:this.parseUrl(S),f=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(f,Fn,null,m)}navigate(S,m={skipLocationChange:!1}){return function Jo(A){for(let k=0;k<A.length;k++)if(null==A[k])throw new Q.wOt(4008,!1)}(S),this.navigateByUrl(this.createUrlTree(S,m),m)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){try{return this.urlSerializer.parse(S)}catch{return this.urlSerializer.parse("/")}}isActive(S,m){let d;if(d=!0===m?{...Ja}:!1===m?{...to}:m,Et(S))return si(this.currentUrlTree,S,d);const f=this.parseUrl(S);return si(this.currentUrlTree,f,d)}removeEmptyProps(S){return Object.entries(S).reduce((m,[d,f])=>(null!=f&&(m[d]=f),m),{})}scheduleNavigation(S,m,d,f,E){if(this.disposed)return Promise.resolve(!1);let M,V,ee;E?(M=E.resolve,V=E.reject,ee=E.promise):ee=new Promise((We,pt)=>{M=We,V=pt});const Ee=this.pendingTasks.add();return Ai(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ee))}),this.navigationTransitions.handleNavigationRequest({source:m,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:f,resolve:M,reject:V,promise:ee,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ee.catch(We=>Promise.reject(We))}static \u0275fac=function(m){return new(m||A)};static \u0275prov=Q.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},5196:(Cn,ze,W)=>{"use strict";W.d(ze,{C:()=>Q,U:()=>w});var D=W(1635),F=W(8071);function Q(Se){return(0,D.AQ)(this,arguments,function*(){const be=Se.getReader();try{for(;;){const{value:ge,done:Ue}=yield(0,D.N3)(be.read());if(Ue)return yield(0,D.N3)(void 0);yield yield(0,D.N3)(ge)}}finally{be.releaseLock()}})}function w(Se){return(0,F.T)(Se?.getReader)}},5207:(Cn,ze,W)=>{"use strict";W.d(ze,{Wk:()=>Un,iI:()=>Yr,lh:()=>Vt});var D=W(6048),F=W(1360),Q=W(9361);let Ze=(()=>{class ce{static \u0275prov=(0,F.jDH)({token:ce,providedIn:"root",factory:()=>new be((0,F.WQX)(Q.q),window)})}return ce})();class be{document;window;offset=()=>[0,0];constructor(tt,Me){this.document=tt,this.window=Me}setOffset(tt){this.offset=Array.isArray(tt)?()=>tt:tt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(tt){this.window.scrollTo(tt[0],tt[1])}scrollToAnchor(tt){const Me=function ge(ce,tt){const Me=ce.getElementById(tt)||ce.getElementsByName(tt)[0];if(Me)return Me;if("function"==typeof ce.createTreeWalker&&ce.body&&"function"==typeof ce.body.attachShadow){const lt=ce.createTreeWalker(ce.body,NodeFilter.SHOW_ELEMENT);let Zt=lt.currentNode;for(;Zt;){const vn=Zt.shadowRoot;if(vn){const Bn=vn.getElementById(tt)||vn.querySelector(`[name="${tt}"]`);if(Bn)return Bn}Zt=lt.nextNode()}}return null}(this.document,tt);Me&&(this.scrollToElement(Me),Me.focus())}setHistoryScrollRestoration(tt){this.window.history.scrollRestoration=tt}scrollToElement(tt){const Me=tt.getBoundingClientRect(),lt=Me.left+this.window.pageXOffset,Zt=Me.top+this.window.pageYOffset,vn=this.offset();this.window.scrollTo(lt-vn[0],Zt-vn[1])}}var Et=W(2881),oe=W(5072),ye=W(1413),Oe=W(7673),bt=W(8455),yt=W(6365),ht=W(5964),kt=W(274),tn=W(1397);let Un=(()=>{class ce{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ye.B;constructor(Me,lt,Zt,vn,Bn,Ji){this.router=Me,this.route=lt,this.tabIndexAttribute=Zt,this.renderer=vn,this.el=Bn,this.locationStrategy=Ji;const go=Bn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===go||"area"===go,this.isAnchorElement?this.subscription=Me.events.subscribe(xs=>{xs instanceof oe.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(Me){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Me)}ngOnChanges(Me){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(Me){null==Me?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,oe.wO)(Me)||Array.isArray(Me)?Me:[Me],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Me,lt,Zt,vn,Bn){const Ji=this.urlTree;return!!(null===Ji||this.isAnchorElement&&(0!==Me||lt||Zt||vn||Bn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Ji,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Me=this.urlTree;this.href=null!==Me&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Me)):null;const lt=null===this.href?null:(0,F.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",lt)}applyAttributeValue(Me,lt){const Zt=this.renderer,vn=this.el.nativeElement;null!==lt?Zt.setAttribute(vn,Me,lt):Zt.removeAttribute(vn,Me)}get urlTree(){return null===this.routerLinkInput?null:(0,oe.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(lt){return new(lt||ce)(F.rXU(oe.Ix),F.rXU(oe.nX),F.kS0("tabindex"),F.rXU(F.sFG),F.rXU(F.aKT),F.rXU(D.hb))};static \u0275dir=F.FsC({type:ce,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(lt,Zt){1&lt&&F.bIt("click",function(Bn){return Zt.onClick(Bn.button,Bn.ctrlKey,Bn.shiftKey,Bn.altKey,Bn.metaKey)}),2&lt&&F.BMQ("target",Zt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",F.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",F.L39],replaceUrl:[2,"replaceUrl","replaceUrl",F.L39],routerLink:"routerLink"},features:[F.OA$]})}return ce})();class ar{}let ve=(()=>{class ce{router;injector;preloadingStrategy;loader;subscription;constructor(Me,lt,Zt,vn){this.router=Me,this.injector=lt,this.preloadingStrategy=Zt,this.loader=vn}setUpPreloading(){this.subscription=this.router.events.pipe((0,ht.p)(Me=>Me instanceof oe.wF),(0,kt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Me,lt){const Zt=[];for(const vn of lt){vn.providers&&!vn._injector&&(vn._injector=(0,F.Ol2)(vn.providers,Me,`Route: ${vn.path}`));const Bn=vn._injector??Me,Ji=vn._loadedInjector??Bn;(vn.loadChildren&&!vn._loadedRoutes&&void 0===vn.canLoad||vn.loadComponent&&!vn._loadedComponent)&&Zt.push(this.preloadConfig(Bn,vn)),(vn.children||vn._loadedRoutes)&&Zt.push(this.processRoutes(Ji,vn.children??vn._loadedRoutes))}return(0,bt.H)(Zt).pipe((0,yt.U)())}preloadConfig(Me,lt){return this.preloadingStrategy.preload(lt,()=>{let Zt;Zt=lt.loadChildren&&void 0===lt.canLoad?this.loader.loadChildren(Me,lt):(0,Oe.of)(null);const vn=Zt.pipe((0,tn.Z)(Bn=>null===Bn?(0,Oe.of)(void 0):(lt._loadedRoutes=Bn.routes,lt._loadedInjector=Bn.injector,this.processRoutes(Bn.injector??Me,Bn.routes))));if(lt.loadComponent&&!lt._loadedComponent){const Bn=this.loader.loadComponent(lt);return(0,bt.H)([vn,Bn]).pipe((0,yt.U)())}return vn})}static \u0275fac=function(lt){return new(lt||ce)(F.KVO(oe.Ix),F.KVO(F.uvJ),F.KVO(ar),F.KVO(oe.D$))};static \u0275prov=F.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})();const Ve=new F.nKC("");let Qe=(()=>{class ce{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(Me,lt,Zt,vn,Bn={}){this.urlSerializer=Me,this.transitions=lt,this.viewportScroller=Zt,this.zone=vn,this.options=Bn,Bn.scrollPositionRestoration||="disabled",Bn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Me=>{Me instanceof oe.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Me.navigationTrigger,this.restoredId=Me.restoredState?Me.restoredState.navigationId:0):Me instanceof oe.wF?(this.lastId=Me.id,this.scheduleScrollEvent(Me,this.urlSerializer.parse(Me.urlAfterRedirects).fragment)):Me instanceof oe.lW&&Me.code===oe.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Me,this.urlSerializer.parse(Me.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Me=>{Me instanceof oe.OY&&(Me.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Me.position):Me.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Me.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Me,lt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new oe.OY(Me,"popstate"===this.lastSource?this.store[this.restoredId]:null,lt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(lt){F.QTQ()};static \u0275prov=F.jDH({token:ce,factory:ce.\u0275fac})}return ce})();function Vt(ce,...tt){return(0,F.EmA)([{provide:oe.bw,multi:!0,useValue:ce},[],{provide:oe.nX,useFactory:Ht,deps:[oe.Ix]},{provide:F.iLQ,multi:!0,useFactory:Po},tt.map(Me=>Me.\u0275providers)])}function Ht(ce){return ce.routerState.root}function In(ce,tt){return{\u0275kind:ce,\u0275providers:tt}}function Po(){const ce=(0,F.WQX)(F.zZn);return tt=>{const Me=ce.get(F.o8S);if(tt!==Me.components[0])return;const lt=ce.get(oe.Ix),Zt=ce.get(Sr);1===ce.get(ao)&&lt.initialNavigation(),ce.get(j,null,F.$GK.Optional)?.setUpPreloading(),ce.get(Ve,null,F.$GK.Optional)?.init(),lt.resetRootComponentType(Me.componentTypes[0]),Zt.closed||(Zt.next(),Zt.complete(),Zt.unsubscribe())}}const Sr=new F.nKC("",{factory:()=>new ye.B}),ao=new F.nKC("",{providedIn:"root",factory:()=>1}),j=new F.nKC("");function fe(ce){return In(0,[{provide:j,useExisting:ve},{provide:ar,useExisting:ce}])}function sn(ce){return(0,F.ngT)("NgRouterViewTransitions"),In(9,[{provide:oe.Pu,useValue:oe.Lg},{provide:oe.bK,useValue:{skipNextTransition:!!ce?.skipInitialTransition,...ce}}])}const Xr=[D.aZ,{provide:oe.Sd,useClass:oe.nU},oe.Ix,oe.Zp,{provide:oe.nX,useFactory:Ht,deps:[oe.Ix]},oe.D$,[]];let Yr=(()=>{class ce{constructor(){}static forRoot(Me,lt){return{ngModule:ce,providers:[Xr,[],{provide:oe.bw,multi:!0,useValue:Me},[],lt?.errorHandler?{provide:oe.XR,useValue:lt.errorHandler}:[],{provide:oe.J_,useValue:lt||{}},lt?.useHash?{provide:D.hb,useClass:Et.fw}:{provide:D.hb,useClass:D.Sm},{provide:Ve,useFactory:()=>{const ce=(0,F.WQX)(Ze),tt=(0,F.WQX)(F.SKi),Me=(0,F.WQX)(oe.J_),lt=(0,F.WQX)(oe.J2),Zt=(0,F.WQX)(oe.Sd);return Me.scrollOffset&&ce.setOffset(Me.scrollOffset),new Qe(Zt,lt,ce,tt,Me)}},lt?.preloadingStrategy?fe(lt.preloadingStrategy).\u0275providers:[],lt?.initialNavigation?yi(lt):[],lt?.bindToComponentInputs?In(8,[oe.tD,{provide:oe.c1,useExisting:oe.tD}]).\u0275providers:[],lt?.enableViewTransitions?sn().\u0275providers:[],[{provide:wo,useFactory:Po},{provide:F.iLQ,multi:!0,useExisting:wo}]]}}static forChild(Me){return{ngModule:ce,providers:[{provide:oe.bw,multi:!0,useValue:Me}]}}static \u0275fac=function(lt){return new(lt||ce)};static \u0275mod=F.$C({type:ce});static \u0275inj=F.G2t({})}return ce})();function yi(ce){return["disabled"===ce.initialNavigation?In(3,[(0,F.phd)(()=>{(0,F.WQX)(oe.Ix).setUpLocationChangeListener()}),{provide:ao,useValue:2}]).\u0275providers:[],"enabledBlocking"===ce.initialNavigation?In(2,[{provide:ao,useValue:0},(0,F.phd)(()=>{const tt=(0,F.WQX)(F.zZn);return tt.get(D.hj,Promise.resolve()).then(()=>new Promise(lt=>{const Zt=tt.get(oe.Ix),vn=tt.get(Sr);(0,oe.gk)(Zt,()=>{lt(!0)}),tt.get(oe.J2).afterPreactivation=()=>(lt(!0),vn.closed?(0,Oe.of)(void 0):vn),Zt.initialNavigation()}))})]).\u0275providers:[]]}const wo=new F.nKC("")},5225:(Cn,ze,W)=>{"use strict";function D(F,Q,w,Se=0,Ze=!1){const be=Q.schedule(function(){w(),Ze?F.add(this.schedule(null,Se)):this.unsubscribe()},Se);if(F.add(be),!Ze)return be}W.d(ze,{N:()=>D})},5334:(Cn,ze,W)=>{"use strict";W.d(ze,{m:()=>Q});var D=W(1026),F=W(9270);function Q(w){F.f.setTimeout(()=>{const{onUnhandledError:Se}=D.$;if(!Se)throw w;Se(w)})}},5343:(Cn,ze,W)=>{"use strict";function D(){}W.d(ze,{l:()=>D})},5397:(Cn,ze,W)=>{"use strict";W.d(ze,{x:()=>Q});var D=W(4761),F=W(8071);function Q(w){return(0,F.T)(w?.[D.l])}},5558:(Cn,ze,W)=>{"use strict";W.d(ze,{n:()=>w});var D=W(8750),F=W(9974),Q=W(4360);function w(Se,Ze){return(0,F.N)((be,ge)=>{let Ue=null,_e=0,we=!1;const qe=()=>we&&!Ue&&ge.complete();be.subscribe((0,Q._)(ge,Ct=>{Ue?.unsubscribe();let ft=0;const Ot=_e++;(0,D.Tg)(Se(Ct,Ot)).subscribe(Ue=(0,Q._)(ge,Bt=>ge.next(Ze?Ze(Ct,Bt,Ot,ft++):Bt),()=>{Ue=null,qe()}))},()=>{we=!0,qe()}))})}},5794:(Cn,ze,W)=>{"use strict";W.d(ze,{DP:()=>Xe,tw:()=>er});var D=W(1360),F=W(969),Q=W(9361),w=W(2881),Se=W(1413),Ze=W(345);const be=["toast-component",""];function ge(de,pe){if(1&de){const re=D.RV6();D.j41(0,"button",5),D.bIt("click",function(){D.eBV(re);const Ke=D.XpG();return D.Njj(Ke.remove())}),D.j41(1,"span",6),D.EFF(2,"\xd7"),D.k0s()()}}function Ue(de,pe){if(1&de&&(D.qex(0),D.EFF(1),D.bVm()),2&de){const re=D.XpG(2);D.R7$(),D.SpI("[",re.duplicatesCount+1,"]")}}function _e(de,pe){if(1&de&&(D.j41(0,"div"),D.EFF(1),D.DNE(2,Ue,2,1,"ng-container",4),D.k0s()),2&de){const re=D.XpG();D.HbH(re.options.titleClass),D.BMQ("aria-label",re.title),D.R7$(),D.SpI(" ",re.title," "),D.R7$(),D.Y8G("ngIf",re.duplicatesCount)}}function we(de,pe){if(1&de&&D.nrm(0,"div",7),2&de){const re=D.XpG();D.HbH(re.options.messageClass),D.Y8G("innerHTML",re.message,D.npT)}}function qe(de,pe){if(1&de&&(D.j41(0,"div",8),D.EFF(1),D.k0s()),2&de){const re=D.XpG();D.HbH(re.options.messageClass),D.BMQ("aria-label",re.message),D.R7$(),D.SpI(" ",re.message," ")}}function Ct(de,pe){if(1&de&&(D.j41(0,"div"),D.nrm(1,"div",9),D.k0s()),2&de){const re=D.XpG();D.R7$(),D.xc7("width",re.width()+"%")}}class St{_attachedHost;component;viewContainerRef;injector;constructor(pe,re){this.component=pe,this.injector=re}attach(pe,re){return this._attachedHost=pe,pe.attach(this,re)}detach(){const pe=this._attachedHost;if(pe)return this._attachedHost=void 0,pe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(pe){this._attachedHost=pe}}class Ne{_attachedPortal;_disposeFn;attach(pe,re){return this._attachedPortal=pe,this.attachComponentPortal(pe,re)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(pe){this._disposeFn=pe}}class ct{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Se.B;_activate=new Se.B;_manualClose=new Se.B;_resetTimeout=new Se.B;_countDuplicate=new Se.B;constructor(pe){this._overlayRef=pe}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(pe,re){pe&&this._resetTimeout.next(),re&&this._countDuplicate.next(++this.duplicatesCount)}}class et{toastId;config;message;title;toastType;toastRef;_onTap=new Se.B;_onAction=new Se.B;constructor(pe,re,he,Ke,gt,rn){this.toastId=pe,this.config=re,this.message=he,this.title=Ke,this.toastType=gt,this.toastRef=rn,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(pe){this._onAction.next(pe)}onAction(){return this._onAction.asObservable()}}const Xt=new D.nKC("ToastConfig");class vt extends Ne{_hostDomElement;_componentFactoryResolver;_appRef;constructor(pe,re,he){super(),this._hostDomElement=pe,this._componentFactoryResolver=re,this._appRef=he}attachComponentPortal(pe,re){const he=this._componentFactoryResolver.resolveComponentFactory(pe.component);let Ke;return Ke=he.create(pe.injector),this._appRef.attachView(Ke.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ke.hostView),Ke.destroy()}),re?this._hostDomElement.insertBefore(this._getComponentRootNode(Ke),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ke)),Ke}_getComponentRootNode(pe){return pe.hostView.rootNodes[0]}}let dt=(()=>{class de{_document=(0,D.WQX)(Q.q);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const re=this._document.createElement("div");re.classList.add("overlay-container"),re.setAttribute("aria-live","polite"),this._document.body.appendChild(re),this._containerElement=re}static \u0275fac=function(he){return new(he||de)};static \u0275prov=D.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();class $n{_portalHost;constructor(pe){this._portalHost=pe}attach(pe,re=!0){return this._portalHost.attach(pe,re)}detach(){return this._portalHost.detach()}}let kn=(()=>{class de{_overlayContainer=(0,D.WQX)(dt);_componentFactoryResolver=(0,D.WQX)(D.OM3);_appRef=(0,D.WQX)(D.o8S);_document=(0,D.WQX)(Q.q);_paneElements=new Map;create(re,he){return this._createOverlayRef(this.getPaneElement(re,he))}getPaneElement(re="",he){return this._paneElements.get(he)||this._paneElements.set(he,{}),this._paneElements.get(he)[re]||(this._paneElements.get(he)[re]=this._createPaneElement(re,he)),this._paneElements.get(he)[re]}_createPaneElement(re,he){const Ke=this._document.createElement("div");return Ke.id="toast-container",Ke.classList.add(re),Ke.classList.add("toast-container"),he?he.getContainerElement().appendChild(Ke):this._overlayContainer.getContainerElement().appendChild(Ke),Ke}_createPortalHost(re){return new vt(re,this._componentFactoryResolver,this._appRef)}_createOverlayRef(re){return new $n(this._createPortalHost(re))}static \u0275fac=function(he){return new(he||de)};static \u0275prov=D.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})(),er=(()=>{class de{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(re,he,Ke,gt,rn){this.overlay=he,this._injector=Ke,this.sanitizer=gt,this.ngZone=rn,this.toastrConfig={...re.default,...re.config},re.config.iconClasses&&(this.toastrConfig.iconClasses={...re.default.iconClasses,...re.config.iconClasses})}show(re,he,Ke={},gt=""){return this._preBuildNotification(gt,re,he,this.applyConfig(Ke))}success(re,he,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",re,he,this.applyConfig(Ke))}error(re,he,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",re,he,this.applyConfig(Ke))}info(re,he,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",re,he,this.applyConfig(Ke))}warning(re,he,Ke={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",re,he,this.applyConfig(Ke))}clear(re){for(const he of this.toasts)if(void 0!==re){if(he.toastId===re)return void he.toastRef.manualClose()}else he.toastRef.manualClose()}remove(re){const he=this._findToast(re);if(!he||(he.activeToast.toastRef.close(),this.toasts.splice(he.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ke=this.toasts[this.currentlyActive].toastRef;Ke.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ke.activate())}return!0}findDuplicate(re="",he="",Ke,gt){const{includeTitleDuplicates:rn}=this.toastrConfig;for(const Yt of this.toasts)if((!rn||rn&&Yt.title===re)&&Yt.message===he)return Yt.toastRef.onDuplicate(Ke,gt),Yt;return null}applyConfig(re={}){return{...this.toastrConfig,...re}}_findToast(re){for(let he=0;he<this.toasts.length;he++)if(this.toasts[he].toastId===re)return{index:he,activeToast:this.toasts[he]};return null}_preBuildNotification(re,he,Ke,gt){return gt.onActivateTick?this.ngZone.run(()=>this._buildNotification(re,he,Ke,gt)):this._buildNotification(re,he,Ke,gt)}_buildNotification(re,he,Ke,gt){if(!gt.toastComponent)throw new Error("toastComponent required");const rn=this.findDuplicate(Ke,he,this.toastrConfig.resetTimeoutOnDuplicate&&gt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ke||he)&&this.toastrConfig.preventDuplicates&&null!==rn)return rn;this.previousToastMessage=he;let Yt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Yt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const nr=this.overlay.create(gt.positionClass,this.overlayContainer);this.index=this.index+1;let zt=he;he&&gt.enableHtml&&(zt=this.sanitizer.sanitize(D.WPN.HTML,he));const Qn=new ct(nr),Hn=new et(this.index,gt,zt,Ke,re,Qn),Vn=D.zZn.create({providers:[{provide:et,useValue:Hn}],parent:this._injector}),tr=new St(gt.toastComponent,Vn),bn=nr.attach(tr,gt.newestOnTop);Qn.componentInstance=bn.instance;const kr={toastId:this.index,title:Ke||"",message:he||"",toastRef:Qn,onShown:Qn.afterActivate(),onHidden:Qn.afterClosed(),onTap:Hn.onTap(),onAction:Hn.onAction(),portal:bn};return Yt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{kr.toastRef.activate()})),this.toasts.push(kr),kr}static \u0275fac=function(he){return new(he||de)(D.KVO(Xt),D.KVO(kn),D.KVO(D.zZn),D.KVO(Ze.up),D.KVO(D.SKi))};static \u0275prov=D.jDH({token:de,factory:de.\u0275fac,providedIn:"root"})}return de})();const wn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class de{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=(0,D.vPA)(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(re,he,Ke){this.toastrService=re,this.toastPackage=he,this.ngZone=Ke,this.message=he.message,this.title=he.title,this.options=he.config,this.originalTimeout=he.config.timeOut,this.toastClasses=`${he.toastType} ${he.config.toastClass}`,this.sub=he.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=he.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=he.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=he.toastRef.countDuplicate().subscribe(gt=>{this.duplicatesCount=gt}),this.state=(0,D.vPA)({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(re=>({...re,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const re=(new Date).getTime();this.width.set((this.hideTime-re)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(Ke=>100-Ke),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(re=>({...re,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(re=>({...re,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(re,he){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(re),he)):this.timeout=setTimeout(()=>re(),he)}outsideInterval(re,he){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(re),he)):this.intervalId=setInterval(()=>re(),he)}runInsideAngular(re){this.ngZone?this.ngZone.run(()=>re()):re()}static \u0275fac=function(he){return new(he||de)(D.rXU(er),D.rXU(et),D.rXU(D.SKi))};static \u0275cmp=D.VBU({type:de,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(he,Ke){1&he&&D.bIt("click",function(){return Ke.tapToast()})("mouseenter",function(){return Ke.stickAround()})("mouseleave",function(){return Ke.delayedHideToast()}),2&he&&(D.zvX("@flyInOut",Ke._state),D.HbH(Ke.toastClasses),D.xc7("display",Ke.displayStyle))},attrs:be,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(he,Ke){1&he&&D.DNE(0,ge,3,0,"button",0)(1,_e,3,5,"div",1)(2,we,1,3,"div",2)(3,qe,2,4,"div",3)(4,Ct,2,2,"div",4),2&he&&(D.Y8G("ngIf",Ke.options.closeButton),D.R7$(),D.Y8G("ngIf",Ke.title),D.R7$(),D.Y8G("ngIf",Ke.message&&Ke.options.enableHtml),D.R7$(),D.Y8G("ngIf",Ke.message&&!Ke.options.enableHtml),D.R7$(),D.Y8G("ngIf",Ke.options.progressBar))},dependencies:[w.bT],encapsulation:2,data:{animation:[(0,F.hZ)("flyInOut",[(0,F.wk)("inactive",(0,F.iF)({opacity:0})),(0,F.wk)("active",(0,F.iF)({opacity:1})),(0,F.wk)("removed",(0,F.iF)({opacity:0})),(0,F.kY)("inactive => active",(0,F.i0)("{{ easeTime }}ms {{ easing }}")),(0,F.kY)("active => removed",(0,F.i0)("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return de})()},Xe=(de={})=>(0,D.EmA)([{provide:Xt,useValue:{default:wn,config:de}}])},5964:(Cn,ze,W)=>{"use strict";W.d(ze,{p:()=>Q});var D=W(9974),F=W(4360);function Q(w,Se){return(0,D.N)((Ze,be)=>{let ge=0;Ze.subscribe((0,F._)(be,Ue=>w.call(Se,Ue,ge++)&&be.next(Ue)))})}},6048:(Cn,ze,W)=>{"use strict";W.d(ze,{Q:()=>Ct,Sm:()=>Bt,Vw:()=>ge,aZ:()=>Gt,hb:()=>ft,hj:()=>Ue,ig:()=>Ze,kB:()=>Ot,om:()=>we,qj:()=>be,rb:()=>Se});var D=W(1360),F=W(1413),Q=W(9361);let w=null;function Se(){return w}function Ze(Ne){w??=Ne}class be{}let ge=(()=>{class Ne{historyGo(et){throw new Error("")}static \u0275fac=function(Tt){return new(Tt||Ne)};static \u0275prov=D.jDH({token:Ne,factory:()=>(0,D.WQX)(_e),providedIn:"platform"})}return Ne})();const Ue=new D.nKC("");let _e=(()=>{class Ne extends ge{_location;_history;_doc=(0,D.WQX)(Q.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Se().getBaseHref(this._doc)}onPopState(et){const Tt=Se().getGlobalEventTarget(this._doc,"window");return Tt.addEventListener("popstate",et,!1),()=>Tt.removeEventListener("popstate",et)}onHashChange(et){const Tt=Se().getGlobalEventTarget(this._doc,"window");return Tt.addEventListener("hashchange",et,!1),()=>Tt.removeEventListener("hashchange",et)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(et){this._location.pathname=et}pushState(et,Tt,Xt){this._history.pushState(et,Tt,Xt)}replaceState(et,Tt,Xt){this._history.replaceState(et,Tt,Xt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(et=0){this._history.go(et)}getState(){return this._history.state}static \u0275fac=function(Tt){return new(Tt||Ne)};static \u0275prov=D.jDH({token:Ne,factory:()=>new Ne,providedIn:"platform"})}return Ne})();function we(Ne,ct){return Ne?ct?Ne.endsWith("/")?ct.startsWith("/")?Ne+ct.slice(1):Ne+ct:ct.startsWith("/")?Ne+ct:`${Ne}/${ct}`:Ne:ct}function qe(Ne){const ct=Ne.search(/#|\?|$/);return"/"===Ne[ct-1]?Ne.slice(0,ct-1)+Ne.slice(ct):Ne}function Ct(Ne){return Ne&&"?"!==Ne[0]?`?${Ne}`:Ne}let ft=(()=>{class Ne{historyGo(et){throw new Error("")}static \u0275fac=function(Tt){return new(Tt||Ne)};static \u0275prov=D.jDH({token:Ne,factory:()=>(0,D.WQX)(Bt),providedIn:"root"})}return Ne})();const Ot=new D.nKC("");let Bt=(()=>{class Ne extends ft{_platformLocation;_baseHref;_removeListenerFns=[];constructor(et,Tt){super(),this._platformLocation=et,this._baseHref=Tt??this._platformLocation.getBaseHrefFromDOM()??(0,D.WQX)(Q.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(et){this._removeListenerFns.push(this._platformLocation.onPopState(et),this._platformLocation.onHashChange(et))}getBaseHref(){return this._baseHref}prepareExternalUrl(et){return we(this._baseHref,et)}path(et=!1){const Tt=this._platformLocation.pathname+Ct(this._platformLocation.search),Xt=this._platformLocation.hash;return Xt&&et?`${Tt}${Xt}`:Tt}pushState(et,Tt,Xt,vt){const dt=this.prepareExternalUrl(Xt+Ct(vt));this._platformLocation.pushState(et,Tt,dt)}replaceState(et,Tt,Xt,vt){const dt=this.prepareExternalUrl(Xt+Ct(vt));this._platformLocation.replaceState(et,Tt,dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(et=0){this._platformLocation.historyGo?.(et)}static \u0275fac=function(Tt){return new(Tt||Ne)(D.KVO(ge),D.KVO(Ot,8))};static \u0275prov=D.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})(),Gt=(()=>{class Ne{_subject=new F.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(et){this._locationStrategy=et;const Tt=this._locationStrategy.getBaseHref();this._basePath=function St(Ne){if(new RegExp("^(https?:)?//").test(Ne)){const[,et]=Ne.split(/\/\/[^\/]+/);return et}return Ne}(qe(Rt(Tt))),this._locationStrategy.onPopState(Xt=>{this._subject.next({url:this.path(!0),pop:!0,state:Xt.state,type:Xt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(et=!1){return this.normalize(this._locationStrategy.path(et))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(et,Tt=""){return this.path()==this.normalize(et+Ct(Tt))}normalize(et){return Ne.stripTrailingSlash(function Dt(Ne,ct){if(!Ne||!ct.startsWith(Ne))return ct;const et=ct.substring(Ne.length);return""===et||["/",";","?","#"].includes(et[0])?et:ct}(this._basePath,Rt(et)))}prepareExternalUrl(et){return et&&"/"!==et[0]&&(et="/"+et),this._locationStrategy.prepareExternalUrl(et)}go(et,Tt="",Xt=null){this._locationStrategy.pushState(Xt,"",et,Tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(et+Ct(Tt)),Xt)}replaceState(et,Tt="",Xt=null){this._locationStrategy.replaceState(Xt,"",et,Tt),this._notifyUrlChangeListeners(this.prepareExternalUrl(et+Ct(Tt)),Xt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(et=0){this._locationStrategy.historyGo?.(et)}onUrlChange(et){return this._urlChangeListeners.push(et),this._urlChangeSubscription??=this.subscribe(Tt=>{this._notifyUrlChangeListeners(Tt.url,Tt.state)}),()=>{const Tt=this._urlChangeListeners.indexOf(et);this._urlChangeListeners.splice(Tt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(et="",Tt){this._urlChangeListeners.forEach(Xt=>Xt(et,Tt))}subscribe(et,Tt,Xt){return this._subject.subscribe({next:et,error:Tt??void 0,complete:Xt??void 0})}static normalizeQueryParams=Ct;static joinWithSlash=we;static stripTrailingSlash=qe;static \u0275fac=function(Tt){return new(Tt||Ne)(D.KVO(ft))};static \u0275prov=D.jDH({token:Ne,factory:()=>function hn(){return new Gt((0,D.KVO)(ft))}(),providedIn:"root"})}return Ne})();function Rt(Ne){return Ne.replace(/\/index.html$/,"")}},6335:(Cn,ze,W)=>{"use strict";W.d(ze,{Nj:()=>qe,DF:()=>Ct,wh:()=>Ne,eJ:()=>kn,xI:()=>Xe,_q:()=>St,J1:()=>kr,x9:()=>Xi,CI:()=>qt});var D=W(2967),F=W(1360),Q=W(7440),w=W(4125),Se=W(2214),Ze=W(520),be=W(1985);function ge(hr){return new be.c(function(An){return{unsubscribe:(0,Ze.hg)(hr,An.next.bind(An),An.error.bind(An),An.complete.bind(An))}})}class qe{constructor(An){return An}}class Ct{constructor(){return(0,D.CA)("auth")}}const Ot=new F.nKC("angularfire2.auth-instances");function Gt(hr){return(An,bi)=>{const xr=An.runOutsideAngular(()=>hr(bi));return new qe(xr)}}const hn={provide:Ct,deps:[[new F.Xx1,Ot]]},Dt={provide:qe,useFactory:function Bt(hr,An){const bi=(0,D.lR)("auth",hr,An);return bi&&new qe(bi)},deps:[[new F.Xx1,Ot],Q.XU]};function St(hr,...An){return(0,Se.KO)("angularfire",D.xv.full,"auth"),(0,F.EmA)([Dt,hn,{provide:Ot,useFactory:Gt(hr),multi:!0,deps:[F.SKi,F.zZn,D.u0,Q.gL,[new F.Xx1,w.kR],...An]}])}const Ne=(0,D.S3)(ge,!0),kn=(0,D.S3)(Ze.eJ,!0,2),Xe=(0,D.S3)(Ze.xI,!0),kr=(0,D.S3)(Ze.J1,!0,2),Xi=(0,D.S3)(Ze.x9,!0,2),qt=(0,D.S3)(Ze.CI,!0,2)},6354:(Cn,ze,W)=>{"use strict";W.d(ze,{T:()=>Q});var D=W(9974),F=W(4360);function Q(w,Se){return(0,D.N)((Ze,be)=>{let ge=0;Ze.subscribe((0,F._)(be,Ue=>{be.next(w.call(Se,Ue,ge++))}))})}},6365:(Cn,ze,W)=>{"use strict";W.d(ze,{U:()=>Q});var D=W(1397),F=W(3669);function Q(w=1/0){return(0,D.Z)(F.D,w)}},6450:(Cn,ze,W)=>{"use strict";W.d(ze,{I:()=>w});var D=W(6354);const{isArray:F}=Array;function w(Se){return(0,D.T)(Ze=>function Q(Se,Ze){return F(Ze)?Se(...Ze):Se(Ze)}(Se,Ze))}},6745:(Cn,ze,W)=>{"use strict";W.d(ze,{_:()=>F});var D=W(9974);function F(Q,w=0){return(0,D.N)((Se,Ze)=>{Ze.add(Q.schedule(()=>Se.subscribe(Ze),w))})}},6780:(Cn,ze,W)=>{"use strict";W.d(ze,{R:()=>Se});var D=W(8359);class F extends D.yU{constructor(be,ge){super()}schedule(be,ge=0){return this}}const Q={setInterval(Ze,be,...ge){const{delegate:Ue}=Q;return Ue?.setInterval?Ue.setInterval(Ze,be,...ge):setInterval(Ze,be,...ge)},clearInterval(Ze){const{delegate:be}=Q;return(be?.clearInterval||clearInterval)(Ze)},delegate:void 0};var w=W(7908);class Se extends F{constructor(be,ge){super(be,ge),this.scheduler=be,this.work=ge,this.pending=!1}schedule(be,ge=0){var Ue;if(this.closed)return this;this.state=be;const _e=this.id,we=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(we,_e,ge)),this.pending=!0,this.delay=ge,this.id=null!==(Ue=this.id)&&void 0!==Ue?Ue:this.requestAsyncId(we,this.id,ge),this}requestAsyncId(be,ge,Ue=0){return Q.setInterval(be.flush.bind(be,this),Ue)}recycleAsyncId(be,ge,Ue=0){if(null!=Ue&&this.delay===Ue&&!1===this.pending)return ge;null!=ge&&Q.clearInterval(ge)}execute(be,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ue=this._execute(be,ge);if(Ue)return Ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,ge){let _e,Ue=!1;try{this.work(be)}catch(we){Ue=!0,_e=we||new Error("Scheduled action threw falsy error")}if(Ue)return this.unsubscribe(),_e}unsubscribe(){if(!this.closed){const{id:be,scheduler:ge}=this,{actions:Ue}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,w.o)(Ue,this),null!=be&&(this.id=this.recycleAsyncId(ge,be,null)),this.delay=null,super.unsubscribe()}}}},6858:(Cn,ze,W)=>{"use strict";W.d(ze,{cY:()=>Tt,FA:()=>tr,g:()=>Vn,K3:()=>ge,u:()=>qe,Uj:()=>we,Fy:()=>$n,tD:()=>lr,bD:()=>si,hp:()=>Cr,T9:()=>ct,Tj:()=>St,yU:()=>Ne,XA:()=>et,mS:()=>Bt,Ku:()=>xi,ZQ:()=>en,sr:()=>pe,zJ:()=>Xt,c1:()=>de,Im:()=>Kn,lT:()=>Ke,zW:()=>zt,jZ:()=>Pt,lV:()=>re,nr:()=>Yt,Ov:()=>nr,gE:()=>vt,Am:()=>Dr,I9:()=>Ei,P1:()=>Xe,eX:()=>Qn});var D=W(467);const Ze=function(De){const me=[];let Be=0;for(let xt=0;xt<De.length;xt++){let Ye=De.charCodeAt(xt);Ye<128?me[Be++]=Ye:Ye<2048?(me[Be++]=Ye>>6|192,me[Be++]=63&Ye|128):55296==(64512&Ye)&&xt+1<De.length&&56320==(64512&De.charCodeAt(xt+1))?(Ye=65536+((1023&Ye)<<10)+(1023&De.charCodeAt(++xt)),me[Be++]=Ye>>18|240,me[Be++]=Ye>>12&63|128,me[Be++]=Ye>>6&63|128,me[Be++]=63&Ye|128):(me[Be++]=Ye>>12|224,me[Be++]=Ye>>6&63|128,me[Be++]=63&Ye|128)}return me},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(De,me){if(!Array.isArray(De))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Be=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,xt=[];for(let Ye=0;Ye<De.length;Ye+=3){const Qt=De[Ye],Rn=Ye+1<De.length,mr=Rn?De[Ye+1]:0,ne=Ye+2<De.length,ae=ne?De[Ye+2]:0;let Et=(15&mr)<<2|ae>>6,oe=63&ae;ne||(oe=64,Rn||(Et=64)),xt.push(Be[Qt>>2],Be[(3&Qt)<<4|mr>>4],Be[Et],Be[oe])}return xt.join("")},encodeString(De,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(De):this.encodeByteArray(Ze(De),me)},decodeString(De,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(De):function(De){const me=[];let Be=0,xt=0;for(;Be<De.length;){const Ye=De[Be++];if(Ye<128)me[xt++]=String.fromCharCode(Ye);else if(Ye>191&&Ye<224){const Qt=De[Be++];me[xt++]=String.fromCharCode((31&Ye)<<6|63&Qt)}else if(Ye>239&&Ye<365){const ne=((7&Ye)<<18|(63&De[Be++])<<12|(63&De[Be++])<<6|63&De[Be++])-65536;me[xt++]=String.fromCharCode(55296+(ne>>10)),me[xt++]=String.fromCharCode(56320+(1023&ne))}else{const Qt=De[Be++],Rn=De[Be++];me[xt++]=String.fromCharCode((15&Ye)<<12|(63&Qt)<<6|63&Rn)}}return me.join("")}(this.decodeStringToByteArray(De,me))},decodeStringToByteArray(De,me){this.init_();const Be=me?this.charToByteMapWebSafe_:this.charToByteMap_,xt=[];for(let Ye=0;Ye<De.length;){const Qt=Be[De.charAt(Ye++)],mr=Ye<De.length?Be[De.charAt(Ye)]:0;++Ye;const ae=Ye<De.length?Be[De.charAt(Ye)]:64;++Ye;const at=Ye<De.length?Be[De.charAt(Ye)]:64;if(++Ye,null==Qt||null==mr||null==ae||null==at)throw new Ue;xt.push(Qt<<2|mr>>4),64!==ae&&(xt.push(mr<<4&240|ae>>2),64!==at&&xt.push(ae<<6&192|at))}return xt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let De=0;De<this.ENCODED_VALS.length;De++)this.byteToCharMap_[De]=this.ENCODED_VALS.charAt(De),this.charToByteMap_[this.byteToCharMap_[De]]=De,this.byteToCharMapWebSafe_[De]=this.ENCODED_VALS_WEBSAFE.charAt(De),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[De]]=De,De>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(De)]=De,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(De)]=De)}}};class Ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const we=function(De){return function(De){const me=Ze(De);return ge.encodeByteArray(me,!0)}(De).replace(/\./g,"")},qe=function(De){try{return ge.decodeString(De,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function Bt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Rt=()=>{try{return Bt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const De=process.env.__FIREBASE_DEFAULTS__;return De?JSON.parse(De):void 0})()||(()=>{if(typeof document>"u")return;let De;try{De=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const me=De&&qe(De[1]);return me&&JSON.parse(me)})()}catch(De){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${De}`)}},St=De=>{var me,Be;return null===(Be=null===(me=Rt())||void 0===me?void 0:me.emulatorHosts)||void 0===Be?void 0:Be[De]},Ne=De=>{const me=St(De);if(!me)return;const Be=me.lastIndexOf(":");if(Be<=0||Be+1===me.length)throw new Error(`Invalid host ${me} with no separate hostname and port!`);const xt=parseInt(me.substring(Be+1),10);return"["===me[0]?[me.substring(1,Be-1),xt]:[me.substring(0,Be),xt]},ct=()=>{var De;return null===(De=Rt())||void 0===De?void 0:De.config},et=De=>{var me;return null===(me=Rt())||void 0===me?void 0:me[`_${De}`]};class Tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((me,Be)=>{this.resolve=me,this.reject=Be})}wrapCallback(me){return(Be,xt)=>{Be?this.reject(Be):this.resolve(xt),"function"==typeof me&&(this.promise.catch(()=>{}),1===me.length?me(Be):me(Be,xt))}}}function Xt(De){return De.endsWith(".cloudworkstations.dev")}function vt(De){return dt.apply(this,arguments)}function dt(){return(dt=(0,D.A)(function*(De){return(yield fetch(De,{credentials:"include"})).ok})).apply(this,arguments)}function $n(De,me){if(De.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const xt=me||"demo-project",Ye=De.iat||0,Qt=De.sub||De.user_id;if(!Qt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Rn=Object.assign({iss:`https://securetoken.google.com/${xt}`,aud:xt,iat:Ye,exp:Ye+3600,auth_time:Ye,sub:Qt,user_id:Qt,firebase:{sign_in_provider:"custom",identities:{}}},De);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(Rn)),""].join(".")}const kn={};let wn=!1;function Xe(De,me){if(typeof window>"u"||typeof document>"u"||!Xt(window.location.host)||kn[De]===me||kn[De]||wn)return;function Be(Et){return`__firebase__banner__${Et}`}kn[De]=me;const xt="__firebase__banner",Qt=function er(){const De={prod:[],emulator:[]};for(const me of Object.keys(kn))kn[me]?De.emulator.push(me):De.prod.push(me);return De}().prod.length>0;function at(){const Et=function ut(De){let me=document.getElementById(De),Be=!1;return me||(me=document.createElement("div"),me.setAttribute("id",De),Be=!0),{created:Be,element:me}}(xt),oe=Be("text"),ye=document.getElementById(oe)||document.createElement("span"),Oe=Be("learnmore"),bt=document.getElementById(Oe)||document.createElement("a"),yt=Be("preprendIcon"),ht=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(Et.created){const kt=Et.element;(function mr(Et){Et.style.display="flex",Et.style.background="#7faaf0",Et.style.position="fixed",Et.style.bottom="5px",Et.style.left="5px",Et.style.padding=".5em",Et.style.borderRadius="5px",Et.style.alignItems="center"})(kt),function Ce(Et,oe){Et.setAttribute("id",oe),Et.innerText="Learn more",Et.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",Et.setAttribute("target","__blank"),Et.style.paddingLeft="5px",Et.style.textDecoration="underline"}(bt,Oe);const tn=function ae(){const Et=document.createElement("span");return Et.style.cursor="pointer",Et.style.marginLeft="16px",Et.style.fontSize="24px",Et.innerHTML=" &times;",Et.onclick=()=>{wn=!0,function Rn(){const Et=document.getElementById(xt);Et&&Et.remove()}()},Et}();(function ne(Et,oe){Et.setAttribute("width","24"),Et.setAttribute("id",oe),Et.setAttribute("height","24"),Et.setAttribute("viewBox","0 0 24 24"),Et.setAttribute("fill","none"),Et.style.marginLeft="-6px"})(ht,yt),kt.append(ht,ye,bt,tn),document.body.appendChild(kt)}Qt?(ye.innerText="Preview backend disconnected.",ht.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(ht.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',ye.innerText="Preview backend running in this workspace."),ye.setAttribute("id",oe)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",at):at()}function en(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Ge(){var De;const me=null===(De=Rt())||void 0===De?void 0:De.forceEnvironment;if("node"===me)return!0;if("browser"===me)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function de(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function pe(){const De="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof De&&void 0!==De.id}function re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){const De=en();return De.indexOf("MSIE ")>=0||De.indexOf("Trident/")>=0}function Yt(){return!Ge()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nr(){return!Ge()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function zt(){try{return"object"==typeof indexedDB}catch{return!1}}function Qn(){return new Promise((De,me)=>{try{let Be=!0;const xt="validate-browser-context-for-indexeddb-analytics-module",Ye=self.indexedDB.open(xt);Ye.onsuccess=()=>{Ye.result.close(),Be||self.indexedDB.deleteDatabase(xt),De(!0)},Ye.onupgradeneeded=()=>{Be=!1},Ye.onerror=()=>{var Qt;me((null===(Qt=Ye.error)||void 0===Qt?void 0:Qt.message)||"")}}catch(Be){me(Be)}})}class Vn extends Error{constructor(me,Be,xt){super(Be),this.code=me,this.customData=xt,this.name="FirebaseError",Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tr.prototype.create)}}class tr{constructor(me,Be,xt){this.service=me,this.serviceName=Be,this.errors=xt}create(me,...Be){const xt=Be[0]||{},Ye=`${this.service}/${me}`,Qt=this.errors[me],Rn=Qt?function bn(De,me){return De.replace(kr,(Be,xt)=>{const Ye=me[xt];return null!=Ye?String(Ye):`<${xt}?>`})}(Qt,xt):"Error";return new Vn(Ye,`${this.serviceName}: ${Rn} (${Ye}).`,xt)}}const kr=/\{\$([^}]+)}/g;function Kn(De){for(const me in De)if(Object.prototype.hasOwnProperty.call(De,me))return!1;return!0}function si(De,me){if(De===me)return!0;const Be=Object.keys(De),xt=Object.keys(me);for(const Ye of Be){if(!xt.includes(Ye))return!1;const Qt=De[Ye],Rn=me[Ye];if(li(Qt)&&li(Rn)){if(!si(Qt,Rn))return!1}else if(Qt!==Rn)return!1}for(const Ye of xt)if(!Be.includes(Ye))return!1;return!0}function li(De){return null!==De&&"object"==typeof De}function Dr(De){const me=[];for(const[Be,xt]of Object.entries(De))Array.isArray(xt)?xt.forEach(Ye=>{me.push(encodeURIComponent(Be)+"="+encodeURIComponent(Ye))}):me.push(encodeURIComponent(Be)+"="+encodeURIComponent(xt));return me.length?"&"+me.join("&"):""}function Ei(De){const me={};return De.replace(/^\?/,"").split("&").forEach(xt=>{if(xt){const[Ye,Qt]=xt.split("=");me[decodeURIComponent(Ye)]=decodeURIComponent(Qt)}}),me}function Cr(De){const me=De.indexOf("?");if(!me)return"";const Be=De.indexOf("#",me);return De.substring(me,Be>0?Be:void 0)}function lr(De,me){const Be=new sr(De,me);return Be.subscribe.bind(Be)}class sr{constructor(me,Be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Be,this.task.then(()=>{me(this)}).catch(xt=>{this.error(xt)})}next(me){this.forEachObserver(Be=>{Be.next(me)})}error(me){this.forEachObserver(Be=>{Be.error(me)}),this.close(me)}complete(){this.forEachObserver(me=>{me.complete()}),this.close()}subscribe(me,Be,xt){let Ye;if(void 0===me&&void 0===Be&&void 0===xt)throw new Error("Missing Observer.");Ye=function hr(De,me){if("object"!=typeof De||null===De)return!1;for(const Be of me)if(Be in De&&"function"==typeof De[Be])return!0;return!1}(me,["next","error","complete"])?me:{next:me,error:Be,complete:xt},void 0===Ye.next&&(Ye.next=An),void 0===Ye.error&&(Ye.error=An),void 0===Ye.complete&&(Ye.complete=An);const Qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ye.error(this.finalError):Ye.complete()}catch{}}),this.observers.push(Ye),Qt}unsubscribeOne(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(me){if(!this.finalized)for(let Be=0;Be<this.observers.length;Be++)this.sendOne(Be,me)}sendOne(me,Be){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[me])try{Be(this.observers[me])}catch(xt){typeof console<"u"&&console.error&&console.error(xt)}})}close(me){this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function An(){}function xi(De){return De&&De._delegate?De._delegate:De}},7440:(Cn,ze,W)=>{"use strict";W.d(ze,{MW:()=>Ct,Wp:()=>Gt,XU:()=>w,gL:()=>Se});var D=W(2214),F=W(1360),Q=W(2967);class w{constructor(ct){return ct}}class Se{constructor(){return(0,D.Dk)()}}const ge=new F.nKC("angularfire2._apps"),Ue={provide:w,useFactory:function be(Ne){return Ne&&1===Ne.length?Ne[0]:new w((0,D.Sx)())},deps:[[new F.Xx1,ge]]},_e={provide:Se,deps:[[new F.Xx1,ge]]};function we(Ne){return(ct,et)=>{const Tt=et.get(F.Agw);(0,D.KO)("angularfire",Q.xv.full,"core"),(0,D.KO)("angularfire",Q.xv.full,"app"),(0,D.KO)("angular",F.xvI.full,Tt.toString());const Xt=ct.runOutsideAngular(()=>Ne(et));return new w(Xt)}}function Ct(Ne,...ct){return(0,F.EmA)([Ue,_e,{provide:ge,useFactory:we(Ne),multi:!0,deps:[F.SKi,F.zZn,Q.u0,...ct]}])}const Gt=(0,Q.S3)(D.Wp,!0)},7441:(Cn,ze,W)=>{"use strict";W.d(ze,{X:()=>D});const D=F=>F&&"number"==typeof F.length&&"function"!=typeof F},7473:(Cn,ze,W)=>{"use strict";W.d(ze,{J:()=>Se});var D=W(467),F=W(1360),Q=W(9967),w=W(3273);let Se=(()=>{class Ze{firestore=(0,F.WQX)(Q._7);constructor(){console.log("%c<<< Start NOTIFICATION service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}sendToUser(ge,Ue,_e){var we=this;return(0,D.A)(function*(){try{const qe={message:Ue,type:_e,timestamp:w.Dc.now(),read:!1},Ct=(0,Q.rJ)(we.firestore,`users/${ge}/notifications`),ft=yield(0,Q.gS)(Ct,qe);console.log("\u2705 Notificaci\xf3n enviada:",{uid:ge,message:Ue,docId:ft.id})}catch(qe){throw console.error("\u274c Error al enviar notificaci\xf3n:",qe),qe}})()}sendToAdmins(ge,Ue){var _e=this;return(0,D.A)(function*(){try{const we=(0,Q.rJ)(_e.firestore,"users"),qe=(0,Q.P)(we,(0,Q._M)("rol","==","Administrador")),Ct=yield(0,w.GG)(qe);if(Ct.empty)return void console.warn("\u26a0\ufe0f No se encontraron administradores para notificar");const ft=[];Ct.forEach(Ot=>{ft.push(_e.sendToUser(Ot.id,ge,Ue))}),yield Promise.all(ft),console.log(`\u2705 Notificaci\xf3n enviada a ${Ct.size} administradores`)}catch(we){console.error("\u274c Error al enviar notificaci\xf3n a administradores:",we)}})()}getUserNotifications(ge){const Ue=(0,Q.rJ)(this.firestore,`users/${ge}/notifications`),_e=(0,Q.P)(Ue,(0,Q.My)("timestamp","desc"));return(0,Q.xs)(_e,{idField:"id"})}markAsRead(ge,Ue){var _e=this;return(0,D.A)(function*(){try{const we=(0,w.H9)(_e.firestore,`users/${ge}/notifications/${Ue}`);yield(0,w.mZ)(we,{read:!0}),console.log("\u2705 Notificaci\xf3n marcada como le\xedda:",Ue)}catch(we){console.error("\u274c Error al marcar notificaci\xf3n como le\xedda:",we)}})()}markAllAsRead(ge){var Ue=this;return(0,D.A)(function*(){const _e=(0,Q.rJ)(Ue.firestore,`users/${ge}/notifications`),we=yield(0,w.GG)(_e),qe=(0,w.wP)(Ue.firestore);we.forEach(Ct=>{Ct.data().read||qe.update(Ct.ref,{read:!0})}),yield qe.commit(),console.log(`\u2705 Todas las notificaciones del usuario ${ge} marcadas como le\xeddas.`)})()}deleteNotification(ge,Ue){const _e=(0,w.H9)(this.firestore,`users/${ge}/notifications/${Ue}`);return(0,w.kd)(_e).then(()=>console.log(`\u{1f9f9} Notificaci\xf3n ${Ue} eliminada de Firestore`)).catch(we=>console.error("\u274c Error al eliminar notificaci\xf3n:",we))}static \u0275fac=function(Ue){return new(Ue||Ze)};static \u0275prov=F.jDH({token:Ze,factory:Ze.\u0275fac,providedIn:"root"})}return Ze})()},7643:(Cn,ze,W)=>{"use strict";W.d(ze,{$R:()=>Tr,Qq:()=>Yt}),W(467);var F=W(1360),Q=W(274),w=W(5964),Se=W(6354),Ze=W(980),be=W(5558),ge=W(7673),Ue=W(1985),_e=W(8455),we=W(9377),qe=W(9361);class Ct{}class ft{}class Ot{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(ae){ae?"string"==typeof ae?this.lazyInit=()=>{this.headers=new Map,ae.split("\n").forEach(Ce=>{const at=Ce.indexOf(":");if(at>0){const Et=Ce.slice(0,at),oe=Ce.slice(at+1).trim();this.addHeaderEntry(Et,oe)}})}:typeof Headers<"u"&&ae instanceof Headers?(this.headers=new Map,ae.forEach((Ce,at)=>{this.addHeaderEntry(at,Ce)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ae).forEach(([Ce,at])=>{this.setHeaderEntries(Ce,at)})}:this.headers=new Map}has(ae){return this.init(),this.headers.has(ae.toLowerCase())}get(ae){this.init();const Ce=this.headers.get(ae.toLowerCase());return Ce&&Ce.length>0?Ce[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ae){return this.init(),this.headers.get(ae.toLowerCase())||null}append(ae,Ce){return this.clone({name:ae,value:Ce,op:"a"})}set(ae,Ce){return this.clone({name:ae,value:Ce,op:"s"})}delete(ae,Ce){return this.clone({name:ae,value:Ce,op:"d"})}maybeSetNormalizedName(ae,Ce){this.normalizedNames.has(Ce)||this.normalizedNames.set(Ce,ae)}init(){this.lazyInit&&(this.lazyInit instanceof Ot?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ae=>this.applyUpdate(ae)),this.lazyUpdate=null))}copyFrom(ae){ae.init(),Array.from(ae.headers.keys()).forEach(Ce=>{this.headers.set(Ce,ae.headers.get(Ce)),this.normalizedNames.set(Ce,ae.normalizedNames.get(Ce))})}clone(ae){const Ce=new Ot;return Ce.lazyInit=this.lazyInit&&this.lazyInit instanceof Ot?this.lazyInit:this,Ce.lazyUpdate=(this.lazyUpdate||[]).concat([ae]),Ce}applyUpdate(ae){const Ce=ae.name.toLowerCase();switch(ae.op){case"a":case"s":let at=ae.value;if("string"==typeof at&&(at=[at]),0===at.length)return;this.maybeSetNormalizedName(ae.name,Ce);const Et=("a"===ae.op?this.headers.get(Ce):void 0)||[];Et.push(...at),this.headers.set(Ce,Et);break;case"d":const oe=ae.value;if(oe){let ye=this.headers.get(Ce);if(!ye)return;ye=ye.filter(Oe=>-1===oe.indexOf(Oe)),0===ye.length?(this.headers.delete(Ce),this.normalizedNames.delete(Ce)):this.headers.set(Ce,ye)}else this.headers.delete(Ce),this.normalizedNames.delete(Ce)}}addHeaderEntry(ae,Ce){const at=ae.toLowerCase();this.maybeSetNormalizedName(ae,at),this.headers.has(at)?this.headers.get(at).push(Ce):this.headers.set(at,[Ce])}setHeaderEntries(ae,Ce){const at=(Array.isArray(Ce)?Ce:[Ce]).map(oe=>oe.toString()),Et=ae.toLowerCase();this.headers.set(Et,at),this.maybeSetNormalizedName(ae,Et)}forEach(ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ce=>ae(this.normalizedNames.get(Ce),this.headers.get(Ce)))}}class Gt{encodeKey(ae){return St(ae)}encodeValue(ae){return St(ae)}decodeKey(ae){return decodeURIComponent(ae)}decodeValue(ae){return decodeURIComponent(ae)}}const Dt=/%(\d[a-f0-9])/gi,Rt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function St(ne){return encodeURIComponent(ne).replace(Dt,(ae,Ce)=>Rt[Ce]??ae)}function Ne(ne){return`${ne}`}class ct{map;encoder;updates=null;cloneFrom=null;constructor(ae={}){if(this.encoder=ae.encoder||new Gt,ae.fromString){if(ae.fromObject)throw new F.wOt(2805,!1);this.map=function hn(ne,ae){const Ce=new Map;return ne.length>0&&ne.replace(/^\?/,"").split("&").forEach(Et=>{const oe=Et.indexOf("="),[ye,Oe]=-1==oe?[ae.decodeKey(Et),""]:[ae.decodeKey(Et.slice(0,oe)),ae.decodeValue(Et.slice(oe+1))],bt=Ce.get(ye)||[];bt.push(Oe),Ce.set(ye,bt)}),Ce}(ae.fromString,this.encoder)}else ae.fromObject?(this.map=new Map,Object.keys(ae.fromObject).forEach(Ce=>{const at=ae.fromObject[Ce],Et=Array.isArray(at)?at.map(Ne):[Ne(at)];this.map.set(Ce,Et)})):this.map=null}has(ae){return this.init(),this.map.has(ae)}get(ae){this.init();const Ce=this.map.get(ae);return Ce?Ce[0]:null}getAll(ae){return this.init(),this.map.get(ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ae,Ce){return this.clone({param:ae,value:Ce,op:"a"})}appendAll(ae){const Ce=[];return Object.keys(ae).forEach(at=>{const Et=ae[at];Array.isArray(Et)?Et.forEach(oe=>{Ce.push({param:at,value:oe,op:"a"})}):Ce.push({param:at,value:Et,op:"a"})}),this.clone(Ce)}set(ae,Ce){return this.clone({param:ae,value:Ce,op:"s"})}delete(ae,Ce){return this.clone({param:ae,value:Ce,op:"d"})}toString(){return this.init(),this.keys().map(ae=>{const Ce=this.encoder.encodeKey(ae);return this.map.get(ae).map(at=>Ce+"="+this.encoder.encodeValue(at)).join("&")}).filter(ae=>""!==ae).join("&")}clone(ae){const Ce=new ct({encoder:this.encoder});return Ce.cloneFrom=this.cloneFrom||this,Ce.updates=(this.updates||[]).concat(ae),Ce}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ae=>this.map.set(ae,this.cloneFrom.map.get(ae))),this.updates.forEach(ae=>{switch(ae.op){case"a":case"s":const Ce=("a"===ae.op?this.map.get(ae.param):void 0)||[];Ce.push(Ne(ae.value)),this.map.set(ae.param,Ce);break;case"d":if(void 0===ae.value){this.map.delete(ae.param);break}{let at=this.map.get(ae.param)||[];const Et=at.indexOf(Ne(ae.value));-1!==Et&&at.splice(Et,1),at.length>0?this.map.set(ae.param,at):this.map.delete(ae.param)}}}),this.cloneFrom=this.updates=null)}}class Tt{map=new Map;set(ae,Ce){return this.map.set(ae,Ce),this}get(ae){return this.map.has(ae)||this.map.set(ae,ae.defaultValue()),this.map.get(ae)}delete(ae){return this.map.delete(ae),this}has(ae){return this.map.has(ae)}keys(){return this.map.keys()}}function vt(ne){return typeof ArrayBuffer<"u"&&ne instanceof ArrayBuffer}function dt(ne){return typeof Blob<"u"&&ne instanceof Blob}function $n(ne){return typeof FormData<"u"&&ne instanceof FormData}const er="Content-Type",wn="X-Request-URL",Xe="text/plain",en="application/json",Pt=`${en}, ${Xe}, */*`;class Ge{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(ae,Ce,at,Et){let oe;if(this.url=Ce,this.method=ae.toUpperCase(),function Xt(ne){switch(ne){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Et?(this.body=void 0!==at?at:null,oe=Et):oe=at,oe&&(this.reportProgress=!!oe.reportProgress,this.withCredentials=!!oe.withCredentials,oe.responseType&&(this.responseType=oe.responseType),oe.headers&&(this.headers=oe.headers),oe.context&&(this.context=oe.context),oe.params&&(this.params=oe.params),this.transferCache=oe.transferCache),this.headers??=new Ot,this.context??=new Tt,this.params){const ye=this.params.toString();if(0===ye.length)this.urlWithParams=Ce;else{const Oe=Ce.indexOf("?");this.urlWithParams=Ce+(-1===Oe?"?":Oe<Ce.length-1?"&":"")+ye}}else this.params=new ct,this.urlWithParams=Ce}serializeBody(){return null===this.body?null:"string"==typeof this.body||vt(this.body)||dt(this.body)||$n(this.body)||function kn(ne){return typeof URLSearchParams<"u"&&ne instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ct?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$n(this.body)?null:dt(this.body)?this.body.type||null:vt(this.body)?null:"string"==typeof this.body?Xe:this.body instanceof ct?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?en:null}clone(ae={}){const Ce=ae.method||this.method,at=ae.url||this.url,Et=ae.responseType||this.responseType,oe=ae.transferCache??this.transferCache,ye=void 0!==ae.body?ae.body:this.body,Oe=ae.withCredentials??this.withCredentials,bt=ae.reportProgress??this.reportProgress;let yt=ae.headers||this.headers,ht=ae.params||this.params;const kt=ae.context??this.context;return void 0!==ae.setHeaders&&(yt=Object.keys(ae.setHeaders).reduce((tn,Un)=>tn.set(Un,ae.setHeaders[Un]),yt)),ae.setParams&&(ht=Object.keys(ae.setParams).reduce((tn,Un)=>tn.set(Un,ae.setParams[Un]),ht)),new Ge(Ce,at,ye,{params:ht,headers:yt,context:kt,reportProgress:bt,responseType:Et,withCredentials:Oe,transferCache:oe})}}var Z=function(ne){return ne[ne.Sent=0]="Sent",ne[ne.UploadProgress=1]="UploadProgress",ne[ne.ResponseHeader=2]="ResponseHeader",ne[ne.DownloadProgress=3]="DownloadProgress",ne[ne.Response=4]="Response",ne[ne.User=5]="User",ne}(Z||{});class le{headers;status;statusText;url;ok;type;constructor(ae,Ce=200,at="OK"){this.headers=ae.headers||new Ot,this.status=void 0!==ae.status?ae.status:Ce,this.statusText=ae.statusText||at,this.url=ae.url||null,this.ok=this.status>=200&&this.status<300}}class de extends le{constructor(ae={}){super(ae)}type=Z.ResponseHeader;clone(ae={}){return new de({headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class pe extends le{body;constructor(ae={}){super(ae),this.body=void 0!==ae.body?ae.body:null}type=Z.Response;clone(ae={}){return new pe({body:void 0!==ae.body?ae.body:this.body,headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class re extends le{name="HttpErrorResponse";message;error;ok=!1;constructor(ae){super(ae,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ae.url||"(unknown url)"}`:`Http failure response for ${ae.url||"(unknown url)"}: ${ae.status} ${ae.statusText}`,this.error=ae.error||null}}function rn(ne,ae){return{body:ae,headers:ne.headers,context:ne.context,observe:ne.observe,params:ne.params,reportProgress:ne.reportProgress,responseType:ne.responseType,withCredentials:ne.withCredentials,transferCache:ne.transferCache}}let Yt=(()=>{class ne{handler;constructor(Ce){this.handler=Ce}request(Ce,at,Et={}){let oe;if(Ce instanceof Ge)oe=Ce;else{let bt,yt;bt=Et.headers instanceof Ot?Et.headers:new Ot(Et.headers),Et.params&&(yt=Et.params instanceof ct?Et.params:new ct({fromObject:Et.params})),oe=new Ge(Ce,at,void 0!==Et.body?Et.body:null,{headers:bt,context:Et.context,params:yt,reportProgress:Et.reportProgress,responseType:Et.responseType||"json",withCredentials:Et.withCredentials,transferCache:Et.transferCache})}const ye=(0,ge.of)(oe).pipe((0,Q.H)(bt=>this.handler.handle(bt)));if(Ce instanceof Ge||"events"===Et.observe)return ye;const Oe=ye.pipe((0,w.p)(bt=>bt instanceof pe));switch(Et.observe||"body"){case"body":switch(oe.responseType){case"arraybuffer":return Oe.pipe((0,Se.T)(bt=>{if(null!==bt.body&&!(bt.body instanceof ArrayBuffer))throw new F.wOt(2806,!1);return bt.body}));case"blob":return Oe.pipe((0,Se.T)(bt=>{if(null!==bt.body&&!(bt.body instanceof Blob))throw new F.wOt(2807,!1);return bt.body}));case"text":return Oe.pipe((0,Se.T)(bt=>{if(null!==bt.body&&"string"!=typeof bt.body)throw new F.wOt(2808,!1);return bt.body}));default:return Oe.pipe((0,Se.T)(bt=>bt.body))}case"response":return Oe;default:throw new F.wOt(2809,!1)}}delete(Ce,at={}){return this.request("DELETE",Ce,at)}get(Ce,at={}){return this.request("GET",Ce,at)}head(Ce,at={}){return this.request("HEAD",Ce,at)}jsonp(Ce,at){return this.request("JSONP",Ce,{params:(new ct).append(at,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ce,at={}){return this.request("OPTIONS",Ce,at)}patch(Ce,at,Et={}){return this.request("PATCH",Ce,rn(Et,at))}post(Ce,at,Et={}){return this.request("POST",Ce,rn(Et,at))}put(Ce,at,Et={}){return this.request("PUT",Ce,rn(Et,at))}static \u0275fac=function(at){return new(at||ne)(F.KVO(Ct))};static \u0275prov=F.jDH({token:ne,factory:ne.\u0275fac})}return ne})();const Qn=new F.nKC("");function bn(ne,ae){return ae(ne)}const fn=new F.nKC(""),fr=new F.nKC(""),on=new F.nKC("",{providedIn:"root",factory:()=>!0});let st=(()=>{class ne extends Ct{backend;injector;chain=null;pendingTasks=(0,F.WQX)(F.Ua0);contributeToStability=(0,F.WQX)(on);constructor(Ce,at){super(),this.backend=Ce,this.injector=at}handle(Ce){if(null===this.chain){const at=Array.from(new Set([...this.injector.get(fn),...this.injector.get(fr,[])]));this.chain=at.reduceRight((Et,oe)=>function Pr(ne,ae,Ce){return(at,Et)=>(0,F.N4e)(Ce,()=>ae(at,oe=>ne(oe,Et)))}(Et,oe,this.injector),bn)}if(this.contributeToStability){const at=this.pendingTasks.add();return this.chain(Ce,Et=>this.backend.handle(Et)).pipe((0,Ze.j)(()=>this.pendingTasks.remove(at)))}return this.chain(Ce,at=>this.backend.handle(at))}static \u0275fac=function(at){return new(at||ne)(F.KVO(ft),F.KVO(F.uvJ))};static \u0275prov=F.jDH({token:ne,factory:ne.\u0275fac})}return ne})();const sr=/^\)\]\}',?\n/,mi=RegExp(`^${wn}:`,"m");let An=(()=>{class ne{xhrFactory;constructor(Ce){this.xhrFactory=Ce}handle(Ce){if("JSONP"===Ce.method)throw new F.wOt(-2800,!1);const at=this.xhrFactory;return(at.\u0275loadImpl?(0,_e.H)(at.\u0275loadImpl()):(0,ge.of)(null)).pipe((0,be.n)(()=>new Ue.c(oe=>{const ye=at.build();if(ye.open(Ce.method,Ce.urlWithParams),Ce.withCredentials&&(ye.withCredentials=!0),Ce.headers.forEach((qn,ar)=>ye.setRequestHeader(qn,ar.join(","))),Ce.headers.has("Accept")||ye.setRequestHeader("Accept",Pt),!Ce.headers.has(er)){const qn=Ce.detectContentTypeHeader();null!==qn&&ye.setRequestHeader(er,qn)}if(Ce.responseType){const qn=Ce.responseType.toLowerCase();ye.responseType="json"!==qn?qn:"text"}const Oe=Ce.serializeBody();let bt=null;const yt=()=>{if(null!==bt)return bt;const qn=ye.statusText||"OK",ar=new Ot(ye.getAllResponseHeaders()),wi=function hr(ne){return"responseURL"in ne&&ne.responseURL?ne.responseURL:mi.test(ne.getAllResponseHeaders())?ne.getResponseHeader(wn):null}(ye)||Ce.url;return bt=new de({headers:ar,status:ye.status,statusText:qn,url:wi}),bt},ht=()=>{let{headers:qn,status:ar,statusText:wi,url:Ri}=yt(),ve=null;204!==ar&&(ve=typeof ye.response>"u"?ye.responseText:ye.response),0===ar&&(ar=ve?200:0);let Ve=ar>=200&&ar<300;if("json"===Ce.responseType&&"string"==typeof ve){const Qe=ve;ve=ve.replace(sr,"");try{ve=""!==ve?JSON.parse(ve):null}catch(Vt){ve=Qe,Ve&&(Ve=!1,ve={error:Vt,text:ve})}}Ve?(oe.next(new pe({body:ve,headers:qn,status:ar,statusText:wi,url:Ri||void 0})),oe.complete()):oe.error(new re({error:ve,headers:qn,status:ar,statusText:wi,url:Ri||void 0}))},kt=qn=>{const{url:ar}=yt(),wi=new re({error:qn,status:ye.status||0,statusText:ye.statusText||"Unknown Error",url:ar||void 0});oe.error(wi)};let tn=!1;const Un=qn=>{tn||(oe.next(yt()),tn=!0);let ar={type:Z.DownloadProgress,loaded:qn.loaded};qn.lengthComputable&&(ar.total=qn.total),"text"===Ce.responseType&&ye.responseText&&(ar.partialText=ye.responseText),oe.next(ar)},cn=qn=>{let ar={type:Z.UploadProgress,loaded:qn.loaded};qn.lengthComputable&&(ar.total=qn.total),oe.next(ar)};return ye.addEventListener("load",ht),ye.addEventListener("error",kt),ye.addEventListener("timeout",kt),ye.addEventListener("abort",kt),Ce.reportProgress&&(ye.addEventListener("progress",Un),null!==Oe&&ye.upload&&ye.upload.addEventListener("progress",cn)),ye.send(Oe),oe.next({type:Z.Sent}),()=>{ye.removeEventListener("error",kt),ye.removeEventListener("abort",kt),ye.removeEventListener("load",ht),ye.removeEventListener("timeout",kt),Ce.reportProgress&&(ye.removeEventListener("progress",Un),null!==Oe&&ye.upload&&ye.upload.removeEventListener("progress",cn)),ye.readyState!==ye.DONE&&ye.abort()}})))}static \u0275fac=function(at){return new(at||ne)(F.KVO(we.N0))};static \u0275prov=F.jDH({token:ne,factory:ne.\u0275fac})}return ne})();const bi=new F.nKC(""),Gn=new F.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Le=new F.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ar{}let Zi=(()=>{class ne{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(Ce,at){this.doc=Ce,this.cookieName=at}getToken(){const Ce=this.doc.cookie||"";return Ce!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,we.bS)(Ce,this.cookieName),this.lastCookieString=Ce),this.lastToken}static \u0275fac=function(at){return new(at||ne)(F.KVO(qe.q),F.KVO(Gn))};static \u0275prov=F.jDH({token:ne,factory:ne.\u0275fac})}return ne})();function ai(ne,ae){const Ce=ne.url.toLowerCase();if(!(0,F.WQX)(bi)||"GET"===ne.method||"HEAD"===ne.method||Ce.startsWith("http://")||Ce.startsWith("https://"))return ae(ne);const at=(0,F.WQX)(Ar).getToken(),Et=(0,F.WQX)(Le);return null!=at&&!ne.headers.has(Et)&&(ne=ne.clone({headers:ne.headers.set(Et,at)})),ae(ne)}function Tr(...ne){const ae=[Yt,An,st,{provide:Ct,useExisting:st},{provide:ft,useFactory:()=>(0,F.WQX)(Qn,{optional:!0})??(0,F.WQX)(An)},{provide:fn,useValue:ai,multi:!0},{provide:bi,useValue:!0},{provide:Ar,useClass:Zi}];for(const Ce of ne)ae.push(...Ce.\u0275providers);return(0,F.EmA)(ae)}},7673:(Cn,ze,W)=>{"use strict";W.d(ze,{of:()=>Q});var D=W(9326),F=W(8455);function Q(...w){const Se=(0,D.lI)(w);return(0,F.H)(w,Se)}},7707:(Cn,ze,W)=>{"use strict";W.d(ze,{Ms:()=>Bt,vU:()=>qe});var D=W(8071),F=W(8359),Q=W(1026),w=W(5334),Se=W(5343);const Ze=Ue("C",void 0,void 0);function Ue(St,Ne,ct){return{kind:St,value:Ne,error:ct}}var _e=W(9270),we=W(9786);class qe extends F.yU{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,F.Uv)(Ne)&&Ne.add(this)):this.destination=Rt}static create(Ne,ct,et){return new Bt(Ne,ct,et)}next(Ne){this.isStopped?Dt(function ge(St){return Ue("N",St,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?Dt(function be(St){return Ue("E",void 0,St)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?Dt(Ze,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ct=Function.prototype.bind;function ft(St,Ne){return Ct.call(St,Ne)}class Ot{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:ct}=this;if(ct.next)try{ct.next(Ne)}catch(et){Gt(et)}}error(Ne){const{partialObserver:ct}=this;if(ct.error)try{ct.error(Ne)}catch(et){Gt(et)}else Gt(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(ct){Gt(ct)}}}class Bt extends qe{constructor(Ne,ct,et){let Tt;if(super(),(0,D.T)(Ne)||!Ne)Tt={next:Ne??void 0,error:ct??void 0,complete:et??void 0};else{let Xt;this&&Q.$.useDeprecatedNextContext?(Xt=Object.create(Ne),Xt.unsubscribe=()=>this.unsubscribe(),Tt={next:Ne.next&&ft(Ne.next,Xt),error:Ne.error&&ft(Ne.error,Xt),complete:Ne.complete&&ft(Ne.complete,Xt)}):Tt=Ne}this.destination=new Ot(Tt)}}function Gt(St){Q.$.useDeprecatedSynchronousErrorHandling?(0,we.l)(St):(0,w.m)(St)}function Dt(St,Ne){const{onStoppedNotification:ct}=Q.$;ct&&_e.f.setTimeout(()=>ct(St,Ne))}const Rt={closed:!0,next:Se.l,error:function hn(St){throw St},complete:Se.l}},7852:(Cn,ze,W)=>{"use strict";W.d(ze,{MF:()=>An,j6:()=>li,xZ:()=>Ei,om:()=>si,Sx:()=>Gn,Dk:()=>Yi,Wp:()=>bi,KO:()=>Zi});var D=W(467),F=W(1362),Q=W(8041),w=W(6858);let Ze,be;const _e=new WeakMap,we=new WeakMap,qe=new WeakMap,Ct=new WeakMap,ft=new WeakMap;let Gt={get(oe,ye,Oe){if(oe instanceof IDBTransaction){if("done"===ye)return we.get(oe);if("objectStoreNames"===ye)return oe.objectStoreNames||qe.get(oe);if("store"===ye)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return St(oe[ye])},set:(oe,ye,Oe)=>(oe[ye]=Oe,!0),has:(oe,ye)=>oe instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in oe};function Rt(oe){return"function"==typeof oe?function Dt(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ue(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...ye){return oe.apply(Ne(this),ye),St(_e.get(this))}:function(...ye){return St(oe.apply(Ne(this),ye))}:function(ye,...Oe){const bt=oe.call(Ne(this),ye,...Oe);return qe.set(bt,ye.sort?ye.sort():[ye]),St(bt)}}(oe):(oe instanceof IDBTransaction&&function Bt(oe){if(we.has(oe))return;const ye=new Promise((Oe,bt)=>{const yt=()=>{oe.removeEventListener("complete",ht),oe.removeEventListener("error",kt),oe.removeEventListener("abort",kt)},ht=()=>{Oe(),yt()},kt=()=>{bt(oe.error||new DOMException("AbortError","AbortError")),yt()};oe.addEventListener("complete",ht),oe.addEventListener("error",kt),oe.addEventListener("abort",kt)});we.set(oe,ye)}(oe),((oe,ye)=>ye.some(Oe=>oe instanceof Oe))(oe,function ge(){return Ze||(Ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,Gt):oe)}function St(oe){if(oe instanceof IDBRequest)return function Ot(oe){const ye=new Promise((Oe,bt)=>{const yt=()=>{oe.removeEventListener("success",ht),oe.removeEventListener("error",kt)},ht=()=>{Oe(St(oe.result)),yt()},kt=()=>{bt(oe.error),yt()};oe.addEventListener("success",ht),oe.addEventListener("error",kt)});return ye.then(Oe=>{Oe instanceof IDBCursor&&_e.set(Oe,oe)}).catch(()=>{}),ft.set(ye,oe),ye}(oe);if(Ct.has(oe))return Ct.get(oe);const ye=Rt(oe);return ye!==oe&&(Ct.set(oe,ye),ft.set(ye,oe)),ye}const Ne=oe=>ft.get(oe),Tt=["get","getKey","getAll","getAllKeys","count"],Xt=["put","add","delete","clear"],vt=new Map;function dt(oe,ye){if(!(oe instanceof IDBDatabase)||ye in oe||"string"!=typeof ye)return;if(vt.get(ye))return vt.get(ye);const Oe=ye.replace(/FromIndex$/,""),bt=ye!==Oe,yt=Xt.includes(Oe);if(!(Oe in(bt?IDBIndex:IDBObjectStore).prototype)||!yt&&!Tt.includes(Oe))return;const ht=function(){var kt=(0,D.A)(function*(tn,...Un){const cn=this.transaction(tn,yt?"readwrite":"readonly");let qn=cn.store;return bt&&(qn=qn.index(Un.shift())),(yield Promise.all([qn[Oe](...Un),yt&&cn.done]))[0]});return function(Un){return kt.apply(this,arguments)}}();return vt.set(ye,ht),ht}!function hn(oe){Gt=oe(Gt)}(oe=>({...oe,get:(ye,Oe,bt)=>dt(ye,Oe)||oe.get(ye,Oe,bt),has:(ye,Oe)=>!!dt(ye,Oe)||oe.has(ye,Oe)}));class $n{constructor(ye){this.container=ye}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function kn(oe){const ye=oe.getComponent();return"VERSION"===ye?.type}(Oe)){const bt=Oe.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(Oe=>Oe).join(" ")}}const er="@firebase/app",wn=new Q.Vy("@firebase/app"),Xe="@firebase/app-compat",en="@firebase/analytics-compat",Pt="@firebase/analytics",Ge="@firebase/app-check-compat",Z="@firebase/app-check",le="@firebase/auth",de="@firebase/auth-compat",pe="@firebase/database",re="@firebase/data-connect",he="@firebase/database-compat",Ke="@firebase/functions",gt="@firebase/functions-compat",rn="@firebase/installations",Yt="@firebase/installations-compat",nr="@firebase/messaging",zt="@firebase/messaging-compat",Qn="@firebase/performance",Hn="@firebase/performance-compat",Kt="@firebase/remote-config",Vn="@firebase/remote-config-compat",tr="@firebase/storage",bn="@firebase/storage-compat",kr="@firebase/firestore",Pr="@firebase/ai",Si="@firebase/firestore-compat",fn="firebase",on="[DEFAULT]",Xi={[er]:"fire-core",[Xe]:"fire-core-compat",[Pt]:"fire-analytics",[en]:"fire-analytics-compat",[Z]:"fire-app-check",[Ge]:"fire-app-check-compat",[le]:"fire-auth",[de]:"fire-auth-compat",[pe]:"fire-rtdb",[re]:"fire-data-connect",[he]:"fire-rtdb-compat",[Ke]:"fire-fn",[gt]:"fire-fn-compat",[rn]:"fire-iid",[Yt]:"fire-iid-compat",[nr]:"fire-fcm",[zt]:"fire-fcm-compat",[Qn]:"fire-perf",[Hn]:"fire-perf-compat",[Kt]:"fire-rc",[Vn]:"fire-rc-compat",[tr]:"fire-gcs",[bn]:"fire-gcs-compat",[kr]:"fire-fst",[Si]:"fire-fst-compat",[Pr]:"fire-vertex","fire-js":"fire-js",[fn]:"fire-js-all"},Nr=new Map,st=new Map,Ir=new Map;function Kn(oe,ye){try{oe.container.addComponent(ye)}catch(Oe){wn.debug(`Component ${ye.name} failed to register with FirebaseApp ${oe.name}`,Oe)}}function si(oe){const ye=oe.name;if(Ir.has(ye))return wn.debug(`There were multiple attempts to register component ${ye}.`),!1;Ir.set(ye,oe);for(const Oe of Nr.values())Kn(Oe,oe);for(const Oe of st.values())Kn(Oe,oe);return!0}function li(oe,ye){const Oe=oe.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),oe.container.getProvider(ye)}function Ei(oe){return null!=oe&&void 0!==oe.settings}const lr=new w.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class sr{constructor(ye,Oe,bt){this._isDeleted=!1,this._options=Object.assign({},ye),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new F.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ye){this._isDeleted=ye}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const An="11.8.0";function bi(oe,ye={}){let Oe=oe;"object"!=typeof ye&&(ye={name:ye});const bt=Object.assign({name:on,automaticDataCollectionEnabled:!0},ye),yt=bt.name;if("string"!=typeof yt||!yt)throw lr.create("bad-app-name",{appName:String(yt)});if(Oe||(Oe=(0,w.T9)()),!Oe)throw lr.create("no-options");const ht=Nr.get(yt);if(ht){if((0,w.bD)(Oe,ht.options)&&(0,w.bD)(bt,ht.config))return ht;throw lr.create("duplicate-app",{appName:yt})}const kt=new F.h1(yt);for(const Un of Ir.values())kt.addComponent(Un);const tn=new sr(Oe,bt,kt);return Nr.set(yt,tn),tn}function Gn(oe=on){const ye=Nr.get(oe);if(!ye&&oe===on&&(0,w.T9)())return bi();if(!ye)throw lr.create("no-app",{appName:oe});return ye}function Yi(){return Array.from(Nr.values())}function Zi(oe,ye,Oe){var bt;let yt=null!==(bt=Xi[oe])&&void 0!==bt?bt:oe;Oe&&(yt+=`-${Oe}`);const ht=yt.match(/\s|\//),kt=ye.match(/\s|\//);if(ht||kt){const tn=[`Unable to register library "${yt}" with version "${ye}":`];return ht&&tn.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),ht&&kt&&tn.push("and"),kt&&tn.push(`version name "${ye}" contains illegal characters (whitespace or "/")`),void wn.warn(tn.join(" "))}si(new F.uA(`${yt}-version`,()=>({library:yt,version:ye}),"VERSION"))}const Tr="firebase-heartbeat-store";let Ui=null;function Bi(){return Ui||(Ui=function ct(oe,ye,{blocked:Oe,upgrade:bt,blocking:yt,terminated:ht}={}){const kt=indexedDB.open(oe,ye),tn=St(kt);return bt&&kt.addEventListener("upgradeneeded",Un=>{bt(St(kt.result),Un.oldVersion,Un.newVersion,St(kt.transaction),Un)}),Oe&&kt.addEventListener("blocked",Un=>Oe(Un.oldVersion,Un.newVersion,Un)),tn.then(Un=>{ht&&Un.addEventListener("close",()=>ht()),yt&&Un.addEventListener("versionchange",cn=>yt(cn.oldVersion,cn.newVersion,cn))}).catch(()=>{}),tn}("firebase-heartbeat-database",1,{upgrade:(oe,ye)=>{if(0===ye)try{oe.createObjectStore(Tr)}catch(Oe){console.warn(Oe)}}}).catch(oe=>{throw lr.create("idb-open",{originalErrorMessage:oe.message})})),Ui}function De(){return(De=(0,D.A)(function*(oe){try{const Oe=(yield Bi()).transaction(Tr),bt=yield Oe.objectStore(Tr).get(xt(oe));return yield Oe.done,bt}catch(ye){if(ye instanceof w.g)wn.warn(ye.message);else{const Oe=lr.create("idb-get",{originalErrorMessage:ye?.message});wn.warn(Oe.message)}}})).apply(this,arguments)}function me(oe,ye){return Be.apply(this,arguments)}function Be(){return(Be=(0,D.A)(function*(oe,ye){try{const bt=(yield Bi()).transaction(Tr,"readwrite");yield bt.objectStore(Tr).put(ye,xt(oe)),yield bt.done}catch(Oe){if(Oe instanceof w.g)wn.warn(Oe.message);else{const bt=lr.create("idb-set",{originalErrorMessage:Oe?.message});wn.warn(bt.message)}}})).apply(this,arguments)}function xt(oe){return`${oe.name}!${oe.options.appId}`}class Rn{constructor(ye){this.container=ye,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new ae(Oe),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var ye=this;return(0,D.A)(function*(){var Oe,bt;try{const ht=ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=mr();if(null==(null===(Oe=ye._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)&&(ye._heartbeatsCache=yield ye._heartbeatsCachePromise,null==(null===(bt=ye._heartbeatsCache)||void 0===bt?void 0:bt.heartbeats))||ye._heartbeatsCache.lastSentHeartbeatDate===kt||ye._heartbeatsCache.heartbeats.some(tn=>tn.date===kt))return;if(ye._heartbeatsCache.heartbeats.push({date:kt,agent:ht}),ye._heartbeatsCache.heartbeats.length>30){const tn=function at(oe){if(0===oe.length)return-1;let ye=0,Oe=oe[0].date;for(let bt=1;bt<oe.length;bt++)oe[bt].date<Oe&&(Oe=oe[bt].date,ye=bt);return ye}(ye._heartbeatsCache.heartbeats);ye._heartbeatsCache.heartbeats.splice(tn,1)}return ye._storage.overwrite(ye._heartbeatsCache)}catch(yt){wn.warn(yt)}})()}getHeartbeatsHeader(){var ye=this;return(0,D.A)(function*(){var Oe;try{if(null===ye._heartbeatsCache&&(yield ye._heartbeatsCachePromise),null==(null===(Oe=ye._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)||0===ye._heartbeatsCache.heartbeats.length)return"";const bt=mr(),{heartbeatsToSend:yt,unsentEntries:ht}=function ne(oe,ye=1024){const Oe=[];let bt=oe.slice();for(const yt of oe){const ht=Oe.find(kt=>kt.agent===yt.agent);if(ht){if(ht.dates.push(yt.date),Ce(Oe)>ye){ht.dates.pop();break}}else if(Oe.push({agent:yt.agent,dates:[yt.date]}),Ce(Oe)>ye){Oe.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:bt}}(ye._heartbeatsCache.heartbeats),kt=(0,w.Uj)(JSON.stringify({version:2,heartbeats:yt}));return ye._heartbeatsCache.lastSentHeartbeatDate=bt,ht.length>0?(ye._heartbeatsCache.heartbeats=ht,yield ye._storage.overwrite(ye._heartbeatsCache)):(ye._heartbeatsCache.heartbeats=[],ye._storage.overwrite(ye._heartbeatsCache)),kt}catch(bt){return wn.warn(bt),""}})()}}function mr(){return(new Date).toISOString().substring(0,10)}class ae{constructor(ye){this.app=ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,D.A)(function*(){return!!(0,w.zW)()&&(0,w.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ye=this;return(0,D.A)(function*(){if(yield ye._canUseIndexedDBPromise){const bt=yield function xi(oe){return De.apply(this,arguments)}(ye.app);return bt?.heartbeats?bt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ye){var Oe=this;return(0,D.A)(function*(){var bt;if(yield Oe._canUseIndexedDBPromise){const ht=yield Oe.read();return me(Oe.app,{lastSentHeartbeatDate:null!==(bt=ye.lastSentHeartbeatDate)&&void 0!==bt?bt:ht.lastSentHeartbeatDate,heartbeats:ye.heartbeats})}})()}add(ye){var Oe=this;return(0,D.A)(function*(){var bt;if(yield Oe._canUseIndexedDBPromise){const ht=yield Oe.read();return me(Oe.app,{lastSentHeartbeatDate:null!==(bt=ye.lastSentHeartbeatDate)&&void 0!==bt?bt:ht.lastSentHeartbeatDate,heartbeats:[...ht.heartbeats,...ye.heartbeats]})}})()}}function Ce(oe){return(0,w.Uj)(JSON.stringify({version:2,heartbeats:oe})).length}!function Et(oe){si(new F.uA("platform-logger",ye=>new $n(ye),"PRIVATE")),si(new F.uA("heartbeat",ye=>new Rn(ye),"PRIVATE")),Zi(er,"0.13.0",oe),Zi(er,"0.13.0","esm2017"),Zi("fire-js","")}("")},7908:(Cn,ze,W)=>{"use strict";function D(F,Q){if(F){const w=F.indexOf(Q);0<=w&&F.splice(w,1)}}W.d(ze,{o:()=>D})},7953:(Cn,ze,W)=>{"use strict";W.d(ze,{T:()=>F});var D=W(8071);function F(Q){return Symbol.asyncIterator&&(0,D.T)(Q?.[Symbol.asyncIterator])}},8032:function(Cn){Cn.exports=function(){"use strict";var ze={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const D=P=>{const N={};for(const $ in P)N[P[$]]="swal2-"+P[$];return N},F=D(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Q=D(["success","warning","info","question","error"]),w="SweetAlert2:",Ze=P=>P.charAt(0).toUpperCase()+P.slice(1),be=P=>{console.warn(`${w} ${"object"==typeof P?P.join(" "):P}`)},ge=P=>{console.error(`${w} ${P}`)},Ue=[],we=(P,N)=>{(P=>{Ue.includes(P)||(Ue.push(P),be(P))})(`"${P}" is deprecated and will be removed in the next major release. Please use "${N}" instead.`)},qe=P=>"function"==typeof P?P():P,Ct=P=>P&&"function"==typeof P.toPromise,ft=P=>Ct(P)?P.toPromise():Promise.resolve(P),Ot=P=>P&&Promise.resolve(P)===P,Bt=()=>document.body.querySelector(`.${F.container}`),Gt=P=>{const N=Bt();return N?N.querySelector(P):null},hn=P=>Gt(`.${P}`),Dt=()=>hn(F.popup),Rt=()=>hn(F.icon),Ne=()=>hn(F.title),ct=()=>hn(F["html-container"]),et=()=>hn(F.image),Tt=()=>hn(F["progress-steps"]),Xt=()=>hn(F["validation-message"]),vt=()=>Gt(`.${F.actions} .${F.confirm}`),dt=()=>Gt(`.${F.actions} .${F.deny}`),kn=()=>Gt(`.${F.loader}`),er=()=>Gt(`.${F.actions} .${F.cancel}`),ut=()=>hn(F.actions),wn=()=>hn(F.footer),Xe=()=>hn(F["timer-progress-bar"]),en=()=>hn(F.close),Ge=()=>{const P=Array.from(Dt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(($,Ae)=>{const Nt=parseInt($.getAttribute("tabindex")),Sn=parseInt(Ae.getAttribute("tabindex"));return Nt>Sn?1:Nt<Sn?-1:0}),N=Array.from(Dt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter($=>"-1"!==$.getAttribute("tabindex"));return(P=>{const N=[];for(let $=0;$<P.length;$++)-1===N.indexOf(P[$])&&N.push(P[$]);return N})(P.concat(N)).filter($=>Pr($))},Z=()=>he(document.body,F.shown)&&!he(document.body,F["toast-shown"])&&!he(document.body,F["no-backdrop"]),le=()=>Dt()&&he(Dt(),F.toast),pe={previousBodyPadding:null},re=(P,N)=>{if(P.textContent="",N){const Ae=(new DOMParser).parseFromString(N,"text/html");Array.from(Ae.querySelector("head").childNodes).forEach(Nt=>{P.appendChild(Nt)}),Array.from(Ae.querySelector("body").childNodes).forEach(Nt=>{Nt instanceof HTMLVideoElement||Nt instanceof HTMLAudioElement?P.appendChild(Nt.cloneNode(!0)):P.appendChild(Nt)})}},he=(P,N)=>{if(!N)return!1;const $=N.split(/\s+/);for(let Ae=0;Ae<$.length;Ae++)if(!P.classList.contains($[Ae]))return!1;return!0},gt=(P,N,$)=>{if(((P,N)=>{Array.from(P.classList).forEach($=>{!Object.values(F).includes($)&&!Object.values(Q).includes($)&&!Object.values(N.showClass).includes($)&&P.classList.remove($)})})(P,N),N.customClass&&N.customClass[$]){if("string"!=typeof N.customClass[$]&&!N.customClass[$].forEach)return void be(`Invalid type of customClass.${$}! Expected string or iterable object, got "${typeof N.customClass[$]}"`);zt(P,N.customClass[$])}},rn=(P,N)=>{if(!N)return null;switch(N){case"select":case"textarea":case"file":return P.querySelector(`.${F.popup} > .${F[N]}`);case"checkbox":return P.querySelector(`.${F.popup} > .${F.checkbox} input`);case"radio":return P.querySelector(`.${F.popup} > .${F.radio} input:checked`)||P.querySelector(`.${F.popup} > .${F.radio} input:first-child`);case"range":return P.querySelector(`.${F.popup} > .${F.range} input`);default:return P.querySelector(`.${F.popup} > .${F.input}`)}},Yt=P=>{if(P.focus(),"file"!==P.type){const N=P.value;P.value="",P.value=N}},nr=(P,N,$)=>{!P||!N||("string"==typeof N&&(N=N.split(/\s+/).filter(Boolean)),N.forEach(Ae=>{Array.isArray(P)?P.forEach(Nt=>{$?Nt.classList.add(Ae):Nt.classList.remove(Ae)}):$?P.classList.add(Ae):P.classList.remove(Ae)}))},zt=(P,N)=>{nr(P,N,!0)},Qn=(P,N)=>{nr(P,N,!1)},Hn=(P,N)=>{const $=Array.from(P.children);for(let Ae=0;Ae<$.length;Ae++){const Nt=$[Ae];if(Nt instanceof HTMLElement&&he(Nt,N))return Nt}},Kt=(P,N,$)=>{$===`${parseInt($)}`&&($=parseInt($)),$||0===parseInt($)?P.style[N]="number"==typeof $?`${$}px`:$:P.style.removeProperty(N)},Vn=function(P){P.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},tr=P=>{P.style.display="none"},bn=(P,N,$,Ae)=>{const Nt=P.querySelector(N);Nt&&(Nt.style[$]=Ae)},kr=function(P,N){N?Vn(P,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):tr(P)},Pr=P=>!(!P||!(P.offsetWidth||P.offsetHeight||P.getClientRects().length)),fn=P=>P.scrollHeight>P.clientHeight,fr=P=>{const N=window.getComputedStyle(P),$=parseFloat(N.getPropertyValue("animation-duration")||"0"),Ae=parseFloat(N.getPropertyValue("transition-duration")||"0");return $>0||Ae>0},on=function(P){let N=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const $=Xe();Pr($)&&(N&&($.style.transition="none",$.style.width="100%"),setTimeout(()=>{$.style.transition=`width ${P/1e3}s linear`,$.style.width="0%"},10))},st={},Kn=P=>new Promise(N=>{if(!P)return N();const $=window.scrollX,Ae=window.scrollY;st.restoreFocusTimeout=setTimeout(()=>{st.previousActiveElement instanceof HTMLElement?(st.previousActiveElement.focus(),st.previousActiveElement=null):document.body&&document.body.focus(),N()},100),window.scrollTo($,Ae)}),qt=()=>typeof window>"u"||typeof document>"u",si=`\n <div aria-labelledby="${F.title}" aria-describedby="${F["html-container"]}" class="${F.popup}" tabindex="-1">\n   <button type="button" class="${F.close}"></button>\n   <ul class="${F["progress-steps"]}"></ul>\n   <div class="${F.icon}"></div>\n   <img class="${F.image}" />\n   <h2 class="${F.title}" id="${F.title}"></h2>\n   <div class="${F["html-container"]}" id="${F["html-container"]}"></div>\n   <input class="${F.input}" />\n   <input type="file" class="${F.file}" />\n   <div class="${F.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${F.select}"></select>\n   <div class="${F.radio}"></div>\n   <label for="${F.checkbox}" class="${F.checkbox}">\n     <input type="checkbox" />\n     <span class="${F.label}"></span>\n   </label>\n   <textarea class="${F.textarea}"></textarea>\n   <div class="${F["validation-message"]}" id="${F["validation-message"]}"></div>\n   <div class="${F.actions}">\n     <div class="${F.loader}"></div>\n     <button type="button" class="${F.confirm}"></button>\n     <button type="button" class="${F.deny}"></button>\n     <button type="button" class="${F.cancel}"></button>\n   </div>\n   <div class="${F.footer}"></div>\n   <div class="${F["timer-progress-bar-container"]}">\n     <div class="${F["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),gi=()=>{st.currentInstance.resetValidationMessage()},lr=P=>{const N=(()=>{const P=Bt();return!!P&&(P.remove(),Qn([document.documentElement,document.body],[F["no-backdrop"],F["toast-shown"],F["has-column"]]),!0)})();if(qt())return void ge("SweetAlert2 requires document to initialize");const $=document.createElement("div");$.className=F.container,N&&zt($,F["no-transition"]),re($,si);const Ae=(P=>"string"==typeof P?document.querySelector(P):P)(P.target);Ae.appendChild($),(P=>{const N=Dt();N.setAttribute("role",P.toast?"alert":"dialog"),N.setAttribute("aria-live",P.toast?"polite":"assertive"),P.toast||N.setAttribute("aria-modal","true")})(P),(P=>{"rtl"===window.getComputedStyle(P).direction&&zt(Bt(),F.rtl)})(Ae),(()=>{const P=Dt(),N=Hn(P,F.input),$=Hn(P,F.file),Ae=P.querySelector(`.${F.range} input`),Nt=P.querySelector(`.${F.range} output`),Sn=Hn(P,F.select),cr=P.querySelector(`.${F.checkbox} input`),Hi=Hn(P,F.textarea);N.oninput=gi,$.onchange=gi,Sn.onchange=gi,cr.onchange=gi,Hi.oninput=gi,Ae.oninput=()=>{gi(),Nt.value=Ae.value},Ae.onchange=()=>{gi(),Nt.value=Ae.value}})()},sr=(P,N)=>{P instanceof HTMLElement?N.appendChild(P):"object"==typeof P?mi(P,N):P&&re(N,P)},mi=(P,N)=>{P.jquery?hr(N,P):re(N,P.toString())},hr=(P,N)=>{if(P.textContent="",0 in N)for(let $=0;$ in N;$++)P.appendChild(N[$].cloneNode(!0));else P.appendChild(N.cloneNode(!0))},An=(()=>{if(qt())return!1;const P=document.createElement("div"),N={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const $ in N)if(Object.prototype.hasOwnProperty.call(N,$)&&typeof P.style[$]<"u")return N[$];return!1})(),xr=(P,N)=>{const $=ut(),Ae=kn();N.showConfirmButton||N.showDenyButton||N.showCancelButton?Vn($):tr($),gt($,N,"actions"),function Gn(P,N,$){const Ae=vt(),Nt=dt(),Sn=er();Le(Ae,"confirm",$),Le(Nt,"deny",$),Le(Sn,"cancel",$),function Yi(P,N,$,Ae){Ae.buttonsStyling?(zt([P,N,$],F.styled),Ae.confirmButtonColor&&(P.style.backgroundColor=Ae.confirmButtonColor,zt(P,F["default-outline"])),Ae.denyButtonColor&&(N.style.backgroundColor=Ae.denyButtonColor,zt(N,F["default-outline"])),Ae.cancelButtonColor&&($.style.backgroundColor=Ae.cancelButtonColor,zt($,F["default-outline"]))):Qn([P,N,$],F.styled)}(Ae,Nt,Sn,$),$.reverseButtons&&($.toast?(P.insertBefore(Sn,Ae),P.insertBefore(Nt,Ae)):(P.insertBefore(Sn,N),P.insertBefore(Nt,N),P.insertBefore(Ae,N)))}($,Ae,N),re(Ae,N.loaderHtml),gt(Ae,N,"loader")};function Le(P,N,$){kr(P,$[`show${Ze(N)}Button`],"inline-block"),re(P,$[`${N}ButtonText`]),P.setAttribute("aria-label",$[`${N}ButtonAriaLabel`]),P.className=F[N],gt(P,$,`${N}Button`),zt(P,$[`${N}ButtonClass`])}const Zi=(P,N)=>{const $=Bt();$&&(function ai(P,N){"string"==typeof N?P.style.background=N:N||zt([document.documentElement,document.body],F["no-backdrop"])}($,N.backdrop),function Vi(P,N){N in F?zt(P,F[N]):(be('The "position" parameter is not valid, defaulting to "center"'),zt(P,F.center))}($,N.position),function _n(P,N){if(N&&"string"==typeof N){const $=`grow-${N}`;$ in F&&zt(P,F[$])}}($,N.grow),gt($,N,"container"))};const gr=["input","file","range","select","radio","checkbox","textarea"],Ui=P=>{if(!Qt[P.input])return void ge(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${P.input}"`);const N=xt(P.input),$=Qt[P.input](N,P);Vn(N),setTimeout(()=>{Yt($)})},xi=(P,N)=>{const $=rn(Dt(),P);if($){(P=>{for(let N=0;N<P.attributes.length;N++){const $=P.attributes[N].name;["type","value","style"].includes($)||P.removeAttribute($)}})($);for(const Ae in N)$.setAttribute(Ae,N[Ae])}},De=P=>{const N=xt(P.input);"object"==typeof P.customClass&&zt(N,P.customClass.input)},me=(P,N)=>{(!P.placeholder||N.inputPlaceholder)&&(P.placeholder=N.inputPlaceholder)},Be=(P,N,$)=>{if($.inputLabel){P.id=F.input;const Ae=document.createElement("label"),Nt=F["input-label"];Ae.setAttribute("for",P.id),Ae.className=Nt,"object"==typeof $.customClass&&zt(Ae,$.customClass.inputLabel),Ae.innerText=$.inputLabel,N.insertAdjacentElement("beforebegin",Ae)}},xt=P=>Hn(Dt(),F[P]||F.input),Ye=(P,N)=>{["string","number"].includes(typeof N)?P.value=`${N}`:Ot(N)||be(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof N}"`)},Qt={};Qt.text=Qt.email=Qt.password=Qt.number=Qt.tel=Qt.url=(P,N)=>(Ye(P,N.inputValue),Be(P,P,N),me(P,N),P.type=N.input,P),Qt.file=(P,N)=>(Be(P,P,N),me(P,N),P),Qt.range=(P,N)=>{const $=P.querySelector("input"),Ae=P.querySelector("output");return Ye($,N.inputValue),$.type=N.input,Ye(Ae,N.inputValue),Be($,P,N),P},Qt.select=(P,N)=>{if(P.textContent="",N.inputPlaceholder){const $=document.createElement("option");re($,N.inputPlaceholder),$.value="",$.disabled=!0,$.selected=!0,P.appendChild($)}return Be(P,P,N),P},Qt.radio=P=>(P.textContent="",P),Qt.checkbox=(P,N)=>{const $=rn(Dt(),"checkbox");$.value="1",$.id=F.checkbox,$.checked=!!N.inputValue;const Ae=P.querySelector("span");return re(Ae,N.inputPlaceholder),$},Qt.textarea=(P,N)=>{Ye(P,N.inputValue),me(P,N),Be(P,P,N);return setTimeout(()=>{if("MutationObserver"in window){const Ae=parseInt(window.getComputedStyle(Dt()).width);new MutationObserver(()=>{const Sn=P.offsetWidth+(Ae=>parseInt(window.getComputedStyle(Ae).marginLeft)+parseInt(window.getComputedStyle(Ae).marginRight))(P);Dt().style.width=Sn>Ae?`${Sn}px`:null}).observe(P,{attributes:!0,attributeFilter:["style"]})}}),P};const Rn=(P,N)=>{const $=ct();gt($,N,"htmlContainer"),N.html?(sr(N.html,$),Vn($,"block")):N.text?($.textContent=N.text,Vn($,"block")):tr($),((P,N)=>{const $=Dt(),Ae=ze.innerParams.get(P),Nt=!Ae||N.input!==Ae.input;gr.forEach(Sn=>{const cr=Hn($,F[Sn]);xi(Sn,N.inputAttributes),cr.className=F[Sn],Nt&&tr(cr)}),N.input&&(Nt&&Ui(N),De(N))})(P,N)},ae=(P,N)=>{for(const $ in Q)N.icon!==$&&Qn(P,Q[$]);zt(P,Q[N.icon]),ye(P,N),Ce(),gt(P,N,"icon")},Ce=()=>{const P=Dt(),N=window.getComputedStyle(P).getPropertyValue("background-color"),$=P.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ae=0;Ae<$.length;Ae++)$[Ae].style.backgroundColor=N},oe=(P,N)=>{let Ae,$=P.innerHTML;N.iconHtml?Ae=Oe(N.iconHtml):"success"===N.icon?(Ae='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',$=$.replace(/ style=".*?"/g,"")):Ae="error"===N.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Oe({question:"?",warning:"!",info:"i"}[N.icon]),$.trim()!==Ae.trim()&&re(P,Ae)},ye=(P,N)=>{if(N.iconColor){P.style.color=N.iconColor,P.style.borderColor=N.iconColor;for(const $ of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])bn(P,$,"backgroundColor",N.iconColor);bn(P,".swal2-success-ring","borderColor",N.iconColor)}},Oe=P=>`<div class="${F["icon-content"]}">${P}</div>`,ht=(P,N)=>{P.className=`${F.popup} ${Pr(P)?N.showClass.popup:""}`,N.toast?(zt([document.documentElement,document.body],F["toast-shown"]),zt(P,F.toast)):zt(P,F.modal),gt(P,N,"popup"),"string"==typeof N.customClass&&zt(P,N.customClass),N.icon&&zt(P,F[`icon-${N.icon}`])},tn=P=>{const N=document.createElement("li");return zt(N,F["progress-step"]),re(N,P),N},Un=P=>{const N=document.createElement("li");return zt(N,F["progress-step-line"]),P.progressStepsDistance&&Kt(N,"width",P.progressStepsDistance),N},qn=(P,N)=>{((P,N)=>{const $=Bt(),Ae=Dt();N.toast?(Kt($,"width",N.width),Ae.style.width="100%",Ae.insertBefore(kn(),Rt())):Kt(Ae,"width",N.width),Kt(Ae,"padding",N.padding),N.color&&(Ae.style.color=N.color),N.background&&(Ae.style.background=N.background),tr(Xt()),ht(Ae,N)})(0,N),Zi(0,N),((P,N)=>{const $=Tt();N.progressSteps&&0!==N.progressSteps.length?(Vn($),$.textContent="",N.currentProgressStep>=N.progressSteps.length&&be("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),N.progressSteps.forEach((Ae,Nt)=>{const Sn=tn(Ae);if($.appendChild(Sn),Nt===N.currentProgressStep&&zt(Sn,F["active-progress-step"]),Nt!==N.progressSteps.length-1){const cr=Un(N);$.appendChild(cr)}})):tr($)})(0,N),((P,N)=>{const $=ze.innerParams.get(P),Ae=Rt();$&&N.icon===$.icon?(oe(Ae,N),ae(Ae,N)):N.icon||N.iconHtml?N.icon&&-1===Object.keys(Q).indexOf(N.icon)?(ge(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${N.icon}"`),tr(Ae)):(Vn(Ae),oe(Ae,N),ae(Ae,N),zt(Ae,N.showClass.icon)):tr(Ae)})(P,N),((P,N)=>{const $=et();N.imageUrl?(Vn($,""),$.setAttribute("src",N.imageUrl),$.setAttribute("alt",N.imageAlt),Kt($,"width",N.imageWidth),Kt($,"height",N.imageHeight),$.className=F.image,gt($,N,"image")):tr($)})(0,N),((P,N)=>{const $=Ne();kr($,N.title||N.titleText,"block"),N.title&&sr(N.title,$),N.titleText&&($.innerText=N.titleText),gt($,N,"title")})(0,N),((P,N)=>{const $=en();re($,N.closeButtonHtml),gt($,N,"closeButton"),kr($,N.showCloseButton),$.setAttribute("aria-label",N.closeButtonAriaLabel)})(0,N),Rn(P,N),xr(0,N),((P,N)=>{const $=wn();kr($,N.footer),N.footer&&sr(N.footer,$),gt($,N,"footer")})(0,N),"function"==typeof N.didRender&&N.didRender(Dt())};function ar(){const P=ze.innerParams.get(this);if(!P)return;const N=ze.domCache.get(this);tr(N.loader),le()?P.icon&&Vn(Rt()):wi(N),Qn([N.popup,N.actions],F.loading),N.popup.removeAttribute("aria-busy"),N.popup.removeAttribute("data-loading"),N.confirmButton.disabled=!1,N.denyButton.disabled=!1,N.cancelButton.disabled=!1}const wi=P=>{const N=P.popup.getElementsByClassName(P.loader.getAttribute("data-button-to-replace"));N.length?Vn(N[0],"inline-block"):!Pr(vt())&&!Pr(dt())&&!Pr(er())&&tr(P.actions)};const Ve=()=>vt()&&vt().click(),Ht=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),In=P=>{P.keydownTarget&&P.keydownHandlerAdded&&(P.keydownTarget.removeEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!1)},Dn=(P,N,$)=>{const Ae=Ge();if(Ae.length)return(N+=$)===Ae.length?N=0:-1===N&&(N=Ae.length-1),Ae[N].focus();Dt().focus()},rr=["ArrowRight","ArrowDown"],zr=["ArrowLeft","ArrowUp"],Po=(P,N,$)=>{const Ae=ze.innerParams.get(P);Ae&&(N.isComposing||229===N.keyCode||(Ae.stopKeydownPropagation&&N.stopPropagation(),"Enter"===N.key?Sr(P,N,Ae):"Tab"===N.key?ao(N,Ae):[...rr,...zr].includes(N.key)?Wi(N.key):"Escape"===N.key&&Bo(N,Ae,$)))},Sr=(P,N,$)=>{if(qe($.allowEnterKey)&&N.target&&P.getInput()&&N.target instanceof HTMLElement&&N.target.outerHTML===P.getInput().outerHTML){if(["textarea","file"].includes($.input))return;Ve(),N.preventDefault()}},ao=(P,N)=>{const $=P.target,Ae=Ge();let Nt=-1;for(let Sn=0;Sn<Ae.length;Sn++)if($===Ae[Sn]){Nt=Sn;break}Dn(0,Nt,P.shiftKey?-1:1),P.stopPropagation(),P.preventDefault()},Wi=P=>{const N=vt(),$=dt(),Ae=er();if(document.activeElement instanceof HTMLElement&&![N,$,Ae].includes(document.activeElement))return;const Nt=rr.includes(P)?"nextElementSibling":"previousElementSibling";let Sn=document.activeElement;for(let cr=0;cr<ut().children.length;cr++){if(Sn=Sn[Nt],!Sn)return;if(Sn instanceof HTMLButtonElement&&Pr(Sn))break}Sn instanceof HTMLButtonElement&&Sn.focus()},Bo=(P,N,$)=>{qe(N.allowEscapeKey)&&(P.preventDefault(),$(Ht.esc))};var io={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const fe=()=>{Array.from(document.body.children).forEach(N=>{N.hasAttribute("data-previous-aria-hidden")?(N.setAttribute("aria-hidden",N.getAttribute("data-previous-aria-hidden")),N.removeAttribute("data-previous-aria-hidden")):N.removeAttribute("aria-hidden")})},te=()=>{const P=navigator.userAgent,N=!!P.match(/iPad/i)||!!P.match(/iPhone/i),$=!!P.match(/WebKit/i);N&&$&&!P.match(/CriOS/i)&&Dt().scrollHeight>window.innerHeight-44&&(Bt().style.paddingBottom="44px")},Pe=()=>{const P=Bt();let N;P.ontouchstart=$=>{N=wt($)},P.ontouchmove=$=>{N&&($.preventDefault(),$.stopPropagation())}},wt=P=>{const N=P.target,$=Bt();return!sn(P)&&!On(P)&&(N===$||!fn($)&&N instanceof HTMLElement&&"INPUT"!==N.tagName&&"TEXTAREA"!==N.tagName&&!(fn(ct())&&ct().contains(N)))},sn=P=>P.touches&&P.touches.length&&"stylus"===P.touches[0].touchType,On=P=>P.touches&&P.touches.length>1,Xr=()=>{null===pe.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(pe.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${pe.previousBodyPadding+(()=>{const P=document.createElement("div");P.className=F["scrollbar-measure"],document.body.appendChild(P);const N=P.getBoundingClientRect().width-P.clientWidth;return document.body.removeChild(P),N})()}px`)};function yr(P,N,$,Ae){le()?lt(P,Ae):(Kn($).then(()=>lt(P,Ae)),In(st)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(N.setAttribute("style","display:none !important"),N.removeAttribute("class"),N.innerHTML=""):N.remove(),Z()&&(null!==pe.previousBodyPadding&&(document.body.style.paddingRight=`${pe.previousBodyPadding}px`,pe.previousBodyPadding=null),(()=>{if(he(document.body,F.iosfix)){const P=parseInt(document.body.style.top,10);Qn(document.body,F.iosfix),document.body.style.top="",document.body.scrollTop=-1*P}})(),fe()),function Ln(){Qn([document.documentElement,document.body],[F.shown,F["height-auto"],F["no-backdrop"],F["toast-shown"]])}()}function _r(P){P=ce(P);const N=io.swalPromiseResolve.get(this),$=yi(this);this.isAwaitingPromise()?P.isDismissed||(Wo(this),N(P)):$&&N(P)}const yi=P=>{const N=Dt();if(!N)return!1;const $=ze.innerParams.get(P);if(!$||he(N,$.hideClass.popup))return!1;Qn(N,$.showClass.popup),zt(N,$.hideClass.popup);const Ae=Bt();return Qn(Ae,$.showClass.backdrop),zt(Ae,$.hideClass.backdrop),tt(P,N,$),!0};const Wo=P=>{P.isAwaitingPromise()&&(ze.awaitingPromise.delete(P),ze.innerParams.get(P)||P._destroy())},ce=P=>typeof P>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},P),tt=(P,N,$)=>{const Ae=Bt(),Nt=An&&fr(N);"function"==typeof $.willClose&&$.willClose(N),Nt?Me(P,N,Ae,$.returnFocus,$.didClose):yr(P,Ae,$.returnFocus,$.didClose)},Me=(P,N,$,Ae,Nt)=>{st.swalCloseEventFinishedCallback=yr.bind(null,P,$,Ae,Nt),N.addEventListener(An,function(Sn){Sn.target===N&&(st.swalCloseEventFinishedCallback(),delete st.swalCloseEventFinishedCallback)})},lt=(P,N)=>{setTimeout(()=>{"function"==typeof N&&N.bind(P.params)(),P._destroy()})};function Zt(P,N,$){const Ae=ze.domCache.get(P);N.forEach(Nt=>{Ae[Nt].disabled=$})}function vn(P,N){if(P)if("radio"===P.type){const Ae=P.parentNode.parentNode.querySelectorAll("input");for(let Nt=0;Nt<Ae.length;Nt++)Ae[Nt].disabled=N}else P.disabled=N}const En={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},as=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Io={},Mo=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Yo=P=>Object.prototype.hasOwnProperty.call(En,P),ko=P=>-1!==as.indexOf(P),bs=P=>Io[P],cs=P=>{Yo(P)||be(`Unknown parameter "${P}"`)},Or=P=>{Mo.includes(P)&&be(`The parameter "${P}" is incompatible with toasts`)},Go=P=>{bs(P)&&we(P,bs(P))};const Ds=P=>{const N={};return Object.keys(P).forEach($=>{ko($)?N[$]=P[$]:be(`Invalid parameter to update: ${$}`)}),N};const co=P=>{Zr(P),delete P.params,delete st.keydownHandler,delete st.keydownTarget,delete st.currentInstance},Zr=P=>{P.isAwaitingPromise()?(Jr(ze,P),ze.awaitingPromise.set(P,!0)):(Jr(io,P),Jr(ze,P))},Jr=(P,N)=>{for(const $ in P)P[$].delete(N)};var As=Object.freeze({__proto__:null,hideLoading:ar,disableLoading:ar,getInput:function Ri(P){const N=ze.innerParams.get(P||this),$=ze.domCache.get(P||this);return $?rn($.popup,N.input):null},close:_r,isAwaitingPromise:function Gi(){return!!ze.awaitingPromise.get(this)},rejectPromise:function wo(P){const N=io.swalPromiseReject.get(this);Wo(this),N&&N(P)},handleAwaitingPromise:Wo,closePopup:_r,closeModal:_r,closeToast:_r,enableButtons:function Bn(){Zt(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Ji(){Zt(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function go(){vn(this.getInput(),!1)},disableInput:function xs(){vn(this.getInput(),!0)},showValidationMessage:function ni(P){const N=ze.domCache.get(this),$=ze.innerParams.get(this);re(N.validationMessage,P),N.validationMessage.className=F["validation-message"],$.customClass&&$.customClass.validationMessage&&zt(N.validationMessage,$.customClass.validationMessage),Vn(N.validationMessage);const Ae=this.getInput();Ae&&(Ae.setAttribute("aria-invalid",!0),Ae.setAttribute("aria-describedby",F["validation-message"]),Yt(Ae),zt(Ae,F.inputerror))},resetValidationMessage:function ss(){const P=ze.domCache.get(this);P.validationMessage&&tr(P.validationMessage);const N=this.getInput();N&&(N.removeAttribute("aria-invalid"),N.removeAttribute("aria-describedby"),Qn(N,F.inputerror))},update:function qo(P){const N=Dt(),$=ze.innerParams.get(this);if(!N||he(N,$.hideClass.popup))return void be("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Ae=Ds(P),Nt=Object.assign({},$,Ae);qn(this,Nt),ze.innerParams.set(this,Nt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,P),writable:!1,enumerable:!0}})},_destroy:function qr(){const P=ze.domCache.get(this),N=ze.innerParams.get(this);N?(P.popup&&st.swalCloseEventFinishedCallback&&(st.swalCloseEventFinishedCallback(),delete st.swalCloseEventFinishedCallback),"function"==typeof N.didDestroy&&N.didDestroy(),co(this)):Zr(this)}});const No=P=>{let N=Dt();N||new oi,N=Dt();const $=kn();le()?tr(Rt()):xo(N,P),Vn($),N.setAttribute("data-loading","true"),N.setAttribute("aria-busy","true"),N.focus()},xo=(P,N)=>{const $=ut(),Ae=kn();!N&&Pr(vt())&&(N=vt()),Vn($),N&&(tr(N),Ae.setAttribute("data-button-to-replace",N.className)),Ae.parentNode.insertBefore(Ae,N),zt([P,$],F.loading)},ji=P=>P.checked?1:0,Hs=P=>P.checked?P.value:null,Oo=P=>P.files.length?null!==P.getAttribute("multiple")?P.files:P.files[0]:null,Fr=(P,N)=>{const $=Dt(),Ae=Nt=>{eo[N.input]($,ra(Nt),N)};Ct(N.inputOptions)||Ot(N.inputOptions)?(No(vt()),ft(N.inputOptions).then(Nt=>{P.hideLoading(),Ae(Nt)})):"object"==typeof N.inputOptions?Ae(N.inputOptions):ge("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof N.inputOptions)},vr=(P,N)=>{const $=P.getInput();tr($),ft(N.inputValue).then(Ae=>{$.value="number"===N.input?`${parseFloat(Ae)||0}`:`${Ae}`,Vn($),$.focus(),P.hideLoading()}).catch(Ae=>{ge(`Error in inputValue promise: ${Ae}`),$.value="",Vn($),$.focus(),P.hideLoading()})},eo={select:(P,N,$)=>{const Ae=Hn(P,F.select),Nt=(Sn,cr,Hi)=>{const Ki=document.createElement("option");Ki.value=Hi,re(Ki,cr),Ki.selected=Os(Hi,$.inputValue),Sn.appendChild(Ki)};N.forEach(Sn=>{const cr=Sn[0],Hi=Sn[1];if(Array.isArray(Hi)){const Ki=document.createElement("optgroup");Ki.label=cr,Ki.disabled=!1,Ae.appendChild(Ki),Hi.forEach(Do=>Nt(Ki,Do[1],Do[0]))}else Nt(Ae,Hi,cr)}),Ae.focus()},radio:(P,N,$)=>{const Ae=Hn(P,F.radio);N.forEach(Sn=>{const cr=Sn[0],Hi=Sn[1],Ki=document.createElement("input"),Do=document.createElement("label");Ki.type="radio",Ki.name=F.radio,Ki.value=cr,Os(cr,$.inputValue)&&(Ki.checked=!0);const Qs=document.createElement("span");re(Qs,Hi),Qs.className=F.label,Do.appendChild(Ki),Do.appendChild(Qs),Ae.appendChild(Do)});const Nt=Ae.querySelectorAll("input");Nt.length&&Nt[0].focus()}},ra=P=>{const N=[];return typeof Map<"u"&&P instanceof Map?P.forEach(($,Ae)=>{let Nt=$;"object"==typeof Nt&&(Nt=ra(Nt)),N.push([Ae,Nt])}):Object.keys(P).forEach($=>{let Ae=P[$];"object"==typeof Ae&&(Ae=ra(Ae)),N.push([$,Ae])}),N},Os=(P,N)=>N&&N.toString()===P.toString(),q=(P,N)=>{const $=ze.innerParams.get(P);if(!$.input)return void ge(`The "input" parameter is needed to be set when using returnInputValueOn${Ze(N)}`);const Ae=((P,N)=>{const $=P.getInput();if(!$)return null;switch(N.input){case"checkbox":return ji($);case"radio":return Hs($);case"file":return Oo($);default:return N.inputAutoTrim?$.value.trim():$.value}})(P,$);$.inputValidator?G(P,Ae,N):P.getInput().checkValidity()?"deny"===N?Ie(P,Ae):Mt(P,Ae):(P.enableButtons(),P.showValidationMessage($.validationMessage))},G=(P,N,$)=>{const Ae=ze.innerParams.get(P);P.disableInput(),Promise.resolve().then(()=>ft(Ae.inputValidator(N,Ae.validationMessage))).then(Sn=>{P.enableButtons(),P.enableInput(),Sn?P.showValidationMessage(Sn):"deny"===$?Ie(P,N):Mt(P,N)})},Ie=(P,N)=>{const $=ze.innerParams.get(P||void 0);$.showLoaderOnDeny&&No(dt()),$.preDeny?(ze.awaitingPromise.set(P||void 0,!0),Promise.resolve().then(()=>ft($.preDeny(N,$.validationMessage))).then(Nt=>{!1===Nt?(P.hideLoading(),Wo(P)):P.close({isDenied:!0,value:typeof Nt>"u"?N:Nt})}).catch(Nt=>nt(P||void 0,Nt))):P.close({isDenied:!0,value:N})},Re=(P,N)=>{P.close({isConfirmed:!0,value:N})},nt=(P,N)=>{P.rejectPromise(N)},Mt=(P,N)=>{const $=ze.innerParams.get(P||void 0);$.showLoaderOnConfirm&&No(),$.preConfirm?(P.resetValidationMessage(),ze.awaitingPromise.set(P||void 0,!0),Promise.resolve().then(()=>ft($.preConfirm(N,$.validationMessage))).then(Nt=>{Pr(Xt())||!1===Nt?(P.hideLoading(),Wo(P)):Re(P,typeof Nt>"u"?N:Nt)}).catch(Nt=>nt(P||void 0,Nt))):Re(P,N)},Tn=(P,N,$)=>{N.popup.onclick=()=>{const Ae=ze.innerParams.get(P);Ae&&(pn(Ae)||Ae.timer||Ae.input)||$(Ht.close)}},pn=P=>P.showConfirmButton||P.showDenyButton||P.showCancelButton||P.showCloseButton;let pr=!1;const Xn=P=>{P.popup.onmousedown=()=>{P.container.onmouseup=function(N){P.container.onmouseup=void 0,N.target===P.container&&(pr=!0)}}},Ur=P=>{P.container.onmousedown=()=>{P.popup.onmouseup=function(N){P.popup.onmouseup=void 0,(N.target===P.popup||P.popup.contains(N.target))&&(pr=!0)}}},Ii=(P,N,$)=>{N.container.onclick=Ae=>{const Nt=ze.innerParams.get(P);pr?pr=!1:Ae.target===N.container&&qe(Nt.allowOutsideClick)&&$(Ht.backdrop)}},$i=P=>P instanceof Element||(P=>"object"==typeof P&&P.jquery)(P);const vi=()=>{if(st.timeout)return(()=>{const P=Xe(),N=parseInt(window.getComputedStyle(P).width);P.style.removeProperty("transition"),P.style.width="100%";const Ae=N/parseInt(window.getComputedStyle(P).width)*100;P.style.removeProperty("transition"),P.style.width=`${Ae}%`})(),st.timeout.stop()},Mi=()=>{if(st.timeout){const P=st.timeout.start();return on(P),P}};let Ko=!1;const gs={};const Da=P=>{for(let N=P.target;N&&N!==document;N=N.parentNode)for(const $ in gs){const Ae=N.getAttribute($);if(Ae)return void gs[$].fire({template:Ae})}};var zs=Object.freeze({__proto__:null,isValidParameter:Yo,isUpdatableParameter:ko,isDeprecatedParameter:bs,argsToParams:P=>{const N={};return"object"!=typeof P[0]||$i(P[0])?["title","html","icon"].forEach(($,Ae)=>{const Nt=P[Ae];"string"==typeof Nt||$i(Nt)?N[$]=Nt:void 0!==Nt&&ge(`Unexpected type of ${$}! Expected "string" or "Element", got ${typeof Nt}`)}):Object.assign(N,P[0]),N},getContainer:Bt,getPopup:Dt,getTitle:Ne,getHtmlContainer:ct,getImage:et,getIcon:Rt,getIconContent:()=>hn(F["icon-content"]),getInputLabel:()=>hn(F["input-label"]),getCloseButton:en,getActions:ut,getConfirmButton:vt,getDenyButton:dt,getCancelButton:er,getLoader:kn,getFooter:wn,getTimerProgressBar:Xe,getFocusableElements:Ge,getValidationMessage:Xt,getProgressSteps:Tt,isLoading:()=>Dt().hasAttribute("data-loading"),isVisible:()=>Pr(Dt()),clickConfirm:Ve,clickDeny:()=>dt()&&dt().click(),clickCancel:()=>er()&&er().click(),fire:function ri(){for(var N=arguments.length,$=new Array(N),Ae=0;Ae<N;Ae++)$[Ae]=arguments[Ae];return new this(...$)},mixin:function Oi(P){return class N extends(this){_main(Ae,Nt){return super._main(Ae,Object.assign({},P,Nt))}}},showLoading:No,enableLoading:No,getTimerLeft:()=>st.timeout&&st.timeout.getTimerLeft(),stopTimer:vi,resumeTimer:Mi,toggleTimer:()=>{const P=st.timeout;return P&&(P.running?vi():Mi())},increaseTimer:P=>{if(st.timeout){const N=st.timeout.increase(P);return on(N,!0),N}},isTimerRunning:()=>st.timeout&&st.timeout.isRunning(),bindClickHandler:function la(){gs[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ko||(document.body.addEventListener("click",Da),Ko=!0)}});class ms{constructor(N,$){this.callback=N,this.remaining=$,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(N){const $=this.running;return $&&this.stop(),this.remaining+=N,$&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Fa=["swal-title","swal-html","swal-footer"],Ws=P=>{const N={};return Array.from(P.querySelectorAll("swal-param")).forEach(Ae=>{Di(Ae,["name","value"]);const Nt=Ae.getAttribute("name"),Sn=Ae.getAttribute("value");N[Nt]="boolean"==typeof En[Nt]?"false"!==Sn:"object"==typeof En[Nt]?JSON.parse(Sn):Sn}),N},oo=P=>{const N={};return Array.from(P.querySelectorAll("swal-function-param")).forEach(Ae=>{const Nt=Ae.getAttribute("name"),Sn=Ae.getAttribute("value");N[Nt]=new Function(`return ${Sn}`)()}),N},Fs=P=>{const N={};return Array.from(P.querySelectorAll("swal-button")).forEach(Ae=>{Di(Ae,["type","color","aria-label"]);const Nt=Ae.getAttribute("type");N[`${Nt}ButtonText`]=Ae.innerHTML,N[`show${Ze(Nt)}Button`]=!0,Ae.hasAttribute("color")&&(N[`${Nt}ButtonColor`]=Ae.getAttribute("color")),Ae.hasAttribute("aria-label")&&(N[`${Nt}ButtonAriaLabel`]=Ae.getAttribute("aria-label"))}),N},hi=P=>{const N={},$=P.querySelector("swal-image");return $&&(Di($,["src","width","height","alt"]),$.hasAttribute("src")&&(N.imageUrl=$.getAttribute("src")),$.hasAttribute("width")&&(N.imageWidth=$.getAttribute("width")),$.hasAttribute("height")&&(N.imageHeight=$.getAttribute("height")),$.hasAttribute("alt")&&(N.imageAlt=$.getAttribute("alt"))),N},Fo=P=>{const N={},$=P.querySelector("swal-icon");return $&&(Di($,["type","color"]),$.hasAttribute("type")&&(N.icon=$.getAttribute("type")),$.hasAttribute("color")&&(N.iconColor=$.getAttribute("color")),N.iconHtml=$.innerHTML),N},Ls=P=>{const N={},$=P.querySelector("swal-input");$&&(Di($,["type","label","placeholder","value"]),N.input=$.getAttribute("type")||"text",$.hasAttribute("label")&&(N.inputLabel=$.getAttribute("label")),$.hasAttribute("placeholder")&&(N.inputPlaceholder=$.getAttribute("placeholder")),$.hasAttribute("value")&&(N.inputValue=$.getAttribute("value")));const Ae=Array.from(P.querySelectorAll("swal-input-option"));return Ae.length&&(N.inputOptions={},Ae.forEach(Nt=>{Di(Nt,["value"]);const Sn=Nt.getAttribute("value");N.inputOptions[Sn]=Nt.innerHTML})),N},Gs=(P,N)=>{const $={};for(const Ae in N){const Nt=N[Ae],Sn=P.querySelector(Nt);Sn&&(Di(Sn,[]),$[Nt.replace(/^swal-/,"")]=Sn.innerHTML.trim())}return $},qs=P=>{const N=Fa.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(P.children).forEach($=>{const Ae=$.tagName.toLowerCase();N.includes(Ae)||be(`Unrecognized element <${Ae}>`)})},Di=(P,N)=>{Array.from(P.attributes).forEach($=>{-1===N.indexOf($.name)&&be([`Unrecognized attribute "${$.name}" on <${P.tagName.toLowerCase()}>.`,N.length?`Allowed attributes are: ${N.join(", ")}`:"To set the value, use HTML within the element."])})},Wr=P=>{const N=Bt(),$=Dt();"function"==typeof P.willOpen&&P.willOpen($);const Nt=window.getComputedStyle(document.body).overflowY;Ya(N,$,P),setTimeout(()=>{Aa(N,$)},10),Z()&&(Ks(N,P.scrollbarPadding,Nt),Array.from(document.body.children).forEach(N=>{N===Bt()||N.contains(Bt())||(N.hasAttribute("aria-hidden")&&N.setAttribute("data-previous-aria-hidden",N.getAttribute("aria-hidden")),N.setAttribute("aria-hidden","true"))})),!le()&&!st.previousActiveElement&&(st.previousActiveElement=document.activeElement),"function"==typeof P.didOpen&&setTimeout(()=>P.didOpen($)),Qn(N,F["no-transition"])},Br=P=>{const N=Dt();if(P.target!==N)return;const $=Bt();N.removeEventListener(An,Br),$.style.overflowY="auto"},Aa=(P,N)=>{An&&fr(N)?(P.style.overflowY="hidden",N.addEventListener(An,Br)):P.style.overflowY="auto"},Ks=(P,N,$)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!he(document.body,F.iosfix)){const N=document.body.scrollTop;document.body.style.top=-1*N+"px",zt(document.body,F.iosfix),Pe(),te()}})(),N&&"hidden"!==$&&Xr(),setTimeout(()=>{P.scrollTop=0})},Ya=(P,N,$)=>{zt(P,$.showClass.backdrop),N.style.setProperty("opacity","0","important"),Vn(N,"grid"),setTimeout(()=>{zt(N,$.showClass.popup),N.style.removeProperty("opacity")},10),zt([document.documentElement,document.body],F.shown),$.heightAuto&&$.backdrop&&!$.toast&&zt([document.documentElement,document.body],F["height-auto"])};var Ca={email:(P,N)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(P)?Promise.resolve():Promise.resolve(N||"Invalid email address"),url:(P,N)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(P)?Promise.resolve():Promise.resolve(N||"Invalid URL")};function Va(P){(function Za(P){P.inputValidator||Object.keys(Ca).forEach(N=>{P.input===N&&(P.inputValidator=Ca[N])})})(P),P.showLoaderOnConfirm&&!P.preConfirm&&be("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function La(P){(!P.target||"string"==typeof P.target&&!document.querySelector(P.target)||"string"!=typeof P.target&&!P.target.appendChild)&&(be('Target parameter is not valid, defaulting to "body"'),P.target="body")}(P),"string"==typeof P.title&&(P.title=P.title.split("\n").join("<br />")),lr(P)}let Qo;class Kr{constructor(){if(typeof window>"u")return;Qo=this;for(var N=arguments.length,$=new Array(N),Ae=0;Ae<N;Ae++)$[Ae]=arguments[Ae];const Nt=Object.freeze(this.constructor.argsToParams($));Object.defineProperties(this,{params:{value:Nt,writable:!1,enumerable:!0,configurable:!0}});const Sn=Qo._main(Qo.params);ze.promise.set(this,Sn)}_main(N){let $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(P=>{!1===P.backdrop&&P.allowOutsideClick&&be('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const N in P)cs(N),P.toast&&Or(N),Go(N)})(Object.assign({},$,N)),st.currentInstance&&(st.currentInstance._destroy(),Z()&&fe()),st.currentInstance=Qo;const Ae=ir(N,$);Va(Ae),Object.freeze(Ae),st.timeout&&(st.timeout.stop(),delete st.timeout),clearTimeout(st.restoreFocusTimeout);const Nt=fi(Qo);return qn(Qo,Ae),ze.innerParams.set(Qo,Ae),Jt(Qo,Nt,Ae)}then(N){return ze.promise.get(this).then(N)}finally(N){return ze.promise.get(this).finally(N)}}const Jt=(P,N,$)=>new Promise((Ae,Nt)=>{const Sn=cr=>{P.close({isDismissed:!0,dismiss:cr})};io.swalPromiseResolve.set(P,Ae),io.swalPromiseReject.set(P,Nt),N.confirmButton.onclick=()=>{(P=>{const N=ze.innerParams.get(P);P.disableButtons(),N.input?q(P,"confirm"):Mt(P,!0)})(P)},N.denyButton.onclick=()=>{(P=>{const N=ze.innerParams.get(P);P.disableButtons(),N.returnInputValueOnDeny?q(P,"deny"):Ie(P,!1)})(P)},N.cancelButton.onclick=()=>{((P,N)=>{P.disableButtons(),N(Ht.cancel)})(P,Sn)},N.closeButton.onclick=()=>{Sn(Ht.close)},((P,N,$)=>{ze.innerParams.get(P).toast?Tn(P,N,$):(Xn(N),Ur(N),Ii(P,N,$))})(P,N,Sn),((P,N,$,Ae)=>{In(N),$.toast||(N.keydownHandler=Nt=>Po(P,Nt,Ae),N.keydownTarget=$.keydownListenerCapture?window:Dt(),N.keydownListenerCapture=$.keydownListenerCapture,N.keydownTarget.addEventListener("keydown",N.keydownHandler,{capture:N.keydownListenerCapture}),N.keydownHandlerAdded=!0)})(P,st,$,Sn),((P,N)=>{"select"===N.input||"radio"===N.input?Fr(P,N):["text","email","number","tel","textarea"].includes(N.input)&&(Ct(N.inputValue)||Ot(N.inputValue))&&(No(vt()),vr(P,N))})(P,$),Wr($),$o(st,$,Sn),qi(N,$),setTimeout(()=>{N.container.scrollTop=0})}),ir=(P,N)=>{const $=(P=>{const N="string"==typeof P.template?document.querySelector(P.template):P.template;if(!N)return{};const $=N.content;return qs($),Object.assign(Ws($),oo($),Fs($),hi($),Fo($),Ls($),Gs($,Fa))})(P),Ae=Object.assign({},En,N,$,P);return Ae.showClass=Object.assign({},En.showClass,Ae.showClass),Ae.hideClass=Object.assign({},En.hideClass,Ae.hideClass),Ae},fi=P=>{const N={popup:Dt(),container:Bt(),actions:ut(),confirmButton:vt(),denyButton:dt(),cancelButton:er(),loader:kn(),closeButton:en(),validationMessage:Xt(),progressSteps:Tt()};return ze.domCache.set(P,N),N},$o=(P,N,$)=>{const Ae=Xe();tr(Ae),N.timer&&(P.timeout=new ms(()=>{$("timer"),delete P.timeout},N.timer),N.timerProgressBar&&(Vn(Ae),gt(Ae,N,"timerProgressBar"),setTimeout(()=>{P.timeout&&P.timeout.running&&on(N.timer)})))},qi=(P,N)=>{if(!N.toast){if(!qe(N.allowEnterKey))return void Zo();Xo(P,N)||Dn(0,-1,1)}},Xo=(P,N)=>N.focusDeny&&Pr(P.denyButton)?(P.denyButton.focus(),!0):N.focusCancel&&Pr(P.cancelButton)?(P.cancelButton.focus(),!0):!(!N.focusConfirm||!Pr(P.confirmButton)||(P.confirmButton.focus(),0)),Zo=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const P=new Date,N=localStorage.getItem("swal-initiation");N?(P.getTime()-Date.parse(N))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const $=document.createElement("audio");$.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",$.loop=!0,document.body.appendChild($),setTimeout(()=>{$.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${P}`)}Object.assign(Kr.prototype,As),Object.assign(Kr,zs),Object.keys(As).forEach(P=>{Kr[P]=function(){if(Qo)return Qo[P](...arguments)}}),Kr.DismissReason=Ht,Kr.version="11.6.13";const oi=Kr;return oi.default=oi,oi}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ze,W){var D=ze.createElement("style");if(ze.getElementsByTagName("head")[0].appendChild(D),D.styleSheet)D.styleSheet.disabled||(D.styleSheet.cssText=W);else try{D.innerHTML=W}catch{D.innerText=W}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8041:(Cn,ze,W)=>{"use strict";W.d(ze,{$b:()=>F,Vy:()=>be});const D=[];var F=function(_e){return _e[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",_e}(F||{});const Q={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},w=F.INFO,Se={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Ze=(_e,we,...qe)=>{if(we<_e.logLevel)return;const Ct=(new Date).toISOString(),ft=Se[we];if(!ft)throw new Error(`Attempted to log a message with an invalid logType (value: ${we})`);console[ft](`[${Ct}]  ${_e.name}:`,...qe)};class be{constructor(we){this.name=we,this._logLevel=w,this._logHandler=Ze,this._userLogHandler=null,D.push(this)}get logLevel(){return this._logLevel}set logLevel(we){if(!(we in F))throw new TypeError(`Invalid value "${we}" assigned to \`logLevel\``);this._logLevel=we}setLogLevel(we){this._logLevel="string"==typeof we?Q[we]:we}get logHandler(){return this._logHandler}set logHandler(we){if("function"!=typeof we)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=we}get userLogHandler(){return this._userLogHandler}set userLogHandler(we){this._userLogHandler=we}debug(...we){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...we),this._logHandler(this,F.DEBUG,...we)}log(...we){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...we),this._logHandler(this,F.VERBOSE,...we)}info(...we){this._userLogHandler&&this._userLogHandler(this,F.INFO,...we),this._logHandler(this,F.INFO,...we)}warn(...we){this._userLogHandler&&this._userLogHandler(this,F.WARN,...we),this._logHandler(this,F.WARN,...we)}error(...we){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...we),this._logHandler(this,F.ERROR,...we)}}},8071:(Cn,ze,W)=>{"use strict";function D(F){return"function"==typeof F}W.d(ze,{T:()=>D})},8359:(Cn,ze,W)=>{"use strict";W.d(ze,{Kn:()=>Ze,yU:()=>Se,Uv:()=>be});var D=W(8071);const Q=(0,W(1853).L)(Ue=>function(we){Ue(this),this.message=we?`${we.length} errors occurred during unsubscription:\n${we.map((qe,Ct)=>`${Ct+1}) ${qe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=we});var w=W(7908);class Se{constructor(_e){this.initialTeardown=_e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _e;if(!this.closed){this.closed=!0;const{_parentage:we}=this;if(we)if(this._parentage=null,Array.isArray(we))for(const ft of we)ft.remove(this);else we.remove(this);const{initialTeardown:qe}=this;if((0,D.T)(qe))try{qe()}catch(ft){_e=ft instanceof Q?ft.errors:[ft]}const{_finalizers:Ct}=this;if(Ct){this._finalizers=null;for(const ft of Ct)try{ge(ft)}catch(Ot){_e=_e??[],Ot instanceof Q?_e=[..._e,...Ot.errors]:_e.push(Ot)}}if(_e)throw new Q(_e)}}add(_e){var we;if(_e&&_e!==this)if(this.closed)ge(_e);else{if(_e instanceof Se){if(_e.closed||_e._hasParent(this))return;_e._addParent(this)}(this._finalizers=null!==(we=this._finalizers)&&void 0!==we?we:[]).push(_e)}}_hasParent(_e){const{_parentage:we}=this;return we===_e||Array.isArray(we)&&we.includes(_e)}_addParent(_e){const{_parentage:we}=this;this._parentage=Array.isArray(we)?(we.push(_e),we):we?[we,_e]:_e}_removeParent(_e){const{_parentage:we}=this;we===_e?this._parentage=null:Array.isArray(we)&&(0,w.o)(we,_e)}remove(_e){const{_finalizers:we}=this;we&&(0,w.o)(we,_e),_e instanceof Se&&_e._removeParent(this)}}Se.EMPTY=(()=>{const Ue=new Se;return Ue.closed=!0,Ue})();const Ze=Se.EMPTY;function be(Ue){return Ue instanceof Se||Ue&&"closed"in Ue&&(0,D.T)(Ue.remove)&&(0,D.T)(Ue.add)&&(0,D.T)(Ue.unsubscribe)}function ge(Ue){(0,D.T)(Ue)?Ue():Ue.unsubscribe()}},8399:(Cn,ze,W)=>{"use strict";var D=W(6048),F=W(9377),Q=W(9361),w=W(1360);const Se=new w.nKC("");let Ze=(()=>{class m{_zone;_plugins;_eventNameToPlugin=new Map;constructor(f,E){this._zone=E,f.forEach(M=>{M.manager=this}),this._plugins=f.slice().reverse()}addEventListener(f,E,M,V){return this._findPluginFor(E).addEventListener(f,E,M,V)}getZone(){return this._zone}_findPluginFor(f){let E=this._eventNameToPlugin.get(f);if(E)return E;if(E=this._plugins.find(V=>V.supports(f)),!E)throw new w.wOt(5101,!1);return this._eventNameToPlugin.set(f,E),E}static \u0275fac=function(E){return new(E||m)(w.KVO(Se),w.KVO(w.SKi))};static \u0275prov=w.jDH({token:m,factory:m.\u0275fac})}return m})();class be{_doc;constructor(d){this._doc=d}manager}const ge="ng-app-id";function Ue(m){for(const d of m)d.remove()}function _e(m,d){const f=d.createElement("style");return f.textContent=m,f}function qe(m,d){const f=d.createElement("link");return f.setAttribute("rel","stylesheet"),f.setAttribute("href",m),f}let Ct=(()=>{class m{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(f,E,M,V={}){this.doc=f,this.appId=E,this.nonce=M,this.isServer=(0,F.Vy)(V),function we(m,d,f,E){const M=m.head?.querySelectorAll(`style[${ge}="${d}"],link[${ge}="${d}"]`);if(M)for(const V of M)V.removeAttribute(ge),V instanceof HTMLLinkElement?E.set(V.href.slice(V.href.lastIndexOf("/")+1),{usage:0,elements:[V]}):V.textContent&&f.set(V.textContent,{usage:0,elements:[V]})}(f,E,this.inline,this.external),this.hosts.add(f.head)}addStyles(f,E){for(const M of f)this.addUsage(M,this.inline,_e);E?.forEach(M=>this.addUsage(M,this.external,qe))}removeStyles(f,E){for(const M of f)this.removeUsage(M,this.inline);E?.forEach(M=>this.removeUsage(M,this.external))}addUsage(f,E,M){const V=E.get(f);V?V.usage++:E.set(f,{usage:1,elements:[...this.hosts].map(ee=>this.addElement(ee,M(f,this.doc)))})}removeUsage(f,E){const M=E.get(f);M&&(M.usage--,M.usage<=0&&(Ue(M.elements),E.delete(f)))}ngOnDestroy(){for(const[,{elements:f}]of[...this.inline,...this.external])Ue(f);this.hosts.clear()}addHost(f){this.hosts.add(f);for(const[E,{elements:M}]of this.inline)M.push(this.addElement(f,_e(E,this.doc)));for(const[E,{elements:M}]of this.external)M.push(this.addElement(f,qe(E,this.doc)))}removeHost(f){this.hosts.delete(f)}addElement(f,E){return this.nonce&&E.setAttribute("nonce",this.nonce),this.isServer&&E.setAttribute(ge,this.appId),f.appendChild(E)}static \u0275fac=function(E){return new(E||m)(w.KVO(Q.q),w.KVO(w.sZ2),w.KVO(w.BIS,8),w.KVO(w.Agw))};static \u0275prov=w.jDH({token:m,factory:m.\u0275fac})}return m})();const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ot=/%COMP%/g,Ne=new w.nKC("",{providedIn:"root",factory:()=>!0});function Tt(m,d){return d.map(f=>f.replace(Ot,m))}let vt=(()=>{class m{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(f,E,M,V,ee,Ee,We,pt=null,an=null){this.eventManager=f,this.sharedStylesHost=E,this.appId=M,this.removeStylesOnCompDestroy=V,this.doc=ee,this.platformId=Ee,this.ngZone=We,this.nonce=pt,this.tracingService=an,this.platformIsServer=(0,F.Vy)(Ee),this.defaultRenderer=new dt(f,ee,We,this.platformIsServer,this.tracingService)}createRenderer(f,E){if(!f||!E)return this.defaultRenderer;this.platformIsServer&&E.encapsulation===w.gXe.ShadowDom&&(E={...E,encapsulation:w.gXe.Emulated});const M=this.getOrCreateRenderer(f,E);return M instanceof Xe?M.applyToHost(f):M instanceof wn&&M.applyStyles(),M}getOrCreateRenderer(f,E){const M=this.rendererByCompId;let V=M.get(E.id);if(!V){const ee=this.doc,Ee=this.ngZone,We=this.eventManager,pt=this.sharedStylesHost,an=this.removeStylesOnCompDestroy,ln=this.platformIsServer,Yn=this.tracingService;switch(E.encapsulation){case w.gXe.Emulated:V=new Xe(We,pt,E,this.appId,an,ee,Ee,ln,Yn);break;case w.gXe.ShadowDom:return new ut(We,pt,f,E,ee,Ee,this.nonce,ln,Yn);default:V=new wn(We,pt,E,an,ee,Ee,ln,Yn)}M.set(E.id,V)}return V}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(f){this.rendererByCompId.delete(f)}static \u0275fac=function(E){return new(E||m)(w.KVO(Ze),w.KVO(Ct),w.KVO(w.sZ2),w.KVO(Ne),w.KVO(Q.q),w.KVO(w.Agw),w.KVO(w.SKi),w.KVO(w.BIS),w.KVO(w.Lf2,8))};static \u0275prov=w.jDH({token:m,factory:m.\u0275fac})}return m})();class dt{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(d,f,E,M,V){this.eventManager=d,this.doc=f,this.ngZone=E,this.platformIsServer=M,this.tracingService=V}destroy(){}destroyNode=null;createElement(d,f){return f?this.doc.createElementNS(ft[f]||f,d):this.doc.createElement(d)}createComment(d){return this.doc.createComment(d)}createText(d){return this.doc.createTextNode(d)}appendChild(d,f){(er(d)?d.content:d).appendChild(f)}insertBefore(d,f,E){d&&(er(d)?d.content:d).insertBefore(f,E)}removeChild(d,f){f.remove()}selectRootElement(d,f){let E="string"==typeof d?this.doc.querySelector(d):d;if(!E)throw new w.wOt(-5104,!1);return f||(E.textContent=""),E}parentNode(d){return d.parentNode}nextSibling(d){return d.nextSibling}setAttribute(d,f,E,M){if(M){f=M+":"+f;const V=ft[M];V?d.setAttributeNS(V,f,E):d.setAttribute(f,E)}else d.setAttribute(f,E)}removeAttribute(d,f,E){if(E){const M=ft[E];M?d.removeAttributeNS(M,f):d.removeAttribute(`${E}:${f}`)}else d.removeAttribute(f)}addClass(d,f){d.classList.add(f)}removeClass(d,f){d.classList.remove(f)}setStyle(d,f,E,M){M&(w.czy.DashCase|w.czy.Important)?d.style.setProperty(f,E,M&w.czy.Important?"important":""):d.style[f]=E}removeStyle(d,f,E){E&w.czy.DashCase?d.style.removeProperty(f):d.style[f]=""}setProperty(d,f,E){null!=d&&(d[f]=E)}setValue(d,f){d.nodeValue=f}listen(d,f,E,M){if("string"==typeof d&&!(d=(0,D.rb)().getGlobalEventTarget(this.doc,d)))throw new w.wOt(5102,!1);let V=this.decoratePreventDefault(E);return this.tracingService?.wrapEventListener&&(V=this.tracingService.wrapEventListener(d,f,V)),this.eventManager.addEventListener(d,f,V,M)}decoratePreventDefault(d){return f=>{if("__ngUnwrap__"===f)return d;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>d(f)):d(f))&&f.preventDefault()}}}function er(m){return"TEMPLATE"===m.tagName&&void 0!==m.content}class ut extends dt{sharedStylesHost;hostEl;shadowRoot;constructor(d,f,E,M,V,ee,Ee,We,pt){super(d,V,ee,We,pt),this.sharedStylesHost=f,this.hostEl=E,this.shadowRoot=E.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let an=M.styles;an=Tt(M.id,an);for(const Yn of an){const zn=document.createElement("style");Ee&&zn.setAttribute("nonce",Ee),zn.textContent=Yn,this.shadowRoot.appendChild(zn)}const ln=M.getExternalStyles?.();if(ln)for(const Yn of ln){const zn=qe(Yn,V);Ee&&zn.setAttribute("nonce",Ee),this.shadowRoot.appendChild(zn)}}nodeOrShadowRoot(d){return d===this.hostEl?this.shadowRoot:d}appendChild(d,f){return super.appendChild(this.nodeOrShadowRoot(d),f)}insertBefore(d,f,E){return super.insertBefore(this.nodeOrShadowRoot(d),f,E)}removeChild(d,f){return super.removeChild(null,f)}parentNode(d){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(d)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wn extends dt{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(d,f,E,M,V,ee,Ee,We,pt){super(d,V,ee,Ee,We),this.sharedStylesHost=f,this.removeStylesOnCompDestroy=M;let an=E.styles;this.styles=pt?Tt(pt,an):an,this.styleUrls=E.getExternalStyles?.(pt)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Xe extends wn{contentAttr;hostAttr;constructor(d,f,E,M,V,ee,Ee,We,pt){const an=M+"-"+E.id;super(d,f,E,V,ee,Ee,We,pt,an),this.contentAttr=function ct(m){return"_ngcontent-%COMP%".replace(Ot,m)}(an),this.hostAttr=function et(m){return"_nghost-%COMP%".replace(Ot,m)}(an)}applyToHost(d){this.applyStyles(),this.setAttribute(d,this.hostAttr,"")}createElement(d,f){const E=super.createElement(d,f);return super.setAttribute(E,this.contentAttr,""),E}}class en extends D.qj{supportsDOMEvents=!0;static makeCurrent(){(0,D.ig)(new en)}onAndCancel(d,f,E,M){return d.addEventListener(f,E,M),()=>{d.removeEventListener(f,E,M)}}dispatchEvent(d,f){d.dispatchEvent(f)}remove(d){d.remove()}createElement(d,f){return(f=f||this.getDefaultDocument()).createElement(d)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(d){return d.nodeType===Node.ELEMENT_NODE}isShadowRoot(d){return d instanceof DocumentFragment}getGlobalEventTarget(d,f){return"window"===f?window:"document"===f?d:"body"===f?d.body:null}getBaseHref(d){const f=function Ge(){return Pt=Pt||document.head.querySelector("base"),Pt?Pt.getAttribute("href"):null}();return null==f?null:function Z(m){return new URL(m,document.baseURI).pathname}(f)}resetBaseElement(){Pt=null}getUserAgent(){return window.navigator.userAgent}getCookie(d){return(0,F.bS)(document.cookie,d)}}let Pt=null,de=(()=>{class m{build(){return new XMLHttpRequest}static \u0275fac=function(E){return new(E||m)};static \u0275prov=w.jDH({token:m,factory:m.\u0275fac})}return m})(),pe=(()=>{class m extends be{constructor(f){super(f)}supports(f){return!0}addEventListener(f,E,M,V){return f.addEventListener(E,M,V),()=>this.removeEventListener(f,E,M,V)}removeEventListener(f,E,M,V){return f.removeEventListener(E,M,V)}static \u0275fac=function(E){return new(E||m)(w.KVO(Q.q))};static \u0275prov=w.jDH({token:m,factory:m.\u0275fac})}return m})();const re=["alt","control","meta","shift"],he={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ke={alt:m=>m.altKey,control:m=>m.ctrlKey,meta:m=>m.metaKey,shift:m=>m.shiftKey};let gt=(()=>{class m extends be{constructor(f){super(f)}supports(f){return null!=m.parseEventName(f)}addEventListener(f,E,M,V){const ee=m.parseEventName(E),Ee=m.eventCallback(ee.fullKey,M,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.rb)().onAndCancel(f,ee.domEventName,Ee,V))}static parseEventName(f){const E=f.toLowerCase().split("."),M=E.shift();if(0===E.length||"keydown"!==M&&"keyup"!==M)return null;const V=m._normalizeKey(E.pop());let ee="",Ee=E.indexOf("code");if(Ee>-1&&(E.splice(Ee,1),ee="code."),re.forEach(pt=>{const an=E.indexOf(pt);an>-1&&(E.splice(an,1),ee+=pt+".")}),ee+=V,0!=E.length||0===V.length)return null;const We={};return We.domEventName=M,We.fullKey=ee,We}static matchEventFullKeyCode(f,E){let M=he[f.key]||f.key,V="";return E.indexOf("code.")>-1&&(M=f.code,V="code."),!(null==M||!M)&&(M=M.toLowerCase()," "===M?M="space":"."===M&&(M="dot"),re.forEach(ee=>{ee!==M&&(0,Ke[ee])(f)&&(V+=ee+".")}),V+=M,V===E)}static eventCallback(f,E,M){return V=>{m.matchEventFullKeyCode(V,f)&&M.runGuarded(()=>E(V))}}static _normalizeKey(f){return"esc"===f?"escape":f}static \u0275fac=function(E){return new(E||m)(w.KVO(Q.q))};static \u0275prov=w.jDH({token:m,factory:m.\u0275fac})}return m})();function nr(m){return{appProviders:[...Pr,...m?.providers??[]],platformProviders:Vn}}const Vn=[{provide:w.Agw,useValue:F.Zn},{provide:w.PLl,useValue:function Qn(){en.makeCurrent()},multi:!0},{provide:Q.q,useFactory:function Kt(){return(0,w.TL$)(document),document}}],Pr=[{provide:w.H8p,useValue:"root"},{provide:w.zcH,useFactory:function Hn(){return new w.zcH}},{provide:Se,useClass:pe,multi:!0,deps:[Q.q]},{provide:Se,useClass:gt,multi:!0,deps:[Q.q]},vt,Ct,Ze,{provide:w._9s,useExisting:vt},{provide:F.N0,useClass:de},[]];var fn=W(969);function on(m){return new w.wOt(3e3,!1)}function me(m){switch(m.length){case 0:return new fn.sf;case 1:return m[0];default:return new fn.PZ(m)}}function Be(m,d,f=new Map,E=new Map){const M=[],V=[];let ee=-1,Ee=null;if(d.forEach(We=>{const pt=We.get("offset"),an=pt==ee,ln=an&&Ee||new Map;We.forEach((Yn,zn)=>{let Zn=zn,ur=Yn;if("offset"!==zn)switch(Zn=m.normalizePropertyName(Zn,M),ur){case fn.FX:ur=f.get(zn);break;case fn.kp:ur=E.get(zn);break;default:ur=m.normalizeStyleValue(zn,Zn,ur,M)}ln.set(Zn,ur)}),an||V.push(ln),Ee=ln,ee=pt}),M.length)throw function Le(){return new w.wOt(3502,!1)}();return V}function xt(m,d,f,E){switch(d){case"start":m.onStart(()=>E(f&&Ye(f,"start",m)));break;case"done":m.onDone(()=>E(f&&Ye(f,"done",m)));break;case"destroy":m.onDestroy(()=>E(f&&Ye(f,"destroy",m)))}}function Ye(m,d,f){const V=Qt(m.element,m.triggerName,m.fromState,m.toState,d||m.phaseName,f.totalTime??m.totalTime,!!f.disabled),ee=m._data;return null!=ee&&(V._data=ee),V}function Qt(m,d,f,E,M="",V=0,ee){return{element:m,triggerName:d,fromState:f,toState:E,phaseName:M,totalTime:V,disabled:!!ee}}function Rn(m,d,f){let E=m.get(d);return E||m.set(d,E=f),E}function mr(m){const d=m.indexOf(":");return[m.substring(1,d),m.slice(d+1)]}const ne=typeof document>"u"?null:document.documentElement;function ae(m){const d=m.parentNode||m.host||null;return d===ne?null:d}let at=null,Et=!1;function bt(m,d){for(;d;){if(d===m)return!0;d=ae(d)}return!1}function yt(m,d,f){if(f)return Array.from(m.querySelectorAll(d));const E=m.querySelector(d);return E?[E]:[]}const Un="ng-enter",cn="ng-leave",qn="ng-trigger",ar=".ng-trigger",wi="ng-animating",Ri=".ng-animating";function ve(m){if("number"==typeof m)return m;const d=m.match(/^(-?[\.\d]+)(m?s)/);return!d||d.length<2?0:Ve(parseFloat(d[1]),d[2])}function Ve(m,d){return"s"===d?1e3*m:m}function Qe(m,d,f){return m.hasOwnProperty("duration")?m:function Vt(m,d,f){let M,V=0,ee="";if("string"==typeof m){const Ee=m.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ee)return d.push(on()),{duration:0,delay:0,easing:""};M=Ve(parseFloat(Ee[1]),Ee[2]);const We=Ee[3];null!=We&&(V=Ve(parseFloat(We),Ee[4]));const pt=Ee[5];pt&&(ee=pt)}else M=m;if(!f){let Ee=!1,We=d.length;M<0&&(d.push(function Xi(){return new w.wOt(3100,!1)}()),Ee=!0),V<0&&(d.push(function Nr(){return new w.wOt(3101,!1)}()),Ee=!0),Ee&&d.splice(We,0,on())}return{duration:M,delay:V,easing:ee}}(m,d,f)}function Fn(m,d,f){d.forEach((E,M)=>{const V=Bo(M);f&&!f.has(M)&&f.set(M,m.style[V]),m.style[V]=E})}function Dn(m,d){d.forEach((f,E)=>{const M=Bo(E);m.style[M]=""})}function rr(m){return Array.isArray(m)?1==m.length?m[0]:(0,fn.K2)(m):m}const Po=new RegExp("{{\\s*(.+?)\\s*}}","g");function Sr(m){let d=[];if("string"==typeof m){let f;for(;f=Po.exec(m);)d.push(f[1]);Po.lastIndex=0}return d}function ao(m,d,f){const E=`${m}`,M=E.replace(Po,(V,ee)=>{let Ee=d[ee];return null==Ee&&(f.push(function Ir(){return new w.wOt(3003,!1)}()),Ee=""),Ee.toString()});return M==E?m:M}const Wi=/-+([a-z0-9])/g;function Bo(m){return m.replace(Wi,(...d)=>d[1].toUpperCase())}function K(m,d,f){switch(d.type){case fn.If.Trigger:return m.visitTrigger(d,f);case fn.If.State:return m.visitState(d,f);case fn.If.Transition:return m.visitTransition(d,f);case fn.If.Sequence:return m.visitSequence(d,f);case fn.If.Group:return m.visitGroup(d,f);case fn.If.Animate:return m.visitAnimate(d,f);case fn.If.Keyframes:return m.visitKeyframes(d,f);case fn.If.Style:return m.visitStyle(d,f);case fn.If.Reference:return m.visitReference(d,f);case fn.If.AnimateChild:return m.visitAnimateChild(d,f);case fn.If.AnimateRef:return m.visitAnimateRef(d,f);case fn.If.Query:return m.visitQuery(d,f);case fn.If.Stagger:return m.visitStagger(d,f);default:throw function Kn(){return new w.wOt(3004,!1)}()}}function te(m,d){return window.getComputedStyle(m)[d]}let Pe=(()=>{class m{validateStyleProperty(f){return function oe(m){at||(at=function Oe(){return typeof document<"u"?document.body:null}()||{},Et=!!at.style&&"WebkitAppearance"in at.style);let d=!0;return at.style&&!function Ce(m){return"ebkit"==m.substring(1,6)}(m)&&(d=m in at.style,!d&&Et&&(d="Webkit"+m.charAt(0).toUpperCase()+m.slice(1)in at.style)),d}(f)}containsElement(f,E){return bt(f,E)}getParentElement(f){return ae(f)}query(f,E,M){return yt(f,E,M)}computeStyle(f,E,M){return M||""}animate(f,E,M,V,ee,Ee=[],We){return new fn.sf(M,V)}static \u0275fac=function(E){return new(E||m)};static \u0275prov=w.jDH({token:m,factory:m.\u0275fac})}return m})();class wt{static NOOP=new Pe}class sn{}const ci=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Xr extends sn{normalizePropertyName(d,f){return Bo(d)}normalizeStyleValue(d,f,E,M){let V="";const ee=E.toString().trim();if(ci.has(f)&&0!==E&&"0"!==E)if("number"==typeof E)V="px";else{const Ee=E.match(/^[+-]?[\d\.]+([a-z]*)$/);Ee&&0==Ee[1].length&&M.push(function qt(){return new w.wOt(3005,!1)}())}return ee+V}}const tt=new Set(["true","1"]),Me=new Set(["false","0"]);function lt(m,d){const f=tt.has(m)||Me.has(m),E=tt.has(d)||Me.has(d);return(M,V)=>{let ee="*"==m||m==M,Ee="*"==d||d==V;return!ee&&f&&"boolean"==typeof M&&(ee=M?tt.has(m):Me.has(m)),!Ee&&E&&"boolean"==typeof V&&(Ee=V?tt.has(d):Me.has(d)),ee&&Ee}}const vn=new RegExp("s*:selfs*,?","g");function Bn(m,d,f,E){return new go(m).build(d,f,E)}class go{_driver;constructor(d){this._driver=d}build(d,f,E){const M=new ss(f);return this._resetContextStyleTimingState(M),K(this,rr(d),M)}_resetContextStyleTimingState(d){d.currentQuerySelector="",d.collectedStyles=new Map,d.collectedStyles.set("",new Map),d.currentTime=0}visitTrigger(d,f){let E=f.queryCount=0,M=f.depCount=0;const V=[],ee=[];return"@"==d.name.charAt(0)&&f.errors.push(function si(){return new w.wOt(3006,!1)}()),d.definitions.forEach(Ee=>{if(this._resetContextStyleTimingState(f),Ee.type==fn.If.State){const We=Ee,pt=We.name;pt.toString().split(/\s*,\s*/).forEach(an=>{We.name=an,V.push(this.visitState(We,f))}),We.name=pt}else if(Ee.type==fn.If.Transition){const We=this.visitTransition(Ee,f);E+=We.queryCount,M+=We.depCount,ee.push(We)}else f.errors.push(function li(){return new w.wOt(3007,!1)}())}),{type:fn.If.Trigger,name:d.name,states:V,transitions:ee,queryCount:E,depCount:M,options:null}}visitState(d,f){const E=this.visitStyle(d.styles,f),M=d.options&&d.options.params||null;if(E.containsDynamicStyles){const V=new Set,ee=M||{};E.styles.forEach(Ee=>{Ee instanceof Map&&Ee.forEach(We=>{Sr(We).forEach(pt=>{ee.hasOwnProperty(pt)||V.add(pt)})})}),V.size&&f.errors.push(function gi(){return new w.wOt(3008,!1)}(0,V.values()))}return{type:fn.If.State,name:d.name,style:E,options:M?{params:M}:null}}visitTransition(d,f){f.queryCount=0,f.depCount=0;const E=K(this,rr(d.animation),f),M=function wo(m,d){const f=[];return"string"==typeof m?m.split(/\s*,\s*/).forEach(E=>function Wo(m,d,f){if(":"==m[0]){const We=function ce(m,d){switch(m){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(f,E)=>parseFloat(E)>parseFloat(f);case":decrement":return(f,E)=>parseFloat(E)<parseFloat(f);default:return d.push(function bi(){return new w.wOt(3016,!1)}()),"* => *"}}(m,f);if("function"==typeof We)return void d.push(We);m=We}const E=m.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==E||E.length<4)return f.push(function An(){return new w.wOt(3015,!1)}()),d;const M=E[1],V=E[2],ee=E[3];d.push(lt(M,ee)),"<"==V[0]&&("*"!=M||"*"!=ee)&&d.push(lt(ee,M))}(E,f,d)):f.push(m),f}(d.expr,f.errors);return{type:fn.If.Transition,matchers:M,animation:E,queryCount:f.queryCount,depCount:f.depCount,options:Io(d.options)}}visitSequence(d,f){return{type:fn.If.Sequence,steps:d.steps.map(E=>K(this,E,f)),options:Io(d.options)}}visitGroup(d,f){const E=f.currentTime;let M=0;const V=d.steps.map(ee=>{f.currentTime=E;const Ee=K(this,ee,f);return M=Math.max(M,f.currentTime),Ee});return f.currentTime=M,{type:fn.If.Group,steps:V,options:Io(d.options)}}visitAnimate(d,f){const E=function as(m,d){if(m.hasOwnProperty("duration"))return m;if("number"==typeof m)return Mo(Qe(m,d).duration,0,"");const f=m;if(f.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=Mo(0,0,"");return V.dynamic=!0,V.strValue=f,V}const M=Qe(f,d);return Mo(M.duration,M.delay,M.easing)}(d.timings,f.errors);f.currentAnimateTimings=E;let M,V=d.styles?d.styles:(0,fn.iF)({});if(V.type==fn.If.Keyframes)M=this.visitKeyframes(V,f);else{let ee=d.styles,Ee=!1;if(!ee){Ee=!0;const pt={};E.easing&&(pt.easing=E.easing),ee=(0,fn.iF)(pt)}f.currentTime+=E.duration+E.delay;const We=this.visitStyle(ee,f);We.isEmptyStep=Ee,M=We}return f.currentAnimateTimings=null,{type:fn.If.Animate,timings:E,style:M,options:null}}visitStyle(d,f){const E=this._makeStyleAst(d,f);return this._validateStyleAst(E,f),E}_makeStyleAst(d,f){const E=[],M=Array.isArray(d.styles)?d.styles:[d.styles];for(let Ee of M)"string"==typeof Ee?Ee===fn.kp?E.push(Ee):f.errors.push(new w.wOt(3002,!1)):E.push(new Map(Object.entries(Ee)));let V=!1,ee=null;return E.forEach(Ee=>{if(Ee instanceof Map&&(Ee.has("easing")&&(ee=Ee.get("easing"),Ee.delete("easing")),!V))for(let We of Ee.values())if(We.toString().indexOf("{{")>=0){V=!0;break}}),{type:fn.If.Style,styles:E,easing:ee,offset:d.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(d,f){const E=f.currentAnimateTimings;let M=f.currentTime,V=f.currentTime;E&&V>0&&(V-=E.duration+E.delay),d.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((Ee,We)=>{const pt=f.collectedStyles.get(f.currentQuerySelector),an=pt.get(We);let ln=!0;an&&(V!=M&&V>=an.startTime&&M<=an.endTime&&(f.errors.push(function Ei(){return new w.wOt(3010,!1)}()),ln=!1),V=an.startTime),ln&&pt.set(We,{startTime:V,endTime:M}),f.options&&function zr(m,d,f){const E=d.params||{},M=Sr(m);M.length&&M.forEach(V=>{E.hasOwnProperty(V)||f.push(function st(){return new w.wOt(3001,!1)}())})}(Ee,f.options,f.errors)})})}visitKeyframes(d,f){const E={type:fn.If.Keyframes,styles:[],options:null};if(!f.currentAnimateTimings)return f.errors.push(function Cr(){return new w.wOt(3011,!1)}()),E;let V=0;const ee=[];let Ee=!1,We=!1,pt=0;const an=d.steps.map(Co=>{const ds=this._makeStyleAst(Co,f);let Cs=null!=ds.offset?ds.offset:function En(m){if("string"==typeof m)return null;let d=null;if(Array.isArray(m))m.forEach(f=>{if(f instanceof Map&&f.has("offset")){const E=f;d=parseFloat(E.get("offset")),E.delete("offset")}});else if(m instanceof Map&&m.has("offset")){const f=m;d=parseFloat(f.get("offset")),f.delete("offset")}return d}(ds.styles),Lo=0;return null!=Cs&&(V++,Lo=ds.offset=Cs),We=We||Lo<0||Lo>1,Ee=Ee||Lo<pt,pt=Lo,ee.push(Lo),ds});We&&f.errors.push(function di(){return new w.wOt(3012,!1)}()),Ee&&f.errors.push(function lr(){return new w.wOt(3200,!1)}());const ln=d.steps.length;let Yn=0;V>0&&V<ln?f.errors.push(function sr(){return new w.wOt(3202,!1)}()):0==V&&(Yn=1/(ln-1));const zn=ln-1,Zn=f.currentTime,ur=f.currentAnimateTimings,Fi=ur.duration;return an.forEach((Co,ds)=>{const Cs=Yn>0?ds==zn?1:Yn*ds:ee[ds],Lo=Cs*Fi;f.currentTime=Zn+ur.delay+Lo,ur.duration=Lo,this._validateStyleAst(Co,f),Co.offset=Cs,E.styles.push(Co)}),E}visitReference(d,f){return{type:fn.If.Reference,animation:K(this,rr(d.animation),f),options:Io(d.options)}}visitAnimateChild(d,f){return f.depCount++,{type:fn.If.AnimateChild,options:Io(d.options)}}visitAnimateRef(d,f){return{type:fn.If.AnimateRef,animation:this.visitReference(d.animation,f),options:Io(d.options)}}visitQuery(d,f){const E=f.currentQuerySelector,M=d.options||{};f.queryCount++,f.currentQuery=d;const[V,ee]=function xs(m){const d=!!m.split(/\s*,\s*/).find(f=>":self"==f);return d&&(m=m.replace(vn,"")),m=m.replace(/@\*/g,ar).replace(/@\w+/g,f=>ar+"-"+f.slice(1)).replace(/:animating/g,Ri),[m,d]}(d.selector);f.currentQuerySelector=E.length?E+" "+V:V,Rn(f.collectedStyles,f.currentQuerySelector,new Map);const Ee=K(this,rr(d.animation),f);return f.currentQuery=null,f.currentQuerySelector=E,{type:fn.If.Query,selector:V,limit:M.limit||0,optional:!!M.optional,includeSelf:ee,animation:Ee,originalSelector:d.selector,options:Io(d.options)}}visitStagger(d,f){f.currentQuery||f.errors.push(function mi(){return new w.wOt(3013,!1)}());const E="full"===d.timings?{duration:0,delay:0,easing:"full"}:Qe(d.timings,f.errors,!0);return{type:fn.If.Stagger,animation:K(this,rr(d.animation),f),timings:E,options:null}}}class ss{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(d){this.errors=d}}function Io(m){return m?(m={...m}).params&&(m.params=function ni(m){return m?{...m}:null}(m.params)):m={},m}function Mo(m,d,f){return{duration:m,delay:d,easing:f}}function Yo(m,d,f,E,M,V,ee=null,Ee=!1){return{type:1,element:m,keyframes:d,preStyleProps:f,postStyleProps:E,duration:M,delay:V,totalTime:M+V,easing:ee,subTimeline:Ee}}class ko{_map=new Map;get(d){return this._map.get(d)||[]}append(d,f){let E=this._map.get(d);E||this._map.set(d,E=[]),E.push(...f)}has(d){return this._map.has(d)}clear(){this._map.clear()}}const Or=new RegExp(":enter","g"),mo=new RegExp(":leave","g");function qo(m,d,f,E,M,V=new Map,ee=new Map,Ee,We,pt=[]){return(new Ds).buildKeyframes(m,d,f,E,M,V,ee,Ee,We,pt)}class Ds{buildKeyframes(d,f,E,M,V,ee,Ee,We,pt,an=[]){pt=pt||new ko;const ln=new co(d,f,pt,M,V,an,[]);ln.options=We;const Yn=We.delay?ve(We.delay):0;ln.currentTimeline.delayNextStep(Yn),ln.currentTimeline.setStyles([ee],null,ln.errors,We),K(this,E,ln);const zn=ln.timelines.filter(Zn=>Zn.containsAnimation());if(zn.length&&Ee.size){let Zn;for(let ur=zn.length-1;ur>=0;ur--){const Fi=zn[ur];if(Fi.element===f){Zn=Fi;break}}Zn&&!Zn.allowOnlyTimelineStyles()&&Zn.setStyles([Ee],null,ln.errors,We)}return zn.length?zn.map(Zn=>Zn.buildKeyframes()):[Yo(f,[],[],[],0,Yn,"",!1)]}visitTrigger(d,f){}visitState(d,f){}visitTransition(d,f){}visitAnimateChild(d,f){const E=f.subInstructions.get(f.element);if(E){const M=f.createSubContext(d.options),V=f.currentTimeline.currentTime,ee=this._visitSubInstructions(E,M,M.options);V!=ee&&f.transformIntoNewTimeline(ee)}f.previousNode=d}visitAnimateRef(d,f){const E=f.createSubContext(d.options);E.transformIntoNewTimeline(),this._applyAnimationRefDelays([d.options,d.animation.options],f,E),this.visitReference(d.animation,E),f.transformIntoNewTimeline(E.currentTimeline.currentTime),f.previousNode=d}_applyAnimationRefDelays(d,f,E){for(const M of d){const V=M?.delay;if(V){const ee="number"==typeof V?V:ve(ao(V,M?.params??{},f.errors));E.delayNextStep(ee)}}}_visitSubInstructions(d,f,E){let V=f.currentTimeline.currentTime;const ee=null!=E.duration?ve(E.duration):null,Ee=null!=E.delay?ve(E.delay):null;return 0!==ee&&d.forEach(We=>{const pt=f.appendInstructionToTimeline(We,ee,Ee);V=Math.max(V,pt.duration+pt.delay)}),V}visitReference(d,f){f.updateOptions(d.options,!0),K(this,d.animation,f),f.previousNode=d}visitSequence(d,f){const E=f.subContextCount;let M=f;const V=d.options;if(V&&(V.params||V.delay)&&(M=f.createSubContext(V),M.transformIntoNewTimeline(),null!=V.delay)){M.previousNode.type==fn.If.Style&&(M.currentTimeline.snapshotCurrentStyles(),M.previousNode=qr);const ee=ve(V.delay);M.delayNextStep(ee)}d.steps.length&&(d.steps.forEach(ee=>K(this,ee,M)),M.currentTimeline.applyStylesToKeyframe(),M.subContextCount>E&&M.transformIntoNewTimeline()),f.previousNode=d}visitGroup(d,f){const E=[];let M=f.currentTimeline.currentTime;const V=d.options&&d.options.delay?ve(d.options.delay):0;d.steps.forEach(ee=>{const Ee=f.createSubContext(d.options);V&&Ee.delayNextStep(V),K(this,ee,Ee),M=Math.max(M,Ee.currentTimeline.currentTime),E.push(Ee.currentTimeline)}),E.forEach(ee=>f.currentTimeline.mergeTimelineCollectedStyles(ee)),f.transformIntoNewTimeline(M),f.previousNode=d}_visitTiming(d,f){if(d.dynamic){const E=d.strValue;return Qe(f.params?ao(E,f.params,f.errors):E,f.errors)}return{duration:d.duration,delay:d.delay,easing:d.easing}}visitAnimate(d,f){const E=f.currentAnimateTimings=this._visitTiming(d.timings,f),M=f.currentTimeline;E.delay&&(f.incrementTime(E.delay),M.snapshotCurrentStyles());const V=d.style;V.type==fn.If.Keyframes?this.visitKeyframes(V,f):(f.incrementTime(E.duration),this.visitStyle(V,f),M.applyStylesToKeyframe()),f.currentAnimateTimings=null,f.previousNode=d}visitStyle(d,f){const E=f.currentTimeline,M=f.currentAnimateTimings;!M&&E.hasCurrentStyleProperties()&&E.forwardFrame();const V=M&&M.easing||d.easing;d.isEmptyStep?E.applyEmptyStep(V):E.setStyles(d.styles,V,f.errors,f.options),f.previousNode=d}visitKeyframes(d,f){const E=f.currentAnimateTimings,M=f.currentTimeline.duration,V=E.duration,Ee=f.createSubContext().currentTimeline;Ee.easing=E.easing,d.styles.forEach(We=>{Ee.forwardTime((We.offset||0)*V),Ee.setStyles(We.styles,We.easing,f.errors,f.options),Ee.applyStylesToKeyframe()}),f.currentTimeline.mergeTimelineCollectedStyles(Ee),f.transformIntoNewTimeline(M+V),f.previousNode=d}visitQuery(d,f){const E=f.currentTimeline.currentTime,M=d.options||{},V=M.delay?ve(M.delay):0;V&&(f.previousNode.type===fn.If.Style||0==E&&f.currentTimeline.hasCurrentStyleProperties())&&(f.currentTimeline.snapshotCurrentStyles(),f.previousNode=qr);let ee=E;const Ee=f.invokeQuery(d.selector,d.originalSelector,d.limit,d.includeSelf,!!M.optional,f.errors);f.currentQueryTotal=Ee.length;let We=null;Ee.forEach((pt,an)=>{f.currentQueryIndex=an;const ln=f.createSubContext(d.options,pt);V&&ln.delayNextStep(V),pt===f.element&&(We=ln.currentTimeline),K(this,d.animation,ln),ln.currentTimeline.applyStylesToKeyframe(),ee=Math.max(ee,ln.currentTimeline.currentTime)}),f.currentQueryIndex=0,f.currentQueryTotal=0,f.transformIntoNewTimeline(ee),We&&(f.currentTimeline.mergeTimelineCollectedStyles(We),f.currentTimeline.snapshotCurrentStyles()),f.previousNode=d}visitStagger(d,f){const E=f.parentContext,M=f.currentTimeline,V=d.timings,ee=Math.abs(V.duration),Ee=ee*(f.currentQueryTotal-1);let We=ee*f.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":We=Ee-We;break;case"full":We=E.currentStaggerTime}const an=f.currentTimeline;We&&an.delayNextStep(We);const ln=an.currentTime;K(this,d.animation,f),f.previousNode=d,E.currentStaggerTime=M.currentTime-ln+(M.startTime-E.currentTimeline.startTime)}}const qr={};class co{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=qr;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(d,f,E,M,V,ee,Ee,We){this._driver=d,this.element=f,this.subInstructions=E,this._enterClassName=M,this._leaveClassName=V,this.errors=ee,this.timelines=Ee,this.currentTimeline=We||new Zr(this._driver,f,0),Ee.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(d,f){if(!d)return;const E=d;let M=this.options;null!=E.duration&&(M.duration=ve(E.duration)),null!=E.delay&&(M.delay=ve(E.delay));const V=E.params;if(V){let ee=M.params;ee||(ee=this.options.params={}),Object.keys(V).forEach(Ee=>{(!f||!ee.hasOwnProperty(Ee))&&(ee[Ee]=ao(V[Ee],ee,this.errors))})}}_copyOptions(){const d={};if(this.options){const f=this.options.params;if(f){const E=d.params={};Object.keys(f).forEach(M=>{E[M]=f[M]})}}return d}createSubContext(d=null,f,E){const M=f||this.element,V=new co(this._driver,M,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(M,E||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(d),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(d){return this.previousNode=qr,this.currentTimeline=this.currentTimeline.fork(this.element,d),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(d,f,E){const M={duration:f??d.duration,delay:this.currentTimeline.currentTime+(E??0)+d.delay,easing:""},V=new Jr(this._driver,d.element,d.keyframes,d.preStyleProps,d.postStyleProps,M,d.stretchStartingKeyframe);return this.timelines.push(V),M}incrementTime(d){this.currentTimeline.forwardTime(this.currentTimeline.duration+d)}delayNextStep(d){d>0&&this.currentTimeline.delayNextStep(d)}invokeQuery(d,f,E,M,V,ee){let Ee=[];if(M&&Ee.push(this.element),d.length>0){d=(d=d.replace(Or,"."+this._enterClassName)).replace(mo,"."+this._leaveClassName);let pt=this._driver.query(this.element,d,1!=E);0!==E&&(pt=E<0?pt.slice(pt.length+E,pt.length):pt.slice(0,E)),Ee.push(...pt)}return!V&&0==Ee.length&&ee.push(function hr(){return new w.wOt(3014,!1)}()),Ee}}class Zr{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(d,f,E,M){this._driver=d,this.element=f,this.startTime=E,this._elementTimelineStylesLookup=M,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(f),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(f,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(d){const f=1===this._keyframes.size&&this._pendingStyles.size;this.duration||f?(this.forwardTime(this.currentTime+d),f&&this.snapshotCurrentStyles()):this.startTime+=d}fork(d,f){return this.applyStylesToKeyframe(),new Zr(this._driver,d,f||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(d){this.applyStylesToKeyframe(),this.duration=d,this._loadKeyframe()}_updateStyle(d,f){this._localTimelineStyles.set(d,f),this._globalTimelineStyles.set(d,f),this._styleSummary.set(d,{time:this.currentTime,value:f})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(d){d&&this._previousKeyframe.set("easing",d);for(let[f,E]of this._globalTimelineStyles)this._backFill.set(f,E||fn.kp),this._currentKeyframe.set(f,fn.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(d,f,E,M){f&&this._previousKeyframe.set("easing",f);const V=M&&M.params||{},ee=function No(m,d){const f=new Map;let E;return m.forEach(M=>{if("*"===M){E??=d.keys();for(let V of E)f.set(V,fn.kp)}else for(let[V,ee]of M)f.set(V,ee)}),f}(d,this._globalTimelineStyles);for(let[Ee,We]of ee){const pt=ao(We,V,E);this._pendingStyles.set(Ee,pt),this._localTimelineStyles.has(Ee)||this._backFill.set(Ee,this._globalTimelineStyles.get(Ee)??fn.kp),this._updateStyle(Ee,pt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((d,f)=>{this._currentKeyframe.set(f,d)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((d,f)=>{this._currentKeyframe.has(f)||this._currentKeyframe.set(f,d)}))}snapshotCurrentStyles(){for(let[d,f]of this._localTimelineStyles)this._pendingStyles.set(d,f),this._updateStyle(d,f)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const d=[];for(let f in this._currentKeyframe)d.push(f);return d}mergeTimelineCollectedStyles(d){d._styleSummary.forEach((f,E)=>{const M=this._styleSummary.get(E);(!M||f.time>M.time)&&this._updateStyle(E,f.value)})}buildKeyframes(){this.applyStylesToKeyframe();const d=new Set,f=new Set,E=1===this._keyframes.size&&0===this.duration;let M=[];this._keyframes.forEach((Ee,We)=>{const pt=new Map([...this._backFill,...Ee]);pt.forEach((an,ln)=>{an===fn.FX?d.add(ln):an===fn.kp&&f.add(ln)}),E||pt.set("offset",We/this.duration),M.push(pt)});const V=[...d.values()],ee=[...f.values()];if(E){const Ee=M[0],We=new Map(Ee);Ee.set("offset",0),We.set("offset",1),M=[Ee,We]}return Yo(this.element,M,V,ee,this.duration,this.startTime,this.easing,!1)}}class Jr extends Zr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(d,f,E,M,V,ee,Ee=!1){super(d,f,ee.delay),this.keyframes=E,this.preStyleProps=M,this.postStyleProps=V,this._stretchStartingKeyframe=Ee,this.timings={duration:ee.duration,delay:ee.delay,easing:ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let d=this.keyframes,{delay:f,duration:E,easing:M}=this.timings;if(this._stretchStartingKeyframe&&f){const V=[],ee=E+f,Ee=f/ee,We=new Map(d[0]);We.set("offset",0),V.push(We);const pt=new Map(d[0]);pt.set("offset",As(Ee)),V.push(pt);const an=d.length-1;for(let ln=1;ln<=an;ln++){let Yn=new Map(d[ln]);const zn=Yn.get("offset");Yn.set("offset",As((f+zn*E)/ee)),V.push(Yn)}E=ee,f=0,M="",d=V}return Yo(this.element,d,this.preStyleProps,this.postStyleProps,E,f,M,!0)}}function As(m,d=3){const f=Math.pow(10,d-1);return Math.round(m*f)/f}function xo(m,d,f,E,M,V,ee,Ee,We,pt,an,ln,Yn){return{type:0,element:m,triggerName:d,isRemovalTransition:M,fromState:f,fromStyles:V,toState:E,toStyles:ee,timelines:Ee,queriedElements:We,preStyleProps:pt,postStyleProps:an,totalTime:ln,errors:Yn}}const ps={};class To{_triggerName;ast;_stateStyles;constructor(d,f,E){this._triggerName=d,this.ast=f,this._stateStyles=E}match(d,f,E,M){return function Hs(m,d,f,E,M){return m.some(V=>V(d,f,E,M))}(this.ast.matchers,d,f,E,M)}buildStyles(d,f,E){let M=this._stateStyles.get("*");return void 0!==d&&(M=this._stateStyles.get(d?.toString())||M),M?M.buildStyles(f,E):new Map}build(d,f,E,M,V,ee,Ee,We,pt,an){const ln=[],Yn=this.ast.options&&this.ast.options.params||ps,Zn=this.buildStyles(E,Ee&&Ee.params||ps,ln),ur=We&&We.params||ps,Fi=this.buildStyles(M,ur,ln),Co=new Set,ds=new Map,Cs=new Map,Lo="void"===M,Ec={params:Oo(ur,Yn),delay:this.ast.options?.delay},ga=an?[]:qo(d,f,this.ast.animation,V,ee,Zn,Fi,Ec,pt,ln);let Gr=0;return ga.forEach(hs=>{Gr=Math.max(hs.duration+hs.delay,Gr)}),ln.length?xo(f,this._triggerName,E,M,Lo,Zn,Fi,[],[],ds,Cs,Gr,ln):(ga.forEach(hs=>{const ia=hs.element,ma=Rn(ds,ia,new Set);hs.preStyleProps.forEach(Ti=>ma.add(Ti));const Nl=Rn(Cs,ia,new Set);hs.postStyleProps.forEach(Ti=>Nl.add(Ti)),ia!==f&&Co.add(ia)}),xo(f,this._triggerName,E,M,Lo,Zn,Fi,ga,[...Co.values()],ds,Cs,Gr))}}function Oo(m,d){const f={...d};return Object.entries(m).forEach(([E,M])=>{null!=M&&(f[E]=M)}),f}class Fr{styles;defaultParams;normalizer;constructor(d,f,E){this.styles=d,this.defaultParams=f,this.normalizer=E}buildStyles(d,f){const E=new Map,M=Oo(d,this.defaultParams);return this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((ee,Ee)=>{ee&&(ee=ao(ee,M,f));const We=this.normalizer.normalizePropertyName(Ee,f);ee=this.normalizer.normalizeStyleValue(Ee,We,ee,f),E.set(Ee,ee)})}),E}}class eo{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(d,f,E){this.name=d,this.ast=f,this._normalizer=E,f.states.forEach(M=>{this.states.set(M.name,new Fr(M.style,M.options&&M.options.params||{},E))}),Os(this.states,"true","1"),Os(this.states,"false","0"),f.transitions.forEach(M=>{this.transitionFactories.push(new To(d,M,this.states))}),this.fallbackTransition=function ra(m,d){return new To(m,{type:fn.If.Transition,animation:{type:fn.If.Sequence,steps:[],options:null},matchers:[(ee,Ee)=>!0],options:null,queryCount:0,depCount:0},d)}(d,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(d,f,E,M){return this.transitionFactories.find(ee=>ee.match(d,f,E,M))||null}matchStyles(d,f,E){return this.fallbackTransition.buildStyles(d,f,E)}}function Os(m,d,f){m.has(d)?m.has(f)||m.set(f,m.get(d)):m.has(f)&&m.set(d,m.get(f))}const ba=new ko;class jo{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(d,f,E){this.bodyNode=d,this._driver=f,this._normalizer=E}register(d,f){const E=[],V=Bn(this._driver,f,E,[]);if(E.length)throw function Ar(){return new w.wOt(3503,!1)}();this._animations.set(d,V)}_buildPlayer(d,f,E){const M=d.element,V=Be(this._normalizer,d.keyframes,f,E);return this._driver.animate(M,V,d.duration,d.delay,d.easing,[],!0)}create(d,f,E={}){const M=[],V=this._animations.get(d);let ee;const Ee=new Map;if(V?(ee=qo(this._driver,f,V,Un,cn,new Map,new Map,E,ba,M),ee.forEach(an=>{const ln=Rn(Ee,an.element,new Map);an.postStyleProps.forEach(Yn=>ln.set(Yn,null))})):(M.push(function Zi(){return new w.wOt(3300,!1)}()),ee=[]),M.length)throw function ai(){return new w.wOt(3504,!1)}();Ee.forEach((an,ln)=>{an.forEach((Yn,zn)=>{an.set(zn,this._driver.computeStyle(ln,zn,fn.kp))})});const pt=me(ee.map(an=>{const ln=Ee.get(an.element);return this._buildPlayer(an,new Map,ln)}));return this._playersById.set(d,pt),pt.onDestroy(()=>this.destroy(d)),this.players.push(pt),pt}destroy(d){const f=this._getPlayer(d);f.destroy(),this._playersById.delete(d);const E=this.players.indexOf(f);E>=0&&this.players.splice(E,1)}_getPlayer(d){const f=this._playersById.get(d);if(!f)throw function Vi(){return new w.wOt(3301,!1)}();return f}listen(d,f,E,M){const V=Qt(f,"","","");return xt(this._getPlayer(d),E,V,M),()=>{}}command(d,f,E,M){if("register"==E)return void this.register(d,M[0]);if("create"==E)return void this.create(d,f,M[0]||{});const V=this._getPlayer(d);switch(E){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(M[0]));break;case"destroy":this.destroy(d)}}}const Er="ng-animate-queued",G="ng-animate-disabled",Mt=[],Wt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pn="__ng_removed";class pr{namespaceId;value;options;get params(){return this.options.params}constructor(d,f=""){this.namespaceId=f;const E=d&&d.hasOwnProperty("value");if(this.value=function ri(m){return m??null}(E?d.value:d),E){const{value:V,...ee}=d;this.options=ee}else this.options={};this.options.params||(this.options.params={})}absorbOptions(d){const f=d.params;if(f){const E=this.options.params;Object.keys(f).forEach(M=>{null==E[M]&&(E[M]=f[M])})}}}const Xn="void",Ur=new pr(Xn);class Ii{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(d,f,E){this.id=d,this.hostElement=f,this._engine=E,this._hostClassName="ng-tns-"+d,ii(f,this._hostClassName)}listen(d,f,E,M){if(!this._triggers.has(f))throw function _n(){return new w.wOt(3302,!1)}();if(null==E||0==E.length)throw function gr(){return new w.wOt(3303,!1)}();if(!function uo(m){return"start"==m||"done"==m}(E))throw function Tr(){return new w.wOt(3400,!1)}();const V=Rn(this._elementListeners,d,[]),ee={name:f,phase:E,callback:M};V.push(ee);const Ee=Rn(this._engine.statesByElement,d,new Map);return Ee.has(f)||(ii(d,qn),ii(d,qn+"-"+f),Ee.set(f,Ur)),()=>{this._engine.afterFlush(()=>{const We=V.indexOf(ee);We>=0&&V.splice(We,1),this._triggers.has(f)||Ee.delete(f)})}}register(d,f){return!this._triggers.has(d)&&(this._triggers.set(d,f),!0)}_getTrigger(d){const f=this._triggers.get(d);if(!f)throw function Ui(){return new w.wOt(3401,!1)}();return f}trigger(d,f,E,M=!0){const V=this._getTrigger(f),ee=new $i(this.id,f,d);let Ee=this._engine.statesByElement.get(d);Ee||(ii(d,qn),ii(d,qn+"-"+f),this._engine.statesByElement.set(d,Ee=new Map));let We=Ee.get(f);const pt=new pr(E,this.id);if(!(E&&E.hasOwnProperty("value"))&&We&&pt.absorbOptions(We.options),Ee.set(f,pt),We||(We=Ur),pt.value!==Xn&&We.value===pt.value){if(!function Da(m,d){const f=Object.keys(m),E=Object.keys(d);if(f.length!=E.length)return!1;for(let M=0;M<f.length;M++){const V=f[M];if(!d.hasOwnProperty(V)||m[V]!==d[V])return!1}return!0}(We.params,pt.params)){const ur=[],Fi=V.matchStyles(We.value,We.params,ur),Co=V.matchStyles(pt.value,pt.params,ur);ur.length?this._engine.reportError(ur):this._engine.afterFlush(()=>{Dn(d,Fi),Fn(d,Co)})}return}const Yn=Rn(this._engine.playersByElement,d,[]);Yn.forEach(ur=>{ur.namespaceId==this.id&&ur.triggerName==f&&ur.queued&&ur.destroy()});let zn=V.matchTransition(We.value,pt.value,d,pt.params),Zn=!1;if(!zn){if(!M)return;zn=V.fallbackTransition,Zn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:f,transition:zn,fromState:We,toState:pt,player:ee,isFallbackTransition:Zn}),Zn||(ii(d,Er),ee.onStart(()=>{yo(d,Er)})),ee.onDone(()=>{let ur=this.players.indexOf(ee);ur>=0&&this.players.splice(ur,1);const Fi=this._engine.playersByElement.get(d);if(Fi){let Co=Fi.indexOf(ee);Co>=0&&Fi.splice(Co,1)}}),this.players.push(ee),Yn.push(ee),ee}deregister(d){this._triggers.delete(d),this._engine.statesByElement.forEach(f=>f.delete(d)),this._elementListeners.forEach((f,E)=>{this._elementListeners.set(E,f.filter(M=>M.name!=d))})}clearElementCache(d){this._engine.statesByElement.delete(d),this._elementListeners.delete(d);const f=this._engine.playersByElement.get(d);f&&(f.forEach(E=>E.destroy()),this._engine.playersByElement.delete(d))}_signalRemovalForInnerTriggers(d,f){const E=this._engine.driver.query(d,ar,!0);E.forEach(M=>{if(M[pn])return;const V=this._engine.fetchNamespacesByElement(M);V.size?V.forEach(ee=>ee.triggerLeaveAnimation(M,f,!1,!0)):this.clearElementCache(M)}),this._engine.afterFlushAnimationsDone(()=>E.forEach(M=>this.clearElementCache(M)))}triggerLeaveAnimation(d,f,E,M){const V=this._engine.statesByElement.get(d),ee=new Map;if(V){const Ee=[];if(V.forEach((We,pt)=>{if(ee.set(pt,We.value),this._triggers.has(pt)){const an=this.trigger(d,pt,Xn,M);an&&Ee.push(an)}}),Ee.length)return this._engine.markElementAsRemoved(this.id,d,!0,f,ee),E&&me(Ee).onDone(()=>this._engine.processLeaveNode(d)),!0}return!1}prepareLeaveAnimationListeners(d){const f=this._elementListeners.get(d),E=this._engine.statesByElement.get(d);if(f&&E){const M=new Set;f.forEach(V=>{const ee=V.name;if(M.has(ee))return;M.add(ee);const We=this._triggers.get(ee).fallbackTransition,pt=E.get(ee)||Ur,an=new pr(Xn),ln=new $i(this.id,ee,d);this._engine.totalQueuedPlayers++,this._queue.push({element:d,triggerName:ee,transition:We,fromState:pt,toState:an,player:ln,isFallbackTransition:!0})})}}removeNode(d,f){const E=this._engine;if(d.childElementCount&&this._signalRemovalForInnerTriggers(d,f),this.triggerLeaveAnimation(d,f,!0))return;let M=!1;if(E.totalAnimations){const V=E.players.length?E.playersByQueriedElement.get(d):[];if(V&&V.length)M=!0;else{let ee=d;for(;ee=ee.parentNode;)if(E.statesByElement.get(ee)){M=!0;break}}}if(this.prepareLeaveAnimationListeners(d),M)E.markElementAsRemoved(this.id,d,!1,f);else{const V=d[pn];(!V||V===Wt)&&(E.afterFlush(()=>this.clearElementCache(d)),E.destroyInnerAnimations(d),E._onRemovalComplete(d,f))}}insertNode(d,f){ii(d,this._hostClassName)}drainQueuedTransitions(d){const f=[];return this._queue.forEach(E=>{const M=E.player;if(M.destroyed)return;const V=E.element,ee=this._elementListeners.get(V);ee&&ee.forEach(Ee=>{if(Ee.name==E.triggerName){const We=Qt(V,E.triggerName,E.fromState.value,E.toState.value);We._data=d,xt(E.player,Ee.phase,We,Ee.callback)}}),M.markedForDestroy?this._engine.afterFlush(()=>{M.destroy()}):f.push(E)}),this._queue=[],f.sort((E,M)=>{const V=E.transition.ast.depCount,ee=M.transition.ast.depCount;return 0==V||0==ee?V-ee:this._engine.driver.containsElement(E.element,M.element)?1:-1})}destroy(d){this.players.forEach(f=>f.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,d)}}class _i{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(d,f)=>{};_onRemovalComplete(d,f){this.onRemovalComplete(d,f)}constructor(d,f,E){this.bodyNode=d,this.driver=f,this._normalizer=E}get queuedPlayers(){const d=[];return this._namespaceList.forEach(f=>{f.players.forEach(E=>{E.queued&&d.push(E)})}),d}createNamespace(d,f){const E=new Ii(d,f,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,f)?this._balanceNamespaceList(E,f):(this.newHostElements.set(f,E),this.collectEnterElement(f)),this._namespaceLookup[d]=E}_balanceNamespaceList(d,f){const E=this._namespaceList,M=this.namespacesByHostElement;if(E.length-1>=0){let ee=!1,Ee=this.driver.getParentElement(f);for(;Ee;){const We=M.get(Ee);if(We){const pt=E.indexOf(We);E.splice(pt+1,0,d),ee=!0;break}Ee=this.driver.getParentElement(Ee)}ee||E.unshift(d)}else E.push(d);return M.set(f,d),d}register(d,f){let E=this._namespaceLookup[d];return E||(E=this.createNamespace(d,f)),E}registerTrigger(d,f,E){let M=this._namespaceLookup[d];M&&M.register(f,E)&&this.totalAnimations++}destroy(d,f){d&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const E=this._fetchNamespace(d);this.namespacesByHostElement.delete(E.hostElement);const M=this._namespaceList.indexOf(E);M>=0&&this._namespaceList.splice(M,1),E.destroy(f),delete this._namespaceLookup[d]}))}_fetchNamespace(d){return this._namespaceLookup[d]}fetchNamespacesByElement(d){const f=new Set,E=this.statesByElement.get(d);if(E)for(let M of E.values())if(M.namespaceId){const V=this._fetchNamespace(M.namespaceId);V&&f.add(V)}return f}trigger(d,f,E,M){if(Oi(f)){const V=this._fetchNamespace(d);if(V)return V.trigger(f,E,M),!0}return!1}insertNode(d,f,E,M){if(!Oi(f))return;const V=f[pn];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const ee=this.collectedLeaveElements.indexOf(f);ee>=0&&this.collectedLeaveElements.splice(ee,1)}if(d){const ee=this._fetchNamespace(d);ee&&ee.insertNode(f,E)}M&&this.collectEnterElement(f)}collectEnterElement(d){this.collectedEnterElements.push(d)}markElementAsDisabled(d,f){f?this.disabledNodes.has(d)||(this.disabledNodes.add(d),ii(d,G)):this.disabledNodes.has(d)&&(this.disabledNodes.delete(d),yo(d,G))}removeNode(d,f,E){if(Oi(f)){const M=d?this._fetchNamespace(d):null;M?M.removeNode(f,E):this.markElementAsRemoved(d,f,!1,E);const V=this.namespacesByHostElement.get(f);V&&V.id!==d&&V.removeNode(f,E)}else this._onRemovalComplete(f,E)}markElementAsRemoved(d,f,E,M,V){this.collectedLeaveElements.push(f),f[pn]={namespaceId:d,setForRemoval:M,hasAnimation:E,removedBeforeQueried:!1,previousTriggersValues:V}}listen(d,f,E,M,V){return Oi(f)?this._fetchNamespace(d).listen(f,E,M,V):()=>{}}_buildInstruction(d,f,E,M,V){return d.transition.build(this.driver,d.element,d.fromState.value,d.toState.value,E,M,d.fromState.options,d.toState.options,f,V)}destroyInnerAnimations(d){let f=this.driver.query(d,ar,!0);f.forEach(E=>this.destroyActiveAnimationsForElement(E)),0!=this.playersByQueriedElement.size&&(f=this.driver.query(d,Ri,!0),f.forEach(E=>this.finishActiveQueriedAnimationOnElement(E)))}destroyActiveAnimationsForElement(d){const f=this.playersByElement.get(d);f&&f.forEach(E=>{E.queued?E.markedForDestroy=!0:E.destroy()})}finishActiveQueriedAnimationOnElement(d){const f=this.playersByQueriedElement.get(d);f&&f.forEach(E=>E.finish())}whenRenderingDone(){return new Promise(d=>{if(this.players.length)return me(this.players).onDone(()=>d());d()})}processLeaveNode(d){const f=d[pn];if(f&&f.setForRemoval){if(d[pn]=Wt,f.namespaceId){this.destroyInnerAnimations(d);const E=this._fetchNamespace(f.namespaceId);E&&E.clearElementCache(d)}this._onRemovalComplete(d,f.setForRemoval)}d.classList?.contains(G)&&this.markElementAsDisabled(d,!1),this.driver.query(d,".ng-animate-disabled",!0).forEach(E=>{this.markElementAsDisabled(E,!1)})}flush(d=-1){let f=[];if(this.newHostElements.size&&(this.newHostElements.forEach((E,M)=>this._balanceNamespaceList(E,M)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let E=0;E<this.collectedEnterElements.length;E++)ii(this.collectedEnterElements[E],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const E=[];try{f=this._flushAnimations(E,d)}finally{for(let M=0;M<E.length;M++)E[M]()}}else for(let E=0;E<this.collectedLeaveElements.length;E++)this.processLeaveNode(this.collectedLeaveElements[E]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(E=>E()),this._flushFns=[],this._whenQuietFns.length){const E=this._whenQuietFns;this._whenQuietFns=[],f.length?me(f).onDone(()=>{E.forEach(M=>M())}):E.forEach(M=>M())}}reportError(d){throw function Bi(){return new w.wOt(3402,!1)}()}_flushAnimations(d,f){const E=new ko,M=[],V=new Map,ee=[],Ee=new Map,We=new Map,pt=new Map,an=new Set;this.disabledNodes.forEach(Nn=>{an.add(Nn);const gn=this.driver.query(Nn,".ng-animate-queued",!0);for(let dr=0;dr<gn.length;dr++)an.add(gn[dr])});const ln=this.bodyNode,Yn=Array.from(this.statesByElement.keys()),zn=bo(Yn,this.collectedEnterElements),Zn=new Map;let ur=0;zn.forEach((Nn,gn)=>{const dr=Un+ur++;Zn.set(gn,dr),Nn.forEach(jr=>ii(jr,dr))});const Fi=[],Co=new Set,ds=new Set;for(let Nn=0;Nn<this.collectedLeaveElements.length;Nn++){const gn=this.collectedLeaveElements[Nn],dr=gn[pn];dr&&dr.setForRemoval&&(Fi.push(gn),Co.add(gn),dr.hasAnimation?this.driver.query(gn,".ng-star-inserted",!0).forEach(jr=>Co.add(jr)):ds.add(gn))}const Cs=new Map,Lo=bo(Yn,Array.from(Co));Lo.forEach((Nn,gn)=>{const dr=cn+ur++;Cs.set(gn,dr),Nn.forEach(jr=>ii(jr,dr))}),d.push(()=>{zn.forEach((Nn,gn)=>{const dr=Zn.get(gn);Nn.forEach(jr=>yo(jr,dr))}),Lo.forEach((Nn,gn)=>{const dr=Cs.get(gn);Nn.forEach(jr=>yo(jr,dr))}),Fi.forEach(Nn=>{this.processLeaveNode(Nn)})});const Ec=[],ga=[];for(let Nn=this._namespaceList.length-1;Nn>=0;Nn--)this._namespaceList[Nn].drainQueuedTransitions(f).forEach(dr=>{const jr=dr.player,ei=dr.element;if(Ec.push(jr),this.collectedEnterElements.length){const Qr=ei[pn];if(Qr&&Qr.setForMove){if(Qr.previousTriggersValues&&Qr.previousTriggersValues.has(dr.triggerName)){const Mr=Qr.previousTriggersValues.get(dr.triggerName),lo=this.statesByElement.get(dr.element);if(lo&&lo.has(dr.triggerName)){const ja=lo.get(dr.triggerName);ja.value=Mr,lo.set(dr.triggerName,ja)}}return void jr.destroy()}}const Ss=!ln||!this.driver.containsElement(ln,ei),So=Cs.get(ei),Ho=Zn.get(ei),ki=this._buildInstruction(dr,E,Ho,So,Ss);if(ki.errors&&ki.errors.length)return void ga.push(ki);if(Ss)return jr.onStart(()=>Dn(ei,ki.fromStyles)),jr.onDestroy(()=>Fn(ei,ki.toStyles)),void M.push(jr);if(dr.isFallbackTransition)return jr.onStart(()=>Dn(ei,ki.fromStyles)),jr.onDestroy(()=>Fn(ei,ki.toStyles)),void M.push(jr);const fs=[];ki.timelines.forEach(Qr=>{Qr.stretchStartingKeyframe=!0,this.disabledNodes.has(Qr.element)||fs.push(Qr)}),ki.timelines=fs,E.append(ei,ki.timelines),ee.push({instruction:ki,player:jr,element:ei}),ki.queriedElements.forEach(Qr=>Rn(Ee,Qr,[]).push(jr)),ki.preStyleProps.forEach((Qr,Mr)=>{if(Qr.size){let lo=We.get(Mr);lo||We.set(Mr,lo=new Set),Qr.forEach((ja,Pa)=>lo.add(Pa))}}),ki.postStyleProps.forEach((Qr,Mr)=>{let lo=pt.get(Mr);lo||pt.set(Mr,lo=new Set),Qr.forEach((ja,Pa)=>lo.add(Pa))})});if(ga.length){const Nn=[];ga.forEach(gn=>{Nn.push(function xi(){return new w.wOt(3505,!1)}())}),Ec.forEach(gn=>gn.destroy()),this.reportError(Nn)}const Gr=new Map,hs=new Map;ee.forEach(Nn=>{const gn=Nn.element;E.has(gn)&&(hs.set(gn,gn),this._beforeAnimationBuild(Nn.player.namespaceId,Nn.instruction,Gr))}),M.forEach(Nn=>{const gn=Nn.element;this._getPreviousPlayers(gn,!1,Nn.namespaceId,Nn.triggerName,null).forEach(jr=>{Rn(Gr,gn,[]).push(jr),jr.destroy()})});const ia=Fi.filter(Nn=>zs(Nn,We,pt)),ma=new Map;Mi(ma,this.driver,ds,pt,fn.kp).forEach(Nn=>{zs(Nn,We,pt)&&ia.push(Nn)});const Ti=new Map;zn.forEach((Nn,gn)=>{Mi(Ti,this.driver,new Set(Nn),We,fn.FX)}),ia.forEach(Nn=>{const gn=ma.get(Nn),dr=Ti.get(Nn);ma.set(Nn,new Map([...gn?.entries()??[],...dr?.entries()??[]]))});const Wu=[],pi=[],Ba={};ee.forEach(Nn=>{const{element:gn,player:dr,instruction:jr}=Nn;if(E.has(gn)){if(an.has(gn))return dr.onDestroy(()=>Fn(gn,jr.toStyles)),dr.disabled=!0,dr.overrideTotalTime(jr.totalTime),void M.push(dr);let ei=Ba;if(hs.size>1){let So=gn;const Ho=[];for(;So=So.parentNode;){const ki=hs.get(So);if(ki){ei=ki;break}Ho.push(So)}Ho.forEach(ki=>hs.set(ki,ei))}const Ss=this._buildAnimation(dr.namespaceId,jr,Gr,V,Ti,ma);if(dr.setRealPlayer(Ss),ei===Ba)Wu.push(dr);else{const So=this.playersByElement.get(ei);So&&So.length&&(dr.parentPlayer=me(So)),M.push(dr)}}else Dn(gn,jr.fromStyles),dr.onDestroy(()=>Fn(gn,jr.toStyles)),pi.push(dr),an.has(gn)&&M.push(dr)}),pi.forEach(Nn=>{const gn=V.get(Nn.element);if(gn&&gn.length){const dr=me(gn);Nn.setRealPlayer(dr)}}),M.forEach(Nn=>{Nn.parentPlayer?Nn.syncPlayerEvents(Nn.parentPlayer):Nn.destroy()});for(let Nn=0;Nn<Fi.length;Nn++){const gn=Fi[Nn],dr=gn[pn];if(yo(gn,cn),dr&&dr.hasAnimation)continue;let jr=[];if(Ee.size){let Ss=Ee.get(gn);Ss&&Ss.length&&jr.push(...Ss);let So=this.driver.query(gn,Ri,!0);for(let Ho=0;Ho<So.length;Ho++){let ki=Ee.get(So[Ho]);ki&&ki.length&&jr.push(...ki)}}const ei=jr.filter(Ss=>!Ss.destroyed);ei.length?Ko(this,gn,ei):this.processLeaveNode(gn)}return Fi.length=0,Wu.forEach(Nn=>{this.players.push(Nn),Nn.onDone(()=>{Nn.destroy();const gn=this.players.indexOf(Nn);this.players.splice(gn,1)}),Nn.play()}),Wu}afterFlush(d){this._flushFns.push(d)}afterFlushAnimationsDone(d){this._whenQuietFns.push(d)}_getPreviousPlayers(d,f,E,M,V){let ee=[];if(f){const Ee=this.playersByQueriedElement.get(d);Ee&&(ee=Ee)}else{const Ee=this.playersByElement.get(d);if(Ee){const We=!V||V==Xn;Ee.forEach(pt=>{pt.queued||!We&&pt.triggerName!=M||ee.push(pt)})}}return(E||M)&&(ee=ee.filter(Ee=>!(E&&E!=Ee.namespaceId||M&&M!=Ee.triggerName))),ee}_beforeAnimationBuild(d,f,E){const V=f.element,ee=f.isRemovalTransition?void 0:d,Ee=f.isRemovalTransition?void 0:f.triggerName;for(const We of f.timelines){const pt=We.element,an=pt!==V,ln=Rn(E,pt,[]);this._getPreviousPlayers(pt,an,ee,Ee,f.toState).forEach(zn=>{const Zn=zn.getRealPlayer();Zn.beforeDestroy&&Zn.beforeDestroy(),zn.destroy(),ln.push(zn)})}Dn(V,f.fromStyles)}_buildAnimation(d,f,E,M,V,ee){const Ee=f.triggerName,We=f.element,pt=[],an=new Set,ln=new Set,Yn=f.timelines.map(Zn=>{const ur=Zn.element;an.add(ur);const Fi=ur[pn];if(Fi&&Fi.removedBeforeQueried)return new fn.sf(Zn.duration,Zn.delay);const Co=ur!==We,ds=function gs(m){const d=[];return la(m,d),d}((E.get(ur)||Mt).map(Gr=>Gr.getRealPlayer())).filter(Gr=>!!Gr.element&&Gr.element===ur),Cs=V.get(ur),Lo=ee.get(ur),Ec=Be(this._normalizer,Zn.keyframes,Cs,Lo),ga=this._buildPlayer(Zn,Ec,ds);if(Zn.subTimeline&&M&&ln.add(ur),Co){const Gr=new $i(d,Ee,ur);Gr.setRealPlayer(ga),pt.push(Gr)}return ga});pt.forEach(Zn=>{Rn(this.playersByQueriedElement,Zn.element,[]).push(Zn),Zn.onDone(()=>function Pi(m,d,f){let E=m.get(d);if(E){if(E.length){const M=E.indexOf(f);E.splice(M,1)}0==E.length&&m.delete(d)}return E}(this.playersByQueriedElement,Zn.element,Zn))}),an.forEach(Zn=>ii(Zn,wi));const zn=me(Yn);return zn.onDestroy(()=>{an.forEach(Zn=>yo(Zn,wi)),Fn(We,f.toStyles)}),ln.forEach(Zn=>{Rn(M,Zn,[]).push(zn)}),zn}_buildPlayer(d,f,E){return f.length>0?this.driver.animate(d.element,f,d.duration,d.delay,d.easing,E):new fn.sf(d.duration,d.delay)}}class $i{namespaceId;triggerName;element;_player=new fn.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(d,f,E){this.namespaceId=d,this.triggerName=f,this.element=E}setRealPlayer(d){this._containsRealPlayer||(this._player=d,this._queuedCallbacks.forEach((f,E)=>{f.forEach(M=>xt(d,E,void 0,M))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(d.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(d){this.totalTime=d}syncPlayerEvents(d){const f=this._player;f.triggerCallback&&d.onStart(()=>f.triggerCallback("start")),d.onDone(()=>this.finish()),d.onDestroy(()=>this.destroy())}_queueEvent(d,f){Rn(this._queuedCallbacks,d,[]).push(f)}onDone(d){this.queued&&this._queueEvent("done",d),this._player.onDone(d)}onStart(d){this.queued&&this._queueEvent("start",d),this._player.onStart(d)}onDestroy(d){this.queued&&this._queueEvent("destroy",d),this._player.onDestroy(d)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(d){this.queued||this._player.setPosition(d)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(d){const f=this._player;f.triggerCallback&&f.triggerCallback(d)}}function Oi(m){return m&&1===m.nodeType}function vi(m,d){const f=m.style.display;return m.style.display=d??"none",f}function Mi(m,d,f,E,M){const V=[];f.forEach(We=>V.push(vi(We)));const ee=[];E.forEach((We,pt)=>{const an=new Map;We.forEach(ln=>{const Yn=d.computeStyle(pt,ln,M);an.set(ln,Yn),(!Yn||0==Yn.length)&&(pt[pn]=Tn,ee.push(pt))}),m.set(pt,an)});let Ee=0;return f.forEach(We=>vi(We,V[Ee++])),ee}function bo(m,d){const f=new Map;if(m.forEach(Ee=>f.set(Ee,[])),0==d.length)return f;const M=new Set(d),V=new Map;function ee(Ee){if(!Ee)return 1;let We=V.get(Ee);if(We)return We;const pt=Ee.parentNode;return We=f.has(pt)?pt:M.has(pt)?1:ee(pt),V.set(Ee,We),We}return d.forEach(Ee=>{const We=ee(Ee);1!==We&&f.get(We).push(Ee)}),f}function ii(m,d){m.classList?.add(d)}function yo(m,d){m.classList?.remove(d)}function Ko(m,d,f){me(f).onDone(()=>m.processLeaveNode(d))}function la(m,d){for(let f=0;f<m.length;f++){const E=m[f];E instanceof fn.PZ?la(E.players,d):d.push(E)}}function zs(m,d,f){const E=f.get(m);if(!E)return!1;let M=d.get(m);return M?E.forEach(V=>M.add(V)):d.set(m,E),f.delete(m),!0}class ms{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(d,f)=>{};constructor(d,f,E){this._driver=f,this._normalizer=E,this._transitionEngine=new _i(d.body,f,E),this._timelineEngine=new jo(d.body,f,E),this._transitionEngine.onRemovalComplete=(M,V)=>this.onRemovalComplete(M,V)}registerTrigger(d,f,E,M,V){const ee=d+"-"+M;let Ee=this._triggerCache[ee];if(!Ee){const We=[],an=Bn(this._driver,V,We,[]);if(We.length)throw function Yi(){return new w.wOt(3404,!1)}();Ee=function vr(m,d,f){return new eo(m,d,f)}(M,an,this._normalizer),this._triggerCache[ee]=Ee}this._transitionEngine.registerTrigger(f,M,Ee)}register(d,f){this._transitionEngine.register(d,f)}destroy(d,f){this._transitionEngine.destroy(d,f)}onInsert(d,f,E,M){this._transitionEngine.insertNode(d,f,E,M)}onRemove(d,f,E){this._transitionEngine.removeNode(d,f,E)}disableAnimations(d,f){this._transitionEngine.markElementAsDisabled(d,f)}process(d,f,E,M){if("@"==E.charAt(0)){const[V,ee]=mr(E);this._timelineEngine.command(V,f,ee,M)}else this._transitionEngine.trigger(d,f,E,M)}listen(d,f,E,M,V){if("@"==E.charAt(0)){const[ee,Ee]=mr(E);return this._timelineEngine.listen(ee,f,Ee,V)}return this._transitionEngine.listen(d,f,E,M,V)}flush(d=-1){this._transitionEngine.flush(d)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(d){this._transitionEngine.afterFlushAnimationsDone(d)}}let da=(()=>{class m{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(f,E,M){this._element=f,this._startStyles=E,this._endStyles=M;let V=m.initialStylesByElement.get(f);V||m.initialStylesByElement.set(f,V=new Map),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&Fn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fn(this._element,this._initialStyles),this._endStyles&&(Fn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(m.initialStylesByElement.delete(this._element),this._startStyles&&(Dn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dn(this._element,this._endStyles),this._endStyles=null),Fn(this._element,this._initialStyles),this._state=3)}}return m})();function Ws(m){let d=null;return m.forEach((f,E)=>{(function oo(m){return"display"===m||"position"===m})(E)&&(d=d||new Map,d.set(E,f))}),d}class Fs{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(d,f,E,M){this.element=d,this.keyframes=f,this.options=E,this._specialStyles=M,this._duration=E.duration,this._delay=E.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(d=>d()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const d=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,d,this.options),this._finalKeyframe=d.length?d[d.length-1]:new Map;const f=()=>this._onFinish();this.domPlayer.addEventListener("finish",f),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",f)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(d){const f=[];return d.forEach(E=>{f.push(Object.fromEntries(E))}),f}_triggerWebAnimation(d,f,E){return d.animate(this._convertKeyframesToObject(f),E)}onStart(d){this._originalOnStartFns.push(d),this._onStartFns.push(d)}onDone(d){this._originalOnDoneFns.push(d),this._onDoneFns.push(d)}onDestroy(d){this._onDestroyFns.push(d)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(d=>d()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(d=>d()),this._onDestroyFns=[])}setPosition(d){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=d*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const d=new Map;this.hasStarted()&&this._finalKeyframe.forEach((E,M)=>{"offset"!==M&&d.set(M,this._finished?E:te(this.element,M))}),this.currentSnapshot=d}triggerCallback(d){const f="start"===d?this._onStartFns:this._onDoneFns;f.forEach(E=>E()),f.length=0}}class hi{validateStyleProperty(d){return!0}validateAnimatableStyleProperty(d){return!0}containsElement(d,f){return bt(d,f)}getParentElement(d){return ae(d)}query(d,f,E){return yt(d,f,E)}computeStyle(d,f,E){return te(d,f)}animate(d,f,E,M,V,ee=[]){const We={duration:E,delay:M,fill:0==M?"both":"forwards"};V&&(We.easing=V);const pt=new Map,an=ee.filter(zn=>zn instanceof Fs);(function j(m,d){return 0===m||0===d})(E,M)&&an.forEach(zn=>{zn.currentSnapshot.forEach((Zn,ur)=>pt.set(ur,Zn))});let ln=function Ht(m){return m.length?m[0]instanceof Map?m:m.map(d=>new Map(Object.entries(d))):[]}(f).map(zn=>new Map(zn));ln=function fe(m,d,f){if(f.size&&d.length){let E=d[0],M=[];if(f.forEach((V,ee)=>{E.has(ee)||M.push(ee),E.set(ee,V)}),M.length)for(let V=1;V<d.length;V++){let ee=d[V];M.forEach(Ee=>ee.set(Ee,te(m,Ee)))}}return d}(d,ln,pt);const Yn=function Fa(m,d){let f=null,E=null;return Array.isArray(d)&&d.length?(f=Ws(d[0]),d.length>1&&(E=Ws(d[d.length-1]))):d instanceof Map&&(f=Ws(d)),f||E?new da(m,f,E):null}(d,ln);return new Fs(d,ln,We,Yn)}}const qs="@.disabled";class Di{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(d,f,E,M){this.namespaceId=d,this.delegate=f,this.engine=E,this._onDestroy=M}get data(){return this.delegate.data}destroyNode(d){this.delegate.destroyNode?.(d)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(d,f){return this.delegate.createElement(d,f)}createComment(d){return this.delegate.createComment(d)}createText(d){return this.delegate.createText(d)}appendChild(d,f){this.delegate.appendChild(d,f),this.engine.onInsert(this.namespaceId,f,d,!1)}insertBefore(d,f,E,M=!0){this.delegate.insertBefore(d,f,E),this.engine.onInsert(this.namespaceId,f,d,M)}removeChild(d,f,E){this.parentNode(f)&&this.engine.onRemove(this.namespaceId,f,this.delegate)}selectRootElement(d,f){return this.delegate.selectRootElement(d,f)}parentNode(d){return this.delegate.parentNode(d)}nextSibling(d){return this.delegate.nextSibling(d)}setAttribute(d,f,E,M){this.delegate.setAttribute(d,f,E,M)}removeAttribute(d,f,E){this.delegate.removeAttribute(d,f,E)}addClass(d,f){this.delegate.addClass(d,f)}removeClass(d,f){this.delegate.removeClass(d,f)}setStyle(d,f,E,M){this.delegate.setStyle(d,f,E,M)}removeStyle(d,f,E){this.delegate.removeStyle(d,f,E)}setProperty(d,f,E){"@"==f.charAt(0)&&f==qs?this.disableAnimations(d,!!E):this.delegate.setProperty(d,f,E)}setValue(d,f){this.delegate.setValue(d,f)}listen(d,f,E,M){return this.delegate.listen(d,f,E,M)}disableAnimations(d,f){this.engine.disableAnimations(d,f)}}class ha extends Di{factory;constructor(d,f,E,M,V){super(f,E,M,V),this.factory=d,this.namespaceId=f}setProperty(d,f,E){"@"==f.charAt(0)?"."==f.charAt(1)&&f==qs?this.disableAnimations(d,E=void 0===E||!!E):this.engine.process(this.namespaceId,d,f.slice(1),E):this.delegate.setProperty(d,f,E)}listen(d,f,E,M){if("@"==f.charAt(0)){const V=function Wr(m){switch(m){case"body":return document.body;case"document":return document;case"window":return window;default:return m}}(d);let ee=f.slice(1),Ee="";return"@"!=ee.charAt(0)&&([ee,Ee]=function Br(m){const d=m.indexOf(".");return[m.substring(0,d),m.slice(d+1)]}(ee)),this.engine.listen(this.namespaceId,V,ee,Ee,We=>{this.factory.scheduleListenerCallback(We._data||-1,E,We)})}return this.delegate.listen(d,f,E,M)}}class Aa{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(d,f,E){this.delegate=d,this.engine=f,this._zone=E,f.onRemovalComplete=(M,V)=>{V?.removeChild(null,M)}}createRenderer(d,f){const M=this.delegate.createRenderer(d,f);if(!d||!f?.data?.animation){const pt=this._rendererCache;let an=pt.get(M);return an||(an=new Di("",M,this.engine,()=>pt.delete(M)),pt.set(M,an)),an}const V=f.id,ee=f.id+"-"+this._currentId;this._currentId++,this.engine.register(ee,d);const Ee=pt=>{Array.isArray(pt)?pt.forEach(Ee):this.engine.registerTrigger(V,ee,d,pt.name,pt)};return f.data.animation.forEach(Ee),new ha(this,ee,M,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(d,f,E){if(d>=0&&d<this._microtaskId)return void this._zone.run(()=>f(E));const M=this._animationCallbacksBuffer;0==M.length&&queueMicrotask(()=>{this._zone.run(()=>{M.forEach(V=>{const[ee,Ee]=V;ee(Ee)}),this._animationCallbacksBuffer=[]})}),M.push([f,E])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(d){this.engine.flush(),this.delegate.componentReplaced?.(d)}}const Za=[{provide:sn,useFactory:function Ya(){return new Xr}},{provide:ms,useClass:(()=>{class m extends ms{constructor(f,E,M){super(f,E,M)}ngOnDestroy(){this.flush()}static \u0275fac=function(E){return new(E||m)(w.KVO(Q.q),w.KVO(wt),w.KVO(sn))};static \u0275prov=w.jDH({token:m,factory:m.\u0275fac})}return m})()},{provide:w._9s,useFactory:function Ca(m,d,f){return new Aa(m,d,f)},deps:[vt,ms,w.SKi]}],Va=[{provide:wt,useFactory:()=>new hi},{provide:w.bc$,useFactory:()=>"BrowserAnimations"},...Za];var fi=W(5072);let $o=(()=>{class m{title="todo-app";static \u0275fac=function(E){return new(E||m)};static \u0275cmp=w.VBU({type:m,selectors:[["app-root"]],decls:1,vars:0,template:function(E,M){1&E&&w.nrm(0,"router-outlet")},dependencies:[fi.n3],encapsulation:2})}return m})();var qi=W(5207),Xo=W(467),Zo=W(2881);let oi=(()=>{class m{static \u0275fac=function(E){return new(E||m)};static \u0275cmp=w.VBU({type:m,selectors:[["app-components"]],decls:335,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title","fw-semibold","mb-4"],[1,"card-body","p-4"],["type","button",1,"btn","btn-full","--primary","m-1"],["type","button",1,"btn","btn-full","--secondary","m-1"],["type","button",1,"btn","btn-full","--success","m-1"],["type","button",1,"btn","btn-full","--danger","m-1"],["type","button",1,"btn","btn-full","--warning","m-1"],["type","button",1,"btn","btn-full","--info","m-1"],["type","button",1,"btn","btn-full","--light","m-1"],["type","button",1,"btn","btn-full","--dark","m-1"],["type","button",1,"btn","btn-full","--link","m-1"],[1,"card","mb-0"],["type","button",1,"btn","btn-border","--primary","m-1"],["type","button",1,"btn","btn-border","--secondary","m-1"],["type","button",1,"btn","btn-border","--success","m-1"],["type","button",1,"btn","btn-border","--danger","m-1"],["type","button",1,"btn","btn-border","--warning","m-1"],["type","button",1,"btn","btn-border","--info","m-1"],["type","button",1,"btn","btn-border","--light","m-1"],["type","button",1,"btn","btn-border","--dark","m-1"],["type","button",1,"btn","btn-border","--link","m-1"],["id","tables",1,"min-vh-100","d-flex","align-items-center","py-5"],[1,"display-5","fw-bold","font-raleway","mb-3"],[1,"col-sm-12","col-md-6","py-2","grid-margin","stretch-card"],[1,"card-title"],[1,"card-description"],[1,"table-responsive"],[1,"table"],[1,"badge","badge-type","badge-outline-danger"],[1,"badge","badge-type","badge-outline-success"],[1,"badge","badge-type","badge-outline-info"],[1,"badge","badge-type","badge-outline-warning"],[1,"table","table-hover"],[1,"text-danger"],[1,"ti-arrow-down"],[1,"text-success"],[1,"ti-arrow-up"],[1,"col-12","py-2","grid-margin","stretch-card"],[1,"table","table-light","table-hover"],[1,"py-1"],["src","https://randomuser.me/api/portraits/thumb/men/20.jpg","alt","image"],[1,"progress"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","25%"],[1,"badge","badge-full-success"],["src","https://randomuser.me/api/portraits/thumb/men/7.jpg","alt","image"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","75%"],[1,"badge","badge-full-danger"],["src","https://randomuser.me/api/portraits/thumb/men/2.jpg","alt","image"],["role","progressbar","aria-valuenow","90","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning",2,"width","90%"],[1,"badge","badge-full-warning"],["src","https://randomuser.me/api/portraits/thumb/women/1.jpg","alt","image"],["role","progressbar","aria-valuenow","50","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","50%"],[1,"badge","badge-full-primary"],["src","https://randomuser.me/api/portraits/thumb/women/3.jpg","alt","image"],["role","progressbar","aria-valuenow","35","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","35%"],[1,"badge","badge-full-secondary"],["src","https://randomuser.me/api/portraits/thumb/women/6.jpg","alt","image"],["role","progressbar","aria-valuenow","65","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","65%"],[1,"badge","badge-full-info"],["src","https://randomuser.me/api/portraits/thumb/men/12.jpg","alt","image"],["role","progressbar","aria-valuenow","20","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-warning",2,"width","20%"]],template:function(E,M){1&E&&(w.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),w.EFF(6,"Buttons"),w.k0s(),w.j41(7,"div",3)(8,"div",6)(9,"button",7),w.EFF(10,"Primary"),w.k0s(),w.j41(11,"button",8),w.EFF(12,"Secondary"),w.k0s(),w.j41(13,"button",9),w.EFF(14,"Success"),w.k0s(),w.j41(15,"button",10),w.EFF(16,"Danger"),w.k0s(),w.j41(17,"button",11),w.EFF(18,"Warning"),w.k0s(),w.j41(19,"button",12),w.EFF(20,"Info"),w.k0s(),w.j41(21,"button",13),w.EFF(22,"Light"),w.k0s(),w.j41(23,"button",14),w.EFF(24,"Dark"),w.k0s(),w.j41(25,"button",15),w.EFF(26,"Link"),w.k0s()()(),w.j41(27,"h5",5),w.EFF(28,"Outline buttons"),w.k0s(),w.j41(29,"div",16)(30,"div",6)(31,"button",17),w.EFF(32,"Primary"),w.k0s(),w.j41(33,"button",18),w.EFF(34,"Secondary"),w.k0s(),w.j41(35,"button",19),w.EFF(36,"Success"),w.k0s(),w.j41(37,"button",20),w.EFF(38,"Danger"),w.k0s(),w.j41(39,"button",21),w.EFF(40,"Warning"),w.k0s(),w.j41(41,"button",22),w.EFF(42,"Info"),w.k0s(),w.j41(43,"button",23),w.EFF(44,"Light"),w.k0s(),w.j41(45,"button",24),w.EFF(46,"Dark"),w.k0s(),w.j41(47,"button",25),w.EFF(48,"Link"),w.k0s()()()()()()()(),w.j41(49,"section",26)(50,"div",0)(51,"div",1)(52,"div",2)(53,"h2",27),w.EFF(54,"Tables"),w.k0s()(),w.j41(55,"div",28)(56,"div",3)(57,"div",4)(58,"h4",29),w.EFF(59,"Basic Table"),w.k0s(),w.j41(60,"p",30),w.EFF(61," Add class "),w.j41(62,"code"),w.EFF(63,".table"),w.k0s()(),w.j41(64,"div",31)(65,"table",32)(66,"thead")(67,"tr")(68,"th"),w.EFF(69,"Profile"),w.k0s(),w.j41(70,"th"),w.EFF(71,"VatNo."),w.k0s(),w.j41(72,"th"),w.EFF(73,"Created"),w.k0s(),w.j41(74,"th"),w.EFF(75,"Status"),w.k0s()()(),w.j41(76,"tbody")(77,"tr")(78,"td"),w.EFF(79,"Jacob"),w.k0s(),w.j41(80,"td"),w.EFF(81,"53275531"),w.k0s(),w.j41(82,"td"),w.EFF(83,"12 May 2017"),w.k0s(),w.j41(84,"td")(85,"label",33),w.EFF(86,"Pending"),w.k0s()()(),w.j41(87,"tr")(88,"td"),w.EFF(89,"Messsy"),w.k0s(),w.j41(90,"td"),w.EFF(91,"53275532"),w.k0s(),w.j41(92,"td"),w.EFF(93,"15 May 2017"),w.k0s(),w.j41(94,"td")(95,"label",34),w.EFF(96,"In progress"),w.k0s()()(),w.j41(97,"tr")(98,"td"),w.EFF(99,"John"),w.k0s(),w.j41(100,"td"),w.EFF(101,"53275533"),w.k0s(),w.j41(102,"td"),w.EFF(103,"14 May 2017"),w.k0s(),w.j41(104,"td")(105,"label",35),w.EFF(106,"Fixed"),w.k0s()()(),w.j41(107,"tr")(108,"td"),w.EFF(109,"Peter"),w.k0s(),w.j41(110,"td"),w.EFF(111,"53275534"),w.k0s(),w.j41(112,"td"),w.EFF(113,"16 May 2017"),w.k0s(),w.j41(114,"td")(115,"label",34),w.EFF(116,"Completed"),w.k0s()()(),w.j41(117,"tr")(118,"td"),w.EFF(119,"Dave"),w.k0s(),w.j41(120,"td"),w.EFF(121,"53275535"),w.k0s(),w.j41(122,"td"),w.EFF(123,"20 May 2017"),w.k0s(),w.j41(124,"td")(125,"label",36),w.EFF(126,"In progress"),w.k0s()()()()()()()()(),w.j41(127,"div",28)(128,"div",3)(129,"div",4)(130,"h4",29),w.EFF(131,"Hoverable Table"),w.k0s(),w.j41(132,"p",30),w.EFF(133," Add class "),w.j41(134,"code"),w.EFF(135,".table-hover"),w.k0s()(),w.j41(136,"div",31)(137,"table",37)(138,"thead")(139,"tr")(140,"th"),w.EFF(141,"User"),w.k0s(),w.j41(142,"th"),w.EFF(143,"Product"),w.k0s(),w.j41(144,"th"),w.EFF(145,"Sale"),w.k0s(),w.j41(146,"th"),w.EFF(147,"Status"),w.k0s()()(),w.j41(148,"tbody")(149,"tr")(150,"td"),w.EFF(151,"Jacob"),w.k0s(),w.j41(152,"td"),w.EFF(153,"Photoshop"),w.k0s(),w.j41(154,"td",38),w.EFF(155," 28.76% "),w.nrm(156,"i",39),w.k0s(),w.j41(157,"td")(158,"label",33),w.EFF(159,"Pending"),w.k0s()()(),w.j41(160,"tr")(161,"td"),w.EFF(162,"Messsy"),w.k0s(),w.j41(163,"td"),w.EFF(164,"Flash"),w.k0s(),w.j41(165,"td",38),w.EFF(166," 21.06% "),w.nrm(167,"i",39),w.k0s(),w.j41(168,"td")(169,"label",36),w.EFF(170,"In progress"),w.k0s()()(),w.j41(171,"tr")(172,"td"),w.EFF(173,"John"),w.k0s(),w.j41(174,"td"),w.EFF(175,"Premier"),w.k0s(),w.j41(176,"td",38),w.EFF(177," 35.00% "),w.nrm(178,"i",39),w.k0s(),w.j41(179,"td")(180,"label",35),w.EFF(181,"Fixed"),w.k0s()()(),w.j41(182,"tr")(183,"td"),w.EFF(184,"Peter"),w.k0s(),w.j41(185,"td"),w.EFF(186,"After effects"),w.k0s(),w.j41(187,"td",40),w.EFF(188," 82.00% "),w.nrm(189,"i",41),w.k0s(),w.j41(190,"td")(191,"label",34),w.EFF(192,"Completed"),w.k0s()()(),w.j41(193,"tr")(194,"td"),w.EFF(195,"Dave"),w.k0s(),w.j41(196,"td"),w.EFF(197,"53275535"),w.k0s(),w.j41(198,"td",40),w.EFF(199," 98.05% "),w.nrm(200,"i",41),w.k0s(),w.j41(201,"td")(202,"label",36),w.EFF(203,"In progress"),w.k0s()()()()()()()()(),w.j41(204,"div",42)(205,"div",3)(206,"div",4)(207,"h4",29),w.EFF(208,"Striped Table"),w.k0s(),w.j41(209,"p",30),w.EFF(210," Add class "),w.j41(211,"code"),w.EFF(212,".table-striped"),w.k0s()(),w.j41(213,"div",31)(214,"table",43)(215,"thead")(216,"tr")(217,"th"),w.EFF(218," User "),w.k0s(),w.j41(219,"th"),w.EFF(220," First name "),w.k0s(),w.j41(221,"th"),w.EFF(222," Progress "),w.k0s(),w.j41(223,"th"),w.EFF(224," Amount "),w.k0s(),w.j41(225,"th"),w.EFF(226," Deadline "),w.k0s(),w.j41(227,"th"),w.EFF(228," Status "),w.k0s()()(),w.j41(229,"tbody")(230,"tr")(231,"td",44),w.nrm(232,"img",45),w.k0s(),w.j41(233,"td"),w.EFF(234," Herman Beck "),w.k0s(),w.j41(235,"td")(236,"div",46),w.nrm(237,"div",47),w.k0s()(),w.j41(238,"td"),w.EFF(239," $ 77.99 "),w.k0s(),w.j41(240,"td"),w.EFF(241," May 15, 2015 "),w.k0s(),w.j41(242,"td")(243,"label",48),w.EFF(244,"In progress"),w.k0s()()(),w.j41(245,"tr")(246,"td",44),w.nrm(247,"img",49),w.k0s(),w.j41(248,"td"),w.EFF(249," Messsy Adam "),w.k0s(),w.j41(250,"td")(251,"div",46),w.nrm(252,"div",50),w.k0s()(),w.j41(253,"td"),w.EFF(254," $245.30 "),w.k0s(),w.j41(255,"td"),w.EFF(256," July 1, 2015 "),w.k0s(),w.j41(257,"td")(258,"label",51),w.EFF(259,"In progress"),w.k0s()()(),w.j41(260,"tr")(261,"td",44),w.nrm(262,"img",52),w.k0s(),w.j41(263,"td"),w.EFF(264," John Richards "),w.k0s(),w.j41(265,"td")(266,"div",46),w.nrm(267,"div",53),w.k0s()(),w.j41(268,"td"),w.EFF(269," $138.00 "),w.k0s(),w.j41(270,"td"),w.EFF(271," Apr 12, 2015 "),w.k0s(),w.j41(272,"td")(273,"label",54),w.EFF(274,"In progress"),w.k0s()()(),w.j41(275,"tr")(276,"td",44),w.nrm(277,"img",55),w.k0s(),w.j41(278,"td"),w.EFF(279," Peter Meggik "),w.k0s(),w.j41(280,"td")(281,"div",46),w.nrm(282,"div",56),w.k0s()(),w.j41(283,"td"),w.EFF(284," $ 77.99 "),w.k0s(),w.j41(285,"td"),w.EFF(286," May 15, 2015 "),w.k0s(),w.j41(287,"td")(288,"label",57),w.EFF(289,"In progress"),w.k0s()()(),w.j41(290,"tr")(291,"td",44),w.nrm(292,"img",58),w.k0s(),w.j41(293,"td"),w.EFF(294," Edward "),w.k0s(),w.j41(295,"td")(296,"div",46),w.nrm(297,"div",59),w.k0s()(),w.j41(298,"td"),w.EFF(299," $ 160.25 "),w.k0s(),w.j41(300,"td"),w.EFF(301," May 03, 2015 "),w.k0s(),w.j41(302,"td")(303,"label",60),w.EFF(304,"In progress"),w.k0s()()(),w.j41(305,"tr")(306,"td",44),w.nrm(307,"img",61),w.k0s(),w.j41(308,"td"),w.EFF(309," John Doe "),w.k0s(),w.j41(310,"td")(311,"div",46),w.nrm(312,"div",62),w.k0s()(),w.j41(313,"td"),w.EFF(314," $ 123.21 "),w.k0s(),w.j41(315,"td"),w.EFF(316," April 05, 2015 "),w.k0s(),w.j41(317,"td")(318,"label",63),w.EFF(319,"In progress"),w.k0s()()(),w.j41(320,"tr")(321,"td",44),w.nrm(322,"img",64),w.k0s(),w.j41(323,"td"),w.EFF(324," Henry Tom "),w.k0s(),w.j41(325,"td")(326,"div",46),w.nrm(327,"div",65),w.k0s()(),w.j41(328,"td"),w.EFF(329," $ 150.00 "),w.k0s(),w.j41(330,"td"),w.EFF(331," June 16, 2015 "),w.k0s(),w.j41(332,"td")(333,"label",54),w.EFF(334,"In progress"),w.k0s()()()()()()()()()()()())},encapsulation:2})}return m})();var P=W(6335),N=W(9885),$=W(4796),Ae=W(9332),Nt=W(7473);const Sn=m=>["/dashboard/profile",m],cr=()=>["/dashboard/claims"],Hi=m=>({"bg-dark bg-opacity-15":m}),Ki=(m,d,f,E)=>({"bi-bell-fill text-warning":m,"bi-exclamation-circle-fill text-danger":d,"bi-pencil-fill text-primary":f,"bi-check-circle-fill text-success":E}),Do=(m,d,f,E,M)=>({"badge-full-warning":m,"badge-full-danger":d,"badge-full-primary":f,"badge-full-success":E,"badge-full-secondary":M}),Qs=()=>["/dashboard/admin-users"],Sa=m=>["/dashboard/notifications",m],us=()=>["/dashboard/admin-notifications"];function Ao(m,d){if(1&m&&(w.j41(0,"span",61),w.EFF(1),w.k0s()),2&m){const f=w.XpG();w.R7$(),w.SpI(" ",f.unreadCount," ")}}function ys(m,d){if(1&m){const f=w.RV6();w.j41(0,"a",66),w.bIt("click",function(){const M=w.eBV(f).$implicit,V=w.XpG(2);return w.Njj(V.marcarComoLeida(M))}),w.j41(1,"div",13),w.nrm(2,"i",67),w.j41(3,"span",68),w.EFF(4),w.k0s()(),w.j41(5,"span",69),w.EFF(6),w.k0s()()}if(2&m){const f=d.$implicit;w.Y8G("ngClass",w.eq3(6,Hi,f.read)),w.R7$(2),w.Y8G("ngClass",w.ziG(8,Ki,"asignado"===f.type,"urgente"===f.type,"editado"===f.type,"cerrado"===f.type)),w.R7$(),w.Y8G("innerHTML",f.message,w.npT),w.R7$(),w.JRh(f.message),w.R7$(),w.Y8G("ngClass",w.s1E(13,Do,"asignado"===f.type,"urgente"===f.type,"editado"===f.type,"cerrado"===f.type,"admin-alert"===f.type)),w.R7$(),w.SpI(" ","asignado"===f.type?"Asignado":"urgente"===f.type?"Urgente":"editado"===f.type?"Editado":f.message.includes("cerrado")?"Cerrado":"Alerta edici\xf3n"," ")}}function ls(m,d){if(1&m){const f=w.RV6();w.qex(0),w.DNE(1,ys,7,19,"a",62),w.j41(2,"div",63)(3,"button",64),w.bIt("click",function(){w.eBV(f);const M=w.XpG();return w.Njj(M.marcarTodasComoLeidas())}),w.nrm(4,"i",65),w.EFF(5," Marcar todas como le\xeddas "),w.k0s()(),w.bVm()}if(2&m){const f=w.XpG();w.R7$(),w.Y8G("ngForOf",f.unreadNotifications)}}function fa(m,d){1&m&&(w.j41(0,"div",70),w.nrm(1,"i",71),w.EFF(2," Sin notificaciones "),w.k0s())}function Mn(m,d){1&m&&(w.j41(0,"li")(1,"a",27),w.nrm(2,"i",72),w.EFF(3," Admin Usuarios"),w.k0s()()),2&m&&(w.R7$(),w.Y8G("routerLink",w.lJ4(1,Qs)))}function pa(m,d){if(1&m&&(w.j41(0,"li")(1,"a",27),w.nrm(2,"i",73),w.EFF(3," Mis notificaciones"),w.k0s()()),2&m){const f=w.XpG();w.R7$(),w.Y8G("routerLink",w.eq3(1,Sa,f.uid))}}function Ms(m,d){1&m&&(w.j41(0,"li")(1,"a",27),w.nrm(2,"i",73),w.EFF(3," Mis notificaciones"),w.k0s()()),2&m&&(w.R7$(),w.Y8G("routerLink",w.lJ4(1,us)))}let _s=(()=>{class m{route;auth;userService;authService;router;alertaService;notificationService;userData=null;isLoading=!0;imagePath="assets/images/isotipo-webmain.svg";imageDefault="https://maxuber79.github.io/gsaforce/assets/images/face28.jpg";apodoUser="perrito";user=null;uid=null;profilePhotoURL="";pendingCount=0;todos=[];metrics="";tickets;satisfaction;channels;channelLabels=["Web","App","WhatsApp","Call Center"];channelData=[40,25,20,15];channelsData=[];perfil=null;userRol="";notifications=[];pendingCountNotification=0;uidNotification="";showNotiDropdown=!1;currentUid="";unreadCount=0;constructor(f,E,M,V,ee,Ee,We){this.route=f,this.auth=E,this.userService=M,this.authService=V,this.router=ee,this.alertaService=Ee,this.notificationService=We,console.log("%c<<< Start DashboardComponent >>>","background: #0d6efd; color: #ffffff; padding: 2px 5px;")}ngOnInit(){console.log("\u{1f4e6} Iniciando carga de usuario en dashboard..."),this.authService.getCurrentUser().subscribe(f=>{f&&(this.uid=f.uid,console.log(`%c \u{1f4e6} Usuario autenticado: ${f.uid}:`,"background: #d1e7dd; color: #0f5132; padding: 2px 5px;",f),this.userService.getUserData(f.uid).subscribe(E=>{this.userData=E,this.perfil=E,this.userRol=E?.rol||"Usuario",console.log("Rol del usuario:",this.userRol)}),this.notificationService.getUserNotifications(f.uid).subscribe(E=>{this.notifications=E,this.unreadCount=E.filter(V=>!V.read).length,console.log("\u{1f4ec} Cantidad de no le\xeddas ----\x3e",this.unreadCount);const M=sessionStorage.getItem("toastShown");this.unreadCount>0&&!M&&(this.alertaService.showToastWarning(`Tienes ${this.unreadCount} notificaci\xf3n${1===this.unreadCount?"":"es"} nueva${1===this.unreadCount?"":"s"}`,"\u{1f514} Atenci\xf3n"),sessionStorage.setItem("toastShown","true")),E.forEach(V=>console.log(`\u{1f4c4} ${V.message} | Le\xedda: ${V.read}`))}))})}toggleNotiDropdown(){this.showNotiDropdown=!this.showNotiDropdown}listenToNotifications(){this.notificationService.getUserNotifications(this.uidNotification).subscribe(f=>{this.notifications=f,this.pendingCountNotification=f.filter(E=>!E.read).length,console.log("\u{1f514} Notificaciones para",this.uidNotification,":",this.notifications),console.log("\u{1f4ec} No le\xeddas:",this.pendingCountNotification)})}marcarComoLeida(f){console.log("\u{1f514} Marcando como le\xedda la notificaci\xf3n:",f),!f.read&&f.id&&this.uid&&this.notificationService.markAsRead(this.uid,f.id).then(()=>console.log(`\u{1f4ec} Notificaci\xf3n marcada como le\xedda: ${f.message}`)).catch(E=>console.error("\u274c Error al marcar como le\xedda:",E))}marcarTodasComoLeidas(){this.uid&&this.notificationService.markAllAsRead(this.uid).then(()=>console.log("\u{1f4ec} Todas las notificaciones marcadas como le\xeddas")).catch(f=>console.error("\u274c Error al marcar todas como le\xeddas:",f))}eliminarNotificacion(f){!f.id||!this.uid||!confirm("\xbfEst\xe1s seguro de eliminar esta notificaci\xf3n?")||this.notificationService.deleteNotification(this.uid,f.id).then(()=>console.log(`\u{1f5d1}\ufe0f Notificaci\xf3n eliminada: ${f.message}`)).catch(M=>console.error("\u274c Error al eliminar notificaci\xf3n:",M))}onLogout(){var f=this;return(0,Xo.A)(function*(){try{yield f.authService.logout(),f.router.navigate(["/"])}catch(E){console.error("\u274c Error al cerrar sesi\xf3n:",E)}})()}goToProfile(){this.userData?.uid?this.router.navigate(["/dashboard/profile",this.userData.uid]):console.error("\u274c No se encontr\xf3 UID para navegar al perfil")}get unreadNotificationsCount(){const f=this.notifications?.filter(E=>!E.read).length||0;return console.log("\u{1f534} Notificaciones no le\xeddas:",f),f}get unreadNotifications(){return this.notifications.filter(f=>!f.read).slice(0,5)}static \u0275fac=function(E){return new(E||m)(w.rXU(fi.nX),w.rXU(P.Nj),w.rXU(N.D),w.rXU($.u),w.rXU(fi.Ix),w.rXU(Ae.u),w.rXU(Nt.J))};static \u0275cmp=w.VBU({type:m,selectors:[["app-dashboard"]],decls:108,vars:16,consts:[["noNotifications",""],[1,"d-flex","flex-column","min-vh-100","dashboard"],[1,"px-3","text-bg-dark"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["alt","","width","50","height","auto",3,"src"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["href","#",1,"nav-link"],[1,"d-flex","align-items-center"],[1,"link-secondary","me-3",3,"routerLink"],[1,"bi","bi-gear-fill"],[1,"dropdown"],["href","#","id","navbarDropdownMenuLink","data-bs-toggle","dropdown","role","button","aria-expanded","false",1,"link-secondary","position-relative","me-3","dropdown-toggle","hidden-arrow"],[1,"bi","bi-bell-fill","fs-5"],["class","badge rounded-pill bg-danger translate-middle ",4,"ngIf"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu","dropdown-menu-end","p-0","shadow","header-notif-menu"],[1,"list-group","list-group-flush"],[4,"ngIf","ngIfElse"],[1,"dropdown","text-end"],["href","#","data-bs-toggle","dropdown","role","button","aria-expanded","false",1,"d-block","link-secondary","text-decoration-none","dropdown-toggle"],["width","32","height","32","alt","avatar",1,"rounded-circle","border","border-light-subtle","object-fit-cover",3,"src"],["aria-labelledby","navbarDropdownMenuAvatar",1,"dropdown-menu","dropdown-menu-end","text-small","header-avatar-menu"],[1,"dropdown-item",3,"routerLink"],[1,"bi","bi-person-circle"],[1,"bi","bi-files"],[4,"ngIf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"bi","bi-power"],["href","#","type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbarDark","aria-controls","offcanvasNavbarDark",1,"link-light","ms-3"],[1,"bi","bi-three-dots-vertical","fs-4","fw-semibold"],["tabindex","-1","id","offcanvasNavbarDark","aria-labelledby","offcanvasNavbarDarkLabel",1,"offcanvas","offcanvas-end","text-bg-dark"],[1,"offcanvas-header"],["id","offcanvasNavbarDarkLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","btn-close-white"],[1,"offcanvas-body"],[1,"row"],[1,"col-12"],[1,"flex-grow-1","container","py-4"],[1,"container"],["data-bs-theme","dark",1,"py-4","bg-dark"],[1,"d-lg-flex","justify-content-between","py-3","py-lg-2"],[1,"small","mb-2","mb-lg-0"],[1,"text-muted","mb-0","me-5"],[1,"d-flex","small","align-items-end","justify-content-between"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3","mb-2","mb-lg-0"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3"],[1,"d-none","d-lg-block","ms-3"],["href","",1,"me-2"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-pinterest","text-primary"],["d","M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-twitter","text-primary"],["d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-facebook","text-primary"],["d","M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"],[1,"d-lg-none"],[1,"badge","rounded-pill","bg-danger","translate-middle"],["href","#","class","list-group-item list-group-item-action d-flex justify-content-between align-items-center","style","min-height: 65px;",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"text-center","p-3","border-top"],[1,"btn","btn-full","--success","m-1","w-100",3,"click"],[1,"bi","bi-check-circle-fill"],["href","#",1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",2,"min-height","65px",3,"click","ngClass"],[1,"bi","me-3",3,"ngClass"],[1,"notification-message","text-wrap","lh-sm",3,"innerHTML"],[1,"badge","ms-3",3,"ngClass"],[1,"list-group-item","text-center","text-warning-emphasis","p-3"],[1,"bi","bi-bell-slash"],[1,"bi","bi-people-fill"],[1,"bi","bi-bell-fill"]],template:function(E,M){if(1&E){const V=w.RV6();w.j41(0,"div",1)(1,"header",2)(2,"nav",3)(3,"div",4)(4,"a",5),w.nrm(5,"img",6),w.k0s(),w.j41(6,"button",7),w.nrm(7,"span",8),w.k0s(),w.j41(8,"div",9)(9,"ul",10)(10,"li",11)(11,"a",12),w.EFF(12,"Dashboard"),w.k0s()(),w.j41(13,"li",11)(14,"a",12),w.EFF(15,"Team"),w.k0s()(),w.j41(16,"li",11)(17,"a",12),w.EFF(18,"Projects"),w.k0s()()()(),w.j41(19,"div",13)(20,"a",14),w.nrm(21,"i",15),w.k0s(),w.j41(22,"div",16)(23,"a",17),w.nrm(24,"i",18),w.DNE(25,Ao,2,1,"span",19),w.k0s(),w.j41(26,"div",20)(27,"div",21),w.DNE(28,ls,6,1,"ng-container",22)(29,fa,3,0,"ng-template",null,0,w.C5r),w.k0s()()(),w.j41(31,"div",23)(32,"a",24),w.nrm(33,"img",25),w.k0s(),w.j41(34,"ul",26)(35,"li")(36,"a",27),w.nrm(37,"i",28),w.EFF(38," Mi perfil"),w.k0s()(),w.j41(39,"li")(40,"a",27),w.nrm(41,"i",29),w.EFF(42," Mis Reclamos"),w.k0s()(),w.DNE(43,Mn,4,2,"li",30)(44,pa,4,3,"li",30)(45,Ms,4,2,"li",30),w.j41(46,"li"),w.nrm(47,"hr",31),w.k0s(),w.j41(48,"li")(49,"a",32),w.bIt("click",function(){return w.eBV(V),w.Njj(M.onLogout())}),w.nrm(50,"i",33),w.EFF(51," Sign out"),w.k0s()()()(),w.j41(52,"a",34),w.nrm(53,"i",35),w.k0s()()()()(),w.j41(54,"aside",36)(55,"div",37)(56,"h5",38),w.EFF(57,"Sidebar menu"),w.k0s(),w.nrm(58,"button",39),w.k0s(),w.j41(59,"div",40)(60,"div",41)(61,"div",42)(62,"h1"),w.EFF(63,"Lorem ipsum dolor sit."),w.k0s(),w.j41(64,"p"),w.EFF(65,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Debitis veritatis voluptate ipsum voluptatibus eligendi ut ducimus accusamus sit in? At!"),w.k0s(),w.j41(66,"p"),w.EFF(67,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quod aspernatur accusantium, porro est aliquid quia sint quisquam odit eveniet doloribus amet odio aliquam magnam a, itaque facilis ipsam natus pariatur."),w.k0s()()()()(),w.j41(68,"main",43)(69,"section",44),w.nrm(70,"router-outlet"),w.k0s(),w.nrm(71,"app-components"),w.k0s(),w.j41(72,"footer",45)(73,"div",44)(74,"div",46)(75,"div",47)(76,"p",48),w.EFF(77,"\xa9 2023 FreeFrontend.dev. All rights reserved."),w.k0s()(),w.j41(78,"div",49)(79,"div")(80,"a",50),w.EFF(81,"Privacy Policy"),w.k0s(),w.j41(82,"a",50),w.EFF(83,"Terms"),w.k0s(),w.j41(84,"a",50),w.EFF(85,"Cookies"),w.k0s(),w.j41(86,"a",51),w.EFF(87,"Sitemap"),w.k0s()(),w.j41(88,"div",52)(89,"a",53),w.qSk(),w.j41(90,"svg",54),w.nrm(91,"path",55),w.k0s()(),w.joV(),w.j41(92,"a",53),w.qSk(),w.j41(93,"svg",56),w.nrm(94,"path",57),w.k0s()(),w.joV(),w.j41(95,"a",53),w.qSk(),w.j41(96,"svg",58),w.nrm(97,"path",59),w.k0s()()(),w.joV(),w.j41(98,"div",60)(99,"a",53),w.qSk(),w.j41(100,"svg",54),w.nrm(101,"path",55),w.k0s()(),w.joV(),w.j41(102,"a",53),w.qSk(),w.j41(103,"svg",56),w.nrm(104,"path",57),w.k0s()(),w.joV(),w.j41(105,"a",53),w.qSk(),w.j41(106,"svg",58),w.nrm(107,"path",59),w.k0s()()()()()()()()}if(2&E){const V=w.sdS(30);w.R7$(5),w.Y8G("src",M.imagePath,w.B4B),w.R7$(15),w.Y8G("routerLink",w.eq3(11,Sn,M.uid)),w.R7$(5),w.Y8G("ngIf",M.unreadCount>0),w.R7$(3),w.Y8G("ngIf",M.unreadNotifications.length>0)("ngIfElse",V),w.R7$(5),w.Y8G("src",(null==M.userData?null:M.userData.photoURL)||M.imageDefault,w.B4B),w.R7$(3),w.Y8G("routerLink",w.eq3(13,Sn,M.uid)),w.R7$(4),w.Y8G("routerLink",w.lJ4(15,cr)),w.R7$(3),w.Y8G("ngIf","Administrador"===M.userRol),w.R7$(),w.Y8G("ngIf","Ejecutivo"===M.userRol),w.R7$(),w.Y8G("ngIf","Administrador"===M.userRol)}},dependencies:[Zo.MD,Zo.YU,Zo.Sq,Zo.bT,qi.iI,fi.n3,qi.Wk,oi],styles:['@charset "UTF-8";[data-card=border][_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid var(--bs-border-color);box-shadow:none}.card[_ngcontent-%COMP%]{margin-bottom:var(--bs-gutter-x)}.card-title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px;color:var(--bs-card-title-color)}.card-subtitle[_ngcontent-%COMP%]{font-size:14px;line-height:24px;color:var(--bs-card-subtitle-color)}.card-hover[_ngcontent-%COMP%]{transition:.2s ease-in}.card-hover[_ngcontent-%COMP%]:hover{transform:translate3d(0,-5px,0)}.cardwithborder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid var(--bs-border-color)}.card-fullscreen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;overflow:auto}.draggable-cards[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{cursor:move}.card-moved[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:var(--bs-info);color:var(--bs-white)}.notification-message[_ngcontent-%COMP%]{max-width:220px;white-space:normal;word-wrap:break-word;overflow-wrap:break-word;font-size:.9rem;line-height:1.2}.header-avatar-menu[_ngcontent-%COMP%]{margin-top:1rem}.header-notif-menu[_ngcontent-%COMP%]{margin-top:1rem;width:360px;max-width:min(360px,92vw);max-height:70vh;overflow:auto}@media (max-width: 576px){.header-notif-menu[_ngcontent-%COMP%]{right:-30px!important;left:auto!important;transform:none!important}}header[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%]{overflow:visible}span.notification-badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-4px}']})}return m})();function Ra(m,d){1&m&&(w.j41(0,"div",5)(1,"div",6)(2,"span",7),w.EFF(3,"Cargando..."),w.k0s()(),w.j41(4,"p",8),w.EFF(5,"Procesando..."),w.k0s()())}let Ua=(()=>{class m{router;userName="Nuevo Usuario";isLoading=!1;constructor(f){this.router=f}goToDashboard(){setTimeout(()=>{this.isLoading=!1,this.router.navigate(["/dashboard"])},2e3)}static \u0275fac=function(E){return new(E||m)(w.rXU(fi.Ix))};static \u0275cmp=w.VBU({type:m,selectors:[["app-welcome"]],decls:8,vars:2,consts:[[1,"welcome-container"],[1,"welcome-title"],[1,"welcome-subtitle"],["class","text-center my-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"text-center","my-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"]],template:function(E,M){1&E&&(w.j41(0,"section",0)(1,"h1",1),w.EFF(2),w.k0s(),w.j41(3,"p",2),w.EFF(4," Gracias por registrarte en nuestra aplicaci\xf3n To-Do. Desde aqu\xed puedes acceder a tu panel de control. "),w.k0s(),w.DNE(5,Ra,6,0,"div",3),w.j41(6,"button",4),w.bIt("click",function(){return M.goToDashboard()}),w.EFF(7,"Ir al Dashboard"),w.k0s()()),2&E&&(w.R7$(2),w.SpI("\xa1Bienvenido, ",M.userName,"! \u{1f44b}"),w.R7$(3),w.Y8G("ngIf",M.isLoading))},dependencies:[Zo.MD,Zo.bT],styles:[".welcome-container[_ngcontent-%COMP%]{text-align:center;padding:2rem}.welcome-container[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.welcome-container[_ngcontent-%COMP%]   .welcome-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:#555}.welcome-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1.5rem}"]})}return m})();var zi=W(520),Qi=W(1985);const Ai=(m,d)=>{const f=(0,w.WQX)(P.Nj),E=(0,w.WQX)(fi.Ix);return new Qi.c(M=>{const V=(0,zi.hg)(f,ee=>{ee?M.next(!0):(E.navigate(["/"]),M.next(!1)),M.complete(),V()})})},Ja=(m,d)=>{const f=(0,w.WQX)(P.Nj),E=(0,w.WQX)(fi.Ix);return new Qi.c(M=>{const V=(0,zi.hg)(f,ee=>{ee?(E.navigate(["/dashboard"]),M.next(!1)):M.next(!0),M.complete(),V()})})},to=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>Promise.all([W.e(341),W.e(195)]).then(W.bind(W,7195)).then(m=>m.LoginComponent),canActivate:[Ja]},{path:"register",loadComponent:()=>Promise.all([W.e(341),W.e(739)]).then(W.bind(W,2739)).then(m=>m.RegisterComponent),canActivate:[Ja]},{path:"forgot",loadComponent:()=>Promise.all([W.e(341),W.e(439)]).then(W.bind(W,6439)).then(m=>m.ForgotPasswordComponent),canActivate:[Ja]},{path:"dashboard",component:_s,canActivate:[Ai],loadChildren:()=>Promise.all([W.e(341),W.e(69)]).then(W.bind(W,9069)).then(m=>m.routes)},{path:"welcome",component:Ua,canActivate:[Ai]},{path:"**",loadComponent:()=>W.e(887).then(W.bind(W,8887)).then(m=>m.NotFoundComponent)}];var vc=W(7643);const Jo_firebaseConfig={apiKey:"AIzaSyCbOayfHpIwogvguhehOdr1JZO5IW1ELwA",authDomain:"to-do-app-2a154.firebaseapp.com",projectId:"to-do-app-2a154",storageBucket:"to-do-app-2a154.firebasestorage.app",messagingSenderId:"772395492262",appId:"1:772395492262:web:902eddb2ce4a22857da567"};var Vs=W(7440),A=W(9967),k=W(2107),S=W(5794);(function rn(m,d){return(0,w.TL3)({rootComponent:m,...nr(d)})})($o,{providers:[(0,qi.lh)(to),(0,vc.$R)(),function Kr(){return(0,w.ngT)("NgEagerAnimations"),[...Va]}(),(0,Vs.MW)(()=>(0,Vs.Wp)(Jo_firebaseConfig)),(0,P._q)(()=>(0,P.xI)()),(0,A.hV)(()=>(0,A.aU)()),(0,k.Xm)(()=>(0,k.c7)()),(0,S.DP)({positionClass:"toast-bottom-right",timeOut:3e3,closeButton:!0,progressBar:!0})]}).catch(m=>console.error(m))},8455:(Cn,ze,W)=>{"use strict";W.d(ze,{H:()=>Ne});var D=W(8750),F=W(941),Q=W(6745),Ze=W(1985),ge=W(4761),Ue=W(8071),_e=W(5225);function qe(ct,et){if(!ct)throw new Error("Iterable cannot be null");return new Ze.c(Tt=>{(0,_e.N)(Tt,et,()=>{const Xt=ct[Symbol.asyncIterator]();(0,_e.N)(Tt,et,()=>{Xt.next().then(vt=>{vt.done?Tt.complete():Tt.next(vt.value)})},0,!0)})})}var Ct=W(5055),ft=W(9858),Ot=W(7441),Bt=W(5397),Gt=W(7953),hn=W(591),Dt=W(5196);function Ne(ct,et){return et?function St(ct,et){if(null!=ct){if((0,Ct.l)(ct))return function w(ct,et){return(0,D.Tg)(ct).pipe((0,Q._)(et),(0,F.Q)(et))}(ct,et);if((0,Ot.X)(ct))return function be(ct,et){return new Ze.c(Tt=>{let Xt=0;return et.schedule(function(){Xt===ct.length?Tt.complete():(Tt.next(ct[Xt++]),Tt.closed||this.schedule())})})}(ct,et);if((0,ft.y)(ct))return function Se(ct,et){return(0,D.Tg)(ct).pipe((0,Q._)(et),(0,F.Q)(et))}(ct,et);if((0,Gt.T)(ct))return qe(ct,et);if((0,Bt.x)(ct))return function we(ct,et){return new Ze.c(Tt=>{let Xt;return(0,_e.N)(Tt,et,()=>{Xt=ct[ge.l](),(0,_e.N)(Tt,et,()=>{let vt,dt;try{({value:vt,done:dt}=Xt.next())}catch($n){return void Tt.error($n)}dt?Tt.complete():Tt.next(vt)},0,!0)}),()=>(0,Ue.T)(Xt?.return)&&Xt.return()})}(ct,et);if((0,Dt.U)(ct))return function Rt(ct,et){return qe((0,Dt.C)(ct),et)}(ct,et)}throw(0,hn.L)(ct)}(ct,et):(0,D.Tg)(ct)}},8496:(Cn,ze,W)=>{"use strict";function D(F,Q){return F.reduce((w,Se,Ze)=>(w[Se]=Q[Ze],w),{})}W.d(ze,{e:()=>D})},8750:(Cn,ze,W)=>{"use strict";W.d(ze,{Tg:()=>Ct});var D=W(1635),F=W(7441),Q=W(9858),w=W(1985),Se=W(5055),Ze=W(7953),be=W(591),ge=W(5397),Ue=W(5196),_e=W(8071),we=W(5334),qe=W(3494);function Ct(St){if(St instanceof w.c)return St;if(null!=St){if((0,Se.l)(St))return function ft(St){return new w.c(Ne=>{const ct=St[qe.s]();if((0,_e.T)(ct.subscribe))return ct.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(St);if((0,F.X)(St))return function Ot(St){return new w.c(Ne=>{for(let ct=0;ct<St.length&&!Ne.closed;ct++)Ne.next(St[ct]);Ne.complete()})}(St);if((0,Q.y)(St))return function Bt(St){return new w.c(Ne=>{St.then(ct=>{Ne.closed||(Ne.next(ct),Ne.complete())},ct=>Ne.error(ct)).then(null,we.m)})}(St);if((0,Ze.T)(St))return hn(St);if((0,ge.x)(St))return function Gt(St){return new w.c(Ne=>{for(const ct of St)if(Ne.next(ct),Ne.closed)return;Ne.complete()})}(St);if((0,Ue.U)(St))return function Dt(St){return hn((0,Ue.C)(St))}(St)}throw(0,be.L)(St)}function hn(St){return new w.c(Ne=>{(function Rt(St,Ne){var ct,et,Tt,Xt;return(0,D.sH)(this,void 0,void 0,function*(){try{for(ct=(0,D.xN)(St);!(et=yield ct.next()).done;)if(Ne.next(et.value),Ne.closed)return}catch(vt){Tt={error:vt}}finally{try{et&&!et.done&&(Xt=ct.return)&&(yield Xt.call(ct))}finally{if(Tt)throw Tt.error}}Ne.complete()})})(St,Ne).catch(ct=>Ne.error(ct))})}},9270:(Cn,ze,W)=>{"use strict";W.d(ze,{f:()=>D});const D={setTimeout(F,Q,...w){const{delegate:Se}=D;return Se?.setTimeout?Se.setTimeout(F,Q,...w):setTimeout(F,Q,...w)},clearTimeout(F){const{delegate:Q}=D;return(Q?.clearTimeout||clearTimeout)(F)},delegate:void 0}},9326:(Cn,ze,W)=>{"use strict";W.d(ze,{lI:()=>Se,ms:()=>w});var D=W(8071),F=W(9470);function Q(be){return be[be.length-1]}function w(be){return(0,D.T)(Q(be))?be.pop():void 0}function Se(be){return(0,F.m)(Q(be))?be.pop():void 0}},9332:(Cn,ze,W)=>{"use strict";W.d(ze,{u:()=>Se});var D=W(8032),F=W.n(D),Q=W(1360),w=W(5794);let Se=(()=>{class Ze{toastr;showToastDanger(ge,Ue){throw new Error("Method not implemented.")}constructor(ge){this.toastr=ge}success(ge,Ue="\xc9xito"){F().fire({icon:"success",title:Ue,text:ge,timer:2e3,showConfirmButton:!1})}error(ge,Ue="Error"){F().fire({icon:"error",title:Ue,text:ge})}warning(ge,Ue="Atenci\xf3n"){F().fire({icon:"warning",title:Ue,text:ge})}info(ge,Ue="Informaci\xf3n"){F().fire({icon:"info",title:Ue,text:ge})}confirm(ge,Ue="\xbfEst\xe1s seguro?"){return F().fire({icon:"question",title:Ue,text:ge,showCancelButton:!0,confirmButtonText:"S\xed",cancelButtonText:"No"})}showToastSuccess(ge,Ue="\xc9xito"){this.toastr.success(ge,Ue)}showToastError(ge,Ue="Error"){this.toastr.error(ge,Ue)}showToastInfo(ge,Ue="Info"){this.toastr.info(ge,Ue)}showToastWarning(ge,Ue="Atenci\xf3n"){this.toastr.warning(ge,Ue)}static \u0275fac=function(Ue){return new(Ue||Ze)(Q.KVO(w.tw))};static \u0275prov=Q.jDH({token:Ze,factory:Ze.\u0275fac,providedIn:"root"})}return Ze})()},9350:(Cn,ze,W)=>{"use strict";W.d(ze,{G:()=>F});const F=(0,W(1853).L)(Q=>function(){Q(this),this.name="EmptyError",this.message="no elements in sequence"})},9361:(Cn,ze,W)=>{"use strict";W.d(ze,{q:()=>F});const F=new(W(1360).nKC)("")},9377:(Cn,ze,W)=>{"use strict";function D(be,ge){ge=encodeURIComponent(ge);for(const Ue of be.split(";")){const _e=Ue.indexOf("="),[we,qe]=-1==_e?[Ue,""]:[Ue.slice(0,_e),Ue.slice(_e+1)];if(we.trim()===ge)return decodeURIComponent(qe)}return null}W.d(ze,{N0:()=>Ze,Vy:()=>Se,Zn:()=>F,bS:()=>D});const F="browser",Q="server";function Se(be){return be===Q}class Ze{}},9437:(Cn,ze,W)=>{"use strict";W.d(ze,{W:()=>w});var D=W(8750),F=W(4360),Q=W(9974);function w(Se){return(0,Q.N)((Ze,be)=>{let _e,ge=null,Ue=!1;ge=Ze.subscribe((0,F._)(be,void 0,void 0,we=>{_e=(0,D.Tg)(Se(we,w(Se)(Ze))),ge?(ge.unsubscribe(),ge=null,_e.subscribe(be)):Ue=!0})),Ue&&(ge.unsubscribe(),ge=null,_e.subscribe(be))})}},9470:(Cn,ze,W)=>{"use strict";W.d(ze,{m:()=>F});var D=W(8071);function F(Q){return Q&&(0,D.T)(Q.schedule)}},9786:(Cn,ze,W)=>{"use strict";W.d(ze,{Y:()=>Q,l:()=>w});var D=W(1026);let F=null;function Q(Se){if(D.$.useDeprecatedSynchronousErrorHandling){const Ze=!F;if(Ze&&(F={errorThrown:!1,error:null}),Se(),Ze){const{errorThrown:be,error:ge}=F;if(F=null,be)throw ge}}else Se()}function w(Se){D.$.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=Se)}},9858:(Cn,ze,W)=>{"use strict";W.d(ze,{y:()=>F});var D=W(8071);function F(Q){return(0,D.T)(Q?.then)}},9885:(Cn,ze,W)=>{"use strict";W.d(ze,{D:()=>we});var D=W(1360),F=W(9967),Q=W(6335),w=W(7673),Se=W(8455),Ze=W(6354),be=W(9437),ge=W(5558),Ue=W(7643),_e=W(4796);let we=(()=>{class qe{http;authService;usersCollectionName="users";firestore=(0,D.WQX)(F._7);auth=(0,D.WQX)(Q.Nj);constructor(ft,Ot){this.http=ft,this.authService=Ot,console.log("%c<<< Start USER service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getUserProfile(ft){if(!ft)return console.warn("\u26a0\ufe0f getUserProfile: UID no proporcionado."),(0,w.of)(void 0);const Ot=(0,F.H9)(this.firestore,`${this.usersCollectionName}/${ft}`);return console.log("\u{1f4c4} Obteniendo perfil para UID:",ft),(0,F.Bg)(Ot).pipe((0,Ze.T)(Bt=>{if(Bt)return console.log("\u2705 Perfil obtenido:",Bt),{...Bt,uid:ft};console.warn("\u26a0\ufe0f No se encontr\xf3 perfil para UID:",ft)}),(0,be.W)(Bt=>(console.error("\u274c Error al obtener el perfil del usuario:",Bt),(0,w.of)(void 0))))}createUserProfile(ft){if(!ft.uid)return(0,Se.H)(Promise.reject("\u274c createUserProfile: UID del usuario es requerido."));const Ot=new Date,Bt={...ft,created_at:Ot,createdDate:Ot},Gt=(0,F.H9)(this.firestore,`${this.usersCollectionName}/${ft.uid}`);return console.log("\u{1f4dd} Creando perfil para usuario:",Bt),(0,Se.H)((0,F.BN)(Gt,Bt))}updateUserProfile(ft,Ot){if(!ft)return(0,Se.H)(Promise.reject("\u274c updateUserProfile: UID no proporcionado."));const Bt=(0,F.H9)(this.firestore,`${this.usersCollectionName}/${ft}`);return console.log("\u{1f504} Actualizando perfil UID:",ft,"con datos:",Ot),(0,Se.H)((0,F.mZ)(Bt,Ot))}deleteUserProfile(ft){if(!ft)return(0,Se.H)(Promise.reject("\u274c deleteUserProfile: UID no proporcionado."));const Ot=(0,F.H9)(this.firestore,`${this.usersCollectionName}/${ft}`);return console.log("\u{1f5d1} Eliminando perfil UID:",ft),(0,Se.H)((0,F.kd)(Ot))}getUserData(ft){return this.authService.getAuthState().pipe((0,ge.n)(Ot=>{if(console.log("\u{1f4e1} authService.getAuthState() emiti\xf3:",Ot),Ot&&Ot.uid){const Bt=(0,F.H9)(this.firestore,`${this.usersCollectionName}/${Ot.uid}`);return(0,F.Bg)(Bt).pipe((0,Ze.T)(Gt=>({...Gt,uid:Ot.uid})))}return console.warn("\u26a0\ufe0f Usuario no autenticado o sesi\xf3n expirada"),(0,w.of)(null)}))}getAllUsers(){const ft=(0,F.rJ)(this.firestore,"users");return(0,F.xs)(ft,{idField:"uid"})}toggleUserStatus(ft,Ot){const Bt=(0,F.H9)(this.firestore,`users/${ft}`);return(0,F.mZ)(Bt,{activo:Ot})}updateUserRole(ft,Ot){const Bt=(0,F.H9)(this.firestore,`users/${ft}`);return(0,F.mZ)(Bt,{rol:Ot})}getCurrentUserUid(){return this.authService.getAuthState().pipe((0,Ze.T)(ft=>ft?.uid||null))}getCurrentUserRole(){return this.authService.getAuthState().pipe((0,ge.n)(ft=>{if(ft&&ft.uid){const Ot=(0,F.H9)(this.firestore,`${this.usersCollectionName}/${ft.uid}`);return(0,F.Bg)(Ot).pipe((0,Ze.T)(Bt=>Bt.rol||null))}return console.warn("\u26a0\ufe0f No hay usuario autenticado"),(0,w.of)(null)}),(0,be.W)(ft=>(console.error("\u274c Error al obtener el rol:",ft),(0,w.of)(null))))}getExecutives(){const ft=(0,F.P)((0,F.rJ)(this.firestore,this.usersCollectionName),(0,F._M)("rol","==","Ejecutivo"));return(0,F.xs)(ft,{idField:"uid"})}static \u0275fac=function(Ot){return new(Ot||qe)(D.KVO(Ue.Qq),D.KVO(_e.u))};static \u0275prov=D.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})}return qe})()},9967:(Cn,ze,W)=>{"use strict";W.d(ze,{_7:()=>ut,gS:()=>tr,rJ:()=>fn,xs:()=>nr,kd:()=>Nr,H9:()=>qt,Bg:()=>Qn,x7:()=>mi,aU:()=>Yi,My:()=>xi,hV:()=>re,P:()=>De,BN:()=>Ye,mZ:()=>Et,_M:()=>Oe});var D=W(2967),F=W(1360),Q=W(7440),w=W(4125),Se=W(6335),Ze=W(2214),be=W(3273),ge=W(1985),Ue=W(6354),_e=function(){return _e=Object.assign||function(ht){for(var kt,tn=1,Un=arguments.length;tn<Un;tn++)for(var cn in kt=arguments[tn])Object.prototype.hasOwnProperty.call(kt,cn)&&(ht[cn]=kt[cn]);return ht},_e.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var qe={includeMetadataChanges:!1};function Ct(yt,ht){return void 0===ht&&(ht=qe),new ge.c(function(kt){return{unsubscribe:(0,be.aQ)(yt,ht,{next:kt.next.bind(kt),error:kt.error.bind(kt),complete:kt.complete.bind(kt)})}})}function Ot(yt,ht){return void 0===ht&&(ht={}),function ft(yt){return Ct(yt,{includeMetadataChanges:!0})}(yt).pipe((0,Ue.T)(function(kt){return Bt(kt,ht)}))}function Bt(yt,ht){var kt;void 0===ht&&(ht={});var tn=yt.data(ht);return yt.exists()&&"object"==typeof tn&&null!==tn&&ht.idField?_e(_e({},tn),((kt={})[ht.idField]=yt.id,kt)):tn}function $n(yt,ht){return void 0===ht&&(ht={}),function Xt(yt){return Ct(yt,{includeMetadataChanges:!0}).pipe((0,Ue.T)(function(ht){return ht.docs}))}(yt).pipe((0,Ue.T)(function(kt){return kt.map(function(tn){return Bt(tn,ht)})}))}class ut{constructor(ht){return ht}}const wn="firestore",Pt=new F.nKC("angularfire2.firestore-instances");function Z(yt){return(ht,kt)=>{const tn=ht.runOutsideAngular(()=>yt(kt));return new ut(tn)}}const le={provide:class Xe{constructor(){return(0,D.CA)(wn)}},deps:[[new F.Xx1,Pt]]},de={provide:ut,useFactory:function Ge(yt,ht){const kt=(0,D.lR)(wn,yt,ht);return kt&&new ut(kt)},deps:[[new F.Xx1,Pt],Q.XU]};function re(yt,...ht){return(0,Ze.KO)("angularfire",D.xv.full,"fst"),(0,F.EmA)([de,le,{provide:Pt,useFactory:Z(yt),multi:!0,deps:[F.SKi,F.zZn,D.u0,Q.gL,[new F.Xx1,Se.DF],[new F.Xx1,w.kR],...ht]}])}const nr=(0,D.S3)($n,!0),Qn=(0,D.S3)(Ot,!0),tr=(0,D.S3)(be.gS,!0,2),fn=(0,D.S3)(be.rJ,!0,2),Nr=(0,D.S3)(be.kd,!0,2),qt=(0,D.S3)(be.H9,!0,2),mi=(0,D.S3)(be.x7,!0),Yi=(0,D.S3)(be.aU,!0),xi=(0,D.S3)(be.My,!0,2),De=(0,D.S3)(be.P,!0,2),Ye=(0,D.S3)(be.BN,!0,2),Et=(0,D.S3)(be.mZ,!0,2),Oe=(0,D.S3)(be._M,!0,2)},9974:(Cn,ze,W)=>{"use strict";W.d(ze,{N:()=>Q,S:()=>F});var D=W(8071);function F(w){return(0,D.T)(w?.lift)}function Q(w){return Se=>{if(F(Se))return Se.lift(function(Ze){try{return w(Ze,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}}},Cn=>{Cn(Cn.s=8399)}]);