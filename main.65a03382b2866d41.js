(self.webpackChunkclaims_app=self.webpackChunkclaims_app||[]).push([[792],{274:(bn,ze,$)=>{"use strict";$.d(ze,{H:()=>Y});var T=$(1397),O=$(8071);function Y(B,Re){return(0,O.T)(Re)?(0,T.Z)(B,Re,1):(0,T.Z)(B,1)}},345:(bn,ze,$)=>{"use strict";$.d(ze,{hE:()=>Re,up:()=>wt});var T=$(9361),O=$(1360);let Re=(()=>{class pt{_doc;constructor(Je){this._doc=Je}getTitle(){return this._doc.title}setTitle(Je){this._doc.title=Je||""}static \u0275fac=function(rn){return new(rn||pt)(O.KVO(T.q))};static \u0275prov=O.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})(),wt=(()=>{class pt{static \u0275fac=function(rn){return new(rn||pt)};static \u0275prov=O.jDH({token:pt,factory:function(rn){let kt=null;return kt=rn?new(rn||pt):O.KVO(St),kt},providedIn:"root"})}return pt})(),St=(()=>{class pt extends wt{_doc;constructor(Je){super(),this._doc=Je}sanitize(Je,rn){if(null==rn)return null;switch(Je){case O.WPN.NONE:return rn;case O.WPN.HTML:return(0,O.ZF7)(rn,"HTML")?(0,O.rcV)(rn):(0,O.h9k)(this._doc,String(rn)).toString();case O.WPN.STYLE:return(0,O.ZF7)(rn,"Style")?(0,O.rcV)(rn):rn;case O.WPN.SCRIPT:if((0,O.ZF7)(rn,"Script"))return(0,O.rcV)(rn);throw new O.wOt(5200,!1);case O.WPN.URL:return(0,O.ZF7)(rn,"URL")?(0,O.rcV)(rn):(0,O.$MX)(String(rn));case O.WPN.RESOURCE_URL:if((0,O.ZF7)(rn,"ResourceURL"))return(0,O.rcV)(rn);throw new O.wOt(5201,!1);default:throw new O.wOt(5202,!1)}}bypassSecurityTrustHtml(Je){return(0,O.Kcf)(Je)}bypassSecurityTrustStyle(Je){return(0,O.cWb)(Je)}bypassSecurityTrustScript(Je){return(0,O.UyX)(Je)}bypassSecurityTrustUrl(Je){return(0,O.osQ)(Je)}bypassSecurityTrustResourceUrl(Je){return(0,O.e5t)(Je)}static \u0275fac=function(rn){return new(rn||pt)(O.KVO(T.q))};static \u0275prov=O.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})()},467:(bn,ze,$)=>{"use strict";function T(Y,B,Re,nt,we,be,We){try{var Te=Y[be](We),Ie=Te.value}catch(lt){return void Re(lt)}Te.done?B(Ie):Promise.resolve(Ie).then(nt,we)}function O(Y){return function(){var B=this,Re=arguments;return new Promise(function(nt,we){var be=Y.apply(B,Re);function We(Ie){T(be,nt,we,We,Te,"next",Ie)}function Te(Ie){T(be,nt,we,We,Te,"throw",Ie)}We(void 0)})}}$.d(ze,{A:()=>O})},520:(bn,ze,$)=>{"use strict";$.d(ze,{eJ:()=>Va,xI:()=>Yl,hg:()=>v,J1:()=>bi,x9:()=>Gr,CI:()=>L});var T=$(467),O=$(7852),Y=$(6858),B=$(8041),Re=$(1635),nt=$(1362);const Rt=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ht=new Y.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jt=new B.Vy("@firebase/auth");function wt(b,...d){Jt.logLevel<=B.$b.ERROR&&Jt.error(`Auth (${O.MF}): ${b}`,...d)}function St(b,...d){throw qt(b,...d)}function ke(b,...d){return qt(b,...d)}function it(b,d,g){const C=Object.assign(Object.assign({},Rt()),{[d]:g});return new Y.FA("auth","Firebase",C).create(d,{appName:b.name})}function Ye(b){return it(b,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qt(b,...d){if("string"!=typeof b){const g=d[0],C=[...d.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(g,...C)}return Ht.create(b,...d)}function Tt(b,d,...g){if(!b)throw qt(d,...g)}function ct(b){const d="INTERNAL ASSERTION FAILED: "+b;throw wt(d),new Error(d)}function Vn(b,d){b||ct(d)}function Mn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function pt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class rn{constructor(d,g){this.shortDelay=d,this.longDelay=g,Vn(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,Y.jZ)()||(0,Y.lV)()}get(){return function wn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Kn(){return"http:"===pt()||"https:"===pt()}()||(0,Y.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kt(b,d){Vn(b.emulator,"Emulator should always be set here");const{url:g}=b.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class Ke{static initialize(d,g,C){this.fetchImpl=d,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},he=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fe=new rn(3e4,6e4);function me(b,d){return b.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:b.tenantId}):d}function oe(b,d,g,C){return pe.apply(this,arguments)}function pe(){return(pe=(0,T.A)(function*(b,d,g,C,U={}){return Xe(b,U,(0,T.A)(function*(){let ne={},Ve={};C&&("GET"===d?Ve=C:ne={body:JSON.stringify(C)});const tt=(0,Y.Am)(Object.assign({key:b.config.apiKey},Ve)).slice(1),$t=yield b._getAdditionalHeaders();$t["Content-Type"]="application/json",b.languageCode&&($t["X-Firebase-Locale"]=b.languageCode);const mn=Object.assign({method:d,headers:$t},ne);return(0,Y.c1)()||(mn.referrerPolicy="no-referrer"),b.emulatorConfig&&(0,Y.zJ)(b.emulatorConfig.host)&&(mn.credentials="include"),Ke.fetch()(yield Jn(b,b.config.apiHost,g,tt),mn)}))})).apply(this,arguments)}function Xe(b,d,g){return _t.apply(this,arguments)}function _t(){return(_t=(0,T.A)(function*(b,d,g){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},te),d);try{const U=new Hn(b),ne=yield Promise.race([g(),U.promise]);U.clearNetworkTimeout();const Ve=yield ne.json();if("needConfirmation"in Ve)throw Zt(b,"account-exists-with-different-credential",Ve);if(ne.ok&&!("errorMessage"in Ve))return Ve;{const tt=ne.ok?Ve.errorMessage:Ve.error.message,[$t,mn]=tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$t)throw Zt(b,"credential-already-in-use",Ve);if("EMAIL_EXISTS"===$t)throw Zt(b,"email-already-in-use",Ve);if("USER_DISABLED"===$t)throw Zt(b,"user-disabled",Ve);const $n=C[$t]||$t.toLowerCase().replace(/[_\s]+/g,"-");if(mn)throw it(b,$n,mn);St(b,$n)}}catch(U){if(U instanceof Y.g)throw U;St(b,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function an(b,d,g,C){return en.apply(this,arguments)}function en(){return(en=(0,T.A)(function*(b,d,g,C,U={}){const ne=yield oe(b,d,g,C,U);return"mfaPendingCredential"in ne&&St(b,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function Jn(b,d,g,C){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,T.A)(function*(b,d,g,C){const U=`${d}${g}?${C}`,ne=b,Ve=ne.config.emulator?kt(b.config,U):`${b.config.apiScheme}://${U}`;return he.includes(g)&&(yield ne._persistenceManagerAvailable,"COOKIE"===ne._getPersistenceType())?ne._getPersistence()._getFinalTarget(Ve).toString():Ve})).apply(this,arguments)}function Qn(b){switch(b){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hn{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(ke(this.auth,"network-request-failed")),fe.get())})}}function Zt(b,d,g){const C={appName:b.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const U=ke(b,d,C);return U.customData._tokenResponse=g,U}function er(b){return void 0!==b&&void 0!==b.enterprise}class Dn{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===d)return Qn(g.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function fn(){return(fn=(0,T.A)(function*(b,d){return oe(b,"GET","/v2/recaptchaConfig",me(b,d))})).apply(this,arguments)}function cn(){return(cn=(0,T.A)(function*(b,d){return oe(b,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function ht(b,d){return Er.apply(this,arguments)}function Er(){return(Er=(0,T.A)(function*(b,d){return oe(b,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function qn(b){if(b)try{const d=new Date(Number(b));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function ai(){return(ai=(0,T.A)(function*(b,d=!1){const g=(0,Y.Ku)(b),C=yield g.getIdToken(d),U=Tr(C);Tt(U&&U.exp&&U.auth_time&&U.iat,g.auth,"internal-error");const ne="object"==typeof U.firebase?U.firebase:void 0,Ve=ne?.sign_in_provider;return{claims:U,token:C,authTime:qn(pi(U.auth_time)),issuedAtTime:qn(pi(U.iat)),expirationTime:qn(pi(U.exp)),signInProvider:Ve||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function pi(b){return 1e3*Number(b)}function Tr(b){const[d,g,C]=b.split(".");if(void 0===d||void 0===g||void 0===C)return wt("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,Y.u)(g);return U?JSON.parse(U):(wt("Failed to decode base64 JWT payload"),null)}catch(U){return wt("Caught error parsing JWT payload as JSON",U?.toString()),null}}function Ei(b){const d=Tr(b);return Tt(d,"internal-error"),Tt(typeof d.exp<"u","internal-error"),Tt(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function Ar(b,d){return ci.apply(this,arguments)}function ci(){return(ci=(0,T.A)(function*(b,d,g=!1){if(g)return d;try{return yield d}catch(C){throw C instanceof Y.g&&function cr({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}class ir{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const U=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(d);this.timerId=setTimeout((0,T.A)(function*(){yield g.iteration()}),C)}iteration(){var d=this;return(0,T.A)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class gi{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function lr(b){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,T.A)(function*(b){var d;const g=b.auth,C=yield b.getIdToken(),U=yield Ar(b,ht(g,{idToken:C}));Tt(U?.users.length,g,"internal-error");const ne=U.users[0];b._notifyReloadListener(ne);const Ve=null!==(d=ne.providerUserInfo)&&void 0!==d&&d.length?Xi(ne.providerUserInfo):[],tt=function Wn(b,d){return[...b.filter(C=>!d.some(U=>U.providerId===C.providerId)),...d]}(b.providerData,Ve),$n=!!b.isAnonymous&&!(b.email&&ne.passwordHash||tt?.length),zn={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:tt,metadata:new gi(ne.createdAt,ne.lastLoginAt),isAnonymous:$n};Object.assign(b,zn)})).apply(this,arguments)}function kr(){return(kr=(0,T.A)(function*(b){const d=(0,Y.Ku)(b);yield lr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Xi(b){return b.map(d=>{var{providerId:g}=d,C=(0,Re.Tt)(d,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Dr(){return(Dr=(0,T.A)(function*(b,d){const g=yield Xe(b,{},(0,T.A)(function*(){const C=(0,Y.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:U,apiKey:ne}=b.config,Ve=yield Jn(b,U,"/v1/token",`key=${ne}`),tt=yield b._getAdditionalHeaders();return tt["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(Ve,{method:"POST",headers:tt,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function ii(){return(ii=(0,T.A)(function*(b,d){return oe(b,"POST","/v2/accounts:revokeToken",me(b,d))})).apply(this,arguments)}class Oi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Tt(d.idToken,"internal-error"),Tt(typeof d.idToken<"u","internal-error"),Tt(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):Ei(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}updateFromIdToken(d){Tt(0!==d.length,"internal-error");const g=Ei(d);this.updateTokensAndExpiration(d,null,g)}getToken(d){var g=this;return(0,T.A)(function*(C,U=!1){return U||!g.accessToken||g.isExpired?(Tt(g.refreshToken,C,"user-token-expired"),g.refreshToken?(yield g.refresh(C,g.refreshToken),g.accessToken):null):g.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var C=this;return(0,T.A)(function*(){const{accessToken:U,refreshToken:ne,expiresIn:Ve}=yield function Ue(b,d){return Dr.apply(this,arguments)}(d,g);C.updateTokensAndExpiration(U,ne,Number(Ve))})()}updateTokensAndExpiration(d,g,C){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(d,g){const{refreshToken:C,accessToken:U,expirationTime:ne}=g,Ve=new Oi;return C&&(Tt("string"==typeof C,"internal-error",{appName:d}),Ve.refreshToken=C),U&&(Tt("string"==typeof U,"internal-error",{appName:d}),Ve.accessToken=U),ne&&(Tt("number"==typeof ne,"internal-error",{appName:d}),Ve.expirationTime=ne),Ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Oi,this.toJSON())}_performRefresh(){return ct("not implemented")}}function _n(b,d){Tt("string"==typeof b||typeof b>"u","internal-error",{appName:d})}class fr{constructor(d){var{uid:g,auth:C,stsTokenManager:U}=d,ne=(0,Re.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new gi(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,T.A)(function*(){const C=yield Ar(g,g.stsTokenManager.getToken(g.auth,d));return Tt(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(d){return function ri(b){return ai.apply(this,arguments)}(this,d)}reload(){return function Ti(b){return kr.apply(this,arguments)}(this)}_assign(d){this!==d&&(Tt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new fr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d){var g=this;return(0,T.A)(function*(C,U=!1){let ne=!1;C.idToken&&C.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(C),ne=!0),U&&(yield lr(g)),yield g.auth._persistUserIfCurrent(g),ne&&g.auth._notifyListenersIfCurrent(g)}).apply(this,arguments)}delete(){var d=this;return(0,T.A)(function*(){if((0,O.xZ)(d.auth.app))return Promise.reject(Ye(d.auth));const g=yield d.getIdToken();return yield Ar(d,function dr(b,d){return cn.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var C,U,ne,Ve,tt,$t,mn,$n;const zn=null!==(C=g.displayName)&&void 0!==C?C:void 0,Rr=null!==(U=g.email)&&void 0!==U?U:void 0,So=null!==(ne=g.phoneNumber)&&void 0!==ne?ne:void 0,no=null!==(Ve=g.photoURL)&&void 0!==Ve?Ve:void 0,zc=null!==(tt=g.tenantId)&&void 0!==tt?tt:void 0,Jl=null!==($t=g._redirectEventId)&&void 0!==$t?$t:void 0,ys=null!==(mn=g.createdAt)&&void 0!==mn?mn:void 0,Dg=null!==($n=g.lastLoginAt)&&void 0!==$n?$n:void 0,{uid:el,emailVerified:Ag,isAnonymous:mu,providerData:Vs,stsTokenManager:yh}=g;Tt(el&&yh,d,"internal-error");const Uf=Oi.fromJSON(this.name,yh);Tt("string"==typeof el,d,"internal-error"),_n(zn,d.name),_n(Rr,d.name),Tt("boolean"==typeof Ag,d,"internal-error"),Tt("boolean"==typeof mu,d,"internal-error"),_n(So,d.name),_n(no,d.name),_n(zc,d.name),_n(Jl,d.name),_n(ys,d.name),_n(Dg,d.name);const _s=new fr({uid:el,auth:d,email:Rr,emailVerified:Ag,displayName:zn,isAnonymous:mu,photoURL:no,phoneNumber:So,tenantId:zc,stsTokenManager:Uf,createdAt:ys,lastLoginAt:Dg});return Vs&&Array.isArray(Vs)&&(_s.providerData=Vs.map(Wc=>Object.assign({},Wc))),Jl&&(_s._redirectEventId=Jl),_s}static _fromIdTokenResponse(d,g){return(0,T.A)(function*(C,U,ne=!1){const Ve=new Oi;Ve.updateFromServerResponse(U);const tt=new fr({uid:U.localId,auth:C,stsTokenManager:Ve,isAnonymous:ne});return yield lr(tt),tt}).apply(this,arguments)}static _fromGetAccountInfoResponse(d,g,C){return(0,T.A)(function*(){const U=g.users[0];Tt(void 0!==U.localId,"internal-error");const ne=void 0!==U.providerUserInfo?Xi(U.providerUserInfo):[],Ve=!(U.email&&U.passwordHash||ne?.length),tt=new Oi;tt.updateFromIdToken(C);const $t=new fr({uid:U.localId,auth:d,stsTokenManager:tt,isAnonymous:Ve}),mn={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:ne,metadata:new gi(U.createdAt,U.lastLoginAt),isAnonymous:!(U.email&&U.passwordHash||ne?.length)};return Object.assign($t,mn),$t})()}}const wr=new Map;function Fi(b){Vn(b instanceof Function,"Expected a class definition");let d=wr.get(b);return d?(Vn(d instanceof b,"Instance stored in cache mismatched with class"),d):(d=new b,wr.set(b,d),d)}const Vi=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,T.A)(function*(){return!0})()}_set(g,C){var U=this;return(0,T.A)(function*(){U.storage[g]=C})()}_get(g){var C=this;return(0,T.A)(function*(){const U=C.storage[g];return void 0===U?null:U})()}_remove(g){var C=this;return(0,T.A)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return b.type="NONE",b})();function Ae(b,d,g){return`firebase:${b}:${d}:${g}`}class ye{constructor(d,g,C){this.persistence=d,this.auth=g,this.userKey=C;const{config:U,name:ne}=this.auth;this.fullUserKey=Ae(this.userKey,U.apiKey,ne),this.fullPersistenceKey=Ae("persistence",U.apiKey,ne),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,T.A)(function*(){const g=yield d.persistence._get(d.fullUserKey);if(!g)return null;if("string"==typeof g){const C=yield ht(d.auth,{idToken:g}).catch(()=>{});return C?fr._fromGetAccountInfoResponse(d.auth,C,g):null}return fr._fromJSON(d.auth,g)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,T.A)(function*(){if(g.persistence===d)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g){return(0,T.A)(function*(C,U,ne="authUser"){if(!U.length)return new ye(Fi(Vi),C,ne);const Ve=(yield Promise.all(U.map(function(){var zn=(0,T.A)(function*(Rr){if(yield Rr._isAvailable())return Rr});return function(Rr){return zn.apply(this,arguments)}}()))).filter(zn=>zn);let tt=Ve[0]||Fi(Vi);const $t=Ae(ne,C.config.apiKey,C.name);let mn=null;for(const zn of U)try{const Rr=yield zn._get($t);if(Rr){let So;if("string"==typeof Rr){const no=yield ht(C,{idToken:Rr}).catch(()=>{});if(!no)break;So=yield fr._fromGetAccountInfoResponse(C,no,Rr)}else So=fr._fromJSON(C,Rr);zn!==tt&&(mn=So),tt=zn;break}}catch{}const $n=Ve.filter(zn=>zn._shouldAllowMigration);return tt._shouldAllowMigration&&$n.length?(tt=$n[0],mn&&(yield tt._set($t,mn.toJSON())),yield Promise.all(U.map(function(){var zn=(0,T.A)(function*(Rr){if(Rr!==tt)try{yield Rr._remove($t)}catch{}});return function(Rr){return zn.apply(this,arguments)}}())),new ye(tt,C,ne)):new ye(tt,C,ne)}).apply(this,arguments)}}function je(b){const d=b.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Rn(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Lt(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ie(d))return"Blackberry";if(ue(d))return"Webos";if(et(d))return"Safari";if((d.includes("chrome/")||Yt(d))&&!d.includes("edge/"))return"Chrome";if(pr(d))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Lt(b=(0,Y.ZQ)()){return/firefox\//i.test(b)}function et(b=(0,Y.ZQ)()){const d=b.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Yt(b=(0,Y.ZQ)()){return/crios\//i.test(b)}function Rn(b=(0,Y.ZQ)()){return/iemobile/i.test(b)}function pr(b=(0,Y.ZQ)()){return/android/i.test(b)}function ie(b=(0,Y.ZQ)()){return/blackberry/i.test(b)}function ue(b=(0,Y.ZQ)()){return/webos/i.test(b)}function Se(b=(0,Y.ZQ)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function _e(b=(0,Y.ZQ)()){return Se(b)||pr(b)||ue(b)||ie(b)||/windows phone/i.test(b)||Rn(b)}function Le(b,d=[]){let g;switch(b){case"Browser":g=je((0,Y.ZQ)());break;case"Worker":g=`${je((0,Y.ZQ)())}-${b}`;break;default:g=b}const C=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${O.MF}/${C}`}class Pt{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const C=ne=>new Promise((Ve,tt)=>{try{Ve(d(ne))}catch($t){tt($t)}});C.onAbort=g,this.queue.push(C);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,T.A)(function*(){if(g.auth.currentUser===d)return;const C=[];try{for(const U of g.queue)yield U(d),U.onAbort&&C.push(U.onAbort)}catch(U){C.reverse();for(const ne of C)try{ne()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}function mt(){return(mt=(0,T.A)(function*(b,d={}){return oe(b,"GET","/v2/passwordPolicy",me(b,d))})).apply(this,arguments)}class on{constructor(d){var g,C,U,ne;const Ve=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Ve.minPasswordLength)&&void 0!==g?g:6,Ve.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ve.maxPasswordLength),void 0!==Ve.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ve.containsLowercaseCharacter),void 0!==Ve.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ve.containsUppercaseCharacter),void 0!==Ve.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ve.containsNumericCharacter),void 0!==Ve.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ve.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(U=null===(C=d.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==U?U:"",this.forceUpgradeOnSignin=null!==(ne=d.forceUpgradeOnSignin)&&void 0!==ne&&ne,this.schemaVersion=d.schemaVersion}validatePassword(d){var g,C,U,ne,Ve,tt;const $t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,$t),this.validatePasswordCharacterOptions(d,$t),$t.isValid&&($t.isValid=null===(g=$t.meetsMinPasswordLength)||void 0===g||g),$t.isValid&&($t.isValid=null===(C=$t.meetsMaxPasswordLength)||void 0===C||C),$t.isValid&&($t.isValid=null===(U=$t.containsLowercaseLetter)||void 0===U||U),$t.isValid&&($t.isValid=null===(ne=$t.containsUppercaseLetter)||void 0===ne||ne),$t.isValid&&($t.isValid=null===(Ve=$t.containsNumericCharacter)||void 0===Ve||Ve),$t.isValid&&($t.isValid=null===(tt=$t.containsNonAlphanumericCharacter)||void 0===tt||tt),$t}validatePasswordLengthOptions(d,g){const C=this.customStrengthOptions.minPasswordLength,U=this.customStrengthOptions.maxPasswordLength;C&&(g.meetsMinPasswordLength=d.length>=C),U&&(g.meetsMaxPasswordLength=d.length<=U)}validatePasswordCharacterOptions(d,g){let C;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let U=0;U<d.length;U++)C=d.charAt(U),this.updatePasswordCharacterOptionsStatuses(g,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(d,g,C,U,ne){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=U)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=ne))}}class Un{constructor(d,g,C,U){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=C,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gn(this),this.idTokenSubscription=new Gn(this),this.beforeStateQueue=new Pt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ht,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=U.sdkClientVersion,this._persistenceManagerAvailable=new Promise(ne=>this._resolvePersistenceManagerAvailable=ne)}_initializeWithPersistence(d,g){var C=this;return g&&(this._popupRedirectResolver=Fi(g)),this._initializationPromise=this.queue((0,T.A)(function*(){var U,ne,Ve;if(!C._deleted&&(C.persistenceManager=yield ye.create(C,d),null===(U=C._resolvePersistenceManagerAvailable)||void 0===U||U.call(C),!C._deleted)){if(null!==(ne=C._popupRedirectResolver)&&void 0!==ne&&ne._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(Ve=C.currentUser)||void 0===Ve?void 0:Ve.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,T.A)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(d){var g=this;return(0,T.A)(function*(){try{const C=yield ht(g,{idToken:d}),U=yield fr._fromGetAccountInfoResponse(g,C,d);yield g.directlySetCurrentUser(U)}catch(C){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",C),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var g=this;return(0,T.A)(function*(){var C;if((0,O.xZ)(g.app)){const tt=g.app.settings.authIdToken;return tt?new Promise($t=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(tt).then($t,$t))}):g.directlySetCurrentUser(null)}const U=yield g.assertedPersistence.getCurrentUser();let ne=U,Ve=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const tt=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,$t=ne?._redirectEventId,mn=yield g.tryRedirectSignIn(d);(!tt||tt===$t)&&mn?.user&&(ne=mn.user,Ve=!0)}if(!ne)return g.directlySetCurrentUser(null);if(!ne._redirectEventId){if(Ve)try{yield g.beforeStateQueue.runMiddleware(ne)}catch(tt){ne=U,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(tt))}return ne?g.reloadAndSetCurrentUserOrClear(ne):g.directlySetCurrentUser(null)}return Tt(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ne._redirectEventId?g.directlySetCurrentUser(ne):g.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(d){var g=this;return(0,T.A)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,T.A)(function*(){try{yield lr(d)}catch(C){if("auth/network-request-failed"!==C?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Je(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var d=this;return(0,T.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,T.A)(function*(){if((0,O.xZ)(g.app))return Promise.reject(Ye(g));const C=d?(0,Y.Ku)(d):null;return C&&Tt(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(d){var g=this;return(0,T.A)(function*(C,U=!1){if(!g._deleted)return C&&Tt(g.tenantId===C.tenantId,g,"tenant-id-mismatch"),U||(yield g.beforeStateQueue.runMiddleware(C)),g.queue((0,T.A)(function*(){yield g.directlySetCurrentUser(C),g.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var d=this;return(0,T.A)(function*(){return(0,O.xZ)(d.app)?Promise.reject(Ye(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var g=this;return(0,O.xZ)(this.app)?Promise.reject(Ye(this)):this.queue((0,T.A)(function*(){yield g.assertedPersistence.setPersistence(Fi(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var g=this;return(0,T.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const C=g._getPasswordPolicyInternal();return C.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,T.A)(function*(){const g=yield function Et(b){return mt.apply(this,arguments)}(d),C=new on(g);null===d.tenantId?d._projectPasswordPolicy=C:d._tenantPasswordPolicies[d.tenantId]=C})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(d){this._errorFactory=new Y.FA("auth","Firebase",d())}onAuthStateChanged(d,g,C){return this.registerStateListener(this.authStateSubscription,d,g,C)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,C){return this.registerStateListener(this.idTokenSubscription,d,g,C)}authStateReady(){return new Promise((d,g)=>{if(this.currentUser)d();else{const C=this.onAuthStateChanged(()=>{C(),d()},g)}})}revokeAccessToken(d){var g=this;return(0,T.A)(function*(){if(g.currentUser){const C=yield g.currentUser.getIdToken(),U={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:C};null!=g.tenantId&&(U.tenantId=g.tenantId),yield function Zi(b,d){return ii.apply(this,arguments)}(g,U)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var C=this;return(0,T.A)(function*(){const U=yield C.getOrInitRedirectPersistenceManager(g);return null===d?U.removeCurrentUser():U.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,T.A)(function*(){if(!g.redirectPersistenceManager){const C=d&&Fi(d)||g._popupRedirectResolver;Tt(C,g,"argument-error"),g.redirectPersistenceManager=yield ye.create(g,[Fi(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,T.A)(function*(){var C,U;return g._isInitialized&&(yield g.queue((0,T.A)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===d?g._currentUser:(null===(U=g.redirectUser)||void 0===U?void 0:U._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,T.A)(function*(){if(d===g.currentUser)return g.queue((0,T.A)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,C,U){if(this._deleted)return()=>{};const ne="function"==typeof g?g:g.next.bind(g);let Ve=!1;const tt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(tt,this,"internal-error"),tt.then(()=>{Ve||ne(this.currentUser)}),"function"==typeof g){const $t=d.addObserver(g,C,U);return()=>{Ve=!0,$t()}}{const $t=d.addObserver(g);return()=>{Ve=!0,$t()}}}directlySetCurrentUser(d){var g=this;return(0,T.A)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Le(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,T.A)(function*(){var g;const C={"X-Client-Version":d.clientVersion};d.app.options.appId&&(C["X-Firebase-gmpid"]=d.app.options.appId);const U=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();U&&(C["X-Firebase-Client"]=U);const ne=yield d._getAppCheckToken();return ne&&(C["X-Firebase-AppCheck"]=ne),C})()}_getAppCheckToken(){var d=this;return(0,T.A)(function*(){var g;if((0,O.xZ)(d.app)&&d.app.settings.appCheckToken)return d.app.settings.appCheckToken;const C=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return C?.error&&function yt(b,...d){Jt.logLevel<=B.$b.WARN&&Jt.warn(`Auth (${O.MF}): ${b}`,...d)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function ln(b){return(0,Y.Ku)(b)}class Gn{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Y.tD)(g=>this.observer=g)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let or={loadJS:()=>(0,T.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Si(b){return or.loadJS(b)}function jt(b){return`__${b}${Math.floor(1e6*Math.random())}`}class tr{constructor(){this.enterprise=new Hr}ready(d){d()}execute(d,g){return Promise.resolve("token")}render(d,g){return""}}class Hr{ready(d){d()}execute(d,g){return Promise.resolve("token")}render(d,g){return""}}const Hi="NO_RECAPTCHA";class Bo{constructor(d){this.type="recaptcha-enterprise",this.auth=ln(d)}verify(){var d=this;return(0,T.A)(function*(g="verify",C=!1){function ne(){return ne=(0,T.A)(function*(tt){if(!C){if(null==tt.tenantId&&null!=tt._agentRecaptchaConfig)return tt._agentRecaptchaConfig.siteKey;if(null!=tt.tenantId&&void 0!==tt._tenantRecaptchaConfigs[tt.tenantId])return tt._tenantRecaptchaConfigs[tt.tenantId].siteKey}return new Promise(function(){var $t=(0,T.A)(function*(mn,$n){(function Ci(b,d){return fn.apply(this,arguments)})(tt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(zn=>{if(void 0!==zn.recaptchaKey){const Rr=new Dn(zn);return null==tt.tenantId?tt._agentRecaptchaConfig=Rr:tt._tenantRecaptchaConfigs[tt.tenantId]=Rr,mn(Rr.siteKey)}$n(new Error("recaptcha Enterprise site key undefined"))}).catch(zn=>{$n(zn)})});return function(mn,$n){return $t.apply(this,arguments)}}())}),ne.apply(this,arguments)}function Ve(tt,$t,mn){const $n=window.grecaptcha;er($n)?$n.enterprise.ready(()=>{$n.enterprise.execute(tt,{action:g}).then(zn=>{$t(zn)}).catch(()=>{$t(Hi)})}):mn(Error("No reCAPTCHA enterprise script loaded."))}return d.auth.settings.appVerificationDisabledForTesting?(new tr).execute("siteKey",{action:"verify"}):new Promise((tt,$t)=>{(function U(tt){return ne.apply(this,arguments)})(d.auth).then(mn=>{if(!C&&er(window.grecaptcha))Ve(mn,tt,$t);else{if(typeof window>"u")return void $t(new Error("RecaptchaVerifier is only supported in browser"));let $n=function Be(){return or.recaptchaEnterpriseScript}();0!==$n.length&&($n+=mn),Si($n).then(()=>{Ve(mn,tt,$t)}).catch(zn=>{$t(zn)})}}).catch(mn=>{$t(mn)})})}).apply(this,arguments)}}function io(b,d,g){return j.apply(this,arguments)}function j(){return(j=(0,T.A)(function*(b,d,g,C=!1,U=!1){const ne=new Bo(b);let Ve;if(U)Ve=Hi;else try{Ve=yield ne.verify(g)}catch{Ve=yield ne.verify(g,!0)}const tt=Object.assign({},d);return"mfaSmsEnrollment"===g||"mfaSmsSignIn"===g?("phoneEnrollmentInfo"in tt?Object.assign(tt,{phoneEnrollmentInfo:{phoneNumber:tt.phoneEnrollmentInfo.phoneNumber,recaptchaToken:tt.phoneEnrollmentInfo.recaptchaToken,captchaResponse:Ve,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in tt&&Object.assign(tt,{phoneSignInInfo:{recaptchaToken:tt.phoneSignInInfo.recaptchaToken,captchaResponse:Ve,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),tt):(Object.assign(tt,C?{captchaResp:Ve}:{captchaResponse:Ve}),Object.assign(tt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(tt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),tt)})).apply(this,arguments)}function ge(b,d,g,C,U){return X.apply(this,arguments)}function X(){return X=(0,T.A)(function*(b,d,g,C,U){var ne,Ve;if("EMAIL_PASSWORD_PROVIDER"===U){if(null!==(ne=b._getRecaptchaConfig())&&void 0!==ne&&ne.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const tt=yield io(b,d,g,"getOobCode"===g);return C(b,tt)}return C(b,d).catch(function(){var tt=(0,T.A)(function*($t){if("auth/missing-recaptcha-token"===$t.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const mn=yield io(b,d,g,"getOobCode"===g);return C(b,mn)}return Promise.reject($t)});return function($t){return tt.apply(this,arguments)}}())}if("PHONE_PROVIDER"===U){if(null!==(Ve=b._getRecaptchaConfig())&&void 0!==Ve&&Ve.isProviderEnabled("PHONE_PROVIDER")){const tt=yield io(b,d,g);return C(b,tt).catch(function(){var $t=(0,T.A)(function*(mn){var $n;if("AUDIT"===(null===($n=b._getRecaptchaConfig())||void 0===$n?void 0:$n.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===mn.code||"auth/invalid-app-credential"===mn.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${g} flow.`);const zn=yield io(b,d,g,!1,!0);return C(b,zn)}return Promise.reject(mn)});return function(mn){return $t.apply(this,arguments)}}())}{const tt=yield io(b,d,g,!1,!0);return C(b,tt)}}return Promise.reject(U+" provider is not supported.")}),X.apply(this,arguments)}function oi(b){const d=b.indexOf(":");return d<0?"":b.substr(0,d+1)}function qr(b){if(!b)return null;const d=Number(b);return isNaN(d)?null:d}class Fn{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return ct("not implemented")}_getIdTokenResponse(d){return ct("not implemented")}_linkToIdToken(d,g){return ct("not implemented")}_getReauthenticationResolver(d){return ct("not implemented")}}function zo(b,d){return le.apply(this,arguments)}function le(){return(le=(0,T.A)(function*(b,d){return oe(b,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function gt(b,d){return tn.apply(this,arguments)}function tn(){return(tn=(0,T.A)(function*(b,d){return an(b,"POST","/v1/accounts:signInWithPassword",me(b,d))})).apply(this,arguments)}function Bn(){return(Bn=(0,T.A)(function*(b,d){return oe(b,"POST","/v1/accounts:sendOobCode",me(b,d))})).apply(this,arguments)}function ks(b,d){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,T.A)(function*(b,d){return function vn(b,d){return Bn.apply(this,arguments)}(b,d)})).apply(this,arguments)}function Zo(){return(Zo=(0,T.A)(function*(b,d){return an(b,"POST","/v1/accounts:signInWithEmailLink",me(b,d))})).apply(this,arguments)}function Is(){return(Is=(0,T.A)(function*(b,d){return an(b,"POST","/v1/accounts:signInWithEmailLink",me(b,d))})).apply(this,arguments)}class as extends Fn{constructor(d,g,C,U=null){super("password",C),this._email=d,this._password=g,this._tenantId=U}static _fromEmailAndPassword(d,g){return new as(d,g,"password")}static _fromEmailAndCode(d,g,C=null){return new as(d,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,T.A)(function*(){switch(g.signInMethod){case"password":return ge(d,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",gt,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Po(b,d){return Zo.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:St(d,"internal-error")}})()}_linkToIdToken(d,g){var C=this;return(0,T.A)(function*(){switch(C.signInMethod){case"password":return ge(d,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zo,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function Mo(b,d){return Is.apply(this,arguments)}(d,{idToken:g,email:C._email,oobCode:C._password});default:St(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function xr(b,d){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,T.A)(function*(b,d){return an(b,"POST","/v1/accounts:signInWithIdp",me(b,d))})).apply(this,arguments)}class xo{constructor(d){var g,C,U,ne,Ve,tt;const $t=(0,Y.I9)((0,Y.hp)(d)),mn=null!==(g=$t.apiKey)&&void 0!==g?g:null,$n=null!==(C=$t.oobCode)&&void 0!==C?C:null,zn=function Ui(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=$t.mode)&&void 0!==U?U:null);Tt(mn&&$n&&zn,"argument-error"),this.apiKey=mn,this.operation=zn,this.code=$n,this.continueUrl=null!==(ne=$t.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Ve=$t.lang)&&void 0!==Ve?Ve:null,this.tenantId=null!==(tt=$t.tenantId)&&void 0!==tt?tt:null}static parseLink(d){const g=function $s(b){const d=(0,Y.I9)((0,Y.hp)(b)).link,g=d?(0,Y.I9)((0,Y.hp)(d)).deep_link_id:null,C=(0,Y.I9)((0,Y.hp)(b)).deep_link_id;return(C?(0,Y.I9)((0,Y.hp)(C)).link:null)||C||g||d||b}(d);try{return new xo(g)}catch{return null}}}let yr=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(g,C){return as._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const U=xo.parseLink(C);return Tt(U,"argument-error"),as._fromEmailAndCode(g,U.code,U.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ji{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class ra extends Ji{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}function xt(b,d){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,T.A)(function*(b,d){return an(b,"POST","/v1/accounts:signUp",me(b,d))})).apply(this,arguments)}class Tn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,C){return(0,T.A)(function*(U,ne,Ve,tt=!1){const $t=yield fr._fromIdTokenResponse(U,Ve,tt),mn=pn(Ve);return new Tn({user:$t,providerId:mn,_tokenResponse:Ve,operationType:ne})}).apply(this,arguments)}static _forOperation(d,g,C){return(0,T.A)(function*(){yield d._updateTokensIfNecessary(C,!0);const U=pn(C);return new Tn({user:d,providerId:U,_tokenResponse:C,operationType:g})})()}}function pn(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}class Lr extends Y.g{constructor(d,g,C,U){var ne;super(g.code,g.message),this.operationType=C,this.user=U,Object.setPrototypeOf(this,Lr.prototype),this.customData={appName:d.name,tenantId:null!==(ne=d.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(d,g,C,U){return new Lr(d,g,C,U)}}function Ii(b,d,g,C){return("reauthenticate"===d?g._getReauthenticationResolver(b):g._getIdTokenResponse(b)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?Lr._fromErrorAndOperation(b,ne,d,C):ne})}function ki(){return(ki=(0,T.A)(function*(b,d,g=!1){const C=yield Ar(b,d._linkToIdToken(b.auth,yield b.getIdToken()),g);return Tn._forOperation(b,"link",C)})).apply(this,arguments)}function Do(){return(Do=(0,T.A)(function*(b,d,g=!1){const{auth:C}=b;if((0,O.xZ)(C.app))return Promise.reject(Ye(C));const U="reauthenticate";try{const ne=yield Ar(b,Ii(C,U,d,b),g);Tt(ne.idToken,C,"internal-error");const Ve=Tr(ne.idToken);Tt(Ve,C,"internal-error");const{sub:tt}=Ve;return Tt(b.uid===tt,C,"user-mismatch"),Tn._forOperation(b,U,ne)}catch(ne){throw"auth/user-not-found"===ne?.code&&St(C,"user-mismatch"),ne}})).apply(this,arguments)}function ei(b,d){return mo.apply(this,arguments)}function mo(){return(mo=(0,T.A)(function*(b,d,g=!1){if((0,O.xZ)(b.app))return Promise.reject(Ye(b));const C="signIn",U=yield Ii(b,C,d),ne=yield Tn._fromIdTokenResponse(b,C,U);return g||(yield b._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function ds(){return(ds=(0,T.A)(function*(b,d){return ei(ln(b),d)})).apply(this,arguments)}function Ws(b){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,T.A)(function*(b){const d=ln(b);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function bi(b,d,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,T.A)(function*(b,d,g){const C=ln(b),U={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};g&&function Fs(b,d,g){var C;Tt((null===(C=g.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),Tt(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),Tt(typeof g.linkDomain>"u"||g.linkDomain.length>0,b,"invalid-hosting-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.linkDomain=g.linkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Tt(g.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(Tt(g.android.packageName.length>0,b,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}(C,U,g),yield ge(C,U,"getOobCode",ks,"EMAIL_PASSWORD_PROVIDER")})).apply(this,arguments)}function Va(b,d,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,T.A)(function*(b,d,g){if((0,O.xZ)(b.app))return Promise.reject(Ye(b));const C=ln(b),Ve=yield ge(C,{returnSecureToken:!0,email:d,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xt,"EMAIL_PASSWORD_PROVIDER").catch($t=>{throw"auth/password-does-not-meet-requirements"===$t.code&&Ws(b),$t}),tt=yield Tn._fromIdTokenResponse(C,"signIn",Ve);return yield C._updateCurrentUser(tt.user),tt})).apply(this,arguments)}function Gr(b,d,g){return(0,O.xZ)(b.app)?Promise.reject(Ye(b)):function Ko(b,d){return ds.apply(this,arguments)}((0,Y.Ku)(b),yr.credential(d,g)).catch(function(){var C=(0,T.A)(function*(U){throw"auth/password-does-not-meet-requirements"===U.code&&Ws(b),U});return function(U){return C.apply(this,arguments)}}())}function v(b,d,g,C){return(0,Y.Ku)(b).onAuthStateChanged(d,g,C)}function L(b){return(0,Y.Ku)(b).signOut()}const di="__sak";class Di{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(di,"1"),this.storage.removeItem(di),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xo=(()=>{class b extends Di{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_e(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const U=this.storage.getItem(C),ne=this.localCache[C];U!==ne&&g(C,ne,U)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((tt,$t,mn)=>{this.notifyListeners(tt,mn)});const U=g.key;C?this.detachListener():this.stopPolling();const ne=()=>{const tt=this.storage.getItem(U);!C&&this.localCache[U]===tt||this.notifyListeners(U,tt)},Ve=this.storage.getItem(U);!function ae(){return(0,Y.lT)()&&10===document.documentMode}()||Ve===g.newValue||g.newValue===g.oldValue?ne():setTimeout(ne,10)}notifyListeners(g,C){this.localCache[g]=C;const U=this.listeners[g];if(U)for(const ne of Array.from(U))ne(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var U=()=>super._set,ne=this;return(0,T.A)(function*(){yield U().call(ne,g,C),ne.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,U=this;return(0,T.A)(function*(){const ne=yield C().call(U,g);return U.localCache[g]=JSON.stringify(ne),ne})()}_remove(g){var C=()=>super._remove,U=this;return(0,T.A)(function*(){yield C().call(U,g),delete U.localCache[g]})()}}return b.type="LOCAL",b})(),eo=(()=>{class b extends Di{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return b.type="SESSION",b})();let Yn=(()=>{class b{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(ne=>ne.isListeningto(g));if(C)return C;const U=new b(g);return this.receivers.push(U),U}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,T.A)(function*(){const U=g,{eventId:ne,eventType:Ve,data:tt}=U.data,$t=C.handlersMap[Ve];if(!$t?.size)return;U.ports[0].postMessage({status:"ack",eventId:ne,eventType:Ve});const mn=Array.from($t).map(function(){var zn=(0,T.A)(function*(Rr){return Rr(U.origin,tt)});return function(Rr){return zn.apply(this,arguments)}}()),$n=yield function jn(b){return Promise.all(b.map(function(){var d=(0,T.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return d.apply(this,arguments)}}()))}(mn);U.ports[0].postMessage({status:"done",eventId:ne,eventType:Ve,response:$n})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function ar(b="",d=10){let g="";for(let C=0;C<d;C++)g+=Math.floor(10*Math.random());return b+g}class vi{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g){var C=this;return(0,T.A)(function*(U,ne,Ve=50){const tt=typeof MessageChannel<"u"?new MessageChannel:null;if(!tt)throw new Error("connection_unavailable");let $t,mn;return new Promise(($n,zn)=>{const Rr=ar("",20);tt.port1.start();const So=setTimeout(()=>{zn(new Error("unsupported_event"))},Ve);mn={messageChannel:tt,onMessage(no){const zc=no;if(zc.data.eventId===Rr)switch(zc.data.status){case"ack":clearTimeout(So),$t=setTimeout(()=>{zn(new Error("timeout"))},3e3);break;case"done":clearTimeout($t),$n(zc.data.response);break;default:clearTimeout(So),clearTimeout($t),zn(new Error("invalid_response"))}}},C.handlers.add(mn),tt.port1.addEventListener("message",mn.onMessage),C.target.postMessage({eventType:U,eventId:Rr,data:ne},[tt.port2])}).finally(()=>{mn&&C.removeMessageHandler(mn)})}).apply(this,arguments)}}function Sr(){return window}function br(){return typeof Sr().WorkerGlobalScope<"u"&&"function"==typeof Sr().importScripts}function hi(){return(hi=(0,T.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _o="firebaseLocalStorageDb",us="firebaseLocalStorage",Ls="fbase_key";class Ds{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function gc(b,d){return b.transaction([us],d?"readwrite":"readonly").objectStore(us)}function rh(){const b=indexedDB.open(_o,1);return new Promise((d,g)=>{b.addEventListener("error",()=>{g(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(us,{keyPath:Ls})}catch(U){g(U)}}),b.addEventListener("success",(0,T.A)(function*(){const C=b.result;C.objectStoreNames.contains(us)?d(C):(C.close(),yield function Ps(){const b=indexedDB.deleteDatabase(_o);return new Ds(b).toPromise()}(),d(yield rh()))}))})}function Lo(b,d,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,T.A)(function*(b,d,g){const C=gc(b,!0).put({[Ls]:d,value:g});return new Ds(C).toPromise()})).apply(this,arguments)}function zu(){return(zu=(0,T.A)(function*(b,d){const g=gc(b,!1).get(d),C=yield new Ds(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function xc(b,d){const g=gc(b,!0).delete(d);return new Ds(g).toPromise()}const mc=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,T.A)(function*(){return g.db||(g.db=yield rh()),g.db})()}_withRetries(g){var C=this;return(0,T.A)(function*(){let U=0;for(;;)try{const ne=yield C._openDb();return yield g(ne)}catch(ne){if(U++>3)throw ne;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,T.A)(function*(){return br()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,T.A)(function*(){g.receiver=Yn._getInstance(function su(){return br()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,T.A)(function*(U,ne){return{keyProcessed:(yield g._poll()).includes(ne.key)}});return function(U,ne){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,T.A)(function*(U,ne){return["keyChanged"]});return function(U,ne){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,T.A)(function*(){var C,U;if(g.activeServiceWorker=yield function Rs(){return hi.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new vi(g.activeServiceWorker);const ne=yield g.sender._send("ping",{},800);ne&&null!==(C=ne[0])&&void 0!==C&&C.fulfilled&&null!==(U=ne[0])&&void 0!==U&&U.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,T.A)(function*(){if(C.sender&&C.activeServiceWorker&&function ni(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,T.A)(function*(){try{if(!indexedDB)return!1;const g=yield rh();return yield Lo(g,di,"1"),yield xc(g,di),!0}catch{}return!1})()}_withPendingWrite(g){var C=this;return(0,T.A)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var U=this;return(0,T.A)(function*(){return U._withPendingWrite((0,T.A)(function*(){return yield U._withRetries(ne=>Lo(ne,g,C)),U.localCache[g]=C,U.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,T.A)(function*(){const U=yield C._withRetries(ne=>function sa(b,d){return zu.apply(this,arguments)}(ne,g));return C.localCache[g]=U,U})()}_remove(g){var C=this;return(0,T.A)(function*(){return C._withPendingWrite((0,T.A)(function*(){return yield C._withRetries(U=>xc(U,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,T.A)(function*(){const C=yield g._withRetries(Ve=>{const tt=gc(Ve,!1).getAll();return new Ds(tt).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const U=[],ne=new Set;if(0!==C.length)for(const{fbase_key:Ve,value:tt}of C)ne.add(Ve),JSON.stringify(g.localCache[Ve])!==JSON.stringify(tt)&&(g.notifyListeners(Ve,tt),U.push(Ve));for(const Ve of Object.keys(g.localCache))g.localCache[Ve]&&!ne.has(Ve)&&(g.notifyListeners(Ve,null),U.push(Ve));return U})()}notifyListeners(g,C){this.localCache[g]=C;const U=this.listeners[g];if(U)for(const ne of Array.from(U))ne(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,T.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();jt("rcb"),new rn(3e4,6e4);class Xs extends Fn{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return xr(d,this._buildIdpRequest())}_linkToIdToken(d,g){return xr(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return xr(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function Ll(b){return ei(b.auth,new Xs(b),b.bypassAuthState)}function Vl(b){const{auth:d,user:g}=b;return Tt(g,d,"internal-error"),function Pi(b,d){return Do.apply(this,arguments)}(g,new Xs(b),b.bypassAuthState)}function Df(b){return Af.apply(this,arguments)}function Af(){return(Af=(0,T.A)(function*(b){const{auth:d,user:g}=b;return Tt(g,d,"internal-error"),function Jr(b,d){return ki.apply(this,arguments)}(g,new Xs(b),b.bypassAuthState)})).apply(this,arguments)}class Ul{constructor(d,g,C,U,ne=!1){this.auth=d,this.resolver=C,this.user=U,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,T.A)(function*(C,U){d.pendingPromise={resolve:C,reject:U};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ne){d.reject(ne)}});return function(C,U){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,T.A)(function*(){const{urlResponse:C,sessionId:U,postBody:ne,tenantId:Ve,error:tt,type:$t}=d;if(tt)return void g.reject(tt);const mn={auth:g.auth,requestUri:C,sessionId:U,tenantId:Ve||void 0,postBody:ne||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask($t)(mn))}catch($n){g.reject($n)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Ll;case"linkViaPopup":case"linkViaRedirect":return Df;case"reauthViaPopup":case"reauthViaRedirect":return Vl;default:St(this.auth,"internal-error")}}resolve(d){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new rn(2e3,1e4);const cu=new Map;class Tg extends Ul{constructor(d,g,C=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,T.A)(function*(){let C=cu.get(g.auth._key());if(!C){try{const ne=(yield function vc(b,d){return Ba.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;C=()=>Promise.resolve(ne)}catch(U){C=()=>Promise.reject(U)}cu.set(g.auth._key(),C)}return g.bypassAuthState||cu.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,C=this;return(0,T.A)(function*(){if("signInViaRedirect"===d.type)return g().call(C,d);if("unknown"!==d.type){if(d.eventId){const U=yield C.auth._redirectUserForId(d.eventId);if(U)return C.user=U,g().call(C,d);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,T.A)(function*(){})()}cleanUp(){}}function Ba(){return(Ba=(0,T.A)(function*(b,d){const g=function $l(b){return Ae("pendingRedirect",b.config.apiKey,b.name)}(d),C=function jl(b){return Fi(b._redirectPersistence)}(b);if(!(yield C._isAvailable()))return!1;const U="true"===(yield C._get(g));return yield C._remove(g),U})).apply(this,arguments)}function Za(b,d){cu.set(b._key(),d)}function ah(b,d){return zl.apply(this,arguments)}function zl(){return(zl=(0,T.A)(function*(b,d,g=!1){if((0,O.xZ)(b.app))return Promise.reject(Ye(b));const C=ln(b),U=function ua(b,d){return d?Fi(d):(Tt(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}(C,d),Ve=yield new Tg(C,U,g).execute();return Ve&&!g&&(delete Ve.user._redirectEventId,yield C._persistUserIfCurrent(Ve.user),yield C._setRedirectUser(null,d)),Ve})).apply(this,arguments)}class $a{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(d,C)&&(g=!0,this.sendToConsumer(d,C),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Gl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tc(b);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var C;if(d.error&&!tc(d)){const U=(null===(C=d.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(ke(this.auth,U))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const C=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&C}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ec(d))}saveEventToCache(d){this.cachedEventUids.add(Ec(d)),this.lastProcessedEventTime=Date.now()}}function Ec(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(d=>d).join("-")}function tc({type:b,error:d}){return"unknown"===b&&"auth/no-auth-event"===d?.code}function Xu(){return(Xu=(0,T.A)(function*(b,d={}){return oe(b,"GET","/v1/projects",d)})).apply(this,arguments)}const Pf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mf=/^https?/;function Ys(){return Ys=(0,T.A)(function*(b){if(b.config.emulator)return;const{authorizedDomains:d}=yield function Qu(b){return Xu.apply(this,arguments)}(b);for(const g of d)try{if(va(g))return}catch{}St(b,"unauthorized-domain")}),Ys.apply(this,arguments)}function va(b){const d=Mn(),{protocol:g,hostname:C}=new URL(d);if(b.startsWith("chrome-extension://")){const Ve=new URL(b);return""===Ve.hostname&&""===C?"chrome-extension:"===g&&b.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&Ve.hostname===C}if(!Mf.test(g))return!1;if(Pf.test(b))return C===b;const U=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(C)}const Kl=new rn(3e4,6e4);function Bc(){const b=Sr().___jsl;if(b?.H)for(const d of Object.keys(b.H))if(b.H[d].r=b.H[d].r||[],b.H[d].L=b.H[d].L||[],b.H[d].r=[...b.H[d].L],b.CP)for(let g=0;g<b.CP.length;g++)b.CP[g]=null}let Yu=null;const zy=new rn(5e3,15e3),uh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ql=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wc(b){const d=b.config;Tt(d.authDomain,b,"auth-domain-config-required");const g=d.emulator?kt(d,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:d.apiKey,appName:b.name,v:O.MF},U=ql.get(b.config.apiHost);U&&(C.eid=U);const ne=b._getFrameworks();return ne.length&&(C.fw=ne.join(",")),`${g}?${(0,Y.Am)(C).slice(1)}`}function Ic(){return Ic=(0,T.A)(function*(b){const d=yield function kf(b){return Yu=Yu||function Nf(b){return new Promise((d,g)=>{var C,U,ne;function Ve(){Bc(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Bc(),g(ke(b,"network-request-failed"))},timeout:Kl.get()})}if(null!==(U=null===(C=Sr().gapi)||void 0===C?void 0:C.iframes)&&void 0!==U&&U.Iframe)d(gapi.iframes.getContext());else{if(null===(ne=Sr().gapi)||void 0===ne||!ne.load){const tt=jt("iframefcb");return Sr()[tt]=()=>{gapi.load?Ve():g(ke(b,"network-request-failed"))},Si(`${function Ze(){return or.gapiScript}()}?onload=${tt}`).catch($t=>g($t))}Ve()}}).catch(d=>{throw Yu=null,d})}(b),Yu}(b),g=Sr().gapi;return Tt(g,b,"internal-error"),d.open({where:document.body,url:wc(b),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uh,dontclear:!0},C=>new Promise(function(){var U=(0,T.A)(function*(ne,Ve){yield C.restyle({setHideOnLeave:!1});const tt=ke(b,"network-request-failed"),$t=Sr().setTimeout(()=>{Ve(tt)},zy.get());function mn(){Sr().clearTimeout($t),ne(C)}C.ping(mn).then(mn,()=>{Ve(tt)})});return function(ne,Ve){return U.apply(this,arguments)}}()))}),Ic.apply(this,arguments)}const Ju={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Of{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ff=encodeURIComponent("fac");function pu(b,d,g,C,U,ne){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,T.A)(function*(b,d,g,C,U,ne){Tt(b.config.authDomain,b,"auth-domain-config-required"),Tt(b.config.apiKey,b,"invalid-api-key");const Ve={apiKey:b.config.apiKey,appName:b.name,authType:g,redirectUrl:C,v:O.MF,eventId:U};if(d instanceof Ji){d.setDefaultLanguage(b.languageCode),Ve.providerId=d.providerId||"",(0,Y.Im)(d.getCustomParameters())||(Ve.customParameters=JSON.stringify(d.getCustomParameters()));for(const[$n,zn]of Object.entries(ne||{}))Ve[$n]=zn}if(d instanceof ra){const $n=d.getScopes().filter(zn=>""!==zn);$n.length>0&&(Ve.scopes=$n.join(","))}b.tenantId&&(Ve.tid=b.tenantId);const tt=Ve;for(const $n of Object.keys(tt))void 0===tt[$n]&&delete tt[$n];const $t=yield b._getAppCheckToken(),mn=$t?`#${Ff}=${encodeURIComponent($t)}`:"";return`${function hh({config:b}){return b.emulator?kt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,Y.Am)(tt).slice(1)}${mn}`})).apply(this,arguments)}const nc="webStorageSupport",Lf=class gu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eo,this._completeRedirectFn=ah,this._overrideRedirectResult=Za}_openPopup(d,g,C,U){var ne=this;return(0,T.A)(function*(){var Ve;Vn(null===(Ve=ne.eventManagers[d._key()])||void 0===Ve?void 0:Ve.manager,"_initialize() not called before _openPopup()");const tt=yield pu(d,g,C,Mn(),U);return function jc(b,d,g,C=500,U=600){const ne=Math.max((window.screen.availHeight-U)/2,0).toString(),Ve=Math.max((window.screen.availWidth-C)/2,0).toString();let tt="";const $t=Object.assign(Object.assign({},Ju),{width:C.toString(),height:U.toString(),top:ne,left:Ve}),mn=(0,Y.ZQ)().toLowerCase();g&&(tt=Yt(mn)?"_blank":g),Lt(mn)&&(d=d||"http://localhost",$t.scrollbars="yes");const $n=Object.entries($t).reduce((Rr,[So,no])=>`${Rr}${So}=${no},`,"");if(function Dt(b=(0,Y.ZQ)()){var d;return Se(b)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(mn)&&"_self"!==tt)return function hu(b,d){const g=document.createElement("a");g.href=b,g.target=d;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(d||"",tt),new Of(null);const zn=window.open(d||"",tt,$n);Tt(zn,b,"popup-blocked");try{zn.focus()}catch{}return new Of(zn)}(d,tt,ar())})()}_openRedirect(d,g,C,U){var ne=this;return(0,T.A)(function*(){return yield ne._originValidation(d),function ma(b){Sr().location.href=b}(yield pu(d,g,C,Mn(),U)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:U,promise:ne}=this.eventManagers[g];return U?Promise.resolve(U):(Vn(ne,"If manager is not set, promise should be"),ne)}const C=this.initAndGetManager(d);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(d){var g=this;return(0,T.A)(function*(){const C=yield function lh(b){return Ic.apply(this,arguments)}(d),U=new $a(d);return C.register("authEvent",ne=>(Tt(ne?.authEvent,d,"invalid-auth-event"),{status:U.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:U},g.iframes[d._key()]=C,U})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(nc,{type:nc},U=>{var ne;const Ve=null===(ne=U?.[0])||void 0===ne?void 0:ne[nc];void 0!==Ve&&g(!!Ve),St(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Zu(b){return Ys.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return _e()||et()||Se()}};var ic="@firebase/auth";class ph{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,T.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(C=>{d(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bg=(0,Y.XA)("authIdTokenMaxAge")||300;let Zl=null;const gh=b=>function(){var d=(0,T.A)(function*(g){const C=g&&(yield g.getIdTokenResult()),U=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(U&&U>bg)return;const ne=C?.token;Zl!==ne&&(Zl=ne,yield fetch(b,{method:ne?"POST":"DELETE",headers:ne?{Authorization:`Bearer ${ne}`}:{}}))});return function(g){return d.apply(this,arguments)}}();function Yl(b=(0,O.Sx)()){const d=(0,O.j6)(b,"auth");if(d.isInitialized())return d.getImmediate();const g=function At(b,d){const g=(0,O.j6)(b,"auth");if(g.isInitialized()){const U=g.getImmediate(),ne=g.getOptions();if((0,Y.bD)(ne,d??{}))return U;St(U,"already-initialized")}return g.initialize({options:d})}(b,{popupRedirectResolver:Lf,persistence:[mc,Xo,eo]}),C=(0,Y.XA)("authTokenSyncURL");if(C&&"boolean"==typeof isSecureContext&&isSecureContext){const ne=new URL(C,location.origin);if(location.origin===ne.origin){const Ve=gh(ne.toString());(function G(b,d,g){(0,Y.Ku)(b).beforeAuthStateChanged(d,g)})(g,Ve,()=>Ve(g.currentUser)),function Mi(b,d,g,C){(0,Y.Ku)(b).onIdTokenChanged(d,g,C)}(g,tt=>Ve(tt))}}const U=(0,Y.Tj)("auth");return U&&function xn(b,d,g){const C=ln(b);Tt(/^https?:\/\//.test(d),C,"invalid-emulator-scheme");const U=!!g?.disableWarnings,ne=oi(d),{host:Ve,port:tt}=function Kr(b){const d=oi(b),g=/(\/\/)?([^?#/]+)/.exec(b.substr(d.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(C);if(U){const ne=U[1];return{host:ne,port:qr(C.substr(ne.length+1))}}{const[ne,Ve]=C.split(":");return{host:ne,port:qr(Ve)}}}(d),$t=null===tt?"":`:${tt}`,mn={url:`${ne}//${Ve}${$t}/`},$n=Object.freeze({host:Ve,port:tt,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:U})});if(!C._canInitEmulator)return Tt(C.config.emulator&&C.emulatorConfig,C,"emulator-config-failed"),void Tt((0,Y.bD)(mn,C.config.emulator)&&(0,Y.bD)($n,C.emulatorConfig),C,"emulator-config-failed");C.config.emulator=mn,C.emulatorConfig=$n,C.settings.appVerificationDisabledForTesting=!0,(0,Y.zJ)(Ve)?((0,Y.gE)(`${ne}//${Ve}${$t}`),(0,Y.P1)("Auth",!0)):U||function gr(){function b(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(g,`http://${U}`),g}(function wi(b){or=b})({loadJS:b=>new Promise((d,g)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=d,C.onerror=U=>{const ne=ke("internal-error");ne.customData=U,g(ne)},C.type="text/javascript",C.charset="UTF-8",function mh(){var b,d;return null!==(d=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==d?d:document}().appendChild(C)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Hc(b){(0,O.om)(new nt.uA("auth",(d,{options:g})=>{const C=d.getProvider("app").getImmediate(),U=d.getProvider("heartbeat"),ne=d.getProvider("app-check-internal"),{apiKey:Ve,authDomain:tt}=C.options;Tt(Ve&&!Ve.includes(":"),"invalid-api-key",{appName:C.name});const $t={apiKey:Ve,authDomain:tt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Le(b)},mn=new Un(C,U,ne,$t);return function un(b,d){const g=d?.persistence||[],C=(Array.isArray(g)?g:[g]).map(Fi);d?.errorMap&&b._updateErrorMap(d.errorMap),b._initializeWithPersistence(C,d?.popupRedirectResolver)}(mn,g),mn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,C)=>{d.getProvider("auth-internal").initialize()})),(0,O.om)(new nt.uA("auth-internal",d=>{const g=ln(d.getProvider("auth").getImmediate());return new ph(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.KO)(ic,"1.10.6",function oc(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(b)),(0,O.KO)(ic,"1.10.6","esm2017")}("Browser")},591:(bn,ze,$)=>{"use strict";function T(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(ze,{L:()=>T})},941:(bn,ze,$)=>{"use strict";$.d(ze,{Q:()=>B});var T=$(5225),O=$(9974),Y=$(4360);function B(Re,nt=0){return(0,O.N)((we,be)=>{we.subscribe((0,Y._)(be,We=>(0,T.N)(be,Re,()=>be.next(We),nt),()=>(0,T.N)(be,Re,()=>be.complete(),nt),We=>(0,T.N)(be,Re,()=>be.error(We),nt)))})}},969:(bn,ze,$)=>{"use strict";$.d(ze,{FX:()=>Jt,If:()=>T,K2:()=>nt,PZ:()=>Bt,hZ:()=>Y,i0:()=>B,iF:()=>we,kY:()=>Te,kp:()=>O,sf:()=>Ht,wk:()=>be});var T=function(yt){return yt[yt.State=0]="State",yt[yt.Transition=1]="Transition",yt[yt.Sequence=2]="Sequence",yt[yt.Group=3]="Group",yt[yt.Animate=4]="Animate",yt[yt.Keyframes=5]="Keyframes",yt[yt.Style=6]="Style",yt[yt.Trigger=7]="Trigger",yt[yt.Reference=8]="Reference",yt[yt.AnimateChild=9]="AnimateChild",yt[yt.AnimateRef=10]="AnimateRef",yt[yt.Query=11]="Query",yt[yt.Stagger=12]="Stagger",yt}(T||{});const O="*";function Y(yt,wt){return{type:T.Trigger,name:yt,definitions:wt,options:{}}}function B(yt,wt=null){return{type:T.Animate,styles:wt,timings:yt}}function nt(yt,wt=null){return{type:T.Sequence,steps:yt,options:wt}}function we(yt){return{type:T.Style,styles:yt,offset:null}}function be(yt,wt,St){return{type:T.State,name:yt,styles:wt,options:St}}function Te(yt,wt,St=null){return{type:T.Transition,expr:yt,animation:wt,options:St}}class Ht{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(wt=0,St=0){this.totalTime=wt+St}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(wt=>wt()),this._onDoneFns=[])}onStart(wt){this._originalOnStartFns.push(wt),this._onStartFns.push(wt)}onDone(wt){this._originalOnDoneFns.push(wt),this._onDoneFns.push(wt)}onDestroy(wt){this._onDestroyFns.push(wt)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(wt=>wt()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(wt=>wt()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(wt){this._position=this.totalTime?wt*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(wt){const St="start"==wt?this._onStartFns:this._onDoneFns;St.forEach(ke=>ke()),St.length=0}}class Bt{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(wt){this.players=wt;let St=0,ke=0,it=0;const Ye=this.players.length;0==Ye?queueMicrotask(()=>this._onFinish()):this.players.forEach(It=>{It.onDone(()=>{++St==Ye&&this._onFinish()}),It.onDestroy(()=>{++ke==Ye&&this._onDestroy()}),It.onStart(()=>{++it==Ye&&this._onStart()})}),this.totalTime=this.players.reduce((It,qt)=>Math.max(It,qt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(wt=>wt()),this._onDoneFns=[])}init(){this.players.forEach(wt=>wt.init())}onStart(wt){this._onStartFns.push(wt)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(wt=>wt()),this._onStartFns=[])}onDone(wt){this._onDoneFns.push(wt)}onDestroy(wt){this._onDestroyFns.push(wt)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(wt=>wt.play())}pause(){this.players.forEach(wt=>wt.pause())}restart(){this.players.forEach(wt=>wt.restart())}finish(){this._onFinish(),this.players.forEach(wt=>wt.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(wt=>wt.destroy()),this._onDestroyFns.forEach(wt=>wt()),this._onDestroyFns=[])}reset(){this.players.forEach(wt=>wt.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(wt){const St=wt*this.totalTime;this.players.forEach(ke=>{const it=ke.totalTime?Math.min(1,St/ke.totalTime):1;ke.setPosition(it)})}getPosition(){const wt=this.players.reduce((St,ke)=>null===St||ke.totalTime>St.totalTime?ke:St,null);return null!=wt?wt.getPosition():0}beforeDestroy(){this.players.forEach(wt=>{wt.beforeDestroy&&wt.beforeDestroy()})}triggerCallback(wt){const St="start"==wt?this._onStartFns:this._onDoneFns;St.forEach(ke=>ke()),St.length=0}}const Jt="!"},980:(bn,ze,$)=>{"use strict";$.d(ze,{j:()=>O});var T=$(9974);function O(Y){return(0,T.N)((B,Re)=>{try{B.subscribe(Re)}finally{Re.add(Y)}})}},983:(bn,ze,$)=>{"use strict";$.d(ze,{w:()=>O});const O=new($(1985).c)(Re=>Re.complete())},1026:(bn,ze,$)=>{"use strict";$.d(ze,{$:()=>T});const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1203:(bn,ze,$)=>{"use strict";$.d(ze,{F:()=>O,m:()=>Y});var T=$(3669);function O(...B){return Y(B)}function Y(B){return 0===B.length?T.D:1===B.length?B[0]:function(nt){return B.reduce((we,be)=>be(we),nt)}}},1360:(bn,ze,$)=>{"use strict";$.d(ze,{bc$:()=>Qg,iLQ:()=>Cy,sZ2:()=>_u,o8S:()=>pc,BIS:()=>p_,gRc:()=>$A,Ql9:()=>vN,OM3:()=>vy,Ocv:()=>AN,abz:()=>Vs,Z63:()=>Ji,aKT:()=>ol,uvJ:()=>ei,zcH:()=>ac,bkB:()=>sc,$GK:()=>Fn,nKC:()=>ve,zZn:()=>ys,_q3:()=>cT,MKu:()=>uT,xe9:()=>rT,Co$:()=>D0,Vns:()=>ff,SKi:()=>vo,Xx1:()=>xr,Agw:()=>qg,PLl:()=>Kg,u5s:()=>tl,sFG:()=>TC,_9s:()=>Uw,czy:()=>Su,WPN:()=>Pd,kdw:()=>go,C4Q:()=>nf,NYb:()=>xR,giA:()=>J0,xvI:()=>yN,RxE:()=>MA,c1b:()=>Xv,gXe:()=>Cc,mal:()=>cm,Af3:()=>Oo,L39:()=>vk,EWP:()=>jy,Ol2:()=>rI,w6W:()=>pS,Rfq:()=>Oi,WQX:()=>En,hFB:()=>e_,naY:()=>LN,QuC:()=>Ee,EmA:()=>Pe,phd:()=>LR,HJs:()=>Bk,N4e:()=>Os,vPA:()=>Kc,O8t:()=>ou,H3F:()=>hI,H8p:()=>ki,KH2:()=>_g,Ua0:()=>Gc,wOt:()=>ht,WHO:()=>Z0,e01:()=>Y0,Lf2:()=>ud,lNU:()=>Nr,h9k:()=>Cp,$MX:()=>Dd,ZF7:()=>Td,Kcf:()=>K_,e5t:()=>bp,UyX:()=>JE,cWb:()=>Tp,osQ:()=>gl,H5H:()=>FI,Zy3:()=>qn,mq5:()=>Kb,JZv:()=>Cn,TL3:()=>ZN,LfX:()=>Ot,plB:()=>hf,jNT:()=>yI,zjR:()=>tb,ngT:()=>Ia,TL$:()=>NE,Tbb:()=>Ue,rcV:()=>Yc,Vt3:()=>oI,OA$:()=>Hu,Jv_:()=>JD,R7$:()=>y,BMQ:()=>II,HbH:()=>Pb,ZvI:()=>Lb,STu:()=>Vb,AVh:()=>RI,wni:()=>CD,VBU:()=>C0,FsC:()=>S0,jDH:()=>Le,G2t:()=>Et,$C:()=>iI,EJ8:()=>R0,rXU:()=>ng,nrm:()=>xI,bVm:()=>lE,qex:()=>uE,k0s:()=>cE,j41:()=>aE,RV6:()=>Wb,xGo:()=>Zl,KVO:()=>Yr,kS0:()=>b,QTQ:()=>KT,bIt:()=>UI,lsd:()=>RD,joV:()=>ah,qSk:()=>Rf,XpG:()=>yD,nI1:()=>dA,bMT:()=>hA,i5U:()=>fA,Y8G:()=>AI,lJ4:()=>tA,eq3:()=>nA,l_i:()=>rA,sMw:()=>iA,ziG:()=>oA,mGM:()=>SD,sdS:()=>PD,Njj:()=>ca,eBV:()=>_c,npT:()=>ow,B4B:()=>J_,n$t:()=>jm,xc7:()=>SI,zvX:()=>OI,DNE:()=>uI,EFF:()=>BD,JRh:()=>$I,SpI:()=>gE,Lme:()=>HI,DH7:()=>QD,mxI:()=>WI,R50:()=>zI});var T=$(467);function O(e,t){return Object.is(e,t)}let Y=null,B=!1,Re=1;const nt=Symbol("SIGNAL");function we(e){const t=Y;return Y=e,t}const Ie={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lt(e){if(B)throw new Error("");if(null===Y)return;Y.consumerOnSignalRead(e);const t=Y.nextProducerIndex++;qt(Y),t<Y.producerNode.length&&Y.producerNode[t]!==e&&It(Y)&&Ye(Y.producerNode[t],Y.producerIndexOfThis[t]),Y.producerNode[t]!==e&&(Y.producerNode[t]=e,Y.producerIndexOfThis[t]=It(Y)?it(e,Y,t):0),Y.producerLastReadVersion[t]=e.version}function dt(e){if((!It(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Re)){if(!e.producerMustRecompute(e)&&!St(e))return void Jt(e);e.producerRecomputeValue(e),Jt(e)}}function Rt(e){if(void 0===e.liveConsumerNode)return;const t=B;B=!0;try{for(const r of e.liveConsumerNode)r.dirty||Bt(r)}finally{B=t}}function Ht(){return!1!==Y?.consumerAllowSignalWrites}function Bt(e){e.dirty=!0,Rt(e),e.consumerMarkedDirty?.(e)}function Jt(e){e.dirty=!1,e.lastCleanEpoch=Re}function yt(e){return e&&(e.nextProducerIndex=0),we(e)}function wt(e,t){if(we(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(It(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Ye(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function St(e){qt(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(dt(r),o!==r.version))return!0}return!1}function ke(e){if(qt(e),It(e))for(let t=0;t<e.producerNode.length;t++)Ye(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function it(e,t,r){if(Tt(e),0===e.liveConsumerNode.length&&ct(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=it(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Ye(e,t){if(Tt(e),1===e.liveConsumerNode.length&&ct(e))for(let o=0;o<e.producerNode.length;o++)Ye(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];qt(a),a.producerIndexOfThis[o]=t}}function It(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function qt(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Tt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ct(e){return void 0!==e.producerNode}const Mn=Symbol("UNSET"),Kn=Symbol("COMPUTING"),pt=Symbol("ERRORED"),wn={...Ie,value:Mn,dirty:!0,error:null,equal:O,kind:"computed",producerMustRecompute:e=>e.value===Mn||e.value===Kn,producerRecomputeValue(e){if(e.value===Kn)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Kn;const r=yt(e);let o,a=!1;try{o=e.computation(),we(null),a=t!==Mn&&t!==pt&&o!==pt&&e.equal(t,o)}catch(l){o=pt,e.error=l}finally{wt(e,r)}a?e.value=t:(e.value=o,e.version++)}};let rn=function Je(){throw new Error};function kt(e){rn(e)}let te=null;function me(e,t){Ht()||kt(e),e.equal(e.value,t)||(e.value=t,function _t(e){e.version++,function Qe(){Re++}(),Rt(e),te?.()}(e))}const Xe={...Ie,equal:O,value:void 0,kind:"signal"};let Zt;function Ln(){return Zt}function er(e){const t=Zt;return Zt=e,t}const Dn=Symbol("NotFound");Error;var Ci=$(4412),fn=$(1413),dr=$(8359),cn=$(6354);const Nr="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class ht extends Error{code;constructor(t,r){super(qn(t,r)),this.code=t}}function qn(e,t){return`${function Er(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const Xt=Symbol("InputSignalNode#UNSET"),ri={...Xe,transformFn:void 0,applyValueToInputSignal(e,t){me(e,t)}};function pi(e,t){const r=Object.create(ri);function o(){if(lt(r),r.value===Xt)throw new ht(-950,null);return r.value}return r.value=e,r.transformFn=t?.transform,o[nt]=r,o}function Tr(e){return{toString:e}.toString()}const Ar="__parameters__";function gi(e,t,r){return Tr(()=>{const o=function ir(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...l){if(this instanceof a)return o.apply(this,l),this;const f=new a(...l);return E.annotation=f,E;function E(D,F,z){const ee=D.hasOwnProperty(Ar)?D[Ar]:Object.defineProperty(D,Ar,{value:[]})[Ar];for(;ee.length<=z;)ee.push(null);return(ee[z]=ee[z]||[]).push(f),D}}return a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Cn=globalThis;function Wn(e){for(let t in e)if(e[t]===Wn)return t;throw Error("Could not find renamed property on target object.")}function Xi(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Ue(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Ue).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const r=e.toString();if(null==r)return""+r;const o=r.indexOf("\n");return o>=0?r.slice(0,o):r}function Dr(e,t){return e?t?`${e} ${t}`:e:t||""}const ii=Wn({__forward_ref__:Wn});function Oi(e){return e.__forward_ref__=Oi,e.toString=function(){return Ue(this())},e}function _n(e){return fr(e)?e():e}function fr(e){return"function"==typeof e&&e.hasOwnProperty(ii)&&e.__forward_ref__===Oi}function Le(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Et(e){return{providers:e.providers||[],imports:e.imports||[]}}function mt(e){return on(e,Gn)||on(e,wi)}function Ot(e){return null!==mt(e)}function on(e,t){return e.hasOwnProperty(t)?e[t]:null}function ln(e){return e&&(e.hasOwnProperty(or)||e.hasOwnProperty(Si))?e[or]:null}const Gn=Wn({\u0275prov:Wn}),or=Wn({\u0275inj:Wn}),wi=Wn({ngInjectableDef:Wn}),Si=Wn({ngInjectorDef:Wn});class ve{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,r){this._desc=t,this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Le({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ao(e){return e&&!!e.\u0275providers}const Hi=Wn({\u0275cmp:Wn}),Bo=Wn({\u0275dir:Wn}),io=Wn({\u0275pipe:Wn}),j=Wn({\u0275mod:Wn}),ge=Wn({\u0275fac:Wn}),X=Wn({__NG_ELEMENT_ID__:Wn}),re=Wn({__NG_ENV_ID__:Wn});function Me(e){return"string"==typeof e?e:null==e?"":String(e)}function oi(e,t){throw new ht(-200,e)}function gr(e,t){throw new ht(-201,!1)}var Fn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Fn||{});let mr;function zi(){return mr}function mi(e){const t=mr;return mr=e,t}function Io(e,t,r){const o=mt(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Fn.Optional?null:void 0!==t?t:void gr()}const rt={},Ne="__NG_DI_FLAG__";class gt{injector;constructor(t){this.injector=t}retrieve(t,r){return this.injector.get(t,r.optional?Dn:rt,r)}}const tn="ngTempTokenPath",Bn=/\n/gm,po="__source";function ks(e,t=Fn.Default){if(void 0===Ln())throw new ht(-203,!1);if(null===Ln())return Io(e,void 0,t);{const r=Ln();let o;return o=r instanceof gt?r.injector:r,o.get(e,t&Fn.Optional?null:void 0,t)}}function Yr(e,t=Fn.Default){return(zi()||ks)(_n(e),t)}function En(e,t=Fn.Default){return Yr(e,ss(t))}function ss(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function To(e){const t=[];for(let r=0;r<e.length;r++){const o=_n(e[r]);if(Array.isArray(o)){if(0===o.length)throw new ht(900,!1);let a,l=Fn.Default;for(let f=0;f<o.length;f++){const E=o[f],D=Zo(E);"number"==typeof D?-1===D?a=E.token:l|=D:a=E}t.push(Yr(a,l))}else t.push(Yr(o))}return t}function Po(e,t){return e[Ne]=t,e.prototype[Ne]=t,e}function Zo(e){return e[Ne]}const xr=Po(gi("Optional"),8),go=Po(gi("SkipSelf"),4);function Ts(e,t){return e.hasOwnProperty(ge)?e[ge]:null}function Qr(e,t){e.forEach(r=>Array.isArray(r)?Qr(r,t):t(r))}function Xr(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function bs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function bo(e,t,r){let o=$s(e,t);return o>=0?e[1|o]=r:(o=~o,function ls(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Ui(e,t){const r=$s(e,t);if(r>=0)return e[1|r]}function $s(e,t){return function xo(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const l=o+(a-o>>1),f=e[l<<r];if(t===f)return l<<r;f>t?a=l:o=l+1}return~(a<<r)}(e,t,1)}const Or={},yr=[],Ji=new ve(""),ra=new ve("",-1),xs=new ve("");class ba{get(t,r=rt){if(r===rt){const o=new Error(`NullInjectorError: No provider for ${Ue(t)}!`);throw o.name="NullInjectorError",o}return r}}function jo(e,t){const r=e[j]||null;if(!r&&!0===t)throw new Error(`Type ${Ue(e)} does not have '\u0275mod' property.`);return r}function _r(e){return e[Hi]||null}function q(e){return e[Bo]||null}function K(e){return e[io]||null}function Ee(e){const t=_r(e)||q(e)||K(e);return null!==t&&t.standalone}function Pe(e){return{\u0275providers:e}}function xt(...e){return{\u0275providers:Qt(0,e),\u0275fromNgModule:!0}}function Qt(e,...t){const r=[],o=new Set;let a;const l=f=>{r.push(f)};return Qr(t,f=>{const E=f;pn(E,l,[],o)&&(a||=[],a.push(E))}),void 0!==a&&Tn(a,l),r}function Tn(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];Xn(a,l=>{t(l,o)})}}function pn(e,t,r,o){if(!(e=_n(e)))return!1;let a=null,l=ln(e);const f=!l&&_r(e);if(l||f){if(f&&!f.standalone)return!1;a=e}else{const D=e.ngModule;if(l=ln(D),!l)return!1;a=D}const E=o.has(a);if(f){if(E)return!1;if(o.add(a),f.dependencies){const D="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const F of D)pn(F,t,r,o)}}else{if(!l)return!1;{if(null!=l.imports&&!E){let F;o.add(a);try{Qr(l.imports,z=>{pn(z,t,r,o)&&(F||=[],F.push(z))})}finally{}void 0!==F&&Tn(F,t)}if(!E){const F=Ts(a)||(()=>new a);t({provide:a,useFactory:F,deps:yr},a),t({provide:xs,useValue:a,multi:!0},a),t({provide:Ji,useValue:()=>Yr(a),multi:!0},a)}const D=l.providers;if(null!=D&&!E){const F=e;Xn(D,z=>{t(z,F)})}}}return a!==e&&void 0!==e.providers}function Xn(e,t){for(let r of e)ao(r)&&(r=r.\u0275providers),Array.isArray(r)?Xn(r,t):t(r)}const Lr=Wn({provide:String,useValue:Wn});function Ii(e){return null!==e&&"object"==typeof e&&Lr in e}function Ri(e){return"function"==typeof e}const ki=new ve(""),uo={},_i={};let Pi;function Do(){return void 0===Pi&&(Pi=new ba),Pi}class ei{}class mo extends ei{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,oo(t,f=>this.processProvider(f)),this.records.set(ra,hs(void 0,this)),a.has("environment")&&this.records.set(ei,hs(void 0,this));const l=this.records.get(ki);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(xs,yr,Fn.Self))}retrieve(t,r){return this.get(t,r.optional?Dn:rt,r)}destroy(){Hs(this),this._destroyed=!0;const t=we(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(t)}}onDestroy(t){return Hs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Hs(this);const r=er(this),o=mi(void 0);try{return t()}finally{er(r),mi(o)}}get(t,r=rt,o=Fn.Default){if(Hs(this),t.hasOwnProperty(re))return t[re](this);o=ss(o);const l=er(this),f=mi(void 0);try{if(!(o&Fn.SkipSelf)){let D=this.records.get(t);if(void 0===D){const F=function zs(e){return"function"==typeof e||"object"==typeof e&&e instanceof ve}(t)&&mt(t);D=F&&this.injectableDefInScope(F)?hs(Ko(t),uo):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D,o)}return(o&Fn.Self?Do():this.parent).get(t,r=o&Fn.Optional&&r===rt?null:r)}catch(E){if("NullInjectorError"===E.name){if((E[tn]=E[tn]||[]).unshift(Ue(t)),l)throw E;return function Mo(e,t,r,o){const a=e[tn];throw t[po]&&a.unshift(t[po]),e.message=function Is(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Ue(t);if(Array.isArray(t))a=t.map(Ue).join(" -> ");else if("object"==typeof t){let l=[];for(let f in t)if(t.hasOwnProperty(f)){let E=t[f];l.push(f+":"+("string"==typeof E?JSON.stringify(E):Ue(E)))}a=`{${l.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(Bn,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[tn]=null,e}(E,t,"R3InjectorError",this.source)}throw E}finally{mi(f),er(l)}}resolveInjectorInitializers(){const t=we(null),r=er(this),o=mi(void 0);try{const l=this.get(Ji,yr,Fn.Self);for(const f of l)f()}finally{er(r),mi(o),we(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(Ue(o));return`R3Injector[${t.join(", ")}]`}processProvider(t){let r=Ri(t=_n(t))?t:_n(t&&t.provide);const o=function ha(e){return Ii(e)?hs(void 0,e.useValue):hs(Da(e),uo)}(t);if(!Ri(t)&&!0===t.multi){let a=this.records.get(r);a||(a=hs(void 0,uo,!0),a.factory=()=>To(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r,o){const a=we(null);try{return r.value===_i?oi(Ue(t)):r.value===uo&&(r.value=_i,r.value=r.factory(void 0,o)),"object"==typeof r.value&&r.value&&function fa(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{we(a)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=_n(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Ko(e){const t=mt(e),r=null!==t?t.factory:Ts(e);if(null!==r)return r;if(e instanceof ve)throw new ht(204,!1);if(e instanceof Function)return function ds(e){if(e.length>0)throw new ht(204,!1);const r=function Un(e){return e&&(e[Gn]||e[wi])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new ht(204,!1)}function Da(e,t,r){let o;if(Ri(e)){const a=_n(e);return Ts(a)||Ko(a)}if(Ii(e))o=()=>_n(e.useValue);else if(function Bi(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...To(e.deps||[]));else if(function yi(e){return!(!e||!e.useExisting)}(e))o=(a,l)=>Yr(_n(e.useExisting),void 0!==l&&l&Fn.Optional?Fn.Optional:void 0);else{const a=_n(e&&(e.useClass||e.provide));if(!function Fa(e){return!!e.deps}(e))return Ts(a)||Ko(a);o=()=>new a(...To(e.deps))}return o}function Hs(e){if(e.destroyed)throw new ht(205,!1)}function hs(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function oo(e,t){for(const r of e)Array.isArray(r)?oo(r,t):r&&ao(r)?oo(r.\u0275providers,t):t(r)}function Os(e,t){let r;e instanceof mo?(Hs(e),r=e):r=new gt(e);const a=er(r),l=mi(void 0);try{return t()}finally{er(a),mi(l)}}function ui(){return void 0!==zi()||null!=Ln()}function Oo(e){if(!ui())throw new ht(-203,!1)}const Gr=0,nn=1,nr=2,li=3,$o=4,Wi=5,Qo=6,fs=7,Ur=8,R=9,M=10,H=11,Ce=12,Ft=13,Sn=14,sr=15,ji=16,Gi=17,Ao=18,qs=19,Sa=20,Nn=26,Qs=1,Pa=9,$i=10;function Ki(e){return Array.isArray(e)&&"object"==typeof e[Qs]}function Mi(e){return Array.isArray(e)&&!0===e[Qs]}function G(e){return!!(4&e.flags)}function v(e){return e.componentOffset>-1}function w(e){return!(1&~e.flags)}function P(e){return!!e.template}function L(e){return!!(512&e[nr])}function _(e){return!(256&~e[nr])}class Ml{previousValue;currentValue;firstChange;constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function oa(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}const Hu=(()=>{const e=()=>Nl;return e.ngInherit=!0,e})();function Nl(e){return e.type.prototype.ngOnChanges&&(e.setInput=jn),eo}function eo(){const e=ar(this),t=e?.current;if(t){const r=e.previous;if(r===Or)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function jn(e,t,r,o,a){const l=this.declaredInputs[o],f=ar(e)||function vi(e,t){return e[Yn]=t}(e,{previous:Or,current:null}),E=f.current||(f.current={}),D=f.previous,F=D[l];E[l]=new Ml(F&&F.currentValue,r,D===Or),oa(e,t,a,r)}const Yn="__ngSimpleChanges__";function ar(e){return e[Yn]||null}const br=function(e,t=null,r){},Rs="svg";function ni(e){for(;Array.isArray(e);)e=e[Gr];return e}function _o(e,t){return ni(t[e])}function to(e,t){return ni(t[e.index])}function Ls(e,t){return e.data[t]}function Ds(e,t){return e[t]}function Ps(e,t){const r=t[e];return Ki(r)?r:r[Gr]}function Lo(e){return!(128&~e[nr])}function sa(e,t){return null==t?null:e[t]}function zu(e){e[Gi]=0}function xc(e){1024&e[nr]||(e[nr]|=1024,Lo(e)&&mc(e))}function au(e){return!!(9216&e[nr]||e[24]?.dirty)}function ih(e){e[M].changeDetectionScheduler?.notify(8),64&e[nr]&&(e[nr]|=1024),au(e)&&mc(e)}function mc(e){e[M].changeDetectionScheduler?.notify(0);let t=aa(e);for(;null!==t&&!(8192&t[nr])&&(t[nr]|=8192,Lo(t));)t=aa(t)}function Xa(e,t){if(_(e))throw new ht(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function aa(e){const t=e[li];return Mi(t)?t[li]:t}function yc(e){return e[fs]??=[]}function kl(e){return e.cleanup??=[]}const Ir={lFrame:qu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ol=!1;function Tf(){return Ir.bindingsEnabled}function Nt(){return Ir.lFrame.lView}function vr(){return Ir.lFrame.tView}function _c(e){return Ir.lFrame.contextLView=e,e[Ur]}function ca(e){return Ir.lFrame.contextLView=null,e}function Br(){let e=bf();for(;null!==e&&64===e.type;)e=e.parent;return e}function bf(){return Ir.lFrame.currentTNode}function Xs(e,t){const r=Ir.lFrame;r.currentTNode=e,r.isParent=t}function Ll(){return Ir.lFrame.isParent}function Vl(){Ir.lFrame.isParent=!1}function wg(){return Ol}function Fc(e){const t=Ol;return Ol=e,t}function As(){const e=Ir.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Zs(){return Ir.lFrame.bindingIndex++}function _a(e){const t=Ir.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Tg(e,t){const r=Ir.lFrame;r.bindingIndex=r.bindingRootIndex=e,Ba(t)}function Ba(e){Ir.lFrame.currentDirectiveIndex=e}function uu(e){const t=Ir.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function Ku(){return Ir.lFrame.currentQueryIndex}function Bl(e){Ir.lFrame.currentQueryIndex=e}function Za(e){const t=e[nn];return 2===t.type?t.declTNode:1===t.type?e[Wi]:null}function jl(e,t,r){if(r&Fn.SkipSelf){let a=t,l=e;for(;!(a=a.parent,null!==a||r&Fn.Host||(a=Za(l),null===a||(l=l[Sn],10&a.type))););if(null===a)return!1;t=a,e=l}const o=Ir.lFrame=Sf();return o.currentTNode=t,o.lView=e,!0}function $l(e){const t=Sf(),r=e[nn];Ir.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Sf(){const e=Ir.lFrame,t=null===e?null:e.child;return null===t?qu(e):t}function qu(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ja(){const e=Ir.lFrame;return Ir.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Lc=ja;function Ya(){const e=ja();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Cs(){return Ir.lFrame.selectedIndex}function Ja(e){Ir.lFrame.selectedIndex=e}function Ni(){const e=Ir.lFrame;return Ls(e.tView,e.selectedIndex)}function Rf(){Ir.lFrame.currentNamespace=Rs}function ah(){!function zl(){Ir.lFrame.currentNamespace=null}()}let Uc=!0;function ec(){return Uc}function $a(e){Uc=e}function tc(e,t){for(let r=t.directiveStart,o=t.directiveEnd;r<o;r++){const l=e.data[r].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:F,ngOnDestroy:z}=l;f&&(e.contentHooks??=[]).push(-r,f),E&&((e.contentHooks??=[]).push(r,E),(e.contentCheckHooks??=[]).push(r,E)),D&&(e.viewHooks??=[]).push(-r,D),F&&((e.viewHooks??=[]).push(r,F),(e.viewCheckHooks??=[]).push(r,F)),null!=z&&(e.destroyHooks??=[]).push(r,z)}}function Gl(e,t,r){Pf(e,t,3,r)}function Qu(e,t,r,o){(3&e[nr])===r&&Pf(e,t,r,o)}function Xu(e,t){let r=e[nr];(3&r)===t&&(r&=16383,r+=1,e[nr]=r)}function Pf(e,t,r,o){const l=o??-1,f=t.length-1;let E=0;for(let D=void 0!==o?65535&e[Gi]:0;D<f;D++)if("number"==typeof t[D+1]){if(E=t[D],null!=o&&E>=o)break}else t[D]<0&&(e[Gi]+=65536),(E<l||-1==l)&&(Zu(e,r,t,D),e[Gi]=(4294901760&e[Gi])+D+2),D++}function Mf(e,t){br(4,e,t);const r=we(null);try{t.call(e)}finally{we(r),br(5,e,t)}}function Zu(e,t,r,o){const a=r[o]<0,l=r[o+1],E=e[a?-r[o]:r[o]];a?e[nr]>>14<e[Gi]>>16&&(3&e[nr])===t&&(e[nr]+=16384,Mf(E,l)):Mf(E,l)}const Ys=-1;class va{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,r,o){this.factory=t,this.canSeeViewProviders=r,this.injectImpl=o}}function uh(e){return 3===e||4===e||6===e}function ql(e){return 64===e.charCodeAt(0)}function wc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||lh(e,r,a,0,-1===r||2===r?t[++o]:null)}}return e}function lh(e,t,r,o,a){let l=0,f=e.length;if(-1===t)f=-1;else for(;l<e.length;){const E=e[l++];if("number"==typeof E){if(E===t){f=-1;break}if(E>t){f=l-1;break}}}for(;l<e.length;){const E=e[l];if("number"==typeof E)break;if(E===r)return void(null!==a&&(e[l+1]=a));l++,null!==a&&l++}-1!==f&&(e.splice(f,0,t),l=f+1),e.splice(l++,0,r),null!==a&&e.splice(l++,0,a)}function Ic(e){return e!==Ys}function Ju(e){return 32767&e}function lu(e,t){let r=function dh(e){return e>>16}(e),o=t;for(;r>0;)o=o[Sn],r--;return o}let du=!0;function Ql(e){const t=du;return du=e,t}const jc=255,hu=5;let fu=0;const Na={};function pu(e,t){const r=hh(e,t);if(-1!==r)return r;const o=t[nn];o.firstCreatePass&&(e.injectorIndex=t.length,Jo(o.data,e),Jo(t,null),Jo(o.blueprint,null));const a=nc(e,t),l=e.injectorIndex;if(Ic(a)){const f=Ju(a),E=lu(a,t),D=E[nn].data;for(let F=0;F<8;F++)t[l+F]=E[f+F]|D[f+F]}return t[l+8]=a,l}function Jo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function nc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=mh(a),null===o)return Ys;if(r++,a=a[Sn],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Ys}function gu(e,t,r){!function Ff(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(X)&&(o=r[X]),null==o&&(o=r[X]=fu++);const a=o&jc;t.data[e+(a>>hu)]|=1<<a}(e,t,r)}function Ha(e,t,r){if(r&Fn.Optional||void 0!==e)return e;gr()}function Tc(e,t,r,o){if(r&Fn.Optional&&void 0===o&&(o=null),!(r&(Fn.Self|Fn.Host))){const a=e[R],l=mi(void 0);try{return a?a.get(t,o,r&Fn.Optional):Io(t,o,r&Fn.Optional)}finally{mi(l)}}return Ha(o,0,r)}function Vf(e,t,r,o=Fn.Default,a){if(null!==e){if(2048&t[nr]&&!(o&Fn.Self)){const f=function Yl(e,t,r,o,a){let l=e,f=t;for(;null!==l&&null!==f&&2048&f[nr]&&!L(f);){const E=$c(l,f,r,o|Fn.Self,Na);if(E!==Na)return E;let D=l.parent;if(!D){const F=f[Sa];if(F){const z=F.get(r,Na,o);if(z!==Na)return z}D=mh(f),f=f[Sn]}l=D}return a}(e,t,r,o,Na);if(f!==Na)return f}const l=$c(e,t,r,o,Na);if(l!==Na)return l}return Tc(t,r,o,a)}function $c(e,t,r,o,a){const l=function ic(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(X)?e[X]:void 0;return"number"==typeof t?t>=0?t&jc:bg:t}(r);if("function"==typeof l){if(!jl(t,e,o))return o&Fn.Host?Ha(a,0,o):Tc(t,r,o,a);try{let f;if(f=l(o),null!=f||o&Fn.Optional)return f;gr()}finally{Lc()}}else if("number"==typeof l){let f=null,E=hh(e,t),D=Ys,F=o&Fn.Host?t[sr][Wi]:null;for((-1===E||o&Fn.SkipSelf)&&(D=-1===E?nc(e,t):t[E+8],D!==Ys&&ph(o,!1)?(f=t[nn],E=Ju(D),t=lu(D,t)):E=-1);-1!==E;){const z=t[nn];if(Xl(l,E,z.data)){const ee=fh(E,t,r,f,o,F);if(ee!==Na)return ee}D=t[E+8],D!==Ys&&ph(o,t[nn].data[E+8]===F)&&Xl(l,E,t)?(f=z,E=Ju(D),t=lu(D,t)):E=-1}}return a}function fh(e,t,r,o,a,l){const f=t[nn],E=f.data[e+8],z=za(E,f,r,null==o?v(E)&&du:o!=f&&!!(3&E.type),a&Fn.Host&&l===E);return null!==z?rc(t,f,z,E,a):Na}function za(e,t,r,o,a){const l=e.providerIndexes,f=t.data,E=1048575&l,D=e.directiveStart,z=l>>20,De=a?E+z:e.directiveEnd;for(let de=o?E:E+z;de<De;de++){const Ge=f[de];if(de<D&&r===Ge||de>=D&&Ge.type===r)return de}if(a){const de=f[D];if(de&&P(de)&&de.type===r)return D}return null}function rc(e,t,r,o,a){let l=e[r];const f=t.data;if(l instanceof va){const E=l;E.resolving&&oi(function At(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Me(e)}(f[r]));const D=Ql(E.canSeeViewProviders);E.resolving=!0;const z=E.injectImpl?mi(E.injectImpl):null;jl(e,o,Fn.Default);try{l=e[r]=E.factory(void 0,a,f,e,o),t.firstCreatePass&&r>=o.directiveStart&&function Ec(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:l}=t.type.prototype;if(o){const f=Nl(t);(r.preOrderHooks??=[]).push(e,f),(r.preOrderCheckHooks??=[]).push(e,f)}a&&(r.preOrderHooks??=[]).push(0-e,a),l&&((r.preOrderHooks??=[]).push(e,l),(r.preOrderCheckHooks??=[]).push(e,l))}(r,f[r],t)}finally{null!==z&&mi(z),Ql(D),E.resolving=!1,Lc()}}return l}function Xl(e,t,r){return!!(r[t+(e>>hu)]&1<<e)}function ph(e,t){return!(e&Fn.Self||e&Fn.Host&&t)}class Uo{_tNode;_lView;constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Vf(this._tNode,this._lView,t,ss(o),r)}}function bg(){return new Uo(Br(),Nt())}function Zl(e){return Tr(()=>{const t=e.prototype.constructor,r=t[ge]||gh(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const l=a[ge]||gh(a);if(l&&l!==r)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function gh(e){return fr(e)?()=>{const t=gh(_n(e));return t&&t()}:Ts(e)}function mh(e){const t=e[nn],r=t.type;return 2===r?t.declTNode:1===r?e[Wi]:null}function b(e){return function Lf(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const l=r[a];if(uh(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(l===t)return r[a+1];a+=2}}}return null}(Br(),e)}function zc(e,t=null,r=null,o){const a=Jl(e,t,r,o);return a.resolveInjectorInitializers(),a}function Jl(e,t=null,r=null,o,a=new Set){const l=[r||yr,xt(e)];return o=o||("object"==typeof e?void 0:Ue(e)),new mo(l,t||Do(),o||null,a)}class ys{static THROW_IF_NOT_FOUND=rt;static NULL=new ba;static create(t,r){if(Array.isArray(t))return zc({name:""},r,t,"");{const o=t.name??"";return zc({name:o},t.parent,t.providers,o)}}static \u0275prov=Le({token:ys,providedIn:"any",factory:()=>Yr(ra)});static __NG_ELEMENT_ID__=-1}new ve("").__NG_ELEMENT_ID__=e=>{const t=Br();if(null===t)throw new ht(204,!1);if(2&t.type)return t.value;if(e&Fn.Optional)return null;throw new ht(204,!1)};const mu=!1;let Vs=(()=>class e{static __NG_ELEMENT_ID__=Uf;static __NG_ENV_ID__=r=>r})();class yh extends Vs{_lView;constructor(t){super(),this._lView=t}onDestroy(t){const r=this._lView;return _(r)?(t(),()=>{}):(Xa(r,t),()=>function Oc(e,t){if(null===e[21])return;const r=e[21].indexOf(t);-1!==r&&e[21].splice(r,1)}(r,t))}}function Uf(){return new yh(Nt())}class _s{}const Wc=new ve("",{providedIn:"root",factory:()=>!1}),Bf=new ve(""),jf=new ve("");let Gc=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ci.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Le({token:e,providedIn:"root",factory:()=>new e})}return e})(),tl=(()=>{class e{internalPendingTasks=En(Gc);scheduler=En(_s);add(){const r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r))}}run(r){var o=this;return(0,T.A)(function*(){const a=o.add();try{return yield r()}finally{a()}})()}static \u0275prov=Le({token:e,providedIn:"root",factory:()=>new e})}return e})();const sc=class $f extends fn.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,ui()&&(this.destroyRef=En(Vs,{optional:!0})??void 0,this.pendingTasks=En(Gc,{optional:!0})??void 0)}emit(t){const r=we(null);try{super.next(t)}finally{we(r)}}subscribe(t,r,o){let a=t,l=r||(()=>null),f=o;if(t&&"object"==typeof t){const D=t;a=D.next?.bind(D),l=D.error?.bind(D),f=D.complete?.bind(D)}this.__isAsync&&(l=this.wrapInTimeout(l),a&&(a=this.wrapInTimeout(a)),f&&(f=this.wrapInTimeout(f)));const E=super.subscribe({next:a,error:l,complete:f});return t instanceof dr.yU&&t.add(E),E}wrapInTimeout(t){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{try{t(r)}finally{void 0!==o&&this.pendingTasks?.remove(o)}})}}};function nl(...e){}function Gy(e){let t,r;function o(){e=nl;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Cg(e){return queueMicrotask(()=>e()),()=>{e=nl}}const Sg="isAngularZone",Hf=Sg+"_ID";let qy=0;class vo{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new sc(!1);onMicrotaskEmpty=new sc(!1);onStable=new sc(!1);onError=new sc(!1);constructor(t){const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:l=mu}=t;if(typeof Zone>"u")throw new ht(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!a&&o,f.shouldCoalesceRunChangeDetection=a,f.callbackScheduled=!1,f.scheduleInRootZone=l,function AE(e){const t=()=>{!function Qy(e){function t(){Gy(()=>{e.callbackScheduled=!1,zf(e),e.isCheckStableRunning=!0,Pg(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),zf(e))}(e)},r=qy++;e._inner=e._inner.fork({name:"angular",properties:{[Sg]:!0,[Hf]:r,[Hf+r]:!0},onInvokeTask:(o,a,l,f,E,D)=>{if(function Mg(e){return Ng(e,"__ignore_ng_zone__")}(D))return o.invokeTask(l,f,E,D);try{return Xy(e),o.invokeTask(l,f,E,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&t(),rl(e)}},onInvoke:(o,a,l,f,E,D,F)=>{try{return Xy(e),o.invoke(l,f,E,D,F)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Wf(e){return Ng(e,"__scheduler_tick__")}(D)&&t(),rl(e)}},onHasTask:(o,a,l,f)=>{o.hasTask(l,f),a===l&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,zf(e),Pg(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,a,l,f)=>(o.handleError(l,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Sg)}static assertInAngularZone(){if(!vo.isInAngularZone())throw new ht(909,!1)}static assertNotInAngularZone(){if(vo.isInAngularZone())throw new ht(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const l=this._inner,f=l.scheduleEventTask("NgZoneEvent: "+a,t,Rg,nl,nl);try{return l.runTask(f,r,o)}finally{l.cancelTask(f)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const Rg={};function Pg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function zf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Xy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function rl(e){e._nesting--,Pg(e)}class yu{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new sc;onMicrotaskEmpty=new sc;onStable=new sc;onError=new sc;run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function Ng(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class ac{_console=console;handleError(t){this._console.error("ERROR",t)}}const CE=new ve("",{providedIn:"root",factory:()=>{const e=En(vo),t=En(ac);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function kg(e,t){return pi(e,t)}const e_=(kg.required=function Jy(e){return pi(Xt,e)},kg);function t_(){return il(Br(),Nt())}function il(e,t){return new ol(to(e,t))}let ol=(()=>class e{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=t_})();function cc(e){return e instanceof ol?e.nativeElement:e}function Kc(e,t){const r=function he(e,t){const r=Object.create(Xe);r.value=e,void 0!==t&&(r.equal=t);const o=()=>(lt(r),r.value);return o[nt]=r,o}(e,t?.equal),o=r[nt];return r.set=a=>me(o,a),r.update=a=>function oe(e,t){Ht()||kt(e),me(e,t(e.value))}(o,a),r.asReadonly=ed.bind(r),r}function ed(){const e=this[nt];if(void 0===e.readonlyFn){const t=()=>this();t[nt]=e,e.readonlyFn=t}return e.readonlyFn}function qf(e){return function _h(e){return"function"==typeof e&&void 0!==e[nt]}(e)&&"function"==typeof e.set}function xg(){return this._results[Symbol.iterator]()}class n_{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new fn.B}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function co(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Wr(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o];if(r&&(a=r(a),l=r(l)),l!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=xg}function sl(e){return!(128&~e.flags)}var Xf=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Xf||{});const Zf=new Map;let Js=0;function cl(e){Zf.delete(e[qs])}const Lg="__ngContext__";function Ea(e,t){Ki(t)?(e[Lg]=t[qs],function o_(e){Zf.set(e[qs],e)}(t)):e[Lg]=t}function Qc(e){return l_(e[Ce])}function jg(e){return l_(e[$o])}function l_(e){for(;null!==e&&!Mi(e);)e=e[$o];return e}let ip;function NE(e){ip=e}function Wa(){if(void 0!==ip)return ip;if(typeof document<"u")return document;throw new ht(210,!1)}const _u=new ve("",{providedIn:"root",factory:()=>Gg}),Gg="ng",Kg=new ve(""),qg=new ve("",{providedIn:"platform",factory:()=>"unknown"}),Qg=new ve(""),p_=new ve("",{providedIn:"root",factory:()=>Wa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),m_=new ve("",{providedIn:"root",factory:()=>!1});var sm=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(sm||{});const ud=new ve(""),y_=new Set;function Ia(e){y_.has(e)||(y_.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let cp=(()=>class e{view;node;constructor(r,o){this.view=r,this.node=o}static __NG_ELEMENT_ID__=am})();function am(){return new cp(Nt(),Br())}var hl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(hl||{});let Sh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Le({token:e,providedIn:"root",factory:()=>new e})}return e})();const up=[hl.EarlyRead,hl.Write,hl.MixedReadWrite,hl.Read];let lp=(()=>{class e{ngZone=En(vo);scheduler=En(_s);errorHandler=En(ac,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){En(ud,{optional:!0})}execute(){const r=this.sequences.size>0;r&&br(16),this.executing=!0;for(const o of up)for(const a of this.sequences)if(!a.erroredOrDestroyed&&a.hooks[o])try{a.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,a.hooks[o])(a.pipelinedValue),a.snapshot))}catch(l){a.erroredOrDestroyed=!0,this.errorHandler?.handleError(l)}this.executing=!1;for(const o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(const o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&br(17)}register(r){const{view:o}=r;void 0!==o?((o[25]??=[]).push(r),mc(o),o[nr]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,o){return o?o.run(sm.AFTER_NEXT_RENDER,r):r()}static \u0275prov=Le({token:e,providedIn:"root",factory:()=>new e})}return e})();class v_{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,r,o,a,l,f=null){this.impl=t,this.hooks=r,this.view=o,this.once=a,this.snapshot=f,this.unregisterOnDestroy=l?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(r=>r!==this))}}function cm(e,t){!t?.injector&&Oo();const r=t?.injector??En(ys);return Ia("NgAfterNextRender"),function E_(e,t,r,o){const a=t.get(Sh);a.impl??=t.get(lp);const l=t.get(ud,null,{optional:!0}),f=r?.phase??hl.MixedReadWrite,E=!0!==r?.manualCleanup?t.get(Vs):null,D=t.get(cp,null,{optional:!0}),F=new v_(a.impl,function um(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,f),D?.view,o,E,l?.snapshot(null));return a.impl.register(F),F}(e,r,t,!0)}let Fh=(e,t,r,o)=>{};function XE(e,t){const r=e.contentQueries;if(null!==r){const o=we(null);try{for(let a=0;a<r.length;a+=2){const f=r[a+1];if(-1!==f){const E=e.data[f];Bl(r[a]),E.contentQueries(2,t[f],f)}}}finally{we(o)}}}function H_(e,t,r){Bl(0);const o=we(null);try{t(e,r)}finally{we(o)}}function $h(e,t,r){if(G(t)){const o=we(null);try{const l=t.directiveEnd;for(let f=t.directiveStart;f<l;f++){const E=e.data[f];E.contentQueries&&E.contentQueries(1,r[f],f)}}finally{we(o)}}}var Cc=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Cc||{});let Rm,Pm;function Hh(e){return function ZE(){if(void 0===Rm&&(Rm=null,Cn.trustedTypes))try{Rm=Cn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Rm}()?.createHTML(e)||e}function z_(){if(void 0===Pm&&(Pm=null,Cn.trustedTypes))try{Pm=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pm}function YE(e){return z_()?.createHTML(e)||e}function W_(e){return z_()?.createScriptURL(e)||e}class ka{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nr})`}}class pl extends ka{getTypeName(){return"HTML"}}class ET extends ka{getTypeName(){return"Style"}}class Id extends ka{getTypeName(){return"Script"}}class Mm extends ka{getTypeName(){return"URL"}}class Ip extends ka{getTypeName(){return"ResourceURL"}}function Yc(e){return e instanceof ka?e.changingThisBreaksApplicationSecurity:e}function Td(e,t){const r=function G_(e){return e instanceof ka&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Nr})`)}return r===t}function K_(e){return new pl(e)}function Tp(e){return new ET(e)}function JE(e){return new Id(e)}function gl(e){return new Mm(e)}function bp(e){return new Ip(e)}class q_{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Hh(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.firstChild?.remove(),r)}catch{return null}}}class Nm{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Hh(t),r}}const xm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dd(e){return(e=String(e)).match(xm)?e:"unsafe:"+e}function hc(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function ml(...e){const t={};for(const r of e)for(const o in r)r.hasOwnProperty(o)&&(t[o]=!0);return t}const Om=hc("area,br,col,hr,img,wbr"),bu=hc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fm=hc("rp,rt"),Lm=ml(Om,ml(bu,hc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ml(Fm,hc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ml(Fm,bu)),Ad=hc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cd=ml(Ad,hc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nw=hc("script,style,template");class Ap{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let r=t.firstChild,o=!0,a=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?o=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,o&&r.firstChild)a.push(r),r=zh(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let l=Um(r);if(l){r=l;break}r=a.pop()}return this.buf.join("")}startElement(t){const r=Z_(t).toLowerCase();if(!Lm.hasOwnProperty(r))return this.sanitizedSomething=!0,!nw.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const o=t.attributes;for(let a=0;a<o.length;a++){const l=o.item(a),f=l.name,E=f.toLowerCase();if(!Cd.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=l.value;Ad[E]&&(D=Dd(D)),this.buf.push(" ",f,'="',iw(D),'"')}return this.buf.push(">"),!0}endElement(t){const r=Z_(t).toLowerCase();Lm.hasOwnProperty(r)&&!Om.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(iw(t))}}function Um(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw Sd(t);return t}function zh(e){const t=e.firstChild;if(t&&function X_(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw Sd(t);return t}function Z_(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function Sd(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const rw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rd=/([^\#-~ |!])/g;function iw(e){return e.replace(/&/g,"&amp;").replace(rw,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Rd,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bm;function Cp(e,t){let r=null;try{Bm=Bm||function bd(e){const t=new Nm(e);return function km(){try{return!!(new window.DOMParser).parseFromString(Hh(""),"text/html")}catch{return!1}}()?new q_(t):t}(e);let o=t?String(t):"";r=Bm.getInertBodyElement(o);let a=5,l=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=l,l=r.innerHTML,r=Bm.getInertBodyElement(o)}while(o!==l);return Hh((new Ap).sanitizeChildren(Y_(r)||r))}finally{if(r){const o=Y_(r)||r;for(;o.firstChild;)o.firstChild.remove()}}}function Y_(e){return"content"in e&&function Sp(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Pd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Pd||{});function ow(e){const t=Md();return t?YE(t.sanitize(Pd.HTML,e)||""):Td(e,"HTML")?YE(Yc(e)):Cp(Wa(),Me(e))}function J_(e){const t=Md();return t?t.sanitize(Pd.URL,e)||"":Td(e,"URL")?Yc(e):Dd(Me(e))}function sw(e){const t=Md();if(t)return W_(t.sanitize(Pd.RESOURCE_URL,e)||"");if(Td(e,"ResourceURL"))return W_(Yc(e));throw new ht(904,!1)}function jm(e,t,r){return function ev(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?sw:J_}(t,r)(e)}function Md(){const e=Nt();return e&&e[M].sanitizer}const tv=/^>|^->|<!--|-->|--!>|<!-$/g,Mp=/(<|>)/g;function Jc(e){return e instanceof Function?e():e}function xT(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const l=t.length;if(a+l===o||e.charCodeAt(a+l)<=32)return a}r=a+1}}const sv="ng-template";function yw(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==xT(t[a+1].toLowerCase(),r,0))return!0}else if(Hm(e))return!1;if(a=t.indexOf(1,a),a>-1){let l;for(;++a<t.length&&"string"==typeof(l=t[a]);)if(l.toLowerCase()===r)return!0}return!1}function Hm(e){return 4===e.type&&e.value!==sv}function OT(e,t,r){return t===(4!==e.type||r?e.value:sv)}function _w(e,t,r){let o=4;const a=e.attrs,l=null!==a?function FT(e){for(let t=0;t<e.length;t++)if(uh(e[t]))return t;return e.length}(a):0;let f=!1;for(let E=0;E<t.length;E++){const D=t[E];if("number"!=typeof D){if(!f)if(4&o){if(o=2|1&o,""!==D&&!OT(e,D,r)||""===D&&1===t.length){if(fc(o))return!1;f=!0}}else if(8&o){if(null===a||!yw(e,a,D,r)){if(fc(o))return!1;f=!0}}else{const F=t[++E],z=Au(D,a,Hm(e),r);if(-1===z){if(fc(o))return!1;f=!0;continue}if(""!==F){let ee;if(ee=z>l?"":a[z+1].toLowerCase(),2&o&&F!==ee){if(fc(o))return!1;f=!0}}}}else{if(!f&&!fc(o)&&!fc(D))return!1;if(f&&fc(D))continue;f=!1,o=D|1&o}}return fc(o)||f}function fc(e){return!(1&e)}function Au(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let l=!1;for(;a<t.length;){const f=t[a];if(f===e)return a;if(3===f||6===f)l=!0;else{if(1===f||2===f){let E=t[++a];for(;"string"==typeof E;)E=t[++a];continue}if(4===f)break;if(0===f){a+=4;continue}}a+=l?1:2}return-1}return function LT(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function av(e,t,r=!1){for(let o=0;o<t.length;o++)if(_w(e,t[o],r))return!0;return!1}function Ew(e,t){return e?":not("+t.trim()+")":t}function UT(e){let t=e[0],r=1,o=2,a="",l=!1;for(;r<e.length;){let f=e[r];if("string"==typeof f)if(2&o){const E=e[++r];a+="["+f+(E.length>0?'="'+E+'"':"")+"]"}else 8&o?a+="."+f:4&o&&(a+=" "+f);else""!==a&&!fc(f)&&(t+=Ew(l,a),a=""),o=f,l=l||!fc(o);r++}return""!==a&&(t+=Ew(l,a)),t}const jr={};function Wm(e,t){return e.createComment(function lw(e){return e.replace(tv,t=>t.replace(Mp,"\u200b$1\u200b"))}(t))}function Gm(e,t,r){return e.createElement(t,r)}function Od(e,t,r,o,a){e.insertBefore(t,r,o,a)}function ww(e,t,r){e.appendChild(t,r)}function Iw(e,t,r,o,a){null!==o?Od(e,t,r,o,a):ww(e,t,r)}function Tw(e,t,r){const{mergedAttrs:o,classes:a,styles:l}=r;null!==o&&function ch(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const l=r[o++],f=r[o++],E=r[o++];e.setAttribute(t,f,E,l)}else{const l=a,f=r[++o];ql(l)?e.setProperty(t,l,f):e.setAttribute(t,l,f),o++}}}(e,t,o),null!==a&&function HT(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}(e,t,a),null!==l&&function $T(e,t,r){e.setAttribute(t,"style",r)}(e,t,l)}function Gh(e,t,r,o,a,l,f,E,D,F,z){const ee=Nn+o,De=ee+a,de=function kp(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:jr);return r}(ee,De),Ge="function"==typeof F?F():F;return de[nn]={type:e,blueprint:de,template:r,queries:null,viewQuery:E,declTNode:t,data:de.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:De,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:D,consts:Ge,incompleteFirstPass:!1,ssrId:z}}function n(e,t,r,o,a,l,f,E,D,F,z){const ee=t.blueprint.slice();return ee[Gr]=a,ee[nr]=1228|o,(null!==F||e&&2048&e[nr])&&(ee[nr]|=2048),zu(ee),ee[li]=ee[Sn]=e,ee[Ur]=r,ee[M]=f||e&&e[M],ee[H]=E||e&&e[H],ee[R]=D||e&&e[R]||null,ee[Wi]=l,ee[qs]=function SE(){return Js++}(),ee[Qo]=z,ee[Sa]=F,ee[sr]=2==t.type?e[sr]:ee,ee}function s(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function u(e,t,r,o){if(0===r)return-1;const a=t.length;for(let l=0;l<r;l++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function h(e,t){return e[Ce]?e[Ft][$o]=t:e[Ce]=t,e[Ft]=t,t}function y(e=1){S(vr(),Nt(),Cs()+e,!1)}function S(e,t,r,o){if(!o)if(3&~t[nr]){const l=e.preOrderHooks;null!==l&&Qu(t,l,0,r)}else{const l=e.preOrderCheckHooks;null!==l&&Gl(t,l,r)}Ja(r)}var N=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(N||{});function V(e,t,r,o){const a=we(null);try{const[l,f,E]=e.inputs[r];let D=null;!!(f&N.SignalBased)&&(D=t[l][nt]),null!==D&&void 0!==D.transformFn?o=D.transformFn(o):null!==E&&(o=E.call(t,o)),null!==e.setInput?e.setInput(t,D,o,r,l):oa(t,D,l,o)}finally{we(a)}}function J(e,t,r,o,a){const l=Cs(),f=2&o;try{Ja(-1),f&&t.length>Nn&&S(e,t,Nn,!1),br(f?2:0,a),r(o,a)}finally{Ja(l),br(f?3:1,a)}}function ce(e,t,r){(function st(e,t,r){const o=r.directiveStart,a=r.directiveEnd;v(r)&&function i(e,t,r){const o=to(t,e),a=function c(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(r),l=e[M].rendererFactory,f=h(e,n(e,a,null,s(r),o,t,null,l.createRenderer(o,r),null,null,null));e[t.index]=f}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||pu(r,t);const l=r.initialInputs;for(let f=o;f<a;f++){const E=e.data[f],D=rc(t,e,f,r);Ea(D,t),null!==l&&$e(0,f-o,D,E,0,l),P(E)&&(Ps(r.index,t)[Ur]=rc(t,e,f,r))}})(e,t,r),!(64&~r.flags)&&function xe(e,t,r){const o=r.directiveStart,a=r.directiveEnd,l=r.index,f=function vc(){return Ir.lFrame.currentDirectiveIndex}();try{Ja(l);for(let E=o;E<a;E++){const D=e.data[E],F=t[E];Ba(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&He(D,F)}}finally{Ja(-1),Ba(f)}}(e,t,r)}function Fe(e,t,r=to){const o=t.localNames;if(null!==o){let a=t.index+1;for(let l=0;l<o.length;l+=2){const f=o[l+1],E=-1===f?r(t,e):e[f];e[a++]=E}}}let dn=()=>null;function kn(e,t,r,o,a,l,f,E){if(E||!vl(t,e,r,o,a)){if(3&t.type){const D=to(t,r);o=function rr(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=f?f(a,t.value||"",o):a,l.setProperty(D,o,a)}}else v(t)&&function Fr(e,t){const r=Ps(t,e);16&r[nr]||(r[nr]|=64)}(r,t.index)}function He(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function at(e,t){const r=e.directiveRegistry;let o=null;if(r)for(let a=0;a<r.length;a++){const l=r[a];av(t,l.selectors,!1)&&(o??=[],P(l)?o.unshift(l):o.push(l))}return o}function ut(e,t,r,o,a,l){const f=to(e,t);!function Ct(e,t,r,o,a,l,f){if(null==l)e.removeAttribute(t,a,r);else{const E=null==f?Me(l):f(l,o||"",a);e.setAttribute(t,a,E,r)}}(t[H],f,l,e.value,r,o,a)}function $e(e,t,r,o,a,l){const f=l[t];if(null!==f)for(let E=0;E<f.length;E+=2)V(o,r,f[E],f[E+1])}function Ld(e,t,r){return(null===e||P(e))&&(r=function su(e){for(;Array.isArray(e);){if("object"==typeof e[Qs])return e;e=e[Gr]}return null}(r[t.index])),r[H]}function vl(e,t,r,o,a){const l=e.inputs?.[o],f=e.hostDirectiveInputs?.[o];let E=!1;if(f)for(let D=0;D<f.length;D+=2){const F=f[D];V(t.data[F],r[F],f[D+1],a),E=!0}if(l)for(const D of l)V(t.data[D],r[D],o,a),E=!0;return E}function Kh(e,t){const r=Ps(t,e),o=r[nn];!function Qm(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[Gr];null!==a&&null===r[Qo]&&(r[Qo]=null),br(18),qh(o,r,r[Ur]),br(19,r[Ur])}function qh(e,t,r){$l(t);try{const o=e.viewQuery;null!==o&&H_(1,o,r);const a=e.template;null!==a&&J(e,t,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ao]?.finishViewCreation(e),e.staticContentQueries&&XE(e,t),e.staticViewQueries&&H_(2,e.viewQuery,r);const l=e.components;null!==l&&function bw(e,t){for(let r=0;r<t.length;r++)Kh(e,t[r])}(t,l)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[nr]&=-5,Ya()}}function ts(e,t){return!t||null===t.firstChild||sl(e)}function El(e,t){return undefined(e,t)}var Su=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Su||{});function Ru(e){return!(32&~e.flags)}function Vd(e,t,r,o,a){if(null!=o){let l,f=!1;Mi(o)?l=o:Ki(o)&&(f=!0,o=o[Gr]);const E=ni(o);0===e&&null!==r?null==a?ww(t,r,E):Od(t,r,E,a||null,!0):1===e&&null!==r?Od(t,r,E,a||null,!0):2===e?function Fd(e,t,r){e.removeChild(null,t,r)}(t,E,f):3===e&&t.destroyNode(E),null!=l&&function dv(e,t,r,o,a){const l=r[7];l!==ni(r)&&Vd(t,e,o,l,a);for(let E=$i;E<r.length;E++){const D=r[E];Yh(D[nn],D,e,t,o,l)}}(t,e,l,r,a)}}function Op(e,t){t[M].changeDetectionScheduler?.notify(9),Yh(e,t,t[H],2,null,null)}function Xh(e,t){const r=e[Pa],o=r.indexOf(t);r.splice(o,1)}function wl(e,t){if(_(t))return;const r=t[H];r.destroyNode&&Yh(e,t,r,3,null,null),function Zm(e){let t=e[Ce];if(!t)return Fp(e[nn],e);for(;t;){let r=null;if(Ki(t))r=t[Ce];else{const o=t[$i];o&&(r=o)}if(!r){for(;t&&!t[$o]&&t!==e;)Ki(t)&&Fp(t[nn],t),t=t[li];null===t&&(t=e),Ki(t)&&Fp(t[nn],t),r=t&&t[$o]}t=r}}(t)}function Fp(e,t){if(_(t))return;const r=we(null);try{t[nr]&=-129,t[nr]|=256,t[24]&&ke(t[24]),function Aw(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof va)){const l=r[o+1];if(Array.isArray(l))for(let f=0;f<l.length;f+=2){const E=a[l[f]],D=l[f+1];br(4,E,D);try{D.call(E)}finally{br(5,E,D)}}else{br(4,a,l);try{l.call(a)}finally{br(5,a,l)}}}}}(e,t),function uv(e,t){const r=e.cleanup,o=t[fs];if(null!==r)for(let f=0;f<r.length-1;f+=2)if("string"==typeof r[f]){const E=r[f+3];E>=0?o[E]():o[-E].unsubscribe(),f+=2}else r[f].call(o[r[f+1]]);null!==o&&(t[fs]=null);const a=t[21];if(null!==a){t[21]=null;for(let f=0;f<a.length;f++)(0,a[f])()}const l=t[23];if(null!==l){t[23]=null;for(const f of l)f.destroy()}}(e,t),1===t[nn].type&&t[H].destroy();const o=t[ji];if(null!==o&&Mi(t[li])){o!==t[li]&&Xh(o,t);const a=t[Ao];null!==a&&a.detachView(e)}cl(t)}finally{we(r)}}function Lp(e,t,r){return function Ym(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[Gr];if(v(o)){const{encapsulation:a}=e.data[o.directiveStart+o.componentOffset];if(a===Cc.None||a===Cc.Emulated)return null}return to(o,r)}(e,t.parent,r)}let Zh,lv=function Jm(e,t,r){return 40&e.type?to(e,r):null};function Ud(e,t,r,o){const a=Lp(e,o,t),l=t[H],E=function Vp(e,t,r){return lv(e,t,r)}(o.parent||t[Wi],o,t);if(null!=a)if(Array.isArray(r))for(let D=0;D<r.length;D++)Iw(l,a,r[D],E,!1);else Iw(l,a,r,E,!1);void 0!==Zh&&Zh(l,o,t,r,a)}function ns(e,t){if(null!==t){const r=t.type;if(3&r)return to(t,e);if(4&r)return Bd(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return ns(e,o);{const a=e[t.index];return Mi(a)?Bd(-1,a):ni(a)}}if(128&r)return ns(e,t.next);if(32&r)return El(t,e)()||ni(e[t.index]);{const o=ea(e,t);return null!==o?Array.isArray(o)?o[0]:ns(aa(e[sr]),o):ns(e,t.next)}}return null}function ea(e,t){return null!==t?e[sr][Wi].projection[t.projection]:null}function Bd(e,t){const r=$i+e+1;if(r<t.length){const o=t[r],a=o[nn].firstChild;if(null!==a)return ns(o,a)}return t[7]}function Bp(e,t,r,o,a,l,f){for(;null!=r;){if(128===r.type){r=r.next;continue}const E=o[r.index],D=r.type;if(f&&0===t&&(E&&Ea(ni(E),o),r.flags|=2),!Ru(r))if(8&D)Bp(e,t,r.child,o,a,l,!1),Vd(t,e,a,E,l);else if(32&D){const F=El(r,o);let z;for(;z=F();)Vd(t,e,a,z,l);Vd(t,e,a,E,l)}else 16&D?jd(e,t,o,r,a,l):Vd(t,e,a,E,l);r=f?r.projectionNext:r.next}}function Yh(e,t,r,o,a,l){Bp(r,o,e.firstChild,t,a,l,!1)}function jd(e,t,r,o,a,l){const f=r[sr],D=f[Wi].projection[o.projection];if(Array.isArray(D))for(let F=0;F<D.length;F++)Vd(t,e,a,D[F],l);else{let F=D;const z=f[li];sl(o)&&(F.flags|=128),Bp(e,t,F,z,a,l,!0)}}function Pu(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const l=t[r.index];null!==l&&o.push(ni(l)),Mi(l)&&ey(l,o);const f=r.type;if(8&f)Pu(e,t,r.child,o);else if(32&f){const E=El(r,t);let D;for(;D=E();)o.push(D)}else if(16&f){const E=ea(t,r);if(Array.isArray(E))o.push(...E);else{const D=aa(t[sr]);Pu(D[nn],D,E,o,!0)}}r=a?r.projectionNext:r.next}return o}function ey(e,t){for(let r=$i;r<e.length;r++){const o=e[r],a=o[nn].firstChild;null!==a&&Pu(o[nn],o,a,t)}e[7]!==e[Gr]&&t.push(e[7])}function fv(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let jp=[];const ty={...Ie,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{mc(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},Il={...Ie,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=aa(e.lView);for(;t&&!ry(t[nn]);)t=aa(t);t&&xc(t)},consumerOnSignalRead(){this.lView[24]=this}};function ry(e){return 2!==e.type}function ef(e){if(null===e[23])return;let t=!0;for(;t;){let r=!1;for(const o of e[23])o.dirty&&(r=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));t=r&&!!(8192&e[nr])}}function Mu(e,t=!0,r=0){const a=e[M].rendererFactory;a.begin?.();try{!function yv(e,t){const r=wg();try{Fc(!0),Nu(e,t);let o=0;for(;au(e);){if(100===o)throw new ht(103,!1);o++,Nu(e,1)}}finally{Fc(r)}}(e,r)}catch(f){throw t&&function qm(e,t){const r=e[R],o=r?r.get(ac,null):null;o&&o.handleError(t)}(e,f),f}finally{a.end?.()}}function iy(e,t,r,o){if(_(t))return;const a=t[nr];$l(t);let E=!0,D=null,F=null;ry(e)?(F=function pv(e){return e[24]??function gv(e){const t=jp.pop()??Object.create(ty);return t.lView=e,t}(e)}(t),D=yt(F)):null===function be(){return Y}()?(E=!1,F=function ny(e){const t=e[24]??Object.create(Il);return t.lView=e,t}(t),D=yt(F)):t[24]&&(ke(t[24]),t[24]=null);try{zu(t),function Cf(e){return Ir.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&J(e,t,r,2,o);const z=!(3&~a);if(z){const de=e.preOrderCheckHooks;null!==de&&Gl(t,de,null)}else{const de=e.preOrderHooks;null!==de&&Qu(t,de,0,null),Xu(t,0)}if(function tf(e){for(let t=Qc(e);null!==t;t=jg(t)){if(!(2&t[nr]))continue;const r=t[Pa];for(let o=0;o<r.length;o++)xc(r[o])}}(t),ef(t),$d(t,0),null!==e.contentQueries&&XE(e,t),z){const de=e.contentCheckHooks;null!==de&&Gl(t,de)}else{const de=e.contentHooks;null!==de&&Qu(t,de,1),Xu(t,1)}!function Rw(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)Ja(~a);else{const l=a,f=r[++o],E=r[++o];Tg(f,l);const D=t[l];br(24,D),E(2,D),br(25,D)}}}finally{Ja(-1)}}(e,t);const ee=e.components;null!==ee&&vv(t,ee,0);const De=e.viewQuery;if(null!==De&&H_(2,De,o),z){const de=e.viewCheckHooks;null!==de&&Gl(t,de)}else{const de=e.viewHooks;null!==de&&Qu(t,de,2),Xu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const de of t[22])de();t[22]=null}fv(t),t[nr]&=-73}catch(z){throw mc(t),z}finally{null!==F&&(wt(F,D),E&&function Jh(e){e.lView[24]!==e&&(e.lView=null,jp.push(e))}(F)),Ya()}}function $d(e,t){for(let r=Qc(e);null!==r;r=jg(r))for(let o=$i;o<r.length;o++)_v(r[o],t)}function Sw(e,t,r){br(18);const o=Ps(t,e);_v(o,r),br(19,o[Ur])}function _v(e,t){Lo(e)&&Nu(e,t)}function Nu(e,t){const o=e[nn],a=e[nr],l=e[24];let f=!!(0===t&&16&a);if(f||=!!(64&a&&0===t),f||=!!(1024&a),f||=!(!l?.dirty||!St(l)),f||=!1,l&&(l.dirty=!1),e[nr]&=-9217,f)iy(o,e,o.template,e[Ur]);else if(8192&a){ef(e),$d(e,1);const E=o.components;null!==E&&vv(e,E,1),fv(e)}}function vv(e,t,r){for(let o=0;o<t.length;o++)Sw(e,t[o],r)}function ku(e,t){const r=wg()?64:1088;for(e[M].changeDetectionScheduler?.notify(t);e;){e[nr]|=r;const o=aa(e);if(L(e)&&!o)return e;e=o}return null}function oy(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function Hd(e,t){if(e.length<=$i)return;const r=$i+t,o=e[r];if(o){const a=o[ji];null!==a&&a!==e&&Xh(a,o),t>0&&(e[r-1][$o]=o[$o]);const l=bs(e,$i+t);!function Qh(e,t){Op(e,t),t[Gr]=null,t[Wi]=null}(o[nn],o);const f=l[Ao];null!==f&&f.detachView(l[nn]),o[li]=null,o[$o]=null,o[nr]&=-129}return o}function Hp(e,t){const r=e[Pa],o=t[li];(Ki(o)||t[sr]!==o[li][sr])&&(e[nr]|=2),null===r?e[Pa]=[t]:r.push(t)}let Tl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const t=this._lView,r=t[nn];return Pu(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o}get context(){return this._lView[Ur]}set context(t){this._lView[Ur]=t}get destroyed(){return _(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[li];if(Mi(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(Hd(t,o),bs(r,o))}this._attachedToViewContainer=!1}wl(this._lView[nn],this._lView)}onDestroy(t){Xa(this._lView,t)}markForCheck(){ku(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[nr]&=-129}reattach(){ih(this._lView),this._lView[nr]|=128}detectChanges(){this._lView[nr]|=1024,Mu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ht(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=L(this._lView),r=this._lView[ji];null!==r&&!t&&Xh(r,this._lView),Op(this._lView[nn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ht(902,!1);this._appRef=t;const r=L(this._lView),o=this._lView[ji];null!==o&&!r&&Hp(o,this._lView),ih(this._lView)}},nf=(()=>class e{static __NG_ELEMENT_ID__=sy})();const zp=nf,wv=class extends zp{_declarationLView;_declarationTContainer;elementRef;constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=function xa(e,t,r,o){const a=we(null);try{const l=t.tView,D=n(e,l,r,4096&e[nr]?4096:16,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);D[ji]=e[t.index];const z=e[Ao];return null!==z&&(D[Ao]=z.createEmbeddedView(l)),qh(l,D,r),D}finally{we(a)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Tl(a)}};function sy(){return xu(Br(),Nt())}function xu(e,t){return 4&e.type?new wv(t,e,il(e,t)):null}function Mc(e,t,r,o,a){let l=e.data[t];if(null===l)l=function ly(e,t,r,o,a){const l=bf(),f=Ll(),D=e.data[t]=function Fw(e,t,r,o,a,l){let f=t?t.injectorIndex:-1,E=0;return function Ma(){return null!==Ir.skipHydrationRootTNode}()&&(E|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?l:l&&l.parent,r,t,o,a);return function Cv(e,t,r,o){null===e.firstChild&&(e.firstChild=t),null!==r&&(o?null==r.child&&null!==t.parent&&(r.child=t):null===r.next&&(r.next=t,t.prev=r))}(e,D,l,f),D}(e,t,r,o,a),function Ig(){return Ir.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=r,l.value=o,l.attrs=a;const f=function ua(){const e=Ir.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===f?-1:f.injectorIndex}return Xs(l,!0),l}let wC=class{},WT=class{};class IC{resolveComponentFactory(t){throw Error(`No component factory found for ${Ue(t)}.`)}}let vy=class{static NULL=new IC};class Uw{}let TC=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function bC(){const e=Nt(),r=Ps(Br().index,e);return(Ki(r)?r:e)[H]}()})(),DC=(()=>{class e{static \u0275prov=Le({token:e,providedIn:"root",factory:()=>null})}return e})();function hf(e){return!!jo(e)}const jw={};class tg{injector;parentInjector;constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=ss(o);const a=this.injector.get(t,jw,o);return a!==jw||r===jw?a:this.parentInjector.get(t,r,o)}}function $w(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,l=0;if(null!==t)for(let f=0;f<t.length;f++){const E=t[f];"number"==typeof E?l=E:1==l?a=Dr(a,E):2==l&&(o=Dr(o,E+": "+t[++f]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}function ng(e,t=Fn.Default){const r=Nt();return null===r?Yr(e,t):Vf(Br(),r,_n(e),t)}function KT(){throw new Error("invalid")}function Hw(e,t,r,o,a){const l=null===o?null:{"":-1},f=a(e,r);if(null!==f){let E,D=null,F=null;const z=function PC(e){let t=null,r=!1;for(let f=0;f<e.length;f++){const E=e[f];if(0===f&&P(E)&&(t=E),null!==E.findHostDirectiveDefs){r=!0;break}}if(!r)return null;let o=null,a=null,l=null;for(const f of e)null!==f.findHostDirectiveDefs&&(o??=[],a??=new Map,l??=new Map,MC(f,o,l,a)),f===t&&(o??=[],o.push(f));return null!==o?(o.push(...null===t?e:e.slice(1)),[o,a,l]):null}(f);null===z?E=f:[E,D,F]=z,function kC(e,t,r,o,a,l,f){const E=o.length;let D=!1;for(let De=0;De<E;De++){const de=o[De];!D&&P(de)&&(D=!0,NC(e,r,De)),gu(pu(r,t),e,de.type)}!function UC(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,E);for(let De=0;De<E;De++){const de=o[De];de.providersResolver&&de.providersResolver(de)}let F=!1,z=!1,ee=u(e,t,E,null);E>0&&(r.directiveToIndex=new Map);for(let De=0;De<E;De++){const de=o[De];if(r.mergedAttrs=wc(r.mergedAttrs,de.hostAttrs),OC(e,r,t,ee,de),VC(ee,de,a),null!==f&&f.has(de)){const[Ut,hn]=f.get(de);r.directiveToIndex.set(de.type,[ee,Ut+r.directiveStart,hn+r.directiveStart])}else(null===l||!l.has(de))&&r.directiveToIndex.set(de.type,ee);null!==de.contentQueries&&(r.flags|=4),(null!==de.hostBindings||null!==de.hostAttrs||0!==de.hostVars)&&(r.flags|=64);const Ge=de.type.prototype;!F&&(Ge.ngOnChanges||Ge.ngOnInit||Ge.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),F=!0),!z&&(Ge.ngOnChanges||Ge.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),z=!0),ee++}!function xC(e,t,r){for(let o=t.directiveStart;o<t.directiveEnd;o++){const a=e.data[o];if(null!==r&&r.has(a)){const l=r.get(a);QT(0,t,l,o),QT(1,t,l,o),ZT(t,o,!0)}else qT(0,t,a,o),qT(1,t,a,o),ZT(t,o,!1)}}(e,r,l)}(e,t,r,E,l,D,F)}null!==l&&null!==o&&function RC(e,t,r){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const l=r[t[a+1]];if(null==l)throw new ht(-301,!1);o.push(t[a],l)}}(r,o,l)}function MC(e,t,r,o){const a=t.length;e.findHostDirectiveDefs(e,t,o),r.set(e,[a,t.length-1])}function NC(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function qT(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const l in a)if(a.hasOwnProperty(l)){let f;f=0===e?t.inputs??={}:t.outputs??={},f[l]??=[],f[l].push(o),XT(t,l)}}function QT(e,t,r,o){const a=0===e?r.inputs:r.outputs;for(const l in a)if(a.hasOwnProperty(l)){const f=a[l];let E;E=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},E[f]??=[],E[f].push(o,l),XT(t,f)}}function XT(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function ZT(e,t,r){const{attrs:o,inputs:a,hostDirectiveInputs:l}=e;if(null===o||!r&&null===a||r&&null===l||Hm(e))return e.initialInputs??=[],void e.initialInputs.push(null);let f=null,E=0;for(;E<o.length;){const D=o[E];if(0!==D)if(5!==D){if("number"==typeof D)break;if(!r&&a.hasOwnProperty(D)){const F=a[D];for(const z of F)if(z===t){f??=[],f.push(D,o[E+1]);break}}else if(r&&l.hasOwnProperty(D)){const F=l[D];for(let z=0;z<F.length;z+=2)if(F[z]===t){f??=[],f.push(F[z+1],o[E+1]);break}}E+=2}else E+=2;else E+=4}e.initialInputs??=[],e.initialInputs.push(f)}function OC(e,t,r,o,a){e.data[o]=a;const l=a.factory||(a.factory=Ts(a.type)),f=new va(l,P(a),ng);e.blueprint[o]=f,r[o]=f,function FC(e,t,r,o,a){const l=a.hostBindings;if(l){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const E=~t.index;(function LC(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(f)!=E&&f.push(E),f.push(r,o,l)}}(e,t,o,u(e,r,a.hostVars,jr),a)}function VC(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;P(t)&&(r[""]=e)}}function YT(e,t,r,o,a,l,f,E){const D=t.consts,z=Mc(t,e,2,o,sa(D,f));return l&&Hw(t,r,z,sa(D,E),a),z.mergedAttrs=wc(z.mergedAttrs,z.attrs),null!==z.attrs&&$w(z,z.attrs,!1),null!==z.mergedAttrs&&$w(z,z.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,z),z}function JT(e,t){tc(e,t),G(t)&&e.queries.elementEnd(t)}class e0 extends vy{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=_r(t);return new Iy(r,this.ngModule)}}class Iy extends WT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function BC(e){return Object.keys(e).map(t=>{const[r,o,a]=e[t],l={propName:r,templateName:t,isSignal:!!(o&N.SignalBased)};return a&&(l.transform=a),l})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function jC(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function BT(e){return e.map(UT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!r}create(t,r,o,a){br(22);const l=we(null);try{const f=this.componentDef,E=o?["ng-version","19.2.14"]:function jT(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let l=e[o];if("string"==typeof l)2===a?""!==l&&t.push(l,e[++o]):8===a&&r.push(l);else{if(!fc(a))break;a=l}o++}return r.length&&t.push(1,...r),t}(this.componentDef.selectors[0]),D=Gh(0,null,null,1,0,null,null,null,null,[E],null),F=function $C(e,t,r){let o=t instanceof ei?t:t?.injector;return o&&null!==e.getStandaloneInjector&&(o=e.getStandaloneInjector(o)||o),o?new tg(r,o):r}(f,a||this.ngModule,t),z=function HC(e){const t=e.get(Uw,null);if(null===t)throw new ht(407,!1);return{rendererFactory:t,sanitizer:e.get(DC,null),changeDetectionScheduler:e.get(_s,null)}}(F),ee=z.rendererFactory.createRenderer(null,f),De=o?function bt(e,t,r,o){const l=o.get(m_,!1)||r===Cc.ShadowDom,f=e.selectRootElement(t,l);return function zt(e){dn(e)}(f),f}(ee,o,f.encapsulation,F):function zC(e,t){const r=(e.selectors[0][0]||"div").toLowerCase();return Gm(t,r,"svg"===r?Rs:"math"===r?"math":null)}(f,ee),de=n(null,D,null,512|s(f),null,null,z,ee,F,null,null);de[Nn]=De,$l(de);let Ge=null;try{const Ut=YT(Nn,D,de,"#host",()=>[this.componentDef],!0,0);De&&(Tw(ee,De,Ut),Ea(De,de)),ce(D,de,Ut),$h(D,Ut,de),JT(D,Ut),void 0!==r&&function GC(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const l=r[a];o.push(null!=l&&l.length?Array.from(l):null)}}(Ut,this.ngContentSelectors,r),Ge=Ps(Ut.index,de),de[Ur]=Ge[Ur],qh(D,de,null)}catch(Ut){throw null!==Ge&&cl(Ge),cl(de),Ut}finally{br(23),Ya()}return new WC(this.componentType,de)}finally{we(l)}}}class WC extends wC{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,r){super(),this._rootLView=r,this._tNode=Ls(r[nn],Nn),this.location=il(this._tNode,r),this.instance=Ps(this._tNode.index,r)[Ur],this.hostView=this.changeDetectorRef=new Tl(r,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const a=this._rootLView;vl(o,a[nn],a,t,r),this.previousInputValues.set(t,r),ku(Ps(o.index,a),1)}get injector(){return new Uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Xv=(()=>class e{static __NG_ELEMENT_ID__=KC})();function KC(){return r0(Br(),Nt())}const qC=Xv,t0=class extends qC{_lContainer;_hostTNode;_hostLView;constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return il(this._hostTNode,this._hostLView)}get injector(){return new Uo(this._hostTNode,this._hostLView)}get parentInjector(){const t=nc(this._hostTNode,this._hostLView);if(Ic(t)){const r=lu(t,this._hostLView),o=Ju(t);return new Uo(r[nn].data[o+8],r)}return new Uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=n0(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-$i}createEmbeddedView(t,r,o){let a,l;"number"==typeof o?a=o:null!=o&&(a=o.index,l=o.injector);const E=t.createEmbeddedViewImpl(r||{},l,null);return this.insertImpl(E,a,ts(this._hostTNode,null)),E}createComponent(t,r,o,a,l){const f=t&&!function Vr(e){return"function"==typeof e}(t);let E;if(f)E=r;else{const Ge=r||{};E=Ge.index,o=Ge.injector,a=Ge.projectableNodes,l=Ge.environmentInjector||Ge.ngModuleRef}const D=f?t:new Iy(_r(t)),F=o||this.parentInjector;if(!l&&null==D.ngModule){const Ut=(f?F:this.parentInjector).get(ei,null);Ut&&(l=Ut)}_r(D.componentType??{});const de=D.create(F,a,null,l);return this.insertImpl(de.hostView,E,ts(this._hostTNode,null)),de}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function fi(e){return Mi(e[li])}(a)){const E=this.indexOf(t);if(-1!==E)this.detach(E);else{const D=a[li],F=new t0(D,D[Wi],D[li]);F.detach(F.indexOf(t))}}const l=this._adjustIndex(r),f=this._lContainer;return function eu(e,t,r,o=!0){const a=t[nn];if(function Ev(e,t,r,o){const a=$i+o,l=r.length;o>0&&(r[a-1][$o]=t),o<l-$i?(t[$o]=r[a],Xr(r,$i+o,t)):(r.push(t),t[$o]=null),t[li]=r;const f=t[ji];null!==f&&r!==f&&Hp(f,t);const E=t[Ao];null!==E&&E.insertView(e),ih(t),t[nr]|=128}(a,t,e,r),o){const f=Bd(r,e),E=t[H],D=E.parentNode(e[7]);null!==D&&function xp(e,t,r,o,a,l){o[Gr]=a,o[Wi]=t,Yh(e,o,r,1,a,l)}(a,e[Wi],E,t,D,f)}const l=t[Qo];null!==l&&null!==l.firstChild&&(l.firstChild=null)}(f,a,l,o),t.attachToViewContainerRef(),Xr(zw(f),l,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=n0(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=Hd(this._lContainer,r);o&&(bs(zw(this._lContainer),r),wl(o[nn],o))}detach(t){const r=this._adjustIndex(t,-1),o=Hd(this._lContainer,r);return o&&null!=bs(zw(this._lContainer),r)?new Tl(o):null}_adjustIndex(t,r=0){return t??this.length+r}};function n0(e){return e[8]}function zw(e){return e[8]||(e[8]=[])}function r0(e,t){let r;const o=t[e.index];return Mi(o)?r=o:(r=oy(o,t,null,e),t[e.index]=r,h(t,r)),o0(r,t,e,o),new t0(r,e,t)}let o0=function a0(e,t,r,o){if(e[7])return;let a;a=8&r.type?ni(o):function QC(e,t){const r=e[H],o=r.createComment(""),a=to(t,e),l=r.parentNode(a);return Od(r,l,o,r.nextSibling(a),!1),o}(t,r),e[7]=a},Ww=()=>!1;class Gw{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Gw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kw{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let l=0;l<o;l++){const f=r.getByIndex(l);a.push(this.queries[f.indexInDeclarationView].clone())}return new Kw(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==Yw(t,r).matches&&this.queries[r].setDirty()}}class c0{flags;read;predicate;constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function rS(e){return e.split(",").map(t=>t.trim())}(t):t}}class qw{queries;constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,l=this.getByIndex(o).embeddedTView(t,a);l&&(l.indexInDeclarationView=o,null!==r?r.push(l):r=[l])}return null!==r?new qw(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Qw{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,r=-1){this.metadata=t,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Qw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const l=o[a];this.matchTNodeWithReadOption(t,r,JC(r,l)),this.matchTNodeWithReadOption(t,r,za(r,t,l,!1,!1))}else o===nf?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,za(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===ol||a===Xv||a===nf&&4&r.type)this.addMatch(r.index,-2);else{const l=za(r,t,a,!1,!1);null!==l&&this.addMatch(r.index,l)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function JC(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function tS(e,t,r,o){return-1===r?function eS(e,t){return 11&e.type?il(e,t):4&e.type?xu(e,t):null}(t,e):-2===r?function nS(e,t,r){return r===ol?il(t,e):r===nf?xu(t,e):r===Xv?r0(t,e):void 0}(e,t,o):rc(e,e[nn],r,t)}function u0(e,t,r,o){const a=t[Ao].queries[o];if(null===a.matches){const l=e.data,f=r.matches,E=[];for(let D=0;null!==f&&D<f.length;D+=2){const F=f[D];E.push(F<0?null:tS(t,l[F],f[D+1],r.metadata.read))}a.matches=E}return a.matches}function Xw(e,t,r,o){const a=e.queries.getByIndex(r),l=a.matches;if(null!==l){const f=u0(e,t,a,r);for(let E=0;E<l.length;E+=2){const D=l[E];if(D>0)o.push(f[E/2]);else{const F=l[E+1],z=t[-D];for(let ee=$i;ee<z.length;ee++){const De=z[ee];De[ji]===De[li]&&Xw(De[nn],De,F,o)}if(null!==z[Pa]){const ee=z[Pa];for(let De=0;De<ee.length;De++){const de=ee[De];Xw(de[nn],de,F,o)}}}}}return o}function h0(e,t,r,o){const a=vr();if(a.firstCreatePass){const l=Br();(function f0(e,t,r){null===e.queries&&(e.queries=new qw),e.queries.track(new Qw(t,r))})(a,new c0(t,r,o),l.index),function iS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return function l0(e,t,r){const o=new n_(!(4&~r));return function If(e,t,r,o){const a=yc(t);a.push(r),e.firstCreatePass&&kl(e).push(o,a.length-1)}(e,t,o,o.destroy),(t[Ao]??=new Kw).queries.push(new Gw(o))-1}(a,Nt(),r)}function Yw(e,t){return e.queries.getByIndex(t)}function p0(e,t){const r=e[nn],o=Yw(r,t);return o.crossesNgTemplate?Xw(r,e,t,[]):u0(r,e,o,t)}let ff=class{},D0=class{};function pS(e,t){return new tI(e,t??null,[])}class tI extends ff{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new e0(this);constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r;const l=jo(t);this._bootstrapComponents=Jc(l.bootstrap),this._r3Injector=Jl(t,r,[{provide:ff,useValue:this},{provide:vy,useValue:this.componentFactoryResolver},...o],Ue(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class nI extends D0{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new tI(this.moduleType,t,[])}}class A0 extends ff{injector;componentFactoryResolver=new e0(this);instance=null;constructor(t){super();const r=new mo([...t.providers,{provide:ff,useValue:this},{provide:vy,useValue:this.componentFactoryResolver}],t.parent||Do(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rI(e,t,r=null){return new A0({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let mS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Qt(0,r.type),a=o.length>0?rI([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Le({token:e,providedIn:"environment",factory:()=>new e(Yr(ei))})}return e})();function C0(e){return Tr(()=>{const t=P0(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Xf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?a=>a.get(mS).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Cc.Emulated,styles:e.styles||yr,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&Ia("NgStandalone"),M0(r);const o=e.dependencies;return r.directiveDefs=Zv(o,!1),r.pipeDefs=Zv(o,!0),r.id=function IS(e){let t=0;const o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const l of o.join("|"))t=Math.imul(31,t)+l.charCodeAt(0)|0;return t+=2147483648,"c"+t}(r),r})}function yS(e){return _r(e)||q(e)}function _S(e){return null!==e}function iI(e){return Tr(()=>({type:e.type,bootstrap:e.bootstrap||yr,declarations:e.declarations||yr,imports:e.imports||yr,exports:e.exports||yr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function vS(e,t){if(null==e)return Or;const r={};for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];let l,f,E,D;Array.isArray(a)?(E=a[0],l=a[1],f=a[2]??l,D=a[3]||null):(l=a,f=a,E=N.None,D=null),r[l]=[o,E,D],t[l]=f}return r}function ES(e){if(null==e)return Or;const t={};for(const r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function S0(e){return Tr(()=>{const t=P0(e);return M0(t),t})}function R0(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function P0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Or,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||yr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vS(e.inputs,t),outputs:ES(e.outputs),debugInfo:null}}function M0(e){e.features?.forEach(t=>t(e))}function Zv(e,t){if(!e)return null;const r=t?K:yS;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(_S)}function oI(e){let t=function N0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(P(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ht(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const f=e;f.inputs=sI(e.inputs),f.declaredInputs=sI(e.declaredInputs),f.outputs=sI(e.outputs);const E=a.hostBindings;E&&CS(e,E);const D=a.viewQuery,F=a.contentQueries;if(D&&DS(e,D),F&&AS(e,F),TS(e,a),Xi(e.outputs,a.outputs),P(a)&&a.data.animation){const z=e.data;z.animation=(z.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let f=0;f<l.length;f++){const E=l[f];E&&E.ngInherit&&E(e),E===oI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function bS(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=wc(a.hostAttrs,r=wc(r,a.hostAttrs))}}(o)}function TS(e,t){for(const r in t.inputs){if(!t.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=t.inputs[r];void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=t.declaredInputs[r])}}function sI(e){return e===Or?{}:e===yr?[]:e}function DS(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function AS(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,l)=>{t(o,a,l),r(o,a,l)}:t}function CS(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function Yv(e){return!!cI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function cI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Bu(e,t,r){return e[t]=r}function Es(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function pf(e,t,r,o){const a=Es(e,t,r);return Es(e,t+1,o)||a}function Dy(e,t,r,o,a,l,f,E,D,F){const z=r+Nn,ee=t.firstCreatePass?function FS(e,t,r,o,a,l,f,E,D){const F=t.consts,z=Mc(t,e,4,f||null,E||null);Tf()&&Hw(t,r,z,sa(F,D),at),z.mergedAttrs=wc(z.mergedAttrs,z.attrs),tc(t,z);const ee=z.tView=Gh(2,z,o,a,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,F,null);return null!==t.queries&&(t.queries.template(t,z),ee.queries=t.queries.embeddedTView(z)),z}(z,t,e,o,a,l,f,E,D):t.data[z];Xs(ee,!1);const De=L0(t,e,ee,r);ec()&&Ud(t,e,De,ee),Ea(De,e);const de=oy(De,e,De,ee);return e[z]=de,h(e,de),function s0(e,t,r){return Ww(e,t,r)}(de,ee,e),w(ee)&&ce(t,e,ee),null!=D&&Fe(e,ee,F),ee}function uI(e,t,r,o,a,l,f,E){const D=Nt(),F=vr();return Dy(D,F,e,t,r,o,a,sa(F.consts,l),f,E),uI}let L0=function V0(e,t,r,o){return $a(!0),t[H].createComment("")};let hI=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Z0=new ve(""),Y0=new ve("");let mI,xR=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(r,o,a){this._ngZone=r,this.registry=o,ui()&&(this._destroyRef=En(Vs,{optional:!0})??void 0),mI||(function OR(e){mI=e}(a),a.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const r=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),o=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{vo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{r.unsubscribe(),o.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,a){let l=-1;o&&o>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==l),r()},o)),this._callbacks.push({doneCb:r,timeoutId:l,updateCb:a})}whenStable(r,o,a){if(a&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,a),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,a){return[]}static \u0275fac=function(o){return new(o||e)(Yr(vo),Yr(J0),Yr(Y0))};static \u0275prov=Le({token:e,factory:e.\u0275fac})}return e})(),J0=(()=>{class e{_applications=new Map;registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return mI?.findTestabilityInTree(this,r,o)??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),eb=(()=>{class e{static \u0275prov=Le({token:e,providedIn:"root",factory:()=>new FR})}return e})();class FR{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){const o=this.queues.get(t.zone);o.has(t)&&(o.delete(t),this.queuedEffectCount--)}enqueue(t){const r=t.zone;this.queues.has(r)||this.queues.set(r,new Set);const o=this.queues.get(r);o.has(t)||(this.queuedEffectCount++,o.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,r]of this.queues)null===t?this.flushQueue(r):t.run(()=>this.flushQueue(r))}flushQueue(t){for(const r of t)t.delete(r),this.queuedEffectCount--,r.run()}}function yI(e){return!!e&&"function"==typeof e.then}function tb(e){return!!e&&"function"==typeof e.subscribe}const nb=new ve("");function LR(e){return Pe([{provide:nb,multi:!0,useValue:e}])}let rb=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o});appInits=En(nb,{optional:!0})??[];injector=En(ys);constructor(){}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const l=Os(this.injector,a);if(yI(l))r.push(l);else if(tb(l)){const f=new Promise((E,D)=>{l.subscribe({complete:E,error:D})});r.push(f)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(a=>{this.reject(a)}),0===r.length&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Cy=new ve("");let pc=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=En(CE);afterRenderManager=En(Sh);zonelessEnabled=En(Wc);rootEffectScheduler=En(eb);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new fn.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=En(Gc).hasPendingTasks.pipe((0,cn.T)(r=>!r));constructor(){En(ud,{optional:!0})}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:a=>{a&&o()}})}).finally(()=>{r.unsubscribe()})}_injector=En(ei);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,o){return this.bootstrapImpl(r,o)}bootstrapImpl(r,o,a=ys.NULL){br(10);const l=r instanceof WT;if(!this._injector.get(rb).done)throw new ht(405,"");let E;E=l?r:this._injector.get(vy).resolveComponentFactory(r),this.componentTypes.push(E.componentType);const D=function VR(e){return e.isBoundToModule}(E)?void 0:this._injector.get(ff),z=E.create(a,[],o||E.selector,D),ee=z.location.nativeElement,De=z.injector.get(Z0,null);return De?.registerApplication(ee),z.onDestroy(()=>{this.detachView(z.hostView),rE(this.components,z),De?.unregisterApplication(ee)}),this._loadComponent(z),br(11,z),z}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){br(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(sm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ht(101,!1);const r=we(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,we(r),this.afterTick.next(),br(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Uw,null,{optional:!0}));let r=0;for(;0!==this.dirtyFlags&&r++<10;)br(14),this.synchronizeOnce(),br(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:a}of this.allViews)BR(o,a,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>au(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;rE(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(Cy,[]).forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>rE(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ht(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function BR(e,t,r,o){(r||au(e))&&Mu(e,t,r&&!o?0:1)}function II(e,t,r,o){const a=Nt();return Es(a,Zs(),t)&&(vr(),ut(Ni(),a,e,t,r,o)),II}function ag(e,t,r,o){return Es(e,Zs(),r)?t+Me(r)+o:jr}function cg(e,t,r,o,a,l){const E=pf(e,function ya(){return Ir.lFrame.bindingIndex}(),r,a);return _a(2),E?t+Me(r)+o+Me(a)+l:jr}function iE(e,t){return e<<17|t<<2}function mf(e){return e>>17&32767}function TI(e){return 2|e}function gg(e){return(131068&e)>>2}function bI(e,t){return-131069&e|t<<2}function DI(e){return 1|e}function Tb(e,t,r,o){const a=e[r+1],l=null===t;let f=o?mf(a):gg(a),E=!1;for(;0!==f&&(!1===E||l);){const F=e[f+1];AP(e[f],t)&&(E=!0,e[f+1]=o?DI(F):TI(F)),f=o?mf(F):gg(F)}E&&(e[r+1]=o?TI(a):DI(a))}function AP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&$s(e,t)>=0}const js={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bb(e){return e.substring(js.key,js.keyEnd)}function Db(e,t){const r=js.textEnd;return r===t?-1:(t=js.keyEnd=function PP(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}(e,js.key=t,r),mg(e,t,r))}function mg(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function AI(e,t,r){const o=Nt();return Es(o,Zs(),t)&&kn(vr(),Ni(),o,e,t,o[H],r,!1),AI}function CI(e,t,r,o,a){vl(t,e,r,a?"class":"style",o)}function SI(e,t,r){return ru(e,t,r,!1),SI}function RI(e,t){return ru(e,t,null,!0),RI}function Pb(e){iu(UP,$u,e,!0)}function $u(e,t){for(let r=function SP(e){return function Cb(e){js.key=0,js.keyEnd=0,js.value=0,js.valueEnd=0,js.textEnd=e.length}(e),Db(e,mg(e,0,js.textEnd))}(t);r>=0;r=Db(t,r))bo(e,bb(t),!0)}function ru(e,t,r,o){const a=Nt(),l=vr(),f=_a(2);l.firstUpdatePass&&Nb(l,e,f,o),t!==jr&&Es(a,f,t)&&xb(l,l.data[Cs()],a,a[H],e,a[f+1]=function jP(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ue(Yc(e)))),e}(t,r),o,f)}function iu(e,t,r,o){const a=vr(),l=_a(2);a.firstUpdatePass&&Nb(a,null,l,o);const f=Nt();if(r!==jr&&Es(f,l,r)){const E=a.data[Cs()];if(Fb(E,o)&&!Mb(a,l)){let D=o?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(r=Dr(D,r||"")),CI(a,E,f,r,o)}else!function BP(e,t,r,o,a,l,f,E){a===jr&&(a=yr);let D=0,F=0,z=0<a.length?a[0]:null,ee=0<l.length?l[0]:null;for(;null!==z||null!==ee;){const De=D<a.length?a[D+1]:void 0,de=F<l.length?l[F+1]:void 0;let Ut,Ge=null;z===ee?(D+=2,F+=2,De!==de&&(Ge=ee,Ut=de)):null===ee||null!==z&&z<ee?(D+=2,Ge=z):(F+=2,Ge=ee,Ut=de),null!==Ge&&xb(e,t,r,o,Ge,Ut,f,E),z=D<a.length?a[D]:null,ee=F<l.length?l[F]:null}}(a,E,f,f[H],f[l+1],f[l+1]=function VP(e,t,r){if(null==r||""===r)return yr;const o=[],a=Yc(r);if(Array.isArray(a))for(let l=0;l<a.length;l++)e(o,a[l],!0);else if("object"==typeof a)for(const l in a)a.hasOwnProperty(l)&&e(o,l,a[l]);else"string"==typeof a&&t(o,a);return o}(e,t,r),o,l)}}function Mb(e,t){return t>=e.expandoStartIndex}function Nb(e,t,r,o){const a=e.data;if(null===a[r+1]){const l=a[Cs()],f=Mb(e,r);Fb(l,o)&&null===t&&!f&&(t=!1),t=function xP(e,t,r,o){const a=uu(e);let l=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=Ry(r=PI(null,e,t,r,o),t.attrs,o),l=null);else{const f=t.directiveStylingLast;if(-1===f||e[f]!==a)if(r=PI(a,e,t,r,o),null===l){let D=function OP(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==gg(o))return e[mf(o)]}(e,t,o);void 0!==D&&Array.isArray(D)&&(D=PI(null,e,t,D[1],o),D=Ry(D,t.attrs,o),function FP(e,t,r,o){e[mf(r?t.classBindings:t.styleBindings)]=o}(e,t,o,D))}else l=function LP(e,t,r){let o;const a=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<a;l++)o=Ry(o,e[l].hostAttrs,r);return Ry(o,t.attrs,r)}(e,t,o)}return void 0!==l&&(o?t.residualClasses=l:t.residualStyles=l),r}(a,l,t,o),function bP(e,t,r,o,a,l){let f=l?t.classBindings:t.styleBindings,E=mf(f),D=gg(f);e[o]=r;let z,F=!1;if(Array.isArray(r)?(z=r[1],(null===z||$s(r,z)>0)&&(F=!0)):z=r,a)if(0!==D){const De=mf(e[E+1]);e[o+1]=iE(De,E),0!==De&&(e[De+1]=bI(e[De+1],o)),e[E+1]=function IP(e,t){return 131071&e|t<<17}(e[E+1],o)}else e[o+1]=iE(E,0),0!==E&&(e[E+1]=bI(e[E+1],o)),E=o;else e[o+1]=iE(D,0),0===E?E=o:e[D+1]=bI(e[D+1],o),D=o;F&&(e[o+1]=TI(e[o+1])),Tb(e,z,o,!0),Tb(e,z,o,!1),function DP(e,t,r,o,a){const l=a?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&$s(l,t)>=0&&(r[o+1]=DI(r[o+1]))}(t,z,e,o,l),f=iE(E,D),l?t.classBindings=f:t.styleBindings=f}(a,l,t,r,f,o)}}function PI(e,t,r,o,a){let l=null;const f=r.directiveEnd;let E=r.directiveStylingLast;for(-1===E?E=r.directiveStart:E++;E<f&&(l=t[E],o=Ry(o,l.hostAttrs,a),l!==e);)E++;return null!==e&&(r.directiveStylingLast=E),o}function Ry(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let l=0;l<t.length;l++){const f=t[l];"number"==typeof f?a=f:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),bo(e,f,!!r||t[++l]))}return void 0===e?null:e}function UP(e,t,r){const o=String(t);""!==o&&!o.includes(" ")&&bo(e,o,r)}function xb(e,t,r,o,a,l,f,E){if(!(3&t.type))return;const D=e.data,F=D[E+1],z=function TP(e){return!(1&~e)}(F)?Ob(D,t,r,a,gg(F),f):void 0;oE(z)||(oE(l)||function wP(e){return!(2&~e)}(F)&&(l=Ob(D,null,r,a,E,f)),function hv(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let l=-1===o.indexOf("-")?void 0:Su.DashCase;null==a?e.removeStyle(r,o,l):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),l|=Su.Important),e.setStyle(r,o,a,l))}}(o,f,_o(Cs(),r),a,l))}function Ob(e,t,r,o,a,l){const f=null===t;let E;for(;a>0;){const D=e[a],F=Array.isArray(D),z=F?D[1]:D,ee=null===z;let De=r[a+1];De===jr&&(De=ee?yr:void 0);let de=ee?Ui(De,o):z===o?De:void 0;if(F&&!oE(de)&&(de=Ui(D,o)),oE(de)&&(E=de,f))return E;const Ge=e[a+1];a=f?mf(Ge):gg(Ge)}if(null!==t){let D=l?t.residualClasses:t.residualStyles;null!=D&&(E=Ui(D,o))}return E}function oE(e){return void 0!==e}function Fb(e,t){return!!(e.flags&(t?8:16))}function Lb(e,t,r){iu(bo,$u,ag(Nt(),e,t,r),!0)}function Vb(e,t,r,o,a){iu(bo,$u,cg(Nt(),e,t,r,o,a),!0)}function aE(e,t,r,o){const a=Nt(),l=vr(),f=Nn+e,E=a[H],D=l.firstCreatePass?YT(f,l,a,t,at,Tf(),r,o):l.data[f],F=$b(l,a,D,E,t,e);a[f]=F;const z=w(D);return Xs(D,!0),Tw(E,F,D),!Ru(D)&&ec()&&Ud(l,a,F,D),(0===function $y(){return Ir.lFrame.elementDepthCount}()||z)&&Ea(F,a),function Eg(){Ir.lFrame.elementDepthCount++}(),z&&(ce(l,a,D),$h(l,D,a)),null!==o&&Fe(a,D),aE}function cE(){let e=Br();Ll()?Vl():(e=e.parent,Xs(e,!1));const t=e;(function Wu(e){return Ir.skipHydrationRootTNode===e})(t)&&function Gu(){Ir.skipHydrationRootTNode=null}(),function oh(){Ir.lFrame.elementDepthCount--}();const r=vr();return r.firstCreatePass&&JT(r,t),null!=t.classesWithoutHost&&function Yu(e){return!!(8&e.flags)}(t)&&CI(r,t,Nt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function kf(e){return!!(16&e.flags)}(t)&&CI(r,t,Nt(),t.stylesWithoutHost,!1),cE}function xI(e,t,r,o){return aE(e,t,r,o),cE(),xI}let $b=(e,t,r,o,a,l)=>($a(!0),Gm(o,a,function Wl(){return Ir.lFrame.currentNamespace}()));function uE(e,t,r){const o=Nt(),a=vr(),l=e+Nn,f=a.firstCreatePass?function lM(e,t,r,o,a){const l=t.consts,f=sa(l,o),E=Mc(t,e,8,"ng-container",f);null!==f&&$w(E,f,!0);const D=sa(l,a);return Tf()&&Hw(t,r,E,D,at),E.mergedAttrs=wc(E.mergedAttrs,E.attrs),null!==t.queries&&t.queries.elementStart(t,E),E}(l,a,o,t,r):a.data[l];Xs(f,!0);const E=zb(a,o,f,e);return o[l]=E,ec()&&Ud(a,o,E,f),Ea(E,o),w(f)&&(ce(a,o,f),$h(a,f,o)),null!=r&&Fe(o,f),uE}function lE(){let e=Br();const t=vr();return Ll()?Vl():(e=e.parent,Xs(e,!1)),t.firstCreatePass&&(tc(t,e),G(e)&&t.queries.elementEnd(e)),lE}let zb=(e,t,r,o)=>($a(!0),Wm(t[H],""));function Wb(){return Nt()}function OI(e,t,r){const o=Nt();if(Es(o,Zs(),t)){const l=vr(),f=Ni();kn(l,f,o,e,t,Ld(uu(l.data),f,o),r,!0)}return OI}const yf=void 0;var pM=["en",[["a","p"],["AM","PM"],yf],[["AM","PM"],yf,yf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yf,"{1} 'at' {0}",yf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fM(e){const t=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let yg={};function FI(e){const t=function gM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=qb(t);if(r)return r;const o=t.split("-")[0];if(r=qb(o),r)return r;if("en"===o)return pM;throw new ht(701,!1)}function Kb(e){return FI(e)[_g.PluralCase]}function qb(e){return e in yg||(yg[e]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[e]),yg[e]}var _g=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(_g||{});const dE="en-US";let Qb=dE;function fD(e,t,r){return function o(a){if(a===Function)return r;ku(v(e)?Ps(e.index,t):t,5);const f=t[Ur];let E=pD(t,f,r,a),D=o.__ngNextListenerFn__;for(;D;)E=pD(t,f,D,a)&&E,D=D.__ngNextListenerFn__;return E}}function pD(e,t,r,o){const a=we(null);try{return br(6,t,r),!1!==r(o)}catch(l){return function r1(e,t){const r=e[R],o=r?r.get(ac,null):null;o&&o.handleError(t)}(e,l),!1}finally{br(7,t,r),we(a)}}function gD(e,t,r,o,a,l){const E=t[nn],z=t[r][E.data[r].outputs[o]],ee=E.firstCreatePass?kl(E):null,De=yc(t),de=z.subscribe(l),Ge=De.length;De.push(l,de),ee&&ee.push(a,e.index,Ge,-(Ge+1))}function UI(e,t,r,o){const a=Nt(),l=vr(),f=Br();return BI(l,a,a[H],f,e,t,o),UI}function BI(e,t,r,o,a,l,f){const E=w(o),F=e.firstCreatePass?kl(e):null,z=yc(t);let ee=!0;if(3&o.type||f){const De=to(o,t),de=f?f(De):De,Ge=z.length,Ut=f?yn=>f(ni(yn[o.index])):o.index;let hn=null;if(!f&&E&&(hn=function i1(e,t,r,o){const a=e.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const f=a[l];if(f===r&&a[l+1]===o){const E=t[fs],D=a[l+2];return E.length>D?E[D]:null}"string"==typeof f&&(l+=2)}return null}(e,t,a,o.index)),null!==hn)(hn.__ngLastListenerFn__||hn).__ngNextListenerFn__=l,hn.__ngLastListenerFn__=l,ee=!1;else{!function wm(e,t,r,o){Fh(e,t,r,o)}(t,de,a,l=fD(o,t,l));const yn=r.listen(de,a,l);z.push(l,yn),F&&F.push(a,Ut,Ge,Ge+1)}}else l=fD(o,t,l);if(ee){const De=o.outputs?.[a],de=o.hostDirectiveOutputs?.[a];if(de&&de.length)for(let Ge=0;Ge<de.length;Ge+=2)gD(o,t,de[Ge],de[Ge+1],a,l);if(De&&De.length)for(const Ge of De)gD(o,t,Ge,a,a,l)}}function yD(e=1){return function Vc(e){return(Ir.lFrame.contextLView=function wf(e,t){for(;e>0;)t=t[Sn],e--;return t}(e,Ir.lFrame.contextLView))[Ur]}(e)}function CD(e,t,r,o){h0(e,t,r,o)}function SD(e){const t=Nt(),r=vr(),o=Ku();Bl(o+1);const a=Yw(r,o);if(e.dirty&&function rh(e){return!(4&~e[nr])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const l=p0(t,o);e.reset(l,cc),e.notifyOnChanges()}return!0}return!1}function RD(){return function Zw(e,t){return e[Ao].queries[t].queryList}(Nt(),Ku())}function PD(e){return Ds(function Df(){return Ir.lFrame.contextLView}(),Nn+e)}function BD(e,t=""){const r=Nt(),o=vr(),a=e+Nn,l=o.firstCreatePass?Mc(o,a,1,t,null):o.data[a],f=jD(o,r,l,t,e);r[a]=f,ec()&&Ud(o,r,f,l),Xs(l,!1)}let jD=(e,t,r,o,a)=>($a(!0),function cv(e,t){return e.createText(t)}(t[H],o));function $I(e){return gE("",e,""),$I}function gE(e,t,r){const o=Nt(),a=ag(o,e,t,r);return a!==jr&&Pl(o,Cs(),a),gE}function HI(e,t,r,o,a){const l=Nt(),f=cg(l,e,t,r,o,a);return f!==jr&&Pl(l,Cs(),f),HI}function Pl(e,t,r){const o=_o(t,e);!function zm(e,t,r){e.setValue(t,r)}(e[H],o,r)}function zI(e,t,r){qf(t)&&(t=t());const o=Nt();return Es(o,Zs(),t)&&kn(vr(),Ni(),o,e,t,o[H],r,!1),zI}function QD(e,t){const r=qf(e);return r&&e.set(t),r}function WI(e,t){const r=Nt(),o=vr(),a=Br();return BI(o,r,r[H],a,e,t),WI}function GI(e,t,r,o,a){if(e=_n(e),Array.isArray(e))for(let l=0;l<e.length;l++)GI(e[l],t,r,o,a);else{const l=vr(),f=Nt(),E=Br();let D=Ri(e)?e:_n(e.provide);const F=Da(e),z=1048575&E.providerIndexes,ee=E.directiveStart,De=E.providerIndexes>>20;if(Ri(e)||!e.multi){const de=new va(F,a,ng),Ge=qI(D,t,a?z:z+De,ee);-1===Ge?(gu(pu(E,f),l,D),KI(l,e,t.length),t.push(D),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),r.push(de),f.push(de)):(r[Ge]=de,f[Ge]=de)}else{const de=qI(D,t,z+De,ee),Ge=qI(D,t,z,z+De),hn=Ge>=0&&r[Ge];if(a&&!hn||!a&&!(de>=0&&r[de])){gu(pu(E,f),l,D);const yn=function P1(e,t,r,o,a){const l=new va(e,r,ng);return l.multi=[],l.index=t,l.componentProviders=0,YD(l,a,o&&!r),l}(a?R1:S1,r.length,a,o,F);!a&&hn&&(r[Ge].providerFactory=yn),KI(l,e,t.length,0),t.push(D),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),r.push(yn),f.push(yn)}else KI(l,e,de>-1?de:Ge,YD(r[a?Ge:de],F,!a&&o));!a&&o&&hn&&r[Ge].componentProviders++}}}function KI(e,t,r,o){const a=Ri(t),l=function Jr(e){return!!e.useClass}(t);if(a||l){const D=(l?_n(t.useClass):t).prototype.ngOnDestroy;if(D){const F=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const z=F.indexOf(r);-1===z?F.push(r,[o,D]):F[z+1].push(o,D)}else F.push(r,D)}}}function YD(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function qI(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function S1(e,t,r,o,a){return QI(this.multi,[])}function R1(e,t,r,o,a){const l=this.multi;let f;if(this.providerFactory){const E=this.providerFactory.componentProviders,D=rc(o,o[nn],this.providerFactory.index,a);f=D.slice(0,E),QI(l,f);for(let F=E;F<D.length;F++)f.push(D[F])}else f=[],QI(l,f);return f}function QI(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function JD(e,t=[]){return r=>{r.providersResolver=(o,a)=>function C1(e,t,r){const o=vr();if(o.firstCreatePass){const a=P(e);GI(r,o.data,o.blueprint,a,!0),GI(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}function tA(e,t,r){const o=As()+e,a=Nt();return a[o]===jr?Bu(a,o,r?t.call(r):t()):function by(e,t){return e[t]}(a,o)}function nA(e,t,r,o){return sA(Nt(),As(),e,t,r,o)}function rA(e,t,r,o,a){return aA(Nt(),As(),e,t,r,o,a)}function iA(e,t,r,o,a,l){return function cA(e,t,r,o,a,l,f,E){const D=t+r;return function Jv(e,t,r,o,a){const l=pf(e,t,r,o);return Es(e,t+2,a)||l}(e,D,a,l,f)?Bu(e,D+3,E?o.call(E,a,l,f):o(a,l,f)):Oy(e,D+3)}(Nt(),As(),e,t,r,o,a,l)}function oA(e,t,r,o,a,l,f){return function uA(e,t,r,o,a,l,f,E,D){const F=t+r;return function Nc(e,t,r,o,a,l){const f=pf(e,t,r,o);return pf(e,t+2,a,l)||f}(e,F,a,l,f,E)?Bu(e,F+4,D?o.call(D,a,l,f,E):o(a,l,f,E)):Oy(e,F+4)}(Nt(),As(),e,t,r,o,a,l,f)}function Oy(e,t){const r=e[t];return r===jr?void 0:r}function sA(e,t,r,o,a,l){const f=t+r;return Es(e,f,a)?Bu(e,f+1,l?o.call(l,a):o(a)):Oy(e,f+1)}function aA(e,t,r,o,a,l,f){const E=t+r;return pf(e,E,a,l)?Bu(e,E+2,f?o.call(f,a,l):o(a,l)):Oy(e,E+2)}function dA(e,t){const r=vr();let o;const a=e+Nn;r.firstCreatePass?(o=function U1(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}}(t,r.pipeRegistry),r.data[a]=o,o.onDestroy&&(r.destroyHooks??=[]).push(a,o.onDestroy)):o=r.data[a];const l=o.factory||(o.factory=Ts(o.type)),E=mi(ng);try{const D=Ql(!1),F=l();return Ql(D),function gc(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,Nt(),a,F),F}finally{mi(E)}}function hA(e,t,r){const o=e+Nn,a=Nt(),l=Ds(a,o);return Fy(a,o)?sA(a,As(),t,l.transform,r,l):l.transform(r)}function fA(e,t,r,o){const a=e+Nn,l=Nt(),f=Ds(l,a);return Fy(l,a)?aA(l,As(),t,f.transform,r,o,f):f.transform(r,o)}function Fy(e,t){return e[nn].data[t].pure}class MA{full;major;minor;patch;constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const yN=new MA("19.2.14");class _N{ngModuleFactory;componentFactories;constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let vN=(()=>{class e{compileModuleSync(r){return new nI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),l=Jc(jo(r).declarations).reduce((f,E)=>{const D=_r(E);return D&&f.push(new Iy(D)),f},[]);return new _N(o,l)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),IN=(()=>{class e{zone=En(vo);changeDetectionScheduler=En(_s);applicationRef=En(pc);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eT({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new vo({...tT(),scheduleInRootZone:r}),[{provide:vo,useFactory:e},{provide:Ji,multi:!0,useFactory:()=>{const o=En(IN,{optional:!0});return()=>o.initialize()}},{provide:Ji,multi:!0,useFactory:()=>{const o=En(bN);return()=>{o.initialize()}}},!0===t?{provide:Bf,useValue:!0}:[],{provide:jf,useValue:r??mu}]}function tT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let bN=(()=>{class e{subscription=new dr.yU;initialized=!1;zone=En(vo);pendingTasks=En(Gc);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{vo.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{vo.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vy=(()=>{class e{appRef=En(pc);taskService=En(Gc);ngZone=En(vo);zonelessEnabled=En(Wc);tracing=En(ud,{optional:!0});disableScheduling=En(Bf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new dr.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(En(jf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof yu||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;let o=!1;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,o=!0;break;case 12:this.appRef.dirtyFlags|=16,o=!0;break;case 11:o=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;const a=this.useMicrotaskScheduler?Cg:Gy;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=Le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const rT=new ve("",{providedIn:"root",factory:()=>En(rT,Fn.Optional|Fn.SkipSelf)||function DN(){return typeof $localize<"u"&&$localize.locale||dE}()}),AN=new ve("",{providedIn:"root",factory:()=>"USD"}),vE=new ve(""),MN=new ve("");function Uy(e){return!e.moduleRef}let nh=null;function LN(){return!1}let $A=(()=>class e{static __NG_ELEMENT_ID__=VN})();function VN(e){return function UN(e,t,r){if(v(e)&&!r){const o=Ps(e.index,t);return new Tl(o,o)}return 175&e.type?new Tl(t[sr],t):null}(Br(),Nt(),!(16&~e))}class GA{constructor(){}supports(t){return Yv(t)}create(t){return new zN(t)}}const HN=(e,t)=>t;class zN{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||HN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,l=null;for(;r||o;){const f=!o||r&&r.currentIndex<qA(o,a,l)?r:o,E=qA(f,a,l),D=f.currentIndex;if(f===o)a--,o=o._nextRemoved;else if(r=r._next,null==f.previousIndex)a++;else{l||(l=[]);const F=E-a,z=D-a;if(F!=z){for(let De=0;De<F;De++){const de=De<l.length?l[De]:l[De]=0,Ge=de+De;z<=Ge&&Ge<F&&(l[De]=de+1)}l[f.previousIndex]=z-F}}E!==D&&t(f,E,D)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Yv(t))throw new ht(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,l,f,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let E=0;E<this.length;E++)l=t[E],f=this._trackByFn(E,l),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,l,f,E)),Object.is(r.item,l)||this._addIdentityChange(r,l)):(r=this._mismatch(r,l,f,E),o=!0),r=r._next}else a=0,function xS(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,E=>{f=this._trackByFn(a,E),null!==r&&Object.is(r.trackById,f)?(o&&(r=this._verifyReinsertion(r,E,f,a)),Object.is(r.item,E)||this._addIdentityChange(r,E)):(r=this._mismatch(r,E,f,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,l,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,l,a)):t=this._addAfter(new WN(r,o),l,a),t}_verifyReinsertion(t,r,o,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==l?t=this._reinsertAfter(l,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,l=t._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new KA),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KA),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class WN{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,r){this.item=t,this.trackById=r}}class GN{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class KA{map=new Map;put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new GN,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qA(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class QA{constructor(){}supports(t){return t instanceof Map||cI(t)}create(){return new KN}}class KN{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||cI(t)))throw new ht(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const l=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,l)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const l=a._prev,f=a._next;return l&&(l._next=f),f&&(f._prev=l),a._next=null,a._prev=null,a}const o=new qN(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class qN{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}}function XA(){return new cT([new GA])}let cT=(()=>{class e{factories;static \u0275prov=Le({token:e,providedIn:"root",factory:XA});constructor(r){this.factories=r}static create(r,o){if(null!=o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||XA()),deps:[[e,new go,new xr]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(null!=o)return o;throw new ht(901,!1)}}return e})();function ZA(){return new uT([new QA])}let uT=(()=>{class e{static \u0275prov=Le({token:e,providedIn:"root",factory:ZA});factories;constructor(r){this.factories=r}static create(r,o){if(o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||ZA()),deps:[[e,new go,new xr]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(o)return o;throw new ht(901,!1)}}return e})();function ZN(e){br(8);try{const{rootComponent:t,appProviders:r,platformProviders:o}=e,a=function FN(e=[]){if(nh)return nh;const t=function UA(e=[],t){return ys.create({name:t,providers:[{provide:ki,useValue:"platform"},{provide:vE,useValue:new Set([()=>nh=null])},...e]})}(e);return nh=t,function ib(){!function Ke(e){rn=e}(()=>{throw new ht(600,!1)})}(),function BA(e){const t=e.get(Kg,null);Os(e,()=>{t?.forEach(r=>r())})}(t),t}(o),l=[eT({}),{provide:_s,useExisting:Vy},...r||[]];return function FA(e){const t=Uy(e)?e.r3Injector:e.moduleRef.injector,r=t.get(vo);return r.run(()=>{Uy(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(ac,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:l=>{o.handleError(l)}})}),Uy(e)){const l=()=>t.destroy(),f=e.platformInjector.get(vE);f.add(l),t.onDestroy(()=>{a.unsubscribe(),f.delete(l)})}else{const l=()=>e.moduleRef.destroy(),f=e.platformInjector.get(vE);f.add(l),e.moduleRef.onDestroy(()=>{rE(e.allPlatformModules,e.moduleRef),a.unsubscribe(),f.delete(l)})}return function kN(e,t,r){try{const o=r();return yI(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const l=t.get(rb);return l.runInitializers(),l.donePromise.then(()=>{if(function vM(e){"string"==typeof e&&(Qb=e.toLowerCase().replace(/_/g,"-"))}(t.get(rT,dE)||dE),!t.get(MN,!0))return Uy(e)?t.get(pc):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Uy(e)){const D=t.get(pc);return void 0!==e.rootComponent&&D.bootstrap(e.rootComponent),D}return function NN(e,t){const r=e.injector.get(pc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new ht(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new A0({providers:l,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:a,rootComponent:t})}catch(t){return Promise.reject(t)}finally{br(9)}}function vk(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function ou(e){return function Hn(e){const t=we(null);try{return e()}finally{we(t)}}(e)}function jy(e,t){return function Vn(e,t){const r=Object.create(wn);r.computation=e,void 0!==t&&(r.equal=t);const o=()=>{if(dt(r),lt(r),r.value===pt)throw r.error;return r.value};return o[nt]=r,o}(e,t?.equal)}function Bk(e){const t=_r(e);if(!t)return null;const r=new Iy(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1362:(bn,ze,$)=>{"use strict";$.d(ze,{h1:()=>be,uA:()=>Y});var T=$(467),O=$(6858);class Y{constructor(Te,Ie,lt){this.name=Te,this.instanceFactory=Ie,this.type=lt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Te){return this.instantiationMode=Te,this}setMultipleInstances(Te){return this.multipleInstances=Te,this}setServiceProps(Te){return this.serviceProps=Te,this}setInstanceCreatedCallback(Te){return this.onInstanceCreated=Te,this}}const B="[DEFAULT]";class Re{constructor(Te,Ie){this.name=Te,this.container=Ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Te){const Ie=this.normalizeInstanceIdentifier(Te);if(!this.instancesDeferred.has(Ie)){const lt=new O.cY;if(this.instancesDeferred.set(Ie,lt),this.isInitialized(Ie)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:Ie});Qe&&lt.resolve(Qe)}catch{}}return this.instancesDeferred.get(Ie).promise}getImmediate(Te){var Ie;const lt=this.normalizeInstanceIdentifier(Te?.identifier),Qe=null!==(Ie=Te?.optional)&&void 0!==Ie&&Ie;if(!this.isInitialized(lt)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:lt})}catch(dt){if(Qe)return null;throw dt}}getComponent(){return this.component}setComponent(Te){if(Te.name!==this.name)throw Error(`Mismatching Component ${Te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Te,this.shouldAutoInitialize()){if(function we(We){return"EAGER"===We.instantiationMode}(Te))try{this.getOrInitializeService({instanceIdentifier:B})}catch{}for(const[Ie,lt]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(Ie);try{const dt=this.getOrInitializeService({instanceIdentifier:Qe});lt.resolve(dt)}catch{}}}}clearInstance(Te=B){this.instancesDeferred.delete(Te),this.instancesOptions.delete(Te),this.instances.delete(Te)}delete(){var Te=this;return(0,T.A)(function*(){const Ie=Array.from(Te.instances.values());yield Promise.all([...Ie.filter(lt=>"INTERNAL"in lt).map(lt=>lt.INTERNAL.delete()),...Ie.filter(lt=>"_delete"in lt).map(lt=>lt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Te=B){return this.instances.has(Te)}getOptions(Te=B){return this.instancesOptions.get(Te)||{}}initialize(Te={}){const{options:Ie={}}=Te,lt=this.normalizeInstanceIdentifier(Te.instanceIdentifier);if(this.isInitialized(lt))throw Error(`${this.name}(${lt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:lt,options:Ie});for(const[dt,Rt]of this.instancesDeferred.entries())lt===this.normalizeInstanceIdentifier(dt)&&Rt.resolve(Qe);return Qe}onInit(Te,Ie){var lt;const Qe=this.normalizeInstanceIdentifier(Ie),dt=null!==(lt=this.onInitCallbacks.get(Qe))&&void 0!==lt?lt:new Set;dt.add(Te),this.onInitCallbacks.set(Qe,dt);const Rt=this.instances.get(Qe);return Rt&&Te(Rt,Qe),()=>{dt.delete(Te)}}invokeOnInitCallbacks(Te,Ie){const lt=this.onInitCallbacks.get(Ie);if(lt)for(const Qe of lt)try{Qe(Te,Ie)}catch{}}getOrInitializeService({instanceIdentifier:Te,options:Ie={}}){let lt=this.instances.get(Te);if(!lt&&this.component&&(lt=this.component.instanceFactory(this.container,{instanceIdentifier:(We=Te,We===B?void 0:We),options:Ie}),this.instances.set(Te,lt),this.instancesOptions.set(Te,Ie),this.invokeOnInitCallbacks(lt,Te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Te,lt)}catch{}var We;return lt||null}normalizeInstanceIdentifier(Te=B){return this.component?this.component.multipleInstances?Te:B:Te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(Te){this.name=Te,this.providers=new Map}addComponent(Te){const Ie=this.getProvider(Te.name);if(Ie.isComponentSet())throw new Error(`Component ${Te.name} has already been registered with ${this.name}`);Ie.setComponent(Te)}addOrOverwriteComponent(Te){this.getProvider(Te.name).isComponentSet()&&this.providers.delete(Te.name),this.addComponent(Te)}getProvider(Te){if(this.providers.has(Te))return this.providers.get(Te);const Ie=new Re(Te,this);return this.providers.set(Te,Ie),Ie}getProviders(){return Array.from(this.providers.values())}}},1397:(bn,ze,$)=>{"use strict";$.d(ze,{Z:()=>be});var T=$(6354),O=$(8750),Y=$(9974),B=$(5225),Re=$(4360),we=$(8071);function be(We,Te,Ie=1/0){return(0,we.T)(Te)?be((lt,Qe)=>(0,T.T)((dt,Rt)=>Te(lt,dt,Qe,Rt))((0,O.Tg)(We(lt,Qe))),Ie):("number"==typeof Te&&(Ie=Te),(0,Y.N)((lt,Qe)=>function nt(We,Te,Ie,lt,Qe,dt,Rt,Ht){const Bt=[];let Jt=0,yt=0,wt=!1;const St=()=>{wt&&!Bt.length&&!Jt&&Te.complete()},ke=Ye=>Jt<lt?it(Ye):Bt.push(Ye),it=Ye=>{dt&&Te.next(Ye),Jt++;let It=!1;(0,O.Tg)(Ie(Ye,yt++)).subscribe((0,Re._)(Te,qt=>{Qe?.(qt),dt?ke(qt):Te.next(qt)},()=>{It=!0},void 0,()=>{if(It)try{for(Jt--;Bt.length&&Jt<lt;){const qt=Bt.shift();Rt?(0,B.N)(Te,Rt,()=>it(qt)):it(qt)}St()}catch(qt){Te.error(qt)}}))};return We.subscribe((0,Re._)(Te,ke,()=>{wt=!0,St()})),()=>{Ht?.()}}(lt,Qe,We,Ie)))}},1413:(bn,ze,$)=>{"use strict";$.d(ze,{B:()=>we});var T=$(1985),O=$(8359);const B=(0,$(1853).L)(We=>function(){We(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=$(7908),nt=$(9786);let we=(()=>{class We extends T.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ie){const lt=new be(this,this);return lt.operator=Ie,lt}_throwIfClosed(){if(this.closed)throw new B}next(Ie){(0,nt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const lt of this.currentObservers)lt.next(Ie)}})}error(Ie){(0,nt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ie;const{observers:lt}=this;for(;lt.length;)lt.shift().error(Ie)}})}complete(){(0,nt.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ie}=this;for(;Ie.length;)Ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ie;return(null===(Ie=this.observers)||void 0===Ie?void 0:Ie.length)>0}_trySubscribe(Ie){return this._throwIfClosed(),super._trySubscribe(Ie)}_subscribe(Ie){return this._throwIfClosed(),this._checkFinalizedStatuses(Ie),this._innerSubscribe(Ie)}_innerSubscribe(Ie){const{hasError:lt,isStopped:Qe,observers:dt}=this;return lt||Qe?O.Kn:(this.currentObservers=null,dt.push(Ie),new O.yU(()=>{this.currentObservers=null,(0,Re.o)(dt,Ie)}))}_checkFinalizedStatuses(Ie){const{hasError:lt,thrownError:Qe,isStopped:dt}=this;lt?Ie.error(Qe):dt&&Ie.complete()}asObservable(){const Ie=new T.c;return Ie.source=this,Ie}}return We.create=(Te,Ie)=>new be(Te,Ie),We})();class be extends we{constructor(Te,Ie){super(),this.destination=Te,this.source=Ie}next(Te){var Ie,lt;null===(lt=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.next)||void 0===lt||lt.call(Ie,Te)}error(Te){var Ie,lt;null===(lt=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.error)||void 0===lt||lt.call(Ie,Te)}complete(){var Te,Ie;null===(Ie=null===(Te=this.destination)||void 0===Te?void 0:Te.complete)||void 0===Ie||Ie.call(Te)}_subscribe(Te){var Ie,lt;return null!==(lt=null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(Te))&&void 0!==lt?lt:O.Kn}}},1635:(bn,ze,$)=>{"use strict";function B(te,he){var fe={};for(var me in te)Object.prototype.hasOwnProperty.call(te,me)&&he.indexOf(me)<0&&(fe[me]=te[me]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var oe=0;for(me=Object.getOwnPropertySymbols(te);oe<me.length;oe++)he.indexOf(me[oe])<0&&Object.prototype.propertyIsEnumerable.call(te,me[oe])&&(fe[me[oe]]=te[me[oe]])}return fe}function lt(te,he,fe,me){return new(fe||(fe=Promise))(function(pe,Xe){function _t(Jn){try{en(me.next(Jn))}catch(Kt){Xe(Kt)}}function an(Jn){try{en(me.throw(Jn))}catch(Kt){Xe(Kt)}}function en(Jn){Jn.done?pe(Jn.value):function oe(pe){return pe instanceof fe?pe:new fe(function(Xe){Xe(pe)})}(Jn.value).then(_t,an)}en((me=me.apply(te,he||[])).next())})}function St(te){return this instanceof St?(this.v=te,this):new St(te)}function ke(te,he,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,me=fe.apply(te,he||[]),pe=[];return oe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),_t("next"),_t("throw"),_t("return",function Xe(Hn){return function(Zt){return Promise.resolve(Zt).then(Hn,Kt)}}),oe[Symbol.asyncIterator]=function(){return this},oe;function _t(Hn,Zt){me[Hn]&&(oe[Hn]=function(Ln){return new Promise(function(er,Dn){pe.push([Hn,Ln,er,Dn])>1||an(Hn,Ln)})},Zt&&(oe[Hn]=Zt(oe[Hn])))}function an(Hn,Zt){try{!function en(Hn){Hn.value instanceof St?Promise.resolve(Hn.value.v).then(Jn,Kt):Qn(pe[0][2],Hn)}(me[Hn](Zt))}catch(Ln){Qn(pe[0][3],Ln)}}function Jn(Hn){an("next",Hn)}function Kt(Hn){an("throw",Hn)}function Qn(Hn,Zt){Hn(Zt),pe.shift(),pe.length&&an(pe[0][0],pe[0][1])}}function Ye(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,he=te[Symbol.asyncIterator];return he?he.call(te):(te=function Ht(te){var he="function"==typeof Symbol&&Symbol.iterator,fe=he&&te[he],me=0;if(fe)return fe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&me>=te.length&&(te=void 0),{value:te&&te[me++],done:!te}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),fe={},me("next"),me("throw"),me("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function me(pe){fe[pe]=te[pe]&&function(Xe){return new Promise(function(_t,an){!function oe(pe,Xe,_t,an){Promise.resolve(an).then(function(en){pe({value:en,done:_t})},Xe)}(_t,an,(Xe=te[pe](Xe)).done,Xe.value)})}}}$.d(ze,{AQ:()=>ke,N3:()=>St,Tt:()=>B,sH:()=>lt,xN:()=>Ye}),"function"==typeof SuppressedError&&SuppressedError},1853:(bn,ze,$)=>{"use strict";function T(O){const B=O(Re=>{Error.call(Re),Re.stack=(new Error).stack});return B.prototype=Object.create(Error.prototype),B.prototype.constructor=B,B}$.d(ze,{L:()=>T})},1985:(bn,ze,$)=>{"use strict";$.d(ze,{c:()=>be});var T=$(7707),O=$(8359),Y=$(3494),B=$(1203),Re=$(1026),nt=$(8071),we=$(9786);let be=(()=>{class lt{constructor(dt){dt&&(this._subscribe=dt)}lift(dt){const Rt=new lt;return Rt.source=this,Rt.operator=dt,Rt}subscribe(dt,Rt,Ht){const Bt=function Ie(lt){return lt&&lt instanceof T.vU||function Te(lt){return lt&&(0,nt.T)(lt.next)&&(0,nt.T)(lt.error)&&(0,nt.T)(lt.complete)}(lt)&&(0,O.Uv)(lt)}(dt)?dt:new T.Ms(dt,Rt,Ht);return(0,we.Y)(()=>{const{operator:Jt,source:yt}=this;Bt.add(Jt?Jt.call(Bt,yt):yt?this._subscribe(Bt):this._trySubscribe(Bt))}),Bt}_trySubscribe(dt){try{return this._subscribe(dt)}catch(Rt){dt.error(Rt)}}forEach(dt,Rt){return new(Rt=We(Rt))((Ht,Bt)=>{const Jt=new T.Ms({next:yt=>{try{dt(yt)}catch(wt){Bt(wt),Jt.unsubscribe()}},error:Bt,complete:Ht});this.subscribe(Jt)})}_subscribe(dt){var Rt;return null===(Rt=this.source)||void 0===Rt?void 0:Rt.subscribe(dt)}[Y.s](){return this}pipe(...dt){return(0,B.m)(dt)(this)}toPromise(dt){return new(dt=We(dt))((Rt,Ht)=>{let Bt;this.subscribe(Jt=>Bt=Jt,Jt=>Ht(Jt),()=>Rt(Bt))})}}return lt.create=Qe=>new lt(Qe),lt})();function We(lt){var Qe;return null!==(Qe=lt??Re.$.Promise)&&void 0!==Qe?Qe:Promise}},2107:(bn,ze,$)=>{"use strict";$.d(ze,{wc:()=>Mo,c7:()=>xo,Xm:()=>Qr});var T=$(2967),O=$(1360),Y=$(7440),B=$(4125),Re=$(6335),nt=$(2214),we=$(467),be=$(7852),We=$(6858),Te=$(1362);const Ie="firebasestorage.googleapis.com";class Ht extends We.g{constructor(K,Ee,Pe=0){super(Jt(K),`Firebase Storage: ${Ee} (${Jt(K)})`),this.status_=Pe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ht.prototype)}get status(){return this.status_}set status(K){this.status_=K}_codeEquals(K){return Jt(K)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(K){this.customData.serverResponse=K,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Bt=function(q){return q.UNKNOWN="unknown",q.OBJECT_NOT_FOUND="object-not-found",q.BUCKET_NOT_FOUND="bucket-not-found",q.PROJECT_NOT_FOUND="project-not-found",q.QUOTA_EXCEEDED="quota-exceeded",q.UNAUTHENTICATED="unauthenticated",q.UNAUTHORIZED="unauthorized",q.UNAUTHORIZED_APP="unauthorized-app",q.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",q.INVALID_CHECKSUM="invalid-checksum",q.CANCELED="canceled",q.INVALID_EVENT_NAME="invalid-event-name",q.INVALID_URL="invalid-url",q.INVALID_DEFAULT_BUCKET="invalid-default-bucket",q.NO_DEFAULT_BUCKET="no-default-bucket",q.CANNOT_SLICE_BLOB="cannot-slice-blob",q.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",q.NO_DOWNLOAD_URL="no-download-url",q.INVALID_ARGUMENT="invalid-argument",q.INVALID_ARGUMENT_COUNT="invalid-argument-count",q.APP_DELETED="app-deleted",q.INVALID_ROOT_OPERATION="invalid-root-operation",q.INVALID_FORMAT="invalid-format",q.INTERNAL_ERROR="internal-error",q.UNSUPPORTED_ENVIRONMENT="unsupported-environment",q}(Bt||{});function Jt(q){return"storage/"+q}function Je(q){return new Ht(Bt.INVALID_ARGUMENT,q)}function rn(){return new Ht(Bt.APP_DELETED,"The Firebase app was deleted.")}class he{constructor(K,Ee){this.bucket=K,this.path_=Ee}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const K=encodeURIComponent;return"/b/"+K(this.bucket)+"/o/"+K(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(K,Ee){let Pe;try{Pe=he.makeFromUrl(K,Ee)}catch{return new he(K,"")}if(""===Pe.path)return Pe;throw function ct(q){return new Ht(Bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+q+"'.")}(K)}static makeFromUrl(K,Ee){let Pe=null;const ot="([A-Za-z0-9.\\-_]+)",Tn=new RegExp("^gs://"+ot+"(/(.*))?$","i");function hr(Pi){Pi.path_=decodeURIComponent(Pi.path)}const Lr=Ee.replace(/[.]/g,"\\."),_i=[{regex:Tn,indices:{bucket:1,path:3},postModify:function xt(Pi){"/"===Pi.path.charAt(Pi.path.length-1)&&(Pi.path_=Pi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Lr}/v[A-Za-z0-9_]+/b/${ot}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:hr},{regex:new RegExp(`^https?://${Ee===Ie?"(?:storage.googleapis.com|storage.cloud.google.com)":Ee}/${ot}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:hr}];for(let Pi=0;Pi<_i.length;Pi++){const Do=_i[Pi],ei=Do.regex.exec(K);if(ei){let Ko=ei[Do.indices.path];Ko||(Ko=""),Pe=new he(ei[Do.indices.bucket],Ko),Do.postModify(Pe);break}}if(null==Pe)throw function Tt(q){return new Ht(Bt.INVALID_URL,"Invalid URL '"+q+"'.")}(K);return Pe}}class fe{constructor(K){this.promise_=Promise.reject(K)}getPromise(){return this.promise_}cancel(K=!1){}}function Kt(q,K,Ee,Pe){if(Pe<K)throw Je(`Invalid value for '${q}'. Expected ${K} or greater.`);if(Pe>Ee)throw Je(`Invalid value for '${q}'. Expected ${Ee} or less.`)}var Zt=function(q){return q[q.NO_ERROR=0]="NO_ERROR",q[q.NETWORK_ERROR=1]="NETWORK_ERROR",q[q.ABORT=2]="ABORT",q}(Zt||{});class er{constructor(K,Ee,Pe,ot,xt,Qt,Tn,pn,hr,Xn,Lr,Ii=!0,yi=!1){this.url_=K,this.method_=Ee,this.headers_=Pe,this.body_=ot,this.successCodes_=xt,this.additionalRetryCodes_=Qt,this.callback_=Tn,this.errorCallback_=pn,this.timeout_=hr,this.progressCallback_=Xn,this.connectionFactory_=Lr,this.retry=Ii,this.isUsingEmulator=yi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Bi,Ri)=>{this.resolve_=Bi,this.reject_=Ri,this.start_()})}start_(){const Ee=(Pe,ot)=>{const xt=this.resolve_,Qt=this.reject_,Tn=ot.connection;if(ot.wasSuccessCode)try{const pn=this.callback_(Tn,Tn.getResponse());!function pe(q){return void 0!==q}(pn)?xt():xt(pn)}catch(pn){Qt(pn)}else if(null!==Tn){const pn=function yt(){return new Ht(Bt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();pn.serverResponse=Tn.getErrorText(),Qt(this.errorCallback_?this.errorCallback_(Tn,pn):pn)}else Qt(ot.canceled?this.appDelete_?rn():function qt(){return new Ht(Bt.CANCELED,"User canceled the upload/download.")}():function It(){return new Ht(Bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?Ee(0,new Dn(!1,null,!0)):this.backoffId_=function me(q,K,Ee){let Pe=1,ot=null,xt=null,Qt=!1,Tn=0;function pn(){return 2===Tn}let hr=!1;function Xn(...Jr){hr||(hr=!0,K.apply(null,Jr))}function Lr(Jr){ot=setTimeout(()=>{ot=null,q(yi,pn())},Jr)}function Ii(){xt&&clearTimeout(xt)}function yi(Jr,...ki){if(hr)return void Ii();if(Jr)return Ii(),void Xn.call(null,Jr,...ki);if(pn()||Qt)return Ii(),void Xn.call(null,Jr,...ki);let _i;Pe<64&&(Pe*=2),1===Tn?(Tn=2,_i=0):_i=1e3*(Pe+Math.random()),Lr(_i)}let Bi=!1;function Ri(Jr){Bi||(Bi=!0,Ii(),!hr&&(null!==ot?(Jr||(Tn=2),clearTimeout(ot),Lr(0)):Jr||(Tn=1)))}return Lr(0),xt=setTimeout(()=>{Qt=!0,Ri(!0)},Ee),Ri}((Pe,ot)=>{if(ot)return void Pe(!1,new Dn(!1,null,!0));const xt=this.connectionFactory_();this.pendingConnection_=xt;const Qt=Tn=>{null!==this.progressCallback_&&this.progressCallback_(Tn.loaded,Tn.lengthComputable?Tn.total:-1)};null!==this.progressCallback_&&xt.addUploadProgressListener(Qt),xt.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&xt.removeUploadProgressListener(Qt),this.pendingConnection_=null;const Tn=xt.getErrorCode()===Zt.NO_ERROR,pn=xt.getStatus();if(!Tn||function Ln(q,K){const Ee=q>=500&&q<600,ot=-1!==[408,429].indexOf(q),xt=-1!==K.indexOf(q);return Ee||ot||xt}(pn,this.additionalRetryCodes_)&&this.retry){const Xn=xt.getErrorCode()===Zt.ABORT;return void Pe(!1,new Dn(!1,null,Xn))}const hr=-1!==this.successCodes_.indexOf(pn);Pe(!0,new Dn(hr,xt))})},Ee,this.timeout_)}getPromise(){return this.promise_}cancel(K){this.canceled_=!0,this.appDelete_=K||!1,null!==this.backoffId_&&function oe(q){q(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Dn{constructor(K,Ee,Pe){this.wasSuccessCode=K,this.connection=Ee,this.canceled=!!Pe}}class tr{constructor(K,Ee){this._service=K,this._location=Ee instanceof he?Ee:he.makeFromUrl(Ee,K.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(K,Ee){return new tr(K,Ee)}get root(){const K=new he(this._location.bucket,"");return this._newRef(this._service,K)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function Cn(q){const K=q.lastIndexOf("/",q.length-2);return-1===K?q:q.slice(K+1)}(this._location.path)}get storage(){return this._service}get parent(){const K=function gi(q){if(0===q.length)return null;const K=q.lastIndexOf("/");return-1===K?"":q.slice(0,K)}(this._location.path);if(null===K)return null;const Ee=new he(this._location.bucket,K);return new tr(this._service,Ee)}_throwIfRoot(K){if(""===this._location.path)throw function kt(q){return new Ht(Bt.INVALID_ROOT_OPERATION,"The operation '"+q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(K)}}function gr(q,K){const Ee=K?.storageBucket;return null==Ee?null:he.makeFromBucketSpec(Ee,q)}class mr{constructor(K,Ee,Pe,ot,xt,Qt=!1){this.app=K,this._authProvider=Ee,this._appCheckProvider=Pe,this._url=ot,this._firebaseVersion=xt,this._isUsingEmulator=Qt,this._bucket=null,this._host=Ie,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ot?he.makeFromBucketSpec(ot,this._host):gr(this._host,this.app.options)}get host(){return this._host}set host(K){this._host=K,this._bucket=null!=this._url?he.makeFromBucketSpec(this._url,K):gr(K,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(K){Kt("time",0,Number.POSITIVE_INFINITY,K),this._maxUploadRetryTime=K}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(K){Kt("time",0,Number.POSITIVE_INFINITY,K),this._maxOperationRetryTime=K}_getAuthToken(){var K=this;return(0,we.A)(function*(){if(K._overrideAuthToken)return K._overrideAuthToken;const Ee=K._authProvider.getImmediate({optional:!0});if(Ee){const Pe=yield Ee.getToken();if(null!==Pe)return Pe.accessToken}return null})()}_getAppCheckToken(){var K=this;return(0,we.A)(function*(){if((0,be.xZ)(K.app)&&K.app.settings.appCheckToken)return K.app.settings.appCheckToken;const Ee=K._appCheckProvider.getImmediate({optional:!0});return Ee?(yield Ee.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(K=>K.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(K){return new tr(this,K)}_makeRequest(K,Ee,Pe,ot,xt=!0){if(this._deleted)return new fe(rn());{const Qt=function dr(q,K,Ee,Pe,ot,xt,Qt=!0,Tn=!1){const pn=function Hn(q){const K=encodeURIComponent;let Ee="?";for(const Pe in q)q.hasOwnProperty(Pe)&&(Ee=Ee+(K(Pe)+"=")+K(q[Pe])+"&");return Ee=Ee.slice(0,-1),Ee}(q.urlParams),hr=q.url+pn,Xn=Object.assign({},q.headers);return function Ci(q,K){K&&(q["X-Firebase-GMPID"]=K)}(Xn,K),function Mr(q,K){null!==K&&K.length>0&&(q.Authorization="Firebase "+K)}(Xn,Ee),function Pr(q,K){q["X-Firebase-Storage-Version"]="webjs/"+(K??"AppManager")}(Xn,xt),function fn(q,K){null!==K&&(q["X-Firebase-AppCheck"]=K)}(Xn,Pe),new er(hr,q.method,Xn,q.body,q.successCodes,q.additionalRetryCodes,q.handler,q.errorHandler,q.timeout,q.progressCallback,ot,Qt,Tn)}(K,this._appId,Pe,ot,Ee,this._firebaseVersion,xt,this._isUsingEmulator);return this._requests.add(Qt),Qt.getPromise().then(()=>this._requests.delete(Qt),()=>this._requests.delete(Qt)),Qt}}makeRequestWithTokens(K,Ee){var Pe=this;return(0,we.A)(function*(){const[ot,xt]=yield Promise.all([Pe._getAuthToken(),Pe._getAppCheckToken()]);return Pe._makeRequest(K,Ee,ot,xt).getPromise()})()}}const zi="@firebase/storage",mi="0.13.12",Io="storage";function os(q=(0,be.Sx)(),K){q=(0,We.Ku)(q);const Pe=(0,be.j6)(q,Io).getImmediate({identifier:K}),ot=(0,We.yU)("storage");return ot&&function En(q,K,Ee,Pe={}){!function Fn(q,K,Ee,Pe={}){q.host=`${K}:${Ee}`;const ot=(0,We.zJ)(K);ot&&((0,We.gE)(`https://${q.host}`),(0,We.P1)("Storage",!0)),q._isUsingEmulator=!0,q._protocol=ot?"https":"http";const{mockUserToken:xt}=Pe;xt&&(q._overrideAuthToken="string"==typeof xt?xt:(0,We.Fy)(xt,q.app.options.projectId))}(q,K,Ee,Pe)}(Pe,...ot),Pe}function Po(q,{instanceIdentifier:K}){const Ee=q.getProvider("app").getImmediate(),Pe=q.getProvider("auth-internal"),ot=q.getProvider("app-check-internal");return new mr(Ee,Pe,ot,K,be.MF)}!function Zo(){(0,be.om)(new Te.uA(Io,Po,"PUBLIC").setMultipleInstances(!0)),(0,be.KO)(zi,mi,""),(0,be.KO)(zi,mi,"esm2017")}();class Mo{constructor(K){return K}}const Is="storage",Wo=new O.nKC("angularfire2.storage-instances");function Go(q){return(K,Ee)=>{const Pe=K.runOutsideAngular(()=>q(Ee));return new Mo(Pe)}}const Ts={provide:class as{constructor(){return(0,T.CA)(Is)}},deps:[[new O.Xx1,Wo]]},Wr={provide:Mo,useFactory:function go(q,K){const Ee=(0,T.lR)(Is,q,K);return Ee&&new Mo(Ee)},deps:[[new O.Xx1,Wo],Y.XU]};function Qr(q,...K){return(0,nt.KO)("angularfire",T.xv.full,"gcs"),(0,O.EmA)([Wr,Ts,{provide:Wo,useFactory:Go(q),multi:!0,deps:[O.SKi,O.zZn,T.u0,Y.gL,[new O.Xx1,Re.DF],[new O.Xx1,B.kR],...K]}])}const xo=(0,T.S3)(os,!0)},2214:(bn,ze,$)=>{"use strict";$.d(ze,{Dk:()=>T.Dk,KO:()=>T.KO,Sx:()=>T.Sx,Wp:()=>T.Wp});var T=$(7852);(0,T.KO)("firebase","11.8.1","app")},2881:(bn,ze,$)=>{"use strict";$.d(ze,{MD:()=>io,Sq:()=>Li,TG:()=>Gt,YU:()=>_n,bT:()=>ye,fw:()=>Y,vh:()=>ve});var T=$(1360),O=$(6048);let Y=(()=>{class j extends O.hb{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(X,re){super(),this._platformLocation=X,null!=re&&(this._baseHref=re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(X){this._removeListenerFns.push(this._platformLocation.onPopState(X),this._platformLocation.onHashChange(X))}getBaseHref(){return this._baseHref}path(X=!1){const re=this._platformLocation.hash??"#";return re.length>0?re.substring(1):re}prepareExternalUrl(X){const re=(0,O.om)(this._baseHref,X);return re.length>0?"#"+re:re}pushState(X,re,Me,At){const un=this.prepareExternalUrl(Me+(0,O.Q)(At))||this._platformLocation.pathname;this._platformLocation.pushState(X,re,un)}replaceState(X,re,Me,At){const un=this.prepareExternalUrl(Me+(0,O.Q)(At))||this._platformLocation.pathname;this._platformLocation.replaceState(X,re,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(X=0){this._platformLocation.historyGo?.(X)}static \u0275fac=function(re){return new(re||j)(T.KVO(O.Vw),T.KVO(O.kB,8))};static \u0275prov=T.jDH({token:j,factory:j.\u0275fac})}return j})();var we=function(j){return j[j.Format=0]="Format",j[j.Standalone=1]="Standalone",j}(we||{}),be=function(j){return j[j.Narrow=0]="Narrow",j[j.Abbreviated=1]="Abbreviated",j[j.Wide=2]="Wide",j[j.Short=3]="Short",j}(be||{}),We=function(j){return j[j.Short=0]="Short",j[j.Medium=1]="Medium",j[j.Long=2]="Long",j[j.Full=3]="Full",j}(We||{});function yt(j,ge){return wn((0,T.H5H)(j)[T.KH2.DateFormat],ge)}function wt(j,ge){return wn((0,T.H5H)(j)[T.KH2.TimeFormat],ge)}function St(j,ge){return wn((0,T.H5H)(j)[T.KH2.DateTimeFormat],ge)}function ke(j,ge){const X=(0,T.H5H)(j),re=X[T.KH2.NumberSymbols][ge];if(typeof re>"u"){if(12===ge)return X[T.KH2.NumberSymbols][0];if(13===ge)return X[T.KH2.NumberSymbols][1]}return re}function Vn(j){if(!j[T.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${j[T.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wn(j,ge){for(let X=ge;X>-1;X--)if(typeof j[X]<"u")return j[X];throw new Error("Locale data API: locale data undefined")}function Je(j){const[ge,X]=j.split(":");return{hours:+ge,minutes:+X}}const te=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,he={},fe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function me(j,ge,X,re){let Me=function Nr(j){if(Er(j))return j;if("number"==typeof j&&!isNaN(j))return new Date(j);if("string"==typeof j){if(j=j.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(j)){const[Me,At=1,un=1]=j.split("-").map(xn=>+xn);return oe(Me,At-1,un)}const X=parseFloat(j);if(!isNaN(j-X))return new Date(X);let re;if(re=j.match(te))return function ht(j){const ge=new Date(0);let X=0,re=0;const Me=j[8]?ge.setUTCFullYear:ge.setFullYear,At=j[8]?ge.setUTCHours:ge.setHours;j[9]&&(X=Number(j[9]+j[10]),re=Number(j[9]+j[11])),Me.call(ge,Number(j[1]),Number(j[2])-1,Number(j[3]));const un=Number(j[4]||0)-X,xn=Number(j[5]||0)-re,oi=Number(j[6]||0),Kr=Math.floor(1e3*parseFloat("0."+(j[7]||0)));return At.call(ge,un,xn,oi,Kr),ge}(re)}const ge=new Date(j);if(!Er(ge))throw new Error(`Unable to convert "${j}" into a date`);return ge}(j);ge=pe(X,ge)||ge;let xn,un=[];for(;ge;){if(xn=fe.exec(ge),!xn){un.push(ge);break}{un=un.concat(xn.slice(1));const qr=un.pop();if(!qr)break;ge=qr}}let oi=Me.getTimezoneOffset();re&&(oi=dr(re,oi),Me=function Qi(j,ge){const Me=j.getTimezoneOffset();return function cn(j,ge){return(j=new Date(j.getTime())).setMinutes(j.getMinutes()+ge),j}(j,-1*(dr(ge,Me)-Me))}(Me,re));let Kr="";return un.forEach(qr=>{const gr=function fn(j){if(Ci[j])return Ci[j];let ge;switch(j){case"G":case"GG":case"GGG":ge=Kt(3,be.Abbreviated);break;case"GGGG":ge=Kt(3,be.Wide);break;case"GGGGG":ge=Kt(3,be.Narrow);break;case"y":ge=en(0,1,0,!1,!0);break;case"yy":ge=en(0,2,0,!0,!0);break;case"yyy":ge=en(0,3,0,!1,!0);break;case"yyyy":ge=en(0,4,0,!1,!0);break;case"Y":ge=Pr(1);break;case"YY":ge=Pr(2,!0);break;case"YYY":ge=Pr(3);break;case"YYYY":ge=Pr(4);break;case"M":case"L":ge=en(1,1,1);break;case"MM":case"LL":ge=en(1,2,1);break;case"MMM":ge=Kt(2,be.Abbreviated);break;case"MMMM":ge=Kt(2,be.Wide);break;case"MMMMM":ge=Kt(2,be.Narrow);break;case"LLL":ge=Kt(2,be.Abbreviated,we.Standalone);break;case"LLLL":ge=Kt(2,be.Wide,we.Standalone);break;case"LLLLL":ge=Kt(2,be.Narrow,we.Standalone);break;case"w":ge=Mr(1);break;case"ww":ge=Mr(2);break;case"W":ge=Mr(1,!0);break;case"d":ge=en(2,1);break;case"dd":ge=en(2,2);break;case"c":case"cc":ge=en(7,1);break;case"ccc":ge=Kt(1,be.Abbreviated,we.Standalone);break;case"cccc":ge=Kt(1,be.Wide,we.Standalone);break;case"ccccc":ge=Kt(1,be.Narrow,we.Standalone);break;case"cccccc":ge=Kt(1,be.Short,we.Standalone);break;case"E":case"EE":case"EEE":ge=Kt(1,be.Abbreviated);break;case"EEEE":ge=Kt(1,be.Wide);break;case"EEEEE":ge=Kt(1,be.Narrow);break;case"EEEEEE":ge=Kt(1,be.Short);break;case"a":case"aa":case"aaa":ge=Kt(0,be.Abbreviated);break;case"aaaa":ge=Kt(0,be.Wide);break;case"aaaaa":ge=Kt(0,be.Narrow);break;case"b":case"bb":case"bbb":ge=Kt(0,be.Abbreviated,we.Standalone,!0);break;case"bbbb":ge=Kt(0,be.Wide,we.Standalone,!0);break;case"bbbbb":ge=Kt(0,be.Narrow,we.Standalone,!0);break;case"B":case"BB":case"BBB":ge=Kt(0,be.Abbreviated,we.Format,!0);break;case"BBBB":ge=Kt(0,be.Wide,we.Format,!0);break;case"BBBBB":ge=Kt(0,be.Narrow,we.Format,!0);break;case"h":ge=en(3,1,-12);break;case"hh":ge=en(3,2,-12);break;case"H":ge=en(3,1);break;case"HH":ge=en(3,2);break;case"m":ge=en(4,1);break;case"mm":ge=en(4,2);break;case"s":ge=en(5,1);break;case"ss":ge=en(5,2);break;case"S":ge=en(6,1);break;case"SS":ge=en(6,2);break;case"SSS":ge=en(6,3);break;case"Z":case"ZZ":case"ZZZ":ge=Hn(0);break;case"ZZZZZ":ge=Hn(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ge=Hn(1);break;case"OOOO":case"ZZZZ":case"zzzz":ge=Hn(2);break;default:return null}return Ci[j]=ge,ge}(qr);Kr+=gr?gr(Me,X,oi):"''"===qr?"'":qr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Kr}function oe(j,ge,X){const re=new Date(0);return re.setFullYear(j,ge,X),re.setHours(0,0,0),re}function pe(j,ge){const X=function lt(j){return(0,T.H5H)(j)[T.KH2.LocaleId]}(j);if(he[X]??={},he[X][ge])return he[X][ge];let re="";switch(ge){case"shortDate":re=yt(j,We.Short);break;case"mediumDate":re=yt(j,We.Medium);break;case"longDate":re=yt(j,We.Long);break;case"fullDate":re=yt(j,We.Full);break;case"shortTime":re=wt(j,We.Short);break;case"mediumTime":re=wt(j,We.Medium);break;case"longTime":re=wt(j,We.Long);break;case"fullTime":re=wt(j,We.Full);break;case"short":const Me=pe(j,"shortTime"),At=pe(j,"shortDate");re=Xe(St(j,We.Short),[Me,At]);break;case"medium":const un=pe(j,"mediumTime"),xn=pe(j,"mediumDate");re=Xe(St(j,We.Medium),[un,xn]);break;case"long":const oi=pe(j,"longTime"),Kr=pe(j,"longDate");re=Xe(St(j,We.Long),[oi,Kr]);break;case"full":const qr=pe(j,"fullTime"),gr=pe(j,"fullDate");re=Xe(St(j,We.Full),[qr,gr])}return re&&(he[X][ge]=re),re}function Xe(j,ge){return ge&&(j=j.replace(/\{([^}]+)}/g,function(X,re){return null!=ge&&re in ge?ge[re]:X})),j}function _t(j,ge,X="-",re,Me){let At="";(j<0||Me&&j<=0)&&(Me?j=1-j:(j=-j,At=X));let un=String(j);for(;un.length<ge;)un="0"+un;return re&&(un=un.slice(un.length-ge)),At+un}function en(j,ge,X=0,re=!1,Me=!1){return function(At,un){let xn=function Jn(j,ge){switch(j){case 0:return ge.getFullYear();case 1:return ge.getMonth();case 2:return ge.getDate();case 3:return ge.getHours();case 4:return ge.getMinutes();case 5:return ge.getSeconds();case 6:return ge.getMilliseconds();case 7:return ge.getDay();default:throw new Error(`Unknown DateType value "${j}".`)}}(j,At);if((X>0||xn>-X)&&(xn+=X),3===j)0===xn&&-12===X&&(xn=12);else if(6===j)return function an(j,ge){return _t(j,3).substring(0,ge)}(xn,ge);const oi=ke(un,5);return _t(xn,ge,oi,re,Me)}}function Kt(j,ge,X=we.Format,re=!1){return function(Me,At){return function Qn(j,ge,X,re,Me,At){switch(X){case 2:return function Rt(j,ge,X){const re=(0,T.H5H)(j),At=wn([re[T.KH2.MonthsFormat],re[T.KH2.MonthsStandalone]],ge);return wn(At,X)}(ge,Me,re)[j.getMonth()];case 1:return function dt(j,ge,X){const re=(0,T.H5H)(j),At=wn([re[T.KH2.DaysFormat],re[T.KH2.DaysStandalone]],ge);return wn(At,X)}(ge,Me,re)[j.getDay()];case 0:const un=j.getHours(),xn=j.getMinutes();if(At){const Kr=function Mn(j){const ge=(0,T.H5H)(j);return Vn(ge),(ge[T.KH2.ExtraData][2]||[]).map(re=>"string"==typeof re?Je(re):[Je(re[0]),Je(re[1])])}(ge),qr=function Kn(j,ge,X){const re=(0,T.H5H)(j);Vn(re);const At=wn([re[T.KH2.ExtraData][0],re[T.KH2.ExtraData][1]],ge)||[];return wn(At,X)||[]}(ge,Me,re),gr=Kr.findIndex(Fn=>{if(Array.isArray(Fn)){const[mr,zi]=Fn,mi=un>=mr.hours&&xn>=mr.minutes,Io=un<zi.hours||un===zi.hours&&xn<zi.minutes;if(mr.hours<zi.hours){if(mi&&Io)return!0}else if(mi||Io)return!0}else if(Fn.hours===un&&Fn.minutes===xn)return!0;return!1});if(-1!==gr)return qr[gr]}return function Qe(j,ge,X){const re=(0,T.H5H)(j),At=wn([re[T.KH2.DayPeriodsFormat],re[T.KH2.DayPeriodsStandalone]],ge);return wn(At,X)}(ge,Me,re)[un<12?0:1];case 3:return function Ht(j,ge){return wn((0,T.H5H)(j)[T.KH2.Eras],ge)}(ge,re)[j.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${X}`)}}(Me,At,j,ge,X,re)}}function Hn(j){return function(ge,X,re){const Me=-1*re,At=ke(X,5),un=Me>0?Math.floor(Me/60):Math.ceil(Me/60);switch(j){case 0:return(Me>=0?"+":"")+_t(un,2,At)+_t(Math.abs(Me%60),2,At);case 1:return"GMT"+(Me>=0?"+":"")+_t(un,1,At);case 2:return"GMT"+(Me>=0?"+":"")+_t(un,2,At)+":"+_t(Math.abs(Me%60),2,At);case 3:return 0===re?"Z":(Me>=0?"+":"")+_t(un,2,At)+":"+_t(Math.abs(Me%60),2,At);default:throw new Error(`Unknown zone width "${j}"`)}}}const Zt=0,Ln=4;function Dn(j){const ge=j.getDay(),X=0===ge?-3:Ln-ge;return oe(j.getFullYear(),j.getMonth(),j.getDate()+X)}function Mr(j,ge=!1){return function(X,re){let Me;if(ge){const At=new Date(X.getFullYear(),X.getMonth(),1).getDay()-1,un=X.getDate();Me=1+Math.floor((un+At)/7)}else{const At=Dn(X),un=function er(j){const ge=oe(j,Zt,1).getDay();return oe(j,0,1+(ge<=Ln?Ln:Ln+7)-ge)}(At.getFullYear()),xn=At.getTime()-un.getTime();Me=1+Math.round(xn/6048e5)}return _t(Me,j,ke(re,5))}}function Pr(j,ge=!1){return function(X,re){return _t(Dn(X).getFullYear(),j,ke(re,5),ge)}}const Ci={};function dr(j,ge){j=j.replace(/:/g,"");const X=Date.parse("Jan 01, 1970 00:00:00 "+j)/6e4;return isNaN(X)?ge:X}function Er(j){return j instanceof Date&&!isNaN(j.valueOf())}const ii=/\s+/,Oi=[];let _n=(()=>{class j{_ngEl;_renderer;initialClasses=Oi;rawClass;stateMap=new Map;constructor(X,re){this._ngEl=X,this._renderer=re}set klass(X){this.initialClasses=null!=X?X.trim().split(ii):Oi}set ngClass(X){this.rawClass="string"==typeof X?X.trim().split(ii):X}ngDoCheck(){for(const re of this.initialClasses)this._updateState(re,!0);const X=this.rawClass;if(Array.isArray(X)||X instanceof Set)for(const re of X)this._updateState(re,!0);else if(null!=X)for(const re of Object.keys(X))this._updateState(re,!!X[re]);this._applyStateDiff()}_updateState(X,re){const Me=this.stateMap.get(X);void 0!==Me?(Me.enabled!==re&&(Me.changed=!0,Me.enabled=re),Me.touched=!0):this.stateMap.set(X,{enabled:re,changed:!0,touched:!0})}_applyStateDiff(){for(const X of this.stateMap){const re=X[0],Me=X[1];Me.changed?(this._toggleClass(re,Me.enabled),Me.changed=!1):Me.touched||(Me.enabled&&this._toggleClass(re,!1),this.stateMap.delete(re)),Me.touched=!1}}_toggleClass(X,re){(X=X.trim()).length>0&&X.split(ii).forEach(Me=>{re?this._renderer.addClass(this._ngEl.nativeElement,Me):this._renderer.removeClass(this._ngEl.nativeElement,Me)})}static \u0275fac=function(re){return new(re||j)(T.rXU(T.aKT),T.rXU(T.sFG))};static \u0275dir=T.FsC({type:j,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return j})();class Fi{$implicit;ngForOf;index;count;constructor(ge,X,re,Me){this.$implicit=ge,this.ngForOf=X,this.index=re,this.count=Me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class j{_viewContainer;_template;_differs;set ngForOf(X){this._ngForOf=X,this._ngForOfDirty=!0}set ngForTrackBy(X){this._trackByFn=X}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(X,re,Me){this._viewContainer=X,this._template=re,this._differs=Me}set ngForTemplate(X){X&&(this._template=X)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const X=this._ngForOf;!this._differ&&X&&(this._differ=this._differs.find(X).create(this.ngForTrackBy))}if(this._differ){const X=this._differ.diff(this._ngForOf);X&&this._applyChanges(X)}}_applyChanges(X){const re=this._viewContainer;X.forEachOperation((Me,At,un)=>{if(null==Me.previousIndex)re.createEmbeddedView(this._template,new Fi(Me.item,this._ngForOf,-1,-1),null===un?void 0:un);else if(null==un)re.remove(null===At?void 0:At);else if(null!==At){const xn=re.get(At);re.move(xn,un),Vi(xn,Me)}});for(let Me=0,At=re.length;Me<At;Me++){const xn=re.get(Me).context;xn.index=Me,xn.count=At,xn.ngForOf=this._ngForOf}X.forEachIdentityChange(Me=>{Vi(re.get(Me.currentIndex),Me)})}static ngTemplateContextGuard(X,re){return!0}static \u0275fac=function(re){return new(re||j)(T.rXU(T.c1b),T.rXU(T.C4Q),T.rXU(T._q3))};static \u0275dir=T.FsC({type:j,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return j})();function Vi(j,ge){j.context.$implicit=ge.item}let ye=(()=>{class j{_viewContainer;_context=new je;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(X,re){this._viewContainer=X,this._thenTemplateRef=re}set ngIf(X){this._context.$implicit=this._context.ngIf=X,this._updateView()}set ngIfThen(X){Lt(X),this._thenTemplateRef=X,this._thenViewRef=null,this._updateView()}set ngIfElse(X){Lt(X),this._elseTemplateRef=X,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(X,re){return!0}static \u0275fac=function(re){return new(re||j)(T.rXU(T.c1b),T.rXU(T.C4Q))};static \u0275dir=T.FsC({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return j})();class je{$implicit=null;ngIf=null}function Lt(j,ge){if(j&&!j.createEmbeddedView)throw new T.wOt(2020,!1)}const wi=new T.nKC(""),Si=new T.nKC("");let ve=(()=>{class j{locale;defaultTimezone;defaultOptions;constructor(X,re,Me){this.locale=X,this.defaultTimezone=re,this.defaultOptions=Me}transform(X,re,Me,At){if(null==X||""===X||X!=X)return null;try{return me(X,re??this.defaultOptions?.dateFormat??"mediumDate",At||this.locale,Me??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(un){throw function _e(j,ge){return new T.wOt(2100,!1)}()}}static \u0275fac=function(re){return new(re||j)(T.rXU(T.xe9,16),T.rXU(wi,24),T.rXU(Si,24))};static \u0275pipe=T.EJ8({name:"date",type:j,pure:!0})}return j})(),Gt=(()=>{class j{transform(X){return JSON.stringify(X,null,2)}static \u0275fac=function(re){return new(re||j)};static \u0275pipe=T.EJ8({name:"json",type:j,pure:!1})}return j})(),io=(()=>{class j{static \u0275fac=function(re){return new(re||j)};static \u0275mod=T.$C({type:j});static \u0275inj=T.G2t({})}return j})()},2967:(bn,ze,$)=>{"use strict";$.d(ze,{xv:()=>it,u0:()=>Kn,CA:()=>qt,lR:()=>It,S3:()=>Ke});var T=$(1360),O=$(2214),Y=$(1985);function lt(te){void 0===te&&((0,T.Af3)(lt),te=(0,T.WQX)(T.zZn));const he=te.get(T.u5s);return fe=>new Y.c(me=>{const oe=he.add();let pe=!1;function Xe(){pe||(oe(),pe=!0)}const _t=fe.subscribe({next:an=>{me.next(an),Xe()},complete:()=>{me.complete(),Xe()},error:an=>{me.error(an),Xe()}});return _t.add(()=>{me.unsubscribe(),Xe()}),_t})}var dt=$(6780),Ht=$(3604);const Jt=new class Bt extends Ht.q{}(class Rt extends dt.R{constructor(he,fe){super(he,fe),this.scheduler=he,this.work=fe}schedule(he,fe=0){return fe>0?super.schedule(he,fe):(this.delay=fe,this.state=he,this.scheduler.flush(this),this)}execute(he,fe){return fe>0||this.closed?super.execute(he,fe):this._execute(he,fe)}requestAsyncId(he,fe,me=0){return null!=me&&me>0||null==me&&this.delay>0?super.requestAsyncId(he,fe,me):(he.flush(this),0)}});var wt=$(3236),St=$(6745),ke=$(941);const it=new T.RxE("ANGULARFIRE2_VERSION");function It(te,he,fe){if(he){if(1===he.length)return he[0];const pe=he.filter(Xe=>Xe.app===fe);if(1===pe.length)return pe[0]}return fe.container.getProvider(te).getImmediate({optional:!0})}const qt=(te,he)=>{const fe=he?[he]:(0,O.Dk)(),me=[];return fe.forEach(oe=>{oe.container.getProvider(te).instances.forEach(Xe=>{me.includes(Xe)||me.push(Xe)})}),me};var Tt=function(te){return te[te.SILENT=0]="SILENT",te[te.WARN=1]="WARN",te[te.VERBOSE=2]="VERBOSE",te}(Tt||{}),ct=(0,T.naY)()&&typeof Zone<"u"?Tt.WARN:Tt.SILENT;class Mn{zone;delegate;constructor(he,fe=Jt){this.zone=he,this.delegate=fe}now(){return this.delegate.now()}schedule(he,fe,me){const oe=this.zone;return this.delegate.schedule(function(Xe){oe?oe.runGuarded(()=>{he.apply(this,[Xe])}):he.apply(this,[Xe])},fe,me)}}let Kn=(()=>{class te{outsideAngular;insideAngular;constructor(){const fe=(0,T.WQX)(T.SKi);this.outsideAngular=fe.runOutsideAngular(()=>new Mn(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=fe.run(()=>new Mn(typeof Zone>"u"?void 0:Zone.current,wt.E))}static \u0275fac=function(me){return new(me||te)};static \u0275prov=T.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();var pt=!1;function rn(te){const he=(0,T.WQX)(T.SKi,{optional:!0});return he?he.run(()=>te()):te()}const kt=(te,he,fe)=>(...me)=>(he&&setTimeout(he,0),(0,T.N4e)(fe,()=>rn(()=>te.apply(void 0,me)))),Ke=(te,he,fe)=>(fe||=he?Tt.WARN:Tt.VERBOSE,function(){let me;const oe=arguments;let pe,Xe,_t;try{pe=(0,T.WQX)(Kn),Xe=(0,T.WQX)(T.u5s),_t=(0,T.WQX)(T.uvJ)}catch{return function wn(te,he){!pt&&(ct>Tt.SILENT||(0,T.naY)())&&(pt=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ct>=he&&console.warn(`Firebase API called outside injection context: ${te.name}`)}(te,fe),te.apply(this,oe)}for(let en=0;en<arguments.length;en++)"function"==typeof oe[en]&&(he&&(me||=rn(()=>Xe.add())),oe[en]=kt(oe[en],me,_t));const an=function Je(te){const he=(0,T.WQX)(T.SKi,{optional:!0});return he?he.runOutsideAngular(()=>te()):te()}(()=>te.apply(this,oe));return he?an instanceof Y.c?an.pipe((0,St._)(pe.outsideAngular),(0,ke.Q)(pe.insideAngular),lt(_t)):an instanceof Promise?rn(()=>new Promise((en,Jn)=>{Xe.run(()=>an).then(Kt=>(0,T.N4e)(_t,()=>rn(()=>en(Kt))),Kt=>(0,T.N4e)(_t,()=>rn(()=>Jn(Kt))))})):"function"==typeof an&&me?function(){return setTimeout(me,0),an.apply(this,arguments)}:rn(()=>an):an instanceof Y.c?an.pipe((0,St._)(pe.outsideAngular),(0,ke.Q)(pe.insideAngular)):rn(()=>an)})},3073:(bn,ze,$)=>{"use strict";$.d(ze,{D:()=>Re});const{isArray:T}=Array,{getPrototypeOf:O,prototype:Y,keys:B}=Object;function Re(we){if(1===we.length){const be=we[0];if(T(be))return{args:be,keys:null};if(function nt(we){return we&&"object"==typeof we&&O(we)===Y}(be)){const We=B(be);return{args:We.map(Te=>be[Te]),keys:We}}}return{args:we,keys:null}}},3236:(bn,ze,$)=>{"use strict";$.d(ze,{E:()=>Y,b:()=>B});var T=$(6780);const Y=new($(3604).q)(T.R),B=Y},3273:(bn,ze,$)=>{"use strict";$.d(ze,{Dc:()=>dr,rJ:()=>qE,kd:()=>iv,H9:()=>L_,x7:()=>CT,GG:()=>ST,aU:()=>Sm,aQ:()=>fw,P:()=>Z_,BN:()=>Np,mZ:()=>rv,_M:()=>rw});var be,We,T=$(467),O=$(7852),Y=$(1362),B=$(8041),Re=$(6858),nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},we={};(function(){var c;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(st,xe,He){He||(He=0);var at=Array(16);if("string"==typeof xe)for(var ut=0;16>ut;++ut)at[ut]=xe.charCodeAt(He++)|xe.charCodeAt(He++)<<8|xe.charCodeAt(He++)<<16|xe.charCodeAt(He++)<<24;else for(ut=0;16>ut;++ut)at[ut]=xe[He++]|xe[He++]<<8|xe[He++]<<16|xe[He++]<<24;var Ct=st.g[3],$e=(xe=st.g[0])+(Ct^(He=st.g[1])&((ut=st.g[2])^Ct))+at[0]+3614090360&4294967295;$e=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=(He=(ut=(Ct=(xe=He+($e<<7&4294967295|$e>>>25))+(($e=Ct+(ut^xe&(He^ut))+at[1]+3905402710&4294967295)<<12&4294967295|$e>>>20))+(($e=ut+(He^Ct&(xe^He))+at[2]+606105819&4294967295)<<17&4294967295|$e>>>15))+(($e=He+(xe^ut&(Ct^xe))+at[3]+3250441966&4294967295)<<22&4294967295|$e>>>10))+(($e=xe+(Ct^He&(ut^Ct))+at[4]+4118548399&4294967295)<<7&4294967295|$e>>>25))+(($e=Ct+(ut^xe&(He^ut))+at[5]+1200080426&4294967295)<<12&4294967295|$e>>>20))+(($e=ut+(He^Ct&(xe^He))+at[6]+2821735955&4294967295)<<17&4294967295|$e>>>15))+(($e=He+(xe^ut&(Ct^xe))+at[7]+4249261313&4294967295)<<22&4294967295|$e>>>10))+(($e=xe+(Ct^He&(ut^Ct))+at[8]+1770035416&4294967295)<<7&4294967295|$e>>>25))+(($e=Ct+(ut^xe&(He^ut))+at[9]+2336552879&4294967295)<<12&4294967295|$e>>>20))+(($e=ut+(He^Ct&(xe^He))+at[10]+4294925233&4294967295)<<17&4294967295|$e>>>15))+(($e=He+(xe^ut&(Ct^xe))+at[11]+2304563134&4294967295)<<22&4294967295|$e>>>10))+(($e=xe+(Ct^He&(ut^Ct))+at[12]+1804603682&4294967295)<<7&4294967295|$e>>>25))+(($e=Ct+(ut^xe&(He^ut))+at[13]+4254626195&4294967295)<<12&4294967295|$e>>>20))+(($e=ut+(He^Ct&(xe^He))+at[14]+2792965006&4294967295)<<17&4294967295|$e>>>15))+(($e=He+(xe^ut&(Ct^xe))+at[15]+1236535329&4294967295)<<22&4294967295|$e>>>10))+(($e=xe+(ut^Ct&(He^ut))+at[1]+4129170786&4294967295)<<5&4294967295|$e>>>27))+(($e=Ct+(He^ut&(xe^He))+at[6]+3225465664&4294967295)<<9&4294967295|$e>>>23))+(($e=ut+(xe^He&(Ct^xe))+at[11]+643717713&4294967295)<<14&4294967295|$e>>>18))+(($e=He+(Ct^xe&(ut^Ct))+at[0]+3921069994&4294967295)<<20&4294967295|$e>>>12))+(($e=xe+(ut^Ct&(He^ut))+at[5]+3593408605&4294967295)<<5&4294967295|$e>>>27))+(($e=Ct+(He^ut&(xe^He))+at[10]+38016083&4294967295)<<9&4294967295|$e>>>23))+(($e=ut+(xe^He&(Ct^xe))+at[15]+3634488961&4294967295)<<14&4294967295|$e>>>18))+(($e=He+(Ct^xe&(ut^Ct))+at[4]+3889429448&4294967295)<<20&4294967295|$e>>>12))+(($e=xe+(ut^Ct&(He^ut))+at[9]+568446438&4294967295)<<5&4294967295|$e>>>27))+(($e=Ct+(He^ut&(xe^He))+at[14]+3275163606&4294967295)<<9&4294967295|$e>>>23))+(($e=ut+(xe^He&(Ct^xe))+at[3]+4107603335&4294967295)<<14&4294967295|$e>>>18))+(($e=He+(Ct^xe&(ut^Ct))+at[8]+1163531501&4294967295)<<20&4294967295|$e>>>12))+(($e=xe+(ut^Ct&(He^ut))+at[13]+2850285829&4294967295)<<5&4294967295|$e>>>27))+(($e=Ct+(He^ut&(xe^He))+at[2]+4243563512&4294967295)<<9&4294967295|$e>>>23))+(($e=ut+(xe^He&(Ct^xe))+at[7]+1735328473&4294967295)<<14&4294967295|$e>>>18))+(($e=He+(Ct^xe&(ut^Ct))+at[12]+2368359562&4294967295)<<20&4294967295|$e>>>12))+(($e=xe+(He^ut^Ct)+at[5]+4294588738&4294967295)<<4&4294967295|$e>>>28))+(($e=Ct+(xe^He^ut)+at[8]+2272392833&4294967295)<<11&4294967295|$e>>>21))+(($e=ut+(Ct^xe^He)+at[11]+1839030562&4294967295)<<16&4294967295|$e>>>16))+(($e=He+(ut^Ct^xe)+at[14]+4259657740&4294967295)<<23&4294967295|$e>>>9))+(($e=xe+(He^ut^Ct)+at[1]+2763975236&4294967295)<<4&4294967295|$e>>>28))+(($e=Ct+(xe^He^ut)+at[4]+1272893353&4294967295)<<11&4294967295|$e>>>21))+(($e=ut+(Ct^xe^He)+at[7]+4139469664&4294967295)<<16&4294967295|$e>>>16))+(($e=He+(ut^Ct^xe)+at[10]+3200236656&4294967295)<<23&4294967295|$e>>>9))+(($e=xe+(He^ut^Ct)+at[13]+681279174&4294967295)<<4&4294967295|$e>>>28))+(($e=Ct+(xe^He^ut)+at[0]+3936430074&4294967295)<<11&4294967295|$e>>>21))+(($e=ut+(Ct^xe^He)+at[3]+3572445317&4294967295)<<16&4294967295|$e>>>16))+(($e=He+(ut^Ct^xe)+at[6]+76029189&4294967295)<<23&4294967295|$e>>>9))+(($e=xe+(He^ut^Ct)+at[9]+3654602809&4294967295)<<4&4294967295|$e>>>28))+(($e=Ct+(xe^He^ut)+at[12]+3873151461&4294967295)<<11&4294967295|$e>>>21))+(($e=ut+(Ct^xe^He)+at[15]+530742520&4294967295)<<16&4294967295|$e>>>16))+(($e=He+(ut^Ct^xe)+at[2]+3299628645&4294967295)<<23&4294967295|$e>>>9))+(($e=xe+(ut^(He|~Ct))+at[0]+4096336452&4294967295)<<6&4294967295|$e>>>26))+(($e=Ct+(He^(xe|~ut))+at[7]+1126891415&4294967295)<<10&4294967295|$e>>>22))+(($e=ut+(xe^(Ct|~He))+at[14]+2878612391&4294967295)<<15&4294967295|$e>>>17))+(($e=He+(Ct^(ut|~xe))+at[5]+4237533241&4294967295)<<21&4294967295|$e>>>11))+(($e=xe+(ut^(He|~Ct))+at[12]+1700485571&4294967295)<<6&4294967295|$e>>>26))+(($e=Ct+(He^(xe|~ut))+at[3]+2399980690&4294967295)<<10&4294967295|$e>>>22))+(($e=ut+(xe^(Ct|~He))+at[10]+4293915773&4294967295)<<15&4294967295|$e>>>17))+(($e=He+(Ct^(ut|~xe))+at[1]+2240044497&4294967295)<<21&4294967295|$e>>>11))+(($e=xe+(ut^(He|~Ct))+at[8]+1873313359&4294967295)<<6&4294967295|$e>>>26))+(($e=Ct+(He^(xe|~ut))+at[15]+4264355552&4294967295)<<10&4294967295|$e>>>22))+(($e=ut+(xe^(Ct|~He))+at[6]+2734768916&4294967295)<<15&4294967295|$e>>>17))+(($e=He+(Ct^(ut|~xe))+at[13]+1309151649&4294967295)<<21&4294967295|$e>>>11))+((Ct=(xe=He+(($e=xe+(ut^(He|~Ct))+at[4]+4149444226&4294967295)<<6&4294967295|$e>>>26))+(($e=Ct+(He^(xe|~ut))+at[11]+3174756917&4294967295)<<10&4294967295|$e>>>22))^((ut=Ct+(($e=ut+(xe^(Ct|~He))+at[2]+718787259&4294967295)<<15&4294967295|$e>>>17))|~xe))+at[9]+3951481745&4294967295,st.g[0]=st.g[0]+xe&4294967295,st.g[1]=st.g[1]+(ut+($e<<21&4294967295|$e>>>11))&4294967295,st.g[2]=st.g[2]+ut&4294967295,st.g[3]=st.g[3]+Ct&4294967295}function y(st,xe){this.h=xe;for(var He=[],at=!0,ut=st.length-1;0<=ut;ut--){var Ct=0|st[ut];at&&Ct==xe||(He[ut]=Ct,at=!1)}this.g=He}(function n(st,xe){function He(){}He.prototype=xe.prototype,st.D=xe.prototype,st.prototype=new He,st.prototype.constructor=st,st.C=function(at,ut,Ct){for(var $e=Array(arguments.length-2),Cu=2;Cu<arguments.length;Cu++)$e[Cu-2]=arguments[Cu];return xe.prototype[ut].apply(at,$e)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(st,xe){void 0===xe&&(xe=st.length);for(var He=xe-this.blockSize,at=this.B,ut=this.h,Ct=0;Ct<xe;){if(0==ut)for(;Ct<=He;)u(this,st,Ct),Ct+=this.blockSize;if("string"==typeof st){for(;Ct<xe;)if(at[ut++]=st.charCodeAt(Ct++),ut==this.blockSize){u(this,at),ut=0;break}}else for(;Ct<xe;)if(at[ut++]=st[Ct++],ut==this.blockSize){u(this,at),ut=0;break}}this.h=ut,this.o+=xe},s.prototype.v=function(){var st=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);st[0]=128;for(var xe=1;xe<st.length-8;++xe)st[xe]=0;var He=8*this.o;for(xe=st.length-8;xe<st.length;++xe)st[xe]=255&He,He/=256;for(this.u(st),st=Array(16),xe=He=0;4>xe;++xe)for(var at=0;32>at;at+=8)st[He++]=this.g[xe]>>>at&255;return st};var S={};function N(st){return-128<=st&&128>st?function h(st,xe){var He=S;return Object.prototype.hasOwnProperty.call(He,st)?He[st]:He[st]=xe(st)}(st,function(xe){return new y([0|xe],0>xe?-1:0)}):new y([0|st],0>st?-1:0)}function V(st){if(isNaN(st)||!isFinite(st))return ce;if(0>st)return sn(V(-st));for(var xe=[],He=1,at=0;st>=He;at++)xe[at]=st/He|0,He*=4294967296;return new y(xe,0)}var ce=N(0),Fe=N(1),bt=N(16777216);function zt(st){if(0!=st.h)return!1;for(var xe=0;xe<st.g.length;xe++)if(0!=st.g[xe])return!1;return!0}function dn(st){return-1==st.h}function sn(st){for(var xe=st.g.length,He=[],at=0;at<xe;at++)He[at]=~st.g[at];return new y(He,~st.h).add(Fe)}function Zn(st,xe){return st.add(sn(xe))}function rr(st,xe){for(;(65535&st[xe])!=st[xe];)st[xe+1]+=st[xe]>>>16,st[xe]&=65535,xe++}function kn(st,xe){this.g=st,this.h=xe}function Fr(st,xe){if(zt(xe))throw Error("division by zero");if(zt(st))return new kn(ce,ce);if(dn(st))return xe=Fr(sn(st),xe),new kn(sn(xe.g),sn(xe.h));if(dn(xe))return xe=Fr(st,sn(xe)),new kn(sn(xe.g),xe.h);if(30<st.g.length){if(dn(st)||dn(xe))throw Error("slowDivide_ only works with positive integers.");for(var He=Fe,at=xe;0>=at.l(st);)He=xi(He),at=xi(at);var ut=si(He,1),Ct=si(at,1);for(at=si(at,2),He=si(He,2);!zt(at);){var $e=Ct.add(at);0>=$e.l(st)&&(ut=ut.add(He),Ct=$e),at=si(at,1),He=si(He,1)}return xe=Zn(st,ut.j(xe)),new kn(ut,xe)}for(ut=ce;0<=st.l(xe);){for(He=Math.max(1,Math.floor(st.m()/xe.m())),at=48>=(at=Math.ceil(Math.log(He)/Math.LN2))?1:Math.pow(2,at-48),$e=(Ct=V(He)).j(xe);dn($e)||0<$e.l(st);)$e=(Ct=V(He-=at)).j(xe);zt(Ct)&&(Ct=Fe),ut=ut.add(Ct),st=Zn(st,$e)}return new kn(ut,st)}function xi(st){for(var xe=st.g.length+1,He=[],at=0;at<xe;at++)He[at]=st.i(at)<<1|st.i(at-1)>>>31;return new y(He,st.h)}function si(st,xe){var He=xe>>5;xe%=32;for(var at=st.g.length-He,ut=[],Ct=0;Ct<at;Ct++)ut[Ct]=0<xe?st.i(Ct+He)>>>xe|st.i(Ct+He+1)<<32-xe:st.i(Ct+He);return new y(ut,st.h)}(c=y.prototype).m=function(){if(dn(this))return-sn(this).m();for(var st=0,xe=1,He=0;He<this.g.length;He++){var at=this.i(He);st+=(0<=at?at:4294967296+at)*xe,xe*=4294967296}return st},c.toString=function(st){if(2>(st=st||10)||36<st)throw Error("radix out of range: "+st);if(zt(this))return"0";if(dn(this))return"-"+sn(this).toString(st);for(var xe=V(Math.pow(st,6)),He=this,at="";;){var ut=Fr(He,xe).g,Ct=((0<(He=Zn(He,ut.j(xe))).g.length?He.g[0]:He.h)>>>0).toString(st);if(zt(He=ut))return Ct+at;for(;6>Ct.length;)Ct="0"+Ct;at=Ct+at}},c.i=function(st){return 0>st?0:st<this.g.length?this.g[st]:this.h},c.l=function(st){return dn(st=Zn(this,st))?-1:zt(st)?0:1},c.abs=function(){return dn(this)?sn(this):this},c.add=function(st){for(var xe=Math.max(this.g.length,st.g.length),He=[],at=0,ut=0;ut<=xe;ut++){var Ct=at+(65535&this.i(ut))+(65535&st.i(ut)),$e=(Ct>>>16)+(this.i(ut)>>>16)+(st.i(ut)>>>16);at=$e>>>16,He[ut]=($e&=65535)<<16|(Ct&=65535)}return new y(He,-2147483648&He[He.length-1]?-1:0)},c.j=function(st){if(zt(this)||zt(st))return ce;if(dn(this))return dn(st)?sn(this).j(sn(st)):sn(sn(this).j(st));if(dn(st))return sn(this.j(sn(st)));if(0>this.l(bt)&&0>st.l(bt))return V(this.m()*st.m());for(var xe=this.g.length+st.g.length,He=[],at=0;at<2*xe;at++)He[at]=0;for(at=0;at<this.g.length;at++)for(var ut=0;ut<st.g.length;ut++){var Ct=this.i(at)>>>16,$e=65535&this.i(at),Cu=st.i(ut)>>>16,Ld=65535&st.i(ut);He[2*at+2*ut]+=$e*Ld,rr(He,2*at+2*ut),He[2*at+2*ut+1]+=Ct*Ld,rr(He,2*at+2*ut+1),He[2*at+2*ut+1]+=$e*Cu,rr(He,2*at+2*ut+1),He[2*at+2*ut+2]+=Ct*Cu,rr(He,2*at+2*ut+2)}for(at=0;at<xe;at++)He[at]=He[2*at+1]<<16|He[2*at];for(at=xe;at<2*xe;at++)He[at]=0;return new y(He,0)},c.A=function(st){return Fr(this,st).h},c.and=function(st){for(var xe=Math.max(this.g.length,st.g.length),He=[],at=0;at<xe;at++)He[at]=this.i(at)&st.i(at);return new y(He,this.h&st.h)},c.or=function(st){for(var xe=Math.max(this.g.length,st.g.length),He=[],at=0;at<xe;at++)He[at]=this.i(at)|st.i(at);return new y(He,this.h|st.h)},c.xor=function(st){for(var xe=Math.max(this.g.length,st.g.length),He=[],at=0;at<xe;at++)He[at]=this.i(at)^st.i(at);return new y(He,this.h^st.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,We=we.Md5=s,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=V,y.fromString=function J(st,xe){if(0==st.length)throw Error("number format error: empty string");if(2>(xe=xe||10)||36<xe)throw Error("radix out of range: "+xe);if("-"==st.charAt(0))return sn(J(st.substring(1),xe));if(0<=st.indexOf("-"))throw Error('number format error: interior "-" character');for(var He=V(Math.pow(xe,8)),at=ce,ut=0;ut<st.length;ut+=8){var Ct=Math.min(8,st.length-ut),$e=parseInt(st.substring(ut,ut+Ct),xe);8>Ct?(Ct=V(Math.pow(xe,Ct)),at=at.j(Ct).add(V($e))):at=(at=at.j(He)).add(V($e))}return at},be=we.Integer=y}).apply(typeof nt<"u"?nt:typeof self<"u"?self:typeof window<"u"?window:{});var lt,dt,Rt,Ht,Bt,Jt,yt,wt,Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ie={};(function(){var c,n="function"==typeof Object.defineProperties?Object.defineProperty:function(m,x,W){return m==Array.prototype||m==Object.prototype||(m[x]=W.value),m},s=function i(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Te&&Te];for(var x=0;x<m.length;++x){var W=m[x];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}(this);!function u(m,x){if(x)e:{var W=s;m=m.split(".");for(var se=0;se<m.length-1;se++){var vt=m[se];if(!(vt in W))break e;W=W[vt]}(x=x(se=W[m=m[m.length-1]]))!=se&&null!=x&&n(W,m,{configurable:!0,writable:!0,value:x})}}("Array.prototype.values",function(m){return m||function(){return function h(m,x){m instanceof String&&(m+="");var W=0,se=!1,vt={next:function(){if(!se&&W<m.length){var Vt=W++;return{value:x(Vt,m[Vt]),done:!1}}return se=!0,{done:!0,value:void 0}}};return vt[Symbol.iterator]=function(){return vt},vt}(this,function(x,W){return W})}});var y=y||{},S=this||self;function N(m){var x=typeof m;return"array"==(x="object"!=x?x:m?Array.isArray(m)?"array":x:"null")||"object"==x&&"number"==typeof m.length}function V(m){var x=typeof m;return"object"==x&&null!=m||"function"==x}function J(m,x,W){return m.call.apply(m.bind,arguments)}function ce(m,x,W){if(!m)throw Error();if(2<arguments.length){var se=Array.prototype.slice.call(arguments,2);return function(){var vt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(vt,se),m.apply(x,vt)}}return function(){return m.apply(x,arguments)}}function Fe(m,x,W){return(Fe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?J:ce).apply(null,arguments)}function bt(m,x){var W=Array.prototype.slice.call(arguments,1);return function(){var se=W.slice();return se.push.apply(se,arguments),m.apply(this,se)}}function zt(m,x){function W(){}W.prototype=x.prototype,m.aa=x.prototype,m.prototype=new W,m.prototype.constructor=m,m.Qb=function(se,vt,Vt){for(var Pn=Array(arguments.length-2),ho=2;ho<arguments.length;ho++)Pn[ho-2]=arguments[ho];return x.prototype[vt].apply(se,Pn)}}function dn(m){const x=m.length;if(0<x){const W=Array(x);for(let se=0;se<x;se++)W[se]=m[se];return W}return[]}function sn(m,x){for(let W=1;W<arguments.length;W++){const se=arguments[W];if(N(se)){const vt=m.length||0,Vt=se.length||0;m.length=vt+Vt;for(let Pn=0;Pn<Vt;Pn++)m[vt+Pn]=se[Pn]}else m.push(se)}}function rr(m){return/^[\s\xa0]*$/.test(m)}function kn(){var m=S.navigator;return m&&(m=m.userAgent)?m:""}function Fr(m){return Fr[" "](m),m}Fr[" "]=function(){};var xi=!(-1==kn().indexOf("Gecko")||-1!=kn().toLowerCase().indexOf("webkit")&&-1==kn().indexOf("Edge")||-1!=kn().indexOf("Trident")||-1!=kn().indexOf("MSIE")||-1!=kn().indexOf("Edge"));function si(m,x,W){for(const se in m)x.call(W,m[se],se,m)}function xe(m){const x={};for(const W in m)x[W]=m[W];return x}const He="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(m,x){let W,se;for(let vt=1;vt<arguments.length;vt++){for(W in se=arguments[vt],se)m[W]=se[W];for(let Vt=0;Vt<He.length;Vt++)W=He[Vt],Object.prototype.hasOwnProperty.call(se,W)&&(m[W]=se[W])}}function ut(m){var x=1;m=m.split(":");const W=[];for(;0<x&&m.length;)W.push(m.shift()),x--;return m.length&&W.push(m.join(":")),W}function Ct(m){S.setTimeout(()=>{throw m},0)}function $e(){var m=Qm;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}var Ld=new class Zn{constructor(x,W){this.i=x,this.j=W,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}(()=>new qm,m=>m.reset());class qm{constructor(){this.next=this.g=this.h=null}set(x,W){this.h=x,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let vl,Kh=!1,Qm=new class Cu{constructor(){this.h=this.g=null}add(x,W){const se=Ld.get();se.set(x,W),this.h?this.h.next=se:this.g=se,this.h=se}},qh=()=>{const m=S.Promise.resolve(void 0);vl=()=>{m.then(bw)}};var bw=()=>{for(var m;m=$e();){try{m.h.call(m.g)}catch(W){Ct(W)}var x=Ld;x.j(m),100>x.h&&(x.h++,m.next=x.g,x.g=m)}Kh=!1};function xa(){this.s=this.s,this.C=this.C}function ts(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}xa.prototype.s=!1,xa.prototype.ma=function(){this.s||(this.s=!0,this.N())},xa.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ts.prototype.h=function(){this.defaultPrevented=!0};var Xm=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const W=()=>{};S.addEventListener("test",W,x),S.removeEventListener("test",W,x)}catch{}return m}();function El(m,x){if(ts.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var W=this.type=m.type,se=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget){if(xi){e:{try{Fr(x.nodeName);var vt=!0;break e}catch{}vt=!1}vt||(x=null)}}else"mouseover"==W?x=m.fromElement:"mouseout"==W&&(x=m.toElement);this.relatedTarget=x,se?(this.clientX=void 0!==se.clientX?se.clientX:se.pageX,this.clientY=void 0!==se.clientY?se.clientY:se.pageY,this.screenX=se.screenX||0,this.screenY=se.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:Dw[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&El.aa.h.call(this)}}zt(El,ts);var Dw={2:"touch",3:"pen",4:"mouse"};El.prototype.h=function(){El.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Su="closure_listenable_"+(1e6*Math.random()|0),Ru=0;function Vd(m,x,W,se,vt){this.listener=m,this.proxy=null,this.src=x,this.type=W,this.capture=!!se,this.ha=vt,this.key=++Ru,this.da=this.fa=!1}function Qh(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function xp(m){this.src=m,this.g={},this.h=0}function Op(m,x){var W=x.type;if(W in m.g){var Vt,se=m.g[W],vt=Array.prototype.indexOf.call(se,x,void 0);(Vt=0<=vt)&&Array.prototype.splice.call(se,vt,1),Vt&&(Qh(x),0==m.g[W].length&&(delete m.g[W],m.h--))}}function Zm(m,x,W,se){for(var vt=0;vt<m.length;++vt){var Vt=m[vt];if(!Vt.da&&Vt.listener==x&&Vt.capture==!!W&&Vt.ha==se)return vt}return-1}xp.prototype.add=function(m,x,W,se,vt){var Vt=m.toString();(m=this.g[Vt])||(m=this.g[Vt]=[],this.h++);var Pn=Zm(m,x,se,vt);return-1<Pn?(x=m[Pn],W||(x.fa=!1)):((x=new Vd(x,this.src,Vt,!!se,vt)).fa=W,m.push(x)),x};var Xh="closure_lm_"+(1e6*Math.random()|0),wl={};function Fp(m,x,W,se,vt){if(se&&se.once)return Lp(m,x,W,se,vt);if(Array.isArray(x)){for(var Vt=0;Vt<x.length;Vt++)Fp(m,x[Vt],W,se,vt);return null}return W=Ud(W),m&&m[Su]?m.K(x,W,V(se)?!!se.capture:!!se,vt):uv(m,x,W,!1,se,vt)}function uv(m,x,W,se,vt,Vt){if(!x)throw Error("Invalid event type");var Pn=V(vt)?!!vt.capture:!!vt,ho=Zh(m);if(ho||(m[Xh]=ho=new xp(m)),(W=ho.add(x,W,se,Pn,Vt)).proxy)return W;if(se=function Aw(){const x=lv;return function m(W){return x.call(m.src,m.listener,W)}}(),W.proxy=se,se.src=m,se.listener=W,m.addEventListener)Xm||(vt=Pn),void 0===vt&&(vt=!1),m.addEventListener(x.toString(),se,vt);else if(m.attachEvent)m.attachEvent(Jm(x.toString()),se);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(se)}return W}function Lp(m,x,W,se,vt){if(Array.isArray(x)){for(var Vt=0;Vt<x.length;Vt++)Lp(m,x[Vt],W,se,vt);return null}return W=Ud(W),m&&m[Su]?m.L(x,W,V(se)?!!se.capture:!!se,vt):uv(m,x,W,!0,se,vt)}function Ym(m,x,W,se,vt){if(Array.isArray(x))for(var Vt=0;Vt<x.length;Vt++)Ym(m,x[Vt],W,se,vt);else se=V(se)?!!se.capture:!!se,W=Ud(W),m&&m[Su]?(m=m.i,(x=String(x).toString())in m.g&&-1<(W=Zm(Vt=m.g[x],W,se,vt))&&(Qh(Vt[W]),Array.prototype.splice.call(Vt,W,1),0==Vt.length&&(delete m.g[x],m.h--))):m&&(m=Zh(m))&&(x=m.g[x.toString()],m=-1,x&&(m=Zm(x,W,se,vt)),(W=-1<m?x[m]:null)&&Vp(W))}function Vp(m){if("number"!=typeof m&&m&&!m.da){var x=m.src;if(x&&x[Su])Op(x.i,m);else{var W=m.type,se=m.proxy;x.removeEventListener?x.removeEventListener(W,se,m.capture):x.detachEvent?x.detachEvent(Jm(W),se):x.addListener&&x.removeListener&&x.removeListener(se),(W=Zh(x))?(Op(W,m),0==W.h&&(W.src=null,x[Xh]=null)):Qh(m)}}}function Jm(m){return m in wl?wl[m]:wl[m]="on"+m}function lv(m,x){if(m.da)m=!0;else{x=new El(x,this);var W=m.listener,se=m.ha||m.src;m.fa&&Vp(m),m=W.call(se,x)}return m}function Zh(m){return(m=m[Xh])instanceof xp?m:null}var Up="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ud(m){return"function"==typeof m?m:(m[Up]||(m[Up]=function(x){return m.handleEvent(x)}),m[Up])}function ns(){xa.call(this),this.i=new xp(this),this.M=this,this.F=null}function ea(m,x){var W,se=m.F;if(se)for(W=[];se;se=se.F)W.push(se);if(m=m.M,se=x.type||x,"string"==typeof x)x=new ts(x,m);else if(x instanceof ts)x.target=x.target||m;else{var vt=x;at(x=new ts(se,m),vt)}if(vt=!0,W)for(var Vt=W.length-1;0<=Vt;Vt--){var Pn=x.g=W[Vt];vt=Bd(Pn,se,!0,x)&&vt}if(vt=Bd(Pn=x.g=m,se,!0,x)&&vt,vt=Bd(Pn,se,!1,x)&&vt,W)for(Vt=0;Vt<W.length;Vt++)vt=Bd(Pn=x.g=W[Vt],se,!1,x)&&vt}function Bd(m,x,W,se){if(!(x=m.i.g[String(x)]))return!0;x=x.concat();for(var vt=!0,Vt=0;Vt<x.length;++Vt){var Pn=x[Vt];if(Pn&&!Pn.da&&Pn.capture==W){var ho=Pn.listener,vs=Pn.ha||Pn.src;Pn.fa&&Op(m.i,Pn),vt=!1!==ho.call(vs,se)&&vt}}return vt&&!se.defaultPrevented}function Bp(m,x,W){if("function"==typeof m)W&&(m=Fe(m,W));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=Fe(m.handleEvent,m)}return 2147483647<Number(x)?-1:S.setTimeout(m,x||0)}function Yh(m){m.g=Bp(()=>{m.g=null,m.i&&(m.i=!1,Yh(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}zt(ns,xa),ns.prototype[Su]=!0,ns.prototype.removeEventListener=function(m,x,W,se){Ym(this,m,x,W,se)},ns.prototype.N=function(){if(ns.aa.N.call(this),this.i){var x,m=this.i;for(x in m.g){for(var W=m.g[x],se=0;se<W.length;se++)Qh(W[se]);delete m.g[x],m.h--}}this.F=null},ns.prototype.K=function(m,x,W,se){return this.i.add(String(m),x,!1,W,se)},ns.prototype.L=function(m,x,W,se){return this.i.add(String(m),x,!0,W,se)};class Cw extends xa{constructor(x,W){super(),this.m=x,this.l=W,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Yh(this)}N(){super.N(),this.g&&(S.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jd(m){xa.call(this),this.h=m,this.g={}}zt(jd,xa);var dv=[];function hv(m){si(m.g,function(x,W){this.g.hasOwnProperty(W)&&Vp(x)},m),m.g={}}jd.prototype.N=function(){jd.aa.N.call(this),hv(this)},jd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pu=S.JSON.stringify,ey=S.JSON.parse,fv=class{stringify(m){return S.JSON.stringify(m,void 0)}parse(m){return S.JSON.parse(m,void 0)}};function jp(){}function gv(){}jp.prototype.h=null;var Jh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ty(){ts.call(this,"d")}function ny(){ts.call(this,"c")}zt(ty,ts),zt(ny,ts);var Il={},ry=null;function ef(){return ry=ry||new ns}function mv(m){ts.call(this,Il.La,m)}function Mu(m){const x=ef();ea(x,new mv(x))}function yv(m,x){ts.call(this,Il.STAT_EVENT,m),this.stat=x}function ta(m){const x=ef();ea(x,new yv(x,m))}function iy(m,x){ts.call(this,Il.Ma,m),this.size=x}function $d(m,x){if("function"!=typeof m)throw Error("Fn must not be null and must be a function");return S.setTimeout(function(){m()},x)}function tf(){this.g=!0}function Nu(m,x,W,se){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+function Rw(m,x){if(!m.g)return x;if(!x)return null;try{var W=JSON.parse(x);if(W)for(m=0;m<W.length;m++)if(Array.isArray(W[m])){var se=W[m];if(!(2>se.length)){var vt=se[1];if(Array.isArray(vt)&&!(1>vt.length)){var Vt=vt[0];if("noop"!=Vt&&"stop"!=Vt&&"close"!=Vt)for(var Pn=1;Pn<vt.length;Pn++)vt[Pn]=""}}}return Pu(W)}catch{return x}}(m,W)+(se?" "+se:"")})}Il.La="serverreachability",zt(mv,ts),Il.STAT_EVENT="statevent",zt(yv,ts),Il.Ma="timingevent",zt(iy,ts),tf.prototype.xa=function(){this.g=!1},tf.prototype.info=function(){};var $p,ku={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eu(){}function Sc(m,x,W,se){this.j=m,this.i=x,this.l=W,this.R=se||1,this.U=new jd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hd}function Hd(){this.i=null,this.g="",this.h=!1}zt(eu,jp),eu.prototype.g=function(){return new XMLHttpRequest},eu.prototype.i=function(){return{}},$p=new eu;var Ev={},Hp={};function Tl(m,x,W){m.L=1,m.v=sf(Pc(x)),m.m=W,m.P=!0,Pw(m,null)}function Pw(m,x){m.F=Date.now(),zp(m),m.A=Pc(m.v);var W=m.A,se=m.R;Array.isArray(se)||(se=[String(se)]),Mv(W.i,"t",se),m.C=0,W=m.j.J,m.h=new Hd,m.g=Uu(m.j,W?x:null,!m.m),0<m.O&&(m.M=new Cw(Fe(m.Y,m,m.g),m.O)),x=m.U,W=m.g,se=m.ca;var vt="readystatechange";Array.isArray(vt)||(vt&&(dv[0]=vt.toString()),vt=dv);for(var Vt=0;Vt<vt.length;Vt++){var Pn=Fp(W,vt[Vt],se||x.handleEvent,!1,x.h||x);if(!Pn)break;x.g[Pn.key]=Pn}x=m.H?xe(m.H):{},m.m?(m.u||(m.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,x)):(m.u="GET",m.g.ea(m.A,m.u,null,x)),Mu(),function Sw(m,x,W,se,vt,Vt){m.info(function(){if(m.g)if(Vt)for(var Pn="",ho=Vt.split("&"),vs=0;vs<ho.length;vs++){var Ai=ho[vs].split("=");if(1<Ai.length){var Bs=Ai[0];Ai=Ai[1];var na=Bs.split("_");Pn=2<=na.length&&"type"==na[1]?Pn+(Bs+"=")+Ai+"&":Pn+(Bs+"=redacted&")}}else Pn=null;else Pn=Vt;return"XMLHTTP REQ ("+se+") [attempt "+vt+"]: "+x+"\n"+W+"\n"+Pn})}(m.i,m.u,m.A,m.l,m.R,m.m)}function Mw(m){return!!m.g&&"GET"==m.u&&2!=m.L&&m.j.Ca}function nf(m,x){var W=m.C,se=x.indexOf("\n",W);return-1==se?Hp:(W=Number(x.substring(W,se)),isNaN(W)?Ev:(se+=1)+W>x.length?Hp:(x=x.slice(se,se+W),m.C=se+W,x))}function zp(m){m.S=Date.now()+m.I,wv(m,m.I)}function wv(m,x){if(null!=m.B)throw Error("WatchDog timer not null");m.B=$d(Fe(m.ba,m),x)}function sy(m){m.B&&(S.clearTimeout(m.B),m.B=null)}function xu(m){0==m.j.G||m.J||Wv(m.j,m)}function tu(m){sy(m);var x=m.M;x&&"function"==typeof x.ma&&x.ma(),m.M=null,hv(m.U),m.g&&(x=m.g,m.g=null,x.abort(),x.ma())}function ay(m,x){try{var W=m.j;if(0!=W.G&&(W.g==m||bv(W.h,m)))if(!m.K&&bv(W.h,m)&&3==W.G){try{var se=W.Da.g.parse(x)}catch{se=null}if(Array.isArray(se)&&3==se.length){var vt=se;if(0==vt[0]){e:if(!W.u){if(W.g){if(!(W.g.F+3e3<m.F))break e;Zp(W),qp(W)}my(W),ta(18)}}else W.za=vt[1],0<W.za-W.T&&37500>vt[2]&&W.F&&0==W.v&&!W.C&&(W.C=$d(Fe(W.Za,W),6e3));if(1>=Tv(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else Cl(W,11)}else if((m.K||W.g==m)&&Zp(W),!rr(x))for(vt=W.Da.g.parse(x),x=0;x<vt.length;x++){let Ai=vt[x];if(W.T=Ai[0],Ai=Ai[1],2==W.G)if("c"==Ai[0]){W.K=Ai[1],W.ia=Ai[2];const Bs=Ai[3];null!=Bs&&(W.la=Bs,W.j.info("VER="+W.la));const na=Ai[4];null!=na&&(W.Aa=na,W.j.info("SVER="+W.Aa));const Zd=Ai[5];null!=Zd&&"number"==typeof Zd&&0<Zd&&(W.L=se=1.5*Zd,W.j.info("backChannelRequestTimeoutMs_="+se)),se=W;const Ga=m.g;if(Ga){const Jp=Ga.g?Ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jp){var Vt=se.h;Vt.g||-1==Jp.indexOf("spdy")&&-1==Jp.indexOf("quic")&&-1==Jp.indexOf("h2")||(Vt.j=Vt.l,Vt.g=new Set,Vt.h&&(cy(Vt,Vt.h),Vt.h=null))}if(se.D){const _y=Ga.g?Ga.g.getResponseHeader("X-HTTP-Session-Id"):null;_y&&(se.ya=_y,so(se.I,se.D,_y))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-m.F,W.j.info("Handshake RTT: "+W.R+"ms"));var Pn=m;if((se=W).qa=Kv(se,se.J?se.ia:null,se.W),Pn.K){kw(se.h,Pn);var ho=Pn,vs=se.L;vs&&(ho.I=vs),ho.B&&(sy(ho),zp(ho)),se.g=Pn}else Hv(se);0<W.i.length&&Qp(W)}else"stop"!=Ai[0]&&"close"!=Ai[0]||Cl(W,7);else 3==W.G&&("stop"==Ai[0]||"close"==Ai[0]?"stop"==Ai[0]?Cl(W,7):Kp(W):"noop"!=Ai[0]&&W.l&&W.l.ta(Ai),W.v=0)}Mu()}catch{}}Sc.prototype.ca=function(m){m=m.target;const x=this.M;x&&3==Vu(m)?x.j():this.Y(m)},Sc.prototype.Y=function(m){try{if(m==this.g)e:{const na=Vu(this.g);var x=this.g.Ba();if(this.g.Z(),!(3>na)&&(3!=na||this.g&&(this.h.h||this.g.oa()||Vv(this.g)))){this.J||4!=na||7==x||Mu(),sy(this);var W=this.g.Z();this.X=W;t:if(Mw(this)){var se=Vv(this.g);m="";var vt=se.length,Vt=4==Vu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tu(this),xu(this);var Pn="";break t}this.h.i=new S.TextDecoder}for(x=0;x<vt;x++)this.h.h=!0,m+=this.h.i.decode(se[x],{stream:!(Vt&&x==vt-1)});se.length=0,this.h.g+=m,this.C=0,Pn=this.h.g}else Pn=this.g.oa();if(this.o=200==W,function _v(m,x,W,se,vt,Vt,Pn){m.info(function(){return"XMLHTTP RESP ("+se+") [ attempt "+vt+"]: "+x+"\n"+W+"\n"+Vt+" "+Pn})}(this.i,this.u,this.A,this.l,this.R,na,W),this.o){if(this.T&&!this.K){t:{if(this.g){var ho,vs=this.g;if((ho=vs.g?vs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rr(ho)){var Ai=ho;break t}}Ai=null}if(!(W=Ai)){this.o=!1,this.s=3,ta(12),tu(this),xu(this);break e}Nu(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ay(this,W)}if(this.P){let Ga;for(W=!0;!this.J&&this.C<Pn.length;){if(Ga=nf(this,Pn),Ga==Hp){4==na&&(this.s=4,ta(14),W=!1),Nu(this.i,this.l,null,"[Incomplete Response]");break}if(Ga==Ev){this.s=4,ta(15),Nu(this.i,this.l,Pn,"[Invalid Chunk]"),W=!1;break}Nu(this.i,this.l,Ga,null),ay(this,Ga)}if(Mw(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=na||0!=Pn.length||this.h.h||(this.s=1,ta(16),W=!1),this.o=this.o&&W,W){if(0<Pn.length&&!this.W){this.W=!0;var Bs=this.j;Bs.g==this&&Bs.ba&&!Bs.M&&(Bs.j.info("Great, no buffering proxy detected. Bytes received: "+Pn.length),yy(Bs),Bs.M=!0,ta(11))}}else Nu(this.i,this.l,Pn,"[Invalid Chunked Response]"),tu(this),xu(this)}else Nu(this.i,this.l,Pn,null),ay(this,Pn);4==na&&tu(this),this.o&&!this.J&&(4==na?Wv(this.j,this):(this.o=!1,zp(this)))}else(function Uv(m){const x={};m=(m.g&&2<=Vu(m)&&m.g.getAllResponseHeaders()||"").split("\r\n");for(let se=0;se<m.length;se++){if(rr(m[se]))continue;var W=ut(m[se]);const vt=W[0];if("string"!=typeof(W=W[1]))continue;W=W.trim();const Vt=x[vt]||[];x[vt]=Vt,Vt.push(W)}!function st(m,x){for(const W in m)x.call(void 0,m[W],W,m)}(x,function(se){return se.join(", ")})})(this.g),400==W&&0<Pn.indexOf("Unknown SID")?(this.s=3,ta(12)):(this.s=0,ta(13)),tu(this),xu(this)}}}catch{}},Sc.prototype.cancel=function(){this.J=!0,tu(this)},Sc.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(function vv(m,x){m.info(function(){return"TIMEOUT: "+x})}(this.i,this.A),2!=this.L&&(Mu(),ta(17)),tu(this),this.s=2,xu(this)):wv(this,this.S-m)};var zT=class{constructor(m,x){this.g=m,this.map=x}};function Nw(m){this.l=m||10,m=S.PerformanceNavigationTiming?0<(m=S.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(S.chrome&&S.chrome.loadTimes&&S.chrome.loadTimes()&&S.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Iv(m){return!!m.h||!!m.g&&m.g.size>=m.j}function Tv(m){return m.h?1:m.g?m.g.size:0}function bv(m,x){return m.h?m.h==x:!!m.g&&m.g.has(x)}function cy(m,x){m.g?m.g.add(x):m.h=x}function kw(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}function Dv(m){if(null!=m.h)return m.i.concat(m.h.D);if(null!=m.g&&0!==m.g.size){let x=m.i;for(const W of m.g.values())x=x.concat(W.D);return x}return dn(m.i)}function Wp(m,x){if(m.forEach&&"function"==typeof m.forEach)m.forEach(x,void 0);else if(N(m)||"string"==typeof m)Array.prototype.forEach.call(m,x,void 0);else for(var W=function Ow(m){if(m.na&&"function"==typeof m.na)return m.na();if(!m.V||"function"!=typeof m.V){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(N(m)||"string"==typeof m){var x=[];m=m.length;for(var W=0;W<m;W++)x.push(W);return x}x=[],W=0;for(const se in m)x[W++]=se;return x}}}(m),se=function xw(m){if(m.V&&"function"==typeof m.V)return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if("string"==typeof m)return m.split("");if(N(m)){for(var x=[],W=m.length,se=0;se<W;se++)x.push(m[se]);return x}for(se in x=[],W=0,m)x[W++]=m[se];return x}(m),vt=se.length,Vt=0;Vt<vt;Vt++)x.call(void 0,se[Vt],W&&W[Vt],m)}Nw.prototype.cancel=function(){if(this.i=Dv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const m of this.g.values())m.cancel();this.g.clear()}};var zd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rc(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Rc){this.h=m.h,Ou(this,m.j),this.o=m.o,this.g=m.g,rf(this,m.s),this.l=m.l;var x=m.i,W=new af;W.i=x.i,x.g&&(W.g=new Map(x.g),W.h=x.h),Av(this,W),this.m=m.m}else m&&(x=String(m).match(zd))?(this.h=!1,Ou(this,x[1]||"",!0),this.o=Wd(x[2]||""),this.g=Wd(x[3]||"",!0),rf(this,x[4]),this.l=Wd(x[5]||"",!0),Av(this,x[6]||"",!0),this.m=Wd(x[7]||"")):(this.h=!1,this.i=new af(null,this.h))}function Pc(m){return new Rc(m)}function Ou(m,x,W){m.j=W?Wd(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function rf(m,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);m.s=x}else m.s=null}function Av(m,x,W){x instanceof af?(m.i=x,function Gp(m,x){x&&!m.j&&(Fu(m),m.i=null,m.g.forEach(function(W,se){var vt=se.toLowerCase();se!=vt&&(Gd(this,se),Mv(this,vt,W))},m)),m.j=x}(m.i,m.h)):(W||(x=Mc(x,Rv)),m.i=new af(x,m.h))}function so(m,x,W){m.i.set(x,W)}function sf(m){return so(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Wd(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Mc(m,x,W){return"string"==typeof m?(m=encodeURI(m).replace(x,ly),W&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ly(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}Rc.prototype.toString=function(){var m=[],x=this.j;x&&m.push(Mc(x,Cv,!0),":");var W=this.g;return(W||"file"==x)&&(m.push("//"),(x=this.o)&&m.push(Mc(x,Cv,!0),"@"),m.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(W=this.s)&&m.push(":",String(W))),(W=this.l)&&(this.g&&"/"!=W.charAt(0)&&m.push("/"),m.push(Mc(W,"/"==W.charAt(0)?Sv:Fw,!0))),(W=this.i.toString())&&m.push("?",W),(W=this.m)&&m.push("#",Mc(W,Lw)),m.join("")};var Cv=/[#\/\?@]/g,Fw=/[#\?:]/g,Sv=/[#\?]/g,Rv=/[#\?@]/g,Lw=/#/g;function af(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function Fu(m){m.g||(m.g=new Map,m.h=0,m.i&&function uy(m,x){if(m){m=m.split("&");for(var W=0;W<m.length;W++){var se=m[W].indexOf("="),vt=null;if(0<=se){var Vt=m[W].substring(0,se);vt=m[W].substring(se+1)}else Vt=m[W];x(Vt,vt?decodeURIComponent(vt.replace(/\+/g," ")):"")}}}(m.i,function(x,W){m.add(decodeURIComponent(x.replace(/\+/g," ")),W)}))}function Gd(m,x){Fu(m),x=Kd(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function Pv(m,x){return Fu(m),x=Kd(m,x),m.g.has(x)}function Mv(m,x,W){Gd(m,x),0<W.length&&(m.i=null,m.g.set(Kd(m,x),dn(W)),m.h+=W.length)}function Kd(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function nu(m,x,W,se,vt){try{vt&&(vt.onload=null,vt.onerror=null,vt.onabort=null,vt.ontimeout=null),se(W)}catch{}}function Vw(){this.g=new fv}function xv(m,x,W){const se=W||"";try{Wp(m,function(vt,Vt){let Pn=vt;V(vt)&&(Pn=Pu(vt)),x.push(se+Vt+"="+encodeURIComponent(Pn))})}catch(vt){throw x.push(se+"type="+encodeURIComponent("_badmap")),vt}}function bl(m){this.l=m.Ub||null,this.j=m.eb||!1}function Dl(m,x){ns.call(this),this.D=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ov(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}function cf(m){m.readyState=4,m.l=null,m.j=null,m.v=null,uf(m)}function uf(m){m.onreadystatechange&&m.onreadystatechange.call(m)}function Fv(m){let x="";return si(m,function(W,se){x+=se,x+=":",x+=W,x+="\r\n"}),x}function dy(m,x,W){e:{for(se in W){var se=!1;break e}se=!0}se||(W=Fv(W),"string"==typeof m?null!=W&&encodeURIComponent(String(W)):so(m,x,W))}function rs(m){ns.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=af.prototype).add=function(m,x){Fu(this),this.i=null,m=Kd(this,m);var W=this.g.get(m);return W||this.g.set(m,W=[]),W.push(x),this.h+=1,this},c.forEach=function(m,x){Fu(this),this.g.forEach(function(W,se){W.forEach(function(vt){m.call(x,vt,se,this)},this)},this)},c.na=function(){Fu(this);const m=Array.from(this.g.values()),x=Array.from(this.g.keys()),W=[];for(let se=0;se<x.length;se++){const vt=m[se];for(let Vt=0;Vt<vt.length;Vt++)W.push(x[se])}return W},c.V=function(m){Fu(this);let x=[];if("string"==typeof m)Pv(this,m)&&(x=x.concat(this.g.get(Kd(this,m))));else{m=Array.from(this.g.values());for(let W=0;W<m.length;W++)x=x.concat(m[W])}return x},c.set=function(m,x){return Fu(this),this.i=null,Pv(this,m=Kd(this,m))&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},c.get=function(m,x){return m&&0<(m=this.V(m)).length?String(m[0]):x},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(var W=0;W<x.length;W++){var se=x[W];const Vt=encodeURIComponent(String(se)),Pn=this.V(se);for(se=0;se<Pn.length;se++){var vt=Vt;""!==Pn[se]&&(vt+="="+encodeURIComponent(String(Pn[se]))),m.push(vt)}}return this.i=m.join("&")},zt(bl,jp),bl.prototype.g=function(){return new Dl(this.l,this.j)},bl.prototype.i=function(m){return function(){return m}}({}),zt(Dl,ns),(c=Dl.prototype).open=function(m,x){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=x,this.readyState=1,uf(this)},c.send=function(m){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(x.body=m),(this.D||S).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cf(this)),this.readyState=0},c.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,uf(this)),this.g&&(this.readyState=3,uf(this),this.g)))if("arraybuffer"===this.responseType)m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof S.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ov(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?cf(this):uf(this),3==this.readyState&&Ov(this)}},c.Ra=function(m){this.g&&(this.response=this.responseText=m,cf(this))},c.Qa=function(m){this.g&&(this.response=m,cf(this))},c.ga=function(){this.g&&cf(this)},c.setRequestHeader=function(m,x){this.u.append(m,x)},c.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var W=x.next();!W.done;)m.push((W=W.value)[0]+": "+W[1]),W=x.next();return m.join("\r\n")},Object.defineProperty(Dl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(m){this.m=m?"include":"same-origin"}}),zt(rs,ns);var hy=/^https?$/i,lf=["POST","PUT"];function fy(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.m=5,py(m),Lu(m)}function py(m){m.A||(m.A=!0,ea(m,"complete"),ea(m,"error"))}function Lv(m){if(m.h&&typeof y<"u"&&(!m.v[1]||4!=Vu(m)||2!=m.Z()))if(m.u&&4==Vu(m))Bp(m.Ea,0,m);else if(ea(m,"readystatechange"),4==Vu(m)){m.h=!1;try{const Pn=m.Z();e:switch(Pn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var W;if(!(W=x)){var se;if(se=0===Pn){var vt=String(m.D).match(zd)[1]||null;!vt&&S.self&&S.self.location&&(vt=S.self.location.protocol.slice(0,-1)),se=!hy.test(vt?vt.toLowerCase():"")}W=se}if(W)ea(m,"complete"),ea(m,"success");else{m.m=6;try{var Vt=2<Vu(m)?m.g.statusText:""}catch{Vt=""}m.l=Vt+" ["+m.Z()+"]",py(m)}}finally{Lu(m)}}}function Lu(m,x){if(m.g){df(m);const W=m.g,se=m.v[0]?()=>{}:null;m.g=null,m.v=null,x||ea(m,"ready");try{W.onreadystatechange=se}catch{}}}function df(m){m.I&&(S.clearTimeout(m.I),m.I=null)}function Vu(m){return m.g?m.g.readyState:0}function Vv(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Al(m,x,W){return W&&W.internalChannelParams&&W.internalChannelParams[m]||x}function Bv(m){this.Aa=0,this.i=[],this.j=new tf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Al("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Al("baseRetryDelayMs",5e3,m),this.cb=Al("retryDelaySeedMs",1e4,m),this.Wa=Al("forwardChannelMaxRetries",2,m),this.wa=Al("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Nw(m&&m.concurrentRequestLimit),this.Da=new Vw,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kp(m){if(jv(m),3==m.G){var x=m.U++,W=Pc(m.I);if(so(W,"SID",m.K),so(W,"RID",x),so(W,"TYPE","terminate"),qd(m,W),(x=new Sc(m,m.j,x)).L=2,x.v=sf(Pc(W)),W=!1,S.navigator&&S.navigator.sendBeacon)try{W=S.navigator.sendBeacon(x.v.toString(),"")}catch{}!W&&S.Image&&((new Image).src=x.v,W=!0),W||(x.g=Uu(x.j,null),x.g.ea(x.v)),x.F=Date.now(),zp(x)}Gv(m)}function qp(m){m.g&&(yy(m),m.g.cancel(),m.g=null)}function jv(m){qp(m),m.u&&(S.clearTimeout(m.u),m.u=null),Zp(m),m.h.cancel(),m.s&&("number"==typeof m.s&&S.clearTimeout(m.s),m.s=null)}function Qp(m){if(!Iv(m.h)&&!m.s){m.s=!0;var x=m.Ga;vl||qh(),Kh||(vl(),Kh=!0),Qm.add(x,m),m.B=0}}function gy(m,x){var W;W=x?x.l:m.U++;const se=Pc(m.I);so(se,"SID",m.K),so(se,"RID",W),so(se,"AID",m.T),qd(m,se),m.m&&m.o&&dy(se,m.m,m.o),W=new Sc(m,m.j,W,m.B+1),null===m.m&&(W.H=m.o),x&&(m.i=x.D.concat(m.i)),x=Xp(m,W,1e3),W.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),cy(m.h,W),Tl(W,se,x)}function qd(m,x){m.H&&si(m.H,function(W,se){so(x,se,W)}),m.l&&Wp({},function(W,se){so(x,se,W)})}function Xp(m,x,W){W=Math.min(m.i.length,W);var se=m.l?Fe(m.l.Na,m.l,m):null;e:{var vt=m.i;let Vt=-1;for(;;){const Pn=["count="+W];-1==Vt?0<W?(Vt=vt[0].g,Pn.push("ofs="+Vt)):Vt=0:Pn.push("ofs="+Vt);let ho=!0;for(let vs=0;vs<W;vs++){let Ai=vt[vs].g;const Bs=vt[vs].map;if(Ai-=Vt,0>Ai)Vt=Math.max(0,vt[vs].g-100),ho=!1;else try{xv(Bs,Pn,"req"+Ai+"_")}catch{se&&se(Bs)}}if(ho){se=Pn.join("&");break e}}}return m=m.i.splice(0,W),x.D=m,se}function Hv(m){if(!m.g&&!m.u){m.Y=1;var x=m.Fa;vl||qh(),Kh||(vl(),Kh=!0),Qm.add(x,m),m.v=0}}function my(m){return!(m.g||m.u||3<=m.v||(m.Y++,m.u=$d(Fe(m.Fa,m),Yp(m,m.v)),m.v++,0))}function yy(m){null!=m.A&&(S.clearTimeout(m.A),m.A=null)}function zv(m){m.g=new Sc(m,m.j,"rpc",m.Y),null===m.m&&(m.g.H=m.o),m.g.O=0;var x=Pc(m.qa);so(x,"RID","rpc"),so(x,"SID",m.K),so(x,"AID",m.T),so(x,"CI",m.F?"0":"1"),!m.F&&m.ja&&so(x,"TO",m.ja),so(x,"TYPE","xmlhttp"),qd(m,x),m.m&&m.o&&dy(x,m.m,m.o),m.L&&(m.g.I=m.L);var W=m.g;m=m.ia,W.L=1,W.v=sf(Pc(x)),W.m=null,W.P=!0,Pw(W,m)}function Zp(m){null!=m.C&&(S.clearTimeout(m.C),m.C=null)}function Wv(m,x){var W=null;if(m.g==x){Zp(m),yy(m),m.g=null;var se=2}else{if(!bv(m.h,x))return;W=x.D,kw(m.h,x),se=1}if(0!=m.G)if(x.o)if(1==se){W=x.m?x.m.length:0,x=Date.now()-x.F;var vt=m.B;ea(se=ef(),new iy(se,W)),Qp(m)}else Hv(m);else if(3==(vt=x.s)||0==vt&&0<x.X||!(1==se&&function $v(m,x){return!(Tv(m.h)>=m.h.j-(m.s?1:0)||(m.s?(m.i=x.D.concat(m.i),0):1==m.G||2==m.G||m.B>=(m.Va?0:m.Wa)||(m.s=$d(Fe(m.Ga,m,x),Yp(m,m.B)),m.B++,0)))}(m,x)||2==se&&my(m)))switch(W&&0<W.length&&(x=m.h,x.i=x.i.concat(W)),vt){case 1:Cl(m,5);break;case 4:Cl(m,10);break;case 3:Cl(m,6);break;default:Cl(m,2)}}function Yp(m,x){let W=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(W*=2),W*x}function Cl(m,x){if(m.j.info("Error code "+x),2==x){var W=Fe(m.fb,m),se=m.Xa;const vt=!se;se=new Rc(se||"//www.google.com/images/cleardot.gif"),S.location&&"http"==S.location.protocol||Ou(se,"https"),sf(se),vt?function Nv(m,x){const W=new tf;if(S.Image){const se=new Image;se.onload=bt(nu,W,"TestLoadImage: loaded",!0,x,se),se.onerror=bt(nu,W,"TestLoadImage: error",!1,x,se),se.onabort=bt(nu,W,"TestLoadImage: abort",!1,x,se),se.ontimeout=bt(nu,W,"TestLoadImage: timeout",!1,x,se),S.setTimeout(function(){se.ontimeout&&se.ontimeout()},1e4),se.src=m}else x(!1)}(se.toString(),W):function kv(m,x){new tf;const se=new AbortController,vt=setTimeout(()=>{se.abort(),nu(0,0,!1,x)},1e4);fetch(m,{signal:se.signal}).then(Vt=>{clearTimeout(vt),nu(0,0,!!Vt.ok,x)}).catch(()=>{clearTimeout(vt),nu(0,0,!1,x)})}(se.toString(),W)}else ta(2);m.G=0,m.l&&m.l.sa(x),Gv(m),jv(m)}function Gv(m){if(m.G=0,m.ka=[],m.l){const x=Dv(m.h);(0!=x.length||0!=m.i.length)&&(sn(m.ka,x),sn(m.ka,m.i),m.h.i.length=0,dn(m.i),m.i.length=0),m.l.ra()}}function Kv(m,x,W){var se=W instanceof Rc?Pc(W):new Rc(W);if(""!=se.g)x&&(se.g=x+"."+se.g),rf(se,se.s);else{var vt=S.location;se=vt.protocol,x=x?x+"."+vt.hostname:vt.hostname,vt=+vt.port;var Vt=new Rc(null);se&&Ou(Vt,se),x&&(Vt.g=x),vt&&rf(Vt,vt),W&&(Vt.l=W),se=Vt}return x=m.ya,(W=m.D)&&x&&so(se,W,x),so(se,"VER",m.la),qd(m,se),se}function Uu(m,x,W){if(x&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return(x=new rs(m.Ca&&!m.pa?new bl({eb:W}):m.pa)).Ha(m.J),x}function Qd(){}function Xd(){}function da(m,x){ns.call(this),this.g=new Bv(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(m?m["X-WebChannel-Client-Profile"]=x.va:m={"X-WebChannel-Client-Profile":x.va}),this.g.S=m,(m=x&&x.Sb)&&!rr(m)&&(this.g.m=m),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!rr(x)&&(this.g.D=x,null!==(m=this.h)&&x in m&&x in(m=this.h)&&delete m[x]),this.j=new Rl(this)}function qv(m){ty.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const W in x){m=W;break e}m=void 0}(this.i=m)&&(m=this.i,x=null!==x&&m in x?x[m]:void 0),this.data=x}else this.data=m}function Sl(){ny.call(this),this.status=1}function Rl(m){this.g=m}(c=rs.prototype).Ha=function(m){this.J=m},c.ea=function(m,x,W,se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$p.g(),this.v=function pv(m){return m.h||(m.h=m.i())}(this.o?this.o:$p),this.g.onreadystatechange=Fe(this.Ea,this);try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(Vt){return void fy(this,Vt)}if(m=W||"",W=new Map(this.headers),se)if(Object.getPrototypeOf(se)===Object.prototype)for(var vt in se)W.set(vt,se[vt]);else{if("function"!=typeof se.keys||"function"!=typeof se.get)throw Error("Unknown input type for opt_headers: "+String(se));for(const Vt of se.keys())W.set(Vt,se.get(Vt))}se=Array.from(W.keys()).find(Vt=>"content-type"==Vt.toLowerCase()),vt=S.FormData&&m instanceof S.FormData,!(0<=Array.prototype.indexOf.call(lf,x,void 0))||se||vt||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Vt,Pn]of W)this.g.setRequestHeader(Vt,Pn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{df(this),this.u=!0,this.g.send(m),this.u=!1}catch(Vt){fy(this,Vt)}},c.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ea(this,"complete"),ea(this,"abort"),Lu(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lu(this,!0)),rs.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?Lv(this):this.bb())},c.bb=function(){Lv(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<Vu(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(m){if(this.g){var x=this.g.responseText;return m&&0==x.indexOf(m)&&(x=x.substring(m.length)),ey(x)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=Bv.prototype).la=8,c.G=1,c.connect=function(m,x,W,se){ta(0),this.W=m,this.H=x||{},W&&void 0!==se&&(this.H.OSID=W,this.H.OAID=se),this.F=this.X,this.I=Kv(this,null,this.W),Qp(this)},c.Ga=function(m){if(this.s)if(this.s=null,1==this.G){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const vt=new Sc(this,this.j,m);let Vt=this.o;if(this.S&&(Vt?(Vt=xe(Vt),at(Vt,this.S)):Vt=this.S),null!==this.m||this.O||(vt.H=Vt,Vt=null),this.P)e:{for(var x=0,W=0;W<this.i.length;W++){var se=this.i[W];if(void 0===(se="__data__"in se.map&&"string"==typeof(se=se.map.__data__)?se.length:void 0))break;if(4096<(x+=se)){x=W;break e}if(4096===x||W===this.i.length-1){x=W+1;break e}}x=1e3}else x=1e3;x=Xp(this,vt,x),so(W=Pc(this.I),"RID",m),so(W,"CVER",22),this.D&&so(W,"X-HTTP-Session-Id",this.D),qd(this,W),Vt&&(this.O?x="headers="+encodeURIComponent(String(Fv(Vt)))+"&"+x:this.m&&dy(W,this.m,Vt)),cy(this.h,vt),this.Ua&&so(W,"TYPE","init"),this.P?(so(W,"$req",x),so(W,"SID","null"),vt.T=!0,Tl(vt,W,null)):Tl(vt,W,x),this.G=2}}else 3==this.G&&(m?gy(this,m):0==this.i.length||Iv(this.h)||gy(this))},c.Fa=function(){if(this.u=null,zv(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=$d(Fe(this.ab,this),m)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ta(10),qp(this),zv(this))},c.Za=function(){null!=this.C&&(this.C=null,qp(this),my(this),ta(19))},c.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ta(2)):(this.j.info("Failed to ping google.com"),ta(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=Qd.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Xd.prototype.g=function(m,x){return new da(m,x)},zt(da,ns),da.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},da.prototype.close=function(){Kp(this.g)},da.prototype.o=function(m){var x=this.g;if("string"==typeof m){var W={};W.__data__=m,m=W}else this.u&&((W={}).__data__=Pu(m),m=W);x.i.push(new zT(x.Ya++,m)),3==x.G&&Qp(x)},da.prototype.N=function(){this.g.l=null,delete this.j,Kp(this.g),delete this.g,da.aa.N.call(this)},zt(qv,ty),zt(Sl,ny),zt(Rl,Qd),Rl.prototype.ua=function(){ea(this.g,"a")},Rl.prototype.ta=function(m){ea(this.g,new qv(m))},Rl.prototype.sa=function(m){ea(this.g,new Sl)},Rl.prototype.ra=function(){ea(this.g,"b")},Xd.prototype.createWebChannel=Xd.prototype.g,da.prototype.send=da.prototype.o,da.prototype.open=da.prototype.m,da.prototype.close=da.prototype.close,wt=Ie.createWebChannelTransport=function(){return new Xd},yt=Ie.getStatEventTarget=function(){return ef()},Jt=Ie.Event=Il,Bt=Ie.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ku.NO_ERROR=0,ku.TIMEOUT=8,ku.HTTP_ERROR=6,Ht=Ie.ErrorCode=ku,oy.COMPLETE="complete",Rt=Ie.EventType=oy,gv.EventType=Jh,Jh.OPEN="a",Jh.CLOSE="b",Jh.ERROR="c",Jh.MESSAGE="d",ns.prototype.listen=ns.prototype.K,dt=Ie.WebChannel=gv,Ie.FetchXmlHttpFactory=bl,rs.prototype.listenOnce=rs.prototype.L,rs.prototype.getLastError=rs.prototype.Ka,rs.prototype.getLastErrorCode=rs.prototype.Ba,rs.prototype.getStatus=rs.prototype.Z,rs.prototype.getResponseJson=rs.prototype.Oa,rs.prototype.getResponseText=rs.prototype.oa,rs.prototype.send=rs.prototype.ea,rs.prototype.setWithCredentials=rs.prototype.Ha,lt=Ie.XhrIo=rs}).apply(typeof Te<"u"?Te:typeof self<"u"?self:typeof window<"u"?window:{});const St="@firebase/firestore";class it{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");let Ye="11.8.1";const It=new B.Vy("@firebase/firestore");function qt(){return It.logLevel}function ct(c,...n){if(It.logLevel<=B.$b.DEBUG){const i=n.map(Kn);It.debug(`Firestore (${Ye}): ${c}`,...i)}}function Vn(c,...n){if(It.logLevel<=B.$b.ERROR){const i=n.map(Kn);It.error(`Firestore (${Ye}): ${c}`,...i)}}function Mn(c,...n){if(It.logLevel<=B.$b.WARN){const i=n.map(Kn);It.warn(`Firestore (${Ye}): ${c}`,...i)}}function Kn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function pt(c,n,i){let s="Unexpected state";"string"==typeof n?s=n:i=n,wn(c,s,i)}function wn(c,n,i){let s=`FIRESTORE (${Ye}) INTERNAL ASSERTION FAILED: ${n} (ID: ${c.toString(16)})`;if(void 0!==i)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Vn(s),new Error(s)}function Je(c,n,i,s){let u="Unexpected state";"string"==typeof i?u=i:s=i,c||wn(n,u,s)}function kt(c,n){return c}const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Re.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class he{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class fe{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class me{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(it.UNAUTHENTICATED))}shutdown(){}}class oe{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class pe{constructor(n){this.t=n,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;Je(void 0===this.o,42304);let u=this.i;const h=V=>this.i!==u?(u=this.i,i(V)):Promise.resolve();let y=new he;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new he,n.enqueueRetryable(()=>h(this.currentUser))};const S=()=>{const V=y;n.enqueueRetryable((0,T.A)(function*(){yield V.promise,yield h(s.currentUser)}))},N=V=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.o&&(this.auth.addAuthTokenListener(this.o),S())};this.t.onInit(V=>N(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?N(V):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new he)}},0),S()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je("string"==typeof s.accessToken,31837,{l:s}),new fe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Je(null===n||"string"==typeof n,2055,{h:n}),new it(n)}}class Xe{constructor(n,i,s){this.P=n,this.T=i,this.I=s,this.type="FirstParty",this.user=it.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _t{constructor(n,i,s){this.P=n,this.T=i,this.I=s}getToken(){return Promise.resolve(new Xe(this.P,this.T,this.I))}start(n,i){n.enqueueRetryable(()=>i(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class an{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class en{constructor(n,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,O.xZ)(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,i){Je(void 0===this.o,3512);const s=h=>{null!=h.error&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const y=h.token!==this.m;return this.m=h.token,ct("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?i(h.token):Promise.resolve()};this.o=h=>{n.enqueueRetryable(()=>s(h))};const u=h=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new an(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Je("string"==typeof i.token,44558,{tokenResult:i}),this.m=i.token,new an(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Kt(c){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<c;s++)i[s]=Math.floor(256*Math.random());return i}function Qn(){return new TextEncoder}class Hn{static newId(){const i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=Kt(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[h]%62))}return s}}function Zt(c,n){return c<n?-1:c>n?1:0}function Ln(c,n){let i=0;for(;i<c.length&&i<n.length;){const s=c.codePointAt(i),u=n.codePointAt(i);if(s!==u){if(s<128&&u<128)return Zt(s,u);{const h=Qn(),y=Dn(h.encode(er(c,i)),h.encode(er(n,i)));return 0!==y?y:Zt(s,u)}}i+=s>65535?2:1}return Zt(c.length,n.length)}function er(c,n){return c.codePointAt(n)>65535?c.substring(n,n+2):c.substring(n,n+1)}function Dn(c,n){for(let i=0;i<c.length&&i<n.length;++i)if(c[i]!==n[i])return Zt(c[i],n[i]);return Zt(c.length,n.length)}function Mr(c,n,i){return c.length===n.length&&c.every((s,u)=>i(s,n[u]))}const Ci=-62135596800;class dr{static now(){return dr.fromMillis(Date.now())}static fromDate(n){return dr.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new dr(i,s)}constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new te(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new te(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<Ci)throw new te(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new te(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Zt(this.nanoseconds,n.nanoseconds):Zt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-Ci).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class cn{static fromTimestamp(n){return new cn(n)}static min(){return new cn(new dr(0,0))}static max(){return new cn(new dr(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qi="__name__";class Nr{constructor(n,i,s){void 0===i?i=0:i>n.length&&pt(637,{offset:i,range:n.length}),void 0===s?s=n.length-i:s>n.length-i&&pt(1746,{length:s,range:n.length-i}),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===Nr.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Nr?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const h=Nr.compareSegments(n.get(u),i.get(u));if(0!==h)return h}return Zt(n.length,i.length)}static compareSegments(n,i){const s=Nr.isNumericId(n),u=Nr.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?Nr.extractNumericId(n).compare(Nr.extractNumericId(i)):Ln(n,i)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return be.fromString(n.substring(4,n.length-2))}}class ht extends Nr{construct(n,i,s){return new ht(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new te(Ke.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new ht(i)}static emptyPath(){return new ht([])}}const Er=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends Nr{construct(n,i,s){return new qn(n,i,s)}static isValidIdentifier(n){return Er.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Qi}static keyField(){return new qn([Qi])}static fromServerFormat(n){const i=[];let s="",u=0;const h=()=>{if(0===s.length)throw new te(Ke.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let y=!1;for(;u<n.length;){const S=n[u];if("\\"===S){if(u+1===n.length)throw new te(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const N=n[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new te(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=N,u+=2}else"`"===S?(y=!y,u++):"."!==S||y?(s+=S,u++):(h(),u++)}if(h(),y)throw new te(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new qn(i)}static emptyPath(){return new qn([])}}class Xt{constructor(n){this.path=n}static fromPath(n){return new Xt(ht.fromString(n))}static fromName(n){return new Xt(ht.fromString(n).popFirst(5))}static empty(){return new Xt(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===ht.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return ht.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Xt(new ht(n.slice()))}}class lr{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new lr(cn.min(),Xt.empty(),-1)}static max(){return new lr(cn.max(),Xt.empty(),-1)}}function Cn(c,n){let i=c.readTime.compareTo(n.readTime);return 0!==i?i:(i=Xt.comparator(c.documentKey,n.documentKey),0!==i?i:Zt(c.largestBatchId,n.largestBatchId))}class kr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Wn(c){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,T.A)(function*(c){if(c.code!==Ke.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==c.message)throw c;ct("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Ue{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new Ue((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof Ue?i:Ue.resolve(i)}catch(i){return Ue.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):Ue.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):Ue.reject(i)}static resolve(n){return new Ue((i,s)=>{i(n)})}static reject(n){return new Ue((i,s)=>{s(n)})}static waitFor(n){return new Ue((i,s)=>{let u=0,h=0,y=!1;n.forEach(S=>{++u,S.next(()=>{++h,y&&h===u&&i()},N=>s(N))}),y=!0,h===u&&i()})}static or(n){let i=Ue.resolve(!1);for(const s of n)i=i.next(u=>u?Ue.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(n,i){return new Ue((s,u)=>{const h=n.length,y=new Array(h);let S=0;for(let N=0;N<h;N++){const V=N;i(n[V]).next(J=>{y[V]=J,++S,S===h&&s(y)},J=>u(J))}})}static doWhile(n,i){return new Ue((s,u)=>{const h=()=>{!0===n()?i().next(()=>{h()},u):s()};h()})}}function wr(c){return"IndexedDbTransactionError"===c.name}let et=(()=>{class c{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ue(u),this.ce=u=>s.writeSequenceNumber(u))}ue(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.ce&&this.ce(i),i}}return c.le=-1,c})();function Rn(c){return null==c}function pr(c){return 0===c&&1/c==-1/0}function ft(c,n){let i=n;const s=c.length;for(let u=0;u<s;u++){const h=c.charAt(u);switch(h){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=h}}return i}function Dt(c){return c+"\x01\x01"}const Et="mutationQueues",Ot="mutations",Si="documentMutations",On="remoteDocumentGlobal",tr="targets",Cr="targetDocuments",j="targetGlobal",ge="collectionParents",re="clientMetadata",At="bundles",xn="namedQueries";function Wo(c){let n=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n++;return n}function go(c,n){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n(i,c[i])}function Ts(c){for(const n in c)if(Object.prototype.hasOwnProperty.call(c,n))return!1;return!0}class Wr{constructor(n,i){this.comparator=n,this.root=i||Qr.EMPTY}insert(n,i){return new Wr(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(n){return new Wr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new co(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new co(this.root,n,this.comparator,!1)}getReverseIterator(){return new co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new co(this.root,n,this.comparator,!0)}}class co{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=i?s(n.key,i):1,i&&u&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(0===h){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Qr{constructor(n,i,s,u,h){this.key=n,this.value=i,this.color=s??Qr.RED,this.left=u??Qr.EMPTY,this.right=h??Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,h){return new Qr(n??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const h=s(n,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===h?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return Qr.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw pt(27949);return n+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1,Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(n,i,s,u,h){return this}insert(n,i,s){return new Qr(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xr{constructor(n){this.comparator=n,this.data=new Wr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new bs(this.data.getIterator())}getIteratorFrom(n){return new bs(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof Xr)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Xr(this.comparator);return i.data=n,i}}class bs{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ko{constructor(n){this.fields=n,n.sort(qn.comparator)}static empty(){return new ko([])}unionWith(n){let i=new Xr(qn.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new ko(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Mr(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class ls extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ui{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new ls("Invalid base64 string: "+h):h}}(n);return new Ui(i)}static fromUint8Array(n){const i=function(u){let h="";for(let y=0;y<u.length;++y)h+=String.fromCharCode(u[y]);return h}(n);return new Ui(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Zt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const $s=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(c){if(Je(!!c,39018),"string"==typeof c){let n=0;const i=$s.exec(c);if(Je(!!i,46558,{timestamp:c}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(c);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:Or(c.seconds),nanos:Or(c.nanos)}}function Or(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function yr(c){return"string"==typeof c?Ui.fromBase64String(c):Ui.fromUint8Array(c)}const Ji="server_timestamp",ra="__type__",xs="__previous_value__",ba="__local_write_time__";function jo(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[ra])||void 0===i?void 0:i.stringValue)===Ji}function _r(c){const n=c.mapValue.fields[xs];return jo(n)?_r(n):n}function q(c){const n=xo(c.mapValue.fields[ba].timestampValue);return new dr(n.seconds,n.nanos)}class K{constructor(n,i,s,u,h,y,S,N,V,J){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=y,this.autoDetectLongPolling=S,this.longPollingOptions=N,this.useFetchStreams=V,this.isUsingEmulator=J}}const Ee="(default)";class Pe{constructor(n,i){this.projectId=n,this.database=i||Ee}static empty(){return new Pe("","")}get isDefaultDatabase(){return this.database===Ee}isEqual(n){return n instanceof Pe&&n.projectId===this.projectId&&n.database===this.database}}const ot="__type__",xt="__max__",Qt_mapValue={fields:{__type__:{stringValue:xt}}},Tn="__vector__",pn="value";function Xn(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?jo(c)?4:Da(c)?9007199254740991:ds(c)?10:11:pt(28295,{value:c})}function Lr(c,n){if(c===n)return!0;const i=Xn(c);if(i!==Xn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===n.booleanValue;case 4:return q(c).isEqual(q(n));case 3:return function(u,h){if("string"==typeof u.timestampValue&&"string"==typeof h.timestampValue&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const y=xo(u.timestampValue),S=xo(h.timestampValue);return y.seconds===S.seconds&&y.nanos===S.nanos}(c,n);case 5:return c.stringValue===n.stringValue;case 6:return h=n,yr(c.bytesValue).isEqual(yr(h.bytesValue));case 7:return c.referenceValue===n.referenceValue;case 8:return function(u,h){return Or(u.geoPointValue.latitude)===Or(h.geoPointValue.latitude)&&Or(u.geoPointValue.longitude)===Or(h.geoPointValue.longitude)}(c,n);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return Or(u.integerValue)===Or(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const y=Or(u.doubleValue),S=Or(h.doubleValue);return y===S?pr(y)===pr(S):isNaN(y)&&isNaN(S)}return!1}(c,n);case 9:return Mr(c.arrayValue.values||[],n.arrayValue.values||[],Lr);case 10:case 11:return function(u,h){const y=u.mapValue.fields||{},S=h.mapValue.fields||{};if(Wo(y)!==Wo(S))return!1;for(const N in y)if(y.hasOwnProperty(N)&&(void 0===S[N]||!Lr(y[N],S[N])))return!1;return!0}(c,n);default:return pt(52216,{left:c})}var h}function Ii(c,n){return void 0!==(c.values||[]).find(i=>Lr(i,n))}function yi(c,n){if(c===n)return 0;const i=Xn(c),s=Xn(n);if(i!==s)return Zt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Zt(c.booleanValue,n.booleanValue);case 2:return function(h,y){const S=Or(h.integerValue||h.doubleValue),N=Or(y.integerValue||y.doubleValue);return S<N?-1:S>N?1:S===N?0:isNaN(S)?isNaN(N)?0:-1:1}(c,n);case 3:return Bi(c.timestampValue,n.timestampValue);case 4:return Bi(q(c),q(n));case 5:return Ln(c.stringValue,n.stringValue);case 6:return function(h,y){const S=yr(h),N=yr(y);return S.compareTo(N)}(c.bytesValue,n.bytesValue);case 7:return function(h,y){const S=h.split("/"),N=y.split("/");for(let V=0;V<S.length&&V<N.length;V++){const J=Zt(S[V],N[V]);if(0!==J)return J}return Zt(S.length,N.length)}(c.referenceValue,n.referenceValue);case 8:return function(h,y){const S=Zt(Or(h.latitude),Or(y.latitude));return 0!==S?S:Zt(Or(h.longitude),Or(y.longitude))}(c.geoPointValue,n.geoPointValue);case 9:return Ri(c.arrayValue,n.arrayValue);case 10:return function(h,y){var S,N,V,J;const bt=null===(S=(h.fields||{})[pn])||void 0===S?void 0:S.arrayValue,zt=null===(N=(y.fields||{})[pn])||void 0===N?void 0:N.arrayValue,dn=Zt((null===(V=bt?.values)||void 0===V?void 0:V.length)||0,(null===(J=zt?.values)||void 0===J?void 0:J.length)||0);return 0!==dn?dn:Ri(bt,zt)}(c.mapValue,n.mapValue);case 11:return function(h,y){if(h===Qt_mapValue&&y===Qt_mapValue)return 0;if(h===Qt_mapValue)return 1;if(y===Qt_mapValue)return-1;const S=h.fields||{},N=Object.keys(S),V=y.fields||{},J=Object.keys(V);N.sort(),J.sort();for(let ce=0;ce<N.length&&ce<J.length;++ce){const Fe=Ln(N[ce],J[ce]);if(0!==Fe)return Fe;const bt=yi(S[N[ce]],V[J[ce]]);if(0!==bt)return bt}return Zt(N.length,J.length)}(c.mapValue,n.mapValue);default:throw pt(23264,{Pe:i})}}function Bi(c,n){if("string"==typeof c&&"string"==typeof n&&c.length===n.length)return Zt(c,n);const i=xo(c),s=xo(n),u=Zt(i.seconds,s.seconds);return 0!==u?u:Zt(i.nanos,s.nanos)}function Ri(c,n){const i=c.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=yi(i[u],s[u]);if(h)return h}return Zt(i.length,s.length)}function Jr(c){return ki(c)}function ki(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const s=xo(i);return`time(${s.seconds},${s.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?yr(c.bytesValue).toBase64():"referenceValue"in c?Xt.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=ki(h);return s+"]"}(c.arrayValue):"mapValue"in c?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const y of s)h?h=!1:u+=",",u+=`${y}:${ki(i.fields[y])}`;return u+"}"}(c.mapValue):pt(61005,{value:c})}function uo(c){switch(Xn(c)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=_r(c);return n?16+uo(n):16;case 5:return 2*c.stringValue.length;case 6:return yr(c.bytesValue).approximateByteSize();case 7:return c.referenceValue.length;case 9:return(c.arrayValue.values||[]).reduce((u,h)=>u+uo(h),0);case 10:case 11:return function(s){let u=0;return go(s.fields,(h,y)=>{u+=h.length+uo(y)}),u}(c.mapValue);default:throw pt(13486,{value:c})}}function _i(c,n){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${n.path.canonicalString()}`}}function Pi(c){return!!c&&"integerValue"in c}function Do(c){return!!c&&"arrayValue"in c}function ei(c){return!!c&&"nullValue"in c}function mo(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function Ko(c){return!!c&&"mapValue"in c}function ds(c){var n,i;return(null===(i=((null===(n=c?.mapValue)||void 0===n?void 0:n.fields)||{})[ot])||void 0===i?void 0:i.stringValue)===Tn}function ha(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const n={mapValue:{fields:{}}};return go(c.mapValue.fields,(i,s)=>n.mapValue.fields[i]=ha(s)),n}if(c.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=ha(c.arrayValue.values[i]);return n}return Object.assign({},c)}function Da(c){return(((c.mapValue||{}).fields||{}).__type__||{}).stringValue===xt}class oo{constructor(n){this.value=n}static empty(){return new oo({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!Ko(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=ha(i)}setAll(n){let i=qn.emptyPath(),s={},u=[];n.forEach((y,S)=>{if(!i.isImmediateParentOf(S)){const N=this.getFieldsMap(i);this.applyChanges(N,s,u),s={},u=[],i=S.popLast()}y?s[S.lastSegment()]=ha(y):u.push(S.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(n){const i=this.field(n.popLast());Ko(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Lr(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];Ko(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){go(i,(u,h)=>n[u]=h);for(const u of s)delete n[u]}clone(){return new oo(ha(this.value))}}function Os(c){const n=[];return go(c.fields,(i,s)=>{const u=new qn([i]);if(Ko(s)){const h=Os(s.mapValue).fields;if(0===h.length)n.push(u);else for(const y of h)n.push(u.child(y))}else n.push(u)}),new ko(n)}class ui{constructor(n,i,s,u,h,y,S){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=y,this.documentState=S}static newInvalidDocument(n){return new ui(n,0,cn.min(),cn.min(),cn.min(),oo.empty(),0)}static newFoundDocument(n,i,s,u){return new ui(n,1,i,cn.min(),s,u,0)}static newNoDocument(n,i){return new ui(n,2,i,cn.min(),cn.min(),oo.empty(),0)}static newUnknownDocument(n,i){return new ui(n,3,i,cn.min(),cn.min(),oo.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(cn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=oo.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof ui&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oo{constructor(n,i){this.position=n,this.inclusive=i}}function Fs(c,n,i){let s=0;for(let u=0;u<c.position.length;u++){const h=n[u],y=c.position[u];if(s=h.field.isKeyField()?Xt.comparator(Xt.fromName(y.referenceValue),i.key):yi(y,i.data.field(h.field)),"desc"===h.dir&&(s*=-1),0!==s)break}return s}function Ws(c,n){if(null===c)return null===n;if(null===n||c.inclusive!==n.inclusive||c.position.length!==n.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!Lr(c.position[i],n.position[i]))return!1;return!0}class Gs{constructor(n,i="asc"){this.field=n,this.dir=i}}function bi(c,n){return c.dir===n.dir&&c.field.isEqual(n.field)}class pa{}class zr extends pa{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new Gr(n,i,s):"array-contains"===i?new $o(n,s):"in"===i?new Wi(n,s):"not-in"===i?new Qo(n,s):"array-contains-any"===i?new fs(n,s):new zr(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new nn(n,s):new nr(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&void 0===i.nullValue&&this.matchesComparison(yi(i,this.value)):null!==i&&Xn(this.value)===Xn(i)&&this.matchesComparison(yi(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends pa{constructor(n,i){super(),this.filters=n,this.op=i,this.Te=null}static create(n,i){return new Vr(n,i)}matches(n){return Aa(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Aa(c){return"and"===c.op}function qa(c){return function Ca(c){for(const n of c.filters)if(n instanceof Vr)return!1;return!0}(c)&&Aa(c)}function Qa(c){if(c instanceof zr)return c.field.canonicalString()+c.op.toString()+Jr(c.value);if(qa(c))return c.filters.map(n=>Qa(n)).join(",");{const n=c.filters.map(i=>Qa(i)).join(",");return`${c.op}(${n})`}}function La(c,n){return c instanceof zr?(s=c,(u=n)instanceof zr&&s.op===u.op&&s.field.isEqual(u.field)&&Lr(s.value,u.value)):c instanceof Vr?function(s,u){return u instanceof Vr&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((h,y,S)=>h&&La(y,u.filters[S]),!0)}(c,n):void pt(19439);var s,u}function qo(c){return c instanceof zr?`${(i=c).field.canonicalString()} ${i.op} ${Jr(i.value)}`:c instanceof Vr?function(i){return i.op.toString()+" {"+i.getFilters().map(qo).join(" ,")+"}"}(c):"Filter";var i}class Gr extends zr{constructor(n,i,s){super(n,i,s),this.key=Xt.fromName(s.referenceValue)}matches(n){const i=Xt.comparator(n.key,this.key);return this.matchesComparison(i)}}class nn extends zr{constructor(n,i){super(n,"in",i),this.keys=li(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class nr extends zr{constructor(n,i){super(n,"not-in",i),this.keys=li(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function li(c,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>Xt.fromName(s.referenceValue))}class $o extends zr{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Do(i)&&Ii(i.arrayValue,this.value)}}class Wi extends zr{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&Ii(this.value.arrayValue,i)}}class Qo extends zr{constructor(n,i){super(n,"not-in",i)}matches(n){if(Ii(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&void 0===i.nullValue&&!Ii(this.value.arrayValue,i)}}class fs extends zr{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Do(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Ii(this.value.arrayValue,s))}}class Ur{constructor(n,i=null,s=[],u=[],h=null,y=null,S=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=y,this.endAt=S,this.Ie=null}}function R(c,n=null,i=[],s=[],u=null,h=null,y=null){return new Ur(c,n,i,s,u,h,y)}function M(c){const n=kt(c);if(null===n.Ie){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>Qa(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(h=s).field.canonicalString()+h.dir;var h}).join(","),Rn(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Jr(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Jr(s)).join(",")),n.Ie=i}return n.Ie}function H(c,n){if(c.limit!==n.limit||c.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!bi(c.orderBy[i],n.orderBy[i]))return!1;if(c.filters.length!==n.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!La(c.filters[i],n.filters[i]))return!1;return c.collectionGroup===n.collectionGroup&&!!c.path.isEqual(n.path)&&!!Ws(c.startAt,n.startAt)&&Ws(c.endAt,n.endAt)}function Ce(c){return Xt.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}class ji{constructor(n,i=null,s=[],u=[],h=null,y="F",S=null,N=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=y,this.startAt=S,this.endAt=N,this.Ee=null,this.de=null,this.Ae=null}}function Ao(c){return new ji(c)}function qs(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function Sa(c){return null!==c.collectionGroup}function cs(c){const n=kt(c);if(null===n.Ee){n.Ee=[];const i=new Set;for(const h of n.explicitOrderBy)n.Ee.push(h),i.add(h.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(y){let S=new Xr(qn.comparator);return y.filters.forEach(N=>{N.getFlattenedFilters().forEach(V=>{V.isInequality()&&(S=S.add(V.field))})}),S})(n).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||n.Ee.push(new Gs(h,s))}),i.has(qn.keyField().canonicalString())||n.Ee.push(new Gs(qn.keyField(),s))}return n.Ee}function Co(c){const n=kt(c);return n.de||(n.de=function Yo(c,n){if("F"===c.limitType)return R(c.path,c.collectionGroup,n,c.filters,c.limit,c.startAt,c.endAt);{n=n.map(u=>new Gs(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new Oo(c.endAt.position,c.endAt.inclusive):null,s=c.startAt?new Oo(c.startAt.position,c.startAt.inclusive):null;return R(c.path,c.collectionGroup,n,c.filters,c.limit,i,s)}}(n,cs(c))),n.de}function ia(c,n){const i=c.filters.concat([n]);return new ji(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function Nn(c,n,i){return new ji(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),n,i,c.startAt,c.endAt)}function Qs(c,n){return H(Co(c),Co(n))&&c.limitType===n.limitType}function Ss(c){return`${M(Co(c))}|lt:${c.limitType}`}function gs(c){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>qo(u)).join(", ")}]`),Rn(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(y=u).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>Jr(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>Jr(u)).join(",")),`Target(${s})`}(Co(c))}; limitType=${c.limitType})`}function Ra(c,n){return n.isFoundDocument()&&function(s,u){const h=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):Xt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(c,n)&&function(s,u){for(const h of cs(s))if(!h.field.isKeyField()&&null===u.data.field(h.field))return!1;return!0}(c,n)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(c,n)&&(u=n,!((s=c).startAt&&!function(y,S,N){const V=Fs(y,S,N);return y.inclusive?V<=0:V<0}(s.startAt,cs(s),u)||s.endAt&&!function(y,S,N){const V=Fs(y,S,N);return y.inclusive?V>=0:V>0}(s.endAt,cs(s),u)));var s,u}function $i(c){return(n,i)=>{let s=!1;for(const u of cs(c)){const h=Ki(u,n,i);if(0!==h)return h;s=s||u.field.isKeyField()}return 0}}function Ki(c,n,i){const s=c.field.isKeyField()?Xt.comparator(n.key,i.key):function(h,y,S){const N=y.data.field(h),V=S.data.field(h);return null!==N&&null!==V?yi(N,V):pt(42886)}(c.field,n,i);switch(c.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:c.dir})}}class Mi{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,h]of s)if(this.equalsFn(u,n))return h}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],n))return void(u[h]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){go(this.inner,(i,s)=>{for(const[u,h]of s)n(u,h)})}isEmpty(){return Ts(this.inner)}size(){return this.innerSize}}const G=new Wr(Xt.comparator);function v(){return G}const w=new Wr(Xt.comparator);function P(...c){let n=w;for(const i of c)n=n.insert(i.key,i);return n}function L(c){let n=w;return c.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function p(){return _()}function I(){return _()}function _(){return new Mi(c=>c.toString(),(c,n)=>c.isEqual(n))}const A=new Wr(Xt.comparator),k=new Xr(Xt.comparator);function Q(...c){let n=k;for(const i of c)n=n.add(i);return n}const Z=new Xr(Zt);function qe(c,n){if(c.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pr(n)?"-0":n}}function Mt(c){return{integerValue:""+c}}function gn(c,n){return function ie(c){return"number"==typeof c&&Number.isInteger(c)&&!pr(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}(n)?Mt(n):qe(c,n)}class ur{constructor(){this._=void 0}}function ti(c,n,i){return c instanceof Di?function(u,h){const y={fields:{[ra]:{stringValue:Ji},[ba]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&jo(h)&&(h=_r(h)),h&&(y.fields[xs]=h),{mapValue:y}}(i,n):c instanceof Fo?ms(c,n):c instanceof yo?Xo(c,n):function(u,h){const y=di(u,h),S=kc(y)+kc(u.Re);return Pi(y)&&Pi(u.Re)?Mt(S):qe(u.serializer,S)}(c,n)}function qi(c,n,i){return c instanceof Fo?ms(c,n):c instanceof yo?Xo(c,n):i}function di(c,n){return c instanceof ga?Pi(s=n)||(h=s)&&"doubleValue"in h?n:{integerValue:0}:null;var s,h}class Di extends ur{}class Fo extends ur{constructor(n){super(),this.elements=n}}function ms(c,n){const i=Ml(n);for(const s of c.elements)i.some(u=>Lr(u,s))||i.push(s);return{arrayValue:{values:i}}}class yo extends ur{constructor(n){super(),this.elements=n}}function Xo(c,n){let i=Ml(n);for(const s of c.elements)i=i.filter(u=>!Lr(u,s));return{arrayValue:{values:i}}}class ga extends ur{constructor(n,i){super(),this.serializer=n,this.Re=i}}function kc(c){return Or(c.integerValue||c.doubleValue)}function Ml(c){return Do(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class Nl{constructor(n,i){this.version=n,this.transformResults=i}}class eo{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new eo}static exists(n){return new eo(void 0,n)}static updateTime(n){return new eo(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function jn(c,n){return void 0!==c.updateTime?n.isFoundDocument()&&n.version.isEqual(c.updateTime):void 0===c.exists||c.exists===n.isFoundDocument()}class Yn{}function ar(c,n){if(!c.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return c.isNoDocument()?new to(c.key,eo.none()):new Rs(c.key,c.data,eo.none());{const i=c.data,s=oo.empty();let u=new Xr(qn.comparator);for(let h of n.fields)if(!u.has(h)){let y=i.field(h);null===y&&h.length>1&&(h=h.popLast(),y=i.field(h)),null===y?s.delete(h):s.set(h,y),u=u.add(h)}return new hi(c.key,s,new ko(u.toArray()),eo.none())}}function vi(c,n,i){c instanceof Rs?function(u,h,y){const S=u.value.clone(),N=su(u.fieldTransforms,h,y.transformResults);S.setAll(N),h.convertToFoundDocument(y.version,S).setHasCommittedMutations()}(c,n,i):c instanceof hi?function(u,h,y){if(!jn(u.precondition,h))return void h.convertToUnknownDocument(y.version);const S=su(u.fieldTransforms,h,y.transformResults),N=h.data;N.setAll(ni(u)),N.setAll(S),h.convertToFoundDocument(y.version,N).setHasCommittedMutations()}(c,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Sr(c,n,i,s){return c instanceof Rs?function(h,y,S,N){if(!jn(h.precondition,y))return S;const V=h.value.clone(),J=_o(h.fieldTransforms,N,y);return V.setAll(J),y.convertToFoundDocument(y.version,V).setHasLocalMutations(),null}(c,n,i,s):c instanceof hi?function(h,y,S,N){if(!jn(h.precondition,y))return S;const V=_o(h.fieldTransforms,N,y),J=y.data;return J.setAll(ni(h)),J.setAll(V),y.convertToFoundDocument(y.version,J).setHasLocalMutations(),null===S?null:S.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(ce=>ce.field))}(c,n,i,s):(S=i,jn(c.precondition,y=n)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):S);var y,S}function ma(c,n){let i=null;for(const s of c.fieldTransforms){const u=n.data.field(s.field),h=di(s.transform,u||null);null!=h&&(null===i&&(i=oo.empty()),i.set(s.field,h))}return i||null}function br(c,n){return c.type===n.type&&!!c.key.isEqual(n.key)&&!!c.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=c.fieldTransforms)&&void 0===u||s&&u&&Mr(s,u,(h,y)=>function Hu(c,n){return c.field.isEqual(n.field)&&(u=n.transform,(s=c.transform)instanceof Fo&&u instanceof Fo||s instanceof yo&&u instanceof yo?Mr(s.elements,u.elements,Lr):s instanceof ga&&u instanceof ga?Lr(s.Re,u.Re):s instanceof Di&&u instanceof Di);var s,u}(h,y))))&&(0===c.type?c.value.isEqual(n.value):1!==c.type||c.data.isEqual(n.data)&&c.fieldMask.isEqual(n.fieldMask));var s,u}class Rs extends Yn{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class hi extends Yn{constructor(n,i,s,u,h=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ni(c){const n=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=c.data.field(i);n.set(i,s)}}),n}function su(c,n,i){const s=new Map;Je(c.length===i.length,32656,{Ve:i.length,me:c.length});for(let u=0;u<i.length;u++){const h=c[u],y=h.transform,S=n.data.field(h.field);s.set(h.field,qi(y,S,i[u]))}return s}function _o(c,n,i){const s=new Map;for(const u of c){const h=u.transform,y=i.data.field(u.field);s.set(u.field,ti(h,y,n))}return s}class to extends Yn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class us extends Yn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ls{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(n.key)&&vi(h,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=Sr(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=Sr(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=I();return this.mutations.forEach(u=>{const h=n.get(u.key),y=h.overlayedDocument;let S=this.applyToLocalView(y,h.mutatedFields);S=i.has(u.key)?null:S;const N=ar(y,S);null!==N&&s.set(u.key,N),y.isValidDocument()||y.convertToNoDocument(cn.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),Q())}isEqual(n){return this.batchId===n.batchId&&Mr(this.mutations,n.mutations,(i,s)=>br(i,s))&&Mr(this.baseMutations,n.baseMutations,(i,s)=>br(i,s))}}class Ds{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){Je(n.mutations.length===s.length,58842,{fe:n.mutations.length,ge:s.length});let u=function(){return A}();const h=n.mutations;for(let y=0;y<h.length;y++)u=u.insert(h[y].key,s[y].version);return new Ds(n,i,s,u)}}class gc{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rh{constructor(n,i){this.count=n,this.unchangedNames=i}}var Lo,fi;function zu(c){if(void 0===c)return Vn("GRPC error has no .code"),Ke.UNKNOWN;switch(c){case Lo.OK:return Ke.OK;case Lo.CANCELLED:return Ke.CANCELLED;case Lo.UNKNOWN:return Ke.UNKNOWN;case Lo.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case Lo.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case Lo.INTERNAL:return Ke.INTERNAL;case Lo.UNAVAILABLE:return Ke.UNAVAILABLE;case Lo.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case Lo.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case Lo.NOT_FOUND:return Ke.NOT_FOUND;case Lo.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case Lo.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case Lo.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case Lo.ABORTED:return Ke.ABORTED;case Lo.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case Lo.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case Lo.DATA_LOSS:return Ke.DATA_LOSS;default:return pt(39323,{code:c})}}(fi=Lo||(Lo={}))[fi.OK=0]="OK",fi[fi.CANCELLED=1]="CANCELLED",fi[fi.UNKNOWN=2]="UNKNOWN",fi[fi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fi[fi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fi[fi.NOT_FOUND=5]="NOT_FOUND",fi[fi.ALREADY_EXISTS=6]="ALREADY_EXISTS",fi[fi.PERMISSION_DENIED=7]="PERMISSION_DENIED",fi[fi.UNAUTHENTICATED=16]="UNAUTHENTICATED",fi[fi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fi[fi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fi[fi.ABORTED=10]="ABORTED",fi[fi.OUT_OF_RANGE=11]="OUT_OF_RANGE",fi[fi.UNIMPLEMENTED=12]="UNIMPLEMENTED",fi[fi.INTERNAL=13]="INTERNAL",fi[fi.UNAVAILABLE=14]="UNAVAILABLE",fi[fi.DATA_LOSS=15]="DATA_LOSS";const wf=new be([4294967295,4294967295],0);function au(c){const n=Qn().encode(c),i=new We;return i.update(n),new Uint8Array(i.digest())}function ih(c){const n=new DataView(c.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),h=n.getUint32(12,!0);return[new be([i,s],0),new be([u,h],0)]}class mc{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Xa(`Invalid padding: ${i}`);if(s<0)throw new Xa(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new Xa(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new Xa(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*n.length-i,this.ye=be.fromNumber(this.pe)}we(n,i,s){let u=n.add(i.multiply(be.fromNumber(s)));return 1===u.compare(wf)&&(u=new be([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.pe)return!1;const i=au(n),[s,u]=ih(i);for(let h=0;h<this.hashCount;h++){const y=this.we(s,u,h);if(!this.Se(y))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,h=new Uint8Array(Math.ceil(n/8)),y=new mc(h,u,i);return s.forEach(S=>y.insert(S)),y}insert(n){if(0===this.pe)return;const i=au(n),[s,u]=ih(i);for(let h=0;h<this.hashCount;h++){const y=this.we(s,u,h);this.be(y)}}be(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oc{constructor(n,i,s,u,h){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,aa.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new Oc(cn.min(),u,new Wr(Zt),v(),Q())}}class aa{constructor(n,i,s,u,h){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new aa(s,i,Q(),Q(),Q())}}class yc{constructor(n,i,s,u){this.De=n,this.removedTargetIds=i,this.key=s,this.ve=u}}class kl{constructor(n,i){this.targetId=n,this.Ce=i}}class If{constructor(n,i,s=Ui.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Ir{constructor(){this.Fe=0,this.Me=Ol(),this.xe=Ui.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(n){n.approximateByteSize()>0&&(this.Ne=!0,this.xe=n)}qe(){let n=Q(),i=Q(),s=Q();return this.Me.forEach((u,h)=>{switch(h){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:pt(38017,{changeType:h})}}),new aa(this.xe,this.Oe,n,i,s)}Qe(){this.Ne=!1,this.Me=Ol()}$e(n,i){this.Ne=!0,this.Me=this.Me.insert(n,i)}Ue(n){this.Ne=!0,this.Me=this.Me.remove(n)}Ke(){this.Fe+=1}We(){this.Fe-=1,Je(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class xl{constructor(n){this.ze=n,this.je=new Map,this.He=v(),this.Je=Ua(),this.Ye=Ua(),this.Ze=new Wr(Zt)}Xe(n){for(const i of n.De)n.ve&&n.ve.isFoundDocument()?this.et(i,n.ve):this.tt(i,n.key,n.ve);for(const i of n.removedTargetIds)this.tt(i,n.key,n.ve)}nt(n){this.forEachTarget(n,i=>{const s=this.rt(i);switch(n.state){case 0:this.it(i)&&s.ke(n.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(n.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(n.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(n.resumeToken));break;default:pt(56790,{state:n.state})}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.je.forEach((s,u)=>{this.it(u)&&i(u)})}ot(n){const i=n.targetId,s=n.Ce.count,u=this._t(i);if(u){const h=u.target;if(Ce(h))if(0===s){const y=new Xt(h.path);this.tt(i,y,ui.newNoDocument(y,cn.min()))}else Je(1===s,20013,{expectedCount:s});else{const y=this.ut(i);if(y!==s){const S=this.ct(n),N=S?this.lt(S,n,y):1;0!==N&&(this.st(i),this.Ze=this.Ze.insert(i,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}ct(n){const i=n.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let y,S;try{y=yr(s).toUint8Array()}catch(N){if(N instanceof ls)return Mn("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{S=new mc(y,u,h)}catch(N){return Mn(N instanceof Xa?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===S.pe?null:S}lt(n,i,s){return i.Ce.count===s-this.Tt(n,i.targetId)?0:2}Tt(n,i){const s=this.ze.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const y=this.ze.Pt(),S=`projects/${y.projectId}/databases/${y.database}/documents/${h.path.canonicalString()}`;n.mightContain(S)||(this.tt(i,h,null),u++)}),u}It(n){const i=new Map;this.je.forEach((h,y)=>{const S=this._t(y);if(S){if(h.current&&Ce(S.target)){const N=new Xt(S.target.path);this.Et(N).has(y)||this.dt(y,N)||this.tt(y,N,ui.newNoDocument(N,n))}h.Le&&(i.set(y,h.qe()),h.Qe())}});let s=Q();this.Ye.forEach((h,y)=>{let S=!0;y.forEachWhile(N=>{const V=this._t(N);return!V||"TargetPurposeLimboResolution"===V.purpose||(S=!1,!1)}),S&&(s=s.add(h))}),this.He.forEach((h,y)=>y.setReadTime(n));const u=new Oc(n,i,this.Ze,this.He,s);return this.He=v(),this.Je=Ua(),this.Ye=Ua(),this.Ze=new Wr(Zt),u}et(n,i){if(!this.it(n))return;const s=this.dt(n,i.key)?2:0;this.rt(n).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(n)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(n))}tt(n,i,s){if(!this.it(n))return;const u=this.rt(n);this.dt(n,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(n)),this.Ye=this.Ye.insert(i,this.At(i).add(n)),s&&(this.He=this.He.insert(i,s))}removeTarget(n){this.je.delete(n)}ut(n){const i=this.rt(n).qe();return this.ze.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}Ke(n){this.rt(n).Ke()}rt(n){let i=this.je.get(n);return i||(i=new Ir,this.je.set(n,i)),i}At(n){let i=this.Ye.get(n);return i||(i=new Xr(Zt),this.Ye=this.Ye.insert(n,i)),i}Et(n){let i=this.Je.get(n);return i||(i=new Xr(Zt),this.Je=this.Je.insert(n,i)),i}it(n){const i=null!==this._t(n);return i||ct("WatchChangeAggregator","Detected inactive target",n),i}_t(n){const i=this.je.get(n);return i&&i.Be?null:this.ze.Rt(n)}st(n){this.je.set(n,new Ir),this.ze.getRemoteKeysForTarget(n).forEach(i=>{this.tt(n,i,null)})}dt(n,i){return this.ze.getRemoteKeysForTarget(n).has(i)}}function Ua(){return new Wr(Xt.comparator)}function Ol(){return new Wr(Xt.comparator)}const $y={asc:"ASCENDING",desc:"DESCENDING"},Eg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oh={and:"AND",or:"OR"};class Tf{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function Ma(c,n){return c.useProto3Json||Rn(n)?n:{value:n}}function Wu(c,n){return c.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Fl(c,n){return c.useProto3Json?n.toBase64():n.toUint8Array()}function Hy(c,n){return Wu(c,n.toTimestamp())}function Vo(c){return Je(!!c,49232),cn.fromTimestamp(function(i){const s=xo(i);return new dr(s.seconds,s.nanos)}(c))}function Gu(c,n){return Nt(c,n).canonicalString()}function Nt(c,n){const i=(u=c,new ht(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function vr(c){const n=ht.fromString(c);return Je(Bl(n),10190,{key:n.toString()}),n}function _c(c,n){return Gu(c.databaseId,n.path)}function ca(c,n){const i=vr(n);if(i.get(1)!==c.databaseId.projectId)throw new te(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new te(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new Xt(Xs(i))}function Br(c,n){return Gu(c.databaseId,n)}function ua(c){return new ht(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Xs(c){return Je(c.length>4&&"documents"===c.get(4),29091,{key:c.toString()}),c.popFirst(5)}function Ll(c,n,i){return{name:_c(c,n),fields:i.value.mapValue.fields}}function Fc(c,n){return{documents:[Br(c,n.path)]}}function As(c,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Br(c,u);const h=function(V){if(0!==V.length)return uu(Vr.create(V,"and"))}(n.filters);h&&(i.structuredQuery.where=h);const y=function(V){if(0!==V.length)return V.map(J=>{return{field:vc((Fe=J).field),direction:Ig(Fe.dir)};var Fe})}(n.orderBy);y&&(i.structuredQuery.orderBy=y);const S=Ma(c,n.limit);return null!==S&&(i.structuredQuery.limit=S),n.startAt&&(i.structuredQuery.startAt={before:(V=n.startAt).inclusive,values:V.position}),n.endAt&&(i.structuredQuery.endAt=function(V){return{before:!V.inclusive,values:V.position}}(n.endAt)),{gt:i,parent:u};var V}function Cf(c){let n=function bf(c){const n=vr(c);return 4===n.length?ht.emptyPath():Xs(n)}(c.parent);const i=c.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Je(1===s,65062);const J=i.from[0];J.allDescendants?u=J.collectionId:n=n.child(J.collectionId)}let h=[];i.where&&(h=function(ce){const Fe=_a(ce);return Fe instanceof Vr&&qa(Fe)?Fe.getFilters():[Fe]}(i.where));let y=[];i.orderBy&&(y=i.orderBy.map(Fe=>{return new Gs(Ba((zt=Fe).field),function(sn){switch(sn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(zt.direction));var zt}));let S=null;i.limit&&(S=function(ce){let Fe;return Fe="object"==typeof ce?ce.value:ce,Rn(Fe)?null:Fe}(i.limit));let N=null;var ce;i.startAt&&(N=new Oo((ce=i.startAt).values||[],!!ce.before));let V=null;return i.endAt&&(V=function(ce){return new Oo(ce.values||[],!ce.before)}(i.endAt)),function Gi(c,n,i,s,u,h,y,S){return new ji(c,n,i,s,u,h,y,S)}(n,u,y,h,S,"F",N,V)}function _a(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ba(i.unaryFilter.field);return zr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Ba(i.unaryFilter.field);return zr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ba(i.unaryFilter.field);return zr.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=Ba(i.unaryFilter.field);return zr.create(y,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(c):void 0!==c.fieldFilter?zr.create(Ba((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return Vr.create(i.compositeFilter.filters.map(s=>_a(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(c):pt(30097,{filter:c});var i}function Ig(c){return $y[c]}function cu(c){return Eg[c]}function Tg(c){return oh[c]}function vc(c){return{fieldPath:c.canonicalString()}}function Ba(c){return qn.fromServerFormat(c.fieldPath)}function uu(c){return c instanceof zr?function(i){if("=="===i.op){if(mo(i.value))return{unaryFilter:{field:vc(i.field),op:"IS_NAN"}};if(ei(i.value))return{unaryFilter:{field:vc(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(mo(i.value))return{unaryFilter:{field:vc(i.field),op:"IS_NOT_NAN"}};if(ei(i.value))return{unaryFilter:{field:vc(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(i.field),op:cu(i.op),value:i.value}}}(c):c instanceof Vr?function(i){const s=i.getFilters().map(u=>uu(u));return 1===s.length?s[0]:{compositeFilter:{op:Tg(i.op),filters:s}}}(c):pt(54877,{filter:c})}function Ku(c){const n=[];return c.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Bl(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class Za{constructor(n,i,s,u,h=cn.min(),y=cn.min(),S=Ui.EMPTY_BYTE_STRING,N=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=S,this.expectedCount=N}withSequenceNumber(n){return new Za(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class jl{constructor(n){this.wt=n}}function Ja(c){const n=Cf({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?Nn(n,n.limit,"L"):n}class Ec{constructor(){}vt(n,i){this.Ct(n,i),i.Ft()}Ct(n,i){if("nullValue"in n)this.Mt(i,5);else if("booleanValue"in n)this.Mt(i,10),i.xt(n.booleanValue?1:0);else if("integerValue"in n)this.Mt(i,15),i.xt(Or(n.integerValue));else if("doubleValue"in n){const s=Or(n.doubleValue);isNaN(s)?this.Mt(i,13):(this.Mt(i,15),pr(s)?i.xt(0):i.xt(s))}else if("timestampValue"in n){let s=n.timestampValue;this.Mt(i,20),"string"==typeof s&&(s=xo(s)),i.Ot(`${s.seconds||""}`),i.xt(s.nanos||0)}else if("stringValue"in n)this.Nt(n.stringValue,i),this.Bt(i);else if("bytesValue"in n)this.Mt(i,30),i.Lt(yr(n.bytesValue)),this.Bt(i);else if("referenceValue"in n)this.kt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.Mt(i,45),i.xt(s.latitude||0),i.xt(s.longitude||0)}else"mapValue"in n?Da(n)?this.Mt(i,Number.MAX_SAFE_INTEGER):ds(n)?this.qt(n.mapValue,i):(this.Qt(n.mapValue,i),this.Bt(i)):"arrayValue"in n?(this.$t(n.arrayValue,i),this.Bt(i)):pt(19022,{Ut:n})}Nt(n,i){this.Mt(i,25),this.Kt(n,i)}Kt(n,i){i.Ot(n)}Qt(n,i){const s=n.fields||{};this.Mt(i,55);for(const u of Object.keys(s))this.Nt(u,i),this.Ct(s[u],i)}qt(n,i){var s,u;const h=n.fields||{};this.Mt(i,53);const y=pn,S=(null===(u=null===(s=h[y].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.Mt(i,15),i.xt(Or(S)),this.Nt(y,i),this.Ct(h[y],i)}$t(n,i){const s=n.values||[];this.Mt(i,50);for(const u of s)this.Ct(u,i)}kt(n,i){this.Mt(i,37),Xt.fromName(n).path.forEach(s=>{this.Mt(i,60),this.Kt(s,i)})}Mt(n,i){n.xt(i)}Bt(n){n.xt(2)}}Ec.Wt=new Ec;class Ju{constructor(){this.Cn=new dh}addToCollectionParentIndex(n,i){return this.Cn.add(i),Ue.resolve()}getCollectionParents(n,i){return Ue.resolve(this.Cn.getEntries(i))}addFieldIndex(n,i){return Ue.resolve()}deleteFieldIndex(n,i){return Ue.resolve()}deleteAllFieldIndexes(n){return Ue.resolve()}createTargetIndexes(n,i){return Ue.resolve()}getDocumentsMatchingTarget(n,i){return Ue.resolve(null)}getIndexType(n,i){return Ue.resolve(0)}getFieldIndexes(n,i){return Ue.resolve([])}getNextCollectionGroupToUpdate(n){return Ue.resolve(null)}getMinOffset(n,i){return Ue.resolve(lr.min())}getMinOffsetFromCollectionGroup(n,i){return Ue.resolve(lr.min())}updateCollectionGroup(n,i,s){return Ue.resolve()}updateIndexEntries(n,i){return Ue.resolve()}}class dh{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new Xr(ht.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new Xr(ht.comparator)).toArray()}}new Uint8Array(0);const Ff={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jo{static withCacheSize(n){return new Jo(n,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Jo.DEFAULT_COLLECTION_PERCENTILE=10,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jo.DEFAULT=new Jo(41943040,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jo.DISABLED=new Jo(-1,0,0);class $c{constructor(n){this.ur=n}next(){return this.ur+=2,this.ur}static cr(){return new $c(0)}static lr(){return new $c(-1)}}const Xl="LruGarbageCollector";function oc([c,n],[i,s]){const u=Zt(c,i);return 0===u?Zt(n,s):u}class Hc{constructor(n){this.Er=n,this.buffer=new Xr(oc),this.dr=0}Ar(){return++this.dr}Rr(n){const i=[n,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();oc(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Uo{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(n){var i=this;ct(Xl,`Garbage collection scheduled in ${n}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,T.A)(function*(){i.Vr=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){wr(s)?ct(Xl,"Ignoring IndexedDB error during garbage collection: ",s):yield Wn(s)}yield i.mr(3e5)}))}}class bg{constructor(n,i){this.gr=n,this.params=i}calculateTargetCount(n,i){return this.gr.pr(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return Ue.resolve(et.le);const s=new Hc(i);return this.gr.forEachTarget(n,u=>s.Rr(u.sequenceNumber)).next(()=>this.gr.yr(n,u=>s.Rr(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.gr.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.gr.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(Ff)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ff):this.wr(n,i))}getCacheSize(n){return this.gr.getCacheSize(n)}wr(n,i){let s,u,h,y,S,N,V;const J=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(ce=>(ce>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ce}`),u=this.params.maximumSequenceNumbersToCollect):u=ce,y=Date.now(),this.nthSequenceNumber(n,u))).next(ce=>(s=ce,S=Date.now(),this.removeTargets(n,s,i))).next(ce=>(h=ce,N=Date.now(),this.removeOrphanedDocuments(n,s))).next(ce=>(V=Date.now(),qt()<=B.$b.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-J}ms\n\tDetermined least recently used ${u} in `+(S-y)+`ms\n\tRemoved ${h} targets in `+(N-S)+`ms\n\tRemoved ${ce} documents in `+(V-N)+`ms\nTotal Duration: ${V-J}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:ce})))}}class mh{constructor(){this.changes=new Mi(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,ui.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?Ue.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class $t{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class mn{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&Sr(s.mutation,u,ko.empty(),dr.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,Q()).next(()=>s))}getLocalViewOfDocuments(n,i,s=Q()){const u=p();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(h=>{let y=P();return h.forEach((S,N)=>{y=y.insert(S,N.overlayedDocument)}),y}))}getOverlayedDocuments(n,i){const s=p();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,Q()))}populateOverlays(n,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(n,u).next(h=>{h.forEach((y,S)=>{i.set(y,S)})})}computeViews(n,i,s,u){let h=v();const y=_(),S=_();return i.forEach((N,V)=>{const J=s.get(V.key);u.has(V.key)&&(void 0===J||J.mutation instanceof hi)?h=h.insert(V.key,V):void 0!==J?(y.set(V.key,J.mutation.getFieldMask()),Sr(J.mutation,V,J.mutation.getFieldMask(),dr.now())):y.set(V.key,ko.empty())}),this.recalculateAndSaveOverlays(n,h).next(N=>(N.forEach((V,J)=>y.set(V,J)),i.forEach((V,J)=>{var ce;return S.set(V,new $t(J,null!==(ce=y.get(V))&&void 0!==ce?ce:null))}),S))}recalculateAndSaveOverlays(n,i){const s=_();let u=new Wr((y,S)=>y-S),h=Q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(y=>{for(const S of y)S.keys().forEach(N=>{const V=i.get(N);if(null===V)return;let J=s.get(N)||ko.empty();J=S.applyToLocalView(V,J),s.set(N,J);const ce=(u.get(S.batchId)||Q()).add(N);u=u.insert(S.batchId,ce)})}).next(()=>{const y=[],S=u.getReverseIterator();for(;S.hasNext();){const N=S.getNext(),V=N.key,J=N.value,ce=I();J.forEach(Fe=>{if(!h.has(Fe)){const bt=ar(i.get(Fe),s.get(Fe));null!==bt&&ce.set(Fe,bt),h=h.add(Fe)}}),y.push(this.documentOverlayCache.saveOverlays(n,V,ce))}return Ue.waitFor(y)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return Xt.isDocumentKey((y=i).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):Sa(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var y}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(h=>{const y=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-h.size):Ue.resolve(p());let S=-1,N=h;return y.next(V=>Ue.forEach(V,(J,ce)=>(S<ce.largestBatchId&&(S=ce.largestBatchId),h.get(J)?Ue.resolve():this.remoteDocumentCache.getEntry(n,J).next(Fe=>{N=N.insert(J,Fe)}))).next(()=>this.populateOverlays(n,V,h)).next(()=>this.computeViews(n,N,V,Q())).next(J=>({batchId:S,changes:L(J)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new Xt(i)).next(s=>{let u=P();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const h=i.collectionGroup;let y=P();return this.indexManager.getCollectionParents(n,h).next(S=>Ue.forEach(S,N=>{const V=(ce=i,Fe=N.child(h),new ji(Fe,null,ce.explicitOrderBy.slice(),ce.filters.slice(),ce.limit,ce.limitType,ce.startAt,ce.endAt));var ce,Fe;return this.getDocumentsMatchingCollectionQuery(n,V,s,u).next(J=>{J.forEach((ce,Fe)=>{y=y.insert(ce,Fe)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(n,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(y=>(h=y,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,h,u))).next(y=>{h.forEach((N,V)=>{const J=V.getKey();null===y.get(J)&&(y=y.insert(J,ui.newInvalidDocument(J)))});let S=P();return y.forEach((N,V)=>{const J=h.get(N);void 0!==J&&Sr(J.mutation,V,ko.empty(),dr.now()),Ra(i,V)&&(S=S.insert(N,V))}),S})}}class $n{constructor(n){this.serializer=n,this.kr=new Map,this.qr=new Map}getBundleMetadata(n,i){return Ue.resolve(this.kr.get(i))}saveBundleMetadata(n,i){return this.kr.set(i.id,{id:(u=i).id,version:u.version,createTime:Vo(u.createTime)}),Ue.resolve();var u}getNamedQuery(n,i){return Ue.resolve(this.qr.get(i))}saveNamedQuery(n,i){return this.qr.set(i.name,{name:(u=i).name,query:Ja(u.bundledQuery),readTime:Vo(u.readTime)}),Ue.resolve();var u}}class zn{constructor(){this.overlays=new Wr(Xt.comparator),this.Qr=new Map}getOverlay(n,i){return Ue.resolve(this.overlays.get(i))}getOverlays(n,i){const s=p();return Ue.forEach(i,u=>this.getOverlay(n,u).next(h=>{null!==h&&s.set(u,h)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,h)=>{this.bt(n,i,h)}),Ue.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.Qr.get(s);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),Ue.resolve()}getOverlaysForCollection(n,i,s){const u=p(),h=i.length+1,y=new Xt(i.child("")),S=this.overlays.getIteratorFrom(y);for(;S.hasNext();){const N=S.getNext().value,V=N.getKey();if(!i.isPrefixOf(V.path))break;V.path.length===h&&N.largestBatchId>s&&u.set(N.getKey(),N)}return Ue.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let h=new Wr((V,J)=>V-J);const y=this.overlays.getIterator();for(;y.hasNext();){const V=y.getNext().value;if(V.getKey().getCollectionGroup()===i&&V.largestBatchId>s){let J=h.get(V.largestBatchId);null===J&&(J=p(),h=h.insert(V.largestBatchId,J)),J.set(V.getKey(),V)}}const S=p(),N=h.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((V,J)=>S.set(V,J)),!(S.size()>=u)););return Ue.resolve(S)}bt(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const y=this.Qr.get(u.largestBatchId).delete(s.key);this.Qr.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new gc(i,s));let h=this.Qr.get(i);void 0===h&&(h=Q(),this.Qr.set(i,h)),this.Qr.set(i,h.add(s.key))}}class Rr{constructor(){this.sessionToken=Ui.EMPTY_BYTE_STRING}getSessionToken(n){return Ue.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,Ue.resolve()}}class So{constructor(){this.$r=new Xr(no.Ur),this.Kr=new Xr(no.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(n,i){const s=new no(n,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.zr(new no(n,i))}jr(n,i){n.forEach(s=>this.removeReference(s,i))}Hr(n){const i=new Xt(new ht([])),s=new no(i,n),u=new no(i,n+1),h=[];return this.Kr.forEachInRange([s,u],y=>{this.zr(y),h.push(y.key)}),h}Jr(){this.$r.forEach(n=>this.zr(n))}zr(n){this.$r=this.$r.delete(n),this.Kr=this.Kr.delete(n)}Yr(n){const i=new Xt(new ht([])),s=new no(i,n),u=new no(i,n+1);let h=Q();return this.Kr.forEachInRange([s,u],y=>{h=h.add(y.key)}),h}containsKey(n){const i=new no(n,0),s=this.$r.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class no{constructor(n,i){this.key=n,this.Zr=i}static Ur(n,i){return Xt.comparator(n.key,i.key)||Zt(n.Zr,i.Zr)}static Wr(n,i){return Zt(n.Zr,i.Zr)||Xt.comparator(n.key,i.key)}}class zc{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Xr(no.Ur)}checkEmpty(n){return Ue.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const h=this.nr;this.nr++;const y=new Ls(h,i,s,u);this.mutationQueue.push(y);for(const S of u)this.Xr=this.Xr.add(new no(S.key,h)),this.indexManager.addToCollectionParentIndex(n,S.key.path.popLast());return Ue.resolve(y)}lookupMutationBatch(n,i){return Ue.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.ti(i+1),h=u<0?0:u;return Ue.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(0===this.mutationQueue.length?-1:this.nr-1)}getAllMutationBatches(n){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new no(i,0),u=new no(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,u],y=>{const S=this.ei(y.Zr);h.push(S)}),Ue.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Xr(Zt);return i.forEach(u=>{const h=new no(u,0),y=new no(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,y],S=>{s=s.add(S.Zr)})}),Ue.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let h=s;Xt.isDocumentKey(h)||(h=h.child(""));const y=new no(new Xt(h),0);let S=new Xr(Zt);return this.Xr.forEachWhile(N=>{const V=N.key.path;return!!s.isPrefixOf(V)&&(V.length===u&&(S=S.add(N.Zr)),!0)},y),Ue.resolve(this.ni(S))}ni(n){const i=[];return n.forEach(s=>{const u=this.ei(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){Je(0===this.ri(i.batchId,"removed"),55003),this.mutationQueue.shift();let s=this.Xr;return Ue.forEach(i.mutations,u=>{const h=new no(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.Xr=s})}sr(n){}containsKey(n,i){const s=new no(i,0),u=this.Xr.firstAfterOrEqual(s);return Ue.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return Ue.resolve()}ri(n,i){return this.ti(n)}ti(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}ei(n){const i=this.ti(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Jl{constructor(n){this.ii=n,this.docs=new Wr(Xt.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,y=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:y}),this.size+=y-h,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return Ue.resolve(s?s.document.mutableCopy():ui.newInvalidDocument(i))}getEntries(n,i){let s=v();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():ui.newInvalidDocument(u))}),Ue.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let h=v();const y=i.path,S=new Xt(y.child("__id-9223372036854775808__")),N=this.docs.getIteratorFrom(S);for(;N.hasNext();){const{key:V,value:{document:J}}=N.getNext();if(!y.isPrefixOf(V.path))break;V.path.length>y.length+1||Cn(new lr((c=J).readTime,c.key,-1),s)<=0||(u.has(J.key)||Ra(i,J))&&(h=h.insert(J.key,J.mutableCopy()))}var c;return Ue.resolve(h)}getAllFromCollectionGroup(n,i,s,u){pt(9500)}si(n,i){return Ue.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new ys(this)}getSize(n){return Ue.resolve(this.size)}}class ys extends mh{constructor(n){super(),this.Br=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(n,u)):this.Br.removeEntry(s)}),Ue.waitFor(i)}getFromCache(n,i){return this.Br.getEntry(n,i)}getAllFromCache(n,i){return this.Br.getEntries(n,i)}}class Dg{constructor(n){this.persistence=n,this.oi=new Mi(i=>M(i),H),this.lastRemoteSnapshotVersion=cn.min(),this.highestTargetId=0,this._i=0,this.ai=new So,this.targetCount=0,this.ui=$c.cr()}forEachTarget(n,i){return this.oi.forEach((s,u)=>i(u)),Ue.resolve()}getLastRemoteSnapshotVersion(n){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Ue.resolve(this._i)}allocateTargetId(n){return this.highestTargetId=this.ui.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),Ue.resolve()}Tr(n){this.oi.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.ui=new $c(i),this.highestTargetId=i),n.sequenceNumber>this._i&&(this._i=n.sequenceNumber)}addTargetData(n,i){return this.Tr(i),this.targetCount+=1,Ue.resolve()}updateTargetData(n,i){return this.Tr(i),Ue.resolve()}removeTargetData(n,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(n,i,s){let u=0;const h=[];return this.oi.forEach((y,S)=>{S.sequenceNumber<=i&&null===s.get(S.targetId)&&(this.oi.delete(y),h.push(this.removeMatchingKeysForTargetId(n,S.targetId)),u++)}),Ue.waitFor(h).next(()=>u)}getTargetCount(n){return Ue.resolve(this.targetCount)}getTargetData(n,i){const s=this.oi.get(i)||null;return Ue.resolve(s)}addMatchingKeys(n,i,s){return this.ai.Gr(i,s),Ue.resolve()}removeMatchingKeys(n,i,s){this.ai.jr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(y=>{h.push(u.markPotentiallyOrphaned(n,y))}),Ue.waitFor(h)}removeMatchingKeysForTargetId(n,i){return this.ai.Hr(i),Ue.resolve()}getMatchingKeysForTargetId(n,i){const s=this.ai.Yr(i);return Ue.resolve(s)}containsKey(n,i){return Ue.resolve(this.ai.containsKey(i))}}class el{constructor(n,i){this.ci={},this.overlays={},this.li=new et(0),this.hi=!1,this.hi=!0,this.Pi=new Rr,this.referenceDelegate=n(this),this.Ti=new Dg(this),this.indexManager=new Ju,this.remoteDocumentCache=new Jl(s=>this.referenceDelegate.Ii(s)),this.serializer=new jl(i),this.Ei=new $n(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new zn,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.ci[n.toKey()];return s||(s=new zc(i,this.referenceDelegate),this.ci[n.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(n,i,s){ct("MemoryPersistence","Starting transaction:",n);const u=new Ag(this.li.next());return this.referenceDelegate.di(),s(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(n,i){return Ue.or(Object.values(this.ci).map(s=>()=>s.containsKey(n,i)))}}class Ag extends kr{constructor(n){super(),this.currentSequenceNumber=n}}class mu{constructor(n){this.persistence=n,this.Vi=new So,this.mi=null}static fi(n){return new mu(n)}get gi(){if(this.mi)return this.mi;throw pt(60996)}addReference(n,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),Ue.resolve()}removeReference(n,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),Ue.resolve()}markPotentiallyOrphaned(n,i){return this.gi.add(i.toString()),Ue.resolve()}removeTarget(n,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(n,i))}di(){this.mi=new Set}Ai(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.gi,s=>{const u=Xt.fromPath(s);return this.pi(n,u).next(h=>{h||i.removeEntry(u,cn.min())})}).next(()=>(this.mi=null,i.apply(n)))}updateLimboDocument(n,i){return this.pi(n,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(n){return 0}pi(n,i){return Ue.or([()=>Ue.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Ri(n,i)])}}class Vs{constructor(n,i){this.persistence=n,this.yi=new Mi(s=>function Se(c){let n="";for(let i=0;i<c.length;i++)n.length>0&&(n=Dt(n)),n=ft(c.get(i),n);return Dt(n)}(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=function Zl(c,n){return new bg(c,n)}(this,i)}static fi(n,i){return new Vs(n,i)}di(){}Ai(n){return Ue.resolve()}forEachTarget(n,i){return this.persistence.getTargetCache().forEachTarget(n,i)}pr(n){const i=this.Sr(n);return this.persistence.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}Sr(n){let i=0;return this.yr(n,s=>{i++}).next(()=>i)}yr(n,i){return Ue.forEach(this.yi,(s,u)=>this.Dr(n,s,u).next(h=>h?Ue.resolve():i(u)))}removeTargets(n,i,s){return this.persistence.getTargetCache().removeTargets(n,i,s)}removeOrphanedDocuments(n,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(n,y=>this.Dr(n,y,i).next(S=>{S||(s++,h.removeEntry(y,cn.min()))})).next(()=>h.apply(n)).next(()=>s)}markPotentiallyOrphaned(n,i){return this.yi.set(i,n.currentSequenceNumber),Ue.resolve()}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,s)}addReference(n,i,s){return this.yi.set(s,n.currentSequenceNumber),Ue.resolve()}removeReference(n,i,s){return this.yi.set(s,n.currentSequenceNumber),Ue.resolve()}updateLimboDocument(n,i){return this.yi.set(i,n.currentSequenceNumber),Ue.resolve()}Ii(n){let i=n.key.toString().length;return n.isFoundDocument()&&(i+=uo(n.data.value)),i}Dr(n,i,s){return Ue.or([()=>this.persistence.Ri(n,i),()=>this.persistence.getTargetCache().containsKey(n,i),()=>{const u=this.yi.get(i);return Ue.resolve(void 0!==u&&u>s)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}class nl{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.ds=s,this.As=u}static Rs(n,i){let s=Q(),u=Q();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new nl(n,i.fromCache,s,u)}}class Gy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class Cg{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=(0,Re.nr)()?8:function Oi(c){const n=c.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}((0,Re.ZQ)())>0?6:4}initialize(n,i){this.ys=n,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(n,i,s,u){const h={result:null};return this.ws(n,i).next(y=>{h.result=y}).next(()=>{if(!h.result)return this.Ss(n,i,u,s).next(y=>{h.result=y})}).next(()=>{if(h.result)return;const y=new Gy;return this.bs(n,i,y).next(S=>{if(h.result=S,this.fs)return this.Ds(n,i,y,S.size)})}).next(()=>h.result)}Ds(n,i,s,u){return s.documentReadCount<this.gs?(qt()<=B.$b.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",gs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ue.resolve()):(qt()<=B.$b.DEBUG&&ct("QueryEngine","Query:",gs(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ps*u?(qt()<=B.$b.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",gs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Co(i))):Ue.resolve())}ws(n,i){if(qs(i))return Ue.resolve(null);let s=Co(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=Nn(i,null,"F"),s=Co(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(h=>{const y=Q(...h);return this.ys.getDocuments(n,y).next(S=>this.indexManager.getMinOffset(n,s).next(N=>{const V=this.vs(i,S);return this.Cs(i,V,y,N.readTime)?this.ws(n,Nn(i,null,"F")):this.Fs(n,V,i,N)}))})))}Ss(n,i,s,u){return qs(i)||u.isEqual(cn.min())?Ue.resolve(null):this.ys.getDocuments(n,s).next(h=>{const y=this.vs(i,h);return this.Cs(i,y,s,u)?Ue.resolve(null):(qt()<=B.$b.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),gs(i)),this.Fs(n,y,i,function ir(c,n){const i=c.toTimestamp().seconds,s=c.toTimestamp().nanoseconds+1,u=cn.fromTimestamp(1e9===s?new dr(i+1,0):new dr(i,s));return new lr(u,Xt.empty(),n)}(u,-1)).next(S=>S))})}vs(n,i){let s=new Xr($i(n));return i.forEach((u,h)=>{Ra(n,h)&&(s=s.add(h))}),s}Cs(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const h="F"===n.limitType?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}bs(n,i,s){return qt()<=B.$b.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",gs(i)),this.ys.getDocumentsMatchingQuery(n,i,lr.min(),s)}Fs(n,i,s,u){return this.ys.getDocumentsMatchingQuery(n,s,u).next(h=>(i.forEach(y=>{h=h.insert(y.key,y)}),h))}}const Ky="LocalStore";class Hf{constructor(n,i,s,u){this.persistence=n,this.Ms=i,this.serializer=u,this.xs=new Wr(Zt),this.Os=new Mi(h=>M(h),H),this.Ns=new Map,this.Bs=n.getRemoteDocumentCache(),this.Ti=n.getTargetCache(),this.Ei=n.getBundleCache(),this.Ls(s)}Ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new mn(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.xs))}}function vo(c,n){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,T.A)(function*(c,n){const i=kt(c);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.Ls(n),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const y=[],S=[];let N=Q();for(const V of u){y.push(V.batchId);for(const J of V.mutations)N=N.add(J.key)}for(const V of h){S.push(V.batchId);for(const J of V.mutations)N=N.add(J.key)}return i.localDocuments.getDocuments(s,N).next(V=>({ks:V,removedBatchIds:y,addedBatchIds:S}))})})})).apply(this,arguments)}function Qy(c){const n=kt(c);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ti.getLastRemoteSnapshotVersion(i))}function Xy(c,n){const i=kt(c);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function yu(c,n,i){return Mg.apply(this,arguments)}function Mg(){return(Mg=(0,T.A)(function*(c,n,i){const s=kt(c),u=s.xs.get(n),h=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",h,y=>s.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!wr(y))throw y;ct(Ky,`Failed to update sequence numbers for target ${n}: ${y}`)}s.xs=s.xs.remove(n),s.Os.delete(u.target)})).apply(this,arguments)}function Wf(c,n,i){const s=kt(c);let u=cn.min(),h=Q();return s.persistence.runTransaction("Execute query","readwrite",y=>function(N,V,J){const ce=kt(N),Fe=ce.Os.get(J);return void 0!==Fe?Ue.resolve(ce.xs.get(Fe)):ce.Ti.getTargetData(V,J)}(s,y,Co(n)).next(S=>{if(S)return u=S.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(y,S.targetId).next(N=>{h=N})}).next(()=>s.Ms.getDocumentsMatchingQuery(y,n,i?u:cn.min(),i?h:Q())).next(S=>(function ac(c,n,i){let s=c.Ns.get(n)||cn.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),c.Ns.set(n,s)}(s,function Pa(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}(n),S),{documents:S,$s:h})))}class qf{constructor(){this.activeTargetIds=function Oe(){return Z}()}js(n){this.activeTargetIds=this.activeTargetIds.add(n)}Hs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}zs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class n_{constructor(){this.xo=new qf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n,i=!0){return i&&this.xo.js(n),this.Oo[n]||"not-current"}updateQueryState(n,i,s){this.Oo[n]=i}removeLocalQueryTarget(n){this.xo.Hs(n)}isLocalQueryTarget(n){return this.xo.activeTargetIds.has(n)}clearQueryState(n){delete this.Oo[n]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(n){return this.xo.activeTargetIds.has(n)}start(){return this.xo=new qf,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class vh{No(n){}shutdown(){}}const r_="ConnectivityMonitor";class Qf{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(n){this.Qo.push(n)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ct(r_,"Network connectivity changed: AVAILABLE");for(const n of this.Qo)n(0)}qo(){ct(r_,"Network connectivity changed: UNAVAILABLE");for(const n of this.Qo)n(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Eh=null;function sl(){return null===Eh?Eh=268435456+Math.round(2147483648*Math.random()):Eh++,"0x"+Eh.toString(16)}const al="RestConnection",i_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xf{get Uo(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+n.host,this.Wo=`projects/${s}/databases/${u}`,this.Go=this.databaseId.database===Ee?`project_id=${s}`:`project_id=${s}&database_id=${u}`}zo(n,i,s,u,h){const y=sl(),S=this.jo(n,i.toUriEncodedString());ct(al,`Sending RPC '${n}' ${y}:`,S,s);const N={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(N,u,h);const{host:V}=new URL(S),J=(0,Re.zJ)(V);return this.Jo(n,S,N,s,J).then(ce=>(ct(al,`Received RPC '${n}' ${y}: `,ce),ce),ce=>{throw Mn(al,`RPC '${n}' ${y} failed with error: `,ce,"url: ",S,"request:",s),ce})}Yo(n,i,s,u,h,y){return this.zo(n,i,s,u,h)}Ho(n,i,s){n["X-Goog-Api-Client"]="gl-js/ fire/"+Ye,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>n[h]=u),s&&s.headers.forEach((u,h)=>n[h]=u)}jo(n,i){return`${this.Ko}/v1/${i}:${i_[n]}`}terminate(){}}class Zf{constructor(n){this.Zo=n.Zo,this.Xo=n.Xo}e_(n){this.t_=n}n_(n){this.r_=n}i_(n){this.s_=n}onMessage(n){this.o_=n}close(){this.Xo()}send(n){this.Zo(n)}__(){this.t_()}a_(){this.r_()}u_(n){this.s_(n)}c_(n){this.o_(n)}}const Js="WebChannelConnection";class SE extends Xf{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,i,s,u,h){const y=sl();return new Promise((S,N)=>{const V=new lt;V.setWithCredentials(!0),V.listenOnce(Rt.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case Ht.NO_ERROR:const ce=V.getResponseJson();ct(Js,`XHR for RPC '${n}' ${y} received:`,JSON.stringify(ce)),S(ce);break;case Ht.TIMEOUT:ct(Js,`RPC '${n}' ${y} timed out`),N(new te(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case Ht.HTTP_ERROR:const Fe=V.getStatus();if(ct(Js,`RPC '${n}' ${y} failed with status:`,Fe,"response text:",V.getResponseText()),Fe>0){let bt=V.getResponseJson();Array.isArray(bt)&&(bt=bt[0]);const zt=bt?.error;if(zt&&zt.status&&zt.message){const dn=function(Zn){const rr=Zn.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(rr)>=0?rr:Ke.UNKNOWN}(zt.status);N(new te(dn,zt.message))}else N(new te(Ke.UNKNOWN,"Server responded with status "+V.getStatus()))}else N(new te(Ke.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:n,streamId:y,h_:V.getLastErrorCode(),P_:V.getLastError()})}}finally{ct(Js,`RPC '${n}' ${y} completed.`)}});const J=JSON.stringify(u);ct(Js,`RPC '${n}' ${y} sending request:`,u),V.send(i,"POST",J,s,15)})}T_(n,i,s){const u=sl(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",n,"/channel"],y=wt(),S=yt(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},V=this.longPollingOptions.timeoutSeconds;void 0!==V&&(N.longPollingTimeout=Math.round(1e3*V)),this.useFetchStreams&&(N.useFetchStreams=!0),this.Ho(N.initMessageHeaders,i,s),N.encodeInitMessageHeaders=!0;const J=h.join("");ct(Js,`Creating RPC '${n}' stream ${u}: ${J}`,N);const ce=y.createWebChannel(J,N);let Fe=!1,bt=!1;const zt=new Zf({Zo:sn=>{bt?ct(Js,`Not sending because RPC '${n}' stream ${u} is closed:`,sn):(Fe||(ct(Js,`Opening RPC '${n}' stream ${u} transport.`),ce.open(),Fe=!0),ct(Js,`RPC '${n}' stream ${u} sending:`,sn),ce.send(sn))},Xo:()=>ce.close()}),dn=(sn,Zn,rr)=>{sn.listen(Zn,kn=>{try{rr(kn)}catch(Fr){setTimeout(()=>{throw Fr},0)}})};return dn(ce,dt.EventType.OPEN,()=>{bt||(ct(Js,`RPC '${n}' stream ${u} transport opened.`),zt.__())}),dn(ce,dt.EventType.CLOSE,()=>{bt||(bt=!0,ct(Js,`RPC '${n}' stream ${u} transport closed`),zt.u_())}),dn(ce,dt.EventType.ERROR,sn=>{bt||(bt=!0,Mn(Js,`RPC '${n}' stream ${u} transport errored. Name:`,sn.name,"Message:",sn.message),zt.u_(new te(Ke.UNAVAILABLE,"The operation could not be completed")))}),dn(ce,dt.EventType.MESSAGE,sn=>{var Zn;if(!bt){const rr=sn.data[0];Je(!!rr,16349);const kn=rr,Fr=kn?.error||(null===(Zn=kn[0])||void 0===Zn?void 0:Zn.error);if(Fr){ct(Js,`RPC '${n}' stream ${u} received error:`,Fr);const xi=Fr.status;let si=function(He){const at=Lo[He];if(void 0!==at)return zu(at)}(xi),st=Fr.message;void 0===si&&(si=Ke.INTERNAL,st="Unknown error status: "+xi+" with message "+Fr.message),bt=!0,zt.u_(new te(si,st)),ce.close()}else ct(Js,`RPC '${n}' stream ${u} received:`,rr),zt.c_(rr)}}),dn(S,Jt.STAT_EVENT,sn=>{sn.stat===Bt.PROXY?ct(Js,`RPC '${n}' stream ${u} detected buffering proxy`):sn.stat===Bt.NOPROXY&&ct(Js,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{zt.a_()},0),zt}}function wh(){return typeof document<"u"?document:null}function cl(c){return new Tf(c,!0)}class Og{constructor(n,i,s=1e3,u=1.5,h=6e4){this.xi=n,this.timerId=i,this.I_=s,this.E_=u,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(n){this.cancel();const i=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-s);u>0&&ct("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),n())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){null!==this.R_&&(this.R_.skipDelay(),this.R_=null)}cancel(){null!==this.R_&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}const s_="PersistentStream";class la{constructor(n,i,s,u,h,y,S,N){this.xi=n,this.y_=s,this.w_=u,this.connection=h,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=S,this.listener=N,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Og(n,i)}F_(){return 1===this.state||5===this.state||this.M_()}M_(){return 2===this.state||3===this.state}start(){this.v_=0,4!==this.state?this.auth():this.x_()}stop(){var n=this;return(0,T.A)(function*(){n.F_()&&(yield n.close(0))})()}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&null===this.b_&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(n){this.k_(),this.stream.send(n)}B_(){var n=this;return(0,T.A)(function*(){if(n.M_())return n.close(0)})()}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(n,i){var s=this;return(0,T.A)(function*(){s.k_(),s.q_(),s.C_.cancel(),s.S_++,4!==n?s.C_.reset():i&&i.code===Ke.RESOURCE_EXHAUSTED?(Vn(i.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),s.C_.m_()):i&&i.code===Ke.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Q_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.i_(i)})()}Q_(){}auth(){this.state=1;const n=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.S_===i&&this.K_(s,u)},s=>{n(()=>{const u=new te(Ke.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(u)})})}K_(n,i){const s=this.U_(this.S_);this.stream=this.G_(n,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{s(()=>this.W_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.v_?this.z_(u):this.onNext(u))})}x_(){var n=this;this.state=5,this.C_.f_((0,T.A)(function*(){n.state=0,n.start()}))}W_(n){return ct(s_,`close with error: ${n}`),this.stream=null,this.close(4,n)}U_(n){return i=>{this.xi.enqueueAndForget(()=>this.S_===n?i():(ct(s_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fg extends la{constructor(n,i,s,u,h,y){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,y),this.serializer=h}G_(n,i){return this.connection.T_("Listen",n,i)}z_(n){return this.onNext(n)}onNext(n){this.C_.reset();const i=function Af(c,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(V=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:pt(39313,{state:V}),u=n.targetChange.targetIds||[],h=function(V,J){return V.useProto3Json?(Je(void 0===J||"string"==typeof J,58123),Ui.fromBase64String(J||"")):(Je(void 0===J||J instanceof Buffer||J instanceof Uint8Array,16193),Ui.fromUint8Array(J||new Uint8Array))}(c,n.targetChange.resumeToken),y=n.targetChange.cause,S=y&&function(V){const J=void 0===V.code?Ke.UNKNOWN:zu(V.code);return new te(J,V.message||"")}(y);i=new If(s,u,h,S||null)}else if("documentChange"in n){const s=n.documentChange,u=ca(c,s.document.name),h=Vo(s.document.updateTime),y=s.document.createTime?Vo(s.document.createTime):cn.min(),S=new oo({mapValue:{fields:s.document.fields}}),N=ui.newFoundDocument(u,h,y,S);i=new yc(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in n){const s=n.documentDelete,u=ca(c,s.document),h=s.readTime?Vo(s.readTime):cn.min(),y=ui.newNoDocument(u,h);i=new yc([],s.removedTargetIds||[],y.key,y)}else if("documentRemove"in n){const s=n.documentRemove,u=ca(c,s.document);i=new yc([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return pt(11601,{Vt:n});{const s=n.filter,{count:u=0,unchangedNames:h}=s,y=new rh(u,h);i=new kl(s.targetId,y)}}var V;return i}(this.serializer,n),s=function(h){if(!("targetChange"in h))return cn.min();const y=h.targetChange;return y.targetIds&&y.targetIds.length?cn.min():y.readTime?Vo(y.readTime):cn.min()}(n);return this.listener.j_(i,s)}H_(n){const i={};i.database=ua(this.serializer),i.addTarget=function(h,y){let S;const N=y.target;if(S=Ce(N)?{documents:Fc(h,N)}:{query:As(h,N).gt},S.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){S.resumeToken=Fl(h,y.resumeToken);const V=Ma(h,y.expectedCount);null!==V&&(S.expectedCount=V)}else if(y.snapshotVersion.compareTo(cn.min())>0){S.readTime=Wu(h,y.snapshotVersion.toTimestamp());const V=Ma(h,y.expectedCount);null!==V&&(S.expectedCount=V)}return S}(this.serializer,n);const s=function Zs(c,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:u})}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.L_(i)}J_(n){const i={};i.database=ua(this.serializer),i.removeTarget=n,this.L_(i)}}class a_ extends la{constructor(n,i,s,u,h,y){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,y),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(n,i){return this.connection.T_("Write",n,i)}z_(n){return Je(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,Je(!n.writeResults||0===n.writeResults.length,55816),this.listener.X_()}onNext(n){Je(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.C_.reset();const i=function wg(c,n){return c&&c.length>0?(Je(void 0!==n,14353),c.map(i=>function(u,h){let y=Vo(u.updateTime?u.updateTime:h);return y.isEqual(cn.min())&&(y=Vo(h)),new Nl(y,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=Vo(n.commitTime);return this.listener.ea(s,i)}ta(){const n={};n.database=ua(this.serializer),this.L_(n)}Z_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>function Ul(c,n){let i;if(n instanceof Rs)i={update:Ll(c,n.key,n.value)};else if(n instanceof to)i={delete:_c(c,n.key)};else if(n instanceof hi)i={update:Ll(c,n.key,n.data),updateMask:Ku(n.fieldMask)};else{if(!(n instanceof us))return pt(16599,{ft:n.type});i={verify:_c(c,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(h,y){const S=y.transform;if(S instanceof Di)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof Fo)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof yo)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof ga)return{fieldPath:y.field.canonicalString(),increment:S.Re};throw pt(20930,{transform:y.transform})}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(h=n.precondition).updateTime?{updateTime:Hy(c,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:pt(27497)),i;var h}(this.serializer,s))};this.L_(i)}}class Lg{}class Ea extends Lg{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.na=!1}ra(){if(this.na)throw new te(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}zo(n,i,s,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,y])=>this.connection.zo(n,Nt(i,s),u,h,y)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new te(Ke.UNKNOWN,h.toString())})}Yo(n,i,s,u,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,S])=>this.connection.Yo(n,Nt(i,s),u,y,S,h)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new te(Ke.UNKNOWN,y.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class Ih{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){0===this.ia&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(n){"Online"===this.state?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.aa("Offline")))}set(n){this.la(),this.ia=0,"Online"===n&&(this.oa=!1),this.aa(n)}aa(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ua(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Vn(i),this.oa=!1):ct("OnlineStateTracker",i)}la(){null!==this.sa&&(this.sa.cancel(),this.sa=null)}}const qc="RemoteStore";class c_{constructor(n,i,s,u,h){var y=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(S=>{s.enqueueAndForget((0,T.A)(function*(){var N;Qc(y)&&(ct(qc,"Restarting streams for network reachability change."),yield(N=(0,T.A)(function*(J){const ce=kt(J);ce.Ta.add(4),yield td(ce),ce.da.set("Unknown"),ce.Ta.delete(4),yield Th(ce)}),function V(J){return N.apply(this,arguments)})(y))}))}),this.da=new Ih(s,u)}}function Th(c){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,T.A)(function*(c){if(Qc(c))for(const n of c.Ia)yield n(!0)})).apply(this,arguments)}function td(c){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,T.A)(function*(c){for(const n of c.Ia)yield n(!1)})).apply(this,arguments)}function ep(c,n){const i=kt(c);i.Pa.has(n.targetId)||(i.Pa.set(n.targetId,n),Bg(i)?Ug(i):rd(i).M_()&&Vg(i,n))}function ul(c,n){const i=kt(c),s=rd(i);i.Pa.delete(n),s.M_()&&u_(i,n),0===i.Pa.size&&(s.M_()?s.N_():Qc(i)&&i.da.set("Unknown"))}function Vg(c,n){if(c.Aa.Ke(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(cn.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}rd(c).H_(n)}function u_(c,n){c.Aa.Ke(n),rd(c).J_(n)}function Ug(c){c.Aa=new xl({getRemoteKeysForTarget:n=>c.remoteSyncer.getRemoteKeysForTarget(n),Rt:n=>c.Pa.get(n)||null,Pt:()=>c.datastore.serializer.databaseId}),rd(c).start(),c.da._a()}function Bg(c){return Qc(c)&&!rd(c).F_()&&c.Pa.size>0}function Qc(c){return 0===kt(c).Ta.size}function jg(c){c.Aa=void 0}function l_(c){return nd.apply(this,arguments)}function nd(){return(nd=(0,T.A)(function*(c){c.da.set("Online")})).apply(this,arguments)}function d_(c){return tp.apply(this,arguments)}function tp(){return(tp=(0,T.A)(function*(c){c.Pa.forEach((n,i)=>{Vg(c,n)})})).apply(this,arguments)}function h_(c,n){return np.apply(this,arguments)}function np(){return(np=(0,T.A)(function*(c,n){jg(c),Bg(c)?(c.da.ca(n),Ug(c)):c.da.set("Unknown")})).apply(this,arguments)}function RE(c,n,i){return $g.apply(this,arguments)}function $g(){return $g=(0,T.A)(function*(c,n,i){if(c.da.set("Online"),n instanceof If&&2===n.state&&n.cause)try{yield(s=(0,T.A)(function*(h,y){const S=y.cause;for(const N of y.targetIds)h.Pa.has(N)&&(yield h.remoteSyncer.rejectListen(N,S),h.Pa.delete(N),h.Aa.removeTarget(N))}),function u(h,y){return s.apply(this,arguments)})(c,n)}catch(s){ct(qc,"Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield rp(c,s)}else if(n instanceof yc?c.Aa.Xe(n):n instanceof kl?c.Aa.ot(n):c.Aa.nt(n),!i.isEqual(cn.min()))try{const s=yield Qy(c.localStore);i.compareTo(s)>=0&&(yield function(h,y){const S=h.Aa.It(y);return S.targetChanges.forEach((N,V)=>{if(N.resumeToken.approximateByteSize()>0){const J=h.Pa.get(V);J&&h.Pa.set(V,J.withResumeToken(N.resumeToken,y))}}),S.targetMismatches.forEach((N,V)=>{const J=h.Pa.get(N);if(!J)return;h.Pa.set(N,J.withResumeToken(Ui.EMPTY_BYTE_STRING,J.snapshotVersion)),u_(h,N);const ce=new Za(J.target,N,V,J.sequenceNumber);Vg(h,ce)}),h.remoteSyncer.applyRemoteEvent(S)}(c,i))}catch(s){ct(qc,"Failed to raise snapshot:",s),yield rp(c,s)}var s}),$g.apply(this,arguments)}function rp(c,n,i){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,T.A)(function*(c,n,i){if(!wr(n))throw n;c.Ta.add(1),yield td(c),c.da.set("Offline"),i||(i=()=>Qy(c.localStore)),c.asyncQueue.enqueueRetryable((0,T.A)(function*(){ct(qc,"Retrying IndexedDB access"),yield i(),c.Ta.delete(1),yield Th(c)}))})).apply(this,arguments)}function f_(c,n){return n().catch(i=>rp(c,i,n))}function ll(c){return zg.apply(this,arguments)}function zg(){return(zg=(0,T.A)(function*(c){const n=kt(c),i=wa(n);let s=n.ha.length>0?n.ha[n.ha.length-1].batchId:-1;for(;PE(n);)try{const u=yield Xy(n.localStore,s);if(null===u){0===n.ha.length&&i.N_();break}s=u.batchId,ME(n,u)}catch(u){yield rp(n,u)}Wg(n)&&ip(n)})).apply(this,arguments)}function PE(c){return Qc(c)&&c.ha.length<10}function ME(c,n){c.ha.push(n);const i=wa(c);i.M_()&&i.Y_&&i.Z_(n.mutations)}function Wg(c){return Qc(c)&&!wa(c).F_()&&c.ha.length>0}function ip(c){wa(c).start()}function NE(c){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,T.A)(function*(c){wa(c).ta()})).apply(this,arguments)}function _u(c){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,T.A)(function*(c){const n=wa(c);for(const i of c.ha)n.Z_(i.mutations)})).apply(this,arguments)}function Kg(c,n,i){return qg.apply(this,arguments)}function qg(){return(qg=(0,T.A)(function*(c,n,i){const s=c.ha.shift(),u=Ds.from(s,n,i);yield f_(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield ll(c)})).apply(this,arguments)}function pT(c,n){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,T.A)(function*(c,n){var i;n&&wa(c).Y_&&(yield(i=(0,T.A)(function*(u,h){if(function sa(c){switch(c){case Ke.OK:return pt(64938);case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0;default:return pt(15467,{code:c})}}(S=h.code)&&S!==Ke.ABORTED){const y=u.ha.shift();wa(u).O_(),yield f_(u,()=>u.remoteSyncer.rejectFailedWrite(y.batchId,h)),yield ll(u)}var S}),function s(u,h){return i.apply(this,arguments)})(c,n)),Wg(c)&&ip(c)}),Qg.apply(this,arguments)}function p_(c,n){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,T.A)(function*(c,n){const i=kt(c);i.asyncQueue.verifyOperationInProgress(),ct(qc,"RemoteStore received new credentials");const s=Qc(i);i.Ta.add(3),yield td(i),s&&i.da.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.Ta.delete(3),yield Th(i)})).apply(this,arguments)}function g_(){return(g_=(0,T.A)(function*(c,n){const i=kt(c);n?(i.Ta.delete(2),yield Th(i)):n||(i.Ta.add(2),yield td(i),i.da.set("Unknown"))})).apply(this,arguments)}function rd(c){return c.Ra||(c.Ra=function(i,s,u){const h=kt(i);return h.ra(),new Fg(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(c.datastore,c.asyncQueue,{e_:l_.bind(null,c),n_:d_.bind(null,c),i_:h_.bind(null,c),j_:RE.bind(null,c)}),c.Ia.push(function(){var n=(0,T.A)(function*(i){i?(c.Ra.O_(),Bg(c)?Ug(c):c.da.set("Unknown")):(yield c.Ra.stop(),jg(c))});return function(i){return n.apply(this,arguments)}}())),c.Ra}function wa(c){return c.Va||(c.Va=function(i,s,u){const h=kt(i);return h.ra(),new a_(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(c.datastore,c.asyncQueue,{e_:()=>Promise.resolve(),n_:NE.bind(null,c),i_:pT.bind(null,c),X_:_u.bind(null,c),ea:Kg.bind(null,c)}),c.Ia.push(function(){var n=(0,T.A)(function*(i){i?(c.Va.O_(),yield ll(c)):(yield c.Va.stop(),c.ha.length>0&&(ct(qc,`Stopping write stream with ${c.ha.length} pending writes`),c.ha=[]))});return function(i){return n.apply(this,arguments)}}())),c.Va}class Yg{constructor(n,i,s,u,h){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new he,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,h){const y=Date.now()+s,S=new Yg(n,i,y,u,h);return S.start(s),S}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new te(Ke.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vu(c,n){if(Vn("AsyncQueue",`${n}: ${c}`),wr(c))return new te(Ke.UNAVAILABLE,`${n}: ${c}`);throw c}class Eu{static emptySet(n){return new Eu(n.comparator)}constructor(n){this.comparator=n?(i,s)=>n(i,s)||Xt.comparator(i.key,s.key):(i,s)=>Xt.comparator(i.key,s.key),this.keyedMap=P(),this.sortedSet=new Wr(this.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof Eu)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new Eu;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class op{constructor(){this.ma=new Wr(Xt.comparator)}track(n){const i=n.doc.key,s=this.ma.get(i);s?0!==n.type&&3===s.type?this.ma=this.ma.insert(i,n):3===n.type&&1!==s.type?this.ma=this.ma.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.ma=this.ma.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.ma=this.ma.remove(i):1===n.type&&2===s.type?this.ma=this.ma.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.ma=this.ma.insert(i,{type:2,doc:n.doc}):pt(63341,{Vt:n,fa:s}):this.ma=this.ma.insert(i,n)}ga(){const n=[];return this.ma.inorderTraversal((i,s)=>{n.push(s)}),n}}class dl{constructor(n,i,s,u,h,y,S,N,V){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=y,this.syncStateChanged=S,this.excludesMetadataChanges=N,this.hasCachedResults=V}static fromInitialDocuments(n,i,s,u,h){const y=[];return i.forEach(S=>{y.push({type:0,doc:S})}),new dl(n,i,Eu.emptySet(i),y,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Qs(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class sp{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(n=>n.Sa())}}class Jg{constructor(){this.queries=id(),this.onlineState="Unknown",this.ba=new Set}terminate(){!function(i,s){const u=kt(i),h=u.queries;u.queries=id(),h.forEach((y,S)=>{for(const N of S.ya)N.onError(s)})}(this,new te(Ke.ABORTED,"Firestore shutting down"))}}function id(){return new Mi(c=>Ss(c),Qs)}function od(c,n){return bc.apply(this,arguments)}function bc(){return(bc=(0,T.A)(function*(c,n){const i=kt(c);let s=3;const u=n.query;let h=i.queries.get(u);h?!h.wa()&&n.Sa()&&(s=2):(h=new sp,s=n.Sa()?0:1);try{switch(s){case 0:h.pa=yield i.onListen(u,!0);break;case 1:h.pa=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(y){const S=vu(y,`Initialization of query '${gs(n.query)}' failed`);return void n.onError(S)}i.queries.set(u,h),h.ya.push(n),n.Da(i.onlineState),h.pa&&n.va(h.pa)&&Ah(i)})).apply(this,arguments)}function bh(c,n){return sd.apply(this,arguments)}function sd(){return(sd=(0,T.A)(function*(c,n){const i=kt(c),s=n.query;let u=3;const h=i.queries.get(s);if(h){const y=h.ya.indexOf(n);y>=0&&(h.ya.splice(y,1),0===h.ya.length?u=n.Sa()?0:1:!h.wa()&&n.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Dh(c,n){const i=kt(c);let s=!1;for(const u of n){const y=i.queries.get(u.query);if(y){for(const S of y.ya)S.va(u)&&(s=!0);y.pa=u}}s&&Ah(i)}function em(c,n,i){const s=kt(c),u=s.queries.get(n);if(u)for(const h of u.ya)h.onError(i);s.queries.delete(n)}function Ah(c){c.ba.forEach(n=>{n.next()})}var ad,tm;(tm=ad||(ad={})).Ca="default",tm.Cache="cache";class Ch{constructor(n,i,s){this.query=n,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new dl(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.Ma?this.Oa(n)&&(this.Fa.next(n),i=!0):this.Na(n,this.onlineState)&&(this.Ba(n),i=!0),this.xa=n,i}onError(n){this.Fa.error(n)}Da(n){this.onlineState=n;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,n)&&(this.Ba(this.xa),i=!0),i}Na(n,i){return!n.fromCache||!this.Sa()||(!this.options.La||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}Oa(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.xa&&this.xa.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Ba(n){n=dl.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Ma=!0,this.Fa.next(n)}Sa(){return this.options.source!==ad.Cache}}class ap{constructor(n){this.key=n}}class im{constructor(n){this.key=n}}class om{constructor(n,i){this.query=n,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Q(),this.mutatedKeys=Q(),this.Ha=$i(n),this.Ja=new Eu(this.Ha)}get Ya(){return this.Ga}Za(n,i){const s=i?i.Xa:new op,u=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,y=u,S=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,V="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((J,ce)=>{const Fe=u.get(J),bt=Ra(this.query,ce)?ce:null,zt=!!Fe&&this.mutatedKeys.has(Fe.key),dn=!!bt&&(bt.hasLocalMutations||this.mutatedKeys.has(bt.key)&&bt.hasCommittedMutations);let sn=!1;Fe&&bt?Fe.data.isEqual(bt.data)?zt!==dn&&(s.track({type:3,doc:bt}),sn=!0):this.eu(Fe,bt)||(s.track({type:2,doc:bt}),sn=!0,(N&&this.Ha(bt,N)>0||V&&this.Ha(bt,V)<0)&&(S=!0)):!Fe&&bt?(s.track({type:0,doc:bt}),sn=!0):Fe&&!bt&&(s.track({type:1,doc:Fe}),sn=!0,(N||V)&&(S=!0)),sn&&(bt?(y=y.add(bt),h=dn?h.add(J):h.delete(J)):(y=y.delete(J),h=h.delete(J)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const J="F"===this.query.limitType?y.last():y.first();y=y.delete(J.key),h=h.delete(J.key),s.track({type:1,doc:J})}return{Ja:y,Xa:s,Cs:S,mutatedKeys:h}}eu(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const h=this.Ja;this.Ja=n.Ja,this.mutatedKeys=n.mutatedKeys;const y=n.Xa.ga();y.sort((J,ce)=>function(bt,zt){const dn=sn=>{switch(sn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:sn})}};return dn(bt)-dn(zt)}(J.type,ce.type)||this.Ha(J.doc,ce.doc)),this.tu(s),u=null!=u&&u;const S=i&&!u?this.nu():[],N=0===this.ja.size&&this.current&&!u?1:0,V=N!==this.za;return this.za=N,0!==y.length||V?{snapshot:new dl(this.query,n.Ja,h,y,n.mutatedKeys,0===N,V,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:S}:{ru:S}}Da(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new op,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(n){return!this.Ga.has(n)&&!!this.Ja.has(n)&&!this.Ja.get(n).hasLocalMutations}tu(n){n&&(n.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=n.current)}nu(){if(!this.current)return[];const n=this.ja;this.ja=Q(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const i=[];return n.forEach(s=>{this.ja.has(s)||i.push(new im(s))}),this.ja.forEach(s=>{n.has(s)||i.push(new ap(s))}),i}su(n){this.Ga=n.$s,this.ja=Q();const i=this.Za(n.documents);return this.applyChanges(i,!0)}ou(){return dl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,0===this.za,this.hasCachedResults)}}const Dc="SyncEngine";class sm{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class ud{constructor(n){this.key=n,this._u=!1}}class y_{constructor(n,i,s,u,h,y){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=y,this.au={},this.uu=new Mi(S=>Ss(S),Qs),this.cu=new Map,this.lu=new Set,this.hu=new Wr(Xt.comparator),this.Pu=new Map,this.Tu=new So,this.Iu={},this.Eu=new Map,this.du=$c.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return!0===this.Au}}function Ia(c,n){return __.apply(this,arguments)}function __(){return(__=(0,T.A)(function*(c,n,i=!0){const s=fl(c);let u;const h=s.uu.get(n);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.ou()):u=yield hl(s,n,i,!0),u})).apply(this,arguments)}function cp(c,n){return am.apply(this,arguments)}function am(){return(am=(0,T.A)(function*(c,n){const i=fl(c);yield hl(i,n,!0,!1)})).apply(this,arguments)}function hl(c,n,i,s){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,T.A)(function*(c,n,i,s){const u=yield function rl(c,n){const i=kt(c);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ti.getTargetData(s,n).next(h=>h?(u=h,Ue.resolve(u)):i.Ti.allocateTargetId(s).next(y=>(u=new Za(n,y,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.xs.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(n,s.targetId)),s})}(c.localStore,Co(n)),h=u.targetId,y=c.sharedClientState.addLocalQueryTarget(h,i);let S;return s&&(S=yield function up(c,n,i,s,u){return lp.apply(this,arguments)}(c,n,h,"current"===y,u.resumeToken)),c.isPrimaryClient&&i&&ep(c.remoteStore,u),S})).apply(this,arguments)}function lp(){return lp=(0,T.A)(function*(c,n,i,s,u){c.Ru=(ce,Fe,bt)=>{return(zt=(0,T.A)(function*(sn,Zn,rr,kn){let Fr=Zn.view.Za(rr);Fr.Cs&&(Fr=yield Wf(sn.localStore,Zn.query,!1).then(({documents:xe})=>Zn.view.Za(xe,Fr)));const xi=kn&&kn.targetChanges.get(Zn.targetId),si=kn&&null!=kn.targetMismatches.get(Zn.targetId),st=Zn.view.applyChanges(Fr,sn.isPrimaryClient,xi,si);return hp(sn,Zn.targetId,st.ru),st.snapshot}),function dn(sn,Zn,rr,kn){return zt.apply(this,arguments)})(c,ce,Fe,bt);var zt};const h=yield Wf(c.localStore,n,!0),y=new om(n,h.$s),S=y.Za(h.documents),N=aa.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==c.onlineState,u),V=y.applyChanges(S,c.isPrimaryClient,N);hp(c,i,V.ru);const J=new sm(n,i,y);return c.uu.set(n,J),c.cu.has(i)?c.cu.get(i).push(n):c.cu.set(i,[n]),V.snapshot}),lp.apply(this,arguments)}function v_(c,n,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,T.A)(function*(c,n,i){const s=kt(c),u=s.uu.get(n),h=s.cu.get(u.targetId);if(h.length>1)return s.cu.set(u.targetId,h.filter(y=>!Qs(y,n))),void s.uu.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield yu(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&ul(s.remoteStore,u.targetId),lc(s,u.targetId)}).catch(Wn))):(lc(s,u.targetId),yield yu(s.localStore,u.targetId,!0))})).apply(this,arguments)}function cm(c,n){return um.apply(this,arguments)}function um(){return(um=(0,T.A)(function*(c,n){const i=kt(c),s=i.uu.get(n),u=i.cu.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),ul(i.remoteStore,s.targetId))})).apply(this,arguments)}function w_(){return(w_=(0,T.A)(function*(c,n,i){const s=function Tu(c){const n=kt(c);return n.remoteStore.remoteSyncer.applySuccessfulWrite=dd.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Rh.bind(null,n),n}(c);try{const u=yield function(y,S){const N=kt(y),V=dr.now(),J=S.reduce((bt,zt)=>bt.add(zt.key),Q());let ce,Fe;return N.persistence.runTransaction("Locally write mutations","readwrite",bt=>{let zt=v(),dn=Q();return N.Bs.getEntries(bt,J).next(sn=>{zt=sn,zt.forEach((Zn,rr)=>{rr.isValidDocument()||(dn=dn.add(Zn))})}).next(()=>N.localDocuments.getOverlayedDocuments(bt,zt)).next(sn=>{ce=sn;const Zn=[];for(const rr of S){const kn=ma(rr,ce.get(rr.key).overlayedDocument);null!=kn&&Zn.push(new hi(rr.key,kn,Os(kn.value.mapValue),eo.exists(!0)))}return N.mutationQueue.addMutationBatch(bt,V,Zn,S)}).next(sn=>{Fe=sn;const Zn=sn.applyToLocalDocumentSet(ce,dn);return N.documentOverlayCache.saveOverlays(bt,sn.batchId,Zn)})}).then(()=>({batchId:Fe.batchId,changes:L(ce)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(y,S,N){let V=y.Iu[y.currentUser.toKey()];V||(V=new Wr(Zt)),V=V.insert(S,N),y.Iu[y.currentUser.toKey()]=V}(s,u.batchId,i),yield Ac(s,u.changes),yield ll(s.remoteStore)}catch(u){const h=vu(u,"Failed to persist write");i.reject(h)}})).apply(this,arguments)}function es(c,n){return ld.apply(this,arguments)}function ld(){return(ld=(0,T.A)(function*(c,n){const i=kt(c);try{const s=yield function AE(c,n){const i=kt(c),s=n.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const y=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const S=[];n.targetChanges.forEach((J,ce)=>{const Fe=u.get(ce);if(!Fe)return;S.push(i.Ti.removeMatchingKeys(h,J.removedDocuments,ce).next(()=>i.Ti.addMatchingKeys(h,J.addedDocuments,ce)));let bt=Fe.withSequenceNumber(h.currentSequenceNumber);var dn,sn,Zn;null!==n.targetMismatches.get(ce)?bt=bt.withResumeToken(Ui.EMPTY_BYTE_STRING,cn.min()).withLastLimboFreeSnapshotVersion(cn.min()):J.resumeToken.approximateByteSize()>0&&(bt=bt.withResumeToken(J.resumeToken,s)),u=u.insert(ce,bt),sn=bt,Zn=J,(0===(dn=Fe).resumeToken.approximateByteSize()||sn.snapshotVersion.toMicroseconds()-dn.snapshotVersion.toMicroseconds()>=3e8||Zn.addedDocuments.size+Zn.modifiedDocuments.size+Zn.removedDocuments.size>0)&&S.push(i.Ti.updateTargetData(h,bt))});let N=v(),V=Q();if(n.documentUpdates.forEach(J=>{n.resolvedLimboDocuments.has(J)&&S.push(i.persistence.referenceDelegate.updateLimboDocument(h,J))}),S.push(function zf(c,n,i){let s=Q(),u=Q();return i.forEach(h=>s=s.add(h)),n.getEntries(c,s).next(h=>{let y=v();return i.forEach((S,N)=>{const V=h.get(S);N.isFoundDocument()!==V.isFoundDocument()&&(u=u.add(S)),N.isNoDocument()&&N.version.isEqual(cn.min())?(n.removeEntry(S,N.readTime),y=y.insert(S,N)):!V.isValidDocument()||N.version.compareTo(V.version)>0||0===N.version.compareTo(V.version)&&V.hasPendingWrites?(n.addEntry(N),y=y.insert(S,N)):ct(Ky,"Ignoring outdated watch update for ",S,". Current version:",V.version," Watch version:",N.version)}),{qs:y,Qs:u}})}(h,y,n.documentUpdates).next(J=>{N=J.qs,V=J.Qs})),!s.isEqual(cn.min())){const J=i.Ti.getLastRemoteSnapshotVersion(h).next(ce=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));S.push(J)}return Ue.waitFor(S).next(()=>y.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,N,V)).next(()=>N)}).then(h=>(i.xs=u,h))}(i.localStore,n);n.targetChanges.forEach((u,h)=>{const y=i.Pu.get(h);y&&(Je(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?y._u=!0:u.modifiedDocuments.size>0?Je(y._u,14607):u.removedDocuments.size>0&&(Je(y._u,42227),y._u=!1))}),yield Ac(i,s,n)}catch(s){yield Wn(s)}})).apply(this,arguments)}function lm(c,n,i){const s=kt(c);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.uu.forEach((h,y)=>{const S=y.view.Da(n);S.snapshot&&u.push(S.snapshot)}),function(y,S){const N=kt(y);N.onlineState=S;let V=!1;N.queries.forEach((J,ce)=>{for(const Fe of ce.ya)Fe.Da(S)&&(V=!0)}),V&&Ah(N)}(s.eventManager,n),u.length&&s.au.j_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function lo(c,n,i){return wu.apply(this,arguments)}function wu(){return(wu=(0,T.A)(function*(c,n,i){const s=kt(c);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Pu.get(n),h=u&&u.key;if(h){let y=new Wr(Xt.comparator);y=y.insert(h,ui.newNoDocument(h,cn.min()));const S=Q().add(h),N=new Oc(cn.min(),new Map,new Wr(Zt),y,S);yield es(s,N),s.hu=s.hu.remove(h),s.Pu.delete(n),fd(s)}else yield yu(s.localStore,n,!1).then(()=>lc(s,n,i)).catch(Wn)})).apply(this,arguments)}function dd(c,n){return uc.apply(this,arguments)}function uc(){return(uc=(0,T.A)(function*(c,n){const i=kt(c),s=n.batch.batchId;try{const u=yield function Pg(c,n){const i=kt(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(S,N,V,J){const ce=V.batch,Fe=ce.keys();let bt=Ue.resolve();return Fe.forEach(zt=>{bt=bt.next(()=>J.getEntry(N,zt)).next(dn=>{const sn=V.docVersions.get(zt);Je(null!==sn,48541),dn.version.compareTo(sn)<0&&(ce.applyToRemoteDocument(dn,V),dn.isValidDocument()&&(dn.setReadTime(V.commitVersion),J.addEntry(dn)))})}),bt.next(()=>S.mutationQueue.removeMutationBatch(N,ce))}(i,s,n,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(S){let N=Q();for(let V=0;V<S.mutationResults.length;++V)S.mutationResults[V].transformResults.length>0&&(N=N.add(S.batch.mutations[V].key));return N}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);hm(i,s,null),Iu(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Ac(i,u)}catch(u){yield Wn(u)}})).apply(this,arguments)}function Rh(c,n,i){return hd.apply(this,arguments)}function hd(){return(hd=(0,T.A)(function*(c,n,i){const s=kt(c);try{const u=yield function(y,S){const N=kt(y);return N.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let J;return N.mutationQueue.lookupMutationBatch(V,S).next(ce=>(Je(null!==ce,37113),J=ce.keys(),N.mutationQueue.removeMutationBatch(V,ce))).next(()=>N.mutationQueue.performConsistencyCheck(V)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(V,J,S)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,J)).next(()=>N.localDocuments.getDocuments(V,J))})}(s.localStore,n);hm(s,n,i),Iu(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield Ac(s,u)}catch(u){yield Wn(u)}})).apply(this,arguments)}function Iu(c,n){(c.Eu.get(n)||[]).forEach(i=>{i.resolve()}),c.Eu.delete(n)}function hm(c,n,i){const s=kt(c);let u=s.Iu[s.currentUser.toKey()];if(u){const h=u.get(n);h&&(i?h.reject(i):h.resolve(),u=u.remove(n)),s.Iu[s.currentUser.toKey()]=u}}function lc(c,n,i=null){c.sharedClientState.removeLocalQueryTarget(n);for(const s of c.cu.get(n))c.uu.delete(s),i&&c.au.Vu(s,i);c.cu.delete(n),c.isPrimaryClient&&c.Tu.Hr(n).forEach(s=>{c.Tu.containsKey(s)||I_(c,s)})}function I_(c,n){c.lu.delete(n.path.canonicalString());const i=c.hu.get(n);null!==i&&(ul(c.remoteStore,i),c.hu=c.hu.remove(n),c.Pu.delete(i),fd(c))}function hp(c,n,i){for(const s of i)s instanceof ap?(c.Tu.addReference(s.key,n),Ph(c,s)):s instanceof im?(ct(Dc,"Document no longer in limbo: "+s.key),c.Tu.removeReference(s.key,n),c.Tu.containsKey(s.key)||I_(c,s.key)):pt(19791,{mu:s})}function Ph(c,n){const i=n.key,s=i.path.canonicalString();c.hu.get(i)||c.lu.has(s)||(ct(Dc,"New document in limbo: "+i),c.lu.add(s),fd(c))}function fd(c){for(;c.lu.size>0&&c.hu.size<c.maxConcurrentLimboResolutions;){const n=c.lu.values().next().value;c.lu.delete(n);const i=new Xt(ht.fromString(n)),s=c.du.next();c.Pu.set(s,new ud(i)),c.hu=c.hu.insert(i,s),ep(c.remoteStore,new Za(Co(Ao(i.path)),s,"TargetPurposeLimboResolution",et.le))}}function Ac(c,n,i){return fp.apply(this,arguments)}function fp(){return fp=(0,T.A)(function*(c,n,i){const s=kt(c),u=[],h=[],y=[];var S;s.uu.isEmpty()||(s.uu.forEach((S,N)=>{y.push(s.Ru(N,n,i).then(V=>{var J;if((V||i)&&s.isPrimaryClient){const ce=V?!V.fromCache:null===(J=i?.targetChanges.get(N.targetId))||void 0===J?void 0:J.current;s.sharedClientState.updateQueryState(N.targetId,ce?"current":"not-current")}if(V){u.push(V);const ce=nl.Rs(N.targetId,V);h.push(ce)}}))}),yield Promise.all(y),s.au.j_(u),yield(S=(0,T.A)(function*(V,J){const ce=kt(V);try{yield ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",Fe=>Ue.forEach(J,bt=>Ue.forEach(bt.ds,zt=>ce.persistence.referenceDelegate.addReference(Fe,bt.targetId,zt)).next(()=>Ue.forEach(bt.As,zt=>ce.persistence.referenceDelegate.removeReference(Fe,bt.targetId,zt)))))}catch(Fe){if(!wr(Fe))throw Fe;ct(Ky,"Failed to update sequence numbers: "+Fe)}for(const Fe of J){const bt=Fe.targetId;if(!Fe.fromCache){const zt=ce.xs.get(bt),sn=zt.withLastLimboFreeSnapshotVersion(zt.snapshotVersion);ce.xs=ce.xs.insert(bt,sn)}}}),function N(V,J){return S.apply(this,arguments)})(s.localStore,h))}),fp.apply(this,arguments)}function Mh(c,n){return Us.apply(this,arguments)}function Us(){return(Us=(0,T.A)(function*(c,n){const i=kt(c);if(!i.currentUser.isEqual(n)){ct(Dc,"User change. New user:",n.toKey());const s=yield vo(i.localStore,n);i.currentUser=n,(h=i).Eu.forEach(S=>{S.forEach(N=>{N.reject(new te(Ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Eu.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield Ac(i,s.ks)}var h})).apply(this,arguments)}function xE(c,n){const i=kt(c),s=i.Pu.get(n);if(s&&s._u)return Q().add(s.key);{let u=Q();const h=i.cu.get(n);if(!h)return u;for(const y of h){const S=i.uu.get(y);u=u.unionWith(S.view.Ya)}return u}}function fl(c){const n=kt(c);return n.remoteStore.remoteSyncer.applyRemoteEvent=es.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=xE.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=lo.bind(null,n),n.au.j_=Dh.bind(null,n.eventManager),n.au.Vu=em.bind(null,n.eventManager),n}let md=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,T.A)(function*(){s.serializer=cl(i.databaseInfo.databaseId),s.sharedClientState=s.pu(i),s.persistence=s.yu(i),yield s.persistence.start(),s.localStore=s.wu(i),s.gcScheduler=s.Su(i,s.localStore),s.indexBackfillerScheduler=s.bu(i,s.localStore)})()}Su(i,s){return null}bu(i,s){return null}wu(i){return function qy(c,n,i,s){return new Hf(c,n,i,s)}(this.persistence,new Cg,i.initialUser,this.serializer)}yu(i){return new el(mu.fi,this.serializer)}pu(i){return new n_}terminate(){var i=this;return(0,T.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class mp extends md{constructor(n){super(),this.cacheSizeBytes=n}Su(n,i){return Je(this.persistence.referenceDelegate instanceof Vs,46915),new Uo(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}yu(n){const i=void 0!==this.cacheSizeBytes?Jo.withCacheSize(this.cacheSizeBytes):Jo.DEFAULT;return new el(s=>Vs.fi(s,i),this.serializer)}}let yd=(()=>{class c{initialize(i,s){var u=this;return(0,T.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=h=>lm(u.syncEngine,h,1),u.remoteStore.remoteSyncer.handleCredentialChange=Mh.bind(null,u.syncEngine),yield function Zg(c,n){return g_.apply(this,arguments)}(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Jg}createDatastore(i){const s=cl(i.databaseInfo.databaseId),u=new SE(i.databaseInfo);return new Ea(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,h=this.datastore,y=i.asyncQueue,S=s=>lm(this.syncEngine,s,0),N=Qf.C()?new Qf:new vh,new c_(u,h,y,S,N);var u,h,y,S,N}createSyncEngine(i,s){return function(h,y,S,N,V,J,ce){const Fe=new y_(h,y,S,N,V,J);return ce&&(Fe.Au=!0),Fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,T.A)(function*(){var s,u,h;yield(h=(0,T.A)(function*(S){const N=kt(S);ct(qc,"RemoteStore shutting down."),N.Ta.add(5),yield td(N),N.Ea.shutdown(),N.da.set("Unknown")}),function y(S){return h.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return c.provider={build:()=>new c},c})();class Xc{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.vu(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.vu(this.observer.error,n):Vn("Uncaught Error in snapshot listener:",n.toString()))}Cu(){this.muted=!0}vu(n,i){setTimeout(()=>{this.muted||n(i)},0)}}const Zc="FirestoreClient";class gT{constructor(n,i,s,u,h){var y=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=it.UNAUTHENTICATED,this.clientId=Hn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,function(){var S=(0,T.A)(function*(N){ct(Zc,"Received user=",N.uid),yield y.authCredentialListener(N),y.user=N});return function(N){return S.apply(this,arguments)}}()),this.appCheckCredentials.start(s,S=>(ct(Zc,"Received new app check token=",S),this.appCheckCredentialListener(S,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new he;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,T.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=vu(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function vp(c,n){return _m.apply(this,arguments)}function _m(){return _m=(0,T.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress(),ct(Zc,"Initializing OfflineComponentProvider");const i=c.configuration;yield n.initialize(i);let s=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,T.A)(function*(h){s.isEqual(h)||(yield vo(n.localStore,h),s=h)});return function(h){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=n}),_m.apply(this,arguments)}function vm(c,n){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,T.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress();const i=yield function Em(c){return Ep.apply(this,arguments)}(c);ct(Zc,"Initializing OnlineComponentProvider"),yield n.initialize(i,c.configuration),c.setCredentialChangeListener(s=>p_(n.remoteStore,s)),c.setAppCheckTokenChangeListener((s,u)=>p_(n.remoteStore,u)),c._onlineComponents=n})).apply(this,arguments)}function Ep(){return(Ep=(0,T.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){ct(Zc,"Using user provided OfflineComponentProvider");try{yield vp(c,c._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===Ke.FAILED_PRECONDITION||u.code===Ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;Mn("Error using user provided cache. Falling back to memory cache: "+n),yield vp(c,new md)}}else ct(Zc,"Using default OfflineComponentProvider"),yield vp(c,new mp(void 0));var u;return c._offlineComponents})).apply(this,arguments)}function Fh(c){return wm.apply(this,arguments)}function wm(){return(wm=(0,T.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(ct(Zc,"Using user provided OnlineComponentProvider"),yield vm(c,c._uninitializedComponentsProvider._online)):(ct(Zc,"Using default OnlineComponentProvider"),yield vm(c,new yd))),c._onlineComponents})).apply(this,arguments)}function Lh(c){return _d.apply(this,arguments)}function _d(){return(_d=(0,T.A)(function*(c){const n=yield Fh(c),i=n.eventManager;return i.onListen=Ia.bind(null,n.syncEngine),i.onUnlisten=v_.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=cp.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=cm.bind(null,n.syncEngine),i})).apply(this,arguments)}function zE(c){const n={};return void 0!==c.timeoutSeconds&&(n.timeoutSeconds=c.timeoutSeconds),n}const WE=new Map;function x_(c,n,i){if(!i)throw new te(Ke.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${n}.`)}function O_(c){if(!Xt.isDocumentKey(c))throw new te(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function jh(c){if(Xt.isDocumentKey(c))throw new te(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function vd(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const n=(s=c).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof c?"a function":pt(12329,{type:typeof c})}function Zr(c,n){if("_delegate"in c&&(c=c._delegate),!(c instanceof n)){if(n.name===c.constructor.name)throw new te(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vd(c);throw new te(Ke.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return c}const KE="firestore.googleapis.com";class F_{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new te(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KE,this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.isUsingEmulator=void 0!==n.emulatorOptions,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new te(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}(function Bh(c,n,i,s){if(!0===n&&!0===s)throw new te(Ke.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)})("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=zE(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(h){if(void 0!==h.timeoutSeconds){if(isNaN(h.timeoutSeconds))throw new te(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new te(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new te(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Ed{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new te(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(n),this._emulatorOptions=n.emulatorOptions||{},void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new me;switch(s.type){case"firstParty":return new _t(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new te(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,T.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=WE.get(i);s&&(ct("ComponentProvider","Removing Datastore"),WE.delete(i),s.terminate())}(this),Promise.resolve()}}class Ns{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Ns(this.firestore,n,this._query)}}class Eo{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Eo(this.firestore,n,this._key)}}class dc extends Ns{constructor(n,i,s){super(n,i,Ao(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Eo(this.firestore,null,new Xt(n))}withConverter(n){return new dc(this.firestore,n,this._path)}}function qE(c,n,...i){if(c=(0,Re.Ku)(c),x_("collection","path",n),c instanceof Ed){const s=ht.fromString(n,...i);return jh(s),new dc(c,null,s)}{if(!(c instanceof Eo||c instanceof dc))throw new te(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(ht.fromString(n,...i));return jh(s),new dc(c.firestore,null,s)}}function L_(c,n,...i){if(c=(0,Re.Ku)(c),1===arguments.length&&(n=Hn.newId()),x_("doc","path",n),c instanceof Ed){const s=ht.fromString(n,...i);return O_(s),new Eo(c,null,new Xt(s))}{if(!(c instanceof Eo||c instanceof dc))throw new te(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(ht.fromString(n,...i));return O_(s),new Eo(c.firestore,c instanceof dc?c.converter:null,new Xt(s))}}const V_="AsyncQueue";class U_{constructor(n=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Og(this,"async_queue_retry"),this.ec=()=>{const s=wh();s&&ct(V_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=n;const i=wh();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.nc(),this.rc(n)}enterRestrictedMode(n){if(!this.ju){this.ju=!0,this.Zu=n||!1;const i=wh();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(n){if(this.nc(),this.ju)return new Promise(()=>{});const i=new he;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.zu.push(n),this.sc()))}sc(){var n=this;return(0,T.A)(function*(){if(0!==n.zu.length){try{yield n.zu[0](),n.zu.shift(),n.C_.reset()}catch(i){if(!wr(i))throw i;ct(V_,"Operation failed with retryable error: "+i)}n.zu.length>0&&n.C_.f_(()=>n.sc())}})()}rc(n){const i=this.tc.then(()=>(this.Yu=!0,n().catch(s=>{throw this.Ju=s,this.Yu=!1,Vn("INTERNAL UNHANDLED ERROR: ",B_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=i,i}enqueueAfterDelay(n,i,s){this.nc(),this.Xu.indexOf(n)>-1&&(i=0);const u=Yg.createAndSchedule(this,n,i,s,h=>this.oc(h));return this.Hu.push(u),u}nc(){this.Ju&&pt(47125,{_c:B_(this.Ju)})}verifyOperationInProgress(){}ac(){var n=this;return(0,T.A)(function*(){let i;do{i=n.tc,yield i}while(i!==n.tc)})()}uc(n){for(const i of this.Hu)if(i.timerId===n)return!0;return!1}cc(n){return this.ac().then(()=>{this.Hu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.ac()})}lc(n){this.Xu.push(n)}oc(n){const i=this.Hu.indexOf(n);this.Hu.splice(i,1)}}function B_(c){let n=c.message||"";return c.stack&&(n=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),n}function Cm(c){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const h of["next","error","complete"])if(h in u&&"function"==typeof u[h])return!0;return!1}(c)}class wo extends Ed{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new U_,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var n=this;return(0,T.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new U_(i),n._firestoreClient=void 0,yield i}})()}}function Sm(c,n){const i="object"==typeof c?c:(0,O.Sx)(),s="string"==typeof c?c:n||Ee,u=(0,O.j6)(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=(0,Re.yU)("firestore");h&&function Dm(c,n,i,s={}){var u;c=Zr(c,Ed);const h=(0,Re.zJ)(n),y=c._getSettings(),S=Object.assign(Object.assign({},y),{emulatorOptions:c._getEmulatorOptions()}),N=`${n}:${i}`;h&&((0,Re.gE)(`https://${N}`),(0,Re.P1)("Firestore",!0)),y.host!==KE&&y.host!==N&&Mn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const V=Object.assign(Object.assign({},y),{host:N,ssl:h,emulatorOptions:s});if(!(0,Re.bD)(V,S)&&(c._setSettings(V),s.mockUserToken)){let J,ce;if("string"==typeof s.mockUserToken)J=s.mockUserToken,ce=it.MOCK_USER;else{J=(0,Re.Fy)(s.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const Fe=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Fe)throw new te(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ce=new it(Fe)}c._authCredentials=new oe(new fe(J,ce))}}(u,...h)}return u}function Ho(c){if(c._terminated)throw new te(Ke.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||function $_(c){var n,i,s;const u=c._freezeSettings(),h=(N=(null===(n=c._app)||void 0===n?void 0:n.options.appId)||"",new K(c._databaseId,N,c._persistenceKey,(J=u).host,J.ssl,J.experimentalForceLongPolling,J.experimentalAutoDetectLongPolling,zE(J.experimentalLongPollingOptions),J.useFetchStreams,J.isUsingEmulator));var N,J;c._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(c._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),c._firestoreClient=new gT(c._authCredentials,c._appCheckCredentials,c._queue,h,c._componentsProvider&&function(S){const N=S?._online.build();return{_offline:S?._offline.build(N),_online:N}}(c._componentsProvider))}(c),c._firestoreClient}class ka{constructor(n){this._byteString=n}static fromBase64String(n){try{return new ka(Ui.fromBase64String(n))}catch(i){throw new te(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new ka(Ui.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class pl{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new te(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Id{constructor(n){this._methodName=n}}class Mm{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new te(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new te(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Zt(this._lat,n._lat)||Zt(this._long,n._long)}}class Ip{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,n._values)}}const Yc=/^__.*__$/;class Td{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new hi(n,this.data,this.fieldMask,i,this.fieldTransforms):new Rs(n,this.data,i,this.fieldTransforms)}}class G_{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new hi(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function K_(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{hc:c})}}class Tp{constructor(n,i,s,u,h,y){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===h&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=y||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(n){return new Tp(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:s,Ec:!1});return u.dc(n),u}Ac(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Tc({path:s,Ec:!1});return u.Pc(),u}Rc(n){return this.Tc({path:void 0,Ec:!0})}Vc(n){return Vm(n,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}Pc(){if(this.path)for(let n=0;n<this.path.length;n++)this.dc(this.path.get(n))}dc(n){if(0===n.length)throw this.Vc("Document fields must not be empty");if(K_(this.hc)&&Yc.test(n))throw this.Vc('Document fields cannot begin and end with "__"')}}class JE{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||cl(n)}gc(n,i,s,u=!1){return new Tp({hc:n,methodName:i,fc:s,path:qn.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gl(c){const n=c._freezeSettings(),i=cl(c._databaseId);return new JE(c._databaseId,!!n.ignoreUndefinedProperties,i)}function bp(c,n,i,s,u,h={}){const y=c.gc(h.merge||h.mergeFields?2:0,n,i,u);Q_("Data must be an object, but it was:",y,s);const S=Fm(s,y);let N,V;if(h.merge)N=new ko(y.fieldMask),V=y.fieldTransforms;else if(h.mergeFields){const J=[];for(const ce of h.mergeFields){const Fe=Dp(n,ce,i);if(!y.contains(Fe))throw new te(Ke.INVALID_ARGUMENT,`Field '${Fe}' is specified in your field mask but missing from your input data.`);tw(J,Fe)||J.push(Fe)}N=new ko(J),V=y.fieldTransforms.filter(ce=>N.covers(ce.field))}else N=null,V=y.fieldTransforms;return new Td(new oo(S),N,V)}class bd extends Id{_toFieldTransform(n){if(2!==n.hc)throw n.Vc(1===n.hc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof bd}}function bu(c,n){if(ew(c=(0,Re.Ku)(c)))return Q_("Unsupported field value:",n,c),Fm(c,n);if(c instanceof Id)return function(s,u){if(!K_(u.hc))throw u.Vc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(c,n),null;if(void 0===c&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),c instanceof Array){if(n.settings.Ec&&4!==n.hc)throw n.Vc("Nested arrays are not supported");return function(s,u){const h=[];let y=0;for(const S of s){let N=bu(S,u.Rc(y));null==N&&(N={nullValue:"NULL_VALUE"}),h.push(N),y++}return{arrayValue:{values:h}}}(c,n)}return function(s,u){if(null===(s=(0,Re.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return gn(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const h=dr.fromDate(s);return{timestampValue:Wu(u.serializer,h)}}if(s instanceof dr){const h=new dr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wu(u.serializer,h)}}if(s instanceof Mm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ka)return{bytesValue:Fl(u.serializer,s._byteString)};if(s instanceof Eo){const h=u.databaseId,y=s.firestore._databaseId;if(!y.isEqual(h))throw u.Vc(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Gu(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ip)return y=s,S=u,{mapValue:{fields:{[ot]:{stringValue:Tn},[pn]:{arrayValue:{values:y.toArray().map(V=>{if("number"!=typeof V)throw S.Vc("VectorValues must only contain numeric values.");return qe(S.serializer,V)})}}}}};var y,S;throw u.Vc(`Unsupported field value: ${vd(s)}`)}(c,n)}function Fm(c,n){const i={};return Ts(c)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):go(c,(s,u)=>{const h=bu(u,n.Ic(s));null!=h&&(i[s]=h)}),{mapValue:{fields:i}}}function ew(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof dr||c instanceof Mm||c instanceof ka||c instanceof Eo||c instanceof Id||c instanceof Ip)}function Q_(c,n,i){if(!ew(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=vd(i);throw n.Vc("an object"===s?c+" a custom object":c+" "+s)}var u}function Dp(c,n,i){if((n=(0,Re.Ku)(n))instanceof pl)return n._internalPath;if("string"==typeof n)return Ad(c,n);throw Vm("Field path arguments must be of type string or ",c,!1,void 0,i)}const Lm=new RegExp("[~\\*/\\[\\]]");function Ad(c,n,i){if(n.search(Lm)>=0)throw Vm(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new pl(...n.split("."))._internalPath}catch{throw Vm(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function Vm(c,n,i,s,u){const h=s&&!s.isEmpty(),y=void 0!==u;let S=`Function ${n}() called with invalid data`;i&&(S+=" (via `toFirestore()`)"),S+=". ";let N="";return(h||y)&&(N+=" (found",h&&(N+=` in field ${s}`),y&&(N+=` in document ${u}`),N+=")"),new te(Ke.INVALID_ARGUMENT,S+c+N)}function tw(c,n){return c.some(i=>i.isEqual(n))}class Cd{constructor(n,i,s,u,h){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Eo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new nw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class nw extends Cd{data(){return super.data()}}function Ap(c,n){return"string"==typeof n?Ad(c,n):n instanceof pl?n._internalPath:n._delegate._internalPath}function X_(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new te(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class zh extends Um{}function Z_(c,n,...i){let s=[];n instanceof Um&&s.push(n),s=s.concat(i),function(h){const y=h.filter(N=>N instanceof Rd).length,S=h.filter(N=>N instanceof Sd).length;if(y>1||y>0&&S>0)throw new te(Ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)c=u._apply(c);return c}class Sd extends zh{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new Sd(n,i,s)}_apply(n){const i=this._parse(n);return cw(n._query,i),new Ns(n.firestore,n.converter,ia(n._query,i))}_parse(n){const i=gl(n.firestore);return function(h,y,S,N,V,J,ce){let Fe;if(V.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new te(Ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){aw(ce,J);const zt=[];for(const dn of ce)zt.push(jm(N,h,dn));Fe={arrayValue:{values:zt}}}else Fe=jm(N,h,ce)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||aw(ce,J),Fe=function Om(c,n,i,s=!1){return bu(i,c.gc(s?4:3,n))}(S,"where",ce,"in"===J||"not-in"===J);return zr.create(V,J,Fe)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}function rw(c,n,i){const s=n,u=Ap("where",c);return Sd._create(u,s,i)}class Rd extends Um{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Rd(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:Vr.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,h){let y=u;const S=h.getFlattenedFilters();for(const N of S)cw(y,N),y=ia(y,N)}(n._query,i),new Ns(n.firestore,n.converter,ia(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function jm(c,n,i){if("string"==typeof(i=(0,Re.Ku)(i))){if(""===i)throw new te(Ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sa(n)&&-1!==i.indexOf("/"))throw new te(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(ht.fromString(i));if(!Xt.isDocumentKey(s))throw new te(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _i(c,new Xt(s))}if(i instanceof Eo)return _i(c,i._key);throw new te(Ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(i)}.`)}function aw(c,n){if(!Array.isArray(c)||0===c.length)throw new te(Ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function cw(c,n){const i=function(u,h){for(const y of u)for(const S of y.getFlattenedFilters())if(h.indexOf(S.op)>=0)return S.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new te(Ke.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class tv{convertValue(n,i="none"){switch(Xn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Or(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(yr(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw pt(62114,{value:n})}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return go(n,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(n){var i,s,u;const h=null===(u=null===(s=null===(i=n.fields)||void 0===i?void 0:i[pn].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(y=>Or(y.doubleValue));return new Ip(h)}convertGeoPoint(n){return new Mm(Or(n.latitude),Or(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=_r(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(q(n));default:return null}}convertTimestamp(n){const i=xo(n);return new dr(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=ht.fromString(n);Je(Bl(s),9688,{name:n});const u=new Pe(s.get(1),s.get(3)),h=new Xt(s.popFirst(5));return u.isEqual(i)||Vn(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}class yl{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Nd extends Cd{constructor(n,i,s,u,h,y){super(n,i,s,u,y),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(Ap("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class kd extends Nd{data(n={}){return super.data(n)}}class Wh{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new yl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new kd(this._firestore,this._userDataWriter,s.key,s,new yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new te(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let y=0;return u._snapshot.docChanges.map(S=>({type:"added",doc:new kd(u._firestore,u._userDataWriter,S.doc.key,S.doc,new yl(u._snapshot.mutatedKeys.has(S.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:y++}))}{let y=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(S=>h||3!==S.type).map(S=>{const N=new kd(u._firestore,u._userDataWriter,S.doc.key,S.doc,new yl(u._snapshot.mutatedKeys.has(S.doc.key),u._snapshot.fromCache),u.query.converter);let V=-1,J=-1;return 0!==S.type&&(V=y.indexOf(S.doc.key),y=y.delete(S.doc.key)),1!==S.type&&(y=y.add(S.doc),J=y.indexOf(S.doc.key)),{type:AT(S.type),doc:N,oldIndex:V,newIndex:J}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function AT(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:c})}}function CT(c){c=Zr(c,Eo);const n=Zr(c.firestore,wo);return function M_(c,n,i={}){const s=new he;return c.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function(h,y,S,N,V){const J=new Xc({next:Fe=>{J.Cu(),y.enqueueAndForget(()=>bh(h,ce));const bt=Fe.docs.has(S);!bt&&Fe.fromCache?V.reject(new te(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):bt&&Fe.fromCache&&N&&"server"===N.source?V.reject(new te(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(Fe)},error:Fe=>V.reject(Fe)}),ce=new Ch(Ao(S.path),J,{includeMetadataChanges:!0,La:!0});return od(h,ce)}(yield Lh(c),c.asyncQueue,n,i,s)})),s.promise}(Ho(n),c._key).then(i=>Du(n,c,i))}class _l extends tv{constructor(n){super(),this.firestore=n}convertBytes(n){return new ka(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Eo(this.firestore,null,i)}}function ST(c){c=Zr(c,Ns);const n=Zr(c.firestore,wo),i=Ho(n),s=new _l(n);return X_(c._query),function Im(c,n,i={}){const s=new he;return c.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function(h,y,S,N,V){const J=new Xc({next:Fe=>{J.Cu(),y.enqueueAndForget(()=>bh(h,ce)),Fe.fromCache&&"server"===N.source?V.reject(new te(Ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(Fe)},error:Fe=>V.reject(Fe)}),ce=new Ch(S,J,{includeMetadataChanges:!0,La:!0});return od(h,ce)}(yield Lh(c),c.asyncQueue,n,i,s)})),s.promise}(i,c._query).then(u=>new Wh(n,s,c,u))}function Np(c,n,i){c=Zr(c,Eo);const s=Zr(c.firestore,wo),u=function Mp(c,n,i){let s;return s=c?i&&(i.merge||i.mergeFields)?c.toFirestore(n,i):c.toFirestore(n):n,s}(c.converter,n,i);return xd(s,[bp(gl(s),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,eo.none())])}function rv(c,n,i,...s){c=Zr(c,Eo);const u=Zr(c.firestore,wo),h=gl(u);let y;return y="string"==typeof(n=(0,Re.Ku)(n))||n instanceof pl?function ml(c,n,i,s,u,h){const y=c.gc(1,n,i),S=[Dp(n,s,i)],N=[u];if(h.length%2!=0)throw new te(Ke.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Fe=0;Fe<h.length;Fe+=2)S.push(Dp(n,h[Fe])),N.push(h[Fe+1]);const V=[],J=oo.empty();for(let Fe=S.length-1;Fe>=0;--Fe)if(!tw(V,S[Fe])){const bt=S[Fe];let zt=N[Fe];zt=(0,Re.Ku)(zt);const dn=y.Ac(bt);if(zt instanceof bd)V.push(bt);else{const sn=bu(zt,dn);null!=sn&&(V.push(bt),J.set(bt,sn))}}const ce=new ko(V);return new G_(J,ce,y.fieldTransforms)}(h,"updateDoc",c._key,n,i,s):function hc(c,n,i,s){const u=c.gc(1,n,i);Q_("Data must be an object, but it was:",u,s);const h=[],y=oo.empty();go(s,(N,V)=>{const J=Ad(n,N,i);V=(0,Re.Ku)(V);const ce=u.Ac(J);if(V instanceof bd)h.push(J);else{const Fe=bu(V,ce);null!=Fe&&(h.push(J),y.set(J,Fe))}});const S=new ko(h);return new G_(y,S,u.fieldTransforms)}(h,"updateDoc",c._key,n),xd(u,[y.toMutation(c._key,eo.exists(!0))])}function iv(c){return xd(Zr(c.firestore,wo),[new to(c._key,eo.none())])}function fw(c,...n){var i,s,u;c=(0,Re.Ku)(c);let h={includeMetadataChanges:!1,source:"default"},y=0;"object"!=typeof n[y]||Cm(n[y])||(h=n[y],y++);const S={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(Cm(n[y])){const ce=n[y];n[y]=null===(i=ce.next)||void 0===i?void 0:i.bind(ce),n[y+1]=null===(s=ce.error)||void 0===s?void 0:s.bind(ce),n[y+2]=null===(u=ce.complete)||void 0===u?void 0:u.bind(ce)}let N,V,J;if(c instanceof Eo)V=Zr(c.firestore,wo),J=Ao(c._key.path),N={next:ce=>{n[y]&&n[y](Du(V,c,ce))},error:n[y+1],complete:n[y+2]};else{const ce=Zr(c,Ns);V=Zr(ce.firestore,wo),J=ce._query;const Fe=new _l(V);N={next:bt=>{n[y]&&n[y](new Wh(V,Fe,ce,bt))},error:n[y+1],complete:n[y+2]},X_(c._query)}return function(Fe,bt,zt,dn){const sn=new Xc(dn),Zn=new Ch(bt,sn,zt);return Fe.asyncQueue.enqueueAndForget((0,T.A)(function*(){return od(yield Lh(Fe),Zn)})),()=>{sn.Cu(),Fe.asyncQueue.enqueueAndForget((0,T.A)(function*(){return bh(yield Lh(Fe),Zn)}))}}(Ho(V),J,S,N)}function xd(c,n){return function(s,u){const h=new he;return s.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function E_(c,n,i){return w_.apply(this,arguments)}(yield function R_(c){return Fh(c).then(n=>n.syncEngine)}(s),u,h)})),h.promise}(Ho(c),n)}function Du(c,n,i){const s=i.docs.get(n._key),u=new _l(c);return new Nd(c,u,n._key,s,new yl(i.hasPendingWrites,i.fromCache),n.converter)}!function(n,i=!0){Ye=O.MF,(0,O.om)(new Y.uA("firestore",(s,{instanceIdentifier:u,options:h})=>{const y=s.getProvider("app").getImmediate(),S=new wo(new pe(s.getProvider("auth-internal")),new en(y,s.getProvider("app-check-internal")),function(V,J){if(!Object.prototype.hasOwnProperty.apply(V.options,["projectId"]))throw new te(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pe(V.options.projectId,J)}(y,u),y);return h=Object.assign({useFetchStreams:i},h),S._setSettings(h),S},"PUBLIC").setMultipleInstances(!0)),(0,O.KO)(St,"4.7.16",n),(0,O.KO)(St,"4.7.16","esm2017")}()},3494:(bn,ze,$)=>{"use strict";$.d(ze,{s:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},3604:(bn,ze,$)=>{"use strict";$.d(ze,{q:()=>Y});const T={now:()=>(T.delegate||Date).now(),delegate:void 0};class O{constructor(Re,nt=O.now){this.schedulerActionCtor=Re,this.now=nt}schedule(Re,nt=0,we){return new this.schedulerActionCtor(this,Re).schedule(we,nt)}}O.now=T.now;class Y extends O{constructor(Re,nt=O.now){super(Re,nt),this.actions=[],this._active=!1}flush(Re){const{actions:nt}=this;if(this._active)return void nt.push(Re);let we;this._active=!0;do{if(we=Re.execute(Re.state,Re.delay))break}while(Re=nt.shift());if(this._active=!1,we){for(;Re=nt.shift();)Re.unsubscribe();throw we}}}},3669:(bn,ze,$)=>{"use strict";function T(O){return O}$.d(ze,{D:()=>T})},4125:(bn,ze,$)=>{"use strict";$.d(ze,{kR:()=>ft});var T=$(2967),Re=($(1360),$(7440),$(2214),$(467)),nt=$(7852),we=$(1362),be=$(6858),We=$(8041);const Te=new Map,Ie={activated:!1,tokenObservers:[]},lt={initialized:!1,enabled:!1};function Qe(ve){return Te.get(ve)||Object.assign({},Ie)}function Rt(){return lt}class ke{constructor(Be,Ze,jt,Gt,In){if(this.operation=Be,this.retryPolicy=Ze,this.getWaitDuration=jt,this.lowerBound=Gt,this.upperBound=In,this.pending=null,this.nextErrorWaitInterval=Gt,Gt>In)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Be){var Ze=this;return(0,Re.A)(function*(){Ze.stop();try{Ze.pending=new be.cY,Ze.pending.promise.catch(jt=>{}),yield function it(ve){return new Promise(Be=>{setTimeout(Be,ve)})}(Ze.getNextRun(Be)),Ze.pending.resolve(),yield Ze.pending.promise,Ze.pending=new be.cY,Ze.pending.promise.catch(jt=>{}),yield Ze.operation(),Ze.pending.resolve(),yield Ze.pending.promise,Ze.process(!0).catch(()=>{})}catch(jt){Ze.retryPolicy(jt)?Ze.process(!1).catch(()=>{}):Ze.stop()}})()}getNextRun(Be){if(Be)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ze=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ze}}}const It=new be.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function Tt(ve){if(!Qe(ve).activated)throw It.create("use-before-activation",{appName:ve.name})}function Mn(ve,Be){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,Re.A)(function*({url:ve,body:Be},Ze){const jt={"Content-Type":"application/json"},Gt=Ze.getImmediate({optional:!0});if(Gt){const Cr=yield Gt.getHeartbeatsHeader();Cr&&(jt["X-Firebase-Client"]=Cr)}const In={method:"POST",body:JSON.stringify(Be),headers:jt};let On,An;try{On=yield fetch(ve,In)}catch(Cr){throw It.create("fetch-network-error",{originalErrorMessage:Cr?.message})}if(200!==On.status)throw It.create("fetch-status-error",{httpStatus:On.status});try{An=yield On.json()}catch(Cr){throw It.create("fetch-parse-error",{originalErrorMessage:Cr?.message})}const tr=An.ttl.match(/^([\d.]+)(s)$/);if(!tr||!tr[2]||isNaN(Number(tr[1])))throw It.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${An.ttl}`});const Hr=1e3*Number(tr[1]),Ro=Date.now();return{token:An.token,expireTimeMillis:Ro+Hr,issuedAtTimeMillis:Ro}})).apply(this,arguments)}function Je(ve,Be){const{projectId:Ze,appId:jt,apiKey:Gt}=ve.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ze}/apps/${jt}:exchangeDebugToken?key=${Gt}`,body:{debug_token:Be}}}const Ke="firebase-app-check-store";let he=null;function an(){return(an=(0,Re.A)(function*(ve,Be){const jt=(yield function fe(){return he||(he=new Promise((ve,Be)=>{try{const Ze=indexedDB.open("firebase-app-check-database",1);Ze.onsuccess=jt=>{ve(jt.target.result)},Ze.onerror=jt=>{var Gt;Be(It.create("storage-open",{originalErrorMessage:null===(Gt=jt.target.error)||void 0===Gt?void 0:Gt.message}))},Ze.onupgradeneeded=jt=>{0===jt.oldVersion&&jt.target.result.createObjectStore(Ke,{keyPath:"compositeKey"})}}catch(Ze){Be(It.create("storage-open",{originalErrorMessage:Ze?.message}))}}),he)}()).transaction(Ke,"readwrite"),In=jt.objectStore(Ke).put({compositeKey:ve,value:Be});return new Promise((On,An)=>{In.onsuccess=tr=>{On()},jt.onerror=tr=>{var Hr;An(It.create("storage-set",{originalErrorMessage:null===(Hr=tr.target.error)||void 0===Hr?void 0:Hr.message}))}})})).apply(this,arguments)}const Qn=new We.Vy("@firebase/app-check");function Ln(ve,Be){return(0,be.zW)()?function oe(ve,Be){return function _t(ve,Be){return an.apply(this,arguments)}(function Kt(ve){return`${ve.options.appId}-${ve.name}`}(ve),Be)}(ve,Be).catch(Ze=>{Qn.warn(`Failed to write token to IndexedDB. Error: ${Ze}`)}):Promise.resolve()}function Mr(){return Rt().enabled}function Pr(){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,Re.A)(function*(){const ve=Rt();if(ve.enabled&&ve.token)return ve.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const dr={error:"UNKNOWN_ERROR"};function cn(ve){return be.K3.encodeString(JSON.stringify(ve),!1)}function Qi(ve){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,Re.A)(function*(ve,Be=!1,Ze=!1){const jt=ve.app;Tt(jt);const Gt=Qe(jt);let On,In=Gt.token;if(In&&!Tr(In)&&(Gt.token=void 0,In=void 0),!In){const Hr=yield Gt.cachedTokenPromise;Hr&&(Tr(Hr)?In=Hr:yield Ln(jt,void 0))}if(!Be&&In&&Tr(In))return{token:In.token};let tr,An=!1;if(Mr())try{Gt.exchangeTokenPromise||(Gt.exchangeTokenPromise=Mn(Je(jt,yield Pr()),ve.heartbeatServiceProvider).finally(()=>{Gt.exchangeTokenPromise=void 0}),An=!0);const Hr=yield Gt.exchangeTokenPromise;return yield Ln(jt,Hr),Gt.token=Hr,{token:Hr.token}}catch(Hr){return"appCheck/throttled"===Hr.code||"appCheck/initial-throttle"===Hr.code?Qn.warn(Hr.message):Ze&&Qn.error(Hr),Ei(Hr)}try{Gt.exchangeTokenPromise||(Gt.exchangeTokenPromise=Gt.provider.getToken().finally(()=>{Gt.exchangeTokenPromise=void 0}),An=!0),In=yield Qe(jt).exchangeTokenPromise}catch(Hr){"appCheck/throttled"===Hr.code||"appCheck/initial-throttle"===Hr.code?Qn.warn(Hr.message):Ze&&Qn.error(Hr),On=Hr}return In?On?tr=Tr(In)?{token:In.token,internalError:On}:Ei(On):(tr={token:In.token},Gt.token=In,yield Ln(jt,In)):tr=Ei(On),An&&function pi(ve,Be){const Ze=Qe(ve).tokenObservers;for(const jt of Ze)try{"EXTERNAL"===jt.type&&null!=Be.error?jt.error(Be.error):jt.next(Be)}catch{}}(jt,tr),tr})).apply(this,arguments)}function Er(){return(Er=(0,Re.A)(function*(ve){const Be=ve.app;Tt(Be);const{provider:Ze}=Qe(Be);if(Mr()){const jt=yield Pr(),{token:Gt}=yield Mn(Je(Be,jt),ve.heartbeatServiceProvider);return{token:Gt}}{const{token:jt}=yield Ze.getToken();return{token:jt}}})).apply(this,arguments)}function Xt(ve,Be){const Ze=Qe(ve),jt=Ze.tokenObservers.filter(Gt=>Gt.next!==Be);0===jt.length&&Ze.tokenRefresher&&Ze.tokenRefresher.isRunning()&&Ze.tokenRefresher.stop(),Ze.tokenObservers=jt}function ri(ve){const{app:Be}=ve,Ze=Qe(Be);let jt=Ze.tokenRefresher;jt||(jt=function ai(ve){const{app:Be}=ve;return new ke((0,Re.A)(function*(){let jt;if(jt=Qe(Be).token?yield Qi(ve,!0):yield Qi(ve),jt.error)throw jt.error;if(jt.internalError)throw jt.internalError}),()=>!0,()=>{const Ze=Qe(Be);if(Ze.token){let jt=Ze.token.issuedAtTimeMillis+.5*(Ze.token.expireTimeMillis-Ze.token.issuedAtTimeMillis)+3e5;return jt=Math.min(jt,Ze.token.expireTimeMillis-3e5),Math.max(0,jt-Date.now())}return 0},3e4,96e4)}(ve),Ze.tokenRefresher=jt),!jt.isRunning()&&Ze.isTokenAutoRefreshEnabled&&jt.start()}function Tr(ve){return ve.expireTimeMillis-Date.now()>0}function Ei(ve){return{token:cn(dr),error:ve}}class Ar{constructor(Be,Ze){this.app=Be,this.heartbeatServiceProvider=Ze}_delete(){const{tokenObservers:Be}=Qe(this.app);for(const Ze of Be)Xt(this.app,Ze.next);return Promise.resolve()}}const pr="app-check-internal";!function ie(){(0,nt.om)(new we.uA("app-check",ve=>function ci(ve,Be){return new Ar(ve,Be)}(ve.getProvider("app").getImmediate(),ve.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ve,Be,Ze)=>{ve.getProvider(pr).initialize()})),(0,nt.om)(new we.uA(pr,ve=>function cr(ve){return{getToken:Be=>Qi(ve,Be),getLimitedUseToken:()=>function ht(ve){return Er.apply(this,arguments)}(ve),addTokenListener:Be=>function qn(ve,Be,Ze,jt){const{app:Gt}=ve,In=Qe(Gt);if(In.tokenObservers=[...In.tokenObservers,{next:Ze,error:jt,type:Be}],In.token&&Tr(In.token)){const An=In.token;Promise.resolve().then(()=>{Ze({token:An.token}),ri(ve)}).catch(()=>{})}In.cachedTokenPromise.then(()=>ri(ve))}(ve,"INTERNAL",Be),removeTokenListener:Be=>Xt(ve.app,Be)}}(ve.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nt.KO)("@firebase/app-check","0.10.0")}();class ft{constructor(){return(0,T.CA)("app-check")}}typeof window<"u"&&window},4360:(bn,ze,$)=>{"use strict";$.d(ze,{_:()=>O});var T=$(7707);function O(B,Re,nt,we,be){return new Y(B,Re,nt,we,be)}class Y extends T.vU{constructor(Re,nt,we,be,We,Te){super(Re),this.onFinalize=We,this.shouldUnsubscribe=Te,this._next=nt?function(Ie){try{nt(Ie)}catch(lt){Re.error(lt)}}:super._next,this._error=be?function(Ie){try{be(Ie)}catch(lt){Re.error(lt)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(Ie){Re.error(Ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:nt}=this;super.unsubscribe(),!nt&&(null===(Re=this.onFinalize)||void 0===Re||Re.call(this))}}}},4412:(bn,ze,$)=>{"use strict";$.d(ze,{t:()=>O});var T=$(1413);class O extends T.B{constructor(B){super(),this._value=B}get value(){return this.getValue()}_subscribe(B){const Re=super._subscribe(B);return!Re.closed&&B.next(this._value),Re}getValue(){const{hasError:B,thrownError:Re,_value:nt}=this;if(B)throw Re;return this._throwIfClosed(),nt}next(B){super.next(this._value=B)}}},4761:(bn,ze,$)=>{"use strict";$.d(ze,{l:()=>O});const O=function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4796:(bn,ze,$)=>{"use strict";$.d(ze,{u:()=>B});var T=$(6335),O=$(5964),Y=$(1360);let B=(()=>{class Re{auth;constructor(we){this.auth=we,console.log("%c<<< Start AUTH service >>>","background: #cff4fc; color: #055160; padding: 2px 5px;")}getAuthState(){return console.log("\u{1f441} Observando el estado de autenticaci\xf3n..."),(0,T.wh)(this.auth)}getCurrentUser(){return this.getAuthState().pipe((0,O.p)(we=>!!we))}login(we,be){return console.log("\u{1f510} Intentando iniciar sesi\xf3n con:",we),(0,T.x9)(this.auth,we,be)}register(we,be){return console.log("\u{1f4dd} Registrando nuevo usuario con:",we),(0,T.eJ)(this.auth,we,be)}logout(){return console.log("\u{1f6aa} Cerrando sesi\xf3n del usuario actual"),(0,T.CI)(this.auth)}resetPassword(we){return console.log("\u{1f4e7} Enviando enlace de recuperaci\xf3n a:",we),(0,T.J1)(this.auth,we)}static \u0275fac=function(be){return new(be||Re)(Y.KVO(T.Nj))};static \u0275prov=Y.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})()},4843:(bn,ze,$)=>{"use strict";$.d(ze,{_:()=>Y});var T=$(9350),O=$(7707);function Y(B,Re){const nt="object"==typeof Re;return new Promise((we,be)=>{const We=new O.Ms({next:Te=>{we(Te),We.unsubscribe()},error:be,complete:()=>{nt?we(Re.defaultValue):be(new T.G)}});B.subscribe(We)})}},5055:(bn,ze,$)=>{"use strict";$.d(ze,{l:()=>Y});var T=$(3494),O=$(8071);function Y(B){return(0,O.T)(B[T.s])}},5072:(bn,ze,$)=>{"use strict";$.d(ze,{nX:()=>Po,Pu:()=>Co,Zp:()=>Bn,nU:()=>Wn,c1:()=>Qr,XR:()=>Nn,wF:()=>Ro,lW:()=>Bo,mo:()=>ao,Z:()=>Hr,J2:()=>Qs,J_:()=>Sn,bw:()=>sr,tD:()=>Xr,Ix:()=>w,D$:()=>ji,n3:()=>Wr,OY:()=>gr,Sd:()=>kr,bK:()=>ps,gk:()=>Mi,Lg:()=>Yo,wO:()=>Dt,Us:()=>zi,we:()=>bs});var T=$(9361),O=$(6048),Y=$(1360),B=$(1985),Re=$(8071),we=$(8455),be=$(7673),We=$(4412),Te=$(3073),Ie=$(3669),lt=$(6450),Qe=$(9326),dt=$(8496),Rt=$(4360),Ht=$(5225);function Bt(...p){const I=(0,Qe.lI)(p),_=(0,Qe.ms)(p),{args:A,keys:k}=(0,Te.D)(p);if(0===A.length)return(0,we.H)([],I);const Q=new B.c(function Jt(p,I,_=Ie.D){return A=>{yt(I,()=>{const{length:k}=p,Q=new Array(k);let Z=k,Oe=k;for(let qe=0;qe<k;qe++)yt(I,()=>{const Mt=(0,we.H)(p[qe],I);let gn=!1;Mt.subscribe((0,Rt._)(A,ur=>{Q[qe]=ur,gn||(gn=!0,Oe--),Oe||A.next(_(Q.slice()))},()=>{--Z||A.complete()}))},A)},A)}}(A,I,k?Z=>(0,dt.e)(k,Z):Ie.D));return _?Q.pipe((0,lt.I)(_)):Q}function yt(p,I,_){p?(0,Ht.N)(_,p,I):I()}var wt=$(9350),St=$(6365);function it(...p){return function ke(){return(0,St.U)(1)}()((0,we.H)(p,(0,Qe.lI)(p)))}var Ye=$(8750);function It(p){return new B.c(I=>{(0,Ye.Tg)(p()).subscribe(I)})}var qt=$(1203);function Tt(p,I){const _=(0,Re.T)(p)?p:()=>p,A=k=>k.error(_());return new B.c(I?k=>I.schedule(A,0,k):A)}var ct=$(983),Vn=$(8359),Mn=$(9974);function Kn(){return(0,Mn.N)((p,I)=>{let _=null;p._refCount++;const A=(0,Rt._)(I,void 0,void 0,void 0,()=>{if(!p||p._refCount<=0||0<--p._refCount)return void(_=null);const k=p._connection,Q=_;_=null,k&&(!Q||k===Q)&&k.unsubscribe(),I.unsubscribe()});p.subscribe(A),A.closed||(_=p.connect())})}class pt extends B.c{constructor(I,_){super(),this.source=I,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,Mn.S)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Vn.yU;const _=this.getSubject();I.add(this.source.subscribe((0,Rt._)(_,void 0,()=>{this._teardown(),_.complete()},A=>{this._teardown(),_.error(A)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Vn.yU.EMPTY)}return I}refCount(){return Kn()(this)}}var wn=$(1413),Je=$(6354),rn=$(5558);function kt(p){return p<=0?()=>ct.w:(0,Mn.N)((I,_)=>{let A=0;I.subscribe((0,Rt._)(_,k=>{++A<=p&&(_.next(k),p<=A&&_.complete())}))})}var te=$(5964),he=$(1397);function fe(p){return(0,Mn.N)((I,_)=>{let A=!1;I.subscribe((0,Rt._)(_,k=>{A=!0,_.next(k)},()=>{A||_.next(p),_.complete()}))})}function me(p=oe){return(0,Mn.N)((I,_)=>{let A=!1;I.subscribe((0,Rt._)(_,k=>{A=!0,_.next(k)},()=>A?_.complete():_.error(p())))})}function oe(){return new wt.G}function pe(p,I){const _=arguments.length>=2;return A=>A.pipe(p?(0,te.p)((k,Q)=>p(k,Q,A)):Ie.D,kt(1),_?fe(I):me(()=>new wt.G))}var Xe=$(274);function _t(p,I,_){const A=(0,Re.T)(p)||I||_?{next:p,error:I,complete:_}:p;return A?(0,Mn.N)((k,Q)=>{var Z;null===(Z=A.subscribe)||void 0===Z||Z.call(A);let Oe=!0;k.subscribe((0,Rt._)(Q,qe=>{var Mt;null===(Mt=A.next)||void 0===Mt||Mt.call(A,qe),Q.next(qe)},()=>{var qe;Oe=!1,null===(qe=A.complete)||void 0===qe||qe.call(A),Q.complete()},qe=>{var Mt;Oe=!1,null===(Mt=A.error)||void 0===Mt||Mt.call(A,qe),Q.error(qe)},()=>{var qe,Mt;Oe&&(null===(qe=A.unsubscribe)||void 0===qe||qe.call(A)),null===(Mt=A.finalize)||void 0===Mt||Mt.call(A)}))}):Ie.D}var an=$(9437);function Kt(p){return p<=0?()=>ct.w:(0,Mn.N)((I,_)=>{let A=[];I.subscribe((0,Rt._)(_,k=>{A.push(k),p<A.length&&A.shift()},()=>{for(const k of A)_.next(k);_.complete()},void 0,()=>{A=null}))})}var Hn=$(980),Zt=$(5343),er=$(345);const Dn="primary",Mr=Symbol("RouteTitle");class Pr{params;constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const _=this.params[I];return Array.isArray(_)?_[0]:_}return null}getAll(I){if(this.has(I)){const _=this.params[I];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Ci(p){return new Pr(p)}function fn(p,I,_){const A=_.path.split("/");if(A.length>p.length||"full"===_.pathMatch&&(I.hasChildren()||A.length<p.length))return null;const k={};for(let Q=0;Q<A.length;Q++){const Z=A[Q],Oe=p[Q];if(":"===Z[0])k[Z.substring(1)]=Oe;else if(Z!==Oe.path)return null}return{consumed:p.slice(0,A.length),posParams:k}}function cn(p,I){const _=p?Qi(p):void 0,A=I?Qi(I):void 0;if(!_||!A||_.length!=A.length)return!1;let k;for(let Q=0;Q<_.length;Q++)if(k=_[Q],!Nr(p[k],I[k]))return!1;return!0}function Qi(p){return[...Object.keys(p),...Object.getOwnPropertySymbols(p)]}function Nr(p,I){if(Array.isArray(p)&&Array.isArray(I)){if(p.length!==I.length)return!1;const _=[...p].sort(),A=[...I].sort();return _.every((k,Q)=>A[Q]===k)}return p===I}function ht(p){return p.length>0?p[p.length-1]:null}function Er(p){return function nt(p){return!!p&&(p instanceof B.c||(0,Re.T)(p.lift)&&(0,Re.T)(p.subscribe))}(p)?p:(0,Y.jNT)(p)?(0,we.H)(Promise.resolve(p)):(0,be.of)(p)}const qn={exact:function pi(p,I,_){if(!Cn(p.segments,I.segments)||!ci(p.segments,I.segments,_)||p.numberOfChildren!==I.numberOfChildren)return!1;for(const A in I.children)if(!p.children[A]||!pi(p.children[A],I.children[A],_))return!1;return!0},subset:Ei},Xt={exact:function ai(p,I){return cn(p,I)},subset:function Tr(p,I){return Object.keys(I).length<=Object.keys(p).length&&Object.keys(I).every(_=>Nr(p[_],I[_]))},ignored:()=>!0};function ri(p,I,_){return qn[_.paths](p.root,I.root,_.matrixParams)&&Xt[_.queryParams](p.queryParams,I.queryParams)&&!("exact"===_.fragment&&p.fragment!==I.fragment)}function Ei(p,I,_){return Ar(p,I,I.segments,_)}function Ar(p,I,_,A){if(p.segments.length>_.length){const k=p.segments.slice(0,_.length);return!(!Cn(k,_)||I.hasChildren()||!ci(k,_,A))}if(p.segments.length===_.length){if(!Cn(p.segments,_)||!ci(p.segments,_,A))return!1;for(const k in I.children)if(!p.children[k]||!Ei(p.children[k],I.children[k],A))return!1;return!0}{const k=_.slice(0,p.segments.length),Q=_.slice(p.segments.length);return!!(Cn(p.segments,k)&&ci(p.segments,k,A)&&p.children[Dn])&&Ar(p.children[Dn],I,Q,A)}}function ci(p,I,_){return I.every((A,k)=>Xt[_](p[k].parameters,A.parameters))}class cr{root;queryParams;fragment;_queryParamMap;constructor(I=new ir([],{}),_={},A=null){this.root=I,this.queryParams=_,this.fragment=A}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){return Xi.serialize(this)}}class ir{segments;children;parent=null;constructor(I,_){this.segments=I,this.children=_,Object.values(_).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ue(this)}}class gi{path;parameters;_parameterMap;constructor(I,_){this.path=I,this.parameters=_}get parameterMap(){return this._parameterMap??=Ci(this.parameters),this._parameterMap}toString(){return Fi(this)}}function Cn(p,I){return p.length===I.length&&p.every((_,A)=>_.path===I[A].path)}let kr=(()=>{class p{static \u0275fac=function(A){return new(A||p)};static \u0275prov=Y.jDH({token:p,factory:()=>new Wn,providedIn:"root"})}return p})();class Wn{parse(I){const _=new ie(I);return new cr(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(I){const _=`/${Dr(I.root,!0)}`,A=function Vi(p){const I=Object.entries(p).map(([_,A])=>Array.isArray(A)?A.map(k=>`${ii(_)}=${ii(k)}`).join("&"):`${ii(_)}=${ii(A)}`).filter(_=>_);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${_}${A}${"string"==typeof I.fragment?`#${function Oi(p){return encodeURI(p)}(I.fragment)}`:""}`}}const Xi=new Wn;function Ue(p){return p.segments.map(I=>Fi(I)).join("/")}function Dr(p,I){if(!p.hasChildren())return Ue(p);if(I){const _=p.children[Dn]?Dr(p.children[Dn],!1):"",A=[];return Object.entries(p.children).forEach(([k,Q])=>{k!==Dn&&A.push(`${k}:${Dr(Q,!1)}`)}),A.length>0?`${_}(${A.join("//")})`:_}{const _=function Ti(p,I){let _=[];return Object.entries(p.children).forEach(([A,k])=>{A===Dn&&(_=_.concat(I(k,A)))}),Object.entries(p.children).forEach(([A,k])=>{A!==Dn&&(_=_.concat(I(k,A)))}),_}(p,(A,k)=>k===Dn?[Dr(p.children[Dn],!1)]:[`${k}:${Dr(A,!1)}`]);return 1===Object.keys(p.children).length&&null!=p.children[Dn]?`${Ue(p)}/${_[0]}`:`${Ue(p)}/(${_.join("//")})`}}function Zi(p){return encodeURIComponent(p).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ii(p){return Zi(p).replace(/%3B/gi,";")}function _n(p){return Zi(p).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fr(p){return decodeURIComponent(p)}function wr(p){return fr(p.replace(/\+/g,"%20"))}function Fi(p){return`${_n(p.path)}${function Li(p){return Object.entries(p).map(([I,_])=>`;${_n(I)}=${_n(_)}`).join("")}(p.parameters)}`}const Ae=/^[^\/()?;#]+/;function ye(p){const I=p.match(Ae);return I?I[0]:""}const je=/^[^\/()?;=#]+/,et=/^[^=?&#]+/,Rn=/^[^&#]+/;class ie{url;remaining;constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ir([],{}):new ir([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(I.length>0||Object.keys(_).length>0)&&(A[Dn]=new ir(I,_)),A}parseSegment(){const I=ye(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Y.wOt(4009,!1);return this.capture(I),new gi(fr(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const _=function Lt(p){const I=p.match(je);return I?I[0]:""}(this.remaining);if(!_)return;this.capture(_);let A="";if(this.consumeOptional("=")){const k=ye(this.remaining);k&&(A=k,this.capture(A))}I[fr(_)]=fr(A)}parseQueryParam(I){const _=function Yt(p){const I=p.match(et);return I?I[0]:""}(this.remaining);if(!_)return;this.capture(_);let A="";if(this.consumeOptional("=")){const Z=function pr(p){const I=p.match(Rn);return I?I[0]:""}(this.remaining);Z&&(A=Z,this.capture(A))}const k=wr(_),Q=wr(A);if(I.hasOwnProperty(k)){let Z=I[k];Array.isArray(Z)||(Z=[Z],I[k]=Z),Z.push(Q)}else I[k]=Q}parseParens(I){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=ye(this.remaining),k=this.remaining[A.length];if("/"!==k&&")"!==k&&";"!==k)throw new Y.wOt(4010,!1);let Q;A.indexOf(":")>-1?(Q=A.slice(0,A.indexOf(":")),this.capture(Q),this.capture(":")):I&&(Q=Dn);const Z=this.parseChildren();_[Q]=1===Object.keys(Z).length?Z[Dn]:new ir([],Z),this.consumeOptional("//")}return _}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Y.wOt(4011,!1)}}function ue(p){return p.segments.length>0?new ir([],{[Dn]:p}):p}function Se(p){const I={};for(const[A,k]of Object.entries(p.children)){const Q=Se(k);if(A===Dn&&0===Q.segments.length&&Q.hasChildren())for(const[Z,Oe]of Object.entries(Q.children))I[Z]=Oe;else(Q.segments.length>0||Q.hasChildren())&&(I[A]=Q)}return function ft(p){if(1===p.numberOfChildren&&p.children[Dn]){const I=p.children[Dn];return new ir(p.segments.concat(I.segments),I.children)}return p}(new ir(p.segments,I))}function Dt(p){return p instanceof cr}function _e(p){let I;const k=ue(function _(Q){const Z={};for(const qe of Q.children){const Mt=_(qe);Z[qe.outlet]=Mt}const Oe=new ir(Q.url,Z);return Q===p&&(I=Oe),Oe}(p.root));return I??k}function Le(p,I,_,A){let k=p;for(;k.parent;)k=k.parent;if(0===I.length)return mt(k,k,k,_,A);const Q=function Un(p){if("string"==typeof p[0]&&1===p.length&&"/"===p[0])return new on(!0,0,p);let I=0,_=!1;const A=p.reduce((k,Q,Z)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const Oe={};return Object.entries(Q.outlets).forEach(([qe,Mt])=>{Oe[qe]="string"==typeof Mt?Mt.split("/"):Mt}),[...k,{outlets:Oe}]}if(Q.segmentPath)return[...k,Q.segmentPath]}return"string"!=typeof Q?[...k,Q]:0===Z?(Q.split("/").forEach((Oe,qe)=>{0==qe&&"."===Oe||(0==qe&&""===Oe?_=!0:".."===Oe?I++:""!=Oe&&k.push(Oe))}),k):[...k,Q]},[]);return new on(_,I,A)}(I);if(Q.toRoot())return mt(k,k,new ir([],{}),_,A);const Z=function Gn(p,I,_){if(p.isAbsolute)return new ln(I,!0,0);if(!_)return new ln(I,!1,NaN);if(null===_.parent)return new ln(_,!0,0);const A=Pt(p.commands[0])?0:1;return function or(p,I,_){let A=p,k=I,Q=_;for(;Q>k;){if(Q-=k,A=A.parent,!A)throw new Y.wOt(4005,!1);k=A.segments.length}return new ln(A,!1,k-Q)}(_,_.segments.length-1+A,p.numberOfDoubleDots)}(Q,k,p),Oe=Z.processChildren?ve(Z.segmentGroup,Z.index,Q.commands):Si(Z.segmentGroup,Z.index,Q.commands);return mt(k,Z.segmentGroup,Oe,_,A)}function Pt(p){return"object"==typeof p&&null!=p&&!p.outlets&&!p.segmentPath}function Et(p){return"object"==typeof p&&null!=p&&p.outlets}function mt(p,I,_,A,k){let Z,Q={};A&&Object.entries(A).forEach(([qe,Mt])=>{Q[qe]=Array.isArray(Mt)?Mt.map(gn=>`${gn}`):`${Mt}`}),Z=p===I?_:Ot(p,I,_);const Oe=ue(Se(Z));return new cr(Oe,Q,k)}function Ot(p,I,_){const A={};return Object.entries(p.children).forEach(([k,Q])=>{A[k]=Q===I?_:Ot(Q,I,_)}),new ir(p.segments,A)}class on{isAbsolute;numberOfDoubleDots;commands;constructor(I,_,A){if(this.isAbsolute=I,this.numberOfDoubleDots=_,this.commands=A,I&&A.length>0&&Pt(A[0]))throw new Y.wOt(4003,!1);const k=A.find(Et);if(k&&k!==ht(A))throw new Y.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ln{segmentGroup;processChildren;index;constructor(I,_,A){this.segmentGroup=I,this.processChildren=_,this.index=A}}function Si(p,I,_){if(p??=new ir([],{}),0===p.segments.length&&p.hasChildren())return ve(p,I,_);const A=function Be(p,I,_){let A=0,k=I;const Q={match:!1,pathIndex:0,commandIndex:0};for(;k<p.segments.length;){if(A>=_.length)return Q;const Z=p.segments[k],Oe=_[A];if(Et(Oe))break;const qe=`${Oe}`,Mt=A<_.length-1?_[A+1]:null;if(k>0&&void 0===qe)break;if(qe&&Mt&&"object"==typeof Mt&&void 0===Mt.outlets){if(!In(qe,Mt,Z))return Q;A+=2}else{if(!In(qe,{},Z))return Q;A++}k++}return{match:!0,pathIndex:k,commandIndex:A}}(p,I,_),k=_.slice(A.commandIndex);if(A.match&&A.pathIndex<p.segments.length){const Q=new ir(p.segments.slice(0,A.pathIndex),{});return Q.children[Dn]=new ir(p.segments.slice(A.pathIndex),p.children),ve(Q,0,k)}return A.match&&0===k.length?new ir(p.segments,{}):A.match&&!p.hasChildren()?Ze(p,I,_):A.match?ve(p,0,k):Ze(p,I,_)}function ve(p,I,_){if(0===_.length)return new ir(p.segments,{});{const A=function wi(p){return Et(p[0])?p[0].outlets:{[Dn]:p}}(_),k={};if(Object.keys(A).some(Q=>Q!==Dn)&&p.children[Dn]&&1===p.numberOfChildren&&0===p.children[Dn].segments.length){const Q=ve(p.children[Dn],I,_);return new ir(p.segments,Q.children)}return Object.entries(A).forEach(([Q,Z])=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&(k[Q]=Si(p.children[Q],I,Z))}),Object.entries(p.children).forEach(([Q,Z])=>{void 0===A[Q]&&(k[Q]=Z)}),new ir(p.segments,k)}}function Ze(p,I,_){const A=p.segments.slice(0,I);let k=0;for(;k<_.length;){const Q=_[k];if(Et(Q)){const qe=jt(Q.outlets);return new ir(A,qe)}if(0===k&&Pt(_[0])){A.push(new gi(p.segments[I].path,Gt(_[0]))),k++;continue}const Z=Et(Q)?Q.outlets[Dn]:`${Q}`,Oe=k<_.length-1?_[k+1]:null;Z&&Oe&&Pt(Oe)?(A.push(new gi(Z,Gt(Oe))),k+=2):(A.push(new gi(Z,{})),k++)}return new ir(A,{})}function jt(p){const I={};return Object.entries(p).forEach(([_,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(I[_]=Ze(new ir([],{}),0,A))}),I}function Gt(p){const I={};return Object.entries(p).forEach(([_,A])=>I[_]=`${A}`),I}function In(p,I,_){return p==_.path&&cn(I,_.parameters)}const On="imperative";var An=function(p){return p[p.NavigationStart=0]="NavigationStart",p[p.NavigationEnd=1]="NavigationEnd",p[p.NavigationCancel=2]="NavigationCancel",p[p.NavigationError=3]="NavigationError",p[p.RoutesRecognized=4]="RoutesRecognized",p[p.ResolveStart=5]="ResolveStart",p[p.ResolveEnd=6]="ResolveEnd",p[p.GuardsCheckStart=7]="GuardsCheckStart",p[p.GuardsCheckEnd=8]="GuardsCheckEnd",p[p.RouteConfigLoadStart=9]="RouteConfigLoadStart",p[p.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",p[p.ChildActivationStart=11]="ChildActivationStart",p[p.ChildActivationEnd=12]="ChildActivationEnd",p[p.ActivationStart=13]="ActivationStart",p[p.ActivationEnd=14]="ActivationEnd",p[p.Scroll=15]="Scroll",p[p.NavigationSkipped=16]="NavigationSkipped",p}(An||{});class tr{id;url;constructor(I,_){this.id=I,this.url=_}}class Hr extends tr{type=An.NavigationStart;navigationTrigger;restoredState;constructor(I,_,A="imperative",k=null){super(I,_),this.navigationTrigger=A,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ro extends tr{urlAfterRedirects;type=An.NavigationEnd;constructor(I,_,A){super(I,_),this.urlAfterRedirects=A}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Cr=function(p){return p[p.Redirect=0]="Redirect",p[p.SupersededByNewNavigation=1]="SupersededByNewNavigation",p[p.NoDataFromResolver=2]="NoDataFromResolver",p[p.GuardRejected=3]="GuardRejected",p}(Cr||{}),ao=function(p){return p[p.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",p[p.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",p}(ao||{});class Hi extends tr{reason;code;type=An.NavigationCancel;constructor(I,_,A,k){super(I,_),this.reason=A,this.code=k}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bo extends tr{reason;code;type=An.NavigationSkipped;constructor(I,_,A,k){super(I,_),this.reason=A,this.code=k}}class io extends tr{error;target;type=An.NavigationError;constructor(I,_,A,k){super(I,_),this.error=A,this.target=k}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class j extends tr{urlAfterRedirects;state;type=An.RoutesRecognized;constructor(I,_,A,k){super(I,_),this.urlAfterRedirects=A,this.state=k}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ge extends tr{urlAfterRedirects;state;type=An.GuardsCheckStart;constructor(I,_,A,k){super(I,_),this.urlAfterRedirects=A,this.state=k}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X extends tr{urlAfterRedirects;state;shouldActivate;type=An.GuardsCheckEnd;constructor(I,_,A,k,Q){super(I,_),this.urlAfterRedirects=A,this.state=k,this.shouldActivate=Q}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class re extends tr{urlAfterRedirects;state;type=An.ResolveStart;constructor(I,_,A,k){super(I,_),this.urlAfterRedirects=A,this.state=k}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me extends tr{urlAfterRedirects;state;type=An.ResolveEnd;constructor(I,_,A,k){super(I,_),this.urlAfterRedirects=A,this.state=k}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class At{route;type=An.RouteConfigLoadStart;constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class un{route;type=An.RouteConfigLoadEnd;constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xn{snapshot;type=An.ChildActivationStart;constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oi{snapshot;type=An.ChildActivationEnd;constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kr{snapshot;type=An.ActivationStart;constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qr{snapshot;type=An.ActivationEnd;constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gr{routerEvent;position;anchor;type=An.Scroll;constructor(I,_,A){this.routerEvent=I,this.position=_,this.anchor=A}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fn{}class mr{url;navigationBehaviorOptions;constructor(I,_){this.url=I,this.navigationBehaviorOptions=_}}function zi(p){switch(p.type){case An.ActivationEnd:return`ActivationEnd(path: '${p.snapshot.routeConfig?.path||""}')`;case An.ActivationStart:return`ActivationStart(path: '${p.snapshot.routeConfig?.path||""}')`;case An.ChildActivationEnd:return`ChildActivationEnd(path: '${p.snapshot.routeConfig?.path||""}')`;case An.ChildActivationStart:return`ChildActivationStart(path: '${p.snapshot.routeConfig?.path||""}')`;case An.GuardsCheckEnd:return`GuardsCheckEnd(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state}, shouldActivate: ${p.shouldActivate})`;case An.GuardsCheckStart:return`GuardsCheckStart(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state})`;case An.NavigationCancel:return`NavigationCancel(id: ${p.id}, url: '${p.url}')`;case An.NavigationSkipped:return`NavigationSkipped(id: ${p.id}, url: '${p.url}')`;case An.NavigationEnd:return`NavigationEnd(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}')`;case An.NavigationError:return`NavigationError(id: ${p.id}, url: '${p.url}', error: ${p.error})`;case An.NavigationStart:return`NavigationStart(id: ${p.id}, url: '${p.url}')`;case An.ResolveEnd:return`ResolveEnd(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state})`;case An.ResolveStart:return`ResolveStart(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state})`;case An.RouteConfigLoadEnd:return`RouteConfigLoadEnd(path: ${p.route.path})`;case An.RouteConfigLoadStart:return`RouteConfigLoadStart(path: ${p.route.path})`;case An.RoutesRecognized:return`RoutesRecognized(id: ${p.id}, url: '${p.url}', urlAfterRedirects: '${p.urlAfterRedirects}', state: ${p.state})`;case An.Scroll:return`Scroll(anchor: '${p.anchor}', position: '${p.position?`${p.position[0]}, ${p.position[1]}`:null}')`}}function Ne(p){return p.outlet||Dn}function tn(p){if(!p)return null;if(p.routeConfig?._injector)return p.routeConfig._injector;for(let I=p.parent;I;I=I.parent){const _=I.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class vn{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return tn(this.route?.snapshot)??this.rootInjector}constructor(I){this.rootInjector=I,this.children=new Bn(this.rootInjector)}}let Bn=(()=>{class p{rootInjector;contexts=new Map;constructor(_){this.rootInjector=_}onChildOutletCreated(_,A){const k=this.getOrCreateContext(_);k.outlet=A,this.contexts.set(_,k)}onChildOutletDestroyed(_){const A=this.getContext(_);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let A=this.getContext(_);return A||(A=new vn(this.rootInjector),this.contexts.set(_,A)),A}getContext(_){return this.contexts.get(_)||null}static \u0275fac=function(A){return new(A||p)(Y.KVO(Y.uvJ))};static \u0275prov=Y.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();class Yi{_root;constructor(I){this._root=I}get root(){return this._root.value}parent(I){const _=this.pathFromRoot(I);return _.length>1?_[_.length-2]:null}children(I){const _=po(I,this._root);return _?_.children.map(A=>A.value):[]}firstChild(I){const _=po(I,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(I){const _=ks(I,this._root);return _.length<2?[]:_[_.length-2].children.map(k=>k.value).filter(k=>k!==I)}pathFromRoot(I){return ks(I,this._root).map(_=>_.value)}}function po(p,I){if(p===I.value)return I;for(const _ of I.children){const A=po(p,_);if(A)return A}return null}function ks(p,I){if(p===I.value)return[I];for(const _ of I.children){const A=ks(p,_);if(A.length)return A.unshift(I),A}return[]}class Yr{value;children;constructor(I,_){this.value=I,this.children=_}toString(){return`TreeNode(${this.value})`}}function os(p){const I={};return p&&p.children.forEach(_=>I[_.value.outlet]=_),I}class En extends Yi{snapshot;constructor(I,_){super(I),this.snapshot=_,as(this,I)}toString(){return this.snapshot.toString()}}function ss(p){const I=function To(p){const Q=new Mo([],{},{},"",{},Dn,p,null,{});return new Is("",new Yr(Q,[]))}(p),_=new We.t([new gi("",{})]),A=new We.t({}),k=new We.t({}),Q=new We.t({}),Z=new We.t(""),Oe=new Po(_,A,Q,Z,k,Dn,p,I.root);return Oe.snapshot=I.root,new En(new Yr(Oe,[]),I)}class Po{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(I,_,A,k,Q,Z,Oe,qe){this.urlSubject=I,this.paramsSubject=_,this.queryParamsSubject=A,this.fragmentSubject=k,this.dataSubject=Q,this.outlet=Z,this.component=Oe,this._futureSnapshot=qe,this.title=this.dataSubject?.pipe((0,Je.T)(Mt=>Mt[Mr]))??(0,be.of)(void 0),this.url=I,this.params=_,this.queryParams=A,this.fragment=k,this.data=Q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Je.T)(I=>Ci(I))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Je.T)(I=>Ci(I))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zo(p,I,_="emptyOnly"){let A;const{routeConfig:k}=p;return A=null===I||"always"!==_&&""!==k?.path&&(I.component||I.routeConfig?.loadComponent)?{params:{...p.params},data:{...p.data},resolve:{...p.data,...p._resolvedData??{}}}:{params:{...I.params,...p.params},data:{...I.data,...p.data},resolve:{...p.data,...I.data,...k?.data,...p._resolvedData}},k&&Go(k)&&(A.resolve[Mr]=k.title),A}class Mo{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Mr]}constructor(I,_,A,k,Q,Z,Oe,qe,Mt){this.url=I,this.params=_,this.queryParams=A,this.fragment=k,this.data=Q,this.outlet=Z,this.component=Oe,this.routeConfig=qe,this._resolve=Mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ci(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ci(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Is extends Yi{url;constructor(I,_){super(_),this.url=I,as(this,_)}toString(){return xr(this._root)}}function as(p,I){I.value._routerState=p,I.children.forEach(_=>as(p,_))}function xr(p){const I=p.children.length>0?` { ${p.children.map(xr).join(", ")} } `:"";return`${p.value}${I}`}function Wo(p){if(p.snapshot){const I=p.snapshot,_=p._futureSnapshot;p.snapshot=_,cn(I.queryParams,_.queryParams)||p.queryParamsSubject.next(_.queryParams),I.fragment!==_.fragment&&p.fragmentSubject.next(_.fragment),cn(I.params,_.params)||p.paramsSubject.next(_.params),function dr(p,I){if(p.length!==I.length)return!1;for(let _=0;_<p.length;++_)if(!cn(p[_],I[_]))return!1;return!0}(I.url,_.url)||p.urlSubject.next(_.url),cn(I.data,_.data)||p.dataSubject.next(_.data)}else p.snapshot=p._futureSnapshot,p.dataSubject.next(p._futureSnapshot.data)}function go(p,I){const _=cn(p.params,I.params)&&function lr(p,I){return Cn(p,I)&&p.every((_,A)=>cn(_.parameters,I[A].parameters))}(p.url,I.url);return _&&!(!p.parent!=!I.parent)&&(!p.parent||go(p.parent,I.parent))}function Go(p){return"string"==typeof p.title||null===p.title}const Ts=new Y.nKC("");let Wr=(()=>{class p{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Dn;activateEvents=new Y.bkB;deactivateEvents=new Y.bkB;attachEvents=new Y.bkB;detachEvents=new Y.bkB;routerOutletData=(0,Y.hFB)(void 0);parentContexts=(0,Y.WQX)(Bn);location=(0,Y.WQX)(Y.c1b);changeDetector=(0,Y.WQX)(Y.gRc);inputBinder=(0,Y.WQX)(Qr,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(_){if(_.name){const{firstChange:A,previousValue:k}=_.name;if(A)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(_){return this.parentContexts.getContext(_)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const _=this.parentContexts.getContext(this.name);_?.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y.wOt(4012,!1);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,A){this.activated=_,this._activatedRoute=A,this.location.insert(_.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,A){if(this.isActivated)throw new Y.wOt(4013,!1);this._activatedRoute=_;const k=this.location,Z=_.snapshot.component,Oe=this.parentContexts.getOrCreateContext(this.name).children,qe=new co(_,Oe,k.injector,this.routerOutletData);this.activated=k.createComponent(Z,{index:k.length,injector:qe,environmentInjector:A}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(A){return new(A||p)};static \u0275dir=Y.FsC({type:p,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Y.OA$]})}return p})();class co{route;childContexts;parent;outletData;constructor(I,_,A,k){this.route=I,this.childContexts=_,this.parent=A,this.outletData=k}get(I,_){return I===Po?this.route:I===Bn?this.childContexts:I===Ts?this.outletData:this.parent.get(I,_)}}const Qr=new Y.nKC("");let Xr=(()=>{class p{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){this.outletDataSubscriptions.get(_)?.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:A}=_,k=Bt([A.queryParams,A.params,A.data]).pipe((0,rn.n)(([Q,Z,Oe],qe)=>(Oe={...Q,...Z,...Oe},0===qe?(0,be.of)(Oe):Promise.resolve(Oe)))).subscribe(Q=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==A||null===A.component)return void this.unsubscribeFromRouteData(_);const Z=(0,Y.HJs)(A.component);if(Z)for(const{templateName:Oe}of Z.inputs)_.activatedComponentRef.setInput(Oe,Q[Oe]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,k)}static \u0275fac=function(A){return new(A||p)};static \u0275prov=Y.jDH({token:p,factory:p.\u0275fac})}return p})(),bs=(()=>{class p{static \u0275fac=function(A){return new(A||p)};static \u0275cmp=Y.VBU({type:p,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(A,k){1&A&&Y.nrm(0,"router-outlet")},dependencies:[Wr],encapsulation:2})}return p})();function No(p){const I=p.children&&p.children.map(No),_=I?{...p,children:I}:{...p};return!_.component&&!_.loadComponent&&(I||_.loadChildren)&&_.outlet&&_.outlet!==Dn&&(_.component=bs),_}function ls(p,I,_){if(_&&p.shouldReuseRoute(I.value,_.value.snapshot)){const A=_.value;A._futureSnapshot=I.value;const k=function bo(p,I,_){return I.children.map(A=>{for(const k of _.children)if(p.shouldReuseRoute(A.value,k.value.snapshot))return ls(p,A,k);return ls(p,A)})}(p,I,_);return new Yr(A,k)}{if(p.shouldAttach(I.value)){const Q=p.retrieve(I.value);if(null!==Q){const Z=Q.route;return Z.value._futureSnapshot=I.value,Z.children=I.children.map(Oe=>ls(p,Oe)),Z}}const A=function Ui(p){return new Po(new We.t(p.url),new We.t(p.params),new We.t(p.queryParams),new We.t(p.fragment),new We.t(p.data),p.outlet,p.component,p)}(I.value),k=I.children.map(Q=>ls(p,Q));return new Yr(A,k)}}class $s{redirectTo;navigationBehaviorOptions;constructor(I,_){this.redirectTo=I,this.navigationBehaviorOptions=_}}const xo="ngNavigationCancelingError";function Or(p,I){const{redirectTo:_,navigationBehaviorOptions:A}=Dt(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,k=yr(!1,Cr.Redirect);return k.url=_,k.navigationBehaviorOptions=A,k}function yr(p,I){const _=new Error(`NavigationCancelingError: ${p||""}`);return _[xo]=!0,_.cancellationCode=I,_}function ra(p){return!!p&&p[xo]}class jo{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(I,_,A,k,Q){this.routeReuseStrategy=I,this.futureState=_,this.currState=A,this.forwardEvent=k,this.inputBindingEnabled=Q}activate(I){const _=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,A,I),Wo(this.futureState.root),this.activateChildRoutes(_,A,I)}deactivateChildRoutes(I,_,A){const k=os(_);I.children.forEach(Q=>{const Z=Q.value.outlet;this.deactivateRoutes(Q,k[Z],A),delete k[Z]}),Object.values(k).forEach(Q=>{this.deactivateRouteAndItsChildren(Q,A)})}deactivateRoutes(I,_,A){const k=I.value,Q=_?_.value:null;if(k===Q)if(k.component){const Z=A.getContext(k.outlet);Z&&this.deactivateChildRoutes(I,_,Z.children)}else this.deactivateChildRoutes(I,_,A);else Q&&this.deactivateRouteAndItsChildren(_,A)}deactivateRouteAndItsChildren(I,_){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,_):this.deactivateRouteAndOutlet(I,_)}detachAndStoreRouteSubtree(I,_){const A=_.getContext(I.value.outlet),k=A&&I.value.component?A.children:_,Q=os(I);for(const Z of Object.values(Q))this.deactivateRouteAndItsChildren(Z,k);if(A&&A.outlet){const Z=A.outlet.detach(),Oe=A.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:Z,route:I,contexts:Oe})}}deactivateRouteAndOutlet(I,_){const A=_.getContext(I.value.outlet),k=A&&I.value.component?A.children:_,Q=os(I);for(const Z of Object.values(Q))this.deactivateRouteAndItsChildren(Z,k);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(I,_,A){const k=os(_);I.children.forEach(Q=>{this.activateRoutes(Q,k[Q.value.outlet],A),this.forwardEvent(new qr(Q.value.snapshot))}),I.children.length&&this.forwardEvent(new oi(I.value.snapshot))}activateRoutes(I,_,A){const k=I.value,Q=_?_.value:null;if(Wo(k),k===Q)if(k.component){const Z=A.getOrCreateContext(k.outlet);this.activateChildRoutes(I,_,Z.children)}else this.activateChildRoutes(I,_,A);else if(k.component){const Z=A.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const Oe=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),Z.children.onOutletReAttached(Oe.contexts),Z.attachRef=Oe.componentRef,Z.route=Oe.route.value,Z.outlet&&Z.outlet.attach(Oe.componentRef,Oe.route.value),Wo(Oe.route.value),this.activateChildRoutes(I,null,Z.children)}else Z.attachRef=null,Z.route=k,Z.outlet&&Z.outlet.activateWith(k,Z.injector),this.activateChildRoutes(I,null,Z.children)}else this.activateChildRoutes(I,null,A)}}class _r{path;route;constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class q{component;route;constructor(I,_){this.component=I,this.route=_}}function K(p,I,_){const A=p._root;return ot(A,I?I._root:null,_,[A.value])}function Pe(p,I){const _=Symbol(),A=I.get(p,_);return A===_?"function"!=typeof p||(0,Y.LfX)(p)?I.get(p):p:A}function ot(p,I,_,A,k={canDeactivateChecks:[],canActivateChecks:[]}){const Q=os(I);return p.children.forEach(Z=>{(function xt(p,I,_,A,k={canDeactivateChecks:[],canActivateChecks:[]}){const Q=p.value,Z=I?I.value:null,Oe=_?_.getContext(p.value.outlet):null;if(Z&&Q.routeConfig===Z.routeConfig){const qe=function Qt(p,I,_){if("function"==typeof _)return _(p,I);switch(_){case"pathParamsChange":return!Cn(p.url,I.url);case"pathParamsOrQueryParamsChange":return!Cn(p.url,I.url)||!cn(p.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!go(p,I)||!cn(p.queryParams,I.queryParams);default:return!go(p,I)}}(Z,Q,Q.routeConfig.runGuardsAndResolvers);qe?k.canActivateChecks.push(new _r(A)):(Q.data=Z.data,Q._resolvedData=Z._resolvedData),ot(p,I,Q.component?Oe?Oe.children:null:_,A,k),qe&&Oe&&Oe.outlet&&Oe.outlet.isActivated&&k.canDeactivateChecks.push(new q(Oe.outlet.component,Z))}else Z&&Tn(I,Oe,k),k.canActivateChecks.push(new _r(A)),ot(p,null,Q.component?Oe?Oe.children:null:_,A,k)})(Z,Q[Z.value.outlet],_,A.concat([Z.value]),k),delete Q[Z.value.outlet]}),Object.entries(Q).forEach(([Z,Oe])=>Tn(Oe,_.getContext(Z),k)),k}function Tn(p,I,_){const A=os(p),k=p.value;Object.entries(A).forEach(([Q,Z])=>{Tn(Z,k.component?I?I.children.getContext(Q):null:I,_)}),_.canDeactivateChecks.push(new q(k.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,k))}function pn(p){return"function"==typeof p}function Ri(p){return p instanceof wt.G||"EmptyError"===p?.name}const Jr=Symbol("INITIAL_VALUE");function ki(){return(0,rn.n)(p=>Bt(p.map(I=>I.pipe(kt(1),function Ke(...p){const I=(0,Qe.lI)(p);return(0,Mn.N)((_,A)=>{(I?it(p,_,I):it(p,_)).subscribe(A)})}(Jr)))).pipe((0,Je.T)(I=>{for(const _ of I)if(!0!==_){if(_===Jr)return Jr;if(!1===_||uo(_))return _}return!0}),(0,te.p)(I=>I!==Jr),kt(1)))}function uo(p){return Dt(p)||p instanceof $s}function Hs(p){return(0,qt.F)(_t(I=>{if("boolean"!=typeof I)throw Or(0,I)}),(0,Je.T)(I=>!0===I))}class Fa{segmentGroup;constructor(I){this.segmentGroup=I||null}}class fa extends Error{urlTree;constructor(I){super(),this.urlTree=I}}function zs(p){return Tt(new Fa(p))}class ui{urlSerializer;urlTree;constructor(I,_){this.urlSerializer=I,this.urlTree=_}lineralizeSegments(I,_){let A=[],k=_.root;for(;;){if(A=A.concat(k.segments),0===k.numberOfChildren)return(0,be.of)(A);if(k.numberOfChildren>1||!k.children[Dn])return Tt(new Y.wOt(4e3,!1));k=k.children[Dn]}}applyRedirectCommands(I,_,A,k,Q){if("string"!=typeof _){const Oe=_,{queryParams:qe,fragment:Mt,routeConfig:gn,url:ur,outlet:ti,params:qi,data:di,title:Di}=k,Fo=(0,Y.N4e)(Q,()=>Oe({params:qi,data:di,queryParams:qe,fragment:Mt,routeConfig:gn,url:ur,outlet:ti,title:Di}));if(Fo instanceof cr)throw new fa(Fo);_=Fo}const Z=this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),I,A);if("/"===_[0])throw new fa(Z);return Z}applyRedirectCreateUrlTree(I,_,A,k){const Q=this.createSegmentGroup(I,_.root,A,k);return new cr(Q,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(I,_){const A={};return Object.entries(I).forEach(([k,Q])=>{if("string"==typeof Q&&":"===Q[0]){const Oe=Q.substring(1);A[k]=_[Oe]}else A[k]=Q}),A}createSegmentGroup(I,_,A,k){const Q=this.createSegments(I,_.segments,A,k);let Z={};return Object.entries(_.children).forEach(([Oe,qe])=>{Z[Oe]=this.createSegmentGroup(I,qe,A,k)}),new ir(Q,Z)}createSegments(I,_,A,k){return _.map(Q=>":"===Q.path[0]?this.findPosParam(I,Q,k):this.findOrReturn(Q,A))}findPosParam(I,_,A){const k=A[_.path.substring(1)];if(!k)throw new Y.wOt(4001,!1);return k}findOrReturn(I,_){let A=0;for(const k of _){if(k.path===I.path)return _.splice(A),k;A++}return I}}const Oo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fs(p,I,_,A,k){const Q=Ws(p,I,_);return Q.matched?(A=function mi(p,I){return p.providers&&!p._injector&&(p._injector=(0,Y.Ol2)(p.providers,I,`Route: ${p.path}`)),p._injector??I}(I,A),function hs(p,I,_,A){const k=I.canMatch;if(!k||0===k.length)return(0,be.of)(!0);const Q=k.map(Z=>{const Oe=Pe(Z,p);return Er(function Bi(p){return p&&pn(p.canMatch)}(Oe)?Oe.canMatch(I,_):(0,Y.N4e)(p,()=>Oe(I,_)))});return(0,be.of)(Q).pipe(ki(),Hs())}(A,I,_).pipe((0,Je.T)(Z=>!0===Z?Q:{...Oo}))):(0,be.of)(Q)}function Ws(p,I,_){if("**"===I.path)return function Gs(p){return{matched:!0,parameters:p.length>0?ht(p).parameters:{},consumedSegments:p,remainingSegments:[],positionalParamSegments:{}}}(_);if(""===I.path)return"full"===I.pathMatch&&(p.hasChildren()||_.length>0)?{...Oo}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const k=(I.matcher||fn)(_,p,I);if(!k)return{...Oo};const Q={};Object.entries(k.posParams??{}).forEach(([Oe,qe])=>{Q[Oe]=qe.path});const Z=k.consumed.length>0?{...Q,...k.consumed[k.consumed.length-1].parameters}:Q;return{matched:!0,consumedSegments:k.consumed,remainingSegments:_.slice(k.consumed.length),parameters:Z,positionalParamSegments:k.posParams??{}}}function bi(p,I,_,A){return _.length>0&&function Vr(p,I,_){return _.some(A=>Ks(p,I,A)&&Ne(A)!==Dn)}(p,_,A)?{segmentGroup:new ir(I,zr(A,new ir(_,p.children))),slicedSegments:[]}:0===_.length&&function Aa(p,I,_){return _.some(A=>Ks(p,I,A))}(p,_,A)?{segmentGroup:new ir(p.segments,pa(p,_,A,p.children)),slicedSegments:_}:{segmentGroup:new ir(p.segments,p.children),slicedSegments:_}}function pa(p,I,_,A){const k={};for(const Q of _)if(Ks(p,I,Q)&&!A[Ne(Q)]){const Z=new ir([],{});k[Ne(Q)]=Z}return{...A,...k}}function zr(p,I){const _={};_[Dn]=I;for(const A of p)if(""===A.path&&Ne(A)!==Dn){const k=new ir([],{});_[Ne(A)]=k}return _}function Ks(p,I,_){return(!(p.hasChildren()||I.length>0)||"full"!==_.pathMatch)&&""===_.path}class Ca{}class Va{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(I,_,A,k,Q,Z,Oe){this.injector=I,this.configLoader=_,this.rootComponentType=A,this.config=k,this.urlTree=Q,this.paramsInheritanceStrategy=Z,this.urlSerializer=Oe,this.applyRedirects=new ui(this.urlSerializer,this.urlTree)}noMatchError(I){return new Y.wOt(4002,`'${I.segmentGroup}'`)}recognize(){const I=bi(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(I).pipe((0,Je.T)(({children:_,rootSnapshot:A})=>{const k=new Yr(A,_),Q=new Is("",k),Z=function ae(p,I,_=null,A=null){return Le(_e(p),I,_,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return Z.queryParams=this.urlTree.queryParams,Q.url=this.urlSerializer.serialize(Z),{state:Q,tree:Z}}))}match(I){const _=new Mo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Dn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,I,Dn,_).pipe((0,Je.T)(A=>({children:A,rootSnapshot:_})),(0,an.W)(A=>{if(A instanceof fa)return this.urlTree=A.urlTree,this.match(A.urlTree.root);throw A instanceof Fa?this.noMatchError(A):A}))}processSegmentGroup(I,_,A,k,Q){return 0===A.segments.length&&A.hasChildren()?this.processChildren(I,_,A,Q):this.processSegment(I,_,A,A.segments,k,!0,Q).pipe((0,Je.T)(Z=>Z instanceof Yr?[Z]:[]))}processChildren(I,_,A,k){const Q=[];for(const Z of Object.keys(A.children))"primary"===Z?Q.unshift(Z):Q.push(Z);return(0,we.H)(Q).pipe((0,Xe.H)(Z=>{const Oe=A.children[Z],qe=function gt(p,I){const _=p.filter(A=>Ne(A)===I);return _.push(...p.filter(A=>Ne(A)!==I)),_}(_,Z);return this.processSegmentGroup(I,qe,Oe,Z,k)}),function Jn(p,I){return(0,Mn.N)(function en(p,I,_,A,k){return(Q,Z)=>{let Oe=_,qe=I,Mt=0;Q.subscribe((0,Rt._)(Z,gn=>{const ur=Mt++;qe=Oe?p(qe,gn,ur):(Oe=!0,gn),A&&Z.next(qe)},k&&(()=>{Oe&&Z.next(qe),Z.complete()})))}}(p,I,arguments.length>=2,!0))}((Z,Oe)=>(Z.push(...Oe),Z)),fe(null),function Qn(p,I){const _=arguments.length>=2;return A=>A.pipe(p?(0,te.p)((k,Q)=>p(k,Q,A)):Ie.D,Kt(1),_?fe(I):me(()=>new wt.G))}(),(0,he.Z)(Z=>{if(null===Z)return zs(A);const Oe=nn(Z);return function qo(p){p.sort((I,_)=>I.value.outlet===Dn?-1:_.value.outlet===Dn?1:I.value.outlet.localeCompare(_.value.outlet))}(Oe),(0,be.of)(Oe)}))}processSegment(I,_,A,k,Q,Z,Oe){return(0,we.H)(_).pipe((0,Xe.H)(qe=>this.processSegmentAgainstRoute(qe._injector??I,_,qe,A,k,Q,Z,Oe).pipe((0,an.W)(Mt=>{if(Mt instanceof Fa)return(0,be.of)(null);throw Mt}))),pe(qe=>!!qe),(0,an.W)(qe=>{if(Ri(qe))return function qa(p,I,_){return 0===I.length&&!p.children[_]}(A,k,Q)?(0,be.of)(new Ca):zs(A);throw qe}))}processSegmentAgainstRoute(I,_,A,k,Q,Z,Oe,qe){return Ne(A)===Z||Z!==Dn&&Ks(k,Q,A)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(I,k,A,Q,Z,qe):this.allowRedirects&&Oe?this.expandSegmentAgainstRouteUsingRedirect(I,k,_,A,Q,Z,qe):zs(k):zs(k)}expandSegmentAgainstRouteUsingRedirect(I,_,A,k,Q,Z,Oe){const{matched:qe,parameters:Mt,consumedSegments:gn,positionalParamSegments:ur,remainingSegments:ti}=Ws(_,k,Q);if(!qe)return zs(_);"string"==typeof k.redirectTo&&"/"===k.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const qi=new Mo(Q,Mt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,li(k),Ne(k),k.component??k._loadedComponent??null,k,$o(k)),di=Zo(qi,Oe,this.paramsInheritanceStrategy);qi.params=Object.freeze(di.params),qi.data=Object.freeze(di.data);const Di=this.applyRedirects.applyRedirectCommands(gn,k.redirectTo,ur,qi,I);return this.applyRedirects.lineralizeSegments(k,Di).pipe((0,he.Z)(Fo=>this.processSegment(I,A,_,Fo.concat(ti),Z,!1,Oe)))}matchSegmentAgainstRoute(I,_,A,k,Q,Z){const Oe=Fs(_,A,k,I);return"**"===A.path&&(_.children={}),Oe.pipe((0,rn.n)(qe=>qe.matched?this.getChildConfig(I=A._injector??I,A,k).pipe((0,rn.n)(({routes:Mt})=>{const gn=A._loadedInjector??I,{parameters:ur,consumedSegments:ti,remainingSegments:qi}=qe,di=new Mo(ti,ur,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,li(A),Ne(A),A.component??A._loadedComponent??null,A,$o(A)),Di=Zo(di,Z,this.paramsInheritanceStrategy);di.params=Object.freeze(Di.params),di.data=Object.freeze(Di.data);const{segmentGroup:Fo,slicedSegments:ms}=bi(_,ti,qi,Mt);if(0===ms.length&&Fo.hasChildren())return this.processChildren(gn,Mt,Fo,di).pipe((0,Je.T)(Xo=>new Yr(di,Xo)));if(0===Mt.length&&0===ms.length)return(0,be.of)(new Yr(di,[]));const yo=Ne(A)===Q;return this.processSegment(gn,Mt,Fo,ms,yo?Dn:Q,!0,di).pipe((0,Je.T)(Xo=>new Yr(di,Xo instanceof Yr?[Xo]:[])))})):zs(_)))}getChildConfig(I,_,A){return _.children?(0,be.of)({routes:_.children,injector:I}):_.loadChildren?void 0!==_._loadedRoutes?(0,be.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Da(p,I,_,A){const k=I.canLoad;if(void 0===k||0===k.length)return(0,be.of)(!0);const Q=k.map(Z=>{const Oe=Pe(Z,p);return Er(function Xn(p){return p&&pn(p.canLoad)}(Oe)?Oe.canLoad(I,_):(0,Y.N4e)(p,()=>Oe(I,_)))});return(0,be.of)(Q).pipe(ki(),Hs())}(I,_,A).pipe((0,he.Z)(k=>k?this.configLoader.loadChildren(I,_).pipe(_t(Q=>{_._loadedRoutes=Q.routes,_._loadedInjector=Q.injector})):function Os(){return Tt(yr(!1,Cr.GuardRejected))}())):(0,be.of)({routes:[],injector:I})}}function Gr(p){const I=p.value.routeConfig;return I&&""===I.path}function nn(p){const I=[],_=new Set;for(const A of p){if(!Gr(A)){I.push(A);continue}const k=I.find(Q=>A.value.routeConfig===Q.value.routeConfig);void 0!==k?(k.children.push(...A.children),_.add(k)):I.push(A)}for(const A of _){const k=nn(A.children);I.push(new Yr(A.value,k))}return I.filter(A=>!_.has(A))}function li(p){return p.data||{}}function $o(p){return p.resolve||{}}function fs(p){const I=p.children.map(_=>fs(_)).flat();return[p,...I]}function H(p){return(0,rn.n)(I=>{const _=p(I);return _?(0,we.H)(_).pipe((0,Je.T)(()=>I)):(0,be.of)(I)})}let Ce=(()=>{class p{buildTitle(_){let A,k=_.root;for(;void 0!==k;)A=this.getResolvedTitleForRoute(k)??A,k=k.children.find(Q=>Q.outlet===Dn);return A}getResolvedTitleForRoute(_){return _.data[Mr]}static \u0275fac=function(A){return new(A||p)};static \u0275prov=Y.jDH({token:p,factory:()=>(0,Y.WQX)(Ft),providedIn:"root"})}return p})(),Ft=(()=>{class p extends Ce{title;constructor(_){super(),this.title=_}updateTitle(_){const A=this.buildTitle(_);void 0!==A&&this.title.setTitle(A)}static \u0275fac=function(A){return new(A||p)(Y.KVO(er.hE))};static \u0275prov=Y.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const Sn=new Y.nKC("",{providedIn:"root",factory:()=>({})}),sr=new Y.nKC("");let ji=(()=>{class p{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,Y.WQX)(Y.Ql9);loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,be.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const A=Er(_.loadComponent()).pipe((0,Je.T)(qs),_t(Q=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=Q}),(0,Hn.j)(()=>{this.componentLoaders.delete(_)})),k=new pt(A,()=>new wn.B).pipe(Kn());return this.componentLoaders.set(_,k),k}loadChildren(_,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,be.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const Q=function Gi(p,I,_,A){return Er(p.loadChildren()).pipe((0,Je.T)(qs),(0,he.Z)(k=>k instanceof Y.Co$||Array.isArray(k)?(0,be.of)(k):(0,we.H)(I.compileModuleAsync(k))),(0,Je.T)(k=>{A&&A(p);let Q,Z,Oe=!1;return Array.isArray(k)?(Z=k,!0):(Q=k.create(_).injector,Z=Q.get(sr,[],{optional:!0,self:!0}).flat()),{routes:Z.map(No),injector:Q}}))}(A,this.compiler,_,this.onLoadEndListener).pipe((0,Hn.j)(()=>{this.childrenLoaders.delete(A)})),Z=new pt(Q,()=>new wn.B).pipe(Kn());return this.childrenLoaders.set(A,Z),Z}static \u0275fac=function(A){return new(A||p)};static \u0275prov=Y.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function qs(p){return function Ao(p){return p&&"object"==typeof p&&"default"in p}(p)?p.default:p}let Sa=(()=>{class p{static \u0275fac=function(A){return new(A||p)};static \u0275prov=Y.jDH({token:p,factory:()=>(0,Y.WQX)(cs),providedIn:"root"})}return p})(),cs=(()=>{class p{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,A){return _}static \u0275fac=function(A){return new(A||p)};static \u0275prov=Y.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();const Co=new Y.nKC(""),ps=new Y.nKC("");function Yo(p,I,_){const A=p.get(ps),k=p.get(T.q);return p.get(Y.SKi).runOutsideAngular(()=>{if(!k.startViewTransition||A.skipNextTransition)return A.skipNextTransition=!1,new Promise(Mt=>setTimeout(Mt));let Q;const Z=new Promise(Mt=>{Q=Mt}),Oe=k.startViewTransition(()=>(Q(),function ia(p){return new Promise(I=>{(0,Y.mal)({read:()=>setTimeout(I)},{injector:p})})}(p))),{onViewTransitionCreated:qe}=A;return qe&&(0,Y.N4e)(p,()=>qe({transition:Oe,from:I,to:_})),Z})}const Nn=new Y.nKC("");let Qs=(()=>{class p{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new wn.B;transitionAbortSubject=new wn.B;configLoader=(0,Y.WQX)(ji);environmentInjector=(0,Y.WQX)(Y.uvJ);destroyRef=(0,Y.WQX)(Y.abz);urlSerializer=(0,Y.WQX)(kr);rootContexts=(0,Y.WQX)(Bn);location=(0,Y.WQX)(O.aZ);inputBindingEnabled=null!==(0,Y.WQX)(Qr,{optional:!0});titleStrategy=(0,Y.WQX)(Ce);options=(0,Y.WQX)(Sn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,Y.WQX)(Sa);createViewTransition=(0,Y.WQX)(Co,{optional:!0});navigationErrorHandler=(0,Y.WQX)(Nn,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>(0,be.of)(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=k=>this.events.next(new un(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new At(k)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(_){const A=++this.navigationId;this.transitions?.next({..._,extractedUrl:this.urlHandlingStrategy.extract(_.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:A})}setupNavigations(_){return this.transitions=new We.t(null),this.transitions.pipe((0,te.p)(A=>null!==A),(0,rn.n)(A=>{let k=!1,Q=!1;return(0,be.of)(A).pipe((0,rn.n)(Z=>{if(this.navigationId>A.id)return this.cancelNavigationTransition(A,"",Cr.SupersededByNewNavigation),ct.w;this.currentTransition=A,this.currentNavigation={id:Z.id,initialUrl:Z.rawUrl,extractedUrl:Z.extractedUrl,targetBrowserUrl:"string"==typeof Z.extras.browserUrl?this.urlSerializer.parse(Z.extras.browserUrl):Z.extras.browserUrl,trigger:Z.source,extras:Z.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Oe=!_.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Oe&&"reload"!==(Z.extras.onSameUrlNavigation??_.onSameUrlNavigation)){const Mt="";return this.events.next(new Bo(Z.id,this.urlSerializer.serialize(Z.rawUrl),Mt,ao.IgnoredSameUrlNavigation)),Z.resolve(!1),ct.w}if(this.urlHandlingStrategy.shouldProcessUrl(Z.rawUrl))return(0,be.of)(Z).pipe((0,rn.n)(Mt=>(this.events.next(new Hr(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),Mt.source,Mt.restoredState)),Mt.id!==this.navigationId?ct.w:Promise.resolve(Mt))),function Wi(p,I,_,A,k,Q){return(0,he.Z)(Z=>function Qa(p,I,_,A,k,Q,Z="emptyOnly"){return new Va(p,I,_,A,k,Z,Q).recognize()}(p,I,_,A,Z.extractedUrl,k,Q).pipe((0,Je.T)(({state:Oe,tree:qe})=>({...Z,targetSnapshot:Oe,urlAfterRedirects:qe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,_.config,this.urlSerializer,this.paramsInheritanceStrategy),_t(Mt=>{A.targetSnapshot=Mt.targetSnapshot,A.urlAfterRedirects=Mt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Mt.urlAfterRedirects};const gn=new j(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot);this.events.next(gn)}));if(Oe&&this.urlHandlingStrategy.shouldProcessUrl(Z.currentRawUrl)){const{id:Mt,extractedUrl:gn,source:ur,restoredState:ti,extras:qi}=Z,di=new Hr(Mt,this.urlSerializer.serialize(gn),ur,ti);this.events.next(di);const Di=ss(this.rootComponentType).snapshot;return this.currentTransition=A={...Z,targetSnapshot:Di,urlAfterRedirects:gn,extras:{...qi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=gn,(0,be.of)(A)}{const Mt="";return this.events.next(new Bo(Z.id,this.urlSerializer.serialize(Z.extractedUrl),Mt,ao.IgnoredByUrlHandlingStrategy)),Z.resolve(!1),ct.w}}),_t(Z=>{const Oe=new ge(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot);this.events.next(Oe)}),(0,Je.T)(Z=>(this.currentTransition=A={...Z,guards:K(Z.targetSnapshot,Z.currentSnapshot,this.rootContexts)},A)),function _i(p,I){return(0,he.Z)(_=>{const{targetSnapshot:A,currentSnapshot:k,guards:{canActivateChecks:Q,canDeactivateChecks:Z}}=_;return 0===Z.length&&0===Q.length?(0,be.of)({..._,guardsResult:!0}):function Pi(p,I,_,A){return(0,we.H)(p).pipe((0,he.Z)(k=>function ha(p,I,_,A,k){const Q=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,be.of)(!0);const Z=Q.map(Oe=>{const qe=tn(I)??k,Mt=Pe(Oe,qe);return Er(function yi(p){return p&&pn(p.canDeactivate)}(Mt)?Mt.canDeactivate(p,I,_,A):(0,Y.N4e)(qe,()=>Mt(p,I,_,A))).pipe(pe())});return(0,be.of)(Z).pipe(ki())}(k.component,k.route,_,I,A)),pe(k=>!0!==k,!0))}(Z,A,k,p).pipe((0,he.Z)(Oe=>Oe&&function hr(p){return"boolean"==typeof p}(Oe)?function Do(p,I,_,A){return(0,we.H)(I).pipe((0,Xe.H)(k=>it(function mo(p,I){return null!==p&&I&&I(new xn(p)),(0,be.of)(!0)}(k.route.parent,A),function ei(p,I){return null!==p&&I&&I(new Kr(p)),(0,be.of)(!0)}(k.route,A),function ds(p,I,_){const A=I[I.length-1],Q=I.slice(0,I.length-1).reverse().map(Z=>function Ee(p){const I=p.routeConfig?p.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:p,guards:I}:null}(Z)).filter(Z=>null!==Z).map(Z=>It(()=>{const Oe=Z.guards.map(qe=>{const Mt=tn(Z.node)??_,gn=Pe(qe,Mt);return Er(function Ii(p){return p&&pn(p.canActivateChild)}(gn)?gn.canActivateChild(A,p):(0,Y.N4e)(Mt,()=>gn(A,p))).pipe(pe())});return(0,be.of)(Oe).pipe(ki())}));return(0,be.of)(Q).pipe(ki())}(p,k.path,_),function Ko(p,I,_){const A=I.routeConfig?I.routeConfig.canActivate:null;if(!A||0===A.length)return(0,be.of)(!0);const k=A.map(Q=>It(()=>{const Z=tn(I)??_,Oe=Pe(Q,Z);return Er(function Lr(p){return p&&pn(p.canActivate)}(Oe)?Oe.canActivate(I,p):(0,Y.N4e)(Z,()=>Oe(I,p))).pipe(pe())}));return(0,be.of)(k).pipe(ki())}(p,k.route,_))),pe(k=>!0!==k,!0))}(A,Q,p,I):(0,be.of)(Oe)),(0,Je.T)(Oe=>({..._,guardsResult:Oe})))})}(this.environmentInjector,Z=>this.events.next(Z)),_t(Z=>{if(A.guardsResult=Z.guardsResult,Z.guardsResult&&"boolean"!=typeof Z.guardsResult)throw Or(0,Z.guardsResult);const Oe=new X(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot,!!Z.guardsResult);this.events.next(Oe)}),(0,te.p)(Z=>!!Z.guardsResult||(this.cancelNavigationTransition(Z,"",Cr.GuardRejected),!1)),H(Z=>{if(0!==Z.guards.canActivateChecks.length)return(0,be.of)(Z).pipe(_t(Oe=>{const qe=new re(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),this.urlSerializer.serialize(Oe.urlAfterRedirects),Oe.targetSnapshot);this.events.next(qe)}),(0,rn.n)(Oe=>{let qe=!1;return(0,be.of)(Oe).pipe(function Qo(p,I){return(0,he.Z)(_=>{const{targetSnapshot:A,guards:{canActivateChecks:k}}=_;if(!k.length)return(0,be.of)(_);const Q=new Set(k.map(qe=>qe.route)),Z=new Set;for(const qe of Q)if(!Z.has(qe))for(const Mt of fs(qe))Z.add(Mt);let Oe=0;return(0,we.H)(Z).pipe((0,Xe.H)(qe=>Q.has(qe)?function Ur(p,I,_,A){const k=p.routeConfig,Q=p._resolve;return void 0!==k?.title&&!Go(k)&&(Q[Mr]=k.title),function R(p,I,_,A){const k=Qi(p);if(0===k.length)return(0,be.of)({});const Q={};return(0,we.H)(k).pipe((0,he.Z)(Z=>function M(p,I,_,A){const k=tn(I)??A,Q=Pe(p,k);return Er(Q.resolve?Q.resolve(I,_):(0,Y.N4e)(k,()=>Q(I,_)))}(p[Z],I,_,A).pipe(pe(),_t(Oe=>{if(Oe instanceof $s)throw Or(new Wn,Oe);Q[Z]=Oe}))),Kt(1),(0,Je.T)(()=>Q),(0,an.W)(Z=>Ri(Z)?ct.w:Tt(Z)))}(Q,p,I,A).pipe((0,Je.T)(Z=>(p._resolvedData=Z,p.data=Zo(p,p.parent,_).resolve,null)))}(qe,A,p,I):(qe.data=Zo(qe,qe.parent,p).resolve,(0,be.of)(void 0))),_t(()=>Oe++),Kt(1),(0,he.Z)(qe=>Oe===Z.size?(0,be.of)(_):ct.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),_t({next:()=>qe=!0,complete:()=>{qe||this.cancelNavigationTransition(Oe,"",Cr.NoDataFromResolver)}}))}),_t(Oe=>{const qe=new Me(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),this.urlSerializer.serialize(Oe.urlAfterRedirects),Oe.targetSnapshot);this.events.next(qe)}))}),H(Z=>{const Oe=qe=>{const Mt=[];qe.routeConfig?.loadComponent&&!qe.routeConfig._loadedComponent&&Mt.push(this.configLoader.loadComponent(qe.routeConfig).pipe(_t(gn=>{qe.component=gn}),(0,Je.T)(()=>{})));for(const gn of qe.children)Mt.push(...Oe(gn));return Mt};return Bt(Oe(Z.targetSnapshot.root)).pipe(fe(null),kt(1))}),H(()=>this.afterPreactivation()),(0,rn.n)(()=>{const{currentSnapshot:Z,targetSnapshot:Oe}=A,qe=this.createViewTransition?.(this.environmentInjector,Z.root,Oe.root);return qe?(0,we.H)(qe).pipe((0,Je.T)(()=>A)):(0,be.of)(A)}),(0,Je.T)(Z=>{const Oe=function ko(p,I,_){const A=ls(p,I._root,_?_._root:void 0);return new En(A,I)}(_.routeReuseStrategy,Z.targetSnapshot,Z.currentRouterState);return this.currentTransition=A={...Z,targetRouterState:Oe},this.currentNavigation.targetRouterState=Oe,A}),_t(()=>{this.events.next(new Fn)}),((p,I,_,A)=>(0,Je.T)(k=>(new jo(I,k.targetRouterState,k.currentRouterState,_,A).activate(p),k)))(this.rootContexts,_.routeReuseStrategy,Z=>this.events.next(Z),this.inputBindingEnabled),kt(1),_t({next:Z=>{k=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ro(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects))),this.titleStrategy?.updateTitle(Z.targetRouterState.snapshot),Z.resolve(!0)},complete:()=>{k=!0}}),function Ln(p){return(0,Mn.N)((I,_)=>{(0,Ye.Tg)(p).subscribe((0,Rt._)(_,()=>_.complete(),Zt.l)),!_.closed&&I.subscribe(_)})}(this.transitionAbortSubject.pipe(_t(Z=>{throw Z}))),(0,Hn.j)(()=>{!k&&!Q&&this.cancelNavigationTransition(A,"",Cr.SupersededByNewNavigation),this.currentTransition?.id===A.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,an.W)(Z=>{if(this.destroyed)return A.resolve(!1),ct.w;if(Q=!0,ra(Z))this.events.next(new Hi(A.id,this.urlSerializer.serialize(A.extractedUrl),Z.message,Z.cancellationCode)),function Ji(p){return ra(p)&&Dt(p.url)}(Z)?this.events.next(new mr(Z.url,Z.navigationBehaviorOptions)):A.resolve(!1);else{const Oe=new io(A.id,this.urlSerializer.serialize(A.extractedUrl),Z,A.targetSnapshot??void 0);try{const qe=(0,Y.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Oe));if(!(qe instanceof $s))throw this.events.next(Oe),Z;{const{message:Mt,cancellationCode:gn}=Or(0,qe);this.events.next(new Hi(A.id,this.urlSerializer.serialize(A.extractedUrl),Mt,gn)),this.events.next(new mr(qe.redirectTo,qe.navigationBehaviorOptions))}}catch(qe){this.options.resolveNavigationPromiseOnError?A.resolve(!1):A.reject(qe)}}return ct.w}))}))}cancelNavigationTransition(_,A,k){const Q=new Hi(_.id,this.urlSerializer.serialize(_.extractedUrl),A,k);this.events.next(Q),_.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const _=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),A=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return _.toString()!==A?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(A){return new(A||p)};static \u0275prov=Y.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function Ss(p){return p!==On}let gs=(()=>{class p{static \u0275fac=function(A){return new(A||p)};static \u0275prov=Y.jDH({token:p,factory:()=>(0,Y.WQX)(Pa),providedIn:"root"})}return p})();class Ra{shouldDetach(I){return!1}store(I,_){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,_){return I.routeConfig===_.routeConfig}}let Pa=(()=>{class p extends Ra{static \u0275fac=(()=>{let _;return function(k){return(_||(_=Y.xGo(p)))(k||p)}})();static \u0275prov=Y.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),$i=(()=>{class p{urlSerializer=(0,Y.WQX)(kr);options=(0,Y.WQX)(Sn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,Y.WQX)(O.aZ);urlHandlingStrategy=(0,Y.WQX)(Sa);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new cr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:_,initialUrl:A,targetBrowserUrl:k}){const Q=void 0!==_?this.urlHandlingStrategy.merge(_,A):A,Z=k??Q;return Z instanceof cr?this.urlSerializer.serialize(Z):Z}commitTransition({targetRouterState:_,finalUrl:A,initialUrl:k}){A&&_?(this.currentUrlTree=A,this.rawUrlTree=this.urlHandlingStrategy.merge(A,k),this.routerState=_):this.rawUrlTree=k}routerState=ss(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:_}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_??this.rawUrlTree)}static \u0275fac=function(A){return new(A||p)};static \u0275prov=Y.jDH({token:p,factory:()=>(0,Y.WQX)(Ki),providedIn:"root"})}return p})(),Ki=(()=>{class p extends $i{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(_){return this.location.subscribe(A=>{"popstate"===A.type&&setTimeout(()=>{_(A.url,A.state,"popstate")})})}handleRouterEvent(_,A){_ instanceof Hr?this.updateStateMemento():_ instanceof Bo?this.commitTransition(A):_ instanceof j?"eager"===this.urlUpdateStrategy&&(A.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(A),A)):_ instanceof Fn?(this.commitTransition(A),"deferred"===this.urlUpdateStrategy&&!A.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(A),A)):_ instanceof Hi&&(_.code===Cr.GuardRejected||_.code===Cr.NoDataFromResolver)?this.restoreHistory(A):_ instanceof io?this.restoreHistory(A,!0):_ instanceof Ro&&(this.lastSuccessfulId=_.id,this.currentPageId=this.browserPageId)}setBrowserUrl(_,{extras:A,id:k}){const{replaceUrl:Q,state:Z}=A;if(this.location.isCurrentPathEqualTo(_)||Q){const Oe=this.browserPageId,qe={...Z,...this.generateNgRouterState(k,Oe)};this.location.replaceState(_,"",qe)}else{const Oe={...Z,...this.generateNgRouterState(k,this.browserPageId+1)};this.location.go(_,"",Oe)}}restoreHistory(_,A=!1){if("computed"===this.canceledNavigationResolution){const Q=this.currentPageId-this.browserPageId;0!==Q?this.location.historyGo(Q):this.getCurrentUrlTree()===_.finalUrl&&0===Q&&(this.resetInternalState(_),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetInternalState(_),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(_,A){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:A}:{navigationId:_}}static \u0275fac=(()=>{let _;return function(k){return(_||(_=Y.xGo(p)))(k||p)}})();static \u0275prov=Y.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function Mi(p,I){p.events.pipe((0,te.p)(_=>_ instanceof Ro||_ instanceof Hi||_ instanceof io||_ instanceof Bo),(0,Je.T)(_=>_ instanceof Ro||_ instanceof Bo?0:_ instanceof Hi&&(_.code===Cr.Redirect||_.code===Cr.SupersededByNewNavigation)?2:1),(0,te.p)(_=>2!==_),kt(1)).subscribe(()=>{I()})}const G={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let w=(()=>{class p{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,Y.WQX)(Y.H3F);stateManager=(0,Y.WQX)($i);options=(0,Y.WQX)(Sn,{optional:!0})||{};pendingTasks=(0,Y.WQX)(Y.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,Y.WQX)(Qs);urlSerializer=(0,Y.WQX)(kr);location=(0,Y.WQX)(O.aZ);urlHandlingStrategy=(0,Y.WQX)(Sa);_events=new wn.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,Y.WQX)(gs);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,Y.WQX)(sr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,Y.WQX)(Qr,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:_=>{this.console.warn(_)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Vn.yU;subscribeToNavigationEvents(){const _=this.navigationTransitions.events.subscribe(A=>{try{const k=this.navigationTransitions.currentTransition,Q=this.navigationTransitions.currentNavigation;if(null!==k&&null!==Q)if(this.stateManager.handleRouterEvent(A,Q),A instanceof Hi&&A.code!==Cr.Redirect&&A.code!==Cr.SupersededByNewNavigation)this.navigated=!0;else if(A instanceof Ro)this.navigated=!0;else if(A instanceof mr){const Z=A.navigationBehaviorOptions,Oe=this.urlHandlingStrategy.merge(A.url,k.currentRawUrl),qe={browserUrl:k.extras.browserUrl,info:k.extras.info,skipLocationChange:k.extras.skipLocationChange,replaceUrl:k.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Ss(k.source),...Z};this.scheduleNavigation(Oe,On,null,qe,{resolve:k.resolve,reject:k.reject,promise:k.promise})}(function L(p){return!(p instanceof Fn||p instanceof mr)})(A)&&this._events.next(A)}catch(k){this.navigationTransitions.transitionAbortSubject.next(k)}});this.eventsSubscription.add(_)}resetRootComponentType(_){this.routerState.root.component=_,this.navigationTransitions.rootComponentType=_}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),On,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((_,A,k)=>{this.navigateToSyncWithBrowser(_,k,A)})}navigateToSyncWithBrowser(_,A,k){const Q={replaceUrl:!0},Z=k?.navigationId?k:null;if(k){const qe={...k};delete qe.navigationId,delete qe.\u0275routerPageId,0!==Object.keys(qe).length&&(Q.state=qe)}const Oe=this.parseUrl(_);this.scheduleNavigation(Oe,A,Z,Q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(_){this.config=_.map(No),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(_,A={}){const{relativeTo:k,queryParams:Q,fragment:Z,queryParamsHandling:Oe,preserveFragment:qe}=A,Mt=qe?this.currentUrlTree.fragment:Z;let ur,gn=null;switch(Oe??this.options.defaultQueryParamsHandling){case"merge":gn={...this.currentUrlTree.queryParams,...Q};break;case"preserve":gn=this.currentUrlTree.queryParams;break;default:gn=Q||null}null!==gn&&(gn=this.removeEmptyProps(gn));try{ur=_e(k?k.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof _[0]||"/"!==_[0][0])&&(_=[]),ur=this.currentUrlTree.root}return Le(ur,_,gn,Mt??null)}navigateByUrl(_,A={skipLocationChange:!1}){const k=Dt(_)?_:this.parseUrl(_),Q=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(Q,On,null,A)}navigate(_,A={skipLocationChange:!1}){return function P(p){for(let I=0;I<p.length;I++)if(null==p[I])throw new Y.wOt(4008,!1)}(_),this.navigateByUrl(this.createUrlTree(_,A),A)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){try{return this.urlSerializer.parse(_)}catch{return this.urlSerializer.parse("/")}}isActive(_,A){let k;if(k=!0===A?{...G}:!1===A?{...v}:A,Dt(_))return ri(this.currentUrlTree,_,k);const Q=this.parseUrl(_);return ri(this.currentUrlTree,Q,k)}removeEmptyProps(_){return Object.entries(_).reduce((A,[k,Q])=>(null!=Q&&(A[k]=Q),A),{})}scheduleNavigation(_,A,k,Q,Z){if(this.disposed)return Promise.resolve(!1);let Oe,qe,Mt;Z?(Oe=Z.resolve,qe=Z.reject,Mt=Z.promise):Mt=new Promise((ur,ti)=>{Oe=ur,qe=ti});const gn=this.pendingTasks.add();return Mi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(gn))}),this.navigationTransitions.handleNavigationRequest({source:A,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:_,extras:Q,resolve:Oe,reject:qe,promise:Mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Mt.catch(ur=>Promise.reject(ur))}static \u0275fac=function(A){return new(A||p)};static \u0275prov=Y.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},5196:(bn,ze,$)=>{"use strict";$.d(ze,{C:()=>Y,U:()=>B});var T=$(1635),O=$(8071);function Y(Re){return(0,T.AQ)(this,arguments,function*(){const we=Re.getReader();try{for(;;){const{value:be,done:We}=yield(0,T.N3)(we.read());if(We)return yield(0,T.N3)(void 0);yield yield(0,T.N3)(be)}}finally{we.releaseLock()}})}function B(Re){return(0,O.T)(Re?.getReader)}},5207:(bn,ze,$)=>{"use strict";$.d(ze,{Wk:()=>Un,iI:()=>qr,lh:()=>jt});var T=$(6048),O=$(1360),Y=$(9361);let nt=(()=>{class le{static \u0275prov=(0,O.jDH)({token:le,providedIn:"root",factory:()=>new we((0,O.WQX)(Y.q),window)})}return le})();class we{document;window;offset=()=>[0,0];constructor(rt,Ne){this.document=rt,this.window=Ne}setOffset(rt){this.offset=Array.isArray(rt)?()=>rt:rt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(rt){this.window.scrollTo(rt[0],rt[1])}scrollToAnchor(rt){const Ne=function be(le,rt){const Ne=le.getElementById(rt)||le.getElementsByName(rt)[0];if(Ne)return Ne;if("function"==typeof le.createTreeWalker&&le.body&&"function"==typeof le.body.attachShadow){const gt=le.createTreeWalker(le.body,NodeFilter.SHOW_ELEMENT);let tn=gt.currentNode;for(;tn;){const vn=tn.shadowRoot;if(vn){const Bn=vn.getElementById(rt)||vn.querySelector(`[name="${rt}"]`);if(Bn)return Bn}tn=gt.nextNode()}}return null}(this.document,rt);Ne&&(this.scrollToElement(Ne),Ne.focus())}setHistoryScrollRestoration(rt){this.window.history.scrollRestoration=rt}scrollToElement(rt){const Ne=rt.getBoundingClientRect(),gt=Ne.left+this.window.pageXOffset,tn=Ne.top+this.window.pageYOffset,vn=this.offset();this.window.scrollTo(gt-vn[0],tn-vn[1])}}var Dt=$(2881),ae=$(5072),_e=$(1413),Le=$(7673),Pt=$(8455),Et=$(6365),mt=$(5964),Ot=$(274),on=$(1397);let Un=(()=>{class le{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new _e.B;constructor(Ne,gt,tn,vn,Bn,Yi){this.router=Ne,this.route=gt,this.tabIndexAttribute=tn,this.renderer=vn,this.el=Bn,this.locationStrategy=Yi;const po=Bn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===po||"area"===po,this.isAnchorElement?this.subscription=Ne.events.subscribe(ks=>{ks instanceof ae.wF&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(Ne){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Ne)}ngOnChanges(Ne){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(Ne){null==Ne?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=(0,ae.wO)(Ne)||Array.isArray(Ne)?Ne:[Ne],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Ne,gt,tn,vn,Bn){const Yi=this.urlTree;return!!(null===Yi||this.isAnchorElement&&(0!==Ne||gt||tn||vn||Bn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Yi,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Ne=this.urlTree;this.href=null!==Ne&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Ne)):null;const gt=null===this.href?null:(0,O.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",gt)}applyAttributeValue(Ne,gt){const tn=this.renderer,vn=this.el.nativeElement;null!==gt?tn.setAttribute(vn,Ne,gt):tn.removeAttribute(vn,Ne)}get urlTree(){return null===this.routerLinkInput?null:(0,ae.wO)(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(gt){return new(gt||le)(O.rXU(ae.Ix),O.rXU(ae.nX),O.kS0("tabindex"),O.rXU(O.sFG),O.rXU(O.aKT),O.rXU(T.hb))};static \u0275dir=O.FsC({type:le,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(gt,tn){1&gt&&O.bIt("click",function(Bn){return tn.onClick(Bn.button,Bn.ctrlKey,Bn.shiftKey,Bn.altKey,Bn.metaKey)}),2&gt&&O.BMQ("target",tn.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",O.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",O.L39],replaceUrl:[2,"replaceUrl","replaceUrl",O.L39],routerLink:"routerLink"},features:[O.OA$]})}return le})();class or{}let ve=(()=>{class le{router;injector;preloadingStrategy;loader;subscription;constructor(Ne,gt,tn,vn){this.router=Ne,this.injector=gt,this.preloadingStrategy=tn,this.loader=vn}setUpPreloading(){this.subscription=this.router.events.pipe((0,mt.p)(Ne=>Ne instanceof ae.wF),(0,Ot.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Ne,gt){const tn=[];for(const vn of gt){vn.providers&&!vn._injector&&(vn._injector=(0,O.Ol2)(vn.providers,Ne,`Route: ${vn.path}`));const Bn=vn._injector??Ne,Yi=vn._loadedInjector??Bn;(vn.loadChildren&&!vn._loadedRoutes&&void 0===vn.canLoad||vn.loadComponent&&!vn._loadedComponent)&&tn.push(this.preloadConfig(Bn,vn)),(vn.children||vn._loadedRoutes)&&tn.push(this.processRoutes(Yi,vn.children??vn._loadedRoutes))}return(0,Pt.H)(tn).pipe((0,Et.U)())}preloadConfig(Ne,gt){return this.preloadingStrategy.preload(gt,()=>{let tn;tn=gt.loadChildren&&void 0===gt.canLoad?this.loader.loadChildren(Ne,gt):(0,Le.of)(null);const vn=tn.pipe((0,on.Z)(Bn=>null===Bn?(0,Le.of)(void 0):(gt._loadedRoutes=Bn.routes,gt._loadedInjector=Bn.injector,this.processRoutes(Bn.injector??Ne,Bn.routes))));if(gt.loadComponent&&!gt._loadedComponent){const Bn=this.loader.loadComponent(gt);return(0,Pt.H)([vn,Bn]).pipe((0,Et.U)())}return vn})}static \u0275fac=function(gt){return new(gt||le)(O.KVO(ae.Ix),O.KVO(O.uvJ),O.KVO(or),O.KVO(ae.D$))};static \u0275prov=O.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const Be=new O.nKC("");let Ze=(()=>{class le{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(Ne,gt,tn,vn,Bn={}){this.urlSerializer=Ne,this.transitions=gt,this.viewportScroller=tn,this.zone=vn,this.options=Bn,Bn.scrollPositionRestoration||="disabled",Bn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Ne=>{Ne instanceof ae.Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Ne.navigationTrigger,this.restoredId=Ne.restoredState?Ne.restoredState.navigationId:0):Ne instanceof ae.wF?(this.lastId=Ne.id,this.scheduleScrollEvent(Ne,this.urlSerializer.parse(Ne.urlAfterRedirects).fragment)):Ne instanceof ae.lW&&Ne.code===ae.mo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Ne,this.urlSerializer.parse(Ne.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Ne=>{Ne instanceof ae.OY&&(Ne.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Ne.position):Ne.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Ne.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Ne,gt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ae.OY(Ne,"popstate"===this.lastSource?this.store[this.restoredId]:null,gt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(gt){O.QTQ()};static \u0275prov=O.jDH({token:le,factory:le.\u0275fac})}return le})();function jt(le,...rt){return(0,O.EmA)([{provide:ae.bw,multi:!0,useValue:le},[],{provide:ae.nX,useFactory:Gt,deps:[ae.Ix]},{provide:O.iLQ,multi:!0,useFactory:Ro},rt.map(Ne=>Ne.\u0275providers)])}function Gt(le){return le.routerState.root}function In(le,rt){return{\u0275kind:le,\u0275providers:rt}}function Ro(){const le=(0,O.WQX)(O.zZn);return rt=>{const Ne=le.get(O.o8S);if(rt!==Ne.components[0])return;const gt=le.get(ae.Ix),tn=le.get(Cr);1===le.get(ao)&&gt.initialNavigation(),le.get(j,null,O.$GK.Optional)?.setUpPreloading(),le.get(Be,null,O.$GK.Optional)?.init(),gt.resetRootComponentType(Ne.componentTypes[0]),tn.closed||(tn.next(),tn.complete(),tn.unsubscribe())}}const Cr=new O.nKC("",{factory:()=>new _e.B}),ao=new O.nKC("",{providedIn:"root",factory:()=>1}),j=new O.nKC("");function ge(le){return In(0,[{provide:j,useExisting:ve},{provide:or,useExisting:le}])}function un(le){return(0,O.ngT)("NgRouterViewTransitions"),In(9,[{provide:ae.Pu,useValue:ae.Lg},{provide:ae.bK,useValue:{skipNextTransition:!!le?.skipInitialTransition,...le}}])}const Kr=[T.aZ,{provide:ae.Sd,useClass:ae.nU},ae.Ix,ae.Zp,{provide:ae.nX,useFactory:Gt,deps:[ae.Ix]},ae.D$,[]];let qr=(()=>{class le{constructor(){}static forRoot(Ne,gt){return{ngModule:le,providers:[Kr,[],{provide:ae.bw,multi:!0,useValue:Ne},[],gt?.errorHandler?{provide:ae.XR,useValue:gt.errorHandler}:[],{provide:ae.J_,useValue:gt||{}},gt?.useHash?{provide:T.hb,useClass:Dt.fw}:{provide:T.hb,useClass:T.Sm},{provide:Be,useFactory:()=>{const le=(0,O.WQX)(nt),rt=(0,O.WQX)(O.SKi),Ne=(0,O.WQX)(ae.J_),gt=(0,O.WQX)(ae.J2),tn=(0,O.WQX)(ae.Sd);return Ne.scrollOffset&&le.setOffset(Ne.scrollOffset),new Ze(tn,gt,le,rt,Ne)}},gt?.preloadingStrategy?ge(gt.preloadingStrategy).\u0275providers:[],gt?.initialNavigation?mi(gt):[],gt?.bindToComponentInputs?In(8,[ae.tD,{provide:ae.c1,useExisting:ae.tD}]).\u0275providers:[],gt?.enableViewTransitions?un().\u0275providers:[],[{provide:Io,useFactory:Ro},{provide:O.iLQ,multi:!0,useExisting:Io}]]}}static forChild(Ne){return{ngModule:le,providers:[{provide:ae.bw,multi:!0,useValue:Ne}]}}static \u0275fac=function(gt){return new(gt||le)};static \u0275mod=O.$C({type:le});static \u0275inj=O.G2t({})}return le})();function mi(le){return["disabled"===le.initialNavigation?In(3,[(0,O.phd)(()=>{(0,O.WQX)(ae.Ix).setUpLocationChangeListener()}),{provide:ao,useValue:2}]).\u0275providers:[],"enabledBlocking"===le.initialNavigation?In(2,[{provide:ao,useValue:0},(0,O.phd)(()=>{const rt=(0,O.WQX)(O.zZn);return rt.get(T.hj,Promise.resolve()).then(()=>new Promise(gt=>{const tn=rt.get(ae.Ix),vn=rt.get(Cr);(0,ae.gk)(tn,()=>{gt(!0)}),rt.get(ae.J2).afterPreactivation=()=>(gt(!0),vn.closed?(0,Le.of)(void 0):vn),tn.initialNavigation()}))})]).\u0275providers:[]]}const Io=new O.nKC("")},5225:(bn,ze,$)=>{"use strict";function T(O,Y,B,Re=0,nt=!1){const we=Y.schedule(function(){B(),nt?O.add(this.schedule(null,Re)):this.unsubscribe()},Re);if(O.add(we),!nt)return we}$.d(ze,{N:()=>T})},5334:(bn,ze,$)=>{"use strict";$.d(ze,{m:()=>Y});var T=$(1026),O=$(9270);function Y(B){O.f.setTimeout(()=>{const{onUnhandledError:Re}=T.$;if(!Re)throw B;Re(B)})}},5343:(bn,ze,$)=>{"use strict";function T(){}$.d(ze,{l:()=>T})},5397:(bn,ze,$)=>{"use strict";$.d(ze,{x:()=>Y});var T=$(4761),O=$(8071);function Y(B){return(0,O.T)(B?.[T.l])}},5558:(bn,ze,$)=>{"use strict";$.d(ze,{n:()=>B});var T=$(8750),O=$(9974),Y=$(4360);function B(Re,nt){return(0,O.N)((we,be)=>{let We=null,Te=0,Ie=!1;const lt=()=>Ie&&!We&&be.complete();we.subscribe((0,Y._)(be,Qe=>{We?.unsubscribe();let dt=0;const Rt=Te++;(0,T.Tg)(Re(Qe,Rt)).subscribe(We=(0,Y._)(be,Ht=>be.next(nt?nt(Qe,Ht,Rt,dt++):Ht),()=>{We=null,lt()}))},()=>{Ie=!0,lt()}))})}},5794:(bn,ze,$)=>{"use strict";$.d(ze,{DP:()=>Je,tw:()=>Kn});var T=$(1360),O=$(969),Y=$(9361),B=$(2881),Re=$(1413),nt=$(345);const we=["toast-component",""];function be(fe,me){if(1&fe){const oe=T.RV6();T.j41(0,"button",5),T.bIt("click",function(){T.eBV(oe);const Xe=T.XpG();return T.Njj(Xe.remove())}),T.j41(1,"span",6),T.EFF(2,"\xd7"),T.k0s()()}}function We(fe,me){if(1&fe&&(T.qex(0),T.EFF(1),T.bVm()),2&fe){const oe=T.XpG(2);T.R7$(),T.SpI("[",oe.duplicatesCount+1,"]")}}function Te(fe,me){if(1&fe&&(T.j41(0,"div"),T.EFF(1),T.DNE(2,We,2,1,"ng-container",4),T.k0s()),2&fe){const oe=T.XpG();T.HbH(oe.options.titleClass),T.BMQ("aria-label",oe.title),T.R7$(),T.SpI(" ",oe.title," "),T.R7$(),T.Y8G("ngIf",oe.duplicatesCount)}}function Ie(fe,me){if(1&fe&&T.nrm(0,"div",7),2&fe){const oe=T.XpG();T.HbH(oe.options.messageClass),T.Y8G("innerHTML",oe.message,T.npT)}}function lt(fe,me){if(1&fe&&(T.j41(0,"div",8),T.EFF(1),T.k0s()),2&fe){const oe=T.XpG();T.HbH(oe.options.messageClass),T.BMQ("aria-label",oe.message),T.R7$(),T.SpI(" ",oe.message," ")}}function Qe(fe,me){if(1&fe&&(T.j41(0,"div"),T.nrm(1,"div",9),T.k0s()),2&fe){const oe=T.XpG();T.R7$(),T.xc7("width",oe.width()+"%")}}class St{_attachedHost;component;viewContainerRef;injector;constructor(me,oe){this.component=me,this.injector=oe}attach(me,oe){return this._attachedHost=me,me.attach(this,oe)}detach(){const me=this._attachedHost;if(me)return this._attachedHost=void 0,me.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(me){this._attachedHost=me}}class ke{_attachedPortal;_disposeFn;attach(me,oe){return this._attachedPortal=me,this.attachComponentPortal(me,oe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(me){this._disposeFn=me}}class it{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Re.B;_activate=new Re.B;_manualClose=new Re.B;_resetTimeout=new Re.B;_countDuplicate=new Re.B;constructor(me){this._overlayRef=me}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(me,oe){me&&this._resetTimeout.next(),oe&&this._countDuplicate.next(++this.duplicatesCount)}}class Ye{toastId;config;message;title;toastType;toastRef;_onTap=new Re.B;_onAction=new Re.B;constructor(me,oe,pe,Xe,_t,an){this.toastId=me,this.config=oe,this.message=pe,this.title=Xe,this.toastType=_t,this.toastRef=an,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(me){this._onAction.next(me)}onAction(){return this._onAction.asObservable()}}const qt=new T.nKC("ToastConfig");class Tt extends ke{_hostDomElement;_componentFactoryResolver;_appRef;constructor(me,oe,pe){super(),this._hostDomElement=me,this._componentFactoryResolver=oe,this._appRef=pe}attachComponentPortal(me,oe){const pe=this._componentFactoryResolver.resolveComponentFactory(me.component);let Xe;return Xe=pe.create(me.injector),this._appRef.attachView(Xe.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Xe.hostView),Xe.destroy()}),oe?this._hostDomElement.insertBefore(this._getComponentRootNode(Xe),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Xe)),Xe}_getComponentRootNode(me){return me.hostView.rootNodes[0]}}let ct=(()=>{class fe{_document=(0,T.WQX)(Y.q);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const oe=this._document.createElement("div");oe.classList.add("overlay-container"),oe.setAttribute("aria-live","polite"),this._document.body.appendChild(oe),this._containerElement=oe}static \u0275fac=function(pe){return new(pe||fe)};static \u0275prov=T.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();class Vn{_portalHost;constructor(me){this._portalHost=me}attach(me,oe=!0){return this._portalHost.attach(me,oe)}detach(){return this._portalHost.detach()}}let Mn=(()=>{class fe{_overlayContainer=(0,T.WQX)(ct);_componentFactoryResolver=(0,T.WQX)(T.OM3);_appRef=(0,T.WQX)(T.o8S);_document=(0,T.WQX)(Y.q);_paneElements=new Map;create(oe,pe){return this._createOverlayRef(this.getPaneElement(oe,pe))}getPaneElement(oe="",pe){return this._paneElements.get(pe)||this._paneElements.set(pe,{}),this._paneElements.get(pe)[oe]||(this._paneElements.get(pe)[oe]=this._createPaneElement(oe,pe)),this._paneElements.get(pe)[oe]}_createPaneElement(oe,pe){const Xe=this._document.createElement("div");return Xe.id="toast-container",Xe.classList.add(oe),Xe.classList.add("toast-container"),pe?pe.getContainerElement().appendChild(Xe):this._overlayContainer.getContainerElement().appendChild(Xe),Xe}_createPortalHost(oe){return new Tt(oe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(oe){return new Vn(this._createPortalHost(oe))}static \u0275fac=function(pe){return new(pe||fe)};static \u0275prov=T.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})(),Kn=(()=>{class fe{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(oe,pe,Xe,_t,an){this.overlay=pe,this._injector=Xe,this.sanitizer=_t,this.ngZone=an,this.toastrConfig={...oe.default,...oe.config},oe.config.iconClasses&&(this.toastrConfig.iconClasses={...oe.default.iconClasses,...oe.config.iconClasses})}show(oe,pe,Xe={},_t=""){return this._preBuildNotification(_t,oe,pe,this.applyConfig(Xe))}success(oe,pe,Xe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",oe,pe,this.applyConfig(Xe))}error(oe,pe,Xe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",oe,pe,this.applyConfig(Xe))}info(oe,pe,Xe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",oe,pe,this.applyConfig(Xe))}warning(oe,pe,Xe={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",oe,pe,this.applyConfig(Xe))}clear(oe){for(const pe of this.toasts)if(void 0!==oe){if(pe.toastId===oe)return void pe.toastRef.manualClose()}else pe.toastRef.manualClose()}remove(oe){const pe=this._findToast(oe);if(!pe||(pe.activeToast.toastRef.close(),this.toasts.splice(pe.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Xe=this.toasts[this.currentlyActive].toastRef;Xe.isInactive()||(this.currentlyActive=this.currentlyActive+1,Xe.activate())}return!0}findDuplicate(oe="",pe="",Xe,_t){const{includeTitleDuplicates:an}=this.toastrConfig;for(const en of this.toasts)if((!an||an&&en.title===oe)&&en.message===pe)return en.toastRef.onDuplicate(Xe,_t),en;return null}applyConfig(oe={}){return{...this.toastrConfig,...oe}}_findToast(oe){for(let pe=0;pe<this.toasts.length;pe++)if(this.toasts[pe].toastId===oe)return{index:pe,activeToast:this.toasts[pe]};return null}_preBuildNotification(oe,pe,Xe,_t){return _t.onActivateTick?this.ngZone.run(()=>this._buildNotification(oe,pe,Xe,_t)):this._buildNotification(oe,pe,Xe,_t)}_buildNotification(oe,pe,Xe,_t){if(!_t.toastComponent)throw new Error("toastComponent required");const an=this.findDuplicate(Xe,pe,this.toastrConfig.resetTimeoutOnDuplicate&&_t.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Xe||pe)&&this.toastrConfig.preventDuplicates&&null!==an)return an;this.previousToastMessage=pe;let en=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(en=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Jn=this.overlay.create(_t.positionClass,this.overlayContainer);this.index=this.index+1;let Kt=pe;pe&&_t.enableHtml&&(Kt=this.sanitizer.sanitize(T.WPN.HTML,pe));const Qn=new it(Jn),Hn=new Ye(this.index,_t,Kt,Xe,oe,Qn),Ln=T.zZn.create({providers:[{provide:Ye,useValue:Hn}],parent:this._injector}),er=new St(_t.toastComponent,Ln),Dn=Jn.attach(er,_t.newestOnTop);Qn.componentInstance=Dn.instance;const Mr={toastId:this.index,title:Xe||"",message:pe||"",toastRef:Qn,onShown:Qn.afterActivate(),onHidden:Qn.afterClosed(),onTap:Hn.onTap(),onAction:Hn.onAction(),portal:Dn};return en||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Mr.toastRef.activate()})),this.toasts.push(Mr),Mr}static \u0275fac=function(pe){return new(pe||fe)(T.KVO(qt),T.KVO(Mn),T.KVO(T.zZn),T.KVO(nt.up),T.KVO(T.SKi))};static \u0275prov=T.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})();const wn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class fe{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=(0,T.vPA)(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(oe,pe,Xe){this.toastrService=oe,this.toastPackage=pe,this.ngZone=Xe,this.message=pe.message,this.title=pe.title,this.options=pe.config,this.originalTimeout=pe.config.timeOut,this.toastClasses=`${pe.toastType} ${pe.config.toastClass}`,this.sub=pe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=pe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=pe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=pe.toastRef.countDuplicate().subscribe(_t=>{this.duplicatesCount=_t}),this.state=(0,T.vPA)({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(oe=>({...oe,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const oe=(new Date).getTime();this.width.set((this.hideTime-oe)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(Xe=>100-Xe),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(oe=>({...oe,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(oe=>({...oe,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(oe,pe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(oe),pe)):this.timeout=setTimeout(()=>oe(),pe)}outsideInterval(oe,pe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(oe),pe)):this.intervalId=setInterval(()=>oe(),pe)}runInsideAngular(oe){this.ngZone?this.ngZone.run(()=>oe()):oe()}static \u0275fac=function(pe){return new(pe||fe)(T.rXU(Kn),T.rXU(Ye),T.rXU(T.SKi))};static \u0275cmp=T.VBU({type:fe,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(pe,Xe){1&pe&&T.bIt("click",function(){return Xe.tapToast()})("mouseenter",function(){return Xe.stickAround()})("mouseleave",function(){return Xe.delayedHideToast()}),2&pe&&(T.zvX("@flyInOut",Xe._state),T.HbH(Xe.toastClasses),T.xc7("display",Xe.displayStyle))},attrs:we,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(pe,Xe){1&pe&&T.DNE(0,be,3,0,"button",0)(1,Te,3,5,"div",1)(2,Ie,1,3,"div",2)(3,lt,2,4,"div",3)(4,Qe,2,2,"div",4),2&pe&&(T.Y8G("ngIf",Xe.options.closeButton),T.R7$(),T.Y8G("ngIf",Xe.title),T.R7$(),T.Y8G("ngIf",Xe.message&&Xe.options.enableHtml),T.R7$(),T.Y8G("ngIf",Xe.message&&!Xe.options.enableHtml),T.R7$(),T.Y8G("ngIf",Xe.options.progressBar))},dependencies:[B.bT],encapsulation:2,data:{animation:[(0,O.hZ)("flyInOut",[(0,O.wk)("inactive",(0,O.iF)({opacity:0})),(0,O.wk)("active",(0,O.iF)({opacity:1})),(0,O.wk)("removed",(0,O.iF)({opacity:0})),(0,O.kY)("inactive => active",(0,O.i0)("{{ easeTime }}ms {{ easing }}")),(0,O.kY)("active => removed",(0,O.i0)("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return fe})()},Je=(fe={})=>(0,T.EmA)([{provide:qt,useValue:{default:wn,config:fe}}])},5961:(bn,ze,$)=>{"use strict";var T=$(6048),O=$(9377),Y=$(9361),B=$(1360);const Re=new B.nKC("");let nt=(()=>{class G{_zone;_plugins;_eventNameToPlugin=new Map;constructor(w,P){this._zone=P,w.forEach(L=>{L.manager=this}),this._plugins=w.slice().reverse()}addEventListener(w,P,L,p){return this._findPluginFor(P).addEventListener(w,P,L,p)}getZone(){return this._zone}_findPluginFor(w){let P=this._eventNameToPlugin.get(w);if(P)return P;if(P=this._plugins.find(p=>p.supports(w)),!P)throw new B.wOt(5101,!1);return this._eventNameToPlugin.set(w,P),P}static \u0275fac=function(P){return new(P||G)(B.KVO(Re),B.KVO(B.SKi))};static \u0275prov=B.jDH({token:G,factory:G.\u0275fac})}return G})();class we{_doc;constructor(v){this._doc=v}manager}const be="ng-app-id";function We(G){for(const v of G)v.remove()}function Te(G,v){const w=v.createElement("style");return w.textContent=G,w}function lt(G,v){const w=v.createElement("link");return w.setAttribute("rel","stylesheet"),w.setAttribute("href",G),w}let Qe=(()=>{class G{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(w,P,L,p={}){this.doc=w,this.appId=P,this.nonce=L,this.isServer=(0,O.Vy)(p),function Ie(G,v,w,P){const L=G.head?.querySelectorAll(`style[${be}="${v}"],link[${be}="${v}"]`);if(L)for(const p of L)p.removeAttribute(be),p instanceof HTMLLinkElement?P.set(p.href.slice(p.href.lastIndexOf("/")+1),{usage:0,elements:[p]}):p.textContent&&w.set(p.textContent,{usage:0,elements:[p]})}(w,P,this.inline,this.external),this.hosts.add(w.head)}addStyles(w,P){for(const L of w)this.addUsage(L,this.inline,Te);P?.forEach(L=>this.addUsage(L,this.external,lt))}removeStyles(w,P){for(const L of w)this.removeUsage(L,this.inline);P?.forEach(L=>this.removeUsage(L,this.external))}addUsage(w,P,L){const p=P.get(w);p?p.usage++:P.set(w,{usage:1,elements:[...this.hosts].map(I=>this.addElement(I,L(w,this.doc)))})}removeUsage(w,P){const L=P.get(w);L&&(L.usage--,L.usage<=0&&(We(L.elements),P.delete(w)))}ngOnDestroy(){for(const[,{elements:w}]of[...this.inline,...this.external])We(w);this.hosts.clear()}addHost(w){this.hosts.add(w);for(const[P,{elements:L}]of this.inline)L.push(this.addElement(w,Te(P,this.doc)));for(const[P,{elements:L}]of this.external)L.push(this.addElement(w,lt(P,this.doc)))}removeHost(w){this.hosts.delete(w)}addElement(w,P){return this.nonce&&P.setAttribute("nonce",this.nonce),this.isServer&&P.setAttribute(be,this.appId),w.appendChild(P)}static \u0275fac=function(P){return new(P||G)(B.KVO(Y.q),B.KVO(B.sZ2),B.KVO(B.BIS,8),B.KVO(B.Agw))};static \u0275prov=B.jDH({token:G,factory:G.\u0275fac})}return G})();const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rt=/%COMP%/g,ke=new B.nKC("",{providedIn:"root",factory:()=>!0});function It(G,v){return v.map(w=>w.replace(Rt,G))}let Tt=(()=>{class G{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(w,P,L,p,I,_,A,k=null,Q=null){this.eventManager=w,this.sharedStylesHost=P,this.appId=L,this.removeStylesOnCompDestroy=p,this.doc=I,this.platformId=_,this.ngZone=A,this.nonce=k,this.tracingService=Q,this.platformIsServer=(0,O.Vy)(_),this.defaultRenderer=new ct(w,I,A,this.platformIsServer,this.tracingService)}createRenderer(w,P){if(!w||!P)return this.defaultRenderer;this.platformIsServer&&P.encapsulation===B.gXe.ShadowDom&&(P={...P,encapsulation:B.gXe.Emulated});const L=this.getOrCreateRenderer(w,P);return L instanceof Je?L.applyToHost(w):L instanceof wn&&L.applyStyles(),L}getOrCreateRenderer(w,P){const L=this.rendererByCompId;let p=L.get(P.id);if(!p){const I=this.doc,_=this.ngZone,A=this.eventManager,k=this.sharedStylesHost,Q=this.removeStylesOnCompDestroy,Z=this.platformIsServer,Oe=this.tracingService;switch(P.encapsulation){case B.gXe.Emulated:p=new Je(A,k,P,this.appId,Q,I,_,Z,Oe);break;case B.gXe.ShadowDom:return new pt(A,k,w,P,I,_,this.nonce,Z,Oe);default:p=new wn(A,k,P,Q,I,_,Z,Oe)}L.set(P.id,p)}return p}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(w){this.rendererByCompId.delete(w)}static \u0275fac=function(P){return new(P||G)(B.KVO(nt),B.KVO(Qe),B.KVO(B.sZ2),B.KVO(ke),B.KVO(Y.q),B.KVO(B.Agw),B.KVO(B.SKi),B.KVO(B.BIS),B.KVO(B.Lf2,8))};static \u0275prov=B.jDH({token:G,factory:G.\u0275fac})}return G})();class ct{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(v,w,P,L,p){this.eventManager=v,this.doc=w,this.ngZone=P,this.platformIsServer=L,this.tracingService=p}destroy(){}destroyNode=null;createElement(v,w){return w?this.doc.createElementNS(dt[w]||w,v):this.doc.createElement(v)}createComment(v){return this.doc.createComment(v)}createText(v){return this.doc.createTextNode(v)}appendChild(v,w){(Kn(v)?v.content:v).appendChild(w)}insertBefore(v,w,P){v&&(Kn(v)?v.content:v).insertBefore(w,P)}removeChild(v,w){w.remove()}selectRootElement(v,w){let P="string"==typeof v?this.doc.querySelector(v):v;if(!P)throw new B.wOt(-5104,!1);return w||(P.textContent=""),P}parentNode(v){return v.parentNode}nextSibling(v){return v.nextSibling}setAttribute(v,w,P,L){if(L){w=L+":"+w;const p=dt[L];p?v.setAttributeNS(p,w,P):v.setAttribute(w,P)}else v.setAttribute(w,P)}removeAttribute(v,w,P){if(P){const L=dt[P];L?v.removeAttributeNS(L,w):v.removeAttribute(`${P}:${w}`)}else v.removeAttribute(w)}addClass(v,w){v.classList.add(w)}removeClass(v,w){v.classList.remove(w)}setStyle(v,w,P,L){L&(B.czy.DashCase|B.czy.Important)?v.style.setProperty(w,P,L&B.czy.Important?"important":""):v.style[w]=P}removeStyle(v,w,P){P&B.czy.DashCase?v.style.removeProperty(w):v.style[w]=""}setProperty(v,w,P){null!=v&&(v[w]=P)}setValue(v,w){v.nodeValue=w}listen(v,w,P,L){if("string"==typeof v&&!(v=(0,T.rb)().getGlobalEventTarget(this.doc,v)))throw new B.wOt(5102,!1);let p=this.decoratePreventDefault(P);return this.tracingService?.wrapEventListener&&(p=this.tracingService.wrapEventListener(v,w,p)),this.eventManager.addEventListener(v,w,p,L)}decoratePreventDefault(v){return w=>{if("__ngUnwrap__"===w)return v;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>v(w)):v(w))&&w.preventDefault()}}}function Kn(G){return"TEMPLATE"===G.tagName&&void 0!==G.content}class pt extends ct{sharedStylesHost;hostEl;shadowRoot;constructor(v,w,P,L,p,I,_,A,k){super(v,p,I,A,k),this.sharedStylesHost=w,this.hostEl=P,this.shadowRoot=P.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let Q=L.styles;Q=It(L.id,Q);for(const Oe of Q){const qe=document.createElement("style");_&&qe.setAttribute("nonce",_),qe.textContent=Oe,this.shadowRoot.appendChild(qe)}const Z=L.getExternalStyles?.();if(Z)for(const Oe of Z){const qe=lt(Oe,p);_&&qe.setAttribute("nonce",_),this.shadowRoot.appendChild(qe)}}nodeOrShadowRoot(v){return v===this.hostEl?this.shadowRoot:v}appendChild(v,w){return super.appendChild(this.nodeOrShadowRoot(v),w)}insertBefore(v,w,P){return super.insertBefore(this.nodeOrShadowRoot(v),w,P)}removeChild(v,w){return super.removeChild(null,w)}parentNode(v){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(v)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wn extends ct{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(v,w,P,L,p,I,_,A,k){super(v,p,I,_,A),this.sharedStylesHost=w,this.removeStylesOnCompDestroy=L;let Q=P.styles;this.styles=k?It(k,Q):Q,this.styleUrls=P.getExternalStyles?.(k)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class Je extends wn{contentAttr;hostAttr;constructor(v,w,P,L,p,I,_,A,k){const Q=L+"-"+P.id;super(v,w,P,p,I,_,A,k,Q),this.contentAttr=function it(G){return"_ngcontent-%COMP%".replace(Rt,G)}(Q),this.hostAttr=function Ye(G){return"_nghost-%COMP%".replace(Rt,G)}(Q)}applyToHost(v){this.applyStyles(),this.setAttribute(v,this.hostAttr,"")}createElement(v,w){const P=super.createElement(v,w);return super.setAttribute(P,this.contentAttr,""),P}}class rn extends T.qj{supportsDOMEvents=!0;static makeCurrent(){(0,T.ig)(new rn)}onAndCancel(v,w,P,L){return v.addEventListener(w,P,L),()=>{v.removeEventListener(w,P,L)}}dispatchEvent(v,w){v.dispatchEvent(w)}remove(v){v.remove()}createElement(v,w){return(w=w||this.getDefaultDocument()).createElement(v)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(v){return v.nodeType===Node.ELEMENT_NODE}isShadowRoot(v){return v instanceof DocumentFragment}getGlobalEventTarget(v,w){return"window"===w?window:"document"===w?v:"body"===w?v.body:null}getBaseHref(v){const w=function Ke(){return kt=kt||document.head.querySelector("base"),kt?kt.getAttribute("href"):null}();return null==w?null:function te(G){return new URL(G,document.baseURI).pathname}(w)}resetBaseElement(){kt=null}getUserAgent(){return window.navigator.userAgent}getCookie(v){return(0,O.bS)(document.cookie,v)}}let kt=null,fe=(()=>{class G{build(){return new XMLHttpRequest}static \u0275fac=function(P){return new(P||G)};static \u0275prov=B.jDH({token:G,factory:G.\u0275fac})}return G})(),me=(()=>{class G extends we{constructor(w){super(w)}supports(w){return!0}addEventListener(w,P,L,p){return w.addEventListener(P,L,p),()=>this.removeEventListener(w,P,L,p)}removeEventListener(w,P,L,p){return w.removeEventListener(P,L,p)}static \u0275fac=function(P){return new(P||G)(B.KVO(Y.q))};static \u0275prov=B.jDH({token:G,factory:G.\u0275fac})}return G})();const oe=["alt","control","meta","shift"],pe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xe={alt:G=>G.altKey,control:G=>G.ctrlKey,meta:G=>G.metaKey,shift:G=>G.shiftKey};let _t=(()=>{class G extends we{constructor(w){super(w)}supports(w){return null!=G.parseEventName(w)}addEventListener(w,P,L,p){const I=G.parseEventName(P),_=G.eventCallback(I.fullKey,L,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.rb)().onAndCancel(w,I.domEventName,_,p))}static parseEventName(w){const P=w.toLowerCase().split("."),L=P.shift();if(0===P.length||"keydown"!==L&&"keyup"!==L)return null;const p=G._normalizeKey(P.pop());let I="",_=P.indexOf("code");if(_>-1&&(P.splice(_,1),I="code."),oe.forEach(k=>{const Q=P.indexOf(k);Q>-1&&(P.splice(Q,1),I+=k+".")}),I+=p,0!=P.length||0===p.length)return null;const A={};return A.domEventName=L,A.fullKey=I,A}static matchEventFullKeyCode(w,P){let L=pe[w.key]||w.key,p="";return P.indexOf("code.")>-1&&(L=w.code,p="code."),!(null==L||!L)&&(L=L.toLowerCase()," "===L?L="space":"."===L&&(L="dot"),oe.forEach(I=>{I!==L&&(0,Xe[I])(w)&&(p+=I+".")}),p+=L,p===P)}static eventCallback(w,P,L){return p=>{G.matchEventFullKeyCode(p,w)&&L.runGuarded(()=>P(p))}}static _normalizeKey(w){return"esc"===w?"escape":w}static \u0275fac=function(P){return new(P||G)(B.KVO(Y.q))};static \u0275prov=B.jDH({token:G,factory:G.\u0275fac})}return G})();function Jn(G){return{appProviders:[...Pr,...G?.providers??[]],platformProviders:Ln}}const Ln=[{provide:B.Agw,useValue:O.Zn},{provide:B.PLl,useValue:function Qn(){rn.makeCurrent()},multi:!0},{provide:Y.q,useFactory:function Zt(){return(0,B.TL$)(document),document}}],Pr=[{provide:B.H8p,useValue:"root"},{provide:B.zcH,useFactory:function Hn(){return new B.zcH}},{provide:Re,useClass:me,multi:!0,deps:[Y.q]},{provide:Re,useClass:_t,multi:!0,deps:[Y.q]},Tt,Qe,nt,{provide:B._9s,useExisting:Tt},{provide:O.N0,useClass:fe},[]];var fn=$(969);function cn(G){return new B.wOt(3e3,!1)}function ye(G){switch(G.length){case 0:return new fn.sf;case 1:return G[0];default:return new fn.PZ(G)}}function je(G,v,w=new Map,P=new Map){const L=[],p=[];let I=-1,_=null;if(v.forEach(A=>{const k=A.get("offset"),Q=k==I,Z=Q&&_||new Map;A.forEach((Oe,qe)=>{let Mt=qe,gn=Oe;if("offset"!==qe)switch(Mt=G.normalizePropertyName(Mt,L),gn){case fn.FX:gn=w.get(qe);break;case fn.kp:gn=P.get(qe);break;default:gn=G.normalizeStyleValue(qe,Mt,gn,L)}Z.set(Mt,gn)}),Q||p.push(Z),_=Z,I=k}),L.length)throw function Ue(){return new B.wOt(3502,!1)}();return p}function Lt(G,v,w,P){switch(v){case"start":G.onStart(()=>P(w&&et(w,"start",G)));break;case"done":G.onDone(()=>P(w&&et(w,"done",G)));break;case"destroy":G.onDestroy(()=>P(w&&et(w,"destroy",G)))}}function et(G,v,w){const p=Yt(G.element,G.triggerName,G.fromState,G.toState,v||G.phaseName,w.totalTime??G.totalTime,!!w.disabled),I=G._data;return null!=I&&(p._data=I),p}function Yt(G,v,w,P,L="",p=0,I){return{element:G,triggerName:v,fromState:w,toState:P,phaseName:L,totalTime:p,disabled:!!I}}function Rn(G,v,w){let P=G.get(v);return P||G.set(v,P=w),P}function pr(G){const v=G.indexOf(":");return[G.substring(1,v),G.slice(v+1)]}const ie=typeof document>"u"?null:document.documentElement;function ue(G){const v=G.parentNode||G.host||null;return v===ie?null:v}let ft=null,Dt=!1;function Pt(G,v){for(;v;){if(v===G)return!0;v=ue(v)}return!1}function Et(G,v,w){if(w)return Array.from(G.querySelectorAll(v));const P=G.querySelector(v);return P?[P]:[]}const Un="ng-enter",ln="ng-leave",Gn="ng-trigger",or=".ng-trigger",wi="ng-animating",Si=".ng-animating";function ve(G){if("number"==typeof G)return G;const v=G.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:Be(parseFloat(v[1]),v[2])}function Be(G,v){return"s"===v?1e3*G:G}function Ze(G,v,w){return G.hasOwnProperty("duration")?G:function jt(G,v,w){let L,p=0,I="";if("string"==typeof G){const _=G.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return v.push(cn()),{duration:0,delay:0,easing:""};L=Be(parseFloat(_[1]),_[2]);const A=_[3];null!=A&&(p=Be(parseFloat(A),_[4]));const k=_[5];k&&(I=k)}else L=G;if(!w){let _=!1,A=v.length;L<0&&(v.push(function Qi(){return new B.wOt(3100,!1)}()),_=!0),p<0&&(v.push(function Nr(){return new B.wOt(3101,!1)}()),_=!0),_&&v.splice(A,0,cn())}return{duration:L,delay:p,easing:I}}(G,v,w)}function On(G,v,w){v.forEach((P,L)=>{const p=Bo(L);w&&!w.has(L)&&w.set(L,G.style[p]),G.style[p]=P})}function An(G,v){v.forEach((w,P)=>{const L=Bo(P);G.style[L]=""})}function tr(G){return Array.isArray(G)?1==G.length?G[0]:(0,fn.K2)(G):G}const Ro=new RegExp("{{\\s*(.+?)\\s*}}","g");function Cr(G){let v=[];if("string"==typeof G){let w;for(;w=Ro.exec(G);)v.push(w[1]);Ro.lastIndex=0}return v}function ao(G,v,w){const P=`${G}`,L=P.replace(Ro,(p,I)=>{let _=v[I];return null==_&&(w.push(function Er(){return new B.wOt(3003,!1)}()),_=""),_.toString()});return L==P?G:L}const Hi=/-+([a-z0-9])/g;function Bo(G){return G.replace(Hi,(...v)=>v[1].toUpperCase())}function X(G,v,w){switch(v.type){case fn.If.Trigger:return G.visitTrigger(v,w);case fn.If.State:return G.visitState(v,w);case fn.If.Transition:return G.visitTransition(v,w);case fn.If.Sequence:return G.visitSequence(v,w);case fn.If.Group:return G.visitGroup(v,w);case fn.If.Animate:return G.visitAnimate(v,w);case fn.If.Keyframes:return G.visitKeyframes(v,w);case fn.If.Style:return G.visitStyle(v,w);case fn.If.Reference:return G.visitReference(v,w);case fn.If.AnimateChild:return G.visitAnimateChild(v,w);case fn.If.AnimateRef:return G.visitAnimateRef(v,w);case fn.If.Query:return G.visitQuery(v,w);case fn.If.Stagger:return G.visitStagger(v,w);default:throw function qn(){return new B.wOt(3004,!1)}()}}function re(G,v){return window.getComputedStyle(G)[v]}let Me=(()=>{class G{validateStyleProperty(w){return function ae(G){ft||(ft=function Le(){return typeof document<"u"?document.body:null}()||{},Dt=!!ft.style&&"WebkitAppearance"in ft.style);let v=!0;return ft.style&&!function Se(G){return"ebkit"==G.substring(1,6)}(G)&&(v=G in ft.style,!v&&Dt&&(v="Webkit"+G.charAt(0).toUpperCase()+G.slice(1)in ft.style)),v}(w)}containsElement(w,P){return Pt(w,P)}getParentElement(w){return ue(w)}query(w,P,L){return Et(w,P,L)}computeStyle(w,P,L){return L||""}animate(w,P,L,p,I,_=[],A){return new fn.sf(L,p)}static \u0275fac=function(P){return new(P||G)};static \u0275prov=B.jDH({token:G,factory:G.\u0275fac})}return G})();class At{static NOOP=new Me}class un{}const oi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Kr extends un{normalizePropertyName(v,w){return Bo(v)}normalizeStyleValue(v,w,P,L){let p="";const I=P.toString().trim();if(oi.has(w)&&0!==P&&"0"!==P)if("number"==typeof P)p="px";else{const _=P.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&L.push(function Xt(){return new B.wOt(3005,!1)}())}return I+p}}const rt=new Set(["true","1"]),Ne=new Set(["false","0"]);function gt(G,v){const w=rt.has(G)||Ne.has(G),P=rt.has(v)||Ne.has(v);return(L,p)=>{let I="*"==G||G==L,_="*"==v||v==p;return!I&&w&&"boolean"==typeof L&&(I=L?rt.has(G):Ne.has(G)),!_&&P&&"boolean"==typeof p&&(_=p?rt.has(v):Ne.has(v)),I&&_}}const vn=new RegExp("s*:selfs*,?","g");function Bn(G,v,w,P){return new po(G).build(v,w,P)}class po{_driver;constructor(v){this._driver=v}build(v,w,P){const L=new os(w);return this._resetContextStyleTimingState(L),X(this,tr(v),L)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,w){let P=w.queryCount=0,L=w.depCount=0;const p=[],I=[];return"@"==v.name.charAt(0)&&w.errors.push(function ri(){return new B.wOt(3006,!1)}()),v.definitions.forEach(_=>{if(this._resetContextStyleTimingState(w),_.type==fn.If.State){const A=_,k=A.name;k.toString().split(/\s*,\s*/).forEach(Q=>{A.name=Q,p.push(this.visitState(A,w))}),A.name=k}else if(_.type==fn.If.Transition){const A=this.visitTransition(_,w);P+=A.queryCount,L+=A.depCount,I.push(A)}else w.errors.push(function ai(){return new B.wOt(3007,!1)}())}),{type:fn.If.Trigger,name:v.name,states:p,transitions:I,queryCount:P,depCount:L,options:null}}visitState(v,w){const P=this.visitStyle(v.styles,w),L=v.options&&v.options.params||null;if(P.containsDynamicStyles){const p=new Set,I=L||{};P.styles.forEach(_=>{_ instanceof Map&&_.forEach(A=>{Cr(A).forEach(k=>{I.hasOwnProperty(k)||p.add(k)})})}),p.size&&w.errors.push(function pi(){return new B.wOt(3008,!1)}(0,p.values()))}return{type:fn.If.State,name:v.name,style:P,options:L?{params:L}:null}}visitTransition(v,w){w.queryCount=0,w.depCount=0;const P=X(this,tr(v.animation),w),L=function Io(G,v){const w=[];return"string"==typeof G?G.split(/\s*,\s*/).forEach(P=>function zo(G,v,w){if(":"==G[0]){const A=function le(G,v){switch(G){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,P)=>parseFloat(P)>parseFloat(w);case":decrement":return(w,P)=>parseFloat(P)<parseFloat(w);default:return v.push(function Ti(){return new B.wOt(3016,!1)}()),"* => *"}}(G,w);if("function"==typeof A)return void v.push(A);G=A}const P=G.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==P||P.length<4)return w.push(function Cn(){return new B.wOt(3015,!1)}()),v;const L=P[1],p=P[2],I=P[3];v.push(gt(L,I)),"<"==p[0]&&("*"!=L||"*"!=I)&&v.push(gt(I,L))}(P,w,v)):w.push(G),w}(v.expr,w.errors);return{type:fn.If.Transition,matchers:L,animation:P,queryCount:w.queryCount,depCount:w.depCount,options:To(v.options)}}visitSequence(v,w){return{type:fn.If.Sequence,steps:v.steps.map(P=>X(this,P,w)),options:To(v.options)}}visitGroup(v,w){const P=w.currentTime;let L=0;const p=v.steps.map(I=>{w.currentTime=P;const _=X(this,I,w);return L=Math.max(L,w.currentTime),_});return w.currentTime=L,{type:fn.If.Group,steps:p,options:To(v.options)}}visitAnimate(v,w){const P=function ss(G,v){if(G.hasOwnProperty("duration"))return G;if("number"==typeof G)return Po(Ze(G,v).duration,0,"");const w=G;if(w.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=Po(0,0,"");return p.dynamic=!0,p.strValue=w,p}const L=Ze(w,v);return Po(L.duration,L.delay,L.easing)}(v.timings,w.errors);w.currentAnimateTimings=P;let L,p=v.styles?v.styles:(0,fn.iF)({});if(p.type==fn.If.Keyframes)L=this.visitKeyframes(p,w);else{let I=v.styles,_=!1;if(!I){_=!0;const k={};P.easing&&(k.easing=P.easing),I=(0,fn.iF)(k)}w.currentTime+=P.duration+P.delay;const A=this.visitStyle(I,w);A.isEmptyStep=_,L=A}return w.currentAnimateTimings=null,{type:fn.If.Animate,timings:P,style:L,options:null}}visitStyle(v,w){const P=this._makeStyleAst(v,w);return this._validateStyleAst(P,w),P}_makeStyleAst(v,w){const P=[],L=Array.isArray(v.styles)?v.styles:[v.styles];for(let _ of L)"string"==typeof _?_===fn.kp?P.push(_):w.errors.push(new B.wOt(3002,!1)):P.push(new Map(Object.entries(_)));let p=!1,I=null;return P.forEach(_=>{if(_ instanceof Map&&(_.has("easing")&&(I=_.get("easing"),_.delete("easing")),!p))for(let A of _.values())if(A.toString().indexOf("{{")>=0){p=!0;break}}),{type:fn.If.Style,styles:P,easing:I,offset:v.offset,containsDynamicStyles:p,options:null}}_validateStyleAst(v,w){const P=w.currentAnimateTimings;let L=w.currentTime,p=w.currentTime;P&&p>0&&(p-=P.duration+P.delay),v.styles.forEach(I=>{"string"!=typeof I&&I.forEach((_,A)=>{const k=w.collectedStyles.get(w.currentQuerySelector),Q=k.get(A);let Z=!0;Q&&(p!=L&&p>=Q.startTime&&L<=Q.endTime&&(w.errors.push(function Ei(){return new B.wOt(3010,!1)}()),Z=!1),p=Q.startTime),Z&&k.set(A,{startTime:p,endTime:L}),w.options&&function Hr(G,v,w){const P=v.params||{},L=Cr(G);L.length&&L.forEach(p=>{P.hasOwnProperty(p)||w.push(function ht(){return new B.wOt(3001,!1)}())})}(_,w.options,w.errors)})})}visitKeyframes(v,w){const P={type:fn.If.Keyframes,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function Ar(){return new B.wOt(3011,!1)}()),P;let p=0;const I=[];let _=!1,A=!1,k=0;const Q=v.steps.map(ti=>{const qi=this._makeStyleAst(ti,w);let di=null!=qi.offset?qi.offset:function En(G){if("string"==typeof G)return null;let v=null;if(Array.isArray(G))G.forEach(w=>{if(w instanceof Map&&w.has("offset")){const P=w;v=parseFloat(P.get("offset")),P.delete("offset")}});else if(G instanceof Map&&G.has("offset")){const w=G;v=parseFloat(w.get("offset")),w.delete("offset")}return v}(qi.styles),Di=0;return null!=di&&(p++,Di=qi.offset=di),A=A||Di<0||Di>1,_=_||Di<k,k=Di,I.push(Di),qi});A&&w.errors.push(function ci(){return new B.wOt(3012,!1)}()),_&&w.errors.push(function cr(){return new B.wOt(3200,!1)}());const Z=v.steps.length;let Oe=0;p>0&&p<Z?w.errors.push(function ir(){return new B.wOt(3202,!1)}()):0==p&&(Oe=1/(Z-1));const qe=Z-1,Mt=w.currentTime,gn=w.currentAnimateTimings,ur=gn.duration;return Q.forEach((ti,qi)=>{const di=Oe>0?qi==qe?1:Oe*qi:I[qi],Di=di*ur;w.currentTime=Mt+gn.delay+Di,gn.duration=Di,this._validateStyleAst(ti,w),ti.offset=di,P.styles.push(ti)}),P}visitReference(v,w){return{type:fn.If.Reference,animation:X(this,tr(v.animation),w),options:To(v.options)}}visitAnimateChild(v,w){return w.depCount++,{type:fn.If.AnimateChild,options:To(v.options)}}visitAnimateRef(v,w){return{type:fn.If.AnimateRef,animation:this.visitReference(v.animation,w),options:To(v.options)}}visitQuery(v,w){const P=w.currentQuerySelector,L=v.options||{};w.queryCount++,w.currentQuery=v;const[p,I]=function ks(G){const v=!!G.split(/\s*,\s*/).find(w=>":self"==w);return v&&(G=G.replace(vn,"")),G=G.replace(/@\*/g,or).replace(/@\w+/g,w=>or+"-"+w.slice(1)).replace(/:animating/g,Si),[G,v]}(v.selector);w.currentQuerySelector=P.length?P+" "+p:p,Rn(w.collectedStyles,w.currentQuerySelector,new Map);const _=X(this,tr(v.animation),w);return w.currentQuery=null,w.currentQuerySelector=P,{type:fn.If.Query,selector:p,limit:L.limit||0,optional:!!L.optional,includeSelf:I,animation:_,originalSelector:v.selector,options:To(v.options)}}visitStagger(v,w){w.currentQuery||w.errors.push(function gi(){return new B.wOt(3013,!1)}());const P="full"===v.timings?{duration:0,delay:0,easing:"full"}:Ze(v.timings,w.errors,!0);return{type:fn.If.Stagger,animation:X(this,tr(v.animation),w),timings:P,options:null}}}class os{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(v){this.errors=v}}function To(G){return G?(G={...G}).params&&(G.params=function Yr(G){return G?{...G}:null}(G.params)):G={},G}function Po(G,v,w){return{duration:G,delay:v,easing:w}}function Zo(G,v,w,P,L,p,I=null,_=!1){return{type:1,element:G,keyframes:v,preStyleProps:w,postStyleProps:P,duration:L,delay:p,totalTime:L+p,easing:I,subTimeline:_}}class Mo{_map=new Map;get(v){return this._map.get(v)||[]}append(v,w){let P=this._map.get(v);P||this._map.set(v,P=[]),P.push(...w)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const xr=new RegExp(":enter","g"),go=new RegExp(":leave","g");function Go(G,v,w,P,L,p=new Map,I=new Map,_,A,k=[]){return(new Ts).buildKeyframes(G,v,w,P,L,p,I,_,A,k)}class Ts{buildKeyframes(v,w,P,L,p,I,_,A,k,Q=[]){k=k||new Mo;const Z=new co(v,w,k,L,p,Q,[]);Z.options=A;const Oe=A.delay?ve(A.delay):0;Z.currentTimeline.delayNextStep(Oe),Z.currentTimeline.setStyles([I],null,Z.errors,A),X(this,P,Z);const qe=Z.timelines.filter(Mt=>Mt.containsAnimation());if(qe.length&&_.size){let Mt;for(let gn=qe.length-1;gn>=0;gn--){const ur=qe[gn];if(ur.element===w){Mt=ur;break}}Mt&&!Mt.allowOnlyTimelineStyles()&&Mt.setStyles([_],null,Z.errors,A)}return qe.length?qe.map(Mt=>Mt.buildKeyframes()):[Zo(w,[],[],[],0,Oe,"",!1)]}visitTrigger(v,w){}visitState(v,w){}visitTransition(v,w){}visitAnimateChild(v,w){const P=w.subInstructions.get(w.element);if(P){const L=w.createSubContext(v.options),p=w.currentTimeline.currentTime,I=this._visitSubInstructions(P,L,L.options);p!=I&&w.transformIntoNewTimeline(I)}w.previousNode=v}visitAnimateRef(v,w){const P=w.createSubContext(v.options);P.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],w,P),this.visitReference(v.animation,P),w.transformIntoNewTimeline(P.currentTimeline.currentTime),w.previousNode=v}_applyAnimationRefDelays(v,w,P){for(const L of v){const p=L?.delay;if(p){const I="number"==typeof p?p:ve(ao(p,L?.params??{},w.errors));P.delayNextStep(I)}}}_visitSubInstructions(v,w,P){let p=w.currentTimeline.currentTime;const I=null!=P.duration?ve(P.duration):null,_=null!=P.delay?ve(P.delay):null;return 0!==I&&v.forEach(A=>{const k=w.appendInstructionToTimeline(A,I,_);p=Math.max(p,k.duration+k.delay)}),p}visitReference(v,w){w.updateOptions(v.options,!0),X(this,v.animation,w),w.previousNode=v}visitSequence(v,w){const P=w.subContextCount;let L=w;const p=v.options;if(p&&(p.params||p.delay)&&(L=w.createSubContext(p),L.transformIntoNewTimeline(),null!=p.delay)){L.previousNode.type==fn.If.Style&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=Wr);const I=ve(p.delay);L.delayNextStep(I)}v.steps.length&&(v.steps.forEach(I=>X(this,I,L)),L.currentTimeline.applyStylesToKeyframe(),L.subContextCount>P&&L.transformIntoNewTimeline()),w.previousNode=v}visitGroup(v,w){const P=[];let L=w.currentTimeline.currentTime;const p=v.options&&v.options.delay?ve(v.options.delay):0;v.steps.forEach(I=>{const _=w.createSubContext(v.options);p&&_.delayNextStep(p),X(this,I,_),L=Math.max(L,_.currentTimeline.currentTime),P.push(_.currentTimeline)}),P.forEach(I=>w.currentTimeline.mergeTimelineCollectedStyles(I)),w.transformIntoNewTimeline(L),w.previousNode=v}_visitTiming(v,w){if(v.dynamic){const P=v.strValue;return Ze(w.params?ao(P,w.params,w.errors):P,w.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,w){const P=w.currentAnimateTimings=this._visitTiming(v.timings,w),L=w.currentTimeline;P.delay&&(w.incrementTime(P.delay),L.snapshotCurrentStyles());const p=v.style;p.type==fn.If.Keyframes?this.visitKeyframes(p,w):(w.incrementTime(P.duration),this.visitStyle(p,w),L.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=v}visitStyle(v,w){const P=w.currentTimeline,L=w.currentAnimateTimings;!L&&P.hasCurrentStyleProperties()&&P.forwardFrame();const p=L&&L.easing||v.easing;v.isEmptyStep?P.applyEmptyStep(p):P.setStyles(v.styles,p,w.errors,w.options),w.previousNode=v}visitKeyframes(v,w){const P=w.currentAnimateTimings,L=w.currentTimeline.duration,p=P.duration,_=w.createSubContext().currentTimeline;_.easing=P.easing,v.styles.forEach(A=>{_.forwardTime((A.offset||0)*p),_.setStyles(A.styles,A.easing,w.errors,w.options),_.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(_),w.transformIntoNewTimeline(L+p),w.previousNode=v}visitQuery(v,w){const P=w.currentTimeline.currentTime,L=v.options||{},p=L.delay?ve(L.delay):0;p&&(w.previousNode.type===fn.If.Style||0==P&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=Wr);let I=P;const _=w.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!L.optional,w.errors);w.currentQueryTotal=_.length;let A=null;_.forEach((k,Q)=>{w.currentQueryIndex=Q;const Z=w.createSubContext(v.options,k);p&&Z.delayNextStep(p),k===w.element&&(A=Z.currentTimeline),X(this,v.animation,Z),Z.currentTimeline.applyStylesToKeyframe(),I=Math.max(I,Z.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(I),A&&(w.currentTimeline.mergeTimelineCollectedStyles(A),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=v}visitStagger(v,w){const P=w.parentContext,L=w.currentTimeline,p=v.timings,I=Math.abs(p.duration),_=I*(w.currentQueryTotal-1);let A=I*w.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":A=_-A;break;case"full":A=P.currentStaggerTime}const Q=w.currentTimeline;A&&Q.delayNextStep(A);const Z=Q.currentTime;X(this,v.animation,w),w.previousNode=v,P.currentStaggerTime=L.currentTime-Z+(L.startTime-P.currentTimeline.startTime)}}const Wr={};class co{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Wr;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(v,w,P,L,p,I,_,A){this._driver=v,this.element=w,this.subInstructions=P,this._enterClassName=L,this._leaveClassName=p,this.errors=I,this.timelines=_,this.currentTimeline=A||new Qr(this._driver,w,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,w){if(!v)return;const P=v;let L=this.options;null!=P.duration&&(L.duration=ve(P.duration)),null!=P.delay&&(L.delay=ve(P.delay));const p=P.params;if(p){let I=L.params;I||(I=this.options.params={}),Object.keys(p).forEach(_=>{(!w||!I.hasOwnProperty(_))&&(I[_]=ao(p[_],I,this.errors))})}}_copyOptions(){const v={};if(this.options){const w=this.options.params;if(w){const P=v.params={};Object.keys(w).forEach(L=>{P[L]=w[L]})}}return v}createSubContext(v=null,w,P){const L=w||this.element,p=new co(this._driver,L,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(L,P||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(v),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(v){return this.previousNode=Wr,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,w,P){const L={duration:w??v.duration,delay:this.currentTimeline.currentTime+(P??0)+v.delay,easing:""},p=new Xr(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,L,v.stretchStartingKeyframe);return this.timelines.push(p),L}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,w,P,L,p,I){let _=[];if(L&&_.push(this.element),v.length>0){v=(v=v.replace(xr,"."+this._enterClassName)).replace(go,"."+this._leaveClassName);let k=this._driver.query(this.element,v,1!=P);0!==P&&(k=P<0?k.slice(k.length+P,k.length):k.slice(0,P)),_.push(...k)}return!p&&0==_.length&&I.push(function lr(){return new B.wOt(3014,!1)}()),_}}class Qr{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(v,w,P,L){this._driver=v,this.element=w,this.startTime=P,this._elementTimelineStylesLookup=L,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+v),w&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,w){return this.applyStylesToKeyframe(),new Qr(this._driver,v,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,w){this._localTimelineStyles.set(v,w),this._globalTimelineStyles.set(v,w),this._styleSummary.set(v,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[w,P]of this._globalTimelineStyles)this._backFill.set(w,P||fn.kp),this._currentKeyframe.set(w,fn.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,w,P,L){w&&this._previousKeyframe.set("easing",w);const p=L&&L.params||{},I=function No(G,v){const w=new Map;let P;return G.forEach(L=>{if("*"===L){P??=v.keys();for(let p of P)w.set(p,fn.kp)}else for(let[p,I]of L)w.set(p,I)}),w}(v,this._globalTimelineStyles);for(let[_,A]of I){const k=ao(A,p,P);this._pendingStyles.set(_,k),this._localTimelineStyles.has(_)||this._backFill.set(_,this._globalTimelineStyles.get(_)??fn.kp),this._updateStyle(_,k)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,w)=>{this._currentKeyframe.set(w,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,v)}))}snapshotCurrentStyles(){for(let[v,w]of this._localTimelineStyles)this._pendingStyles.set(v,w),this._updateStyle(v,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let w in this._currentKeyframe)v.push(w);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((w,P)=>{const L=this._styleSummary.get(P);(!L||w.time>L.time)&&this._updateStyle(P,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,w=new Set,P=1===this._keyframes.size&&0===this.duration;let L=[];this._keyframes.forEach((_,A)=>{const k=new Map([...this._backFill,..._]);k.forEach((Q,Z)=>{Q===fn.FX?v.add(Z):Q===fn.kp&&w.add(Z)}),P||k.set("offset",A/this.duration),L.push(k)});const p=[...v.values()],I=[...w.values()];if(P){const _=L[0],A=new Map(_);_.set("offset",0),A.set("offset",1),L=[_,A]}return Zo(this.element,L,p,I,this.duration,this.startTime,this.easing,!1)}}class Xr extends Qr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(v,w,P,L,p,I,_=!1){super(v,w,I.delay),this.keyframes=P,this.preStyleProps=L,this.postStyleProps=p,this._stretchStartingKeyframe=_,this.timings={duration:I.duration,delay:I.delay,easing:I.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:w,duration:P,easing:L}=this.timings;if(this._stretchStartingKeyframe&&w){const p=[],I=P+w,_=w/I,A=new Map(v[0]);A.set("offset",0),p.push(A);const k=new Map(v[0]);k.set("offset",bs(_)),p.push(k);const Q=v.length-1;for(let Z=1;Z<=Q;Z++){let Oe=new Map(v[Z]);const qe=Oe.get("offset");Oe.set("offset",bs((w+qe*P)/I)),p.push(Oe)}P=I,w=0,L="",v=p}return Zo(this.element,v,this.preStyleProps,this.postStyleProps,P,w,L,!0)}}function bs(G,v=3){const w=Math.pow(10,v-1);return Math.round(G*w)/w}function ko(G,v,w,P,L,p,I,_,A,k,Q,Z,Oe){return{type:0,element:G,triggerName:v,isRemovalTransition:L,fromState:w,fromStyles:p,toState:P,toStyles:I,timelines:_,queriedElements:A,preStyleProps:k,postStyleProps:Q,totalTime:Z,errors:Oe}}const ls={};class bo{_triggerName;ast;_stateStyles;constructor(v,w,P){this._triggerName=v,this.ast=w,this._stateStyles=P}match(v,w,P,L){return function $s(G,v,w,P,L){return G.some(p=>p(v,w,P,L))}(this.ast.matchers,v,w,P,L)}buildStyles(v,w,P){let L=this._stateStyles.get("*");return void 0!==v&&(L=this._stateStyles.get(v?.toString())||L),L?L.buildStyles(w,P):new Map}build(v,w,P,L,p,I,_,A,k,Q){const Z=[],Oe=this.ast.options&&this.ast.options.params||ls,Mt=this.buildStyles(P,_&&_.params||ls,Z),gn=A&&A.params||ls,ur=this.buildStyles(L,gn,Z),ti=new Set,qi=new Map,di=new Map,Di="void"===L,Fo={params:xo(gn,Oe),delay:this.ast.options?.delay},ms=Q?[]:Go(v,w,this.ast.animation,p,I,Mt,ur,Fo,k,Z);let yo=0;return ms.forEach(Xo=>{yo=Math.max(Xo.duration+Xo.delay,yo)}),Z.length?ko(w,this._triggerName,P,L,Di,Mt,ur,[],[],qi,di,yo,Z):(ms.forEach(Xo=>{const ga=Xo.element,kc=Rn(qi,ga,new Set);Xo.preStyleProps.forEach(oa=>kc.add(oa));const Ml=Rn(di,ga,new Set);Xo.postStyleProps.forEach(oa=>Ml.add(oa)),ga!==w&&ti.add(ga)}),ko(w,this._triggerName,P,L,Di,Mt,ur,ms,[...ti.values()],qi,di,yo))}}function xo(G,v){const w={...v};return Object.entries(G).forEach(([P,L])=>{null!=L&&(w[P]=L)}),w}class Or{styles;defaultParams;normalizer;constructor(v,w,P){this.styles=v,this.defaultParams=w,this.normalizer=P}buildStyles(v,w){const P=new Map,L=xo(v,this.defaultParams);return this.styles.styles.forEach(p=>{"string"!=typeof p&&p.forEach((I,_)=>{I&&(I=ao(I,L,w));const A=this.normalizer.normalizePropertyName(_,w);I=this.normalizer.normalizeStyleValue(_,A,I,w),P.set(_,I)})}),P}}class Ji{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(v,w,P){this.name=v,this.ast=w,this._normalizer=P,w.states.forEach(L=>{this.states.set(L.name,new Or(L.style,L.options&&L.options.params||{},P))}),xs(this.states,"true","1"),xs(this.states,"false","0"),w.transitions.forEach(L=>{this.transitionFactories.push(new bo(v,L,this.states))}),this.fallbackTransition=function ra(G,v){return new bo(G,{type:fn.If.Transition,animation:{type:fn.If.Sequence,steps:[],options:null},matchers:[(I,_)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,w,P,L){return this.transitionFactories.find(I=>I.match(v,w,P,L))||null}matchStyles(v,w,P){return this.fallbackTransition.buildStyles(v,w,P)}}function xs(G,v,w){G.has(v)?G.has(w)||G.set(w,G.get(v)):G.has(w)&&G.set(v,G.get(w))}const ba=new Mo;class jo{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(v,w,P){this.bodyNode=v,this._driver=w,this._normalizer=P}register(v,w){const P=[],p=Bn(this._driver,w,P,[]);if(P.length)throw function Dr(){return new B.wOt(3503,!1)}();this._animations.set(v,p)}_buildPlayer(v,w,P){const L=v.element,p=je(this._normalizer,v.keyframes,w,P);return this._driver.animate(L,p,v.duration,v.delay,v.easing,[],!0)}create(v,w,P={}){const L=[],p=this._animations.get(v);let I;const _=new Map;if(p?(I=Go(this._driver,w,p,Un,ln,new Map,new Map,P,ba,L),I.forEach(Q=>{const Z=Rn(_,Q.element,new Map);Q.postStyleProps.forEach(Oe=>Z.set(Oe,null))})):(L.push(function Zi(){return new B.wOt(3300,!1)}()),I=[]),L.length)throw function ii(){return new B.wOt(3504,!1)}();_.forEach((Q,Z)=>{Q.forEach((Oe,qe)=>{Q.set(qe,this._driver.computeStyle(Z,qe,fn.kp))})});const k=ye(I.map(Q=>{const Z=_.get(Q.element);return this._buildPlayer(Q,new Map,Z)}));return this._playersById.set(v,k),k.onDestroy(()=>this.destroy(v)),this.players.push(k),k}destroy(v){const w=this._getPlayer(v);w.destroy(),this._playersById.delete(v);const P=this.players.indexOf(w);P>=0&&this.players.splice(P,1)}_getPlayer(v){const w=this._playersById.get(v);if(!w)throw function Oi(){return new B.wOt(3301,!1)}();return w}listen(v,w,P,L){const p=Yt(w,"","","");return Lt(this._getPlayer(v),P,p,L),()=>{}}command(v,w,P,L){if("register"==P)return void this.register(v,L[0]);if("create"==P)return void this.create(v,w,L[0]||{});const p=this._getPlayer(v);switch(P){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(L[0]));break;case"destroy":this.destroy(v)}}}const _r="ng-animate-queued",K="ng-animate-disabled",xt=[],Qt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pn="__ng_removed";class hr{namespaceId;value;options;get params(){return this.options.params}constructor(v,w=""){this.namespaceId=w;const P=v&&v.hasOwnProperty("value");if(this.value=function Jr(G){return G??null}(P?v.value:v),P){const{value:p,...I}=v;this.options=I}else this.options={};this.options.params||(this.options.params={})}absorbOptions(v){const w=v.params;if(w){const P=this.options.params;Object.keys(w).forEach(L=>{null==P[L]&&(P[L]=w[L])})}}}const Xn="void",Lr=new hr(Xn);class Ii{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(v,w,P){this.id=v,this.hostElement=w,this._engine=P,this._hostClassName="ng-tns-"+v,ei(w,this._hostClassName)}listen(v,w,P,L){if(!this._triggers.has(w))throw function _n(){return new B.wOt(3302,!1)}();if(null==P||0==P.length)throw function fr(){return new B.wOt(3303,!1)}();if(!function uo(G){return"start"==G||"done"==G}(P))throw function wr(){return new B.wOt(3400,!1)}();const p=Rn(this._elementListeners,v,[]),I={name:w,phase:P,callback:L};p.push(I);const _=Rn(this._engine.statesByElement,v,new Map);return _.has(w)||(ei(v,Gn),ei(v,Gn+"-"+w),_.set(w,Lr)),()=>{this._engine.afterFlush(()=>{const A=p.indexOf(I);A>=0&&p.splice(A,1),this._triggers.has(w)||_.delete(w)})}}register(v,w){return!this._triggers.has(v)&&(this._triggers.set(v,w),!0)}_getTrigger(v){const w=this._triggers.get(v);if(!w)throw function Fi(){return new B.wOt(3401,!1)}();return w}trigger(v,w,P,L=!0){const p=this._getTrigger(w),I=new Bi(this.id,w,v);let _=this._engine.statesByElement.get(v);_||(ei(v,Gn),ei(v,Gn+"-"+w),this._engine.statesByElement.set(v,_=new Map));let A=_.get(w);const k=new hr(P,this.id);if(!(P&&P.hasOwnProperty("value"))&&A&&k.absorbOptions(A.options),_.set(w,k),A||(A=Lr),k.value!==Xn&&A.value===k.value){if(!function Da(G,v){const w=Object.keys(G),P=Object.keys(v);if(w.length!=P.length)return!1;for(let L=0;L<w.length;L++){const p=w[L];if(!v.hasOwnProperty(p)||G[p]!==v[p])return!1}return!0}(A.params,k.params)){const gn=[],ur=p.matchStyles(A.value,A.params,gn),ti=p.matchStyles(k.value,k.params,gn);gn.length?this._engine.reportError(gn):this._engine.afterFlush(()=>{An(v,ur),On(v,ti)})}return}const Oe=Rn(this._engine.playersByElement,v,[]);Oe.forEach(gn=>{gn.namespaceId==this.id&&gn.triggerName==w&&gn.queued&&gn.destroy()});let qe=p.matchTransition(A.value,k.value,v,k.params),Mt=!1;if(!qe){if(!L)return;qe=p.fallbackTransition,Mt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:w,transition:qe,fromState:A,toState:k,player:I,isFallbackTransition:Mt}),Mt||(ei(v,_r),I.onStart(()=>{mo(v,_r)})),I.onDone(()=>{let gn=this.players.indexOf(I);gn>=0&&this.players.splice(gn,1);const ur=this._engine.playersByElement.get(v);if(ur){let ti=ur.indexOf(I);ti>=0&&ur.splice(ti,1)}}),this.players.push(I),Oe.push(I),I}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(w=>w.delete(v)),this._elementListeners.forEach((w,P)=>{this._elementListeners.set(P,w.filter(L=>L.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const w=this._engine.playersByElement.get(v);w&&(w.forEach(P=>P.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,w){const P=this._engine.driver.query(v,or,!0);P.forEach(L=>{if(L[pn])return;const p=this._engine.fetchNamespacesByElement(L);p.size?p.forEach(I=>I.triggerLeaveAnimation(L,w,!1,!0)):this.clearElementCache(L)}),this._engine.afterFlushAnimationsDone(()=>P.forEach(L=>this.clearElementCache(L)))}triggerLeaveAnimation(v,w,P,L){const p=this._engine.statesByElement.get(v),I=new Map;if(p){const _=[];if(p.forEach((A,k)=>{if(I.set(k,A.value),this._triggers.has(k)){const Q=this.trigger(v,k,Xn,L);Q&&_.push(Q)}}),_.length)return this._engine.markElementAsRemoved(this.id,v,!0,w,I),P&&ye(_).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const w=this._elementListeners.get(v),P=this._engine.statesByElement.get(v);if(w&&P){const L=new Set;w.forEach(p=>{const I=p.name;if(L.has(I))return;L.add(I);const A=this._triggers.get(I).fallbackTransition,k=P.get(I)||Lr,Q=new hr(Xn),Z=new Bi(this.id,I,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:I,transition:A,fromState:k,toState:Q,player:Z,isFallbackTransition:!0})})}}removeNode(v,w){const P=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,w),this.triggerLeaveAnimation(v,w,!0))return;let L=!1;if(P.totalAnimations){const p=P.players.length?P.playersByQueriedElement.get(v):[];if(p&&p.length)L=!0;else{let I=v;for(;I=I.parentNode;)if(P.statesByElement.get(I)){L=!0;break}}}if(this.prepareLeaveAnimationListeners(v),L)P.markElementAsRemoved(this.id,v,!1,w);else{const p=v[pn];(!p||p===Qt)&&(P.afterFlush(()=>this.clearElementCache(v)),P.destroyInnerAnimations(v),P._onRemovalComplete(v,w))}}insertNode(v,w){ei(v,this._hostClassName)}drainQueuedTransitions(v){const w=[];return this._queue.forEach(P=>{const L=P.player;if(L.destroyed)return;const p=P.element,I=this._elementListeners.get(p);I&&I.forEach(_=>{if(_.name==P.triggerName){const A=Yt(p,P.triggerName,P.fromState.value,P.toState.value);A._data=v,Lt(P.player,_.phase,A,_.callback)}}),L.markedForDestroy?this._engine.afterFlush(()=>{L.destroy()}):w.push(P)}),this._queue=[],w.sort((P,L)=>{const p=P.transition.ast.depCount,I=L.transition.ast.depCount;return 0==p||0==I?p-I:this._engine.driver.containsElement(P.element,L.element)?1:-1})}destroy(v){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}}class yi{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(v,w)=>{};_onRemovalComplete(v,w){this.onRemovalComplete(v,w)}constructor(v,w,P){this.bodyNode=v,this.driver=w,this._normalizer=P}get queuedPlayers(){const v=[];return this._namespaceList.forEach(w=>{w.players.forEach(P=>{P.queued&&v.push(P)})}),v}createNamespace(v,w){const P=new Ii(v,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(P,w):(this.newHostElements.set(w,P),this.collectEnterElement(w)),this._namespaceLookup[v]=P}_balanceNamespaceList(v,w){const P=this._namespaceList,L=this.namespacesByHostElement;if(P.length-1>=0){let I=!1,_=this.driver.getParentElement(w);for(;_;){const A=L.get(_);if(A){const k=P.indexOf(A);P.splice(k+1,0,v),I=!0;break}_=this.driver.getParentElement(_)}I||P.unshift(v)}else P.push(v);return L.set(w,v),v}register(v,w){let P=this._namespaceLookup[v];return P||(P=this.createNamespace(v,w)),P}registerTrigger(v,w,P){let L=this._namespaceLookup[v];L&&L.register(w,P)&&this.totalAnimations++}destroy(v,w){v&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const P=this._fetchNamespace(v);this.namespacesByHostElement.delete(P.hostElement);const L=this._namespaceList.indexOf(P);L>=0&&this._namespaceList.splice(L,1),P.destroy(w),delete this._namespaceLookup[v]}))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const w=new Set,P=this.statesByElement.get(v);if(P)for(let L of P.values())if(L.namespaceId){const p=this._fetchNamespace(L.namespaceId);p&&w.add(p)}return w}trigger(v,w,P,L){if(ki(w)){const p=this._fetchNamespace(v);if(p)return p.trigger(w,P,L),!0}return!1}insertNode(v,w,P,L){if(!ki(w))return;const p=w[pn];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const I=this.collectedLeaveElements.indexOf(w);I>=0&&this.collectedLeaveElements.splice(I,1)}if(v){const I=this._fetchNamespace(v);I&&I.insertNode(w,P)}L&&this.collectEnterElement(w)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,w){w?this.disabledNodes.has(v)||(this.disabledNodes.add(v),ei(v,K)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),mo(v,K))}removeNode(v,w,P){if(ki(w)){const L=v?this._fetchNamespace(v):null;L?L.removeNode(w,P):this.markElementAsRemoved(v,w,!1,P);const p=this.namespacesByHostElement.get(w);p&&p.id!==v&&p.removeNode(w,P)}else this._onRemovalComplete(w,P)}markElementAsRemoved(v,w,P,L,p){this.collectedLeaveElements.push(w),w[pn]={namespaceId:v,setForRemoval:L,hasAnimation:P,removedBeforeQueried:!1,previousTriggersValues:p}}listen(v,w,P,L,p){return ki(w)?this._fetchNamespace(v).listen(w,P,L,p):()=>{}}_buildInstruction(v,w,P,L,p){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,P,L,v.fromState.options,v.toState.options,w,p)}destroyInnerAnimations(v){let w=this.driver.query(v,or,!0);w.forEach(P=>this.destroyActiveAnimationsForElement(P)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(v,Si,!0),w.forEach(P=>this.finishActiveQueriedAnimationOnElement(P)))}destroyActiveAnimationsForElement(v){const w=this.playersByElement.get(v);w&&w.forEach(P=>{P.queued?P.markedForDestroy=!0:P.destroy()})}finishActiveQueriedAnimationOnElement(v){const w=this.playersByQueriedElement.get(v);w&&w.forEach(P=>P.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return ye(this.players).onDone(()=>v());v()})}processLeaveNode(v){const w=v[pn];if(w&&w.setForRemoval){if(v[pn]=Qt,w.namespaceId){this.destroyInnerAnimations(v);const P=this._fetchNamespace(w.namespaceId);P&&P.clearElementCache(v)}this._onRemovalComplete(v,w.setForRemoval)}v.classList?.contains(K)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(P=>{this.markElementAsDisabled(P,!1)})}flush(v=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((P,L)=>this._balanceNamespaceList(P,L)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let P=0;P<this.collectedEnterElements.length;P++)ei(this.collectedEnterElements[P],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const P=[];try{w=this._flushAnimations(P,v)}finally{for(let L=0;L<P.length;L++)P[L]()}}else for(let P=0;P<this.collectedLeaveElements.length;P++)this.processLeaveNode(this.collectedLeaveElements[P]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(P=>P()),this._flushFns=[],this._whenQuietFns.length){const P=this._whenQuietFns;this._whenQuietFns=[],w.length?ye(w).onDone(()=>{P.forEach(L=>L())}):P.forEach(L=>L())}}reportError(v){throw function Li(){return new B.wOt(3402,!1)}()}_flushAnimations(v,w){const P=new Mo,L=[],p=new Map,I=[],_=new Map,A=new Map,k=new Map,Q=new Set;this.disabledNodes.forEach(jn=>{Q.add(jn);const Yn=this.driver.query(jn,".ng-animate-queued",!0);for(let ar=0;ar<Yn.length;ar++)Q.add(Yn[ar])});const Z=this.bodyNode,Oe=Array.from(this.statesByElement.keys()),qe=Do(Oe,this.collectedEnterElements),Mt=new Map;let gn=0;qe.forEach((jn,Yn)=>{const ar=Un+gn++;Mt.set(Yn,ar),jn.forEach(vi=>ei(vi,ar))});const ur=[],ti=new Set,qi=new Set;for(let jn=0;jn<this.collectedLeaveElements.length;jn++){const Yn=this.collectedLeaveElements[jn],ar=Yn[pn];ar&&ar.setForRemoval&&(ur.push(Yn),ti.add(Yn),ar.hasAnimation?this.driver.query(Yn,".ng-star-inserted",!0).forEach(vi=>ti.add(vi)):qi.add(Yn))}const di=new Map,Di=Do(Oe,Array.from(ti));Di.forEach((jn,Yn)=>{const ar=ln+gn++;di.set(Yn,ar),jn.forEach(vi=>ei(vi,ar))}),v.push(()=>{qe.forEach((jn,Yn)=>{const ar=Mt.get(Yn);jn.forEach(vi=>mo(vi,ar))}),Di.forEach((jn,Yn)=>{const ar=di.get(Yn);jn.forEach(vi=>mo(vi,ar))}),ur.forEach(jn=>{this.processLeaveNode(jn)})});const Fo=[],ms=[];for(let jn=this._namespaceList.length-1;jn>=0;jn--)this._namespaceList[jn].drainQueuedTransitions(w).forEach(ar=>{const vi=ar.player,Sr=ar.element;if(Fo.push(vi),this.collectedEnterElements.length){const _o=Sr[pn];if(_o&&_o.setForMove){if(_o.previousTriggersValues&&_o.previousTriggersValues.has(ar.triggerName)){const to=_o.previousTriggersValues.get(ar.triggerName),us=this.statesByElement.get(ar.element);if(us&&us.has(ar.triggerName)){const Ls=us.get(ar.triggerName);Ls.value=to,us.set(ar.triggerName,Ls)}}return void vi.destroy()}}const ma=!Z||!this.driver.containsElement(Z,Sr),br=di.get(Sr),Rs=Mt.get(Sr),hi=this._buildInstruction(ar,P,Rs,br,ma);if(hi.errors&&hi.errors.length)return void ms.push(hi);if(ma)return vi.onStart(()=>An(Sr,hi.fromStyles)),vi.onDestroy(()=>On(Sr,hi.toStyles)),void L.push(vi);if(ar.isFallbackTransition)return vi.onStart(()=>An(Sr,hi.fromStyles)),vi.onDestroy(()=>On(Sr,hi.toStyles)),void L.push(vi);const ni=[];hi.timelines.forEach(_o=>{_o.stretchStartingKeyframe=!0,this.disabledNodes.has(_o.element)||ni.push(_o)}),hi.timelines=ni,P.append(Sr,hi.timelines),I.push({instruction:hi,player:vi,element:Sr}),hi.queriedElements.forEach(_o=>Rn(_,_o,[]).push(vi)),hi.preStyleProps.forEach((_o,to)=>{if(_o.size){let us=A.get(to);us||A.set(to,us=new Set),_o.forEach((Ls,Ds)=>us.add(Ds))}}),hi.postStyleProps.forEach((_o,to)=>{let us=k.get(to);us||k.set(to,us=new Set),_o.forEach((Ls,Ds)=>us.add(Ds))})});if(ms.length){const jn=[];ms.forEach(Yn=>{jn.push(function Vi(){return new B.wOt(3505,!1)}())}),Fo.forEach(Yn=>Yn.destroy()),this.reportError(jn)}const yo=new Map,Xo=new Map;I.forEach(jn=>{const Yn=jn.element;P.has(Yn)&&(Xo.set(Yn,Yn),this._beforeAnimationBuild(jn.player.namespaceId,jn.instruction,yo))}),L.forEach(jn=>{const Yn=jn.element;this._getPreviousPlayers(Yn,!1,jn.namespaceId,jn.triggerName,null).forEach(vi=>{Rn(yo,Yn,[]).push(vi),vi.destroy()})});const ga=ur.filter(jn=>Hs(jn,A,k)),kc=new Map;Pi(kc,this.driver,qi,k,fn.kp).forEach(jn=>{Hs(jn,A,k)&&ga.push(jn)});const oa=new Map;qe.forEach((jn,Yn)=>{Pi(oa,this.driver,new Set(jn),A,fn.FX)}),ga.forEach(jn=>{const Yn=kc.get(jn),ar=oa.get(jn);kc.set(jn,new Map([...Yn?.entries()??[],...ar?.entries()??[]]))});const Hu=[],Nl=[],eo={};I.forEach(jn=>{const{element:Yn,player:ar,instruction:vi}=jn;if(P.has(Yn)){if(Q.has(Yn))return ar.onDestroy(()=>On(Yn,vi.toStyles)),ar.disabled=!0,ar.overrideTotalTime(vi.totalTime),void L.push(ar);let Sr=eo;if(Xo.size>1){let br=Yn;const Rs=[];for(;br=br.parentNode;){const hi=Xo.get(br);if(hi){Sr=hi;break}Rs.push(br)}Rs.forEach(hi=>Xo.set(hi,Sr))}const ma=this._buildAnimation(ar.namespaceId,vi,yo,p,oa,kc);if(ar.setRealPlayer(ma),Sr===eo)Hu.push(ar);else{const br=this.playersByElement.get(Sr);br&&br.length&&(ar.parentPlayer=ye(br)),L.push(ar)}}else An(Yn,vi.fromStyles),ar.onDestroy(()=>On(Yn,vi.toStyles)),Nl.push(ar),Q.has(Yn)&&L.push(ar)}),Nl.forEach(jn=>{const Yn=p.get(jn.element);if(Yn&&Yn.length){const ar=ye(Yn);jn.setRealPlayer(ar)}}),L.forEach(jn=>{jn.parentPlayer?jn.syncPlayerEvents(jn.parentPlayer):jn.destroy()});for(let jn=0;jn<ur.length;jn++){const Yn=ur[jn],ar=Yn[pn];if(mo(Yn,ln),ar&&ar.hasAnimation)continue;let vi=[];if(_.size){let ma=_.get(Yn);ma&&ma.length&&vi.push(...ma);let br=this.driver.query(Yn,Si,!0);for(let Rs=0;Rs<br.length;Rs++){let hi=_.get(br[Rs]);hi&&hi.length&&vi.push(...hi)}}const Sr=vi.filter(ma=>!ma.destroyed);Sr.length?Ko(this,Yn,Sr):this.processLeaveNode(Yn)}return ur.length=0,Hu.forEach(jn=>{this.players.push(jn),jn.onDone(()=>{jn.destroy();const Yn=this.players.indexOf(jn);this.players.splice(Yn,1)}),jn.play()}),Hu}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,w,P,L,p){let I=[];if(w){const _=this.playersByQueriedElement.get(v);_&&(I=_)}else{const _=this.playersByElement.get(v);if(_){const A=!p||p==Xn;_.forEach(k=>{k.queued||!A&&k.triggerName!=L||I.push(k)})}}return(P||L)&&(I=I.filter(_=>!(P&&P!=_.namespaceId||L&&L!=_.triggerName))),I}_beforeAnimationBuild(v,w,P){const p=w.element,I=w.isRemovalTransition?void 0:v,_=w.isRemovalTransition?void 0:w.triggerName;for(const A of w.timelines){const k=A.element,Q=k!==p,Z=Rn(P,k,[]);this._getPreviousPlayers(k,Q,I,_,w.toState).forEach(qe=>{const Mt=qe.getRealPlayer();Mt.beforeDestroy&&Mt.beforeDestroy(),qe.destroy(),Z.push(qe)})}An(p,w.fromStyles)}_buildAnimation(v,w,P,L,p,I){const _=w.triggerName,A=w.element,k=[],Q=new Set,Z=new Set,Oe=w.timelines.map(Mt=>{const gn=Mt.element;Q.add(gn);const ur=gn[pn];if(ur&&ur.removedBeforeQueried)return new fn.sf(Mt.duration,Mt.delay);const ti=gn!==A,qi=function ds(G){const v=[];return ha(G,v),v}((P.get(gn)||xt).map(yo=>yo.getRealPlayer())).filter(yo=>!!yo.element&&yo.element===gn),di=p.get(gn),Di=I.get(gn),Fo=je(this._normalizer,Mt.keyframes,di,Di),ms=this._buildPlayer(Mt,Fo,qi);if(Mt.subTimeline&&L&&Z.add(gn),ti){const yo=new Bi(v,_,gn);yo.setRealPlayer(ms),k.push(yo)}return ms});k.forEach(Mt=>{Rn(this.playersByQueriedElement,Mt.element,[]).push(Mt),Mt.onDone(()=>function Ri(G,v,w){let P=G.get(v);if(P){if(P.length){const L=P.indexOf(w);P.splice(L,1)}0==P.length&&G.delete(v)}return P}(this.playersByQueriedElement,Mt.element,Mt))}),Q.forEach(Mt=>ei(Mt,wi));const qe=ye(Oe);return qe.onDestroy(()=>{Q.forEach(Mt=>mo(Mt,wi)),On(A,w.toStyles)}),Z.forEach(Mt=>{Rn(L,Mt,[]).push(qe)}),qe}_buildPlayer(v,w,P){return w.length>0?this.driver.animate(v.element,w,v.duration,v.delay,v.easing,P):new fn.sf(v.duration,v.delay)}}class Bi{namespaceId;triggerName;element;_player=new fn.sf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(v,w,P){this.namespaceId=v,this.triggerName=w,this.element=P}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((w,P)=>{w.forEach(L=>Lt(v,P,void 0,L))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const w=this._player;w.triggerCallback&&v.onStart(()=>w.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,w){Rn(this._queuedCallbacks,v,[]).push(w)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const w=this._player;w.triggerCallback&&w.triggerCallback(v)}}function ki(G){return G&&1===G.nodeType}function _i(G,v){const w=G.style.display;return G.style.display=v??"none",w}function Pi(G,v,w,P,L){const p=[];w.forEach(A=>p.push(_i(A)));const I=[];P.forEach((A,k)=>{const Q=new Map;A.forEach(Z=>{const Oe=v.computeStyle(k,Z,L);Q.set(Z,Oe),(!Oe||0==Oe.length)&&(k[pn]=Tn,I.push(k))}),G.set(k,Q)});let _=0;return w.forEach(A=>_i(A,p[_++])),I}function Do(G,v){const w=new Map;if(G.forEach(_=>w.set(_,[])),0==v.length)return w;const L=new Set(v),p=new Map;function I(_){if(!_)return 1;let A=p.get(_);if(A)return A;const k=_.parentNode;return A=w.has(k)?k:L.has(k)?1:I(k),p.set(_,A),A}return v.forEach(_=>{const A=I(_);1!==A&&w.get(A).push(_)}),w}function ei(G,v){G.classList?.add(v)}function mo(G,v){G.classList?.remove(v)}function Ko(G,v,w){ye(w).onDone(()=>G.processLeaveNode(v))}function ha(G,v){for(let w=0;w<G.length;w++){const P=G[w];P instanceof fn.PZ?ha(P.players,v):v.push(P)}}function Hs(G,v,w){const P=w.get(G);if(!P)return!1;let L=v.get(G);return L?P.forEach(p=>L.add(p)):v.set(G,P),w.delete(G),!0}class hs{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(v,w)=>{};constructor(v,w,P){this._driver=w,this._normalizer=P,this._transitionEngine=new yi(v.body,w,P),this._timelineEngine=new jo(v.body,w,P),this._transitionEngine.onRemovalComplete=(L,p)=>this.onRemovalComplete(L,p)}registerTrigger(v,w,P,L,p){const I=v+"-"+L;let _=this._triggerCache[I];if(!_){const A=[],Q=Bn(this._driver,p,A,[]);if(A.length)throw function Xi(){return new B.wOt(3404,!1)}();_=function yr(G,v,w){return new Ji(G,v,w)}(L,Q,this._normalizer),this._triggerCache[I]=_}this._transitionEngine.registerTrigger(w,L,_)}register(v,w){this._transitionEngine.register(v,w)}destroy(v,w){this._transitionEngine.destroy(v,w)}onInsert(v,w,P,L){this._transitionEngine.insertNode(v,w,P,L)}onRemove(v,w,P){this._transitionEngine.removeNode(v,w,P)}disableAnimations(v,w){this._transitionEngine.markElementAsDisabled(v,w)}process(v,w,P,L){if("@"==P.charAt(0)){const[p,I]=pr(P);this._timelineEngine.command(p,w,I,L)}else this._transitionEngine.trigger(v,w,P,L)}listen(v,w,P,L,p){if("@"==P.charAt(0)){const[I,_]=pr(P);return this._timelineEngine.listen(I,w,_,p)}return this._transitionEngine.listen(v,w,P,L,p)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(v){this._transitionEngine.afterFlushAnimationsDone(v)}}let fa=(()=>{class G{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(w,P,L){this._element=w,this._startStyles=P,this._endStyles=L;let p=G.initialStylesByElement.get(w);p||G.initialStylesByElement.set(w,p=new Map),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&On(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(On(this._element,this._initialStyles),this._endStyles&&(On(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(G.initialStylesByElement.delete(this._element),this._startStyles&&(An(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(An(this._element,this._endStyles),this._endStyles=null),On(this._element,this._initialStyles),this._state=3)}}return G})();function zs(G){let v=null;return G.forEach((w,P)=>{(function oo(G){return"display"===G||"position"===G})(P)&&(v=v||new Map,v.set(P,w))}),v}class Os{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(v,w,P,L){this.element=v,this.keyframes=w,this.options=P,this._specialStyles=L,this._duration=P.duration,this._delay=P.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map;const w=()=>this._onFinish();this.domPlayer.addEventListener("finish",w),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",w)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const w=[];return v.forEach(P=>{w.push(Object.fromEntries(P))}),w}_triggerWebAnimation(v,w,P){return v.animate(this._convertKeyframesToObject(w),P)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((P,L)=>{"offset"!==L&&v.set(L,this._finished?P:re(this.element,L))}),this.currentSnapshot=v}triggerCallback(v){const w="start"===v?this._onStartFns:this._onDoneFns;w.forEach(P=>P()),w.length=0}}class ui{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}containsElement(v,w){return Pt(v,w)}getParentElement(v){return ue(v)}query(v,w,P){return Et(v,w,P)}computeStyle(v,w,P){return re(v,w)}animate(v,w,P,L,p,I=[]){const A={duration:P,delay:L,fill:0==L?"both":"forwards"};p&&(A.easing=p);const k=new Map,Q=I.filter(qe=>qe instanceof Os);(function j(G,v){return 0===G||0===v})(P,L)&&Q.forEach(qe=>{qe.currentSnapshot.forEach((Mt,gn)=>k.set(gn,Mt))});let Z=function Gt(G){return G.length?G[0]instanceof Map?G:G.map(v=>new Map(Object.entries(v))):[]}(w).map(qe=>new Map(qe));Z=function ge(G,v,w){if(w.size&&v.length){let P=v[0],L=[];if(w.forEach((p,I)=>{P.has(I)||L.push(I),P.set(I,p)}),L.length)for(let p=1;p<v.length;p++){let I=v[p];L.forEach(_=>I.set(_,re(G,_)))}}return v}(v,Z,k);const Oe=function Fa(G,v){let w=null,P=null;return Array.isArray(v)&&v.length?(w=zs(v[0]),v.length>1&&(P=zs(v[v.length-1]))):v instanceof Map&&(w=zs(v)),w||P?new fa(G,w,P):null}(v,Z);return new Os(v,Z,A,Oe)}}const Gs="@.disabled";class bi{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(v,w,P,L){this.namespaceId=v,this.delegate=w,this.engine=P,this._onDestroy=L}get data(){return this.delegate.data}destroyNode(v){this.delegate.destroyNode?.(v)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(v,w){return this.delegate.createElement(v,w)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,w){this.delegate.appendChild(v,w),this.engine.onInsert(this.namespaceId,w,v,!1)}insertBefore(v,w,P,L=!0){this.delegate.insertBefore(v,w,P),this.engine.onInsert(this.namespaceId,w,v,L)}removeChild(v,w,P){this.parentNode(w)&&this.engine.onRemove(this.namespaceId,w,this.delegate)}selectRootElement(v,w){return this.delegate.selectRootElement(v,w)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,w,P,L){this.delegate.setAttribute(v,w,P,L)}removeAttribute(v,w,P){this.delegate.removeAttribute(v,w,P)}addClass(v,w){this.delegate.addClass(v,w)}removeClass(v,w){this.delegate.removeClass(v,w)}setStyle(v,w,P,L){this.delegate.setStyle(v,w,P,L)}removeStyle(v,w,P){this.delegate.removeStyle(v,w,P)}setProperty(v,w,P){"@"==w.charAt(0)&&w==Gs?this.disableAnimations(v,!!P):this.delegate.setProperty(v,w,P)}setValue(v,w){this.delegate.setValue(v,w)}listen(v,w,P,L){return this.delegate.listen(v,w,P,L)}disableAnimations(v,w){this.engine.disableAnimations(v,w)}}class pa extends bi{factory;constructor(v,w,P,L,p){super(w,P,L,p),this.factory=v,this.namespaceId=w}setProperty(v,w,P){"@"==w.charAt(0)?"."==w.charAt(1)&&w==Gs?this.disableAnimations(v,P=void 0===P||!!P):this.engine.process(this.namespaceId,v,w.slice(1),P):this.delegate.setProperty(v,w,P)}listen(v,w,P,L){if("@"==w.charAt(0)){const p=function zr(G){switch(G){case"body":return document.body;case"document":return document;case"window":return window;default:return G}}(v);let I=w.slice(1),_="";return"@"!=I.charAt(0)&&([I,_]=function Vr(G){const v=G.indexOf(".");return[G.substring(0,v),G.slice(v+1)]}(I)),this.engine.listen(this.namespaceId,p,I,_,A=>{this.factory.scheduleListenerCallback(A._data||-1,P,A)})}return this.delegate.listen(v,w,P,L)}}class Aa{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(v,w,P){this.delegate=v,this.engine=w,this._zone=P,w.onRemovalComplete=(L,p)=>{p?.removeChild(null,L)}}createRenderer(v,w){const L=this.delegate.createRenderer(v,w);if(!v||!w?.data?.animation){const k=this._rendererCache;let Q=k.get(L);return Q||(Q=new bi("",L,this.engine,()=>k.delete(L)),k.set(L,Q)),Q}const p=w.id,I=w.id+"-"+this._currentId;this._currentId++,this.engine.register(I,v);const _=k=>{Array.isArray(k)?k.forEach(_):this.engine.registerTrigger(p,I,v,k.name,k)};return w.data.animation.forEach(_),new pa(this,I,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(v,w,P){if(v>=0&&v<this._microtaskId)return void this._zone.run(()=>w(P));const L=this._animationCallbacksBuffer;0==L.length&&queueMicrotask(()=>{this._zone.run(()=>{L.forEach(p=>{const[I,_]=p;I(_)}),this._animationCallbacksBuffer=[]})}),L.push([w,P])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(v){this.engine.flush(),this.delegate.componentReplaced?.(v)}}const Qa=[{provide:un,useFactory:function qa(){return new Kr}},{provide:hs,useClass:(()=>{class G extends hs{constructor(w,P,L){super(w,P,L)}ngOnDestroy(){this.flush()}static \u0275fac=function(P){return new(P||G)(B.KVO(Y.q),B.KVO(At),B.KVO(un))};static \u0275prov=B.jDH({token:G,factory:G.\u0275fac})}return G})()},{provide:B._9s,useFactory:function Ca(G,v,w){return new Aa(G,v,w)},deps:[Tt,hs,B.SKi]}],Va=[{provide:At,useFactory:()=>new ui},{provide:B.bc$,useFactory:()=>"BrowserAnimations"},...Qa];var li=$(5072);let $o=(()=>{class G{title="todo-app";static \u0275fac=function(P){return new(P||G)};static \u0275cmp=B.VBU({type:G,selectors:[["app-root"]],decls:1,vars:0,template:function(P,L){1&P&&B.nrm(0,"router-outlet")},dependencies:[li.n3],encapsulation:2})}return G})();var Wi=$(5207),Qo=$(467),fs=$(2881),Ur=$(6335),R=$(9885),M=$(4796),H=$(6810),Ce=$(9332),Ft=$(7759);const Sn=G=>["/dashboard/profile",G],sr=()=>["/dashboard/claims"],ji=()=>["/dashboard/claims-executive"],Gi=()=>["/dashboard/admin-users"];function Ao(G,v){if(1&G&&(B.j41(0,"span",43),B.EFF(1),B.k0s()),2&G){const w=B.XpG();B.R7$(),B.JRh(w.pendingCount)}}function qs(G,v){1&G&&(B.j41(0,"li")(1,"a",21),B.EFF(2,"Reclamos Executive"),B.k0s()()),2&G&&(B.R7$(),B.Y8G("routerLink",B.lJ4(1,ji)))}function Sa(G,v){1&G&&(B.j41(0,"li")(1,"a",21),B.EFF(2," Admin Usuarios "),B.k0s()()),2&G&&(B.R7$(),B.Y8G("routerLink",B.lJ4(1,Gi)))}let cs=(()=>{class G{route;auth;userService;authService;router;todoService;alertaService;mockService;userData=null;isLoading=!0;imagePath="assets/images/isotipo-webmain.svg";imageDefault="https://maxuber79.github.io/gsaforce/assets/images/face28.jpg";apodoUser="perrito";user=null;uid=null;profilePhotoURL="";pendingCount=0;todos=[];metrics="";tickets;satisfaction;channels;channelLabels=["Web","App","WhatsApp","Call Center"];channelData=[40,25,20,15];notifications=[];channelsData=[];perfil=null;userRol="";constructor(w,P,L,p,I,_,A,k){this.route=w,this.auth=P,this.userService=L,this.authService=p,this.router=I,this.todoService=_,this.alertaService=A,this.mockService=k,console.log("%c<<< Start DashboardComponent >>>","background: #0d6efd; color: #ffffff; padding: 2px 5px;")}ngOnInit(){console.log("\u{1f4e6} Iniciando carga de usuario en dashboard..."),this.authService.getCurrentUser().subscribe(w=>{w&&(this.uid=w.uid,console.log(`%c \u{1f4e6} Usuario autenticado: ${w.uid}:`,"background: #d1e7dd; color: #0f5132; padding: 2px 5px;",w),this.userService.getUserData(w.uid).subscribe(P=>{console.log(`%c \u{1f4e6} Usuario autenticado ----\x3e ${w.uid}:`,"background: #d1e7dd; color: #0f5132; padding: 2px 5px;",P),this.userData=P,this.uid=P?.uid||"",this.perfil=P,this.userRol=P?.rol||"Usuario",console.log("Rol del usuario:",this.userRol)}))})}onLogout(){var w=this;return(0,Qo.A)(function*(){try{yield w.authService.logout(),w.router.navigate(["/"])}catch(P){console.error("\u274c Error al cerrar sesi\xf3n:",P)}})()}goToProfile(){this.userData?.uid?this.router.navigate(["/dashboard/profile",this.userData.uid]):console.error("\u274c No se encontr\xf3 UID para navegar al perfil")}static \u0275fac=function(P){return new(P||G)(B.rXU(li.nX),B.rXU(Ur.Nj),B.rXU(R.D),B.rXU(M.u),B.rXU(li.Ix),B.rXU(H.y),B.rXU(Ce.u),B.rXU(Ft.I))};static \u0275cmp=B.VBU({type:G,selectors:[["app-dashboard"]],decls:76,vars:10,consts:[[1,"d-flex","flex-column","min-vh-100","dashboard"],[1,"px-3","text-bg-dark"],["data-bs-theme","dark",1,"navbar","navbar-expand-lg","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["alt","","width","50",1,"",3,"src"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"navbar-nav","flex-row","d-none","d-md-flex"],[1,"nav-item","me-3","me-lg-1","active"],["href","#",1,"nav-link"],[1,"bi","bi-gear-fill"],[1,"nav-item","me-3","me-lg-1"],[1,"bi","bi-bell-fill"],["class","badge rounded-pill badge-notification bg-danger",4,"ngIf"],[1,"dropdown","text-end"],["href","#","data-bs-toggle","dropdown","aria-expanded","false",1,"text-decoration-none","dropdown-toggle"],["alt","mdo","width","32","height","32",1,"border","border-light-subtle","border-2","object-fit-cover","rounded-circle",3,"src"],[1,"dropdown-menu","dropdown-menu-end","text-small"],[1,"dropdown-item",3,"routerLink"],[4,"ngIf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"flex-grow-1","container","py-4"],[1,"container"],["data-bs-theme","dark",1,"py-4","bg-dark"],[1,"d-lg-flex","justify-content-between","py-3","py-lg-2"],[1,"small","mb-2","mb-lg-0"],[1,"text-muted","mb-0","me-5"],[1,"d-flex","small","align-items-end","justify-content-between"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3","mb-2","mb-lg-0"],["href","",1,"d-block","d-lg-inline","text-muted","ms-lg-3"],[1,"d-none","d-lg-block","ms-3"],["href","",1,"me-2"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-pinterest","text-primary"],["d","M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-twitter","text-primary"],["d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"],["fill","currentColor","height","16","viewbox","0 0 16 16","width","16","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-facebook","text-primary"],["d","M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"],[1,"d-lg-none"],[1,"badge","rounded-pill","badge-notification","bg-danger"]],template:function(P,L){1&P&&(B.j41(0,"div",0)(1,"header",1)(2,"nav",2)(3,"div",3)(4,"a",4),B.nrm(5,"img",5),B.k0s(),B.j41(6,"button",6),B.nrm(7,"span",7),B.k0s(),B.j41(8,"div",8),B.nrm(9,"ul",9),B.j41(10,"ul",10)(11,"li",11)(12,"a",12)(13,"span"),B.nrm(14,"i",13),B.k0s()()(),B.j41(15,"li",14)(16,"a",12)(17,"span"),B.nrm(18,"i",15),B.k0s(),B.DNE(19,Ao,2,1,"span",16),B.k0s()()(),B.j41(20,"div",17)(21,"a",18),B.nrm(22,"img",19),B.k0s(),B.j41(23,"ul",20)(24,"li")(25,"a",21),B.EFF(26,"Mi perfil"),B.k0s()(),B.j41(27,"li")(28,"a",21),B.EFF(29,"Mis Reclamos"),B.k0s()(),B.DNE(30,qs,3,2,"li",22)(31,Sa,3,2,"li",22),B.j41(32,"li"),B.nrm(33,"hr",23),B.k0s(),B.j41(34,"li")(35,"a",24),B.bIt("click",function(){return L.onLogout()}),B.EFF(36,"Sign out"),B.k0s()()()()()()()(),B.j41(37,"main",25)(38,"section",26),B.nrm(39,"router-outlet"),B.k0s()(),B.j41(40,"footer",27)(41,"div",26)(42,"div",28)(43,"div",29)(44,"p",30),B.EFF(45,"\xa9 2023 FreeFrontend.dev. All rights reserved."),B.k0s()(),B.j41(46,"div",31)(47,"div")(48,"a",32),B.EFF(49,"Privacy Policy"),B.k0s(),B.j41(50,"a",32),B.EFF(51,"Terms"),B.k0s(),B.j41(52,"a",32),B.EFF(53,"Cookies"),B.k0s(),B.j41(54,"a",33),B.EFF(55,"Sitemap"),B.k0s()(),B.j41(56,"div",34)(57,"a",35),B.qSk(),B.j41(58,"svg",36),B.nrm(59,"path",37),B.k0s()(),B.joV(),B.j41(60,"a",35),B.qSk(),B.j41(61,"svg",38),B.nrm(62,"path",39),B.k0s()(),B.joV(),B.j41(63,"a",35),B.qSk(),B.j41(64,"svg",40),B.nrm(65,"path",41),B.k0s()()(),B.joV(),B.j41(66,"div",42)(67,"a",35),B.qSk(),B.j41(68,"svg",36),B.nrm(69,"path",37),B.k0s()(),B.joV(),B.j41(70,"a",35),B.qSk(),B.j41(71,"svg",38),B.nrm(72,"path",39),B.k0s()(),B.joV(),B.j41(73,"a",35),B.qSk(),B.j41(74,"svg",40),B.nrm(75,"path",41),B.k0s()()()()()()()()),2&P&&(B.R7$(5),B.Y8G("src",L.imagePath,B.B4B),B.R7$(14),B.Y8G("ngIf",L.pendingCount>0),B.R7$(3),B.Y8G("src",(null==L.userData?null:L.userData.photoURL)||L.imageDefault,B.B4B),B.R7$(3),B.Y8G("routerLink",B.eq3(7,Sn,L.uid)),B.R7$(3),B.Y8G("routerLink",B.lJ4(9,sr)),B.R7$(2),B.Y8G("ngIf","Ejecutivo"===L.userRol||"Administrador"===L.userRol),B.R7$(),B.Y8G("ngIf","Administrador"===L.userRol))},dependencies:[fs.MD,fs.bT,Wi.iI,li.n3,Wi.Wk],styles:["[data-card=border][_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid var(--bs-border-color);box-shadow:none}.card[_ngcontent-%COMP%]{margin-bottom:var(--bs-gutter-x)}.card-title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px;color:var(--bs-card-title-color)}.card-subtitle[_ngcontent-%COMP%]{font-size:14px;line-height:24px;color:var(--bs-card-subtitle-color)}.card-hover[_ngcontent-%COMP%]{transition:.2s ease-in}.card-hover[_ngcontent-%COMP%]:hover{transform:translate3d(0,-5px,0)}.cardwithborder[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none;border:1px solid var(--bs-border-color)}.card-fullscreen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;overflow:auto}.draggable-cards[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{cursor:move}.card-moved[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background:var(--bs-info);color:var(--bs-white)}"]})}return G})();function Co(G,v){1&G&&(B.j41(0,"div",5)(1,"div",6)(2,"span",7),B.EFF(3,"Cargando..."),B.k0s()(),B.j41(4,"p",8),B.EFF(5,"Procesando..."),B.k0s()())}let ps=(()=>{class G{router;userName="Nuevo Usuario";isLoading=!1;constructor(w){this.router=w}goToDashboard(){setTimeout(()=>{this.isLoading=!1,this.router.navigate(["/dashboard"])},2e3)}static \u0275fac=function(P){return new(P||G)(B.rXU(li.Ix))};static \u0275cmp=B.VBU({type:G,selectors:[["app-welcome"]],decls:8,vars:2,consts:[[1,"welcome-container"],[1,"welcome-title"],[1,"welcome-subtitle"],["class","text-center my-3",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"text-center","my-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"]],template:function(P,L){1&P&&(B.j41(0,"section",0)(1,"h1",1),B.EFF(2),B.k0s(),B.j41(3,"p",2),B.EFF(4," Gracias por registrarte en nuestra aplicaci\xf3n To-Do. Desde aqu\xed puedes acceder a tu panel de control. "),B.k0s(),B.DNE(5,Co,6,0,"div",3),B.j41(6,"button",4),B.bIt("click",function(){return L.goToDashboard()}),B.EFF(7,"Ir al Dashboard"),B.k0s()()),2&P&&(B.R7$(2),B.SpI("\xa1Bienvenido, ",L.userName,"! \u{1f44b}"),B.R7$(3),B.Y8G("ngIf",L.isLoading))},dependencies:[fs.MD,fs.bT],styles:[".welcome-container[_ngcontent-%COMP%]{text-align:center;padding:2rem}.welcome-container[_ngcontent-%COMP%]   .welcome-title[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.welcome-container[_ngcontent-%COMP%]   .welcome-subtitle[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:2rem;color:#555}.welcome-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;padding:.5rem 1.5rem}"]})}return G})();var Yo=$(520),ia=$(1985);const Nn=(G,v)=>{const w=(0,B.WQX)(Ur.Nj),P=(0,B.WQX)(li.Ix);return new ia.c(L=>{const p=(0,Yo.hg)(w,I=>{I?L.next(!0):(P.navigate(["/"]),L.next(!1)),L.complete(),p()})})},Qs=(G,v)=>{const w=(0,B.WQX)(Ur.Nj),P=(0,B.WQX)(li.Ix);return new ia.c(L=>{const p=(0,Yo.hg)(w,I=>{I?(P.navigate(["/dashboard"]),L.next(!1)):L.next(!0),L.complete(),p()})})},Ss=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>Promise.all([$.e(341),$.e(195)]).then($.bind($,7195)).then(G=>G.LoginComponent),canActivate:[Qs]},{path:"register",loadComponent:()=>Promise.all([$.e(341),$.e(739)]).then($.bind($,2739)).then(G=>G.RegisterComponent),canActivate:[Qs]},{path:"forgot",loadComponent:()=>Promise.all([$.e(341),$.e(439)]).then($.bind($,6439)).then(G=>G.ForgotPasswordComponent),canActivate:[Qs]},{path:"dashboard",component:cs,canActivate:[Nn],loadChildren:()=>Promise.all([$.e(341),$.e(69)]).then($.bind($,9069)).then(G=>G.routes)},{path:"welcome",component:ps,canActivate:[Nn]},{path:"**",loadComponent:()=>$.e(887).then($.bind($,8887)).then(G=>G.NotFoundComponent)}];var gs=$(7643);const Ra_firebaseConfig={apiKey:"AIzaSyCbOayfHpIwogvguhehOdr1JZO5IW1ELwA",authDomain:"to-do-app-2a154.firebaseapp.com",projectId:"to-do-app-2a154",storageBucket:"to-do-app-2a154.firebasestorage.app",messagingSenderId:"772395492262",appId:"1:772395492262:web:902eddb2ce4a22857da567"};var Pa=$(7440),$i=$(9967),Ki=$(2107),Mi=$(5794);(function an(G,v){return(0,B.TL3)({rootComponent:G,...Jn(v)})})($o,{providers:[(0,Wi.lh)(Ss),(0,gs.$R)(),function Gr(){return(0,B.ngT)("NgEagerAnimations"),[...Va]}(),(0,Pa.MW)(()=>(0,Pa.Wp)(Ra_firebaseConfig)),(0,Ur._q)(()=>(0,Ur.xI)()),(0,$i.hV)(()=>(0,$i.aU)()),(0,Ki.Xm)(()=>(0,Ki.c7)()),(0,Mi.DP)({positionClass:"toast-bottom-right",timeOut:3e3,closeButton:!0,progressBar:!0})]}).catch(G=>console.error(G))},5964:(bn,ze,$)=>{"use strict";$.d(ze,{p:()=>Y});var T=$(9974),O=$(4360);function Y(B,Re){return(0,T.N)((nt,we)=>{let be=0;nt.subscribe((0,O._)(we,We=>B.call(Re,We,be++)&&we.next(We)))})}},6048:(bn,ze,$)=>{"use strict";$.d(ze,{Q:()=>Qe,Sm:()=>Ht,Vw:()=>be,aZ:()=>Bt,hb:()=>dt,hj:()=>We,ig:()=>nt,kB:()=>Rt,om:()=>Ie,qj:()=>we,rb:()=>Re});var T=$(1360),O=$(1413),Y=$(9361);let B=null;function Re(){return B}function nt(ke){B??=ke}class we{}let be=(()=>{class ke{historyGo(Ye){throw new Error("")}static \u0275fac=function(It){return new(It||ke)};static \u0275prov=T.jDH({token:ke,factory:()=>(0,T.WQX)(Te),providedIn:"platform"})}return ke})();const We=new T.nKC("");let Te=(()=>{class ke extends be{_location;_history;_doc=(0,T.WQX)(Y.q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Re().getBaseHref(this._doc)}onPopState(Ye){const It=Re().getGlobalEventTarget(this._doc,"window");return It.addEventListener("popstate",Ye,!1),()=>It.removeEventListener("popstate",Ye)}onHashChange(Ye){const It=Re().getGlobalEventTarget(this._doc,"window");return It.addEventListener("hashchange",Ye,!1),()=>It.removeEventListener("hashchange",Ye)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ye){this._location.pathname=Ye}pushState(Ye,It,qt){this._history.pushState(Ye,It,qt)}replaceState(Ye,It,qt){this._history.replaceState(Ye,It,qt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ye=0){this._history.go(Ye)}getState(){return this._history.state}static \u0275fac=function(It){return new(It||ke)};static \u0275prov=T.jDH({token:ke,factory:()=>new ke,providedIn:"platform"})}return ke})();function Ie(ke,it){return ke?it?ke.endsWith("/")?it.startsWith("/")?ke+it.slice(1):ke+it:it.startsWith("/")?ke+it:`${ke}/${it}`:ke:it}function lt(ke){const it=ke.search(/#|\?|$/);return"/"===ke[it-1]?ke.slice(0,it-1)+ke.slice(it):ke}function Qe(ke){return ke&&"?"!==ke[0]?`?${ke}`:ke}let dt=(()=>{class ke{historyGo(Ye){throw new Error("")}static \u0275fac=function(It){return new(It||ke)};static \u0275prov=T.jDH({token:ke,factory:()=>(0,T.WQX)(Ht),providedIn:"root"})}return ke})();const Rt=new T.nKC("");let Ht=(()=>{class ke extends dt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(Ye,It){super(),this._platformLocation=Ye,this._baseHref=It??this._platformLocation.getBaseHrefFromDOM()??(0,T.WQX)(Y.q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ye){this._removeListenerFns.push(this._platformLocation.onPopState(Ye),this._platformLocation.onHashChange(Ye))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ye){return Ie(this._baseHref,Ye)}path(Ye=!1){const It=this._platformLocation.pathname+Qe(this._platformLocation.search),qt=this._platformLocation.hash;return qt&&Ye?`${It}${qt}`:It}pushState(Ye,It,qt,Tt){const ct=this.prepareExternalUrl(qt+Qe(Tt));this._platformLocation.pushState(Ye,It,ct)}replaceState(Ye,It,qt,Tt){const ct=this.prepareExternalUrl(qt+Qe(Tt));this._platformLocation.replaceState(Ye,It,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ye=0){this._platformLocation.historyGo?.(Ye)}static \u0275fac=function(It){return new(It||ke)(T.KVO(be),T.KVO(Rt,8))};static \u0275prov=T.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})(),Bt=(()=>{class ke{_subject=new O.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(Ye){this._locationStrategy=Ye;const It=this._locationStrategy.getBaseHref();this._basePath=function St(ke){if(new RegExp("^(https?:)?//").test(ke)){const[,Ye]=ke.split(/\/\/[^\/]+/);return Ye}return ke}(lt(wt(It))),this._locationStrategy.onPopState(qt=>{this._subject.next({url:this.path(!0),pop:!0,state:qt.state,type:qt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ye=!1){return this.normalize(this._locationStrategy.path(Ye))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ye,It=""){return this.path()==this.normalize(Ye+Qe(It))}normalize(Ye){return ke.stripTrailingSlash(function yt(ke,it){if(!ke||!it.startsWith(ke))return it;const Ye=it.substring(ke.length);return""===Ye||["/",";","?","#"].includes(Ye[0])?Ye:it}(this._basePath,wt(Ye)))}prepareExternalUrl(Ye){return Ye&&"/"!==Ye[0]&&(Ye="/"+Ye),this._locationStrategy.prepareExternalUrl(Ye)}go(Ye,It="",qt=null){this._locationStrategy.pushState(qt,"",Ye,It),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ye+Qe(It)),qt)}replaceState(Ye,It="",qt=null){this._locationStrategy.replaceState(qt,"",Ye,It),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ye+Qe(It)),qt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ye=0){this._locationStrategy.historyGo?.(Ye)}onUrlChange(Ye){return this._urlChangeListeners.push(Ye),this._urlChangeSubscription??=this.subscribe(It=>{this._notifyUrlChangeListeners(It.url,It.state)}),()=>{const It=this._urlChangeListeners.indexOf(Ye);this._urlChangeListeners.splice(It,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ye="",It){this._urlChangeListeners.forEach(qt=>qt(Ye,It))}subscribe(Ye,It,qt){return this._subject.subscribe({next:Ye,error:It??void 0,complete:qt??void 0})}static normalizeQueryParams=Qe;static joinWithSlash=Ie;static stripTrailingSlash=lt;static \u0275fac=function(It){return new(It||ke)(T.KVO(dt))};static \u0275prov=T.jDH({token:ke,factory:()=>function Jt(){return new Bt((0,T.KVO)(dt))}(),providedIn:"root"})}return ke})();function wt(ke){return ke.replace(/\/index.html$/,"")}},6335:(bn,ze,$)=>{"use strict";$.d(ze,{Nj:()=>lt,DF:()=>Qe,wh:()=>ke,eJ:()=>Mn,xI:()=>Je,_q:()=>St,J1:()=>Mr,x9:()=>Qi,CI:()=>Xt});var T=$(2967),O=$(1360),Y=$(7440),B=$(4125),Re=$(2214),nt=$(520),we=$(1985);function be(lr){return new we.c(function(Cn){return{unsubscribe:(0,nt.hg)(lr,Cn.next.bind(Cn),Cn.error.bind(Cn),Cn.complete.bind(Cn))}})}class lt{constructor(Cn){return Cn}}class Qe{constructor(){return(0,T.CA)("auth")}}const Rt=new O.nKC("angularfire2.auth-instances");function Bt(lr){return(Cn,Ti)=>{const kr=Cn.runOutsideAngular(()=>lr(Ti));return new lt(kr)}}const Jt={provide:Qe,deps:[[new O.Xx1,Rt]]},yt={provide:lt,useFactory:function Ht(lr,Cn){const Ti=(0,T.lR)("auth",lr,Cn);return Ti&&new lt(Ti)},deps:[[new O.Xx1,Rt],Y.XU]};function St(lr,...Cn){return(0,Re.KO)("angularfire",T.xv.full,"auth"),(0,O.EmA)([yt,Jt,{provide:Rt,useFactory:Bt(lr),multi:!0,deps:[O.SKi,O.zZn,T.u0,Y.gL,[new O.Xx1,B.kR],...Cn]}])}const ke=(0,T.S3)(be,!0),Mn=(0,T.S3)(nt.eJ,!0,2),Je=(0,T.S3)(nt.xI,!0),Mr=(0,T.S3)(nt.J1,!0,2),Qi=(0,T.S3)(nt.x9,!0,2),Xt=(0,T.S3)(nt.CI,!0,2)},6354:(bn,ze,$)=>{"use strict";$.d(ze,{T:()=>Y});var T=$(9974),O=$(4360);function Y(B,Re){return(0,T.N)((nt,we)=>{let be=0;nt.subscribe((0,O._)(we,We=>{we.next(B.call(Re,We,be++))}))})}},6365:(bn,ze,$)=>{"use strict";$.d(ze,{U:()=>Y});var T=$(1397),O=$(3669);function Y(B=1/0){return(0,T.Z)(O.D,B)}},6450:(bn,ze,$)=>{"use strict";$.d(ze,{I:()=>B});var T=$(6354);const{isArray:O}=Array;function B(Re){return(0,T.T)(nt=>function Y(Re,nt){return O(nt)?Re(...nt):Re(nt)}(Re,nt))}},6745:(bn,ze,$)=>{"use strict";$.d(ze,{_:()=>O});var T=$(9974);function O(Y,B=0){return(0,T.N)((Re,nt)=>{nt.add(Y.schedule(()=>Re.subscribe(nt),B))})}},6780:(bn,ze,$)=>{"use strict";$.d(ze,{R:()=>Re});var T=$(8359);class O extends T.yU{constructor(we,be){super()}schedule(we,be=0){return this}}const Y={setInterval(nt,we,...be){const{delegate:We}=Y;return We?.setInterval?We.setInterval(nt,we,...be):setInterval(nt,we,...be)},clearInterval(nt){const{delegate:we}=Y;return(we?.clearInterval||clearInterval)(nt)},delegate:void 0};var B=$(7908);class Re extends O{constructor(we,be){super(we,be),this.scheduler=we,this.work=be,this.pending=!1}schedule(we,be=0){var We;if(this.closed)return this;this.state=we;const Te=this.id,Ie=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(Ie,Te,be)),this.pending=!0,this.delay=be,this.id=null!==(We=this.id)&&void 0!==We?We:this.requestAsyncId(Ie,this.id,be),this}requestAsyncId(we,be,We=0){return Y.setInterval(we.flush.bind(we,this),We)}recycleAsyncId(we,be,We=0){if(null!=We&&this.delay===We&&!1===this.pending)return be;null!=be&&Y.clearInterval(be)}execute(we,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const We=this._execute(we,be);if(We)return We;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,be){let Te,We=!1;try{this.work(we)}catch(Ie){We=!0,Te=Ie||new Error("Scheduled action threw falsy error")}if(We)return this.unsubscribe(),Te}unsubscribe(){if(!this.closed){const{id:we,scheduler:be}=this,{actions:We}=be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,B.o)(We,this),null!=we&&(this.id=this.recycleAsyncId(be,we,null)),this.delay=null,super.unsubscribe()}}}},6810:(bn,ze,$)=>{"use strict";$.d(ze,{y:()=>Te});var T=$(467),O=$(9967),Y=$(3273),B=$(4843),Re=$(5558),nt=$(6354),we=$(1360),be=$(6335),We=$(4796);let Te=(()=>{class Ie{firestore;auth;authService;constructor(Qe,dt,Rt){this.firestore=Qe,this.auth=dt,this.authService=Rt,console.log("%c<<< Start TODO service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}addTodo(Qe){var dt=this;return(0,T.A)(function*(){const Rt=yield(0,B._)(dt.authService.getCurrentUser());if(!Rt?.uid)throw new Error("Usuario no autenticado");const Ht=(0,O.rJ)(dt.firestore,`users/${Rt.uid}/todos`),Bt=(0,O.H9)(Ht),Jt=new Date,yt={...Qe,id:Bt.id,completed:!1,createdAt:Jt,updatedAt:Jt};console.log("\u{1f9fe} Creando tarea en:",`users/${Rt.uid}/todos/${Bt.id}`),console.log("\u{1f4dd} Datos:",yt),yield(0,O.BN)(Bt,yt)})()}getTodos(){return this.authService.getCurrentUser().pipe((0,Re.n)(Qe=>{const dt=(0,O.rJ)(this.firestore,`users/${Qe.uid}/todos`);return(0,O.xs)(dt,{idField:"id"})}))}updateTodo(Qe,dt){var Rt=this;return(0,T.A)(function*(){const Ht=yield(0,B._)(Rt.authService.getCurrentUser());if(!Ht?.uid)throw new Error("Usuario no autenticado");const Bt=(0,O.H9)(Rt.firestore,`users/${Ht.uid}/todos/${Qe}`);yield(0,O.mZ)(Bt,{...dt,updatedAt:Y.Dc.now()})})()}deleteTodo(Qe){var dt=this;return(0,T.A)(function*(){const Rt=yield(0,B._)(dt.authService.getCurrentUser());if(!Rt?.uid)throw new Error("Usuario no autenticado");const Ht=(0,O.H9)(dt.firestore,`users/${Rt.uid}/todos/${Qe}`);yield(0,O.kd)(Ht)})()}clearAllTodos(){var Qe=this;return(0,T.A)(function*(){const dt=yield(0,B._)(Qe.getTodos()),Rt=yield(0,B._)(Qe.authService.getCurrentUser());if(!Rt?.uid)throw new Error("Usuario no autenticado");const Ht=dt.map(Bt=>(0,O.kd)((0,O.H9)(Qe.firestore,`users/${Rt.uid}/todos/${Bt.id}`)));yield Promise.all(Ht)})()}getPendingTodosCount(){return this.authService.getCurrentUser().pipe((0,Re.n)(Qe=>{const dt=(0,O.rJ)(this.firestore,`users/${Qe.uid}/todos`),Rt=(0,O.P)(dt,(0,O._M)("completed","==",!1));return(0,O.xs)(Rt).pipe((0,nt.T)(Ht=>Ht.length))}))}getTodoById(Qe){var dt=this;return(0,T.A)(function*(){const Rt=yield(0,B._)(dt.authService.getCurrentUser());if(!Rt?.uid)throw new Error("Usuario no autenticado");const Ht=(0,O.H9)(dt.firestore,`users/${Rt.uid}/todos/${Qe}`),Bt=yield(0,O.x7)(Ht);if(!Bt.exists())throw new Error("Tarea no encontrada");return Bt.data()})()}static \u0275fac=function(dt){return new(dt||Ie)(we.KVO(O._7),we.KVO(be.Nj),we.KVO(We.u))};static \u0275prov=we.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})()},6858:(bn,ze,$)=>{"use strict";$.d(ze,{cY:()=>It,FA:()=>er,g:()=>Ln,K3:()=>be,u:()=>lt,Uj:()=>Ie,Fy:()=>Vn,tD:()=>cr,bD:()=>ri,hp:()=>Ar,T9:()=>it,Tj:()=>St,yU:()=>ke,XA:()=>Ye,mS:()=>Ht,Ku:()=>Vi,ZQ:()=>rn,sr:()=>me,zJ:()=>qt,c1:()=>fe,Im:()=>qn,lT:()=>Xe,zW:()=>Kt,jZ:()=>kt,lV:()=>oe,nr:()=>en,Ov:()=>Jn,gE:()=>Tt,Am:()=>Tr,I9:()=>Ei,P1:()=>Je,eX:()=>Qn});var T=$(467);const nt=function(Ae){const ye=[];let je=0;for(let Lt=0;Lt<Ae.length;Lt++){let et=Ae.charCodeAt(Lt);et<128?ye[je++]=et:et<2048?(ye[je++]=et>>6|192,ye[je++]=63&et|128):55296==(64512&et)&&Lt+1<Ae.length&&56320==(64512&Ae.charCodeAt(Lt+1))?(et=65536+((1023&et)<<10)+(1023&Ae.charCodeAt(++Lt)),ye[je++]=et>>18|240,ye[je++]=et>>12&63|128,ye[je++]=et>>6&63|128,ye[je++]=63&et|128):(ye[je++]=et>>12|224,ye[je++]=et>>6&63|128,ye[je++]=63&et|128)}return ye},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,ye){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const je=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,Lt=[];for(let et=0;et<Ae.length;et+=3){const Yt=Ae[et],Rn=et+1<Ae.length,pr=Rn?Ae[et+1]:0,ie=et+2<Ae.length,ue=ie?Ae[et+2]:0;let Dt=(15&pr)<<2|ue>>6,ae=63&ue;ie||(ae=64,Rn||(Dt=64)),Lt.push(je[Yt>>2],je[(3&Yt)<<4|pr>>4],je[Dt],je[ae])}return Lt.join("")},encodeString(Ae,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(Ae):this.encodeByteArray(nt(Ae),ye)},decodeString(Ae,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(Ae):function(Ae){const ye=[];let je=0,Lt=0;for(;je<Ae.length;){const et=Ae[je++];if(et<128)ye[Lt++]=String.fromCharCode(et);else if(et>191&&et<224){const Yt=Ae[je++];ye[Lt++]=String.fromCharCode((31&et)<<6|63&Yt)}else if(et>239&&et<365){const ie=((7&et)<<18|(63&Ae[je++])<<12|(63&Ae[je++])<<6|63&Ae[je++])-65536;ye[Lt++]=String.fromCharCode(55296+(ie>>10)),ye[Lt++]=String.fromCharCode(56320+(1023&ie))}else{const Yt=Ae[je++],Rn=Ae[je++];ye[Lt++]=String.fromCharCode((15&et)<<12|(63&Yt)<<6|63&Rn)}}return ye.join("")}(this.decodeStringToByteArray(Ae,ye))},decodeStringToByteArray(Ae,ye){this.init_();const je=ye?this.charToByteMapWebSafe_:this.charToByteMap_,Lt=[];for(let et=0;et<Ae.length;){const Yt=je[Ae.charAt(et++)],pr=et<Ae.length?je[Ae.charAt(et)]:0;++et;const ue=et<Ae.length?je[Ae.charAt(et)]:64;++et;const ft=et<Ae.length?je[Ae.charAt(et)]:64;if(++et,null==Yt||null==pr||null==ue||null==ft)throw new We;Lt.push(Yt<<2|pr>>4),64!==ue&&(Lt.push(pr<<4&240|ue>>2),64!==ft&&Lt.push(ue<<6&192|ft))}return Lt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}};class We extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(Ae){return function(Ae){const ye=nt(Ae);return be.encodeByteArray(ye,!0)}(Ae).replace(/\./g,"")},lt=function(Ae){try{return be.decodeString(Ae,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function Ht(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wt=()=>{try{return Ht().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ae=process.env.__FIREBASE_DEFAULTS__;return Ae?JSON.parse(Ae):void 0})()||(()=>{if(typeof document>"u")return;let Ae;try{Ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ye=Ae&&lt(Ae[1]);return ye&&JSON.parse(ye)})()}catch(Ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ae}`)}},St=Ae=>{var ye,je;return null===(je=null===(ye=wt())||void 0===ye?void 0:ye.emulatorHosts)||void 0===je?void 0:je[Ae]},ke=Ae=>{const ye=St(Ae);if(!ye)return;const je=ye.lastIndexOf(":");if(je<=0||je+1===ye.length)throw new Error(`Invalid host ${ye} with no separate hostname and port!`);const Lt=parseInt(ye.substring(je+1),10);return"["===ye[0]?[ye.substring(1,je-1),Lt]:[ye.substring(0,je),Lt]},it=()=>{var Ae;return null===(Ae=wt())||void 0===Ae?void 0:Ae.config},Ye=Ae=>{var ye;return null===(ye=wt())||void 0===ye?void 0:ye[`_${Ae}`]};class It{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,je)=>{this.resolve=ye,this.reject=je})}wrapCallback(ye){return(je,Lt)=>{je?this.reject(je):this.resolve(Lt),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(je):ye(je,Lt))}}}function qt(Ae){return Ae.endsWith(".cloudworkstations.dev")}function Tt(Ae){return ct.apply(this,arguments)}function ct(){return(ct=(0,T.A)(function*(Ae){return(yield fetch(Ae,{credentials:"include"})).ok})).apply(this,arguments)}function Vn(Ae,ye){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Lt=ye||"demo-project",et=Ae.iat||0,Yt=Ae.sub||Ae.user_id;if(!Yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Rn=Object.assign({iss:`https://securetoken.google.com/${Lt}`,aud:Lt,iat:et,exp:et+3600,auth_time:et,sub:Yt,user_id:Yt,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(Rn)),""].join(".")}const Mn={};let wn=!1;function Je(Ae,ye){if(typeof window>"u"||typeof document>"u"||!qt(window.location.host)||Mn[Ae]===ye||Mn[Ae]||wn)return;function je(Dt){return`__firebase__banner__${Dt}`}Mn[Ae]=ye;const Lt="__firebase__banner",Yt=function Kn(){const Ae={prod:[],emulator:[]};for(const ye of Object.keys(Mn))Mn[ye]?Ae.emulator.push(ye):Ae.prod.push(ye);return Ae}().prod.length>0;function ft(){const Dt=function pt(Ae){let ye=document.getElementById(Ae),je=!1;return ye||(ye=document.createElement("div"),ye.setAttribute("id",Ae),je=!0),{created:je,element:ye}}(Lt),ae=je("text"),_e=document.getElementById(ae)||document.createElement("span"),Le=je("learnmore"),Pt=document.getElementById(Le)||document.createElement("a"),Et=je("preprendIcon"),mt=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(Dt.created){const Ot=Dt.element;(function pr(Dt){Dt.style.display="flex",Dt.style.background="#7faaf0",Dt.style.position="fixed",Dt.style.bottom="5px",Dt.style.left="5px",Dt.style.padding=".5em",Dt.style.borderRadius="5px",Dt.style.alignItems="center"})(Ot),function Se(Dt,ae){Dt.setAttribute("id",ae),Dt.innerText="Learn more",Dt.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",Dt.setAttribute("target","__blank"),Dt.style.paddingLeft="5px",Dt.style.textDecoration="underline"}(Pt,Le);const on=function ue(){const Dt=document.createElement("span");return Dt.style.cursor="pointer",Dt.style.marginLeft="16px",Dt.style.fontSize="24px",Dt.innerHTML=" &times;",Dt.onclick=()=>{wn=!0,function Rn(){const Dt=document.getElementById(Lt);Dt&&Dt.remove()}()},Dt}();(function ie(Dt,ae){Dt.setAttribute("width","24"),Dt.setAttribute("id",ae),Dt.setAttribute("height","24"),Dt.setAttribute("viewBox","0 0 24 24"),Dt.setAttribute("fill","none"),Dt.style.marginLeft="-6px"})(mt,Et),Ot.append(mt,_e,Pt,on),document.body.appendChild(Ot)}Yt?(_e.innerText="Preview backend disconnected.",mt.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(mt.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',_e.innerText="Preview backend running in this workspace."),_e.setAttribute("id",ae)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",ft):ft()}function rn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function kt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function Ke(){var Ae;const ye=null===(Ae=wt())||void 0===Ae?void 0:Ae.forceEnvironment;if("node"===ye)return!0;if("browser"===ye)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function fe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function me(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){const Ae=rn();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function en(){return!Ke()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jn(){return!Ke()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Kt(){try{return"object"==typeof indexedDB}catch{return!1}}function Qn(){return new Promise((Ae,ye)=>{try{let je=!0;const Lt="validate-browser-context-for-indexeddb-analytics-module",et=self.indexedDB.open(Lt);et.onsuccess=()=>{et.result.close(),je||self.indexedDB.deleteDatabase(Lt),Ae(!0)},et.onupgradeneeded=()=>{je=!1},et.onerror=()=>{var Yt;ye((null===(Yt=et.error)||void 0===Yt?void 0:Yt.message)||"")}}catch(je){ye(je)}})}class Ln extends Error{constructor(ye,je,Lt){super(je),this.code=ye,this.customData=Lt,this.name="FirebaseError",Object.setPrototypeOf(this,Ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,er.prototype.create)}}class er{constructor(ye,je,Lt){this.service=ye,this.serviceName=je,this.errors=Lt}create(ye,...je){const Lt=je[0]||{},et=`${this.service}/${ye}`,Yt=this.errors[ye],Rn=Yt?function Dn(Ae,ye){return Ae.replace(Mr,(je,Lt)=>{const et=ye[Lt];return null!=et?String(et):`<${Lt}?>`})}(Yt,Lt):"Error";return new Ln(et,`${this.serviceName}: ${Rn} (${et}).`,Lt)}}const Mr=/\{\$([^}]+)}/g;function qn(Ae){for(const ye in Ae)if(Object.prototype.hasOwnProperty.call(Ae,ye))return!1;return!0}function ri(Ae,ye){if(Ae===ye)return!0;const je=Object.keys(Ae),Lt=Object.keys(ye);for(const et of je){if(!Lt.includes(et))return!1;const Yt=Ae[et],Rn=ye[et];if(ai(Yt)&&ai(Rn)){if(!ri(Yt,Rn))return!1}else if(Yt!==Rn)return!1}for(const et of Lt)if(!je.includes(et))return!1;return!0}function ai(Ae){return null!==Ae&&"object"==typeof Ae}function Tr(Ae){const ye=[];for(const[je,Lt]of Object.entries(Ae))Array.isArray(Lt)?Lt.forEach(et=>{ye.push(encodeURIComponent(je)+"="+encodeURIComponent(et))}):ye.push(encodeURIComponent(je)+"="+encodeURIComponent(Lt));return ye.length?"&"+ye.join("&"):""}function Ei(Ae){const ye={};return Ae.replace(/^\?/,"").split("&").forEach(Lt=>{if(Lt){const[et,Yt]=Lt.split("=");ye[decodeURIComponent(et)]=decodeURIComponent(Yt)}}),ye}function Ar(Ae){const ye=Ae.indexOf("?");if(!ye)return"";const je=Ae.indexOf("#",ye);return Ae.substring(ye,je>0?je:void 0)}function cr(Ae,ye){const je=new ir(Ae,ye);return je.subscribe.bind(je)}class ir{constructor(ye,je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=je,this.task.then(()=>{ye(this)}).catch(Lt=>{this.error(Lt)})}next(ye){this.forEachObserver(je=>{je.next(ye)})}error(ye){this.forEachObserver(je=>{je.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,je,Lt){let et;if(void 0===ye&&void 0===je&&void 0===Lt)throw new Error("Missing Observer.");et=function lr(Ae,ye){if("object"!=typeof Ae||null===Ae)return!1;for(const je of ye)if(je in Ae&&"function"==typeof Ae[je])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:je,complete:Lt},void 0===et.next&&(et.next=Cn),void 0===et.error&&(et.error=Cn),void 0===et.complete&&(et.complete=Cn);const Yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?et.error(this.finalError):et.complete()}catch{}}),this.observers.push(et),Yt}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let je=0;je<this.observers.length;je++)this.sendOne(je,ye)}sendOne(ye,je){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{je(this.observers[ye])}catch(Lt){typeof console<"u"&&console.error&&console.error(Lt)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cn(){}function Vi(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},7440:(bn,ze,$)=>{"use strict";$.d(ze,{MW:()=>Qe,Wp:()=>Bt,XU:()=>B,gL:()=>Re});var T=$(2214),O=$(1360),Y=$(2967);class B{constructor(it){return it}}class Re{constructor(){return(0,T.Dk)()}}const be=new O.nKC("angularfire2._apps"),We={provide:B,useFactory:function we(ke){return ke&&1===ke.length?ke[0]:new B((0,T.Sx)())},deps:[[new O.Xx1,be]]},Te={provide:Re,deps:[[new O.Xx1,be]]};function Ie(ke){return(it,Ye)=>{const It=Ye.get(O.Agw);(0,T.KO)("angularfire",Y.xv.full,"core"),(0,T.KO)("angularfire",Y.xv.full,"app"),(0,T.KO)("angular",O.xvI.full,It.toString());const qt=it.runOutsideAngular(()=>ke(Ye));return new B(qt)}}function Qe(ke,...it){return(0,O.EmA)([We,Te,{provide:be,useFactory:Ie(ke),multi:!0,deps:[O.SKi,O.zZn,Y.u0,...it]}])}const Bt=(0,Y.S3)(T.Wp,!0)},7441:(bn,ze,$)=>{"use strict";$.d(ze,{X:()=>T});const T=O=>O&&"number"==typeof O.length&&"function"!=typeof O},7643:(bn,ze,$)=>{"use strict";$.d(ze,{$R:()=>wr,Qq:()=>en}),$(467);var O=$(1360),Y=$(274),B=$(5964),Re=$(6354),nt=$(980),we=$(5558),be=$(7673),We=$(1985),Te=$(8455),Ie=$(9377),lt=$(9361);class Qe{}class dt{}class Rt{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(ue){ue?"string"==typeof ue?this.lazyInit=()=>{this.headers=new Map,ue.split("\n").forEach(Se=>{const ft=Se.indexOf(":");if(ft>0){const Dt=Se.slice(0,ft),ae=Se.slice(ft+1).trim();this.addHeaderEntry(Dt,ae)}})}:typeof Headers<"u"&&ue instanceof Headers?(this.headers=new Map,ue.forEach((Se,ft)=>{this.addHeaderEntry(ft,Se)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ue).forEach(([Se,ft])=>{this.setHeaderEntries(Se,ft)})}:this.headers=new Map}has(ue){return this.init(),this.headers.has(ue.toLowerCase())}get(ue){this.init();const Se=this.headers.get(ue.toLowerCase());return Se&&Se.length>0?Se[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ue){return this.init(),this.headers.get(ue.toLowerCase())||null}append(ue,Se){return this.clone({name:ue,value:Se,op:"a"})}set(ue,Se){return this.clone({name:ue,value:Se,op:"s"})}delete(ue,Se){return this.clone({name:ue,value:Se,op:"d"})}maybeSetNormalizedName(ue,Se){this.normalizedNames.has(Se)||this.normalizedNames.set(Se,ue)}init(){this.lazyInit&&(this.lazyInit instanceof Rt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ue=>this.applyUpdate(ue)),this.lazyUpdate=null))}copyFrom(ue){ue.init(),Array.from(ue.headers.keys()).forEach(Se=>{this.headers.set(Se,ue.headers.get(Se)),this.normalizedNames.set(Se,ue.normalizedNames.get(Se))})}clone(ue){const Se=new Rt;return Se.lazyInit=this.lazyInit&&this.lazyInit instanceof Rt?this.lazyInit:this,Se.lazyUpdate=(this.lazyUpdate||[]).concat([ue]),Se}applyUpdate(ue){const Se=ue.name.toLowerCase();switch(ue.op){case"a":case"s":let ft=ue.value;if("string"==typeof ft&&(ft=[ft]),0===ft.length)return;this.maybeSetNormalizedName(ue.name,Se);const Dt=("a"===ue.op?this.headers.get(Se):void 0)||[];Dt.push(...ft),this.headers.set(Se,Dt);break;case"d":const ae=ue.value;if(ae){let _e=this.headers.get(Se);if(!_e)return;_e=_e.filter(Le=>-1===ae.indexOf(Le)),0===_e.length?(this.headers.delete(Se),this.normalizedNames.delete(Se)):this.headers.set(Se,_e)}else this.headers.delete(Se),this.normalizedNames.delete(Se)}}addHeaderEntry(ue,Se){const ft=ue.toLowerCase();this.maybeSetNormalizedName(ue,ft),this.headers.has(ft)?this.headers.get(ft).push(Se):this.headers.set(ft,[Se])}setHeaderEntries(ue,Se){const ft=(Array.isArray(Se)?Se:[Se]).map(ae=>ae.toString()),Dt=ue.toLowerCase();this.headers.set(Dt,ft),this.maybeSetNormalizedName(ue,Dt)}forEach(ue){this.init(),Array.from(this.normalizedNames.keys()).forEach(Se=>ue(this.normalizedNames.get(Se),this.headers.get(Se)))}}class Bt{encodeKey(ue){return St(ue)}encodeValue(ue){return St(ue)}decodeKey(ue){return decodeURIComponent(ue)}decodeValue(ue){return decodeURIComponent(ue)}}const yt=/%(\d[a-f0-9])/gi,wt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function St(ie){return encodeURIComponent(ie).replace(yt,(ue,Se)=>wt[Se]??ue)}function ke(ie){return`${ie}`}class it{map;encoder;updates=null;cloneFrom=null;constructor(ue={}){if(this.encoder=ue.encoder||new Bt,ue.fromString){if(ue.fromObject)throw new O.wOt(2805,!1);this.map=function Jt(ie,ue){const Se=new Map;return ie.length>0&&ie.replace(/^\?/,"").split("&").forEach(Dt=>{const ae=Dt.indexOf("="),[_e,Le]=-1==ae?[ue.decodeKey(Dt),""]:[ue.decodeKey(Dt.slice(0,ae)),ue.decodeValue(Dt.slice(ae+1))],Pt=Se.get(_e)||[];Pt.push(Le),Se.set(_e,Pt)}),Se}(ue.fromString,this.encoder)}else ue.fromObject?(this.map=new Map,Object.keys(ue.fromObject).forEach(Se=>{const ft=ue.fromObject[Se],Dt=Array.isArray(ft)?ft.map(ke):[ke(ft)];this.map.set(Se,Dt)})):this.map=null}has(ue){return this.init(),this.map.has(ue)}get(ue){this.init();const Se=this.map.get(ue);return Se?Se[0]:null}getAll(ue){return this.init(),this.map.get(ue)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ue,Se){return this.clone({param:ue,value:Se,op:"a"})}appendAll(ue){const Se=[];return Object.keys(ue).forEach(ft=>{const Dt=ue[ft];Array.isArray(Dt)?Dt.forEach(ae=>{Se.push({param:ft,value:ae,op:"a"})}):Se.push({param:ft,value:Dt,op:"a"})}),this.clone(Se)}set(ue,Se){return this.clone({param:ue,value:Se,op:"s"})}delete(ue,Se){return this.clone({param:ue,value:Se,op:"d"})}toString(){return this.init(),this.keys().map(ue=>{const Se=this.encoder.encodeKey(ue);return this.map.get(ue).map(ft=>Se+"="+this.encoder.encodeValue(ft)).join("&")}).filter(ue=>""!==ue).join("&")}clone(ue){const Se=new it({encoder:this.encoder});return Se.cloneFrom=this.cloneFrom||this,Se.updates=(this.updates||[]).concat(ue),Se}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ue=>this.map.set(ue,this.cloneFrom.map.get(ue))),this.updates.forEach(ue=>{switch(ue.op){case"a":case"s":const Se=("a"===ue.op?this.map.get(ue.param):void 0)||[];Se.push(ke(ue.value)),this.map.set(ue.param,Se);break;case"d":if(void 0===ue.value){this.map.delete(ue.param);break}{let ft=this.map.get(ue.param)||[];const Dt=ft.indexOf(ke(ue.value));-1!==Dt&&ft.splice(Dt,1),ft.length>0?this.map.set(ue.param,ft):this.map.delete(ue.param)}}}),this.cloneFrom=this.updates=null)}}class It{map=new Map;set(ue,Se){return this.map.set(ue,Se),this}get(ue){return this.map.has(ue)||this.map.set(ue,ue.defaultValue()),this.map.get(ue)}delete(ue){return this.map.delete(ue),this}has(ue){return this.map.has(ue)}keys(){return this.map.keys()}}function Tt(ie){return typeof ArrayBuffer<"u"&&ie instanceof ArrayBuffer}function ct(ie){return typeof Blob<"u"&&ie instanceof Blob}function Vn(ie){return typeof FormData<"u"&&ie instanceof FormData}const Kn="Content-Type",wn="X-Request-URL",Je="text/plain",rn="application/json",kt=`${rn}, ${Je}, */*`;class Ke{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(ue,Se,ft,Dt){let ae;if(this.url=Se,this.method=ue.toUpperCase(),function qt(ie){switch(ie){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Dt?(this.body=void 0!==ft?ft:null,ae=Dt):ae=ft,ae&&(this.reportProgress=!!ae.reportProgress,this.withCredentials=!!ae.withCredentials,ae.responseType&&(this.responseType=ae.responseType),ae.headers&&(this.headers=ae.headers),ae.context&&(this.context=ae.context),ae.params&&(this.params=ae.params),this.transferCache=ae.transferCache),this.headers??=new Rt,this.context??=new It,this.params){const _e=this.params.toString();if(0===_e.length)this.urlWithParams=Se;else{const Le=Se.indexOf("?");this.urlWithParams=Se+(-1===Le?"?":Le<Se.length-1?"&":"")+_e}}else this.params=new it,this.urlWithParams=Se}serializeBody(){return null===this.body?null:"string"==typeof this.body||Tt(this.body)||ct(this.body)||Vn(this.body)||function Mn(ie){return typeof URLSearchParams<"u"&&ie instanceof URLSearchParams}(this.body)?this.body:this.body instanceof it?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Vn(this.body)?null:ct(this.body)?this.body.type||null:Tt(this.body)?null:"string"==typeof this.body?Je:this.body instanceof it?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?rn:null}clone(ue={}){const Se=ue.method||this.method,ft=ue.url||this.url,Dt=ue.responseType||this.responseType,ae=ue.transferCache??this.transferCache,_e=void 0!==ue.body?ue.body:this.body,Le=ue.withCredentials??this.withCredentials,Pt=ue.reportProgress??this.reportProgress;let Et=ue.headers||this.headers,mt=ue.params||this.params;const Ot=ue.context??this.context;return void 0!==ue.setHeaders&&(Et=Object.keys(ue.setHeaders).reduce((on,Un)=>on.set(Un,ue.setHeaders[Un]),Et)),ue.setParams&&(mt=Object.keys(ue.setParams).reduce((on,Un)=>on.set(Un,ue.setParams[Un]),mt)),new Ke(Se,ft,_e,{params:mt,headers:Et,context:Ot,reportProgress:Pt,responseType:Dt,withCredentials:Le,transferCache:ae})}}var te=function(ie){return ie[ie.Sent=0]="Sent",ie[ie.UploadProgress=1]="UploadProgress",ie[ie.ResponseHeader=2]="ResponseHeader",ie[ie.DownloadProgress=3]="DownloadProgress",ie[ie.Response=4]="Response",ie[ie.User=5]="User",ie}(te||{});class he{headers;status;statusText;url;ok;type;constructor(ue,Se=200,ft="OK"){this.headers=ue.headers||new Rt,this.status=void 0!==ue.status?ue.status:Se,this.statusText=ue.statusText||ft,this.url=ue.url||null,this.ok=this.status>=200&&this.status<300}}class fe extends he{constructor(ue={}){super(ue)}type=te.ResponseHeader;clone(ue={}){return new fe({headers:ue.headers||this.headers,status:void 0!==ue.status?ue.status:this.status,statusText:ue.statusText||this.statusText,url:ue.url||this.url||void 0})}}class me extends he{body;constructor(ue={}){super(ue),this.body=void 0!==ue.body?ue.body:null}type=te.Response;clone(ue={}){return new me({body:void 0!==ue.body?ue.body:this.body,headers:ue.headers||this.headers,status:void 0!==ue.status?ue.status:this.status,statusText:ue.statusText||this.statusText,url:ue.url||this.url||void 0})}}class oe extends he{name="HttpErrorResponse";message;error;ok=!1;constructor(ue){super(ue,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ue.url||"(unknown url)"}`:`Http failure response for ${ue.url||"(unknown url)"}: ${ue.status} ${ue.statusText}`,this.error=ue.error||null}}function an(ie,ue){return{body:ue,headers:ie.headers,context:ie.context,observe:ie.observe,params:ie.params,reportProgress:ie.reportProgress,responseType:ie.responseType,withCredentials:ie.withCredentials,transferCache:ie.transferCache}}let en=(()=>{class ie{handler;constructor(Se){this.handler=Se}request(Se,ft,Dt={}){let ae;if(Se instanceof Ke)ae=Se;else{let Pt,Et;Pt=Dt.headers instanceof Rt?Dt.headers:new Rt(Dt.headers),Dt.params&&(Et=Dt.params instanceof it?Dt.params:new it({fromObject:Dt.params})),ae=new Ke(Se,ft,void 0!==Dt.body?Dt.body:null,{headers:Pt,context:Dt.context,params:Et,reportProgress:Dt.reportProgress,responseType:Dt.responseType||"json",withCredentials:Dt.withCredentials,transferCache:Dt.transferCache})}const _e=(0,be.of)(ae).pipe((0,Y.H)(Pt=>this.handler.handle(Pt)));if(Se instanceof Ke||"events"===Dt.observe)return _e;const Le=_e.pipe((0,B.p)(Pt=>Pt instanceof me));switch(Dt.observe||"body"){case"body":switch(ae.responseType){case"arraybuffer":return Le.pipe((0,Re.T)(Pt=>{if(null!==Pt.body&&!(Pt.body instanceof ArrayBuffer))throw new O.wOt(2806,!1);return Pt.body}));case"blob":return Le.pipe((0,Re.T)(Pt=>{if(null!==Pt.body&&!(Pt.body instanceof Blob))throw new O.wOt(2807,!1);return Pt.body}));case"text":return Le.pipe((0,Re.T)(Pt=>{if(null!==Pt.body&&"string"!=typeof Pt.body)throw new O.wOt(2808,!1);return Pt.body}));default:return Le.pipe((0,Re.T)(Pt=>Pt.body))}case"response":return Le;default:throw new O.wOt(2809,!1)}}delete(Se,ft={}){return this.request("DELETE",Se,ft)}get(Se,ft={}){return this.request("GET",Se,ft)}head(Se,ft={}){return this.request("HEAD",Se,ft)}jsonp(Se,ft){return this.request("JSONP",Se,{params:(new it).append(ft,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Se,ft={}){return this.request("OPTIONS",Se,ft)}patch(Se,ft,Dt={}){return this.request("PATCH",Se,an(Dt,ft))}post(Se,ft,Dt={}){return this.request("POST",Se,an(Dt,ft))}put(Se,ft,Dt={}){return this.request("PUT",Se,an(Dt,ft))}static \u0275fac=function(ft){return new(ft||ie)(O.KVO(Qe))};static \u0275prov=O.jDH({token:ie,factory:ie.\u0275fac})}return ie})();const Qn=new O.nKC("");function Dn(ie,ue){return ue(ie)}const fn=new O.nKC(""),dr=new O.nKC(""),cn=new O.nKC("",{providedIn:"root",factory:()=>!0});let ht=(()=>{class ie extends Qe{backend;injector;chain=null;pendingTasks=(0,O.WQX)(O.Ua0);contributeToStability=(0,O.WQX)(cn);constructor(Se,ft){super(),this.backend=Se,this.injector=ft}handle(Se){if(null===this.chain){const ft=Array.from(new Set([...this.injector.get(fn),...this.injector.get(dr,[])]));this.chain=ft.reduceRight((Dt,ae)=>function Pr(ie,ue,Se){return(ft,Dt)=>(0,O.N4e)(Se,()=>ue(ft,ae=>ie(ae,Dt)))}(Dt,ae,this.injector),Dn)}if(this.contributeToStability){const ft=this.pendingTasks.add();return this.chain(Se,Dt=>this.backend.handle(Dt)).pipe((0,nt.j)(()=>this.pendingTasks.remove(ft)))}return this.chain(Se,ft=>this.backend.handle(ft))}static \u0275fac=function(ft){return new(ft||ie)(O.KVO(dt),O.KVO(O.uvJ))};static \u0275prov=O.jDH({token:ie,factory:ie.\u0275fac})}return ie})();const ir=/^\)\]\}',?\n/,gi=RegExp(`^${wn}:`,"m");let Cn=(()=>{class ie{xhrFactory;constructor(Se){this.xhrFactory=Se}handle(Se){if("JSONP"===Se.method)throw new O.wOt(-2800,!1);const ft=this.xhrFactory;return(ft.\u0275loadImpl?(0,Te.H)(ft.\u0275loadImpl()):(0,be.of)(null)).pipe((0,we.n)(()=>new We.c(ae=>{const _e=ft.build();if(_e.open(Se.method,Se.urlWithParams),Se.withCredentials&&(_e.withCredentials=!0),Se.headers.forEach((Gn,or)=>_e.setRequestHeader(Gn,or.join(","))),Se.headers.has("Accept")||_e.setRequestHeader("Accept",kt),!Se.headers.has(Kn)){const Gn=Se.detectContentTypeHeader();null!==Gn&&_e.setRequestHeader(Kn,Gn)}if(Se.responseType){const Gn=Se.responseType.toLowerCase();_e.responseType="json"!==Gn?Gn:"text"}const Le=Se.serializeBody();let Pt=null;const Et=()=>{if(null!==Pt)return Pt;const Gn=_e.statusText||"OK",or=new Rt(_e.getAllResponseHeaders()),wi=function lr(ie){return"responseURL"in ie&&ie.responseURL?ie.responseURL:gi.test(ie.getAllResponseHeaders())?ie.getResponseHeader(wn):null}(_e)||Se.url;return Pt=new fe({headers:or,status:_e.status,statusText:Gn,url:wi}),Pt},mt=()=>{let{headers:Gn,status:or,statusText:wi,url:Si}=Et(),ve=null;204!==or&&(ve=typeof _e.response>"u"?_e.responseText:_e.response),0===or&&(or=ve?200:0);let Be=or>=200&&or<300;if("json"===Se.responseType&&"string"==typeof ve){const Ze=ve;ve=ve.replace(ir,"");try{ve=""!==ve?JSON.parse(ve):null}catch(jt){ve=Ze,Be&&(Be=!1,ve={error:jt,text:ve})}}Be?(ae.next(new me({body:ve,headers:Gn,status:or,statusText:wi,url:Si||void 0})),ae.complete()):ae.error(new oe({error:ve,headers:Gn,status:or,statusText:wi,url:Si||void 0}))},Ot=Gn=>{const{url:or}=Et(),wi=new oe({error:Gn,status:_e.status||0,statusText:_e.statusText||"Unknown Error",url:or||void 0});ae.error(wi)};let on=!1;const Un=Gn=>{on||(ae.next(Et()),on=!0);let or={type:te.DownloadProgress,loaded:Gn.loaded};Gn.lengthComputable&&(or.total=Gn.total),"text"===Se.responseType&&_e.responseText&&(or.partialText=_e.responseText),ae.next(or)},ln=Gn=>{let or={type:te.UploadProgress,loaded:Gn.loaded};Gn.lengthComputable&&(or.total=Gn.total),ae.next(or)};return _e.addEventListener("load",mt),_e.addEventListener("error",Ot),_e.addEventListener("timeout",Ot),_e.addEventListener("abort",Ot),Se.reportProgress&&(_e.addEventListener("progress",Un),null!==Le&&_e.upload&&_e.upload.addEventListener("progress",ln)),_e.send(Le),ae.next({type:te.Sent}),()=>{_e.removeEventListener("error",Ot),_e.removeEventListener("abort",Ot),_e.removeEventListener("load",mt),_e.removeEventListener("timeout",Ot),Se.reportProgress&&(_e.removeEventListener("progress",Un),null!==Le&&_e.upload&&_e.upload.removeEventListener("progress",ln)),_e.readyState!==_e.DONE&&_e.abort()}})))}static \u0275fac=function(ft){return new(ft||ie)(O.KVO(Ie.N0))};static \u0275prov=O.jDH({token:ie,factory:ie.\u0275fac})}return ie})();const Ti=new O.nKC(""),Wn=new O.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ue=new O.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dr{}let Zi=(()=>{class ie{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(Se,ft){this.doc=Se,this.cookieName=ft}getToken(){const Se=this.doc.cookie||"";return Se!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Ie.bS)(Se,this.cookieName),this.lastCookieString=Se),this.lastToken}static \u0275fac=function(ft){return new(ft||ie)(O.KVO(lt.q),O.KVO(Wn))};static \u0275prov=O.jDH({token:ie,factory:ie.\u0275fac})}return ie})();function ii(ie,ue){const Se=ie.url.toLowerCase();if(!(0,O.WQX)(Ti)||"GET"===ie.method||"HEAD"===ie.method||Se.startsWith("http://")||Se.startsWith("https://"))return ue(ie);const ft=(0,O.WQX)(Dr).getToken(),Dt=(0,O.WQX)(Ue);return null!=ft&&!ie.headers.has(Dt)&&(ie=ie.clone({headers:ie.headers.set(Dt,ft)})),ue(ie)}function wr(...ie){const ue=[en,Cn,ht,{provide:Qe,useExisting:ht},{provide:dt,useFactory:()=>(0,O.WQX)(Qn,{optional:!0})??(0,O.WQX)(Cn)},{provide:fn,useValue:ii,multi:!0},{provide:Ti,useValue:!0},{provide:Dr,useClass:Zi}];for(const Se of ie)ue.push(...Se.\u0275providers);return(0,O.EmA)(ue)}},7673:(bn,ze,$)=>{"use strict";$.d(ze,{of:()=>Y});var T=$(9326),O=$(8455);function Y(...B){const Re=(0,T.lI)(B);return(0,O.H)(B,Re)}},7707:(bn,ze,$)=>{"use strict";$.d(ze,{Ms:()=>Ht,vU:()=>lt});var T=$(8071),O=$(8359),Y=$(1026),B=$(5334),Re=$(5343);const nt=We("C",void 0,void 0);function We(St,ke,it){return{kind:St,value:ke,error:it}}var Te=$(9270),Ie=$(9786);class lt extends O.yU{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,O.Uv)(ke)&&ke.add(this)):this.destination=wt}static create(ke,it,Ye){return new Ht(ke,it,Ye)}next(ke){this.isStopped?yt(function be(St){return We("N",St,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?yt(function we(St){return We("E",void 0,St)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?yt(nt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function dt(St,ke){return Qe.call(St,ke)}class Rt{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:it}=this;if(it.next)try{it.next(ke)}catch(Ye){Bt(Ye)}}error(ke){const{partialObserver:it}=this;if(it.error)try{it.error(ke)}catch(Ye){Bt(Ye)}else Bt(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(it){Bt(it)}}}class Ht extends lt{constructor(ke,it,Ye){let It;if(super(),(0,T.T)(ke)||!ke)It={next:ke??void 0,error:it??void 0,complete:Ye??void 0};else{let qt;this&&Y.$.useDeprecatedNextContext?(qt=Object.create(ke),qt.unsubscribe=()=>this.unsubscribe(),It={next:ke.next&&dt(ke.next,qt),error:ke.error&&dt(ke.error,qt),complete:ke.complete&&dt(ke.complete,qt)}):It=ke}this.destination=new Rt(It)}}function Bt(St){Y.$.useDeprecatedSynchronousErrorHandling?(0,Ie.l)(St):(0,B.m)(St)}function yt(St,ke){const{onStoppedNotification:it}=Y.$;it&&Te.f.setTimeout(()=>it(St,ke))}const wt={closed:!0,next:Re.l,error:function Jt(St){throw St},complete:Re.l}},7759:(bn,ze,$)=>{"use strict";$.d(ze,{I:()=>Ht});var T=$(6354),O=$(7673),Y=$(9974),B=$(4360),Re=$(3669),nt=$(1985),we=$(3236),be=$(9470);var Ie=$(8750),Qe=$(9437),dt=$(1360),Rt=$(7643);let Ht=(()=>{class Bt{http;BASE_PATH="assets/data/";DATA_FILE="dashboard-data.json";constructor(yt){this.http=yt,console.log("%c<<< Start MOCK-DATA service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getDashboardMetrics(){return this.http.get(`${this.BASE_PATH}dashboard-data.json`)}getTicketGraph(){return this.http.get(`${this.BASE_PATH}${this.DATA_FILE}`).pipe((0,T.T)(yt=>yt.chartData.tickets))}getSatisfactionData(){return this.http.get(`${this.BASE_PATH}satisfaction.json`)}getChannelsData(){return this.http.get(`${this.BASE_PATH}channels.json`)}getNotifications(){return this.http.get(`${this.BASE_PATH}notifications.json`)}getReclamos(){return this.http.get(`${this.BASE_PATH}reclamos.json`).pipe(function lt(Bt=1/0){let Jt;Jt=Bt&&"object"==typeof Bt?Bt:{count:Bt};const{count:yt=1/0,delay:wt,resetOnSuccess:St=!1}=Jt;return yt<=0?Re.D:(0,Y.N)((ke,it)=>{let It,Ye=0;const qt=()=>{let Tt=!1;It=ke.subscribe((0,B._)(it,ct=>{St&&(Ye=0),it.next(ct)},void 0,ct=>{if(Ye++<yt){const Vn=()=>{It?(It.unsubscribe(),It=null,qt()):Tt=!0};if(null!=wt){const Mn="number"==typeof wt?function Te(Bt=0,Jt,yt=we.b){let wt=-1;return null!=Jt&&((0,be.m)(Jt)?yt=Jt:wt=Jt),new nt.c(St=>{let ke=function We(Bt){return Bt instanceof Date&&!isNaN(Bt)}(Bt)?+Bt-yt.now():Bt;ke<0&&(ke=0);let it=0;return yt.schedule(function(){St.closed||(St.next(it++),0<=wt?this.schedule(void 0,wt):St.complete())},ke)})}(wt):(0,Ie.Tg)(wt(ct,Ye)),Kn=(0,B._)(it,()=>{Kn.unsubscribe(),Vn()},()=>{it.complete()});Mn.subscribe(Kn)}else Vn()}else it.error(ct)})),Tt&&(It.unsubscribe(),It=null,qt())};qt()})}(2),(0,Qe.W)(yt=>(console.error("\u274c Error al cargar reclamos:",yt),(0,O.of)([]))))}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(yt){const wt=16*Math.random()|0;return("x"===yt?wt:3&wt|8).toString(16)})}static \u0275fac=function(wt){return new(wt||Bt)(dt.KVO(Rt.Qq))};static \u0275prov=dt.jDH({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}return Bt})()},7852:(bn,ze,$)=>{"use strict";$.d(ze,{MF:()=>Cn,j6:()=>ai,xZ:()=>Ei,om:()=>ri,Sx:()=>Wn,Dk:()=>Xi,Wp:()=>Ti,KO:()=>Zi});var T=$(467),O=$(1362),Y=$(8041),B=$(6858);let nt,we;const Te=new WeakMap,Ie=new WeakMap,lt=new WeakMap,Qe=new WeakMap,dt=new WeakMap;let Bt={get(ae,_e,Le){if(ae instanceof IDBTransaction){if("done"===_e)return Ie.get(ae);if("objectStoreNames"===_e)return ae.objectStoreNames||lt.get(ae);if("store"===_e)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return St(ae[_e])},set:(ae,_e,Le)=>(ae[_e]=Le,!0),has:(ae,_e)=>ae instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in ae};function wt(ae){return"function"==typeof ae?function yt(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function We(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(..._e){return ae.apply(ke(this),_e),St(Te.get(this))}:function(..._e){return St(ae.apply(ke(this),_e))}:function(_e,...Le){const Pt=ae.call(ke(this),_e,...Le);return lt.set(Pt,_e.sort?_e.sort():[_e]),St(Pt)}}(ae):(ae instanceof IDBTransaction&&function Ht(ae){if(Ie.has(ae))return;const _e=new Promise((Le,Pt)=>{const Et=()=>{ae.removeEventListener("complete",mt),ae.removeEventListener("error",Ot),ae.removeEventListener("abort",Ot)},mt=()=>{Le(),Et()},Ot=()=>{Pt(ae.error||new DOMException("AbortError","AbortError")),Et()};ae.addEventListener("complete",mt),ae.addEventListener("error",Ot),ae.addEventListener("abort",Ot)});Ie.set(ae,_e)}(ae),((ae,_e)=>_e.some(Le=>ae instanceof Le))(ae,function be(){return nt||(nt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,Bt):ae)}function St(ae){if(ae instanceof IDBRequest)return function Rt(ae){const _e=new Promise((Le,Pt)=>{const Et=()=>{ae.removeEventListener("success",mt),ae.removeEventListener("error",Ot)},mt=()=>{Le(St(ae.result)),Et()},Ot=()=>{Pt(ae.error),Et()};ae.addEventListener("success",mt),ae.addEventListener("error",Ot)});return _e.then(Le=>{Le instanceof IDBCursor&&Te.set(Le,ae)}).catch(()=>{}),dt.set(_e,ae),_e}(ae);if(Qe.has(ae))return Qe.get(ae);const _e=wt(ae);return _e!==ae&&(Qe.set(ae,_e),dt.set(_e,ae)),_e}const ke=ae=>dt.get(ae),It=["get","getKey","getAll","getAllKeys","count"],qt=["put","add","delete","clear"],Tt=new Map;function ct(ae,_e){if(!(ae instanceof IDBDatabase)||_e in ae||"string"!=typeof _e)return;if(Tt.get(_e))return Tt.get(_e);const Le=_e.replace(/FromIndex$/,""),Pt=_e!==Le,Et=qt.includes(Le);if(!(Le in(Pt?IDBIndex:IDBObjectStore).prototype)||!Et&&!It.includes(Le))return;const mt=function(){var Ot=(0,T.A)(function*(on,...Un){const ln=this.transaction(on,Et?"readwrite":"readonly");let Gn=ln.store;return Pt&&(Gn=Gn.index(Un.shift())),(yield Promise.all([Gn[Le](...Un),Et&&ln.done]))[0]});return function(Un){return Ot.apply(this,arguments)}}();return Tt.set(_e,mt),mt}!function Jt(ae){Bt=ae(Bt)}(ae=>({...ae,get:(_e,Le,Pt)=>ct(_e,Le)||ae.get(_e,Le,Pt),has:(_e,Le)=>!!ct(_e,Le)||ae.has(_e,Le)}));class Vn{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function Mn(ae){const _e=ae.getComponent();return"VERSION"===_e?.type}(Le)){const Pt=Le.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(Le=>Le).join(" ")}}const Kn="@firebase/app",wn=new Y.Vy("@firebase/app"),Je="@firebase/app-compat",rn="@firebase/analytics-compat",kt="@firebase/analytics",Ke="@firebase/app-check-compat",te="@firebase/app-check",he="@firebase/auth",fe="@firebase/auth-compat",me="@firebase/database",oe="@firebase/data-connect",pe="@firebase/database-compat",Xe="@firebase/functions",_t="@firebase/functions-compat",an="@firebase/installations",en="@firebase/installations-compat",Jn="@firebase/messaging",Kt="@firebase/messaging-compat",Qn="@firebase/performance",Hn="@firebase/performance-compat",Zt="@firebase/remote-config",Ln="@firebase/remote-config-compat",er="@firebase/storage",Dn="@firebase/storage-compat",Mr="@firebase/firestore",Pr="@firebase/ai",Ci="@firebase/firestore-compat",fn="firebase",cn="[DEFAULT]",Qi={[Kn]:"fire-core",[Je]:"fire-core-compat",[kt]:"fire-analytics",[rn]:"fire-analytics-compat",[te]:"fire-app-check",[Ke]:"fire-app-check-compat",[he]:"fire-auth",[fe]:"fire-auth-compat",[me]:"fire-rtdb",[oe]:"fire-data-connect",[pe]:"fire-rtdb-compat",[Xe]:"fire-fn",[_t]:"fire-fn-compat",[an]:"fire-iid",[en]:"fire-iid-compat",[Jn]:"fire-fcm",[Kt]:"fire-fcm-compat",[Qn]:"fire-perf",[Hn]:"fire-perf-compat",[Zt]:"fire-rc",[Ln]:"fire-rc-compat",[er]:"fire-gcs",[Dn]:"fire-gcs-compat",[Mr]:"fire-fst",[Ci]:"fire-fst-compat",[Pr]:"fire-vertex","fire-js":"fire-js",[fn]:"fire-js-all"},Nr=new Map,ht=new Map,Er=new Map;function qn(ae,_e){try{ae.container.addComponent(_e)}catch(Le){wn.debug(`Component ${_e.name} failed to register with FirebaseApp ${ae.name}`,Le)}}function ri(ae){const _e=ae.name;if(Er.has(_e))return wn.debug(`There were multiple attempts to register component ${_e}.`),!1;Er.set(_e,ae);for(const Le of Nr.values())qn(Le,ae);for(const Le of ht.values())qn(Le,ae);return!0}function ai(ae,_e){const Le=ae.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),ae.container.getProvider(_e)}function Ei(ae){return null!=ae&&void 0!==ae.settings}const cr=new B.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ir{constructor(_e,Le,Pt){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new O.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const Cn="11.8.0";function Ti(ae,_e={}){let Le=ae;"object"!=typeof _e&&(_e={name:_e});const Pt=Object.assign({name:cn,automaticDataCollectionEnabled:!0},_e),Et=Pt.name;if("string"!=typeof Et||!Et)throw cr.create("bad-app-name",{appName:String(Et)});if(Le||(Le=(0,B.T9)()),!Le)throw cr.create("no-options");const mt=Nr.get(Et);if(mt){if((0,B.bD)(Le,mt.options)&&(0,B.bD)(Pt,mt.config))return mt;throw cr.create("duplicate-app",{appName:Et})}const Ot=new O.h1(Et);for(const Un of Er.values())Ot.addComponent(Un);const on=new ir(Le,Pt,Ot);return Nr.set(Et,on),on}function Wn(ae=cn){const _e=Nr.get(ae);if(!_e&&ae===cn&&(0,B.T9)())return Ti();if(!_e)throw cr.create("no-app",{appName:ae});return _e}function Xi(){return Array.from(Nr.values())}function Zi(ae,_e,Le){var Pt;let Et=null!==(Pt=Qi[ae])&&void 0!==Pt?Pt:ae;Le&&(Et+=`-${Le}`);const mt=Et.match(/\s|\//),Ot=_e.match(/\s|\//);if(mt||Ot){const on=[`Unable to register library "${Et}" with version "${_e}":`];return mt&&on.push(`library name "${Et}" contains illegal characters (whitespace or "/")`),mt&&Ot&&on.push("and"),Ot&&on.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void wn.warn(on.join(" "))}ri(new O.uA(`${Et}-version`,()=>({library:Et,version:_e}),"VERSION"))}const wr="firebase-heartbeat-store";let Fi=null;function Li(){return Fi||(Fi=function it(ae,_e,{blocked:Le,upgrade:Pt,blocking:Et,terminated:mt}={}){const Ot=indexedDB.open(ae,_e),on=St(Ot);return Pt&&Ot.addEventListener("upgradeneeded",Un=>{Pt(St(Ot.result),Un.oldVersion,Un.newVersion,St(Ot.transaction),Un)}),Le&&Ot.addEventListener("blocked",Un=>Le(Un.oldVersion,Un.newVersion,Un)),on.then(Un=>{mt&&Un.addEventListener("close",()=>mt()),Et&&Un.addEventListener("versionchange",ln=>Et(ln.oldVersion,ln.newVersion,ln))}).catch(()=>{}),on}("firebase-heartbeat-database",1,{upgrade:(ae,_e)=>{if(0===_e)try{ae.createObjectStore(wr)}catch(Le){console.warn(Le)}}}).catch(ae=>{throw cr.create("idb-open",{originalErrorMessage:ae.message})})),Fi}function Ae(){return(Ae=(0,T.A)(function*(ae){try{const Le=(yield Li()).transaction(wr),Pt=yield Le.objectStore(wr).get(Lt(ae));return yield Le.done,Pt}catch(_e){if(_e instanceof B.g)wn.warn(_e.message);else{const Le=cr.create("idb-get",{originalErrorMessage:_e?.message});wn.warn(Le.message)}}})).apply(this,arguments)}function ye(ae,_e){return je.apply(this,arguments)}function je(){return(je=(0,T.A)(function*(ae,_e){try{const Pt=(yield Li()).transaction(wr,"readwrite");yield Pt.objectStore(wr).put(_e,Lt(ae)),yield Pt.done}catch(Le){if(Le instanceof B.g)wn.warn(Le.message);else{const Pt=cr.create("idb-set",{originalErrorMessage:Le?.message});wn.warn(Pt.message)}}})).apply(this,arguments)}function Lt(ae){return`${ae.name}!${ae.options.appId}`}class Rn{constructor(_e){this.container=_e,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new ue(Le),this._heartbeatsCachePromise=this._storage.read().then(Pt=>(this._heartbeatsCache=Pt,Pt))}triggerHeartbeat(){var _e=this;return(0,T.A)(function*(){var Le,Pt;try{const mt=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=pr();if(null==(null===(Le=_e._heartbeatsCache)||void 0===Le?void 0:Le.heartbeats)&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise,null==(null===(Pt=_e._heartbeatsCache)||void 0===Pt?void 0:Pt.heartbeats))||_e._heartbeatsCache.lastSentHeartbeatDate===Ot||_e._heartbeatsCache.heartbeats.some(on=>on.date===Ot))return;if(_e._heartbeatsCache.heartbeats.push({date:Ot,agent:mt}),_e._heartbeatsCache.heartbeats.length>30){const on=function ft(ae){if(0===ae.length)return-1;let _e=0,Le=ae[0].date;for(let Pt=1;Pt<ae.length;Pt++)ae[Pt].date<Le&&(Le=ae[Pt].date,_e=Pt);return _e}(_e._heartbeatsCache.heartbeats);_e._heartbeatsCache.heartbeats.splice(on,1)}return _e._storage.overwrite(_e._heartbeatsCache)}catch(Et){wn.warn(Et)}})()}getHeartbeatsHeader(){var _e=this;return(0,T.A)(function*(){var Le;try{if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null==(null===(Le=_e._heartbeatsCache)||void 0===Le?void 0:Le.heartbeats)||0===_e._heartbeatsCache.heartbeats.length)return"";const Pt=pr(),{heartbeatsToSend:Et,unsentEntries:mt}=function ie(ae,_e=1024){const Le=[];let Pt=ae.slice();for(const Et of ae){const mt=Le.find(Ot=>Ot.agent===Et.agent);if(mt){if(mt.dates.push(Et.date),Se(Le)>_e){mt.dates.pop();break}}else if(Le.push({agent:Et.agent,dates:[Et.date]}),Se(Le)>_e){Le.pop();break}Pt=Pt.slice(1)}return{heartbeatsToSend:Le,unsentEntries:Pt}}(_e._heartbeatsCache.heartbeats),Ot=(0,B.Uj)(JSON.stringify({version:2,heartbeats:Et}));return _e._heartbeatsCache.lastSentHeartbeatDate=Pt,mt.length>0?(_e._heartbeatsCache.heartbeats=mt,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),Ot}catch(Pt){return wn.warn(Pt),""}})()}}function pr(){return(new Date).toISOString().substring(0,10)}class ue{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.A)(function*(){return!!(0,B.zW)()&&(0,B.eX)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,T.A)(function*(){if(yield _e._canUseIndexedDBPromise){const Pt=yield function Vi(ae){return Ae.apply(this,arguments)}(_e.app);return Pt?.heartbeats?Pt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(_e){var Le=this;return(0,T.A)(function*(){var Pt;if(yield Le._canUseIndexedDBPromise){const mt=yield Le.read();return ye(Le.app,{lastSentHeartbeatDate:null!==(Pt=_e.lastSentHeartbeatDate)&&void 0!==Pt?Pt:mt.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var Le=this;return(0,T.A)(function*(){var Pt;if(yield Le._canUseIndexedDBPromise){const mt=yield Le.read();return ye(Le.app,{lastSentHeartbeatDate:null!==(Pt=_e.lastSentHeartbeatDate)&&void 0!==Pt?Pt:mt.lastSentHeartbeatDate,heartbeats:[...mt.heartbeats,..._e.heartbeats]})}})()}}function Se(ae){return(0,B.Uj)(JSON.stringify({version:2,heartbeats:ae})).length}!function Dt(ae){ri(new O.uA("platform-logger",_e=>new Vn(_e),"PRIVATE")),ri(new O.uA("heartbeat",_e=>new Rn(_e),"PRIVATE")),Zi(Kn,"0.13.0",ae),Zi(Kn,"0.13.0","esm2017"),Zi("fire-js","")}("")},7908:(bn,ze,$)=>{"use strict";function T(O,Y){if(O){const B=O.indexOf(Y);0<=B&&O.splice(B,1)}}$.d(ze,{o:()=>T})},7953:(bn,ze,$)=>{"use strict";$.d(ze,{T:()=>O});var T=$(8071);function O(Y){return Symbol.asyncIterator&&(0,T.T)(Y?.[Symbol.asyncIterator])}},8032:function(bn){bn.exports=function(){"use strict";var ze={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const T=R=>{const M={};for(const H in R)M[R[H]]="swal2-"+R[H];return M},O=T(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),Y=T(["success","warning","info","question","error"]),B="SweetAlert2:",nt=R=>R.charAt(0).toUpperCase()+R.slice(1),we=R=>{console.warn(`${B} ${"object"==typeof R?R.join(" "):R}`)},be=R=>{console.error(`${B} ${R}`)},We=[],Ie=(R,M)=>{(R=>{We.includes(R)||(We.push(R),we(R))})(`"${R}" is deprecated and will be removed in the next major release. Please use "${M}" instead.`)},lt=R=>"function"==typeof R?R():R,Qe=R=>R&&"function"==typeof R.toPromise,dt=R=>Qe(R)?R.toPromise():Promise.resolve(R),Rt=R=>R&&Promise.resolve(R)===R,Ht=()=>document.body.querySelector(`.${O.container}`),Bt=R=>{const M=Ht();return M?M.querySelector(R):null},Jt=R=>Bt(`.${R}`),yt=()=>Jt(O.popup),wt=()=>Jt(O.icon),ke=()=>Jt(O.title),it=()=>Jt(O["html-container"]),Ye=()=>Jt(O.image),It=()=>Jt(O["progress-steps"]),qt=()=>Jt(O["validation-message"]),Tt=()=>Bt(`.${O.actions} .${O.confirm}`),ct=()=>Bt(`.${O.actions} .${O.deny}`),Mn=()=>Bt(`.${O.loader}`),Kn=()=>Bt(`.${O.actions} .${O.cancel}`),pt=()=>Jt(O.actions),wn=()=>Jt(O.footer),Je=()=>Jt(O["timer-progress-bar"]),rn=()=>Jt(O.close),Ke=()=>{const R=Array.from(yt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((H,Ce)=>{const Ft=parseInt(H.getAttribute("tabindex")),Sn=parseInt(Ce.getAttribute("tabindex"));return Ft>Sn?1:Ft<Sn?-1:0}),M=Array.from(yt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(H=>"-1"!==H.getAttribute("tabindex"));return(R=>{const M=[];for(let H=0;H<R.length;H++)-1===M.indexOf(R[H])&&M.push(R[H]);return M})(R.concat(M)).filter(H=>Pr(H))},te=()=>pe(document.body,O.shown)&&!pe(document.body,O["toast-shown"])&&!pe(document.body,O["no-backdrop"]),he=()=>yt()&&pe(yt(),O.toast),me={previousBodyPadding:null},oe=(R,M)=>{if(R.textContent="",M){const Ce=(new DOMParser).parseFromString(M,"text/html");Array.from(Ce.querySelector("head").childNodes).forEach(Ft=>{R.appendChild(Ft)}),Array.from(Ce.querySelector("body").childNodes).forEach(Ft=>{Ft instanceof HTMLVideoElement||Ft instanceof HTMLAudioElement?R.appendChild(Ft.cloneNode(!0)):R.appendChild(Ft)})}},pe=(R,M)=>{if(!M)return!1;const H=M.split(/\s+/);for(let Ce=0;Ce<H.length;Ce++)if(!R.classList.contains(H[Ce]))return!1;return!0},_t=(R,M,H)=>{if(((R,M)=>{Array.from(R.classList).forEach(H=>{!Object.values(O).includes(H)&&!Object.values(Y).includes(H)&&!Object.values(M.showClass).includes(H)&&R.classList.remove(H)})})(R,M),M.customClass&&M.customClass[H]){if("string"!=typeof M.customClass[H]&&!M.customClass[H].forEach)return void we(`Invalid type of customClass.${H}! Expected string or iterable object, got "${typeof M.customClass[H]}"`);Kt(R,M.customClass[H])}},an=(R,M)=>{if(!M)return null;switch(M){case"select":case"textarea":case"file":return R.querySelector(`.${O.popup} > .${O[M]}`);case"checkbox":return R.querySelector(`.${O.popup} > .${O.checkbox} input`);case"radio":return R.querySelector(`.${O.popup} > .${O.radio} input:checked`)||R.querySelector(`.${O.popup} > .${O.radio} input:first-child`);case"range":return R.querySelector(`.${O.popup} > .${O.range} input`);default:return R.querySelector(`.${O.popup} > .${O.input}`)}},en=R=>{if(R.focus(),"file"!==R.type){const M=R.value;R.value="",R.value=M}},Jn=(R,M,H)=>{!R||!M||("string"==typeof M&&(M=M.split(/\s+/).filter(Boolean)),M.forEach(Ce=>{Array.isArray(R)?R.forEach(Ft=>{H?Ft.classList.add(Ce):Ft.classList.remove(Ce)}):H?R.classList.add(Ce):R.classList.remove(Ce)}))},Kt=(R,M)=>{Jn(R,M,!0)},Qn=(R,M)=>{Jn(R,M,!1)},Hn=(R,M)=>{const H=Array.from(R.children);for(let Ce=0;Ce<H.length;Ce++){const Ft=H[Ce];if(Ft instanceof HTMLElement&&pe(Ft,M))return Ft}},Zt=(R,M,H)=>{H===`${parseInt(H)}`&&(H=parseInt(H)),H||0===parseInt(H)?R.style[M]="number"==typeof H?`${H}px`:H:R.style.removeProperty(M)},Ln=function(R){R.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},er=R=>{R.style.display="none"},Dn=(R,M,H,Ce)=>{const Ft=R.querySelector(M);Ft&&(Ft.style[H]=Ce)},Mr=function(R,M){M?Ln(R,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):er(R)},Pr=R=>!(!R||!(R.offsetWidth||R.offsetHeight||R.getClientRects().length)),fn=R=>R.scrollHeight>R.clientHeight,dr=R=>{const M=window.getComputedStyle(R),H=parseFloat(M.getPropertyValue("animation-duration")||"0"),Ce=parseFloat(M.getPropertyValue("transition-duration")||"0");return H>0||Ce>0},cn=function(R){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const H=Je();Pr(H)&&(M&&(H.style.transition="none",H.style.width="100%"),setTimeout(()=>{H.style.transition=`width ${R/1e3}s linear`,H.style.width="0%"},10))},ht={},qn=R=>new Promise(M=>{if(!R)return M();const H=window.scrollX,Ce=window.scrollY;ht.restoreFocusTimeout=setTimeout(()=>{ht.previousActiveElement instanceof HTMLElement?(ht.previousActiveElement.focus(),ht.previousActiveElement=null):document.body&&document.body.focus(),M()},100),window.scrollTo(H,Ce)}),Xt=()=>typeof window>"u"||typeof document>"u",ri=`\n <div aria-labelledby="${O.title}" aria-describedby="${O["html-container"]}" class="${O.popup}" tabindex="-1">\n   <button type="button" class="${O.close}"></button>\n   <ul class="${O["progress-steps"]}"></ul>\n   <div class="${O.icon}"></div>\n   <img class="${O.image}" />\n   <h2 class="${O.title}" id="${O.title}"></h2>\n   <div class="${O["html-container"]}" id="${O["html-container"]}"></div>\n   <input class="${O.input}" />\n   <input type="file" class="${O.file}" />\n   <div class="${O.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${O.select}"></select>\n   <div class="${O.radio}"></div>\n   <label for="${O.checkbox}" class="${O.checkbox}">\n     <input type="checkbox" />\n     <span class="${O.label}"></span>\n   </label>\n   <textarea class="${O.textarea}"></textarea>\n   <div class="${O["validation-message"]}" id="${O["validation-message"]}"></div>\n   <div class="${O.actions}">\n     <div class="${O.loader}"></div>\n     <button type="button" class="${O.confirm}"></button>\n     <button type="button" class="${O.deny}"></button>\n     <button type="button" class="${O.cancel}"></button>\n   </div>\n   <div class="${O.footer}"></div>\n   <div class="${O["timer-progress-bar-container"]}">\n     <div class="${O["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),pi=()=>{ht.currentInstance.resetValidationMessage()},cr=R=>{const M=(()=>{const R=Ht();return!!R&&(R.remove(),Qn([document.documentElement,document.body],[O["no-backdrop"],O["toast-shown"],O["has-column"]]),!0)})();if(Xt())return void be("SweetAlert2 requires document to initialize");const H=document.createElement("div");H.className=O.container,M&&Kt(H,O["no-transition"]),oe(H,ri);const Ce=(R=>"string"==typeof R?document.querySelector(R):R)(R.target);Ce.appendChild(H),(R=>{const M=yt();M.setAttribute("role",R.toast?"alert":"dialog"),M.setAttribute("aria-live",R.toast?"polite":"assertive"),R.toast||M.setAttribute("aria-modal","true")})(R),(R=>{"rtl"===window.getComputedStyle(R).direction&&Kt(Ht(),O.rtl)})(Ce),(()=>{const R=yt(),M=Hn(R,O.input),H=Hn(R,O.file),Ce=R.querySelector(`.${O.range} input`),Ft=R.querySelector(`.${O.range} output`),Sn=Hn(R,O.select),sr=R.querySelector(`.${O.checkbox} input`),ji=Hn(R,O.textarea);M.oninput=pi,H.onchange=pi,Sn.onchange=pi,sr.onchange=pi,ji.oninput=pi,Ce.oninput=()=>{pi(),Ft.value=Ce.value},Ce.onchange=()=>{pi(),Ft.value=Ce.value}})()},ir=(R,M)=>{R instanceof HTMLElement?M.appendChild(R):"object"==typeof R?gi(R,M):R&&oe(M,R)},gi=(R,M)=>{R.jquery?lr(M,R):oe(M,R.toString())},lr=(R,M)=>{if(R.textContent="",0 in M)for(let H=0;H in M;H++)R.appendChild(M[H].cloneNode(!0));else R.appendChild(M.cloneNode(!0))},Cn=(()=>{if(Xt())return!1;const R=document.createElement("div"),M={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const H in M)if(Object.prototype.hasOwnProperty.call(M,H)&&typeof R.style[H]<"u")return M[H];return!1})(),kr=(R,M)=>{const H=pt(),Ce=Mn();M.showConfirmButton||M.showDenyButton||M.showCancelButton?Ln(H):er(H),_t(H,M,"actions"),function Wn(R,M,H){const Ce=Tt(),Ft=ct(),Sn=Kn();Ue(Ce,"confirm",H),Ue(Ft,"deny",H),Ue(Sn,"cancel",H),function Xi(R,M,H,Ce){Ce.buttonsStyling?(Kt([R,M,H],O.styled),Ce.confirmButtonColor&&(R.style.backgroundColor=Ce.confirmButtonColor,Kt(R,O["default-outline"])),Ce.denyButtonColor&&(M.style.backgroundColor=Ce.denyButtonColor,Kt(M,O["default-outline"])),Ce.cancelButtonColor&&(H.style.backgroundColor=Ce.cancelButtonColor,Kt(H,O["default-outline"]))):Qn([R,M,H],O.styled)}(Ce,Ft,Sn,H),H.reverseButtons&&(H.toast?(R.insertBefore(Sn,Ce),R.insertBefore(Ft,Ce)):(R.insertBefore(Sn,M),R.insertBefore(Ft,M),R.insertBefore(Ce,M)))}(H,Ce,M),oe(Ce,M.loaderHtml),_t(Ce,M,"loader")};function Ue(R,M,H){Mr(R,H[`show${nt(M)}Button`],"inline-block"),oe(R,H[`${M}ButtonText`]),R.setAttribute("aria-label",H[`${M}ButtonAriaLabel`]),R.className=O[M],_t(R,H,`${M}Button`),Kt(R,H[`${M}ButtonClass`])}const Zi=(R,M)=>{const H=Ht();H&&(function ii(R,M){"string"==typeof M?R.style.background=M:M||Kt([document.documentElement,document.body],O["no-backdrop"])}(H,M.backdrop),function Oi(R,M){M in O?Kt(R,O[M]):(we('The "position" parameter is not valid, defaulting to "center"'),Kt(R,O.center))}(H,M.position),function _n(R,M){if(M&&"string"==typeof M){const H=`grow-${M}`;H in O&&Kt(R,O[H])}}(H,M.grow),_t(H,M,"container"))};const fr=["input","file","range","select","radio","checkbox","textarea"],Fi=R=>{if(!Yt[R.input])return void be(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${R.input}"`);const M=Lt(R.input),H=Yt[R.input](M,R);Ln(M),setTimeout(()=>{en(H)})},Vi=(R,M)=>{const H=an(yt(),R);if(H){(R=>{for(let M=0;M<R.attributes.length;M++){const H=R.attributes[M].name;["type","value","style"].includes(H)||R.removeAttribute(H)}})(H);for(const Ce in M)H.setAttribute(Ce,M[Ce])}},Ae=R=>{const M=Lt(R.input);"object"==typeof R.customClass&&Kt(M,R.customClass.input)},ye=(R,M)=>{(!R.placeholder||M.inputPlaceholder)&&(R.placeholder=M.inputPlaceholder)},je=(R,M,H)=>{if(H.inputLabel){R.id=O.input;const Ce=document.createElement("label"),Ft=O["input-label"];Ce.setAttribute("for",R.id),Ce.className=Ft,"object"==typeof H.customClass&&Kt(Ce,H.customClass.inputLabel),Ce.innerText=H.inputLabel,M.insertAdjacentElement("beforebegin",Ce)}},Lt=R=>Hn(yt(),O[R]||O.input),et=(R,M)=>{["string","number"].includes(typeof M)?R.value=`${M}`:Rt(M)||we(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof M}"`)},Yt={};Yt.text=Yt.email=Yt.password=Yt.number=Yt.tel=Yt.url=(R,M)=>(et(R,M.inputValue),je(R,R,M),ye(R,M),R.type=M.input,R),Yt.file=(R,M)=>(je(R,R,M),ye(R,M),R),Yt.range=(R,M)=>{const H=R.querySelector("input"),Ce=R.querySelector("output");return et(H,M.inputValue),H.type=M.input,et(Ce,M.inputValue),je(H,R,M),R},Yt.select=(R,M)=>{if(R.textContent="",M.inputPlaceholder){const H=document.createElement("option");oe(H,M.inputPlaceholder),H.value="",H.disabled=!0,H.selected=!0,R.appendChild(H)}return je(R,R,M),R},Yt.radio=R=>(R.textContent="",R),Yt.checkbox=(R,M)=>{const H=an(yt(),"checkbox");H.value="1",H.id=O.checkbox,H.checked=!!M.inputValue;const Ce=R.querySelector("span");return oe(Ce,M.inputPlaceholder),H},Yt.textarea=(R,M)=>{et(R,M.inputValue),ye(R,M),je(R,R,M);return setTimeout(()=>{if("MutationObserver"in window){const Ce=parseInt(window.getComputedStyle(yt()).width);new MutationObserver(()=>{const Sn=R.offsetWidth+(Ce=>parseInt(window.getComputedStyle(Ce).marginLeft)+parseInt(window.getComputedStyle(Ce).marginRight))(R);yt().style.width=Sn>Ce?`${Sn}px`:null}).observe(R,{attributes:!0,attributeFilter:["style"]})}}),R};const Rn=(R,M)=>{const H=it();_t(H,M,"htmlContainer"),M.html?(ir(M.html,H),Ln(H,"block")):M.text?(H.textContent=M.text,Ln(H,"block")):er(H),((R,M)=>{const H=yt(),Ce=ze.innerParams.get(R),Ft=!Ce||M.input!==Ce.input;fr.forEach(Sn=>{const sr=Hn(H,O[Sn]);Vi(Sn,M.inputAttributes),sr.className=O[Sn],Ft&&er(sr)}),M.input&&(Ft&&Fi(M),Ae(M))})(R,M)},ue=(R,M)=>{for(const H in Y)M.icon!==H&&Qn(R,Y[H]);Kt(R,Y[M.icon]),_e(R,M),Se(),_t(R,M,"icon")},Se=()=>{const R=yt(),M=window.getComputedStyle(R).getPropertyValue("background-color"),H=R.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ce=0;Ce<H.length;Ce++)H[Ce].style.backgroundColor=M},ae=(R,M)=>{let Ce,H=R.innerHTML;M.iconHtml?Ce=Le(M.iconHtml):"success"===M.icon?(Ce='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',H=H.replace(/ style=".*?"/g,"")):Ce="error"===M.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Le({question:"?",warning:"!",info:"i"}[M.icon]),H.trim()!==Ce.trim()&&oe(R,Ce)},_e=(R,M)=>{if(M.iconColor){R.style.color=M.iconColor,R.style.borderColor=M.iconColor;for(const H of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Dn(R,H,"backgroundColor",M.iconColor);Dn(R,".swal2-success-ring","borderColor",M.iconColor)}},Le=R=>`<div class="${O["icon-content"]}">${R}</div>`,mt=(R,M)=>{R.className=`${O.popup} ${Pr(R)?M.showClass.popup:""}`,M.toast?(Kt([document.documentElement,document.body],O["toast-shown"]),Kt(R,O.toast)):Kt(R,O.modal),_t(R,M,"popup"),"string"==typeof M.customClass&&Kt(R,M.customClass),M.icon&&Kt(R,O[`icon-${M.icon}`])},on=R=>{const M=document.createElement("li");return Kt(M,O["progress-step"]),oe(M,R),M},Un=R=>{const M=document.createElement("li");return Kt(M,O["progress-step-line"]),R.progressStepsDistance&&Zt(M,"width",R.progressStepsDistance),M},Gn=(R,M)=>{((R,M)=>{const H=Ht(),Ce=yt();M.toast?(Zt(H,"width",M.width),Ce.style.width="100%",Ce.insertBefore(Mn(),wt())):Zt(Ce,"width",M.width),Zt(Ce,"padding",M.padding),M.color&&(Ce.style.color=M.color),M.background&&(Ce.style.background=M.background),er(qt()),mt(Ce,M)})(0,M),Zi(0,M),((R,M)=>{const H=It();M.progressSteps&&0!==M.progressSteps.length?(Ln(H),H.textContent="",M.currentProgressStep>=M.progressSteps.length&&we("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),M.progressSteps.forEach((Ce,Ft)=>{const Sn=on(Ce);if(H.appendChild(Sn),Ft===M.currentProgressStep&&Kt(Sn,O["active-progress-step"]),Ft!==M.progressSteps.length-1){const sr=Un(M);H.appendChild(sr)}})):er(H)})(0,M),((R,M)=>{const H=ze.innerParams.get(R),Ce=wt();H&&M.icon===H.icon?(ae(Ce,M),ue(Ce,M)):M.icon||M.iconHtml?M.icon&&-1===Object.keys(Y).indexOf(M.icon)?(be(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${M.icon}"`),er(Ce)):(Ln(Ce),ae(Ce,M),ue(Ce,M),Kt(Ce,M.showClass.icon)):er(Ce)})(R,M),((R,M)=>{const H=Ye();M.imageUrl?(Ln(H,""),H.setAttribute("src",M.imageUrl),H.setAttribute("alt",M.imageAlt),Zt(H,"width",M.imageWidth),Zt(H,"height",M.imageHeight),H.className=O.image,_t(H,M,"image")):er(H)})(0,M),((R,M)=>{const H=ke();Mr(H,M.title||M.titleText,"block"),M.title&&ir(M.title,H),M.titleText&&(H.innerText=M.titleText),_t(H,M,"title")})(0,M),((R,M)=>{const H=rn();oe(H,M.closeButtonHtml),_t(H,M,"closeButton"),Mr(H,M.showCloseButton),H.setAttribute("aria-label",M.closeButtonAriaLabel)})(0,M),Rn(R,M),kr(0,M),((R,M)=>{const H=wn();Mr(H,M.footer),M.footer&&ir(M.footer,H),_t(H,M,"footer")})(0,M),"function"==typeof M.didRender&&M.didRender(yt())};function or(){const R=ze.innerParams.get(this);if(!R)return;const M=ze.domCache.get(this);er(M.loader),he()?R.icon&&Ln(wt()):wi(M),Qn([M.popup,M.actions],O.loading),M.popup.removeAttribute("aria-busy"),M.popup.removeAttribute("data-loading"),M.confirmButton.disabled=!1,M.denyButton.disabled=!1,M.cancelButton.disabled=!1}const wi=R=>{const M=R.popup.getElementsByClassName(R.loader.getAttribute("data-button-to-replace"));M.length?Ln(M[0],"inline-block"):!Pr(Tt())&&!Pr(ct())&&!Pr(Kn())&&er(R.actions)};const Be=()=>Tt()&&Tt().click(),Gt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),In=R=>{R.keydownTarget&&R.keydownHandlerAdded&&(R.keydownTarget.removeEventListener("keydown",R.keydownHandler,{capture:R.keydownListenerCapture}),R.keydownHandlerAdded=!1)},An=(R,M,H)=>{const Ce=Ke();if(Ce.length)return(M+=H)===Ce.length?M=0:-1===M&&(M=Ce.length-1),Ce[M].focus();yt().focus()},tr=["ArrowRight","ArrowDown"],Hr=["ArrowLeft","ArrowUp"],Ro=(R,M,H)=>{const Ce=ze.innerParams.get(R);Ce&&(M.isComposing||229===M.keyCode||(Ce.stopKeydownPropagation&&M.stopPropagation(),"Enter"===M.key?Cr(R,M,Ce):"Tab"===M.key?ao(M,Ce):[...tr,...Hr].includes(M.key)?Hi(M.key):"Escape"===M.key&&Bo(M,Ce,H)))},Cr=(R,M,H)=>{if(lt(H.allowEnterKey)&&M.target&&R.getInput()&&M.target instanceof HTMLElement&&M.target.outerHTML===R.getInput().outerHTML){if(["textarea","file"].includes(H.input))return;Be(),M.preventDefault()}},ao=(R,M)=>{const H=R.target,Ce=Ke();let Ft=-1;for(let Sn=0;Sn<Ce.length;Sn++)if(H===Ce[Sn]){Ft=Sn;break}An(0,Ft,R.shiftKey?-1:1),R.stopPropagation(),R.preventDefault()},Hi=R=>{const M=Tt(),H=ct(),Ce=Kn();if(document.activeElement instanceof HTMLElement&&![M,H,Ce].includes(document.activeElement))return;const Ft=tr.includes(R)?"nextElementSibling":"previousElementSibling";let Sn=document.activeElement;for(let sr=0;sr<pt().children.length;sr++){if(Sn=Sn[Ft],!Sn)return;if(Sn instanceof HTMLButtonElement&&Pr(Sn))break}Sn instanceof HTMLButtonElement&&Sn.focus()},Bo=(R,M,H)=>{lt(M.allowEscapeKey)&&(R.preventDefault(),H(Gt.esc))};var io={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ge=()=>{Array.from(document.body.children).forEach(M=>{M.hasAttribute("data-previous-aria-hidden")?(M.setAttribute("aria-hidden",M.getAttribute("data-previous-aria-hidden")),M.removeAttribute("data-previous-aria-hidden")):M.removeAttribute("aria-hidden")})},re=()=>{const R=navigator.userAgent,M=!!R.match(/iPad/i)||!!R.match(/iPhone/i),H=!!R.match(/WebKit/i);M&&H&&!R.match(/CriOS/i)&&yt().scrollHeight>window.innerHeight-44&&(Ht().style.paddingBottom="44px")},Me=()=>{const R=Ht();let M;R.ontouchstart=H=>{M=At(H)},R.ontouchmove=H=>{M&&(H.preventDefault(),H.stopPropagation())}},At=R=>{const M=R.target,H=Ht();return!un(R)&&!xn(R)&&(M===H||!fn(H)&&M instanceof HTMLElement&&"INPUT"!==M.tagName&&"TEXTAREA"!==M.tagName&&!(fn(it())&&it().contains(M)))},un=R=>R.touches&&R.touches.length&&"stylus"===R.touches[0].touchType,xn=R=>R.touches&&R.touches.length>1,Kr=()=>{null===me.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(me.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${me.previousBodyPadding+(()=>{const R=document.createElement("div");R.className=O["scrollbar-measure"],document.body.appendChild(R);const M=R.getBoundingClientRect().width-R.clientWidth;return document.body.removeChild(R),M})()}px`)};function gr(R,M,H,Ce){he()?gt(R,Ce):(qn(H).then(()=>gt(R,Ce)),In(ht)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(M.setAttribute("style","display:none !important"),M.removeAttribute("class"),M.innerHTML=""):M.remove(),te()&&(null!==me.previousBodyPadding&&(document.body.style.paddingRight=`${me.previousBodyPadding}px`,me.previousBodyPadding=null),(()=>{if(pe(document.body,O.iosfix)){const R=parseInt(document.body.style.top,10);Qn(document.body,O.iosfix),document.body.style.top="",document.body.scrollTop=-1*R}})(),ge()),function Fn(){Qn([document.documentElement,document.body],[O.shown,O["height-auto"],O["no-backdrop"],O["toast-shown"]])}()}function mr(R){R=le(R);const M=io.swalPromiseResolve.get(this),H=mi(this);this.isAwaitingPromise()?R.isDismissed||(zo(this),M(R)):H&&M(R)}const mi=R=>{const M=yt();if(!M)return!1;const H=ze.innerParams.get(R);if(!H||pe(M,H.hideClass.popup))return!1;Qn(M,H.showClass.popup),Kt(M,H.hideClass.popup);const Ce=Ht();return Qn(Ce,H.showClass.backdrop),Kt(Ce,H.hideClass.backdrop),rt(R,M,H),!0};const zo=R=>{R.isAwaitingPromise()&&(ze.awaitingPromise.delete(R),ze.innerParams.get(R)||R._destroy())},le=R=>typeof R>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},R),rt=(R,M,H)=>{const Ce=Ht(),Ft=Cn&&dr(M);"function"==typeof H.willClose&&H.willClose(M),Ft?Ne(R,M,Ce,H.returnFocus,H.didClose):gr(R,Ce,H.returnFocus,H.didClose)},Ne=(R,M,H,Ce,Ft)=>{ht.swalCloseEventFinishedCallback=gr.bind(null,R,H,Ce,Ft),M.addEventListener(Cn,function(Sn){Sn.target===M&&(ht.swalCloseEventFinishedCallback(),delete ht.swalCloseEventFinishedCallback)})},gt=(R,M)=>{setTimeout(()=>{"function"==typeof M&&M.bind(R.params)(),R._destroy()})};function tn(R,M,H){const Ce=ze.domCache.get(R);M.forEach(Ft=>{Ce[Ft].disabled=H})}function vn(R,M){if(R)if("radio"===R.type){const Ce=R.parentNode.parentNode.querySelectorAll("input");for(let Ft=0;Ft<Ce.length;Ft++)Ce[Ft].disabled=M}else R.disabled=M}const En={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ss=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],To={},Po=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Zo=R=>Object.prototype.hasOwnProperty.call(En,R),Mo=R=>-1!==ss.indexOf(R),Is=R=>To[R],as=R=>{Zo(R)||we(`Unknown parameter "${R}"`)},xr=R=>{Po.includes(R)&&we(`The parameter "${R}" is incompatible with toasts`)},Wo=R=>{Is(R)&&Ie(R,Is(R))};const Ts=R=>{const M={};return Object.keys(R).forEach(H=>{Mo(H)?M[H]=R[H]:we(`Invalid parameter to update: ${H}`)}),M};const co=R=>{Qr(R),delete R.params,delete ht.keydownHandler,delete ht.keydownTarget,delete ht.currentInstance},Qr=R=>{R.isAwaitingPromise()?(Xr(ze,R),ze.awaitingPromise.set(R,!0)):(Xr(io,R),Xr(ze,R))},Xr=(R,M)=>{for(const H in R)R[H].delete(M)};var bs=Object.freeze({__proto__:null,hideLoading:or,disableLoading:or,getInput:function Si(R){const M=ze.innerParams.get(R||this),H=ze.domCache.get(R||this);return H?an(H.popup,M.input):null},close:mr,isAwaitingPromise:function zi(){return!!ze.awaitingPromise.get(this)},rejectPromise:function Io(R){const M=io.swalPromiseReject.get(this);zo(this),M&&M(R)},handleAwaitingPromise:zo,closePopup:mr,closeModal:mr,closeToast:mr,enableButtons:function Bn(){tn(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Yi(){tn(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function po(){vn(this.getInput(),!1)},disableInput:function ks(){vn(this.getInput(),!0)},showValidationMessage:function Yr(R){const M=ze.domCache.get(this),H=ze.innerParams.get(this);oe(M.validationMessage,R),M.validationMessage.className=O["validation-message"],H.customClass&&H.customClass.validationMessage&&Kt(M.validationMessage,H.customClass.validationMessage),Ln(M.validationMessage);const Ce=this.getInput();Ce&&(Ce.setAttribute("aria-invalid",!0),Ce.setAttribute("aria-describedby",O["validation-message"]),en(Ce),Kt(Ce,O.inputerror))},resetValidationMessage:function os(){const R=ze.domCache.get(this);R.validationMessage&&er(R.validationMessage);const M=this.getInput();M&&(M.removeAttribute("aria-invalid"),M.removeAttribute("aria-describedby"),Qn(M,O.inputerror))},update:function Go(R){const M=yt(),H=ze.innerParams.get(this);if(!M||pe(M,H.hideClass.popup))return void we("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Ce=Ts(R),Ft=Object.assign({},H,Ce);Gn(this,Ft),ze.innerParams.set(this,Ft),Object.defineProperties(this,{params:{value:Object.assign({},this.params,R),writable:!1,enumerable:!0}})},_destroy:function Wr(){const R=ze.domCache.get(this),M=ze.innerParams.get(this);M?(R.popup&&ht.swalCloseEventFinishedCallback&&(ht.swalCloseEventFinishedCallback(),delete ht.swalCloseEventFinishedCallback),"function"==typeof M.didDestroy&&M.didDestroy(),co(this)):Qr(this)}});const No=R=>{let M=yt();M||new Ur,M=yt();const H=Mn();he()?er(wt()):ko(M,R),Ln(H),M.setAttribute("data-loading","true"),M.setAttribute("aria-busy","true"),M.focus()},ko=(R,M)=>{const H=pt(),Ce=Mn();!M&&Pr(Tt())&&(M=Tt()),Ln(H),M&&(er(M),Ce.setAttribute("data-button-to-replace",M.className)),Ce.parentNode.insertBefore(Ce,M),Kt([R,H],O.loading)},Ui=R=>R.checked?1:0,$s=R=>R.checked?R.value:null,xo=R=>R.files.length?null!==R.getAttribute("multiple")?R.files:R.files[0]:null,Or=(R,M)=>{const H=yt(),Ce=Ft=>{Ji[M.input](H,ra(Ft),M)};Qe(M.inputOptions)||Rt(M.inputOptions)?(No(Tt()),dt(M.inputOptions).then(Ft=>{R.hideLoading(),Ce(Ft)})):"object"==typeof M.inputOptions?Ce(M.inputOptions):be("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof M.inputOptions)},yr=(R,M)=>{const H=R.getInput();er(H),dt(M.inputValue).then(Ce=>{H.value="number"===M.input?`${parseFloat(Ce)||0}`:`${Ce}`,Ln(H),H.focus(),R.hideLoading()}).catch(Ce=>{be(`Error in inputValue promise: ${Ce}`),H.value="",Ln(H),H.focus(),R.hideLoading()})},Ji={select:(R,M,H)=>{const Ce=Hn(R,O.select),Ft=(Sn,sr,ji)=>{const Gi=document.createElement("option");Gi.value=ji,oe(Gi,sr),Gi.selected=xs(ji,H.inputValue),Sn.appendChild(Gi)};M.forEach(Sn=>{const sr=Sn[0],ji=Sn[1];if(Array.isArray(ji)){const Gi=document.createElement("optgroup");Gi.label=sr,Gi.disabled=!1,Ce.appendChild(Gi),ji.forEach(Ao=>Ft(Gi,Ao[1],Ao[0]))}else Ft(Ce,ji,sr)}),Ce.focus()},radio:(R,M,H)=>{const Ce=Hn(R,O.radio);M.forEach(Sn=>{const sr=Sn[0],ji=Sn[1],Gi=document.createElement("input"),Ao=document.createElement("label");Gi.type="radio",Gi.name=O.radio,Gi.value=sr,xs(sr,H.inputValue)&&(Gi.checked=!0);const qs=document.createElement("span");oe(qs,ji),qs.className=O.label,Ao.appendChild(Gi),Ao.appendChild(qs),Ce.appendChild(Ao)});const Ft=Ce.querySelectorAll("input");Ft.length&&Ft[0].focus()}},ra=R=>{const M=[];return typeof Map<"u"&&R instanceof Map?R.forEach((H,Ce)=>{let Ft=H;"object"==typeof Ft&&(Ft=ra(Ft)),M.push([Ce,Ft])}):Object.keys(R).forEach(H=>{let Ce=R[H];"object"==typeof Ce&&(Ce=ra(Ce)),M.push([H,Ce])}),M},xs=(R,M)=>M&&M.toString()===R.toString(),q=(R,M)=>{const H=ze.innerParams.get(R);if(!H.input)return void be(`The "input" parameter is needed to be set when using returnInputValueOn${nt(M)}`);const Ce=((R,M)=>{const H=R.getInput();if(!H)return null;switch(M.input){case"checkbox":return Ui(H);case"radio":return $s(H);case"file":return xo(H);default:return M.inputAutoTrim?H.value.trim():H.value}})(R,H);H.inputValidator?K(R,Ce,M):R.getInput().checkValidity()?"deny"===M?Ee(R,Ce):xt(R,Ce):(R.enableButtons(),R.showValidationMessage(H.validationMessage))},K=(R,M,H)=>{const Ce=ze.innerParams.get(R);R.disableInput(),Promise.resolve().then(()=>dt(Ce.inputValidator(M,Ce.validationMessage))).then(Sn=>{R.enableButtons(),R.enableInput(),Sn?R.showValidationMessage(Sn):"deny"===H?Ee(R,M):xt(R,M)})},Ee=(R,M)=>{const H=ze.innerParams.get(R||void 0);H.showLoaderOnDeny&&No(ct()),H.preDeny?(ze.awaitingPromise.set(R||void 0,!0),Promise.resolve().then(()=>dt(H.preDeny(M,H.validationMessage))).then(Ft=>{!1===Ft?(R.hideLoading(),zo(R)):R.close({isDenied:!0,value:typeof Ft>"u"?M:Ft})}).catch(Ft=>ot(R||void 0,Ft))):R.close({isDenied:!0,value:M})},Pe=(R,M)=>{R.close({isConfirmed:!0,value:M})},ot=(R,M)=>{R.rejectPromise(M)},xt=(R,M)=>{const H=ze.innerParams.get(R||void 0);H.showLoaderOnConfirm&&No(),H.preConfirm?(R.resetValidationMessage(),ze.awaitingPromise.set(R||void 0,!0),Promise.resolve().then(()=>dt(H.preConfirm(M,H.validationMessage))).then(Ft=>{Pr(qt())||!1===Ft?(R.hideLoading(),zo(R)):Pe(R,typeof Ft>"u"?M:Ft)}).catch(Ft=>ot(R||void 0,Ft))):Pe(R,M)},Tn=(R,M,H)=>{M.popup.onclick=()=>{const Ce=ze.innerParams.get(R);Ce&&(pn(Ce)||Ce.timer||Ce.input)||H(Gt.close)}},pn=R=>R.showConfirmButton||R.showDenyButton||R.showCancelButton||R.showCloseButton;let hr=!1;const Xn=R=>{R.popup.onmousedown=()=>{R.container.onmouseup=function(M){R.container.onmouseup=void 0,M.target===R.container&&(hr=!0)}}},Lr=R=>{R.container.onmousedown=()=>{R.popup.onmouseup=function(M){R.popup.onmouseup=void 0,(M.target===R.popup||R.popup.contains(M.target))&&(hr=!0)}}},Ii=(R,M,H)=>{M.container.onclick=Ce=>{const Ft=ze.innerParams.get(R);hr?hr=!1:Ce.target===M.container&&lt(Ft.allowOutsideClick)&&H(Gt.backdrop)}},Bi=R=>R instanceof Element||(R=>"object"==typeof R&&R.jquery)(R);const _i=()=>{if(ht.timeout)return(()=>{const R=Je(),M=parseInt(window.getComputedStyle(R).width);R.style.removeProperty("transition"),R.style.width="100%";const Ce=M/parseInt(window.getComputedStyle(R).width)*100;R.style.removeProperty("transition"),R.style.width=`${Ce}%`})(),ht.timeout.stop()},Pi=()=>{if(ht.timeout){const R=ht.timeout.start();return cn(R),R}};let Ko=!1;const ds={};const Da=R=>{for(let M=R.target;M&&M!==document;M=M.parentNode)for(const H in ds){const Ce=M.getAttribute(H);if(Ce)return void ds[H].fire({template:Ce})}};var Hs=Object.freeze({__proto__:null,isValidParameter:Zo,isUpdatableParameter:Mo,isDeprecatedParameter:Is,argsToParams:R=>{const M={};return"object"!=typeof R[0]||Bi(R[0])?["title","html","icon"].forEach((H,Ce)=>{const Ft=R[Ce];"string"==typeof Ft||Bi(Ft)?M[H]=Ft:void 0!==Ft&&be(`Unexpected type of ${H}! Expected "string" or "Element", got ${typeof Ft}`)}):Object.assign(M,R[0]),M},getContainer:Ht,getPopup:yt,getTitle:ke,getHtmlContainer:it,getImage:Ye,getIcon:wt,getIconContent:()=>Jt(O["icon-content"]),getInputLabel:()=>Jt(O["input-label"]),getCloseButton:rn,getActions:pt,getConfirmButton:Tt,getDenyButton:ct,getCancelButton:Kn,getLoader:Mn,getFooter:wn,getTimerProgressBar:Je,getFocusableElements:Ke,getValidationMessage:qt,getProgressSteps:It,isLoading:()=>yt().hasAttribute("data-loading"),isVisible:()=>Pr(yt()),clickConfirm:Be,clickDeny:()=>ct()&&ct().click(),clickCancel:()=>Kn()&&Kn().click(),fire:function Jr(){for(var M=arguments.length,H=new Array(M),Ce=0;Ce<M;Ce++)H[Ce]=arguments[Ce];return new this(...H)},mixin:function ki(R){return class M extends(this){_main(Ce,Ft){return super._main(Ce,Object.assign({},R,Ft))}}},showLoading:No,enableLoading:No,getTimerLeft:()=>ht.timeout&&ht.timeout.getTimerLeft(),stopTimer:_i,resumeTimer:Pi,toggleTimer:()=>{const R=ht.timeout;return R&&(R.running?_i():Pi())},increaseTimer:R=>{if(ht.timeout){const M=ht.timeout.increase(R);return cn(M,!0),M}},isTimerRunning:()=>ht.timeout&&ht.timeout.isRunning(),bindClickHandler:function ha(){ds[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ko||(document.body.addEventListener("click",Da),Ko=!0)}});class hs{constructor(M,H){this.callback=M,this.remaining=H,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(M){const H=this.running;return H&&this.stop(),this.remaining+=M,H&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Fa=["swal-title","swal-html","swal-footer"],zs=R=>{const M={};return Array.from(R.querySelectorAll("swal-param")).forEach(Ce=>{bi(Ce,["name","value"]);const Ft=Ce.getAttribute("name"),Sn=Ce.getAttribute("value");M[Ft]="boolean"==typeof En[Ft]?"false"!==Sn:"object"==typeof En[Ft]?JSON.parse(Sn):Sn}),M},oo=R=>{const M={};return Array.from(R.querySelectorAll("swal-function-param")).forEach(Ce=>{const Ft=Ce.getAttribute("name"),Sn=Ce.getAttribute("value");M[Ft]=new Function(`return ${Sn}`)()}),M},Os=R=>{const M={};return Array.from(R.querySelectorAll("swal-button")).forEach(Ce=>{bi(Ce,["type","color","aria-label"]);const Ft=Ce.getAttribute("type");M[`${Ft}ButtonText`]=Ce.innerHTML,M[`show${nt(Ft)}Button`]=!0,Ce.hasAttribute("color")&&(M[`${Ft}ButtonColor`]=Ce.getAttribute("color")),Ce.hasAttribute("aria-label")&&(M[`${Ft}ButtonAriaLabel`]=Ce.getAttribute("aria-label"))}),M},ui=R=>{const M={},H=R.querySelector("swal-image");return H&&(bi(H,["src","width","height","alt"]),H.hasAttribute("src")&&(M.imageUrl=H.getAttribute("src")),H.hasAttribute("width")&&(M.imageWidth=H.getAttribute("width")),H.hasAttribute("height")&&(M.imageHeight=H.getAttribute("height")),H.hasAttribute("alt")&&(M.imageAlt=H.getAttribute("alt"))),M},Oo=R=>{const M={},H=R.querySelector("swal-icon");return H&&(bi(H,["type","color"]),H.hasAttribute("type")&&(M.icon=H.getAttribute("type")),H.hasAttribute("color")&&(M.iconColor=H.getAttribute("color")),M.iconHtml=H.innerHTML),M},Fs=R=>{const M={},H=R.querySelector("swal-input");H&&(bi(H,["type","label","placeholder","value"]),M.input=H.getAttribute("type")||"text",H.hasAttribute("label")&&(M.inputLabel=H.getAttribute("label")),H.hasAttribute("placeholder")&&(M.inputPlaceholder=H.getAttribute("placeholder")),H.hasAttribute("value")&&(M.inputValue=H.getAttribute("value")));const Ce=Array.from(R.querySelectorAll("swal-input-option"));return Ce.length&&(M.inputOptions={},Ce.forEach(Ft=>{bi(Ft,["value"]);const Sn=Ft.getAttribute("value");M.inputOptions[Sn]=Ft.innerHTML})),M},Ws=(R,M)=>{const H={};for(const Ce in M){const Ft=M[Ce],Sn=R.querySelector(Ft);Sn&&(bi(Sn,[]),H[Ft.replace(/^swal-/,"")]=Sn.innerHTML.trim())}return H},Gs=R=>{const M=Fa.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(R.children).forEach(H=>{const Ce=H.tagName.toLowerCase();M.includes(Ce)||we(`Unrecognized element <${Ce}>`)})},bi=(R,M)=>{Array.from(R.attributes).forEach(H=>{-1===M.indexOf(H.name)&&we([`Unrecognized attribute "${H.name}" on <${R.tagName.toLowerCase()}>.`,M.length?`Allowed attributes are: ${M.join(", ")}`:"To set the value, use HTML within the element."])})},zr=R=>{const M=Ht(),H=yt();"function"==typeof R.willOpen&&R.willOpen(H);const Ft=window.getComputedStyle(document.body).overflowY;qa(M,H,R),setTimeout(()=>{Aa(M,H)},10),te()&&(Ks(M,R.scrollbarPadding,Ft),Array.from(document.body.children).forEach(M=>{M===Ht()||M.contains(Ht())||(M.hasAttribute("aria-hidden")&&M.setAttribute("data-previous-aria-hidden",M.getAttribute("aria-hidden")),M.setAttribute("aria-hidden","true"))})),!he()&&!ht.previousActiveElement&&(ht.previousActiveElement=document.activeElement),"function"==typeof R.didOpen&&setTimeout(()=>R.didOpen(H)),Qn(M,O["no-transition"])},Vr=R=>{const M=yt();if(R.target!==M)return;const H=Ht();M.removeEventListener(Cn,Vr),H.style.overflowY="auto"},Aa=(R,M)=>{Cn&&dr(M)?(R.style.overflowY="hidden",M.addEventListener(Cn,Vr)):R.style.overflowY="auto"},Ks=(R,M,H)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!pe(document.body,O.iosfix)){const M=document.body.scrollTop;document.body.style.top=-1*M+"px",Kt(document.body,O.iosfix),Me(),re()}})(),M&&"hidden"!==H&&Kr(),setTimeout(()=>{R.scrollTop=0})},qa=(R,M,H)=>{Kt(R,H.showClass.backdrop),M.style.setProperty("opacity","0","important"),Ln(M,"grid"),setTimeout(()=>{Kt(M,H.showClass.popup),M.style.removeProperty("opacity")},10),Kt([document.documentElement,document.body],O.shown),H.heightAuto&&H.backdrop&&!H.toast&&Kt([document.documentElement,document.body],O["height-auto"])};var Ca={email:(R,M)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(R)?Promise.resolve():Promise.resolve(M||"Invalid email address"),url:(R,M)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(R)?Promise.resolve():Promise.resolve(M||"Invalid URL")};function Va(R){(function Qa(R){R.inputValidator||Object.keys(Ca).forEach(M=>{R.input===M&&(R.inputValidator=Ca[M])})})(R),R.showLoaderOnConfirm&&!R.preConfirm&&we("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function La(R){(!R.target||"string"==typeof R.target&&!document.querySelector(R.target)||"string"!=typeof R.target&&!R.target.appendChild)&&(we('Target parameter is not valid, defaulting to "body"'),R.target="body")}(R),"string"==typeof R.title&&(R.title=R.title.split("\n").join("<br />")),cr(R)}let qo;class Gr{constructor(){if(typeof window>"u")return;qo=this;for(var M=arguments.length,H=new Array(M),Ce=0;Ce<M;Ce++)H[Ce]=arguments[Ce];const Ft=Object.freeze(this.constructor.argsToParams(H));Object.defineProperties(this,{params:{value:Ft,writable:!1,enumerable:!0,configurable:!0}});const Sn=qo._main(qo.params);ze.promise.set(this,Sn)}_main(M){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(R=>{!1===R.backdrop&&R.allowOutsideClick&&we('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const M in R)as(M),R.toast&&xr(M),Wo(M)})(Object.assign({},H,M)),ht.currentInstance&&(ht.currentInstance._destroy(),te()&&ge()),ht.currentInstance=qo;const Ce=nr(M,H);Va(Ce),Object.freeze(Ce),ht.timeout&&(ht.timeout.stop(),delete ht.timeout),clearTimeout(ht.restoreFocusTimeout);const Ft=li(qo);return Gn(qo,Ce),ze.innerParams.set(qo,Ce),nn(qo,Ft,Ce)}then(M){return ze.promise.get(this).then(M)}finally(M){return ze.promise.get(this).finally(M)}}const nn=(R,M,H)=>new Promise((Ce,Ft)=>{const Sn=sr=>{R.close({isDismissed:!0,dismiss:sr})};io.swalPromiseResolve.set(R,Ce),io.swalPromiseReject.set(R,Ft),M.confirmButton.onclick=()=>{(R=>{const M=ze.innerParams.get(R);R.disableButtons(),M.input?q(R,"confirm"):xt(R,!0)})(R)},M.denyButton.onclick=()=>{(R=>{const M=ze.innerParams.get(R);R.disableButtons(),M.returnInputValueOnDeny?q(R,"deny"):Ee(R,!1)})(R)},M.cancelButton.onclick=()=>{((R,M)=>{R.disableButtons(),M(Gt.cancel)})(R,Sn)},M.closeButton.onclick=()=>{Sn(Gt.close)},((R,M,H)=>{ze.innerParams.get(R).toast?Tn(R,M,H):(Xn(M),Lr(M),Ii(R,M,H))})(R,M,Sn),((R,M,H,Ce)=>{In(M),H.toast||(M.keydownHandler=Ft=>Ro(R,Ft,Ce),M.keydownTarget=H.keydownListenerCapture?window:yt(),M.keydownListenerCapture=H.keydownListenerCapture,M.keydownTarget.addEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!0)})(R,ht,H,Sn),((R,M)=>{"select"===M.input||"radio"===M.input?Or(R,M):["text","email","number","tel","textarea"].includes(M.input)&&(Qe(M.inputValue)||Rt(M.inputValue))&&(No(Tt()),yr(R,M))})(R,H),zr(H),$o(ht,H,Sn),Wi(M,H),setTimeout(()=>{M.container.scrollTop=0})}),nr=(R,M)=>{const H=(R=>{const M="string"==typeof R.template?document.querySelector(R.template):R.template;if(!M)return{};const H=M.content;return Gs(H),Object.assign(zs(H),oo(H),Os(H),ui(H),Oo(H),Fs(H),Ws(H,Fa))})(R),Ce=Object.assign({},En,M,H,R);return Ce.showClass=Object.assign({},En.showClass,Ce.showClass),Ce.hideClass=Object.assign({},En.hideClass,Ce.hideClass),Ce},li=R=>{const M={popup:yt(),container:Ht(),actions:pt(),confirmButton:Tt(),denyButton:ct(),cancelButton:Kn(),loader:Mn(),closeButton:rn(),validationMessage:qt(),progressSteps:It()};return ze.domCache.set(R,M),M},$o=(R,M,H)=>{const Ce=Je();er(Ce),M.timer&&(R.timeout=new hs(()=>{H("timer"),delete R.timeout},M.timer),M.timerProgressBar&&(Ln(Ce),_t(Ce,M,"timerProgressBar"),setTimeout(()=>{R.timeout&&R.timeout.running&&cn(M.timer)})))},Wi=(R,M)=>{if(!M.toast){if(!lt(M.allowEnterKey))return void fs();Qo(R,M)||An(0,-1,1)}},Qo=(R,M)=>M.focusDeny&&Pr(R.denyButton)?(R.denyButton.focus(),!0):M.focusCancel&&Pr(R.cancelButton)?(R.cancelButton.focus(),!0):!(!M.focusConfirm||!Pr(R.confirmButton)||(R.confirmButton.focus(),0)),fs=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const R=new Date,M=localStorage.getItem("swal-initiation");M?(R.getTime()-Date.parse(M))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const H=document.createElement("audio");H.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",H.loop=!0,document.body.appendChild(H),setTimeout(()=>{H.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${R}`)}Object.assign(Gr.prototype,bs),Object.assign(Gr,Hs),Object.keys(bs).forEach(R=>{Gr[R]=function(){if(qo)return qo[R](...arguments)}}),Gr.DismissReason=Gt,Gr.version="11.6.13";const Ur=Gr;return Ur.default=Ur,Ur}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ze,$){var T=ze.createElement("style");if(ze.getElementsByTagName("head")[0].appendChild(T),T.styleSheet)T.styleSheet.disabled||(T.styleSheet.cssText=$);else try{T.innerHTML=$}catch{T.innerText=$}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8041:(bn,ze,$)=>{"use strict";$.d(ze,{$b:()=>O,Vy:()=>we});const T=[];var O=function(Te){return Te[Te.DEBUG=0]="DEBUG",Te[Te.VERBOSE=1]="VERBOSE",Te[Te.INFO=2]="INFO",Te[Te.WARN=3]="WARN",Te[Te.ERROR=4]="ERROR",Te[Te.SILENT=5]="SILENT",Te}(O||{});const Y={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},B=O.INFO,Re={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},nt=(Te,Ie,...lt)=>{if(Ie<Te.logLevel)return;const Qe=(new Date).toISOString(),dt=Re[Ie];if(!dt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ie})`);console[dt](`[${Qe}]  ${Te.name}:`,...lt)};class we{constructor(Ie){this.name=Ie,this._logLevel=B,this._logHandler=nt,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(Ie){if(!(Ie in O))throw new TypeError(`Invalid value "${Ie}" assigned to \`logLevel\``);this._logLevel=Ie}setLogLevel(Ie){this._logLevel="string"==typeof Ie?Y[Ie]:Ie}get logHandler(){return this._logHandler}set logHandler(Ie){if("function"!=typeof Ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ie){this._userLogHandler=Ie}debug(...Ie){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...Ie),this._logHandler(this,O.DEBUG,...Ie)}log(...Ie){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...Ie),this._logHandler(this,O.VERBOSE,...Ie)}info(...Ie){this._userLogHandler&&this._userLogHandler(this,O.INFO,...Ie),this._logHandler(this,O.INFO,...Ie)}warn(...Ie){this._userLogHandler&&this._userLogHandler(this,O.WARN,...Ie),this._logHandler(this,O.WARN,...Ie)}error(...Ie){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...Ie),this._logHandler(this,O.ERROR,...Ie)}}},8071:(bn,ze,$)=>{"use strict";function T(O){return"function"==typeof O}$.d(ze,{T:()=>T})},8359:(bn,ze,$)=>{"use strict";$.d(ze,{Kn:()=>nt,yU:()=>Re,Uv:()=>we});var T=$(8071);const Y=(0,$(1853).L)(We=>function(Ie){We(this),this.message=Ie?`${Ie.length} errors occurred during unsubscription:\n${Ie.map((lt,Qe)=>`${Qe+1}) ${lt.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ie});var B=$(7908);class Re{constructor(Te){this.initialTeardown=Te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Te;if(!this.closed){this.closed=!0;const{_parentage:Ie}=this;if(Ie)if(this._parentage=null,Array.isArray(Ie))for(const dt of Ie)dt.remove(this);else Ie.remove(this);const{initialTeardown:lt}=this;if((0,T.T)(lt))try{lt()}catch(dt){Te=dt instanceof Y?dt.errors:[dt]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const dt of Qe)try{be(dt)}catch(Rt){Te=Te??[],Rt instanceof Y?Te=[...Te,...Rt.errors]:Te.push(Rt)}}if(Te)throw new Y(Te)}}add(Te){var Ie;if(Te&&Te!==this)if(this.closed)be(Te);else{if(Te instanceof Re){if(Te.closed||Te._hasParent(this))return;Te._addParent(this)}(this._finalizers=null!==(Ie=this._finalizers)&&void 0!==Ie?Ie:[]).push(Te)}}_hasParent(Te){const{_parentage:Ie}=this;return Ie===Te||Array.isArray(Ie)&&Ie.includes(Te)}_addParent(Te){const{_parentage:Ie}=this;this._parentage=Array.isArray(Ie)?(Ie.push(Te),Ie):Ie?[Ie,Te]:Te}_removeParent(Te){const{_parentage:Ie}=this;Ie===Te?this._parentage=null:Array.isArray(Ie)&&(0,B.o)(Ie,Te)}remove(Te){const{_finalizers:Ie}=this;Ie&&(0,B.o)(Ie,Te),Te instanceof Re&&Te._removeParent(this)}}Re.EMPTY=(()=>{const We=new Re;return We.closed=!0,We})();const nt=Re.EMPTY;function we(We){return We instanceof Re||We&&"closed"in We&&(0,T.T)(We.remove)&&(0,T.T)(We.add)&&(0,T.T)(We.unsubscribe)}function be(We){(0,T.T)(We)?We():We.unsubscribe()}},8455:(bn,ze,$)=>{"use strict";$.d(ze,{H:()=>ke});var T=$(8750),O=$(941),Y=$(6745),nt=$(1985),be=$(4761),We=$(8071),Te=$(5225);function lt(it,Ye){if(!it)throw new Error("Iterable cannot be null");return new nt.c(It=>{(0,Te.N)(It,Ye,()=>{const qt=it[Symbol.asyncIterator]();(0,Te.N)(It,Ye,()=>{qt.next().then(Tt=>{Tt.done?It.complete():It.next(Tt.value)})},0,!0)})})}var Qe=$(5055),dt=$(9858),Rt=$(7441),Ht=$(5397),Bt=$(7953),Jt=$(591),yt=$(5196);function ke(it,Ye){return Ye?function St(it,Ye){if(null!=it){if((0,Qe.l)(it))return function B(it,Ye){return(0,T.Tg)(it).pipe((0,Y._)(Ye),(0,O.Q)(Ye))}(it,Ye);if((0,Rt.X)(it))return function we(it,Ye){return new nt.c(It=>{let qt=0;return Ye.schedule(function(){qt===it.length?It.complete():(It.next(it[qt++]),It.closed||this.schedule())})})}(it,Ye);if((0,dt.y)(it))return function Re(it,Ye){return(0,T.Tg)(it).pipe((0,Y._)(Ye),(0,O.Q)(Ye))}(it,Ye);if((0,Bt.T)(it))return lt(it,Ye);if((0,Ht.x)(it))return function Ie(it,Ye){return new nt.c(It=>{let qt;return(0,Te.N)(It,Ye,()=>{qt=it[be.l](),(0,Te.N)(It,Ye,()=>{let Tt,ct;try{({value:Tt,done:ct}=qt.next())}catch(Vn){return void It.error(Vn)}ct?It.complete():It.next(Tt)},0,!0)}),()=>(0,We.T)(qt?.return)&&qt.return()})}(it,Ye);if((0,yt.U)(it))return function wt(it,Ye){return lt((0,yt.C)(it),Ye)}(it,Ye)}throw(0,Jt.L)(it)}(it,Ye):(0,T.Tg)(it)}},8496:(bn,ze,$)=>{"use strict";function T(O,Y){return O.reduce((B,Re,nt)=>(B[Re]=Y[nt],B),{})}$.d(ze,{e:()=>T})},8750:(bn,ze,$)=>{"use strict";$.d(ze,{Tg:()=>Qe});var T=$(1635),O=$(7441),Y=$(9858),B=$(1985),Re=$(5055),nt=$(7953),we=$(591),be=$(5397),We=$(5196),Te=$(8071),Ie=$(5334),lt=$(3494);function Qe(St){if(St instanceof B.c)return St;if(null!=St){if((0,Re.l)(St))return function dt(St){return new B.c(ke=>{const it=St[lt.s]();if((0,Te.T)(it.subscribe))return it.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(St);if((0,O.X)(St))return function Rt(St){return new B.c(ke=>{for(let it=0;it<St.length&&!ke.closed;it++)ke.next(St[it]);ke.complete()})}(St);if((0,Y.y)(St))return function Ht(St){return new B.c(ke=>{St.then(it=>{ke.closed||(ke.next(it),ke.complete())},it=>ke.error(it)).then(null,Ie.m)})}(St);if((0,nt.T)(St))return Jt(St);if((0,be.x)(St))return function Bt(St){return new B.c(ke=>{for(const it of St)if(ke.next(it),ke.closed)return;ke.complete()})}(St);if((0,We.U)(St))return function yt(St){return Jt((0,We.C)(St))}(St)}throw(0,we.L)(St)}function Jt(St){return new B.c(ke=>{(function wt(St,ke){var it,Ye,It,qt;return(0,T.sH)(this,void 0,void 0,function*(){try{for(it=(0,T.xN)(St);!(Ye=yield it.next()).done;)if(ke.next(Ye.value),ke.closed)return}catch(Tt){It={error:Tt}}finally{try{Ye&&!Ye.done&&(qt=it.return)&&(yield qt.call(it))}finally{if(It)throw It.error}}ke.complete()})})(St,ke).catch(it=>ke.error(it))})}},9270:(bn,ze,$)=>{"use strict";$.d(ze,{f:()=>T});const T={setTimeout(O,Y,...B){const{delegate:Re}=T;return Re?.setTimeout?Re.setTimeout(O,Y,...B):setTimeout(O,Y,...B)},clearTimeout(O){const{delegate:Y}=T;return(Y?.clearTimeout||clearTimeout)(O)},delegate:void 0}},9326:(bn,ze,$)=>{"use strict";$.d(ze,{lI:()=>Re,ms:()=>B});var T=$(8071),O=$(9470);function Y(we){return we[we.length-1]}function B(we){return(0,T.T)(Y(we))?we.pop():void 0}function Re(we){return(0,O.m)(Y(we))?we.pop():void 0}},9332:(bn,ze,$)=>{"use strict";$.d(ze,{u:()=>Re});var T=$(8032),O=$.n(T),Y=$(1360),B=$(5794);let Re=(()=>{class nt{toastr;constructor(be){this.toastr=be}success(be,We="\xc9xito"){O().fire({icon:"success",title:We,text:be,timer:2e3,showConfirmButton:!1})}error(be,We="Error"){O().fire({icon:"error",title:We,text:be})}warning(be,We="Atenci\xf3n"){O().fire({icon:"warning",title:We,text:be})}info(be,We="Informaci\xf3n"){O().fire({icon:"info",title:We,text:be})}confirm(be,We="\xbfEst\xe1s seguro?"){return O().fire({icon:"question",title:We,text:be,showCancelButton:!0,confirmButtonText:"S\xed",cancelButtonText:"No"})}showToastSuccess(be,We="\xc9xito"){this.toastr.success(be,We)}showToastError(be,We="Error"){this.toastr.error(be,We)}showToastInfo(be,We="Info"){this.toastr.info(be,We)}showToastWarning(be,We="Atenci\xf3n"){this.toastr.warning(be,We)}static \u0275fac=function(We){return new(We||nt)(Y.KVO(B.tw))};static \u0275prov=Y.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})()},9350:(bn,ze,$)=>{"use strict";$.d(ze,{G:()=>O});const O=(0,$(1853).L)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},9361:(bn,ze,$)=>{"use strict";$.d(ze,{q:()=>O});const O=new($(1360).nKC)("")},9377:(bn,ze,$)=>{"use strict";function T(we,be){be=encodeURIComponent(be);for(const We of we.split(";")){const Te=We.indexOf("="),[Ie,lt]=-1==Te?[We,""]:[We.slice(0,Te),We.slice(Te+1)];if(Ie.trim()===be)return decodeURIComponent(lt)}return null}$.d(ze,{N0:()=>nt,Vy:()=>Re,Zn:()=>O,bS:()=>T});const O="browser",Y="server";function Re(we){return we===Y}class nt{}},9437:(bn,ze,$)=>{"use strict";$.d(ze,{W:()=>B});var T=$(8750),O=$(4360),Y=$(9974);function B(Re){return(0,Y.N)((nt,we)=>{let Te,be=null,We=!1;be=nt.subscribe((0,O._)(we,void 0,void 0,Ie=>{Te=(0,T.Tg)(Re(Ie,B(Re)(nt))),be?(be.unsubscribe(),be=null,Te.subscribe(we)):We=!0})),We&&(be.unsubscribe(),be=null,Te.subscribe(we))})}},9470:(bn,ze,$)=>{"use strict";$.d(ze,{m:()=>O});var T=$(8071);function O(Y){return Y&&(0,T.T)(Y.schedule)}},9786:(bn,ze,$)=>{"use strict";$.d(ze,{Y:()=>Y,l:()=>B});var T=$(1026);let O=null;function Y(Re){if(T.$.useDeprecatedSynchronousErrorHandling){const nt=!O;if(nt&&(O={errorThrown:!1,error:null}),Re(),nt){const{errorThrown:we,error:be}=O;if(O=null,we)throw be}}else Re()}function B(Re){T.$.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=Re)}},9858:(bn,ze,$)=>{"use strict";$.d(ze,{y:()=>O});var T=$(8071);function O(Y){return(0,T.T)(Y?.then)}},9885:(bn,ze,$)=>{"use strict";$.d(ze,{D:()=>Te});var T=$(9967),O=$(7673),Y=$(8455),B=$(6354),Re=$(9437),nt=$(5558),we=$(1360),be=$(7643),We=$(4796);let Te=(()=>{class Ie{http;authService;firestore;usersCollectionName="users";constructor(Qe,dt,Rt){this.http=Qe,this.authService=dt,this.firestore=Rt,console.log("%c<<< Start USER service >>>","background: #fff3cd; color: #664d03; padding: 2px 5px;")}getUserProfile(Qe){if(!Qe)return console.warn("\u26a0\ufe0f getUserProfile: UID no proporcionado."),(0,O.of)(void 0);const dt=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${Qe}`);return console.log("\u{1f4c4} Obteniendo perfil para UID:",Qe),(0,T.Bg)(dt).pipe((0,B.T)(Rt=>{if(Rt)return console.log("\u2705 Perfil obtenido:",Rt),{...Rt,uid:Qe};console.warn("\u26a0\ufe0f No se encontr\xf3 perfil para UID:",Qe)}),(0,Re.W)(Rt=>(console.error("\u274c Error al obtener el perfil del usuario:",Rt),(0,O.of)(void 0))))}createUserProfile(Qe){if(!Qe.uid)return(0,Y.H)(Promise.reject("\u274c createUserProfile: UID del usuario es requerido."));const dt=new Date,Rt={...Qe,created_at:dt,createdDate:dt},Ht=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${Qe.uid}`);return console.log("\u{1f4dd} Creando perfil para usuario:",Rt),(0,Y.H)((0,T.BN)(Ht,Rt))}updateUserProfile(Qe,dt){if(!Qe)return(0,Y.H)(Promise.reject("\u274c updateUserProfile: UID no proporcionado."));const Rt=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${Qe}`);return console.log("\u{1f504} Actualizando perfil UID:",Qe,"con datos:",dt),(0,Y.H)((0,T.mZ)(Rt,dt))}deleteUserProfile(Qe){if(!Qe)return(0,Y.H)(Promise.reject("\u274c deleteUserProfile: UID no proporcionado."));const dt=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${Qe}`);return console.log("\u{1f5d1} Eliminando perfil UID:",Qe),(0,Y.H)((0,T.kd)(dt))}getUserData(Qe){return this.authService.getAuthState().pipe((0,nt.n)(dt=>{if(console.log("\u{1f4e1} authService.getAuthState() emiti\xf3:",dt),dt&&dt.uid){const Rt=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${dt.uid}`);return(0,T.Bg)(Rt).pipe((0,B.T)(Ht=>({...Ht,uid:dt.uid})))}return console.warn("\u26a0\ufe0f Usuario no autenticado o sesi\xf3n expirada"),(0,O.of)(null)}))}getAllUsers(){const Qe=(0,T.rJ)(this.firestore,"users");return(0,T.xs)(Qe,{idField:"uid"})}toggleUserStatus(Qe,dt){const Rt=(0,T.H9)(this.firestore,`users/${Qe}`);return(0,T.mZ)(Rt,{activo:dt})}updateUserRole(Qe,dt){const Rt=(0,T.H9)(this.firestore,`users/${Qe}`);return(0,T.mZ)(Rt,{rol:dt})}getCurrentUserUid(){return this.authService.getAuthState().pipe((0,B.T)(Qe=>Qe?.uid||null))}getCurrentUserRole(){return this.authService.getAuthState().pipe((0,nt.n)(Qe=>{if(Qe&&Qe.uid){const dt=(0,T.H9)(this.firestore,`${this.usersCollectionName}/${Qe.uid}`);return(0,T.Bg)(dt).pipe((0,B.T)(Rt=>Rt.rol||null))}return console.warn("\u26a0\ufe0f No hay usuario autenticado"),(0,O.of)(null)}),(0,Re.W)(Qe=>(console.error("\u274c Error al obtener el rol:",Qe),(0,O.of)(null))))}getExecutives(){const Qe=(0,T.P)((0,T.rJ)(this.firestore,this.usersCollectionName),(0,T._M)("rol","==","Ejecutivo"));return(0,T.xs)(Qe,{idField:"uid"})}static \u0275fac=function(dt){return new(dt||Ie)(we.KVO(be.Qq),we.KVO(We.u),we.KVO(T._7))};static \u0275prov=we.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})()},9967:(bn,ze,$)=>{"use strict";$.d(ze,{_7:()=>pt,rJ:()=>fn,xs:()=>Jn,kd:()=>Nr,H9:()=>Xt,Bg:()=>Qn,x7:()=>gi,aU:()=>Xi,hV:()=>oe,P:()=>Ae,BN:()=>et,mZ:()=>Dt,_M:()=>Le});var T=$(2967),O=$(1360),Y=$(7440),B=$(4125),Re=$(6335),nt=$(2214),we=$(3273),be=$(1985),We=$(6354),Te=function(){return Te=Object.assign||function(mt){for(var Ot,on=1,Un=arguments.length;on<Un;on++)for(var ln in Ot=arguments[on])Object.prototype.hasOwnProperty.call(Ot,ln)&&(mt[ln]=Ot[ln]);return mt},Te.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var lt={includeMetadataChanges:!1};function Qe(Et,mt){return void 0===mt&&(mt=lt),new be.c(function(Ot){return{unsubscribe:(0,we.aQ)(Et,mt,{next:Ot.next.bind(Ot),error:Ot.error.bind(Ot),complete:Ot.complete.bind(Ot)})}})}function Rt(Et,mt){return void 0===mt&&(mt={}),function dt(Et){return Qe(Et,{includeMetadataChanges:!0})}(Et).pipe((0,We.T)(function(Ot){return Ht(Ot,mt)}))}function Ht(Et,mt){var Ot;void 0===mt&&(mt={});var on=Et.data(mt);return Et.exists()&&"object"==typeof on&&null!==on&&mt.idField?Te(Te({},on),((Ot={})[mt.idField]=Et.id,Ot)):on}function Vn(Et,mt){return void 0===mt&&(mt={}),function qt(Et){return Qe(Et,{includeMetadataChanges:!0}).pipe((0,We.T)(function(mt){return mt.docs}))}(Et).pipe((0,We.T)(function(Ot){return Ot.map(function(on){return Ht(on,mt)})}))}class pt{constructor(mt){return mt}}const wn="firestore",kt=new O.nKC("angularfire2.firestore-instances");function te(Et){return(mt,Ot)=>{const on=mt.runOutsideAngular(()=>Et(Ot));return new pt(on)}}const he={provide:class Je{constructor(){return(0,T.CA)(wn)}},deps:[[new O.Xx1,kt]]},fe={provide:pt,useFactory:function Ke(Et,mt){const Ot=(0,T.lR)(wn,Et,mt);return Ot&&new pt(Ot)},deps:[[new O.Xx1,kt],Y.XU]};function oe(Et,...mt){return(0,nt.KO)("angularfire",T.xv.full,"fst"),(0,O.EmA)([fe,he,{provide:kt,useFactory:te(Et),multi:!0,deps:[O.SKi,O.zZn,T.u0,Y.gL,[new O.Xx1,Re.DF],[new O.Xx1,B.kR],...mt]}])}const Jn=(0,T.S3)(Vn,!0),Qn=(0,T.S3)(Rt,!0),fn=(0,T.S3)(we.rJ,!0,2),Nr=(0,T.S3)(we.kd,!0,2),Xt=(0,T.S3)(we.H9,!0,2),gi=(0,T.S3)(we.x7,!0),Xi=(0,T.S3)(we.aU,!0),Ae=(0,T.S3)(we.P,!0,2),et=(0,T.S3)(we.BN,!0,2),Dt=(0,T.S3)(we.mZ,!0,2),Le=(0,T.S3)(we._M,!0,2)},9974:(bn,ze,$)=>{"use strict";$.d(ze,{N:()=>Y,S:()=>O});var T=$(8071);function O(B){return(0,T.T)(B?.lift)}function Y(B){return Re=>{if(O(Re))return Re.lift(function(nt){try{return B(nt,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}}},bn=>{bn(bn.s=5961)}]);